Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 147F8391CBB
	for <lists+amd-gfx@lfdr.de>; Wed, 26 May 2021 18:12:10 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7CD1D6E9F8;
	Wed, 26 May 2021 16:12:08 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-ot1-x32e.google.com (mail-ot1-x32e.google.com
 [IPv6:2607:f8b0:4864:20::32e])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 270516E949
 for <amd-gfx@lists.freedesktop.org>; Wed, 26 May 2021 16:12:07 +0000 (UTC)
Received: by mail-ot1-x32e.google.com with SMTP id
 r26-20020a056830121ab02902a5ff1c9b81so1481163otp.11
 for <amd-gfx@lists.freedesktop.org>; Wed, 26 May 2021 09:12:07 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=FUbc9CmKHhHv5XaNH9k3hhvSVNeh0zPptxesV/Gko5c=;
 b=Ef7em0875u8OeFLA7c2ZDJvSMnR3zJgEtbjMQXWBV9rDDs2KyqPYgijEqylh+k0vrJ
 8h3hvCH7SK8SVsJpFytafRVwXZO7Y8o1Q73JP/5Q60XhSbkHusH4oW/sxjJ8oGeDE6y/
 xc8PbASGYNc8WTNDsqj1VtE6AP7aolks7GZpw7Di/hp1lo4D2Zg+xYcgWfwPU4jENuv7
 K7fikNS0TcIzlhLt2GVjRwrw53AudnwMiY/YKESpeauD9NKMamllt1g2VorB7hO6zf8x
 IiC0o42MutpTYA2Y/XyRuuOt+TfhCFc5FtO944Kooi/h7p72vsrqmFqMS18nrC7HQ1Jw
 rXwA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=FUbc9CmKHhHv5XaNH9k3hhvSVNeh0zPptxesV/Gko5c=;
 b=k9Ry74ZjFeujQApzuEmDxVFaVmIcbUBXQhFCXz/DhhSWUawFIWRReO4iKEz1vK5+Tf
 XiFVUb1OOobEIYhR9QdT/k6OW5znNPGj5NrK2wXdGw73pT9GOgpcpGJv1IrGDlIplUBd
 ZB4zkU+KJI1noJoboXLn8ZYtukBIMEdP9mK4k3l2qUYcI2SB2kxDW7PzX+JST1BgITky
 K4Xjrr0xPlsTL70c+gn2eitdiVXVdFtbsu1m4Sp0iS9ucieSDIxDTVrq21vkiUac41Gc
 eLBrIGLmifyPV2qVxrPtTNuMu6ekymLYcRSd0OfkWrg8jxhwHowWOHKzPLzs2+uFdvWL
 O+ew==
X-Gm-Message-State: AOAM530U91KhLqFGjTIpFqp44c6Vtr0DEJebzxa4B1VUh2jYcbGDukY1
 sJVOZbnWFTf29TK5pO4oPKQAjrAuof5FDHvtt5I=
X-Google-Smtp-Source: ABdhPJy0xx+91gaI1O1yaLlm0utpWu43SDhHR9EfcuSmg3A4gQi+j0QIewvGJQ7q1BnvqPgoez4KMgc0/RGaGiFK9vE=
X-Received: by 2002:a9d:74c6:: with SMTP id a6mr3038576otl.132.1622045526415; 
 Wed, 26 May 2021 09:12:06 -0700 (PDT)
MIME-Version: 1.0
References: <20210521211836.4839-1-luben.tuikov@amd.com>
 <20210521211836.4839-3-luben.tuikov@amd.com>
 <CH0PR12MB53487EE4BD75A8B5493F742D97249@CH0PR12MB5348.namprd12.prod.outlook.com>
 <823691d6-3301-4b56-3dc8-f82f66f04ef7@amd.com>
 <CH0PR12MB5348BA69879C38A49D6965F997249@CH0PR12MB5348.namprd12.prod.outlook.com>
In-Reply-To: <CH0PR12MB5348BA69879C38A49D6965F997249@CH0PR12MB5348.namprd12.prod.outlook.com>
From: Alex Deucher <alexdeucher@gmail.com>
Date: Wed, 26 May 2021 12:11:55 -0400
Message-ID: <CADnq5_MWnT+0_m0e9SU7zqQb612yP5aVB0XcN5Ocw_kxeTs9bQ@mail.gmail.com>
Subject: Re: [PATCH 3/3] drm/amdgpu: Use delayed work to collect RAS error
 counters
To: "Lazar, Lijo" <Lijo.Lazar@amd.com>
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>, "Tuikov,
 Luben" <Luben.Tuikov@amd.com>, "Deucher,
 Alexander" <Alexander.Deucher@amd.com>, "Clements,
 John" <John.Clements@amd.com>, "Koenig, Christian" <Christian.Koenig@amd.com>,
 "Zhang, Hawking" <Hawking.Zhang@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

SXNuJ3QgdGhhdCBraW5kIHdoYXQgdGhpcyBwYXRjaCBkb2VzPyAgV2hlbiB0aGUgYXBwIGlzIHJ1
bm5pbmcsIHRoZXNlCklPQ1RMIGNhbGxzIGFyZSBoYXBwZW5pbmcgYXQgcmVndWxhciBpbnRlcnZh
bHMsIHNvIGlmIHdlIHNjaGVkdWxlCndvcmssIHRoZSBjYWNoZSBzaG91bGQgYmUgdXBkYXRlZCBi
eSB0aGUgbmV4dCB0aW1lIHdlIGdldCB0aGUgSU9DVEwKY2FsbC4gIEknbSBub3Qgc3VyZSBob3cg
d2Ugd291bGQgdHJpZ2dlciB0aGUgZXZlbnRzLiAgSSBkb24ndCB0aGluawppbnRlcnJ1cHRzIG9u
IGNvcnJlY3RhYmxlIGVycm9ycyBtYWtlIHNlbnNlLgoKQWxleAoKT24gV2VkLCBNYXkgMjYsIDIw
MjEgYXQgMTI6MDUgUE0gTGF6YXIsIExpam8gPExpam8uTGF6YXJAYW1kLmNvbT4gd3JvdGU6Cj4K
PiBbQU1EIE9mZmljaWFsIFVzZSBPbmx5XQo+Cj4KPiBIaSBMdWJlbiwKPgo+IFdoYXQgSSBtZWFu
dCBieSBldmVudCBiYXNlZCBpcyBhIHRocmVhZCB3YWl0aW5nIG9uIHdhaXQgcXVldWUgZm9yIGV2
ZW50cywgbm90IGEgcGVyaW9kaWMgcG9sbGluZyBhcyB5b3UgaGFkIGluIHRoZSBvcmlnaW5hbCBw
YXRjaC4gSXQgc3RpbGwgZmV0Y2hlcyB0aGUgY2FjaGVkIGRhdGEgb24gSU9DVEwgYnV0IGFsc28g
dHJpZ2dlcnMgYW4gZXZlbnQgdG8gcG9sbCBmb3IgbmV3IGVycm9ycy4gU2ltaWxhcmx5LCBhIHBl
cmlvZGljIGVycm9yIGhhbmRsZXIgcnVubmluZyB0byBoYW5kbGUgdGhyZXNob2xkIGVycm9ycyBh
bHNvIGNvdWxkIHRyaWdnZXIgZXZlbnQuIEJhc2ljYWxseSwgZXJyb3IgZGF0YSBmZXRjaCBpcyBj
ZW50cmFsaXplZCB0byB0aGUgdGhyZWFkLgo+Cj4gSXQncyBqdXN0IGEgZGlmZmVyZW50IGFwcHJv
YWNoLCBkb24ndCBrbm93IGlmIHRoYXQgd2lsbCBtYWtlIHRoaW5ncyBtb3JlIGNvbXBsZXguCj4K
PiBUaGFua3MsCj4gTGlqbwo+IF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCj4gRnJv
bTogVHVpa292LCBMdWJlbiA8THViZW4uVHVpa292QGFtZC5jb20+Cj4gU2VudDogV2VkbmVzZGF5
LCBNYXkgMjYsIDIwMjEgODo0MjoyOSBQTQo+IFRvOiBMYXphciwgTGlqbyA8TGlqby5MYXphckBh
bWQuY29tPjsgYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcgPGFtZC1nZnhAbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnPgo+IENjOiBEZXVjaGVyLCBBbGV4YW5kZXIgPEFsZXhhbmRlci5EZXVjaGVy
QGFtZC5jb20+OyBDbGVtZW50cywgSm9obiA8Sm9obi5DbGVtZW50c0BhbWQuY29tPjsgS29lbmln
LCBDaHJpc3RpYW4gPENocmlzdGlhbi5Lb2VuaWdAYW1kLmNvbT47IFpoYW5nLCBIYXdraW5nIDxI
YXdraW5nLlpoYW5nQGFtZC5jb20+Cj4gU3ViamVjdDogUmU6IFtQQVRDSCAzLzNdIGRybS9hbWRn
cHU6IFVzZSBkZWxheWVkIHdvcmsgdG8gY29sbGVjdCBSQVMgZXJyb3IgY291bnRlcnMKPgo+IE9u
IDIwMjEtMDUtMjYgNzowMCBhLm0uLCBMYXphciwgTGlqbyB3cm90ZToKPiA+IFtBTUQgT2ZmaWNp
YWwgVXNlIE9ubHldCj4gPgo+ID4gU2NoZWR1bGluZyBhbiBlcnJvciBzdGF0dXMgcXVlcnkganVz
dCBiYXNlZCBvbiBJT0NUTCBkb2Vzbid0IHNvdW5kIGxpa2UgYSBzb3VuZCBhcHByb2FjaC4gV2hh
dCBpZiBkcml2ZXIgbmVlZHMgdG8gaGFuZGxlIGVycm9ycyBiYXNlZCBvbiB0aGF0IC0gZm9yIGV4
OiBpZiB0aGUgbnVtYmVyIG9mIGNvcnJlY3RhYmxlIGVycm9ycyBleGNlZWQgYSBjZXJ0YWluIHRo
cmVzaG9sZD8KPiBUaGF0J3MgZXhhY3RseSB0aGUgdHJpZ2dlciB3aGljaCBldm9rZXMgdGhlIGVy
cm9yIGNvdW50IHByb2NlZHVyZS4gVGhlIGRpZmZlcmVuY2UgaXMgdGhhdCBvbiB0aGF0IElPQ1RM
LAo+IHdlIHJldHVybiBpbiBPKDEpLCB0aGUgY2FjaGVkIHZhbHVlcyBhbmQgdGhlbiB0cmlnZ2Vy
IHRoZSBjb3VudGluZyBwcm9jZWR1cmUgaW4gYSBkZWxheWVkIHdvcmsgaXRlbSwKPiBzaW5jZSBp
dCB0YWtlcyAgTyhuXjMpIGFuZCB3ZSBjYW5ub3QgZG8gaXQgd2hlbiB0aGUgSU9DVEwgaXMgYmVp
bmcgcHJvY2Vzc2VkIGFzIHRoYXQgbmVnYXRpdmVseQo+IGFmZmVjdHMgdGhlIHVzZXIgZXhwZXJp
ZW5jZSwgYW5kIHRoZSBvdmVyYWxsIGFnaWxpdHkgb2YgdGhlIHN5c3RlbS4KPgo+IFRoaXMgaXMg
dGhlIGNsb3Nlc3QgaW1wbGVtZW50YXRpb24gdG8gd2hhdCB3YXMgaGFkIGJlZm9yZSB3aGVuIHRo
ZSBjb3VudCB3YXMgdHJpZ2dlciBhdCB0aGUgSU9DVEwgdGltZSwKPiBhbmQgdGhlIElPQ1RMIGJs
b2NrZWQgdW50aWwgdGhlIGNvdW50IHdhcyBjb21wbGV0ZWQuCj4KPiBBY3Rpbmcgb24gZXhjZWVk
aW5nIGEgY2VydGFpbiB0aHJlc2hvbGQgaXMgZmluZSwgc2luY2Ugd2UncmUgbm90IGNvbXBldGlu
ZyBhZ2FpbnN0IHRoZSBkZWx0YQo+IG9mIHRoZSBleGNlc3NpdmUgYW1vdW50IG9mIGVycm9ycywg
anVzdCBzbyBsb25nIGFzIGl0IGRvZXMgZXhjZWVkLiBUaGF0IGlzLCBzbyBsb25nIGFzIGl0IGV4
Y2VlZHMsCj4gZG8gc29tZXRoaW5nLCB3ZSBkb24ndCByZWFsbHkgY2FyZSBpZiBpdCBleGNlZWRz
IGJ5IGRlbHRhIG9yIDEwKmRlbHRhLgo+Cj4gQnV0IHdoYXQgaXMgaW1wb3J0YW50LCBpcyB0aGUg
X3RpbWVfIGZyZXF1ZW5jeSBvZiB0aGUgZGVsYXllZCB3b3JrLCBBTURHUFVfUkFTX0NPVU5URV9E
RUxBWV9NUywKPiBpbiBteSB2MiBvZiB0aGlzIHBhdGNoLiBXaGVuIHNldCB0byAwLCBpLmUuIGNv
dW50IGFzIHNvb24gYXMgcG9zc2libGUsIHdlIGdldCBhYm91dCAyMiUgZHV0eSBjeWNsZSBvZgo+
IHRoZSBDUFUganVzdCBkb2luZyB0aGF0LCBhbGwgdGhlIHRpbWUsIGFzIGl0IHNlZW1zIHRoaXMg
SU9DVEwgaXMgYmVpbmcgY2FsbGVkIGNvbnN0YW50bHksIGFuZCB0aHVzCj4gdGhlIGNvdW50aW5n
IHRha2VzIHBsYWNlIGFsbCB0aGUgdGltZSwgY29udGludW91c2x5LiBBbmQgdGhpcyBpc24ndCBn
b29kIGZvciB0aGUgc3lzdGVtJ3MgcGVyZm9ybWFuY2UKPiBhbmQgcG93ZXIgbWFuYWdlbWVudC4K
Pgo+IFdoZW4gc2V0IHRvIDMgc2Vjb25kcywgd2UgZ2V0IGEgbm9ybWFsIChleHBlY3RlZCkgc3lz
dGVtIGJlaGF2aW91ciBpbiBWZWdhMjAgc2V2ZXIgYm9hcmRzLgo+Cj4gPiBJTU8sIEknbSBtb3Jl
IGFsaWduZWQgdG8gTHViZW4ncyBvcmlnaW5hbCBhcHByb2FjaCBvZiBoYXZpbmcgc29tZXRoaW5n
IHdhaXRpbmcgaW4gdGhlIGJhY2tncm91bmQgLSBpbnN0ZWFkIG9mIGEgcGVyaW9kaWMgdGltZXIg
YmFzZWQgdHJpZ2dlciwgaXQgY291bGQgYmUgYW4gZXZlbnQgYmFzZWQgdHJpZ2dlci4gIEV2ZW50
IG1heSBiZSBhbiBpb2N0bCwgZXJyb3IgaGFuZGxlciB0aW1lciB0aWNrcyBvciBzb21ldGhpbmcg
ZWxzZS4KPgo+IFdlbGwsIG15IG9yaWdpbmFsIGlkZWEgYnJva2UgcG93ZXIgbWFuYWdlbWVudCAo
UE0pLCBzaW5jZSBpdCByYW4gY29udGludW91c2x5Cj4gcmVnYXJkbGVzcyBvZiBQTSBhbmQgd2hl
dGhlciB3ZSBpbmRlZWQgbmVlZCB0aGUgY291bnQuCj4KPiBOb3csIHdoZW4geW91IHNheSAiRXZl
bnQgbWF5IGJlIGFuIGlvY3RsIi0tdGhpcyBpcyBleGFjdGx5IHdoYXQsCj4KPiAxKSB3YXMgaGFk
IGJlZm9yZSwgaW50ZXJsb2NrZWQsIGFuZCBpdCBtYWRlIHRoZSBzeXN0ZW0gdW51c2FibGUgdG8g
YSBHVUkgdXNlciwgYW5kCj4gMikgaXMgd2hhdCB3ZSBoYXZlIGluIHRoaXMgcGF0Y2gsIGJ1dCB3
ZSBwcm9jZXNzIHRoZSBjb3VudCBhc3luY2hyb25vdXNseSwgd2hpbGUKPiAgICAgd2UgcmV0dXJu
IHRoZSBPKDEpIGNvdW50IGluc3RhbnRseS4KPgo+IFRoZSBhZHZhbnRhZ2Ugb2YgMikgb3ZlciBt
eSBvcmlnaW5hbCBhcHByb2FjaCwgaXMgdGhhdCB0aGUgY291bnQgaXMgdHJpZ2dlcmVkIG9ubHkK
PiBvbiBJT0NUTCBjYWxsLCBhbGJlaXQgZGVsYXllZCBzbyB0aGF0IHdlIGNhbiByZXR1cm4gaW4g
TygxKSB0aGUgY2FjaGVkIHZhbHVlLiBUaHVzLAo+IGlmIG5vIFFVRVJZMiBJT0NUTCBpcyByZWNl
aXZlZCwgdGhlbiB3ZSBkb24ndCBjb3VudCB0aGUgZXJyb3JzLCBhcyB3ZSBkb24ndCBzY2hlZHVs
ZQo+IHRoZSBkZWxheWVkIHdvcmsuCj4KPiBSZWdhcmRzLAo+IEx1YmVuCj4KPiA+IFRoYW5rcywK
PiA+IExpam8KPiA+Cj4gPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQo+ID4gRnJvbTogYW1k
LWdmeCA8YW1kLWdmeC1ib3VuY2VzQGxpc3RzLmZyZWVkZXNrdG9wLm9yZz4gT24gQmVoYWxmIE9m
IEx1YmVuIFR1aWtvdgo+ID4gU2VudDogU2F0dXJkYXksIE1heSAyMiwgMjAyMSAyOjQ5IEFNCj4g
PiBUbzogYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKPiA+IENjOiBEZXVjaGVyLCBBbGV4
YW5kZXIgPEFsZXhhbmRlci5EZXVjaGVyQGFtZC5jb20+OyBUdWlrb3YsIEx1YmVuIDxMdWJlbi5U
dWlrb3ZAYW1kLmNvbT47IENsZW1lbnRzLCBKb2huIDxKb2huLkNsZW1lbnRzQGFtZC5jb20+OyBL
b2VuaWcsIENocmlzdGlhbiA8Q2hyaXN0aWFuLktvZW5pZ0BhbWQuY29tPjsgWmhhbmcsIEhhd2tp
bmcgPEhhd2tpbmcuWmhhbmdAYW1kLmNvbT4KPiA+IFN1YmplY3Q6IFtQQVRDSCAzLzNdIGRybS9h
bWRncHU6IFVzZSBkZWxheWVkIHdvcmsgdG8gY29sbGVjdCBSQVMgZXJyb3IgY291bnRlcnMKPiA+
Cj4gPiBPbiBDb250ZXh0IFF1ZXJ5MiBJT0NUTCByZXR1cm4gdGhlIGNvcnJlY3RhYmxlIGFuZCB1
bmNvcnJlY3RhYmxlIGVycm9ycyBpbiBPKDEpIGZhc2hpb24sIGZyb20gY2FjaGVkIHZhbHVlcywg
YW5kIHNjaGVkdWxlIGEgZGVsYXllZCB3b3JrIGZ1bmN0aW9uIHRvIGNhbGN1bGF0ZSBhbmQgY2Fj
aGUgdGhlbSBmb3IgdGhlIG5leHQgc3VjaCBJT0NUTC4KPiA+Cj4gPiBDYzogQWxleGFuZGVyIERl
dWNoZXIgPEFsZXhhbmRlci5EZXVjaGVyQGFtZC5jb20+Cj4gPiBDYzogQ2hyaXN0aWFuIEvDtm5p
ZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPgo+ID4gQ2M6IEpvaG4gQ2xlbWVudHMgPGpvaG4u
Y2xlbWVudHNAYW1kLmNvbT4KPiA+IENjOiBIYXdraW5nIFpoYW5nIDxIYXdraW5nLlpoYW5nQGFt
ZC5jb20+Cj4gPiBTaWduZWQtb2ZmLWJ5OiBMdWJlbiBUdWlrb3YgPGx1YmVuLnR1aWtvdkBhbWQu
Y29tPgo+ID4gLS0tCj4gPiAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2N0eC5j
IHwgMzIgKysrKysrKysrKysrKysrKysrKy0tICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9h
bWRncHVfcmFzLmMgfCAzOCArKysrKysrKysrKysrKysrKysrKysrKysrICBkcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHVfcmFzLmggfCAgNSArKysrCj4gPiAgMyBmaWxlcyBjaGFuZ2Vk
LCA3MyBpbnNlcnRpb25zKCspLCAyIGRlbGV0aW9ucygtKQo+ID4KPiA+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfY3R4LmMgYi9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfY3R4LmMKPiA+IGluZGV4IGJiMGNmZTg3MWFiYS4uNGU5NWQyNTU5
NjBiIDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2N0
eC5jCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfY3R4LmMKPiA+
IEBAIC0zMzEsMTAgKzMzMSwxMyBAQCBzdGF0aWMgaW50IGFtZGdwdV9jdHhfcXVlcnkoc3RydWN0
IGFtZGdwdV9kZXZpY2UgKmFkZXYsCj4gPiAgICAgICAgcmV0dXJuIDA7Cj4gPiAgfQo+ID4KPiA+
ICsjZGVmaW5lIEFNREdQVV9SQVNfQ09VTlRFX0RFTEFZX01TIDMwMDAKPiA+ICsKPiA+ICBzdGF0
aWMgaW50IGFtZGdwdV9jdHhfcXVlcnkyKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LAo+ID4g
LSAgICAgc3RydWN0IGFtZGdwdV9mcHJpdiAqZnByaXYsIHVpbnQzMl90IGlkLAo+ID4gLSAgICAg
dW5pb24gZHJtX2FtZGdwdV9jdHhfb3V0ICpvdXQpCj4gPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICBzdHJ1Y3QgYW1kZ3B1X2Zwcml2ICpmcHJpdiwgdWludDMyX3QgaWQsCj4gPiArICAgICAg
ICAgICAgICAgICAgICAgICAgICB1bmlvbiBkcm1fYW1kZ3B1X2N0eF9vdXQgKm91dCkKPiA+ICB7
Cj4gPiArICAgICBzdHJ1Y3QgYW1kZ3B1X3JhcyAqY29uID0gYW1kZ3B1X3Jhc19nZXRfY29udGV4
dChhZGV2KTsKPiA+ICAgICAgICBzdHJ1Y3QgYW1kZ3B1X2N0eCAqY3R4Owo+ID4gICAgICAgIHN0
cnVjdCBhbWRncHVfY3R4X21nciAqbWdyOwo+ID4KPiA+IEBAIC0zNjEsNiArMzY0LDMxIEBAIHN0
YXRpYyBpbnQgYW1kZ3B1X2N0eF9xdWVyeTIoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCj4g
PiAgICAgICAgaWYgKGF0b21pY19yZWFkKCZjdHgtPmd1aWx0eSkpCj4gPiAgICAgICAgICAgICAg
ICBvdXQtPnN0YXRlLmZsYWdzIHw9IEFNREdQVV9DVFhfUVVFUlkyX0ZMQUdTX0dVSUxUWTsKPiA+
Cj4gPiArICAgICBpZiAoYWRldi0+cmFzX2VuYWJsZWQgJiYgY29uKSB7Cj4gPiArICAgICAgICAg
ICAgIC8qIFJldHVybiB0aGUgY2FjaGVkIHZhbHVlcyBpbiBPKDEpLAo+ID4gKyAgICAgICAgICAg
ICAgKiBhbmQgc2NoZWR1bGUgZGVsYXllZCB3b3JrIHRvIGNhY2hlCj4gPiArICAgICAgICAgICAg
ICAqIG5ldyB2YXVlcy4KPiA+ICsgICAgICAgICAgICAgICovCj4gPiArICAgICAgICAgICAgIGlu
dCBjZV9jb3VudCwgdWVfY291bnQ7Cj4gPiArCj4gPiArICAgICAgICAgICAgIGNlX2NvdW50ID0g
YXRvbWljX3JlYWQoJmNvbi0+cmFzX2NlX2NvdW50KTsKPiA+ICsgICAgICAgICAgICAgdWVfY291
bnQgPSBhdG9taWNfcmVhZCgmY29uLT5yYXNfdWVfY291bnQpOwo+ID4gKwo+ID4gKyAgICAgICAg
ICAgICBpZiAoY2VfY291bnQgIT0gY3R4LT5yYXNfY291bnRlcl9jZSkgewo+ID4gKyAgICAgICAg
ICAgICAgICAgICAgIGN0eC0+cmFzX2NvdW50ZXJfY2UgPSBjZV9jb3VudDsKPiA+ICsgICAgICAg
ICAgICAgICAgICAgICBvdXQtPnN0YXRlLmZsYWdzIHw9IEFNREdQVV9DVFhfUVVFUlkyX0ZMQUdT
X1JBU19DRTsKPiA+ICsgICAgICAgICAgICAgfQo+ID4gKwo+ID4gKyAgICAgICAgICAgICBpZiAo
dWVfY291bnQgIT0gY3R4LT5yYXNfY291bnRlcl91ZSkgewo+ID4gKyAgICAgICAgICAgICAgICAg
ICAgIGN0eC0+cmFzX2NvdW50ZXJfdWUgPSB1ZV9jb3VudDsKPiA+ICsgICAgICAgICAgICAgICAg
ICAgICBvdXQtPnN0YXRlLmZsYWdzIHw9IEFNREdQVV9DVFhfUVVFUlkyX0ZMQUdTX1JBU19VRTsK
PiA+ICsgICAgICAgICAgICAgfQo+ID4gKwo+ID4gKyAgICAgICAgICAgICBpZiAoIWRlbGF5ZWRf
d29ya19wZW5kaW5nKCZjb24tPnJhc19jb3VudGVfZGVsYXlfd29yaykpCj4gPiArICAgICAgICAg
ICAgICAgICAgICAgc2NoZWR1bGVfZGVsYXllZF93b3JrKCZjb24tPnJhc19jb3VudGVfZGVsYXlf
d29yaywKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNlY3NfdG9famlmZmll
cyhBTURHUFVfUkFTX0NPVU5URV9ERUxBWV9NUykpOwo+ID4gKyAgICAgfQo+ID4gKwo+ID4gICAg
ICAgIG11dGV4X3VubG9jaygmbWdyLT5sb2NrKTsKPiA+ICAgICAgICByZXR1cm4gMDsKPiA+ICB9
Cj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3Jhcy5j
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3Jhcy5jCj4gPiBpbmRleCBlZDNj
NDNlOGIwYjUuLjgwZjU3NjA5ODMxOCAxMDA2NDQKPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2FtZGdwdV9yYXMuYwo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X3Jhcy5jCj4gPiBAQCAtMjcsNiArMjcsNyBAQAo+ID4gICNpbmNsdWRlIDxsaW51
eC91YWNjZXNzLmg+Cj4gPiAgI2luY2x1ZGUgPGxpbnV4L3JlYm9vdC5oPgo+ID4gICNpbmNsdWRl
IDxsaW51eC9zeXNjYWxscy5oPgo+ID4gKyNpbmNsdWRlIDxsaW51eC9wbV9ydW50aW1lLmg+Cj4g
Pgo+ID4gICNpbmNsdWRlICJhbWRncHUuaCIKPiA+ICAjaW5jbHVkZSAiYW1kZ3B1X3Jhcy5oIgo+
ID4gQEAgLTIxMTYsNiArMjExNywzMCBAQCBzdGF0aWMgdm9pZCBhbWRncHVfcmFzX2NoZWNrX3N1
cHBvcnRlZChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKPiA+ICAgICAgICAgICAgICAgIGFk
ZXYtPnJhc19od19lbmFibGVkICYgYW1kZ3B1X3Jhc19tYXNrOyAgfQo+ID4KPiA+ICtzdGF0aWMg
dm9pZCBhbWRncHVfcmFzX2NvdW50ZV9kdyhzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspIHsKPiA+
ICsgICAgIHN0cnVjdCBhbWRncHVfcmFzICpjb24gPSBjb250YWluZXJfb2Yod29yaywgc3RydWN0
IGFtZGdwdV9yYXMsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHJhc19jb3VudGVfZGVsYXlfd29yay53b3JrKTsKPiA+ICsgICAgIHN0cnVjdCBhbWRncHVf
ZGV2aWNlICphZGV2ID0gY29uLT5hZGV2Owo+ID4gKyAgICAgc3RydWN0IGRybV9kZXZpY2UgKmRl
diA9ICZhZGV2LT5kZGV2Owo+ID4gKyAgICAgdW5zaWduZWQgbG9uZyBjZV9jb3VudCwgdWVfY291
bnQ7Cj4gPiArICAgICBpbnQgcmVzOwo+ID4gKwo+ID4gKyAgICAgcmVzID0gcG1fcnVudGltZV9n
ZXRfc3luYyhkZXYtPmRldik7Cj4gPiArICAgICBpZiAocmVzIDwgMCkKPiA+ICsgICAgICAgICAg
ICAgZ290byBPdXQ7Cj4gPiArCj4gPiArICAgICAvKiBDYWNoZSBuZXcgdmFsdWVzLgo+ID4gKyAg
ICAgICovCj4gPiArICAgICBhbWRncHVfcmFzX3F1ZXJ5X2Vycm9yX2NvdW50KGFkZXYsICZjZV9j
b3VudCwgJnVlX2NvdW50KTsKPiA+ICsgICAgIGF0b21pY19zZXQoJmNvbi0+cmFzX2NlX2NvdW50
LCBjZV9jb3VudCk7Cj4gPiArICAgICBhdG9taWNfc2V0KCZjb24tPnJhc191ZV9jb3VudCwgdWVf
Y291bnQpOwo+ID4gKwo+ID4gKyAgICAgcG1fcnVudGltZV9tYXJrX2xhc3RfYnVzeShkZXYtPmRl
dik7Cj4gPiArT3V0Ogo+ID4gKyAgICAgcG1fcnVudGltZV9wdXRfYXV0b3N1c3BlbmQoZGV2LT5k
ZXYpOwo+ID4gK30KPiA+ICsKPiA+ICBpbnQgYW1kZ3B1X3Jhc19pbml0KHN0cnVjdCBhbWRncHVf
ZGV2aWNlICphZGV2KSAgewo+ID4gICAgICAgIHN0cnVjdCBhbWRncHVfcmFzICpjb24gPSBhbWRn
cHVfcmFzX2dldF9jb250ZXh0KGFkZXYpOyBAQCAtMjEzMCw2ICsyMTU1LDExIEBAIGludCBhbWRn
cHVfcmFzX2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCj4gPiAgICAgICAgaWYgKCFj
b24pCj4gPiAgICAgICAgICAgICAgICByZXR1cm4gLUVOT01FTTsKPiA+Cj4gPiArICAgICBjb24t
PmFkZXYgPSBhZGV2Owo+ID4gKyAgICAgSU5JVF9ERUxBWUVEX1dPUksoJmNvbi0+cmFzX2NvdW50
ZV9kZWxheV93b3JrLCBhbWRncHVfcmFzX2NvdW50ZV9kdyk7Cj4gPiArICAgICBhdG9taWNfc2V0
KCZjb24tPnJhc19jZV9jb3VudCwgMCk7Cj4gPiArICAgICBhdG9taWNfc2V0KCZjb24tPnJhc191
ZV9jb3VudCwgMCk7Cj4gPiArCj4gPiAgICAgICAgY29uLT5vYmpzID0gKHN0cnVjdCByYXNfbWFu
YWdlciAqKShjb24gKyAxKTsKPiA+Cj4gPiAgICAgICAgYW1kZ3B1X3Jhc19zZXRfY29udGV4dChh
ZGV2LCBjb24pOwo+ID4gQEAgLTIyMzMsNiArMjI2Myw4IEBAIGludCBhbWRncHVfcmFzX2xhdGVf
aW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKPiA+ICAgICAgICAgICAgICAgICAgICAg
ICAgIHN0cnVjdCByYXNfZnNfaWYgKmZzX2luZm8sCj4gPiAgICAgICAgICAgICAgICAgICAgICAg
ICBzdHJ1Y3QgcmFzX2loX2lmICppaF9pbmZvKQo+ID4gIHsKPiA+ICsgICAgIHN0cnVjdCBhbWRn
cHVfcmFzICpjb24gPSBhbWRncHVfcmFzX2dldF9jb250ZXh0KGFkZXYpOwo+ID4gKyAgICAgdW5z
aWduZWQgbG9uZyB1ZV9jb3VudCwgY2VfY291bnQ7Cj4gPiAgICAgICAgaW50IHI7Cj4gPgo+ID4g
ICAgICAgIC8qIGRpc2FibGUgUkFTIGZlYXR1cmUgcGVyIElQIGJsb2NrIGlmIGl0IGlzIG5vdCBz
dXBwb3J0ZWQgKi8gQEAgLTIyNzMsNiArMjMwNSwxMiBAQCBpbnQgYW1kZ3B1X3Jhc19sYXRlX2lu
aXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCj4gPiAgICAgICAgaWYgKHIpCj4gPiAgICAg
ICAgICAgICAgICBnb3RvIHN5c2ZzOwo+ID4KPiA+ICsgICAgIC8qIFRob3NlIGFyZSB0aGUgY2Fj
aGVkIHZhbHVlcyBhdCBpbml0Lgo+ID4gKyAgICAgICovCj4gPiArICAgICBhbWRncHVfcmFzX3F1
ZXJ5X2Vycm9yX2NvdW50KGFkZXYsICZjZV9jb3VudCwgJnVlX2NvdW50KTsKPiA+ICsgICAgIGF0
b21pY19zZXQoJmNvbi0+cmFzX2NlX2NvdW50LCBjZV9jb3VudCk7Cj4gPiArICAgICBhdG9taWNf
c2V0KCZjb24tPnJhc191ZV9jb3VudCwgdWVfY291bnQpOwo+ID4gKwo+ID4gICAgICAgIHJldHVy
biAwOwo+ID4gIGNsZWFudXA6Cj4gPiAgICAgICAgYW1kZ3B1X3Jhc19zeXNmc19yZW1vdmUoYWRl
diwgcmFzX2Jsb2NrKTsgZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV9yYXMuaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9yYXMuaAo+ID4g
aW5kZXggMTBmY2EwMzkzMTA2Li4yNTZjZWE1ZDM0ZjIgMTAwNjQ0Cj4gPiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfcmFzLmgKPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV9yYXMuaAo+ID4gQEAgLTM0MCw2ICszNDAsMTEgQEAgc3RydWN0
IGFtZGdwdV9yYXMgewo+ID4KPiA+ICAgICAgICAvKiBkaXNhYmxlIHJhcyBlcnJvciBjb3VudCBo
YXJ2ZXN0IGluIHJlY292ZXJ5ICovCj4gPiAgICAgICAgYm9vbCBkaXNhYmxlX3Jhc19lcnJfY250
X2hhcnZlc3Q7Cj4gPiArCj4gPiArICAgICAvKiBSQVMgY291bnQgZXJyb3JzIGRlbGF5ZWQgd29y
ayAqLwo+ID4gKyAgICAgc3RydWN0IGRlbGF5ZWRfd29yayByYXNfY291bnRlX2RlbGF5X3dvcms7
Cj4gPiArICAgICBhdG9taWNfdCByYXNfdWVfY291bnQ7Cj4gPiArICAgICBhdG9taWNfdCByYXNf
Y2VfY291bnQ7Cj4gPiAgfTsKPiA+Cj4gPiAgc3RydWN0IHJhc19mc19kYXRhIHsKPiA+IC0tCj4g
PiAyLjMxLjEuNTI3LmcyZDY3N2U1YjE1Cj4gPgo+ID4gX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX18KPiA+IGFtZC1nZnggbWFpbGluZyBsaXN0Cj4gPiBhbWQt
Z2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwo+ID4gaHR0cHM6Ly9uYW0xMS5zYWZlbGlua3MucHJv
dGVjdGlvbi5vdXRsb29rLmNvbS8/dXJsPWh0dHBzJTNBJTJGJTJGbGlzdHMuZnJlZWRlc2t0b3Au
b3JnJTJGbWFpbG1hbiUyRmxpc3RpbmZvJTJGYW1kLWdmeCZhbXA7ZGF0YT0wNCU3QzAxJTdDbGlq
by5sYXphciU0MGFtZC5jb20lN0MzNjg2MDE1ZjY4Zjg0YzkwODhhYjA4ZDkxYzllMGZjZiU3QzNk
ZDg5NjFmZTQ4ODRlNjA4ZTExYTgyZDk5NGUxODNkJTdDMCU3QzAlN0M2Mzc1NzIyODc0NjU3ODgw
MjElN0NVbmtub3duJTdDVFdGcGJHWnNiM2Q4ZXlKV0lqb2lNQzR3TGpBd01EQWlMQ0pRSWpvaVYy
bHVNeklpTENKQlRpSTZJazFoYVd3aUxDSlhWQ0k2TW4wJTNEJTdDMTAwMCZhbXA7c2RhdGE9SGJk
dHJ5VE5Md3pGODYydmc2RSUyQndLQkhtcnc4TkZ6M2dLUXNVOWdnZE9rJTNEJmFtcDtyZXNlcnZl
ZD0wCj4KPiBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwo+
IGFtZC1nZnggbWFpbGluZyBsaXN0Cj4gYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKPiBo
dHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZngKX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWls
aW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVl
ZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4Cg==
