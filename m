Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id B6F5453C8DB
	for <lists+amd-gfx@lfdr.de>; Fri,  3 Jun 2022 12:41:08 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D971E10E8C9;
	Fri,  3 Jun 2022 10:41:05 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM12-BN8-obe.outbound.protection.outlook.com
 (mail-bn8nam12on2045.outbound.protection.outlook.com [40.107.237.45])
 by gabe.freedesktop.org (Postfix) with ESMTPS id BBDE810E8C9
 for <amd-gfx@lists.freedesktop.org>; Fri,  3 Jun 2022 10:41:04 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=SzKOKJ5cFT8hI9zUUWWiOnRykc1Cxgz7kyAiuO53/eBmyfUEbeb1PzB0KUep4DWqoa9xMBZNn2OScKtPTLYQQ4yACWQWN+G8X3CYR7C0WCrgo3sVybcfBbXTvOCWYsQmMsSPN2gGtttiooXiEv8wEoWaQosKR3TlsTDusQIs+Avl/k2eBIukDNdnDrxYKySaLHrXyVdSvhvVuC3a1/j3m17irD2c1BNjauvbFOox7NIHQzGi29HuJ0k+rutkG9PaCqotrtfhgC3QRDn+WPhkJCQkmUgsJjP51RXvIS3Tj5rr/l7AmWcsYcdF1xa5iUdc0YIbYlUSnBCp4mxgX3YlQA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=FFthisHDMXGC9DYWWdzuXrFHcTs/of/Rcvu4Z4G58EA=;
 b=Rku1C7t5a9axc2jlPunMYgNnlyBD5/ZFiD17TGKoFIdk9gYfUsrkJ3lVGByGM2N2upRra8bEPVAjf6FMCd+wIWIbUtTLyKvPHlkKnxSaGjXgD9rI7Dwng5Gh2jYxkoWq4ichIniTx4nBjPl1FIfk37Jr+EvqVp9nRChCRwoPcdoiO2GNStQ3DvSOqCyrerUdTq+bBMztNUcoF6jFEvQzJw5oKIc+gZIoPFYc4nB4SwjhPe1VB81qTX65OEwICqDtFblZNpMrQp+GGCve0uvqQcyf+PyRKoNSe7nzxlUxoPrGtK5yFWrNqkINF+icon36j7DfIcwFZaegP9hY9SpqRQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=amd.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=FFthisHDMXGC9DYWWdzuXrFHcTs/of/Rcvu4Z4G58EA=;
 b=ZcEDCPwsV3wfgn461dPZGeTfTPtaPnIqsJRnHOlXKIBkFl7rJFY2b+TM53xpIZkSghipd8bJYaByBdUgUsGNg7sRpjCIr2p2KEsDi0AiTfmZzIPPOH0m72Y97x1kvhTDpEn7DRSlzm/9j5/z6Mke2zplODm1/KrPXhzs28/pS9s=
Received: from SN1PR12MB2575.namprd12.prod.outlook.com (2603:10b6:802:25::14)
 by BN6PR1201MB2480.namprd12.prod.outlook.com (2603:10b6:404:b0::9)
 with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.5314.15; Fri, 3 Jun
 2022 10:41:01 +0000
Received: from SN1PR12MB2575.namprd12.prod.outlook.com
 ([fe80::58d8:1b61:8bdb:2824]) by SN1PR12MB2575.namprd12.prod.outlook.com
 ([fe80::58d8:1b61:8bdb:2824%4]) with mapi id 15.20.5293.020; Fri, 3 Jun 2022
 10:41:01 +0000
From: "Errabolu, Ramesh" <Ramesh.Errabolu@amd.com>
To: "Kuehling, Felix" <Felix.Kuehling@amd.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH 2/3] drm/amdgpu: Add peer-to-peer support among PCIe
 connected AMD GPUs
Thread-Topic: [PATCH 2/3] drm/amdgpu: Add peer-to-peer support among PCIe
 connected AMD GPUs
Thread-Index: AQHYdRAnywC3feRAeUu7N40RFgIKkK06uo4AgALGg9A=
Date: Fri, 3 Jun 2022 10:41:01 +0000
Message-ID: <SN1PR12MB2575B7A606547000ACAAAA75E3A19@SN1PR12MB2575.namprd12.prod.outlook.com>
References: <20220531170141.788526-1-Ramesh.Errabolu@amd.com>
 <d4b9aca8-2ec7-908b-a526-a51ed11cc1a5@amd.com>
In-Reply-To: <d4b9aca8-2ec7-908b-a526-a51ed11cc1a5@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
msip_labels: MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_Enabled=true;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_SetDate=2022-06-03T10:35:08Z; 
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_Method=Standard;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_Name=General;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_SiteId=3dd8961f-e488-4e60-8e11-a82d994e183d;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_ActionId=55014ae9-fbb0-4045-b510-97359893d50e;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_ContentBits=1
msip_label_4342314e-0df4-4b58-84bf-38bed6170a0f_enabled: true
msip_label_4342314e-0df4-4b58-84bf-38bed6170a0f_setdate: 2022-06-03T10:40:58Z
msip_label_4342314e-0df4-4b58-84bf-38bed6170a0f_method: Standard
msip_label_4342314e-0df4-4b58-84bf-38bed6170a0f_name: General
msip_label_4342314e-0df4-4b58-84bf-38bed6170a0f_siteid: 3dd8961f-e488-4e60-8e11-a82d994e183d
msip_label_4342314e-0df4-4b58-84bf-38bed6170a0f_actionid: b26c9d67-d993-443c-bec2-a9aa7a40e26c
msip_label_4342314e-0df4-4b58-84bf-38bed6170a0f_contentbits: 0
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=amd.com;
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: a9d188e3-9a61-4679-5910-08da454d8d99
x-ms-traffictypediagnostic: BN6PR1201MB2480:EE_
x-microsoft-antispam-prvs: <BN6PR1201MB248080E3533725973069FD1DE3A19@BN6PR1201MB2480.namprd12.prod.outlook.com>
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: F+gnbM1KJ11W2ws7obsxDNxBH155Vjz3l6ydMdJfcZRyHLLb1fOba95TJDAJCOzDSmxfzo6QNQipQufRNm+ERiOkeJ0z2AIIRcxxAUavpyg7m7JsbWbfl8UP1FNNAxj4JQlLGsEVLUUz4HLVKAwK9uXOq7++KcmHR+8hKUjy6NgkrboEh2AAzp7DQsu+a23kltNfHuA5SUfvM74bs+ryru5mlX0h1wQGkLQTMZsMaxv4/XQnZCV0/SrcEGl5Oa/LE04EH7pEMYoMyu0Hn0oP3CmFVUsppe+HGWDB+z6TO+Eusu7m9G9Q447duQVig80PXTS99g+to1sOO7OuM86l++G1OOdLJKwRyVcT1SS30IYXSMYUtvaUYsOV2Z9rX23pJFcE5KSQRcSGrXrP4ASQvmkdd3yGCCP0l7CHXklgp2CF18WwSLw8ZOVC5rT2Oc3QQif8B8lV5WEP0TbUi+r+57yRYZC1FA6xsaVJdySIJ7jwecsx7UdLcYuj59BjtqAMjFxbRlSH6tY16UqNV9WXf3GB81gy21vq+8A7bn2ip1QAf06F2FuvgBjxbvleKkS+YONnEhMk8iK4lfwnG7zKQMKKAoYPrT2COasTJzWW/9KBJVLmpF+GIAuc8vQigAY8B/JAFDOAXn2mfEeI4R65xxOxj9txqqzw9/IH2wcPioJ0zmD53GE5srYo8kNdf91CkcysoZF6HppGj7S4CUWSiQ==
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:SN1PR12MB2575.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(13230001)(4636009)(366004)(71200400001)(8936002)(110136005)(508600001)(316002)(55016003)(38100700002)(8676002)(86362001)(76116006)(64756008)(66556008)(66446008)(66476007)(2906002)(83380400001)(7696005)(38070700005)(30864003)(66946007)(33656002)(26005)(6506007)(52536014)(186003)(53546011)(9686003)(5660300002)(122000001)(579004);
 DIR:OUT; SFP:1101; 
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?VlBPK2x6aG9adkFWYTZHemx0elA4eFppV29Wb0lQTk53MHpXZTZVQ3RxMHFH?=
 =?utf-8?B?K2xiYklRZWltZ0QrMHVLbm9VendBTEhpYnUxWU5GdUtFWStLSDN3M2tLemNp?=
 =?utf-8?B?OENidXBYVklMMjNKWVpVWUY0djQrcE9PdUw4a1A1RW8vU0djbTZvSk8zSjNG?=
 =?utf-8?B?dWVxK1ZVK1ZMSXZicExySzEvdHhYQUJPMk1ZWHRpZlpTcU1tZG16OEJFV2tE?=
 =?utf-8?B?TGwwZXJQSWoyVUhWb1Z6Q3VoZFgvOFN5OSsxME9IN0xDQVNiMktlZkdYYnBF?=
 =?utf-8?B?SmdQN3ludExzM21CN0NHeGsvS2NEc2hKeTJUZ2M4ZW1yRFA3cURqOFF5KzVn?=
 =?utf-8?B?ejRReHp3c1N2QzBQbnZLMm5ESnJiM2hYdlltcndKWjdPU04xd3BQeG1jWkJ2?=
 =?utf-8?B?UUxzbGcyZzA5bW9tKy9BL1NWcU54Zi9rcGpraUVrbXdKY1JHSlFkMXlNaTZh?=
 =?utf-8?B?UFIzZGp0U2Yzd29GckN1eDFYNUtGN1VBb21TczlaNVN3YkNDeTJzbmhQcXRE?=
 =?utf-8?B?UjdVR3pSR1Aydjk1MnhmTUJsaGZCZFVFSmU1emU0RngwanJqY2hnalpXenN4?=
 =?utf-8?B?Vm9UNmxuTjd6ZmVxdzV1MmpsamF1djJzcGJkeUIzTVo3b3h5dFNOL1RsY1VJ?=
 =?utf-8?B?WnlIUmxONXk3QnI5ZWZ5cUhZbnJ5bXBQR1BwUWR1QUFUWG15NzdPQ2RLYXBX?=
 =?utf-8?B?NUQrUTlMcytxMkxsaDVSNWMralZuOUxiZzFTakxzL2xaeEp4VXhoQUtEMm1y?=
 =?utf-8?B?VjVXTlcyVmNhbjg1a1NKTFdHWjJlR3hmbWNsTHN0SUY0M2ZSa3hidnVRbUN2?=
 =?utf-8?B?U0xBNHc4UFZXYlE3Vll6NVBGMUVCL09GVVlURkhzdjI2UXhma2hueURoZFh1?=
 =?utf-8?B?MTRSU2J3SVBvN0g0LzhiYTIrbWlmUXZOVS9HMmFZdlJKR01wWDc1eVhwaXpT?=
 =?utf-8?B?U1JsU0FEK3JFVGZEWWI5V3dkb2ZVdEZqNEw5VUZBamhPK0wyQnpZV1plTENM?=
 =?utf-8?B?R0tTNjBKQ2dFL283Y3RkdFBkK05Eb0d5Zmk5YVpIWGJLQ080ekJmeFZvdnUy?=
 =?utf-8?B?UDZja1FOR2lJaFFTUFVsOTZ3TkFmQXRsd2EvSkVUNjY3ekhMbHRjMWNzOEk2?=
 =?utf-8?B?V0cxSHFsbkUrN1VsUU5YM3laWXBYK3FNQUJCRVNKOXN1L1plUysvTlFEdUtw?=
 =?utf-8?B?WTZIN1ZPdzNtRFg5b28rbzNmUTh0Y2I4dTVSd0FCa0FteVhSbGNNOFpzMUtR?=
 =?utf-8?B?QWJYZVEraStuZHp0OFVLUXZ5YWZXMnRZRUZkNVFDYi9jQUJPYU9pTVl0YTBC?=
 =?utf-8?B?dUdUVmhIa2xWK010RGxCYUd1elZOV1ZkRjROSHowd3JmZ21IYU5FdHZQTkV6?=
 =?utf-8?B?K2VyeTF5RitnTTJQUnpQMnFlZXErbGxpOGZXMU1VdlVrSHgxd0xGYjIyVFN0?=
 =?utf-8?B?dkdGMGNLT1pkTGd0SGlKdXAzZUMvRHNXZ0NqR3k3K0VrVkhXdWdSVWRibnBS?=
 =?utf-8?B?ZU9VemRhOUlmZGcxZ3FJTjViNmRmR3EzMi93MzBqS1lPQlVxcjJhTmNod3dI?=
 =?utf-8?B?L2dZTXU0TTdXczZva21mQ1BIYjJrQjQxbzk3NVpNcDNUaVVTMFpjMFZrNWo0?=
 =?utf-8?B?a241aUdiSjVLamRRSGxYUThGdmgyOE1Pdk84TXB5ZURGeW0zVitoNjRaaW4x?=
 =?utf-8?B?Q29CZHYrUldYbVhDc28vZE1QVEZ4dFZ2QVIxbi9BMkFTbExselZ1U054ajIw?=
 =?utf-8?B?bURtOGI2dW11ekpidTZjT0lzZWxmeEZiRVNDNUtBT05YeWpRUTU4U1krOVRR?=
 =?utf-8?B?NERHTXUyRHhWbVFiNnUvZFdYRVZpM2MydFJpaVB5ZmpnUE42NnpBdDVjWGdQ?=
 =?utf-8?B?NGduNCtmMmNteE1JMXo2VU9uTTF3dlRpK0RmSXFsaTJKN0NWYzVFK2hua3B4?=
 =?utf-8?B?OTB0TFBDRWZSUUsyazRuSDZRQlBhakhqRjROVGpMbllQSDhpdElIdkt3bVJy?=
 =?utf-8?B?dUdWbVJkc01nU1ovRGlwZjRBSG5Pd21qbjZSUnVwdHpsclVkZDlOeHFOV3Rh?=
 =?utf-8?B?S2Y1cHpQUC9zcis5SFRuY3Q2R2Z3ZTJxMWYzbjN3NXphVVl0aXJacE5HWUFO?=
 =?utf-8?B?UzBrQnNzL1poWGhHZkg3dUZDbDJjR3dZQ0dnUGxLOFVJb1QzL2J5RDdzSmRa?=
 =?utf-8?B?RnJsVTBZdUlLakZEMmpMWUsxNjJ1dExHSTFpZ2orelluOUw3ZTZ6SjBEMzlT?=
 =?utf-8?B?Z2JML1ZOaEM0QkE2L3VnTnRncnlNdE4zQkh5QmRXdFJpZVQzMlIxc2dQYzR2?=
 =?utf-8?B?OVM3SVRKL2E3RFZpZlpZWDBWUE93cTNiU0ZVQTUrYzNJVkZCN2Z6QT09?=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: SN1PR12MB2575.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: a9d188e3-9a61-4679-5910-08da454d8d99
X-MS-Exchange-CrossTenant-originalarrivaltime: 03 Jun 2022 10:41:01.6625 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: +7SeWe4UQDOyushTgyRos3ODgDZURmA8O+q3rqAx/pXfsSvoWSZ5Vg7++ZdAUiaz2Q9a6UxAuy7ew+a5ihL8DA==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BN6PR1201MB2480
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

W0FNRCBPZmZpY2lhbCBVc2UgT25seSAtIEdlbmVyYWxdDQoNCkFwcGxpZWQgcmV2aWV3IGNvbW1l
bnRzLiBQbGVhc2UgZmluZCByZXNwb25zZXMgaW5saW5lDQoNClJlZ2FyZHMsDQpSYW1lc2gNCg0K
LS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZyb206IEt1ZWhsaW5nLCBGZWxpeCA8RmVsaXgu
S3VlaGxpbmdAYW1kLmNvbT4gDQpTZW50OiBXZWRuZXNkYXksIEp1bmUgMSwgMjAyMiA5OjQyIFBN
DQpUbzogRXJyYWJvbHUsIFJhbWVzaCA8UmFtZXNoLkVycmFib2x1QGFtZC5jb20+OyBhbWQtZ2Z4
QGxpc3RzLmZyZWVkZXNrdG9wLm9yZw0KU3ViamVjdDogUmU6IFtQQVRDSCAyLzNdIGRybS9hbWRn
cHU6IEFkZCBwZWVyLXRvLXBlZXIgc3VwcG9ydCBhbW9uZyBQQ0llIGNvbm5lY3RlZCBBTUQgR1BV
cw0KDQoNCkFtIDIwMjItMDUtMzEgdW0gMTM6MDEgc2NocmllYiBSYW1lc2ggRXJyYWJvbHU6DQo+
IEFkZCBzdXBwb3J0IGZvciBwZWVyLXRvLXBlZXIgY29tbXVuaWNhdGlvbiwgaW4gYm90aCBkYXRh
IGFuZCBjb250cm9sIA0KPiBwbGFuZXMsIGFtb25nIEFNRCBHUFVzIHRoYXQgYXJlIGNvbm5lY3Rl
ZCBQQ0llIGFuZCBoYXZlIGxhcmdlIEJBUiB2QklPUy4NCg0KUGxlYXNlIGRvbid0IHVzZSB0aGUg
ImNvbnRyb2wgcGxhbmUiLCAiZGF0YSBwbGFuZSIgdGVybWlub2xvZ3kgaGVyZS4gDQpUaGlzIGlz
IG5vdCBjb21tb24gdXNhZ2UgaW4gdGhpcyBjb250ZXh0LiBBbHNvIHRoZSByZWZlcmVuY2UgdG8g
bGFyZ2UtQkFSIEJJT1NlcyBpcyBpbmNvcnJlY3QgYmVjYXVzZSBCQVJzIGNhbiBiZSByZXNpemVk
Lg0KDQpNb3JlIGNvbW1lbnRzIGlubGluZSAuLi4NCg0KDQo+IFN1cHBvcnQgUkVRVUlSRVMgZW5h
YmxlbWVudCBvZiBjb25maWcgSFNBX0FNRF9QMlAuDQo+DQo+IFNpZ25lZC1vZmYtYnk6IFJhbWVz
aCBFcnJhYm9sdSA8UmFtZXNoLkVycmFib2x1QGFtZC5jb20+DQo+IC0tLQ0KPiAgIGRyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmQuaCAgICB8ICAgMSArDQo+ICAgLi4uL2dw
dS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYW1ka2ZkX2dwdXZtLmMgIHwgMzI4ICsrKysrKysrKysr
KysrLS0tLQ0KPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kZXZpY2UuYyAg
ICB8ICAzMCArKw0KPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kcnYuYyAg
ICAgICB8ICAgOCArDQo+ICAgNCBmaWxlcyBjaGFuZ2VkLCAzMDcgaW5zZXJ0aW9ucygrKSwgNjAg
ZGVsZXRpb25zKC0pDQo+DQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9hbWRncHVfYW1ka2ZkLmggDQo+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1
X2FtZGtmZC5oDQo+IGluZGV4IGY4YjlmMjdhZGNmNS4uNWMwMGVhMWRmMjFjIDEwMDY0NA0KPiAt
LS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYW1ka2ZkLmgNCj4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZC5oDQo+IEBAIC00OCw2ICs0
OCw3IEBAIGVudW0ga2ZkX21lbV9hdHRhY2htZW50X3R5cGUgew0KPiAgIAlLRkRfTUVNX0FUVF9T
SEFSRUQsCS8qIFNoYXJlIGtnZF9tZW0tPmJvIG9yIGFub3RoZXIgYXR0YWNobWVudCdzICovDQo+
ICAgCUtGRF9NRU1fQVRUX1VTRVJQVFIsCS8qIFNHIGJvIHRvIERNQSBtYXAgcGFnZXMgZnJvbSBh
IHVzZXJwdHIgYm8gKi8NCj4gICAJS0ZEX01FTV9BVFRfRE1BQlVGLAkvKiBETUFidWYgdG8gRE1B
IG1hcCBUVE0gQk9zICovDQo+ICsJS0ZEX01FTV9BVFRfU0cJCS8qIFRhZyB0byBETUEgbWFwIFNH
IEJPcyAqLw0KPiAgIH07DQo+ICAgDQo+ICAgc3RydWN0IGtmZF9tZW1fYXR0YWNobWVudCB7DQo+
IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYW1ka2ZkX2dw
dXZtLmMgDQo+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZF9ncHV2
bS5jDQo+IGluZGV4IDM0YmE5ZTc3NjUyMS4uYzJhZjgyMzE3YTAzIDEwMDY0NA0KPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYW1ka2ZkX2dwdXZtLmMNCj4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZF9ncHV2bS5jDQo+IEBAIC0y
NDEsNiArMjQxLDQyIEBAIHZvaWQgYW1kZ3B1X2FtZGtmZF9yZWxlYXNlX25vdGlmeShzdHJ1Y3Qg
YW1kZ3B1X2JvICpibykNCj4gICAJa2ZyZWUoYm8tPmtmZF9ibyk7DQo+ICAgfQ0KPiAgIA0KPiAr
LyoqDQo+ICsgKiBAY3JlYXRlX2RtYW1hcF9zZ19ibzogQ3JlYXRlcyBhIGFtZGdwdV9ibyBvYmpl
Y3QgdG8gcmVmbGVjdCANCj4gK2luZm9ybWF0aW9uDQo+ICsgKiBhYm91dCBVU0VSUFRSIG9yIERP
T1JFQkVMTCBvciBNTUlPIEJPLg0KPiArICogQGFkZXY6IERldmljZSBmb3Igd2hpY2ggZG1hbWFw
IEJPIGlzIGJlaW5nIGNyZWF0ZWQNCj4gKyAqIEBtZW06IEJPIG9mIHBlZXIgZGV2aWNlIHRoYXQg
aXMgYmVpbmcgRE1BIG1hcHBlZC4gUHJvdmlkZXMgcGFyYW1ldGVycw0KPiArICoJIGluIGJ1aWxk
aW5nIHRoZSBkbWFtYXAgQk8NCj4gKyAqIEBib19vdXQ6IE91dHB1dCBwYXJhbWV0ZXIgdXBkYXRl
ZCB3aXRoIGhhbmRsZSBvZiBkbWFtYXAgQk8gICovIA0KPiArc3RhdGljIGludCBjcmVhdGVfZG1h
bWFwX3NnX2JvKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KPiArCQkgc3RydWN0IGtnZF9t
ZW0gKm1lbSwgc3RydWN0IGFtZGdwdV9ibyAqKmJvX291dCkgew0KPiArCXN0cnVjdCBkcm1fZ2Vt
X29iamVjdCAqZ2VtX29iajsNCj4gKwlpbnQgcmV0LCBhbGlnbjsNCj4gKw0KPiArCXJldCA9IGFt
ZGdwdV9ib19yZXNlcnZlKG1lbS0+Ym8sIGZhbHNlKTsNCj4gKwlpZiAocmV0KQ0KPiArCQlyZXR1
cm4gcmV0Ow0KPiArDQo+ICsJYWxpZ24gPSAxOw0KPiArCXJldCA9IGFtZGdwdV9nZW1fb2JqZWN0
X2NyZWF0ZShhZGV2LCBtZW0tPmJvLT50Ym8uYmFzZS5zaXplLCBhbGlnbiwNCj4gKwkJCUFNREdQ
VV9HRU1fRE9NQUlOX0NQVSwgQU1ER1BVX0dFTV9DUkVBVEVfUFJFRU1QVElCTEUsDQo+ICsJCQl0
dG1fYm9fdHlwZV9zZywgbWVtLT5iby0+dGJvLmJhc2UucmVzdiwgJmdlbV9vYmopOw0KPiArDQo+
ICsJYW1kZ3B1X2JvX3VucmVzZXJ2ZShtZW0tPmJvKTsNCj4gKw0KPiArCWlmIChyZXQpIHsNCj4g
KwkJcHJfZXJyKCJFcnJvciBpbiBjcmVhdGluZyBETUEgbWFwcGFibGUgU0cgQk8gb24gZG9tYWlu
OiAlZFxuIiwgcmV0KTsNCj4gKwkJcmV0dXJuIC1FSU5WQUw7DQo+ICsJfQ0KPiArDQo+ICsJKmJv
X291dCA9IGdlbV90b19hbWRncHVfYm8oZ2VtX29iaik7DQo+ICsJKCpib19vdXQpLT5wYXJlbnQg
PSBhbWRncHVfYm9fcmVmKG1lbS0+Ym8pOw0KPiArCXJldHVybiByZXQ7DQo+ICt9DQo+ICsNCj4g
ICAvKiBhbWRncHVfYW1ka2ZkX3JlbW92ZV9ldmljdGlvbl9mZW5jZSAtIFJlbW92ZXMgZXZpY3Rp
b24gZmVuY2UgZnJvbSBCTydzDQo+ICAgICogIHJlc2VydmF0aW9uIG9iamVjdC4NCj4gICAgKg0K
PiBAQCAtNDgxLDYgKzUxNywzOCBAQCBzdGF0aWMgdWludDY0X3QgZ2V0X3B0ZV9mbGFncyhzdHJ1
Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgc3RydWN0IGtnZF9tZW0gKm1lbSkNCj4gICAJcmV0dXJu
IHB0ZV9mbGFnczsNCj4gICB9DQo+ICAgDQo+ICsvKioNCj4gKyAqIGNyZWF0ZV9zZ190YWJsZSgp
IC0gQ3JlYXRlIGFuIHNnX3RhYmxlIGZvciBhIGNvbnRpZ3VvdXMgRE1BIGFkZHIgDQo+ICtyYW5n
ZQ0KPiArICogQGFkZHI6IFRoZSBzdGFydGluZyBhZGRyZXNzIHRvIHBvaW50IHRvDQo+ICsgKiBA
c2l6ZTogU2l6ZSBvZiBtZW1vcnkgYXJlYSBpbiBieXRlcyBiZWluZyBwb2ludGVkIHRvDQo+ICsg
Kg0KPiArICogQWxsb2NhdGVzIGFuIGluc3RhbmNlIG9mIHNnX3RhYmxlIGFuZCBpbml0aWFsaXpl
cyBpdCB0byBwb2ludCB0byANCj4gK21lbW9yeQ0KPiArICogYXJlYSBzcGVjaWZpZWQgYnkgaW5w
dXQgcGFyYW1ldGVycy4gVGhlIGFkZHJlc3MgdXNlZCB0byBidWlsZCBpcyANCj4gK2Fzc3VtZWQN
Cj4gKyAqIHRvIGJlIERNQSBtYXBwZWQsIGlmIG5lZWRlZC4NCj4gKyAqDQo+ICsgKiBET09SQkVM
TCBvciBNTUlPIEJPcyB1c2Ugb25seSBvbmUgc2NhdHRlcmxpc3Qgbm9kZSBpbiB0aGVpciANCj4g
K3NnX3RhYmxlDQo+ICsgKiBiZWNhdXNlIHRoZXkgYXJlIHBoeXNpY2FsbHkgY29udGlndW91cy4N
Cj4gKyAqDQo+ICsgKiBSZXR1cm46IEluaXRpYWxpemVkIGluc3RhbmNlIG9mIFNHIFRhYmxlIG9y
IE5VTEwgICovIHN0YXRpYyBzdHJ1Y3QgDQo+ICtzZ190YWJsZSAqY3JlYXRlX3NnX3RhYmxlKHVp
bnQ2NF90IGFkZHIsIHVpbnQzMl90IHNpemUpIHsNCj4gKwlzdHJ1Y3Qgc2dfdGFibGUgKnNnID0g
a21hbGxvYyhzaXplb2YoKnNnKSwgR0ZQX0tFUk5FTCk7DQo+ICsNCj4gKwlpZiAoIXNnKQ0KPiAr
CQlyZXR1cm4gTlVMTDsNCj4gKwlpZiAoc2dfYWxsb2NfdGFibGUoc2csIDEsIEdGUF9LRVJORUwp
KSB7DQo+ICsJCWtmcmVlKHNnKTsNCj4gKwkJcmV0dXJuIE5VTEw7DQo+ICsJfQ0KPiArCXNnX2Rt
YV9hZGRyZXNzKHNnLT5zZ2wpID0gYWRkcjsNCj4gKwlzZy0+c2dsLT5sZW5ndGggPSBzaXplOw0K
PiArI2lmZGVmIENPTkZJR19ORUVEX1NHX0RNQV9MRU5HVEgNCj4gKwlzZy0+c2dsLT5kbWFfbGVu
Z3RoID0gc2l6ZTsNCj4gKyNlbmRpZg0KPiArCXJldHVybiBzZzsNCj4gK30NCj4gKw0KPiAgIHN0
YXRpYyBpbnQNCj4gICBrZmRfbWVtX2RtYW1hcF91c2VycHRyKHN0cnVjdCBrZ2RfbWVtICptZW0s
DQo+ICAgCQkgICAgICAgc3RydWN0IGtmZF9tZW1fYXR0YWNobWVudCAqYXR0YWNobWVudCkgQEAg
LTU0NSw2ICs2MTMsODcgQEAgDQo+IGtmZF9tZW1fZG1hbWFwX2RtYWJ1ZihzdHJ1Y3Qga2ZkX21l
bV9hdHRhY2htZW50ICphdHRhY2htZW50KQ0KPiAgIAlyZXR1cm4gdHRtX2JvX3ZhbGlkYXRlKCZi
by0+dGJvLCAmYm8tPnBsYWNlbWVudCwgJmN0eCk7DQo+ICAgfQ0KPiAgIA0KPiArLyoqDQo+ICsg
KiBrZmRfbWVtX2RtYW1hcF9zZ19ibygpIC0gQ3JlYXRlIERNQSBtYXBwZWQgc2dfdGFibGUgdG8g
YWNjZXNzIA0KPiArRE9PUkJFTEwgb3IgTU1JTyBCTw0KPiArICogQG1lbTogU0cgQk8gb2YgdGhl
IERPT1JCRUxMIG9yIE1NSU8gcmVzb3VyY2Ugb24gdGhlIG93bmluZyBkZXZpY2UNCj4gKyAqIEBh
dHRhY2htZW50OiBWaXJ0dWFsIGFkZHJlc3MgYXR0YWNobWVudCBvZiB0aGUgQk8gb24gYWNjZXNz
aW5nIA0KPiArZGV2aWNlDQo+ICsgKg0KPiArICogQW4gYWNjZXNzIHJlcXVlc3QgZnJvbSB0aGUg
ZGV2aWNlIHRoYXQgb3ducyBET09SQkVMTCBkb2VzIG5vdCByZXF1aXJlIERNQSBtYXBwaW5nLg0K
PiArICogVGhpcyBpcyBiZWNhdXNlIHRoZSByZXF1ZXN0IGRvZXNuJ3QgZ28gdGhyb3VnaCBQQ0ll
IHJvb3QgY29tcGxleCANCj4gK2kuZS4gaXQgaW5zdGVhZA0KPiArICogbG9vcHMgYmFjay4gVGhl
IG5lZWQgdG8gRE1BIG1hcCBhcmlzZXMgb25seSB3aGVuIGFjY2Vzc2luZyBwZWVyIA0KPiArZGV2
aWNlJ3MgRE9PUkJFTEwNCj4gKyAqDQo+ICsgKiBJbiBjb250cmFzdCwgYWxsIGFjY2VzcyByZXF1
ZXN0cyBmb3IgTU1JTyBuZWVkIHRvIGJlIERNQSBtYXBwZWQgDQo+ICt3aXRob3V0IHJlZ2FyZCB0
bw0KPiArICogZGV2aWNlIG93bmVyc2hpcC4gVGhpcyBpcyBiZWNhdXNlIGFjY2VzcyByZXF1ZXN0
cyBmb3IgTU1JTyBnbyANCj4gK3Rocm91Z2ggUENJZSByb290DQo+ICsgKiBjb21wbGV4Lg0KPiAr
ICoNCj4gKyAqIFRoaXMgaXMgYWNjb21wbGlzaGVkIGluIHR3byBzdGVwczoNCj4gKyAqICAgLSBP
YnRhaW4gRE1BIG1hcHBlZCBhZGRyZXNzIG9mIERPT1JCRUxMIG9yIE1NSU8gbWVtb3J5IHRoYXQg
Y291bGQgYmUgdXNlZA0KPiArICogICAgICAgICBpbiB1cGRhdGluZyByZXF1ZXN0aW5nIGRldmlj
ZSdzIHBhZ2UgdGFibGUNCj4gKyAqICAgLSBTaWduYWwgVFRNIHRvIG1hcmsgbWVtb3J5IHBvaW50
ZWQgdG8gYnkgcmVxdWVzdGluZyBkZXZpY2UncyBCTyBhcyBHUFUNCj4gKyAqICAgICAgICAgYWNj
ZXNzaWJsZS4gVGhpcyBhbGxvd3MgYW4gdXBkYXRlIG9mIHJlcXVlc3RpbmcgZGV2aWNlJ3MgcGFn
ZSB0YWJsZQ0KPiArICogICAgICAgICB3aXRoIGVudHJpZXMgYXNzb2NpYXRlZCB3aXRoIERPT1JF
QkVMTCBvciBNTUlPIG1lbW9yeQ0KPiArICoNCj4gKyAqIFRoaXMgbWV0aG9kIGlzIGludm9rZWQg
aW4gdGhlIGZvbGxvd2luZyBjb250ZXh0czoNCj4gKyAqICAgLSBNYXBwaW5nIG9mIERPT1JCRUxM
IG9yIE1NSU8gQk8gb2Ygc2FtZSBvciBwZWVyIGRldmljZQ0KPiArICogICAtIFZhbGlkYXRpbmcg
YW4gZXZpY3RlZCBET09SRUJFTEwgb3IgTU1JTyBCTyBvbiBkZXZpY2Ugc2Vla2luZyBhY2Nlc3MN
Cj4gKyAqDQo+ICsgKiBSZXR1cm46IFpFUk8gaWYgc3VjY2Vzc2Z1bCwgTk9OLVpFUk8gb3RoZXJ3
aXNlICAqLyBzdGF0aWMgaW50IA0KPiAra2ZkX21lbV9kbWFtYXBfc2dfYm8oc3RydWN0IGtnZF9t
ZW0gKm1lbSwNCj4gKwkJICAgICBzdHJ1Y3Qga2ZkX21lbV9hdHRhY2htZW50ICphdHRhY2htZW50
KSB7DQo+ICsJc3RydWN0IHR0bV9vcGVyYXRpb25fY3R4IGN0eCA9IHsuaW50ZXJydXB0aWJsZSA9
IHRydWV9Ow0KPiArCXN0cnVjdCBhbWRncHVfYm8gKmJvID0gYXR0YWNobWVudC0+Ym9fdmEtPmJh
c2UuYm87DQo+ICsJc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSBhdHRhY2htZW50LT5hZGV2
Ow0KPiArCXN0cnVjdCB0dG1fdHQgKnR0bSA9IGJvLT50Ym8udHRtOw0KPiArCWVudW0gZG1hX2Rh
dGFfZGlyZWN0aW9uIGRpcjsNCj4gKwlkbWFfYWRkcl90IGRtYV9hZGRyOw0KPiArCWJvb2wgbW1p
bzsNCj4gKwlpbnQgcmV0Ow0KPiArDQo+ICsJLyogRXhwZWN0IFNHIFRhYmxlIG9mIGRtYXBtYXAg
Qk8gdG8gYmUgTlVMTCAqLw0KPiArCW1taW8gPSAobWVtLT5hbGxvY19mbGFncyAmIEtGRF9JT0Nf
QUxMT0NfTUVNX0ZMQUdTX01NSU9fUkVNQVApOw0KPiArCWlmICh1bmxpa2VseSh0dG0tPnNnKSkg
ew0KPiArCQlwcl9lcnIoIlNHIFRhYmxlIG9mICVkIEJPIGZvciBwZWVyIGRldmljZSBpcyBVTkVY
UEVDVEVETFkgTk9OLU5VTEwiLCBtbWlvKTsNCj4gKwkJcmV0dXJuIC1FSU5WQUw7DQo+ICsJfQ0K
PiArDQo+ICsJZGlyID0gbWVtLT5hbGxvY19mbGFncyAmIEtGRF9JT0NfQUxMT0NfTUVNX0ZMQUdT
X1dSSVRBQkxFID8NCj4gKwkJCURNQV9CSURJUkVDVElPTkFMIDogRE1BX1RPX0RFVklDRTsNCj4g
KwlkbWFfYWRkciA9IG1lbS0+Ym8tPnRiby5zZy0+c2dsLT5kbWFfYWRkcmVzczsNCj4gKwlwcl9k
ZWJ1ZygiJWQgQk8gc2l6ZTogJWRcbiIsIG1taW8sIG1lbS0+Ym8tPnRiby5zZy0+c2dsLT5sZW5n
dGgpOw0KPiArCXByX2RlYnVnKCIlZCBCTyBhZGRyZXNzIGJlZm9yZSBETUEgbWFwcGluZzogJWxs
eFxuIiwgbW1pbywgZG1hX2FkZHIpOw0KPiArCWRtYV9hZGRyID0gZG1hX21hcF9yZXNvdXJjZShh
ZGV2LT5kZXYsIGRtYV9hZGRyLA0KPiArCQkJbWVtLT5iby0+dGJvLnNnLT5zZ2wtPmxlbmd0aCwg
ZGlyLCBETUFfQVRUUl9TS0lQX0NQVV9TWU5DKTsNCj4gKwlyZXQgPSBkbWFfbWFwcGluZ19lcnJv
cihhZGV2LT5kZXYsIGRtYV9hZGRyKTsNCj4gKwlpZiAodW5saWtlbHkocmV0KSkNCj4gKwkJcmV0
dXJuIHJldDsNCj4gKwlwcl9kZWJ1ZygiJWQgQk8gYWRkcmVzcyBhZnRlciBETUEgbWFwcGluZzog
JWxseFxuIiwgbW1pbywgZG1hX2FkZHIpOw0KPiArDQo+ICsJdHRtLT5zZyA9IGNyZWF0ZV9zZ190
YWJsZShkbWFfYWRkciwgbWVtLT5iby0+dGJvLnNnLT5zZ2wtPmxlbmd0aCk7DQo+ICsJaWYgKHVu
bGlrZWx5KCF0dG0tPnNnKSkgew0KPiArCQlyZXQgPSAtRU5PTUVNOw0KPiArCQlnb3RvIHVubWFw
X3NnOw0KPiArCX0NCj4gKw0KPiArCWFtZGdwdV9ib19wbGFjZW1lbnRfZnJvbV9kb21haW4oYm8s
IEFNREdQVV9HRU1fRE9NQUlOX0dUVCk7DQo+ICsJcmV0ID0gdHRtX2JvX3ZhbGlkYXRlKCZiby0+
dGJvLCAmYm8tPnBsYWNlbWVudCwgJmN0eCk7DQo+ICsJaWYgKHVubGlrZWx5KHJldCkpDQo+ICsJ
CWdvdG8gZnJlZV9zZzsNCj4gKw0KPiArCXJldHVybiByZXQ7DQo+ICsNCj4gK2ZyZWVfc2c6DQo+
ICsJc2dfZnJlZV90YWJsZSh0dG0tPnNnKTsNCj4gKwlrZnJlZSh0dG0tPnNnKTsNCj4gKwl0dG0t
PnNnID0gTlVMTDsNCj4gK3VubWFwX3NnOg0KPiArCWRtYV91bm1hcF9yZXNvdXJjZShhZGV2LT5k
ZXYsIGRtYV9hZGRyLCBtZW0tPmJvLT50Ym8uc2ctPnNnbC0+bGVuZ3RoLA0KPiArCQkJICAgZGly
LCBETUFfQVRUUl9TS0lQX0NQVV9TWU5DKTsNCj4gKwlyZXR1cm4gcmV0Ow0KPiArfQ0KPiArDQo+
ICAgc3RhdGljIGludA0KPiAgIGtmZF9tZW1fZG1hbWFwX2F0dGFjaG1lbnQoc3RydWN0IGtnZF9t
ZW0gKm1lbSwNCj4gICAJCQkgIHN0cnVjdCBrZmRfbWVtX2F0dGFjaG1lbnQgKmF0dGFjaG1lbnQp
IEBAIC01NTYsNiArNzA1LDggQEAgDQo+IGtmZF9tZW1fZG1hbWFwX2F0dGFjaG1lbnQoc3RydWN0
IGtnZF9tZW0gKm1lbSwNCj4gICAJCXJldHVybiBrZmRfbWVtX2RtYW1hcF91c2VycHRyKG1lbSwg
YXR0YWNobWVudCk7DQo+ICAgCWNhc2UgS0ZEX01FTV9BVFRfRE1BQlVGOg0KPiAgIAkJcmV0dXJu
IGtmZF9tZW1fZG1hbWFwX2RtYWJ1ZihhdHRhY2htZW50KTsNCj4gKwljYXNlIEtGRF9NRU1fQVRU
X1NHOg0KPiArCQlyZXR1cm4ga2ZkX21lbV9kbWFtYXBfc2dfYm8obWVtLCBhdHRhY2htZW50KTsN
Cj4gICAJZGVmYXVsdDoNCj4gICAJCVdBUk5fT05fT05DRSgxKTsNCj4gICAJfQ0KPiBAQCAtNTk2
LDYgKzc0Nyw1MCBAQCBrZmRfbWVtX2RtYXVubWFwX2RtYWJ1ZihzdHJ1Y3Qga2ZkX21lbV9hdHRh
Y2htZW50ICphdHRhY2htZW50KQ0KPiAgIAl0dG1fYm9fdmFsaWRhdGUoJmJvLT50Ym8sICZiby0+
cGxhY2VtZW50LCAmY3R4KTsNCj4gICB9DQo+ICAgDQo+ICsvKioNCj4gKyAqIGtmZF9tZW1fZG1h
dW5tYXBfc2dfYm8oKSAtIEZyZWUgRE1BIG1hcHBlZCBzZ190YWJsZSBvZiBET09SQkVMTCBvciAN
Cj4gK01NSU8gQk8NCj4gKyAqIEBtZW06IFNHIEJPIG9mIHRoZSBET09SQkVMTCBvciBNTUlPIHJl
c291cmNlIG9uIHRoZSBvd25pbmcgZGV2aWNlDQo+ICsgKiBAYXR0YWNobWVudDogVmlydHVhbCBh
ZGRyZXNzIGF0dGFjaG1lbnQgb2YgdGhlIEJPIG9uIGFjY2Vzc2luZyANCj4gK2RldmljZQ0KPiAr
ICoNCj4gKyAqIFRoZSBtZXRob2QgcGVyZm9ybXMgZm9sbG93aW5nIHN0ZXBzOg0KPiArICogICAt
IFNpZ25hbCBUVE0gdG8gbWFyayBtZW1vcnkgcG9pbnRlZCB0byBieSBCTyBhcyBHUFUgaW5hY2Nl
c3NpYmxlDQo+ICsgKiAgIC0gRnJlZSBTRyBUYWJsZSB0aGF0IGlzIHVzZWQgdG8gZW5jYXBzdWxh
dGUgRE1BIG1hcHBlZCBtZW1vcnkgb2YNCj4gKyAqICAgICAgICAgIHBlZXIgZGV2aWNlJ3MgRE9P
UkJFTEwgb3IgTU1JTyBtZW1vcnkNCj4gKyAqDQo+ICsgKiBUaGlzIG1ldGhvZCBpcyBpbnZva2Vk
IGluIHRoZSBmb2xsb3dpbmcgY29udGV4dHM6DQo+ICsgKiAgICAgVU5NYXBwaW5nIG9mIERPT1JC
RUxMIG9yIE1NSU8gQk8gb24gYSBkZXZpY2UgaGF2aW5nIGFjY2VzcyB0byBpdHMgbWVtb3J5DQo+
ICsgKiAgICAgRXZpY3Rpb24gb2YgRE9PUkVCRUxMIG9yIE1NSU8gQk8gb24gZGV2aWNlIGhhdmlu
ZyBhY2Nlc3MgdG8gaXRzIG1lbW9yeQ0KPiArICoNCj4gKyAqIFJldHVybjogdm9pZA0KPiArICov
DQo+ICtzdGF0aWMgdm9pZA0KPiAra2ZkX21lbV9kbWF1bm1hcF9zZ19ibyhzdHJ1Y3Qga2dkX21l
bSAqbWVtLA0KPiArCQkgICAgICAgc3RydWN0IGtmZF9tZW1fYXR0YWNobWVudCAqYXR0YWNobWVu
dCkgew0KPiArCXN0cnVjdCB0dG1fb3BlcmF0aW9uX2N0eCBjdHggPSB7LmludGVycnVwdGlibGUg
PSB0cnVlfTsNCj4gKwlzdHJ1Y3QgYW1kZ3B1X2JvICpibyA9IGF0dGFjaG1lbnQtPmJvX3ZhLT5i
YXNlLmJvOw0KPiArCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gYXR0YWNobWVudC0+YWRl
djsNCj4gKwlzdHJ1Y3QgdHRtX3R0ICp0dG0gPSBiby0+dGJvLnR0bTsNCj4gKwllbnVtIGRtYV9k
YXRhX2RpcmVjdGlvbiBkaXI7DQo+ICsNCj4gKwlpZiAodW5saWtlbHkoIXR0bS0+c2cpKSB7DQo+
ICsJCXByX2VycigiU0cgVGFibGUgb2YgQk8gaXMgVU5FWFBFQ1RFRExZIE5VTEwiKTsNCj4gKwkJ
cmV0dXJuOw0KPiArCX0NCj4gKw0KPiArCWFtZGdwdV9ib19wbGFjZW1lbnRfZnJvbV9kb21haW4o
Ym8sIEFNREdQVV9HRU1fRE9NQUlOX0NQVSk7DQo+ICsJdHRtX2JvX3ZhbGlkYXRlKCZiby0+dGJv
LCAmYm8tPnBsYWNlbWVudCwgJmN0eCk7DQo+ICsNCj4gKwlkaXIgPSBtZW0tPmFsbG9jX2ZsYWdz
ICYgS0ZEX0lPQ19BTExPQ19NRU1fRkxBR1NfV1JJVEFCTEUgPw0KPiArCQkJCURNQV9CSURJUkVD
VElPTkFMIDogRE1BX1RPX0RFVklDRTsNCj4gKwlkbWFfdW5tYXBfcmVzb3VyY2UoYWRldi0+ZGV2
LCB0dG0tPnNnLT5zZ2wtPmRtYV9hZGRyZXNzLA0KPiArCQkJdHRtLT5zZy0+c2dsLT5sZW5ndGgs
IGRpciwgRE1BX0FUVFJfU0tJUF9DUFVfU1lOQyk7DQo+ICsJc2dfZnJlZV90YWJsZSh0dG0tPnNn
KTsNCj4gKwlrZnJlZSh0dG0tPnNnKTsNCj4gKwl0dG0tPnNnID0gTlVMTDsNCj4gKwliby0+dGJv
LnNnID0gTlVMTDsNCj4gK30NCj4gKw0KPiAgIHN0YXRpYyB2b2lkDQo+ICAga2ZkX21lbV9kbWF1
bm1hcF9hdHRhY2htZW50KHN0cnVjdCBrZ2RfbWVtICptZW0sDQo+ICAgCQkJICAgIHN0cnVjdCBr
ZmRfbWVtX2F0dGFjaG1lbnQgKmF0dGFjaG1lbnQpIEBAIC02MDksMzggKzgwNCwxNCBAQCANCj4g
a2ZkX21lbV9kbWF1bm1hcF9hdHRhY2htZW50KHN0cnVjdCBrZ2RfbWVtICptZW0sDQo+ICAgCWNh
c2UgS0ZEX01FTV9BVFRfRE1BQlVGOg0KPiAgIAkJa2ZkX21lbV9kbWF1bm1hcF9kbWFidWYoYXR0
YWNobWVudCk7DQo+ICAgCQlicmVhazsNCj4gKwljYXNlIEtGRF9NRU1fQVRUX1NHOg0KPiArCQlr
ZmRfbWVtX2RtYXVubWFwX3NnX2JvKG1lbSwgYXR0YWNobWVudCk7DQo+ICsJCWJyZWFrOw0KPiAg
IAlkZWZhdWx0Og0KPiAgIAkJV0FSTl9PTl9PTkNFKDEpOw0KPiAgIAl9DQo+ICAgfQ0KPiAgIA0K
PiAtc3RhdGljIGludA0KPiAta2ZkX21lbV9hdHRhY2hfdXNlcnB0cihzdHJ1Y3QgYW1kZ3B1X2Rl
dmljZSAqYWRldiwgc3RydWN0IGtnZF9tZW0gKm1lbSwNCj4gLQkJICAgICAgIHN0cnVjdCBhbWRn
cHVfYm8gKipibykNCj4gLXsNCj4gLQl1bnNpZ25lZCBsb25nIGJvX3NpemUgPSBtZW0tPmJvLT50
Ym8uYmFzZS5zaXplOw0KPiAtCXN0cnVjdCBkcm1fZ2VtX29iamVjdCAqZ29iajsNCj4gLQlpbnQg
cmV0Ow0KPiAtDQo+IC0JcmV0ID0gYW1kZ3B1X2JvX3Jlc2VydmUobWVtLT5ibywgZmFsc2UpOw0K
PiAtCWlmIChyZXQpDQo+IC0JCXJldHVybiByZXQ7DQo+IC0NCj4gLQlyZXQgPSBhbWRncHVfZ2Vt
X29iamVjdF9jcmVhdGUoYWRldiwgYm9fc2l6ZSwgMSwNCj4gLQkJCQkgICAgICAgQU1ER1BVX0dF
TV9ET01BSU5fQ1BVLA0KPiAtCQkJCSAgICAgICBBTURHUFVfR0VNX0NSRUFURV9QUkVFTVBUSUJM
RSwNCj4gLQkJCQkgICAgICAgdHRtX2JvX3R5cGVfc2csIG1lbS0+Ym8tPnRiby5iYXNlLnJlc3Ys
DQo+IC0JCQkJICAgICAgICZnb2JqKTsNCj4gLQlhbWRncHVfYm9fdW5yZXNlcnZlKG1lbS0+Ym8p
Ow0KPiAtCWlmIChyZXQpDQo+IC0JCXJldHVybiByZXQ7DQo+IC0NCj4gLQkqYm8gPSBnZW1fdG9f
YW1kZ3B1X2JvKGdvYmopOw0KPiAtCSgqYm8pLT5wYXJlbnQgPSBhbWRncHVfYm9fcmVmKG1lbS0+
Ym8pOw0KPiAtDQo+IC0JcmV0dXJuIDA7DQo+IC19DQo+IC0NCj4gICBzdGF0aWMgaW50DQo+ICAg
a2ZkX21lbV9hdHRhY2hfZG1hYnVmKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCBzdHJ1Y3Qg
a2dkX21lbSAqbWVtLA0KPiAgIAkJICAgICAgc3RydWN0IGFtZGdwdV9ibyAqKmJvKQ0KPiBAQCAt
NjcwLDYgKzg0MSwzOCBAQCBrZmRfbWVtX2F0dGFjaF9kbWFidWYoc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYsIHN0cnVjdCBrZ2RfbWVtICptZW0sDQo+ICAgCXJldHVybiAwOw0KPiAgIH0NCj4g
ICANCj4gKy8qKg0KPiArICogQGtmZF9tZW1fYXR0YWNoX3ZyYW1fYm86IEFjcXVpcmVzIHRoZSBo
YW5kbGUgb2YgYSBWUkFNIEJPIHRoYXQgDQo+ICtjb3VsZA0KPiArICogYmUgdXNlZCB0byBlbmFi
bGUgYSBwZWVyIEdQVSBhY2Nlc3MgaXQNCj4gKyAqDQo+ICsgKiBJbXBsZW1lbnRhdGlvbiBkZXRl
cm1pbmVzIGlmIGFjY2VzcyB0byBWUkFNIEJPIHdvdWxkIGVtcGxveSBETUFCVUYNCj4gKyAqIG9y
IFNoYXJlZCBCTyBtZWNoYW5pc20uIEVtcGxveSBETUFCVUYgbWVjaGFuaXNtIGlmIGtlcm5lbCBo
YXMgDQo+ICtjb25maWcNCj4gKyAqIG9wdGlvbiBIU0FfQU1EX1AyUCBlbmFibGVkLiBFbXBsb3kg
U2hhcmVkIEJPIG1lY2hhbmlzbSBpZiBhYm92ZQ0KPiArICogY29uZmlnIG9wdGlvbiBpcyBub3Qg
c2V0LiBJdCBpcyBpbXBvcnRhbnQgdG8gbm90ZSB0aGF0IGEgU2hhcmVkIEJPDQo+ICsgKiBjYW5u
b3QgYmUgdXNlZCB0byBlbmFibGUgcGVlciBhY2NlcyBpZiBzeXN0ZW0gaGFzIElPTU1VIGVuYWJs
ZWQNCj4gKyAqDQo+ICsgKiBAVE9ETzogQUREIENoZWNrIHRvIGVuc3VyZSBJT01NVSBpcyBub3Qg
ZW5hYmxlZC4gU2hvdWxkIHRoaXMgY2hlY2sNCj4gKyAqIGJlIHNvbWV3aGVyZSBhcyB0aGlzIGlz
IGluZm9ybWF0aW9uIGNvdWxkIGJlIHVzZWZ1bCBpbiBvdGhlciANCj4gK3BsYWNlcyAgKi8gc3Rh
dGljIGludCBrZmRfbWVtX2F0dGFjaF92cmFtX2JvKHN0cnVjdCBhbWRncHVfZGV2aWNlIA0KPiAr
KmFkZXYsDQo+ICsJCQlzdHJ1Y3Qga2dkX21lbSAqbWVtLCBzdHJ1Y3QgYW1kZ3B1X2JvICoqYm8s
DQo+ICsJCQlzdHJ1Y3Qga2ZkX21lbV9hdHRhY2htZW50ICphdHRhY2htZW50KSB7DQo+ICsJaW50
IHJldCA9ICAwOw0KPiArDQo+ICsjaWYgZGVmaW5lZChDT05GSUdfSFNBX0FNRF9QMlApDQo+ICsJ
YXR0YWNobWVudC0+dHlwZSA9IEtGRF9NRU1fQVRUX0RNQUJVRjsNCj4gKwlyZXQgPSBrZmRfbWVt
X2F0dGFjaF9kbWFidWYoYWRldiwgbWVtLCBibyk7DQo+ICsJcHJfZGVidWcoIkVtcGxveSBETUFC
VUYgbWVjaGFuaW0gdG8gZW5hYmxlIHBlZXIgR1BVIGFjY2Vzc1xuIik7IA0KPiArI2Vsc2UNCj4g
KwkqYm8gPSBtZW0tPmJvOw0KPiArCWF0dGFjaG1lbnQtPnR5cGUgPSBLRkRfTUVNX0FUVF9TSEFS
RUQ7DQo+ICsJZHJtX2dlbV9vYmplY3RfZ2V0KCYoKmJvKS0+dGJvLmJhc2UpOw0KPiArCXByX2Rl
YnVnKCJFbXBsb3kgU2hhcmVkIEJPIG1lY2hhbmltIHRvIGVuYWJsZSBwZWVyIEdQVSBhY2Nlc3Nc
biIpOw0KDQpUaGlzIGlzIHNvbWV0aGluZyB3ZSBjYW5ub3QgZG8gaW4gdGhlIHVwc3RyZWFtIGRy
aXZlci4gSWYgUDJQIGlzIGRpc2FibGVkLCB3ZSBoYXZlIHRvIGZhaWwgYW55IGF0dGVtcHQgdG8g
bWFwIHBlZXIgbWVtb3J5Lg0KDQpUaGVyZWZvcmUgSSB0aGluayB0aGlzIGhlbHBlciBmdW5jdGlv
biBpcyBub3QgbmVlZGVkLiBZb3UgY2FuIGp1c3QgY2FsbCBrZmRfbWVtX2F0dGFjaF9kbWFidWYg
ZGlyZWN0bHkgaW4ga2ZkX21lbV9hdHRhY2guDQoNClJhbWVzaDogR29vIGNhdGNoLiBXaWxsIHJl
bW92ZSB0aGUgaGVscGVyIG1ldGhvZCBhcyBzdWdnZXN0ZWQuDQoNCj4gKyNlbmRpZg0KPiArCXJl
dHVybiByZXQ7DQo+ICt9DQo+ICsNCj4gICAvKiBrZmRfbWVtX2F0dGFjaCAtIEFkZCBhIEJPIHRv
IGEgVk0NCj4gICAgKg0KPiAgICAqIEV2ZXJ5dGhpbmcgdGhhdCBuZWVkcyB0byBibyBkb25lIG9u
bHkgb25jZSB3aGVuIGEgQk8gaXMgZmlyc3QgYWRkZWQNCj4gQEAgLTY5MSw2ICs4OTQsNyBAQCBz
dGF0aWMgaW50IGtmZF9tZW1fYXR0YWNoKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCBzdHJ1
Y3Qga2dkX21lbSAqbWVtLA0KPiAgIAl1aW50NjRfdCB2YSA9IG1lbS0+dmE7DQo+ICAgCXN0cnVj
dCBrZmRfbWVtX2F0dGFjaG1lbnQgKmF0dGFjaG1lbnRbMl0gPSB7TlVMTCwgTlVMTH07DQo+ICAg
CXN0cnVjdCBhbWRncHVfYm8gKmJvWzJdID0ge05VTEwsIE5VTEx9Ow0KPiArCWJvb2wgc2FtZV9o
aXZlID0gZmFsc2U7DQo+ICAgCWludCBpLCByZXQ7DQo+ICAgDQo+ICAgCWlmICghdmEpIHsNCj4g
QEAgLTY5OCw2ICs5MDIsMTkgQEAgc3RhdGljIGludCBrZmRfbWVtX2F0dGFjaChzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldiwgc3RydWN0IGtnZF9tZW0gKm1lbSwNCj4gICAJCXJldHVybiAtRUlO
VkFMOw0KPiAgIAl9DQo+ICAgDQo+ICsJLyogRGV0ZXJtaW5lIGlmIHRoZSBtYXBwaW5nIG9mIFZS
QU0gQk8gdG8gYSBwZWVyIGRldmljZSBpcyB2YWxpZA0KPiArCSAqIEl0IGlzIHBvc3NpYmxlIHRo
YXQgdGhlIHBlZXIgZGV2aWNlIGlzIGNvbm5lY3RlZCB2aWEgUENJZSBvcg0KPiArCSAqIHhHTUkg
bGluay4gQWNjZXNzIG92ZXIgUENJZSBpcyBhbGxvd2VkIGlmIGRldmljZSBvd25pbmcgVlJBTSBC
Tw0KPiArCSAqIGhhcyBsYXJnZSBCQVIuIEluIGNvbnRyYXN0LCBhY2Nlc3Mgb3ZlciB4R01JIGlz
IGFsbG93ZWQgZm9yIGJvdGgNCj4gKwkgKiBzbWFsbCBhbmQgbGFyZ2UgQkFSIGNvbmZpZ3VyYXRp
b25zIG9mIGRldmljZSBvd25pbmcgdGhlIFZSQU0gQk8NCj4gKwkgKi8NCj4gKwlpZiAoYWRldiAh
PSBib19hZGV2ICYmIG1lbS0+ZG9tYWluID09IEFNREdQVV9HRU1fRE9NQUlOX1ZSQU0pIHsNCj4g
KwkJc2FtZV9oaXZlID0gYW1kZ3B1X3hnbWlfc2FtZV9oaXZlKGFkZXYsIGJvX2FkZXYpOw0KPiAr
CQlpZiAoIXNhbWVfaGl2ZSAmJg0KPiArCQkgICAgIWFtZGdwdV9kZXZpY2VfaXNfcGVlcl9hY2Nl
c3NpYmxlKGJvX2FkZXYsIGFkZXYpKQ0KPiArCQkJcmV0dXJuIC1FSU5WQUw7DQo+ICsJfQ0KPiAr
DQo+ICAgCWZvciAoaSA9IDA7IGkgPD0gaXNfYXFsOyBpKyspIHsNCj4gICAJCWF0dGFjaG1lbnRb
aV0gPSBremFsbG9jKHNpemVvZigqYXR0YWNobWVudFtpXSksIEdGUF9LRVJORUwpOw0KPiAgIAkJ
aWYgKHVubGlrZWx5KCFhdHRhY2htZW50W2ldKSkgew0KPiBAQCAtNzA4LDkgKzkyNSw5IEBAIHN0
YXRpYyBpbnQga2ZkX21lbV9hdHRhY2goc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHN0cnVj
dCBrZ2RfbWVtICptZW0sDQo+ICAgCQlwcl9kZWJ1ZygiXHQgYWRkIFZBIDB4JWxseCAtIDB4JWxs
eCB0byB2bSAlcFxuIiwgdmEsDQo+ICAgCQkJIHZhICsgYm9fc2l6ZSwgdm0pOw0KPiAgIA0KPiAt
CQlpZiAoYWRldiA9PSBib19hZGV2IHx8DQo+IC0JCSAgIChhbWRncHVfdHRtX3R0X2dldF91c2Vy
bW0obWVtLT5iby0+dGJvLnR0bSkgJiYgYWRldi0+cmFtX2lzX2RpcmVjdF9tYXBwZWQpIHx8DQo+
IC0JCSAgIChtZW0tPmRvbWFpbiA9PSBBTURHUFVfR0VNX0RPTUFJTl9WUkFNICYmIGFtZGdwdV94
Z21pX3NhbWVfaGl2ZShhZGV2LCBib19hZGV2KSkpIHsNCj4gKwkJaWYgKChhZGV2ID09IGJvX2Fk
ZXYgJiYgIShtZW0tPmFsbG9jX2ZsYWdzICYgS0ZEX0lPQ19BTExPQ19NRU1fRkxBR1NfTU1JT19S
RU1BUCkpIHx8DQo+ICsJCSAgICAoYW1kZ3B1X3R0bV90dF9nZXRfdXNlcm1tKG1lbS0+Ym8tPnRi
by50dG0pICYmIGFkZXYtPnJhbV9pc19kaXJlY3RfbWFwcGVkKSB8fA0KPiArCQkgICAgc2FtZV9o
aXZlKSB7DQo+ICAgCQkJLyogTWFwcGluZ3Mgb24gdGhlIGxvY2FsIEdQVSwgb3IgVlJBTSBtYXBw
aW5ncyBpbiB0aGUNCj4gICAJCQkgKiBsb2NhbCBoaXZlLCBvciB1c2VycHRyIG1hcHBpbmcgSU9N
TVUgZGlyZWN0IG1hcCBtb2RlDQo+ICAgCQkJICogc2hhcmUgdGhlIG9yaWdpbmFsIEJPDQo+IEBA
IC03MjYsMjYgKzk0MywzNSBAQCBzdGF0aWMgaW50IGtmZF9tZW1fYXR0YWNoKHN0cnVjdCBhbWRn
cHVfZGV2aWNlICphZGV2LCBzdHJ1Y3Qga2dkX21lbSAqbWVtLA0KPiAgIAkJfSBlbHNlIGlmIChh
bWRncHVfdHRtX3R0X2dldF91c2VybW0obWVtLT5iby0+dGJvLnR0bSkpIHsNCj4gICAJCQkvKiBD
cmVhdGUgYW4gU0cgQk8gdG8gRE1BLW1hcCB1c2VycHRycyBvbiBvdGhlciBHUFVzICovDQo+ICAg
CQkJYXR0YWNobWVudFtpXS0+dHlwZSA9IEtGRF9NRU1fQVRUX1VTRVJQVFI7DQo+IC0JCQlyZXQg
PSBrZmRfbWVtX2F0dGFjaF91c2VycHRyKGFkZXYsIG1lbSwgJmJvW2ldKTsNCj4gKwkJCXJldCA9
IGNyZWF0ZV9kbWFtYXBfc2dfYm8oYWRldiwgbWVtLCAmYm9baV0pOw0KPiAgIAkJCWlmIChyZXQp
DQo+ICAgCQkJCWdvdG8gdW53aW5kOw0KPiAgIAkJfSBlbHNlIGlmIChtZW0tPmRvbWFpbiA9PSBB
TURHUFVfR0VNX0RPTUFJTl9HVFQgJiYNCj4gICAJCQkgICBtZW0tPmJvLT50Ym8udHlwZSAhPSB0
dG1fYm9fdHlwZV9zZykgew0KPiAtCQkJLyogR1RUIEJPcyB1c2UgRE1BLW1hcHBpbmcgYWJpbGl0
eSBvZiBkeW5hbWljLWF0dGFjaA0KPiAtCQkJICogRE1BIGJ1ZnMuIFRPRE86IFRoZSBzYW1lIHNo
b3VsZCB3b3JrIGZvciBWUkFNIG9uDQo+IC0JCQkgKiBsYXJnZS1CQVIgR1BVcy4NCj4gLQkJCSAq
Lw0KPiArCQkJLyogR1RUIEJPcyB1c2UgRE1BLW1hcHBpbmcgYWJpbGl0eSBvZiBkeW5hbWljLWF0
dGFjaCBETUEgYnVmcyAqLw0KPiAgIAkJCWF0dGFjaG1lbnRbaV0tPnR5cGUgPSBLRkRfTUVNX0FU
VF9ETUFCVUY7DQo+ICAgCQkJcmV0ID0ga2ZkX21lbV9hdHRhY2hfZG1hYnVmKGFkZXYsIG1lbSwg
JmJvW2ldKTsNCj4gICAJCQlpZiAocmV0KQ0KPiAgIAkJCQlnb3RvIHVud2luZDsNCj4gKwkJLyog
RW5hYmxlIGFjY2VzIHRvIFZSQU0gQk9zIG9mIHBlZXIgZGV2aWNlcyAqLw0KPiArCQl9IGVsc2Ug
aWYgKG1lbS0+ZG9tYWluID09IEFNREdQVV9HRU1fRE9NQUlOX1ZSQU0gJiYNCj4gKwkJCSAgIG1l
bS0+Ym8tPnRiby50eXBlID09IHR0bV9ib190eXBlX2RldmljZSkgew0KPiArCQkJcmV0ID0ga2Zk
X21lbV9hdHRhY2hfdnJhbV9ibyhhZGV2LCBtZW0sDQo+ICsJCQkJCQkmYm9baV0sIGF0dGFjaG1l
bnRbaV0pOw0KDQpZb3UgY2FuIGp1c3QgY2FsbCBrZmRfbWVtX2F0dGFjaF9kbWFidWYgZGlyZWN0
bHkgaGVyZS4gV3JhcCB0aGlzIHdob2xlIA0KZWxzZS1pZiBibG9jayAoYW5kIHRoZSBmb2xsb3dp
bmcgYmxvY2sgZm9yIGRvb3JiZWxscyBhbmQgTU1JTykgaW4gI2lmZGVmIA0KQ09ORklHX0hTQV9B
TURfUDJQLg0KDQpSYW1lc2g6IEFncmVlZCwgdGhlIHRocmVhZCBzaG91bGQgZmFsbCBpbnRvIHRo
ZSAiZWxzZSIgYnJhbmNoIHRoYXQgcHJpbnRzIGEgd2FybmluZw0KDQo+ICsJCQlpZiAocmV0KQ0K
PiArCQkJCWdvdG8gdW53aW5kOw0KPiArCQkvKiBIYW5kbGUgRE9PUkJFTEwgQk9zIG9mIHBlZXIg
ZGV2aWNlcyBhbmQgTU1JTyBCT3Mgb2YgbG9jYWwgYW5kIHBlZXIgZGV2aWNlcyAqLw0KPiArCQl9
IGVsc2UgaWYgKChtZW0tPmJvLT50Ym8udHlwZSA9PSB0dG1fYm9fdHlwZV9zZykgJiYNCj4gKwkJ
CSAgICgobWVtLT5hbGxvY19mbGFncyAmIEtGRF9JT0NfQUxMT0NfTUVNX0ZMQUdTX0RPT1JCRUxM
KSB8fA0KPiArCQkJICAgIChtZW0tPmFsbG9jX2ZsYWdzICYgS0ZEX0lPQ19BTExPQ19NRU1fRkxB
R1NfTU1JT19SRU1BUCkpKSB7DQoNCkkgdGhpbmsgd2UgbmVlZCBhbiBhbWRncHVfZGV2aWNlX2lz
X3BlZXJfYWNjZXNzaWJsZSBjaGVjayBoZXJlLCBleGNlcHQgDQptYXliZSBmb3IgbG9jYWwgTU1J
TyBtYXBwaW5ncy4gQWx0ZXJuYXRpdmVseSBleHRlbmQgdGhlIA0KcGVlci1hY2Nlc3NpYmlsaXR5
IGNoZWNrIGF0IHRoZSBzdGFydCBvZiB0aGlzIGZ1bmN0aW9uIHRvIGFsc28gaGFuZGxlIA0KZG9v
cmJlbGwgYW5kIE1NSU8gQk9zLg0KDQpSYW1lc2g6IENhbid0IHdyYXAgdGhpcyB3aXRoIEhTQV9B
TURfUDJQIG1hY3JvLiBUaGUgYmxvY2sgc2hvdWxkIGhhbmRsZSBhdHRhY2hpbmcgbG9jYWwgTU1J
TyBCT3MuIEFkZGVkIGxvZ2ljIGF0IHRoZSB0b3Agb2YgdGhlIG1ldGhvZCB0byBkZXRlcm1pbmUg
aWYgTU1JTyBhbmQgRE9PUkJFTEwgQk9zIG9mIHBlZXIgZGV2aWNlcyBzaG91bGQgYmUgYWxsb3dl
ZCB0byBhdHRhY2guIFJldHVybiBpZiB0aGV5IGFyZSBub3Qgc3VwcG9ydGVkLg0KDQoNCj4gKwkJ
CWF0dGFjaG1lbnRbaV0tPnR5cGUgPSBLRkRfTUVNX0FUVF9TRzsNCj4gKwkJCXJldCA9IGNyZWF0
ZV9kbWFtYXBfc2dfYm8oYWRldiwgbWVtLCAmYm9baV0pOw0KPiArCQkJaWYgKHJldCkNCj4gKwkJ
CQlnb3RvIHVud2luZDsNCj4gICAJCX0gZWxzZSB7DQo+IC0JCQkvKiBGSVhNRTogTmVlZCB0byBE
TUEtbWFwIG90aGVyIEJPIHR5cGVzOg0KPiAtCQkJICogbGFyZ2UtQkFSIFZSQU0sIGRvb3JiZWxs
cywgTU1JTyByZW1hcA0KPiAtCQkJICovDQo+IC0JCQlhdHRhY2htZW50W2ldLT50eXBlID0gS0ZE
X01FTV9BVFRfU0hBUkVEOw0KPiAtCQkJYm9baV0gPSBtZW0tPmJvOw0KPiAtCQkJZHJtX2dlbV9v
YmplY3RfZ2V0KCZib1tpXS0+dGJvLmJhc2UpOw0KPiArCQkJV0FSTl9PTkNFKHRydWUsICJIYW5k
bGluZyBpbnZhbGlkIEFUVEFDSCByZXF1ZXN0Iik7DQo+ICsJCQlyZXQgPSAtRUlOVkFMOw0KPiAr
CQkJZ290byB1bndpbmQ7DQo+ICAgCQl9DQo+ICAgDQo+ICAgCQkvKiBBZGQgQk8gdG8gVk0gaW50
ZXJuYWwgZGF0YSBzdHJ1Y3R1cmVzICovDQo+IEBAIC0xMTQ2LDI0ICsxMzcyLDYgQEAgc3RhdGlj
IGludCBtYXBfYm9fdG9fZ3B1dm0oc3RydWN0IGtnZF9tZW0gKm1lbSwNCj4gICAJcmV0dXJuIHJl
dDsNCj4gICB9DQo+ICAgDQo+IC1zdGF0aWMgc3RydWN0IHNnX3RhYmxlICpjcmVhdGVfZG9vcmJl
bGxfc2codWludDY0X3QgYWRkciwgdWludDMyX3Qgc2l6ZSkNCj4gLXsNCj4gLQlzdHJ1Y3Qgc2df
dGFibGUgKnNnID0ga21hbGxvYyhzaXplb2YoKnNnKSwgR0ZQX0tFUk5FTCk7DQo+IC0NCj4gLQlp
ZiAoIXNnKQ0KPiAtCQlyZXR1cm4gTlVMTDsNCj4gLQlpZiAoc2dfYWxsb2NfdGFibGUoc2csIDEs
IEdGUF9LRVJORUwpKSB7DQo+IC0JCWtmcmVlKHNnKTsNCj4gLQkJcmV0dXJuIE5VTEw7DQo+IC0J
fQ0KPiAtCXNnLT5zZ2wtPmRtYV9hZGRyZXNzID0gYWRkcjsNCj4gLQlzZy0+c2dsLT5sZW5ndGgg
PSBzaXplOw0KPiAtI2lmZGVmIENPTkZJR19ORUVEX1NHX0RNQV9MRU5HVEgNCj4gLQlzZy0+c2ds
LT5kbWFfbGVuZ3RoID0gc2l6ZTsNCj4gLSNlbmRpZg0KPiAtCXJldHVybiBzZzsNCj4gLX0NCj4g
LQ0KPiAgIHN0YXRpYyBpbnQgcHJvY2Vzc192YWxpZGF0ZV92bXMoc3RydWN0IGFtZGtmZF9wcm9j
ZXNzX2luZm8gKnByb2Nlc3NfaW5mbykNCj4gICB7DQo+ICAgCXN0cnVjdCBhbWRncHVfdm0gKnBl
ZXJfdm07DQo+IEBAIC0xNTMyLDcgKzE3NDAsNyBAQCBpbnQgYW1kZ3B1X2FtZGtmZF9ncHV2bV9h
bGxvY19tZW1vcnlfb2ZfZ3B1KA0KPiAgIAkJCWJvX3R5cGUgPSB0dG1fYm9fdHlwZV9zZzsNCj4g
ICAJCQlpZiAoc2l6ZSA+IFVJTlRfTUFYKQ0KPiAgIAkJCQlyZXR1cm4gLUVJTlZBTDsNCj4gLQkJ
CXNnID0gY3JlYXRlX2Rvb3JiZWxsX3NnKCpvZmZzZXQsIHNpemUpOw0KPiArCQkJc2cgPSBjcmVh
dGVfc2dfdGFibGUoKm9mZnNldCwgc2l6ZSk7DQo+ICAgCQkJaWYgKCFzZykNCj4gICAJCQkJcmV0
dXJuIC1FTk9NRU07DQo+ICAgCQl9IGVsc2Ugew0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RldmljZS5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X2RldmljZS5jDQo+IGluZGV4IGYxNmYxMDVhNzM3Yi4uM2RmYWMwN2NmMzdjIDEw
MDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMN
Cj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RldmljZS5jDQo+IEBA
IC0xMjcsNiArMTI3LDggQEAgY29uc3QgY2hhciAqYW1kZ3B1X2FzaWNfbmFtZVtdID0gew0KPiAg
IAkiTEFTVCIsDQo+ICAgfTsNCj4gICANCj4gK2V4dGVybiBib29sIHBjaWVfcDJwOw0KPiArDQo+
ICAgLyoqDQo+ICAgICogRE9DOiBwY2llX3JlcGxheV9jb3VudA0KPiAgICAqDQo+IEBAIC01NDYz
LDYgKzU0NjUsMzQgQEAgc3RhdGljIHZvaWQgYW1kZ3B1X2RldmljZV9nZXRfcGNpZV9pbmZvKHN0
cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQ0KPiAgIAl9DQo+ICAgfQ0KPiAgIA0KPiArLyoqDQo+
ICsgKiBhbWRncHVfZGV2aWNlX2lzX3BlZXJfYWNjZXNzaWJsZSAtIENoZWNrIHBlZXIgYWNjZXNz
IHRocm91Z2ggUENJZSBCQVINCj4gKyAqDQo+ICsgKiBAYWRldjogYW1kZ3B1X2RldmljZSBwb2lu
dGVyDQo+ICsgKiBAcGVlcl9hZGV2OiBhbWRncHVfZGV2aWNlIHBvaW50ZXIgZm9yIHBlZXIgZGV2
aWNlIHRyeWluZyB0byBhY2Nlc3MgQGFkZXYNCj4gKyAqDQo+ICsgKiBSZXR1cm4gdHJ1ZSBpZiBA
cGVlcl9hZGV2IGNhbiBhY2Nlc3MgKERNQSkgQGFkZXYgdGhyb3VnaCB0aGUgUENJZQ0KPiArICog
QkFSLCBpLmUuIEBhZGV2IGlzICJsYXJnZSBCQVIiIGFuZCB0aGUgQkFSIG1hdGNoZXMgdGhlIERN
QSBtYXNrIG9mDQo+ICsgKiBAcGVlcl9hZGV2Lg0KPiArICovDQo+ICtib29sIGFtZGdwdV9kZXZp
Y2VfaXNfcGVlcl9hY2Nlc3NpYmxlKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KPiArCQkJ
CSAgICAgIHN0cnVjdCBhbWRncHVfZGV2aWNlICpwZWVyX2FkZXYpDQo+ICt7DQo+ICsjaWZkZWYg
Q09ORklHX0hTQV9BTURfUDJQDQoNCkkgd2FzIGV4cGVjdGluZyBhIGNhbGwgdG8gcGNpX3AycGRt
YV9kaXN0YW5jZV9tYW55IHNvbWV3aGVyZSBoZXJlLg0KDQpSYW1lc2g6IEFkZGVkIGEgY2FsbCB0
byBzdWdnZXN0ZWQgbWV0aG9kIGFuZCB1c2UgaXRzIHJldHVybiB2YWx1ZSB0byBkZXRlcm1pbmUg
YWNjZXNzLg0KDQpSZWdhcmRzLA0KIMKgIEZlbGl4DQoNCg0KPiArCXVpbnQ2NF90IGFkZHJlc3Nf
bWFzayA9IHBlZXJfYWRldi0+ZGV2LT5kbWFfbWFzayA/DQo+ICsJCX4qcGVlcl9hZGV2LT5kZXYt
PmRtYV9tYXNrIDogfigoMVVMTCA8PCAzMikgLSAxKTsNCj4gKwlyZXNvdXJjZV9zaXplX3QgYXBl
cl9saW1pdCA9DQo+ICsJCWFkZXYtPmdtYy5hcGVyX2Jhc2UgKyBhZGV2LT5nbWMuYXBlcl9zaXpl
IC0gMTsNCj4gKw0KPiArCXJldHVybiBwY2llX3AycCAmJiAoYWRldi0+Z21jLnZpc2libGVfdnJh
bV9zaXplICYmDQo+ICsJCWFkZXYtPmdtYy5yZWFsX3ZyYW1fc2l6ZSA9PSBhZGV2LT5nbWMudmlz
aWJsZV92cmFtX3NpemUgJiYNCj4gKwkJIShhZGV2LT5nbWMuYXBlcl9iYXNlICYgYWRkcmVzc19t
YXNrIHx8DQo+ICsJCSAgYXBlcl9saW1pdCAmIGFkZHJlc3NfbWFzaykpOw0KPiArI2Vsc2UNCj4g
KwlyZXR1cm4gZmFsc2U7DQo+ICsjZW5kaWYNCj4gK30NCj4gKw0KPiAgIGludCBhbWRncHVfZGV2
aWNlX2JhY29fZW50ZXIoc3RydWN0IGRybV9kZXZpY2UgKmRldikNCj4gICB7DQo+ICAgCXN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2ID0gZHJtX3RvX2FkZXYoZGV2KTsNCj4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kcnYuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV9kcnYuYw0KPiBpbmRleCBiZWQ0ZWQ4ODk1MWYuLmQxYzgyYTll
ODU2OSAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2Ry
di5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kcnYuYw0KPiBA
QCAtODAyLDYgKzgwMiwxNCBAQCBNT0RVTEVfUEFSTV9ERVNDKG5vX3F1ZXVlX2V2aWN0aW9uX29u
X3ZtX2ZhdWx0LCAiTm8gcXVldWUgZXZpY3Rpb24gb24gVk0gZmF1bHQgKA0KPiAgIG1vZHVsZV9w
YXJhbV9uYW1lZChub19xdWV1ZV9ldmljdGlvbl9vbl92bV9mYXVsdCwgYW1kZ3B1X25vX3F1ZXVl
X2V2aWN0aW9uX29uX3ZtX2ZhdWx0LCBpbnQsIDA0NDQpOw0KPiAgICNlbmRpZg0KPiAgIA0KPiAr
LyoqDQo+ICsgKiBET0M6IHBjaWVfcDJwIChib29sKQ0KPiArICogRW5hYmxlIFBDSWUgUDJQIChy
ZXF1aXJlcyBsYXJnZS1CQVIpLiBEZWZhdWx0IHZhbHVlOiB0cnVlIChvbikNCj4gKyAqLw0KPiAr
Ym9vbCBwY2llX3AycCA9IHRydWU7DQo+ICttb2R1bGVfcGFyYW0ocGNpZV9wMnAsIGJvb2wsIDA0
NDQpOw0KPiArTU9EVUxFX1BBUk1fREVTQyhwY2llX3AycCwgIkVuYWJsZSBQQ0llIFAyUCAocmVx
dWlyZXMgbGFyZ2UtQkFSKS4gKE4gPSBvZmYsIFkgPSBvbihkZWZhdWx0KSkiKTsNCj4gKw0KPiAg
IC8qKg0KPiAgICAqIERPQzogZGNmZWF0dXJlbWFzayAodWludCkNCj4gICAgKiBPdmVycmlkZSBk
aXNwbGF5IGZlYXR1cmVzIGVuYWJsZWQuIFNlZSBlbnVtIERDX0ZFQVRVUkVfTUFTSyBpbiBkcml2
ZXJzL2dwdS9kcm0vYW1kL2luY2x1ZGUvYW1kX3NoYXJlZC5oLg0K
