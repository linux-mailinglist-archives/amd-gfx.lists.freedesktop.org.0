Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id D69B29AA39
	for <lists+amd-gfx@lfdr.de>; Fri, 23 Aug 2019 10:27:01 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 5D2116EC17;
	Fri, 23 Aug 2019 08:27:00 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-wr1-x441.google.com (mail-wr1-x441.google.com
 [IPv6:2a00:1450:4864:20::441])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C63556EC17
 for <amd-gfx@lists.freedesktop.org>; Fri, 23 Aug 2019 08:26:58 +0000 (UTC)
Received: by mail-wr1-x441.google.com with SMTP id g17so7835682wrr.5
 for <amd-gfx@lists.freedesktop.org>; Fri, 23 Aug 2019 01:26:58 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:reply-to:subject:to:references:from:message-id
 :date:user-agent:mime-version:in-reply-to:content-transfer-encoding
 :content-language;
 bh=6sQPAGeQZq2QKFPz3meReI0KV0PC79Q5+TzFFtobANA=;
 b=YruNS8dRMZCt5RgKKi4C9kdLYbHJFTg7XfSprTW92T2mwF4a4alYHXBDYZTMbhLxLt
 DlP3uS0c/4FOK0LH/7/ZdNX2+RNJVr+Iu87aCW0vo4O9ipOhb5jxTJiudG47kEN2VWsx
 Um9SFJEykEZauHnalSR7ORwpUEWpgZg06+fdxJ8AHlwXY+AZnSZUYqL1QJ19qJYrhLLI
 sZBPbblcb8aQ+lZYOgqwucq1y1uzNwii4DjiQya155QrGGIuOFD9YhYxEMd3Tw3CEzsx
 PZExgE6Ld8hmWieLEcrMkaMbSjNwgA6ftJqscJxWAwrsqh58wPtuIVp/dZSMMKQ9lVIA
 /Z/A==
X-Gm-Message-State: APjAAAXlfrcqvnQ6JWyyCank9ZMY4Tr61F/QTJTmLPfIEJWqslMx+utL
 NcvzaGQYkvavoKxlaYefdmnqY2NB
X-Google-Smtp-Source: APXvYqz7cP4OmvLm9VebIOCvAZVDbKR0v9rUiihkNNdQqlBhhfFhX2AlvYU65qHYCz4pA/EBR5NUlg==
X-Received: by 2002:adf:ff8e:: with SMTP id j14mr3667547wrr.141.1566548817076; 
 Fri, 23 Aug 2019 01:26:57 -0700 (PDT)
Received: from ?IPv6:2a02:908:1252:fb60:be8a:bd56:1f94:86e7?
 ([2a02:908:1252:fb60:be8a:bd56:1f94:86e7])
 by smtp.gmail.com with ESMTPSA id a23sm2612857wma.24.2019.08.23.01.26.55
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Fri, 23 Aug 2019 01:26:56 -0700 (PDT)
Subject: Re: [PATCH] drm/amdgpu: introduce vram lost paramter for reset
 function
To: Monk Liu <Monk.Liu@amd.com>, amd-gfx@lists.freedesktop.org
References: <1566531249-1396-1-git-send-email-Monk.Liu@amd.com>
From: =?UTF-8?Q?Christian_K=c3=b6nig?= <ckoenig.leichtzumerken@gmail.com>
Message-ID: <15d22497-cf4d-0d15-236c-5bc2b65eb656@gmail.com>
Date: Fri, 23 Aug 2019 10:26:54 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <1566531249-1396-1-git-send-email-Monk.Liu@amd.com>
Content-Language: en-US
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=reply-to:subject:to:references:from:message-id:date:user-agent
 :mime-version:in-reply-to:content-transfer-encoding:content-language;
 bh=6sQPAGeQZq2QKFPz3meReI0KV0PC79Q5+TzFFtobANA=;
 b=NlqY06py1rJ0cI+SPH1P0qCblLI1FCKtQ6BdXHPcwIZUqeopizjDO7ylJWVh1alB5W
 4GydAa4Cx6DYW1jQQycc2xZW704/mc3b7muMiEK0vkPlKpS4G+O9COWs5geq6gD9/d3L
 +J1nDODrUATAxZrFdVBENp2gbx94EX555CnPttCxrTmwocD/lgGbjhfXjuvaVVjx0LDd
 1CN7/QYVIvJr1Bg7ddgxj/E7vDcyQYdcsvpuBsHHR2HaNb9gHecod98An1po6nl1nxOo
 WDCEwBQGb3S2jFhHjcXDhl4vSoqwALE4h3Xif8dq78fq30PRSBuh+Y4eK5ZJpMUumwXQ
 orRA==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Reply-To: christian.koenig@amd.com
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

QW0gMjMuMDguMTkgdW0gMDU6MzQgc2NocmllYiBNb25rIExpdToKPiBmb3IgU09DMTUvdmVnYTEw
IHRoZSBCQUNPIHJlc2V0IHdvdWxkIGludHJvZHVjZSB2cmFtIGxvc3QgaW4KPiB0aGUgaGlnaCBl
bmQgYWRkcmVzcyByYW5nZSBhbmQgY3VycmVudCBrbWQncyB2cmFtIGxvc3QKPiBjaGVja2luZyBj
YW5ub3QgY2F0Y2ggaXQgc2luY2UgaXQgb25seSBjaGVjayB2aXNpYmxlIGZyYW1lIGJ1ZmZlcgo+
Cj4gVE9ETzoKPiB0byBjb25maXJtIGlmIG1vZGUxLzIgcmVzZXQgd291bGQgaW50cm9kdWNlIHZy
YW0gbG9zdAoKTG9va3MgZ29vZCBpbiBnZW5lcmFsLCBidXQgSSB3b3VsZCBtYWtlIHRoZSB2YWx1
ZSBtYW5kYXRvcnkgb3IgbWF5YmUgdXNlIAphIHNwZWNpYWwgcmV0dXJuIGNvZGUgaW5zdGVhZC4K
Ck9uIHRoZSBvdGhlciBoYW5kIHdvdWxkbid0IGl0IGJlIHNpbXBsZXIgdG8ganVzdCBpbmNyZW1l
bnQgCnZyYW1fbG9zdF9jb3VudGVyPwoKQ2hyaXN0aWFuLgoKPgo+IFNpZ25lZC1vZmYtYnk6IE1v
bmsgTGl1IDxNb25rLkxpdUBhbWQuY29tPgo+IC0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1LmggICAgICAgIHwgIDQgKystLQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1X2RldmljZS5jIHwgMTIgKysrKysrKy0tLS0tCj4gICBkcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9jaWsuYyAgICAgICAgICAgfCAgMiArLQo+ICAgZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvbnYuYyAgICAgICAgICAgIHwgMTAgKysrKysrKy0tLQo+ICAgZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvc2kuYyAgICAgICAgICAgIHwgIDIgKy0KPiAgIGRyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L3NvYzE1LmMgICAgICAgICB8ICA0ICsrKy0KPiAgIGRyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L3ZpLmMgICAgICAgICAgICB8ICAyICstCj4gICA3IGZpbGVzIGNoYW5n
ZWQsIDIyIGluc2VydGlvbnMoKyksIDE0IGRlbGV0aW9ucygtKQo+Cj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdS5oIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1LmgKPiBpbmRleCBmNmFlNTY1Li4xZmUzNzU2IDEwMDY0NAo+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdS5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvYW1kZ3B1LmgKPiBAQCAtNTUyLDcgKzU1Miw3IEBAIHN0cnVjdCBhbWRncHVf
YXNpY19mdW5jcyB7Cj4gICAJaW50ICgqcmVhZF9yZWdpc3Rlcikoc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYsIHUzMiBzZV9udW0sCj4gICAJCQkgICAgIHUzMiBzaF9udW0sIHUzMiByZWdfb2Zm
c2V0LCB1MzIgKnZhbHVlKTsKPiAgIAl2b2lkICgqc2V0X3ZnYV9zdGF0ZSkoc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYsIGJvb2wgc3RhdGUpOwo+IC0JaW50ICgqcmVzZXQpKHN0cnVjdCBhbWRn
cHVfZGV2aWNlICphZGV2KTsKPiArCWludCAoKnJlc2V0KShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldiwgYm9vbCAqbG9zdCk7Cj4gICAJZW51bSBhbWRfcmVzZXRfbWV0aG9kICgqcmVzZXRfbWV0
aG9kKShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7Cj4gICAJLyogZ2V0IHRoZSByZWZlcmVu
Y2UgY2xvY2sgKi8KPiAgIAl1MzIgKCpnZXRfeGNsaykoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFk
ZXYpOwo+IEBAIC0xMTM2LDcgKzExMzYsNyBAQCBpbnQgZW11X3NvY19hc2ljX2luaXQoc3RydWN0
IGFtZGdwdV9kZXZpY2UgKmFkZXYpOwo+ICAgICogQVNJQ3MgbWFjcm8uCj4gICAgKi8KPiAgICNk
ZWZpbmUgYW1kZ3B1X2FzaWNfc2V0X3ZnYV9zdGF0ZShhZGV2LCBzdGF0ZSkgKGFkZXYpLT5hc2lj
X2Z1bmNzLT5zZXRfdmdhX3N0YXRlKChhZGV2KSwgKHN0YXRlKSkKPiAtI2RlZmluZSBhbWRncHVf
YXNpY19yZXNldChhZGV2KSAoYWRldiktPmFzaWNfZnVuY3MtPnJlc2V0KChhZGV2KSkKPiArI2Rl
ZmluZSBhbWRncHVfYXNpY19yZXNldChhZGV2LCBsb3N0KSAoYWRldiktPmFzaWNfZnVuY3MtPnJl
c2V0KChhZGV2KSwgKGxvc3QpKQo+ICAgI2RlZmluZSBhbWRncHVfYXNpY19yZXNldF9tZXRob2Qo
YWRldikgKGFkZXYpLT5hc2ljX2Z1bmNzLT5yZXNldF9tZXRob2QoKGFkZXYpKQo+ICAgI2RlZmlu
ZSBhbWRncHVfYXNpY19nZXRfeGNsayhhZGV2KSAoYWRldiktPmFzaWNfZnVuY3MtPmdldF94Y2xr
KChhZGV2KSkKPiAgICNkZWZpbmUgYW1kZ3B1X2FzaWNfc2V0X3V2ZF9jbG9ja3MoYWRldiwgdiwg
ZCkgKGFkZXYpLT5hc2ljX2Z1bmNzLT5zZXRfdXZkX2Nsb2NrcygoYWRldiksICh2KSwgKGQpKQo+
IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMKPiBpbmRleCAwMmIz
ZTdkLi44NjY4Y2I4IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV9kZXZpY2UuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9k
ZXZpY2UuYwo+IEBAIC0yNTQ2LDcgKzI1NDYsNyBAQCBzdGF0aWMgdm9pZCBhbWRncHVfZGV2aWNl
X3hnbWlfcmVzZXRfZnVuYyhzdHJ1Y3Qgd29ya19zdHJ1Y3QgKl9fd29yaykKPiAgIAlzdHJ1Y3Qg
YW1kZ3B1X2RldmljZSAqYWRldiA9Cj4gICAJCWNvbnRhaW5lcl9vZihfX3dvcmssIHN0cnVjdCBh
bWRncHVfZGV2aWNlLCB4Z21pX3Jlc2V0X3dvcmspOwo+ICAgCj4gLQlhZGV2LT5hc2ljX3Jlc2V0
X3JlcyA9ICBhbWRncHVfYXNpY19yZXNldChhZGV2KTsKPiArCWFkZXYtPmFzaWNfcmVzZXRfcmVz
ID0gIGFtZGdwdV9hc2ljX3Jlc2V0KGFkZXYsIE5VTEwpOwo+ICAgCWlmIChhZGV2LT5hc2ljX3Jl
c2V0X3JlcykKPiAgIAkJRFJNX1dBUk4oIkFTSUMgcmVzZXQgZmFpbGVkIHdpdGggZXJyb3IsICVk
IGZvciBkcm0gZGV2LCAlcyIsCj4gICAJCQkgYWRldi0+YXNpY19yZXNldF9yZXMsIGFkZXYtPmRk
ZXYtPnVuaXF1ZSk7Cj4gQEAgLTI3NTEsNyArMjc1MSw3IEBAIGludCBhbWRncHVfZGV2aWNlX2lu
aXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCj4gICAJICogIEUuZy4sIGRyaXZlciB3YXMg
bm90IGNsZWFubHkgdW5sb2FkZWQgcHJldmlvdXNseSwgZXRjLgo+ICAgCSAqLwo+ICAgCWlmICgh
YW1kZ3B1X3NyaW92X3ZmKGFkZXYpICYmIGFtZGdwdV9hc2ljX25lZWRfcmVzZXRfb25faW5pdChh
ZGV2KSkgewo+IC0JCXIgPSBhbWRncHVfYXNpY19yZXNldChhZGV2KTsKPiArCQlyID0gYW1kZ3B1
X2FzaWNfcmVzZXQoYWRldiwgTlVMTCk7Cj4gICAJCWlmIChyKSB7Cj4gICAJCQlkZXZfZXJyKGFk
ZXYtPmRldiwgImFzaWMgcmVzZXQgb24gaW5pdCBmYWlsZWRcbiIpOwo+ICAgCQkJZ290byBmYWls
ZWQ7Cj4gQEAgLTMwODQsNyArMzA4NCw3IEBAIGludCBhbWRncHVfZGV2aWNlX3N1c3BlbmQoc3Ry
dWN0IGRybV9kZXZpY2UgKmRldiwgYm9vbCBzdXNwZW5kLCBib29sIGZiY29uKQo+ICAgCQlwY2lf
ZGlzYWJsZV9kZXZpY2UoZGV2LT5wZGV2KTsKPiAgIAkJcGNpX3NldF9wb3dlcl9zdGF0ZShkZXYt
PnBkZXYsIFBDSV9EM2hvdCk7Cj4gICAJfSBlbHNlIHsKPiAtCQlyID0gYW1kZ3B1X2FzaWNfcmVz
ZXQoYWRldik7Cj4gKwkJciA9IGFtZGdwdV9hc2ljX3Jlc2V0KGFkZXYsIE5VTEwpOwo+ICAgCQlp
ZiAocikKPiAgIAkJCURSTV9FUlJPUigiYW1kZ3B1IGFzaWMgcmVzZXQgZmFpbGVkXG4iKTsKPiAg
IAl9Cj4gQEAgLTM2MDQsNyArMzYwNCw3IEBAIHN0YXRpYyBpbnQgYW1kZ3B1X2RvX2FzaWNfcmVz
ZXQoc3RydWN0IGFtZGdwdV9oaXZlX2luZm8gKmhpdmUsCj4gICAJCQkJaWYgKCFxdWV1ZV93b3Jr
KHN5c3RlbV9oaWdocHJpX3dxLCAmdG1wX2FkZXYtPnhnbWlfcmVzZXRfd29yaykpCj4gICAJCQkJ
CXIgPSAtRUFMUkVBRFk7Cj4gICAJCQl9IGVsc2UKPiAtCQkJCXIgPSBhbWRncHVfYXNpY19yZXNl
dCh0bXBfYWRldik7Cj4gKwkJCQlyID0gYW1kZ3B1X2FzaWNfcmVzZXQodG1wX2FkZXYsICZ2cmFt
X2xvc3QpOwo+ICAgCj4gICAJCQlpZiAocikgewo+ICAgCQkJCURSTV9FUlJPUigiQVNJQyByZXNl
dCBmYWlsZWQgd2l0aCBlcnJvciwgJWQgZm9yIGRybSBkZXYsICVzIiwKPiBAQCAtMzY0NSw3ICsz
NjQ1LDkgQEAgc3RhdGljIGludCBhbWRncHVfZG9fYXNpY19yZXNldChzdHJ1Y3QgYW1kZ3B1X2hp
dmVfaW5mbyAqaGl2ZSwKPiAgIAkJCQlpZiAocikKPiAgIAkJCQkJZ290byBvdXQ7Cj4gICAKPiAt
CQkJCXZyYW1fbG9zdCA9IGFtZGdwdV9kZXZpY2VfY2hlY2tfdnJhbV9sb3N0KHRtcF9hZGV2KTsK
PiArCQkJCWlmICghdnJhbV9sb3N0KQo+ICsJCQkJCXZyYW1fbG9zdCA9IGFtZGdwdV9kZXZpY2Vf
Y2hlY2tfdnJhbV9sb3N0KHRtcF9hZGV2KTsKPiArCj4gICAJCQkJaWYgKHZyYW1fbG9zdCkgewo+
ICAgCQkJCQlEUk1fSU5GTygiVlJBTSBpcyBsb3N0IGR1ZSB0byBHUFUgcmVzZXQhXG4iKTsKPiAg
IAkJCQkJYXRvbWljX2luYygmdG1wX2FkZXYtPnZyYW1fbG9zdF9jb3VudGVyKTsKPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvY2lrLmMgYi9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9jaWsuYwo+IGluZGV4IDdiNjNkN2EuLjBmMjViODIgMTAwNjQ0Cj4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvY2lrLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9jaWsuYwo+IEBAIC0xMjc3LDcgKzEyNzcsNyBAQCBzdGF0aWMgaW50IGNpa19n
cHVfcGNpX2NvbmZpZ19yZXNldChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKPiAgICAqIHRv
IHJlc2V0IHRoZW0uCj4gICAgKiBSZXR1cm5zIDAgZm9yIHN1Y2Nlc3MuCj4gICAgKi8KPiAtc3Rh
dGljIGludCBjaWtfYXNpY19yZXNldChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKPiArc3Rh
dGljIGludCBjaWtfYXNpY19yZXNldChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgYm9vbCAq
dnJhbWxvc3QpCj4gICB7Cj4gICAJaW50IHI7Cj4gICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvbnYuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L252LmMK
PiBpbmRleCBhM2Q5OWYyLi41M2RlN2E2IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L252LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9udi5jCj4g
QEAgLTMwMSw3ICszMDEsNyBAQCBudl9hc2ljX3Jlc2V0X21ldGhvZChzdHJ1Y3QgYW1kZ3B1X2Rl
dmljZSAqYWRldikKPiAgIAkJcmV0dXJuIEFNRF9SRVNFVF9NRVRIT0RfTU9ERTE7Cj4gICB9Cj4g
ICAKPiAtc3RhdGljIGludCBudl9hc2ljX3Jlc2V0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2
KQo+ICtzdGF0aWMgaW50IG52X2FzaWNfcmVzZXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYs
IGJvb2wgKnZyYW1sb3N0KQo+ICAgewo+ICAgCj4gICAJLyogRklYTUU6IGl0IGRvZXNuJ3Qgd29y
ayBzaW5jZSB2ZWdhMTAgKi8KPiBAQCAtMzE1LDEwICszMTUsMTQgQEAgc3RhdGljIGludCBudl9h
c2ljX3Jlc2V0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQo+ICAgCWludCByZXQgPSAwOwo+
ICAgCXN0cnVjdCBzbXVfY29udGV4dCAqc211ID0gJmFkZXYtPnNtdTsKPiAgIAo+IC0JaWYgKG52
X2FzaWNfcmVzZXRfbWV0aG9kKGFkZXYpID09IEFNRF9SRVNFVF9NRVRIT0RfQkFDTykKPiArCWlm
IChudl9hc2ljX3Jlc2V0X21ldGhvZChhZGV2KSA9PSBBTURfUkVTRVRfTUVUSE9EX0JBQ08pIHsK
PiArCQlpZiAodnJhbWxvc3QpCj4gKwkJCSp2cmFtbG9zdCA9IHRydWU7Cj4gICAJCXJldCA9IHNt
dV9iYWNvX3Jlc2V0KHNtdSk7Cj4gLQllbHNlCj4gKwl9Cj4gKwllbHNlIHsKPiAgIAkJcmV0ID0g
bnZfYXNpY19tb2RlMV9yZXNldChhZGV2KTsKPiArCX0KPiAgIAo+ICAgCXJldHVybiByZXQ7Cj4g
ICB9Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NpLmMgYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zaS5jCj4gaW5kZXggOTA0MzYxNC4uZjMyNDA5OSAxMDA2
NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zaS5jCj4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvc2kuYwo+IEBAIC0xMTgwLDcgKzExODAsNyBAQCBzdGF0aWMg
Ym9vbCBzaV9yZWFkX2Jpb3NfZnJvbV9yb20oc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCj4g
ICB9Cj4gICAKPiAgIC8veHh4OiBub3QgaW1wbGVtZW50ZWQKPiAtc3RhdGljIGludCBzaV9hc2lj
X3Jlc2V0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQo+ICtzdGF0aWMgaW50IHNpX2FzaWNf
cmVzZXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIGJvb2wgKnZyYW1sb3N0KQo+ICAgewo+
ICAgCXJldHVybiAwOwo+ICAgfQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9zb2MxNS5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc29jMTUuYwo+IGluZGV4
IGZlMjIxMmRmLi4xMmIyOTY2IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L3NvYzE1LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zb2MxNS5jCj4g
QEAgLTU1MywxMCArNTUzLDEyIEBAIHNvYzE1X2FzaWNfcmVzZXRfbWV0aG9kKHN0cnVjdCBhbWRn
cHVfZGV2aWNlICphZGV2KQo+ICAgCQlyZXR1cm4gQU1EX1JFU0VUX01FVEhPRF9NT0RFMTsKPiAg
IH0KPiAgIAo+IC1zdGF0aWMgaW50IHNvYzE1X2FzaWNfcmVzZXQoc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYpCj4gK3N0YXRpYyBpbnQgc29jMTVfYXNpY19yZXNldChzdHJ1Y3QgYW1kZ3B1X2Rl
dmljZSAqYWRldiwgYm9vbCAqdnJhbWxvc3QpCj4gICB7Cj4gICAJc3dpdGNoIChzb2MxNV9hc2lj
X3Jlc2V0X21ldGhvZChhZGV2KSkgewo+ICAgCQljYXNlIEFNRF9SRVNFVF9NRVRIT0RfQkFDTzoK
PiArCQkJaWYgKHZyYW1sb3N0KQo+ICsJCQkJKnZyYW1sb3N0ID0gdHJ1ZTsKPiAgIAkJCXJldHVy
biBzb2MxNV9hc2ljX2JhY29fcmVzZXQoYWRldik7Cj4gICAJCWNhc2UgQU1EX1JFU0VUX01FVEhP
RF9NT0RFMjoKPiAgIAkJCXJldHVybiBzb2MxNV9tb2RlMl9yZXNldChhZGV2KTsKPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdmkuYyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L3ZpLmMKPiBpbmRleCA1NmM4ODJiLi44ZWNlYjAwIDEwMDY0NAo+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3ZpLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS92aS5jCj4gQEAgLTY5Niw3ICs2OTYsNyBAQCBzdGF0aWMgaW50IHZpX2dwdV9wY2lf
Y29uZmlnX3Jlc2V0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQo+ICAgICogdG8gcmVzZXQg
dGhlbS4KPiAgICAqIFJldHVybnMgMCBmb3Igc3VjY2Vzcy4KPiAgICAqLwo+IC1zdGF0aWMgaW50
IHZpX2FzaWNfcmVzZXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCj4gK3N0YXRpYyBpbnQg
dmlfYXNpY19yZXNldChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgYm9vbCAqdnJhbWxvc3Qp
Cj4gICB7Cj4gICAJaW50IHI7Cj4gICAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRl
c2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8v
YW1kLWdmeA==
