Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 98FF521951
	for <lists+amd-gfx@lfdr.de>; Fri, 17 May 2019 15:45:48 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 2717C8940F;
	Fri, 17 May 2019 13:45:47 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM01-SN1-obe.outbound.protection.outlook.com
 (mail-eopbgr820042.outbound.protection.outlook.com [40.107.82.42])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C42A28940F
 for <amd-gfx@lists.freedesktop.org>; Fri, 17 May 2019 13:45:45 +0000 (UTC)
Received: from BN6PR12MB1618.namprd12.prod.outlook.com (10.172.21.149) by
 BN6PR12MB1299.namprd12.prod.outlook.com (10.168.227.149) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1900.16; Fri, 17 May 2019 13:45:44 +0000
Received: from BN6PR12MB1618.namprd12.prod.outlook.com
 ([fe80::cc4d:3c41:57ba:522]) by BN6PR12MB1618.namprd12.prod.outlook.com
 ([fe80::cc4d:3c41:57ba:522%2]) with mapi id 15.20.1900.010; Fri, 17 May 2019
 13:45:44 +0000
From: "Russell, Kent" <Kent.Russell@amd.com>
To: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: [PATCH] drm/amdgpu: Add Unique Identifier sysfs file unique_id
Thread-Topic: [PATCH] drm/amdgpu: Add Unique Identifier sysfs file unique_id
Thread-Index: AQHVDLbSXAJE5iCRmU2zJo+qjV+JsA==
Date: Fri, 17 May 2019 13:45:43 +0000
Message-ID: <20190517134533.5070-1-kent.russell@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [165.204.55.251]
x-clientproxiedby: YTOPR0101CA0060.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:b00:14::37) To BN6PR12MB1618.namprd12.prod.outlook.com
 (2603:10b6:405:b::21)
x-ms-exchange-messagesentrepresentingtype: 1
x-mailer: git-send-email 2.17.1
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: d9e41a22-e2e3-4efa-f618-08d6dacdf4e7
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600141)(711020)(4605104)(4618075)(2017052603328)(7193020);
 SRVR:BN6PR12MB1299; 
x-ms-traffictypediagnostic: BN6PR12MB1299:
x-microsoft-antispam-prvs: <BN6PR12MB1299C485F451208E6DFB0E6A850B0@BN6PR12MB1299.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:1169;
x-forefront-prvs: 0040126723
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(366004)(39860400002)(136003)(376002)(346002)(396003)(189003)(199004)(73956011)(64756008)(8936002)(2906002)(8676002)(14454004)(1076003)(72206003)(2501003)(3846002)(6116002)(99286004)(256004)(14444005)(81166006)(66556008)(66476007)(6512007)(316002)(81156014)(66446008)(68736007)(5660300002)(71190400001)(71200400001)(66946007)(6916009)(66066001)(52116002)(2616005)(4326008)(53936002)(86362001)(6486002)(102836004)(26005)(186003)(36756003)(25786009)(5640700003)(6506007)(386003)(6436002)(305945005)(7736002)(50226002)(478600001)(486006)(476003)(2351001)(222643001);
 DIR:OUT; SFP:1101; SCL:1; SRVR:BN6PR12MB1299;
 H:BN6PR12MB1618.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: /3DkLwHgSa9/9CHq3RnDKdTCYSCLrrQa7eWkTzIIQ7g8+bWulWiCof+Vu4FOz4IbmkGUdEHqSJS76YHaZf9+L3U+kvy+OjXlVTWMFgA+QwPdxH62ixcbTuAscUaupare4gsTCVa9zDGQLx5hHjAt2NB0bAqvV6T2H1k/d6hI0CwilViYTA5wAGlweee50DR9L+0YgCykePKZBXjvL3XuMQKwU8cc6/dv62pa+4T5IGvDVUijagr/HoPYlpSjfkzRFABDGUcBPrUnIoic5Gm5K1SUkrFnbbLcaZsjapOYuiTW3MOcB7oBDNUi4xrBYZignfr9jPpXIV/NiDnCupxUznHKp1qEBs1/40T9rMWk7BE6sZWB4UQ+E4+z80/ZRpT2bIEBAhP40NXiXhrLLZ8I0WNK5OTG/PWD1I2txGdEpnI=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: d9e41a22-e2e3-4efa-f618-08d6dacdf4e7
X-MS-Exchange-CrossTenant-originalarrivaltime: 17 May 2019 13:45:43.9174 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BN6PR12MB1299
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=r/eTnWi3D/b6m1php9NpZuVhdPfjncWSIwR8jVJexHw=;
 b=Fxm7UfxPTD6fOjzCZuXYcixWGDd7OOUBeUXze3Uh3NZJ/6WboYIhvUrk4BReDOREMx7EMuQSO9nWv4tmPVgVkIfbqwElY6xFycAeoNjTTqPHVMsn8P7iVDLcNQcThjSZ2lXOY2gj2L2mf1VA2Kgm8e9/DksMzDGumLnSh37Ifgw=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Kent.Russell@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Russell, Kent" <Kent.Russell@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

QWRkIGEgZmlsZSB0aGF0IHByb3ZpZGVzIGEgVW5pcXVlIElEIGZvciB0aGUgR1BVLg0KVGhpcyB3
aWxsIHBlcnNpc3QgYWNyb3NzIG1hY2hpbmVzIGFuZCBpcyBndWFyYW50ZWVkIHRvIGJlIHVuaXF1
ZS4NClRoaXMgaXMgb25seSBhdmFpbGFibGUgZm9yIEdGWDkgYW5kIG5ld2VyLCBzbyBvbGRlciBB
U0lDcyB3aWxsIG5vdA0KaGF2ZSB0aGlzIGZpbGUgaW4gdGhlIHN5c2ZzIHBvb2wNCg0KQ2hhbmdl
LUlkOiBJM2M2NzNmNzhlZmNjNWJmOTNjYTU4ZDY1ZWRiZTM5ZmMzYTg2YjQyYQ0KU2lnbmVkLW9m
Zi1ieTogS2VudCBSdXNzZWxsIDxrZW50LnJ1c3NlbGxAYW1kLmNvbT4NCi0tLQ0KIGRyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9wbS5jICAgICAgICB8IDMzICsrKysrKysrKysrKysr
KysrKysNCiAuLi4vZHJtL2FtZC9wb3dlcnBsYXkvaHdtZ3IvdmVnYTEwX2h3bWdyLmMgICAgfCAg
OSArKysrKw0KIC4uLi9kcm0vYW1kL3Bvd2VycGxheS9od21nci92ZWdhMTJfaHdtZ3IuYyAgICB8
ICA5ICsrKysrDQogLi4uL2RybS9hbWQvcG93ZXJwbGF5L2h3bWdyL3ZlZ2EyMF9od21nci5jICAg
IHwgIDkgKysrKysNCiBkcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvaHdtZ3IuaCAg
ICAgfCAgMSArDQogNSBmaWxlcyBjaGFuZ2VkLCA2MSBpbnNlcnRpb25zKCspDQoNCmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfcG0uYyBiL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9wbS5jDQppbmRleCBhZGJhOWVhMDNlNjMuLmU0ZTVkYmJj
NjljMSAxMDA2NDQNCi0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9wbS5j
DQorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfcG0uYw0KQEAgLTEzNjgs
NiArMTM2OCwzMCBAQCBzdGF0aWMgc3NpemVfdCBhbWRncHVfZ2V0X3BjaWVfYncoc3RydWN0IGRl
dmljZSAqZGV2LA0KIAkJCWNvdW50MCwgY291bnQxLCBwY2llX2dldF9tcHMoYWRldi0+cGRldikp
Ow0KIH0NCiANCisvKioNCisgKiBET0M6IHVuaXF1ZV9pZA0KKyAqDQorICogVGhlIGFtZGdwdSBk
cml2ZXIgcHJvdmlkZXMgYSBzeXNmcyBBUEkgZm9yIHByb3ZpZGluZyBhIHVuaXF1ZSBJRCBmb3Ig
dGhlIEdQVQ0KKyAqIFRoZSBmaWxlIHVuaXF1ZV9pZCBpcyB1c2VkIGZvciB0aGlzLg0KKyAqIFRo
aXMgd2lsbCBwcm92aWRlIGEgVW5pcXVlIElEIHRoYXQgd2lsbCBwZXJzaXN0IGZyb20gbWFjaGlu
ZSB0byBtYWNoaW5lDQorICoNCisgKiBOT1RFOiBUaGlzIHdpbGwgb25seSB3b3JrIGZvciBHRlg5
IGFuZCBuZXdlci4gVGhpcyBmaWxlIHdpbGwgYmUgYWJzZW50DQorICogb24gdW5zdXBwb3J0ZWQg
QVNJQ3MgKEdGWDggYW5kIG9sZGVyKQ0KKyAqLw0KK3N0YXRpYyBzc2l6ZV90IGFtZGdwdV9nZXRf
dW5pcXVlX2lkKHN0cnVjdCBkZXZpY2UgKmRldiwNCisJCXN0cnVjdCBkZXZpY2VfYXR0cmlidXRl
ICphdHRyLA0KKwkJY2hhciAqYnVmKQ0KK3sNCisJc3RydWN0IGRybV9kZXZpY2UgKmRkZXYgPSBk
ZXZfZ2V0X2RydmRhdGEoZGV2KTsNCisJc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSBkZGV2
LT5kZXZfcHJpdmF0ZTsNCisJc3RydWN0IHBwX2h3bWdyICpod21nciA9IGFkZXYtPnBvd2VycGxh
eS5wcF9oYW5kbGU7DQorDQorCWlmIChod21nci0+c2VyaWFsKQ0KKwkJcmV0dXJuIHNucHJpbnRm
KGJ1ZiwgUEFHRV9TSVpFLCAiJTAxNmxseFxuIiwgaHdtZ3ItPnNlcmlhbCk7DQorDQorCXJldHVy
biAwOw0KK30NCisNCiBzdGF0aWMgREVWSUNFX0FUVFIocG93ZXJfZHBtX3N0YXRlLCBTX0lSVUdP
IHwgU19JV1VTUiwgYW1kZ3B1X2dldF9kcG1fc3RhdGUsIGFtZGdwdV9zZXRfZHBtX3N0YXRlKTsN
CiBzdGF0aWMgREVWSUNFX0FUVFIocG93ZXJfZHBtX2ZvcmNlX3BlcmZvcm1hbmNlX2xldmVsLCBT
X0lSVUdPIHwgU19JV1VTUiwNCiAJCSAgIGFtZGdwdV9nZXRfZHBtX2ZvcmNlZF9wZXJmb3JtYW5j
ZV9sZXZlbCwNCkBAIC0xNDE4LDYgKzE0NDIsNyBAQCBzdGF0aWMgREVWSUNFX0FUVFIocGNpZV9i
dywgU19JUlVHTywgYW1kZ3B1X2dldF9wY2llX2J3LCBOVUxMKTsNCiBzdGF0aWMgREVWSUNFX0FU
VFIocHBmZWF0dXJlcywgU19JUlVHTyB8IFNfSVdVU1IsDQogCQlhbWRncHVfZ2V0X3BwZmVhdHVy
ZV9zdGF0dXMsDQogCQlhbWRncHVfc2V0X3BwZmVhdHVyZV9zdGF0dXMpOw0KK3N0YXRpYyBERVZJ
Q0VfQVRUUih1bmlxdWVfaWQsIFNfSVJVR08sIGFtZGdwdV9nZXRfdW5pcXVlX2lkLCBOVUxMKTsN
CiANCiBzdGF0aWMgc3NpemVfdCBhbWRncHVfaHdtb25fc2hvd190ZW1wKHN0cnVjdCBkZXZpY2Ug
KmRldiwNCiAJCQkJICAgICAgc3RydWN0IGRldmljZV9hdHRyaWJ1dGUgKmF0dHIsDQpAQCAtMjgx
NCw2ICsyODM5LDEyIEBAIGludCBhbWRncHVfcG1fc3lzZnNfaW5pdChzdHJ1Y3QgYW1kZ3B1X2Rl
dmljZSAqYWRldikNCiAJCQlyZXR1cm4gcmV0Ow0KIAkJfQ0KIAl9DQorCWlmIChod21nci0+c2Vy
aWFsKQ0KKwkJcmV0ID0gZGV2aWNlX2NyZWF0ZV9maWxlKGFkZXYtPmRldiwgJmRldl9hdHRyX3Vu
aXF1ZV9pZCk7DQorCWlmIChyZXQpIHsNCisJCURSTV9FUlJPUigiZmFpbGVkIHRvIGNyZWF0ZSBk
ZXZpY2UgZmlsZSB1bmlxdWVfaWRcbiIpOw0KKwkJcmV0dXJuIHJldDsNCisJfQ0KIAlyZXQgPSBh
bWRncHVfZGVidWdmc19wbV9pbml0KGFkZXYpOw0KIAlpZiAocmV0KSB7DQogCQlEUk1fRVJST1Io
IkZhaWxlZCB0byByZWdpc3RlciBkZWJ1Z2ZzIGZpbGUgZm9yIGRwbSFcbiIpOw0KQEAgLTI4NzUs
NiArMjkwNiw4IEBAIHZvaWQgYW1kZ3B1X3BtX3N5c2ZzX2Zpbmkoc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYpDQogCQlkZXZpY2VfcmVtb3ZlX2ZpbGUoYWRldi0+ZGV2LCAmZGV2X2F0dHJfbWVt
X2J1c3lfcGVyY2VudCk7DQogCWlmICghKGFkZXYtPmZsYWdzICYgQU1EX0lTX0FQVSkpDQogCQlk
ZXZpY2VfcmVtb3ZlX2ZpbGUoYWRldi0+ZGV2LCAmZGV2X2F0dHJfcGNpZV9idyk7DQorCWlmICho
d21nci0+c2VyaWFsKQ0KKwkJZGV2aWNlX3JlbW92ZV9maWxlKGFkZXYtPmRldiwgJmRldl9hdHRy
X3VuaXF1ZV9pZCk7DQogCWlmICgoYWRldi0+YXNpY190eXBlID49IENISVBfVkVHQTEwKSAmJg0K
IAkgICAgIShhZGV2LT5mbGFncyAmIEFNRF9JU19BUFUpKQ0KIAkJZGV2aWNlX3JlbW92ZV9maWxl
KGFkZXYtPmRldiwgJmRldl9hdHRyX3BwZmVhdHVyZXMpOw0KZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvcG93ZXJwbGF5L2h3bWdyL3ZlZ2ExMF9od21nci5jIGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9wb3dlcnBsYXkvaHdtZ3IvdmVnYTEwX2h3bWdyLmMNCmluZGV4IDk1ODViYTUxZDg1
My4uNmI1ZmFjY2E3YTgxIDEwMDY0NA0KLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBs
YXkvaHdtZ3IvdmVnYTEwX2h3bWdyLmMNCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJw
bGF5L2h3bWdyL3ZlZ2ExMF9od21nci5jDQpAQCAtMzU2LDYgKzM1Niw3IEBAIHN0YXRpYyB2b2lk
IHZlZ2ExMF9pbml0X2RwbV9kZWZhdWx0cyhzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyKQ0KIAlzdHJ1
Y3QgdmVnYTEwX2h3bWdyICpkYXRhID0gaHdtZ3ItPmJhY2tlbmQ7DQogCWludCBpOw0KIAl1aW50
MzJfdCBzdWJfdmVuZG9yX2lkLCBod19yZXZpc2lvbjsNCisJdWludDMyX3QgdG9wMzIsIGJvdHRv
bTMyOw0KIAlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IGh3bWdyLT5hZGV2Ow0KIA0KIAl2
ZWdhMTBfaW5pdGlhbGl6ZV9wb3dlcl90dW5lX2RlZmF1bHRzKGh3bWdyKTsNCkBAIC00OTksNiAr
NTAwLDE0IEBAIHN0YXRpYyB2b2lkIHZlZ2ExMF9pbml0X2RwbV9kZWZhdWx0cyhzdHJ1Y3QgcHBf
aHdtZ3IgKmh3bWdyKQ0KIAkJKGh3X3JldmlzaW9uID09IDApICYmDQogCQkoc3ViX3ZlbmRvcl9p
ZCAhPSAweDEwMDIpKQ0KIAkJZGF0YS0+c211X2ZlYXR1cmVzW0dOTERfUENDX0xJTUlUXS5zdXBw
b3J0ZWQgPSB0cnVlOw0KKw0KKwkvKiBHZXQgdGhlIFNOIHRvIHR1cm4gaW50byBhIFVuaXF1ZSBJ
RCAqLw0KKwlzbXVtX3NlbmRfbXNnX3RvX3NtYyhod21nciwgUFBTTUNfTVNHX1JlYWRTZXJpYWxO
dW1Ub3AzMik7DQorCXRvcDMyID0gc211bV9nZXRfYXJndW1lbnQoaHdtZ3IpOw0KKwlzbXVtX3Nl
bmRfbXNnX3RvX3NtYyhod21nciwgUFBTTUNfTVNHX1JlYWRTZXJpYWxOdW1Cb3R0b20zMik7DQor
CWJvdHRvbTMyID0gc211bV9nZXRfYXJndW1lbnQoaHdtZ3IpOw0KKw0KKwlod21nci0+c2VyaWFs
ID0gKCh1aW50NjRfdClib3R0b20zMiA8PCAzMikgfCB0b3AzMjsNCiB9DQogDQogI2lmZGVmIFBQ
TElCX1ZFR0ExMF9FVlZfU1VQUE9SVA0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQv
cG93ZXJwbGF5L2h3bWdyL3ZlZ2ExMl9od21nci5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dl
cnBsYXkvaHdtZ3IvdmVnYTEyX2h3bWdyLmMNCmluZGV4IDFhOTA5ZGRhMzdjNy4uODYyNWUxOGY1
MmQ5IDEwMDY0NA0KLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaHdtZ3IvdmVn
YTEyX2h3bWdyLmMNCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2h3bWdyL3Zl
Z2ExMl9od21nci5jDQpAQCAtMjg5LDYgKzI4OSw3IEBAIHN0YXRpYyBpbnQgdmVnYTEyX3NldF9m
ZWF0dXJlc19wbGF0Zm9ybV9jYXBzKHN0cnVjdCBwcF9od21nciAqaHdtZ3IpDQogc3RhdGljIHZv
aWQgdmVnYTEyX2luaXRfZHBtX2RlZmF1bHRzKHN0cnVjdCBwcF9od21nciAqaHdtZ3IpDQogew0K
IAlzdHJ1Y3QgdmVnYTEyX2h3bWdyICpkYXRhID0gKHN0cnVjdCB2ZWdhMTJfaHdtZ3IgKikoaHdt
Z3ItPmJhY2tlbmQpOw0KKwl1aW50MzJfdCB0b3AzMiwgYm90dG9tMzI7DQogCWludCBpOw0KIA0K
IAlkYXRhLT5zbXVfZmVhdHVyZXNbR05MRF9EUE1fUFJFRkVUQ0hFUl0uc211X2ZlYXR1cmVfaWQg
PQ0KQEAgLTM1Myw2ICszNTQsMTQgQEAgc3RhdGljIHZvaWQgdmVnYTEyX2luaXRfZHBtX2RlZmF1
bHRzKHN0cnVjdCBwcF9od21nciAqaHdtZ3IpDQogCQkJKChkYXRhLT5yZWdpc3RyeV9kYXRhLmRp
c2FsbG93ZWRfZmVhdHVyZXMgPj4gaSkgJiAxKSA/DQogCQkJZmFsc2UgOiB0cnVlOw0KIAl9DQor
DQorCS8qIEdldCB0aGUgU04gdG8gdHVybiBpbnRvIGEgVW5pcXVlIElEICovDQorCXNtdW1fc2Vu
ZF9tc2dfdG9fc21jKGh3bWdyLCBQUFNNQ19NU0dfUmVhZFNlcmlhbE51bVRvcDMyKTsNCisJdG9w
MzIgPSBzbXVtX2dldF9hcmd1bWVudChod21ncik7DQorCXNtdW1fc2VuZF9tc2dfdG9fc21jKGh3
bWdyLCBQUFNNQ19NU0dfUmVhZFNlcmlhbE51bUJvdHRvbTMyKTsNCisJYm90dG9tMzIgPSBzbXVt
X2dldF9hcmd1bWVudChod21ncik7DQorDQorCWh3bWdyLT5zZXJpYWwgPSAoKHVpbnQ2NF90KWJv
dHRvbTMyIDw8IDMyKSB8IHRvcDMyOw0KIH0NCiANCiBzdGF0aWMgaW50IHZlZ2ExMl9zZXRfcHJp
dmF0ZV9kYXRhX2Jhc2VkX29uX3BwdGFibGUoc3RydWN0IHBwX2h3bWdyICpod21ncikNCmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9od21nci92ZWdhMjBfaHdtZ3Iu
YyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2h3bWdyL3ZlZ2EyMF9od21nci5jDQpp
bmRleCBkMThmMzRkNGE1MWUuLmJlMzZkZTUzNGZiNyAxMDA2NDQNCi0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvcG93ZXJwbGF5L2h3bWdyL3ZlZ2EyMF9od21nci5jDQorKysgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL3Bvd2VycGxheS9od21nci92ZWdhMjBfaHdtZ3IuYw0KQEAgLTMyNCw2ICszMjQs
NyBAQCBzdGF0aWMgaW50IHZlZ2EyMF9zZXRfZmVhdHVyZXNfcGxhdGZvcm1fY2FwcyhzdHJ1Y3Qg
cHBfaHdtZ3IgKmh3bWdyKQ0KIHN0YXRpYyB2b2lkIHZlZ2EyMF9pbml0X2RwbV9kZWZhdWx0cyhz
dHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyKQ0KIHsNCiAJc3RydWN0IHZlZ2EyMF9od21nciAqZGF0YSA9
IChzdHJ1Y3QgdmVnYTIwX2h3bWdyICopKGh3bWdyLT5iYWNrZW5kKTsNCisJdWludDMyX3QgdG9w
MzIsIGJvdHRvbTMyOw0KIAlpbnQgaTsNCiANCiAJZGF0YS0+c211X2ZlYXR1cmVzW0dOTERfRFBN
X1BSRUZFVENIRVJdLnNtdV9mZWF0dXJlX2lkID0NCkBAIC0zOTMsNiArMzk0LDE0IEBAIHN0YXRp
YyB2b2lkIHZlZ2EyMF9pbml0X2RwbV9kZWZhdWx0cyhzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyKQ0K
IAkJCSgoZGF0YS0+cmVnaXN0cnlfZGF0YS5kaXNhbGxvd2VkX2ZlYXR1cmVzID4+IGkpICYgMSkg
Pw0KIAkJCWZhbHNlIDogdHJ1ZTsNCiAJfQ0KKw0KKwkvKiBHZXQgdGhlIFNOIHRvIHR1cm4gaW50
byBhIFVuaXF1ZSBJRCAqLw0KKwlzbXVtX3NlbmRfbXNnX3RvX3NtYyhod21nciwgUFBTTUNfTVNH
X1JlYWRTZXJpYWxOdW1Ub3AzMik7DQorCXRvcDMyID0gc211bV9nZXRfYXJndW1lbnQoaHdtZ3Ip
Ow0KKwlzbXVtX3NlbmRfbXNnX3RvX3NtYyhod21nciwgUFBTTUNfTVNHX1JlYWRTZXJpYWxOdW1C
b3R0b20zMik7DQorCWJvdHRvbTMyID0gc211bV9nZXRfYXJndW1lbnQoaHdtZ3IpOw0KKw0KKwlo
d21nci0+c2VyaWFsID0gKCh1aW50NjRfdClib3R0b20zMiA8PCAzMikgfCB0b3AzMjsNCiB9DQog
DQogc3RhdGljIGludCB2ZWdhMjBfc2V0X3ByaXZhdGVfZGF0YV9iYXNlZF9vbl9wcHRhYmxlKHN0
cnVjdCBwcF9od21nciAqaHdtZ3IpDQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9w
b3dlcnBsYXkvaW5jL2h3bWdyLmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMv
aHdtZ3IuaA0KaW5kZXggYmFjM2Q4NWUzYjgyLi4wNTdjODYyNmE2OGEgMTAwNjQ0DQotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvaHdtZ3IuaA0KKysrIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9wb3dlcnBsYXkvaW5jL2h3bWdyLmgNCkBAIC03MjIsNiArNzIyLDcgQEAgc3Ry
dWN0IHBwX2h3bWdyIHsNCiAJdWludDMyX3QgY2hpcF9mYW1pbHk7DQogCXVpbnQzMl90IGNoaXBf
aWQ7DQogCXVpbnQzMl90IHNtdV92ZXJzaW9uOw0KKwl1aW50NjRfdCBzZXJpYWw7DQogCWJvb2wg
bm90X3ZmOw0KIAlib29sIHBtX2VuOw0KIAlzdHJ1Y3QgbXV0ZXggc211X2xvY2s7DQotLSANCjIu
MTcuMQ0KDQpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwph
bWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczov
L2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZng=
