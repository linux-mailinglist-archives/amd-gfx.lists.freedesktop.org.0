Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id ED72BDB738
	for <lists+amd-gfx@lfdr.de>; Thu, 17 Oct 2019 21:15:51 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E3F216EAB0;
	Thu, 17 Oct 2019 19:15:49 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM04-BN3-obe.outbound.protection.outlook.com
 (mail-eopbgr680060.outbound.protection.outlook.com [40.107.68.60])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 70A486EAA5
 for <amd-gfx@lists.freedesktop.org>; Thu, 17 Oct 2019 19:15:48 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=KrAMR4EdR+1LYnveGBipLQxpiQ3EsHNfMP9ERXn+xII2Yn/L1X/nTaQkKSzwiTwXvtC6uESMggMBC0q9PVadRLjR8dDXPenwlHA/vaOcDd9G9nHCRKtzi1gitG8Hd2MEAz4VSdS4dnliGu6TaT/efP1xcFFlFqbpxpaSPnFpjXPcvkHok2QrJDqaIPTiExxdVLjQzXwtMzXAwSBhHJNAKXrklL+hv4NI+fGIEzMowp1S9qb8s1zqM5tTm9wR2s13LPjGcAtfoNMFUl+Rld3TWbNVZVhpvCDZ8CgNKIOm81bzLfCjF1K5Ws2bPY9ZwHUkc4lT4sZkC0N6nXhwyORTeQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=qETdsVkV+xe29wZ/Q1sWGcKPIoPGFf2Tu/tub2fDKzc=;
 b=nH+8Q4rWmFvpO7HBy1Yy7GYH4UxcWR1I06qChQ1QPGmYI4XMRui5bqHMTL6902H7/eEGdQ6T/mpwj1LPlNQpWG9VYtWPf52N8183JG+ppCQHudlvXQM5KdnMsWrsmwjlAgJE3VjJuK5V8k8QFMDdqhcl1Xcjrlm8KzhGfycMfgkKHapcrlBTRL8bT5ZEWC8acJfCWPM8cwXGn70bZ76jxllBDC2eGkOApals2gmf3dxTMrQxSBKP+dd3X7LnVfq40bp3+NaWnOCnJhPdboT1sbeZNrXWTJzXInBKCu97HncHL8UMYZUPftPXmGeXS/7ObpmFyTZJU+VvJYyMNovbfw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=none (sender ip is
 165.204.84.17) smtp.rcpttodomain=lists.freedesktop.org smtp.mailfrom=amd.com; 
 dmarc=permerror action=none header.from=amd.com; dkim=none (message not
 signed); arc=none
Received: from SN1PR12CA0075.namprd12.prod.outlook.com (2603:10b6:802:20::46)
 by BL0PR12MB2561.namprd12.prod.outlook.com (2603:10b6:207:3e::12)
 with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2347.16; Thu, 17 Oct
 2019 19:15:45 +0000
Received: from CO1NAM03FT004.eop-NAM03.prod.protection.outlook.com
 (2a01:111:f400:7e48::208) by SN1PR12CA0075.outlook.office365.com
 (2603:10b6:802:20::46) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2347.16 via Frontend
 Transport; Thu, 17 Oct 2019 19:15:45 +0000
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
Received: from SATLEXMB02.amd.com (165.204.84.17) by
 CO1NAM03FT004.mail.protection.outlook.com (10.152.80.154) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id
 15.20.2367.14 via Frontend Transport; Thu, 17 Oct 2019 19:15:45 +0000
Received: from SATLEXMB03.amd.com (10.181.40.144) by SATLEXMB02.amd.com
 (10.181.40.143) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id 15.1.1713.5; Thu, 17 Oct
 2019 14:15:44 -0500
Received: from SATLEXMB02.amd.com (10.181.40.143) by SATLEXMB03.amd.com
 (10.181.40.144) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id 15.1.1713.5; Thu, 17 Oct
 2019 14:15:44 -0500
Received: from localhost.localdomain (10.180.168.240) by SATLEXMB02.amd.com
 (10.181.40.143) with Microsoft SMTP Server id 15.1.1713.5 via Frontend
 Transport; Thu, 17 Oct 2019 14:15:43 -0500
From: <sunpeng.li@amd.com>
To: <amd-gfx@lists.freedesktop.org>
Subject: [PATCH 23/37] drm/amd/display: map TRANSMITTER_UNIPHY_x to LINK_REGS_x
Date: Thu, 17 Oct 2019 15:13:15 -0400
Message-ID: <20191017191329.11857-24-sunpeng.li@amd.com>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20191017191329.11857-1-sunpeng.li@amd.com>
References: <20191017191329.11857-1-sunpeng.li@amd.com>
MIME-Version: 1.0
X-EOPAttributedMessage: 0
X-MS-Office365-Filtering-HT: Tenant
X-Forefront-Antispam-Report: CIP:165.204.84.17; IPV:NLI; CTRY:US; EFV:NLI;
 SFV:NSPM;
 SFS:(10009020)(4636009)(136003)(396003)(39860400002)(346002)(376002)(428003)(189003)(199004)(76176011)(70206006)(30864003)(356004)(8936002)(26005)(316002)(478600001)(6666004)(36756003)(2616005)(48376002)(6916009)(2870700001)(2876002)(81166006)(8676002)(81156014)(70586007)(50226002)(54906003)(2906002)(51416003)(47776003)(5660300002)(4326008)(186003)(336012)(86362001)(126002)(305945005)(50466002)(2351001)(11346002)(426003)(5024004)(1076003)(486006)(446003)(476003);
 DIR:OUT; SFP:1101; SCL:1; SRVR:BL0PR12MB2561; H:SATLEXMB02.amd.com; FPR:;
 SPF:None; LANG:en; PTR:InfoDomainNonexistent; MX:1; A:1; 
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-Correlation-Id: 110ecde7-ef2f-4b92-104c-08d75336693b
X-MS-TrafficTypeDiagnostic: BL0PR12MB2561:
X-Microsoft-Antispam-PRVS: <BL0PR12MB25617BC3212E6EF3A9E99BAC826D0@BL0PR12MB2561.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:6790;
X-Forefront-PRVS: 01930B2BA8
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: ylKYCT/WQK8WMt8ZjrqtKTFZC2LVag+8PRhDzgED3KKsRC0ynJYEN4jvlM0FvLVTLRxBgw61ds9SSxKBBCvqKqD70UUwQTa6R0m4dwv/fjBuOSPv7RYDAam9JAAhiUvHGFJmcle5Fo2XcRupzjoRtn/dJH+381ERDQzz7dp+7EwKaFwNZ/yadl1Fizlv0xmHivh9uRcB/gacvwL83WW18mPcPwnBjYpNSfjvlJ6LFyBZYVt/MjDxlB2q+mRPG24DnKc6AsL0ONXCRuuiIuxLBCU4rdhNQ+u/HBBWW0YIjvuJmLmns3scIet0F/utEWNSabDY0V5BEvwUn8cuQtRw/4MMaWyPZWeklQHVYbrdPh0UQna+wJN50R4o6zNPKwNVRNuHGXWgIz+eSjRTqIIXkd7diCCzdu4TbnR629dNmmc=
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 17 Oct 2019 19:15:45.3411 (UTC)
X-MS-Exchange-CrossTenant-Network-Message-Id: 110ecde7-ef2f-4b92-104c-08d75336693b
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-OriginalAttributedTenantConnectingIp: TenantId=3dd8961f-e488-4e60-8e11-a82d994e183d; Ip=[165.204.84.17];
 Helo=[SATLEXMB02.amd.com]
X-MS-Exchange-CrossTenant-FromEntityHeader: HybridOnPrem
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BL0PR12MB2561
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=qETdsVkV+xe29wZ/Q1sWGcKPIoPGFf2Tu/tub2fDKzc=;
 b=YuRDCwXBp4s0/bmrhxvA7Catfiq6Z34buIGKfGdEYyATuboXzWM3uOEhzYqouGK1u3yClvYfkBRg5uN8TU278EycsJOtXTzkinGAykMDyTZorlyeZoihjfJ4BDzwgDqlyqN2ytfnbd+n2f8J7YLdIbGgGFQRJc89da5uTlH4SK0=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is
 165.204.84.17)
 smtp.mailfrom=amd.com; lists.freedesktop.org; dkim=none (message not signed)
 header.d=none;lists.freedesktop.org; dmarc=permerror action=none
 header.from=amd.com;
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Yogesh Mohan Marimuthu <yogesh.mohanmarimuthu@amd.com>,
 Leo Li <sunpeng.li@amd.com>, Eric Yang <eric.yang2@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogWW9nZXNoIE1vaGFuIE1hcmltdXRodSA8eW9nZXNoLm1vaGFubWFyaW11dGh1QGFtZC5j
b20+CgpbV2h5XQpUaGUgZW51bSB2YWx1ZSBmb3IgVFJBTlNNSVRURVJfVU5JUEhZX0cgaXMgOS4g
SW4gcmVzb3VyY2UgZGNfeHhfcmVzb3VyY2UKZmlsZSBzdHJ1Y3R1cmUgbGlua19lbmNfcmVnc1td
LCB0aGUgVFJBTlNNSVRURVJfVU5JUEhZX0cgcmVnaXN0ZXJzIGFyZQppbml0aWFsaXplZCBhdCBp
bmRleCA2LiBEdWUgdG8gdGhpcyBtaXNtYXRjaCwgaWYgbW9uaXRvciBpcyBhdHRhY2hlZCB0bwpw
b3J0IHVzaW5nIFRSQU5TTUlUVEVSX1VOSVBIWV9HIHRoZW4gdGhlIG1vbml0b3IgYmxhbmtzIG91
dC4KCltIb3ddCmFkZCBmdW5jdGlvbiBtYXBfdHJhbnNtaXR0ZXJfaWRfdG9fcGh5X2luc3RhbmNl
KCkgYW5kIHVzZSB0aGUgZnVuY3Rpb24KdG8gbWFwIGVudW0gdHJhbnNtaXR0ZXIgdG8gbGluayBy
ZWdzLgoKU2lnbmVkLW9mZi1ieTogWW9nZXNoIE1vaGFuIE1hcmltdXRodSA8eW9nZXNoLm1vaGFu
bWFyaW11dGh1QGFtZC5jb20+ClJldmlld2VkLWJ5OiBFcmljIFlhbmcgPGVyaWMueWFuZzJAYW1k
LmNvbT4KQWNrZWQtYnk6IExlbyBMaSA8c3VucGVuZy5saUBhbWQuY29tPgotLS0KIC4uLi9hbWQv
ZGlzcGxheS9kYy9kY2UxMDAvZGNlMTAwX3Jlc291cmNlLmMgICB8IDM3ICsrKysrKysrKysrKysr
KysrKy0KIC4uLi9hbWQvZGlzcGxheS9kYy9kY2UxMTAvZGNlMTEwX3Jlc291cmNlLmMgICB8IDM3
ICsrKysrKysrKysrKysrKysrKy0KIC4uLi9hbWQvZGlzcGxheS9kYy9kY2UxMTIvZGNlMTEyX3Jl
c291cmNlLmMgICB8IDM3ICsrKysrKysrKysrKysrKysrKy0KIC4uLi9hbWQvZGlzcGxheS9kYy9k
Y2UxMjAvZGNlMTIwX3Jlc291cmNlLmMgICB8IDM3ICsrKysrKysrKysrKysrKysrKy0KIC4uLi9k
cm0vYW1kL2Rpc3BsYXkvZGMvZGNlODAvZGNlODBfcmVzb3VyY2UuYyB8IDM3ICsrKysrKysrKysr
KysrKysrKy0KIC4uLi9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMTAvZGNuMTBfcmVzb3VyY2UuYyB8
IDI4ICsrKysrKysrKysrKystCiAuLi4vZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIwX3Jl
c291cmNlLmMgfCAzMyArKysrKysrKysrKysrKysrLQogLi4uL2RybS9hbWQvZGlzcGxheS9kYy9k
Y24yMS9kY24yMV9yZXNvdXJjZS5jIHwgMzEgKysrKysrKysrKysrKysrLQogOCBmaWxlcyBjaGFu
Z2VkLCAyNjkgaW5zZXJ0aW9ucygrKSwgOCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNlMTAwL2RjZTEwMF9yZXNvdXJjZS5jIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjZTEwMC9kY2UxMDBfcmVzb3VyY2UuYwppbmRl
eCBiNWQ2ZGZmMjljNDUuLmE1ZTEyMmM3MjFlYyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9kaXNwbGF5L2RjL2RjZTEwMC9kY2UxMDBfcmVzb3VyY2UuYworKysgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNlMTAwL2RjZTEwMF9yZXNvdXJjZS5jCkBAIC0zOTksNiAr
Mzk5LDM3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZGNfcGxhbmVfY2FwIHBsYW5lX2NhcCA9IHsK
ICNkZWZpbmUgQ0NfRENfSERNSV9TVFJBUFNfX0FVRElPX1NUUkVBTV9OVU1CRVJfX1NISUZUIDB4
OAogI2VuZGlmCiAKK3N0YXRpYyBpbnQgbWFwX3RyYW5zbWl0dGVyX2lkX3RvX3BoeV9pbnN0YW5j
ZSgKKwllbnVtIHRyYW5zbWl0dGVyIHRyYW5zbWl0dGVyKQoreworCXN3aXRjaCAodHJhbnNtaXR0
ZXIpIHsKKwljYXNlIFRSQU5TTUlUVEVSX1VOSVBIWV9BOgorCQlyZXR1cm4gMDsKKwlicmVhazsK
KwljYXNlIFRSQU5TTUlUVEVSX1VOSVBIWV9COgorCQlyZXR1cm4gMTsKKwlicmVhazsKKwljYXNl
IFRSQU5TTUlUVEVSX1VOSVBIWV9DOgorCQlyZXR1cm4gMjsKKwlicmVhazsKKwljYXNlIFRSQU5T
TUlUVEVSX1VOSVBIWV9EOgorCQlyZXR1cm4gMzsKKwlicmVhazsKKwljYXNlIFRSQU5TTUlUVEVS
X1VOSVBIWV9FOgorCQlyZXR1cm4gNDsKKwlicmVhazsKKwljYXNlIFRSQU5TTUlUVEVSX1VOSVBI
WV9GOgorCQlyZXR1cm4gNTsKKwlicmVhazsKKwljYXNlIFRSQU5TTUlUVEVSX1VOSVBIWV9HOgor
CQlyZXR1cm4gNjsKKwlicmVhazsKKwlkZWZhdWx0OgorCQlBU1NFUlQoMCk7CisJCXJldHVybiAw
OworCX0KK30KKwogc3RhdGljIHZvaWQgcmVhZF9kY2Vfc3RyYXBzKAogCXN0cnVjdCBkY19jb250
ZXh0ICpjdHgsCiAJc3RydWN0IHJlc291cmNlX3N0cmFwcyAqc3RyYXBzKQpAQCAtNTc5LDE0ICs2
MTAsMTggQEAgc3RydWN0IGxpbmtfZW5jb2RlciAqZGNlMTAwX2xpbmtfZW5jb2Rlcl9jcmVhdGUo
CiB7CiAJc3RydWN0IGRjZTExMF9saW5rX2VuY29kZXIgKmVuYzExMCA9CiAJCWt6YWxsb2Moc2l6
ZW9mKHN0cnVjdCBkY2UxMTBfbGlua19lbmNvZGVyKSwgR0ZQX0tFUk5FTCk7CisJaW50IGxpbmtf
cmVnc19pZDsKIAogCWlmICghZW5jMTEwKQogCQlyZXR1cm4gTlVMTDsKIAorCWxpbmtfcmVnc19p
ZCA9CisJCW1hcF90cmFuc21pdHRlcl9pZF90b19waHlfaW5zdGFuY2UoZW5jX2luaXRfZGF0YS0+
dHJhbnNtaXR0ZXIpOworCiAJZGNlMTEwX2xpbmtfZW5jb2Rlcl9jb25zdHJ1Y3QoZW5jMTEwLAog
CQkJCSAgICAgIGVuY19pbml0X2RhdGEsCiAJCQkJICAgICAgJmxpbmtfZW5jX2ZlYXR1cmUsCi0J
CQkJICAgICAgJmxpbmtfZW5jX3JlZ3NbZW5jX2luaXRfZGF0YS0+dHJhbnNtaXR0ZXJdLAorCQkJ
CSAgICAgICZsaW5rX2VuY19yZWdzW2xpbmtfcmVnc19pZF0sCiAJCQkJICAgICAgJmxpbmtfZW5j
X2F1eF9yZWdzW2VuY19pbml0X2RhdGEtPmNoYW5uZWwgLSAxXSwKIAkJCQkgICAgICAmbGlua19l
bmNfaHBkX3JlZ3NbZW5jX2luaXRfZGF0YS0+aHBkX3NvdXJjZV0pOwogCXJldHVybiAmZW5jMTEw
LT5iYXNlOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjZTEx
MC9kY2UxMTBfcmVzb3VyY2UuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY2Ux
MTAvZGNlMTEwX3Jlc291cmNlLmMKaW5kZXggYzY1MWEzOGUzNGEwLi44M2E0ZGJmNmQ3NmUgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY2UxMTAvZGNlMTEwX3Jl
c291cmNlLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjZTExMC9kY2Ux
MTBfcmVzb3VyY2UuYwpAQCAtNDQ4LDYgKzQ0OCwzNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGRj
X3BsYW5lX2NhcCB1bmRlcmxheV9wbGFuZV9jYXAgPSB7CiAjZGVmaW5lIENDX0RDX0hETUlfU1RS
QVBTX19BVURJT19TVFJFQU1fTlVNQkVSX19TSElGVCAweDgKICNlbmRpZgogCitzdGF0aWMgaW50
IG1hcF90cmFuc21pdHRlcl9pZF90b19waHlfaW5zdGFuY2UoCisJZW51bSB0cmFuc21pdHRlciB0
cmFuc21pdHRlcikKK3sKKwlzd2l0Y2ggKHRyYW5zbWl0dGVyKSB7CisJY2FzZSBUUkFOU01JVFRF
Ul9VTklQSFlfQToKKwkJcmV0dXJuIDA7CisJYnJlYWs7CisJY2FzZSBUUkFOU01JVFRFUl9VTklQ
SFlfQjoKKwkJcmV0dXJuIDE7CisJYnJlYWs7CisJY2FzZSBUUkFOU01JVFRFUl9VTklQSFlfQzoK
KwkJcmV0dXJuIDI7CisJYnJlYWs7CisJY2FzZSBUUkFOU01JVFRFUl9VTklQSFlfRDoKKwkJcmV0
dXJuIDM7CisJYnJlYWs7CisJY2FzZSBUUkFOU01JVFRFUl9VTklQSFlfRToKKwkJcmV0dXJuIDQ7
CisJYnJlYWs7CisJY2FzZSBUUkFOU01JVFRFUl9VTklQSFlfRjoKKwkJcmV0dXJuIDU7CisJYnJl
YWs7CisJY2FzZSBUUkFOU01JVFRFUl9VTklQSFlfRzoKKwkJcmV0dXJuIDY7CisJYnJlYWs7CisJ
ZGVmYXVsdDoKKwkJQVNTRVJUKDApOworCQlyZXR1cm4gMDsKKwl9Cit9CisKIHN0YXRpYyB2b2lk
IHJlYWRfZGNlX3N0cmFwcygKIAlzdHJ1Y3QgZGNfY29udGV4dCAqY3R4LAogCXN0cnVjdCByZXNv
dXJjZV9zdHJhcHMgKnN0cmFwcykKQEAgLTYyNSwxNCArNjU2LDE4IEBAIHN0YXRpYyBzdHJ1Y3Qg
bGlua19lbmNvZGVyICpkY2UxMTBfbGlua19lbmNvZGVyX2NyZWF0ZSgKIHsKIAlzdHJ1Y3QgZGNl
MTEwX2xpbmtfZW5jb2RlciAqZW5jMTEwID0KIAkJa3phbGxvYyhzaXplb2Yoc3RydWN0IGRjZTEx
MF9saW5rX2VuY29kZXIpLCBHRlBfS0VSTkVMKTsKKwlpbnQgbGlua19yZWdzX2lkOwogCiAJaWYg
KCFlbmMxMTApCiAJCXJldHVybiBOVUxMOwogCisJbGlua19yZWdzX2lkID0KKwkJbWFwX3RyYW5z
bWl0dGVyX2lkX3RvX3BoeV9pbnN0YW5jZShlbmNfaW5pdF9kYXRhLT50cmFuc21pdHRlcik7CisK
IAlkY2UxMTBfbGlua19lbmNvZGVyX2NvbnN0cnVjdChlbmMxMTAsCiAJCQkJICAgICAgZW5jX2lu
aXRfZGF0YSwKIAkJCQkgICAgICAmbGlua19lbmNfZmVhdHVyZSwKLQkJCQkgICAgICAmbGlua19l
bmNfcmVnc1tlbmNfaW5pdF9kYXRhLT50cmFuc21pdHRlcl0sCisJCQkJICAgICAgJmxpbmtfZW5j
X3JlZ3NbbGlua19yZWdzX2lkXSwKIAkJCQkgICAgICAmbGlua19lbmNfYXV4X3JlZ3NbZW5jX2lu
aXRfZGF0YS0+Y2hhbm5lbCAtIDFdLAogCQkJCSAgICAgICZsaW5rX2VuY19ocGRfcmVnc1tlbmNf
aW5pdF9kYXRhLT5ocGRfc291cmNlXSk7CiAJcmV0dXJuICZlbmMxMTAtPmJhc2U7CmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNlMTEyL2RjZTExMl9yZXNvdXJj
ZS5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjZTExMi9kY2UxMTJfcmVzb3Vy
Y2UuYwppbmRleCA4NzZlZDA2MDc3MTguLjk3ZGNjNWQwODYyYiAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjZTExMi9kY2UxMTJfcmVzb3VyY2UuYworKysgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNlMTEyL2RjZTExMl9yZXNvdXJjZS5jCkBA
IC00MjUsNiArNDI1LDM3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgZGNfcGxhbmVfY2FwIHBsYW5l
X2NhcCA9IHsKICNkZWZpbmUgQ0NfRENfSERNSV9TVFJBUFNfX0FVRElPX1NUUkVBTV9OVU1CRVJf
X1NISUZUIDB4OAogI2VuZGlmCiAKK3N0YXRpYyBpbnQgbWFwX3RyYW5zbWl0dGVyX2lkX3RvX3Bo
eV9pbnN0YW5jZSgKKwllbnVtIHRyYW5zbWl0dGVyIHRyYW5zbWl0dGVyKQoreworCXN3aXRjaCAo
dHJhbnNtaXR0ZXIpIHsKKwljYXNlIFRSQU5TTUlUVEVSX1VOSVBIWV9BOgorCQlyZXR1cm4gMDsK
KwlicmVhazsKKwljYXNlIFRSQU5TTUlUVEVSX1VOSVBIWV9COgorCQlyZXR1cm4gMTsKKwlicmVh
azsKKwljYXNlIFRSQU5TTUlUVEVSX1VOSVBIWV9DOgorCQlyZXR1cm4gMjsKKwlicmVhazsKKwlj
YXNlIFRSQU5TTUlUVEVSX1VOSVBIWV9EOgorCQlyZXR1cm4gMzsKKwlicmVhazsKKwljYXNlIFRS
QU5TTUlUVEVSX1VOSVBIWV9FOgorCQlyZXR1cm4gNDsKKwlicmVhazsKKwljYXNlIFRSQU5TTUlU
VEVSX1VOSVBIWV9GOgorCQlyZXR1cm4gNTsKKwlicmVhazsKKwljYXNlIFRSQU5TTUlUVEVSX1VO
SVBIWV9HOgorCQlyZXR1cm4gNjsKKwlicmVhazsKKwlkZWZhdWx0OgorCQlBU1NFUlQoMCk7CisJ
CXJldHVybiAwOworCX0KK30KKwogc3RhdGljIHZvaWQgcmVhZF9kY2Vfc3RyYXBzKAogCXN0cnVj
dCBkY19jb250ZXh0ICpjdHgsCiAJc3RydWN0IHJlc291cmNlX3N0cmFwcyAqc3RyYXBzKQpAQCAt
NTgzLDE0ICs2MTQsMTggQEAgc3RydWN0IGxpbmtfZW5jb2RlciAqZGNlMTEyX2xpbmtfZW5jb2Rl
cl9jcmVhdGUoCiB7CiAJc3RydWN0IGRjZTExMF9saW5rX2VuY29kZXIgKmVuYzExMCA9CiAJCWt6
YWxsb2Moc2l6ZW9mKHN0cnVjdCBkY2UxMTBfbGlua19lbmNvZGVyKSwgR0ZQX0tFUk5FTCk7CisJ
aW50IGxpbmtfcmVnc19pZDsKIAogCWlmICghZW5jMTEwKQogCQlyZXR1cm4gTlVMTDsKIAorCWxp
bmtfcmVnc19pZCA9CisJCW1hcF90cmFuc21pdHRlcl9pZF90b19waHlfaW5zdGFuY2UoZW5jX2lu
aXRfZGF0YS0+dHJhbnNtaXR0ZXIpOworCiAJZGNlMTEwX2xpbmtfZW5jb2Rlcl9jb25zdHJ1Y3Qo
ZW5jMTEwLAogCQkJCSAgICAgIGVuY19pbml0X2RhdGEsCiAJCQkJICAgICAgJmxpbmtfZW5jX2Zl
YXR1cmUsCi0JCQkJICAgICAgJmxpbmtfZW5jX3JlZ3NbZW5jX2luaXRfZGF0YS0+dHJhbnNtaXR0
ZXJdLAorCQkJCSAgICAgICZsaW5rX2VuY19yZWdzW2xpbmtfcmVnc19pZF0sCiAJCQkJICAgICAg
JmxpbmtfZW5jX2F1eF9yZWdzW2VuY19pbml0X2RhdGEtPmNoYW5uZWwgLSAxXSwKIAkJCQkgICAg
ICAmbGlua19lbmNfaHBkX3JlZ3NbZW5jX2luaXRfZGF0YS0+aHBkX3NvdXJjZV0pOwogCXJldHVy
biAmZW5jMTEwLT5iYXNlOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5
L2RjL2RjZTEyMC9kY2UxMjBfcmVzb3VyY2UuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxh
eS9kYy9kY2UxMjAvZGNlMTIwX3Jlc291cmNlLmMKaW5kZXggYzMwZmFhMDVmZDI3Li42MzU0M2Y2
OTE4ZmYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY2UxMjAv
ZGNlMTIwX3Jlc291cmNlLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2Rj
ZTEyMC9kY2UxMjBfcmVzb3VyY2UuYwpAQCAtMzY0LDYgKzM2NCwzNyBAQCBzdGF0aWMgY29uc3Qg
c3RydWN0IGRjZV9hdWRpb19tYXNrIGF1ZGlvX21hc2sgPSB7CiAJCURDRTEyMF9BVURfQ09NTU9O
X01BU0tfU0hfTElTVChfTUFTSykKIH07CiAKK3N0YXRpYyBpbnQgbWFwX3RyYW5zbWl0dGVyX2lk
X3RvX3BoeV9pbnN0YW5jZSgKKwllbnVtIHRyYW5zbWl0dGVyIHRyYW5zbWl0dGVyKQoreworCXN3
aXRjaCAodHJhbnNtaXR0ZXIpIHsKKwljYXNlIFRSQU5TTUlUVEVSX1VOSVBIWV9BOgorCQlyZXR1
cm4gMDsKKwlicmVhazsKKwljYXNlIFRSQU5TTUlUVEVSX1VOSVBIWV9COgorCQlyZXR1cm4gMTsK
KwlicmVhazsKKwljYXNlIFRSQU5TTUlUVEVSX1VOSVBIWV9DOgorCQlyZXR1cm4gMjsKKwlicmVh
azsKKwljYXNlIFRSQU5TTUlUVEVSX1VOSVBIWV9EOgorCQlyZXR1cm4gMzsKKwlicmVhazsKKwlj
YXNlIFRSQU5TTUlUVEVSX1VOSVBIWV9FOgorCQlyZXR1cm4gNDsKKwlicmVhazsKKwljYXNlIFRS
QU5TTUlUVEVSX1VOSVBIWV9GOgorCQlyZXR1cm4gNTsKKwlicmVhazsKKwljYXNlIFRSQU5TTUlU
VEVSX1VOSVBIWV9HOgorCQlyZXR1cm4gNjsKKwlicmVhazsKKwlkZWZhdWx0OgorCQlBU1NFUlQo
MCk7CisJCXJldHVybiAwOworCX0KK30KKwogI2RlZmluZSBjbGtfc3JjX3JlZ3MoaW5kZXgsIGlk
KVwKIFtpbmRleF0gPSB7XAogCUNTX0NPTU1PTl9SRUdfTElTVF9EQ0VfMTEyKGlkKSxcCkBAIC02
NjYsMTQgKzY5NywxOCBAQCBzdGF0aWMgc3RydWN0IGxpbmtfZW5jb2RlciAqZGNlMTIwX2xpbmtf
ZW5jb2Rlcl9jcmVhdGUoCiB7CiAJc3RydWN0IGRjZTExMF9saW5rX2VuY29kZXIgKmVuYzExMCA9
CiAJCWt6YWxsb2Moc2l6ZW9mKHN0cnVjdCBkY2UxMTBfbGlua19lbmNvZGVyKSwgR0ZQX0tFUk5F
TCk7CisJaW50IGxpbmtfcmVnc19pZDsKIAogCWlmICghZW5jMTEwKQogCQlyZXR1cm4gTlVMTDsK
IAorCWxpbmtfcmVnc19pZCA9CisJCW1hcF90cmFuc21pdHRlcl9pZF90b19waHlfaW5zdGFuY2Uo
ZW5jX2luaXRfZGF0YS0+dHJhbnNtaXR0ZXIpOworCiAJZGNlMTEwX2xpbmtfZW5jb2Rlcl9jb25z
dHJ1Y3QoZW5jMTEwLAogCQkJCSAgICAgIGVuY19pbml0X2RhdGEsCiAJCQkJICAgICAgJmxpbmtf
ZW5jX2ZlYXR1cmUsCi0JCQkJICAgICAgJmxpbmtfZW5jX3JlZ3NbZW5jX2luaXRfZGF0YS0+dHJh
bnNtaXR0ZXJdLAorCQkJCSAgICAgICZsaW5rX2VuY19yZWdzW2xpbmtfcmVnc19pZF0sCiAJCQkJ
ICAgICAgJmxpbmtfZW5jX2F1eF9yZWdzW2VuY19pbml0X2RhdGEtPmNoYW5uZWwgLSAxXSwKIAkJ
CQkgICAgICAmbGlua19lbmNfaHBkX3JlZ3NbZW5jX2luaXRfZGF0YS0+aHBkX3NvdXJjZV0pOwog
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNlODAvZGNlODBf
cmVzb3VyY2UuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY2U4MC9kY2U4MF9y
ZXNvdXJjZS5jCmluZGV4IDU5ZWJkNjU3NDYyZC4uM2U4ZDRiNDlmMjc5IDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNlODAvZGNlODBfcmVzb3VyY2UuYworKysg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNlODAvZGNlODBfcmVzb3VyY2UuYwpA
QCAtNDM5LDYgKzQzOSwzNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGRjZV9hYm1fbWFzayBhYm1f
bWFzayA9IHsKICNkZWZpbmUgQ0NfRENfSERNSV9TVFJBUFNfX0FVRElPX1NUUkVBTV9OVU1CRVJf
X1NISUZUIDB4OAogI2VuZGlmCiAKK3N0YXRpYyBpbnQgbWFwX3RyYW5zbWl0dGVyX2lkX3RvX3Bo
eV9pbnN0YW5jZSgKKwllbnVtIHRyYW5zbWl0dGVyIHRyYW5zbWl0dGVyKQoreworCXN3aXRjaCAo
dHJhbnNtaXR0ZXIpIHsKKwljYXNlIFRSQU5TTUlUVEVSX1VOSVBIWV9BOgorCQlyZXR1cm4gMDsK
KwlicmVhazsKKwljYXNlIFRSQU5TTUlUVEVSX1VOSVBIWV9COgorCQlyZXR1cm4gMTsKKwlicmVh
azsKKwljYXNlIFRSQU5TTUlUVEVSX1VOSVBIWV9DOgorCQlyZXR1cm4gMjsKKwlicmVhazsKKwlj
YXNlIFRSQU5TTUlUVEVSX1VOSVBIWV9EOgorCQlyZXR1cm4gMzsKKwlicmVhazsKKwljYXNlIFRS
QU5TTUlUVEVSX1VOSVBIWV9FOgorCQlyZXR1cm4gNDsKKwlicmVhazsKKwljYXNlIFRSQU5TTUlU
VEVSX1VOSVBIWV9GOgorCQlyZXR1cm4gNTsKKwlicmVhazsKKwljYXNlIFRSQU5TTUlUVEVSX1VO
SVBIWV9HOgorCQlyZXR1cm4gNjsKKwlicmVhazsKKwlkZWZhdWx0OgorCQlBU1NFUlQoMCk7CisJ
CXJldHVybiAwOworCX0KK30KKwogc3RhdGljIHZvaWQgcmVhZF9kY2Vfc3RyYXBzKAogCXN0cnVj
dCBkY19jb250ZXh0ICpjdHgsCiAJc3RydWN0IHJlc291cmNlX3N0cmFwcyAqc3RyYXBzKQpAQCAt
NjgwLDE0ICs3MTEsMTggQEAgc3RydWN0IGxpbmtfZW5jb2RlciAqZGNlODBfbGlua19lbmNvZGVy
X2NyZWF0ZSgKIHsKIAlzdHJ1Y3QgZGNlMTEwX2xpbmtfZW5jb2RlciAqZW5jMTEwID0KIAkJa3ph
bGxvYyhzaXplb2Yoc3RydWN0IGRjZTExMF9saW5rX2VuY29kZXIpLCBHRlBfS0VSTkVMKTsKKwlp
bnQgbGlua19yZWdzX2lkOwogCiAJaWYgKCFlbmMxMTApCiAJCXJldHVybiBOVUxMOwogCisJbGlu
a19yZWdzX2lkID0KKwkJbWFwX3RyYW5zbWl0dGVyX2lkX3RvX3BoeV9pbnN0YW5jZShlbmNfaW5p
dF9kYXRhLT50cmFuc21pdHRlcik7CisKIAlkY2UxMTBfbGlua19lbmNvZGVyX2NvbnN0cnVjdChl
bmMxMTAsCiAJCQkJICAgICAgZW5jX2luaXRfZGF0YSwKIAkJCQkgICAgICAmbGlua19lbmNfZmVh
dHVyZSwKLQkJCQkgICAgICAmbGlua19lbmNfcmVnc1tlbmNfaW5pdF9kYXRhLT50cmFuc21pdHRl
cl0sCisJCQkJICAgICAgJmxpbmtfZW5jX3JlZ3NbbGlua19yZWdzX2lkXSwKIAkJCQkgICAgICAm
bGlua19lbmNfYXV4X3JlZ3NbZW5jX2luaXRfZGF0YS0+Y2hhbm5lbCAtIDFdLAogCQkJCSAgICAg
ICZsaW5rX2VuY19ocGRfcmVnc1tlbmNfaW5pdF9kYXRhLT5ocGRfc291cmNlXSk7CiAJcmV0dXJu
ICZlbmMxMTAtPmJhc2U7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkv
ZGMvZGNuMTAvZGNuMTBfcmVzb3VyY2UuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9k
Yy9kY24xMC9kY24xMF9yZXNvdXJjZS5jCmluZGV4IGUzYjI3OWZmMGQyMS4uMTU2NDBhZWRkNjY0
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMTAvZGNuMTBf
cmVzb3VyY2UuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMTAvZGNu
MTBfcmVzb3VyY2UuYwpAQCAtNDc5LDYgKzQ3OSwyOCBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGRj
bl9odWJidWJfbWFzayBodWJidWJfbWFzayA9IHsKIAkJSFVCQlVCX01BU0tfU0hfTElTVF9EQ04x
MChfTUFTSykKIH07CiAKK3N0YXRpYyBpbnQgbWFwX3RyYW5zbWl0dGVyX2lkX3RvX3BoeV9pbnN0
YW5jZSgKKwllbnVtIHRyYW5zbWl0dGVyIHRyYW5zbWl0dGVyKQoreworCXN3aXRjaCAodHJhbnNt
aXR0ZXIpIHsKKwljYXNlIFRSQU5TTUlUVEVSX1VOSVBIWV9BOgorCQlyZXR1cm4gMDsKKwlicmVh
azsKKwljYXNlIFRSQU5TTUlUVEVSX1VOSVBIWV9COgorCQlyZXR1cm4gMTsKKwlicmVhazsKKwlj
YXNlIFRSQU5TTUlUVEVSX1VOSVBIWV9DOgorCQlyZXR1cm4gMjsKKwlicmVhazsKKwljYXNlIFRS
QU5TTUlUVEVSX1VOSVBIWV9EOgorCQlyZXR1cm4gMzsKKwlicmVhazsKKwlkZWZhdWx0OgorCQlB
U1NFUlQoMCk7CisJCXJldHVybiAwOworCX0KK30KKwogI2RlZmluZSBjbGtfc3JjX3JlZ3MoaW5k
ZXgsIHBsbGlkKVwKIFtpbmRleF0gPSB7XAogCUNTX0NPTU1PTl9SRUdfTElTVF9EQ04xXzAoaW5k
ZXgsIHBsbGlkKSxcCkBAIC03NjIsMTQgKzc4NCwxOCBAQCBzdHJ1Y3QgbGlua19lbmNvZGVyICpk
Y24xMF9saW5rX2VuY29kZXJfY3JlYXRlKAogewogCXN0cnVjdCBkY24xMF9saW5rX2VuY29kZXIg
KmVuYzEwID0KIAkJa3phbGxvYyhzaXplb2Yoc3RydWN0IGRjbjEwX2xpbmtfZW5jb2RlciksIEdG
UF9LRVJORUwpOworCWludCBsaW5rX3JlZ3NfaWQ7CiAKIAlpZiAoIWVuYzEwKQogCQlyZXR1cm4g
TlVMTDsKIAorCWxpbmtfcmVnc19pZCA9CisJCW1hcF90cmFuc21pdHRlcl9pZF90b19waHlfaW5z
dGFuY2UoZW5jX2luaXRfZGF0YS0+dHJhbnNtaXR0ZXIpOworCiAJZGNuMTBfbGlua19lbmNvZGVy
X2NvbnN0cnVjdChlbmMxMCwKIAkJCQkgICAgICBlbmNfaW5pdF9kYXRhLAogCQkJCSAgICAgICZs
aW5rX2VuY19mZWF0dXJlLAotCQkJCSAgICAgICZsaW5rX2VuY19yZWdzW2VuY19pbml0X2RhdGEt
PnRyYW5zbWl0dGVyXSwKKwkJCQkgICAgICAmbGlua19lbmNfcmVnc1tsaW5rX3JlZ3NfaWRdLAog
CQkJCSAgICAgICZsaW5rX2VuY19hdXhfcmVnc1tlbmNfaW5pdF9kYXRhLT5jaGFubmVsIC0gMV0s
CiAJCQkJICAgICAgJmxpbmtfZW5jX2hwZF9yZWdzW2VuY19pbml0X2RhdGEtPmhwZF9zb3VyY2Vd
LAogCQkJCSAgICAgICZsZV9zaGlmdCwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQv
ZGlzcGxheS9kYy9kY24yMC9kY24yMF9yZXNvdXJjZS5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9k
aXNwbGF5L2RjL2RjbjIwL2RjbjIwX3Jlc291cmNlLmMKaW5kZXggMjU1MTVjMjU1YTNkLi44OGE5
Mzg2MzNkMTEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24y
MC9kY24yMF9yZXNvdXJjZS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9k
Y24yMC9kY24yMF9yZXNvdXJjZS5jCkBAIC03NDIsNiArNzQyLDMzIEBAIHN0YXRpYyBjb25zdCBz
dHJ1Y3QgZGNlMTEwX2F1eF9yZWdpc3RlcnNfbWFzayBhdXhfbWFzayA9IHsKIAkJRENOX0FVWF9N
QVNLX1NIX0xJU1QoX01BU0spCiB9OwogCitzdGF0aWMgaW50IG1hcF90cmFuc21pdHRlcl9pZF90
b19waHlfaW5zdGFuY2UoCisJZW51bSB0cmFuc21pdHRlciB0cmFuc21pdHRlcikKK3sKKwlzd2l0
Y2ggKHRyYW5zbWl0dGVyKSB7CisJY2FzZSBUUkFOU01JVFRFUl9VTklQSFlfQToKKwkJcmV0dXJu
IDA7CisJYnJlYWs7CisJY2FzZSBUUkFOU01JVFRFUl9VTklQSFlfQjoKKwkJcmV0dXJuIDE7CisJ
YnJlYWs7CisJY2FzZSBUUkFOU01JVFRFUl9VTklQSFlfQzoKKwkJcmV0dXJuIDI7CisJYnJlYWs7
CisJY2FzZSBUUkFOU01JVFRFUl9VTklQSFlfRDoKKwkJcmV0dXJuIDM7CisJYnJlYWs7CisJY2Fz
ZSBUUkFOU01JVFRFUl9VTklQSFlfRToKKwkJcmV0dXJuIDQ7CisJYnJlYWs7CisJY2FzZSBUUkFO
U01JVFRFUl9VTklQSFlfRjoKKwkJcmV0dXJuIDU7CisJYnJlYWs7CisJZGVmYXVsdDoKKwkJQVNT
RVJUKDApOworCQlyZXR1cm4gMDsKKwl9Cit9CiAKICNpZmRlZiBDT05GSUdfRFJNX0FNRF9EQ19E
U0NfU1VQUE9SVAogI2RlZmluZSBkc2NfcmVnc0RDTjIwKGlkKVwKQEAgLTEwNTYsMTQgKzEwODMs
MTggQEAgc3RydWN0IGxpbmtfZW5jb2RlciAqZGNuMjBfbGlua19lbmNvZGVyX2NyZWF0ZSgKIHsK
IAlzdHJ1Y3QgZGNuMjBfbGlua19lbmNvZGVyICplbmMyMCA9CiAJCWt6YWxsb2Moc2l6ZW9mKHN0
cnVjdCBkY24yMF9saW5rX2VuY29kZXIpLCBHRlBfS0VSTkVMKTsKKwlpbnQgbGlua19yZWdzX2lk
OwogCiAJaWYgKCFlbmMyMCkKIAkJcmV0dXJuIE5VTEw7CiAKKwlsaW5rX3JlZ3NfaWQgPQorCQlt
YXBfdHJhbnNtaXR0ZXJfaWRfdG9fcGh5X2luc3RhbmNlKGVuY19pbml0X2RhdGEtPnRyYW5zbWl0
dGVyKTsKKwogCWRjbjIwX2xpbmtfZW5jb2Rlcl9jb25zdHJ1Y3QoZW5jMjAsCiAJCQkJICAgICAg
ZW5jX2luaXRfZGF0YSwKIAkJCQkgICAgICAmbGlua19lbmNfZmVhdHVyZSwKLQkJCQkgICAgICAm
bGlua19lbmNfcmVnc1tlbmNfaW5pdF9kYXRhLT50cmFuc21pdHRlcl0sCisJCQkJICAgICAgJmxp
bmtfZW5jX3JlZ3NbbGlua19yZWdzX2lkXSwKIAkJCQkgICAgICAmbGlua19lbmNfYXV4X3JlZ3Nb
ZW5jX2luaXRfZGF0YS0+Y2hhbm5lbCAtIDFdLAogCQkJCSAgICAgICZsaW5rX2VuY19ocGRfcmVn
c1tlbmNfaW5pdF9kYXRhLT5ocGRfc291cmNlXSwKIAkJCQkgICAgICAmbGVfc2hpZnQsCmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjEvZGNuMjFfcmVzb3Vy
Y2UuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24yMS9kY24yMV9yZXNvdXJj
ZS5jCmluZGV4IGE0ZDllZDlmMjYyMy4uZTA3ZjAzMzY4Yzk3IDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjEvZGNuMjFfcmVzb3VyY2UuYworKysgYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjEvZGNuMjFfcmVzb3VyY2UuYwpAQCAtMTU1
NSwxOSArMTU1NSw0OCBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGRjbjEwX2xpbmtfZW5jX21hc2sg
bGVfbWFzayA9IHsKIAlMSU5LX0VOQ09ERVJfTUFTS19TSF9MSVNUX0RDTjIwKF9NQVNLKQogfTsK
IAorc3RhdGljIGludCBtYXBfdHJhbnNtaXR0ZXJfaWRfdG9fcGh5X2luc3RhbmNlKAorCWVudW0g
dHJhbnNtaXR0ZXIgdHJhbnNtaXR0ZXIpCit7CisJc3dpdGNoICh0cmFuc21pdHRlcikgeworCWNh
c2UgVFJBTlNNSVRURVJfVU5JUEhZX0E6CisJCXJldHVybiAwOworCWJyZWFrOworCWNhc2UgVFJB
TlNNSVRURVJfVU5JUEhZX0I6CisJCXJldHVybiAxOworCWJyZWFrOworCWNhc2UgVFJBTlNNSVRU
RVJfVU5JUEhZX0M6CisJCXJldHVybiAyOworCWJyZWFrOworCWNhc2UgVFJBTlNNSVRURVJfVU5J
UEhZX0Q6CisJCXJldHVybiAzOworCWJyZWFrOworCWNhc2UgVFJBTlNNSVRURVJfVU5JUEhZX0U6
CisJCXJldHVybiA0OworCWJyZWFrOworCWRlZmF1bHQ6CisJCUFTU0VSVCgwKTsKKwkJcmV0dXJu
IDA7CisJfQorfQorCiBzdGF0aWMgc3RydWN0IGxpbmtfZW5jb2RlciAqZGNuMjFfbGlua19lbmNv
ZGVyX2NyZWF0ZSgKIAljb25zdCBzdHJ1Y3QgZW5jb2Rlcl9pbml0X2RhdGEgKmVuY19pbml0X2Rh
dGEpCiB7CiAJc3RydWN0IGRjbjIxX2xpbmtfZW5jb2RlciAqZW5jMjEgPQogCQlremFsbG9jKHNp
emVvZihzdHJ1Y3QgZGNuMjFfbGlua19lbmNvZGVyKSwgR0ZQX0tFUk5FTCk7CisJaW50IGxpbmtf
cmVnc19pZDsKIAogCWlmICghZW5jMjEpCiAJCXJldHVybiBOVUxMOwogCisJbGlua19yZWdzX2lk
ID0KKwkJbWFwX3RyYW5zbWl0dGVyX2lkX3RvX3BoeV9pbnN0YW5jZShlbmNfaW5pdF9kYXRhLT50
cmFuc21pdHRlcik7CisKIAlkY24yMV9saW5rX2VuY29kZXJfY29uc3RydWN0KGVuYzIxLAogCQkJ
CSAgICAgIGVuY19pbml0X2RhdGEsCiAJCQkJICAgICAgJmxpbmtfZW5jX2ZlYXR1cmUsCi0JCQkJ
ICAgICAgJmxpbmtfZW5jX3JlZ3NbZW5jX2luaXRfZGF0YS0+dHJhbnNtaXR0ZXJdLAorCQkJCSAg
ICAgICZsaW5rX2VuY19yZWdzW2xpbmtfcmVnc19pZF0sCiAJCQkJICAgICAgJmxpbmtfZW5jX2F1
eF9yZWdzW2VuY19pbml0X2RhdGEtPmNoYW5uZWwgLSAxXSwKIAkJCQkgICAgICAmbGlua19lbmNf
aHBkX3JlZ3NbZW5jX2luaXRfZGF0YS0+aHBkX3NvdXJjZV0sCiAJCQkJICAgICAgJmxlX3NoaWZ0
LAotLSAKMi4yMy4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpo
dHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZng=
