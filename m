Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 41AA11172B3
	for <lists+amd-gfx@lfdr.de>; Mon,  9 Dec 2019 18:26:25 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 82D5D6E4F8;
	Mon,  9 Dec 2019 17:26:23 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-wm1-x344.google.com (mail-wm1-x344.google.com
 [IPv6:2a00:1450:4864:20::344])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 880276E4F8
 for <amd-gfx@lists.freedesktop.org>; Mon,  9 Dec 2019 17:26:22 +0000 (UTC)
Received: by mail-wm1-x344.google.com with SMTP id g206so165840wme.1
 for <amd-gfx@lists.freedesktop.org>; Mon, 09 Dec 2019 09:26:22 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=MlSLddlnzRlbBO76mnRF+7hfda9Aka4TKVEbe1y6JIs=;
 b=IBvXcH4GXluPaTFnAh6qgPwzl8fiwTrp/dFIWXh9UXtUWiKCXu/0Bx0PvQ7NgJijaC
 o3iIk671Ls6jOhxJ2uJDz23zSK9Mbb4wTy0oUWAFrMBqKacNW0tsJxyemNUMV1E6MWst
 f3JhPdKVzHubcwNPTPmk0wrJc+4lATtRJSpcm7ulOZ/hBx0MbD5c1cO13p9mG1q1tNSs
 yebRvWNAzfaOSRG2u1t4wvmqprUfeTJQHcNbBXjNERJjGFTvK/PAfMtbvMREIHchVWG7
 W0phsbdKKI4as2hXs99kfH0+ogUb2Ojgj156oSKarkF49+6ivXDn5XX5R5BpC8PpH/Z7
 UGyw==
X-Gm-Message-State: APjAAAVKwUY1+E03ie22asLSeH1cM3+dLbmZkoTyuA6/6gmYp1prerek
 kA8aU2J0yP0T7RY2SnufTzYkDNFKHVhAFkcOiMQ=
X-Google-Smtp-Source: APXvYqzNkkduFMK+jJln+MhsGIYeWAzXgH2sLWFTkmmI7KZ3yhxZL5UQwOh2rZatbdwx7zz+K6csZltRSBqkopJvk/M=
X-Received: by 2002:a1c:5451:: with SMTP id p17mr114003wmi.57.1575912380788;
 Mon, 09 Dec 2019 09:26:20 -0800 (PST)
MIME-Version: 1.0
References: <20191209103914.29503-1-yttao@amd.com>
 <CADnq5_OMV=Vv2dAMq1KOaQ4pQQUnNuGzcU0BDVi_8SnSDtw2jg@mail.gmail.com>
 <MN2PR12MB303945CC8228858346750B65E5580@MN2PR12MB3039.namprd12.prod.outlook.com>
In-Reply-To: <MN2PR12MB303945CC8228858346750B65E5580@MN2PR12MB3039.namprd12.prod.outlook.com>
From: Alex Deucher <alexdeucher@gmail.com>
Date: Mon, 9 Dec 2019 12:26:08 -0500
Message-ID: <CADnq5_N_Lj_3n+9AjK2oWjFo1-n9B6ax1YG_n6GkFUQG7-6oBQ@mail.gmail.com>
Subject: Re: [PATCH] drm/amd/powerplay: enable pp one vf mode for vega10
To: "Tao, Yintian" <Yintian.Tao@amd.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=MlSLddlnzRlbBO76mnRF+7hfda9Aka4TKVEbe1y6JIs=;
 b=ZeYxoC0iXN9x8Pgwq2YFHDcrmIWAXwBzsrfWSG4KS28vDyCoIDs9qqv2wHwdZ1l9HJ
 WpiRf71uBCaCKp3TsHfX/immu3IuF35jS+hCHAdE8hzF1+7wSk1ibKuQz79lZVo37Vx/
 EDnMBJ4eohMuT2pbQTTmtpL5GOzva4ut0hlYcxGKt8nbYVC6wo9cXuAwAC74Kvgl+i58
 gx4PX7wmb2XyTXjGyba+SyuAkQmPdFdgffvshIHXTfFs5FN8iGslgakMlaT1i5g8RkP7
 v7Jp85jDSd5mQ94pMnK+dRcEYO45QTfW/4m+C/P5osUE46Zt5DJgHeOlt1wnwtsmxPYA
 h6iA==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Deucher, Alexander" <Alexander.Deucher@amd.com>, "Feng,
 Kenneth" <Kenneth.Feng@amd.com>, amd-gfx list <amd-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

T24gTW9uLCBEZWMgOSwgMjAxOSBhdCAxMjoxNiBQTSBUYW8sIFlpbnRpYW4gPFlpbnRpYW4uVGFv
QGFtZC5jb20+IHdyb3RlOgo+Cj4gSGkgIEFsZXgKPgo+IE1hbnkgdGhhbmtzIGZvciB5b3VyIHJl
dmlldy4gUGxlYXNlIHNlZSBpbmxpbmUgY29tbWVudHMuIEkgd2lsbCBzdWJtaXQgdGhlIHYzIHBh
dGNoIGFjY29yZGluZyB0byB5b3VyIGNvbW1lbnQuIFRoYW5rcyBhZ2Fpbi4KPgo+IEJlc3QgUmVn
YXJkcwo+IFlpbnRpYW4gVGFvCj4KPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQo+IEZyb206
IEFsZXggRGV1Y2hlciA8YWxleGRldWNoZXJAZ21haWwuY29tPgo+IFNlbnQ6IDIwMTnlubQxMuac
iDEw5pelIDA6NTIKPiBUbzogVGFvLCBZaW50aWFuIDxZaW50aWFuLlRhb0BhbWQuY29tPgo+IENj
OiBEZXVjaGVyLCBBbGV4YW5kZXIgPEFsZXhhbmRlci5EZXVjaGVyQGFtZC5jb20+OyBGZW5nLCBL
ZW5uZXRoIDxLZW5uZXRoLkZlbmdAYW1kLmNvbT47IGFtZC1nZnggbGlzdCA8YW1kLWdmeEBsaXN0
cy5mcmVlZGVza3RvcC5vcmc+Cj4gU3ViamVjdDogUmU6IFtQQVRDSF0gZHJtL2FtZC9wb3dlcnBs
YXk6IGVuYWJsZSBwcCBvbmUgdmYgbW9kZSBmb3IgdmVnYTEwCj4KPiBPbiBNb24sIERlYyA5LCAy
MDE5IGF0IDU6MzkgQU0gWWludGlhbiBUYW8gPHl0dGFvQGFtZC5jb20+IHdyb3RlOgo+ID4KPiA+
IE9yaWdpbmFsbHksIGR1ZSB0byB0aGUgcmVzdHJpY3Rpb24gZnJvbSBQU1AgYW5kIFNNVSwgVkYg
aGFzCj4gPiB0byBzZW5kIG1lc3NhZ2UgdG8gaHlwZXJ2aXNvciBkcml2ZXIgdG8gaGFuZGxlIHBv
d2VycGxheQo+ID4gY2hhbmdlIHdoaWNoIGlzIGNvbXBsaWNhdGVkIGFuZCByZWR1bmRhbnQuIEN1
cnJlbnRseSwgU01VCj4gPiBhbmQgUFNQIGNhbiBzdXBwb3J0IFZGIHRvIGRpcmVjdGx5IGhhbmRs
ZSBwb3dlcnBsYXkKPiA+IGNoYW5nZSBieSBpdHNlbGYuIFRoZXJlZm9yZSwgdGhlIG9sZCBjb2Rl
IGFib3V0IHRoZSBoYW5kc2hha2UKPiA+IGJldHdlZW4gVkYgYW5kIFBGIHRvIGhhbmRsZSBwb3dl
cnBsYXkgd2lsbCBiZSByZW1vdmVkIGFuZCBWRgo+ID4gd2lsbCB1c2UgbmV3IHRoZSByZWdpc3Rl
cnMgYmVsb3cgdG8gaGFuZHNoYWtlIHdpdGggU01VLgo+ID4gbW1NUDFfU01OX0MyUE1TR18xMDE6
IHJlZ2lzdGVyIHRvIGhhbmRsZSBTTVUgbWVzc2FnZQo+ID4gbW1NUDFfU01OX0MyUE1TR18xMDI6
IHJlZ2lzdGVyIHRvIGhhbmRsZSBTTVUgcGFyYW1ldGVyCj4gPiBtbU1QMV9TTU5fQzJQTVNHXzEw
MzogcmVnaXN0ZXIgdG8gaGFuZGxlIFNNVSByZXNwb25zZQo+ID4KPiA+IHYyOiByZW1vdmUgbW9k
dWxlIHBhcmFtZXRlciBwcF9vbmVfdmYKPiA+Cj4gPiBTaWduZWQtb2ZmLWJ5OiBZaW50aWFuIFRh
byA8eXR0YW9AYW1kLmNvbT4KPiA+IC0tLQo+ID4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2FtZGdwdV9kZXZpY2UuYyAgICB8ICAxMyArLQo+ID4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2FtZGdwdV9rbXMuYyAgICAgICB8ICAgNCAtCj4gPiAgZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1X3BtLmMgICAgICAgIHwgMTIxICsrKysrKystLS0tLS0tCj4gPiAgZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZpcnQuYyAgICAgIHwgIDUxIC0tLS0tLQo+ID4g
IGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92aXJ0LmggICAgICB8ICAxNCArLQo+
ID4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L214Z3B1X2FpLmMgICAgICAgICB8ICA3OCAt
LS0tLS0tLS0KPiA+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9teGdwdV9haS5oICAgICAg
ICAgfCAgIDQgLQo+ID4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NvYzE1LmMgICAgICAg
ICAgICB8ICAgOCArLQo+ID4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2FtZF9wb3dl
cnBsYXkuYyB8ICAgNCArLQo+ID4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2FtZGdw
dV9zbXUuYyAgICB8ICAyNCArLS0KPiA+ICAuLi4vZHJtL2FtZC9wb3dlcnBsYXkvaHdtZ3IvaGFy
ZHdhcmVtYW5hZ2VyLmMgfCAgMTUgKy0KPiA+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxh
eS9od21nci9od21nci5jICAgfCAgIDcgKwo+ID4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJw
bGF5L2h3bWdyL3BwX3BzbS5jICB8ICAzMCArKy0tCj4gPiAgLi4uL2RybS9hbWQvcG93ZXJwbGF5
L2h3bWdyL3ZlZ2ExMF9od21nci5jICAgIHwgMTU3ICsrKysrKysrKysrKy0tLS0tLQo+ID4gIGRy
aXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2luYy9od21nci5oICAgICB8ICAgMSArCj4gPiAg
Li4uL2RybS9hbWQvcG93ZXJwbGF5L3NtdW1nci9zbXU5X3NtdW1nci5jICAgIHwgIDU1ICsrKyst
LQo+ID4gIC4uLi9kcm0vYW1kL3Bvd2VycGxheS9zbXVtZ3IvdmVnYTEwX3NtdW1nci5jICB8ICAg
NiArCj4gPiAgMTcgZmlsZXMgY2hhbmdlZCwgMjgwIGluc2VydGlvbnMoKyksIDMxMiBkZWxldGlv
bnMoLSkKPiA+Cj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1k
Z3B1X2RldmljZS5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RldmljZS5j
Cj4gPiBpbmRleCBiOWNhN2U3MjhkM2UuLjMwZWI0MjU5M2EyMCAxMDA2NDQKPiA+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kZXZpY2UuYwo+ID4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RldmljZS5jCj4gPiBAQCAtMTg4MCw2ICsxODgw
LDkgQEAgc3RhdGljIGludCBhbWRncHVfZGV2aWNlX2lwX2luaXQoc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYpCj4gPiAgICAgICAgICAgICAgICAgfQo+ID4gICAgICAgICB9Cj4gPgo+ID4gKyAg
ICAgICBpZiAoYW1kZ3B1X3NyaW92X3ZmKGFkZXYpKQo+ID4gKyAgICAgICAgICAgICAgIGFtZGdw
dV92aXJ0X2luaXRfZGF0YV9leGNoYW5nZShhZGV2KTsKPiA+ICsKPiA+ICAgICAgICAgciA9IGFt
ZGdwdV9pYl9wb29sX2luaXQoYWRldik7Cj4gPiAgICAgICAgIGlmIChyKSB7Cj4gPiAgICAgICAg
ICAgICAgICAgZGV2X2VycihhZGV2LT5kZXYsICJJQiBpbml0aWFsaXphdGlvbiBmYWlsZWQgKCVk
KS5cbiIsIHIpOwo+ID4gQEAgLTE5MjIsOCArMTkyNSw2IEBAIHN0YXRpYyBpbnQgYW1kZ3B1X2Rl
dmljZV9pcF9pbml0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQo+ID4KPiA+ICBpbml0X2Zh
aWxlZDoKPiA+ICAgICAgICAgaWYgKGFtZGdwdV9zcmlvdl92ZihhZGV2KSkgewo+ID4gLSAgICAg
ICAgICAgICAgIGlmICghcikKPiA+IC0gICAgICAgICAgICAgICAgICAgICAgIGFtZGdwdV92aXJ0
X2luaXRfZGF0YV9leGNoYW5nZShhZGV2KTsKPiA+ICAgICAgICAgICAgICAgICBhbWRncHVfdmly
dF9yZWxlYXNlX2Z1bGxfZ3B1KGFkZXYsIHRydWUpOwo+ID4gICAgICAgICB9Cj4gPgo+ID4gQEAg
LTI4MTksNyArMjgyMCw2IEBAIGludCBhbWRncHVfZGV2aWNlX2luaXQoc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYsCj4gPiAgICAgICAgIG11dGV4X2luaXQoJmFkZXYtPnZpcnQudmZfZXJyb3Jz
LmxvY2spOwo+ID4gICAgICAgICBoYXNoX2luaXQoYWRldi0+bW5faGFzaCk7Cj4gPiAgICAgICAg
IG11dGV4X2luaXQoJmFkZXYtPmxvY2tfcmVzZXQpOwo+ID4gLSAgICAgICBtdXRleF9pbml0KCZh
ZGV2LT52aXJ0LmRwbV9tdXRleCk7Cj4gPiAgICAgICAgIG11dGV4X2luaXQoJmFkZXYtPnBzcC5t
dXRleCk7Cj4gPgo+ID4gICAgICAgICByID0gYW1kZ3B1X2RldmljZV9jaGVja19hcmd1bWVudHMo
YWRldik7Cj4gPiBAQCAtMzA0MCw5ICszMDQwLDYgQEAgaW50IGFtZGdwdV9kZXZpY2VfaW5pdChz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKPiA+Cj4gPiAgICAgICAgIGFtZGdwdV9mYmRldl9p
bml0KGFkZXYpOwo+ID4KPiA+IC0gICAgICAgaWYgKGFtZGdwdV9zcmlvdl92ZihhZGV2KSAmJiBh
bWRnaW1faXNfaHdwZXJmKGFkZXYpKQo+ID4gLSAgICAgICAgICAgICAgIGFtZGdwdV9wbV92aXJ0
X3N5c2ZzX2luaXQoYWRldik7Cj4gPiAtCj4gPiAgICAgICAgIHIgPSBhbWRncHVfcG1fc3lzZnNf
aW5pdChhZGV2KTsKPiA+ICAgICAgICAgaWYgKHIpIHsKPiA+ICAgICAgICAgICAgICAgICBhZGV2
LT5wbV9zeXNmc19lbiA9IGZhbHNlOwo+ID4gQEAgLTMxODcsOCArMzE4NCw2IEBAIHZvaWQgYW1k
Z3B1X2RldmljZV9maW5pKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQo+ID4gICAgICAgICBp
b3VubWFwKGFkZXYtPnJtbWlvKTsKPiA+ICAgICAgICAgYWRldi0+cm1taW8gPSBOVUxMOwo+ID4g
ICAgICAgICBhbWRncHVfZGV2aWNlX2Rvb3JiZWxsX2ZpbmkoYWRldik7Cj4gPiAtICAgICAgIGlm
IChhbWRncHVfc3Jpb3ZfdmYoYWRldikgJiYgYW1kZ2ltX2lzX2h3cGVyZihhZGV2KSkKPiA+IC0g
ICAgICAgICAgICAgICBhbWRncHVfcG1fdmlydF9zeXNmc19maW5pKGFkZXYpOwo+ID4KPiA+ICAg
ICAgICAgYW1kZ3B1X2RlYnVnZnNfcmVnc19jbGVhbnVwKGFkZXYpOwo+ID4gICAgICAgICBkZXZp
Y2VfcmVtb3ZlX2ZpbGUoYWRldi0+ZGV2LCAmZGV2X2F0dHJfcGNpZV9yZXBsYXlfY291bnQpOwo+
ID4gQEAgLTM2NjksNiArMzY2NCw3IEBAIHN0YXRpYyBpbnQgYW1kZ3B1X2RldmljZV9yZXNldF9z
cmlvdihzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKPiA+ICAgICAgICAgaWYgKHIpCj4gPiAg
ICAgICAgICAgICAgICAgZ290byBlcnJvcjsKPiA+Cj4gPiArICAgICAgIGFtZGdwdV92aXJ0X2lu
aXRfZGF0YV9leGNoYW5nZShhZGV2KTsKPiA+ICAgICAgICAgLyogd2UgbmVlZCByZWNvdmVyIGdh
cnQgcHJpb3IgdG8gcnVuIFNNQy9DUC9TRE1BIHJlc3VtZSAqLwo+ID4gICAgICAgICBhbWRncHVf
Z3R0X21ncl9yZWNvdmVyKCZhZGV2LT5tbWFuLmJkZXYubWFuW1RUTV9QTF9UVF0pOwo+ID4KPiA+
IEBAIC0zNjg2LDcgKzM2ODIsNiBAQCBzdGF0aWMgaW50IGFtZGdwdV9kZXZpY2VfcmVzZXRfc3Jp
b3Yoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCj4gPiAgICAgICAgIGFtZGdwdV9hbWRrZmRf
cG9zdF9yZXNldChhZGV2KTsKPiA+Cj4gPiAgZXJyb3I6Cj4gPiAtICAgICAgIGFtZGdwdV92aXJ0
X2luaXRfZGF0YV9leGNoYW5nZShhZGV2KTsKPiA+ICAgICAgICAgYW1kZ3B1X3ZpcnRfcmVsZWFz
ZV9mdWxsX2dwdShhZGV2LCB0cnVlKTsKPiA+ICAgICAgICAgaWYgKCFyICYmIGFkZXYtPnZpcnQu
Z2ltX2ZlYXR1cmUgJiBBTURHSU1fRkVBVFVSRV9HSU1fRkxSX1ZSQU1MT1NUKSB7Cj4gPiAgICAg
ICAgICAgICAgICAgYW1kZ3B1X2luY192cmFtX2xvc3QoYWRldik7Cj4gPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2ttcy5jIGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvYW1kZ3B1X2ttcy5jCj4gPiBpbmRleCA1ZWMxNDE1ZDE3NTUuLjNhMGVhOTA5
NjQ5OCAxMDA2NDQKPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9r
bXMuYwo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2ttcy5jCj4g
PiBAQCAtNzAzLDEwICs3MDMsNiBAQCBzdGF0aWMgaW50IGFtZGdwdV9pbmZvX2lvY3RsKHN0cnVj
dCBkcm1fZGV2aWNlICpkZXYsIHZvaWQgKmRhdGEsIHN0cnVjdCBkcm1fZmlsZQo+ID4gICAgICAg
ICAgICAgICAgIGlmIChhZGV2LT5wbS5kcG1fZW5hYmxlZCkgewo+ID4gICAgICAgICAgICAgICAg
ICAgICAgICAgZGV2X2luZm8ubWF4X2VuZ2luZV9jbG9jayA9IGFtZGdwdV9kcG1fZ2V0X3NjbGso
YWRldiwgZmFsc2UpICogMTA7Cj4gPiAgICAgICAgICAgICAgICAgICAgICAgICBkZXZfaW5mby5t
YXhfbWVtb3J5X2Nsb2NrID0gYW1kZ3B1X2RwbV9nZXRfbWNsayhhZGV2LCBmYWxzZSkgKiAxMDsK
PiA+IC0gICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFtZGdwdV9zcmlvdl92ZihhZGV2KSAmJiBh
bWRnaW1faXNfaHdwZXJmKGFkZXYpICYmCj4gPiAtICAgICAgICAgICAgICAgICAgICAgICAgICBh
ZGV2LT52aXJ0Lm9wcy0+Z2V0X3BwX2Nsaykgewo+ID4gLSAgICAgICAgICAgICAgICAgICAgICAg
ZGV2X2luZm8ubWF4X2VuZ2luZV9jbG9jayA9IGFtZGdwdV92aXJ0X2dldF9zY2xrKGFkZXYsIGZh
bHNlKSAqIDEwOwo+ID4gLSAgICAgICAgICAgICAgICAgICAgICAgZGV2X2luZm8ubWF4X21lbW9y
eV9jbG9jayA9IGFtZGdwdV92aXJ0X2dldF9tY2xrKGFkZXYsIGZhbHNlKSAqIDEwOwo+ID4gICAg
ICAgICAgICAgICAgIH0gZWxzZSB7Cj4gPiAgICAgICAgICAgICAgICAgICAgICAgICBkZXZfaW5m
by5tYXhfZW5naW5lX2Nsb2NrID0gYWRldi0+Y2xvY2suZGVmYXVsdF9zY2xrICogMTA7Cj4gPiAg
ICAgICAgICAgICAgICAgICAgICAgICBkZXZfaW5mby5tYXhfbWVtb3J5X2Nsb2NrID0gYWRldi0+
Y2xvY2suZGVmYXVsdF9tY2xrICogMTA7Cj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvYW1kZ3B1X3BtLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRn
cHVfcG0uYwo+ID4gaW5kZXggMGM3MzI0YmMzMWE3Li5iOGE0MmViYjJmNWEgMTAwNjQ0Cj4gPiAt
LS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfcG0uYwo+ID4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3BtLmMKPiA+IEBAIC0xNjAsNyArMTYwLDgg
QEAgc3RhdGljIHNzaXplX3QgYW1kZ3B1X2dldF9kcG1fc3RhdGUoc3RydWN0IGRldmljZSAqZGV2
LAo+ID4gICAgICAgICBlbnVtIGFtZF9wbV9zdGF0ZV90eXBlIHBtOwo+ID4KPiA+ICAgICAgICAg
aWYgKGlzX3N1cHBvcnRfc3dfc211KGFkZXYpKSB7Cj4gPiAtICAgICAgICAgICAgICAgaWYgKGFk
ZXYtPnNtdS5wcHRfZnVuY3MtPmdldF9jdXJyZW50X3Bvd2VyX3N0YXRlKQo+ID4gKyAgICAgICAg
ICAgICAgIGlmIChhZGV2LT5zbXUucHB0X2Z1bmNzICYmCj4gPiArICAgICAgICAgICAgICAgICAg
IGFkZXYtPnNtdS5wcHRfZnVuY3MtPmdldF9jdXJyZW50X3Bvd2VyX3N0YXRlKQo+Cj4gVGhpcyBs
b29rcyBsaWtlIGEgYnVnIGZpeCB3aGljaCBzaG91bGQgYmUgYnJva2VuIG91dCBzZXBhcmF0ZWx5
Lgo+IFt5dHRhb106IFRoYW5rcyBhIGxvdC4gSSB3aWxsIHNlcGFyYXRlIGl0Lgo+Cj4gPiAgICAg
ICAgICAgICAgICAgICAgICAgICBwbSA9IHNtdV9nZXRfY3VycmVudF9wb3dlcl9zdGF0ZSgmYWRl
di0+c211KTsKPiA+ICAgICAgICAgICAgICAgICBlbHNlCj4gPiAgICAgICAgICAgICAgICAgICAg
ICAgICBwbSA9IGFkZXYtPnBtLmRwbS51c2VyX3N0YXRlOwo+ID4gQEAgLTI4Myw3ICsyODQsNyBA
QCBzdGF0aWMgc3NpemVfdCBhbWRncHVfZ2V0X2RwbV9mb3JjZWRfcGVyZm9ybWFuY2VfbGV2ZWwo
c3RydWN0IGRldmljZSAqZGV2LAo+ID4gICAgICAgICBzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRl
diA9IGRkZXYtPmRldl9wcml2YXRlOwo+ID4gICAgICAgICBlbnVtIGFtZF9kcG1fZm9yY2VkX2xl
dmVsIGxldmVsID0gMHhmZjsKPiA+Cj4gPiAtICAgICAgIGlmIChhbWRncHVfc3Jpb3ZfdmYoYWRl
dikpCj4gPiArICAgICAgIGlmIChhbWRncHVfc3Jpb3ZfdmYoYWRldikgJiYgIWFtZGdpbV9pc19w
cF9vbmVfdmYoYWRldikpCj4gPiAgICAgICAgICAgICAgICAgcmV0dXJuIDA7Cj4gPgo+ID4gICAg
ICAgICBpZiAoKGFkZXYtPmZsYWdzICYgQU1EX0lTX1BYKSAmJgo+ID4gQEAgLTMyMCw2ICszMjEs
OSBAQCBzdGF0aWMgc3NpemVfdCBhbWRncHVfc2V0X2RwbV9mb3JjZWRfcGVyZm9ybWFuY2VfbGV2
ZWwoc3RydWN0IGRldmljZSAqZGV2LAo+ID4gICAgICAgICBlbnVtIGFtZF9kcG1fZm9yY2VkX2xl
dmVsIGN1cnJlbnRfbGV2ZWwgPSAweGZmOwo+ID4gICAgICAgICBpbnQgcmV0ID0gMDsKPiA+Cj4g
PiArICAgICAgIGlmIChhbWRncHVfc3Jpb3ZfdmYoYWRldikgJiYgIWFtZGdpbV9pc19wcF9vbmVf
dmYoYWRldikpCj4gPiArICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7Cj4gPiArCj4gPiAg
ICAgICAgIC8qIENhbid0IGZvcmNlIHBlcmZvcm1hbmNlIGxldmVsIHdoZW4gdGhlIGNhcmQgaXMg
b2ZmICovCj4gPiAgICAgICAgIGlmICAoKGFkZXYtPmZsYWdzICYgQU1EX0lTX1BYKSAmJgo+ID4g
ICAgICAgICAgICAgIChkZGV2LT5zd2l0Y2hfcG93ZXJfc3RhdGUgIT0gRFJNX1NXSVRDSF9QT1dF
Ul9PTikpCj4gPiBAQCAtMzQ4LDE5ICszNTIsNiBAQCBzdGF0aWMgc3NpemVfdCBhbWRncHVfc2V0
X2RwbV9mb3JjZWRfcGVyZm9ybWFuY2VfbGV2ZWwoc3RydWN0IGRldmljZSAqZGV2LAo+ID4gICAg
ICAgICAgICAgICAgIGdvdG8gZmFpbDsKPiA+ICAgICAgICAgfQo+ID4KPiA+IC0gICAgICAgLyog
aGFuZGxlIHNyaW92IGNhc2UgaGVyZSAqLwo+ID4gLSAgICAgICBpZiAoYW1kZ3B1X3NyaW92X3Zm
KGFkZXYpKSB7Cj4gPiAtICAgICAgICAgICAgICAgaWYgKGFtZGdpbV9pc19od3BlcmYoYWRldikg
JiYKPiA+IC0gICAgICAgICAgICAgICAgICAgYWRldi0+dmlydC5vcHMtPmZvcmNlX2RwbV9sZXZl
bCkgewo+ID4gLSAgICAgICAgICAgICAgICAgICAgICAgbXV0ZXhfbG9jaygmYWRldi0+cG0ubXV0
ZXgpOwo+ID4gLSAgICAgICAgICAgICAgICAgICAgICAgYWRldi0+dmlydC5vcHMtPmZvcmNlX2Rw
bV9sZXZlbChhZGV2LCBsZXZlbCk7Cj4gPiAtICAgICAgICAgICAgICAgICAgICAgICBtdXRleF91
bmxvY2soJmFkZXYtPnBtLm11dGV4KTsKPiA+IC0gICAgICAgICAgICAgICAgICAgICAgIHJldHVy
biBjb3VudDsKPiA+IC0gICAgICAgICAgICAgICB9IGVsc2Ugewo+ID4gLSAgICAgICAgICAgICAg
ICAgICAgICAgcmV0dXJuIC1FSU5WQUw7Cj4gPiAtICAgICAgICAgICAgICAgfQo+ID4gLSAgICAg
ICB9Cj4gPiAtCj4gPiAgICAgICAgIGlmIChpc19zdXBwb3J0X3N3X3NtdShhZGV2KSkKPiA+ICAg
ICAgICAgICAgICAgICBjdXJyZW50X2xldmVsID0gc211X2dldF9wZXJmb3JtYW5jZV9sZXZlbCgm
YWRldi0+c211KTsKPiA+ICAgICAgICAgZWxzZSBpZiAoYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNz
LT5nZXRfcGVyZm9ybWFuY2VfbGV2ZWwpCj4gPiBAQCAtNjU0LDYgKzY0NSw5IEBAIHN0YXRpYyBz
c2l6ZV90IGFtZGdwdV9zZXRfcHBfb2RfY2xrX3ZvbHRhZ2Uoc3RydWN0IGRldmljZSAqZGV2LAo+
ID4gICAgICAgICBjb25zdCBjaGFyIGRlbGltaXRlclszXSA9IHsnICcsICdcbicsICdcMCd9Owo+
ID4gICAgICAgICB1aW50MzJfdCB0eXBlOwo+ID4KPiA+ICsgICAgICAgaWYgKGFtZGdwdV9zcmlv
dl92ZihhZGV2KSAmJiAhYW1kZ2ltX2lzX3BwX29uZV92ZihhZGV2KSkKPiA+ICsgICAgICAgICAg
ICAgICByZXR1cm4gMDsKPiA+ICsKPiA+ICAgICAgICAgaWYgKGNvdW50ID4gMTI3KQo+ID4gICAg
ICAgICAgICAgICAgIHJldHVybiAtRUlOVkFMOwo+ID4KPiA+IEBAIC04NDEsOSArODM1LDEwIEBA
IHN0YXRpYyBzc2l6ZV90IGFtZGdwdV9nZXRfcHBfZHBtX3NjbGsoc3RydWN0IGRldmljZSAqZGV2
LAo+ID4gICAgICAgICBzdHJ1Y3QgZHJtX2RldmljZSAqZGRldiA9IGRldl9nZXRfZHJ2ZGF0YShk
ZXYpOwo+ID4gICAgICAgICBzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IGRkZXYtPmRldl9w
cml2YXRlOwo+ID4KPiA+IC0gICAgICAgaWYgKGFtZGdwdV9zcmlvdl92ZihhZGV2KSAmJiBhbWRn
aW1faXNfaHdwZXJmKGFkZXYpICYmCj4gPiAtICAgICAgICAgICBhZGV2LT52aXJ0Lm9wcy0+Z2V0
X3BwX2NsaykKPiA+IC0gICAgICAgICAgICAgICByZXR1cm4gYWRldi0+dmlydC5vcHMtPmdldF9w
cF9jbGsoYWRldiwgUFBfU0NMSywgYnVmKTsKPiA+ICsgICAgICAgaWYgKGFtZGdwdV9zcmlvdl92
ZihhZGV2KSkgewo+ID4gKyAgICAgICAgICAgICAgIGlmICghYW1kZ2ltX2lzX3BwX29uZV92Zihh
ZGV2KSkKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtRUlOVkFMOwo+ID4gKyAg
ICAgICB9Cj4gPgo+ID4gICAgICAgICBpZiAoaXNfc3VwcG9ydF9zd19zbXUoYWRldikpCj4gPiAg
ICAgICAgICAgICAgICAgcmV0dXJuIHNtdV9wcmludF9jbGtfbGV2ZWxzKCZhZGV2LT5zbXUsIFNN
VV9TQ0xLLCBidWYpOwo+ID4gQEAgLTg3OCw3ICs4NzMsNiBAQCBzdGF0aWMgc3NpemVfdCBhbWRn
cHVfcmVhZF9tYXNrKGNvbnN0IGNoYXIgKmJ1Ziwgc2l6ZV90IGNvdW50LCB1aW50MzJfdCAqbWFz
aykKPiA+ICAgICAgICAgd2hpbGUgKHRtcFswXSkgewo+ID4gICAgICAgICAgICAgICAgIHN1Yl9z
dHIgPSBzdHJzZXAoJnRtcCwgZGVsaW1pdGVyKTsKPiA+ICAgICAgICAgICAgICAgICBpZiAoc3Ry
bGVuKHN1Yl9zdHIpKSB7Cj4gPiAtICAgICAgICAgICAgICAgICAgICAgICByZXQgPSBrc3RydG9s
KHN1Yl9zdHIsIDAsICZsZXZlbCk7Cj4gPiAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0
KQo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLUVJTlZBTDsKPiA+
ICAgICAgICAgICAgICAgICAgICAgICAgICptYXNrIHw9IDEgPDwgbGV2ZWw7Cj4gPiBAQCAtODk5
LDggKzg5MywxMCBAQCBzdGF0aWMgc3NpemVfdCBhbWRncHVfc2V0X3BwX2RwbV9zY2xrKHN0cnVj
dCBkZXZpY2UgKmRldiwKPiA+ICAgICAgICAgaW50IHJldDsKPiA+ICAgICAgICAgdWludDMyX3Qg
bWFzayA9IDA7Cj4gPgo+ID4gLSAgICAgICBpZiAoYW1kZ3B1X3NyaW92X3ZmKGFkZXYpKQo+ID4g
LSAgICAgICAgICAgICAgIHJldHVybiAwOwo+ID4gKyAgICAgICBpZiAoYW1kZ3B1X3NyaW92X3Zm
KGFkZXYpKSB7Cj4gPiArICAgICAgICAgICAgICAgaWYgKCFhbWRnaW1faXNfcHBfb25lX3ZmKGFk
ZXYpKQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7Cj4gPiArICAg
ICAgIH0KPiA+Cj4gPiAgICAgICAgIHJldCA9IGFtZGdwdV9yZWFkX21hc2soYnVmLCBjb3VudCwg
Jm1hc2spOwo+ID4gICAgICAgICBpZiAocmV0KQo+ID4gQEAgLTkyNCw5ICs5MjAsMTAgQEAgc3Rh
dGljIHNzaXplX3QgYW1kZ3B1X2dldF9wcF9kcG1fbWNsayhzdHJ1Y3QgZGV2aWNlICpkZXYsCj4g
PiAgICAgICAgIHN0cnVjdCBkcm1fZGV2aWNlICpkZGV2ID0gZGV2X2dldF9kcnZkYXRhKGRldik7
Cj4gPiAgICAgICAgIHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gZGRldi0+ZGV2X3ByaXZh
dGU7Cj4gPgo+ID4gLSAgICAgICBpZiAoYW1kZ3B1X3NyaW92X3ZmKGFkZXYpICYmIGFtZGdpbV9p
c19od3BlcmYoYWRldikgJiYKPiA+IC0gICAgICAgICAgIGFkZXYtPnZpcnQub3BzLT5nZXRfcHBf
Y2xrKQo+ID4gLSAgICAgICAgICAgICAgIHJldHVybiBhZGV2LT52aXJ0Lm9wcy0+Z2V0X3BwX2Ns
ayhhZGV2LCBQUF9NQ0xLLCBidWYpOwo+ID4gKyAgICAgICBpZiAoYW1kZ3B1X3NyaW92X3ZmKGFk
ZXYpKSB7Cj4gPiArICAgICAgICAgICAgICAgaWYgKCFhbWRnaW1faXNfcHBfb25lX3ZmKGFkZXYp
KQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7Cj4gPiArICAgICAg
IH0KPiA+Cj4gPiAgICAgICAgIGlmIChpc19zdXBwb3J0X3N3X3NtdShhZGV2KSkKPiA+ICAgICAg
ICAgICAgICAgICByZXR1cm4gc211X3ByaW50X2Nsa19sZXZlbHMoJmFkZXYtPnNtdSwgU01VX01D
TEssIGJ1Zik7Cj4gPiBAQCAtOTQ2LDggKzk0MywxMSBAQCBzdGF0aWMgc3NpemVfdCBhbWRncHVf
c2V0X3BwX2RwbV9tY2xrKHN0cnVjdCBkZXZpY2UgKmRldiwKPiA+ICAgICAgICAgaW50IHJldDsK
PiA+ICAgICAgICAgdWludDMyX3QgbWFzayA9IDA7Cj4gPgo+ID4gLSAgICAgICBpZiAoYW1kZ3B1
X3NyaW92X3ZmKGFkZXYpKQo+ID4gLSAgICAgICAgICAgICAgIHJldHVybiAwOwo+ID4gKyAgICAg
ICBpZiAoYW1kZ3B1X3NyaW92X3ZmKGFkZXYpKSB7Cj4gPiArICAgICAgICAgICAgICAgaWYgKCFh
bWRnaW1faXNfcHBfb25lX3ZmKGFkZXYpKQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgcmV0
dXJuIC1FSU5WQUw7Cj4gPiArCj4gPiArICAgICAgIH0KPiA+Cj4gPiAgICAgICAgIHJldCA9IGFt
ZGdwdV9yZWFkX21hc2soYnVmLCBjb3VudCwgJm1hc2spOwo+ID4gICAgICAgICBpZiAocmV0KQo+
ID4gQEAgLTk3MSw2ICs5NzEsMTEgQEAgc3RhdGljIHNzaXplX3QgYW1kZ3B1X2dldF9wcF9kcG1f
c29jY2xrKHN0cnVjdCBkZXZpY2UgKmRldiwKPiA+ICAgICAgICAgc3RydWN0IGRybV9kZXZpY2Ug
KmRkZXYgPSBkZXZfZ2V0X2RydmRhdGEoZGV2KTsKPiA+ICAgICAgICAgc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYgPSBkZGV2LT5kZXZfcHJpdmF0ZTsKPiA+Cj4gPiArICAgICAgIGlmIChhbWRn
cHVfc3Jpb3ZfdmYoYWRldikpIHsKPiA+ICsgICAgICAgICAgICAgICBpZiAoIWFtZGdpbV9pc19w
cF9vbmVfdmYoYWRldikpCj4gPiArICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLUVJTlZB
TDsKPiA+ICsgICAgICAgfQo+ID4gKwo+ID4gICAgICAgICBpZiAoaXNfc3VwcG9ydF9zd19zbXUo
YWRldikpCj4gPiAgICAgICAgICAgICAgICAgcmV0dXJuIHNtdV9wcmludF9jbGtfbGV2ZWxzKCZh
ZGV2LT5zbXUsIFNNVV9TT0NDTEssIGJ1Zik7Cj4gPiAgICAgICAgIGVsc2UgaWYgKGFkZXYtPnBv
d2VycGxheS5wcF9mdW5jcy0+cHJpbnRfY2xvY2tfbGV2ZWxzKQo+ID4gQEAgLTk4OSw2ICs5OTQs
OSBAQCBzdGF0aWMgc3NpemVfdCBhbWRncHVfc2V0X3BwX2RwbV9zb2NjbGsoc3RydWN0IGRldmlj
ZSAqZGV2LAo+ID4gICAgICAgICBpbnQgcmV0Owo+ID4gICAgICAgICB1aW50MzJfdCBtYXNrID0g
MDsKPiA+Cj4gPiArICAgICAgIGlmIChhbWRncHVfc3Jpb3ZfdmYoYWRldikpCj4gPiArICAgICAg
ICAgICAgICAgcmV0dXJuIDA7Cj4gPiArCj4gPiAgICAgICAgIHJldCA9IGFtZGdwdV9yZWFkX21h
c2soYnVmLCBjb3VudCwgJm1hc2spOwo+ID4gICAgICAgICBpZiAocmV0KQo+ID4gICAgICAgICAg
ICAgICAgIHJldHVybiByZXQ7Cj4gPiBAQCAtMTAyOSw2ICsxMDM3LDExIEBAIHN0YXRpYyBzc2l6
ZV90IGFtZGdwdV9zZXRfcHBfZHBtX2ZjbGsoc3RydWN0IGRldmljZSAqZGV2LAo+ID4gICAgICAg
ICBpbnQgcmV0Owo+ID4gICAgICAgICB1aW50MzJfdCBtYXNrID0gMDsKPiA+Cj4gPiArICAgICAg
IGlmIChhbWRncHVfc3Jpb3ZfdmYoYWRldikpIHsKPiA+ICsgICAgICAgICAgICAgICBpZiAoIWFt
ZGdpbV9pc19wcF9vbmVfdmYoYWRldikpCj4gPiArICAgICAgICAgICAgICAgICAgICAgICByZXR1
cm4gLUVJTlZBTDsKPiA+ICsgICAgICAgfQo+ID4gKwo+ID4gICAgICAgICByZXQgPSBhbWRncHVf
cmVhZF9tYXNrKGJ1ZiwgY291bnQsICZtYXNrKTsKPiA+ICAgICAgICAgaWYgKHJldCkKPiA+ICAg
ICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+ID4gQEAgLTEwNTEsNiArMTA2NCw5IEBAIHN0YXRp
YyBzc2l6ZV90IGFtZGdwdV9nZXRfcHBfZHBtX2RjZWZjbGsoc3RydWN0IGRldmljZSAqZGV2LAo+
ID4gICAgICAgICBzdHJ1Y3QgZHJtX2RldmljZSAqZGRldiA9IGRldl9nZXRfZHJ2ZGF0YShkZXYp
Owo+ID4gICAgICAgICBzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IGRkZXYtPmRldl9wcml2
YXRlOwo+ID4KPiA+ICsgICAgICAgaWYgKGFtZGdwdV9zcmlvdl92ZihhZGV2KSkKPiA+ICsgICAg
ICAgICAgICAgICByZXR1cm4gMDsKPiA+ICsKPiA+ICAgICAgICAgaWYgKGlzX3N1cHBvcnRfc3df
c211KGFkZXYpKQo+ID4gICAgICAgICAgICAgICAgIHJldHVybiBzbXVfcHJpbnRfY2xrX2xldmVs
cygmYWRldi0+c211LCBTTVVfRENFRkNMSywgYnVmKTsKPiA+ICAgICAgICAgZWxzZSBpZiAoYWRl
di0+cG93ZXJwbGF5LnBwX2Z1bmNzLT5wcmludF9jbG9ja19sZXZlbHMpCj4gPiBAQCAtMTA2OSw2
ICsxMDg1LDkgQEAgc3RhdGljIHNzaXplX3QgYW1kZ3B1X3NldF9wcF9kcG1fZGNlZmNsayhzdHJ1
Y3QgZGV2aWNlICpkZXYsCj4gPiAgICAgICAgIGludCByZXQ7Cj4gPiAgICAgICAgIHVpbnQzMl90
IG1hc2sgPSAwOwo+ID4KPiA+ICsgICAgICAgaWYgKGFtZGdwdV9zcmlvdl92ZihhZGV2KSkKPiA+
ICsgICAgICAgICAgICAgICByZXR1cm4gMDsKPiA+ICsKPiA+ICAgICAgICAgcmV0ID0gYW1kZ3B1
X3JlYWRfbWFzayhidWYsIGNvdW50LCAmbWFzayk7Cj4gPiAgICAgICAgIGlmIChyZXQpCj4gPiAg
ICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiA+IEBAIC0xMDkxLDYgKzExMTAsOSBAQCBzdGF0
aWMgc3NpemVfdCBhbWRncHVfZ2V0X3BwX2RwbV9wY2llKHN0cnVjdCBkZXZpY2UgKmRldiwKPiA+
ICAgICAgICAgc3RydWN0IGRybV9kZXZpY2UgKmRkZXYgPSBkZXZfZ2V0X2RydmRhdGEoZGV2KTsK
PiA+ICAgICAgICAgc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSBkZGV2LT5kZXZfcHJpdmF0
ZTsKPiA+Cj4gPiArICAgICAgIGlmIChhbWRncHVfc3Jpb3ZfdmYoYWRldikpCj4gPiArICAgICAg
ICAgICAgICAgcmV0dXJuIDA7Cj4gPiArCj4gPiAgICAgICAgIGlmIChpc19zdXBwb3J0X3N3X3Nt
dShhZGV2KSkKPiA+ICAgICAgICAgICAgICAgICByZXR1cm4gc211X3ByaW50X2Nsa19sZXZlbHMo
JmFkZXYtPnNtdSwgU01VX1BDSUUsIGJ1Zik7Cj4gPiAgICAgICAgIGVsc2UgaWYgKGFkZXYtPnBv
d2VycGxheS5wcF9mdW5jcy0+cHJpbnRfY2xvY2tfbGV2ZWxzKQo+ID4gQEAgLTExMDksNiArMTEz
MSw5IEBAIHN0YXRpYyBzc2l6ZV90IGFtZGdwdV9zZXRfcHBfZHBtX3BjaWUoc3RydWN0IGRldmlj
ZSAqZGV2LAo+ID4gICAgICAgICBpbnQgcmV0Owo+ID4gICAgICAgICB1aW50MzJfdCBtYXNrID0g
MDsKPiA+Cj4gPiArICAgICAgIGlmIChhbWRncHVfc3Jpb3ZfdmYoYWRldikpCj4gPiArICAgICAg
ICAgICAgICAgcmV0dXJuIDA7Cj4gPiArCj4gPiAgICAgICAgIHJldCA9IGFtZGdwdV9yZWFkX21h
c2soYnVmLCBjb3VudCwgJm1hc2spOwo+ID4gICAgICAgICBpZiAocmV0KQo+ID4gICAgICAgICAg
ICAgICAgIHJldHVybiByZXQ7Cj4gPiBAQCAtMTE1MCw2ICsxMTc1LDkgQEAgc3RhdGljIHNzaXpl
X3QgYW1kZ3B1X3NldF9wcF9zY2xrX29kKHN0cnVjdCBkZXZpY2UgKmRldiwKPiA+ICAgICAgICAg
aW50IHJldDsKPiA+ICAgICAgICAgbG9uZyBpbnQgdmFsdWU7Cj4gPgo+ID4gKyAgICAgICBpZiAo
YW1kZ3B1X3NyaW92X3ZmKGFkZXYpICYmICFhbWRnaW1faXNfcHBfb25lX3ZmKGFkZXYpKQo+ID4g
KyAgICAgICAgICAgICAgIHJldHVybiAwOwo+ID4gKwo+ID4gICAgICAgICByZXQgPSBrc3RydG9s
KGJ1ZiwgMCwgJnZhbHVlKTsKPiA+Cj4gPiAgICAgICAgIGlmIChyZXQpIHsKPiA+IEBAIC0xMjAx
LDYgKzEyMjksOSBAQCBzdGF0aWMgc3NpemVfdCBhbWRncHVfc2V0X3BwX21jbGtfb2Qoc3RydWN0
IGRldmljZSAqZGV2LAo+ID4gICAgICAgICBpbnQgcmV0Owo+ID4gICAgICAgICBsb25nIGludCB2
YWx1ZTsKPiA+Cj4gPiArICAgICAgIGlmIChhbWRncHVfc3Jpb3ZfdmYoYWRldikgJiYgIWFtZGdp
bV9pc19wcF9vbmVfdmYoYWRldikpCj4gPiArICAgICAgICAgICAgICAgcmV0dXJuIDA7Cj4gPiAr
Cj4gPiAgICAgICAgIHJldCA9IGtzdHJ0b2woYnVmLCAwLCAmdmFsdWUpOwo+ID4KPiA+ICAgICAg
ICAgaWYgKHJldCkgewo+ID4gQEAgLTI3MzAsNDQgKzI3NjEsNiBAQCB2b2lkIGFtZGdwdV9kcG1f
ZW5hYmxlX2pwZWcoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIGJvb2wgZW5hYmxlKQo+ID4g
ICAgICAgICB9Cj4gPiAgfQo+ID4KPiA+IC1pbnQgYW1kZ3B1X3BtX3ZpcnRfc3lzZnNfaW5pdChz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKPiA+IC17Cj4gPiAtICAgICAgIGludCByZXQgPSAw
Owo+ID4gLQo+ID4gLSAgICAgICBpZiAoIShhbWRncHVfc3Jpb3ZfdmYoYWRldikgJiYgYW1kZ2lt
X2lzX2h3cGVyZihhZGV2KSkpCj4gPiAtICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiA+IC0K
PiA+IC0gICAgICAgcmV0ID0gZGV2aWNlX2NyZWF0ZV9maWxlKGFkZXYtPmRldiwgJmRldl9hdHRy
X3BwX2RwbV9zY2xrKTsKPiA+IC0gICAgICAgaWYgKHJldCkgewo+ID4gLSAgICAgICAgICAgICAg
IERSTV9FUlJPUigiZmFpbGVkIHRvIGNyZWF0ZSBkZXZpY2UgZmlsZSBwcF9kcG1fc2Nsa1xuIik7
Cj4gPiAtICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiA+IC0gICAgICAgfQo+ID4gLQo+ID4g
LSAgICAgICByZXQgPSBkZXZpY2VfY3JlYXRlX2ZpbGUoYWRldi0+ZGV2LCAmZGV2X2F0dHJfcHBf
ZHBtX21jbGspOwo+ID4gLSAgICAgICBpZiAocmV0KSB7Cj4gPiAtICAgICAgICAgICAgICAgRFJN
X0VSUk9SKCJmYWlsZWQgdG8gY3JlYXRlIGRldmljZSBmaWxlIHBwX2RwbV9tY2xrXG4iKTsKPiA+
IC0gICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+ID4gLSAgICAgICB9Cj4gPiAtCj4gPiAtICAg
ICAgIHJldCA9IGRldmljZV9jcmVhdGVfZmlsZShhZGV2LT5kZXYsICZkZXZfYXR0cl9wb3dlcl9k
cG1fZm9yY2VfcGVyZm9ybWFuY2VfbGV2ZWwpOwo+ID4gLSAgICAgICBpZiAocmV0KSB7Cj4gPiAt
ICAgICAgICAgICAgICAgRFJNX0VSUk9SKCJmYWlsZWQgdG8gY3JlYXRlIGRldmljZSBmaWxlIGZv
ciBkcG0gc3RhdGVcbiIpOwo+ID4gLSAgICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4gPiAtICAg
ICAgIH0KPiA+IC0KPiA+IC0gICAgICAgcmV0dXJuIHJldDsKPiA+IC19Cj4gPiAtCj4gPiAtdm9p
ZCBhbWRncHVfcG1fdmlydF9zeXNmc19maW5pKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQo+
ID4gLXsKPiA+IC0gICAgICAgaWYgKCEoYW1kZ3B1X3NyaW92X3ZmKGFkZXYpICYmIGFtZGdpbV9p
c19od3BlcmYoYWRldikpKQo+ID4gLSAgICAgICAgICAgICAgIHJldHVybjsKPiA+IC0KPiA+IC0g
ICAgICAgZGV2aWNlX3JlbW92ZV9maWxlKGFkZXYtPmRldiwgJmRldl9hdHRyX3Bvd2VyX2RwbV9m
b3JjZV9wZXJmb3JtYW5jZV9sZXZlbCk7Cj4gPiAtICAgICAgIGRldmljZV9yZW1vdmVfZmlsZShh
ZGV2LT5kZXYsICZkZXZfYXR0cl9wcF9kcG1fc2Nsayk7Cj4gPiAtICAgICAgIGRldmljZV9yZW1v
dmVfZmlsZShhZGV2LT5kZXYsICZkZXZfYXR0cl9wcF9kcG1fbWNsayk7Cj4gPiAtfQo+ID4gLQo+
Cj4gQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlbW92ZSB0aGlzIGZ1bmN0aW9uYWxpdHkgZm9y
IHRoZSBvdGhlcgo+IGNhc2VzPyAgV29uJ3QgdGhpcyByZWdyZXNzIG11bHRpLVZGIHBtPyAgT3Ig
d2FzIHRoaXMgZnVuY3Rpb25hbGl0eQo+IGFsd2F5cyBzaW5nbGUgVkYsIGJ1dCBqdXN0IGhhbmRs
ZWQgaW4gdGhlIGhvc3QgcmF0aGVyIHRoYW4gdGhlIGd1ZXN0Pwo+IFt5dHRhb106IHllcywgdW5k
ZXIgbXVsdGktVkYgY29uZGl0aW9uLCB0aGUgVkYgY2FuJ3Qgc2VuZCBkcG0gcmVxdWVzdCBiZWNh
dXNlIGl0IHdpbGwgaW5mbHVlbmNlIG90aGVyIHJ1bm5pbmcgVkYKPiAgICAgICAgICAgICAgICAg
VGhlIHBwIG9uZSB2ZiBtb2RlIHdpbGwgb25seSB3b3JrIHdpdGggb25seSBzaW5nbGUgVkYgZW5h
YmxlZC4gVGhlIGxlZ2FjeSB2aXJ0IHN5c2ZzIGludGVyZmFjZSB3aWxsIG5vdCB3b3JrIHdpdGgK
PiAgICAgICAgICAgICAgICAgbGF0ZXN0IGhvc3QgZHJpdmVyIGFuZCBob3N0IGRyaXZlciB3aWxs
IG5vdCBzdXBwb3J0IHRoZSBsZWdhY3kgbW9kZSBhbnltb3JlLgoKT2suICBBcyBsb25nIGFzIHdl
IGRvbid0IGNhcmUgYWJvdXQgYmFja3dhcmRzIGNvbXBhdCB3aXRoIG9sZCBHSU0sCnRoaXMgc2Vl
bXMgZmluZS4KCkFsZXgKCj4KPgo+ID4gIGludCBhbWRncHVfcG1fbG9hZF9zbXVfZmlybXdhcmUo
c3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHVpbnQzMl90ICpzbXVfdmVyc2lvbikKPiA+ICB7
Cj4gPiAgICAgICAgIGludCByOwo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2FtZGdwdV92aXJ0LmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
dmlydC5jCj4gPiBpbmRleCBlMzJhZTkwNmQ3OTcuLjEwMzAzM2Y5NmYxMyAxMDA2NDQKPiA+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92aXJ0LmMKPiA+ICsrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92aXJ0LmMKPiA+IEBAIC0zNzksNTQgKzM3
OSwzIEBAIHZvaWQgYW1kZ3B1X3ZpcnRfaW5pdF9kYXRhX2V4Y2hhbmdlKHN0cnVjdCBhbWRncHVf
ZGV2aWNlICphZGV2KQo+ID4gICAgICAgICAgICAgICAgIH0KPiA+ICAgICAgICAgfQo+ID4gIH0K
PiA+IC0KPiA+IC1zdGF0aWMgdWludDMyX3QgcGFyc2VfY2xrKGNoYXIgKmJ1ZiwgYm9vbCBtaW4p
Cj4gPiAtewo+ID4gLSAgICAgICAgY2hhciAqcHRyID0gYnVmOwo+ID4gLSAgICAgICAgdWludDMy
X3QgY2xrID0gMDsKPiA+IC0KPiA+IC0gICAgICAgIGRvIHsKPiA+IC0gICAgICAgICAgICAgICAg
cHRyID0gc3RyY2hyKHB0ciwgJzonKTsKPiA+IC0gICAgICAgICAgICAgICAgaWYgKCFwdHIpCj4g
PiAtICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7Cj4gPiAtICAgICAgICAgICAgICAgIHB0
cis9MjsKPiA+IC0gICAgICAgICAgICAgICBpZiAoa3N0cnRvdTMyKHB0ciwgMTAsICZjbGspKQo+
ID4gLSAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7Cj4gPiAtICAgICAgICB9IHdoaWxl
ICghbWluKTsKPiA+IC0KPiA+IC0gICAgICAgIHJldHVybiBjbGsgKiAxMDA7Cj4gPiAtfQo+ID4g
LQo+ID4gLXVpbnQzMl90IGFtZGdwdV92aXJ0X2dldF9zY2xrKHN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2LCBib29sIGxvd2VzdCkKPiA+IC17Cj4gPiAtICAgICAgIGNoYXIgKmJ1ZiA9IE5VTEw7
Cj4gPiAtICAgICAgIHVpbnQzMl90IGNsayA9IDA7Cj4gPiAtCj4gPiAtICAgICAgIGJ1ZiA9IGt6
YWxsb2MoUEFHRV9TSVpFLCBHRlBfS0VSTkVMKTsKPiA+IC0gICAgICAgaWYgKCFidWYpCj4gPiAt
ICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07Cj4gPiAtCj4gPiAtICAgICAgIGFkZXYtPnZp
cnQub3BzLT5nZXRfcHBfY2xrKGFkZXYsIFBQX1NDTEssIGJ1Zik7Cj4gPiAtICAgICAgIGNsayA9
IHBhcnNlX2NsayhidWYsIGxvd2VzdCk7Cj4gPiAtCj4gPiAtICAgICAgIGtmcmVlKGJ1Zik7Cj4g
PiAtCj4gPiAtICAgICAgIHJldHVybiBjbGs7Cj4gPiAtfQo+ID4gLQo+ID4gLXVpbnQzMl90IGFt
ZGdwdV92aXJ0X2dldF9tY2xrKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCBib29sIGxvd2Vz
dCkKPiA+IC17Cj4gPiAtICAgICAgIGNoYXIgKmJ1ZiA9IE5VTEw7Cj4gPiAtICAgICAgIHVpbnQz
Ml90IGNsayA9IDA7Cj4gPiAtCj4gPiAtICAgICAgIGJ1ZiA9IGt6YWxsb2MoUEFHRV9TSVpFLCBH
RlBfS0VSTkVMKTsKPiA+IC0gICAgICAgaWYgKCFidWYpCj4gPiAtICAgICAgICAgICAgICAgcmV0
dXJuIC1FTk9NRU07Cj4gPiAtCj4gPiAtICAgICAgIGFkZXYtPnZpcnQub3BzLT5nZXRfcHBfY2xr
KGFkZXYsIFBQX01DTEssIGJ1Zik7Cj4gPiAtICAgICAgIGNsayA9IHBhcnNlX2NsayhidWYsIGxv
d2VzdCk7Cj4gPiAtCj4gPiAtICAgICAgIGtmcmVlKGJ1Zik7Cj4gPiAtCj4gPiAtICAgICAgIHJl
dHVybiBjbGs7Cj4gPiAtfQo+Cj4gU2FtZSBjb21tZW50IGhlcmUgYXMgYWJvdmUgcmVnYXJkaW5n
IG11bHRpLVZGIHBtLgo+Cj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X3ZpcnQuaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92aXJ0
LmgKPiA+IGluZGV4IGIwYjJiZGM3NTBkZi4uNjNkYjJhNmYwMDhkIDEwMDY0NAo+ID4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZpcnQuaAo+ID4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZpcnQuaAo+ID4gQEAgLTU3LDggKzU3LDYgQEAg
c3RydWN0IGFtZGdwdV92aXJ0X29wcyB7Cj4gPiAgICAgICAgIGludCAoKnJlc2V0X2dwdSkoc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpOwo+ID4gICAgICAgICBpbnQgKCp3YWl0X3Jlc2V0KShz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7Cj4gPiAgICAgICAgIHZvaWQgKCp0cmFuc19tc2cp
KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCB1MzIgcmVxLCB1MzIgZGF0YTEsIHUzMiBkYXRh
MiwgdTMyIGRhdGEzKTsKPiA+IC0gICAgICAgaW50ICgqZ2V0X3BwX2Nsaykoc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYsIHUzMiB0eXBlLCBjaGFyICpidWYpOwo+ID4gLSAgICAgICBpbnQgKCpm
b3JjZV9kcG1fbGV2ZWwpKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCB1MzIgbGV2ZWwpOwo+
ID4gIH07Cj4gPgo+ID4gIC8qCj4gPiBAQCAtODUsOCArODMsOCBAQCBlbnVtIEFNREdJTV9GRUFU
VVJFX0ZMQUcgewo+ID4gICAgICAgICBBTURHSU1fRkVBVFVSRV9HSU1fTE9BRF9VQ09ERVMgICA9
IDB4MiwKPiA+ICAgICAgICAgLyogVlJBTSBMT1NUIGJ5IEdJTSAqLwo+ID4gICAgICAgICBBTURH
SU1fRkVBVFVSRV9HSU1fRkxSX1ZSQU1MT1NUID0gMHg0LAo+ID4gLSAgICAgICAvKiBIVyBQRVJG
IFNJTSBpbiBHSU0gKi8KPiA+IC0gICAgICAgQU1ER0lNX0ZFQVRVUkVfSFdfUEVSRl9TSU1VTEFU
SU9OID0gKDEgPDwgMyksCj4gPiArICAgICAgIC8qIFBQIE9ORSBWRiBNT0RFIGluIEdJTSAqLwo+
ID4gKyAgICAgICBBTURHSU1fRkVBVFVSRV9QUF9PTkVfVkYgPSAoMSA8PCA0KSwKPiA+ICB9Owo+
ID4KPiA+ICBzdHJ1Y3QgYW1kX3NyaW92X21zZ19wZjJ2Zl9pbmZvX2hlYWRlciB7Cj4gPiBAQCAt
MjU3LDggKzI1NSw2IEBAIHN0cnVjdCBhbWRncHVfdmlydCB7Cj4gPiAgICAgICAgIHN0cnVjdCBh
bWRncHVfdmZfZXJyb3JfYnVmZmVyICAgdmZfZXJyb3JzOwo+ID4gICAgICAgICBzdHJ1Y3QgYW1k
Z3B1X3ZpcnRfZndfcmVzZXJ2ZSAgIGZ3X3Jlc2VydmU7Cj4gPiAgICAgICAgIHVpbnQzMl90IGdp
bV9mZWF0dXJlOwo+ID4gLSAgICAgICAvKiBwcm90ZWN0IERQTSBldmVudHMgdG8gR0lNICovCj4g
PiAtICAgICAgIHN0cnVjdCBtdXRleCAgICAgICAgICAgICAgICAgICAgZHBtX211dGV4Owo+ID4g
ICAgICAgICB1aW50MzJfdCByZWdfYWNjZXNzX21vZGU7Cj4gPiAgfTsKPiA+Cj4gPiBAQCAtMjg2
LDggKzI4Miw4IEBAIHN0YXRpYyBpbmxpbmUgYm9vbCBpc192aXJ0dWFsX21hY2hpbmUodm9pZCkK
PiA+ICAjZW5kaWYKPiA+ICB9Cj4gPgo+ID4gLSNkZWZpbmUgYW1kZ2ltX2lzX2h3cGVyZihhZGV2
KSBcCj4gPiAtICAgICAgICgoYWRldiktPnZpcnQuZ2ltX2ZlYXR1cmUgJiBBTURHSU1fRkVBVFVS
RV9IV19QRVJGX1NJTVVMQVRJT04pCj4gPiArI2RlZmluZSBhbWRnaW1faXNfcHBfb25lX3ZmKGFk
ZXYpIFwKPiA+ICsgICAgICAgKChhZGV2KS0+dmlydC5naW1fZmVhdHVyZSAmIEFNREdJTV9GRUFU
VVJFX1BQX09ORV9WRikKPiA+Cj4gPiAgYm9vbCBhbWRncHVfdmlydF9tbWlvX2Jsb2NrZWQoc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpOwo+ID4gIHZvaWQgYW1kZ3B1X3ZpcnRfaW5pdF9zZXR0
aW5nKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KTsKPiA+IEBAIC0zMDYsNiArMzAyLDQgQEAg
aW50IGFtZGdwdV92aXJ0X2Z3X3Jlc2VydmVfZ2V0X2NoZWNrc3VtKHZvaWQgKm9iaiwgdW5zaWdu
ZWQgbG9uZyBvYmpfc2l6ZSwKPiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICB1bnNpZ25lZCBpbnQga2V5LAo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHVuc2lnbmVkIGludCBjaGtzdW0pOwo+ID4gIHZvaWQgYW1kZ3B1X3ZpcnRfaW5p
dF9kYXRhX2V4Y2hhbmdlKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KTsKPiA+IC11aW50MzJf
dCBhbWRncHVfdmlydF9nZXRfc2NsayhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgYm9vbCBs
b3dlc3QpOwo+ID4gLXVpbnQzMl90IGFtZGdwdV92aXJ0X2dldF9tY2xrKHN0cnVjdCBhbWRncHVf
ZGV2aWNlICphZGV2LCBib29sIGxvd2VzdCk7Cj4gPiAgI2VuZGlmCj4gPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvbXhncHVfYWkuYyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L214Z3B1X2FpLmMKPiA+IGluZGV4IGNjNWJmNTk1ZjliMS4uNDMzMDVhZmEzZDZm
IDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvbXhncHVfYWkuYwo+
ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvbXhncHVfYWkuYwo+ID4gQEAgLTE1
OCw4MiArMTU4LDYgQEAgc3RhdGljIHZvaWQgeGdwdV9haV9tYWlsYm94X3RyYW5zX21zZyAoc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCj4gPiAgICAgICAgIHhncHVfYWlfbWFpbGJveF9zZXRf
dmFsaWQoYWRldiwgZmFsc2UpOwo+ID4gIH0KPiA+Cj4gPiAtc3RhdGljIGludCB4Z3B1X2FpX2dl
dF9wcF9jbGsoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHUzMiB0eXBlLCBjaGFyICpidWYp
Cj4gPiAtewo+ID4gLSAgICAgICAgaW50IHIgPSAwOwo+ID4gLSAgICAgICAgdTMyIHJlcSwgdmFs
LCBzaXplOwo+ID4gLQo+ID4gLSAgICAgICAgaWYgKCFhbWRnaW1faXNfaHdwZXJmKGFkZXYpIHx8
IGJ1ZiA9PSBOVUxMKQo+ID4gLSAgICAgICAgICAgICAgICByZXR1cm4gLUVCQURSUUM7Cj4gPiAt
Cj4gPiAtICAgICAgICBzd2l0Y2godHlwZSkgewo+ID4gLSAgICAgICAgY2FzZSBQUF9TQ0xLOgo+
ID4gLSAgICAgICAgICAgICAgICByZXEgPSBJREhfSVJRX0dFVF9QUF9TQ0xLOwo+ID4gLSAgICAg
ICAgICAgICAgICBicmVhazsKPiA+IC0gICAgICAgIGNhc2UgUFBfTUNMSzoKPiA+IC0gICAgICAg
ICAgICAgICAgcmVxID0gSURIX0lSUV9HRVRfUFBfTUNMSzsKPiA+IC0gICAgICAgICAgICAgICAg
YnJlYWs7Cj4gPiAtICAgICAgICBkZWZhdWx0Ogo+ID4gLSAgICAgICAgICAgICAgICByZXR1cm4g
LUVCQURSUUM7Cj4gPiAtICAgICAgICB9Cj4gPiAtCj4gPiAtICAgICAgICBtdXRleF9sb2NrKCZh
ZGV2LT52aXJ0LmRwbV9tdXRleCk7Cj4gPiAtCj4gPiAtICAgICAgICB4Z3B1X2FpX21haWxib3hf
dHJhbnNfbXNnKGFkZXYsIHJlcSwgMCwgMCwgMCk7Cj4gPiAtCj4gPiAtICAgICAgICByID0geGdw
dV9haV9wb2xsX21zZyhhZGV2LCBJREhfU1VDQ0VTUyk7Cj4gPiAtICAgICAgICBpZiAoIXIgJiYg
YWRldi0+ZndfdnJhbV91c2FnZS52YSAhPSBOVUxMKSB7Cj4gPiAtICAgICAgICAgICAgICAgIHZh
bCA9IFJSRUczMl9OT19LSVEoCj4gPiAtICAgICAgICAgICAgICAgICAgICAgICAgU09DMTVfUkVH
X09GRlNFVChOQklPLCAwLAo+ID4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgbW1CSUZfQlhfUEYwX01BSUxCT1hfTVNHQlVGX1JDVl9EVzEpKTsKPiA+IC0gICAgICAg
ICAgICAgICAgc2l6ZSA9IHN0cm5sZW4oKCgoY2hhciAqKWFkZXYtPnZpcnQuZndfcmVzZXJ2ZS5w
X3BmMnZmKSArCj4gPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwpLCBQQUdF
X1NJWkUpOwo+ID4gLQo+ID4gLSAgICAgICAgICAgICAgICBpZiAoc2l6ZSA8IFBBR0VfU0laRSkK
PiA+IC0gICAgICAgICAgICAgICAgICAgICAgICBzdHJjcHkoYnVmLCgoY2hhciAqKWFkZXYtPnZp
cnQuZndfcmVzZXJ2ZS5wX3BmMnZmICsgdmFsKSk7Cj4gPiAtICAgICAgICAgICAgICAgIGVsc2UK
PiA+IC0gICAgICAgICAgICAgICAgICAgICAgICBzaXplID0gMDsKPiA+IC0KPiA+IC0gICAgICAg
ICAgICAgICAgciA9IHNpemU7Cj4gPiAtICAgICAgICAgICAgICAgIGdvdG8gb3V0Owo+ID4gLSAg
ICAgICAgfQo+ID4gLQo+ID4gLSAgICAgICAgciA9IHhncHVfYWlfcG9sbF9tc2coYWRldiwgSURI
X0ZBSUwpOwo+ID4gLSAgICAgICAgaWYocikKPiA+IC0gICAgICAgICAgICAgICAgcHJfaW5mbygi
JXMgRFBNIHJlcXVlc3QgZmFpbGVkIiwKPiA+IC0gICAgICAgICAgICAgICAgICAgICAgICAodHlw
ZSA9PSBQUF9TQ0xLKT8gIlNDTEsiIDogIk1DTEsiKTsKPiA+IC0KPiA+IC1vdXQ6Cj4gPiAtICAg
ICAgICBtdXRleF91bmxvY2soJmFkZXYtPnZpcnQuZHBtX211dGV4KTsKPiA+IC0gICAgICAgIHJl
dHVybiByOwo+ID4gLX0KPiA+IC0KPiA+IC1zdGF0aWMgaW50IHhncHVfYWlfZm9yY2VfZHBtX2xl
dmVsKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCB1MzIgbGV2ZWwpCj4gPiAtewo+ID4gLSAg
ICAgICAgaW50IHIgPSAwOwo+ID4gLSAgICAgICAgdTMyIHJlcSA9IElESF9JUlFfRk9SQ0VfRFBN
X0xFVkVMOwo+ID4gLQo+ID4gLSAgICAgICAgaWYgKCFhbWRnaW1faXNfaHdwZXJmKGFkZXYpKQo+
ID4gLSAgICAgICAgICAgICAgICByZXR1cm4gLUVCQURSUUM7Cj4gPiAtCj4gPiAtICAgICAgICBt
dXRleF9sb2NrKCZhZGV2LT52aXJ0LmRwbV9tdXRleCk7Cj4gPiAtICAgICAgICB4Z3B1X2FpX21h
aWxib3hfdHJhbnNfbXNnKGFkZXYsIHJlcSwgbGV2ZWwsIDAsIDApOwo+ID4gLQo+ID4gLSAgICAg
ICAgciA9IHhncHVfYWlfcG9sbF9tc2coYWRldiwgSURIX1NVQ0NFU1MpOwo+ID4gLSAgICAgICAg
aWYgKCFyKQo+ID4gLSAgICAgICAgICAgICAgICBnb3RvIG91dDsKPiA+IC0KPiA+IC0gICAgICAg
IHIgPSB4Z3B1X2FpX3BvbGxfbXNnKGFkZXYsIElESF9GQUlMKTsKPiA+IC0gICAgICAgIGlmICgh
cikKPiA+IC0gICAgICAgICAgICAgICAgcHJfaW5mbygiRFBNIHJlcXVlc3QgZmFpbGVkIik7Cj4g
PiAtICAgICAgICBlbHNlCj4gPiAtICAgICAgICAgICAgICAgIHByX2luZm8oIk1haWxib3ggaXMg
YnJva2VuIik7Cj4gPiAtCj4gPiAtb3V0Ogo+ID4gLSAgICAgICAgbXV0ZXhfdW5sb2NrKCZhZGV2
LT52aXJ0LmRwbV9tdXRleCk7Cj4gPiAtICAgICAgICByZXR1cm4gcjsKPiA+IC19Cj4gPiAtCj4g
PiAgc3RhdGljIGludCB4Z3B1X2FpX3NlbmRfYWNjZXNzX3JlcXVlc3RzKHN0cnVjdCBhbWRncHVf
ZGV2aWNlICphZGV2LAo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IGVudW0gaWRoX3JlcXVlc3QgcmVxKQo+ID4gIHsKPiA+IEBAIC00NTUsNiArMzc5LDQgQEAgY29u
c3Qgc3RydWN0IGFtZGdwdV92aXJ0X29wcyB4Z3B1X2FpX3ZpcnRfb3BzID0gewo+ID4gICAgICAg
ICAucmVzZXRfZ3B1ID0geGdwdV9haV9yZXF1ZXN0X3Jlc2V0LAo+ID4gICAgICAgICAud2FpdF9y
ZXNldCA9IE5VTEwsCj4gPiAgICAgICAgIC50cmFuc19tc2cgPSB4Z3B1X2FpX21haWxib3hfdHJh
bnNfbXNnLAo+ID4gLSAgICAgICAuZ2V0X3BwX2NsayA9IHhncHVfYWlfZ2V0X3BwX2NsaywKPiA+
IC0gICAgICAgLmZvcmNlX2RwbV9sZXZlbCA9IHhncHVfYWlfZm9yY2VfZHBtX2xldmVsLAo+ID4g
IH07Cj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvbXhncHVfYWku
aCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L214Z3B1X2FpLmgKPiA+IGluZGV4IDA3N2U5
MWEzM2Q2Mi4uMzdkYmUwZjIxNDJmIDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvbXhncHVfYWkuaAo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
bXhncHVfYWkuaAo+ID4gQEAgLTM1LDEwICszNSw2IEBAIGVudW0gaWRoX3JlcXVlc3Qgewo+ID4g
ICAgICAgICBJREhfUkVMX0dQVV9GSU5JX0FDQ0VTUywKPiA+ICAgICAgICAgSURIX1JFUV9HUFVf
UkVTRVRfQUNDRVNTLAo+ID4KPiA+IC0gICAgICAgSURIX0lSUV9GT1JDRV9EUE1fTEVWRUwgPSAx
MCwKPiA+IC0gICAgICAgSURIX0lSUV9HRVRfUFBfU0NMSywKPiA+IC0gICAgICAgSURIX0lSUV9H
RVRfUFBfTUNMSywKPiA+IC0KPiA+ICAgICAgICAgSURIX0xPR19WRl9FUlJPUiAgICAgICA9IDIw
MCwKPiA+ICB9Owo+ID4KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9zb2MxNS5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc29jMTUuYwo+ID4gaW5kZXgg
NDg2NDlmNTVmM2JhLi41OWY1ZjJhMzlmZTQgMTAwNjQ0Cj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9zb2MxNS5jCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9zb2MxNS5jCj4gPiBAQCAtNzc3LDExICs3NzcsMTEgQEAgaW50IHNvYzE1X3NldF9pcF9ibG9j
a3Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCj4gPiAgICAgICAgICAgICAgICAgfQo+ID4g
ICAgICAgICAgICAgICAgIGFtZGdwdV9kZXZpY2VfaXBfYmxvY2tfYWRkKGFkZXYsICZnZnhfdjlf
MF9pcF9ibG9jayk7Cj4gPiAgICAgICAgICAgICAgICAgYW1kZ3B1X2RldmljZV9pcF9ibG9ja19h
ZGQoYWRldiwgJnNkbWFfdjRfMF9pcF9ibG9jayk7Cj4gPiAtICAgICAgICAgICAgICAgaWYgKCFh
bWRncHVfc3Jpb3ZfdmYoYWRldikpIHsKPiA+IC0gICAgICAgICAgICAgICAgICAgICAgIGlmIChp
c19zdXBwb3J0X3N3X3NtdShhZGV2KSkKPiA+ICsgICAgICAgICAgICAgICBpZiAoaXNfc3VwcG9y
dF9zd19zbXUoYWRldikpIHsKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgIGlmICghYW1kZ3B1
X3NyaW92X3ZmKGFkZXYpKQo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbWRn
cHVfZGV2aWNlX2lwX2Jsb2NrX2FkZChhZGV2LCAmc211X3YxMV8wX2lwX2Jsb2NrKTsKPiA+IC0g
ICAgICAgICAgICAgICAgICAgICAgIGVsc2UKPiA+IC0gICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgYW1kZ3B1X2RldmljZV9pcF9ibG9ja19hZGQoYWRldiwgJnBwX3NtdV9pcF9ibG9jayk7
Cj4gPiArICAgICAgICAgICAgICAgfSBlbHNlIHsKPiA+ICsgICAgICAgICAgICAgICAgICAgICAg
IGFtZGdwdV9kZXZpY2VfaXBfYmxvY2tfYWRkKGFkZXYsICZwcF9zbXVfaXBfYmxvY2spOwo+ID4g
ICAgICAgICAgICAgICAgIH0KPiA+ICAgICAgICAgICAgICAgICBpZiAoYWRldi0+ZW5hYmxlX3Zp
cnR1YWxfZGlzcGxheSB8fCBhbWRncHVfc3Jpb3ZfdmYoYWRldikpCj4gPiAgICAgICAgICAgICAg
ICAgICAgICAgICBhbWRncHVfZGV2aWNlX2lwX2Jsb2NrX2FkZChhZGV2LCAmZGNlX3ZpcnR1YWxf
aXBfYmxvY2spOwo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5
L2FtZF9wb3dlcnBsYXkuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2FtZF9wb3dl
cnBsYXkuYwo+ID4gaW5kZXggNzkzMmViMTYzYTAwLi41MDg3ZDZiZGJhNjAgMTAwNjQ0Cj4gPiAt
LS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9hbWRfcG93ZXJwbGF5LmMKPiA+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2FtZF9wb3dlcnBsYXkuYwo+ID4gQEAg
LTQ4LDcgKzQ4LDYgQEAgc3RhdGljIGludCBhbWRfcG93ZXJwbGF5X2NyZWF0ZShzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldikKPiA+Cj4gPiAgICAgICAgIGh3bWdyLT5hZGV2ID0gYWRldjsKPiA+
ICAgICAgICAgaHdtZ3ItPm5vdF92ZiA9ICFhbWRncHVfc3Jpb3ZfdmYoYWRldik7Cj4gPiAtICAg
ICAgIGh3bWdyLT5wbV9lbiA9IChhbWRncHVfZHBtICYmIGh3bWdyLT5ub3RfdmYpID8gdHJ1ZSA6
IGZhbHNlOwo+ID4gICAgICAgICBod21nci0+ZGV2aWNlID0gYW1kZ3B1X2Nnc19jcmVhdGVfZGV2
aWNlKGFkZXYpOwo+ID4gICAgICAgICBtdXRleF9pbml0KCZod21nci0+c211X2xvY2spOwo+ID4g
ICAgICAgICBod21nci0+Y2hpcF9mYW1pbHkgPSBhZGV2LT5mYW1pbHk7Cj4gPiBAQCAtMjc2LDYg
KzI3NSw5IEBAIHN0YXRpYyBpbnQgcHBfZHBtX2xvYWRfZncodm9pZCAqaGFuZGxlKQo+ID4gIHsK
PiA+ICAgICAgICAgc3RydWN0IHBwX2h3bWdyICpod21nciA9IGhhbmRsZTsKPiA+Cj4gPiArICAg
ICAgIGlmICghaHdtZ3ItPm5vdF92ZikKPiA+ICsgICAgICAgICAgICAgICByZXR1cm4gMDsKPiA+
ICsKPiA+ICAgICAgICAgaWYgKCFod21nciB8fCAhaHdtZ3ItPnNtdW1ncl9mdW5jcyB8fCAhaHdt
Z3ItPnNtdW1ncl9mdW5jcy0+c3RhcnRfc211KQo+ID4gICAgICAgICAgICAgICAgIHJldHVybiAt
RUlOVkFMOwo+ID4KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxh
eS9hbWRncHVfc211LmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9hbWRncHVfc211
LmMKPiA+IGluZGV4IDM2MDAxYTRmNjVkNy4uNzE0YjgzODFkMDJjIDEwMDY0NAo+ID4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvYW1kZ3B1X3NtdS5jCj4gPiArKysgYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9hbWRncHVfc211LmMKPiA+IEBAIC0xNjUzLDExICsx
NjUzLDEzIEBAIGludCBzbXVfYWRqdXN0X3Bvd2VyX3N0YXRlX2R5bmFtaWMoc3RydWN0IHNtdV9j
b250ZXh0ICpzbXUsCj4gPiAgICAgICAgIGlmICghc211LT5wbV9lbmFibGVkKQo+ID4gICAgICAg
ICAgICAgICAgIHJldHVybiAtRUlOVkFMOwo+ID4KPiA+IC0gICAgICAgaWYgKCFza2lwX2Rpc3Bs
YXlfc2V0dGluZ3MpIHsKPiA+IC0gICAgICAgICAgICAgICByZXQgPSBzbXVfZGlzcGxheV9jb25m
aWdfY2hhbmdlZChzbXUpOwo+ID4gLSAgICAgICAgICAgICAgIGlmIChyZXQpIHsKPiA+IC0gICAg
ICAgICAgICAgICAgICAgICAgIHByX2VycigiRmFpbGVkIHRvIGNoYW5nZSBkaXNwbGF5IGNvbmZp
ZyEiKTsKPiA+IC0gICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4gPiArICAgICAg
IGlmICghYW1kZ3B1X3NyaW92X3ZmKHNtdS0+YWRldikpIHsKPiA+ICsgICAgICAgICAgICAgICBp
ZiAoIXNraXBfZGlzcGxheV9zZXR0aW5ncykgewo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAg
cmV0ID0gc211X2Rpc3BsYXlfY29uZmlnX2NoYW5nZWQoc211KTsKPiA+ICsgICAgICAgICAgICAg
ICAgICAgICAgIGlmIChyZXQpIHsKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
cHJfZXJyKCJGYWlsZWQgdG8gY2hhbmdlIGRpc3BsYXkgY29uZmlnISIpOwo+ID4gKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+ID4gKyAgICAgICAgICAgICAgICAg
ICAgICAgfQo+ID4gICAgICAgICAgICAgICAgIH0KPiA+ICAgICAgICAgfQo+ID4KPiA+IEBAIC0x
NjY3LDExICsxNjY5LDEzIEBAIGludCBzbXVfYWRqdXN0X3Bvd2VyX3N0YXRlX2R5bmFtaWMoc3Ry
dWN0IHNtdV9jb250ZXh0ICpzbXUsCj4gPiAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiA+
ICAgICAgICAgfQo+ID4KPiA+IC0gICAgICAgaWYgKCFza2lwX2Rpc3BsYXlfc2V0dGluZ3MpIHsK
PiA+IC0gICAgICAgICAgICAgICByZXQgPSBzbXVfbm90aWZ5X3NtY19kaXNwYWx5X2NvbmZpZyhz
bXUpOwo+ID4gLSAgICAgICAgICAgICAgIGlmIChyZXQpIHsKPiA+IC0gICAgICAgICAgICAgICAg
ICAgICAgIHByX2VycigiRmFpbGVkIHRvIG5vdGlmeSBzbWMgZGlzcGxheSBjb25maWchIik7Cj4g
PiAtICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+ID4gKyAgICAgICBpZiAoYW1k
Z3B1X3NyaW92X3ZmKHNtdS0+YWRldikpIHsKPiA+ICsgICAgICAgICAgICAgICBpZiAoIXNraXBf
ZGlzcGxheV9zZXR0aW5ncykgewo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gc211
X25vdGlmeV9zbWNfZGlzcGFseV9jb25maWcoc211KTsKPiA+ICsgICAgICAgICAgICAgICAgICAg
ICAgIGlmIChyZXQpIHsKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJfZXJy
KCJGYWlsZWQgdG8gbm90aWZ5IHNtYyBkaXNwbGF5IGNvbmZpZyEiKTsKPiA+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiA+ICsgICAgICAgICAgICAgICAgICAg
ICAgIH0KPiA+ICAgICAgICAgICAgICAgICB9Cj4gPiAgICAgICAgIH0KPiA+Cj4gPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaHdtZ3IvaGFyZHdhcmVtYW5hZ2Vy
LmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9od21nci9oYXJkd2FyZW1hbmFnZXIu
Ywo+ID4gaW5kZXggY2M1N2ZiOTUzZTYyLi4yNTM4NjBkMzBiMjAgMTAwNjQ0Cj4gPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9od21nci9oYXJkd2FyZW1hbmFnZXIuYwo+ID4g
KysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaHdtZ3IvaGFyZHdhcmVtYW5hZ2Vy
LmMKPiA+IEBAIC04MSw4ICs4MSw4IEBAIGludCBwaG1fZW5hYmxlX2R5bmFtaWNfc3RhdGVfbWFu
YWdlbWVudChzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyKQo+ID4gICAgICAgICBhZGV2ID0gaHdtZ3It
PmFkZXY7Cj4gPgo+ID4gICAgICAgICAvKiBTa2lwIGZvciBzdXNwZW5kL3Jlc3VtZSBjYXNlICov
Cj4gPiAtICAgICAgIGlmIChzbXVtX2lzX2RwbV9ydW5uaW5nKGh3bWdyKSAmJiAhYW1kZ3B1X3Bh
c3N0aHJvdWdoKGFkZXYpCj4gPiAtICAgICAgICAgICAgICAgJiYgYWRldi0+aW5fc3VzcGVuZCkg
ewo+ID4gKyAgICAgICBpZiAoIWh3bWdyLT5wcF9vbmVfdmYgJiYgc211bV9pc19kcG1fcnVubmlu
Zyhod21ncikKPiA+ICsgICAgICAgICAgICYmICFhbWRncHVfcGFzc3Rocm91Z2goYWRldikgJiYg
YWRldi0+aW5fc3VzcGVuZCkgewo+ID4gICAgICAgICAgICAgICAgIHByX2luZm8oImRwbSBoYXMg
YmVlbiBlbmFibGVkXG4iKTsKPiA+ICAgICAgICAgICAgICAgICByZXR1cm4gMDsKPiA+ICAgICAg
ICAgfQo+ID4gQEAgLTIwMCw2ICsyMDAsOSBAQCBpbnQgcGhtX3N0b3BfdGhlcm1hbF9jb250cm9s
bGVyKHN0cnVjdCBwcF9od21nciAqaHdtZ3IpCj4gPiAgewo+ID4gICAgICAgICBQSE1fRlVOQ19D
SEVDSyhod21ncik7Cj4gPgo+ID4gKyAgICAgICBpZiAoIWh3bWdyLT5ub3RfdmYpCj4gPiArICAg
ICAgICAgICAgICAgcmV0dXJuIDA7Cj4gPiArCj4gPiAgICAgICAgIGlmIChod21nci0+aHdtZ3Jf
ZnVuYy0+c3RvcF90aGVybWFsX2NvbnRyb2xsZXIgPT0gTlVMTCkKPiA+ICAgICAgICAgICAgICAg
ICByZXR1cm4gLUVJTlZBTDsKPiA+Cj4gPiBAQCAtMjM3LDYgKzI0MCw5IEBAIGludCBwaG1fc3Rh
cnRfdGhlcm1hbF9jb250cm9sbGVyKHN0cnVjdCBwcF9od21nciAqaHdtZ3IpCj4gPiAgICAgICAg
ICAgICAgICAgVEVNUF9SQU5HRV9NQVh9Owo+ID4gICAgICAgICBzdHJ1Y3QgYW1kZ3B1X2Rldmlj
ZSAqYWRldiA9IGh3bWdyLT5hZGV2Owo+ID4KPiA+ICsgICAgICAgaWYgKCFod21nci0+bm90X3Zm
KQo+ID4gKyAgICAgICAgICAgICAgIHJldHVybiAwOwo+ID4gKwo+ID4gICAgICAgICBpZiAoaHdt
Z3ItPmh3bWdyX2Z1bmMtPmdldF90aGVybWFsX3RlbXBlcmF0dXJlX3JhbmdlKQo+ID4gICAgICAg
ICAgICAgICAgIGh3bWdyLT5od21ncl9mdW5jLT5nZXRfdGhlcm1hbF90ZW1wZXJhdHVyZV9yYW5n
ZSgKPiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtZ3IsICZyYW5nZSk7Cj4g
PiBAQCAtMjYzLDYgKzI2OSw4IEBAIGludCBwaG1fc3RhcnRfdGhlcm1hbF9jb250cm9sbGVyKHN0
cnVjdCBwcF9od21nciAqaHdtZ3IpCj4gPiAgYm9vbCBwaG1fY2hlY2tfc21jX3VwZGF0ZV9yZXF1
aXJlZF9mb3JfZGlzcGxheV9jb25maWd1cmF0aW9uKHN0cnVjdCBwcF9od21nciAqaHdtZ3IpCj4g
PiAgewo+ID4gICAgICAgICBQSE1fRlVOQ19DSEVDSyhod21ncik7Cj4gPiArICAgICAgIGlmICho
d21nci0+cHBfb25lX3ZmKQo+ID4gKyAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKPiA+Cj4g
PiAgICAgICAgIGlmIChod21nci0+aHdtZ3JfZnVuYy0+Y2hlY2tfc21jX3VwZGF0ZV9yZXF1aXJl
ZF9mb3JfZGlzcGxheV9jb25maWd1cmF0aW9uID09IE5VTEwpCj4gPiAgICAgICAgICAgICAgICAg
cmV0dXJuIGZhbHNlOwo+ID4gQEAgLTQ4Miw2ICs0OTAsOSBAQCBpbnQgcGhtX2Rpc2FibGVfc21j
X2Zpcm13YXJlX2N0ZihzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyKQo+ID4gIHsKPiA+ICAgICAgICAg
UEhNX0ZVTkNfQ0hFQ0soaHdtZ3IpOwo+ID4KPiA+ICsgICAgICAgaWYgKCFod21nci0+bm90X3Zm
KQo+ID4gKyAgICAgICAgICAgICAgIHJldHVybiAwOwo+ID4gKwo+ID4gICAgICAgICBpZiAoaHdt
Z3ItPmh3bWdyX2Z1bmMtPmRpc2FibGVfc21jX2Zpcm13YXJlX2N0ZiA9PSBOVUxMKQo+ID4gICAg
ICAgICAgICAgICAgIHJldHVybiAtRUlOVkFMOwo+ID4KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL3Bvd2VycGxheS9od21nci9od21nci5jIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9wb3dlcnBsYXkvaHdtZ3IvaHdtZ3IuYwo+ID4gaW5kZXggZDI5MDljOTFkNjViLi5mOGM4MWY5
NjM2NDkgMTAwNjQ0Cj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9od21n
ci9od21nci5jCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9od21nci9o
d21nci5jCj4gPiBAQCAtMjIxLDYgKzIyMSw5IEBAIGludCBod21ncl9od19pbml0KHN0cnVjdCBw
cF9od21nciAqaHdtZ3IpCj4gPiAgewo+ID4gICAgICAgICBpbnQgcmV0ID0gMDsKPiA+Cj4gPiAr
ICAgICAgIGh3bWdyLT5wcF9vbmVfdmYgPSBhbWRnaW1faXNfcHBfb25lX3ZmKChzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqKWh3bWdyLT5hZGV2KTsKPiA+ICsgICAgICAgaHdtZ3ItPnBtX2VuID0gKGFt
ZGdwdV9kcG0gJiYgKGh3bWdyLT5ub3RfdmYgfHwgaHdtZ3ItPnBwX29uZV92ZikpCj4gPiArICAg
ICAgICAgICAgICAgICAgICAgICA/IHRydWUgOiBmYWxzZTsKPiA+ICAgICAgICAgaWYgKCFod21n
ci0+cG1fZW4pCj4gPiAgICAgICAgICAgICAgICAgcmV0dXJuIDA7Cj4gPgo+ID4gQEAgLTM2NSw2
ICszNjgsOCBAQCBpbnQgaHdtZ3JfaGFuZGxlX3Rhc2soc3RydWN0IHBwX2h3bWdyICpod21nciwg
ZW51bSBhbWRfcHBfdGFzayB0YXNrX2lkLAo+ID4KPiA+ICAgICAgICAgc3dpdGNoICh0YXNrX2lk
KSB7Cj4gPiAgICAgICAgIGNhc2UgQU1EX1BQX1RBU0tfRElTUExBWV9DT05GSUdfQ0hBTkdFOgo+
ID4gKyAgICAgICAgICAgICAgIGlmICghaHdtZ3ItPm5vdF92ZikKPiA+ICsgICAgICAgICAgICAg
ICAgICAgICAgIHJldHVybiByZXQ7Cj4gPiAgICAgICAgICAgICAgICAgcmV0ID0gcGhtX3ByZV9k
aXNwbGF5X2NvbmZpZ3VyYXRpb25fY2hhbmdlZChod21ncik7Cj4gPiAgICAgICAgICAgICAgICAg
aWYgKHJldCkKPiA+ICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4gPiBAQCAt
MzgxLDYgKzM4Niw4IEBAIGludCBod21ncl9oYW5kbGVfdGFzayhzdHJ1Y3QgcHBfaHdtZ3IgKmh3
bWdyLCBlbnVtIGFtZF9wcF90YXNrIHRhc2tfaWQsCj4gPiAgICAgICAgICAgICAgICAgZW51bSBQ
UF9TdGF0ZVVJTGFiZWwgcmVxdWVzdGVkX3VpX2xhYmVsOwo+ID4gICAgICAgICAgICAgICAgIHN0
cnVjdCBwcF9wb3dlcl9zdGF0ZSAqcmVxdWVzdGVkX3BzID0gTlVMTDsKPiA+Cj4gPiArICAgICAg
ICAgICAgICAgaWYgKCFod21nci0+bm90X3ZmKQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAg
cmV0dXJuIHJldDsKPiA+ICAgICAgICAgICAgICAgICBpZiAodXNlcl9zdGF0ZSA9PSBOVUxMKSB7
Cj4gPiAgICAgICAgICAgICAgICAgICAgICAgICByZXQgPSAtRUlOVkFMOwo+ID4gICAgICAgICAg
ICAgICAgICAgICAgICAgYnJlYWs7Cj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9wb3dlcnBsYXkvaHdtZ3IvcHBfcHNtLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxh
eS9od21nci9wcF9wc20uYwo+ID4gaW5kZXggNmJmNDg5MzRmZGM0Li4zMWEzMmE3OWNmYzIgMTAw
NjQ0Cj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9od21nci9wcF9wc20u
Ywo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaHdtZ3IvcHBfcHNtLmMK
PiA+IEBAIC0yNjIsMjAgKzI2MiwyMiBAQCBpbnQgcHNtX2FkanVzdF9wb3dlcl9zdGF0ZV9keW5h
bWljKHN0cnVjdCBwcF9od21nciAqaHdtZ3IsIGJvb2wgc2tpcF9kaXNwbGF5X3NldAo+ID4gICAg
ICAgICB1aW50MzJfdCBpbmRleDsKPiA+ICAgICAgICAgbG9uZyB3b3JrbG9hZDsKPiA+Cj4gPiAt
ICAgICAgIGlmICghc2tpcF9kaXNwbGF5X3NldHRpbmdzKQo+ID4gLSAgICAgICAgICAgICAgIHBo
bV9kaXNwbGF5X2NvbmZpZ3VyYXRpb25fY2hhbmdlZChod21ncik7Cj4gPiAtCj4gPiAtICAgICAg
IGlmIChod21nci0+cHMpCj4gPiAtICAgICAgICAgICAgICAgcG93ZXJfc3RhdGVfbWFuYWdlbWVu
dChod21nciwgbmV3X3BzKTsKPiA+IC0gICAgICAgZWxzZQo+ID4gLSAgICAgICAgICAgICAgIC8q
Cj4gPiAtICAgICAgICAgICAgICAgICogZm9yIHZlZ2ExMi92ZWdhMjAgd2hpY2ggZG9lcyBub3Qg
c3VwcG9ydCBwb3dlciBzdGF0ZSBtYW5hZ2VyCj4gPiAtICAgICAgICAgICAgICAgICogREFMIGNs
b2NrIGxpbWl0cyBzaG91bGQgYWxzbyBiZSBob25vdXJlZAo+ID4gLSAgICAgICAgICAgICAgICAq
Lwo+ID4gLSAgICAgICAgICAgICAgIHBobV9hcHBseV9jbG9ja19hZGp1c3RfcnVsZXMoaHdtZ3Ip
Owo+ID4gLQo+ID4gLSAgICAgICBpZiAoIXNraXBfZGlzcGxheV9zZXR0aW5ncykKPiA+IC0gICAg
ICAgICAgICAgICBwaG1fbm90aWZ5X3NtY19kaXNwbGF5X2NvbmZpZ19hZnRlcl9wc19hZGp1c3Rt
ZW50KGh3bWdyKTsKPiA+ICsgICAgICAgaWYgKGh3bWdyLT5ub3RfdmYpIHsKPiA+ICsgICAgICAg
ICAgICAgICBpZiAoIXNraXBfZGlzcGxheV9zZXR0aW5ncykKPiA+ICsgICAgICAgICAgICAgICAg
ICAgICAgIHBobV9kaXNwbGF5X2NvbmZpZ3VyYXRpb25fY2hhbmdlZChod21ncik7Cj4gPiArCj4g
PiArICAgICAgICAgICAgICAgaWYgKGh3bWdyLT5wcykKPiA+ICsgICAgICAgICAgICAgICAgICAg
ICAgIHBvd2VyX3N0YXRlX21hbmFnZW1lbnQoaHdtZ3IsIG5ld19wcyk7Cj4gPiArICAgICAgICAg
ICAgICAgZWxzZQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgLyoKPiA+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAqIGZvciB2ZWdhMTIvdmVnYTIwIHdoaWNoIGRvZXMgbm90IHN1cHBvcnQg
cG93ZXIgc3RhdGUgbWFuYWdlcgo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICogREFMIGNs
b2NrIGxpbWl0cyBzaG91bGQgYWxzbyBiZSBob25vdXJlZAo+ID4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICovCj4gPiArICAgICAgICAgICAgICAgICAgICAgICBwaG1fYXBwbHlfY2xvY2tfYWRq
dXN0X3J1bGVzKGh3bWdyKTsKPiA+ICsKPiA+ICsgICAgICAgICAgICAgICBpZiAoIXNraXBfZGlz
cGxheV9zZXR0aW5ncykKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgIHBobV9ub3RpZnlfc21j
X2Rpc3BsYXlfY29uZmlnX2FmdGVyX3BzX2FkanVzdG1lbnQoaHdtZ3IpOwo+ID4gKyAgICAgICB9
Cj4gPgo+ID4gICAgICAgICBpZiAoIXBobV9mb3JjZV9kcG1fbGV2ZWxzKGh3bWdyLCBod21nci0+
cmVxdWVzdF9kcG1fbGV2ZWwpKQo+ID4gICAgICAgICAgICAgICAgIGh3bWdyLT5kcG1fbGV2ZWwg
PSBod21nci0+cmVxdWVzdF9kcG1fbGV2ZWw7Cj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2FtZC9wb3dlcnBsYXkvaHdtZ3IvdmVnYTEwX2h3bWdyLmMgYi9kcml2ZXJzL2dwdS9kcm0v
YW1kL3Bvd2VycGxheS9od21nci92ZWdhMTBfaHdtZ3IuYwo+ID4gaW5kZXggYjI5ZTk5NmRmMWQ0
Li40MWE5Yjg2OTkwMDEgMTAwNjQ0Cj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2Vy
cGxheS9od21nci92ZWdhMTBfaHdtZ3IuYwo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9w
b3dlcnBsYXkvaHdtZ3IvdmVnYTEwX2h3bWdyLmMKPiA+IEBAIC05MTIsNiArOTEyLDkgQEAgc3Rh
dGljIGludCB2ZWdhMTBfaHdtZ3JfYmFja2VuZF9pbml0KHN0cnVjdCBwcF9od21nciAqaHdtZ3Ip
Cj4gPiAgICAgICAgIGh3bWdyLT5wbGF0Zm9ybV9kZXNjcmlwdG9yLmNsb2NrU3RlcC5tZW1vcnlD
bG9jayA9IDUwMDsKPiA+Cj4gPiAgICAgICAgIGRhdGEtPnRvdGFsX2FjdGl2ZV9jdXMgPSBhZGV2
LT5nZnguY3VfaW5mby5udW1iZXI7Cj4gPiArICAgICAgIGlmICghaHdtZ3ItPm5vdF92ZikKPiA+
ICsgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0Owo+ID4gKwo+ID4gICAgICAgICAvKiBTZXR1
cCBkZWZhdWx0IE92ZXJkcml2ZSBGYW4gY29udHJvbCBzZXR0aW5ncyAqLwo+ID4gICAgICAgICBk
YXRhLT5vZG5fZmFuX3RhYmxlLnRhcmdldF9mYW5fc3BlZWQgPQo+ID4gICAgICAgICAgICAgICAg
ICAgICAgICAgaHdtZ3ItPnRoZXJtYWxfY29udHJvbGxlci5hZHZhbmNlRmFuQ29udHJvbFBhcmFt
ZXRlcnMudXNNYXhGYW5SUE07Cj4gPiBAQCAtOTc5LDYgKzk4Miw5IEBAIHN0YXRpYyBpbnQgdmVn
YTEwX3NldHVwX2RwbV9sZWRfY29uZmlnKHN0cnVjdCBwcF9od21nciAqaHdtZ3IpCj4gPgo+ID4g
IHN0YXRpYyBpbnQgdmVnYTEwX3NldHVwX2FzaWNfdGFzayhzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdy
KQo+ID4gIHsKPiA+ICsgICAgICAgaWYgKCFod21nci0+bm90X3ZmKQo+ID4gKyAgICAgICAgICAg
ICAgIHJldHVybiAwOwo+ID4gKwo+ID4gICAgICAgICBQUF9BU1NFUlRfV0lUSF9DT0RFKCF2ZWdh
MTBfaW5pdF9zY2xrX3RocmVzaG9sZChod21nciksCj4gPiAgICAgICAgICAgICAgICAgICAgICAg
ICAiRmFpbGVkIHRvIGluaXQgc2NsayB0aHJlc2hvbGQhIiwKPiA+ICAgICAgICAgICAgICAgICAg
ICAgICAgIHJldHVybiAtRUlOVkFMKTsKPiA+IEBAIC0yNTAzLDYgKzI1MDksOSBAQCBzdGF0aWMg
aW50IHZlZ2ExMF9pbml0X3NtY190YWJsZShzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyKQo+ID4gICAg
ICAgICAgICAgICAgICAgICAgICAgIkZhaWxlZCB0byBzZXR1cCBkZWZhdWx0IERQTSB0YWJsZXMh
IiwKPiA+ICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQpOwo+ID4KPiA+ICsg
ICAgICAgaWYgKCFod21nci0+bm90X3ZmKQo+ID4gKyAgICAgICAgICAgICAgIHJldHVybiAwOwo+
ID4gKwo+ID4gICAgICAgICAvKiBpbml0aWFsaXplIE9ETiB0YWJsZSAqLwo+ID4gICAgICAgICBp
ZiAoaHdtZ3ItPm9kX2VuYWJsZWQpIHsKPiA+ICAgICAgICAgICAgICAgICBpZiAob2RuX3RhYmxl
LT5tYXhfdmRkYykgewo+ID4gQEAgLTI5MzIsNjEgKzI5NDEsNzUgQEAgc3RhdGljIGludCB2ZWdh
MTBfZW5hYmxlX2RwbV90YXNrcyhzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyKQo+ID4gICAgICAgICBz
dHJ1Y3QgdmVnYTEwX2h3bWdyICpkYXRhID0gaHdtZ3ItPmJhY2tlbmQ7Cj4gPiAgICAgICAgIGlu
dCB0bXBfcmVzdWx0LCByZXN1bHQgPSAwOwo+ID4KPiA+IC0gICAgICAgdmVnYTEwX2VuYWJsZV9k
aXNhYmxlX1BDQ19saW1pdF9mZWF0dXJlKGh3bWdyLCB0cnVlKTsKPiA+IC0KPiA+IC0gICAgICAg
c211bV9zZW5kX21zZ190b19zbWNfd2l0aF9wYXJhbWV0ZXIoaHdtZ3IsCj4gPiAtICAgICAgICAg
ICAgICAgUFBTTUNfTVNHX0NvbmZpZ3VyZVRlbGVtZXRyeSwgZGF0YS0+Y29uZmlnX3RlbGVtZXRy
eSk7Cj4gPiArICAgICAgIGlmIChod21nci0+bm90X3ZmKSB7Cj4gPiArICAgICAgICAgICAgICAg
dmVnYTEwX2VuYWJsZV9kaXNhYmxlX1BDQ19saW1pdF9mZWF0dXJlKGh3bWdyLCB0cnVlKTsKPiA+
Cj4gPiAtICAgICAgIHRtcF9yZXN1bHQgPSB2ZWdhMTBfY29uc3RydWN0X3ZvbHRhZ2VfdGFibGVz
KGh3bWdyKTsKPiA+IC0gICAgICAgUFBfQVNTRVJUX1dJVEhfQ09ERSghdG1wX3Jlc3VsdCwKPiA+
IC0gICAgICAgICAgICAgICAgICAgICAgICJGYWlsZWQgdG8gY29uc3RydWN0IHZvbHRhZ2UgdGFi
bGVzISIsCj4gPiAtICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0bXBfcmVzdWx0KTsK
PiA+ICsgICAgICAgICAgICAgICBzbXVtX3NlbmRfbXNnX3RvX3NtY193aXRoX3BhcmFtZXRlciho
d21nciwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgIFBQU01DX01TR19Db25maWd1cmVUZWxl
bWV0cnksIGRhdGEtPmNvbmZpZ190ZWxlbWV0cnkpOwo+ID4KPiA+IC0gICAgICAgdG1wX3Jlc3Vs
dCA9IHZlZ2ExMF9pbml0X3NtY190YWJsZShod21ncik7Cj4gPiAtICAgICAgIFBQX0FTU0VSVF9X
SVRIX0NPREUoIXRtcF9yZXN1bHQsCj4gPiAtICAgICAgICAgICAgICAgICAgICAgICAiRmFpbGVk
IHRvIGluaXRpYWxpemUgU01DIHRhYmxlISIsCj4gPiAtICAgICAgICAgICAgICAgICAgICAgICBy
ZXN1bHQgPSB0bXBfcmVzdWx0KTsKPiA+ICsgICAgICAgICAgICAgICB0bXBfcmVzdWx0ID0gdmVn
YTEwX2NvbnN0cnVjdF92b2x0YWdlX3RhYmxlcyhod21ncik7Cj4gPiArICAgICAgICAgICAgICAg
UFBfQVNTRVJUX1dJVEhfQ09ERSghdG1wX3Jlc3VsdCwKPiA+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICJGYWlsZWQgdG8gY29uc3RydWN0IHZvbHRhZ2UgdGFibGVzISIsCj4g
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0bXBfcmVzdWx0
KTsKPiA+ICsgICAgICAgfQo+ID4KPiA+IC0gICAgICAgaWYgKFBQX0NBUChQSE1fUGxhdGZvcm1D
YXBzX1RoZXJtYWxDb250cm9sbGVyKSkgewo+ID4gLSAgICAgICAgICAgICAgIHRtcF9yZXN1bHQg
PSB2ZWdhMTBfZW5hYmxlX3RoZXJtYWxfcHJvdGVjdGlvbihod21ncik7Cj4gPiArICAgICAgIGlm
IChod21nci0+bm90X3ZmIHx8IGh3bWdyLT5wcF9vbmVfdmYpIHsKPiA+ICsgICAgICAgICAgICAg
ICB0bXBfcmVzdWx0ID0gdmVnYTEwX2luaXRfc21jX3RhYmxlKGh3bWdyKTsKPiA+ICAgICAgICAg
ICAgICAgICBQUF9BU1NFUlRfV0lUSF9DT0RFKCF0bXBfcmVzdWx0LAo+ID4gLSAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAiRmFpbGVkIHRvIGVuYWJsZSB0aGVybWFsIHByb3RlY3Rpb24h
IiwKPiA+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdG1wX3Jlc3Vs
dCk7Cj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRmFpbGVkIHRvIGlu
aXRpYWxpemUgU01DIHRhYmxlISIsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICByZXN1bHQgPSB0bXBfcmVzdWx0KTsKPiA+ICAgICAgICAgfQo+ID4KPiA+IC0gICAgICAg
dG1wX3Jlc3VsdCA9IHZlZ2ExMF9lbmFibGVfdnJob3RfZmVhdHVyZShod21ncik7Cj4gPiAtICAg
ICAgIFBQX0FTU0VSVF9XSVRIX0NPREUoIXRtcF9yZXN1bHQsCj4gPiAtICAgICAgICAgICAgICAg
ICAgICAgICAiRmFpbGVkIHRvIGVuYWJsZSBWUiBob3QgZmVhdHVyZSEiLAo+ID4gLSAgICAgICAg
ICAgICAgICAgICAgICAgcmVzdWx0ID0gdG1wX3Jlc3VsdCk7Cj4gPiArICAgICAgIGlmIChod21n
ci0+bm90X3ZmKSB7Cj4gPiArICAgICAgICAgICAgICAgaWYgKFBQX0NBUChQSE1fUGxhdGZvcm1D
YXBzX1RoZXJtYWxDb250cm9sbGVyKSkgewo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgdG1w
X3Jlc3VsdCA9IHZlZ2ExMF9lbmFibGVfdGhlcm1hbF9wcm90ZWN0aW9uKGh3bWdyKTsKPiA+ICsg
ICAgICAgICAgICAgICAgICAgICAgIFBQX0FTU0VSVF9XSVRIX0NPREUoIXRtcF9yZXN1bHQsCj4g
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJGYWlsZWQgdG8g
ZW5hYmxlIHRoZXJtYWwgcHJvdGVjdGlvbiEiLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0bXBfcmVzdWx0KTsKPiA+ICsgICAgICAgICAg
ICAgICB9Cj4gPgo+ID4gLSAgICAgICB0bXBfcmVzdWx0ID0gdmVnYTEwX2VuYWJsZV9kZWVwX3Ns
ZWVwX21hc3Rlcl9zd2l0Y2goaHdtZ3IpOwo+ID4gLSAgICAgICBQUF9BU1NFUlRfV0lUSF9DT0RF
KCF0bXBfcmVzdWx0LAo+ID4gLSAgICAgICAgICAgICAgICAgICAgICAgIkZhaWxlZCB0byBlbmFi
bGUgZGVlcCBzbGVlcCBtYXN0ZXIgc3dpdGNoISIsCj4gPiAtICAgICAgICAgICAgICAgICAgICAg
ICByZXN1bHQgPSB0bXBfcmVzdWx0KTsKPiA+ICsgICAgICAgICAgICAgICB0bXBfcmVzdWx0ID0g
dmVnYTEwX2VuYWJsZV92cmhvdF9mZWF0dXJlKGh3bWdyKTsKPiA+ICsgICAgICAgICAgICAgICBQ
UF9BU1NFUlRfV0lUSF9DT0RFKCF0bXBfcmVzdWx0LAo+ID4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIkZhaWxlZCB0byBlbmFibGUgVlIgaG90IGZlYXR1cmUhIiwKPiA+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRtcF9yZXN1bHQpOwo+
ID4KPiA+IC0gICAgICAgdG1wX3Jlc3VsdCA9IHZlZ2ExMF9zdGFydF9kcG0oaHdtZ3IsIFNNQ19E
UE1fRkVBVFVSRVMpOwo+ID4gLSAgICAgICBQUF9BU1NFUlRfV0lUSF9DT0RFKCF0bXBfcmVzdWx0
LAo+ID4gLSAgICAgICAgICAgICAgICAgICAgICAgIkZhaWxlZCB0byBzdGFydCBEUE0hIiwgcmVz
dWx0ID0gdG1wX3Jlc3VsdCk7Cj4gPiArICAgICAgICAgICAgICAgdG1wX3Jlc3VsdCA9IHZlZ2Ex
MF9lbmFibGVfZGVlcF9zbGVlcF9tYXN0ZXJfc3dpdGNoKGh3bWdyKTsKPiA+ICsgICAgICAgICAg
ICAgICBQUF9BU1NFUlRfV0lUSF9DT0RFKCF0bXBfcmVzdWx0LAo+ID4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIkZhaWxlZCB0byBlbmFibGUgZGVlcCBzbGVlcCBtYXN0ZXIg
c3dpdGNoISIsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQg
PSB0bXBfcmVzdWx0KTsKPiA+ICsgICAgICAgfQo+ID4KPiA+IC0gICAgICAgLyogZW5hYmxlIGRp
ZHQsIGRvIG5vdCBhYm9ydCBpZiBmYWlsZWQgZGlkdCAqLwo+ID4gLSAgICAgICB0bXBfcmVzdWx0
ID0gdmVnYTEwX2VuYWJsZV9kaWR0X2NvbmZpZyhod21ncik7Cj4gPiAtICAgICAgIFBQX0FTU0VS
VCghdG1wX3Jlc3VsdCwKPiA+IC0gICAgICAgICAgICAgICAgICAgICAgICJGYWlsZWQgdG8gZW5h
YmxlIGRpZHQgY29uZmlnISIpOwo+ID4gKyAgICAgICBpZiAoaHdtZ3ItPm5vdF92Zikgewo+ID4g
KyAgICAgICAgICAgICAgIHRtcF9yZXN1bHQgPSB2ZWdhMTBfc3RhcnRfZHBtKGh3bWdyLCBTTUNf
RFBNX0ZFQVRVUkVTKTsKPiA+ICsgICAgICAgICAgICAgICBQUF9BU1NFUlRfV0lUSF9DT0RFKCF0
bXBfcmVzdWx0LAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkZhaWxl
ZCB0byBzdGFydCBEUE0hIiwgcmVzdWx0ID0gdG1wX3Jlc3VsdCk7Cj4gPiArICAgICAgIH0KPiA+
Cj4gPiAtICAgICAgIHRtcF9yZXN1bHQgPSB2ZWdhMTBfZW5hYmxlX3Bvd2VyX2NvbnRhaW5tZW50
KGh3bWdyKTsKPiA+IC0gICAgICAgUFBfQVNTRVJUX1dJVEhfQ09ERSghdG1wX3Jlc3VsdCwKPiA+
IC0gICAgICAgICAgICAgICAgICAgICAgICJGYWlsZWQgdG8gZW5hYmxlIHBvd2VyIGNvbnRhaW5t
ZW50ISIsCj4gPiAtICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0bXBfcmVzdWx0KTsK
PiA+ICsgICAgICAgaWYgKGh3bWdyLT5ub3RfdmYpIHsKPiA+ICsgICAgICAgICAgICAgICAvKiBl
bmFibGUgZGlkdCwgZG8gbm90IGFib3J0IGlmIGZhaWxlZCBkaWR0ICovCj4gPiArICAgICAgICAg
ICAgICAgdG1wX3Jlc3VsdCA9IHZlZ2ExMF9lbmFibGVfZGlkdF9jb25maWcoaHdtZ3IpOwo+ID4g
KyAgICAgICAgICAgICAgIFBQX0FTU0VSVCghdG1wX3Jlc3VsdCwKPiA+ICsgICAgICAgICAgICAg
ICAgICAgICAgICAgIkZhaWxlZCB0byBlbmFibGUgZGlkdCBjb25maWchIik7Cj4gPiArICAgICAg
IH0KPiA+Cj4gPiAtICAgICAgIHRtcF9yZXN1bHQgPSB2ZWdhMTBfcG93ZXJfY29udHJvbF9zZXRf
bGV2ZWwoaHdtZ3IpOwo+ID4gLSAgICAgICBQUF9BU1NFUlRfV0lUSF9DT0RFKCF0bXBfcmVzdWx0
LAo+ID4gLSAgICAgICAgICAgICAgICAgICAgICAgIkZhaWxlZCB0byBwb3dlciBjb250cm9sIHNl
dCBsZXZlbCEiLAo+ID4gLSAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdG1wX3Jlc3Vs
dCk7Cj4gPiArICAgICAgIGlmIChod21nci0+bm90X3ZmKSB7Cj4gPiArICAgICAgICAgICAgICAg
dG1wX3Jlc3VsdCA9IHZlZ2ExMF9lbmFibGVfcG93ZXJfY29udGFpbm1lbnQoaHdtZ3IpOwo+ID4g
KyAgICAgICAgICAgICAgIFBQX0FTU0VSVF9XSVRIX0NPREUoIXRtcF9yZXN1bHQsCj4gPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRmFpbGVkIHRvIGVuYWJsZSBwb3dlciBj
b250YWlubWVudCEiLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVz
dWx0ID0gdG1wX3Jlc3VsdCk7Cj4gPiArICAgICAgIH0KPiA+Cj4gPiAtICAgICAgIHRtcF9yZXN1
bHQgPSB2ZWdhMTBfZW5hYmxlX3Vsdihod21ncik7Cj4gPiAtICAgICAgIFBQX0FTU0VSVF9XSVRI
X0NPREUoIXRtcF9yZXN1bHQsCj4gPiAtICAgICAgICAgICAgICAgICAgICAgICAiRmFpbGVkIHRv
IGVuYWJsZSBVTFYhIiwKPiA+IC0gICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRtcF9y
ZXN1bHQpOwo+ID4gKyAgICAgICBpZiAoaHdtZ3ItPm5vdF92Zikgewo+ID4gKyAgICAgICAgICAg
ICAgIHRtcF9yZXN1bHQgPSB2ZWdhMTBfcG93ZXJfY29udHJvbF9zZXRfbGV2ZWwoaHdtZ3IpOwo+
ID4gKyAgICAgICAgICAgICAgIFBQX0FTU0VSVF9XSVRIX0NPREUoIXRtcF9yZXN1bHQsCj4gPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRmFpbGVkIHRvIHBvd2VyIGNvbnRy
b2wgc2V0IGxldmVsISIsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBy
ZXN1bHQgPSB0bXBfcmVzdWx0KTsKPiA+ICsKPiA+ICsgICAgICAgICAgICAgICB0bXBfcmVzdWx0
ID0gdmVnYTEwX2VuYWJsZV91bHYoaHdtZ3IpOwo+ID4gKyAgICAgICAgICAgICAgIFBQX0FTU0VS
VF9XSVRIX0NPREUoIXRtcF9yZXN1bHQsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAiRmFpbGVkIHRvIGVuYWJsZSBVTFYhIiwKPiA+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRtcF9yZXN1bHQpOwo+ID4gKyAgICAgICB9Cj4gPgo+
ID4gICAgICAgICByZXR1cm4gcmVzdWx0Owo+ID4gIH0KPiA+IEBAIC0zMDgwLDExICszMTAzLDIy
IEBAIHN0YXRpYyBpbnQgdmVnYTEwX2dldF9wcF90YWJsZV9lbnRyeV9jYWxsYmFja19mdW5jKHN0
cnVjdCBwcF9od21nciAqaHdtZ3IsCj4gPiAgICAgICAgIHBlcmZvcm1hbmNlX2xldmVsLT5zb2Nf
Y2xvY2sgPSBzb2NjbGtfZGVwX3RhYmxlLT5lbnRyaWVzCj4gPiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIFtzdGF0ZV9lbnRyeS0+dWNTb2NDbG9ja0luZGV4SGlnaF0udWxDbGs7Cj4g
PiAgICAgICAgIGlmIChnZnhjbGtfZGVwX3RhYmxlLT51Y1JldklkID09IDApIHsKPiA+IC0gICAg
ICAgICAgICAgICBwZXJmb3JtYW5jZV9sZXZlbC0+Z2Z4X2Nsb2NrID0gZ2Z4Y2xrX2RlcF90YWJs
ZS0+ZW50cmllcwo+ID4gLSAgICAgICAgICAgICAgICAgICAgICAgW3N0YXRlX2VudHJ5LT51Y0dm
eENsb2NrSW5kZXhIaWdoXS51bENsazsKPiA+ICsgICAgICAgICAgICAgICAvKiB1bmRlciB2ZWdh
MTAgcHAgb25lIHZmIG1vZGUsIHRoZSBnZnggY2xrIGRwbSBuZWVkIGJlIGxvd2VyCj4gPiArICAg
ICAgICAgICAgICAgICogdG8gbGV2ZWwtNCBkdWUgdG8gdGhlIGxpbWl0ZWQgMTEwdy1wb3dlcgo+
ID4gKyAgICAgICAgICAgICAgICAqLwo+ID4gKyAgICAgICAgICAgICAgIGlmIChod21nci0+cHBf
b25lX3ZmICYmIChzdGF0ZV9lbnRyeS0+dWNHZnhDbG9ja0luZGV4SGlnaCA+IDApKQo+ID4gKyAg
ICAgICAgICAgICAgICAgICAgICAgcGVyZm9ybWFuY2VfbGV2ZWwtPmdmeF9jbG9jayA9Cj4gPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdmeGNsa19kZXBfdGFibGUtPmVudHJpZXNb
NF0udWxDbGs7Cj4gPiArICAgICAgICAgICAgICAgZWxzZQo+ID4gKyAgICAgICAgICAgICAgICAg
ICAgICAgcGVyZm9ybWFuY2VfbGV2ZWwtPmdmeF9jbG9jayA9IGdmeGNsa19kZXBfdGFibGUtPmVu
dHJpZXMKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3N0YXRlX2VudHJ5LT51
Y0dmeENsb2NrSW5kZXhIaWdoXS51bENsazsKPiA+ICAgICAgICAgfSBlbHNlIGlmIChnZnhjbGtf
ZGVwX3RhYmxlLT51Y1JldklkID09IDEpIHsKPiA+ICAgICAgICAgICAgICAgICBwYXRvbV9yZWNv
cmRfVjIgPSAoQVRPTV9WZWdhMTBfR0ZYQ0xLX0RlcGVuZGVuY3lfUmVjb3JkX1YyICopZ2Z4Y2xr
X2RlcF90YWJsZS0+ZW50cmllczsKPiA+IC0gICAgICAgICAgICAgICBwZXJmb3JtYW5jZV9sZXZl
bC0+Z2Z4X2Nsb2NrID0gcGF0b21fcmVjb3JkX1YyW3N0YXRlX2VudHJ5LT51Y0dmeENsb2NrSW5k
ZXhIaWdoXS51bENsazsKPiA+ICsgICAgICAgICAgICAgICBpZiAoaHdtZ3ItPnBwX29uZV92ZiAm
JiAoc3RhdGVfZW50cnktPnVjR2Z4Q2xvY2tJbmRleEhpZ2ggPiAwKSkKPiA+ICsgICAgICAgICAg
ICAgICAgICAgICAgIHBlcmZvcm1hbmNlX2xldmVsLT5nZnhfY2xvY2sgPSBwYXRvbV9yZWNvcmRf
VjJbNF0udWxDbGs7Cj4gPiArICAgICAgICAgICAgICAgZWxzZQo+ID4gKyAgICAgICAgICAgICAg
ICAgICAgICAgcGVyZm9ybWFuY2VfbGV2ZWwtPmdmeF9jbG9jayA9Cj4gPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHBhdG9tX3JlY29yZF9WMltzdGF0ZV9lbnRyeS0+dWNHZnhDbG9j
a0luZGV4SGlnaF0udWxDbGs7Cj4gPiAgICAgICAgIH0KPiA+Cj4gPiAgICAgICAgIHBlcmZvcm1h
bmNlX2xldmVsLT5tZW1fY2xvY2sgPSBtY2xrX2RlcF90YWJsZS0+ZW50cmllcwo+ID4gQEAgLTM0
OTUsNiArMzUyOSw3IEBAIHN0YXRpYyBpbnQgdmVnYTEwX3VwbG9hZF9kcG1fYm9vdHVwX2xldmVs
KHN0cnVjdCBwcF9od21nciAqaHdtZ3IpCj4gPiAgICAgICAgICAgICAgICAgICAgICAgICBzbXVt
X3NlbmRfbXNnX3RvX3NtY193aXRoX3BhcmFtZXRlcihod21nciwKPiA+ICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgUFBTTUNfTVNHX1NldFNvZnRNaW5HZnhjbGtCeUluZGV4LAo+ID4g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLT5zbWNfc3RhdGVfdGFibGUuZ2Z4
X2Jvb3RfbGV2ZWwpOwo+ID4gKwo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS0+ZHBt
X3RhYmxlLmdmeF90YWJsZS5kcG1fc3RhdGUuc29mdF9taW5fbGV2ZWwgPQo+ID4gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtPnNtY19zdGF0ZV90YWJsZS5nZnhf
Ym9vdF9sZXZlbDsKPiA+ICAgICAgICAgICAgICAgICB9Cj4gPiBAQCAtMzUxOCw2ICszNTUzLDkg
QEAgc3RhdGljIGludCB2ZWdhMTBfdXBsb2FkX2RwbV9ib290dXBfbGV2ZWwoc3RydWN0IHBwX2h3
bWdyICpod21ncikKPiA+ICAgICAgICAgICAgICAgICB9Cj4gPiAgICAgICAgIH0KPiA+Cj4gPiAr
ICAgICAgIGlmICghaHdtZ3ItPm5vdF92ZikKPiA+ICsgICAgICAgICAgICAgICByZXR1cm4gMDsK
PiA+ICsKPiA+ICAgICAgICAgaWYgKCFkYXRhLT5yZWdpc3RyeV9kYXRhLnNvY2Nsa19kcG1fa2V5
X2Rpc2FibGVkKSB7Cj4gPiAgICAgICAgICAgICAgICAgaWYgKGRhdGEtPnNtY19zdGF0ZV90YWJs
ZS5zb2NfYm9vdF9sZXZlbCAhPQo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBk
YXRhLT5kcG1fdGFibGUuc29jX3RhYmxlLmRwbV9zdGF0ZS5zb2Z0X21pbl9sZXZlbCkgewo+ID4g
QEAgLTM1NjAsNiArMzU5OCw5IEBAIHN0YXRpYyBpbnQgdmVnYTEwX3VwbG9hZF9kcG1fbWF4X2xl
dmVsKHN0cnVjdCBwcF9od21nciAqaHdtZ3IpCj4gPiAgICAgICAgICAgICAgICAgfQo+ID4gICAg
ICAgICB9Cj4gPgo+ID4gKyAgICAgICBpZiAoIWh3bWdyLT5ub3RfdmYpCj4gPiArICAgICAgICAg
ICAgICAgcmV0dXJuIDA7Cj4gPiArCj4gPiAgICAgICAgIGlmICghZGF0YS0+cmVnaXN0cnlfZGF0
YS5zb2NjbGtfZHBtX2tleV9kaXNhYmxlZCkgewo+ID4gICAgICAgICAgICAgICAgIGlmIChkYXRh
LT5zbWNfc3RhdGVfdGFibGUuc29jX21heF9sZXZlbCAhPQo+ID4gICAgICAgICAgICAgICAgICAg
ICAgICAgZGF0YS0+ZHBtX3RhYmxlLnNvY190YWJsZS5kcG1fc3RhdGUuc29mdF9tYXhfbGV2ZWwp
IHsKPiA+IEBAIC00MDU0LDE1ICs0MDk1LDI1IEBAIHN0YXRpYyBpbnQgdmVnYTEwX2dldF9wcm9m
aWxpbmdfY2xrX21hc2soc3RydWN0IHBwX2h3bWdyICpod21nciwgZW51bSBhbWRfZHBtX2ZvCj4g
PiAgICAgICAgIH0gZWxzZSBpZiAobGV2ZWwgPT0gQU1EX0RQTV9GT1JDRURfTEVWRUxfUFJPRklM
RV9NSU5fTUNMSykgewo+ID4gICAgICAgICAgICAgICAgICptY2xrX21hc2sgPSAwOwo+ID4gICAg
ICAgICB9IGVsc2UgaWYgKGxldmVsID09IEFNRF9EUE1fRk9SQ0VEX0xFVkVMX1BST0ZJTEVfUEVB
Sykgewo+ID4gLSAgICAgICAgICAgICAgICpzY2xrX21hc2sgPSB0YWJsZV9pbmZvLT52ZGRfZGVw
X29uX3NjbGstPmNvdW50IC0gMTsKPiA+ICsgICAgICAgICAgICAgICAvKiB1bmRlciB2ZWdhMTAg
IHBwIG9uZSB2ZiBtb2RlLCB0aGUgZ2Z4IGNsayBkcG0gbmVlZCBiZSBsb3dlcgo+ID4gKyAgICAg
ICAgICAgICAgICAqIHRvIGxldmVsLTQgZHVlIHRvIHRoZSBsaW1pdGVkIHBvd2VyCj4gPiArICAg
ICAgICAgICAgICAgICovCj4gPiArICAgICAgICAgICAgICAgaWYgKGh3bWdyLT5wcF9vbmVfdmYp
Cj4gPiArICAgICAgICAgICAgICAgICAgICAgICAqc2Nsa19tYXNrID0gNDsKPiA+ICsgICAgICAg
ICAgICAgICBlbHNlCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAqc2Nsa19tYXNrID0gdGFi
bGVfaW5mby0+dmRkX2RlcF9vbl9zY2xrLT5jb3VudCAtIDE7Cj4gPiAgICAgICAgICAgICAgICAg
KnNvY19tYXNrID0gdGFibGVfaW5mby0+dmRkX2RlcF9vbl9zb2NjbGstPmNvdW50IC0gMTsKPiA+
ICAgICAgICAgICAgICAgICAqbWNsa19tYXNrID0gdGFibGVfaW5mby0+dmRkX2RlcF9vbl9tY2xr
LT5jb3VudCAtIDE7Cj4gPiAgICAgICAgIH0KPiA+ICsKPiA+ICAgICAgICAgcmV0dXJuIDA7Cj4g
PiAgfQo+ID4KPiA+ICBzdGF0aWMgdm9pZCB2ZWdhMTBfc2V0X2Zhbl9jb250cm9sX21vZGUoc3Ry
dWN0IHBwX2h3bWdyICpod21nciwgdWludDMyX3QgbW9kZSkKPiA+ICB7Cj4gPiArICAgICAgIGlm
ICghaHdtZ3ItPm5vdF92ZikKPiA+ICsgICAgICAgICAgICAgICByZXR1cm47Cj4gPiArCj4gPiAg
ICAgICAgIHN3aXRjaCAobW9kZSkgewo+ID4gICAgICAgICBjYXNlIEFNRF9GQU5fQ1RSTF9OT05F
Ogo+ID4gICAgICAgICAgICAgICAgIHZlZ2ExMF9mYW5fY3RybF9zZXRfZmFuX3NwZWVkX3BlcmNl
bnQoaHdtZ3IsIDEwMCk7Cj4gPiBAQCAtNDE3Niw2ICs0MjI3LDkgQEAgc3RhdGljIGludCB2ZWdh
MTBfZHBtX2ZvcmNlX2RwbV9sZXZlbChzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyLAo+ID4gICAgICAg
ICAgICAgICAgIGJyZWFrOwo+ID4gICAgICAgICB9Cj4gPgo+ID4gKyAgICAgICBpZiAoIWh3bWdy
LT5ub3RfdmYpCj4gPiArICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiA+ICsKPiA+ICAgICAg
ICAgaWYgKCFyZXQpIHsKPiA+ICAgICAgICAgICAgICAgICBpZiAobGV2ZWwgPT0gQU1EX0RQTV9G
T1JDRURfTEVWRUxfUFJPRklMRV9QRUFLICYmIGh3bWdyLT5kcG1fbGV2ZWwgIT0gQU1EX0RQTV9G
T1JDRURfTEVWRUxfUFJPRklMRV9QRUFLKQo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgdmVn
YTEwX3NldF9mYW5fY29udHJvbF9tb2RlKGh3bWdyLCBBTURfRkFOX0NUUkxfTk9ORSk7Cj4gPiBA
QCAtNDQ4MCw3ICs0NTM0LDcgQEAgc3RhdGljIGludCB2ZWdhMTBfcHJpbnRfY2xvY2tfbGV2ZWxz
KHN0cnVjdCBwcF9od21nciAqaHdtZ3IsCj4gPiAgICAgICAgIHN0cnVjdCB2ZWdhMTBfcGNpZV90
YWJsZSAqcGNpZV90YWJsZSA9ICYoZGF0YS0+ZHBtX3RhYmxlLnBjaWVfdGFibGUpOwo+ID4gICAg
ICAgICBzdHJ1Y3QgdmVnYTEwX29kbl9jbG9ja192b2x0YWdlX2RlcGVuZGVuY3lfdGFibGUgKnBv
ZG5fdmRkX2RlcCA9IE5VTEw7Cj4gPgo+ID4gLSAgICAgICBpbnQgaSwgbm93LCBzaXplID0gMDsK
PiA+ICsgICAgICAgaW50IGksIG5vdywgc2l6ZSwgY291bnQgPSAwOwo+ID4KPiA+ICAgICAgICAg
c3dpdGNoICh0eXBlKSB7Cj4gPiAgICAgICAgIGNhc2UgUFBfU0NMSzoKPiA+IEBAIC00NDkwLDcg
KzQ1NDQsMTIgQEAgc3RhdGljIGludCB2ZWdhMTBfcHJpbnRfY2xvY2tfbGV2ZWxzKHN0cnVjdCBw
cF9od21nciAqaHdtZ3IsCj4gPiAgICAgICAgICAgICAgICAgc211bV9zZW5kX21zZ190b19zbWMo
aHdtZ3IsIFBQU01DX01TR19HZXRDdXJyZW50R2Z4Y2xrSW5kZXgpOwo+ID4gICAgICAgICAgICAg
ICAgIG5vdyA9IHNtdW1fZ2V0X2FyZ3VtZW50KGh3bWdyKTsKPiA+Cj4gPiAtICAgICAgICAgICAg
ICAgZm9yIChpID0gMDsgaSA8IHNjbGtfdGFibGUtPmNvdW50OyBpKyspCj4gPiArICAgICAgICAg
ICAgICAgaWYgKGh3bWdyLT5wcF9vbmVfdmYgJiYKPiA+ICsgICAgICAgICAgICAgICAgICAgKGh3
bWdyLT5kcG1fbGV2ZWwgPT0gQU1EX0RQTV9GT1JDRURfTEVWRUxfUFJPRklMRV9QRUFLKSkKPiA+
ICsgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ID0gNTsKPiA+ICsgICAgICAgICAgICAgICBl
bHNlCj4gPiArICAgICAgICAgICAgICAgICAgICAgICBjb3VudCA9IHNjbGtfdGFibGUtPmNvdW50
Owo+ID4gKyAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb3VudDsgaSsrKQo+Cj4gV291
bGQgaXQgYmUgYmV0dGVyIHRvIGp1c3QgbGltaXQgc2Nsa3RhYmxlLT5jb3VudCBkaXJlY3RseSBm
b3IgdGhlCj4gc3ItaW92IGNhc2UsIG9yIGRvIHlvdSBzdGlsbCB3YW50IGFsbCB0aGUgc3RhdGVz
IGF2YWlsYWJsZSBmb3IgcmVndWxhcgo+IGRwbT8KPiBbeXR0YW9dOiBpdCBpcyBhIHdvcmthcm91
bmQgZHVlIHRvIHRoZSAxMTB3IHBvd2VyIGxpbWl0IGZvciBwcCBvbmUgdmYuIFRoZSBwZXJmb3Jt
YW5jZSB0b29sIGxpa2UgUkdQIHdpbGwgY2hlY2sgd2hldGhlciB0aGUgcGVhayBkcG0gbGV2ZWwg
aXMgY29uc3RhbnQuCj4gICAgICAgICAgICAgICAgIFVuZGVyIHBlYWsgbW9kZSwgdGhlIG1heCBk
cG0gbGV2ZWwgc2hvdWxkIGJlIDUgYnV0IHVuZGVyIGhpZ2hlc3QgbW9kZSwgdGhlIG1heCBkcG0g
bGV2ZWwgc2hvdWxkIGJlIDcgdGhvdWdoIGl0IHdpbGwgYmUgZG93biBhZnRlciBhIHdoaWxlCj4g
ICAgICAgICAgICAgICAgIER1ZSB0byB0aGUgMTEwdyBwb3dlciBsaW1pdC4KPgo+Cj4gPiAgICAg
ICAgICAgICAgICAgICAgICAgICBzaXplICs9IHNwcmludGYoYnVmICsgc2l6ZSwgIiVkOiAldU1o
eiAlc1xuIiwKPiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLCBz
Y2xrX3RhYmxlLT5kcG1fbGV2ZWxzW2ldLnZhbHVlIC8gMTAwLAo+ID4gICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIChpID09IG5vdykgPyAiKiIgOiAiIik7Cj4gPiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaW5jL2h3bWdyLmggYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvaHdtZ3IuaAo+ID4gaW5kZXggYWY5Nzc2NzVm
ZDMzLi4yZmZiNjY2Yjk3ZTYgMTAwNjQ0Cj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bv
d2VycGxheS9pbmMvaHdtZ3IuaAo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBs
YXkvaW5jL2h3bWdyLmgKPiA+IEBAIC03NDEsNiArNzQxLDcgQEAgc3RydWN0IHBwX2h3bWdyIHsK
PiA+ICAgICAgICAgdWludDMyX3Qgc211X3ZlcnNpb247Cj4gPiAgICAgICAgIGJvb2wgbm90X3Zm
Owo+ID4gICAgICAgICBib29sIHBtX2VuOwo+ID4gKyAgICAgICBib29sIHBwX29uZV92ZjsKPiA+
ICAgICAgICAgc3RydWN0IG11dGV4IHNtdV9sb2NrOwo+ID4KPiA+ICAgICAgICAgdWludDMyX3Qg
cHBfdGFibGVfdmVyc2lvbjsKPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bv
d2VycGxheS9zbXVtZ3Ivc211OV9zbXVtZ3IuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJw
bGF5L3NtdW1nci9zbXU5X3NtdW1nci5jCj4gPiBpbmRleCA3NDJiM2RjMWY2Y2IuLmE4NTc4YTI3
Y2FiMiAxMDA2NDQKPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3NtdW1n
ci9zbXU5X3NtdW1nci5jCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9z
bXVtZ3Ivc211OV9zbXVtZ3IuYwo+ID4gQEAgLTYxLDE1ICs2MSwyOSBAQCBzdGF0aWMgdWludDMy
X3Qgc211OV93YWl0X2Zvcl9yZXNwb25zZShzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyKQo+ID4gICAg
ICAgICB1aW50MzJfdCByZWc7Cj4gPiAgICAgICAgIHVpbnQzMl90IHJldDsKPiA+Cj4gPiAtICAg
ICAgIHJlZyA9IFNPQzE1X1JFR19PRkZTRVQoTVAxLCAwLCBtbU1QMV9TTU5fQzJQTVNHXzkwKTsK
PiA+ICsgICAgICAgLyogRHVlIHRvIHRoZSBMMSBwb2xpY3kgcHJvYmxlbSB1bmRlciBTUklPViwg
d2UgaGF2ZSB0byB1c2UKPiA+ICsgICAgICAgICogbW1NUDFfU01OX0MyUE1TR18xMDMgYXMgdGhl
IGRyaXZlciByZXNwb25zZSByZWdpc3Rlcgo+ID4gKyAgICAgICAgKi8KPiA+ICsgICAgICAgaWYg
KGh3bWdyLT5wcF9vbmVfdmYpIHsKPiA+ICsgICAgICAgICAgICAgICByZWcgPSBTT0MxNV9SRUdf
T0ZGU0VUKE1QMSwgMCwgbW1NUDFfU01OX0MyUE1TR18xMDMpOwo+ID4KPiA+IC0gICAgICAgcmV0
ID0gcGhtX3dhaXRfZm9yX3JlZ2lzdGVyX3VuZXF1YWwoaHdtZ3IsIHJlZywKPiA+IC0gICAgICAg
ICAgICAgICAgICAgICAgIDAsIE1QMV9DMlBNU0dfOTBfX0NPTlRFTlRfTUFTSyk7Cj4gPiArICAg
ICAgICAgICAgICAgcmV0ID0gcGhtX3dhaXRfZm9yX3JlZ2lzdGVyX3VuZXF1YWwoaHdtZ3IsIHJl
ZywKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCwgTVAxX0MyUE1TR18xMDNf
X0NPTlRFTlRfTUFTSyk7Cj4gPgo+ID4gLSAgICAgICBpZiAocmV0KQo+ID4gLSAgICAgICAgICAg
ICAgIHByX2VycigiTm8gcmVzcG9uc2UgZnJvbSBzbXVcbiIpOwo+ID4gKyAgICAgICAgICAgICAg
IGlmIChyZXQpCj4gPiArICAgICAgICAgICAgICAgICAgICAgICBwcl9lcnIoIk5vIHJlc3BvbnNl
IGZyb20gc211XG4iKTsKPiA+Cj4gPiAtICAgICAgIHJldHVybiBSUkVHMzJfU09DMTUoTVAxLCAw
LCBtbU1QMV9TTU5fQzJQTVNHXzkwKTsKPiA+ICsgICAgICAgICAgICAgICByZXR1cm4gUlJFRzMy
X1NPQzE1KE1QMSwgMCwgbW1NUDFfU01OX0MyUE1TR18xMDMpOwo+ID4gKyAgICAgICB9IGVsc2Ug
ewo+ID4gKyAgICAgICAgICAgICAgIHJlZyA9IFNPQzE1X1JFR19PRkZTRVQoTVAxLCAwLCBtbU1Q
MV9TTU5fQzJQTVNHXzkwKTsKPiA+ICsKPiA+ICsgICAgICAgICAgICAgICByZXQgPSBwaG1fd2Fp
dF9mb3JfcmVnaXN0ZXJfdW5lcXVhbChod21nciwgcmVnLAo+ID4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAwLCBNUDFfQzJQTVNHXzkwX19DT05URU5UX01BU0spOwo+ID4gKwo+ID4g
KyAgICAgICAgICAgICAgIGlmIChyZXQpCj4gPiArICAgICAgICAgICAgICAgICAgICAgICBwcl9l
cnIoIk5vIHJlc3BvbnNlIGZyb20gc211XG4iKTsKPiA+ICsgICAgICAgICAgICAgICByZXR1cm4g
UlJFRzMyX1NPQzE1KE1QMSwgMCwgbW1NUDFfU01OX0MyUE1TR185MCk7Cj4gPiArICAgICAgIH0K
PiA+ICB9Cj4gPgo+ID4gIC8qCj4gPiBAQCAtODMsNyArOTcsMTAgQEAgc3RhdGljIGludCBzbXU5
X3NlbmRfbXNnX3RvX3NtY193aXRob3V0X3dhaXRpbmcoc3RydWN0IHBwX2h3bWdyICpod21nciwK
PiA+ICB7Cj4gPiAgICAgICAgIHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gaHdtZ3ItPmFk
ZXY7Cj4gPgo+ID4gLSAgICAgICBXUkVHMzJfU09DMTUoTVAxLCAwLCBtbU1QMV9TTU5fQzJQTVNH
XzY2LCBtc2cpOwo+ID4gKyAgICAgICBpZiAoaHdtZ3ItPnBwX29uZV92Zikgewo+ID4gKyAgICAg
ICAgICAgICAgIFdSRUczMl9TT0MxNShNUDEsIDAsIG1tTVAxX1NNTl9DMlBNU0dfMTAxLCBtc2cp
Owo+ID4gKyAgICAgICB9IGVsc2UKPiA+ICsgICAgICAgICAgICAgICBXUkVHMzJfU09DMTUoTVAx
LCAwLCBtbU1QMV9TTU5fQzJQTVNHXzY2LCBtc2cpOwo+Cj4gUGxlYXNlIGZpeCB1cCB0aGUgcGFy
ZW5zIGhlcmUgdG8gYmUgY29uc2lzdGVudC4KPgo+IFRoYW5rcywKPgo+IEFsZXgKPgo+ID4KPiA+
ICAgICAgICAgcmV0dXJuIDA7Cj4gPiAgfQo+ID4gQEAgLTEwMSw3ICsxMTgsMTAgQEAgaW50IHNt
dTlfc2VuZF9tc2dfdG9fc21jKHN0cnVjdCBwcF9od21nciAqaHdtZ3IsIHVpbnQxNl90IG1zZykK
PiA+Cj4gPiAgICAgICAgIHNtdTlfd2FpdF9mb3JfcmVzcG9uc2UoaHdtZ3IpOwo+ID4KPiA+IC0g
ICAgICAgV1JFRzMyX1NPQzE1KE1QMSwgMCwgbW1NUDFfU01OX0MyUE1TR185MCwgMCk7Cj4gPiAr
ICAgICAgIGlmIChod21nci0+cHBfb25lX3ZmKQo+ID4gKyAgICAgICAgICAgICAgIFdSRUczMl9T
T0MxNShNUDEsIDAsIG1tTVAxX1NNTl9DMlBNU0dfMTAzLCAwKTsKPiA+ICsgICAgICAgZWxzZQo+
ID4gKyAgICAgICAgICAgICAgIFdSRUczMl9TT0MxNShNUDEsIDAsIG1tTVAxX1NNTl9DMlBNU0df
OTAsIDApOwo+ID4KPiA+ICAgICAgICAgc211OV9zZW5kX21zZ190b19zbWNfd2l0aG91dF93YWl0
aW5nKGh3bWdyLCBtc2cpOwo+ID4KPiA+IEBAIC0xMjcsOSArMTQ3LDE3IEBAIGludCBzbXU5X3Nl
bmRfbXNnX3RvX3NtY193aXRoX3BhcmFtZXRlcihzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyLAo+ID4K
PiA+ICAgICAgICAgc211OV93YWl0X2Zvcl9yZXNwb25zZShod21ncik7Cj4gPgo+ID4gLSAgICAg
ICBXUkVHMzJfU09DMTUoTVAxLCAwLCBtbU1QMV9TTU5fQzJQTVNHXzkwLCAwKTsKPiA+IC0KPiA+
IC0gICAgICAgV1JFRzMyX1NPQzE1KE1QMSwgMCwgbW1NUDFfU01OX0MyUE1TR184MiwgcGFyYW1l
dGVyKTsKPiA+ICsgICAgICAgLyogRHVlIHRvIHRoZSBMMSBwb2xpY3kgcHJvYmxlbSB1bmRlciBT
UklPViwgd2UgaGF2ZSB0byB1c2UKPiA+ICsgICAgICAgICogbW1NUDFfU01OX0MyUE1TR18xMDEg
YXMgdGhlIGRyaXZlciBtZXNzYWdlIHJlZ2lzdGVyIGFuZAo+ID4gKyAgICAgICAgKiBtbU1QMV9T
TU5fQzJQTVNHXzEwMiBhcyB0aGUgZHJpdmVyIHBhcmFtZXRlciByZWdpc3Rlci4KPiA+ICsgICAg
ICAgICovCj4gPiArICAgICAgIGlmIChod21nci0+cHBfb25lX3ZmKSB7Cj4gPiArICAgICAgICAg
ICAgICAgV1JFRzMyX1NPQzE1KE1QMSwgMCwgbW1NUDFfU01OX0MyUE1TR18xMDMsIDApOwo+ID4g
KyAgICAgICAgICAgICAgIFdSRUczMl9TT0MxNShNUDEsIDAsIG1tTVAxX1NNTl9DMlBNU0dfMTAy
LCBwYXJhbWV0ZXIpOwo+ID4gKyAgICAgICB9IGVsc2Ugewo+ID4gKyAgICAgICAgICAgICAgIFdS
RUczMl9TT0MxNShNUDEsIDAsIG1tTVAxX1NNTl9DMlBNU0dfOTAsIDApOwo+ID4gKyAgICAgICAg
ICAgICAgIFdSRUczMl9TT0MxNShNUDEsIDAsIG1tTVAxX1NNTl9DMlBNU0dfODIsIHBhcmFtZXRl
cik7Cj4gPiArICAgICAgIH0KPiA+Cj4gPiAgICAgICAgIHNtdTlfc2VuZF9tc2dfdG9fc21jX3dp
dGhvdXRfd2FpdGluZyhod21nciwgbXNnKTsKPiA+Cj4gPiBAQCAtMTQ0LDUgKzE3Miw4IEBAIHVp
bnQzMl90IHNtdTlfZ2V0X2FyZ3VtZW50KHN0cnVjdCBwcF9od21nciAqaHdtZ3IpCj4gPiAgewo+
ID4gICAgICAgICBzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IGh3bWdyLT5hZGV2Owo+ID4K
PiA+IC0gICAgICAgcmV0dXJuIFJSRUczMl9TT0MxNShNUDEsIDAsIG1tTVAxX1NNTl9DMlBNU0df
ODIpOwo+ID4gKyAgICAgICBpZiAoaHdtZ3ItPnBwX29uZV92ZikKPiA+ICsgICAgICAgICAgICAg
ICByZXR1cm4gUlJFRzMyX1NPQzE1KE1QMSwgMCwgbW1NUDFfU01OX0MyUE1TR18xMDIpOwo+ID4g
KyAgICAgICBlbHNlCj4gPiArICAgICAgICAgICAgICAgcmV0dXJuIFJSRUczMl9TT0MxNShNUDEs
IDAsIG1tTVAxX1NNTl9DMlBNU0dfODIpOwo+ID4gIH0KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL3Bvd2VycGxheS9zbXVtZ3IvdmVnYTEwX3NtdW1nci5jIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9wb3dlcnBsYXkvc211bWdyL3ZlZ2ExMF9zbXVtZ3IuYwo+ID4gaW5kZXggMGYz
ODM2ZmQ5NjY2Li5iZWEzMzdhNmM1YjcgMTAwNjQ0Cj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL3Bvd2VycGxheS9zbXVtZ3IvdmVnYTEwX3NtdW1nci5jCj4gPiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL3Bvd2VycGxheS9zbXVtZ3IvdmVnYTEwX3NtdW1nci5jCj4gPiBAQCAtNzEsNiAr
NzEsMTIgQEAgc3RhdGljIGludCB2ZWdhMTBfY29weV90YWJsZV90b19zbWMoc3RydWN0IHBwX2h3
bWdyICpod21nciwKPiA+ICB7Cj4gPiAgICAgICAgIHN0cnVjdCB2ZWdhMTBfc211bWdyICpwcml2
ID0gaHdtZ3ItPnNtdV9iYWNrZW5kOwo+ID4KPiA+ICsgICAgICAgLyogdW5kZXIgcHBfb25lX3Zm
IG1vZGUsIHZiaW9zIG9yIGh5cGVydmlzb3IgZHJpdmVyCj4gPiArICAgICAgICAqIGhhcyBhbHJl
YWR5IGNvcHkgdGFibGUgdG8gc21jIHNvIGhlcmUgb25seSBza2lwIGl0Cj4gPiArICAgICAgICAq
Lwo+ID4gKyAgICAgICBpZiAoIWh3bWdyLT5ub3RfdmYgJiYgIWh3bWdyLT5wcF9vbmVfdmYpCj4g
PiArICAgICAgICAgICAgICAgcmV0dXJuIDA7Cj4gPiArCj4gPiAgICAgICAgIFBQX0FTU0VSVF9X
SVRIX0NPREUodGFibGVfaWQgPCBNQVhfU01VX1RBQkxFLAo+ID4gICAgICAgICAgICAgICAgICAg
ICAgICAgIkludmFsaWQgU01VIFRhYmxlIElEISIsIHJldHVybiAtRUlOVkFMKTsKPiA+ICAgICAg
ICAgUFBfQVNTRVJUX1dJVEhfQ09ERShwcml2LT5zbXVfdGFibGVzLmVudHJ5W3RhYmxlX2lkXS52
ZXJzaW9uICE9IDAsCj4gPiAtLQo+ID4gMi4xNy4xCj4gPgo+ID4gX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX18KPiA+IGFtZC1nZnggbWFpbGluZyBsaXN0Cj4g
PiBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwo+ID4gaHR0cHM6Ly9uYW0xMS5zYWZlbGlu
a3MucHJvdGVjdGlvbi5vdXRsb29rLmNvbS8/dXJsPWh0dHBzJTNBJTJGJTJGbGlzdHMuZnJlZWRl
c2t0b3Aub3JnJTJGbWFpbG1hbiUyRmxpc3RpbmZvJTJGYW1kLWdmeCZhbXA7ZGF0YT0wMiU3QzAx
JTdDWWludGlhbi5UYW8lNDBhbWQuY29tJTdDYThjZjY4Njk4NjM0NGM4YTkxNDgwOGQ3N2NjODJm
MDklN0MzZGQ4OTYxZmU0ODg0ZTYwOGUxMWE4MmQ5OTRlMTgzZCU3QzAlN0MwJTdDNjM3MTE1MDcx
NTM2MzczOTgxJmFtcDtzZGF0YT1MUVNWZHJDSWpyTERjRzNsQUdvaGhrcTRuSjRsR1RmenloVkQl
MkJmalg4VkElM0QmYW1wO3Jlc2VydmVkPTAKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVl
ZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5m
by9hbWQtZ2Z4
