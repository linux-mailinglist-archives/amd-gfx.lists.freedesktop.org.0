Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 07D1769E2E
	for <lists+amd-gfx@lfdr.de>; Mon, 15 Jul 2019 23:25:44 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 9497489F5B;
	Mon, 15 Jul 2019 21:25:41 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-qt1-x842.google.com (mail-qt1-x842.google.com
 [IPv6:2607:f8b0:4864:20::842])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 639F689EFF
 for <amd-gfx@lists.freedesktop.org>; Mon, 15 Jul 2019 21:25:36 +0000 (UTC)
Received: by mail-qt1-x842.google.com with SMTP id y26so17274218qto.4
 for <amd-gfx@lists.freedesktop.org>; Mon, 15 Jul 2019 14:25:36 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=sOFCiMyfSAiiLbxBk+RAJUKnpNFBupdG/8JsPQOp+VE=;
 b=KZ6wwDnYKXcTO8/ym2EHUVP9hE4RGJunxayShiqz3Zhd2oVGAYNKJ/fzrbd9AgQwkZ
 oe/J/g2cTgXUNcjOZC3iVt/DaAGf1R3mad/FaYHxu5Z1polbj5+4HVBDd2mIJVlwiNfo
 KaBGgOs4d09rpO/fpV3JoXv3ZU9cnuLLt075XbdabSIHUXu830Pul8mB8gX12Vopq//1
 G0K9evSNerUznfOyu7Si+rqsnuHPHJgIqWixvNahhANMyjW3dH/lM8uwEHywnjWbVf/f
 wto9OTBNwjvTNHYEAkt4oFhUCcjTnn27IfQz9mWTsJ0l5Q53zSseNqATq+C5UxUTBHma
 hJ/Q==
X-Gm-Message-State: APjAAAXagbf54MsXP9r+VAg8x94VAEgEr5AhTb9hmVyc3DHuXzGcRSkj
 hQo4qV654sLx4Q387LuuvbO3IxmP
X-Google-Smtp-Source: APXvYqxPjVGaic4xUdrzkEorS18bDh18ze7qMRMrjZv++krVR/js0OR7UGY//P4LaxpO0dsp5qNQ9A==
X-Received: by 2002:ac8:35ae:: with SMTP id k43mr19506740qtb.259.1563225935316; 
 Mon, 15 Jul 2019 14:25:35 -0700 (PDT)
Received: from localhost.localdomain ([71.219.21.119])
 by smtp.gmail.com with ESMTPSA id q56sm10274133qtq.64.2019.07.15.14.25.34
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Mon, 15 Jul 2019 14:25:34 -0700 (PDT)
From: Alex Deucher <alexdeucher@gmail.com>
X-Google-Original-From: Alex Deucher <alexander.deucher@amd.com>
To: amd-gfx@lists.freedesktop.org
Subject: [PATCH 057/102] drm/amdgpu/VCN2: expose rings functions
Date: Mon, 15 Jul 2019 16:23:52 -0500
Message-Id: <20190715212437.31793-55-alexander.deucher@amd.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190715212437.31793-1-alexander.deucher@amd.com>
References: <20190715212437.31793-1-alexander.deucher@amd.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=sOFCiMyfSAiiLbxBk+RAJUKnpNFBupdG/8JsPQOp+VE=;
 b=s1VEjUcW36G1ZVoNUrNsXyjvmmUJvyNEZkaqonzqb20SObxDTNKE0tXQsjfnAuC5JL
 WWpAFQtR/hXcL6J+ssU47/TwKPDBiziREQWe15uwI4MA0pkzEBolhjPYnXTav1zXMdbk
 2nxceEj78BZWpuQ4qL20mvC2nqoQ579fBUBEB8LdSF0zj2q7rHH5x/5ip6uGbWde8KEH
 gpmzYr9SmT7P3CnV1LDk2lTgBX33UiNsebyUqnGc/3u00fbgebvqNiinyPtlmljCB/8w
 Ws4ioW5mmiK8ZKLQdsWDBV+JmLXBEPz7RSgyneUU/04yVnPl8J+4Esqp63tPi+QHg2rQ
 bMGA==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Alex Deucher <alexander.deucher@amd.com>, Leo Liu <leo.liu@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogTGVvIExpdSA8bGVvLmxpdUBhbWQuY29tPgoKVGhleSBjYW4gYmUgcmV1c2VkIGJ5IFZD
TjIueCBmYW1pbHkKClNpZ25lZC1vZmYtYnk6IExlbyBMaXUgPGxlby5saXVAYW1kLmNvbT4KUmV2
aWV3ZWQtYnk6IEFsZXggRGV1Y2hlciA8YWxleGFuZGVyLmRldWNoZXJAYW1kLmNvbT4KU2lnbmVk
LW9mZi1ieTogQWxleCBEZXVjaGVyIDxhbGV4YW5kZXIuZGV1Y2hlckBhbWQuY29tPgotLS0KIGRy
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3Zjbl92Ml8wLmMgfCA4NyArKysrKysrKysrKysrLS0t
LS0tLS0tLS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3Zjbl92Ml8wLmggfCAzOCAr
KysrKysrKysrKysKIDIgZmlsZXMgY2hhbmdlZCwgNzkgaW5zZXJ0aW9ucygrKSwgNDYgZGVsZXRp
b25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdmNuX3YyXzAu
YyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3Zjbl92Ml8wLmMKaW5kZXggYzgwMWI2OWYw
Yjc1Li41MmE1ZTNhYzlmNTUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L3Zjbl92Ml8wLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdmNuX3YyXzAuYwpA
QCAtMTQ5MCw3ICsxNDkwLDcgQEAgc3RhdGljIHZvaWQgdmNuX3YyXzBfZGVjX3Jpbmdfc2V0X3dw
dHIoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nKQogICoKICAqIFdyaXRlIGEgc3RhcnQgY29tbWFu
ZCB0byB0aGUgcmluZy4KICAqLwotc3RhdGljIHZvaWQgdmNuX3YyXzBfZGVjX3JpbmdfaW5zZXJ0
X3N0YXJ0KHN0cnVjdCBhbWRncHVfcmluZyAqcmluZykKK3ZvaWQgdmNuX3YyXzBfZGVjX3Jpbmdf
aW5zZXJ0X3N0YXJ0KHN0cnVjdCBhbWRncHVfcmluZyAqcmluZykKIHsKIAlzdHJ1Y3QgYW1kZ3B1
X2RldmljZSAqYWRldiA9IHJpbmctPmFkZXY7CiAKQEAgLTE1MDcsNyArMTUwNyw3IEBAIHN0YXRp
YyB2b2lkIHZjbl92Ml8wX2RlY19yaW5nX2luc2VydF9zdGFydChzdHJ1Y3QgYW1kZ3B1X3Jpbmcg
KnJpbmcpCiAgKgogICogV3JpdGUgYSBlbmQgY29tbWFuZCB0byB0aGUgcmluZy4KICAqLwotc3Rh
dGljIHZvaWQgdmNuX3YyXzBfZGVjX3JpbmdfaW5zZXJ0X2VuZChzdHJ1Y3QgYW1kZ3B1X3Jpbmcg
KnJpbmcpCit2b2lkIHZjbl92Ml8wX2RlY19yaW5nX2luc2VydF9lbmQoc3RydWN0IGFtZGdwdV9y
aW5nICpyaW5nKQogewogCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gcmluZy0+YWRldjsK
IApAQCAtMTUyMiw3ICsxNTIyLDcgQEAgc3RhdGljIHZvaWQgdmNuX3YyXzBfZGVjX3JpbmdfaW5z
ZXJ0X2VuZChzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcpCiAgKgogICogV3JpdGUgYSBub3AgY29t
bWFuZCB0byB0aGUgcmluZy4KICAqLwotc3RhdGljIHZvaWQgdmNuX3YyXzBfZGVjX3JpbmdfaW5z
ZXJ0X25vcChzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsIHVpbnQzMl90IGNvdW50KQordm9pZCB2
Y25fdjJfMF9kZWNfcmluZ19pbnNlcnRfbm9wKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywgdWlu
dDMyX3QgY291bnQpCiB7CiAJc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSByaW5nLT5hZGV2
OwogCWludCBpOwpAQCAtMTU0Myw4ICsxNTQzLDggQEAgc3RhdGljIHZvaWQgdmNuX3YyXzBfZGVj
X3JpbmdfaW5zZXJ0X25vcChzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsIHVpbnQzMl90IGNvdW4K
ICAqCiAgKiBXcml0ZSBhIGZlbmNlIGFuZCBhIHRyYXAgY29tbWFuZCB0byB0aGUgcmluZy4KICAq
Lwotc3RhdGljIHZvaWQgdmNuX3YyXzBfZGVjX3JpbmdfZW1pdF9mZW5jZShzdHJ1Y3QgYW1kZ3B1
X3JpbmcgKnJpbmcsIHU2NCBhZGRyLCB1NjQgc2VxLAotCQkJCSAgICAgdW5zaWduZWQgZmxhZ3Mp
Cit2b2lkIHZjbl92Ml8wX2RlY19yaW5nX2VtaXRfZmVuY2Uoc3RydWN0IGFtZGdwdV9yaW5nICpy
aW5nLCB1NjQgYWRkciwgdTY0IHNlcSwKKwkJCQl1bnNpZ25lZCBmbGFncykKIHsKIAlzdHJ1Y3Qg
YW1kZ3B1X2RldmljZSAqYWRldiA9IHJpbmctPmFkZXY7CiAKQEAgLTE1ODAsMTAgKzE1ODAsMTAg
QEAgc3RhdGljIHZvaWQgdmNuX3YyXzBfZGVjX3JpbmdfZW1pdF9mZW5jZShzdHJ1Y3QgYW1kZ3B1
X3JpbmcgKnJpbmcsIHU2NCBhZGRyLCB1NjQKICAqCiAgKiBXcml0ZSByaW5nIGNvbW1hbmRzIHRv
IGV4ZWN1dGUgdGhlIGluZGlyZWN0IGJ1ZmZlcgogICovCi1zdGF0aWMgdm9pZCB2Y25fdjJfMF9k
ZWNfcmluZ19lbWl0X2liKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywKLQkJCQkgICAgICBzdHJ1
Y3QgYW1kZ3B1X2pvYiAqam9iLAotCQkJCSAgICAgIHN0cnVjdCBhbWRncHVfaWIgKmliLAotCQkJ
CSAgICAgIHVpbnQzMl90IGZsYWdzKQordm9pZCB2Y25fdjJfMF9kZWNfcmluZ19lbWl0X2liKHN0
cnVjdCBhbWRncHVfcmluZyAqcmluZywKKwkJCSAgICAgICBzdHJ1Y3QgYW1kZ3B1X2pvYiAqam9i
LAorCQkJICAgICAgIHN0cnVjdCBhbWRncHVfaWIgKmliLAorCQkJICAgICAgIHVpbnQzMl90IGZs
YWdzKQogewogCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gcmluZy0+YWRldjsKIAl1bnNp
Z25lZCB2bWlkID0gQU1ER1BVX0pPQl9HRVRfVk1JRChqb2IpOwpAQCAtMTU5OSw5ICsxNTk5LDgg
QEAgc3RhdGljIHZvaWQgdmNuX3YyXzBfZGVjX3JpbmdfZW1pdF9pYihzdHJ1Y3QgYW1kZ3B1X3Jp
bmcgKnJpbmcsCiAJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgaWItPmxlbmd0aF9kdyk7CiB9CiAK
LXN0YXRpYyB2b2lkIHZjbl92Ml8wX2RlY19yaW5nX2VtaXRfcmVnX3dhaXQoc3RydWN0IGFtZGdw
dV9yaW5nICpyaW5nLAotCQkJCQkgICAgdWludDMyX3QgcmVnLCB1aW50MzJfdCB2YWwsCi0JCQkJ
CSAgICB1aW50MzJfdCBtYXNrKQordm9pZCB2Y25fdjJfMF9kZWNfcmluZ19lbWl0X3JlZ193YWl0
KHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywgdWludDMyX3QgcmVnLAorCQkJCXVpbnQzMl90IHZh
bCwgdWludDMyX3QgbWFzaykKIHsKIAlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IHJpbmct
PmFkZXY7CiAKQEAgLTE2MTksOCArMTYxOCw4IEBAIHN0YXRpYyB2b2lkIHZjbl92Ml8wX2RlY19y
aW5nX2VtaXRfcmVnX3dhaXQoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLAogCWFtZGdwdV9yaW5n
X3dyaXRlKHJpbmcsIFZDTl9ERUNfQ01EX1JFR19SRUFEX0NPTkRfV0FJVCA8PCAxKTsKIH0KIAot
c3RhdGljIHZvaWQgdmNuX3YyXzBfZGVjX3JpbmdfZW1pdF92bV9mbHVzaChzdHJ1Y3QgYW1kZ3B1
X3JpbmcgKnJpbmcsCi0JCQkJCSAgICB1bnNpZ25lZCB2bWlkLCB1aW50NjRfdCBwZF9hZGRyKQor
dm9pZCB2Y25fdjJfMF9kZWNfcmluZ19lbWl0X3ZtX2ZsdXNoKHN0cnVjdCBhbWRncHVfcmluZyAq
cmluZywKKwkJCQl1bnNpZ25lZCB2bWlkLCB1aW50NjRfdCBwZF9hZGRyKQogewogCXN0cnVjdCBh
bWRncHVfdm1odWIgKmh1YiA9ICZyaW5nLT5hZGV2LT52bWh1YltyaW5nLT5mdW5jcy0+dm1odWJd
OwogCXVpbnQzMl90IGRhdGEwLCBkYXRhMSwgbWFzazsKQEAgLTE2MzQsOCArMTYzMyw4IEBAIHN0
YXRpYyB2b2lkIHZjbl92Ml8wX2RlY19yaW5nX2VtaXRfdm1fZmx1c2goc3RydWN0IGFtZGdwdV9y
aW5nICpyaW5nLAogCXZjbl92Ml8wX2RlY19yaW5nX2VtaXRfcmVnX3dhaXQocmluZywgZGF0YTAs
IGRhdGExLCBtYXNrKTsKIH0KIAotc3RhdGljIHZvaWQgdmNuX3YyXzBfZGVjX3JpbmdfZW1pdF93
cmVnKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywKLQkJCQkJdWludDMyX3QgcmVnLCB1aW50MzJf
dCB2YWwpCit2b2lkIHZjbl92Ml8wX2RlY19yaW5nX2VtaXRfd3JlZyhzdHJ1Y3QgYW1kZ3B1X3Jp
bmcgKnJpbmcsCisJCQkJdWludDMyX3QgcmVnLCB1aW50MzJfdCB2YWwpCiB7CiAJc3RydWN0IGFt
ZGdwdV9kZXZpY2UgKmFkZXYgPSByaW5nLT5hZGV2OwogCkBAIC0xNzI3LDggKzE3MjYsOCBAQCBz
dGF0aWMgdm9pZCB2Y25fdjJfMF9lbmNfcmluZ19zZXRfd3B0cihzdHJ1Y3QgYW1kZ3B1X3Jpbmcg
KnJpbmcpCiAgKgogICogV3JpdGUgZW5jIGEgZmVuY2UgYW5kIGEgdHJhcCBjb21tYW5kIHRvIHRo
ZSByaW5nLgogICovCi1zdGF0aWMgdm9pZCB2Y25fdjJfMF9lbmNfcmluZ19lbWl0X2ZlbmNlKHN0
cnVjdCBhbWRncHVfcmluZyAqcmluZywgdTY0IGFkZHIsCi0JCQl1NjQgc2VxLCB1bnNpZ25lZCBm
bGFncykKK3ZvaWQgdmNuX3YyXzBfZW5jX3JpbmdfZW1pdF9mZW5jZShzdHJ1Y3QgYW1kZ3B1X3Jp
bmcgKnJpbmcsIHU2NCBhZGRyLAorCQkJCXU2NCBzZXEsIHVuc2lnbmVkIGZsYWdzKQogewogCVdB
Uk5fT04oZmxhZ3MgJiBBTURHUFVfRkVOQ0VfRkxBR182NEJJVCk7CiAKQEAgLTE3MzksNyArMTcz
OCw3IEBAIHN0YXRpYyB2b2lkIHZjbl92Ml8wX2VuY19yaW5nX2VtaXRfZmVuY2Uoc3RydWN0IGFt
ZGdwdV9yaW5nICpyaW5nLCB1NjQgYWRkciwKIAlhbWRncHVfcmluZ193cml0ZShyaW5nLCBWQ05f
RU5DX0NNRF9UUkFQKTsKIH0KIAotc3RhdGljIHZvaWQgdmNuX3YyXzBfZW5jX3JpbmdfaW5zZXJ0
X2VuZChzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcpCit2b2lkIHZjbl92Ml8wX2VuY19yaW5nX2lu
c2VydF9lbmQoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nKQogewogCWFtZGdwdV9yaW5nX3dyaXRl
KHJpbmcsIFZDTl9FTkNfQ01EX0VORCk7CiB9CkBAIC0xNzUyLDEwICsxNzUxLDEwIEBAIHN0YXRp
YyB2b2lkIHZjbl92Ml8wX2VuY19yaW5nX2luc2VydF9lbmQoc3RydWN0IGFtZGdwdV9yaW5nICpy
aW5nKQogICoKICAqIFdyaXRlIGVuYyByaW5nIGNvbW1hbmRzIHRvIGV4ZWN1dGUgdGhlIGluZGly
ZWN0IGJ1ZmZlcgogICovCi1zdGF0aWMgdm9pZCB2Y25fdjJfMF9lbmNfcmluZ19lbWl0X2liKHN0
cnVjdCBhbWRncHVfcmluZyAqcmluZywKLQkJCQkgICAgICBzdHJ1Y3QgYW1kZ3B1X2pvYiAqam9i
LAotCQkJCSAgICAgIHN0cnVjdCBhbWRncHVfaWIgKmliLAotCQkJCSAgICAgIHVpbnQzMl90IGZs
YWdzKQordm9pZCB2Y25fdjJfMF9lbmNfcmluZ19lbWl0X2liKHN0cnVjdCBhbWRncHVfcmluZyAq
cmluZywKKwkJCSAgICAgICBzdHJ1Y3QgYW1kZ3B1X2pvYiAqam9iLAorCQkJICAgICAgIHN0cnVj
dCBhbWRncHVfaWIgKmliLAorCQkJICAgICAgIHVpbnQzMl90IGZsYWdzKQogewogCXVuc2lnbmVk
IHZtaWQgPSBBTURHUFVfSk9CX0dFVF9WTUlEKGpvYik7CiAKQEAgLTE3NjYsOSArMTc2NSw4IEBA
IHN0YXRpYyB2b2lkIHZjbl92Ml8wX2VuY19yaW5nX2VtaXRfaWIoc3RydWN0IGFtZGdwdV9yaW5n
ICpyaW5nLAogCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIGliLT5sZW5ndGhfZHcpOwogfQogCi1z
dGF0aWMgdm9pZCB2Y25fdjJfMF9lbmNfcmluZ19lbWl0X3JlZ193YWl0KHN0cnVjdCBhbWRncHVf
cmluZyAqcmluZywKLQkJCQkJICAgIHVpbnQzMl90IHJlZywgdWludDMyX3QgdmFsLAotCQkJCQkg
ICAgdWludDMyX3QgbWFzaykKK3ZvaWQgdmNuX3YyXzBfZW5jX3JpbmdfZW1pdF9yZWdfd2FpdChz
dHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsIHVpbnQzMl90IHJlZywKKwkJCQl1aW50MzJfdCB2YWws
IHVpbnQzMl90IG1hc2spCiB7CiAJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgVkNOX0VOQ19DTURf
UkVHX1dBSVQpOwogCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIHJlZyA8PCAyKTsKQEAgLTE3NzYs
OCArMTc3NCw4IEBAIHN0YXRpYyB2b2lkIHZjbl92Ml8wX2VuY19yaW5nX2VtaXRfcmVnX3dhaXQo
c3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLAogCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIHZhbCk7
CiB9CiAKLXN0YXRpYyB2b2lkIHZjbl92Ml8wX2VuY19yaW5nX2VtaXRfdm1fZmx1c2goc3RydWN0
IGFtZGdwdV9yaW5nICpyaW5nLAotCQkJCQkgICAgdW5zaWduZWQgaW50IHZtaWQsIHVpbnQ2NF90
IHBkX2FkZHIpCit2b2lkIHZjbl92Ml8wX2VuY19yaW5nX2VtaXRfdm1fZmx1c2goc3RydWN0IGFt
ZGdwdV9yaW5nICpyaW5nLAorCQkJCXVuc2lnbmVkIGludCB2bWlkLCB1aW50NjRfdCBwZF9hZGRy
KQogewogCXN0cnVjdCBhbWRncHVfdm1odWIgKmh1YiA9ICZyaW5nLT5hZGV2LT52bWh1YltyaW5n
LT5mdW5jcy0+dm1odWJdOwogCkBAIC0xNzg4LDggKzE3ODYsNyBAQCBzdGF0aWMgdm9pZCB2Y25f
djJfMF9lbmNfcmluZ19lbWl0X3ZtX2ZsdXNoKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywKIAkJ
CQkJbG93ZXJfMzJfYml0cyhwZF9hZGRyKSwgMHhmZmZmZmZmZik7CiB9CiAKLXN0YXRpYyB2b2lk
IHZjbl92Ml8wX2VuY19yaW5nX2VtaXRfd3JlZyhzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsCi0J
CQkJCXVpbnQzMl90IHJlZywgdWludDMyX3QgdmFsKQordm9pZCB2Y25fdjJfMF9lbmNfcmluZ19l
bWl0X3dyZWcoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLCB1aW50MzJfdCByZWcsIHVpbnQzMl90
IHZhbCkKIHsKIAlhbWRncHVfcmluZ193cml0ZShyaW5nLCBWQ05fRU5DX0NNRF9SRUdfV1JJVEUp
OwogCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsCXJlZyA8PCAyKTsKQEAgLTE4NTMsNyArMTg1MCw3
IEBAIHN0YXRpYyB2b2lkIHZjbl92Ml8wX2pwZWdfcmluZ19zZXRfd3B0cihzdHJ1Y3QgYW1kZ3B1
X3JpbmcgKnJpbmcpCiAgKgogICogV3JpdGUgYSBzdGFydCBjb21tYW5kIHRvIHRoZSByaW5nLgog
ICovCi1zdGF0aWMgdm9pZCB2Y25fdjJfMF9qcGVnX3JpbmdfaW5zZXJ0X3N0YXJ0KHN0cnVjdCBh
bWRncHVfcmluZyAqcmluZykKK3ZvaWQgdmNuX3YyXzBfanBlZ19yaW5nX2luc2VydF9zdGFydChz
dHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcpCiB7CiAJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgUEFD
S0VUSihtbVVWRF9KUkJDX0VYVEVSTkFMX1JFR19JTlRFUk5BTF9PRkZTRVQsCiAJCTAsIDAsIFBB
Q0tFVEpfVFlQRTApKTsKQEAgLTE4NzEsNyArMTg2OCw3IEBAIHN0YXRpYyB2b2lkIHZjbl92Ml8w
X2pwZWdfcmluZ19pbnNlcnRfc3RhcnQoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nKQogICoKICAq
IFdyaXRlIGEgZW5kIGNvbW1hbmQgdG8gdGhlIHJpbmcuCiAgKi8KLXN0YXRpYyB2b2lkIHZjbl92
Ml8wX2pwZWdfcmluZ19pbnNlcnRfZW5kKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZykKK3ZvaWQg
dmNuX3YyXzBfanBlZ19yaW5nX2luc2VydF9lbmQoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nKQog
ewogCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIFBBQ0tFVEoobW1VVkRfSlJCQ19FWFRFUk5BTF9S
RUdfSU5URVJOQUxfT0ZGU0VULAogCQkwLCAwLCBQQUNLRVRKX1RZUEUwKSk7CkBAIC0xODkwLDgg
KzE4ODcsOCBAQCBzdGF0aWMgdm9pZCB2Y25fdjJfMF9qcGVnX3JpbmdfaW5zZXJ0X2VuZChzdHJ1
Y3QgYW1kZ3B1X3JpbmcgKnJpbmcpCiAgKgogICogV3JpdGUgYSBmZW5jZSBhbmQgYSB0cmFwIGNv
bW1hbmQgdG8gdGhlIHJpbmcuCiAgKi8KLXN0YXRpYyB2b2lkIHZjbl92Ml8wX2pwZWdfcmluZ19l
bWl0X2ZlbmNlKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywgdTY0IGFkZHIsIHU2NCBzZXEsCi0J
CQkJICAgICB1bnNpZ25lZCBmbGFncykKK3ZvaWQgdmNuX3YyXzBfanBlZ19yaW5nX2VtaXRfZmVu
Y2Uoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLCB1NjQgYWRkciwgdTY0IHNlcSwKKwkJCQl1bnNp
Z25lZCBmbGFncykKIHsKIAlXQVJOX09OKGZsYWdzICYgQU1ER1BVX0ZFTkNFX0ZMQUdfNjRCSVQp
OwogCkBAIC0xOTM5LDEwICsxOTM2LDEwIEBAIHN0YXRpYyB2b2lkIHZjbl92Ml8wX2pwZWdfcmlu
Z19lbWl0X2ZlbmNlKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywgdTY0IGFkZHIsIHU2CiAgKgog
ICogV3JpdGUgcmluZyBjb21tYW5kcyB0byBleGVjdXRlIHRoZSBpbmRpcmVjdCBidWZmZXIuCiAg
Ki8KLXN0YXRpYyB2b2lkIHZjbl92Ml8wX2pwZWdfcmluZ19lbWl0X2liKHN0cnVjdCBhbWRncHVf
cmluZyAqcmluZywKLQkJCQkgICAgICAgc3RydWN0IGFtZGdwdV9qb2IgKmpvYiwKLQkJCQkgICAg
ICAgc3RydWN0IGFtZGdwdV9pYiAqaWIsCi0JCQkJICAgICAgIHVpbnQzMl90IGZsYWdzKQordm9p
ZCB2Y25fdjJfMF9qcGVnX3JpbmdfZW1pdF9pYihzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsCisJ
CQkJc3RydWN0IGFtZGdwdV9qb2IgKmpvYiwKKwkJCQlzdHJ1Y3QgYW1kZ3B1X2liICppYiwKKwkJ
CQl1aW50MzJfdCBmbGFncykKIHsKIAl1bnNpZ25lZCB2bWlkID0gQU1ER1BVX0pPQl9HRVRfVk1J
RChqb2IpOwogCkBAIC0xOTkwLDkgKzE5ODcsOCBAQCBzdGF0aWMgdm9pZCB2Y25fdjJfMF9qcGVn
X3JpbmdfZW1pdF9pYihzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsCiAJYW1kZ3B1X3Jpbmdfd3Jp
dGUocmluZywgMHgyKTsKIH0KIAotc3RhdGljIHZvaWQgdmNuX3YyXzBfanBlZ19yaW5nX2VtaXRf
cmVnX3dhaXQoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLAotCQkJCQkgICAgdWludDMyX3QgcmVn
LCB1aW50MzJfdCB2YWwsCi0JCQkJCSAgICB1aW50MzJfdCBtYXNrKQordm9pZCB2Y25fdjJfMF9q
cGVnX3JpbmdfZW1pdF9yZWdfd2FpdChzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsIHVpbnQzMl90
IHJlZywKKwkJCQl1aW50MzJfdCB2YWwsIHVpbnQzMl90IG1hc2spCiB7CiAJdWludDMyX3QgcmVn
X29mZnNldCA9IChyZWcgPDwgMik7CiAKQEAgLTIwMTgsOCArMjAxNCw4IEBAIHN0YXRpYyB2b2lk
IHZjbl92Ml8wX2pwZWdfcmluZ19lbWl0X3JlZ193YWl0KHN0cnVjdCBhbWRncHVfcmluZyAqcmlu
ZywKIAlhbWRncHVfcmluZ193cml0ZShyaW5nLCBtYXNrKTsKIH0KIAotc3RhdGljIHZvaWQgdmNu
X3YyXzBfanBlZ19yaW5nX2VtaXRfdm1fZmx1c2goc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLAot
CQl1bnNpZ25lZCB2bWlkLCB1aW50NjRfdCBwZF9hZGRyKQordm9pZCB2Y25fdjJfMF9qcGVnX3Jp
bmdfZW1pdF92bV9mbHVzaChzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsCisJCQkJdW5zaWduZWQg
dm1pZCwgdWludDY0X3QgcGRfYWRkcikKIHsKIAlzdHJ1Y3QgYW1kZ3B1X3ZtaHViICpodWIgPSAm
cmluZy0+YWRldi0+dm1odWJbcmluZy0+ZnVuY3MtPnZtaHViXTsKIAl1aW50MzJfdCBkYXRhMCwg
ZGF0YTEsIG1hc2s7CkBAIC0yMDMzLDggKzIwMjksNyBAQCBzdGF0aWMgdm9pZCB2Y25fdjJfMF9q
cGVnX3JpbmdfZW1pdF92bV9mbHVzaChzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsCiAJdmNuX3Yy
XzBfanBlZ19yaW5nX2VtaXRfcmVnX3dhaXQocmluZywgZGF0YTAsIGRhdGExLCBtYXNrKTsKIH0K
IAotc3RhdGljIHZvaWQgdmNuX3YyXzBfanBlZ19yaW5nX2VtaXRfd3JlZyhzdHJ1Y3QgYW1kZ3B1
X3JpbmcgKnJpbmcsCi0JCQkJCXVpbnQzMl90IHJlZywgdWludDMyX3QgdmFsKQordm9pZCB2Y25f
djJfMF9qcGVnX3JpbmdfZW1pdF93cmVnKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywgdWludDMy
X3QgcmVnLCB1aW50MzJfdCB2YWwpCiB7CiAJdWludDMyX3QgcmVnX29mZnNldCA9IChyZWcgPDwg
Mik7CiAKQEAgLTIwNTIsNyArMjA0Nyw3IEBAIHN0YXRpYyB2b2lkIHZjbl92Ml8wX2pwZWdfcmlu
Z19lbWl0X3dyZWcoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLAogCWFtZGdwdV9yaW5nX3dyaXRl
KHJpbmcsIHZhbCk7CiB9CiAKLXN0YXRpYyB2b2lkIHZjbl92Ml8wX2pwZWdfcmluZ19ub3Aoc3Ry
dWN0IGFtZGdwdV9yaW5nICpyaW5nLCB1aW50MzJfdCBjb3VudCkKK3ZvaWQgdmNuX3YyXzBfanBl
Z19yaW5nX25vcChzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsIHVpbnQzMl90IGNvdW50KQogewog
CWludCBpOwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92Y25fdjJf
MC5oIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdmNuX3YyXzAuaAppbmRleCBhNzQyMjdm
NDY2M2IuLjg0NjcyOTJmMzJlNSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvdmNuX3YyXzAuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92Y25fdjJfMC5o
CkBAIC0yNCw2ICsyNCw0NCBAQAogI2lmbmRlZiBfX1ZDTl9WMl8wX0hfXwogI2RlZmluZSBfX1ZD
Tl9WMl8wX0hfXwogCitleHRlcm4gdm9pZCB2Y25fdjJfMF9kZWNfcmluZ19pbnNlcnRfc3RhcnQo
c3RydWN0IGFtZGdwdV9yaW5nICpyaW5nKTsKK2V4dGVybiB2b2lkIHZjbl92Ml8wX2RlY19yaW5n
X2luc2VydF9lbmQoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nKTsKK2V4dGVybiB2b2lkIHZjbl92
Ml8wX2RlY19yaW5nX2luc2VydF9ub3Aoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLCB1aW50MzJf
dCBjb3VudCk7CitleHRlcm4gdm9pZCB2Y25fdjJfMF9kZWNfcmluZ19lbWl0X2ZlbmNlKHN0cnVj
dCBhbWRncHVfcmluZyAqcmluZywgdTY0IGFkZHIsIHU2NCBzZXEsCisJCQkJdW5zaWduZWQgZmxh
Z3MpOworZXh0ZXJuIHZvaWQgdmNuX3YyXzBfZGVjX3JpbmdfZW1pdF9pYihzdHJ1Y3QgYW1kZ3B1
X3JpbmcgKnJpbmcsIHN0cnVjdCBhbWRncHVfam9iICpqb2IsCisJCQkJc3RydWN0IGFtZGdwdV9p
YiAqaWIsIHVpbnQzMl90IGZsYWdzKTsKK2V4dGVybiB2b2lkIHZjbl92Ml8wX2RlY19yaW5nX2Vt
aXRfcmVnX3dhaXQoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLCB1aW50MzJfdCByZWcsCisJCQkJ
dWludDMyX3QgdmFsLCB1aW50MzJfdCBtYXNrKTsKK2V4dGVybiB2b2lkIHZjbl92Ml8wX2RlY19y
aW5nX2VtaXRfdm1fZmx1c2goc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLAorCQkJCXVuc2lnbmVk
IHZtaWQsIHVpbnQ2NF90IHBkX2FkZHIpOworZXh0ZXJuIHZvaWQgdmNuX3YyXzBfZGVjX3Jpbmdf
ZW1pdF93cmVnKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywKKwkJCQl1aW50MzJfdCByZWcsIHVp
bnQzMl90IHZhbCk7CisKK2V4dGVybiB2b2lkIHZjbl92Ml8wX2VuY19yaW5nX2luc2VydF9lbmQo
c3RydWN0IGFtZGdwdV9yaW5nICpyaW5nKTsKK2V4dGVybiB2b2lkIHZjbl92Ml8wX2VuY19yaW5n
X2VtaXRfZmVuY2Uoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLCB1NjQgYWRkciwKKwkJCQl1NjQg
c2VxLCB1bnNpZ25lZCBmbGFncyk7CitleHRlcm4gdm9pZCB2Y25fdjJfMF9lbmNfcmluZ19lbWl0
X2liKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywgc3RydWN0IGFtZGdwdV9qb2IgKmpvYiwKKwkJ
CQlzdHJ1Y3QgYW1kZ3B1X2liICppYiwgdWludDMyX3QgZmxhZ3MpOworZXh0ZXJuIHZvaWQgdmNu
X3YyXzBfZW5jX3JpbmdfZW1pdF9yZWdfd2FpdChzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsIHVp
bnQzMl90IHJlZywKKwkJCQl1aW50MzJfdCB2YWwsIHVpbnQzMl90IG1hc2spOworZXh0ZXJuIHZv
aWQgdmNuX3YyXzBfZW5jX3JpbmdfZW1pdF92bV9mbHVzaChzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJp
bmcsCisJCQkJdW5zaWduZWQgaW50IHZtaWQsIHVpbnQ2NF90IHBkX2FkZHIpOworZXh0ZXJuIHZv
aWQgdmNuX3YyXzBfZW5jX3JpbmdfZW1pdF93cmVnKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywg
dWludDMyX3QgcmVnLCB1aW50MzJfdCB2YWwpOworCitleHRlcm4gdm9pZCB2Y25fdjJfMF9qcGVn
X3JpbmdfaW5zZXJ0X3N0YXJ0KHN0cnVjdCBhbWRncHVfcmluZyAqcmluZyk7CitleHRlcm4gdm9p
ZCB2Y25fdjJfMF9qcGVnX3JpbmdfaW5zZXJ0X2VuZChzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcp
OworZXh0ZXJuIHZvaWQgdmNuX3YyXzBfanBlZ19yaW5nX2VtaXRfZmVuY2Uoc3RydWN0IGFtZGdw
dV9yaW5nICpyaW5nLCB1NjQgYWRkciwgdTY0IHNlcSwKKwkJCQl1bnNpZ25lZCBmbGFncyk7Citl
eHRlcm4gdm9pZCB2Y25fdjJfMF9qcGVnX3JpbmdfZW1pdF9pYihzdHJ1Y3QgYW1kZ3B1X3Jpbmcg
KnJpbmcsIHN0cnVjdCBhbWRncHVfam9iICpqb2IsCisJCQkJc3RydWN0IGFtZGdwdV9pYiAqaWIs
IHVpbnQzMl90IGZsYWdzKTsKK2V4dGVybiB2b2lkIHZjbl92Ml8wX2pwZWdfcmluZ19lbWl0X3Jl
Z193YWl0KHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywgdWludDMyX3QgcmVnLAorCQkJCXVpbnQz
Ml90IHZhbCwgdWludDMyX3QgbWFzayk7CitleHRlcm4gdm9pZCB2Y25fdjJfMF9qcGVnX3Jpbmdf
ZW1pdF92bV9mbHVzaChzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsCisJCQkJdW5zaWduZWQgdm1p
ZCwgdWludDY0X3QgcGRfYWRkcik7CitleHRlcm4gdm9pZCB2Y25fdjJfMF9qcGVnX3JpbmdfZW1p
dF93cmVnKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywgdWludDMyX3QgcmVnLCB1aW50MzJfdCB2
YWwpOworZXh0ZXJuIHZvaWQgdmNuX3YyXzBfanBlZ19yaW5nX25vcChzdHJ1Y3QgYW1kZ3B1X3Jp
bmcgKnJpbmcsIHVpbnQzMl90IGNvdW50KTsKKwogZXh0ZXJuIGNvbnN0IHN0cnVjdCBhbWRncHVf
aXBfYmxvY2tfdmVyc2lvbiB2Y25fdjJfMF9pcF9ibG9jazsKIAogI2VuZGlmIC8qIF9fVkNOX1Yy
XzBfSF9fICovCi0tIAoyLjIwLjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0
b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1k
LWdmeA==
