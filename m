Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 923F0926EC
	for <lists+amd-gfx@lfdr.de>; Mon, 19 Aug 2019 16:35:58 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id F1B036E15C;
	Mon, 19 Aug 2019 14:35:56 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM04-SN1-obe.outbound.protection.outlook.com
 (mail-eopbgr700043.outbound.protection.outlook.com [40.107.70.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id EADBB6E15C
 for <amd-gfx@lists.freedesktop.org>; Mon, 19 Aug 2019 14:35:55 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=ca/DbvWU2xwZ+T8nnqaZ8uMxGbnw5X/JHnShDZWRE5YDgo3jYWfrUMWjvxsRNVknMhiC5147eGDb/fWi9+Zq8XhFNMGYIAxtHV6VgzXDtsG66ezMQ/ffKTCo1JIeEEq9J16h3DsiESsSQ7TR2QLwKj6a2OVTcPgq5LGJbrLbw3WXy00boZ2ZJ7DjSj5Kcwq2zz+qJq7bwzTEafzujn3IIVy7rnaOqO1zD9hAuN4Y34WNJ1Pfs08WFknlUXXuJDqOWfZXHuSaUhMrLxiE5Bc9kdVMXp2GyZqdsoXGDGzRPFWYEvCBs4ryCRJo7j1JM/T0H9h94ePOn29tHqYzfdxTaA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=sp3Z/dazj0SAJaCm2RygsJk9k5uiskx7xiTsaYZtNz0=;
 b=HoDpFIByKPlOMOkNeFd8p8lriBvHbVYjZyTQDZfUJC2MaB8M8dRTRqs+biBNNUcvxvjkMPnxqDJy/iqnUPrXWG6VFkfR1RA0IqLURND2nnIND7SxqZ07S0FfemYC2lLoceyMO4PEuJ+JGiO/FVGCj+lVgIOEfwtE0PW7flu7e31qTqxpCeHgZCv+epG5JMV/rvBe4QZw6lkPDSYqZmE6Yg2gdqE/4x6yG4RdC9YfHDwetCZbzlVeqU3z6lX5plK+/pAZyEdTOVPxKJKOj5Kr6RjwCB7LpSQccUfj+YcH9FlHcBCJuHiHxtFeckUCrIpFmeO/Ej8ZRVIJtMcrAZA87g==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=none (sender ip is
 165.204.84.17) smtp.rcpttodomain=lists.freedesktop.org smtp.mailfrom=amd.com; 
 dmarc=permerror action=none header.from=amd.com; dkim=none (message not
 signed); arc=none
Received: from DM5PR12CA0005.namprd12.prod.outlook.com (2603:10b6:4:1::15) by
 DM5PR12MB1273.namprd12.prod.outlook.com (2603:10b6:3:76::10) with
 Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2178.18; Mon, 19 Aug 2019 14:35:53 +0000
Received: from BY2NAM03FT048.eop-NAM03.prod.protection.outlook.com
 (2a01:111:f400:7e4a::208) by DM5PR12CA0005.outlook.office365.com
 (2603:10b6:4:1::15) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384) id 15.20.2178.16 via Frontend
 Transport; Mon, 19 Aug 2019 14:35:53 +0000
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
Received: from SATLEXCHOV02.amd.com (165.204.84.17) by
 BY2NAM03FT048.mail.protection.outlook.com (10.152.85.64) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384) id
 15.20.2178.16 via Frontend Transport; Mon, 19 Aug 2019 14:35:52 +0000
Received: from blakha.amd.com (10.180.168.240) by SATLEXCHOV02.amd.com
 (10.181.40.72) with Microsoft SMTP Server id 14.3.389.1; Mon, 19 Aug 2019
 09:35:44 -0500
From: Bhawanpreet Lakha <Bhawanpreet.Lakha@amd.com>
To: <amd-gfx@lists.freedesktop.org>
Subject: [PATCH 16/36] drm/amd/display: Refactoring VTEM
Date: Mon, 19 Aug 2019 10:34:55 -0400
Message-ID: <20190819143515.21653-17-Bhawanpreet.Lakha@amd.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20190819143515.21653-1-Bhawanpreet.Lakha@amd.com>
References: <20190819143515.21653-1-Bhawanpreet.Lakha@amd.com>
MIME-Version: 1.0
X-EOPAttributedMessage: 0
X-MS-Office365-Filtering-HT: Tenant
X-Forefront-Antispam-Report: CIP:165.204.84.17; IPV:NLI; CTRY:US; EFV:NLI;
 SFV:NSPM;
 SFS:(10009020)(4636009)(376002)(346002)(396003)(136003)(39860400002)(2980300002)(428003)(199004)(189003)(70206006)(47776003)(86362001)(2906002)(305945005)(1076003)(5660300002)(30864003)(53416004)(2351001)(36756003)(16586007)(186003)(50466002)(48376002)(81156014)(76176011)(8676002)(81166006)(8936002)(478600001)(14444005)(50226002)(19627235002)(53936002)(126002)(2616005)(356004)(6666004)(446003)(476003)(11346002)(486006)(336012)(316002)(426003)(4326008)(6916009)(51416003)(26005)(7696005)(70586007);
 DIR:OUT; SFP:1101; SCL:1; SRVR:DM5PR12MB1273; H:SATLEXCHOV02.amd.com; FPR:;
 SPF:None; LANG:en; PTR:InfoDomainNonexistent; A:1; MX:1; 
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-Correlation-Id: 199b1107-6381-4ee4-13fe-08d724b289ae
X-Microsoft-Antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(2017052603328);
 SRVR:DM5PR12MB1273; 
X-MS-TrafficTypeDiagnostic: DM5PR12MB1273:
X-Microsoft-Antispam-PRVS: <DM5PR12MB1273F1FE9EECFE5D3F95BE1FF9A80@DM5PR12MB1273.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:10000;
X-Forefront-PRVS: 0134AD334F
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam-Message-Info: lao4GvmPXY0XFBT/h2BtGBpqhY7k6TmkzY4EtTd6eu0gRWKAu228qwwVt9eB7fwe9xmjjBV3Vt3ikUlLxZeLq2w1mjVeeFydKDCsQdflBecrXLPPERfZCtL0wD7PCYc7K42ommSROxG2jqCHYWe5DiWCT+/nYPv2wzGMrg9pWjtNamJH3yQ3oNsQzHNOzQfiS+ryTvngbF+zP9IL9PKtQPe7akxmlD96F8zQugz2qsBttMpTzvdt34BXCazy4iZChoN225Wr4KKcDSk2lFVTNlPvWb+2r+6oP7oFZiJb3tDM0lvukXsXhJph+nB7ONXFxmqPD6GAqt8/AyVLt+otoumj/EI8jaDHNCVgeY1fx4rUEEydwhgTlfbAUK7idj00J/LMoikc9hadvcOKXwqSVMIVq5fvKEmkqwgHtiaV2rg=
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 19 Aug 2019 14:35:52.7218 (UTC)
X-MS-Exchange-CrossTenant-Network-Message-Id: 199b1107-6381-4ee4-13fe-08d724b289ae
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-OriginalAttributedTenantConnectingIp: TenantId=3dd8961f-e488-4e60-8e11-a82d994e183d; Ip=[165.204.84.17];
 Helo=[SATLEXCHOV02.amd.com]
X-MS-Exchange-CrossTenant-FromEntityHeader: HybridOnPrem
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM5PR12MB1273
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=sp3Z/dazj0SAJaCm2RygsJk9k5uiskx7xiTsaYZtNz0=;
 b=euqIO9jtsmDCvSFubnUmsLGZMFIgebUfQe5O+IWEwlocevgqgCcgsPBie//EKKgxYAmZQSg8/VGg557myEtuGAE9+oPxjzt7iQcbvK55q2ey0WgzDpwWpqgm6iVenJ94GTM8p6193mdM9quEGYEAaZEt3wmf7u0DDvLlZV2doE8=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is
 165.204.84.17)
 smtp.mailfrom=amd.com; lists.freedesktop.org; dkim=none (message not signed)
 header.d=none;lists.freedesktop.org; dmarc=permerror action=none
 header.from=amd.com;
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Ahmad Othman <ahmad.othman@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogQWhtYWQgT3RobWFuIDxhaG1hZC5vdGhtYW5AYW1kLmNvbT4KCltXaHldClZpZGVvIFRp
bWluZyBFeHRlbmRlZCBNZXRhZGF0YSBwYWNrZXQgKFZURU0pIGlzIG5vdApzcGVjaWZpYyB0byBm
cmVlc3luYy4gU28gbW92ZSBpdCBvdXQgb2YgZnJlZXN5bmMgbW9kdWxlCgpbSG93XQotIE1vdmVk
IFZURU0gZnJvbSBmcmVlc3luYyBtb2R1bGUgdG8gaW5mb19wYWNrZXQgbW9kdWxlCi0gQ3JlYXRl
ZCBuZXcgc3RydWN0dXJlIGZvciBWVEVNIHBhcmFtZXRlcnMgdGhhdCBjYW4gYmUgdXNlZCBmb3Ig
VlJSCmFuZCBGVkEKClNpZ25lZC1vZmYtYnk6IEFobWFkIE90aG1hbiA8YWhtYWQub3RobWFuQGFt
ZC5jb20+ClJldmlld2VkLWJ5OiBDaHJpcyBQYXJrIDxDaHJpcy5QYXJrQGFtZC5jb20+CkFja2Vk
LWJ5OiBBaG1hZCBPdGhtYW4gPEFobWFkLk90aG1hbkBhbWQuY29tPgpBY2tlZC1ieTogQmhhd2Fu
cHJlZXQgTGFraGEgPEJoYXdhbnByZWV0Lkxha2hhQGFtZC5jb20+Ci0tLQogLi4uL2FtZC9kaXNw
bGF5L21vZHVsZXMvZnJlZXN5bmMvZnJlZXN5bmMuYyAgIHwgMjc2ICsrKystLS0tLS0tLS0tLS0t
LQogLi4uL2FtZC9kaXNwbGF5L21vZHVsZXMvaW5jL21vZF9mcmVlc3luYy5oICAgIHwgICAyICsK
IC4uLi9hbWQvZGlzcGxheS9tb2R1bGVzL2luYy9tb2RfaW5mb19wYWNrZXQuaCB8ICAgMiArLQog
Li4uL2Rpc3BsYXkvbW9kdWxlcy9pbmZvX3BhY2tldC9pbmZvX3BhY2tldC5jIHwgIDg4ICsrKysr
KwogNCBmaWxlcyBjaGFuZ2VkLCAxNDggaW5zZXJ0aW9ucygrKSwgMjIwIGRlbGV0aW9ucygtKQoK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9tb2R1bGVzL2ZyZWVzeW5j
L2ZyZWVzeW5jLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvbW9kdWxlcy9mcmVlc3lu
Yy9mcmVlc3luYy5jCmluZGV4IDAwMGE5ZGI5ZGFkOC4uMTA3ZDgxZWE2ODliIDEwMDY0NAotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvbW9kdWxlcy9mcmVlc3luYy9mcmVlc3luYy5j
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9tb2R1bGVzL2ZyZWVzeW5jL2ZyZWVz
eW5jLmMKQEAgLTUwLDkzICs1MCw2IEBAIHN0cnVjdCBjb3JlX2ZyZWVzeW5jIHsKIAlzdHJ1Y3Qg
ZGMgKmRjOwogfTsKIAotdm9pZCBzZXRGaWVsZFdpdGhNYXNrKHVuc2lnbmVkIGNoYXIgKmRlc3Qs
IHVuc2lnbmVkIGludCBtYXNrLCB1bnNpZ25lZCBpbnQgdmFsdWUpCi17Ci0JdW5zaWduZWQgaW50
IHNoaWZ0ID0gMDsKLQotCWlmICghbWFzayB8fCAhZGVzdCkKLQkJcmV0dXJuOwotCi0Jd2hpbGUg
KCEoKG1hc2sgPj4gc2hpZnQpICYgMSkpCi0JCXNoaWZ0Kys7Ci0KLQkvL3Jlc2V0Ci0JKmRlc3Qg
PSAqZGVzdCAmIH5tYXNrOwotCS8vc2V0Ci0JLy9kb250IGxldCB2YWx1ZSBzcGFuIHBhc3QgbWFz
awotCXZhbHVlID0gdmFsdWUgJiAobWFzayA+PiBzaGlmdCk7Ci0JLy9pbnNlcnQgdmFsdWUKLQkq
ZGVzdCA9ICpkZXN0IHwgKHZhbHVlIDw8IHNoaWZ0KTsKLX0KLQotLy8gVlRFTSBCeXRlIE9mZnNl
dAotI2RlZmluZSBWUlJfVlRFTV9QQjAJCTAKLSNkZWZpbmUgVlJSX1ZURU1fUEIxCQkxCi0jZGVm
aW5lIFZSUl9WVEVNX1BCMgkJMgotI2RlZmluZSBWUlJfVlRFTV9QQjMJCTMKLSNkZWZpbmUgVlJS
X1ZURU1fUEI0CQk0Ci0jZGVmaW5lIFZSUl9WVEVNX1BCNQkJNQotI2RlZmluZSBWUlJfVlRFTV9Q
QjYJCTYKLQotI2RlZmluZSBWUlJfVlRFTV9NRDAJCTcKLSNkZWZpbmUgVlJSX1ZURU1fTUQxCQk4
Ci0jZGVmaW5lIFZSUl9WVEVNX01EMgkJOQotI2RlZmluZSBWUlJfVlRFTV9NRDMJCTEwCi0KLQot
Ly8gVlRFTSBCeXRlIE1hc2tzCi0vL1BCMAotI2RlZmluZSBNQVNLX19WUlJfVlRFTV9QQjBfX1JF
U0VSVkVEMCAgMHgwMQotI2RlZmluZSBNQVNLX19WUlJfVlRFTV9QQjBfX1NZTkMgICAgICAgMHgw
MgotI2RlZmluZSBNQVNLX19WUlJfVlRFTV9QQjBfX1ZGUiAgICAgICAgMHgwNAotI2RlZmluZSBN
QVNLX19WUlJfVlRFTV9QQjBfX0FGUiAgICAgICAgMHgwOAotI2RlZmluZSBNQVNLX19WUlJfVlRF
TV9QQjBfX0RTX1RZUEUgICAgMHgzMAotCS8vMDogUGVyaW9kaWMgcHNldWRvLXN0YXRpYyBFTSBE
YXRhIFNldAotCS8vMTogUGVyaW9kaWMgZHluYW1pYyBFTSBEYXRhIFNldAotCS8vMjogVW5pcXVl
IEVNIERhdGEgU2V0Ci0JLy8zOiBSZXNlcnZlZAotI2RlZmluZSBNQVNLX19WUlJfVlRFTV9QQjBf
X0VORCAgICAgICAgMHg0MAotI2RlZmluZSBNQVNLX19WUlJfVlRFTV9QQjBfX05FVyAgICAgICAg
MHg4MAotCi0vL1BCMQotI2RlZmluZSBNQVNLX19WUlJfVlRFTV9QQjFfX1JFU0VSVkVEMSAweEZG
Ci0KLS8vUEIyCi0jZGVmaW5lIE1BU0tfX1ZSUl9WVEVNX1BCMl9fT1JHQU5JWkFUSU9OX0lEIDB4
RkYKLQkvLzA6IFRoaXMgaXMgYSBWZW5kb3IgU3BlY2lmaWMgRU0gRGF0YSBTZXQKLQkvLzE6IFRo
aXMgRU0gRGF0YSBTZXQgaXMgZGVmaW5lZCBieSBUaGlzIFNwZWNpZmljYXRpb24gKEhETUkgMi4x
IHIxMDIuY2xlYW4pCi0JLy8yOiBUaGlzIEVNIERhdGEgU2V0IGlzIGRlZmluZWQgYnkgQ1RBLTg2
MS1HCi0JLy8zOiBUaGlzIEVNIERhdGEgU2V0IGlzIGRlZmluZWQgYnkgVkVTQQotLy9QQjMKLSNk
ZWZpbmUgTUFTS19fVlJSX1ZURU1fUEIzX19EQVRBX1NFVF9UQUdfTVNCICAgIDB4RkYKLS8vUEI0
Ci0jZGVmaW5lIE1BU0tfX1ZSUl9WVEVNX1BCNF9fREFUQV9TRVRfVEFHX0xTQiAgICAweEZGCi0v
L1BCNQotI2RlZmluZSBNQVNLX19WUlJfVlRFTV9QQjVfX0RBVEFfU0VUX0xFTkdUSF9NU0IgMHhG
RgotLy9QQjYKLSNkZWZpbmUgTUFTS19fVlJSX1ZURU1fUEI2X19EQVRBX1NFVF9MRU5HVEhfTFNC
IDB4RkYKLQotCi0KLS8vUEI3LTI3ICgyMCBieXRlcyk6Ci0vL1BCNyA9IE1EMAotI2RlZmluZSBN
QVNLX19WUlJfVlRFTV9NRDBfX1ZSUl9FTiAgICAgICAgIDB4MDEKLSNkZWZpbmUgTUFTS19fVlJS
X1ZURU1fTUQwX19NX0NPTlNUICAgICAgICAweDAyCi0jZGVmaW5lIE1BU0tfX1ZSUl9WVEVNX01E
MF9fUkVTRVJWRUQyICAgICAgMHgwQwotI2RlZmluZSBNQVNLX19WUlJfVlRFTV9NRDBfX0ZWQV9G
QUNUT1JfTTEgIDB4RjAKLQotLy9NRDEKLSNkZWZpbmUgTUFTS19fVlJSX1ZURU1fTUQxX19CQVNF
X1ZGUk9OVCAgICAweEZGCi0KLS8vTUQyCi0jZGVmaW5lIE1BU0tfX1ZSUl9WVEVNX01EMl9fQkFT
RV9SRUZSRVNIX1JBVEVfOTggIDB4MDMKLSNkZWZpbmUgTUFTS19fVlJSX1ZURU1fTUQyX19SQiAg
ICAgICAgICAgICAgICAgICAgMHgwNAotI2RlZmluZSBNQVNLX19WUlJfVlRFTV9NRDJfX1JFU0VS
VkVEMyAgICAgICAgICAgICAweEY4Ci0KLS8vTUQzCi0jZGVmaW5lIE1BU0tfX1ZSUl9WVEVNX01E
M19fQkFTRV9SRUZSRVNIX1JBVEVfMDcgIDB4RkYKLQotCiAjZGVmaW5lIE1PRF9GUkVFU1lOQ19U
T19DT1JFKG1vZF9mcmVlc3luYylcCiAJCWNvbnRhaW5lcl9vZihtb2RfZnJlZXN5bmMsIHN0cnVj
dCBjb3JlX2ZyZWVzeW5jLCBwdWJsaWMpCiAKQEAgLTU3MiwyMiArNDg1LDY0IEBAIGJvb2wgbW9k
X2ZyZWVzeW5jX2dldF92X3Bvc2l0aW9uKHN0cnVjdCBtb2RfZnJlZXN5bmMgKm1vZF9mcmVlc3lu
YywKIAlyZXR1cm4gZmFsc2U7CiB9CiAKLXN0YXRpYyB2b2lkIGJ1aWxkX3Zycl9pbmZvcGFja2V0
X2hlYWRlcl92dGVtKGVudW0gc2lnbmFsX3R5cGUgc2lnbmFsLAorc3RhdGljIHZvaWQgYnVpbGRf
dnJyX2luZm9wYWNrZXRfZGF0YShjb25zdCBzdHJ1Y3QgbW9kX3Zycl9wYXJhbXMgKnZyciwKIAkJ
c3RydWN0IGRjX2luZm9fcGFja2V0ICppbmZvcGFja2V0KQogewotCS8vIEhFQURFUgotCi0JLy8g
SEIwLCBIQjEsIEhCMiBpbmRpY2F0ZXMgUGFja2V0VHlwZSBWVEVNUGFja2V0Ci0JaW5mb3BhY2tl
dC0+aGIwID0gMHg3RjsKLQlpbmZvcGFja2V0LT5oYjEgPSAweEMwOwotCWluZm9wYWNrZXQtPmhi
MiA9IDB4MDA7IC8vc2VxdWVuY2VfaW5kZXgKLQotCXNldEZpZWxkV2l0aE1hc2soJmluZm9wYWNr
ZXQtPnNiW1ZSUl9WVEVNX1BCMF0sIE1BU0tfX1ZSUl9WVEVNX1BCMF9fVkZSLCAxKTsKLQlzZXRG
aWVsZFdpdGhNYXNrKCZpbmZvcGFja2V0LT5zYltWUlJfVlRFTV9QQjJdLCBNQVNLX19WUlJfVlRF
TV9QQjJfX09SR0FOSVpBVElPTl9JRCwgMSk7Ci0Jc2V0RmllbGRXaXRoTWFzaygmaW5mb3BhY2tl
dC0+c2JbVlJSX1ZURU1fUEIzXSwgTUFTS19fVlJSX1ZURU1fUEIzX19EQVRBX1NFVF9UQUdfTVNC
LCAwKTsKLQlzZXRGaWVsZFdpdGhNYXNrKCZpbmZvcGFja2V0LT5zYltWUlJfVlRFTV9QQjRdLCBN
QVNLX19WUlJfVlRFTV9QQjRfX0RBVEFfU0VUX1RBR19MU0IsIDEpOwotCXNldEZpZWxkV2l0aE1h
c2soJmluZm9wYWNrZXQtPnNiW1ZSUl9WVEVNX1BCNV0sIE1BU0tfX1ZSUl9WVEVNX1BCNV9fREFU
QV9TRVRfTEVOR1RIX01TQiwgMCk7Ci0Jc2V0RmllbGRXaXRoTWFzaygmaW5mb3BhY2tldC0+c2Jb
VlJSX1ZURU1fUEI2XSwgTUFTS19fVlJSX1ZURU1fUEI2X19EQVRBX1NFVF9MRU5HVEhfTFNCLCA0
KTsKKwkvKiBQQjEgPSAweDFBICgyNGJpdCBBTUQgSUVFRSBPVUkgKDB4MDAwMDFBKSAtIEJ5dGUg
MCkgKi8KKwlpbmZvcGFja2V0LT5zYlsxXSA9IDB4MUE7CisKKwkvKiBQQjIgPSAweDAwICgyNGJp
dCBBTUQgSUVFRSBPVUkgKDB4MDAwMDFBKSAtIEJ5dGUgMSkgKi8KKwlpbmZvcGFja2V0LT5zYlsy
XSA9IDB4MDA7CisKKwkvKiBQQjMgPSAweDAwICgyNGJpdCBBTUQgSUVFRSBPVUkgKDB4MDAwMDFB
KSAtIEJ5dGUgMikgKi8KKwlpbmZvcGFja2V0LT5zYlszXSA9IDB4MDA7CisKKwkvKiBQQjQgPSBS
ZXNlcnZlZCAqLworCisJLyogUEI1ID0gUmVzZXJ2ZWQgKi8KKworCS8qIFBCNiA9IFtCaXRzIDc6
MyA9IFJlc2VydmVkXSAqLworCisJLyogUEI2ID0gW0JpdCAwID0gRnJlZVN5bmMgU3VwcG9ydGVk
XSAqLworCWlmICh2cnItPnN0YXRlICE9IFZSUl9TVEFURV9VTlNVUFBPUlRFRCkKKwkJaW5mb3Bh
Y2tldC0+c2JbNl0gfD0gMHgwMTsKKworCS8qIFBCNiA9IFtCaXQgMSA9IEZyZWVTeW5jIEVuYWJs
ZWRdICovCisJaWYgKHZyci0+c3RhdGUgIT0gVlJSX1NUQVRFX0RJU0FCTEVEICYmCisJCQl2cnIt
PnN0YXRlICE9IFZSUl9TVEFURV9VTlNVUFBPUlRFRCkKKwkJaW5mb3BhY2tldC0+c2JbNl0gfD0g
MHgwMjsKKworCS8qIFBCNiA9IFtCaXQgMiA9IEZyZWVTeW5jIEFjdGl2ZV0gKi8KKwlpZiAodnJy
LT5zdGF0ZSA9PSBWUlJfU1RBVEVfQUNUSVZFX1ZBUklBQkxFIHx8CisJCQl2cnItPnN0YXRlID09
IFZSUl9TVEFURV9BQ1RJVkVfRklYRUQpCisJCWluZm9wYWNrZXQtPnNiWzZdIHw9IDB4MDQ7CisK
KwkvKiBQQjcgPSBGcmVlU3luYyBNaW5pbXVtIHJlZnJlc2ggcmF0ZSAoSHopICovCisJaW5mb3Bh
Y2tldC0+c2JbN10gPSAodW5zaWduZWQgY2hhcikodnJyLT5taW5fcmVmcmVzaF9pbl91aHogLyAx
MDAwMDAwKTsKKworCS8qIFBCOCA9IEZyZWVTeW5jIE1heGltdW0gcmVmcmVzaCByYXRlIChIeikK
KwkgKiBOb3RlOiBXZSBzaG91bGQgbmV2ZXIgZ28gYWJvdmUgdGhlIGZpZWxkIHJhdGUgb2YgdGhl
IG1vZGUgdGltaW5nIHNldC4KKwkgKi8KKwlpbmZvcGFja2V0LT5zYls4XSA9ICh1bnNpZ25lZCBj
aGFyKSh2cnItPm1heF9yZWZyZXNoX2luX3VoeiAvIDEwMDAwMDApOworCisKKwkvL0ZyZWVTeW5j
IEhEUgorCWluZm9wYWNrZXQtPnNiWzldID0gMDsKKwlpbmZvcGFja2V0LT5zYlsxMF0gPSAwOwor
fQorCitzdGF0aWMgdm9pZCBidWlsZF92cnJfaW5mb3BhY2tldF9mczJfZGF0YShlbnVtIGNvbG9y
X3RyYW5zZmVyX2Z1bmMgYXBwX3RmLAorCQlzdHJ1Y3QgZGNfaW5mb19wYWNrZXQgKmluZm9wYWNr
ZXQpCit7CisJaWYgKGFwcF90ZiAhPSBUUkFOU0ZFUl9GVU5DX1VOS05PV04pIHsKKwkJaW5mb3Bh
Y2tldC0+dmFsaWQgPSB0cnVlOworCisJCWluZm9wYWNrZXQtPnNiWzZdIHw9IDB4MDg7ICAvLyBQ
QjYgPSBbQml0IDMgPSBOYXRpdmUgQ29sb3IgQWN0aXZlXQorCisJCWlmIChhcHBfdGYgPT0gVFJB
TlNGRVJfRlVOQ19HQU1NQV8yMikgeworCQkJaW5mb3BhY2tldC0+c2JbOV0gfD0gMHgwNDsgIC8v
IFBCNiA9IFtCaXQgMiA9IEdhbW1hIDIuMiBFT1RGIEFjdGl2ZV0KKwkJfQorCX0KIH0KIAogc3Rh
dGljIHZvaWQgYnVpbGRfdnJyX2luZm9wYWNrZXRfaGVhZGVyX3YxKGVudW0gc2lnbmFsX3R5cGUg
c2lnbmFsLApAQCAtNjg4LDEwNSArNjQzLDYgQEAgc3RhdGljIHZvaWQgYnVpbGRfdnJyX2luZm9w
YWNrZXRfaGVhZGVyX3YyKGVudW0gc2lnbmFsX3R5cGUgc2lnbmFsLAogCX0KIH0KIAotc3RhdGlj
IHZvaWQgYnVpbGRfdnJyX3Z0ZW1faW5mb3BhY2tldF9kYXRhKGNvbnN0IHN0cnVjdCBkY19zdHJl
YW1fc3RhdGUgKnN0cmVhbSwKLQkJY29uc3Qgc3RydWN0IG1vZF92cnJfcGFyYW1zICp2cnIsCi0J
CXN0cnVjdCBkY19pbmZvX3BhY2tldCAqaW5mb3BhY2tldCkKLXsKLQl1bnNpZ25lZCBpbnQgZmll
bGRSYXRlSW5IejsKLQotCWlmICh2cnItPnN0YXRlID09IFZSUl9TVEFURV9BQ1RJVkVfVkFSSUFC
TEUgfHwKLQkJCQl2cnItPnN0YXRlID09IFZSUl9TVEFURV9BQ1RJVkVfRklYRUQpIHsKLQkJc2V0
RmllbGRXaXRoTWFzaygmaW5mb3BhY2tldC0+c2JbVlJSX1ZURU1fTUQwXSwgTUFTS19fVlJSX1ZU
RU1fTUQwX19WUlJfRU4sIDEpOwotCX0gZWxzZSB7Ci0JCXNldEZpZWxkV2l0aE1hc2soJmluZm9w
YWNrZXQtPnNiW1ZSUl9WVEVNX01EMF0sIE1BU0tfX1ZSUl9WVEVNX01EMF9fVlJSX0VOLCAwKTsK
LQl9Ci0KLQlpZiAoIXN0cmVhbS0+dGltaW5nLnZpYykgewotCQlzZXRGaWVsZFdpdGhNYXNrKCZp
bmZvcGFja2V0LT5zYltWUlJfVlRFTV9NRDFdLCBNQVNLX19WUlJfVlRFTV9NRDFfX0JBU0VfVkZS
T05ULAotCQkJCXN0cmVhbS0+dGltaW5nLnZfZnJvbnRfcG9yY2gpOwotCi0KLQkJLyogVE9ETzog
SW4gZGFsMiwgd2UgY2hlY2sgbW9kZSBmbGFncyBmb3IgYSByZWR1Y2VkIGJsYW5raW5nIHRpbWlu
Zy4KLQkJICogTmVlZCBhIHdheSB0byByZWxheSB0aGF0IGluZm9ybWF0aW9uIHRvIHRoaXMgZnVu
Y3Rpb24uCi0JCSAqIGlmKCJSZWR1Y2VkQmxhbmtpbmciKQotCQkgKiB7Ci0JCSAqICAgc2V0Rmll
bGRXaXRoTWFzaygmaW5mb3BhY2tldC0+c2JbVlJSX1ZURU1fTUQyXSwgTUFTS19fVlJSX1ZURU1f
TUQyX19SQiwgMTsKLQkJICogfQotCQkgKi8KLQotCQkvL1RPRE86IERBTDIgZG9lcyBGaXhQb2lu
dCBhbmQgcm91bmRpbmcuIEhlcmUgd2UgbWlnaHQgbmVlZCB0byBhY2NvdW50IGZvciB0aGF0Ci0J
CWZpZWxkUmF0ZUluSHogPSAoc3RyZWFtLT50aW1pbmcucGl4X2Nsa18xMDBoeiAqIDEwMCkvCi0J
CQkoc3RyZWFtLT50aW1pbmcuaF90b3RhbCAqIHN0cmVhbS0+dGltaW5nLnZfdG90YWwpOwotCi0J
CXNldEZpZWxkV2l0aE1hc2soJmluZm9wYWNrZXQtPnNiW1ZSUl9WVEVNX01EMl0sICBNQVNLX19W
UlJfVlRFTV9NRDJfX0JBU0VfUkVGUkVTSF9SQVRFXzk4LAotCQkJCWZpZWxkUmF0ZUluSHogPj4g
OCk7Ci0JCXNldEZpZWxkV2l0aE1hc2soJmluZm9wYWNrZXQtPnNiW1ZSUl9WVEVNX01EM10sIE1B
U0tfX1ZSUl9WVEVNX01EM19fQkFTRV9SRUZSRVNIX1JBVEVfMDcsCi0JCQkJZmllbGRSYXRlSW5I
eik7Ci0KLQl9Ci0JaW5mb3BhY2tldC0+dmFsaWQgPSB0cnVlOwotfQotCi1zdGF0aWMgdm9pZCBi
dWlsZF92cnJfaW5mb3BhY2tldF9kYXRhKGNvbnN0IHN0cnVjdCBtb2RfdnJyX3BhcmFtcyAqdnJy
LAotCQlzdHJ1Y3QgZGNfaW5mb19wYWNrZXQgKmluZm9wYWNrZXQpCi17Ci0JLyogUEIxID0gMHgx
QSAoMjRiaXQgQU1EIElFRUUgT1VJICgweDAwMDAxQSkgLSBCeXRlIDApICovCi0JaW5mb3BhY2tl
dC0+c2JbMV0gPSAweDFBOwotCi0JLyogUEIyID0gMHgwMCAoMjRiaXQgQU1EIElFRUUgT1VJICgw
eDAwMDAxQSkgLSBCeXRlIDEpICovCi0JaW5mb3BhY2tldC0+c2JbMl0gPSAweDAwOwotCi0JLyog
UEIzID0gMHgwMCAoMjRiaXQgQU1EIElFRUUgT1VJICgweDAwMDAxQSkgLSBCeXRlIDIpICovCi0J
aW5mb3BhY2tldC0+c2JbM10gPSAweDAwOwotCi0JLyogUEI0ID0gUmVzZXJ2ZWQgKi8KLQotCS8q
IFBCNSA9IFJlc2VydmVkICovCi0KLQkvKiBQQjYgPSBbQml0cyA3OjMgPSBSZXNlcnZlZF0gKi8K
LQotCS8qIFBCNiA9IFtCaXQgMCA9IEZyZWVTeW5jIFN1cHBvcnRlZF0gKi8KLQlpZiAodnJyLT5z
dGF0ZSAhPSBWUlJfU1RBVEVfVU5TVVBQT1JURUQpCi0JCWluZm9wYWNrZXQtPnNiWzZdIHw9IDB4
MDE7Ci0KLQkvKiBQQjYgPSBbQml0IDEgPSBGcmVlU3luYyBFbmFibGVkXSAqLwotCWlmICh2cnIt
PnN0YXRlICE9IFZSUl9TVEFURV9ESVNBQkxFRCAmJgotCQkJdnJyLT5zdGF0ZSAhPSBWUlJfU1RB
VEVfVU5TVVBQT1JURUQpCi0JCWluZm9wYWNrZXQtPnNiWzZdIHw9IDB4MDI7Ci0KLQkvKiBQQjYg
PSBbQml0IDIgPSBGcmVlU3luYyBBY3RpdmVdICovCi0JaWYgKHZyci0+c3RhdGUgPT0gVlJSX1NU
QVRFX0FDVElWRV9WQVJJQUJMRSB8fAotCQkJdnJyLT5zdGF0ZSA9PSBWUlJfU1RBVEVfQUNUSVZF
X0ZJWEVEKQotCQlpbmZvcGFja2V0LT5zYls2XSB8PSAweDA0OwotCi0JLyogUEI3ID0gRnJlZVN5
bmMgTWluaW11bSByZWZyZXNoIHJhdGUgKEh6KSAqLwotCWluZm9wYWNrZXQtPnNiWzddID0gKHVu
c2lnbmVkIGNoYXIpKHZyci0+bWluX3JlZnJlc2hfaW5fdWh6IC8gMTAwMDAwMCk7Ci0KLQkvKiBQ
QjggPSBGcmVlU3luYyBNYXhpbXVtIHJlZnJlc2ggcmF0ZSAoSHopCi0JICogTm90ZTogV2Ugc2hv
dWxkIG5ldmVyIGdvIGFib3ZlIHRoZSBmaWVsZCByYXRlIG9mIHRoZSBtb2RlIHRpbWluZyBzZXQu
Ci0JICovCi0JaW5mb3BhY2tldC0+c2JbOF0gPSAodW5zaWduZWQgY2hhcikodnJyLT5tYXhfcmVm
cmVzaF9pbl91aHogLyAxMDAwMDAwKTsKLQotCi0JLy9GcmVlU3luYyBIRFIKLQlpbmZvcGFja2V0
LT5zYls5XSA9IDA7Ci0JaW5mb3BhY2tldC0+c2JbMTBdID0gMDsKLX0KLQotc3RhdGljIHZvaWQg
YnVpbGRfdnJyX2luZm9wYWNrZXRfZnMyX2RhdGEoZW51bSBjb2xvcl90cmFuc2Zlcl9mdW5jIGFw
cF90ZiwKLQkJc3RydWN0IGRjX2luZm9fcGFja2V0ICppbmZvcGFja2V0KQotewotCWlmIChhcHBf
dGYgIT0gVFJBTlNGRVJfRlVOQ19VTktOT1dOKSB7Ci0JCWluZm9wYWNrZXQtPnZhbGlkID0gdHJ1
ZTsKLQotCQlpbmZvcGFja2V0LT5zYls2XSB8PSAweDA4OyAgLy8gUEI2ID0gW0JpdCAzID0gTmF0
aXZlIENvbG9yIEFjdGl2ZV0KLQotCQlpZiAoYXBwX3RmID09IFRSQU5TRkVSX0ZVTkNfR0FNTUFf
MjIpIHsKLQkJCWluZm9wYWNrZXQtPnNiWzldIHw9IDB4MDQ7ICAvLyBQQjYgPSBbQml0IDIgPSBH
YW1tYSAyLjIgRU9URiBBY3RpdmVdCi0JCX0KLQl9Ci19Ci0KIHN0YXRpYyB2b2lkIGJ1aWxkX3Zy
cl9pbmZvcGFja2V0X2NoZWNrc3VtKHVuc2lnbmVkIGludCAqcGF5bG9hZF9zaXplLAogCQlzdHJ1
Y3QgZGNfaW5mb19wYWNrZXQgKmluZm9wYWNrZXQpCiB7CkBAIC04MzksMjEgKzY5NSw2IEBAIHN0
YXRpYyB2b2lkIGJ1aWxkX3Zycl9pbmZvcGFja2V0X3YyKGVudW0gc2lnbmFsX3R5cGUgc2lnbmFs
LAogCWluZm9wYWNrZXQtPnZhbGlkID0gdHJ1ZTsKIH0KIAotc3RhdGljIHZvaWQgYnVpbGRfdnJy
X2luZm9wYWNrZXRfdnRlbShjb25zdCBzdHJ1Y3QgZGNfc3RyZWFtX3N0YXRlICpzdHJlYW0sCi0J
CWNvbnN0IHN0cnVjdCBtb2RfdnJyX3BhcmFtcyAqdnJyLAotCQlzdHJ1Y3QgZGNfaW5mb19wYWNr
ZXQgKmluZm9wYWNrZXQpCi17Ci0JLy9WVEVNIGluZm8gcGFja2V0IGZvciBIZG1pVnJyCi0KLQlt
ZW1zZXQoaW5mb3BhY2tldCwgMCwgc2l6ZW9mKHN0cnVjdCBkY19pbmZvX3BhY2tldCkpOwotCi0J
Ly9WVEVNIFBhY2tldCBpcyBzdHJ1Y3R1cmVkIGRpZmZlcmVudGx5Ci0JYnVpbGRfdnJyX2luZm9w
YWNrZXRfaGVhZGVyX3Z0ZW0oc3RyZWFtLT5zaWduYWwsIGluZm9wYWNrZXQpOwotCWJ1aWxkX3Zy
cl92dGVtX2luZm9wYWNrZXRfZGF0YShzdHJlYW0sIHZyciwgaW5mb3BhY2tldCk7Ci0KLQlpbmZv
cGFja2V0LT52YWxpZCA9IHRydWU7Ci19Ci0KIHZvaWQgbW9kX2ZyZWVzeW5jX2J1aWxkX3Zycl9p
bmZvcGFja2V0KHN0cnVjdCBtb2RfZnJlZXN5bmMgKm1vZF9mcmVlc3luYywKIAkJY29uc3Qgc3Ry
dWN0IGRjX3N0cmVhbV9zdGF0ZSAqc3RyZWFtLAogCQljb25zdCBzdHJ1Y3QgbW9kX3Zycl9wYXJh
bXMgKnZyciwKQEAgLTg2NiwxNiArNzA3LDEzIEBAIHZvaWQgbW9kX2ZyZWVzeW5jX2J1aWxkX3Zy
cl9pbmZvcGFja2V0KHN0cnVjdCBtb2RfZnJlZXN5bmMgKm1vZF9mcmVlc3luYywKIAkgKiBDaGVj
ayBpZiBGcmVlc3luYyBpcyBzdXBwb3J0ZWQuIFJldHVybiBpZiBmYWxzZS4gSWYgdHJ1ZSwKIAkg
KiBzZXQgdGhlIGNvcnJlc3BvbmRpbmcgYml0IGluIHRoZSBpbmZvIHBhY2tldAogCSAqLwotCWlm
ICghdnJyLT5zdXBwb3J0ZWQgfHwgKCF2cnItPnNlbmRfaW5mb19mcmFtZSAmJiBwYWNrZXRfdHlw
ZSAhPSBQQUNLRVRfVFlQRV9WVEVNKSkKKwlpZiAoIXZyci0+c3VwcG9ydGVkIHx8ICghdnJyLT5z
ZW5kX2luZm9fZnJhbWUpKQogCQlyZXR1cm47CiAKIAlzd2l0Y2ggKHBhY2tldF90eXBlKSB7CiAJ
Y2FzZSBQQUNLRVRfVFlQRV9GUzI6CiAJCWJ1aWxkX3Zycl9pbmZvcGFja2V0X3YyKHN0cmVhbS0+
c2lnbmFsLCB2cnIsIGFwcF90ZiwgaW5mb3BhY2tldCk7CiAJCWJyZWFrOwotCWNhc2UgUEFDS0VU
X1RZUEVfVlRFTToKLQkJYnVpbGRfdnJyX2luZm9wYWNrZXRfdnRlbShzdHJlYW0sIHZyciwgaW5m
b3BhY2tldCk7Ci0JCWJyZWFrOwogCWNhc2UgUEFDS0VUX1RZUEVfVlJSOgogCWNhc2UgUEFDS0VU
X1RZUEVfRlMxOgogCWRlZmF1bHQ6CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rp
c3BsYXkvbW9kdWxlcy9pbmMvbW9kX2ZyZWVzeW5jLmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rp
c3BsYXkvbW9kdWxlcy9pbmMvbW9kX2ZyZWVzeW5jLmgKaW5kZXggZGNlZjg1OTk0YzQ1Li5kYzE4
Nzg0NGQxMGIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9tb2R1bGVz
L2luYy9tb2RfZnJlZXN5bmMuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvbW9k
dWxlcy9pbmMvbW9kX2ZyZWVzeW5jLmgKQEAgLTE3Myw0ICsxNzMsNiBAQCBib29sIG1vZF9mcmVl
c3luY19pc192YWxpZF9yYW5nZShzdHJ1Y3QgbW9kX2ZyZWVzeW5jICptb2RfZnJlZXN5bmMsCiAJ
CXVpbnQzMl90IG1pbl9yZWZyZXNoX3JlcXVlc3RfaW5fdWh6LAogCQl1aW50MzJfdCBtYXhfcmVm
cmVzaF9yZXF1ZXN0X2luX3Voeik7CiAKKworCiAjZW5kaWYKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvZGlzcGxheS9tb2R1bGVzL2luYy9tb2RfaW5mb19wYWNrZXQuaCBiL2RyaXZl
cnMvZ3B1L2RybS9hbWQvZGlzcGxheS9tb2R1bGVzL2luYy9tb2RfaW5mb19wYWNrZXQuaAppbmRl
eCA1YjFjOWE0Yzc2NDMuLmQ5MzBiZGVjYjExNyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9kaXNwbGF5L21vZHVsZXMvaW5jL21vZF9pbmZvX3BhY2tldC5oCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvZGlzcGxheS9tb2R1bGVzL2luYy9tb2RfaW5mb19wYWNrZXQuaApAQCAtMjcs
MTAgKzI3LDEwIEBACiAjZGVmaW5lIE1PRF9JTkZPX1BBQ0tFVF9IXwogCiAjaW5jbHVkZSAibW9k
X3NoYXJlZC5oIgotCiAvL0ZvcndhcmQgRGVjbGFyYXRpb25zCiBzdHJ1Y3QgZGNfc3RyZWFtX3N0
YXRlOwogc3RydWN0IGRjX2luZm9fcGFja2V0Oworc3RydWN0IG1vZF92cnJfcGFyYW1zOwogCiB2
b2lkIG1vZF9idWlsZF92c2NfaW5mb3BhY2tldChjb25zdCBzdHJ1Y3QgZGNfc3RyZWFtX3N0YXRl
ICpzdHJlYW0sCiAJCXN0cnVjdCBkY19pbmZvX3BhY2tldCAqaW5mb19wYWNrZXQpOwpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L21vZHVsZXMvaW5mb19wYWNrZXQvaW5m
b19wYWNrZXQuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9tb2R1bGVzL2luZm9fcGFj
a2V0L2luZm9fcGFja2V0LmMKaW5kZXggYmMxM2M1NTI3OTdmLi41ZjRiOThkZjNkOTIgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9tb2R1bGVzL2luZm9fcGFja2V0L2lu
Zm9fcGFja2V0LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L21vZHVsZXMvaW5m
b19wYWNrZXQvaW5mb19wYWNrZXQuYwpAQCAtMjcsOSArMjcsNzggQEAKICNpbmNsdWRlICJjb3Jl
X3R5cGVzLmgiCiAjaW5jbHVkZSAiZGNfdHlwZXMuaCIKICNpbmNsdWRlICJtb2Rfc2hhcmVkLmgi
CisjaW5jbHVkZSAibW9kX2ZyZWVzeW5jLmgiCisjaW5jbHVkZSAiZGMuaCIKIAogI2RlZmluZSBI
RE1JX0lORk9GUkFNRV9UWVBFX1ZFTkRPUiAweDgxCiAKKy8vIFZURU0gQnl0ZSBPZmZzZXQKKyNk
ZWZpbmUgVlRFTV9QQjAJCTAKKyNkZWZpbmUgVlRFTV9QQjEJCTEKKyNkZWZpbmUgVlRFTV9QQjIJ
CTIKKyNkZWZpbmUgVlRFTV9QQjMJCTMKKyNkZWZpbmUgVlRFTV9QQjQJCTQKKyNkZWZpbmUgVlRF
TV9QQjUJCTUKKyNkZWZpbmUgVlRFTV9QQjYJCTYKKworI2RlZmluZSBWVEVNX01EMAkJNworI2Rl
ZmluZSBWVEVNX01EMQkJOAorI2RlZmluZSBWVEVNX01EMgkJOQorI2RlZmluZSBWVEVNX01EMwkJ
MTAKKworCisvLyBWVEVNIEJ5dGUgTWFza3MKKy8vUEIwCisjZGVmaW5lIE1BU0tfVlRFTV9QQjBf
X1JFU0VSVkVEMCAgMHgwMQorI2RlZmluZSBNQVNLX1ZURU1fUEIwX19TWU5DICAgICAgIDB4MDIK
KyNkZWZpbmUgTUFTS19WVEVNX1BCMF9fVkZSICAgICAgICAweDA0CisjZGVmaW5lIE1BU0tfVlRF
TV9QQjBfX0FGUiAgICAgICAgMHgwOAorI2RlZmluZSBNQVNLX1ZURU1fUEIwX19EU19UWVBFICAg
IDB4MzAKKwkvLzA6IFBlcmlvZGljIHBzZXVkby1zdGF0aWMgRU0gRGF0YSBTZXQKKwkvLzE6IFBl
cmlvZGljIGR5bmFtaWMgRU0gRGF0YSBTZXQKKwkvLzI6IFVuaXF1ZSBFTSBEYXRhIFNldAorCS8v
MzogUmVzZXJ2ZWQKKyNkZWZpbmUgTUFTS19WVEVNX1BCMF9fRU5EICAgICAgICAweDQwCisjZGVm
aW5lIE1BU0tfVlRFTV9QQjBfX05FVyAgICAgICAgMHg4MAorCisvL1BCMQorI2RlZmluZSBNQVNL
X1ZURU1fUEIxX19SRVNFUlZFRDEgMHhGRgorCisvL1BCMgorI2RlZmluZSBNQVNLX1ZURU1fUEIy
X19PUkdBTklaQVRJT05fSUQgMHhGRgorCS8vMDogVGhpcyBpcyBhIFZlbmRvciBTcGVjaWZpYyBF
TSBEYXRhIFNldAorCS8vMTogVGhpcyBFTSBEYXRhIFNldCBpcyBkZWZpbmVkIGJ5IFRoaXMgU3Bl
Y2lmaWNhdGlvbiAoSERNSSAyLjEgcjEwMi5jbGVhbikKKwkvLzI6IFRoaXMgRU0gRGF0YSBTZXQg
aXMgZGVmaW5lZCBieSBDVEEtODYxLUcKKwkvLzM6IFRoaXMgRU0gRGF0YSBTZXQgaXMgZGVmaW5l
ZCBieSBWRVNBCisvL1BCMworI2RlZmluZSBNQVNLX1ZURU1fUEIzX19EQVRBX1NFVF9UQUdfTVNC
ICAgIDB4RkYKKy8vUEI0CisjZGVmaW5lIE1BU0tfVlRFTV9QQjRfX0RBVEFfU0VUX1RBR19MU0Ig
ICAgMHhGRgorLy9QQjUKKyNkZWZpbmUgTUFTS19WVEVNX1BCNV9fREFUQV9TRVRfTEVOR1RIX01T
QiAweEZGCisvL1BCNgorI2RlZmluZSBNQVNLX1ZURU1fUEI2X19EQVRBX1NFVF9MRU5HVEhfTFNC
IDB4RkYKKworCisKKy8vUEI3LTI3ICgyMCBieXRlcyk6CisvL1BCNyA9IE1EMAorI2RlZmluZSBN
QVNLX1ZURU1fTUQwX19WUlJfRU4gICAgICAgICAweDAxCisjZGVmaW5lIE1BU0tfVlRFTV9NRDBf
X01fQ09OU1QgICAgICAgIDB4MDIKKyNkZWZpbmUgTUFTS19WVEVNX01EMF9fUkVTRVJWRUQyICAg
ICAgMHgwQworI2RlZmluZSBNQVNLX1ZURU1fTUQwX19GVkFfRkFDVE9SX00xICAweEYwCisKKy8v
TUQxCisjZGVmaW5lIE1BU0tfVlRFTV9NRDFfX0JBU0VfVkZST05UICAgIDB4RkYKKworLy9NRDIK
KyNkZWZpbmUgTUFTS19WVEVNX01EMl9fQkFTRV9SRUZSRVNIX1JBVEVfOTggIDB4MDMKKyNkZWZp
bmUgTUFTS19WVEVNX01EMl9fUkIgICAgICAgICAgICAgICAgICAgIDB4MDQKKyNkZWZpbmUgTUFT
S19WVEVNX01EMl9fUkVTRVJWRUQzICAgICAgICAgICAgIDB4RjgKKworLy9NRDMKKyNkZWZpbmUg
TUFTS19WVEVNX01EM19fQkFTRV9SRUZSRVNIX1JBVEVfMDcgIDB4RkYKKwogZW51bSBDb2xvcmlt
ZXRyeVJHQkRQIHsKIAlDb2xvcmltZXRyeVJHQl9EUF9zUkdCICAgICAgICAgICAgICAgPSAwLAog
CUNvbG9yaW1ldHJ5UkdCX0RQX0Fkb2JlUkdCICAgICAgICAgICA9IDMsCkBAIC00NSw2ICsxMTQs
MjUgQEAgZW51bSBDb2xvcmltZXRyeVlDQ0RQIHsKIAlDb2xvcmltZXRyeVlDQ19EUF9JVFUyMDIw
WUNiQ3IgID0gNywKIH07CiAKK3ZvaWQgc2V0RmllbGRXaXRoTWFzayh1bnNpZ25lZCBjaGFyICpk
ZXN0LCB1bnNpZ25lZCBpbnQgbWFzaywgdW5zaWduZWQgaW50IHZhbHVlKQoreworCXVuc2lnbmVk
IGludCBzaGlmdCA9IDA7CisKKwlpZiAoIW1hc2sgfHwgIWRlc3QpCisJCXJldHVybjsKKworCXdo
aWxlICghKChtYXNrID4+IHNoaWZ0KSAmIDEpKQorCQlzaGlmdCsrOworCisJLy9yZXNldAorCSpk
ZXN0ID0gKmRlc3QgJiB+bWFzazsKKwkvL3NldAorCS8vZG9udCBsZXQgdmFsdWUgc3BhbiBwYXN0
IG1hc2sKKwl2YWx1ZSA9IHZhbHVlICYgKG1hc2sgPj4gc2hpZnQpOworCS8vaW5zZXJ0IHZhbHVl
CisJKmRlc3QgPSAqZGVzdCB8ICh2YWx1ZSA8PCBzaGlmdCk7Cit9CisKIHZvaWQgbW9kX2J1aWxk
X3ZzY19pbmZvcGFja2V0KGNvbnN0IHN0cnVjdCBkY19zdHJlYW1fc3RhdGUgKnN0cmVhbSwKIAkJ
c3RydWN0IGRjX2luZm9fcGFja2V0ICppbmZvX3BhY2tldCkKIHsKLS0gCjIuMTcuMQoKX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5n
IGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVz
a3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4
