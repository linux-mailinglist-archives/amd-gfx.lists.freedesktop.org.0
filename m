Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 46D6937C005
	for <lists+amd-gfx@lfdr.de>; Wed, 12 May 2021 16:27:34 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B61BB6EC0C;
	Wed, 12 May 2021 14:27:30 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM11-DM6-obe.outbound.protection.outlook.com
 (mail-dm6nam11on2044.outbound.protection.outlook.com [40.107.223.44])
 by gabe.freedesktop.org (Postfix) with ESMTPS id BE95B6EC14;
 Wed, 12 May 2021 14:27:28 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=Jlohzi4jlJFCfQ+AbqnLz7TSTFLiT9vWHJoJWR59lWod+84YqXifufwXfvEgGQpy3zqAU1vaKcQ4U6H5W8aCf74b9c6tTbRZhtP/oMM16JA7b7CynijVc7oc0am+ZCufm/Ub2NDu5ovsdpDqTE6KL5VYZeEw8OrJXuGnqzfFz3gKqs17Lw9sBBTNERo7wRVtSLWgynF0JBayacOVwylX6e1fOPUYp22yvkgO47pbP5FgY9X0U9A5+P9SSh2OLQFcvXIDm50u6mmN0Z6qSJxQaC8h3aZpDC/VYsIhqCtT1L0r92RhKNScTXHogWw/PU6av9OQWHYTakuqvGDRXBYJNA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=+j+bM1q4z3pMJEkudykjSW5dJG+JuOaAr7e0M6/ckSw=;
 b=biGjpNvl7b82q+PwL9wI8EAepzxD3HsxeZfODkC2mE+0FKTOdqWv5Gh2ldi+ZZQ8vAsXVaRO5JZqyWMwA0lFPcaIv0alIq7y1DIqKAetjev88BlIiPaLsT6Op3755uHAz/3R2iV7jJr348cz3+JuVD2s/Fn4iorKAy0/zJOEZCvNRvhuxs65PA8J0BV49SFfhdXt246RlA8EWEwlhBS164x3jRCzkdWoawkxnSW5wXlV8ZLlJTWvhQM6lZjA3BGXZV24caAwp04dSgzrYeb0XDReGO6Dhwj3T8gJyXeK/1jOi/YN78e8S4d3Sm0vGnx2woIfTS21YR5DdTlHiyuR/g==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=amd.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=+j+bM1q4z3pMJEkudykjSW5dJG+JuOaAr7e0M6/ckSw=;
 b=ddjX09QaEOh1ra+Wyrm7sDzzGIWUBL4l2kZKVNMmrWjenI1ySrSTqeL7QJHR/lMS0XW7aJ7Vatspab4QN0Rg0uDLIC++eqgppd5iwjiCnpak4V12xjyRCSyi8LIZUhPvAkHDogDLGaWQYx4DbA/6jHe0QV62hy+0zv1/8f9zOxg=
Authentication-Results: lists.freedesktop.org; dkim=none (message not signed)
 header.d=none; lists.freedesktop.org;
 dmarc=none action=none header.from=amd.com;
Received: from SN6PR12MB4623.namprd12.prod.outlook.com (2603:10b6:805:e9::17)
 by SN6PR12MB2845.namprd12.prod.outlook.com (2603:10b6:805:75::33)
 with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.4129.25; Wed, 12 May
 2021 14:27:26 +0000
Received: from SN6PR12MB4623.namprd12.prod.outlook.com
 ([fe80::ad51:8c49:b171:856c]) by SN6PR12MB4623.namprd12.prod.outlook.com
 ([fe80::ad51:8c49:b171:856c%7]) with mapi id 15.20.4129.026; Wed, 12 May 2021
 14:27:26 +0000
From: Andrey Grodzovsky <andrey.grodzovsky@amd.com>
To: dri-devel@lists.freedesktop.org, amd-gfx@lists.freedesktop.org,
 linux-pci@vger.kernel.org, ckoenig.leichtzumerken@gmail.com,
 daniel.vetter@ffwll.ch, Harry.Wentland@amd.com
Subject: [PATCH v7 08/16] drm/amdgpu: Convert driver sysfs attributes to
 static attributes
Date: Wed, 12 May 2021 10:26:40 -0400
Message-Id: <20210512142648.666476-9-andrey.grodzovsky@amd.com>
X-Mailer: git-send-email 2.25.1
In-Reply-To: <20210512142648.666476-1-andrey.grodzovsky@amd.com>
References: <20210512142648.666476-1-andrey.grodzovsky@amd.com>
X-Originating-IP: [2607:fea8:3edf:49b0:7576:4f76:97d8:1487]
X-ClientProxiedBy: YTOPR0101CA0032.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:b00:15::45) To SN6PR12MB4623.namprd12.prod.outlook.com
 (2603:10b6:805:e9::17)
MIME-Version: 1.0
X-MS-Exchange-MessageSentRepresentingType: 1
Received: from agrodzovsky-All-Series.hitronhub.home
 (2607:fea8:3edf:49b0:7576:4f76:97d8:1487) by
 YTOPR0101CA0032.CANPRD01.PROD.OUTLOOK.COM (2603:10b6:b00:15::45) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.4108.30 via Frontend
 Transport; Wed, 12 May 2021 14:27:25 +0000
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-Correlation-Id: 6e3753d6-d2bd-40ed-d4b9-08d9155210f5
X-MS-TrafficTypeDiagnostic: SN6PR12MB2845:
X-MS-Exchange-Transport-Forked: True
X-Microsoft-Antispam-PRVS: <SN6PR12MB28456AF5162A7817BB97C6C0EA529@SN6PR12MB2845.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:6108;
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: NuHBhvPgseDyf/4H1ld5FZxFb7YL93e4NSR0VdOVJIvO4ZNcyQpXfBlfY4KC6V8e5z6OOaEp817+jghKDylxUrFxOyf7Ayjzl8hUZ32AkkXLVbBMKh+MvMEIxBI/epyIYkHVssBUJS65xBvpGVL9QhARV99WFhtWvXg4E4ATxKJXa6M47+l5P0fDfuLTUzfUZlxXAhrW5Yb5+UuWxT62NdTt5nElgRQlL1z/jGAhZqbHX8RGPamG6CeFVAC+b6HmeMZK8PAa/nfghMGGNGUFeqwjqWou3w1VfLhPzCFlurkg9V7WMnAhjqw0rIVg+nK3Ky0mjZL6nlg4Jw2sAfbIEGrHSZ3uFYt7dxagjViMcWQi7stWCXE4XnafDW6JrBhTU5/3RnCrjR2M/VY27S62/Px97+90CjeU68tyebjU1929JojzKLnpJWhedwANLHOd9UvYj8c84ncAhrh5sNkAfZ2DGTckHMvrhLrV5almfZmTyW6d+Sv8w62pY5chlEgQlzKZ59/LbzZa06+jSb7WzgQUQmKjn4Lw8GtgsowegP/uHZv94wyyGWxcFAzjyTFklAIjFt6w3pTbtjtrGLHBWzAe73sb0+uvvrlVRJj0TcE=
X-Forefront-Antispam-Report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:SN6PR12MB4623.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(4636009)(376002)(39860400002)(396003)(346002)(136003)(366004)(6486002)(8676002)(54906003)(316002)(6512007)(16526019)(6636002)(478600001)(1076003)(186003)(4326008)(44832011)(2906002)(6506007)(8936002)(5660300002)(2616005)(38100700002)(66574015)(36756003)(86362001)(6666004)(66476007)(66946007)(66556008)(83380400001)(52116002);
 DIR:OUT; SFP:1101; 
X-MS-Exchange-AntiSpam-MessageData: =?utf-8?B?ZVRDMFF2RDR2U3JMNHQwUWtNZi9OcXZWcnozOThuNjJGTER4MUwrQkMrSks2?=
 =?utf-8?B?UENzZDF6T2dDbGdOOEpJOWVseUJ4cVpncU5vM2cyOHpuQ3piczlqL1A0SmNW?=
 =?utf-8?B?K3psY2JJQVRrOURhTmNINE1PMHRKU3VldlYzUjFib25ZMkF5dm91anJ6VW9M?=
 =?utf-8?B?MjVFUUk1VmxlM1JJVnQ1UW45ck10ekpzSytlVm1EQ29TSnRCVG1IbFY4Z2Jx?=
 =?utf-8?B?bFZtRHhlUWowOUh3UlFkWnNaamQ5YXp6TXp3cFZXQmt5UE5TdmN3RS9WU21v?=
 =?utf-8?B?NmY5NEQwRXByMk5ZdkZJQVFISVJ4ZTBQTHlKRmx1a1NKNmtneGE4S3hyTlZP?=
 =?utf-8?B?K0hkTzRxakJ2eWxiQ1prd09hdFB1NzdVbXhLUEttMC9FRDlVUStRcGdhOURJ?=
 =?utf-8?B?RU5kWVRscDhRVG0vVGdweEdNUmUvZ2ZBcVNhdEI3VW5RWUt2TlpxZXRGaUZr?=
 =?utf-8?B?SDBYMVNQZVFzd04wTDdwNTVRTGRDbDh2MzJKK1ZDVU42dm8xek1YSlNYeEs2?=
 =?utf-8?B?K2wvMnk3Q25hWUl4ajNzcjhJVWNYYlF3V1R3eDIrSGdDMDdUZHhiRm95NXMw?=
 =?utf-8?B?NjFKYUxXanFiOFU5Mlp5WVVCd0VjK0ZnZXM2T3A0YzA2N0I4U2dydFRtcU00?=
 =?utf-8?B?RkJBSllBNG1DRmNlb2Fxd2pyWGtqL0dWM1Q2UXRYbGVZMDZ1M0luTFRQbmtH?=
 =?utf-8?B?di93YU9UQ0lOQnNmNHY4K2U0RGRqOU9BL2o1QU9JZU9VNHZTREV1QThVenFG?=
 =?utf-8?B?YksxSWY1N3lFU2Q3ZXh6WW13VzdFSmcrUThST3UvWmhYYmxONVQvcEE4TlF5?=
 =?utf-8?B?ZWdHVkJuYU14NjczV2Vhd3hBT3l1QlhqcnVodzNJSkROZXc3LzJQNE9xNFVN?=
 =?utf-8?B?UVpzQVIxUnlWb1F3QTFvWW5UVTl4bkVnQUlROW1KL2ZVVWF0c3hYR3NLbzJ1?=
 =?utf-8?B?WFlZVmJjSnF0SUZoOVVoUUpkODFEZVQyZ05PZXRaUG54NHY5MW9WYTl6MDlp?=
 =?utf-8?B?WnVtb244TXU2RFpDaWxsVnVkWExBTDlwbUljWUlsQVMrWXBLd2dBc0R3TlQw?=
 =?utf-8?B?Y0JNbHdNYWdMRHk1ZjQwayt0WmdGSlJnYXFUUks4Y244ZzJyTDFTNy9LejF0?=
 =?utf-8?B?RUNacmZWZk1JbXhVUFBwLytWU0lrMlhhWi9OMUNKeFNYcW1IekFQcytLWUpO?=
 =?utf-8?B?cVA3ejVvY0k3T0lsbVNCWGVQcC9FWnhVeE5nTzg5SG9KQUZWWm93eTU4VmVE?=
 =?utf-8?B?SktSMmpEN0owOUVRL1kwL2ZlaVdlNjVyb20wa0VUODhOOEdWYUsvbGQxQWky?=
 =?utf-8?B?dk5YR3JtelBJN09BcWkzd1NZdGR1TjdOSXEwVFBwSGljeVJRR1cxV2RFQlEr?=
 =?utf-8?B?cWNRQUJZNGhha0g4RSttQnMxdzgvMUw4aWpxZVdwN21pQWg5SnA3ejVpWkJD?=
 =?utf-8?B?QSszSEMwL1VzdWtjczUvSmp4NWRHUzR1NDBQUjIvUTVWOWFMQVRDMEoyMTNq?=
 =?utf-8?B?WklWTUhHRjBQZWFZZUZUcDhtZjBSZ3VKQ2NEN2hXVWpxeGhNaWhyRHkzcWVE?=
 =?utf-8?B?ZDRKNEVwamVvd1dMU2ZnV25YSFlGVWx4K2dDaytOdVkwSkhTdlBoR3dpM2F1?=
 =?utf-8?B?R09BRzYzM0FSbk03OHFVdWJXNHlMSzBkc3BwYnFXdnJxU2IzNXNwQTNZL3BJ?=
 =?utf-8?B?d0xBNDFlQXBTT1ZYYnpJdE02M09vNFV0cDhnamk4WFhFSnVwRjlkb01OYXVC?=
 =?utf-8?B?Y2oxdzdrZUNWNWtSQWg0bUVMVVhPbjh6WVFCZWh0NlJzeGVrbHMydXZMcldN?=
 =?utf-8?B?Z0lWRE9XV2ErN1FvSWs0MHFQMnVSYUozZ3FiazBmOGkyRlY1RDhyVG1TRVBG?=
 =?utf-8?Q?LrPQv3ljBY9mo?=
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 6e3753d6-d2bd-40ed-d4b9-08d9155210f5
X-MS-Exchange-CrossTenant-AuthSource: SN6PR12MB4623.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 12 May 2021 14:27:26.7072 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: OGm5T98Pb2GAiFQY/WpOdHyPNf/bkiMz44IsiNS+64QUwhrzZCSaZ/f4nTjekOleGhYOCmiLntMtDOFN3psVAA==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: SN6PR12MB2845
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Andrey Grodzovsky <andrey.grodzovsky@amd.com>, gregkh@linuxfoundation.org,
 Felix.Kuehling@amd.com, ppaalanen@gmail.com, helgaas@kernel.org,
 Alexander.Deucher@amd.com,
 =?UTF-8?q?Christian=20K=C3=B6nig?= <christian.koenig@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

VGhpcyBhbGxvd3MgdG8gcmVtb3ZlIGV4cGxpY2l0IGNyZWF0aW9uIGFuZCBkZXN0cnVjdGlvbgpv
ZiB0aG9zZSBhdHRycyBhbmQgYnkgdGhpcyBhdm9pZHMgd2FybmluZ3Mgb24gZGV2aWNlCmZpbmFs
aXppbmcgcG9zdCBwaHlzaWNhbCBkZXZpY2UgZXh0cmFjdGlvbi4KCnY1OiBVc2UgbmV3bHkgYWRk
ZWQgcGNpX2RyaXZlci5kZXZfZ3JvdXBzIGRpcmVjdGx5CgpTaWduZWQtb2ZmLWJ5OiBBbmRyZXkg
R3JvZHpvdnNreSA8YW5kcmV5Lmdyb2R6b3Zza3lAYW1kLmNvbT4KQWNrZWQtYnk6IENocmlzdGlh
biBLw7ZuaWcgPGNocmlzdGlhbi5rb2VuaWdAYW1kLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfYXRvbWJpb3MuYyB8IDE3ICsrKysrKy0tLS0tLS0KIGRyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kcnYuYyAgICAgIHwgMTMgKysrKysrKysrKwogZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2d0dF9tZ3IuYyAgfCAyNSArKysrKysrKy0t
LS0tLS0tLS0tLQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZyYW1fbWdyLmMg
fCAxNCArKysrLS0tLS0tLQogNCBmaWxlcyBjaGFuZ2VkLCAzNyBpbnNlcnRpb25zKCspLCAzMiBk
ZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRn
cHVfYXRvbWJpb3MuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hdG9tYmlv
cy5jCmluZGV4IDQ5NGIyZTE3MTdkNS4uODc5ZWQzZTUwYTZlIDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYXRvbWJpb3MuYworKysgYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHVfYXRvbWJpb3MuYwpAQCAtMTc2OCw2ICsxNzY4LDE1IEBAIHN0
YXRpYyBzc2l6ZV90IGFtZGdwdV9hdG9tYmlvc19nZXRfdmJpb3NfdmVyc2lvbihzdHJ1Y3QgZGV2
aWNlICpkZXYsCiBzdGF0aWMgREVWSUNFX0FUVFIodmJpb3NfdmVyc2lvbiwgMDQ0NCwgYW1kZ3B1
X2F0b21iaW9zX2dldF92Ymlvc192ZXJzaW9uLAogCQkgICBOVUxMKTsKIAorc3RhdGljIHN0cnVj
dCBhdHRyaWJ1dGUgKmFtZGdwdV92Ymlvc192ZXJzaW9uX2F0dHJzW10gPSB7CisJJmRldl9hdHRy
X3ZiaW9zX3ZlcnNpb24uYXR0ciwKKwlOVUxMCit9OworCitjb25zdCBzdHJ1Y3QgYXR0cmlidXRl
X2dyb3VwIGFtZGdwdV92Ymlvc192ZXJzaW9uX2F0dHJfZ3JvdXAgPSB7CisJLmF0dHJzID0gYW1k
Z3B1X3ZiaW9zX3ZlcnNpb25fYXR0cnMKK307CisKIC8qKgogICogYW1kZ3B1X2F0b21iaW9zX2Zp
bmkgLSBmcmVlIHRoZSBkcml2ZXIgaW5mbyBhbmQgY2FsbGJhY2tzIGZvciBhdG9tYmlvcwogICoK
QEAgLTE3ODcsNyArMTc5Niw2IEBAIHZvaWQgYW1kZ3B1X2F0b21iaW9zX2Zpbmkoc3RydWN0IGFt
ZGdwdV9kZXZpY2UgKmFkZXYpCiAJYWRldi0+bW9kZV9pbmZvLmF0b21fY29udGV4dCA9IE5VTEw7
CiAJa2ZyZWUoYWRldi0+bW9kZV9pbmZvLmF0b21fY2FyZF9pbmZvKTsKIAlhZGV2LT5tb2RlX2lu
Zm8uYXRvbV9jYXJkX2luZm8gPSBOVUxMOwotCWRldmljZV9yZW1vdmVfZmlsZShhZGV2LT5kZXYs
ICZkZXZfYXR0cl92Ymlvc192ZXJzaW9uKTsKIH0KIAogLyoqCkBAIC0xODA0LDcgKzE4MTIsNiBA
QCBpbnQgYW1kZ3B1X2F0b21iaW9zX2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCiB7
CiAJc3RydWN0IGNhcmRfaW5mbyAqYXRvbV9jYXJkX2luZm8gPQogCSAgICBremFsbG9jKHNpemVv
ZihzdHJ1Y3QgY2FyZF9pbmZvKSwgR0ZQX0tFUk5FTCk7Ci0JaW50IHJldDsKIAogCWlmICghYXRv
bV9jYXJkX2luZm8pCiAJCXJldHVybiAtRU5PTUVNOwpAQCAtMTgzMywxMiArMTg0MCw2IEBAIGlu
dCBhbWRncHVfYXRvbWJpb3NfaW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKIAkJYW1k
Z3B1X2F0b21iaW9zX2FsbG9jYXRlX2ZiX3NjcmF0Y2goYWRldik7CiAJfQogCi0JcmV0ID0gZGV2
aWNlX2NyZWF0ZV9maWxlKGFkZXYtPmRldiwgJmRldl9hdHRyX3ZiaW9zX3ZlcnNpb24pOwotCWlm
IChyZXQpIHsKLQkJRFJNX0VSUk9SKCJGYWlsZWQgdG8gY3JlYXRlIGRldmljZSBmaWxlIGZvciBW
QklPUyB2ZXJzaW9uXG4iKTsKLQkJcmV0dXJuIHJldDsKLQl9Ci0KIAlyZXR1cm4gMDsKIH0KIApk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2Rydi5jIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2Rydi5jCmluZGV4IDVlYmVkNGM3ZDljMC4u
ODMwMDZmNDViMTBiIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRn
cHVfZHJ2LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2Rydi5jCkBA
IC0xNzY2LDYgKzE3NjYsMTggQEAgc3RhdGljIHN0cnVjdCBwY2lfZXJyb3JfaGFuZGxlcnMgYW1k
Z3B1X3BjaV9lcnJfaGFuZGxlciA9IHsKIAkucmVzdW1lCQk9IGFtZGdwdV9wY2lfcmVzdW1lLAog
fTsKIAorZXh0ZXJuIGNvbnN0IHN0cnVjdCBhdHRyaWJ1dGVfZ3JvdXAgYW1kZ3B1X3ZyYW1fbWdy
X2F0dHJfZ3JvdXA7CitleHRlcm4gY29uc3Qgc3RydWN0IGF0dHJpYnV0ZV9ncm91cCBhbWRncHVf
Z3R0X21ncl9hdHRyX2dyb3VwOworZXh0ZXJuIGNvbnN0IHN0cnVjdCBhdHRyaWJ1dGVfZ3JvdXAg
YW1kZ3B1X3ZiaW9zX3ZlcnNpb25fYXR0cl9ncm91cDsKKworc3RhdGljIGNvbnN0IHN0cnVjdCBh
dHRyaWJ1dGVfZ3JvdXAgKmFtZGdwdV9zeXNmc19ncm91cHNbXSA9IHsKKwkmYW1kZ3B1X3ZyYW1f
bWdyX2F0dHJfZ3JvdXAsCisJJmFtZGdwdV9ndHRfbWdyX2F0dHJfZ3JvdXAsCisJJmFtZGdwdV92
Ymlvc192ZXJzaW9uX2F0dHJfZ3JvdXAsCisJTlVMTCwKK307CisKKwogc3RhdGljIHN0cnVjdCBw
Y2lfZHJpdmVyIGFtZGdwdV9rbXNfcGNpX2RyaXZlciA9IHsKIAkubmFtZSA9IERSSVZFUl9OQU1F
LAogCS5pZF90YWJsZSA9IHBjaWlkbGlzdCwKQEAgLTE3NzQsNiArMTc4Niw3IEBAIHN0YXRpYyBz
dHJ1Y3QgcGNpX2RyaXZlciBhbWRncHVfa21zX3BjaV9kcml2ZXIgPSB7CiAJLnNodXRkb3duID0g
YW1kZ3B1X3BjaV9zaHV0ZG93biwKIAkuZHJpdmVyLnBtID0gJmFtZGdwdV9wbV9vcHMsCiAJLmVy
cl9oYW5kbGVyID0gJmFtZGdwdV9wY2lfZXJyX2hhbmRsZXIsCisJLmRldl9ncm91cHMgPSBhbWRn
cHVfc3lzZnNfZ3JvdXBzLAogfTsKIAogc3RhdGljIGludCBfX2luaXQgYW1kZ3B1X2luaXQodm9p
ZCkKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9ndHRfbWdy
LmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ3R0X21nci5jCmluZGV4IDcy
OTYyZGU0YzA0Yy4uYTQ0MDRkYThjYTZkIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9hbWRncHVfZ3R0X21nci5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2FtZGdwdV9ndHRfbWdyLmMKQEAgLTc1LDYgKzc1LDE2IEBAIHN0YXRpYyBERVZJQ0VfQVRUUiht
ZW1faW5mb19ndHRfdG90YWwsIFNfSVJVR08sCiBzdGF0aWMgREVWSUNFX0FUVFIobWVtX2luZm9f
Z3R0X3VzZWQsIFNfSVJVR08sCiAJICAgICAgICAgICBhbWRncHVfbWVtX2luZm9fZ3R0X3VzZWRf
c2hvdywgTlVMTCk7CiAKK3N0YXRpYyBzdHJ1Y3QgYXR0cmlidXRlICphbWRncHVfZ3R0X21ncl9h
dHRyaWJ1dGVzW10gPSB7CisJJmRldl9hdHRyX21lbV9pbmZvX2d0dF90b3RhbC5hdHRyLAorCSZk
ZXZfYXR0cl9tZW1faW5mb19ndHRfdXNlZC5hdHRyLAorCU5VTEwKK307CisKK2NvbnN0IHN0cnVj
dCBhdHRyaWJ1dGVfZ3JvdXAgYW1kZ3B1X2d0dF9tZ3JfYXR0cl9ncm91cCA9IHsKKwkuYXR0cnMg
PSBhbWRncHVfZ3R0X21ncl9hdHRyaWJ1dGVzCit9OworCiBzdGF0aWMgY29uc3Qgc3RydWN0IHR0
bV9yZXNvdXJjZV9tYW5hZ2VyX2Z1bmMgYW1kZ3B1X2d0dF9tZ3JfZnVuYzsKIC8qKgogICogYW1k
Z3B1X2d0dF9tZ3JfaW5pdCAtIGluaXQgR1RUIG1hbmFnZXIgYW5kIERSTSBNTQpAQCAtODksNyAr
OTksNiBAQCBpbnQgYW1kZ3B1X2d0dF9tZ3JfaW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRl
diwgdWludDY0X3QgZ3R0X3NpemUpCiAJc3RydWN0IGFtZGdwdV9ndHRfbWdyICptZ3IgPSAmYWRl
di0+bW1hbi5ndHRfbWdyOwogCXN0cnVjdCB0dG1fcmVzb3VyY2VfbWFuYWdlciAqbWFuID0gJm1n
ci0+bWFuYWdlcjsKIAl1aW50NjRfdCBzdGFydCwgc2l6ZTsKLQlpbnQgcmV0OwogCiAJbWFuLT51
c2VfdHQgPSB0cnVlOwogCW1hbi0+ZnVuYyA9ICZhbWRncHVfZ3R0X21ncl9mdW5jOwpAQCAtMTAy
LDE3ICsxMTEsNiBAQCBpbnQgYW1kZ3B1X2d0dF9tZ3JfaW5pdChzdHJ1Y3QgYW1kZ3B1X2Rldmlj
ZSAqYWRldiwgdWludDY0X3QgZ3R0X3NpemUpCiAJc3Bpbl9sb2NrX2luaXQoJm1nci0+bG9jayk7
CiAJYXRvbWljNjRfc2V0KCZtZ3ItPmF2YWlsYWJsZSwgZ3R0X3NpemUgPj4gUEFHRV9TSElGVCk7
CiAKLQlyZXQgPSBkZXZpY2VfY3JlYXRlX2ZpbGUoYWRldi0+ZGV2LCAmZGV2X2F0dHJfbWVtX2lu
Zm9fZ3R0X3RvdGFsKTsKLQlpZiAocmV0KSB7Ci0JCURSTV9FUlJPUigiRmFpbGVkIHRvIGNyZWF0
ZSBkZXZpY2UgZmlsZSBtZW1faW5mb19ndHRfdG90YWxcbiIpOwotCQlyZXR1cm4gcmV0OwotCX0K
LQlyZXQgPSBkZXZpY2VfY3JlYXRlX2ZpbGUoYWRldi0+ZGV2LCAmZGV2X2F0dHJfbWVtX2luZm9f
Z3R0X3VzZWQpOwotCWlmIChyZXQpIHsKLQkJRFJNX0VSUk9SKCJGYWlsZWQgdG8gY3JlYXRlIGRl
dmljZSBmaWxlIG1lbV9pbmZvX2d0dF91c2VkXG4iKTsKLQkJcmV0dXJuIHJldDsKLQl9Ci0KIAl0
dG1fc2V0X2RyaXZlcl9tYW5hZ2VyKCZhZGV2LT5tbWFuLmJkZXYsIFRUTV9QTF9UVCwgJm1nci0+
bWFuYWdlcik7CiAJdHRtX3Jlc291cmNlX21hbmFnZXJfc2V0X3VzZWQobWFuLCB0cnVlKTsKIAly
ZXR1cm4gMDsKQEAgLTE0Miw5ICsxNDAsNiBAQCB2b2lkIGFtZGdwdV9ndHRfbWdyX2Zpbmkoc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCiAJZHJtX21tX3Rha2Vkb3duKCZtZ3ItPm1tKTsKIAlz
cGluX3VubG9jaygmbWdyLT5sb2NrKTsKIAotCWRldmljZV9yZW1vdmVfZmlsZShhZGV2LT5kZXYs
ICZkZXZfYXR0cl9tZW1faW5mb19ndHRfdG90YWwpOwotCWRldmljZV9yZW1vdmVfZmlsZShhZGV2
LT5kZXYsICZkZXZfYXR0cl9tZW1faW5mb19ndHRfdXNlZCk7Ci0KIAl0dG1fcmVzb3VyY2VfbWFu
YWdlcl9jbGVhbnVwKG1hbik7CiAJdHRtX3NldF9kcml2ZXJfbWFuYWdlcigmYWRldi0+bW1hbi5i
ZGV2LCBUVE1fUExfVFQsIE5VTEwpOwogfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1X3ZyYW1fbWdyLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9h
bWRncHVfdnJhbV9tZ3IuYwppbmRleCAyMzQ0YWJhOWRjYTMuLjg1NDNkNjQ4NjAxOCAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZyYW1fbWdyLmMKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZyYW1fbWdyLmMKQEAgLTE1Miw3ICsx
NTIsNyBAQCBzdGF0aWMgREVWSUNFX0FUVFIobWVtX2luZm9fdmlzX3ZyYW1fdXNlZCwgU19JUlVH
TywKIHN0YXRpYyBERVZJQ0VfQVRUUihtZW1faW5mb192cmFtX3ZlbmRvciwgU19JUlVHTywKIAkJ
ICAgYW1kZ3B1X21lbV9pbmZvX3ZyYW1fdmVuZG9yLCBOVUxMKTsKIAotc3RhdGljIGNvbnN0IHN0
cnVjdCBhdHRyaWJ1dGUgKmFtZGdwdV92cmFtX21ncl9hdHRyaWJ1dGVzW10gPSB7CitzdGF0aWMg
c3RydWN0IGF0dHJpYnV0ZSAqYW1kZ3B1X3ZyYW1fbWdyX2F0dHJpYnV0ZXNbXSA9IHsKIAkmZGV2
X2F0dHJfbWVtX2luZm9fdnJhbV90b3RhbC5hdHRyLAogCSZkZXZfYXR0cl9tZW1faW5mb192aXNf
dnJhbV90b3RhbC5hdHRyLAogCSZkZXZfYXR0cl9tZW1faW5mb192cmFtX3VzZWQuYXR0ciwKQEAg
LTE2MSw2ICsxNjEsMTAgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBhdHRyaWJ1dGUgKmFtZGdwdV92
cmFtX21ncl9hdHRyaWJ1dGVzW10gPSB7CiAJTlVMTAogfTsKIAorY29uc3Qgc3RydWN0IGF0dHJp
YnV0ZV9ncm91cCBhbWRncHVfdnJhbV9tZ3JfYXR0cl9ncm91cCA9IHsKKwkuYXR0cnMgPSBhbWRn
cHVfdnJhbV9tZ3JfYXR0cmlidXRlcworfTsKKwogc3RhdGljIGNvbnN0IHN0cnVjdCB0dG1fcmVz
b3VyY2VfbWFuYWdlcl9mdW5jIGFtZGdwdV92cmFtX21ncl9mdW5jOwogCiAvKioKQEAgLTE3NCw3
ICsxNzgsNiBAQCBpbnQgYW1kZ3B1X3ZyYW1fbWdyX2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2Ug
KmFkZXYpCiB7CiAJc3RydWN0IGFtZGdwdV92cmFtX21nciAqbWdyID0gJmFkZXYtPm1tYW4udnJh
bV9tZ3I7CiAJc3RydWN0IHR0bV9yZXNvdXJjZV9tYW5hZ2VyICptYW4gPSAmbWdyLT5tYW5hZ2Vy
OwotCWludCByZXQ7CiAKIAl0dG1fcmVzb3VyY2VfbWFuYWdlcl9pbml0KG1hbiwgYWRldi0+Z21j
LnJlYWxfdnJhbV9zaXplID4+IFBBR0VfU0hJRlQpOwogCkBAIC0xODUsMTEgKzE4OCw2IEBAIGlu
dCBhbWRncHVfdnJhbV9tZ3JfaW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKIAlJTklU
X0xJU1RfSEVBRCgmbWdyLT5yZXNlcnZhdGlvbnNfcGVuZGluZyk7CiAJSU5JVF9MSVNUX0hFQUQo
Jm1nci0+cmVzZXJ2ZWRfcGFnZXMpOwogCi0JLyogQWRkIHRoZSB0d28gVlJBTS1yZWxhdGVkIHN5
c2ZzIGZpbGVzICovCi0JcmV0ID0gc3lzZnNfY3JlYXRlX2ZpbGVzKCZhZGV2LT5kZXYtPmtvYmos
IGFtZGdwdV92cmFtX21ncl9hdHRyaWJ1dGVzKTsKLQlpZiAocmV0KQotCQlEUk1fRVJST1IoIkZh
aWxlZCB0byByZWdpc3RlciBzeXNmc1xuIik7Ci0KIAl0dG1fc2V0X2RyaXZlcl9tYW5hZ2VyKCZh
ZGV2LT5tbWFuLmJkZXYsIFRUTV9QTF9WUkFNLCAmbWdyLT5tYW5hZ2VyKTsKIAl0dG1fcmVzb3Vy
Y2VfbWFuYWdlcl9zZXRfdXNlZChtYW4sIHRydWUpOwogCXJldHVybiAwOwpAQCAtMjI3LDggKzIy
NSw2IEBAIHZvaWQgYW1kZ3B1X3ZyYW1fbWdyX2Zpbmkoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFk
ZXYpCiAJZHJtX21tX3Rha2Vkb3duKCZtZ3ItPm1tKTsKIAlzcGluX3VubG9jaygmbWdyLT5sb2Nr
KTsKIAotCXN5c2ZzX3JlbW92ZV9maWxlcygmYWRldi0+ZGV2LT5rb2JqLCBhbWRncHVfdnJhbV9t
Z3JfYXR0cmlidXRlcyk7Ci0KIAl0dG1fcmVzb3VyY2VfbWFuYWdlcl9jbGVhbnVwKG1hbik7CiAJ
dHRtX3NldF9kcml2ZXJfbWFuYWdlcigmYWRldi0+bW1hbi5iZGV2LCBUVE1fUExfVlJBTSwgTlVM
TCk7CiB9Ci0tIAoyLjI1LjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Au
b3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdm
eAo=
