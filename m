Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 8A926C1E179
	for <lists+amd-gfx@lfdr.de>; Thu, 30 Oct 2025 03:08:35 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C11A910E87E;
	Thu, 30 Oct 2025 02:08:33 +0000 (UTC)
Authentication-Results: gabe.freedesktop.org;
	dkim=pass (1024-bit key; unprotected) header.d=amd.com header.i=@amd.com header.b="dDjA0al1";
	dkim-atps=neutral
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from MW6PR02CU001.outbound.protection.outlook.com
 (mail-westus2azon11012047.outbound.protection.outlook.com [52.101.48.47])
 by gabe.freedesktop.org (Postfix) with ESMTPS id AB2B010E87B
 for <amd-gfx@lists.freedesktop.org>; Thu, 30 Oct 2025 02:08:32 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector10001; d=microsoft.com; cv=none;
 b=IDFSjb9tmTfyNCXDyN9juMUZlC15JkZDltrh9IknWRkTGZqlzpQ034ZH1qbNcnwN9G5bkUHg4P9vcFdXhCDJ/JaRGOOeojVB91WpaniCs73cOoxIm9bV33P7f5IlWECnvp7pnmd60hL96U2eUZSACYIVVNYfa5+BS/SuinxtZH83SnigsKzHSk6tdKMudKlBWtHvyktXASQndmEap7pKrqNTdl7Zz0Cdb3Wr1xyTCigE9v6kkeCz6iiDsf5zN4frzAlhUGbwavaaHN+RVPCayL3mYGG8n4HPeKkQHWq/i078LYoDhIeVwDcro3LMJi6meG4ncN5AQGt2kuhOZ6yWFA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector10001;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=A+X4v02V/ZUE2/BjxbrPid7lQr/xXxvRkKAJF5u4o5o=;
 b=bOBPG2ocXmGwvraa6RwSrv76rdUf2guk8KUfoMDle4kX073ky0QEg+kXiUwLTXWS8yyhiV3XFd/M3P/os7wEKJdWXYrhrq2K0TP+ggXSO0gE+oOOOt8MoCiCDE0ai5GO4w+MhzoOHTlWXmPYDbAh2ywqPs4+/SdfJINPGdRssDZCqqw3VQinJ85flD4H+LckxAMr3sZrPG2VkL2XBLLYNhZD03G6sV8UygIiGtfltoZrOCJIl/ZO8YG9APWzDd1Zke6ZbwkefQ58UdFnM/E4cM01sgtneZzCDPDt+Xo1lHIlgeacyeoERgdhRWYN3D7y+3ikw3X/wcGHsZdkl2EpXw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=amd.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=A+X4v02V/ZUE2/BjxbrPid7lQr/xXxvRkKAJF5u4o5o=;
 b=dDjA0al1VUbcyid+gWcYG+ms1ZzO52+A4SlNz7oOV3+FbDk+mZKH6gSQbbGPawecpIHfjvNAnbyaTr+/gUvwttj9UZzZflouDH+2xYkK7OxULwjRLkC8vD8m6NYQDJfh7c4Z66XQc+SHwb0UdjV7+oRu9Q0s1XSaqPVxhIhXXqM=
Received: from DM4PR12MB5152.namprd12.prod.outlook.com (2603:10b6:5:393::16)
 by DS7PR12MB6261.namprd12.prod.outlook.com (2603:10b6:8:97::20) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.9275.14; Thu, 30 Oct
 2025 02:08:29 +0000
Received: from DM4PR12MB5152.namprd12.prod.outlook.com
 ([fe80::d4b5:6a30:96d5:e3ed]) by DM4PR12MB5152.namprd12.prod.outlook.com
 ([fe80::d4b5:6a30:96d5:e3ed%5]) with mapi id 15.20.9253.018; Thu, 30 Oct 2025
 02:08:29 +0000
From: "Zhang, Jesse(Jie)" <Jesse.Zhang@amd.com>
To: Alex Deucher <alexdeucher@gmail.com>
CC: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>, "Deucher, 
 Alexander" <Alexander.Deucher@amd.com>, "Koenig, Christian"
 <Christian.Koenig@amd.com>
Subject: RE: [PATCH 2/3] drm/amdgpu: Add user queue reset mask support
Thread-Topic: [PATCH 2/3] drm/amdgpu: Add user queue reset mask support
Thread-Index: AQHcRMrjWlRQy2x/7E6odHRNlyTM87TZdfkAgACAKRA=
Date: Thu, 30 Oct 2025 02:08:29 +0000
Message-ID: <DM4PR12MB515221D2A7B556DE97EDC6E5E3FBA@DM4PR12MB5152.namprd12.prod.outlook.com>
References: <20251024094445.3090110-1-Jesse.Zhang@amd.com>
 <20251024094445.3090110-2-Jesse.Zhang@amd.com>
 <CADnq5_PMvfkcTcK9EKTc5PwLO3GEJKxOU2rL02CC6LiPKM51OQ@mail.gmail.com>
In-Reply-To: <CADnq5_PMvfkcTcK9EKTc5PwLO3GEJKxOU2rL02CC6LiPKM51OQ@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
msip_labels: MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_Enabled=True;
 MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_SiteId=3dd8961f-e488-4e60-8e11-a82d994e183d;
 MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_SetDate=2025-10-30T01:52:33.0000000Z;
 MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_Name=AMD
 Internal Distribution
 Only; MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_ContentBits=3;
 MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_Method=Standard
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=amd.com;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: DM4PR12MB5152:EE_|DS7PR12MB6261:EE_
x-ms-office365-filtering-correlation-id: 86ec4074-3f1e-4252-81c0-08de17593804
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0; ARA:13230040|376014|366016|1800799024|38070700021;
x-microsoft-antispam-message-info: =?utf-8?B?S01KcFFzQnpMMHFDSG1CSEFQMDlKL1kwUWZHaWV5Q2NjUk9RcVNXN1RMbVQ5?=
 =?utf-8?B?V1dNOEdqb3E4VHRMZEFmK0NMRHdEajMvNm5JbTQ4T1Z4RCtnalI1cm9ybm1L?=
 =?utf-8?B?b3NJejlIQlJ2OHh5UFdPTEJhNlFYTXZ6TnhCdUVGNk05NzlyMm9FSi83ekJQ?=
 =?utf-8?B?SVpUVjJUQXpyZXl4SXgvTXdZVWgvdzlJQVAzd282cTBMUkJKNlBaazY3clJ0?=
 =?utf-8?B?VVRkLzlaYWtjQVY4SXFNSVFLK2lKZy9Yc0hOZVlGeEo5TFlPNlpwaFc3alNE?=
 =?utf-8?B?aHQxYzVXZEJISDlmU2VRNWphMnJpY3pFV0tWNk9qK3BER0crY0djVVc2ODMr?=
 =?utf-8?B?bWVuK3dNa202cUVGbDdKYkFoNE01NHNGQkpUOUJwZ2EvOE5uVDc1YnlYakU5?=
 =?utf-8?B?Y09tNldsNndxTnhHNFJ1dVZBV0NnZ2NLS3hrNUFseXN3amZkNzFTMWFHVlN5?=
 =?utf-8?B?SDZGUkt2SWY5czNCYnh2cUFHeTZxR3ZNY0RFc0VtTzBueHdkUFVXUUpsdGZh?=
 =?utf-8?B?eDlIalZtM1BsN0NnRzRyQ1pLVDZOc3pmMlVoN2VvQjVmZnZFR2RsSVZpRVZK?=
 =?utf-8?B?S082T0tYQjcydTJEdUtwc3lQQWxUdTY4Mlc1UHVGM29saUNPUnoxS1IxaWxv?=
 =?utf-8?B?WUUxeWRlbTVmNmM2dHVyQUtCTDdyWGFINEthcHhOZ2c2UUJPWmFoUHRNY3VB?=
 =?utf-8?B?dkZQM0Uyc3J5cER4V3RHUThBbjBoT1k4cHBiUjlKbVRwUzVrOGJob3prTGdu?=
 =?utf-8?B?Z0N5YWJTMThZLzhpTUQwNEZHQVFhdDBzZ1FXcmxQWk1rZUdDZXFOQ2VOc2JD?=
 =?utf-8?B?R1A5M2NHN0ZXK3JpQUl6anNteDFDSC9tamlUaHVCK3ZYNUZmRW0zMnFpRWtO?=
 =?utf-8?B?Z1loTnFzd3EyNGNwMGpMTGY1Qm5yeDRQZ3QwTlg1cTBvUnptdkE0eHNjejlm?=
 =?utf-8?B?QnQ5YW1Wc09adVRWZXdnUC9iOFJ4QUsrSEo5K1hjQUdOdytVcDRvdll3U2Z6?=
 =?utf-8?B?WmJNRW1YajlIZVlJZ2d3TjVhYkxaamtFT2ttb0JMNHp5R3d6bC9KdEorUTFy?=
 =?utf-8?B?YnM0ekR6UmZ5NmpvbWZHN2JmSExmNDBPVkdEQU5TN1JlTXE0N1ZJOWs1NnU0?=
 =?utf-8?B?bjN2cDFoaHBIS0t4YVRUOVk3MklmK05DTCtrS25ycEh5Rktkc1ZBcTRGU1Fp?=
 =?utf-8?B?NzZvQ2cwMHlETERmRVU5YTdlNVJMc2RCbHFXUEo0aS9MZEhyWm4rU25PU2ZZ?=
 =?utf-8?B?djRGenFZamc5YXI5c0pWSFhlcGdOZFlHbVVsQ05pZHprenJDcVY3a3RlVzBF?=
 =?utf-8?B?WEM1a05LUzN6SndONHZnQ0tBZVBJTjFmVEJ1VVFYWFpNazJNSUp5SUlOTVhO?=
 =?utf-8?B?OUpyTzlQZTRSaVBiNmNScWsvZm9tZFdrb3EvWUN0ZnI5R1JBNFh0akRiUnIx?=
 =?utf-8?B?WFRHWnJEMGhQVGJ0K3NKN01YOElIU0J3MitsYkNVRWJpN2dXTUxLNFIvZVZ0?=
 =?utf-8?B?Z09jckZLSXRmZjFPNlZXdmVUdUVxa0NqYUhNcjg1VnhQeE11eEJNZ1NuTEx2?=
 =?utf-8?B?ZVU0dG45OEswRTRmZGhHR0E3dksxREdIYUZLVngxbUp1K3J6djdEelNMY1J2?=
 =?utf-8?B?TjhkL1RDNHVPZzV3d0JvRDdJR1U0QlE2VGh0Qkk1NnlqanJpWW1QNWpTRk9y?=
 =?utf-8?B?ZnZCNnBvclVpU09tWVpRelhuOXBSVzZleVhFUnczbXNZTmtiQzhib1FZV29H?=
 =?utf-8?B?aGExdW9iKyt2UDcrNEhoTTM4Sy9WbFVKMmlUbDhXSUxaeFYzcVBHdUZWNnNv?=
 =?utf-8?B?ak03V1hGQk1NN1g3Y0xlcDhaa0ExUVRWeklab2NhZ3VTbk1yNnpFcHdSTjFE?=
 =?utf-8?B?OFAvRWNNYzhnR1ZBZTc1VzZGUWxwNUJSK0xsQ0pVTXJOWFlZK05ibmFUWGhF?=
 =?utf-8?B?TUxJZzAvOU9rNmU5cTdoaWFNOHNoMndsdnYwemhqZVRERi9LUjJTYW1ZT2Vs?=
 =?utf-8?B?SEZGQTlpSWFjRllXSmh5VVZMT0pHTS9FZGVOOFZzdDdZeEMwM2VuQmZuRkxB?=
 =?utf-8?Q?Qpg9dm?=
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:DM4PR12MB5152.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(13230040)(376014)(366016)(1800799024)(38070700021); DIR:OUT; SFP:1101; 
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?WWd4Q1BpeTBGVm9mWURxRnh6MTdVd3ZKbVljYXlIZkFkUWI3Ykw4UHlkTkRa?=
 =?utf-8?B?UGt6ZW1BR0FVZkdxbHRWOXVodTN6ZktzbUdtOTRya0hxTzdtNURnMzRoZFpQ?=
 =?utf-8?B?cTVHU01mU0ZpWXY3OWNnRjc4TDk4TmFPbHk0MWcxSTdIcGlIU25lYjhuanYr?=
 =?utf-8?B?TVZLVytrdTlFZllwT1dNQm5pMHdrdjMrSVVPWHZQRStJemlIVmRZRklEZ0ND?=
 =?utf-8?B?QlJJZXorMWhRRWxxU2MxWWg0WEQ4dzBUQk94S1o3SE1OdUZIY0x0RCthN2xY?=
 =?utf-8?B?d2FpeWNPUDRZYi9zMFczMXlmUEhTK0piQ29UR002ZUVWWWdzVjlKOW5MWktu?=
 =?utf-8?B?eWVsdW1RWE5PUFJpa2FINUxPWVdlQkhKZHFBNERtUE9EM3doeTlzWXJmS00x?=
 =?utf-8?B?TWVaZExkNHU0Qm5sSXZGRnE1ZklQV3pWalFHOC9uYkFzZXNjZHZ5VGhLNGxC?=
 =?utf-8?B?RjRhcG83N1BxWHlBYW5heWc3RVRqNDhxZ0dud1NxbzdNbWhKUTFxa2UyZ3dw?=
 =?utf-8?B?UUxTczZsa1F1eVhFRXNHSUtOR0Y2N3lMY25rY3dQSWZyalJGeEpPWVMvOTFH?=
 =?utf-8?B?bkJNTXBmdmltempKOUM3UG1EdkVsb3pIOFJQZkJybytpWFM5OThWN3lmMFhY?=
 =?utf-8?B?ZnVxRGtYSHB4YnlXQW5ybFkyblJTY3g4eEdXT2plUVArTWpEY0VUcjNCWm9h?=
 =?utf-8?B?Rld1NFJGektSN1hFVEl4eXFqcHFMTEZEWlZKd2dkaGZ2OVNHZnFFVTIwd003?=
 =?utf-8?B?R2trZnU5RUtrVGw4VEZxUjRHbmxlckxVYTZWQVdWQWt4aGZlK2d3V051UW9a?=
 =?utf-8?B?cHB5Q3FpMFFKUU54OXFBVmVTYkNsTi9sTzNyQkgyM01mdVExMTRicFNORmV6?=
 =?utf-8?B?Mm15QTN4Smw2dVdoRGlJbklhekRaNm1WRnR1dDZkQ0lzYmxlK01BTW1INzlU?=
 =?utf-8?B?dUhHa3ZYQUFJdisrYmJxaXdnb0tNMUw2UHo5eDc5dTlIMXBQd1F3eEJRME5I?=
 =?utf-8?B?Z0VXUG9keGRMOEVLbURUVlYwVzNFR2QzbktvNWg5aDhDbzZDSThYM0MyZWVH?=
 =?utf-8?B?L1BjeTJmK2hYMjlXeDB0Vk9LcXRtYUFLNXpEYVZkNnlDdEZjN1ROU1ZBYi9H?=
 =?utf-8?B?TTFYd29YWHRMci9jVzNpbG9RWld0UzBWMnNEbElFd0I1N2NzWTh4Zk95emZ6?=
 =?utf-8?B?WllBNkRyclB6WWc0aHdFakk0UEtKQ1ArUk4zUHZtNk5uWW5nWGk0bU9XNHZO?=
 =?utf-8?B?ZFpkaWt5WlFBek9hYzhWWGJVbERzMTdsdjE1QUhEa3ZjdVdYS3NlbFNDMmg2?=
 =?utf-8?B?MnozY3hvZWZwRjZlQmRMbWdHdlBOd0RtR2tHUy9hZytYUkZia2EvMDBQWU9P?=
 =?utf-8?B?VjNQMGNLUCsyVnBQTjl2N0xSanhHY2Z1am13cWVMZVhuZ2p6cUFCL0F3OGFN?=
 =?utf-8?B?d1pEbG9FK1ZNTXh3d2p6NVY3Y0laMkJvWFRqeHluakt1WElSais4dGt2U2pW?=
 =?utf-8?B?bExqYmJvWUx6QXRVdG5NOHV0dGFobUJKSERaaDNyeG00NEp1Q25TaEZwcVBW?=
 =?utf-8?B?T1VoclN4Y291SGQxeGxMQnlWSmNKOHdXcnJvNUxwRlQ1OHpCT3BzUW5lS0M2?=
 =?utf-8?B?NVIvTUlTMk5HR0xmYVV6TEUxejd2QmE5TWtUcWdIM0NZeVhpVE5VZ2o0R2JN?=
 =?utf-8?B?dVBFUUI0K1prVEJyVUkreFU5YzlyUkdvdzhjME9Pd1F6c0xHUW5hR0hpY0l4?=
 =?utf-8?B?U3BmYldZeWd1cWtmZHNtb2p3UGdaRVFrTS92bGNZVitIaU8xRlJ2dUZ6K0s1?=
 =?utf-8?B?RzNxUEtiZ0Jjb08wS0srK1ROUDEvSXFhSHplV3dkZURjTU81d2Uvck93RzZO?=
 =?utf-8?B?emg0Zm01TmFpL0l0cVN6K1QrektSZkVMQmpWRzA3QkExazM4Y3VJajRVS2pD?=
 =?utf-8?B?VE5pbG5Zd1hXaXBkajB3K3dkMVVNcmRyS2haTTJEMCtRd3ZhdkhoOEVYTGxu?=
 =?utf-8?B?QWNyZGQzb2loOVVjY3hsc0NBbWJxWGJpdTZ2dk4zK0FDb0pDa0txQmZIZ29v?=
 =?utf-8?B?Ynl6YTZnWjFoWEhIOXVZZ1Z0NWhPZ3RjRVBqRUtDWmJWWUFXL0EySlJBb25s?=
 =?utf-8?Q?PSBw=3D?=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: DM4PR12MB5152.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 86ec4074-3f1e-4252-81c0-08de17593804
X-MS-Exchange-CrossTenant-originalarrivaltime: 30 Oct 2025 02:08:29.2267 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: Rl3m5xumktLlqWdWqhmycTK73azDBFj4/YX9wLpzhbJNfzqYPsTfav7VcVEpQ4adfmTuJLlU1lSTYDQwtK2OXg==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DS7PR12MB6261
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

W0FNRCBPZmZpY2lhbCBVc2UgT25seSAtIEFNRCBJbnRlcm5hbCBEaXN0cmlidXRpb24gT25seV0N
Cg0KPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KPiBGcm9tOiBhbWQtZ2Z4IDxhbWQtZ2Z4
LWJvdW5jZXNAbGlzdHMuZnJlZWRlc2t0b3Aub3JnPiBPbiBCZWhhbGYgT2YgQWxleA0KPiBEZXVj
aGVyDQo+IFNlbnQ6IFRodXJzZGF5LCBPY3RvYmVyIDMwLCAyMDI1IDI6MTQgQU0NCj4gVG86IFpo
YW5nLCBKZXNzZShKaWUpIDxKZXNzZS5aaGFuZ0BhbWQuY29tPg0KPiBDYzogYW1kLWdmeEBsaXN0
cy5mcmVlZGVza3RvcC5vcmc7IERldWNoZXIsIEFsZXhhbmRlcg0KPiA8QWxleGFuZGVyLkRldWNo
ZXJAYW1kLmNvbT47IEtvZW5pZywgQ2hyaXN0aWFuIDxDaHJpc3RpYW4uS29lbmlnQGFtZC5jb20+
DQo+IFN1YmplY3Q6IFJlOiBbUEFUQ0ggMi8zXSBkcm0vYW1kZ3B1OiBBZGQgdXNlciBxdWV1ZSBy
ZXNldCBtYXNrIHN1cHBvcnQNCj4NCj4gT24gRnJpLCBPY3QgMjQsIDIwMjUgYXQgNTo0NeKAr0FN
IEplc3NlLlpoYW5nIDxKZXNzZS5aaGFuZ0BhbWQuY29tPiB3cm90ZToNCj4gPg0KPiA+IFRoaXMg
Y29tbWl0IGFkZHMgc3VwcG9ydCBmb3IgdHJhY2tpbmcgYW5kIGV4cG9zaW5nIHRoZSByZXNldA0K
PiA+IGNhcGFiaWxpdGllcyBvZiB1c2VyIG1vZGUgcXVldWVzIGFjcm9zcyBkaWZmZXJlbnQgSVAg
YmxvY2tzIChHRlgsIENvbXB1dGUsDQo+IFNETUEpLg0KPiA+DQo+ID4gVGhlc2UgY2hhbmdlcyBh
bGxvdyB1c2Vyc3BhY2UgdG8gcXVlcnkgdGhlIHJlc2V0IGNhcGFiaWxpdGllcyBvZiB1c2VyDQo+
ID4gbW9kZSBxdWV1ZXMgYW5kIGVuc3VyZSByZXNldCBvcGVyYXRpb25zIGFyZSBvbmx5IGF0dGVt
cHRlZCB3aGVuDQo+ID4gc3VwcG9ydGVkIGJ5IHRoZSBoYXJkd2FyZSBhbmQgZHJpdmVyLg0KPiA+
DQo+ID4gU3VnZ2VzdGVkLWJ5OiBBbGV4IERldWNoZXIgPGFsZXhhbmRlci5kZXVjaGVyQGFtZC5j
b20+DQo+ID4gU2lnbmVkLW9mZi1ieTogSmVzc2UgWmhhbmcgPEplc3NlLlpoYW5nQGFtZC5jb20+
DQo+ID4gLS0tDQo+ID4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdS5oICAgICAg
ICB8ICAzICsrDQo+ID4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kZXZpY2Uu
YyB8IDE3ICsrKysrKysrLQ0KPiA+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
Z2Z4LmMgICAgfCA0NA0KPiArKysrKysrKysrKysrKysrKysrKysrDQo+ID4gIGRyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9zZG1hLmMgICB8IDIxICsrKysrKysrKysrDQo+ID4gIGRy
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV91c2VycS5jICB8IDEzICsrKysrKysNCj4g
PiAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3YxMV8wLmMgICAgIHwgMTcgKysrKysr
KysrDQo+ID4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92MTJfMC5jICAgICB8IDEy
ICsrKysrKw0KPiA+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3Y2XzAuYyAgICAg
fCAzNCArKysrKysrKysrLS0tLS0tLQ0KPiA+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9z
ZG1hX3Y3XzAuYyAgICAgfCAyNCArKysrKysrKy0tLS0NCj4gPiAgOSBmaWxlcyBjaGFuZ2VkLCAx
NjMgaW5zZXJ0aW9ucygrKSwgMjIgZGVsZXRpb25zKC0pDQo+ID4NCj4gPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1LmgNCj4gPiBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdS5oDQo+ID4gaW5kZXggZDBmYjRlYjFkN2M0Li40OGIyMTg2MzA2
NWUgMTAwNjQ0DQo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1LmgN
Cj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHUuaA0KPiA+IEBAIC0x
MTgyLDYgKzExODIsNyBAQCBzdHJ1Y3QgYW1kZ3B1X2RldmljZSB7DQo+ID4gICAgICAgICAgKiBW
YWx1ZTogc3RydWN0IGFtZGdwdV91c2VybW9kZV9xdWV1ZQ0KPiA+ICAgICAgICAgICovDQo+ID4g
ICAgICAgICBzdHJ1Y3QgeGFycmF5IHVzZXJxX2Rvb3JiZWxsX3hhOw0KPiA+ICsgICAgICAgdTMy
IHVzZXJxX3N1cHBvcnRlZF9yZXNldFtBTURHUFVfUklOR19UWVBFX01BWF07DQo+DQo+IEkgZG9u
J3QgdGhpbmsgd2UgbmVlZCBhIHNlcGFyYXRlIHVzZXJxX3N1cHBvcnRlZF9yZXNldCBhcnJheS4g
IEp1c3QgdXNlIHRoZSBleGlzdGluZw0KPiByZXNldCBtYXNrcy4gIFdlIHVzZSB0aGUgc2FtZSBm
dW5jdGlvbmFsaXR5IGluIGJvdGgga2VybmVsIGFuZCB1c2VycSBjYXNlcyBzbyBJDQo+IGRvbid0
IHNlZSBhIHJlYXNvbiB0byBoYXZlIGEgc2VwYXJhdGUgdHJhY2tlci4NCltaaGFuZywgSmVzc2Uo
SmllKV0gVGhhbmtzIEFsZXggZm9yIHJldmlld2luZy4NCkkgaGF2ZSBhbm90aGVyIHF1ZXN0aW9u
IHJlZ2FyZGluZyB0aGUgdXNlciBxdWV1ZSByZXNldCBtYXNrIHN5c2ZzLg0KU2hvdWxkIHdlIGFs
c28gc2hhcmUgdGhlIHN5c2ZzIHdpdGggdGhlIGtlcm5lbCByZXNldCBtYXNrLCByaWdodD8gT3Ig
IHNldCBhIHNlcGFyYXRlIG1hc2sgZm9yIHVzZXJxX21hc2tfcmVzZXQ/DQpGb3IgZXhhbXBsZToN
Ci9zeXMvZGV2aWNlcy9wY2kwMDAwOjAwLzAwMDA6MDA6MDEuMS8wMDAwOjAxOjAwLjAvMDAwMDow
MjowMC4wLzAwMDA6MDM6MDAuMC9zZG1hX3Jlc2V0X21hc2sNCi9zeXMvZGV2aWNlcy9wY2kwMDAw
OjAwLzAwMDA6MDA6MDEuMS8wMDAwOjAxOjAwLjAvMDAwMDowMjowMC4wLzAwMDA6MDM6MDAuMC9z
ZG1hX3VzZXJxX3Jlc2V0X21hc2sNCg0KVGhhbmtzDQpKZXNzZQ0KDQo+DQo+IEFsZXgNCj4NCj4g
Pg0KPiA+ICAgICAgICAgLyogZGYgKi8NCj4gPiAgICAgICAgIHN0cnVjdCBhbWRncHVfZGYgICAg
ICAgICAgICAgICAgZGY7DQo+ID4gQEAgLTE2MTIsNiArMTYxMyw4IEBAIHN0cnVjdCBkbWFfZmVu
Y2UNCj4gKmFtZGdwdV9kZXZpY2VfZW5mb3JjZV9pc29sYXRpb24oc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYsDQo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsDQo+ID4gICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgYW1kZ3B1X2pvYg0KPiA+ICpq
b2IpOyAgYm9vbCBhbWRncHVfZGV2aWNlX2hhc19kaXNwbGF5X2hhcmR3YXJlKHN0cnVjdCBhbWRn
cHVfZGV2aWNlDQo+ID4gKmFkZXYpOw0KPiA+ICtzc2l6ZV90IGFtZGdwdV91c2VycV9nZXRfZnVs
bF9yZXNldF9tYXNrKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KPiA+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGludCByaW5nX3R5cGUpOw0KPiA+ICBzc2l6ZV90IGFt
ZGdwdV9nZXRfc29mdF9mdWxsX3Jlc2V0X21hc2soc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nKTsN
Cj4gPiBzc2l6ZV90IGFtZGdwdV9zaG93X3Jlc2V0X21hc2soY2hhciAqYnVmLCB1aW50MzJfdCBz
dXBwb3J0ZWRfcmVzZXQpOw0KPiA+DQo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2FtZGdwdV9kZXZpY2UuYw0KPiA+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X2RldmljZS5jDQo+ID4gaW5kZXggODQ4MGI3MjI1OGYyLi5hMDA2NGM1MzE0ZGYg
MTAwNjQ0DQo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2Rldmlj
ZS5jDQo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RldmljZS5j
DQo+ID4gQEAgLTc2NDksNyArNzY0OSw4IEBAIHNzaXplX3QgYW1kZ3B1X2dldF9zb2Z0X2Z1bGxf
cmVzZXRfbWFzayhzdHJ1Y3QNCj4gYW1kZ3B1X3JpbmcgKnJpbmcpDQo+ID4gICAgICAgICBpZiAo
IXJpbmcgfHwgIXJpbmctPmFkZXYpDQo+ID4gICAgICAgICAgICAgICAgIHJldHVybiBzaXplOw0K
PiA+DQo+ID4gLSAgICAgICBpZiAoYW1kZ3B1X2RldmljZV9zaG91bGRfcmVjb3Zlcl9ncHUocmlu
Zy0+YWRldikpDQo+ID4gKyAgICAgICBpZiAoYW1kZ3B1X2RldmljZV9zaG91bGRfcmVjb3Zlcl9n
cHUocmluZy0+YWRldikgJiYNCj4gPiArICAgICAgICAgICB1bmxpa2VseSghcmluZy0+YWRldi0+
ZGVidWdfZGlzYWJsZV9ncHVfcmluZ19yZXNldCkpDQo+ID4gICAgICAgICAgICAgICAgIHNpemUg
fD0gQU1ER1BVX1JFU0VUX1RZUEVfRlVMTDsNCj4gPg0KPiA+ICAgICAgICAgaWYgKHVubGlrZWx5
KCFyaW5nLT5hZGV2LT5kZWJ1Z19kaXNhYmxlX3NvZnRfcmVjb3ZlcnkpICYmIEBADQo+ID4gLTc2
NTksNiArNzY2MCwyMCBAQCBzc2l6ZV90IGFtZGdwdV9nZXRfc29mdF9mdWxsX3Jlc2V0X21hc2so
c3RydWN0DQo+IGFtZGdwdV9yaW5nICpyaW5nKQ0KPiA+ICAgICAgICAgcmV0dXJuIHNpemU7DQo+
ID4gIH0NCj4gPg0KPiA+ICtzc2l6ZV90IGFtZGdwdV91c2VycV9nZXRfZnVsbF9yZXNldF9tYXNr
KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KPiA+ICtpbnQgcmluZ190eXBlKSB7DQo+ID4g
KyAgICAgICBzc2l6ZV90IHNpemUgPSAwOw0KPiA+ICsNCj4gPiArICAgICAgIGlmICghYWRldiB8
fCAhYWRldi0+dXNlcnFfZnVuY3NbcmluZ190eXBlXSkNCj4gPiArICAgICAgICAgICAgICAgcmV0
dXJuIHNpemU7DQo+ID4gKw0KPiA+ICsgICAgICAgaWYgKGFtZGdwdV9kZXZpY2Vfc2hvdWxkX3Jl
Y292ZXJfZ3B1KGFkZXYpICYmDQo+ID4gKyAgICAgICAgICAgdW5saWtlbHkoIWFkZXYtPmRlYnVn
X2Rpc2FibGVfZ3B1X3JpbmdfcmVzZXQpKQ0KPiA+ICsgICAgICAgICAgICAgICBzaXplIHw9IEFN
REdQVV9SRVNFVF9UWVBFX0ZVTEw7DQo+ID4gKw0KPiA+ICsgICAgICAgcmV0dXJuIHNpemU7DQo+
ID4gK30NCj4gPiArDQo+ID4gIHNzaXplX3QgYW1kZ3B1X3Nob3dfcmVzZXRfbWFzayhjaGFyICpi
dWYsIHVpbnQzMl90IHN1cHBvcnRlZF9yZXNldCkNCj4gPiB7DQo+ID4gICAgICAgICBzc2l6ZV90
IHNpemUgPSAwOw0KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9h
bWRncHVfZ2Z4LmMNCj4gPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nZngu
Yw0KPiA+IGluZGV4IDNkMjRmOWNkNzUwYS4uNTU5Nzc1M2VjNjFhIDEwMDY0NA0KPiA+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nZnguYw0KPiA+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nZnguYw0KPiA+IEBAIC0xODI2LDYgKzE4MjYs
MzIgQEAgc3RhdGljIHNzaXplX3QNCj4gYW1kZ3B1X2dmeF9nZXRfY29tcHV0ZV9yZXNldF9tYXNr
KHN0cnVjdCBkZXZpY2UgKmRldiwNCj4gPiAgICAgICAgIHJldHVybiBhbWRncHVfc2hvd19yZXNl
dF9tYXNrKGJ1ZiwNCj4gPiBhZGV2LT5nZnguY29tcHV0ZV9zdXBwb3J0ZWRfcmVzZXQpOw0KPiA+
ICB9DQo+ID4NCj4gPiArc3RhdGljIHNzaXplX3QgYW1kZ3B1X3VzZXJxX2dldF9nZnhfcmVzZXRf
bWFzayhzdHJ1Y3QgZGV2aWNlICpkZXYsDQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGRldmljZV9hdHRyaWJ1dGUgKmF0dHIsDQo+ID4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhciAqYnVm
KSB7DQo+ID4gKyAgICAgICBzdHJ1Y3QgZHJtX2RldmljZSAqZGRldiA9IGRldl9nZXRfZHJ2ZGF0
YShkZXYpOw0KPiA+ICsgICAgICAgc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSBkcm1fdG9f
YWRldihkZGV2KTsNCj4gPiArDQo+ID4gKyAgICAgICBpZiAoIWFkZXYpDQo+ID4gKyAgICAgICAg
ICAgICAgIHJldHVybiAtRU5PREVWOw0KPiA+ICsNCj4gPiArICAgICAgIHJldHVybiBhbWRncHVf
c2hvd19yZXNldF9tYXNrKGJ1ZiwNCj4gPiArYWRldi0+dXNlcnFfc3VwcG9ydGVkX3Jlc2V0W0FN
REdQVV9IV19JUF9HRlhdKTsNCj4gPiArfQ0KPiA+ICsNCj4gPiArc3RhdGljIHNzaXplX3QgYW1k
Z3B1X3VzZXJxX2dldF9jb21wdXRlX3Jlc2V0X21hc2soc3RydWN0IGRldmljZSAqZGV2LA0KPiA+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBk
ZXZpY2VfYXR0cmlidXRlICphdHRyLA0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGNoYXIgKmJ1Zikgew0KPiA+ICsgICAgICAgc3RydWN0IGRybV9k
ZXZpY2UgKmRkZXYgPSBkZXZfZ2V0X2RydmRhdGEoZGV2KTsNCj4gPiArICAgICAgIHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2ID0gZHJtX3RvX2FkZXYoZGRldik7DQo+ID4gKw0KPiA+ICsgICAg
ICAgaWYgKCFhZGV2KQ0KPiA+ICsgICAgICAgICAgICAgICByZXR1cm4gLUVOT0RFVjsNCj4gPiAr
DQo+ID4gKyAgICAgICByZXR1cm4gYW1kZ3B1X3Nob3dfcmVzZXRfbWFzayhidWYsDQo+ID4gK2Fk
ZXYtPnVzZXJxX3N1cHBvcnRlZF9yZXNldFtBTURHUFVfSFdfSVBfQ09NUFVURV0pOw0KPiA+ICt9
DQo+ID4gKw0KPiA+ICBzdGF0aWMgREVWSUNFX0FUVFIocnVuX2NsZWFuZXJfc2hhZGVyLCAwMjAw
LA0KPiA+ICAgICAgICAgICAgICAgICAgICBOVUxMLCBhbWRncHVfZ2Z4X3NldF9ydW5fY2xlYW5l
cl9zaGFkZXIpOw0KPiA+DQo+ID4gQEAgLTE4NDUsNiArMTg3MSwxMiBAQCBzdGF0aWMgREVWSUNF
X0FUVFIoZ2Z4X3Jlc2V0X21hc2ssIDA0NDQsDQo+ID4gc3RhdGljIERFVklDRV9BVFRSKGNvbXB1
dGVfcmVzZXRfbWFzaywgMDQ0NCwNCj4gPiAgICAgICAgICAgICAgICAgICAgYW1kZ3B1X2dmeF9n
ZXRfY29tcHV0ZV9yZXNldF9tYXNrLCBOVUxMKTsNCj4gPg0KPiA+ICtzdGF0aWMgREVWSUNFX0FU
VFIoZ2Z4X3VzZXJxX3Jlc2V0X21hc2ssIDA0NDQsDQo+ID4gKyAgICAgICAgICAgICAgICAgIGFt
ZGdwdV91c2VycV9nZXRfZ2Z4X3Jlc2V0X21hc2ssIE5VTEwpOw0KPiA+ICsNCj4gPiArc3RhdGlj
IERFVklDRV9BVFRSKGNvbXB1dGVfdXNlcnFfcmVzZXRfbWFzaywgMDQ0NCwNCj4gPiArICAgICAg
ICAgICAgICAgICAgYW1kZ3B1X3VzZXJxX2dldF9jb21wdXRlX3Jlc2V0X21hc2ssIE5VTEwpOw0K
PiA+ICsNCj4gPiAgc3RhdGljIGludCBhbWRncHVfZ2Z4X3N5c2ZzX3hjcF9pbml0KHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2KSAgew0KPiA+ICAgICAgICAgc3RydWN0IGFtZGdwdV94Y3BfbWdy
ICp4Y3BfbWdyID0gYWRldi0+eGNwX21ncjsgQEAgLTE5MjgsNg0KPiA+ICsxOTYwLDE4IEBAIHN0
YXRpYyBpbnQgYW1kZ3B1X2dmeF9zeXNmc19yZXNldF9tYXNrX2luaXQoc3RydWN0DQo+IGFtZGdw
dV9kZXZpY2UgKmFkZXYpDQo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHI7DQo+
ID4gICAgICAgICB9DQo+ID4NCj4gPiArICAgICAgIGlmIChhZGV2LT51c2VycV9mdW5jc1tBTURH
UFVfSFdfSVBfR0ZYXSkgew0KPiA+ICsgICAgICAgICAgICAgICByID0gZGV2aWNlX2NyZWF0ZV9m
aWxlKGFkZXYtPmRldiwgJmRldl9hdHRyX2dmeF91c2VycV9yZXNldF9tYXNrKTsNCj4gPiArICAg
ICAgICAgICAgICAgaWYgKHIpDQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHI7
DQo+ID4gKyAgICAgICB9DQo+ID4gKw0KPiA+ICsgICAgICAgaWYgKGFkZXYtPnVzZXJxX2Z1bmNz
W0FNREdQVV9IV19JUF9DT01QVVRFXSkgew0KPiA+ICsgICAgICAgICAgICAgICByID0gZGV2aWNl
X2NyZWF0ZV9maWxlKGFkZXYtPmRldiwNCj4gJmRldl9hdHRyX2NvbXB1dGVfdXNlcnFfcmVzZXRf
bWFzayk7DQo+ID4gKyAgICAgICAgICAgICAgIGlmIChyKQ0KPiA+ICsgICAgICAgICAgICAgICAg
ICAgICAgIHJldHVybiByOw0KPiA+ICsgICAgICAgfQ0KPiA+ICsNCj4gPiAgICAgICAgIHJldHVy
biByOw0KPiA+ICB9DQo+ID4NCj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1X3NkbWEuYw0KPiA+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1k
Z3B1X3NkbWEuYw0KPiA+IGluZGV4IDhiOGEwNDEzODcxMS4uMmZiMjg4YjJiZmM0IDEwMDY0NA0K
PiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9zZG1hLmMNCj4gPiAr
KysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfc2RtYS5jDQo+ID4gQEAgLTQ3
MSw2ICs0NzEsMjEgQEAgc3RhdGljIHNzaXplX3QgYW1kZ3B1X2dldF9zZG1hX3Jlc2V0X21hc2so
c3RydWN0DQo+ID4gZGV2aWNlICpkZXYsICBzdGF0aWMgREVWSUNFX0FUVFIoc2RtYV9yZXNldF9t
YXNrLCAwNDQ0LA0KPiA+ICAgICAgICAgICAgICAgICAgICBhbWRncHVfZ2V0X3NkbWFfcmVzZXRf
bWFzaywgTlVMTCk7DQo+ID4NCj4gPiArc3RhdGljIHNzaXplX3QgYW1kZ3B1X2dldF9zZG1hX3Vz
ZXJxX3Jlc2V0X21hc2soc3RydWN0IGRldmljZSAqZGV2LA0KPiA+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkZXZpY2VfYXR0cmlidXRlICph
dHRyLA0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IGNoYXIgKmJ1Zikgew0KPiA+ICsgICAgICAgc3RydWN0IGRybV9kZXZpY2UgKmRkZXYgPSBkZXZf
Z2V0X2RydmRhdGEoZGV2KTsNCj4gPiArICAgICAgIHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2
ID0gZHJtX3RvX2FkZXYoZGRldik7DQo+ID4gKw0KPiA+ICsgICAgICAgaWYgKCFhZGV2KQ0KPiA+
ICsgICAgICAgICAgICAgICByZXR1cm4gLUVOT0RFVjsNCj4gPiArDQo+ID4gKyAgICAgICByZXR1
cm4gYW1kZ3B1X3Nob3dfcmVzZXRfbWFzayhidWYsDQo+ID4gK2FkZXYtPnVzZXJxX3N1cHBvcnRl
ZF9yZXNldFtBTURHUFVfSFdfSVBfRE1BXSk7DQo+ID4gK30NCj4gPiArc3RhdGljIERFVklDRV9B
VFRSKHNkbWFfdXNlcnFfcmVzZXRfbWFzaywgMDQ0NCwNCj4gPiArICAgICAgICAgICAgICAgICAg
YW1kZ3B1X2dldF9zZG1hX3VzZXJxX3Jlc2V0X21hc2ssIE5VTEwpOw0KPiA+ICsNCj4gPiAgaW50
IGFtZGdwdV9zZG1hX3N5c2ZzX3Jlc2V0X21hc2tfaW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldikgIHsNCj4gPiAgICAgICAgIGludCByID0gMDsNCj4gPiBAQCAtNDg0LDYgKzQ5OSwxMiBA
QCBpbnQgYW1kZ3B1X3NkbWFfc3lzZnNfcmVzZXRfbWFza19pbml0KHN0cnVjdA0KPiBhbWRncHVf
ZGV2aWNlICphZGV2KQ0KPiA+ICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByOw0KPiA+
ICAgICAgICAgfQ0KPiA+DQo+ID4gKyAgICAgICBpZiAoYWRldi0+dXNlcnFfZnVuY3NbQU1ER1BV
X0hXX0lQX0RNQV0pIHsNCj4gPiArICAgICAgICAgICAgICAgciA9IGRldmljZV9jcmVhdGVfZmls
ZShhZGV2LT5kZXYsDQo+ICZkZXZfYXR0cl9zZG1hX3VzZXJxX3Jlc2V0X21hc2spOw0KPiA+ICsg
ICAgICAgICAgICAgICBpZiAocikNCj4gPiArICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4g
cjsNCj4gPiArICAgICAgIH0NCj4gPiArDQo+ID4gICAgICAgICByZXR1cm4gcjsNCj4gPiAgfQ0K
PiA+DQo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV91
c2VycS5jDQo+ID4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdXNlcnEuYw0K
PiA+IGluZGV4IDE4OGRlODQ4YzIyOS4uMTVhZTcyZTJkNjc5IDEwMDY0NA0KPiA+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV91c2VycS5jDQo+ID4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3VzZXJxLmMNCj4gPiBAQCAtNDcsNiArNDcsMTYg
QEAgdTMyIGFtZGdwdV91c2VycV9nZXRfc3VwcG9ydGVkX2lwX21hc2soc3RydWN0DQo+IGFtZGdw
dV9kZXZpY2UgKmFkZXYpDQo+ID4gICAgICAgICByZXR1cm4gdXNlcnFfaXBfbWFzazsNCj4gPiAg
fQ0KPiA+DQo+ID4gK2Jvb2wgYW1kZ3B1X3VzZXJxX2lzX3Jlc2V0X3R5cGVfc3VwcG9ydGVkKHN0
cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGludCByaW5nX3R5cGUsDQo+ID4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgaW50IHJlc2V0X3R5cGUpIHsNCj4gPiArICAgIGlmIChyaW5n
X3R5cGUgPCAwIHx8IHJpbmdfdHlwZSA+PSBBTURHUFVfUklOR19UWVBFX01BWCkNCj4gPiArICAg
ICAgICByZXR1cm4gZmFsc2U7DQo+ID4gKw0KPiA+ICsgICAgcmV0dXJuIChhZGV2LT51c2VycV9z
dXBwb3J0ZWRfcmVzZXRbcmluZ190eXBlXSAmIHJlc2V0X3R5cGUpICE9DQo+ID4gKzA7IH0NCj4g
PiArDQo+ID4gIHN0YXRpYyB2b2lkIGFtZGdwdV91c2VycV9ncHVfcmVzZXQoc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYpICB7DQo+ID4gICAgICAgICBpZiAoYW1kZ3B1X2RldmljZV9zaG91bGRf
cmVjb3Zlcl9ncHUoYWRldikpIHsgQEAgLTk0LDYgKzEwNCw5DQo+ID4gQEAgYW1kZ3B1X3VzZXJx
X2RldGVjdF9hbmRfcmVzZXRfcXVldWVzKHN0cnVjdCBhbWRncHVfdXNlcnFfbWdyDQo+ICp1cV9t
Z3IpDQo+ID4gICAgICAgICAgICAgICAgIGludCByaW5nX3R5cGUgPSBxdWV1ZV90eXBlc1tpXTsN
Cj4gPiAgICAgICAgICAgICAgICAgY29uc3Qgc3RydWN0IGFtZGdwdV91c2VycV9mdW5jcyAqZnVu
Y3MgPQ0KPiA+IGFkZXYtPnVzZXJxX2Z1bmNzW3JpbmdfdHlwZV07DQo+ID4NCj4gPiArICAgICAg
ICAgICAgICAgaWYgKCFhbWRncHVfdXNlcnFfaXNfcmVzZXRfdHlwZV9zdXBwb3J0ZWQoYWRldiwg
cmluZ190eXBlLA0KPiBBTURHUFVfUkVTRVRfVFlQRV9QRVJfUVVFVUUpKQ0KPiA+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7DQo+ID4gKw0KPiA+ICAgICAgICAgICAg
ICAgICBpZiAoYXRvbWljX3JlYWQoJnVxX21nci0+dXNlcnFfY291bnRbcmluZ190eXBlXSkgPiAw
ICYmDQo+ID4gICAgICAgICAgICAgICAgICAgICBmdW5jcyAmJiBmdW5jcy0+ZGV0ZWN0X2FuZF9y
ZXNldCkgew0KPiA+ICAgICAgICAgICAgICAgICAgICAgICAgIHIgPSBmdW5jcy0+ZGV0ZWN0X2Fu
ZF9yZXNldChhZGV2LCByaW5nX3R5cGUpOw0KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9nZnhfdjExXzAuYw0KPiA+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvZ2Z4X3YxMV8wLmMNCj4gPiBpbmRleCAyNTI1MTdjZTVkNWEuLjgyYjdjMzY1ZDcyMCAxMDA2
NDQNCj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjExXzAuYw0KPiA+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92MTFfMC5jDQo+ID4gQEAgLTE4
MTUsNiArMTgxNSwxMSBAQCBzdGF0aWMgaW50IGdmeF92MTFfMF9zd19pbml0KHN0cnVjdCBhbWRn
cHVfaXBfYmxvY2sNCj4gKmlwX2Jsb2NrKQ0KPiA+ICAgICAgICAgICAgICAgICBhbWRncHVfZ2V0
X3NvZnRfZnVsbF9yZXNldF9tYXNrKCZhZGV2LT5nZnguZ2Z4X3JpbmdbMF0pOw0KPiA+ICAgICAg
ICAgYWRldi0+Z2Z4LmNvbXB1dGVfc3VwcG9ydGVkX3Jlc2V0ID0NCj4gPg0KPiA+IGFtZGdwdV9n
ZXRfc29mdF9mdWxsX3Jlc2V0X21hc2soJmFkZXYtPmdmeC5jb21wdXRlX3JpbmdbMF0pOw0KPiA+
ICsgICAgICAgYWRldi0+dXNlcnFfc3VwcG9ydGVkX3Jlc2V0W0FNREdQVV9IV19JUF9HRlhdID0N
Cj4gPiArICAgICAgICAgICAgICAgICAgICAgICBhbWRncHVfdXNlcnFfZ2V0X2Z1bGxfcmVzZXRf
bWFzayhhZGV2LA0KPiBBTURHUFVfSFdfSVBfR0ZYKTsNCj4gPiArICAgICAgIGFkZXYtPnVzZXJx
X3N1cHBvcnRlZF9yZXNldFtBTURHUFVfSFdfSVBfQ09NUFVURV0gPQ0KPiA+ICsNCj4gPiArIGFt
ZGdwdV91c2VycV9nZXRfZnVsbF9yZXNldF9tYXNrKGFkZXYsQU1ER1BVX0hXX0lQX0NPTVBVVEUp
Ow0KPiA+ICsNCj4gPiAgICAgICAgIHN3aXRjaCAoYW1kZ3B1X2lwX3ZlcnNpb24oYWRldiwgR0Nf
SFdJUCwgMCkpIHsNCj4gPiAgICAgICAgIGNhc2UgSVBfVkVSU0lPTigxMSwgMCwgMCk6DQo+ID4g
ICAgICAgICBjYXNlIElQX1ZFUlNJT04oMTEsIDAsIDIpOg0KPiA+IEBAIC0xODI0LDEyICsxODI5
LDI0IEBAIHN0YXRpYyBpbnQgZ2Z4X3YxMV8wX3N3X2luaXQoc3RydWN0DQo+IGFtZGdwdV9pcF9i
bG9jayAqaXBfYmxvY2spDQo+ID4gICAgICAgICAgICAgICAgICAgICAhYW1kZ3B1X3NyaW92X3Zm
KGFkZXYpKSB7DQo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgYWRldi0+Z2Z4LmNvbXB1dGVf
c3VwcG9ydGVkX3Jlc2V0IHw9DQo+IEFNREdQVV9SRVNFVF9UWVBFX1BFUl9RVUVVRTsNCj4gPiAg
ICAgICAgICAgICAgICAgICAgICAgICBhZGV2LT5nZnguZ2Z4X3N1cHBvcnRlZF9yZXNldCB8PQ0K
PiA+IEFNREdQVV9SRVNFVF9UWVBFX1BFUl9RVUVVRTsNCj4gPiArICAgICAgICAgICAgICAgICAg
ICAgICBpZiAoYWRldi0+dXNlcnFfZnVuY3NbQU1ER1BVX0hXX0lQX0dGWF0gJiYNCj4gPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgYWRldi0+dXNlcnFfZnVuY3NbQU1ER1BVX0hXX0lQX0dG
WF0tDQo+ID5kZXRlY3RfYW5kX3Jlc2V0KQ0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgYWRldi0+dXNlcnFfc3VwcG9ydGVkX3Jlc2V0W0FNREdQVV9IV19JUF9HRlhdIHw9DQo+
IEFNREdQVV9SRVNFVF9UWVBFX1BFUl9RVUVVRTsNCj4gPiArICAgICAgICAgICAgICAgICAgICAg
ICBpZiAoYWRldi0+dXNlcnFfZnVuY3NbQU1ER1BVX0hXX0lQX0NPTVBVVEVdICYmDQo+ID4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGFkZXYtPnVzZXJxX2Z1bmNzW0FNREdQVV9IV19JUF9D
T01QVVRFXS0NCj4gPmRldGVjdF9hbmRfcmVzZXQpDQo+ID4gKw0KPiA+ICsgYWRldi0+dXNlcnFf
c3VwcG9ydGVkX3Jlc2V0W0FNREdQVV9IV19JUF9DT01QVVRFXSB8PQ0KPiA+ICsgQU1ER1BVX1JF
U0VUX1RZUEVfUEVSX1FVRVVFOw0KPiA+ICAgICAgICAgICAgICAgICB9DQo+ID4gICAgICAgICAg
ICAgICAgIGJyZWFrOw0KPiA+ICAgICAgICAgZGVmYXVsdDoNCj4gPiAgICAgICAgICAgICAgICAg
aWYgKCFhbWRncHVfc3Jpb3ZfdmYoYWRldikpIHsNCj4gPiAgICAgICAgICAgICAgICAgICAgICAg
ICBhZGV2LT5nZnguY29tcHV0ZV9zdXBwb3J0ZWRfcmVzZXQgfD0NCj4gQU1ER1BVX1JFU0VUX1RZ
UEVfUEVSX1FVRVVFOw0KPiA+ICAgICAgICAgICAgICAgICAgICAgICAgIGFkZXYtPmdmeC5nZnhf
c3VwcG9ydGVkX3Jlc2V0IHw9DQo+ID4gQU1ER1BVX1JFU0VUX1RZUEVfUEVSX1FVRVVFOw0KPiA+
ICsgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZGV2LT51c2VycV9mdW5jc1tBTURHUFVfSFdf
SVBfR0ZYXSAmJg0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGV2LT51c2VycV9m
dW5jc1tBTURHUFVfSFdfSVBfR0ZYXS0NCj4gPmRldGVjdF9hbmRfcmVzZXQpDQo+ID4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBhZGV2LT51c2VycV9zdXBwb3J0ZWRfcmVzZXRbQU1E
R1BVX0hXX0lQX0dGWF0gfD0NCj4gQU1ER1BVX1JFU0VUX1RZUEVfUEVSX1FVRVVFOw0KPiA+ICsg
ICAgICAgICAgICAgICAgICAgICAgIGlmIChhZGV2LT51c2VycV9mdW5jc1tBTURHUFVfSFdfSVBf
Q09NUFVURV0gJiYNCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRldi0+dXNlcnFf
ZnVuY3NbQU1ER1BVX0hXX0lQX0NPTVBVVEVdLQ0KPiA+ZGV0ZWN0X2FuZF9yZXNldCkNCj4gPiAr
DQo+ID4gKyBhZGV2LT51c2VycV9zdXBwb3J0ZWRfcmVzZXRbQU1ER1BVX0hXX0lQX0NPTVBVVEVd
IHw9DQo+ID4gKyBBTURHUFVfUkVTRVRfVFlQRV9QRVJfUVVFVUU7DQo+ID4gICAgICAgICAgICAg
ICAgIH0NCj4gPiAgICAgICAgICAgICAgICAgYnJlYWs7DQo+ID4gICAgICAgICB9DQo+ID4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92MTJfMC5jDQo+ID4gYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjEyXzAuYw0KPiA+IGluZGV4IDM1ZDVhN2U5
OWE3Yy4uYzVhYzQyYTMwNzg5IDEwMDY0NA0KPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2dmeF92MTJfMC5jDQo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
Z2Z4X3YxMl8wLmMNCj4gPiBAQCAtMTU0Myw2ICsxNTQzLDExIEBAIHN0YXRpYyBpbnQgZ2Z4X3Yx
Ml8wX3N3X2luaXQoc3RydWN0IGFtZGdwdV9pcF9ibG9jaw0KPiAqaXBfYmxvY2spDQo+ID4gICAg
ICAgICAgICAgICAgIGFtZGdwdV9nZXRfc29mdF9mdWxsX3Jlc2V0X21hc2soJmFkZXYtPmdmeC5n
ZnhfcmluZ1swXSk7DQo+ID4gICAgICAgICBhZGV2LT5nZnguY29tcHV0ZV9zdXBwb3J0ZWRfcmVz
ZXQgPQ0KPiA+DQo+ID4gYW1kZ3B1X2dldF9zb2Z0X2Z1bGxfcmVzZXRfbWFzaygmYWRldi0+Z2Z4
LmNvbXB1dGVfcmluZ1swXSk7DQo+ID4gKyAgICAgICBhZGV2LT51c2VycV9zdXBwb3J0ZWRfcmVz
ZXRbQU1ER1BVX0hXX0lQX0dGWF0gPQ0KPiA+ICsgICAgICAgICAgICAgICBhbWRncHVfdXNlcnFf
Z2V0X2Z1bGxfcmVzZXRfbWFzayhhZGV2LCBBTURHUFVfSFdfSVBfR0ZYKTsNCj4gPiArICAgICAg
IGFkZXYtPnVzZXJxX3N1cHBvcnRlZF9yZXNldFtBTURHUFVfSFdfSVBfQ09NUFVURV0gPQ0KPiA+
ICsNCj4gPiArIGFtZGdwdV91c2VycV9nZXRfZnVsbF9yZXNldF9tYXNrKGFkZXYsQU1ER1BVX0hX
X0lQX0NPTVBVVEUpOw0KPiA+ICsNCj4gPiAgICAgICAgIHN3aXRjaCAoYW1kZ3B1X2lwX3ZlcnNp
b24oYWRldiwgR0NfSFdJUCwgMCkpIHsNCj4gPiAgICAgICAgIGNhc2UgSVBfVkVSU0lPTigxMiwg
MCwgMCk6DQo+ID4gICAgICAgICBjYXNlIElQX1ZFUlNJT04oMTIsIDAsIDEpOg0KPiA+IEBAIC0x
NTUxLDYgKzE1NTYsMTMgQEAgc3RhdGljIGludCBnZnhfdjEyXzBfc3dfaW5pdChzdHJ1Y3QgYW1k
Z3B1X2lwX2Jsb2NrDQo+ICppcF9ibG9jaykNCj4gPiAgICAgICAgICAgICAgICAgICAgICFhbWRn
cHVfc3Jpb3ZfdmYoYWRldikpIHsNCj4gPiAgICAgICAgICAgICAgICAgICAgICAgICBhZGV2LT5n
ZnguY29tcHV0ZV9zdXBwb3J0ZWRfcmVzZXQgfD0NCj4gQU1ER1BVX1JFU0VUX1RZUEVfUEVSX1FV
RVVFOw0KPiA+ICAgICAgICAgICAgICAgICAgICAgICAgIGFkZXYtPmdmeC5nZnhfc3VwcG9ydGVk
X3Jlc2V0IHw9DQo+ID4gQU1ER1BVX1JFU0VUX1RZUEVfUEVSX1FVRVVFOw0KPiA+ICsgICAgICAg
ICAgICAgICAgICAgICAgIGlmIChhZGV2LT51c2VycV9mdW5jc1tBTURHUFVfSFdfSVBfR0ZYXSAm
Jg0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGV2LT51c2VycV9mdW5jc1tBTURH
UFVfSFdfSVBfR0ZYXS0NCj4gPmRldGVjdF9hbmRfcmVzZXQpDQo+ID4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBhZGV2LT51c2VycV9zdXBwb3J0ZWRfcmVzZXRbQU1ER1BVX0hXX0lQ
X0dGWF0gfD0NCj4gQU1ER1BVX1JFU0VUX1RZUEVfUEVSX1FVRVVFOw0KPiA+ICsgICAgICAgICAg
ICAgICAgICAgICAgIGlmIChhZGV2LT51c2VycV9mdW5jc1tBTURHUFVfSFdfSVBfQ09NUFVURV0g
JiYNCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRldi0+dXNlcnFfZnVuY3NbQU1E
R1BVX0hXX0lQX0NPTVBVVEVdLQ0KPiA+ZGV0ZWN0X2FuZF9yZXNldCkNCj4gPiArDQo+ID4gKyBh
ZGV2LT51c2VycV9zdXBwb3J0ZWRfcmVzZXRbQU1ER1BVX0hXX0lQX0NPTVBVVEVdIHw9DQo+ID4g
KyBBTURHUFVfUkVTRVRfVFlQRV9QRVJfUVVFVUU7DQo+ID4gKw0KPiA+ICAgICAgICAgICAgICAg
ICB9DQo+ID4gICAgICAgICAgICAgICAgIGJyZWFrOw0KPiA+ICAgICAgICAgZGVmYXVsdDoNCj4g
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92Nl8wLmMNCj4g
PiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjZfMC5jDQo+ID4gaW5kZXggZGI2
ZTQxOTY3ZjEyLi44ODUwZWFmOGQyYzQgMTAwNjQ0DQo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvc2RtYV92Nl8wLmMNCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9zZG1hX3Y2XzAuYw0KPiA+IEBAIC0xMzQ5LDE5ICsxMzQ5LDYgQEAgc3RhdGljIGludCBz
ZG1hX3Y2XzBfc3dfaW5pdChzdHJ1Y3QNCj4gYW1kZ3B1X2lwX2Jsb2NrICppcF9ibG9jaykNCj4g
PiAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcjsNCj4gPiAgICAgICAgIH0NCj4gPg0K
PiA+IC0gICAgICAgYWRldi0+c2RtYS5zdXBwb3J0ZWRfcmVzZXQgPQ0KPiA+IC0gICAgICAgICAg
ICAgICBhbWRncHVfZ2V0X3NvZnRfZnVsbF9yZXNldF9tYXNrKCZhZGV2LT5zZG1hLmluc3RhbmNl
WzBdLnJpbmcpOw0KPiA+IC0gICAgICAgc3dpdGNoIChhbWRncHVfaXBfdmVyc2lvbihhZGV2LCBT
RE1BMF9IV0lQLCAwKSkgew0KPiA+IC0gICAgICAgY2FzZSBJUF9WRVJTSU9OKDYsIDAsIDApOg0K
PiA+IC0gICAgICAgY2FzZSBJUF9WRVJTSU9OKDYsIDAsIDIpOg0KPiA+IC0gICAgICAgY2FzZSBJ
UF9WRVJTSU9OKDYsIDAsIDMpOg0KPiA+IC0gICAgICAgICAgICAgICBpZiAoKGFkZXYtPnNkbWEu
aW5zdGFuY2VbMF0uZndfdmVyc2lvbiA+PSAyMSkgJiYNCj4gPiAtICAgICAgICAgICAgICAgICAg
ICFhbWRncHVfc3Jpb3ZfdmYoYWRldikpDQo+ID4gLSAgICAgICAgICAgICAgICAgICAgICAgYWRl
di0+c2RtYS5zdXBwb3J0ZWRfcmVzZXQgfD0NCj4gQU1ER1BVX1JFU0VUX1RZUEVfUEVSX1FVRVVF
Ow0KPiA+IC0gICAgICAgICAgICAgICBicmVhazsNCj4gPiAtICAgICAgIGRlZmF1bHQ6DQo+ID4g
LSAgICAgICAgICAgICAgIGJyZWFrOw0KPiA+IC0gICAgICAgfQ0KPiA+DQo+ID4gICAgICAgICBp
ZiAoYW1kZ3B1X3NkbWFfcmFzX3N3X2luaXQoYWRldikpIHsNCj4gPiAgICAgICAgICAgICAgICAg
ZGV2X2VycihhZGV2LT5kZXYsICJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBzZG1hIHJhcw0KPiA+IGJs
b2NrIVxuIik7IEBAIC0xNDEyLDYgKzEzOTksMjcgQEAgc3RhdGljIGludCBzZG1hX3Y2XzBfc3df
aW5pdChzdHJ1Y3QNCj4gYW1kZ3B1X2lwX2Jsb2NrICppcF9ibG9jaykNCj4gPiAgICAgICAgICAg
ICAgICAgYnJlYWs7DQo+ID4gICAgICAgICB9DQo+ID4NCj4gPiArICAgICAgIGFkZXYtPnNkbWEu
c3VwcG9ydGVkX3Jlc2V0ID0NCj4gPiArICAgICAgICAgICAgICAgYW1kZ3B1X2dldF9zb2Z0X2Z1
bGxfcmVzZXRfbWFzaygmYWRldi0+c2RtYS5pbnN0YW5jZVswXS5yaW5nKTsNCj4gPiArICAgICAg
IGFkZXYtPnVzZXJxX3N1cHBvcnRlZF9yZXNldFtBTURHUFVfSFdfSVBfRE1BXSA9DQo+ID4gKyAg
ICAgICAgICAgICAgIGFtZGdwdV91c2VycV9nZXRfZnVsbF9yZXNldF9tYXNrKGFkZXYsDQo+ID4g
KyBBTURHUFVfSFdfSVBfRE1BKTsNCj4gPiArDQo+ID4gKyAgICAgICBzd2l0Y2ggKGFtZGdwdV9p
cF92ZXJzaW9uKGFkZXYsIFNETUEwX0hXSVAsIDApKSB7DQo+ID4gKyAgICAgICBjYXNlIElQX1ZF
UlNJT04oNiwgMCwgMCk6DQo+ID4gKyAgICAgICBjYXNlIElQX1ZFUlNJT04oNiwgMCwgMik6DQo+
ID4gKyAgICAgICBjYXNlIElQX1ZFUlNJT04oNiwgMCwgMyk6DQo+ID4gKyAgICAgICAgICAgICAg
IGlmICgoYWRldi0+c2RtYS5pbnN0YW5jZVswXS5md192ZXJzaW9uID49IDIxKSAmJg0KPiA+ICsg
ICAgICAgICAgICAgICAgICAgIWFtZGdwdV9zcmlvdl92ZihhZGV2KSkgew0KPiA+ICsgICAgICAg
ICAgICAgICAgICAgICAgIGFkZXYtPnNkbWEuc3VwcG9ydGVkX3Jlc2V0IHw9DQo+IEFNREdQVV9S
RVNFVF9UWVBFX1BFUl9RVUVVRTsNCj4gPiArICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWRl
di0+dXNlcnFfZnVuY3NbQU1ER1BVX0hXX0lQX0RNQV0gJiYNCj4gPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgYWRldi0+dXNlcnFfZnVuY3NbQU1ER1BVX0hXX0lQX0RNQV0tDQo+ID5kZXRl
Y3RfYW5kX3Jlc2V0KQ0KPiA+ICsNCj4gPiArIGFkZXYtPnVzZXJxX3N1cHBvcnRlZF9yZXNldFtB
TURHUFVfSFdfSVBfRE1BXSB8PQ0KPiA+ICsgQU1ER1BVX1JFU0VUX1RZUEVfUEVSX1FVRVVFOw0K
PiA+ICsNCj4gPiArICAgICAgICAgICAgICAgfQ0KPiA+ICsgICAgICAgICAgICAgICBicmVhazsN
Cj4gPiArICAgICAgIGRlZmF1bHQ6DQo+ID4gKyAgICAgICAgICAgICAgIGJyZWFrOw0KPiA+ICsg
ICAgICAgfQ0KPiA+ICAgICAgICAgciA9IGFtZGdwdV9zZG1hX3N5c2ZzX3Jlc2V0X21hc2tfaW5p
dChhZGV2KTsNCj4gPiAgICAgICAgIGlmIChyKQ0KPiA+ICAgICAgICAgICAgICAgICByZXR1cm4g
cjsNCj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92N18w
LmMNCj4gPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjdfMC5jDQo+ID4gaW5k
ZXggMzI2ZWNjOGQzN2QyLi45ZGU0NmFjOGIxZGIgMTAwNjQ0DQo+ID4gLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvc2RtYV92N18wLmMNCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9zZG1hX3Y3XzAuYw0KPiA+IEBAIC0xMzM1LDE0ICsxMzM1LDYgQEAgc3RhdGlj
IGludCBzZG1hX3Y3XzBfc3dfaW5pdChzdHJ1Y3QNCj4gYW1kZ3B1X2lwX2Jsb2NrICppcF9ibG9j
aykNCj4gPiAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcjsNCj4gPiAgICAgICAgIH0N
Cj4gPg0KPiA+IC0gICAgICAgYWRldi0+c2RtYS5zdXBwb3J0ZWRfcmVzZXQgPQ0KPiA+IC0gICAg
ICAgICAgICAgICBhbWRncHVfZ2V0X3NvZnRfZnVsbF9yZXNldF9tYXNrKCZhZGV2LT5zZG1hLmlu
c3RhbmNlWzBdLnJpbmcpOw0KPiA+IC0gICAgICAgaWYgKCFhbWRncHVfc3Jpb3ZfdmYoYWRldikp
DQo+ID4gLSAgICAgICAgICAgICAgIGFkZXYtPnNkbWEuc3VwcG9ydGVkX3Jlc2V0IHw9DQo+IEFN
REdQVV9SRVNFVF9UWVBFX1BFUl9RVUVVRTsNCj4gPiAtDQo+ID4gLSAgICAgICByID0gYW1kZ3B1
X3NkbWFfc3lzZnNfcmVzZXRfbWFza19pbml0KGFkZXYpOw0KPiA+IC0gICAgICAgaWYgKHIpDQo+
ID4gLSAgICAgICAgICAgICAgIHJldHVybiByOw0KPiA+ICAgICAgICAgLyogQWxsb2NhdGUgbWVt
b3J5IGZvciBTRE1BIElQIER1bXAgYnVmZmVyICovDQo+ID4gICAgICAgICBwdHIgPSBrY2FsbG9j
KGFkZXYtPnNkbWEubnVtX2luc3RhbmNlcyAqIHJlZ19jb3VudCwgc2l6ZW9mKHVpbnQzMl90KSwN
Cj4gR0ZQX0tFUk5FTCk7DQo+ID4gICAgICAgICBpZiAocHRyKQ0KPiA+IEBAIC0xMzYwLDYgKzEz
NTIsMjIgQEAgc3RhdGljIGludCBzZG1hX3Y3XzBfc3dfaW5pdChzdHJ1Y3QNCj4gYW1kZ3B1X2lw
X2Jsb2NrICppcF9ibG9jaykNCj4gPiAgICAgICAgICAgICAgICAgYnJlYWs7DQo+ID4gICAgICAg
ICB9DQo+ID4NCj4gPiArICAgICAgIGFkZXYtPnNkbWEuc3VwcG9ydGVkX3Jlc2V0ID0NCj4gPiAr
ICAgICAgICAgICAgICAgYW1kZ3B1X2dldF9zb2Z0X2Z1bGxfcmVzZXRfbWFzaygmYWRldi0+c2Rt
YS5pbnN0YW5jZVswXS5yaW5nKTsNCj4gPiArICAgICAgIGFkZXYtPnVzZXJxX3N1cHBvcnRlZF9y
ZXNldFtBTURHUFVfSFdfSVBfRE1BXSA9DQo+ID4gKyAgICAgICAgICAgICAgIGFtZGdwdV91c2Vy
cV9nZXRfZnVsbF9yZXNldF9tYXNrKGFkZXYsDQo+ID4gKyBBTURHUFVfSFdfSVBfRE1BKTsNCj4g
PiArDQo+ID4gKyAgICAgICBpZiAoIWFtZGdwdV9zcmlvdl92ZihhZGV2KSkgew0KPiA+ICsgICAg
ICAgICAgICAgICBhZGV2LT5zZG1hLnN1cHBvcnRlZF9yZXNldCB8PQ0KPiBBTURHUFVfUkVTRVRf
VFlQRV9QRVJfUVVFVUU7DQo+ID4gKyAgICAgICAgICAgICAgIGlmIChhZGV2LT51c2VycV9mdW5j
c1tBTURHUFVfSFdfSVBfRE1BXSAmJg0KPiA+ICsgICAgICAgICAgICAgICAgICAgYWRldi0+dXNl
cnFfZnVuY3NbQU1ER1BVX0hXX0lQX0RNQV0tPmRldGVjdF9hbmRfcmVzZXQpDQo+ID4gKyAgICAg
ICAgICAgICAgICAgICAgICAgYWRldi0+dXNlcnFfc3VwcG9ydGVkX3Jlc2V0W0FNREdQVV9IV19J
UF9ETUFdDQo+ID4gKyB8PSBBTURHUFVfUkVTRVRfVFlQRV9QRVJfUVVFVUU7DQo+ID4gKw0KPiA+
ICsgICAgICAgfQ0KPiA+ICsgICAgICAgciA9IGFtZGdwdV9zZG1hX3N5c2ZzX3Jlc2V0X21hc2tf
aW5pdChhZGV2KTsNCj4gPiArICAgICAgIGlmIChyKQ0KPiA+ICsgICAgICAgICAgICAgICByZXR1
cm4gcjsNCj4gPiArDQo+ID4gICAgICAgICByZXR1cm4gcjsNCj4gPiAgfQ0KPiA+DQo+ID4gLS0N
Cj4gPiAyLjQ5LjANCj4gPg0K
