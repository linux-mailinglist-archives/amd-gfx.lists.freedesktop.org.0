Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 229E3A59E9
	for <lists+amd-gfx@lfdr.de>; Mon,  2 Sep 2019 16:56:51 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A745B89A7A;
	Mon,  2 Sep 2019 14:56:49 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-wm1-x341.google.com (mail-wm1-x341.google.com
 [IPv6:2a00:1450:4864:20::341])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0BE9989A7A
 for <amd-gfx@lists.freedesktop.org>; Mon,  2 Sep 2019 14:56:47 +0000 (UTC)
Received: by mail-wm1-x341.google.com with SMTP id t17so14928485wmi.2
 for <amd-gfx@lists.freedesktop.org>; Mon, 02 Sep 2019 07:56:47 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:reply-to:subject:to:cc:references:from
 :message-id:date:user-agent:mime-version:in-reply-to
 :content-transfer-encoding:content-language;
 bh=NQg/FH5T1pRMATggAAC88FJH5w6ypSpuSyWCVcQke6Y=;
 b=K2TzQif6PrecjYayG862A4ExbGBmSIdQeXvj4j6dt5hvAinbrmrLnP3X7/RfsFOwZl
 QORNTsF+rXnaVFd13o5tUL5B4i092T6B/Am9EA5yta1DnpAjwvUP2zqBW9gpUeY2C4UD
 Jy0JLANMaSnaUZ71/CQCAw6fOqa553Npo1mudNmxsc34LHBHbvkWLGtNgVvjHJiUWErg
 GiLh/W/Xu83013gk5DbSob7PWa+y0diO/FZqaiEqXlp3pb4SmLt1IwHk+vklnlb9sWlo
 IwOsu7jiHpwywfwXkS4TBDfyxYM3cyPX+RnzjyzqDUGuhganSqo2J8j1vBnC/d5nAfJg
 ip7g==
X-Gm-Message-State: APjAAAUz+kyP8P9ISoBH7k2UaRH04F2IcSlkxNCg/rEu2s4tWSFKguww
 GqwSJ5K87HeaO/vBAqWtsV8xv2zZ
X-Google-Smtp-Source: APXvYqwy14M+iPQkmt88EAOwu4JZtJFJBoXjF4kQpntRiqYVHQ4Y+5tWBaCpqx7qxsK4LybjJhHEUA==
X-Received: by 2002:a1c:f007:: with SMTP id a7mr34047972wmb.172.1567436206198; 
 Mon, 02 Sep 2019 07:56:46 -0700 (PDT)
Received: from ?IPv6:2a02:908:1252:fb60:be8a:bd56:1f94:86e7?
 ([2a02:908:1252:fb60:be8a:bd56:1f94:86e7])
 by smtp.gmail.com with ESMTPSA id f23sm13153419wmf.1.2019.09.02.07.56.45
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Mon, 02 Sep 2019 07:56:45 -0700 (PDT)
Subject: Re: [PATCH 3/3] drm/amdgpu: remove amdgpu_cs_try_evict
To: Kenny Ho <y2kenny@gmail.com>, =?UTF-8?Q?Christian_K=c3=b6nig?=
 <christian.koenig@amd.com>
References: <20190902105219.2813-1-christian.koenig@amd.com>
 <20190902105219.2813-3-christian.koenig@amd.com>
 <CAOWid-dhHxhuPRmz26POaFKnAo3LfvayGnEqA-wLCRn3kNsKsw@mail.gmail.com>
 <4e8e46ea-4492-480e-bcd3-58cc563e4520@gmail.com>
 <CAOWid-cCsb3OifZhuKA3-uPxj=S9TS96HBYb5b-xM-7+yzNRXA@mail.gmail.com>
From: =?UTF-8?Q?Christian_K=c3=b6nig?= <ckoenig.leichtzumerken@gmail.com>
Message-ID: <bcc9d702-2f2b-a510-a390-384b3d18a9fb@gmail.com>
Date: Mon, 2 Sep 2019 16:56:43 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <CAOWid-cCsb3OifZhuKA3-uPxj=S9TS96HBYb5b-xM-7+yzNRXA@mail.gmail.com>
Content-Language: en-US
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=reply-to:subject:to:cc:references:from:message-id:date:user-agent
 :mime-version:in-reply-to:content-transfer-encoding:content-language;
 bh=NQg/FH5T1pRMATggAAC88FJH5w6ypSpuSyWCVcQke6Y=;
 b=cXKc2JgAsaJe61TnhLgd4MXeUR5Ew9pHzjqMa1RAlhYd6CXeQQfZARzQ5TMa3wj/Ji
 gLRmkXkrFXmmIubVwxutRjvMiE3ZCvoxLuowWcqUf3+I2u5S1oQbDoApiJCxnXIERKYA
 1WNt9J3nCPY7BWh7F8iAwac6vCUmaMniTma3UBLcPX/y+7eesfDmJusifiqFVvNVxA4N
 zHr2IqSsmw0rYoGVAlXJCXVvTAPg2qpU0USk3P0ozgjEytfsacXC4O3+Urj9jWgLhv8u
 H1v7UbBnKi367bQEiOK2C00DumiPHj8g/VZDhsrKuZXDqOF6ATs29ndA/08qs8SqKx/R
 rpwQ==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Reply-To: christian.koenig@amd.com
Cc: amd-gfx list <amd-gfx@lists.freedesktop.org>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

UFRFIG1lYW5zIFBhZ2UgVGFibGUgRW50cnkuCgpTdGFydGluZyB3aXRoIFZlZ2ExMCB3ZSBoYXZl
IG11bHRpIGxldmVsIHBhZ2UgdGFibGVzIGFuZCB3aGVuIHlvdSAKY29udGludW91c2x5IGFsbG9j
YXRlIDJNQiAob3IgZXZlbiAxR0IpIHlvdSBjYW4gc2V0IGEgYml0IGluIHRoZSAKaGllcmFyY2h5
IHRoYXQgdGhlIHdhbGtlciBzaG91bGQgc3RvcCBhbmQgdGFrZSB0aGUgYWRkcmVzcyBhbmQgZmxh
Z3MgZm9yIAp0aGUgd2hvbGUgMk1CIGJsb2NrLgoKVGhlIHJlc3VsdCBpcyB0aGF0IHdpdGggNEsg
cGFnZXMgeW91IG5lZWQgYW4gYWRkaXRpb25hbCBsZXZlbCBpbiB0aGUgCmhpZXJhcmNoeSBjb21w
YXJlZCB0byAyTUIgcGFnZXMgYW5kIHNvIG1vcmUgbWVtb3J5LgoKUmVnYXJkcywKQ2hyaXN0aWFu
LgoKQW0gMDIuMDkuMTkgdW0gMTY6NDcgc2NocmllYiBLZW5ueSBIbzoKPiBBaCBvaywgdGhhbmtz
IGZvciB0aGUgZXhwbGFuYXRpb24uICBBYm91dCB0aGUgbGFzdCBiaXQsIHdoYXQgaXMgdGhlCj4g
cmVhc29uIGJlaGluZCB0aGUgZGlmZmVyZW5jZXMgaW4gcGFnZSBzaXplPyAgKEkgYXNzdW1lIHRo
YXQncyB3aGF0IHlvdQo+IG1lYW50IGJ5IFBURT8gIE9yIGlzIHRoYXQgc29tZXRoaW5nIGVsc2U/
KQo+Cj4gUmVnYXJkcywKPiBLZW5ueQo+Cj4gT24gTW9uLCBTZXAgMiwgMjAxOSBhdCAxMDozMSBB
TSBDaHJpc3RpYW4gS8O2bmlnCj4gPGNrb2VuaWcubGVpY2h0enVtZXJrZW5AZ21haWwuY29tPiB3
cm90ZToKPj4gSGkgS2VubnksCj4+Cj4+IFdoZW4gd2UgZG8gYSBDUyB3ZSBoYXZlIGEgY2VydGFp
biBzZXQgb2YgYnVmZmVycyB3aGljaCB0aGUgc3VibWlzc2lvbiBpcwo+PiB3b3JraW5nIHdpdGgg
YW5kIGFyZSBsb2NrZWQgZG93biB3aGlsZSB3ZSBwcmVwYXJlIHRoZSBzdWJtaXNzaW9uLgo+Pgo+
PiBUaGlzIHdvcmtpbmcgc2V0IGNvbnRhaW5zIG9mIHRoZSBidWZmZXJzIGluIHRoZSBCTyBsaXN0
IGFzIHdlbGwgYXMgdGhlCj4+IG9uZSBpbiB0aGUgVk0gcGx1cyBvbmUgb3IgdHdvIGZvciBDU0Eg
YW5kIHVzZXIgZmVuY2VzIGV0Yy4uCj4+Cj4+IE5vdyB3aGF0IGNhbiBoYXBwZW4gaXMgdGhhdCB3
ZSBmaW5kIHRoYXQgd2UgbmVlZCB0byBhbGxvY2F0ZSBzb21lIHBhZ2UKPj4gdGFibGVzIGR1cmlu
ZyB0aGUgQ1MgYW5kIHdoZW4gYSBsb3Qgb2YgQk9zIGFyZSBsb2NrZWQgZG93biBhbGxvY2F0aW5n
IGEKPj4gcGFnZSB0YWJsZSBjYW4gZmFpbCBiZWNhdXNlIHdlIGNhbid0IGV2aWN0IG90aGVyIEJP
cy4KPj4KPj4gV2hhdCB0aGlzIGNvZGUgdHJpZXMgdG9kbyBpcyB0byBldmljdCBzdHVmZiBmcm9t
IHRoZSBCTyBsaXN0IHRvIG1ha2UKPj4gcm9vbSBmb3IgVk0gQk9zLCBidXQgc2luY2Ugbm93IG11
Y2ggbW9yZSBCT3MgYXJlIGJvdW5kIHRvIHRoZSBWTSB0aGlzCj4+IGRvZXNuJ3Qgd29yayBhbnkg
bW9yZS4KPj4KPj4KPj4gVGhlIHJvb3Qgb2YgdGhlIHByb2JsZW0gaXMgdGhhdCBpdCBpcyByZWFs
bHkgdHJpY2t5IHRvIGZpZ3VyZSBvdXQgaG93Cj4+IG11Y2ggbWVtb3J5IHlvdSBuZWVkIGZvciB0
aGUgcGFnZSB0YWJsZXMgaW4gdGhlIGZpcnN0IHBsYWNlLiBTZWUgZm9yIGEKPj4gQk8gaW4gVlJB
TSB3ZSB1c3VhbGx5IG5lZWQgb25seSBvbmUgUFRFIGZvciBlYWNoIDJNQiwgYnV0IGZvciBhIEJP
IGluCj4+IHN5c3RlbSBtZW1vcnkgd2UgbmVlZCBvbmUgUFRFIGZvciBlYWNoIDRLIG9mIG1lbW9y
eS4KPj4KPj4gU28gd2hhdCBjYW4gaGFwcGVuIGlzIHRoYXQgeW91IGV2aWN0IHNvbWV0aGluZyBm
cm9tIFZSQU0gYmVjYXVzZSB5b3UKPj4gbmVlZCByb29tIGFuZCB0aGF0IGV2aWN0aW9uIGluIHR1
cm4gbWFrZXMgeW91IG5lZWQgZXZlbiBtb3JlIHJvb20uLi4uLgo+Pgo+PiBJdCBjYW4gdGFrZSBh
IHdoaWxlIHVudGlsIHRoaXMgcmVhY2hlcyBhIHN0YWJsZSBwb2ludCwgc28gdGhpcyBwYXRjaCBz
ZXQKPj4gaGVyZSBzd2l0Y2hlZCBmcm9tIGEgZHluYW1pYyBhcHByb2FjaCB0byBqdXN0IGFzc3Vt
aW5nIHRoZSB3b3JzdCBhbmQKPj4gcmVzZXJ2aW5nIHNvbWUgbWVtb3J5IGZvciBwYWdlIHRhYmxl
cy4KPj4KPj4gUmVnYXJkcywKPj4gQ2hyaXN0aWFuLgo+Pgo+PiBBbSAwMi4wOS4xOSB1bSAxNjow
NyBzY2hyaWViIEtlbm55IEhvOgo+Pj4gSGV5IENocmlzdGlhbiwKPj4+Cj4+PiBDYW4geW91IGdv
IGludG8gZGV0YWlscyBhIGJpdCBtb3JlIG9uIHRoZSBob3cgYW5kIHdoeSB0aGlzIGRvZXNuJ3QK
Pj4+IHdvcmsgd2VsbCBhbnltb3JlPyAgKHN1Y2ggYXMgaXRzIHJlbGF0aW9uc2hpcCB3aXRoIHBl
ciBWTSBCT3M/KSAgSSBhbQo+Pj4gY3VyaW91cyB0byBsZWFybiBtb3JlIGJlY2F1c2UgSSB3YXMg
cmVhZGluZyBpbnRvIHRoaXMgY2h1bmsgb2YgY29kZQo+Pj4gZWFybGllci4gIElzIHRoaXMgc29t
ZXRoaW5nIHRoYXQgdGhlIFNocmlua2VyIEFQSSBjYW4gaGVscCB3aXRoPwo+Pj4KPj4+IFJlZ2Fy
ZHMsCj4+PiBLZW5ueQo+Pj4KPj4+IE9uIE1vbiwgU2VwIDIsIDIwMTkgYXQgNjo1MiBBTSBDaHJp
c3RpYW4gS8O2bmlnCj4+PiA8Y2tvZW5pZy5sZWljaHR6dW1lcmtlbkBnbWFpbC5jb20+IHdyb3Rl
Ogo+Pj4+IFRyeWluZyB0byBldmljdCB0aGluZ3MgZnJvbSB0aGUgY3VycmVudCB3b3JraW5nIHNl
dCBkb2Vzbid0IHdvcmsgdGhhdAo+Pj4+IHdlbGwgYW55bW9yZSBiZWNhdXNlIG9mIHBlciBWTSBC
T3MuCj4+Pj4KPj4+PiBSZWx5IG9uIHJlc2VydmluZyBWUkFNIGZvciBwYWdlIHRhYmxlcyB0byBh
dm9pZCBjb250ZW50aW9uLgo+Pj4+Cj4+Pj4gU2lnbmVkLW9mZi1ieTogQ2hyaXN0aWFuIEvDtm5p
ZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPgo+Pj4+IC0tLQo+Pj4+ICAgIGRyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2FtZGdwdS5oICAgIHwgIDEgLQo+Pj4+ICAgIGRyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV9jcy5jIHwgNzEgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0K
Pj4+PiAgICAyIGZpbGVzIGNoYW5nZWQsIDEgaW5zZXJ0aW9uKCspLCA3MSBkZWxldGlvbnMoLSkK
Pj4+Pgo+Pj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHUu
aCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdS5oCj4+Pj4gaW5kZXggYTIzNjIx
M2Y4ZThlLi5kMTk5NTE1NjczM2UgMTAwNjQ0Cj4+Pj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1LmgKPj4+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9h
bWRncHUuaAo+Pj4+IEBAIC00NzgsNyArNDc4LDYgQEAgc3RydWN0IGFtZGdwdV9jc19wYXJzZXIg
ewo+Pj4+ICAgICAgICAgICB1aW50NjRfdCAgICAgICAgICAgICAgICAgICAgICAgIGJ5dGVzX21v
dmVkX3Zpc190aHJlc2hvbGQ7Cj4+Pj4gICAgICAgICAgIHVpbnQ2NF90ICAgICAgICAgICAgICAg
ICAgICAgICAgYnl0ZXNfbW92ZWQ7Cj4+Pj4gICAgICAgICAgIHVpbnQ2NF90ICAgICAgICAgICAg
ICAgICAgICAgICAgYnl0ZXNfbW92ZWRfdmlzOwo+Pj4+IC0gICAgICAgc3RydWN0IGFtZGdwdV9i
b19saXN0X2VudHJ5ICAgICAqZXZpY3RhYmxlOwo+Pj4+Cj4+Pj4gICAgICAgICAgIC8qIHVzZXIg
ZmVuY2UgKi8KPj4+PiAgICAgICAgICAgc3RydWN0IGFtZGdwdV9ib19saXN0X2VudHJ5ICAgICB1
Zl9lbnRyeTsKPj4+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1k
Z3B1X2NzLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfY3MuYwo+Pj4+IGlu
ZGV4IGZkOTViNTg2YjU5MC4uMDMxODJkOTY4ZDNkIDEwMDY0NAo+Pj4+IC0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9jcy5jCj4+Pj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvYW1kZ3B1X2NzLmMKPj4+PiBAQCAtNDQ3LDc1ICs0NDcsMTIgQEAgc3RhdGlj
IGludCBhbWRncHVfY3NfYm9fdmFsaWRhdGUoc3RydWN0IGFtZGdwdV9jc19wYXJzZXIgKnAsCj4+
Pj4gICAgICAgICAgIHJldHVybiByOwo+Pj4+ICAgIH0KPj4+Pgo+Pj4+IC0vKiBMYXN0IHJlc29y
dCwgdHJ5IHRvIGV2aWN0IHNvbWV0aGluZyBmcm9tIHRoZSBjdXJyZW50IHdvcmtpbmcgc2V0ICov
Cj4+Pj4gLXN0YXRpYyBib29sIGFtZGdwdV9jc190cnlfZXZpY3Qoc3RydWN0IGFtZGdwdV9jc19w
YXJzZXIgKnAsCj4+Pj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgYW1k
Z3B1X2JvICp2YWxpZGF0ZWQpCj4+Pj4gLXsKPj4+PiAtICAgICAgIHVpbnQzMl90IGRvbWFpbiA9
IHZhbGlkYXRlZC0+YWxsb3dlZF9kb21haW5zOwo+Pj4+IC0gICAgICAgc3RydWN0IHR0bV9vcGVy
YXRpb25fY3R4IGN0eCA9IHsgdHJ1ZSwgZmFsc2UgfTsKPj4+PiAtICAgICAgIGludCByOwo+Pj4+
IC0KPj4+PiAtICAgICAgIGlmICghcC0+ZXZpY3RhYmxlKQo+Pj4+IC0gICAgICAgICAgICAgICBy
ZXR1cm4gZmFsc2U7Cj4+Pj4gLQo+Pj4+IC0gICAgICAgZm9yICg7JnAtPmV2aWN0YWJsZS0+dHYu
aGVhZCAhPSAmcC0+dmFsaWRhdGVkOwo+Pj4+IC0gICAgICAgICAgICBwLT5ldmljdGFibGUgPSBs
aXN0X3ByZXZfZW50cnkocC0+ZXZpY3RhYmxlLCB0di5oZWFkKSkgewo+Pj4+IC0KPj4+PiAtICAg
ICAgICAgICAgICAgc3RydWN0IGFtZGdwdV9ib19saXN0X2VudHJ5ICpjYW5kaWRhdGUgPSBwLT5l
dmljdGFibGU7Cj4+Pj4gLSAgICAgICAgICAgICAgIHN0cnVjdCBhbWRncHVfYm8gKmJvID0gdHRt
X3RvX2FtZGdwdV9ibyhjYW5kaWRhdGUtPnR2LmJvKTsKPj4+PiAtICAgICAgICAgICAgICAgc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSBhbWRncHVfdHRtX2FkZXYoYm8tPnRiby5iZGV2KTsK
Pj4+PiAtICAgICAgICAgICAgICAgYm9vbCB1cGRhdGVfYnl0ZXNfbW92ZWRfdmlzOwo+Pj4+IC0g
ICAgICAgICAgICAgICB1aW50MzJfdCBvdGhlcjsKPj4+PiAtCj4+Pj4gLSAgICAgICAgICAgICAg
IC8qIElmIHdlIHJlYWNoZWQgb3VyIGN1cnJlbnQgQk8gd2UgY2FuIGZvcmdldCBpdCAqLwo+Pj4+
IC0gICAgICAgICAgICAgICBpZiAoYm8gPT0gdmFsaWRhdGVkKQo+Pj4+IC0gICAgICAgICAgICAg
ICAgICAgICAgIGJyZWFrOwo+Pj4+IC0KPj4+PiAtICAgICAgICAgICAgICAgLyogV2UgY2FuJ3Qg
bW92ZSBwaW5uZWQgQk9zIGhlcmUgKi8KPj4+PiAtICAgICAgICAgICAgICAgaWYgKGJvLT5waW5f
Y291bnQpCj4+Pj4gLSAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7Cj4+Pj4gLQo+Pj4+
IC0gICAgICAgICAgICAgICBvdGhlciA9IGFtZGdwdV9tZW1fdHlwZV90b19kb21haW4oYm8tPnRi
by5tZW0ubWVtX3R5cGUpOwo+Pj4+IC0KPj4+PiAtICAgICAgICAgICAgICAgLyogQ2hlY2sgaWYg
dGhpcyBCTyBpcyBpbiBvbmUgb2YgdGhlIGRvbWFpbnMgd2UgbmVlZCBzcGFjZSBmb3IgKi8KPj4+
PiAtICAgICAgICAgICAgICAgaWYgKCEob3RoZXIgJiBkb21haW4pKQo+Pj4+IC0gICAgICAgICAg
ICAgICAgICAgICAgIGNvbnRpbnVlOwo+Pj4+IC0KPj4+PiAtICAgICAgICAgICAgICAgLyogQ2hl
Y2sgaWYgd2UgY2FuIG1vdmUgdGhpcyBCTyBzb21ld2hlcmUgZWxzZSAqLwo+Pj4+IC0gICAgICAg
ICAgICAgICBvdGhlciA9IGJvLT5hbGxvd2VkX2RvbWFpbnMgJiB+ZG9tYWluOwo+Pj4+IC0gICAg
ICAgICAgICAgICBpZiAoIW90aGVyKQo+Pj4+IC0gICAgICAgICAgICAgICAgICAgICAgIGNvbnRp
bnVlOwo+Pj4+IC0KPj4+PiAtICAgICAgICAgICAgICAgLyogR29vZCB3ZSBjYW4gdHJ5IHRvIG1v
dmUgdGhpcyBCTyBzb21ld2hlcmUgZWxzZSAqLwo+Pj4+IC0gICAgICAgICAgICAgICB1cGRhdGVf
Ynl0ZXNfbW92ZWRfdmlzID0KPj4+PiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFh
bWRncHVfZ21jX3ZyYW1fZnVsbF92aXNpYmxlKCZhZGV2LT5nbWMpICYmCj4+Pj4gLSAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBhbWRncHVfYm9faW5fY3B1X3Zpc2libGVfdnJhbShibyk7
Cj4+Pj4gLSAgICAgICAgICAgICAgIGFtZGdwdV9ib19wbGFjZW1lbnRfZnJvbV9kb21haW4oYm8s
IG90aGVyKTsKPj4+PiAtICAgICAgICAgICAgICAgciA9IHR0bV9ib192YWxpZGF0ZSgmYm8tPnRi
bywgJmJvLT5wbGFjZW1lbnQsICZjdHgpOwo+Pj4+IC0gICAgICAgICAgICAgICBwLT5ieXRlc19t
b3ZlZCArPSBjdHguYnl0ZXNfbW92ZWQ7Cj4+Pj4gLSAgICAgICAgICAgICAgIGlmICh1cGRhdGVf
Ynl0ZXNfbW92ZWRfdmlzKQo+Pj4+IC0gICAgICAgICAgICAgICAgICAgICAgIHAtPmJ5dGVzX21v
dmVkX3ZpcyArPSBjdHguYnl0ZXNfbW92ZWQ7Cj4+Pj4gLQo+Pj4+IC0gICAgICAgICAgICAgICBp
ZiAodW5saWtlbHkocikpCj4+Pj4gLSAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7Cj4+Pj4g
LQo+Pj4+IC0gICAgICAgICAgICAgICBwLT5ldmljdGFibGUgPSBsaXN0X3ByZXZfZW50cnkocC0+
ZXZpY3RhYmxlLCB0di5oZWFkKTsKPj4+PiAtICAgICAgICAgICAgICAgbGlzdF9tb3ZlKCZjYW5k
aWRhdGUtPnR2LmhlYWQsICZwLT52YWxpZGF0ZWQpOwo+Pj4+IC0KPj4+PiAtICAgICAgICAgICAg
ICAgcmV0dXJuIHRydWU7Cj4+Pj4gLSAgICAgICB9Cj4+Pj4gLQo+Pj4+IC0gICAgICAgcmV0dXJu
IGZhbHNlOwo+Pj4+IC19Cj4+Pj4gLQo+Pj4+ICAgIHN0YXRpYyBpbnQgYW1kZ3B1X2NzX3ZhbGlk
YXRlKHZvaWQgKnBhcmFtLCBzdHJ1Y3QgYW1kZ3B1X2JvICpibykKPj4+PiAgICB7Cj4+Pj4gICAg
ICAgICAgIHN0cnVjdCBhbWRncHVfY3NfcGFyc2VyICpwID0gcGFyYW07Cj4+Pj4gICAgICAgICAg
IGludCByOwo+Pj4+Cj4+Pj4gLSAgICAgICBkbyB7Cj4+Pj4gLSAgICAgICAgICAgICAgIHIgPSBh
bWRncHVfY3NfYm9fdmFsaWRhdGUocCwgYm8pOwo+Pj4+IC0gICAgICAgfSB3aGlsZSAociA9PSAt
RU5PTUVNICYmIGFtZGdwdV9jc190cnlfZXZpY3QocCwgYm8pKTsKPj4+PiArICAgICAgIHIgPSBh
bWRncHVfY3NfYm9fdmFsaWRhdGUocCwgYm8pOwo+Pj4+ICAgICAgICAgICBpZiAocikKPj4+PiAg
ICAgICAgICAgICAgICAgICByZXR1cm4gcjsKPj4+Pgo+Pj4+IEBAIC01NTQsOSArNDkxLDYgQEAg
c3RhdGljIGludCBhbWRncHVfY3NfbGlzdF92YWxpZGF0ZShzdHJ1Y3QgYW1kZ3B1X2NzX3BhcnNl
ciAqcCwKPj4+PiAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpbmRpbmdfdXNlcnB0ciA9IHRy
dWU7Cj4+Pj4gICAgICAgICAgICAgICAgICAgfQo+Pj4+Cj4+Pj4gLSAgICAgICAgICAgICAgIGlm
IChwLT5ldmljdGFibGUgPT0gbG9iaikKPj4+PiAtICAgICAgICAgICAgICAgICAgICAgICBwLT5l
dmljdGFibGUgPSBOVUxMOwo+Pj4+IC0KPj4+PiAgICAgICAgICAgICAgICAgICByID0gYW1kZ3B1
X2NzX3ZhbGlkYXRlKHAsIGJvKTsKPj4+PiAgICAgICAgICAgICAgICAgICBpZiAocikKPj4+PiAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByOwo+Pj4+IEBAIC02NTksOSArNTkzLDYg
QEAgc3RhdGljIGludCBhbWRncHVfY3NfcGFyc2VyX2JvcyhzdHJ1Y3QgYW1kZ3B1X2NzX3BhcnNl
ciAqcCwKPj4+PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZw
LT5ieXRlc19tb3ZlZF92aXNfdGhyZXNob2xkKTsKPj4+PiAgICAgICAgICAgcC0+Ynl0ZXNfbW92
ZWQgPSAwOwo+Pj4+ICAgICAgICAgICBwLT5ieXRlc19tb3ZlZF92aXMgPSAwOwo+Pj4+IC0gICAg
ICAgcC0+ZXZpY3RhYmxlID0gbGlzdF9sYXN0X2VudHJ5KCZwLT52YWxpZGF0ZWQsCj4+Pj4gLSAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGFtZGdwdV9ib19saXN0
X2VudHJ5LAo+Pj4+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR2Lmhl
YWQpOwo+Pj4+Cj4+Pj4gICAgICAgICAgIHIgPSBhbWRncHVfdm1fdmFsaWRhdGVfcHRfYm9zKHAt
PmFkZXYsICZmcHJpdi0+dm0sCj4+Pj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGFtZGdwdV9jc192YWxpZGF0ZSwgcCk7Cj4+Pj4gLS0KPj4+PiAyLjE3LjEKPj4+Pgo+
Pj4+IF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCj4+Pj4g
YW1kLWdmeCBtYWlsaW5nIGxpc3QKPj4+PiBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwo+
Pj4+IGh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdm
eAo+IF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCj4gYW1k
LWdmeCBtYWlsaW5nIGxpc3QKPiBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwo+IGh0dHBz
Oi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeAoKX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5n
IGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVz
a3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4
