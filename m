Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 2B35269E39
	for <lists+amd-gfx@lfdr.de>; Mon, 15 Jul 2019 23:25:54 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 6E10089F97;
	Mon, 15 Jul 2019 21:25:52 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-qk1-x742.google.com (mail-qk1-x742.google.com
 [IPv6:2607:f8b0:4864:20::742])
 by gabe.freedesktop.org (Postfix) with ESMTPS id EBF3C89F49
 for <amd-gfx@lists.freedesktop.org>; Mon, 15 Jul 2019 21:25:40 +0000 (UTC)
Received: by mail-qk1-x742.google.com with SMTP id 201so12853242qkm.9
 for <amd-gfx@lists.freedesktop.org>; Mon, 15 Jul 2019 14:25:40 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=WfKDxy81kgTwKXP7QioNXCAqnYKjDQRPjSnnqAukdcM=;
 b=mrjYauEO2+Acuk2Lqvrk8/S1jUSRutW4BxH3VVDpY6J6rvVyCHWznLslZ4gHVsWKz2
 kySicCxGxbI+hMFXpkBbdQHSvMMjbi4M87rWTswObww0z4n9exMteQY1LLa76h27Wv/E
 KlGolt7jky+HaB1ToGeZ9TsgW5Wyu+KCfr/RTiTfZDdZkuloNsx9Ip+rwpqda6txxv1F
 aVdffwHUSp2BCeLsVnvXURrF6xpl68C8ISdSqVJGM6sNMCxCx9zrJEvYSo4PaHFbWzXy
 hYSO2jEt3urmlh3YPkCLnaHHyJsw4Hq1dZYmTeIExYaiK/zVDyOITpzL6aNpZx+LMYm6
 T9cg==
X-Gm-Message-State: APjAAAVBnKeEUqhwQKK0QjZyC3D7juZtsscOx/wi58khIx2Ay2IvCCq+
 SepPylSusFOLpEJUYh9Z5hh6pkLw
X-Google-Smtp-Source: APXvYqzpVVvtfcc8Xvhsg/dnp9/9+T6Sl1/IikrhLZlqQseM3TT6QyDQNhkzjHowiPqaTTMFP+gCGQ==
X-Received: by 2002:ae9:e845:: with SMTP id a66mr18203533qkg.451.1563225939943; 
 Mon, 15 Jul 2019 14:25:39 -0700 (PDT)
Received: from localhost.localdomain ([71.219.21.119])
 by smtp.gmail.com with ESMTPSA id q56sm10274133qtq.64.2019.07.15.14.25.39
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Mon, 15 Jul 2019 14:25:39 -0700 (PDT)
From: Alex Deucher <alexdeucher@gmail.com>
X-Google-Original-From: Alex Deucher <alexander.deucher@amd.com>
To: amd-gfx@lists.freedesktop.org
Subject: [PATCH 062/102] drm/amdgpu/VCN2.5: set encode ring functions
Date: Mon, 15 Jul 2019 16:23:57 -0500
Message-Id: <20190715212437.31793-60-alexander.deucher@amd.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190715212437.31793-1-alexander.deucher@amd.com>
References: <20190715212437.31793-1-alexander.deucher@amd.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=WfKDxy81kgTwKXP7QioNXCAqnYKjDQRPjSnnqAukdcM=;
 b=aDYRMvlG9MBdbvUtRdn/BIPNtwu+rL7WfX7VLqyBGkiDDI0nYele1l74HxTn6xW1H6
 JbVXhYxj48cJ07lkreb0DTZPwLb+yMX0b3gWpeRQBr/3dm3iise1JeTXC6u9qEv8d4Bn
 +CGS0wW/BMmbT/GXV1mmyu+1K/g31fmA8Rr4P/1juU5TSq3tAFxPWRHxSwZKP/FyJq2c
 aAzZfUBGh99WfyPgQPVsemF+8tfacmzQCF0Xsa7yQTkkd8GDWCbkzkSAtx8hlb5ZBDql
 516Y64P/TpxIi4ES9la5zUoele+iAwVkuOeCsFZxCChJsjho7G37j3YyDYU8dP5qijqg
 +6kg==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Alex Deucher <alexander.deucher@amd.com>, Leo Liu <leo.liu@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogTGVvIExpdSA8bGVvLmxpdUBhbWQuY29tPgoKQWxzbyByZXVzZSBtb3N0IG9mIHRoZSBW
Q04yLjAgZW5jb2RlIHJpbmcgZnVuY3Rpb25zCgpTaWduZWQtb2ZmLWJ5OiBMZW8gTGl1IDxsZW8u
bGl1QGFtZC5jb20+ClJldmlld2VkLWJ5OiBBbGV4IERldWNoZXIgPGFsZXhhbmRlci5kZXVjaGVy
QGFtZC5jb20+ClNpZ25lZC1vZmYtYnk6IEFsZXggRGV1Y2hlciA8YWxleGFuZGVyLmRldWNoZXJA
YW1kLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92Y25fdjJfNS5jIHwgOTEg
KysrKysrKysrKysrKysrKysrKysrKysrKysrCiAxIGZpbGUgY2hhbmdlZCwgOTEgaW5zZXJ0aW9u
cygrKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3Zjbl92Ml81LmMg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92Y25fdjJfNS5jCmluZGV4IGYxNmE0ZjY4MmUy
Ni4uYjQyZjY3NjlhZTA2IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92
Y25fdjJfNS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3Zjbl92Ml81LmMKQEAg
LTgxOSwxMiArODE5LDEwMyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGFtZGdwdV9yaW5nX2Z1bmNz
IHZjbl92Ml81X2RlY19yaW5nX3ZtX2Z1bmNzID0gewogCS5lbWl0X3JlZ193cml0ZV9yZWdfd2Fp
dCA9IGFtZGdwdV9yaW5nX2VtaXRfcmVnX3dyaXRlX3JlZ193YWl0X2hlbHBlciwKIH07CiAKKy8q
KgorICogdmNuX3YyXzVfZW5jX3JpbmdfZ2V0X3JwdHIgLSBnZXQgZW5jIHJlYWQgcG9pbnRlcgor
ICoKKyAqIEByaW5nOiBhbWRncHVfcmluZyBwb2ludGVyCisgKgorICogUmV0dXJucyB0aGUgY3Vy
cmVudCBoYXJkd2FyZSBlbmMgcmVhZCBwb2ludGVyCisgKi8KK3N0YXRpYyB1aW50NjRfdCB2Y25f
djJfNV9lbmNfcmluZ19nZXRfcnB0cihzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcpCit7CisJc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSByaW5nLT5hZGV2OworCisJaWYgKHJpbmcgPT0gJmFk
ZXYtPnZjbi5yaW5nX2VuY1swXSkKKwkJcmV0dXJuIFJSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZE
X1JCX1JQVFIpOworCWVsc2UKKwkJcmV0dXJuIFJSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX1JC
X1JQVFIyKTsKK30KKworLyoqCisgKiB2Y25fdjJfNV9lbmNfcmluZ19nZXRfd3B0ciAtIGdldCBl
bmMgd3JpdGUgcG9pbnRlcgorICoKKyAqIEByaW5nOiBhbWRncHVfcmluZyBwb2ludGVyCisgKgor
ICogUmV0dXJucyB0aGUgY3VycmVudCBoYXJkd2FyZSBlbmMgd3JpdGUgcG9pbnRlcgorICovCitz
dGF0aWMgdWludDY0X3QgdmNuX3YyXzVfZW5jX3JpbmdfZ2V0X3dwdHIoc3RydWN0IGFtZGdwdV9y
aW5nICpyaW5nKQoreworCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gcmluZy0+YWRldjsK
KworCWlmIChyaW5nID09ICZhZGV2LT52Y24ucmluZ19lbmNbMF0pCisJCXJldHVybiBSUkVHMzJf
U09DMTUoVVZELCAwLCBtbVVWRF9SQl9XUFRSKTsKKwllbHNlCisJCXJldHVybiBSUkVHMzJfU09D
MTUoVVZELCAwLCBtbVVWRF9SQl9XUFRSMik7Cit9CisKKy8qKgorICogdmNuX3YyXzVfZW5jX3Jp
bmdfc2V0X3dwdHIgLSBzZXQgZW5jIHdyaXRlIHBvaW50ZXIKKyAqCisgKiBAcmluZzogYW1kZ3B1
X3JpbmcgcG9pbnRlcgorICoKKyAqIENvbW1pdHMgdGhlIGVuYyB3cml0ZSBwb2ludGVyIHRvIHRo
ZSBoYXJkd2FyZQorICovCitzdGF0aWMgdm9pZCB2Y25fdjJfNV9lbmNfcmluZ19zZXRfd3B0cihz
dHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcpCit7CisJc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYg
PSByaW5nLT5hZGV2OworCisJaWYgKHJpbmcgPT0gJmFkZXYtPnZjbi5yaW5nX2VuY1swXSkKKwkJ
V1JFRzMyX1NPQzE1KFVWRCwgMCwgbW1VVkRfUkJfV1BUUiwgbG93ZXJfMzJfYml0cyhyaW5nLT53
cHRyKSk7CisJZWxzZQorCQlXUkVHMzJfU09DMTUoVVZELCAwLCBtbVVWRF9SQl9XUFRSMiwgbG93
ZXJfMzJfYml0cyhyaW5nLT53cHRyKSk7Cit9CisKK3N0YXRpYyBjb25zdCBzdHJ1Y3QgYW1kZ3B1
X3JpbmdfZnVuY3MgdmNuX3YyXzVfZW5jX3Jpbmdfdm1fZnVuY3MgPSB7CisJLnR5cGUgPSBBTURH
UFVfUklOR19UWVBFX1ZDTl9FTkMsCisJLmFsaWduX21hc2sgPSAweDNmLAorCS5ub3AgPSBWQ05f
RU5DX0NNRF9OT19PUCwKKwkudm1odWIgPSBBTURHUFVfTU1IVUJfMSwKKwkuZ2V0X3JwdHIgPSB2
Y25fdjJfNV9lbmNfcmluZ19nZXRfcnB0ciwKKwkuZ2V0X3dwdHIgPSB2Y25fdjJfNV9lbmNfcmlu
Z19nZXRfd3B0ciwKKwkuc2V0X3dwdHIgPSB2Y25fdjJfNV9lbmNfcmluZ19zZXRfd3B0ciwKKwku
ZW1pdF9mcmFtZV9zaXplID0KKwkJU09DMTVfRkxVU0hfR1BVX1RMQl9OVU1fV1JFRyAqIDMgKwor
CQlTT0MxNV9GTFVTSF9HUFVfVExCX05VTV9SRUdfV0FJVCAqIDQgKworCQk0ICsgLyogdmNuX3Yy
XzBfZW5jX3JpbmdfZW1pdF92bV9mbHVzaCAqLworCQk1ICsgNSArIC8qIHZjbl92Ml8wX2VuY19y
aW5nX2VtaXRfZmVuY2UgeDIgdm0gZmVuY2UgKi8KKwkJMSwgLyogdmNuX3YyXzBfZW5jX3Jpbmdf
aW5zZXJ0X2VuZCAqLworCS5lbWl0X2liX3NpemUgPSA1LCAvKiB2Y25fdjJfMF9lbmNfcmluZ19l
bWl0X2liICovCisJLmVtaXRfaWIgPSB2Y25fdjJfMF9lbmNfcmluZ19lbWl0X2liLAorCS5lbWl0
X2ZlbmNlID0gdmNuX3YyXzBfZW5jX3JpbmdfZW1pdF9mZW5jZSwKKwkuZW1pdF92bV9mbHVzaCA9
IHZjbl92Ml8wX2VuY19yaW5nX2VtaXRfdm1fZmx1c2gsCisJLnRlc3RfcmluZyA9IGFtZGdwdV92
Y25fZW5jX3JpbmdfdGVzdF9yaW5nLAorCS50ZXN0X2liID0gYW1kZ3B1X3Zjbl9lbmNfcmluZ190
ZXN0X2liLAorCS5pbnNlcnRfbm9wID0gYW1kZ3B1X3JpbmdfaW5zZXJ0X25vcCwKKwkuaW5zZXJ0
X2VuZCA9IHZjbl92Ml8wX2VuY19yaW5nX2luc2VydF9lbmQsCisJLnBhZF9pYiA9IGFtZGdwdV9y
aW5nX2dlbmVyaWNfcGFkX2liLAorCS5iZWdpbl91c2UgPSBhbWRncHVfdmNuX3JpbmdfYmVnaW5f
dXNlLAorCS5lbmRfdXNlID0gYW1kZ3B1X3Zjbl9yaW5nX2VuZF91c2UsCisJLmVtaXRfd3JlZyA9
IHZjbl92Ml8wX2VuY19yaW5nX2VtaXRfd3JlZywKKwkuZW1pdF9yZWdfd2FpdCA9IHZjbl92Ml8w
X2VuY19yaW5nX2VtaXRfcmVnX3dhaXQsCisJLmVtaXRfcmVnX3dyaXRlX3JlZ193YWl0ID0gYW1k
Z3B1X3JpbmdfZW1pdF9yZWdfd3JpdGVfcmVnX3dhaXRfaGVscGVyLAorfTsKKwogc3RhdGljIHZv
aWQgdmNuX3YyXzVfc2V0X2RlY19yaW5nX2Z1bmNzKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2
KQogewogCWFkZXYtPnZjbi5yaW5nX2RlYy5mdW5jcyA9ICZ2Y25fdjJfNV9kZWNfcmluZ192bV9m
dW5jczsKIAlEUk1fSU5GTygiVkNOIGRlY29kZSBpcyBlbmFibGVkIGluIFZNIG1vZGVcbiIpOwog
fQogCitzdGF0aWMgdm9pZCB2Y25fdjJfNV9zZXRfZW5jX3JpbmdfZnVuY3Moc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYpCit7CisJaW50IGk7CisKKwlmb3IgKGkgPSAwOyBpIDwgYWRldi0+dmNu
Lm51bV9lbmNfcmluZ3M7ICsraSkKKwkJYWRldi0+dmNuLnJpbmdfZW5jW2ldLmZ1bmNzID0gJnZj
bl92Ml81X2VuY19yaW5nX3ZtX2Z1bmNzOworCisJRFJNX0lORk8oIlZDTiBlbmNvZGUgaXMgZW5h
YmxlZCBpbiBWTSBtb2RlXG4iKTsKK30KKwogc3RhdGljIGJvb2wgdmNuX3YyXzVfaXNfaWRsZSh2
b2lkICpoYW5kbGUpCiB7CiAJc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSAoc3RydWN0IGFt
ZGdwdV9kZXZpY2UgKiloYW5kbGU7Ci0tIAoyLjIwLjEKCl9fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vYW1kLWdmeA==
