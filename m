Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 14C523333A7
	for <lists+amd-gfx@lfdr.de>; Wed, 10 Mar 2021 04:12:10 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 2C415897E9;
	Wed, 10 Mar 2021 03:12:07 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM12-DM6-obe.outbound.protection.outlook.com
 (mail-dm6nam12on2073.outbound.protection.outlook.com [40.107.243.73])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 604C8897E9
 for <amd-gfx@lists.freedesktop.org>; Wed, 10 Mar 2021 03:12:06 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=OV617S/e/mTQfE3qh4549Q7MndbMYcD+wadxAanTi8ZemSw4C6Z8JUyCJ1WBOYyTKN8wduSIMB8hbw0St/uZOitj3aHT3hUSqniCdvxEOR7sdMVkKQDzHcTL6qeIXY2TReyXpQF5nVWk/aXsu9OsrdlT5IVkAEpFom3phbJFF4VjaiAj3O7TF82oT6Po1qfD+JgxgSDlylABTBjbQsaxbQHiX/X1i5PzhaK5lDuiJKIS0Z/kyI59KUqWYCPWrTE6ssDIFFFxHZo2p23E1O7QAQvkLciti+tWReP6hoPets3s3rV6BFY3s1tcj7fR/uXXdqZSjWhS5mQMvwHF55XzbA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=BieB9oaRk4lIaa+nIk9GESFWSR7EQfqalCdR0EWME8Q=;
 b=XR5ktDaV3HoXr/WoKSI8do81o46/akcotTDl/9uKKUCnpdXPBB6VjGfRhz/R5nS3VhQ+sDrpUiLy7+OUmlTMRHbyRvxrB5wzmUhqMMEE8xdQDwIX2ZWd8crQ/2cOZ3go+N/RWIIMkFjd8yb2AOkGLyk4VnDhcCLZrpc1Bn1SnA77IP9THvKv2lWunFXXOjIYMmqFeMYJPpf+Q4lGUmSLa+RCzsZJ6tOyQUC3H7w2MZ+lmyKbXVMR/NwQf68YtAEVuQlEXO5Kycem+XwYSYq2eteENV3YCfjFP3gT1oyZYHttJtbv8SuBzwyDyNU/egFvn6RVHpcWZL2CVk1OHl6QDg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=amd.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=BieB9oaRk4lIaa+nIk9GESFWSR7EQfqalCdR0EWME8Q=;
 b=Y9En/F4V5rZyJWhkXFRCkfq7X+Bshwc71zst7j5Ghjf1wsByQHjXh7e/pFmCgoMWDdtE3szhEaiCDOWQ7OhSV0kEAWaZEH24rgWMIFePUq51czWC8zBWYM8fVCqNBIR1tChvq8wTa247M90tzV/2tFRnVQi09zt2e760u5bZo/c=
Received: from DM5PR12MB2533.namprd12.prod.outlook.com (2603:10b6:4:b0::10) by
 DM6PR12MB4809.namprd12.prod.outlook.com (2603:10b6:5:1f9::22) with
 Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.3912.17; Wed, 10 Mar 2021 03:12:03 +0000
Received: from DM5PR12MB2533.namprd12.prod.outlook.com
 ([fe80::9858:1263:9afa:4401]) by DM5PR12MB2533.namprd12.prod.outlook.com
 ([fe80::9858:1263:9afa:4401%7]) with mapi id 15.20.3890.039; Wed, 10 Mar 2021
 03:12:03 +0000
From: "Li, Dennis" <Dennis.Li@amd.com>
To: =?utf-8?B?Q2hyaXN0aWFuIEvDtm5pZw==?= <ckoenig.leichtzumerken@gmail.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH] drm/amdgpu: capture invalid hardware access v2
Thread-Topic: [PATCH] drm/amdgpu: capture invalid hardware access v2
Thread-Index: AQHXFEXRkluk8WFe50m+ImC+FgD6oap61h9ggADIt4CAAOyREA==
Date: Wed, 10 Mar 2021 03:12:03 +0000
Message-ID: <DM5PR12MB25331CB6C8539E20680D12CFED919@DM5PR12MB2533.namprd12.prod.outlook.com>
References: <20210308180649.2117-1-christian.koenig@amd.com>
 <SN1PR12MB2544244642707C3EA1E27026ED929@SN1PR12MB2544.namprd12.prod.outlook.com>
 <91af0abc-ddde-9799-dab1-71d6eae7b765@gmail.com>
In-Reply-To: <91af0abc-ddde-9799-dab1-71d6eae7b765@gmail.com>
Accept-Language: zh-CN, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
msip_labels: MSIP_Label_76546daa-41b6-470c-bb85-f6f40f044d7f_ActionId=39395f22-1abc-4aa5-84cd-1d266a145e76;
 MSIP_Label_76546daa-41b6-470c-bb85-f6f40f044d7f_ContentBits=0;
 MSIP_Label_76546daa-41b6-470c-bb85-f6f40f044d7f_Enabled=true;
 MSIP_Label_76546daa-41b6-470c-bb85-f6f40f044d7f_Method=Standard;
 MSIP_Label_76546daa-41b6-470c-bb85-f6f40f044d7f_Name=Internal
 Use Only - Unrestricted;
 MSIP_Label_76546daa-41b6-470c-bb85-f6f40f044d7f_SetDate=2021-03-10T03:03:41Z;
 MSIP_Label_76546daa-41b6-470c-bb85-f6f40f044d7f_SiteId=3dd8961f-e488-4e60-8e11-a82d994e183d;
authentication-results: gmail.com; dkim=none (message not signed)
 header.d=none;gmail.com; dmarc=none action=none header.from=amd.com;
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-ht: Tenant
x-ms-office365-filtering-correlation-id: ab2135fe-026f-4993-12ad-08d8e3724793
x-ms-traffictypediagnostic: DM6PR12MB4809:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <DM6PR12MB4809311035F3971F2F00550FED919@DM6PR12MB4809.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:6430;
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: YuyH/O7MY1rRIBRwnb/0VaDtt8LB4DaGE0sehLrR+UcJbLWL0ukuFI5ChRDchRX1R4jLCOjyKfn33OPPSa3NxExf2g/BICzHF43yzhsSrnZUJQsNc0t6FZs3Hnp57rT2YEY6Ma+q9JvvnG/oWjcYQfTt0Gtz6Eq6exlLz67TiybxM5WTSl93R8pqMuofP5CMwbq8wXKDZWuEeZPNzw1LC94RuIAY3JgO/QvV5GVaI6n0TzKbibnEnc0w5PZQC0bMcJAI7ms4SNOQSpwjHKLd3DJ0K9xhYsLykW2y3Ik72hNKWA+7AuliGpfjymBFNbc0KHvj/lmoBC8PmtFv8jyHJqDXYxHutnHuIJPbD9VI9fpei/sY4ZgJ4SJPY4eN5Dt9D2U5KjmjTDWlhJg01FNgf6EIieqXQTLPpTvr5P6slIimGhvd2Ph5G9RRLWliLJPPvKLPJfpfjcSAL5VGpcY6jWq0EUXx19PVCaOoD8vEtjIAQB9yWX3Mzkf4NCujCbLSc9bX3ZdutuwZrH7zkMiUBw==
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:DM5PR12MB2533.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(4636009)(39860400002)(366004)(136003)(376002)(346002)(396003)(66476007)(66946007)(64756008)(66556008)(66446008)(66574015)(5660300002)(110136005)(71200400001)(316002)(8936002)(186003)(76116006)(26005)(2906002)(7696005)(4326008)(55016002)(8676002)(33656002)(83380400001)(52536014)(9686003)(6506007)(53546011)(86362001)(478600001);
 DIR:OUT; SFP:1101; 
x-ms-exchange-antispam-messagedata: =?utf-8?B?L2hEZFUxSnRmWFNudmFmVVRESUhZZHZxRE5tc29hSDBGVVhndjF2bmVpdkFJ?=
 =?utf-8?B?b2dISTAvK0EvNkdLaUhHbVlYSmI4TlFldDlPWUs1TkN1MGI2a0ZSOFUwOWdM?=
 =?utf-8?B?RE5oWjQvVWJGS3FwWHRrWXJKb2x2Sk5ueEw5ZDNoaHdxMEZiaHM0YUhYVXpn?=
 =?utf-8?B?OFdiQVJSYkpQaEFCY290VGtoUHFXRk9VRFNDWVFlQUxhaUNDWXQvczV0NUNn?=
 =?utf-8?B?UDFuQ0lKV1ZtWWN4NzBvV0JCNnU1L2xHY3ViNVRtY1NObHZGanNROWhlM2x0?=
 =?utf-8?B?NFpMSVRvR2x3aDhFVVZMTDNQLzB5eTd5Q0lMdmJrWVUvZHlGS2lWRmhDWmdl?=
 =?utf-8?B?bGg2UVhwU1I2Slp3YkYra1YySEhZREdzbzZWQkgrZWR6TVhHM1hxaWdIWXY3?=
 =?utf-8?B?amtzUFhiQlovYkpTeHZsOVJ6a29MU09UaEUwT0k5R3UvTU5RYTZXUDQzZ3BV?=
 =?utf-8?B?M0d4UnE4b0JsQlhtakdweHYvTXd3V2FHWFVmS1d6eXZ1d25JcWNPeWVPWUYv?=
 =?utf-8?B?MzVUQmJLc0pBS0hVcElpZTBDNTNBQWlvVnhrMGV5MFFNd1lFOVd0SC9yMklj?=
 =?utf-8?B?ZzVpWEs4OFU4YWxiYTFYQ2hGTmtPTWdJaHBKREprbGxxTXhoRHVkOEZTNGdw?=
 =?utf-8?B?UU5OLytFZDV5MGl6MVdKN2c0c1hQWlpXMjF3djVQcU12QlhhMWpYbFlDaDBj?=
 =?utf-8?B?c1J0VGtTWHNiZTJobmltNVpKSktCRlJTWHVOMVV5aG9mL2czZFNXK0VNWXdq?=
 =?utf-8?B?K0JIM21KSDMzYkZUQ3FuY1piZ0ZEbDVINU5ZTmkzaklVZHRwZDJjUFdCdEdz?=
 =?utf-8?B?SDlWakpFelhRaFJYUGpDYkY2cFhDQTJtWi9VS0E5U1ZUMHNMR0cyRlV4OUs3?=
 =?utf-8?B?NmozMmNXVC94Y2F1QS9qcGtWR0ZXaUgwY0FleGxoa0Vpb2k4UldFUERDcEtK?=
 =?utf-8?B?MmI3cVpoSVZhaG5Icng1RmpzR09VSXlHU3FhL052VXlHOU50UGhtVEFmdzl4?=
 =?utf-8?B?alpQblJJcVUxZXBwQUkyTWdrcHloRjk3emRpbTJ0ZEtDNEJMdURaclhuSjd3?=
 =?utf-8?B?U1UwanVTcitNQ0FkbUtqY1Fnc0VObGtIb2NHaXQxTmVUVDJMRENPaUlwOFow?=
 =?utf-8?B?bWFOY2NXdlc0cldaV0s1WE8zMFdmYWRQai92SzAycEIzZzI0VHlEZ1drZDRS?=
 =?utf-8?B?T2VoNDNmbXkyajNRdHY0MEdGR0FWT2hzbEpSaTc0NHJNNGVPS3k4aFMrMkEx?=
 =?utf-8?B?K0x1WFFmT055WmlrdUNJTDFMODlYc1JyajlScmd4cm56WEovQ1htKzAyOWw3?=
 =?utf-8?B?SWRuQUlMdFFKbDBIbkFaSTBuNG92SHRMVko0a1p4ajdrYmtnV3NrZzYzVThJ?=
 =?utf-8?B?Q1NrVnNQS2lzNDYrMGVSenNaRldvdlR2Q21oMDFuMUNwQ0hIbkFSd0lMVnRW?=
 =?utf-8?B?ak5jNmUrdHBpRzlEUkU1WEh6R3A3MEJYZWRmajFkSnpxYmM4SEhiU2R3ckRw?=
 =?utf-8?B?eXlrb01QL0Z6Z3NwTGlMdEp5cjlscmpEenBzU1ZVOVZ1VFcwc1Nob1BaSVZj?=
 =?utf-8?B?eHdXQ0lqNHQ3K09adjc2Y2FVd2hOcEVPTWMxOEV6SHpqbUcwVEpoa1VXNGJ2?=
 =?utf-8?B?aFJINk50ZmxpcUN2V0l2RnB0VzBIVFVsZGRjYVVxRVducFlJQVZicVdqd0Zi?=
 =?utf-8?B?b2pJdis4TFhlRitpVnlzcGNKOXV2dmlOMzZOMktkOVFSWkZxVjdlcUtKTkpR?=
 =?utf-8?Q?1B+8P24/x8BgKdSjoo0MhsUK2gH7YdUsbfL0igM?=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: DM5PR12MB2533.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: ab2135fe-026f-4993-12ad-08d8e3724793
X-MS-Exchange-CrossTenant-originalarrivaltime: 10 Mar 2021 03:12:03.8563 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: DXhBixQZNmenRcJy+rtN05mlYOt9R2R1kGeHvmihEb95HOCudNJMitIDnf4BHRTc
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM6PR12MB4809
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Grodzovsky, Andrey" <Andrey.Grodzovsky@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

W0FNRCBPZmZpY2lhbCBVc2UgT25seSAtIEludGVybmFsIERpc3RyaWJ1dGlvbiBPbmx5XQ0KDQpI
aSwgQ2hyaXN0aWFuLA0KICAgICAgQmVjYXVzZSByZWdpc3RlciByL3cgZnVuY3Rpb25zIGFyZSBh
bHNvIHVzZWQgaW4gSVNSLCB3ZSBuZWVkIGFkZCBpbl9pcnEoKSBjaGVjay4gSSB1cGRhdGVkIHRo
aXMgY2hhbmdlIGluIHYzLg0KDQpCZXN0IFJlZ2FyZHMNCkRlbm5pcyBMaQ0KLS0tLS1PcmlnaW5h
bCBNZXNzYWdlLS0tLS0NCkZyb206IENocmlzdGlhbiBLw7ZuaWcgPGNrb2VuaWcubGVpY2h0enVt
ZXJrZW5AZ21haWwuY29tPg0KU2VudDogVHVlc2RheSwgTWFyY2ggOSwgMjAyMSA4OjU3IFBNDQpU
bzogTGksIERlbm5pcyA8RGVubmlzLkxpQGFtZC5jb20+OyBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNr
dG9wLm9yZw0KQ2M6IEdyb2R6b3Zza3ksIEFuZHJleSA8QW5kcmV5Lkdyb2R6b3Zza3lAYW1kLmNv
bT4NClN1YmplY3Q6IFJlOiBbUEFUQ0hdIGRybS9hbWRncHU6IGNhcHR1cmUgaW52YWxpZCBoYXJk
d2FyZSBhY2Nlc3MgdjINCg0KSGkgRGVubmlzLA0KDQp3aHkgZG8geW91IHRoaW5rIHRoYXQgdGhp
cyB3aWxsIGFsd2F5cyBhc3NlcnQgaW4gcmVzZXQgdGhyZWFkPw0KDQpJbiB0aGUgcmVzZXQgdGhy
ZWFkIHdoaWxlIHdlIGFyZSBob2xkaW5nIHRoZSByZXNldCBsb2NrIHdyaXRlIHNpZGUNCmxvY2tk
ZXBfYXNzZXJ0X2hlbGQoKSBzaG91bGQgYmUgc2F0aXNmaWVkIGFuZCBub3QgY2F1c2UgYW55IHNw
bGF0IGluIHRoZSBzeXN0ZW0gbG9nLg0KDQpSZWdhcmRzLA0KQ2hyaXN0aWFuLg0KDQpBbSAwOS4w
My4yMSB1bSAwMzowMyBzY2hyaWViIExpLCBEZW5uaXM6DQo+IFtBTUQgT2ZmaWNpYWwgVXNlIE9u
bHkgLSBJbnRlcm5hbCBEaXN0cmlidXRpb24gT25seV0NCj4NCj4gSGksIENocmlzdGlhbiwNCj4g
ICAgICAgICBhbWRncHVfZGV2aWNlX3NraXBfaHdfYWNjZXNzIHdpbGwgYWx3YXlzIGFzc2VydCBp
biByZXNldCB0aHJlYWQsIHdoaWNoIHNlZW1zIG5vdCBhIGdvb2QgaWRlYS4NCj4NCj4gQmVzdCBS
ZWdhcmRzDQo+IERlbm5pcyBMaQ0KPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KPiBGcm9t
OiBDaHJpc3RpYW4gS8O2bmlnIDxja29lbmlnLmxlaWNodHp1bWVya2VuQGdtYWlsLmNvbT4NCj4g
U2VudDogVHVlc2RheSwgTWFyY2ggOSwgMjAyMSAyOjA3IEFNDQo+IFRvOiBhbWQtZ2Z4QGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZw0KPiBDYzogR3JvZHpvdnNreSwgQW5kcmV5IDxBbmRyZXkuR3JvZHpv
dnNreUBhbWQuY29tPjsgTGksIERlbm5pcw0KPiA8RGVubmlzLkxpQGFtZC5jb20+DQo+IFN1Ympl
Y3Q6IFtQQVRDSF0gZHJtL2FtZGdwdTogY2FwdHVyZSBpbnZhbGlkIGhhcmR3YXJlIGFjY2VzcyB2
Mg0KPg0KPiBGcm9tOiBEZW5uaXMgTGkgPERlbm5pcy5MaUBhbWQuY29tPg0KPg0KPiBXaGVuIHJl
Y292ZXJ5IHRocmVhZCBoYXMgYmVndW4gR1BVIHJlc2V0LCB0aGVyZSBzaG91bGQgYmUgbm90IG90
aGVyIHRocmVhZHMgdG8gYWNjZXNzIGhhcmR3YXJlLCBvdGhlcndpc2Ugc3lzdGVtIHJhbmRvbWx5
IGhhbmcuDQo+DQo+IHYyIChjaGspOiByZXdyaXR0ZW4gZnJvbSBzY3JhdGNoLCB1c2UgdHJ5bG9j
ayBhbmQgbG9ja2RlcCBpbnN0ZWFkIG9mDQo+ICAgIGhhbmQgd2lyaW5nIHRoZSBsb2dpYy4NCj4N
Cj4gU2lnbmVkLW9mZi1ieTogRGVubmlzIExpIDxEZW5uaXMuTGlAYW1kLmNvbT4NCj4gU2lnbmVk
LW9mZi1ieTogQ2hyaXN0aWFuIEvDtm5pZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPg0KPiAt
LS0NCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMgfCA3NCAr
KysrKysrKysrKysrKysrKy0tLS0tDQo+ICAgMSBmaWxlIGNoYW5nZWQsIDU3IGluc2VydGlvbnMo
KyksIDE3IGRlbGV0aW9ucygtKQ0KPg0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1X2RldmljZS5jDQo+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
YW1kZ3B1X2RldmljZS5jDQo+IGluZGV4IGUyNDdjM2EyZWMwOC4uYzk5MGFmNmE0M2NhIDEwMDY0
NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMNCj4g
KysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RldmljZS5jDQo+IEBAIC0z
MjYsNiArMzI2LDM0IEBAIHZvaWQgYW1kZ3B1X2RldmljZV92cmFtX2FjY2VzcyhzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldiwgbG9mZl90IHBvcywNCj4gICAvKg0KPiAgICAqIHJlZ2lzdGVyIGFj
Y2VzcyBoZWxwZXIgZnVuY3Rpb25zLg0KPiAgICAqLw0KPiArDQo+ICsvKiBDaGVjayBpZiBodyBh
Y2Nlc3Mgc2hvdWxkIGJlIHNraXBwZWQgYmVjYXVzZSBvZiBob3RwbHVnIG9yIGRldmljZQ0KPiAr
ZXJyb3IgKi8gc3RhdGljIGJvb2wgYW1kZ3B1X2RldmljZV9za2lwX2h3X2FjY2VzcyhzdHJ1Y3QN
Cj4gK2FtZGdwdV9kZXZpY2UNCj4gKyphZGV2KSB7DQo+ICtpZiAoYWRldi0+aW5fcGNpX2Vycl9y
ZWNvdmVyeSkNCj4gK3JldHVybiB0cnVlOw0KPiArDQo+ICsjaWZkZWYgQ09ORklHX0xPQ0tERVAN
Cj4gKy8qDQo+ICsgKiBUaGlzIGlzIGEgYml0IGNvbXBsaWNhdGVkIHRvIHVuZGVyc3RhbmQsIHNv
IHdvcnRoIGEgY29tbWVudC4gV2hhdA0KPiArd2UgYXNzZXJ0DQo+ICsgKiBoZXJlIGlzIHRoYXQg
dGhlIEdQVSByZXNldCBpcyBub3QgcnVubmluZyBvbiBhbm90aGVyIHRocmVhZCBpbiBwYXJhbGxl
bC4NCj4gKyAqDQo+ICsgKiBGb3IgdGhpcyB3ZSB0cnlsb2NrIHRoZSByZWFkIHNpZGUgb2YgdGhl
IHJlc2V0IHNlbWFwaG9yZSwgaWYgdGhhdA0KPiArc3VjY2VlZHMNCj4gKyAqIHdlIGtub3cgdGhh
dCB0aGUgcmVzZXQgaXMgbm90IHJ1bm5pbmcgaW4gcGFyYWxlbGwuDQo+ICsgKg0KPiArICogSWYg
dGhlIHRyeWxvY2sgZmFpbHMgd2UgYXNzZXJ0IHRoYXQgd2UgYXJlIGVpdGhlciBhbHJlYWR5IGhv
bGRpbmcNCj4gK3RoZSByZWFkDQo+ICsgKiBzaWRlIG9mIHRoZSBsb2NrIG9yIGFyZSB0aGUgcmVz
ZXQgdGhyZWFkIGl0c2VsZiBhbmQgaG9sZCB0aGUgd3JpdGUNCj4gK3NpZGUgb2YNCj4gKyAqIHRo
ZSBsb2NrLg0KPiArICovDQo+ICtpZiAoZG93bl9yZWFkX3RyeWxvY2soJmFkZXYtPnJlc2V0X3Nl
bSkpDQo+ICt1cF9yZWFkKCZhZGV2LT5yZXNldF9zZW0pOw0KPiArZWxzZQ0KPiArbG9ja2RlcF9h
c3NlcnRfaGVsZCgmYWRldi0+cmVzZXRfc2VtKTsNCj4gKyNlbmRpZg0KPiArDQo+ICtyZXR1cm4g
ZmFsc2U7DQo+ICt9DQo+ICsNCj4gICAvKioNCj4gICAgKiBhbWRncHVfZGV2aWNlX3JyZWcgLSBy
ZWFkIGEgbWVtb3J5IG1hcHBlZCBJTyBvciBpbmRpcmVjdCByZWdpc3Rlcg0KPiAgICAqDQo+IEBA
IC0zNDAsNyArMzY4LDcgQEAgdWludDMyX3QgYW1kZ3B1X2RldmljZV9ycmVnKHN0cnVjdCBhbWRn
cHVfZGV2aWNlICphZGV2LCAgew0KPiAgIHVpbnQzMl90IHJldDsNCj4NCj4gLWlmIChhZGV2LT5p
bl9wY2lfZXJyX3JlY292ZXJ5KQ0KPiAraWYgKGFtZGdwdV9kZXZpY2Vfc2tpcF9od19hY2Nlc3Mo
YWRldikpDQo+ICAgcmV0dXJuIDA7DQo+DQo+ICAgaWYgKChyZWcgKiA0KSA8IGFkZXYtPnJtbWlv
X3NpemUpIHsNCj4gQEAgLTM3Nyw3ICs0MDUsNyBAQCB1aW50MzJfdCBhbWRncHVfZGV2aWNlX3Jy
ZWcoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ICAgICovDQo+ICAgdWludDhfdCBhbWRn
cHVfbW1fcnJlZzgoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHVpbnQzMl90IG9mZnNldCkN
Cj4geyAtaWYgKGFkZXYtPmluX3BjaV9lcnJfcmVjb3ZlcnkpDQo+ICtpZiAoYW1kZ3B1X2Rldmlj
ZV9za2lwX2h3X2FjY2VzcyhhZGV2KSkNCj4gICByZXR1cm4gMDsNCj4NCj4gICBpZiAob2Zmc2V0
IDwgYWRldi0+cm1taW9fc2l6ZSkNCj4gQEAgLTQwMiw3ICs0MzAsNyBAQCB1aW50OF90IGFtZGdw
dV9tbV9ycmVnOChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgdWludDMyX3Qgb2Zmc2V0KQ0K
PiAgICAqLw0KPiAgIHZvaWQgYW1kZ3B1X21tX3dyZWc4KHN0cnVjdCBhbWRncHVfZGV2aWNlICph
ZGV2LCB1aW50MzJfdCBvZmZzZXQsDQo+IHVpbnQ4X3QgdmFsdWUpICB7IC1pZiAoYWRldi0+aW5f
cGNpX2Vycl9yZWNvdmVyeSkNCj4gK2lmIChhbWRncHVfZGV2aWNlX3NraXBfaHdfYWNjZXNzKGFk
ZXYpKQ0KPiAgIHJldHVybjsNCj4NCj4gICBpZiAob2Zmc2V0IDwgYWRldi0+cm1taW9fc2l6ZSkN
Cj4gQEAgLTQyNSw3ICs0NTMsNyBAQCB2b2lkIGFtZGdwdV9kZXZpY2Vfd3JlZyhzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldiwNCj4gICB1aW50MzJfdCByZWcsIHVpbnQzMl90IHYsDQo+ICAgdWlu
dDMyX3QgYWNjX2ZsYWdzKQ0KPiAgIHsNCj4gLWlmIChhZGV2LT5pbl9wY2lfZXJyX3JlY292ZXJ5
KQ0KPiAraWYgKGFtZGdwdV9kZXZpY2Vfc2tpcF9od19hY2Nlc3MoYWRldikpDQo+ICAgcmV0dXJu
Ow0KPg0KPiAgIGlmICgocmVnICogNCkgPCBhZGV2LT5ybW1pb19zaXplKSB7DQo+IEBAIC00NTIs
NyArNDgwLDcgQEAgdm9pZCBhbWRncHVfZGV2aWNlX3dyZWcoc3RydWN0IGFtZGdwdV9kZXZpY2Ug
KmFkZXYsICB2b2lkIGFtZGdwdV9tbV93cmVnX21taW9fcmxjKHN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2LA0KPiAgICAgICAgdWludDMyX3QgcmVnLCB1aW50MzJfdCB2KQ0KPiAgIHsNCj4gLWlm
IChhZGV2LT5pbl9wY2lfZXJyX3JlY292ZXJ5KQ0KPiAraWYgKGFtZGdwdV9kZXZpY2Vfc2tpcF9o
d19hY2Nlc3MoYWRldikpDQo+ICAgcmV0dXJuOw0KPg0KPiAgIGlmIChhbWRncHVfc3Jpb3ZfZnVs
bGFjY2VzcyhhZGV2KSAmJiBAQCAtNDc1LDcgKzUwMyw3IEBAIHZvaWQNCj4gYW1kZ3B1X21tX3dy
ZWdfbW1pb19ybGMoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ICAgICovDQo+ICAgdTMy
IGFtZGdwdV9pb19ycmVnKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCB1MzIgcmVnKSAgeyAt
aWYNCj4gKGFkZXYtPmluX3BjaV9lcnJfcmVjb3ZlcnkpDQo+ICtpZiAoYW1kZ3B1X2RldmljZV9z
a2lwX2h3X2FjY2VzcyhhZGV2KSkNCj4gICByZXR1cm4gMDsNCj4NCj4gICBpZiAoKHJlZyAqIDQp
IDwgYWRldi0+cmlvX21lbV9zaXplKQ0KPiBAQCAtNDk3LDcgKzUyNSw3IEBAIHUzMiBhbWRncHVf
aW9fcnJlZyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgdTMyIHJlZykNCj4gICAgKi8NCj4g
ICB2b2lkIGFtZGdwdV9pb193cmVnKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCB1MzIgcmVn
LCB1MzIgdikgIHsNCj4gLWlmIChhZGV2LT5pbl9wY2lfZXJyX3JlY292ZXJ5KQ0KPiAraWYgKGFt
ZGdwdV9kZXZpY2Vfc2tpcF9od19hY2Nlc3MoYWRldikpDQo+ICAgcmV0dXJuOw0KPg0KPiAgIGlm
ICgocmVnICogNCkgPCBhZGV2LT5yaW9fbWVtX3NpemUpDQo+IEBAIC01MTksNyArNTQ3LDcgQEAg
dm9pZCBhbWRncHVfaW9fd3JlZyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgdTMyIHJlZywg
dTMyIHYpDQo+ICAgICovDQo+ICAgdTMyIGFtZGdwdV9tbV9yZG9vcmJlbGwoc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYsIHUzMiBpbmRleCkgIHsNCj4gLWlmIChhZGV2LT5pbl9wY2lfZXJyX3Jl
Y292ZXJ5KQ0KPiAraWYgKGFtZGdwdV9kZXZpY2Vfc2tpcF9od19hY2Nlc3MoYWRldikpDQo+ICAg
cmV0dXJuIDA7DQo+DQo+ICAgaWYgKGluZGV4IDwgYWRldi0+ZG9vcmJlbGwubnVtX2Rvb3JiZWxs
cykgeyBAQCAtNTQyLDcgKzU3MCw3IEBAIHUzMiBhbWRncHVfbW1fcmRvb3JiZWxsKHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2LCB1MzIgaW5kZXgpDQo+ICAgICovDQo+ICAgdm9pZCBhbWRncHVf
bW1fd2Rvb3JiZWxsKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCB1MzIgaW5kZXgsIHUzMg0K
PiB2KSAgeyAtaWYgKGFkZXYtPmluX3BjaV9lcnJfcmVjb3ZlcnkpDQo+ICtpZiAoYW1kZ3B1X2Rl
dmljZV9za2lwX2h3X2FjY2VzcyhhZGV2KSkNCj4gICByZXR1cm47DQo+DQo+ICAgaWYgKGluZGV4
IDwgYWRldi0+ZG9vcmJlbGwubnVtX2Rvb3JiZWxscykgeyBAQCAtNTYzLDcgKzU5MSw3IEBAIHZv
aWQgYW1kZ3B1X21tX3dkb29yYmVsbChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgdTMyIGlu
ZGV4LCB1MzIgdikNCj4gICAgKi8NCj4gICB1NjQgYW1kZ3B1X21tX3Jkb29yYmVsbDY0KHN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2LCB1MzIgaW5kZXgpICB7DQo+IC1pZiAoYWRldi0+aW5fcGNp
X2Vycl9yZWNvdmVyeSkNCj4gK2lmIChhbWRncHVfZGV2aWNlX3NraXBfaHdfYWNjZXNzKGFkZXYp
KQ0KPiAgIHJldHVybiAwOw0KPg0KPiAgIGlmIChpbmRleCA8IGFkZXYtPmRvb3JiZWxsLm51bV9k
b29yYmVsbHMpIHsgQEAgLTU4Niw3ICs2MTQsNyBAQCB1NjQgYW1kZ3B1X21tX3Jkb29yYmVsbDY0
KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCB1MzIgaW5kZXgpDQo+ICAgICovDQo+ICAgdm9p
ZCBhbWRncHVfbW1fd2Rvb3JiZWxsNjQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHUzMiBp
bmRleCwNCj4gdTY0IHYpICB7IC1pZiAoYWRldi0+aW5fcGNpX2Vycl9yZWNvdmVyeSkNCj4gK2lm
IChhbWRncHVfZGV2aWNlX3NraXBfaHdfYWNjZXNzKGFkZXYpKQ0KPiAgIHJldHVybjsNCj4NCj4g
ICBpZiAoaW5kZXggPCBhZGV2LT5kb29yYmVsbC5udW1fZG9vcmJlbGxzKSB7IEBAIC02MTAsMTAg
KzYzOCwxMyBAQCB1MzIgYW1kZ3B1X2RldmljZV9pbmRpcmVjdF9ycmVnKHN0cnVjdCBhbWRncHVf
ZGV2aWNlICphZGV2LA0KPiAgIHUzMiBwY2llX2luZGV4LCB1MzIgcGNpZV9kYXRhLA0KPiAgIHUz
MiByZWdfYWRkcikNCj4gICB7DQo+IC11bnNpZ25lZCBsb25nIGZsYWdzOw0KPiAtdTMyIHI7DQo+
ICAgdm9pZCBfX2lvbWVtICpwY2llX2luZGV4X29mZnNldDsNCj4gICB2b2lkIF9faW9tZW0gKnBj
aWVfZGF0YV9vZmZzZXQ7DQo+ICt1bnNpZ25lZCBsb25nIGZsYWdzOw0KPiArdTMyIHI7DQo+ICsN
Cj4gK2lmIChhbWRncHVfZGV2aWNlX3NraXBfaHdfYWNjZXNzKGFkZXYpKQ0KPiArcmV0dXJuIDA7
DQo+DQo+ICAgc3Bpbl9sb2NrX2lycXNhdmUoJmFkZXYtPnBjaWVfaWR4X2xvY2ssIGZsYWdzKTsN
Cj4gICBwY2llX2luZGV4X29mZnNldCA9ICh2b2lkIF9faW9tZW0gKilhZGV2LT5ybW1pbyArIHBj
aWVfaW5kZXggKiA0OyBAQCAtNjQxLDEwICs2NzIsMTMgQEAgdTY0IGFtZGdwdV9kZXZpY2VfaW5k
aXJlY3RfcnJlZzY0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KPiAgICAgdTMyIHBjaWVf
aW5kZXgsIHUzMiBwY2llX2RhdGEsDQo+ICAgICB1MzIgcmVnX2FkZHIpDQo+ICAgew0KPiAtdW5z
aWduZWQgbG9uZyBmbGFnczsNCj4gLXU2NCByOw0KPiAgIHZvaWQgX19pb21lbSAqcGNpZV9pbmRl
eF9vZmZzZXQ7DQo+ICAgdm9pZCBfX2lvbWVtICpwY2llX2RhdGFfb2Zmc2V0Ow0KPiArdW5zaWdu
ZWQgbG9uZyBmbGFnczsNCj4gK3U2NCByOw0KPiArDQo+ICtpZiAoYW1kZ3B1X2RldmljZV9za2lw
X2h3X2FjY2VzcyhhZGV2KSkNCj4gK3JldHVybiAwOw0KPg0KPiAgIHNwaW5fbG9ja19pcnFzYXZl
KCZhZGV2LT5wY2llX2lkeF9sb2NrLCBmbGFncyk7DQo+ICAgcGNpZV9pbmRleF9vZmZzZXQgPSAo
dm9pZCBfX2lvbWVtICopYWRldi0+cm1taW8gKyBwY2llX2luZGV4ICogNDsgQEAgLTY3Nyw5ICs3
MTEsMTIgQEAgdm9pZCBhbWRncHVfZGV2aWNlX2luZGlyZWN0X3dyZWcoc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYsDQo+ICAgIHUzMiBwY2llX2luZGV4LCB1MzIgcGNpZV9kYXRhLA0KPiAgICB1
MzIgcmVnX2FkZHIsIHUzMiByZWdfZGF0YSkNCj4gICB7DQo+IC11bnNpZ25lZCBsb25nIGZsYWdz
Ow0KPiAgIHZvaWQgX19pb21lbSAqcGNpZV9pbmRleF9vZmZzZXQ7DQo+ICAgdm9pZCBfX2lvbWVt
ICpwY2llX2RhdGFfb2Zmc2V0Ow0KPiArdW5zaWduZWQgbG9uZyBmbGFnczsNCj4gKw0KPiAraWYg
KGFtZGdwdV9kZXZpY2Vfc2tpcF9od19hY2Nlc3MoYWRldikpDQo+ICtyZXR1cm47DQo+DQo+ICAg
c3Bpbl9sb2NrX2lycXNhdmUoJmFkZXYtPnBjaWVfaWR4X2xvY2ssIGZsYWdzKTsNCj4gICBwY2ll
X2luZGV4X29mZnNldCA9ICh2b2lkIF9faW9tZW0gKilhZGV2LT5ybW1pbyArIHBjaWVfaW5kZXgg
KiA0OyBAQCAtNzA2LDkgKzc0MywxMiBAQCB2b2lkIGFtZGdwdV9kZXZpY2VfaW5kaXJlY3Rfd3Jl
ZzY0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KPiAgICAgIHUzMiBwY2llX2luZGV4LCB1
MzIgcGNpZV9kYXRhLA0KPiAgICAgIHUzMiByZWdfYWRkciwgdTY0IHJlZ19kYXRhKQ0KPiAgIHsN
Cj4gLXVuc2lnbmVkIGxvbmcgZmxhZ3M7DQo+ICAgdm9pZCBfX2lvbWVtICpwY2llX2luZGV4X29m
ZnNldDsNCj4gICB2b2lkIF9faW9tZW0gKnBjaWVfZGF0YV9vZmZzZXQ7DQo+ICt1bnNpZ25lZCBs
b25nIGZsYWdzOw0KPiArDQo+ICtpZiAoYW1kZ3B1X2RldmljZV9za2lwX2h3X2FjY2VzcyhhZGV2
KSkNCj4gK3JldHVybjsNCj4NCj4gICBzcGluX2xvY2tfaXJxc2F2ZSgmYWRldi0+cGNpZV9pZHhf
bG9jaywgZmxhZ3MpOw0KPiAgIHBjaWVfaW5kZXhfb2Zmc2V0ID0gKHZvaWQgX19pb21lbSAqKWFk
ZXYtPnJtbWlvICsgcGNpZV9pbmRleCAqIDQ7DQo+IC0tDQo+IDIuMjUuMQ0KPg0KDQpfX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcg
bGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNr
dG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZngK
