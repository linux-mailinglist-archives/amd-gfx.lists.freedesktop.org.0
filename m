Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 8AB726E0E9
	for <lists+amd-gfx@lfdr.de>; Fri, 19 Jul 2019 08:13:03 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E2F216E586;
	Fri, 19 Jul 2019 06:13:01 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM04-BN3-obe.outbound.protection.outlook.com
 (mail-bn3nam04on0618.outbound.protection.outlook.com
 [IPv6:2a01:111:f400:fe4e::618])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2D6D96E584
 for <amd-gfx@lists.freedesktop.org>; Fri, 19 Jul 2019 06:13:00 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=atmzjg2Qvd/GaPtr/pp9ff9wewClvS/jiZGI8g44h4FGd/1Wh+juHVfG+mnWL5ZA0ZwUiaf1zxyqPFU53q+LAscqBqUNzeujSIVW2ny3d+jR+q28gBDQwvxHdd0r8VJVw88WyWDypbAtRVCUM4f/77H/pSuylvg+9inZXpNM4zNSaYWFpnasTKqt1FWqcm+LC6hjSCpUBvFKOXA+ZlY+YLQRGMxtCDUSYShsOSHf3g0NeOAz3L/mkeI1dSLED7npJsZliNIkKW2PsYDNcBMIN4BlhuW8OdFZRUVwWc260UUnPiaQad8AGulqG7UtIOdRUvPIUpIi2ELwI1g073zyzQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=Thovpd+Y4y4TBudHoXpcPmY/SK1dMG1HIO42UQ3cB7s=;
 b=brKrIPXqz7jtpO/XCpglmRw2DZHYMz1srzs5rVUE39zthjgcI83uot5jKJrYtXSsWImFAdxvkEuFd3xm9nQjjKlSwFiYluqlLEUS7zBl8mlRj2JCAzUO57cNywLG/2jzssVKzhzMMsEOu0QKV0+o0fpA++prNyJqjhHehqX62rixQRyOX94oczZXrzoePAnBWylKpgHs7NMTtRU0inu5PlKoYIFfLWiO0Ghf1eAYE+yhZWkMTgBTWCSLTfG79NYc8S8LUMeZ/r74K3ezyzXuq68Flq8Ywo+1DFU9S7MLKlbXVM+ohcSczcyGZkY+6DWpQaTCoRu5t+6aIDa7wYtKXA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1;spf=pass
 smtp.mailfrom=amd.com;dmarc=pass action=none header.from=amd.com;dkim=pass
 header.d=amd.com;arc=none
Received: from MN2PR12MB3296.namprd12.prod.outlook.com (20.179.80.139) by
 MN2PR12MB4047.namprd12.prod.outlook.com (52.135.51.84) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2094.14; Fri, 19 Jul 2019 06:12:58 +0000
Received: from MN2PR12MB3296.namprd12.prod.outlook.com
 ([fe80::ad59:f055:2417:660f]) by MN2PR12MB3296.namprd12.prod.outlook.com
 ([fe80::ad59:f055:2417:660f%6]) with mapi id 15.20.2094.013; Fri, 19 Jul 2019
 06:12:58 +0000
From: "Wang, Kevin(Yang)" <Kevin1.Wang@amd.com>
To: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: [PATCH v2] drm/amd/powerplay: custom peak clock freq for navi10
Thread-Topic: [PATCH v2] drm/amd/powerplay: custom peak clock freq for navi10
Thread-Index: AQHVPfkCivAwnxAXbEiB9qFv+xdtpA==
Date: Fri, 19 Jul 2019 06:12:58 +0000
Message-ID: <20190719061242.14222-1-kevin1.wang@amd.com>
Accept-Language: en-US, zh-CN
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: HK0PR04CA0023.apcprd04.prod.outlook.com
 (2603:1096:203:36::35) To MN2PR12MB3296.namprd12.prod.outlook.com
 (2603:10b6:208:aa::11)
x-ms-exchange-messagesentrepresentingtype: 1
x-mailer: git-send-email 2.22.0
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 35b0e906-e4ae-4b8f-997f-08d70c102504
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:MN2PR12MB4047; 
x-ms-traffictypediagnostic: MN2PR12MB4047:
x-microsoft-antispam-prvs: <MN2PR12MB40477A42615A7A4E93D1EC14A2CB0@MN2PR12MB4047.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:1923;
x-forefront-prvs: 01039C93E4
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(346002)(136003)(366004)(396003)(376002)(39860400002)(199004)(189003)(6486002)(486006)(86362001)(68736007)(66066001)(25786009)(1076003)(50226002)(3846002)(5640700003)(6116002)(8936002)(6436002)(71190400001)(71200400001)(2906002)(53936002)(2501003)(6916009)(6512007)(256004)(14444005)(186003)(54906003)(14454004)(52116002)(66946007)(8676002)(36756003)(99286004)(476003)(2616005)(7736002)(66476007)(305945005)(2351001)(386003)(6506007)(5660300002)(4326008)(66446008)(64756008)(66556008)(478600001)(26005)(81156014)(81166006)(102836004)(316002);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MN2PR12MB4047;
 H:MN2PR12MB3296.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: K2H2Uj1h0GJIdVSUKNx1Bl6YkOwrJ3rgm3oWfrRZDP7v2Q7dSOP6CP5EIFnQ0v276FXkHRRXgo/GAmK/V3OrqdOBw2AjN1um+Q/LwTq4idWDCqIr+YH8VX+ZkRjz2OwuJny++MizDI98Xb/3qSn1NxHHMAdsUVvlzocZtJborFv/dUiHrhvMkrB864EqXUeGuTDRUGr9b9zjWMIRxhtH3uGDcgj2dg2NKhOnD5euvjRTZo7ddpo6flGWqiXgPxijyTCnCaHeLlSeD/UDv9DOAqMvws9/k+uIxY0i8sPEo+l7v2mZYpouJabXI9RFV9cw3TIAEU53TJTzDVevvgJdfFSPJoSih+ARa3NpuPU/KEfUlEA9hWJFUGK9tqik0atoawIbgu4jI//FGhPTETBK4f0qrCNTTOhTbKxLHDL51gA=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 35b0e906-e4ae-4b8f-997f-08d70c102504
X-MS-Exchange-CrossTenant-originalarrivaltime: 19 Jul 2019 06:12:58.1050 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: kevwa@amd.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB4047
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=Thovpd+Y4y4TBudHoXpcPmY/SK1dMG1HIO42UQ3cB7s=;
 b=a63lMHgDpgKLZ3o5Lanuds4wikCQfYgivB573O+6WLMvkNuzBrmnLZFhbKGKflpqC9T8Ogen8URm0gSeDD3n9VFEPOTjx2tUA6lWXW/nHIOey/pQHiHY7fQ0M8Mmly3WHC63iHehoyXr6rK1TrV8J1pkwP31PZJc6FD2uJhVfZM=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Kevin1.Wang@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Gui, Jack" <Jack.Gui@amd.com>, "Xu, Feifei" <Feifei.Xu@amd.com>, "Wang,
 Kevin\(Yang\)" <Kevin1.Wang@amd.com>, "Huang, Ray" <Ray.Huang@amd.com>, "Quan,
 Evan" <Evan.Quan@amd.com>, "Feng, Kenneth" <Kenneth.Feng@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

djI6CmFkZCBmdW5jdGlvbiBzbXVfZGVmYXVsdF9zZXRfcGVyZm9ybWFuY2VfbGV2ZWwgYXMgZGVm
YXVsdCBkcG0gbGV2ZWwgaGFuZGxlci4KY2hhbmdlIGZ1bmN0aW9uIG5hbWUgc211X3NldF9wZXJm
b3JtYW5jZV9sZXZlbCB0byBzbXVfYXNpY19zZXRfcGVyZm9ybWFuY2VfbGV2ZWwKCnYxOgoxLk5B
VkkxMF9QRUFLX1NDTEtfWFRYICAgIDE4MzAgTWh6CjIuTkFWSTEwX1BFQUtfU0NMS19YVCAgICAg
MTc1NSBNaHoKMy5OQVZJMTBfUEVBS19TQ0xLX1hMICAgICAxNjI1IE1oegoKQ2hhbmdlLUlkOiBJ
YzYzYmM4NWRhMWI5MzJmODYyZDhlYzhiOWRjMDIwMDFiOGE0MjI1NQpTaWduZWQtb2ZmLWJ5OiBL
ZXZpbiBXYW5nIDxrZXZpbjEud2FuZ0BhbWQuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQv
cG93ZXJwbGF5L2FtZGdwdV9zbXUuYyAgICB8IDczICsrKysrKysrKystLS0tLS0tLS0KIC4uLi9n
cHUvZHJtL2FtZC9wb3dlcnBsYXkvaW5jL2FtZGdwdV9zbXUuaCAgICB8ICA0ICsKIGRyaXZlcnMv
Z3B1L2RybS9hbWQvcG93ZXJwbGF5L25hdmkxMF9wcHQuYyAgICB8IDU1ICsrKysrKysrKysrKysr
CiBkcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9uYXZpMTBfcHB0LmggICAgfCAgNCArCiA0
IGZpbGVzIGNoYW5nZWQsIDEwMyBpbnNlcnRpb25zKCspLCAzMyBkZWxldGlvbnMoLSkKCmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9hbWRncHVfc211LmMgYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9hbWRncHVfc211LmMKaW5kZXggN2Y1MWJiZDJhYzkw
Li4zOTFjZTdjMDhjNjYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5
L2FtZGdwdV9zbXUuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9hbWRncHVf
c211LmMKQEAgLTEzMjMsMTMgKzEzMjMsNDkgQEAgc3RhdGljIGludCBzbXVfZW5hYmxlX3VtZF9w
c3RhdGUodm9pZCAqaGFuZGxlLAogCXJldHVybiAwOwogfQogCitzdGF0aWMgaW50IHNtdV9kZWZh
dWx0X3NldF9wZXJmb3JtYW5jZV9sZXZlbChzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgZW51bSBh
bWRfZHBtX2ZvcmNlZF9sZXZlbCBsZXZlbCkKK3sKKwlpbnQgcmV0ID0gMDsKKwl1aW50MzJfdCBz
Y2xrX21hc2ssIG1jbGtfbWFzaywgc29jX21hc2s7CisKKwlzd2l0Y2ggKGxldmVsKSB7CisJY2Fz
ZSBBTURfRFBNX0ZPUkNFRF9MRVZFTF9ISUdIOgorCQlyZXQgPSBzbXVfZm9yY2VfZHBtX2xpbWl0
X3ZhbHVlKHNtdSwgdHJ1ZSk7CisJCWJyZWFrOworCWNhc2UgQU1EX0RQTV9GT1JDRURfTEVWRUxf
TE9XOgorCQlyZXQgPSBzbXVfZm9yY2VfZHBtX2xpbWl0X3ZhbHVlKHNtdSwgZmFsc2UpOworCQli
cmVhazsKKwljYXNlIEFNRF9EUE1fRk9SQ0VEX0xFVkVMX0FVVE86CisJY2FzZSBBTURfRFBNX0ZP
UkNFRF9MRVZFTF9QUk9GSUxFX1NUQU5EQVJEOgorCQlyZXQgPSBzbXVfdW5mb3JjZV9kcG1fbGV2
ZWxzKHNtdSk7CisJCWJyZWFrOworCWNhc2UgQU1EX0RQTV9GT1JDRURfTEVWRUxfUFJPRklMRV9N
SU5fU0NMSzoKKwljYXNlIEFNRF9EUE1fRk9SQ0VEX0xFVkVMX1BST0ZJTEVfTUlOX01DTEs6CisJ
Y2FzZSBBTURfRFBNX0ZPUkNFRF9MRVZFTF9QUk9GSUxFX1BFQUs6CisJCXJldCA9IHNtdV9nZXRf
cHJvZmlsaW5nX2Nsa19tYXNrKHNtdSwgbGV2ZWwsCisJCQkJCQkgJnNjbGtfbWFzaywKKwkJCQkJ
CSAmbWNsa19tYXNrLAorCQkJCQkJICZzb2NfbWFzayk7CisJCWlmIChyZXQpCisJCQlyZXR1cm4g
cmV0OworCQlzbXVfZm9yY2VfY2xrX2xldmVscyhzbXUsIFNNVV9TQ0xLLCAxIDw8IHNjbGtfbWFz
ayk7CisJCXNtdV9mb3JjZV9jbGtfbGV2ZWxzKHNtdSwgU01VX01DTEssIDEgPDwgbWNsa19tYXNr
KTsKKwkJc211X2ZvcmNlX2Nsa19sZXZlbHMoc211LCBTTVVfU09DQ0xLLCAxIDw8IHNvY19tYXNr
KTsKKwkJYnJlYWs7CisJY2FzZSBBTURfRFBNX0ZPUkNFRF9MRVZFTF9NQU5VQUw6CisJY2FzZSBB
TURfRFBNX0ZPUkNFRF9MRVZFTF9QUk9GSUxFX0VYSVQ6CisJZGVmYXVsdDoKKwkJYnJlYWs7CisJ
fQorCXJldHVybiByZXQ7Cit9CisKIGludCBzbXVfYWRqdXN0X3Bvd2VyX3N0YXRlX2R5bmFtaWMo
c3RydWN0IHNtdV9jb250ZXh0ICpzbXUsCiAJCQkJICAgZW51bSBhbWRfZHBtX2ZvcmNlZF9sZXZl
bCBsZXZlbCwKIAkJCQkgICBib29sIHNraXBfZGlzcGxheV9zZXR0aW5ncykKIHsKIAlpbnQgcmV0
ID0gMDsKIAlpbnQgaW5kZXggPSAwOwotCXVpbnQzMl90IHNjbGtfbWFzaywgbWNsa19tYXNrLCBz
b2NfbWFzazsKIAlsb25nIHdvcmtsb2FkOwogCXN0cnVjdCBzbXVfZHBtX2NvbnRleHQgKnNtdV9k
cG1fY3R4ID0gJihzbXUtPnNtdV9kcG0pOwogCkBAIC0xMzYwLDM5ICsxMzk2LDEwIEBAIGludCBz
bXVfYWRqdXN0X3Bvd2VyX3N0YXRlX2R5bmFtaWMoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsCiAJ
fQogCiAJaWYgKHNtdV9kcG1fY3R4LT5kcG1fbGV2ZWwgIT0gbGV2ZWwpIHsKLQkJc3dpdGNoIChs
ZXZlbCkgewotCQljYXNlIEFNRF9EUE1fRk9SQ0VEX0xFVkVMX0hJR0g6Ci0JCQlyZXQgPSBzbXVf
Zm9yY2VfZHBtX2xpbWl0X3ZhbHVlKHNtdSwgdHJ1ZSk7Ci0JCQlicmVhazsKLQkJY2FzZSBBTURf
RFBNX0ZPUkNFRF9MRVZFTF9MT1c6Ci0JCQlyZXQgPSBzbXVfZm9yY2VfZHBtX2xpbWl0X3ZhbHVl
KHNtdSwgZmFsc2UpOwotCQkJYnJlYWs7Ci0KLQkJY2FzZSBBTURfRFBNX0ZPUkNFRF9MRVZFTF9B
VVRPOgotCQljYXNlIEFNRF9EUE1fRk9SQ0VEX0xFVkVMX1BST0ZJTEVfU1RBTkRBUkQ6Ci0JCQly
ZXQgPSBzbXVfdW5mb3JjZV9kcG1fbGV2ZWxzKHNtdSk7Ci0JCQlicmVhazsKLQotCQljYXNlIEFN
RF9EUE1fRk9SQ0VEX0xFVkVMX1BST0ZJTEVfTUlOX1NDTEs6Ci0JCWNhc2UgQU1EX0RQTV9GT1JD
RURfTEVWRUxfUFJPRklMRV9NSU5fTUNMSzoKLQkJY2FzZSBBTURfRFBNX0ZPUkNFRF9MRVZFTF9Q
Uk9GSUxFX1BFQUs6Ci0JCQlyZXQgPSBzbXVfZ2V0X3Byb2ZpbGluZ19jbGtfbWFzayhzbXUsIGxl
dmVsLAotCQkJCQkJCSAmc2Nsa19tYXNrLAotCQkJCQkJCSAmbWNsa19tYXNrLAotCQkJCQkJCSAm
c29jX21hc2spOwotCQkJaWYgKHJldCkKLQkJCQlyZXR1cm4gcmV0OwotCQkJc211X2ZvcmNlX2Ns
a19sZXZlbHMoc211LCBTTVVfU0NMSywgMSA8PCBzY2xrX21hc2spOwotCQkJc211X2ZvcmNlX2Ns
a19sZXZlbHMoc211LCBTTVVfTUNMSywgMSA8PCBtY2xrX21hc2spOwotCQkJc211X2ZvcmNlX2Ns
a19sZXZlbHMoc211LCBTTVVfU09DQ0xLLCAxIDw8IHNvY19tYXNrKTsKLQkJCWJyZWFrOwotCi0J
CWNhc2UgQU1EX0RQTV9GT1JDRURfTEVWRUxfTUFOVUFMOgotCQljYXNlIEFNRF9EUE1fRk9SQ0VE
X0xFVkVMX1BST0ZJTEVfRVhJVDoKLQkJZGVmYXVsdDoKLQkJCWJyZWFrOworCQlyZXQgPSBzbXVf
YXNpY19zZXRfcGVyZm9ybWFuY2VfbGV2ZWwoc211LCBsZXZlbCk7CisJCWlmIChyZXQpIHsKKwkJ
CXJldCA9IHNtdV9kZWZhdWx0X3NldF9wZXJmb3JtYW5jZV9sZXZlbChzbXUsIGxldmVsKTsKIAkJ
fQotCiAJCWlmICghcmV0KQogCQkJc211X2RwbV9jdHgtPmRwbV9sZXZlbCA9IGxldmVsOwogCX0K
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2luYy9hbWRncHVfc211
LmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvYW1kZ3B1X3NtdS5oCmluZGV4
IDUxNGQzMTUxODg1My4uMzQwOTNkZGNhMTA1IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL3Bvd2VycGxheS9pbmMvYW1kZ3B1X3NtdS5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
cG93ZXJwbGF5L2luYy9hbWRncHVfc211LmgKQEAgLTYzMSw2ICs2MzEsNyBAQCBzdHJ1Y3QgcHB0
YWJsZV9mdW5jcyB7CiAJaW50ICgqZ2V0X3RoZXJtYWxfdGVtcGVyYXR1cmVfcmFuZ2UpKHN0cnVj
dCBzbXVfY29udGV4dCAqc211LCBzdHJ1Y3Qgc211X3RlbXBlcmF0dXJlX3JhbmdlICpyYW5nZSk7
CiAJaW50ICgqZ2V0X3VjbGtfZHBtX3N0YXRlcykoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIHVp
bnQzMl90ICpjbG9ja3NfaW5fa2h6LCB1aW50MzJfdCAqbnVtX3N0YXRlcyk7CiAJaW50ICgqc2V0
X2RlZmF1bHRfb2Rfc2V0dGluZ3MpKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCBib29sIGluaXRp
YWxpemUpOworCWludCAoKnNldF9wZXJmb3JtYW5jZV9sZXZlbCkoc3RydWN0IHNtdV9jb250ZXh0
ICpzbXUsIGVudW0gYW1kX2RwbV9mb3JjZWRfbGV2ZWwgbGV2ZWwpOwogfTsKIAogc3RydWN0IHNt
dV9mdW5jcwpAQCAtOTI4LDYgKzkyOSw5IEBAIHN0cnVjdCBzbXVfZnVuY3MKIAkoKHNtdSktPmZ1
bmNzLT5iYWNvX2dldF9zdGF0ZT8gKHNtdSktPmZ1bmNzLT5iYWNvX2dldF9zdGF0ZSgoc211KSwg
KHN0YXRlKSkgOiAwKQogI2RlZmluZSBzbXVfYmFjb19yZXNldChzbXUpIFwKIAkoKHNtdSktPmZ1
bmNzLT5iYWNvX3Jlc2V0PyAoc211KS0+ZnVuY3MtPmJhY29fcmVzZXQoKHNtdSkpIDogMCkKKyNk
ZWZpbmUgc211X2FzaWNfc2V0X3BlcmZvcm1hbmNlX2xldmVsKHNtdSwgbGV2ZWwpIFwKKwkoKHNt
dSktPnBwdF9mdW5jcy0+c2V0X3BlcmZvcm1hbmNlX2xldmVsPyAoc211KS0+cHB0X2Z1bmNzLT5z
ZXRfcGVyZm9ybWFuY2VfbGV2ZWwoKHNtdSksIChsZXZlbCkpIDogLUVJTlZBTCk7CisKIAogZXh0
ZXJuIGludCBzbXVfZ2V0X2F0b21fZGF0YV90YWJsZShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwg
dWludDMyX3QgdGFibGUsCiAJCQkJICAgdWludDE2X3QgKnNpemUsIHVpbnQ4X3QgKmZyZXYsIHVp
bnQ4X3QgKmNyZXYsCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9u
YXZpMTBfcHB0LmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9uYXZpMTBfcHB0LmMK
aW5kZXggZTQ0MDQxYTI1ZTY0Li5hM2M4Mjg2N2U0MzEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvcG93ZXJwbGF5L25hdmkxMF9wcHQuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L3Bvd2VycGxheS9uYXZpMTBfcHB0LmMKQEAgLTE1OTAsNiArMTU5MCw2MCBAQCBzdGF0aWMgaW50
IG5hdmkxMF9zZXRfcHBmZWF0dXJlX3N0YXR1cyhzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwKIAly
ZXR1cm4gMDsKIH0KIAorc3RhdGljIGludCBuYXZpMTBfc2V0X3BlYWtfY2xvY2tfYnlfZGV2aWNl
KHN0cnVjdCBzbXVfY29udGV4dCAqc211KQoreworCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2
ID0gc211LT5hZGV2OworCWludCByZXQgPSAwOworCXVpbnQzMl90IHNjbGtfZnJlcSA9IDAsIHVj
bGtfZnJlcSA9IDA7CisJdWludDMyX3QgdWNsa19sZXZlbCA9IDA7CisKKwlzd2l0Y2ggKGFkZXYt
PnJldl9pZCkgeworCWNhc2UgMHhmMDogLyogWFRYICovCisJY2FzZSAweGMwOgorCQlzY2xrX2Zy
ZXEgPSBOQVZJMTBfUEVBS19TQ0xLX1hUWDsKKwkJYnJlYWs7CisJY2FzZSAweGYxOiAvKiBYVCAq
LworCWNhc2UgMHhjMToKKwkJc2Nsa19mcmVxID0gTkFWSTEwX1BFQUtfU0NMS19YVDsKKwkJYnJl
YWs7CisJZGVmYXVsdDogLyogWEwgKi8KKwkJc2Nsa19mcmVxID0gTkFWSTEwX1BFQUtfU0NMS19Y
TDsKKwkJYnJlYWs7CisJfQorCisJcmV0ID0gc211X2dldF9kcG1fbGV2ZWxfY291bnQoc211LCBT
TVVfVUNMSywgJnVjbGtfbGV2ZWwpOworCWlmIChyZXQpCisJCXJldHVybiByZXQ7CisJcmV0ID0g
c211X2dldF9kcG1fZnJlcV9ieV9pbmRleChzbXUsIFNNVV9VQ0xLLCB1Y2xrX2xldmVsIC0gMSwg
JnVjbGtfZnJlcSk7CisJaWYgKHJldCkKKwkJcmV0dXJuIHJldDsKKworCXJldCA9IHNtdV9zZXRf
c29mdF9mcmVxX3JhbmdlKHNtdSwgU01VX1NDTEssIHNjbGtfZnJlcSwgc2Nsa19mcmVxKTsKKwlp
ZiAocmV0KQorCQlyZXR1cm4gcmV0OworCXJldCA9IHNtdV9zZXRfc29mdF9mcmVxX3JhbmdlKHNt
dSwgU01VX1VDTEssIHVjbGtfZnJlcSwgdWNsa19mcmVxKTsKKwlpZiAocmV0KQorCQlyZXR1cm4g
cmV0OworCisJcmV0dXJuIHJldDsKK30KKworc3RhdGljIGludCBuYXZpMTBfc2V0X3BlcmZvcm1h
bmNlX2xldmVsKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCBlbnVtIGFtZF9kcG1fZm9yY2VkX2xl
dmVsIGxldmVsKQoreworCWludCByZXQgPSAwOworCisJc3dpdGNoIChsZXZlbCkgeworCWNhc2Ug
QU1EX0RQTV9GT1JDRURfTEVWRUxfUFJPRklMRV9QRUFLOgorCQlyZXQgPSBuYXZpMTBfc2V0X3Bl
YWtfY2xvY2tfYnlfZGV2aWNlKHNtdSk7CisJCWJyZWFrOworCWRlZmF1bHQ6CisJCXJldCA9IC1F
SU5WQUw7CisJCWJyZWFrOworCX0KKworCXJldHVybiByZXQ7Cit9CisKIHN0YXRpYyBjb25zdCBz
dHJ1Y3QgcHB0YWJsZV9mdW5jcyBuYXZpMTBfcHB0X2Z1bmNzID0gewogCS50YWJsZXNfaW5pdCA9
IG5hdmkxMF90YWJsZXNfaW5pdCwKIAkuYWxsb2NfZHBtX2NvbnRleHQgPSBuYXZpMTBfYWxsb2Nh
dGVfZHBtX2NvbnRleHQsCkBAIC0xNjI1LDYgKzE2NzksNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0
IHBwdGFibGVfZnVuY3MgbmF2aTEwX3BwdF9mdW5jcyA9IHsKIAkuZ2V0X3VjbGtfZHBtX3N0YXRl
cyA9IG5hdmkxMF9nZXRfdWNsa19kcG1fc3RhdGVzLAogCS5nZXRfcHBmZWF0dXJlX3N0YXR1cyA9
IG5hdmkxMF9nZXRfcHBmZWF0dXJlX3N0YXR1cywKIAkuc2V0X3BwZmVhdHVyZV9zdGF0dXMgPSBu
YXZpMTBfc2V0X3BwZmVhdHVyZV9zdGF0dXMsCisJLnNldF9wZXJmb3JtYW5jZV9sZXZlbCA9IG5h
dmkxMF9zZXRfcGVyZm9ybWFuY2VfbGV2ZWwsCiB9OwogCiB2b2lkIG5hdmkxMF9zZXRfcHB0X2Z1
bmNzKHN0cnVjdCBzbXVfY29udGV4dCAqc211KQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9wb3dlcnBsYXkvbmF2aTEwX3BwdC5oIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBs
YXkvbmF2aTEwX3BwdC5oCmluZGV4IDk1NzI4OGUyMmY0Ny4uNjIwZmYxN2MyZmVmIDEwMDY0NAot
LS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9uYXZpMTBfcHB0LmgKKysrIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvbmF2aTEwX3BwdC5oCkBAIC0yMyw2ICsyMywxMCBA
QAogI2lmbmRlZiBfX05BVkkxMF9QUFRfSF9fCiAjZGVmaW5lIF9fTkFWSTEwX1BQVF9IX18KIAor
I2RlZmluZSBOQVZJMTBfUEVBS19TQ0xLX1hUWAkJKDE4MzApCisjZGVmaW5lIE5BVkkxMF9QRUFL
X1NDTEtfWFQgIAkJKDE3NTUpCisjZGVmaW5lIE5BVkkxMF9QRUFLX1NDTEtfWEwgIAkJKDE2MjUp
CisKIGV4dGVybiB2b2lkIG5hdmkxMF9zZXRfcHB0X2Z1bmNzKHN0cnVjdCBzbXVfY29udGV4dCAq
c211KTsKIAogI2VuZGlmCi0tIAoyLjIyLjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGlu
Zm8vYW1kLWdmeA==
