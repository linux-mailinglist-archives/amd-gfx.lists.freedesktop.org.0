Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 27771BF27D
	for <lists+amd-gfx@lfdr.de>; Thu, 26 Sep 2019 14:06:37 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A80126ECF4;
	Thu, 26 Sep 2019 12:06:35 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM01-SN1-obe.outbound.protection.outlook.com
 (mail-eopbgr820040.outbound.protection.outlook.com [40.107.82.40])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 9CD556ECF4
 for <amd-gfx@lists.freedesktop.org>; Thu, 26 Sep 2019 12:06:33 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=iLl6HcqAc8z/oRQKjH1Bjl5GhKyw0nKFKw94LIJZW8IOuOerYkpaYmkO8RXWZmhOdeI67/pNRzl6NfNb151azLafhEOY7ZCfFEgZvJw6EgdlpaQMNXKh0nkFMPL0cNc/fg3lKDrR6vwG1o6fZrI6+FPGFofYVYF5pN9ZZmMljC87ApyeMJJ11P+UIPWLGeVKCSpyAMzDYz2nyZThNafbkSgAN0T+4iMWL49d1VqjrFm75Axw5nBAS800Xj+bWcuoeJc7/JQUcfaoofEq/ubBY+Vyop05hYYQiR3AGVnz3Nx2XCWSfj+JfuG7gqw/hYyaFb+iSyvrYutpZ+ghbgnTCQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=cf9pQMujNdS3PneXTMgOQcElcFDz1oCeI59HSVtNnHE=;
 b=hb6P+TM9pqGq5w1GgVU68Kkx+te79MZTajAKD0GSFww8qgFOKlgHAQ41ppTdOvvEWqiXrtbwNaYbJ51E4zQ67NlI73/br49UURQSEhzuIxGf2n8GykrzamMOD9K3ngaKabNj7Yh6kmNdlRTMJ6C415b5K45TbF8pk7tdBoFcO02IX5hKCro2tVJOR7Rg057mS+9eAtgIYGEiZ/8Xu/YhrpWNJJjEhSqbkI9zMsVQUZSBb64ymWXOSZ9jDuMz1HCKPdO+Po6Gg1sU+redszTx2UCCvbiguWMyXAyVrdoBa6Ks5ixIeqUBGE2vVSlc838lntB5MlLc+fu2Wa6HSVhrOw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from MN2PR12MB3344.namprd12.prod.outlook.com (20.178.241.74) by
 MN2PR12MB4205.namprd12.prod.outlook.com (52.135.51.202) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2284.20; Thu, 26 Sep 2019 12:06:30 +0000
Received: from MN2PR12MB3344.namprd12.prod.outlook.com
 ([fe80::1882:4ddf:2b19:74ed]) by MN2PR12MB3344.namprd12.prod.outlook.com
 ([fe80::1882:4ddf:2b19:74ed%6]) with mapi id 15.20.2284.023; Thu, 26 Sep 2019
 12:06:30 +0000
From: "Quan, Evan" <Evan.Quan@amd.com>
To: "Liang, Prike" <Prike.Liang@amd.com>, "amd-gfx@lists.freedesktop.org"
 <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH 2/8] drm/amd/powerplay: implement the interface for
 setting soft freq range
Thread-Topic: [PATCH 2/8] drm/amd/powerplay: implement the interface for
 setting soft freq range
Thread-Index: AQHVdB180rB8tVTBUEmg9eGBtxd0OKc93NFQ
Date: Thu, 26 Sep 2019 12:06:30 +0000
Message-ID: <MN2PR12MB33444B2F33B92C23253E7460E4860@MN2PR12MB3344.namprd12.prod.outlook.com>
References: <1569469774-16813-1-git-send-email-Prike.Liang@amd.com>
 <1569469774-16813-2-git-send-email-Prike.Liang@amd.com>
In-Reply-To: <1569469774-16813-2-git-send-email-Prike.Liang@amd.com>
Accept-Language: en-US, zh-CN
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 92e254cd-1359-4d93-8f3b-08d74279f76e
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(5600167)(711020)(4605104)(1401327)(4618075)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(2017052603328)(7193020);
 SRVR:MN2PR12MB4205; 
x-ms-traffictypediagnostic: MN2PR12MB4205:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <MN2PR12MB4205C4A012C60FDD084FD7CFE4860@MN2PR12MB4205.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:3513;
x-forefront-prvs: 0172F0EF77
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(39860400002)(346002)(376002)(396003)(366004)(136003)(199004)(189003)(13464003)(6116002)(76116006)(33656002)(26005)(66946007)(11346002)(64756008)(66556008)(4326008)(102836004)(66476007)(66446008)(186003)(6436002)(53546011)(6506007)(55016002)(54906003)(7696005)(229853002)(2501003)(86362001)(76176011)(71190400001)(2906002)(71200400001)(6246003)(3846002)(52536014)(5660300002)(486006)(99286004)(14454004)(66066001)(316002)(110136005)(74316002)(476003)(9686003)(14444005)(256004)(7736002)(8936002)(305945005)(81166006)(478600001)(8676002)(81156014)(446003)(25786009);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MN2PR12MB4205;
 H:MN2PR12MB3344.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: XwhW6aRqSA6dX7NsYWA04OCGiBj88XtgpufmyP6x4zg2b1WbqnywZbMtVsfj4mWbFuxocjlKulYkqeo143NQu+gqZx3ow3hOGOqjRMEYFM8vgeu+LGOckOmBfLLw8IT0xN6czbAjIydmjW2O+kJsXAPt4pUaJ2uMrroEitDJA9Gy/7H+PhcCUjy+7jfJTKsDBVKUolM6bW4oGtkjYvmVu1lr0djvT/Q9I0ADGl5xGOZJmZ4iRY2d/xLwOHSTiliDamFHkR8Y1HtqUW1E5QwEvoN2hbiEGHU76zC2Pr/sF3ZcAedjEylmEOTW0Gu/3pL9ddikGDDhsa3hP9FheWho4+u2XwS7ex1K3ZF3PQtUFz5DjxW5tolMnOBsRfu3kolAH30xzluobS8KrsuZcFd4knsfDDz92TrkoXdtFeHh4z0=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 92e254cd-1359-4d93-8f3b-08d74279f76e
X-MS-Exchange-CrossTenant-originalarrivaltime: 26 Sep 2019 12:06:30.4809 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: Gj0xhKcGI5I6q1i9CXQg/t9yLfuIal/ypWzjptsGdWO98Wz9BpG6s1eSoDy4SQwg
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB4205
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=cf9pQMujNdS3PneXTMgOQcElcFDz1oCeI59HSVtNnHE=;
 b=FG2sgUIujrzzUeSQBqvR0RKdh1qoeFoPnon+r6IW4aQMc76r3blb/K8kqQh1QvK2J0klGlgGEw3g7lRdzfayFk5hNvuTlC3CQVHnbHd1HDMMWwTJ4b86fcL+F0mrqEHIz0fNAeE9sUpZOn/7rabD39o8lJI64v2qciq5SuTQgvs=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Evan.Quan@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Huang, Ray" <Ray.Huang@amd.com>,
 "keneth.feng@amd.com" <keneth.feng@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

CgotLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQpGcm9tOiBMaWFuZywgUHJpa2UgPFByaWtlLkxp
YW5nQGFtZC5jb20+IApTZW50OiBUaHVyc2RheSwgU2VwdGVtYmVyIDI2LCAyMDE5IDExOjUwIEFN
ClRvOiBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpDYzogUXVhbiwgRXZhbiA8RXZhbi5R
dWFuQGFtZC5jb20+OyBrZW5ldGguZmVuZ0BhbWQuY29tOyBIdWFuZywgUmF5IDxSYXkuSHVhbmdA
YW1kLmNvbT47IExpYW5nLCBQcmlrZSA8UHJpa2UuTGlhbmdAYW1kLmNvbT4KU3ViamVjdDogW1BB
VENIIDIvOF0gZHJtL2FtZC9wb3dlcnBsYXk6IGltcGxlbWVudCB0aGUgaW50ZXJmYWNlIGZvciBz
ZXR0aW5nIHNvZnQgZnJlcSByYW5nZQoKVGhlIEFQVSBzb2Z0IGZyZXEgcmFuZ2Ugc2V0IGJ5IGRp
ZmZlcmVudCB3YXkgZnJvbSBER1BVLCB0aHVzIG5lZWQgaW1wbGVtZW50IHRoZSBmdW5jdGlvbiBy
ZXNwZWN0aXZlbHkgYmFzZSBvbiBlYWNoIGNvbW1vbiBTTVUgcGFydC4KClNpZ25lZC1vZmYtYnk6
IFByaWtlIExpYW5nIDxQcmlrZS5MaWFuZ0BhbWQuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9h
bWQvcG93ZXJwbGF5L2FtZGdwdV9zbXUuYyAgICAgfCAyNSArLS0tLS0tLS0tLS0KIGRyaXZlcnMv
Z3B1L2RybS9hbWQvcG93ZXJwbGF5L2luYy9hbWRncHVfc211LmggfCAgMyArKwogZHJpdmVycy9n
cHUvZHJtL2FtZC9wb3dlcnBsYXkvc211X3YxMV8wLmMgICAgICB8IDMwICsrKysrKysrKysrKysr
KwogZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvc211X3YxMl8wLmMgICAgICB8IDUzICsr
KysrKysrKysrKysrKysrKysrKysrKysrCiA0IGZpbGVzIGNoYW5nZWQsIDg4IGluc2VydGlvbnMo
KyksIDIzIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93
ZXJwbGF5L2FtZGdwdV9zbXUuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2FtZGdw
dV9zbXUuYwppbmRleCBhZTRhODJlLi4yNWQwMDE0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL3Bvd2VycGxheS9hbWRncHVfc211LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9w
b3dlcnBsYXkvYW1kZ3B1X3NtdS5jCkBAIC0yMDUsOCArMjA1LDcgQEAgaW50IHNtdV9nZXRfc21j
X3ZlcnNpb24oc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIHVpbnQzMl90ICppZl92ZXJzaW9uLCB1
aW50MzJfdCAgaW50IHNtdV9zZXRfc29mdF9mcmVxX3JhbmdlKHN0cnVjdCBzbXVfY29udGV4dCAq
c211LCBlbnVtIHNtdV9jbGtfdHlwZSBjbGtfdHlwZSwKIAkJCSAgICB1aW50MzJfdCBtaW4sIHVp
bnQzMl90IG1heCkKIHsKLQlpbnQgcmV0ID0gMCwgY2xrX2lkID0gMDsKLQl1aW50MzJfdCBwYXJh
bTsKKwlpbnQgcmV0ID0gMDsKIAogCWlmIChtaW4gPD0gMCAmJiBtYXggPD0gMCkKIAkJcmV0dXJu
IC1FSU5WQUw7CkBAIC0yMTQsMjcgKzIxMyw3IEBAIGludCBzbXVfc2V0X3NvZnRfZnJlcV9yYW5n
ZShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgZW51bSBzbXVfY2xrX3R5cGUgY2xrX3R5cGUsCiAJ
aWYgKCFzbXVfY2xrX2RwbV9pc19lbmFibGVkKHNtdSwgY2xrX3R5cGUpKQogCQlyZXR1cm4gMDsK
IAotCWNsa19pZCA9IHNtdV9jbGtfZ2V0X2luZGV4KHNtdSwgY2xrX3R5cGUpOwotCWlmIChjbGtf
aWQgPCAwKQotCQlyZXR1cm4gY2xrX2lkOwotCi0JaWYgKG1heCA+IDApIHsKLQkJcGFyYW0gPSAo
dWludDMyX3QpKChjbGtfaWQgPDwgMTYpIHwgKG1heCAmIDB4ZmZmZikpOwotCQlyZXQgPSBzbXVf
c2VuZF9zbWNfbXNnX3dpdGhfcGFyYW0oc211LCBTTVVfTVNHX1NldFNvZnRNYXhCeUZyZXEsCi0J
CQkJCQkgIHBhcmFtKTsKLQkJaWYgKHJldCkKLQkJCXJldHVybiByZXQ7Ci0JfQotCi0JaWYgKG1p
biA+IDApIHsKLQkJcGFyYW0gPSAodWludDMyX3QpKChjbGtfaWQgPDwgMTYpIHwgKG1pbiAmIDB4
ZmZmZikpOwotCQlyZXQgPSBzbXVfc2VuZF9zbWNfbXNnX3dpdGhfcGFyYW0oc211LCBTTVVfTVNH
X1NldFNvZnRNaW5CeUZyZXEsCi0JCQkJCQkgIHBhcmFtKTsKLQkJaWYgKHJldCkKLQkJCXJldHVy
biByZXQ7Ci0JfQotCi0KKwlyZXQgPSBzbXVfc2V0X3NvZnRfZnJlcV9saW1pdGVkX3JhbmdlKHNt
dSwgY2xrX3R5cGUsIG1pbiwgbWF4KTsKIAlyZXR1cm4gcmV0OwogfQogCmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvYW1kZ3B1X3NtdS5oIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9wb3dlcnBsYXkvaW5jL2FtZGdwdV9zbXUuaAppbmRleCBiZDFlNjIxLi5iMTE4
ODYzIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvYW1kZ3B1
X3NtdS5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2luYy9hbWRncHVfc211
LmgKQEAgLTU0Nyw2ICs1NDcsNyBAQCBzdHJ1Y3Qgc211X2Z1bmNzCiAJaW50ICgqYmFjb19yZXNl
dCkoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUpOwogCWludCAoKm1vZGUyX3Jlc2V0KShzdHJ1Y3Qg
c211X2NvbnRleHQgKnNtdSk7CiAJaW50ICgqZ2V0X2RwbV91bHRpbWF0ZV9mcmVxKShzdHJ1Y3Qg
c211X2NvbnRleHQgKnNtdSwgZW51bSBzbXVfY2xrX3R5cGUgY2xrX3R5cGUsIHVpbnQzMl90ICpt
aW4sIHVpbnQzMl90ICptYXgpOworCWludCAoKnNldF9zb2Z0X2ZyZXFfbGltaXRlZF9yYW5nZSko
c3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGVudW0gCitzbXVfY2xrX3R5cGUgY2xrX3R5cGUsIHVp
bnQzMl90IG1pbiwgdWludDMyX3QgbWF4KTsKIH07CiAKICNkZWZpbmUgc211X2luaXRfbWljcm9j
b2RlKHNtdSkgXApAQCAtNzc2LDYgKzc3Nyw4IEBAIHN0cnVjdCBzbXVfZnVuY3MKICNkZWZpbmUg
c211X2dldF9kcG1fdWNsa19saW1pdGVkKHNtdSwgY2xvY2ssIG1heCkgXAogCQkoKHNtdSktPnBw
dF9mdW5jcy0+Z2V0X2RwbV91Y2xrX2xpbWl0ZWQgPyAoc211KS0+cHB0X2Z1bmNzLT5nZXRfZHBt
X3VjbGtfbGltaXRlZCgoc211KSwgKGNsb2NrKSwgKG1heCkpIDogLUVJTlZBTCkKIAorI2RlZmlu
ZSBzbXVfc2V0X3NvZnRfZnJlcV9saW1pdGVkX3JhbmdlKHNtdSwgY2xrX3R5cGUsIG1pbiwgbWF4
KSBcCisJCSgoc211KS0+ZnVuY3MtPnNldF9zb2Z0X2ZyZXFfbGltaXRlZF9yYW5nZSA/IAorKHNt
dSktPmZ1bmNzLT5zZXRfc29mdF9mcmVxX2xpbWl0ZWRfcmFuZ2UoKHNtdSksIChjbGtfdHlwZSks
IChtaW4pLCAKKyhtYXgpKSA6IC1FSU5WQUwpCiAKIGV4dGVybiBpbnQgc211X2dldF9hdG9tX2Rh
dGFfdGFibGUoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIHVpbnQzMl90IHRhYmxlLAogCQkJCSAg
IHVpbnQxNl90ICpzaXplLCB1aW50OF90ICpmcmV2LCB1aW50OF90ICpjcmV2LCBkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvc211X3YxMV8wLmMgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL3Bvd2VycGxheS9zbXVfdjExXzAuYwppbmRleCBkNTBlMGQwLi5jOWU5MGQ1IDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9zbXVfdjExXzAuYworKysg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9zbXVfdjExXzAuYwpAQCAtMTc2Myw2ICsx
NzYzLDM1IEBAIHN0YXRpYyBpbnQgc211X3YxMV8wX2dldF9kcG1fdWx0aW1hdGVfZnJlcShzdHJ1
Y3Qgc211X2NvbnRleHQgKnNtdSwgZW51bSBzbXVfY2xrCiAJcmV0dXJuIHJldDsKIH0KIAorc3Rh
dGljIGludCBzbXVfdjExXzBfc2V0X3NvZnRfZnJlcV9saW1pdGVkX3JhbmdlKHN0cnVjdCBzbXVf
Y29udGV4dCAqc211LCBlbnVtIHNtdV9jbGtfdHlwZSBjbGtfdHlwZSwKKwkJCSAgICB1aW50MzJf
dCBtaW4sIHVpbnQzMl90IG1heCkKK3sKKwlpbnQgcmV0ID0gMCwgY2xrX2lkID0gMDsKKwl1aW50
MzJfdCBwYXJhbTsKKworCWNsa19pZCA9IHNtdV9jbGtfZ2V0X2luZGV4KHNtdSwgY2xrX3R5cGUp
OworCWlmIChjbGtfaWQgPCAwKQorCQlyZXR1cm4gY2xrX2lkOworCisJaWYgKG1heCA+IDApIHsK
KwkJcGFyYW0gPSAodWludDMyX3QpKChjbGtfaWQgPDwgMTYpIHwgKG1heCAmIDB4ZmZmZikpOwor
CQlyZXQgPSBzbXVfc2VuZF9zbWNfbXNnX3dpdGhfcGFyYW0oc211LCBTTVVfTVNHX1NldFNvZnRN
YXhCeUZyZXEsCisJCQkJCQkgIHBhcmFtKTsKKwkJaWYgKHJldCkKKwkJCXJldHVybiByZXQ7CisJ
fQorCisJaWYgKG1pbiA+IDApIHsKKwkJcGFyYW0gPSAodWludDMyX3QpKChjbGtfaWQgPDwgMTYp
IHwgKG1pbiAmIDB4ZmZmZikpOworCQlyZXQgPSBzbXVfc2VuZF9zbWNfbXNnX3dpdGhfcGFyYW0o
c211LCBTTVVfTVNHX1NldFNvZnRNaW5CeUZyZXEsCisJCQkJCQkgIHBhcmFtKTsKKwkJaWYgKHJl
dCkKKwkJCXJldHVybiByZXQ7CisJfQorCisJcmV0dXJuIHJldDsKK30KKwogc3RhdGljIGNvbnN0
IHN0cnVjdCBzbXVfZnVuY3Mgc211X3YxMV8wX2Z1bmNzID0gewogCS5pbml0X21pY3JvY29kZSA9
IHNtdV92MTFfMF9pbml0X21pY3JvY29kZSwKIAkubG9hZF9taWNyb2NvZGUgPSBzbXVfdjExXzBf
bG9hZF9taWNyb2NvZGUsIEBAIC0xODE0LDYgKzE4NDMsNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0
IHNtdV9mdW5jcyBzbXVfdjExXzBfZnVuY3MgPSB7CiAJLmJhY29fc2V0X3N0YXRlID0gc211X3Yx
MV8wX2JhY29fc2V0X3N0YXRlLAogCS5iYWNvX3Jlc2V0ID0gc211X3YxMV8wX2JhY29fcmVzZXQs
CiAJLmdldF9kcG1fdWx0aW1hdGVfZnJlcSA9IHNtdV92MTFfMF9nZXRfZHBtX3VsdGltYXRlX2Zy
ZXEsCisJLnNldF9zb2Z0X2ZyZXFfbGltaXRlZF9yYW5nZSA9IHNtdV92MTFfMF9zZXRfc29mdF9m
cmVxX2xpbWl0ZWRfcmFuZ2UsCiB9OwogCiB2b2lkIHNtdV92MTFfMF9zZXRfc211X2Z1bmNzKHN0
cnVjdCBzbXVfY29udGV4dCAqc211KSBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9w
b3dlcnBsYXkvc211X3YxMl8wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9zbXVf
djEyXzAuYwppbmRleCBkOWQ5NDczLi5jMGMwYTYwIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL3Bvd2VycGxheS9zbXVfdjEyXzAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bv
d2VycGxheS9zbXVfdjEyXzAuYwpAQCAtMzgzLDYgKzM4Myw1OCBAQCBzdGF0aWMgaW50IHNtdV92
MTJfMF9nZXRfZHBtX3VsdGltYXRlX2ZyZXEoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGVudW0g
c211X2NsayAgc3RhdGljIGludCBzbXVfdjEyXzBfbW9kZTJfcmVzZXQoc3RydWN0IHNtdV9jb250
ZXh0ICpzbXUpewogCXJldHVybiBzbXVfdjEyXzBfc2VuZF9tc2dfd2l0aF9wYXJhbShzbXUsIFNN
VV9NU0dfR2Z4RGV2aWNlRHJpdmVyUmVzZXQsIFNNVV9SRVNFVF9NT0RFXzIpOyAgfQorCitzdGF0
aWMgaW50IHNtdV92MTJfMF9zZXRfc29mdF9mcmVxX2xpbWl0ZWRfcmFuZ2Uoc3RydWN0IHNtdV9j
b250ZXh0ICpzbXUsIGVudW0gc211X2Nsa190eXBlIGNsa190eXBlLAorCQkJICAgIHVpbnQzMl90
IG1pbiwgdWludDMyX3QgbWF4KQoreworCWludCByZXQgPSAwOworCisJc3dpdGNoIChjbGtfdHlw
ZSkgeworCWNhc2UgU01VX0dGWENMSzoKKwljYXNlIFNNVV9TQ0xLOgorCQlyZXQgPSBzbXVfc2Vu
ZF9zbWNfbXNnX3dpdGhfcGFyYW0oc211LCBTTVVfTVNHX1NldEhhcmRNaW5HZnhDbGssIG1pbik7
CisJCWlmIChyZXQpCisJCQlyZXR1cm4gcmV0OworCisJCXJldCA9IHNtdV9zZW5kX3NtY19tc2df
d2l0aF9wYXJhbShzbXUsIFNNVV9NU0dfU2V0U29mdE1heEdmeENsaywgbWF4KTsKKwkJaWYgKHJl
dCkKKwkJCXJldHVybiByZXQ7CltRdWFuLCBFdmFuXSBBZGQgY2hlY2sgZm9yIGFueSB2aW9sYXRl
IG9mICJtYXggPj0gbWluIiAuCldpdGggdGhpcyBhZGRyZXNzZWQsIHRoZSBwYXRjaCBpcyByZXZp
ZXdlZC1ieTogRXZhbiBRdWFuIDxldmFuLnF1YW5AYW1kLmNvbT4KKwlicmVhazsKKwljYXNlIFNN
VV9GQ0xLOgorCWNhc2UgU01VX01DTEs6CisJCXJldCA9IHNtdV9zZW5kX3NtY19tc2dfd2l0aF9w
YXJhbShzbXUsIFNNVV9NU0dfU2V0SGFyZE1pbkZjbGtCeUZyZXEsIG1pbik7CisJCWlmIChyZXQp
CisJCQlyZXR1cm4gcmV0OworCisJCXJldCA9IHNtdV9zZW5kX3NtY19tc2dfd2l0aF9wYXJhbShz
bXUsIFNNVV9NU0dfU2V0U29mdE1heEZjbGtCeUZyZXEsIG1heCk7CisJCWlmIChyZXQpCisJCQly
ZXR1cm4gcmV0OworCWJyZWFrOworCWNhc2UgU01VX1NPQ0NMSzoKKwkJcmV0ID0gc211X3NlbmRf
c21jX21zZ193aXRoX3BhcmFtKHNtdSwgU01VX01TR19TZXRIYXJkTWluU29jY2xrQnlGcmVxLCBt
aW4pOworCQlpZiAocmV0KQorCQkJcmV0dXJuIHJldDsKKworCQlyZXQgPSBzbXVfc2VuZF9zbWNf
bXNnX3dpdGhfcGFyYW0oc211LCBTTVVfTVNHX1NldFNvZnRNYXhTb2NjbGtCeUZyZXEsIG1heCk7
CisJCWlmIChyZXQpCisJCQlyZXR1cm4gcmV0OworCWJyZWFrOworCWNhc2UgU01VX1ZDTEs6CisJ
CXJldCA9IHNtdV9zZW5kX3NtY19tc2dfd2l0aF9wYXJhbShzbXUsIFNNVV9NU0dfU2V0SGFyZE1p
blZjbiwgbWluKTsKKwkJaWYgKHJldCkKKwkJCXJldHVybiByZXQ7CisKKwkJcmV0ID0gc211X3Nl
bmRfc21jX21zZ193aXRoX3BhcmFtKHNtdSwgU01VX01TR19TZXRTb2Z0TWF4VmNuLCBtYXgpOwor
CQlpZiAocmV0KQorCQkJcmV0dXJuIHJldDsKKwlicmVhazsKKwlkZWZhdWx0OgorCQlyZXR1cm4g
LUVJTlZBTDsKKwl9CisKKwlyZXR1cm4gcmV0OworfQorCiBzdGF0aWMgY29uc3Qgc3RydWN0IHNt
dV9mdW5jcyBzbXVfdjEyXzBfZnVuY3MgPSB7CiAJLmNoZWNrX2Z3X3N0YXR1cyA9IHNtdV92MTJf
MF9jaGVja19md19zdGF0dXMsCiAJLmNoZWNrX2Z3X3ZlcnNpb24gPSBzbXVfdjEyXzBfY2hlY2tf
ZndfdmVyc2lvbiwgQEAgLTM5OCw2ICs0NTAsNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IHNtdV9m
dW5jcyBzbXVfdjEyXzBfZnVuY3MgPSB7CiAJLnBvcHVsYXRlX3NtY190YWJsZXMgPSBzbXVfdjEy
XzBfcG9wdWxhdGVfc21jX3RhYmxlcywKIAkuZ2V0X2RwbV91bHRpbWF0ZV9mcmVxID0gc211X3Yx
Ml8wX2dldF9kcG1fdWx0aW1hdGVfZnJlcSwKIAkubW9kZTJfcmVzZXQgPSBzbXVfdjEyXzBfbW9k
ZTJfcmVzZXQsCisJLnNldF9zb2Z0X2ZyZXFfbGltaXRlZF9yYW5nZSA9IHNtdV92MTJfMF9zZXRf
c29mdF9mcmVxX2xpbWl0ZWRfcmFuZ2UsCiB9OwogCiB2b2lkIHNtdV92MTJfMF9zZXRfc211X2Z1
bmNzKHN0cnVjdCBzbXVfY29udGV4dCAqc211KQotLQoyLjcuNAoKX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdm
eEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFp
bG1hbi9saXN0aW5mby9hbWQtZ2Z4
