Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 385251AE842
	for <lists+amd-gfx@lfdr.de>; Sat, 18 Apr 2020 00:31:44 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B14F56EC19;
	Fri, 17 Apr 2020 22:31:42 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM11-CO1-obe.outbound.protection.outlook.com
 (mail-co1nam11on2051.outbound.protection.outlook.com [40.107.220.51])
 by gabe.freedesktop.org (Postfix) with ESMTPS id ABCDF6EC19
 for <amd-gfx@lists.freedesktop.org>; Fri, 17 Apr 2020 22:31:40 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=TF5MpwQgbAdg5IukB/O1QXLOTr+HRJXccOWjdzigpIX1p/AS8r8yWmplQYperHiOv4JBNNZKf8qGuJNFRrDQhJHUDQvshQzgGub6XadTXvU+4ld3Q31fzx/DULpdvmKrDfoagMNBbbpI5QqSFjsrRLatK6UPmtfjX3Brw4fb7fjEH1+8rVSYCx8fjaatFDOnjY0E7krmUSJnjYj2oPAzXSiAw4y38hAKDq2Uo7mbpSLSsATdmWnBeJnkioqSl1cuyai4zLBER3mvex1EO4C5wQ0eIdsMsjfNshJrrOc3+TrkMvxbCT+AefphJ0USI+T4X4+uE2riSuwGhg8wKzIMqA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=MN0CAsXWw405vgc+ZPSg9YKESxt5PnK2hCHE4FHXO0M=;
 b=SjJ+W8AMuuYIxyWCYQlfRqNrjnX3Csy9ZAL3V5Wh6tS7iihsKH7tAK2PicTufWVHU2kwkeSlpcqQDm04QBkjVz4NSY9f3u+bhmTethWWy9+becwiKKjKs+0WOF35heVfi+ztKZGvUrCgE96vezyy4iw7FPFzkrceleR5d1kUW7InBl5POtS0ZmgB+Nozs94ig4A+mfBZFnR0MeKLk3lWjspkqo9O2phmWSJTFWas3rbNZtc16htnAcsrD6WeZ1J5Y8q7M5H9mCgZkQJcPRX3WMwoOK6bgcRDkq8Akpg1kezLeOZ/cBgmuQ0NT7CucZ9lqK+4vv88MmvNh0DhnPQAHg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=MN0CAsXWw405vgc+ZPSg9YKESxt5PnK2hCHE4FHXO0M=;
 b=s+A32U85bMaMRM2R+i/AYYPsUwnhZLimnspwLFsCAkjlMtCVsIQIB7QnkipsGHyAL8ENMkW/Icpcxt0yc2knh8HitY8l73XbxsHM1lmpKivYO06eA0q6n+7QCAcME23Eh0qZoVYsmOGYj5A4wQ+quVQXaP1uzeVkCMNB10v4+WE=
Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Felix.Kuehling@amd.com; 
Received: from DM5PR12MB2407.namprd12.prod.outlook.com (2603:10b6:4:b4::24) by
 DM5PR12MB1612.namprd12.prod.outlook.com (2603:10b6:4:a::11) with
 Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2921.29; Fri, 17 Apr 2020 22:31:39 +0000
Received: from DM5PR12MB2407.namprd12.prod.outlook.com
 ([fe80::7d36:4eac:2088:637f]) by DM5PR12MB2407.namprd12.prod.outlook.com
 ([fe80::7d36:4eac:2088:637f%3]) with mapi id 15.20.2900.028; Fri, 17 Apr 2020
 22:31:39 +0000
Subject: Re: [PATCH v6] drm/amdkfd: Provide SMI events watch
To: Amber Lin <Amber.Lin@amd.com>, amd-gfx@lists.freedesktop.org
References: <1587154032-8195-1-git-send-email-Amber.Lin@amd.com>
From: Felix Kuehling <felix.kuehling@amd.com>
Message-ID: <f6bbb6ff-09b7-703a-ad90-a44f518544a9@amd.com>
Date: Fri, 17 Apr 2020 18:31:36 -0400
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101
 Thunderbird/68.7.0
In-Reply-To: <1587154032-8195-1-git-send-email-Amber.Lin@amd.com>
Content-Language: en-US
X-ClientProxiedBy: YQBPR0101CA0016.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:c00::29) To DM5PR12MB2407.namprd12.prod.outlook.com
 (2603:10b6:4:b4::24)
MIME-Version: 1.0
X-MS-Exchange-MessageSentRepresentingType: 1
Received: from [192.168.2.100] (142.116.63.128) by
 YQBPR0101CA0016.CANPRD01.PROD.OUTLOOK.COM (2603:10b6:c00::29) with Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2921.25 via Frontend Transport; Fri, 17 Apr 2020 22:31:38 +0000
X-Originating-IP: [142.116.63.128]
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-HT: Tenant
X-MS-Office365-Filtering-Correlation-Id: 7f257c7d-5d2b-4acf-22a1-08d7e31f184d
X-MS-TrafficTypeDiagnostic: DM5PR12MB1612:|DM5PR12MB1612:
X-MS-Exchange-Transport-Forked: True
X-Microsoft-Antispam-PRVS: <DM5PR12MB1612D4B7F3532A231E8A591592D90@DM5PR12MB1612.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:5236;
X-Forefront-PRVS: 0376ECF4DD
X-Forefront-Antispam-Report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:DM5PR12MB2407.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFTY:;
 SFS:(10009020)(4636009)(39860400002)(396003)(136003)(376002)(366004)(346002)(5660300002)(66476007)(31696002)(66946007)(66556008)(31686004)(6486002)(478600001)(2906002)(44832011)(8676002)(30864003)(16526019)(86362001)(186003)(956004)(2616005)(316002)(16576012)(26005)(52116002)(81156014)(8936002)(36756003);
 DIR:OUT; SFP:1101; 
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: fQ5SrlLw0yRRFRRLziJA3lXW30xvAgCA0QWVrZ776NE0RuidGt2g/Z12TagruKfv1p/ycx+Y2fbbGJgMHDu8iXWhTCAUOXaedhafEKKws75KEhl0MJgQ1SGbKWndzg4JiJlf2S9F63GROPAcIhcsiNReCYUDL9z4A4bnMgEViTr/HOfl02Fz5PPh5VrZH/RbcjSdJA6C9L8QySwpuBp2b7S1N5GtGoMJXvP89QhOwmjfD54b1x/JzbWptZJuJ/imVpISCf3FvkBz33jIRqBrk4ANdk908KtCw8x3OV/kShKAG31uUegaWdmjndIkroYo2nag93d8rhlDVBuV4jgXEn79TZIb8Zi5OOolVHjV6AcsOD948fO/WCMo17xBk08fNdOKqPq/wSXSmYSoq1fcrKmkrKK8zX+MW8NG9LnHqQPWtAvquhs0e38X0qEo5Mbu
X-MS-Exchange-AntiSpam-MessageData: OaT79Gt+PEMTnxQDEOp/0ghdYD0I5z9M8jUBBDKEpHh2nSnLeLAg/GsyRVzMTSPfOtTgB6AkcMNdLtsTcLxFVUzbbPzGHOdohFJ9XDPc9kRQmWEu7JDJ7mXqJusiQ1nBDR8vuzneQSdU7CBtKTNFpw==
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 7f257c7d-5d2b-4acf-22a1-08d7e31f184d
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 17 Apr 2020 22:31:39.0242 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: 5cP5kzrs+2ULLyGe40voFON3gfwfvkJdIlRYQqUesPYqfCp0OTGriNf9rb+LYD4tY5ty4Uqx0yEBPItyBTYtZw==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM5PR12MB1612
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

CkFtIDIwMjAtMDQtMTcgdW0gNDowNyBwLm0uIHNjaHJpZWIgQW1iZXIgTGluOgo+IFdoZW4gdGhl
IGNvbXB1dGUgaXMgbWFsZnVuY3Rpb25pbmcgb3IgcGVyZm9ybWFuY2UgZHJvcHMsIHRoZSBzeXN0
ZW0gYWRtaW4KPiB3aWxsIHVzZSBTTUkgKFN5c3RlbSBNYW5hZ2VtZW50IEludGVyZmFjZSkgdG9v
bCB0byBtb25pdG9yL2RpYWdub3N0aWMgd2hhdAo+IHdlbnQgd3JvbmcuIFRoaXMgcGF0Y2ggcHJv
dmlkZXMgYW4gZXZlbnQgd2F0Y2ggaW50ZXJmYWNlIGZvciB0aGUgdXNlcgo+IHNwYWNlIHRvIHJl
Z2lzdGVyIGRldmljZXMgYW5kIHN1YnNjcmliZSBldmVudHMgdGhleSBhcmUgaW50ZXJlc3RlZC4g
QWZ0ZXIKPiByZWdpc3RlcmVkLCB0aGUgdXNlciBjYW4gdXNlIGFubm95bW91cyBmaWxlIGRlc2Ny
aXB0b3IncyBwb2xsIGZ1bmN0aW9uCj4gd2l0aCB3YWl0LXRpbWUgc3BlY2lmaWVkIGFuZCB3YWl0
IGZvciBldmVudHMgdG8gaGFwcGVuLiBPbmNlIGFuIGV2ZW50Cj4gaGFwcGVucywgdGhlIHVzZXIg
Y2FuIHVzZSByZWFkKCkgdG8gcmV0cmlldmUgaW5mb3JtYXRpb24gcmVsYXRlZCB0byB0aGUKPiBl
dmVudC4KPgo+IFZNIGZhdWx0IGV2ZW50IGlzIGRvbmUgaW4gdGhpcyBwYXRjaC4KPgo+IHYyOiAt
IHJlbW92ZSBVTlJFR0lTVEVSIGFuZCBhZGQgZXZlbnQgRU5BQkxFL0RJU0FCTEUKPiAgICAgLSBj
b3JyZWN0IGtmaWZvIHVzYWdlCj4gICAgIC0gbW92ZSBldmVudCBtZXNzYWdlIEFQSSB0byBrZmRf
aW9jdGwuaAo+IHYzOiBzZW5kIHRoZSBldmVudCBtc2cgaW4gdGV4dCB0aGFuIGluIGJpbmFyeQo+
IHY0OiBzdXBwb3J0IG11bHRpcGxlIGNsaWVudHMKPiB2NTogbW92ZSBldmVudHMgZW5hYmxlbWVu
dCBmcm9tIGlvY3RsIHRvIGZkIHdyaXRlCj4KPiBTaWduZWQtb2ZmLWJ5OiBBbWJlciBMaW4gPEFt
YmVyLkxpbkBhbWQuY29tPgo+IC0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9NYWtl
ZmlsZSAgICAgICAgICAgICAgfCAgIDEgKwo+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9j
aWtfZXZlbnRfaW50ZXJydXB0LmMgfCAgIDIgKwo+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtm
ZC9rZmRfY2hhcmRldi5jICAgICAgICAgfCAgMTggKysKPiAgZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRrZmQva2ZkX2RldmljZS5jICAgICAgICAgIHwgICA3ICsKPiAgZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRrZmQva2ZkX2ludF9wcm9jZXNzX3Y5LmMgIHwgICAyICsKPiAgZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRrZmQva2ZkX3ByaXYuaCAgICAgICAgICAgIHwgICA0ICsKPiAgZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRrZmQva2ZkX3NtaV9ldmVudHMuYyAgICAgIHwgMjE1ICsrKysrKysrKysrKysr
KysrKysrKysrCj4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9zbWlfZXZlbnRzLmgg
ICAgICB8ICAyOSArKysKPiAgaW5jbHVkZS91YXBpL2xpbnV4L2tmZF9pb2N0bC5oICAgICAgICAg
ICAgICAgICAgIHwgIDE2ICstCj4gIDkgZmlsZXMgY2hhbmdlZCwgMjkzIGluc2VydGlvbnMoKyks
IDEgZGVsZXRpb24oLSkKPiAgY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9hbWQv
YW1ka2ZkL2tmZF9zbWlfZXZlbnRzLmMKPiAgY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1
L2RybS9hbWQvYW1ka2ZkL2tmZF9zbWlfZXZlbnRzLmgKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGtmZC9NYWtlZmlsZSBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2Zk
L01ha2VmaWxlCj4gaW5kZXggNjE0NzQ2Mi4uZTFlNDExNSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGtmZC9NYWtlZmlsZQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1ka2ZkL01ha2VmaWxlCj4gQEAgLTUzLDYgKzUzLDcgQEAgQU1ES0ZEX0ZJTEVTCTo9ICQoQU1E
S0ZEX1BBVEgpL2tmZF9tb2R1bGUubyBcCj4gIAkJJChBTURLRkRfUEFUSCkva2ZkX2ludF9wcm9j
ZXNzX3Y5Lm8gXAo+ICAJCSQoQU1ES0ZEX1BBVEgpL2tmZF9kYmdkZXYubyBcCj4gIAkJJChBTURL
RkRfUEFUSCkva2ZkX2RiZ21nci5vIFwKPiArCQkkKEFNREtGRF9QQVRIKS9rZmRfc21pX2V2ZW50
cy5vIFwKPiAgCQkkKEFNREtGRF9QQVRIKS9rZmRfY3JhdC5vCj4gIAo+ICBpZm5lcSAoJChDT05G
SUdfQU1EX0lPTU1VX1YyKSwpCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
a2ZkL2Npa19ldmVudF9pbnRlcnJ1cHQuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2Np
a19ldmVudF9pbnRlcnJ1cHQuYwo+IGluZGV4IDlmNTliYTkuLjI0YjQ3MTcgMTAwNjQ0Cj4gLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQvY2lrX2V2ZW50X2ludGVycnVwdC5jCj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQvY2lrX2V2ZW50X2ludGVycnVwdC5jCj4gQEAg
LTI0LDYgKzI0LDcgQEAKPiAgI2luY2x1ZGUgImtmZF9ldmVudHMuaCIKPiAgI2luY2x1ZGUgImNp
a19pbnQuaCIKPiAgI2luY2x1ZGUgImFtZGdwdV9hbWRrZmQuaCIKPiArI2luY2x1ZGUgImtmZF9z
bWlfZXZlbnRzLmgiCj4gIAo+ICBzdGF0aWMgYm9vbCBjaWtfZXZlbnRfaW50ZXJydXB0X2lzcihz
dHJ1Y3Qga2ZkX2RldiAqZGV2LAo+ICAJCQkJCWNvbnN0IHVpbnQzMl90ICppaF9yaW5nX2VudHJ5
LAo+IEBAIC0xMDcsNiArMTA4LDcgQEAgc3RhdGljIHZvaWQgY2lrX2V2ZW50X2ludGVycnVwdF93
cShzdHJ1Y3Qga2ZkX2RldiAqZGV2LAo+ICAJCWlocmUtPnNvdXJjZV9pZCA9PSBDSUtfSU5UU1JD
X0dGWF9NRU1fUFJPVF9GQVVMVCkgewo+ICAJCXN0cnVjdCBrZmRfdm1fZmF1bHRfaW5mbyBpbmZv
Owo+ICAKPiArCQlrZmRfc21pX2V2ZW50X3VwZGF0ZV92bWZhdWx0KGRldiwgcGFzaWQpOwo+ICAJ
CWtmZF9wcm9jZXNzX3ZtX2ZhdWx0KGRldi0+ZHFtLCBwYXNpZCk7Cj4gIAo+ICAJCW1lbXNldCgm
aW5mbywgMCwgc2l6ZW9mKGluZm8pKTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRrZmQva2ZkX2NoYXJkZXYuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9j
aGFyZGV2LmMKPiBpbmRleCBmOGZhMDNhLi4yYmFhYWVjIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9jaGFyZGV2LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGtmZC9rZmRfY2hhcmRldi5jCj4gQEAgLTM5LDYgKzM5LDcgQEAKPiAgI2luY2x1ZGUg
ImtmZF9kZXZpY2VfcXVldWVfbWFuYWdlci5oIgo+ICAjaW5jbHVkZSAia2ZkX2RiZ21nci5oIgo+
ICAjaW5jbHVkZSAiYW1kZ3B1X2FtZGtmZC5oIgo+ICsjaW5jbHVkZSAia2ZkX3NtaV9ldmVudHMu
aCIKPiAgCj4gIHN0YXRpYyBsb25nIGtmZF9pb2N0bChzdHJ1Y3QgZmlsZSAqLCB1bnNpZ25lZCBp
bnQsIHVuc2lnbmVkIGxvbmcpOwo+ICBzdGF0aWMgaW50IGtmZF9vcGVuKHN0cnVjdCBpbm9kZSAq
LCBzdHJ1Y3QgZmlsZSAqKTsKPiBAQCAtMTczMiw2ICsxNzMzLDIwIEBAIHN0YXRpYyBpbnQga2Zk
X2lvY3RsX2ltcG9ydF9kbWFidWYoc3RydWN0IGZpbGUgKmZpbGVwLAo+ICAJcmV0dXJuIHI7Cj4g
IH0KPiAgCj4gKy8qIEhhbmRsZSByZXF1ZXN0cyBmb3Igd2F0Y2hpbmcgU01JIGV2ZW50cyAqLwo+
ICtzdGF0aWMgaW50IGtmZF9pb2N0bF9zbWlfZXZlbnRzKHN0cnVjdCBmaWxlICpmaWxlcCwKPiAr
CQkJCXN0cnVjdCBrZmRfcHJvY2VzcyAqcCwgdm9pZCAqZGF0YSkKPiArewo+ICsJc3RydWN0IGtm
ZF9pb2N0bF9zbWlfZXZlbnRzX2FyZ3MgKmFyZ3MgPSBkYXRhOwo+ICsJc3RydWN0IGtmZF9kZXYg
KmRldjsKPiArCj4gKwlkZXYgPSBrZmRfZGV2aWNlX2J5X2lkKGFyZ3MtPmdwdWlkKTsKPiArCWlm
ICghZGV2KQo+ICsJCXJldHVybiAtRUlOVkFMOwo+ICsKPiArCXJldHVybiBrZmRfc21pX2V2ZW50
X29wZW4oZGV2LCAmYXJncy0+YW5vbl9mZCk7Cj4gK30KPiArCj4gICNkZWZpbmUgQU1ES0ZEX0lP
Q1RMX0RFRihpb2N0bCwgX2Z1bmMsIF9mbGFncykgXAo+ICAJW19JT0NfTlIoaW9jdGwpXSA9IHsu
Y21kID0gaW9jdGwsIC5mdW5jID0gX2Z1bmMsIC5mbGFncyA9IF9mbGFncywgXAo+ICAJCQkgICAg
LmNtZF9kcnYgPSAwLCAubmFtZSA9ICNpb2N0bH0KPiBAQCAtMTgyNyw2ICsxODQyLDkgQEAgc3Rh
dGljIGNvbnN0IHN0cnVjdCBhbWRrZmRfaW9jdGxfZGVzYyBhbWRrZmRfaW9jdGxzW10gPSB7Cj4g
IAo+ICAJQU1ES0ZEX0lPQ1RMX0RFRihBTURLRkRfSU9DX0FMTE9DX1FVRVVFX0dXUywKPiAgCQkJ
a2ZkX2lvY3RsX2FsbG9jX3F1ZXVlX2d3cywgMCksCj4gKwo+ICsJQU1ES0ZEX0lPQ1RMX0RFRihB
TURLRkRfSU9DX1NNSV9FVkVOVFMsCj4gKwkJCWtmZF9pb2N0bF9zbWlfZXZlbnRzLCAwKSwKPiAg
fTsKPiAgCj4gICNkZWZpbmUgQU1ES0ZEX0NPUkVfSU9DVExfQ09VTlQJQVJSQVlfU0laRShhbWRr
ZmRfaW9jdGxzKQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRf
ZGV2aWNlLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfZGV2aWNlLmMKPiBpbmRl
eCAwNDkxYWIyLi4yYzAzMGMyIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
a2ZkL2tmZF9kZXZpY2UuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9k
ZXZpY2UuYwo+IEBAIC01ODYsNiArNTg2LDExIEBAIHN0YXRpYyBpbnQga2ZkX2d3c19pbml0KHN0
cnVjdCBrZmRfZGV2ICprZmQpCj4gIAlyZXR1cm4gcmV0Owo+ICB9Cj4gIAo+ICtzdGF0aWMgdm9p
ZCBrZmRfc21pX2luaXQoc3RydWN0IGtmZF9kZXYgKmRldikgewo+ICsJSU5JVF9MSVNUX0hFQUQo
JmRldi0+c21pX2NsaWVudHMpOwo+ICsJc3Bpbl9sb2NrX2luaXQoJmRldi0+c21pX2xvY2spOwo+
ICt9Cj4gKwo+ICBib29sIGtnZDJrZmRfZGV2aWNlX2luaXQoc3RydWN0IGtmZF9kZXYgKmtmZCwK
PiAgCQkJIHN0cnVjdCBkcm1fZGV2aWNlICpkZGV2LAo+ICAJCQkgY29uc3Qgc3RydWN0IGtnZDJr
ZmRfc2hhcmVkX3Jlc291cmNlcyAqZ3B1X3Jlc291cmNlcykKPiBAQCAtNzAwLDYgKzcwNSw4IEBA
IGJvb2wga2dkMmtmZF9kZXZpY2VfaW5pdChzdHJ1Y3Qga2ZkX2RldiAqa2ZkLAo+ICAJCWdvdG8g
a2ZkX3RvcG9sb2d5X2FkZF9kZXZpY2VfZXJyb3I7Cj4gIAl9Cj4gIAo+ICsJa2ZkX3NtaV9pbml0
KGtmZCk7Cj4gKwo+ICAJa2ZkLT5pbml0X2NvbXBsZXRlID0gdHJ1ZTsKPiAgCWRldl9pbmZvKGtm
ZF9kZXZpY2UsICJhZGRlZCBkZXZpY2UgJXg6JXhcbiIsIGtmZC0+cGRldi0+dmVuZG9yLAo+ICAJ
CSBrZmQtPnBkZXYtPmRldmljZSk7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1ka2ZkL2tmZF9pbnRfcHJvY2Vzc192OS5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQv
a2ZkX2ludF9wcm9jZXNzX3Y5LmMKPiBpbmRleCBlMDVkNzVlLi4xNTFlODNlIDEwMDY0NAo+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9pbnRfcHJvY2Vzc192OS5jCj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX2ludF9wcm9jZXNzX3Y5LmMKPiBAQCAt
MjQsNiArMjQsNyBAQAo+ICAjaW5jbHVkZSAia2ZkX2V2ZW50cy5oIgo+ICAjaW5jbHVkZSAic29j
MTVfaW50LmgiCj4gICNpbmNsdWRlICJrZmRfZGV2aWNlX3F1ZXVlX21hbmFnZXIuaCIKPiArI2lu
Y2x1ZGUgImtmZF9zbWlfZXZlbnRzLmgiCj4gIAo+ICBzdGF0aWMgYm9vbCBldmVudF9pbnRlcnJ1
cHRfaXNyX3Y5KHN0cnVjdCBrZmRfZGV2ICpkZXYsCj4gIAkJCQkJY29uc3QgdWludDMyX3QgKmlo
X3JpbmdfZW50cnksCj4gQEAgLTExNyw2ICsxMTgsNyBAQCBzdGF0aWMgdm9pZCBldmVudF9pbnRl
cnJ1cHRfd3Ffdjkoc3RydWN0IGtmZF9kZXYgKmRldiwKPiAgCQlpbmZvLnByb3RfcmVhZCAgPSBy
aW5nX2lkICYgMHgxMDsKPiAgCQlpbmZvLnByb3Rfd3JpdGUgPSByaW5nX2lkICYgMHgyMDsKPiAg
Cj4gKwkJa2ZkX3NtaV9ldmVudF91cGRhdGVfdm1mYXVsdChkZXYsIHBhc2lkKTsKPiAgCQlrZmRf
cHJvY2Vzc192bV9mYXVsdChkZXYtPmRxbSwgcGFzaWQpOwo+ICAJCWtmZF9zaWduYWxfdm1fZmF1
bHRfZXZlbnQoZGV2LCBwYXNpZCwgJmluZm8pOwo+ICAJfQo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfcHJpdi5oIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRr
ZmQva2ZkX3ByaXYuaAo+IGluZGV4IDQzYjg4OGIuLmRjODczYjAgMTAwNjQ0Cj4gLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX3ByaXYuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1ka2ZkL2tmZF9wcml2LmgKPiBAQCAtMzA5LDYgKzMwOSwxMCBAQCBzdHJ1Y3Qga2Zk
X2RldiB7Cj4gIAo+ICAJLyogR2xvYmFsIEdXUyByZXNvdXJjZSBzaGFyZWQgYi90IHByb2Nlc3Nl
cyovCj4gIAl2b2lkICpnd3M7Cj4gKwo+ICsJLyogQ2xpZW50cyB3YXRjaGluZyBTTUkgZXZlbnRz
ICovCj4gKwlzdHJ1Y3QgbGlzdF9oZWFkIHNtaV9jbGllbnRzOwo+ICsJc3BpbmxvY2tfdCBzbWlf
bG9jazsKPiAgfTsKPiAgCj4gIGVudW0ga2ZkX21lbXBvb2wgewo+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfc21pX2V2ZW50cy5jIGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRrZmQva2ZkX3NtaV9ldmVudHMuYwo+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0Cj4gaW5k
ZXggMDAwMDAwMC4uMTM3YWVjOAo+IC0tLSAvZGV2L251bGwKPiArKysgYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGtmZC9rZmRfc21pX2V2ZW50cy5jCj4gQEAgLTAsMCArMSwyMTUgQEAKPiArLyoK
PiArICogQ29weXJpZ2h0IDIwMjAgQWR2YW5jZWQgTWljcm8gRGV2aWNlcywgSW5jLgo+ICsgKgo+
ICsgKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55
IHBlcnNvbiBvYnRhaW5pbmcgYQo+ICsgKiBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29j
aWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLAo+ICsgKiB0byBkZWFs
IGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBs
aW1pdGF0aW9uCj4gKyAqIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBw
dWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLAo+ICsgKiBhbmQvb3Igc2VsbCBjb3BpZXMg
b2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUKPiArICog
U29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcg
Y29uZGl0aW9uczoKPiArICoKPiArICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRo
aXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4KPiArICogYWxsIGNvcGll
cyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuCj4gKyAqCj4gKyAqIFRI
RSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBL
SU5ELCBFWFBSRVNTIE9SCj4gKyAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQg
VE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLAo+ICsgKiBGSVRORVNTIEZPUiBB
IFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiAgSU4gTk8gRVZFTlQgU0hB
TEwKPiArICogVEhFIENPUFlSSUdIVCBIT0xERVIoUykgT1IgQVVUSE9SKFMpIEJFIExJQUJMRSBG
T1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SCj4gKyAqIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJ
TiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLAo+ICsgKiBBUklTSU5H
IEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBV
U0UgT1IKPiArICogT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLgo+ICsgKi8KPiArCj4g
KyNpbmNsdWRlIDxsaW51eC9wb2xsLmg+Cj4gKyNpbmNsdWRlIDxsaW51eC93YWl0Lmg+Cj4gKyNp
bmNsdWRlIDxsaW51eC9hbm9uX2lub2Rlcy5oPgo+ICsjaW5jbHVkZSA8dWFwaS9saW51eC9rZmRf
aW9jdGwuaD4KPiArI2luY2x1ZGUgImFtZGdwdV92bS5oIgo+ICsjaW5jbHVkZSAia2ZkX3ByaXYu
aCIKPiArI2luY2x1ZGUgImtmZF9zbWlfZXZlbnRzLmgiCj4gKwo+ICtzdHJ1Y3Qga2ZkX3NtaV9j
bGllbnQgewo+ICsJc3RydWN0IGxpc3RfaGVhZCBsaXN0Owo+ICsJc3RydWN0IGtmaWZvIGZpZm87
Cj4gKwl3YWl0X3F1ZXVlX2hlYWRfdCB3YWl0X3F1ZXVlOwo+ICsJLyogZXZlbnRzIGVuYWJsZWQg
Ki8KPiArCXVpbnQ2NF90IGV2ZW50czsKPiArCXN0cnVjdCBrZmRfZGV2ICpkZXY7Cj4gKwlzcGlu
bG9ja190IGxvY2s7Cj4gK307Cj4gKwo+ICsjZGVmaW5lIE1BWF9LRklGT19TSVpFCTEwMjQKPiAr
Cj4gK3N0YXRpYyBfX3BvbGxfdCBrZmRfc21pX2V2X3BvbGwoc3RydWN0IGZpbGUgKiwgc3RydWN0
IHBvbGxfdGFibGVfc3RydWN0ICopOwo+ICtzdGF0aWMgc3NpemVfdCBrZmRfc21pX2V2X3JlYWQo
c3RydWN0IGZpbGUgKiwgY2hhciBfX3VzZXIgKiwgc2l6ZV90LCBsb2ZmX3QgKik7Cj4gK3N0YXRp
YyBzc2l6ZV90IGtmZF9zbWlfZXZfd3JpdGUoc3RydWN0IGZpbGUgKiwgY29uc3QgY2hhciBfX3Vz
ZXIgKiwgc2l6ZV90LAo+ICsJCQkJbG9mZl90ICopOwo+ICtzdGF0aWMgaW50IGtmZF9zbWlfZXZf
cmVsZWFzZShzdHJ1Y3QgaW5vZGUgKiwgc3RydWN0IGZpbGUgKik7Cj4gKwo+ICtzdGF0aWMgY29u
c3QgY2hhciBrZmRfc21pX25hbWVbXSA9ICJrZmRfc21pX2V2IjsKPiArCj4gK3N0YXRpYyBjb25z
dCBzdHJ1Y3QgZmlsZV9vcGVyYXRpb25zIGtmZF9zbWlfZXZfZm9wcyA9IHsKPiArCS5vd25lciA9
IFRISVNfTU9EVUxFLAo+ICsJLnBvbGwgPSBrZmRfc21pX2V2X3BvbGwsCj4gKwkucmVhZCA9IGtm
ZF9zbWlfZXZfcmVhZCwKPiArCS53cml0ZSA9IGtmZF9zbWlfZXZfd3JpdGUsCj4gKwkucmVsZWFz
ZSA9IGtmZF9zbWlfZXZfcmVsZWFzZQo+ICt9Owo+ICsKPiArc3RhdGljIF9fcG9sbF90IGtmZF9z
bWlfZXZfcG9sbChzdHJ1Y3QgZmlsZSAqZmlsZXAsCj4gKwkJCQlzdHJ1Y3QgcG9sbF90YWJsZV9z
dHJ1Y3QgKndhaXQpCj4gK3sKPiArCV9fcG9sbF90IG1hc2s7Cj4gKwlzdHJ1Y3Qga2ZkX3NtaV9j
bGllbnQgKmNsaWVudCA9IGZpbGVwLT5wcml2YXRlX2RhdGE7Cj4gKwo+ICsJcG9sbF93YWl0KGZp
bGVwLCAmY2xpZW50LT53YWl0X3F1ZXVlLCB3YWl0KTsKPiArCj4gKwlzcGluX2xvY2soJmNsaWVu
dC0+bG9jayk7Cj4gKwltYXNrID0ga2ZpZm9faXNfZW1wdHkoJmNsaWVudC0+ZmlmbykgPyAwOiBQ
T0xMSU4gfCBQT0xMUkROT1JNOwo+ICsJc3Bpbl91bmxvY2soJmNsaWVudC0+bG9jayk7Cj4gKwo+
ICsJcmV0dXJuIG1hc2s7Cj4gK30KPiArCj4gK3N0YXRpYyBzc2l6ZV90IGtmZF9zbWlfZXZfcmVh
ZChzdHJ1Y3QgZmlsZSAqZmlsZXAsIGNoYXIgX191c2VyICp1c2VyLAo+ICsJCQkgICAgICAgc2l6
ZV90IHNpemUsIGxvZmZfdCAqb2Zmc2V0KQo+ICt7Cj4gKwlpbnQgcmV0LCB0b19jb3B5Owo+ICsJ
c3RydWN0IGtmZF9zbWlfY2xpZW50ICpjbGllbnQgPSBmaWxlcC0+cHJpdmF0ZV9kYXRhOwo+ICsJ
dW5zaWduZWQgY2hhciBidWZbTUFYX0tGSUZPX1NJWkVdOwoKSWYgeW91IGdyb3cgdGhlIE1BWF9L
RklGT19TSVpFIGluIHRoZSBmdXR1cmUsIHRoaXMgd2lsbCBsZWFkIHRvIGEgc3RhY2sKb3ZlcmZs
b3cuIEl0J3MgT0sgZm9yIG5vdy4gTWF5YmUgYWRkIGEgQlVJTERfQlVHX09OKE1BWF9LRklGT19T
SVpFID4KMTAyNCkgdG8gbWFrZSBpdCBvYnZpb3VzIGZvciBhbnlvbmUgd2hvIHdhbnRzIHRvIGdy
b3cgdGhlIEZJRk8gc2l6ZSBsYXRlci4KCgo+ICsKPiArCS8qIGtmaWZvX3RvX3VzZXIgY2FuIHNs
ZWVwIHNvIHdlIGNhbid0IHVzZSBzcGlubG9jayBwcm90ZWN0aW9uIGFyb3VuZAo+ICsJICogaXQu
IEluc3RlYWQsIHdlIGtmaWZvIG91dCBhcyBzcGlubG9ja2VkIHRoZW4gY29weSB0aGVtIHRvIHRo
ZSB1c2VyLgo+ICsJICovCj4gKwlzcGluX2xvY2soJmNsaWVudC0+bG9jayk7Cj4gKwl0b19jb3B5
ID0ga2ZpZm9fbGVuKCZjbGllbnQtPmZpZm8pOwo+ICsJaWYgKCF0b19jb3B5KSB7Cj4gKwkJc3Bp
bl91bmxvY2soJmNsaWVudC0+bG9jayk7Cj4gKwkJcmV0dXJuIC1FQUdBSU47Cj4gKwl9Cj4gKwl0
b19jb3B5ID0gdG9fY29weSA+IHNpemUgPyBzaXplIDogdG9fY29weTsKCllvdSBjb3VsZCB1c2Ug
bWluKHNpemUsIHRvX2NvcHkpIGhlcmUuIEJ1dCB5b3UgYWxzbyBuZWVkIHRvIGNoZWNrCmFnYWlu
c3Qgc2l6ZW9mKGJ1ZiksIG90aGVyd2lzZSB5b3UgcmlzayBvdmVyd3JpdGluZyB5b3VyIHN0YWNr
LiBNYXliZQptaW4zKHNpemUsIHNpemVvZihidWYpLCB0b19jb3B5KS4KCgo+ICsJcmV0ID0ga2Zp
Zm9fb3V0KCZjbGllbnQtPmZpZm8sIGJ1ZiwgdG9fY29weSk7Cj4gKwlzcGluX3VubG9jaygmY2xp
ZW50LT5sb2NrKTsKPiArCWlmIChyZXQgPD0gMCkKPiArCQlyZXR1cm4gLUVBR0FJTjsKPiArCj4g
KwlyZXQgPSBjb3B5X3RvX3VzZXIodXNlciwgYnVmLCB0b19jb3B5KTsKPiArCWlmIChyZXQpIHsK
PiArCQlwcl9kZWJ1Zygic21pLWV2ZW50czogZmFpbCB0byBzZW5kIG1zZyAoJWkpICglaSlcbiIs
Cj4gKwkJCXJldCwgdG9fY29weSk7Cj4gKwkJcmV0dXJuIHJldDsKPiArCX0KPiArCj4gKwlyZXR1
cm4gdG9fY29weTsKPiArfQo+ICsKPiArc3RhdGljIHNzaXplX3Qga2ZkX3NtaV9ldl93cml0ZShz
dHJ1Y3QgZmlsZSAqZmlsZXAsIGNvbnN0IGNoYXIgX191c2VyICp1c2VyLAo+ICsJCQkJc2l6ZV90
IHNpemUsIGxvZmZfdCAqb2Zmc2V0KQo+ICt7Cj4gKwlzdHJ1Y3Qga2ZkX3NtaV9jbGllbnQgKmNs
aWVudCA9IGZpbGVwLT5wcml2YXRlX2RhdGE7Cj4gKwl1aW50NjRfdCBldmVudHM7Cj4gKwo+ICsJ
aWYgKCFhY2Nlc3Nfb2sodXNlciwgc2l6ZSkgfHwgc2l6ZSA8IHNpemVvZihldmVudHMpKQo+ICsJ
CXJldHVybiAtRUZBVUxUOwo+ICsJaWYgKGNvcHlfZnJvbV91c2VyKCZldmVudHMsIHVzZXIsIHNp
emVvZihldmVudHMpKSkKPiArCQlyZXR1cm4gLUVGQVVMVDsKPiArCj4gKwlXUklURV9PTkNFKGNs
aWVudC0+ZXZlbnRzLCBldmVudHMpOwo+ICsKPiArCXJldHVybiBzaXplb2YoZXZlbnRzKTsKPiAr
fQo+ICsKPiArc3RhdGljIGludCBrZmRfc21pX2V2X3JlbGVhc2Uoc3RydWN0IGlub2RlICppbm9k
ZSwgc3RydWN0IGZpbGUgKmZpbGVwKQo+ICt7Cj4gKwlzdHJ1Y3Qga2ZkX3NtaV9jbGllbnQgKmNs
aWVudCA9IGZpbGVwLT5wcml2YXRlX2RhdGE7Cj4gKwlzdHJ1Y3Qga2ZkX2RldiAqZGV2ID0gY2xp
ZW50LT5kZXY7Cj4gKwo+ICsJc3Bpbl9sb2NrKCZkZXYtPnNtaV9sb2NrKTsKPiArCWxpc3RfZGVs
X3JjdSgmY2xpZW50LT5saXN0KTsKPiArCXNwaW5fdW5sb2NrKCZkZXYtPnNtaV9sb2NrKTsKPiAr
Cj4gKwlzeW5jaHJvbml6ZV9yY3UoKTsKPiArCWtmaWZvX2ZyZWUoJmNsaWVudC0+Zmlmbyk7Cj4g
KwlrZnJlZShjbGllbnQpOwo+ICsKPiArCXJldHVybiAwOwo+ICt9Cj4gKwo+ICt2b2lkIGtmZF9z
bWlfZXZlbnRfdXBkYXRlX3ZtZmF1bHQoc3RydWN0IGtmZF9kZXYgKmRldiwgdWludDE2X3QgcGFz
aWQpCj4gK3sKPiArCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gKHN0cnVjdCBhbWRncHVf
ZGV2aWNlICopZGV2LT5rZ2Q7Cj4gKwlzdHJ1Y3QgYW1kZ3B1X3Rhc2tfaW5mbyB0YXNrX2luZm87
Cj4gKwkvKiBWbUZhdWx0IG1zZyA9IChoZXgpdWludDMyX3BpZCg4KSArIDooMSkgKyB0YXNrIG5h
bWUoMTYpID0gMjUgKi8KPiArCS8qIDE2IGJ5dGVzIGV2ZW50ICsgMSBieXRlIHNwYWNlICsgMjUg
Ynl0ZXMgbXNnICsgMSBieXRlIFxuID0gNDMKPiArCSAqLwo+ICsJY2hhciBmaWZvX2luWzQzXTsK
PiArCXN0cnVjdCBrZmRfc21pX2NsaWVudCAqY2xpZW50Owo+ICsKPiArCXJjdV9yZWFkX2xvY2so
KTsKPiArCWlmIChsaXN0X2VtcHR5KCZkZXYtPnNtaV9jbGllbnRzKSl7Cj4gKwkJcmN1X3JlYWRf
dW5sb2NrKCk7Cj4gKwkJcmV0dXJuOwo+ICsJfQo+ICsJcmN1X3JlYWRfdW5sb2NrKCk7CgpJIGRv
bid0IHRoaW5rIHlvdSBuZWVkIGFuIHJjdV9yZWFkX2xvY2sgZm9yIHRoaXMgYXRvbWljIGxpc3Rf
ZW1wdHkgY2hlY2suCgoKPiArCj4gKwlhbWRncHVfdm1fZ2V0X3Rhc2tfaW5mbyhhZGV2LCBwYXNp
ZCwgJnRhc2tfaW5mbyk7Cj4gKwlzbnByaW50ZihmaWZvX2luLCA0MywgIiV4ICV4OiVzXG4iLCBL
RkRfU01JX0VWRU5UX1ZNRkFVTFQsCj4gKwkJdGFza19pbmZvLnBpZCwgdGFza19pbmZvLnRhc2tf
bmFtZSk7Cj4gKwo+ICsJcmN1X3JlYWRfbG9jaygpOwo+ICsKPiArCWxpc3RfZm9yX2VhY2hfZW50
cnlfcmN1KGNsaWVudCwgJmRldi0+c21pX2NsaWVudHMsIGxpc3QpIHsKPiArCQlpZiAoIShSRUFE
X09OQ0UoY2xpZW50LT5ldmVudHMpICYgS0ZEX1NNSV9FVkVOVF9WTUZBVUxUKSkKPiArCQkJY29u
dGludWU7Cj4gKwkJc3Bpbl9sb2NrKCZjbGllbnQtPmxvY2spOwo+ICsJCWlmIChrZmlmb19hdmFp
bCgmY2xpZW50LT5maWZvKSA8IHNpemVvZihmaWZvX2luKSkgewo+ICsJCQlzcGluX3VubG9jaygm
Y2xpZW50LT5sb2NrKTsKPiArCQkJcmN1X3JlYWRfdW5sb2NrKCk7Cj4gKwkJCXByX2RlYnVnKCJz
bWlfZXZlbnQodm1mYXVsdCk6IG5vIHNwYWNlIGxlZnRcbiIpOwo+ICsJCQlyZXR1cm47CgpJZiBv
bmUgY2xpZW50IGlzIG92ZXJmbG93aW5nLCB0aGF0IHNob3VsZCBub3Qgc3RvcCBldmVudCBkZWxp
dmVyeSB0bwpvdGhlciBjbGllbnRzLiBUaGF0IHdvdWxkIGFsbG93IG9uZSBjbGllbnQgdG8gc3Rh
Z2UgYSBkZW5pYWwgb2Ygc2VydmljZQphdHRhY2sgb24gb3RoZXIgY2xpZW50cyBzaW1wbHkgYnkg
bmV2ZXIgcmVhZGluZyBpdHMgZXZlbnRzLiBTbyBleGl0aW5nCmhlcmUgaXMgd3JvbmcuIFlvdSBz
aG91bGQganVzdCBjb250aW51ZSB3aXRoIHRoZSBuZXh0IGNsaWVudC4KCgo+ICsJCX0KPiArCQlr
Zmlmb19pbigmY2xpZW50LT5maWZvLCBmaWZvX2luLCBzaXplb2YoZmlmb19pbikpOwo+ICsJCXdh
a2VfdXBfYWxsKCZjbGllbnQtPndhaXRfcXVldWUpOwo+ICsJCXNwaW5fdW5sb2NrKCZjbGllbnQt
PmxvY2spOwo+ICsJfQo+ICsKPiArCXJjdV9yZWFkX3VubG9jaygpOwo+ICt9Cj4gKwo+ICtpbnQg
a2ZkX3NtaV9ldmVudF9vcGVuKHN0cnVjdCBrZmRfZGV2ICpkZXYsIHVpbnQzMl90ICpmZCkKPiAr
ewo+ICsJc3RydWN0IGtmZF9zbWlfY2xpZW50ICpjbGllbnQ7Cj4gKwlpbnQgcmV0Owo+ICsKPiAr
CWNsaWVudCA9IGt6YWxsb2Moc2l6ZW9mKHN0cnVjdCBrZmRfc21pX2NsaWVudCksIEdGUF9LRVJO
RUwpOwo+ICsJaWYgKCFjbGllbnQpCj4gKwkJcmV0dXJuIC1FTk9NRU07Cj4gKwlJTklUX0xJU1Rf
SEVBRCgmY2xpZW50LT5saXN0KTsKPiArCj4gKwlyZXQgPSBrZmlmb19hbGxvYygmY2xpZW50LT5m
aWZvLCBNQVhfS0ZJRk9fU0laRSwgR0ZQX0tFUk5FTCk7Cj4gKwlpZiAocmV0KSB7Cj4gKwkJa2Zy
ZWUoY2xpZW50KTsKPiArCQlyZXR1cm4gcmV0Owo+ICsJfQo+ICsKPiArCXJldCA9IGFub25faW5v
ZGVfZ2V0ZmQoa2ZkX3NtaV9uYW1lLCAma2ZkX3NtaV9ldl9mb3BzLCAodm9pZCAqKWNsaWVudCwK
PiArCQkJICAgICAgIE9fUkRXUik7Cj4gKwlpZiAocmV0IDwgMCkgewo+ICsJCWtmaWZvX2ZyZWUo
JmNsaWVudC0+Zmlmbyk7Cj4gKwkJa2ZyZWUoY2xpZW50KTsKPiArCQkqZmQgPSAwOwoKWW91IGRv
bid0IG5lZWQgdG8gb3ZlcndyaXRlICpmZCBoZXJlLiBJZiB0aGUgZnVuY3Rpb24gZmFpbHMsIGl0
IHNob3VsZApub3Qgd3JpdGUgaXRzIG91dHB1dCBwYXJhbWV0ZXIuCgoKPiArCQlyZXR1cm4gcmV0
Owo+ICsJfQo+ICsJKmZkID0gcmV0Owo+ICsKPiArCWluaXRfd2FpdHF1ZXVlX2hlYWQoJmNsaWVu
dC0+d2FpdF9xdWV1ZSk7Cj4gKwlzcGluX2xvY2tfaW5pdCgmY2xpZW50LT5sb2NrKTsKPiArCWNs
aWVudC0+ZXZlbnRzID0gMDsKPiArCWNsaWVudC0+ZGV2ID0gZGV2Owo+ICsKPiArCXNwaW5fbG9j
aygmZGV2LT5zbWlfbG9jayk7Cj4gKwlsaXN0X2FkZF9yY3UoJmNsaWVudC0+bGlzdCwgJmRldi0+
c21pX2NsaWVudHMpOwo+ICsJc3Bpbl91bmxvY2soJmRldi0+c21pX2xvY2spOwo+ICsKPiArCXJl
dHVybiAwOwo+ICt9Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tm
ZF9zbWlfZXZlbnRzLmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfc21pX2V2ZW50
cy5oCj4gbmV3IGZpbGUgbW9kZSAxMDA2NDQKPiBpbmRleCAwMDAwMDAwLi5hOWNiMjE4Cj4gLS0t
IC9kZXYvbnVsbAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9zbWlfZXZl
bnRzLmgKPiBAQCAtMCwwICsxLDI5IEBACj4gKy8qCj4gKyAqIENvcHlyaWdodCAyMDIwIEFkdmFu
Y2VkIE1pY3JvIERldmljZXMsIEluYy4KPiArICoKPiArICogUGVybWlzc2lvbiBpcyBoZXJlYnkg
Z3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEKPiArICog
Y29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMg
KHRoZSAiU29mdHdhcmUiKSwKPiArICogdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCBy
ZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbgo+ICsgKiB0aGUgcmlnaHRz
IHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGlj
ZW5zZSwKPiArICogYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBl
cm1pdCBwZXJzb25zIHRvIHdob20gdGhlCj4gKyAqIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBk
byBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6Cj4gKyAqCj4gKyAqIFRo
ZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxs
IGJlIGluY2x1ZGVkIGluCj4gKyAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMg
b2YgdGhlIFNvZnR3YXJlLgo+ICsgKgo+ICsgKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFT
IElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgo+ICsgKiBJTVBM
SUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNI
QU5UQUJJTElUWSwKPiArICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5P
TklORlJJTkdFTUVOVC4gIElOIE5PIEVWRU5UIFNIQUxMCj4gKyAqIFRIRSBDT1BZUklHSFQgSE9M
REVSKFMpIE9SIEFVVEhPUihTKSBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUgo+
ICsgKiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBU
T1JUIE9SIE9USEVSV0lTRSwKPiArICogQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVD
VElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SCj4gKyAqIE9USEVSIERFQUxJTkdT
IElOIFRIRSBTT0ZUV0FSRS4KPiArICovCj4gKwo+ICsjaWZuZGVmIEtGRF9TTUlfRVZFTlRTX0hf
SU5DTFVERUQKPiArI2RlZmluZSBLRkRfU01JX0VWRU5UU19IX0lOQ0xVREVECj4gKwo+ICtpbnQg
a2ZkX3NtaV9ldmVudF9vcGVuKHN0cnVjdCBrZmRfZGV2ICpkZXYsIHVpbnQzMl90ICpmZCk7Cj4g
K3ZvaWQga2ZkX3NtaV9ldmVudF91cGRhdGVfdm1mYXVsdChzdHJ1Y3Qga2ZkX2RldiAqZGV2LCB1
aW50MTZfdCBwYXNpZCk7Cj4gKwo+ICsjZW5kaWYKPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS91YXBp
L2xpbnV4L2tmZF9pb2N0bC5oIGIvaW5jbHVkZS91YXBpL2xpbnV4L2tmZF9pb2N0bC5oCj4gaW5k
ZXggNGY2Njc2NC4uYWQzM2MxOCAxMDA2NDQKPiAtLS0gYS9pbmNsdWRlL3VhcGkvbGludXgva2Zk
X2lvY3RsLmgKPiArKysgYi9pbmNsdWRlL3VhcGkvbGludXgva2ZkX2lvY3RsLmgKCkFzIHdlIGRp
c2N1c3NlZCwgd2Ugc2hvdWxkIGJ1bXAgdGhlIEtGRF9JQ09UTF9NSU5PUl9WRVJTSU9OIGZvciB0
aGlzCmNoYW5nZS4gU2tpcCB2ZXJzaW9uIDEuMiBhbmQgZ28gc3RyYWlnaHQgdG8gMS4zIGJlY2F1
c2UgdmVyc2lvbiAxLjIgaXMKYnVpbmcgdXNlZCBieSB0aGUgREtNUyBidWlsZHMuCgpSZWdhcmRz
LArCoCBGZWxpeAoKCj4gQEAgLTQ0Miw2ICs0NDIsMTcgQEAgc3RydWN0IGtmZF9pb2N0bF9pbXBv
cnRfZG1hYnVmX2FyZ3Mgewo+ICAJX191MzIgZG1hYnVmX2ZkOwkvKiB0byBLRkQgKi8KPiAgfTsK
PiAgCj4gKy8qCj4gKyAqIEtGRCBTTUkoU3lzdGVtIE1hbmFnZW1lbnQgSW50ZXJmYWNlKSBldmVu
dHMKPiArICovCj4gKy8qIEV2ZW50IHR5cGUgKGRlZmluZWQgYnkgYml0bWFzaykgKi8KPiArI2Rl
ZmluZSBLRkRfU01JX0VWRU5UX1ZNRkFVTFQgICAgIDB4MDAwMDAwMDAwMDAwMDAwMQo+ICsKPiAr
c3RydWN0IGtmZF9pb2N0bF9zbWlfZXZlbnRzX2FyZ3Mgewo+ICsJX191MzIgZ3B1aWQ7CS8qIHRv
IEtGRCAqLwo+ICsJX191MzIgYW5vbl9mZDsJLyogZnJvbSBLRkQgKi8KPiArfTsKPiArCj4gIC8q
IFJlZ2lzdGVyIG9mZnNldCBpbnNpZGUgdGhlIHJlbWFwcGVkIG1taW8gcGFnZQo+ICAgKi8KPiAg
ZW51bSBrZmRfbW1pb19yZW1hcCB7Cj4gQEAgLTU0Niw3ICs1NTcsMTAgQEAgZW51bSBrZmRfbW1p
b19yZW1hcCB7Cj4gICNkZWZpbmUgQU1ES0ZEX0lPQ19BTExPQ19RVUVVRV9HV1MJCVwKPiAgCQlB
TURLRkRfSU9XUigweDFFLCBzdHJ1Y3Qga2ZkX2lvY3RsX2FsbG9jX3F1ZXVlX2d3c19hcmdzKQo+
ICAKPiArI2RlZmluZSBBTURLRkRfSU9DX1NNSV9FVkVOVFMJCQlcCj4gKwkJQU1ES0ZEX0lPV1Io
MHgxRiwgc3RydWN0IGtmZF9pb2N0bF9zbWlfZXZlbnRzX2FyZ3MpCj4gKwo+ICAjZGVmaW5lIEFN
REtGRF9DT01NQU5EX1NUQVJUCQkweDAxCj4gLSNkZWZpbmUgQU1ES0ZEX0NPTU1BTkRfRU5ECQkw
eDFGCj4gKyNkZWZpbmUgQU1ES0ZEX0NPTU1BTkRfRU5ECQkweDIwCj4gIAo+ICAjZW5kaWYKX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWls
aW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVl
ZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4Cg==
