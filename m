Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 30D00EA38D
	for <lists+amd-gfx@lfdr.de>; Wed, 30 Oct 2019 19:42:59 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id CA70C6EB34;
	Wed, 30 Oct 2019 18:42:57 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM01-BN3-obe.outbound.protection.outlook.com
 (mail-eopbgr740073.outbound.protection.outlook.com [40.107.74.73])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7A1FC6EB34
 for <amd-gfx@lists.freedesktop.org>; Wed, 30 Oct 2019 18:42:56 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=ZGaDtVVaZzDa1/Djh74Qx8WepFNcUv5wDDZ3GrP6brAFchsTT/Gijccp40wsgB2ukvoC6u1VLfV2yjsVHIOkcHCqudCH3G67L6LxGi/rOvsXdOCbHBkUbvNxM55IzxTgqpVOIJRmUoNXVQVo+Ik4u0VHVr8pe0YuaOdFLrYSP7TXygtMzWHdzDTZlIyKbwbBPos7lHKqIj331O0yZXdqV80Gdrw4N3EWZMhNmPcHdRasfNQll9ZRrudtvgIIuOnOzn2Lt0OGalKuOmGcXxFd6t3Ch+JL1TZeh080s7hHTYd2LttTkv/czbIYqwweDK+IgISEmDke+pvLE+QG5R2cww==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=91Aojq+F9m8y21ZZaYACU39+ncXR2qyAnXk/Mqhdpaw=;
 b=TXjFyzaSl2VfrtfK06nSNbBi9Xa+OJQUiSFW/CQ+nam7H6Tk11B/wfQ6taROabDVSJiAwNvK2c0iW/aMBL1uxAO7WyvJOrL+zNO/V09RbtAPnKMZvj/k9ugDYr7gH+m7ExwcGRgs4FQ4LVyoh8IeM0azH7J8KJpNWWQVpdLAi7jbbYh4rII7/Ybd5uIdvwZ7n4pe2VF34mowBUFVGk4RIGNG0l2Bg3a14qH79X7kTmUKIyhHK4VgLgjWdFiK9xrr/73PE2kZbWqo+CECEith8B2zEWNaB/Y1vKOI6SXv/4NP47gL3hB3SG2r8yEfTGYK8bDlIPRdlCnukCdL2Ku2Bg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from BYAPR12MB3013.namprd12.prod.outlook.com (20.178.55.219) by
 BYAPR12MB3448.namprd12.prod.outlook.com (20.178.196.202) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2387.24; Wed, 30 Oct 2019 18:42:53 +0000
Received: from BYAPR12MB3013.namprd12.prod.outlook.com
 ([fe80::c082:7b69:4a5d:4850]) by BYAPR12MB3013.namprd12.prod.outlook.com
 ([fe80::c082:7b69:4a5d:4850%7]) with mapi id 15.20.2387.028; Wed, 30 Oct 2019
 18:42:53 +0000
From: Mikita Lipski <mlipski@amd.com>
To: "Kazlauskas, Nicholas" <Nicholas.Kazlauskas@amd.com>, "Lipski, Mikita"
 <Mikita.Lipski@amd.com>, "amd-gfx@lists.freedesktop.org"
 <amd-gfx@lists.freedesktop.org>
Subject: Re: [PATCH v7] drm/amd/display: Add MST atomic routines
Thread-Topic: [PATCH v7] drm/amd/display: Add MST atomic routines
Thread-Index: AQHVjZxkvDWiMV8RhU+ZLtQvu/FjWadzgdoAgAAGlgA=
Date: Wed, 30 Oct 2019 18:42:53 +0000
Message-ID: <511c9bd1-a215-18c2-0161-4db98db87f68@amd.com>
References: <20191028143122.11870-1-mikita.lipski@amd.com>
 <e078aa7d-073a-e854-1783-f8b5a30c180d@amd.com>
In-Reply-To: <e078aa7d-073a-e854-1783-f8b5a30c180d@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: YTBPR01CA0005.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:b01:14::18) To BYAPR12MB3013.namprd12.prod.outlook.com
 (2603:10b6:a03:a9::27)
x-originating-ip: [165.204.55.250]
x-ms-exchange-messagesentrepresentingtype: 1
x-ms-publictraffictype: Email
x-ms-office365-filtering-ht: Tenant
x-ms-office365-filtering-correlation-id: c7eb385a-6139-4487-feb0-08d75d68f8fc
x-ms-traffictypediagnostic: BYAPR12MB3448:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <BYAPR12MB344841E84A42C01B57B79EA0E4600@BYAPR12MB3448.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:6108;
x-forefront-prvs: 02065A9E77
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(39860400002)(346002)(136003)(366004)(396003)(376002)(199004)(189003)(102836004)(31686004)(26005)(186003)(66946007)(486006)(3846002)(81156014)(81166006)(66476007)(6116002)(54906003)(6436002)(64756008)(66446008)(25786009)(8676002)(36756003)(66556008)(476003)(14454004)(5660300002)(6486002)(2906002)(229853002)(76176011)(446003)(52116002)(4326008)(386003)(6506007)(53546011)(2616005)(11346002)(478600001)(66066001)(8936002)(99286004)(31696002)(305945005)(7736002)(4001150100001)(6512007)(2501003)(6246003)(256004)(14444005)(71200400001)(71190400001)(110136005)(316002);
 DIR:OUT; SFP:1101; SCL:1; SRVR:BYAPR12MB3448;
 H:BYAPR12MB3013.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: z8aVVDmLGCYxy8Q7s9xaLTB/XagrcOwIda8pD6eIkZ9YpIh3NL03/Ik2JxC/HVAKpZ8CRexgfpQu8pV2Ekonz28wc1AnRUYdEG6B7yFrMgsLQAE+uFa6RYwZai5vAJshIo1qj+TE+HtsODnZJqaoYnjXxiCFJGAPZx8rzwXhb2vyAdcm2Ve+xu2ZlBv697JxyHUrksrLCDSrAyRlE1k+LdNhPe2eF2odXR++85i/vMFE5A1nqHJhzOtGarUO3nWBsVZGr5J3YxWkUfm+mmUewe73DUvVgdA2qgRF08VIKjFxWu9ZLhuJMjey6F6DbutTzuhOVr64IWkFgNSM910kMwA8YVyVXThuHfYx31FicYB4dnmhZKLb3AolXamW9mYIh1n6yOkFoqsnwpGktdzYV5Ia7G0VVN97/cBQYvr2p6tEbd/rkptCPfC6SEMQfU7Q
Content-ID: <5FF3214F18E1114BAC853F068DDBE28B@namprd12.prod.outlook.com>
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: c7eb385a-6139-4487-feb0-08d75d68f8fc
X-MS-Exchange-CrossTenant-originalarrivaltime: 30 Oct 2019 18:42:53.4804 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: OTCYdEdM6NCf74WclxzpptMwJ6lJQOybJXrQr/L1/GXF6MWZALpAbA+5BaYtISqz
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BYAPR12MB3448
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=91Aojq+F9m8y21ZZaYACU39+ncXR2qyAnXk/Mqhdpaw=;
 b=aBdPmymMfMCnctaB5mb+gmm0S/zq7D1VFHWuuKXF/dFwdhycXlLqas6rs74Qo/v/3AGogwirbMrZNbujD1GD++6bPyn8Sgo2mgk0c+jWWh3O1zuMQIeWaLbuK17TgeBqQNaGbwoHj4H8kQlhkVJvwLEXGx9Gtfg+BhB0qvQXMmc=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Mikita.Lipski@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Zuo, Jerry" <Jerry.Zuo@amd.com>, "Lei, Jun" <Jun.Lei@amd.com>, "Wentland, 
 Harry" <Harry.Wentland@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

DQpPbiAzMC4xMC4yMDE5IDE0OjE5LCBLYXpsYXVza2FzLCBOaWNob2xhcyB3cm90ZToNCj4gT24g
MjAxOS0xMC0yOCAxMDozMSBhLm0uLCBtaWtpdGEubGlwc2tpQGFtZC5jb20gd3JvdGU6DQo+PiBG
cm9tOiBNaWtpdGEgTGlwc2tpIDxtaWtpdGEubGlwc2tpQGFtZC5jb20+DQo+Pg0KPj4gLSBBZGRp
bmcgZW5jb2RlciBhdG9taWMgY2hlY2sgdG8gZmluZCB2Y3BpIHNsb3RzIGZvciBhIGNvbm5lY3Rv
cg0KPj4gLSBVc2luZyBEUk0gaGVscGVyIGZ1bmN0aW9ucyB0byBjYWxjdWxhdGUgUEJODQo+PiAt
IEFkZGluZyBjb25uZWN0b3IgYXRvbWljIGNoZWNrIHRvIHJlbGVhc2UgdmNwaSBzbG90cyBpZiBj
b25uZWN0b3INCj4+IGxvc2VzIENSVEMNCj4+IC0gQ2FsY3VsYXRlICBQQk4gYW5kIFZDUEkgc2xv
dHMgb25seSBvbmNlIGR1cmluZyBhdG9taWMNCj4+IGNoZWNrIGFuZCBzdG9yZSB0aGVtIG9uIGNy
dGNfc3RhdGUgdG8gZWxpbWluYXRlDQo+PiByZWR1bmRhbnQgY2FsY3VsYXRpb24NCj4+IC0gQ2Fs
bCBkcm1fZHBfbXN0X2F0b21pY19jaGVjayB0byB2ZXJpZnkgdmFsaWRpdHkgb2YgTVNUIHRvcG9s
b2d5DQo+PiBkdXJpbmcgc3RhdGUgYXRvbWljIGNoZWNrDQo+Pg0KPj4gdjI6IHNxdWFzaGVkIHBy
ZXZpb3VzIDMgc2VwYXJhdGUgcGF0Y2hlcywgcmVtb3ZlZCBEU0MgUEJOIGNhbGN1bGF0aW9uLA0K
Pj4gYW5kIGFkZGVkIFBCTiBhbmQgVkNQSSBzbG90cyBwcm9wZXJ0aWVzIHRvIGFtZGdwdSBjb25u
ZWN0b3INCj4+DQo+PiB2MzoNCj4+IC0gbW92ZWQgdmNwaV9zbG90cyBhbmQgcGJuIHByb3BlcnRp
ZXMgdG8gZG1fY3J0Y19zdGF0ZSBhbmQgZGNfc3RyZWFtX3N0YXRlDQo+PiAtIHVwZGF0ZXMgc3Ry
ZWFtJ3MgdmNwaV9zbG90cyBhbmQgcGJuIG9uIGNvbW1pdA0KPj4gLSBzZXBhcmF0ZWQgcGF0Y2gg
ZnJvbSB0aGUgRFNDIE1TVCBzZXJpZXMNCj4+DQo+PiB2NDoNCj4+IC0gc2V0IHZjcGlfc2xvdHMg
YW5kIHBibiBwcm9wZXJ0aWVzIHRvIGRtX2Nvbm5lY3Rvcl9zdGF0ZQ0KPj4gLSBjb3B5IHBvcnBl
cnRpZXMgZnJvbSBjb25uZWN0b3Igc3RhdGUgb24gdG8gY3J0YyBzdGF0ZQ0KPj4NCj4+IHY1Og0K
Pj4gLSBrZWVwIHRoZSBwYm4gYW5kIHZjcGkgdmFsdWVzIG9ubHkgb24gY29ubm5lY3RvciBzdGF0
ZQ0KPj4gLSBhZGRlZCBhIHZvaWQgcG9pbnRlciB0byB0aGUgc3RyZWFtIHN0YXRlIGluc3RlYWQg
b24gdHdvIGludHMsDQo+PiBiZWNhdXNlIGRjX3N0cmVhbV9zdGF0ZSBpcyBPUyBhZ25vc3RpYy4g
UG9pbnRlciBwb2ludHMgdG8gdGhlDQo+PiBjdXJyZW50IGRtX2Nvbm5lY3Rvcl9zdGF0ZS4NCj4+
DQo+PiB2NjoNCj4+IC0gUmVtb3ZlIG5ldyBwYXJhbSBmcm9tIHN0cmVhbQ0KPj4NCj4+IHY3Og0K
Pj4gLSBDbGVhbnVwDQo+PiAtIFJlbW92ZSBzdGF0ZSBwb2ludGVyIGZyb20gc3RyZWFtDQo+PiAg
ICANCj4+IENjOiBKdW4gTGVpIDxKdW4uTGVpQGFtZC5jb20+DQo+PiBDYzogSmVycnkgWnVvIDxK
ZXJyeS5adW9AYW1kLmNvbT4NCj4+IENjOiBIYXJyeSBXZW50bGFuZCA8aGFycnkud2VudGxhbmRA
YW1kLmNvbT4NCj4+IENjOiBOaWNob2xhcyBLYXpsYXVza2FzIDxuaWNob2xhcy5rYXpsYXVza2Fz
QGFtZC5jb20+DQo+PiBDYzogTHl1ZGUgUGF1bCA8bHl1ZGVAcmVkaGF0LmNvbT4NCj4+IFNpZ25l
ZC1vZmYtYnk6IE1pa2l0YSBMaXBza2kgPG1pa2l0YS5saXBza2lAYW1kLmNvbT4NCj4+IC0tLQ0K
Pj4gICAgLi4uL2dwdS9kcm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2FtZGdwdV9kbS5jIHwgNDIg
KysrKysrKysrKysrKystDQo+PiAgICAuLi4vZ3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0v
YW1kZ3B1X2RtLmggfCAgMiArDQo+PiAgICAuLi4vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2FtZGdw
dV9kbV9oZWxwZXJzLmMgfCA1MSArKysrKy0tLS0tLS0tLS0tLS0tDQo+PiAgICAuLi4vZGlzcGxh
eS9hbWRncHVfZG0vYW1kZ3B1X2RtX21zdF90eXBlcy5jICAgfCAzMiArKysrKysrKysrKysNCj4+
ICAgIDQgZmlsZXMgY2hhbmdlZCwgODYgaW5zZXJ0aW9ucygrKSwgNDEgZGVsZXRpb25zKC0pDQo+
Pg0KPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0v
YW1kZ3B1X2RtLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2FtZGdw
dV9kbS5jDQo+PiBpbmRleCA0OGY1YjQzZTI2OTguLjI4ZjZiOTNhYjM3MSAxMDA2NDQNCj4+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1X2RtLmMNCj4+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1X2RtLmMN
Cj4+IEBAIC00MTgwLDcgKzQxODAsOCBAQCB2b2lkIGFtZGdwdV9kbV9jb25uZWN0b3JfZnVuY3Nf
cmVzZXQoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvcikNCj4+ICAgIAkJc3RhdGUtPnVu
ZGVyc2Nhbl9oYm9yZGVyID0gMDsNCj4+ICAgIAkJc3RhdGUtPnVuZGVyc2Nhbl92Ym9yZGVyID0g
MDsNCj4+ICAgIAkJc3RhdGUtPmJhc2UubWF4X3JlcXVlc3RlZF9icGMgPSA4Ow0KPj4gLQ0KPj4g
KwkJc3RhdGUtPnZjcGlfc2xvdHMgPSAwOw0KPj4gKwkJc3RhdGUtPnBibiA9IDA7DQo+PiAgICAJ
CWlmIChjb25uZWN0b3ItPmNvbm5lY3Rvcl90eXBlID09IERSTV9NT0RFX0NPTk5FQ1RPUl9lRFAp
DQo+PiAgICAJCQlzdGF0ZS0+YWJtX2xldmVsID0gYW1kZ3B1X2RtX2FibV9sZXZlbDsNCj4+ICAg
IA0KPj4gQEAgLTQyMDksNyArNDIxMCw4IEBAIGFtZGdwdV9kbV9jb25uZWN0b3JfYXRvbWljX2R1
cGxpY2F0ZV9zdGF0ZShzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQ0KPj4gICAgCW5l
d19zdGF0ZS0+dW5kZXJzY2FuX2VuYWJsZSA9IHN0YXRlLT51bmRlcnNjYW5fZW5hYmxlOw0KPj4g
ICAgCW5ld19zdGF0ZS0+dW5kZXJzY2FuX2hib3JkZXIgPSBzdGF0ZS0+dW5kZXJzY2FuX2hib3Jk
ZXI7DQo+PiAgICAJbmV3X3N0YXRlLT51bmRlcnNjYW5fdmJvcmRlciA9IHN0YXRlLT51bmRlcnNj
YW5fdmJvcmRlcjsNCj4+IC0NCj4+ICsJbmV3X3N0YXRlLT52Y3BpX3Nsb3RzID0gc3RhdGUtPnZj
cGlfc2xvdHM7DQo+PiArCW5ld19zdGF0ZS0+cGJuID0gc3RhdGUtPnBibjsNCj4+ICAgIAlyZXR1
cm4gJm5ld19zdGF0ZS0+YmFzZTsNCj4+ICAgIH0NCj4+ICAgIA0KPj4gQEAgLTQ2MTAsNiArNDYx
MiwzNyBAQCBzdGF0aWMgaW50IGRtX2VuY29kZXJfaGVscGVyX2F0b21pY19jaGVjayhzdHJ1Y3Qg
ZHJtX2VuY29kZXIgKmVuY29kZXIsDQo+PiAgICAJCQkJCSAgc3RydWN0IGRybV9jcnRjX3N0YXRl
ICpjcnRjX3N0YXRlLA0KPj4gICAgCQkJCQkgIHN0cnVjdCBkcm1fY29ubmVjdG9yX3N0YXRlICpj
b25uX3N0YXRlKQ0KPj4gICAgew0KPj4gKwlzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqc3RhdGUg
PSBjcnRjX3N0YXRlLT5zdGF0ZTsNCj4+ICsJc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3Rv
ciA9IGNvbm5fc3RhdGUtPmNvbm5lY3RvcjsNCj4+ICsJc3RydWN0IGFtZGdwdV9kbV9jb25uZWN0
b3IgKmFjb25uZWN0b3IgPSB0b19hbWRncHVfZG1fY29ubmVjdG9yKGNvbm5lY3Rvcik7DQo+PiAr
CXN0cnVjdCBkbV9jb25uZWN0b3Jfc3RhdGUgKmRtX25ld19jb25uZWN0b3Jfc3RhdGUgPSB0b19k
bV9jb25uZWN0b3Jfc3RhdGUoY29ubl9zdGF0ZSk7DQo+PiArCWNvbnN0IHN0cnVjdCBkcm1fZGlz
cGxheV9tb2RlICphZGp1c3RlZF9tb2RlID0gJmNydGNfc3RhdGUtPmFkanVzdGVkX21vZGU7DQo+
PiArCXN0cnVjdCBkcm1fZHBfbXN0X3RvcG9sb2d5X21nciAqbXN0X21ncjsNCj4+ICsJc3RydWN0
IGRybV9kcF9tc3RfcG9ydCAqbXN0X3BvcnQ7DQo+PiArCWludCBjbG9jaywgYnBwID0gMDsNCj4+
ICsNCj4+ICsJaWYgKCFhY29ubmVjdG9yLT5wb3J0IHx8ICFhY29ubmVjdG9yLT5kY19zaW5rKQ0K
Pj4gKwkJcmV0dXJuIDA7DQo+PiArDQo+PiArCW1zdF9wb3J0ID0gYWNvbm5lY3Rvci0+cG9ydDsN
Cj4+ICsJbXN0X21nciA9ICZhY29ubmVjdG9yLT5tc3RfcG9ydC0+bXN0X21ncjsNCj4+ICsNCj4+
ICsJaWYgKCFjcnRjX3N0YXRlLT5jb25uZWN0b3JzX2NoYW5nZWQgJiYgIWNydGNfc3RhdGUtPm1v
ZGVfY2hhbmdlZCkNCj4+ICsJCXJldHVybiAwOw0KPj4gKw0KPj4gKwlpZiAoIXN0YXRlLT5kdXBs
aWNhdGVkKSB7DQo+PiArCQlicHAgPSAodWludDhfdCljb25uZWN0b3ItPmRpc3BsYXlfaW5mby5i
cGMgKiAzOw0KPiBJcyB0aGlzIGNvcnJlY3Q/IERvIHdlIGFsd2F5cyB3YW50IHRvIGNhbGN1bGF0
ZSB0aGlzIGJhc2VkIG9uIHRoZQ0KPiBkaXNwbGF5IGNhcGFibGUgYnBjIHZhbHVlIGluc3RlYWQg
b2YgdGhlIG9uZSBhY3R1YWxseSBpbiB1c2U/DQoNCldvdWxkbid0IGl0IGJlIHRoZSBzYW1lIHRo
aW5nIHNpbmNlIHdlIGFsd2F5cyB0cnkgdG8gdXNlIGhpZ2hlc3QgYnBjPw0KDQpVbmxlc3MsIHdl
IHJlZHVjZSB0aGUgY29sb3VyIGRlcHRoIGFuZCBkaXNwbGF5IGNhcGFibGUgYnBjIHdpbGwgc3Rh
eSB0aGUgDQpzYW1lLCB3aGljaCB3b3VsZCBjYXVzZSBQQk4gYmUgaGlnaGVyIHRoYW4gbmVlZGVk
Lg0KDQpPayB5ZWFoIHRoYXQgd2FzIGEgZmFsc2UgYXNzdW1wdGlvbi4gSSdsbCB1cGRhdGUgaXQs
IHRoYW5rcyENCg0KPg0KPj4gKwkJY2xvY2sgPSBhZGp1c3RlZF9tb2RlLT5jbG9jazsNCj4+ICsJ
CWRtX25ld19jb25uZWN0b3Jfc3RhdGUtPnBibiA9IGRybV9kcF9jYWxjX3Bibl9tb2RlKGNsb2Nr
LCBicHApOw0KPj4gKwl9DQo+PiArCWRtX25ld19jb25uZWN0b3Jfc3RhdGUtPnZjcGlfc2xvdHMg
PSBkcm1fZHBfYXRvbWljX2ZpbmRfdmNwaV9zbG90cyhzdGF0ZSwNCj4+ICsJCQkJCQkJICAgICAg
IG1zdF9tZ3IsDQo+PiArCQkJCQkJCSAgICAgICBtc3RfcG9ydCwNCj4+ICsJCQkJCQkJICAgICAg
IGRtX25ld19jb25uZWN0b3Jfc3RhdGUtPnBibik7DQo+PiArCWlmIChkbV9uZXdfY29ubmVjdG9y
X3N0YXRlLT52Y3BpX3Nsb3RzIDwgMCkgew0KPj4gKwkJRFJNX0RFQlVHX0FUT01JQygiZmFpbGVk
IGZpbmRpbmcgdmNwaSBzbG90czogJWRcbiIsIGRtX25ld19jb25uZWN0b3Jfc3RhdGUtPnZjcGlf
c2xvdHMpOw0KPj4gKwkJcmV0dXJuIGRtX25ld19jb25uZWN0b3Jfc3RhdGUtPnZjcGlfc2xvdHM7
DQo+PiArCX0NCj4+ICAgIAlyZXR1cm4gMDsNCj4+ICAgIH0NCj4+ICAgIA0KPj4gQEAgLTc2NTEs
NiArNzY4NCwxMSBAQCBzdGF0aWMgaW50IGFtZGdwdV9kbV9hdG9taWNfY2hlY2soc3RydWN0IGRy
bV9kZXZpY2UgKmRldiwNCj4+ICAgIAlpZiAocmV0KQ0KPj4gICAgCQlnb3RvIGZhaWw7DQo+PiAg
ICANCj4+ICsJLyogUGVyZm9ybSB2YWxpZGF0aW9uIG9mIE1TVCB0b3BvbG9neSBpbiB0aGUgc3Rh
dGUqLw0KPj4gKwlyZXQgPSBkcm1fZHBfbXN0X2F0b21pY19jaGVjayhzdGF0ZSk7DQo+PiArCWlm
IChyZXQpDQo+PiArCQlnb3RvIGZhaWw7DQo+PiArDQo+PiAgICAJaWYgKHN0YXRlLT5sZWdhY3lf
Y3Vyc29yX3VwZGF0ZSkgew0KPj4gICAgCQkvKg0KPj4gICAgCQkgKiBUaGlzIGlzIGEgZmFzdCBj
dXJzb3IgdXBkYXRlIGNvbWluZyBmcm9tIHRoZSBwbGFuZSB1cGRhdGUNCj4+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2FtZGdwdV9kbS5oIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2FtZGdwdV9kbS9hbWRncHVfZG0uaA0KPj4gaW5kZXgg
YzZmZGViZWU3MTg5Li45MTBjODU5OGZhZjkgMTAwNjQ0DQo+PiAtLS0gYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2FtZGdwdV9kbS5oDQo+PiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2FtZGdwdV9kbS5oDQo+PiBAQCAtMzYwLDYgKzM2
MCw4IEBAIHN0cnVjdCBkbV9jb25uZWN0b3Jfc3RhdGUgew0KPj4gICAgCWJvb2wgZnJlZXN5bmNf
ZW5hYmxlOw0KPj4gICAgCWJvb2wgZnJlZXN5bmNfY2FwYWJsZTsNCj4+ICAgIAl1aW50OF90IGFi
bV9sZXZlbDsNCj4+ICsJdWludDY0X3QgdmNwaV9zbG90czsNCj4+ICsJdWludDY0X3QgcGJuOw0K
Pj4gICAgfTsNCj4+ICAgIA0KPj4gICAgI2RlZmluZSB0b19kbV9jb25uZWN0b3Jfc3RhdGUoeClc
DQo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2FtZGdwdV9kbS9h
bWRncHVfZG1faGVscGVycy5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2FtZGdwdV9k
bS9hbWRncHVfZG1faGVscGVycy5jDQo+PiBpbmRleCAxMWU1Nzg0YWE2MmEuLjFiMmNjODViNDgx
NSAxMDA2NDQNCj4+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0v
YW1kZ3B1X2RtX2hlbHBlcnMuYw0KPj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5
L2FtZGdwdV9kbS9hbWRncHVfZG1faGVscGVycy5jDQo+PiBAQCAtMTgyLDE1ICsxODIsMjAgQEAg
Ym9vbCBkbV9oZWxwZXJzX2RwX21zdF93cml0ZV9wYXlsb2FkX2FsbG9jYXRpb25fdGFibGUoDQo+
PiAgICAJCWJvb2wgZW5hYmxlKQ0KPj4gICAgew0KPj4gICAgCXN0cnVjdCBhbWRncHVfZG1fY29u
bmVjdG9yICphY29ubmVjdG9yOw0KPj4gKwlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9y
Ow0KPj4gKwlzdHJ1Y3QgZG1fY29ubmVjdG9yX3N0YXRlICpkbV9jb25uX3N0YXRlOw0KPj4gICAg
CXN0cnVjdCBkcm1fZHBfbXN0X3RvcG9sb2d5X21nciAqbXN0X21ncjsNCj4+ICAgIAlzdHJ1Y3Qg
ZHJtX2RwX21zdF9wb3J0ICptc3RfcG9ydDsNCj4+IC0JaW50IHNsb3RzID0gMDsNCj4+ICAgIAli
b29sIHJldDsNCj4+IC0JaW50IGNsb2NrOw0KPj4gLQlpbnQgYnBwID0gMDsNCj4+IC0JaW50IHBi
biA9IDA7DQo+PiAgICANCj4+ICAgIAlhY29ubmVjdG9yID0gKHN0cnVjdCBhbWRncHVfZG1fY29u
bmVjdG9yICopc3RyZWFtLT5kbV9zdHJlYW1fY29udGV4dDsNCj4+ICsJLyogQWNjZXNzaW5nIHRo
ZSBjb25uZWN0b3Igc3RhdGUgaXMgcmVxdWlyZWQgZm9yIHZjcGlfc2xvdHMgYWxsb2NhdGlvbg0K
Pj4gKwkgKiBhbmQgZGlyZWN0bHkgcmVsaWVzIG9uIGJlaGF2aW91ciBpbiBjb21taXQgY2hlY2sN
Cj4+ICsJICogdGhhdCBibG9ja3MgYmVmb3JlIGNvbW1pdCBndWFyYW50ZWVpbmcgdGhhdCB0aGUg
c3RhdGUNCj4+ICsJICogaXMgbm90IGdvbm5hIGJlIHN3YXBwZWQgd2hpbGUgc3RpbGwgaW4gdXNl
IGluIGNvbW1pdCB0YWlsICovDQo+PiArDQo+PiArCWRtX2Nvbm5fc3RhdGUgPSB0b19kbV9jb25u
ZWN0b3Jfc3RhdGUoYWNvbm5lY3Rvci0+YmFzZS5zdGF0ZSk7DQo+PiArDQo+PiAgICANCj4+ICAg
IAlpZiAoIWFjb25uZWN0b3IgfHwgIWFjb25uZWN0b3ItPm1zdF9wb3J0KQ0KPj4gICAgCQlyZXR1
cm4gZmFsc2U7DQo+PiBAQCAtMjAzLDQyICsyMDgsMTAgQEAgYm9vbCBkbV9oZWxwZXJzX2RwX21z
dF93cml0ZV9wYXlsb2FkX2FsbG9jYXRpb25fdGFibGUoDQo+PiAgICAJbXN0X3BvcnQgPSBhY29u
bmVjdG9yLT5wb3J0Ow0KPj4gICAgDQo+PiAgICAJaWYgKGVuYWJsZSkgew0KPj4gLQkJY2xvY2sg
PSBzdHJlYW0tPnRpbWluZy5waXhfY2xrXzEwMGh6IC8gMTA7DQo+PiAtDQo+PiAtCQlzd2l0Y2gg
KHN0cmVhbS0+dGltaW5nLmRpc3BsYXlfY29sb3JfZGVwdGgpIHsNCj4+IC0NCj4+IC0JCWNhc2Ug
Q09MT1JfREVQVEhfNjY2Og0KPj4gLQkJCWJwcCA9IDY7DQo+PiAtCQkJYnJlYWs7DQo+PiAtCQlj
YXNlIENPTE9SX0RFUFRIXzg4ODoNCj4+IC0JCQlicHAgPSA4Ow0KPj4gLQkJCWJyZWFrOw0KPj4g
LQkJY2FzZSBDT0xPUl9ERVBUSF8xMDEwMTA6DQo+PiAtCQkJYnBwID0gMTA7DQo+PiAtCQkJYnJl
YWs7DQo+PiAtCQljYXNlIENPTE9SX0RFUFRIXzEyMTIxMjoNCj4+IC0JCQlicHAgPSAxMjsNCj4+
IC0JCQlicmVhazsNCj4+IC0JCWNhc2UgQ09MT1JfREVQVEhfMTQxNDE0Og0KPj4gLQkJCWJwcCA9
IDE0Ow0KPj4gLQkJCWJyZWFrOw0KPj4gLQkJY2FzZSBDT0xPUl9ERVBUSF8xNjE2MTY6DQo+PiAt
CQkJYnBwID0gMTY7DQo+PiAtCQkJYnJlYWs7DQo+PiAtCQlkZWZhdWx0Og0KPj4gLQkJCUFTU0VS
VChicHAgIT0gMCk7DQo+PiAtCQkJYnJlYWs7DQo+PiAtCQl9DQo+PiAtDQo+PiAtCQlicHAgPSBi
cHAgKiAzOw0KPj4gLQ0KPj4gLQkJLyogVE9ETyBuZWVkIHRvIGtub3cgbGluayByYXRlICovDQo+
PiAtDQo+PiAtCQlwYm4gPSBkcm1fZHBfY2FsY19wYm5fbW9kZShjbG9jaywgYnBwKTsNCj4+IC0N
Cj4+IC0JCXNsb3RzID0gZHJtX2RwX2ZpbmRfdmNwaV9zbG90cyhtc3RfbWdyLCBwYm4pOw0KPj4g
LQkJcmV0ID0gZHJtX2RwX21zdF9hbGxvY2F0ZV92Y3BpKG1zdF9tZ3IsIG1zdF9wb3J0LCBwYm4s
IHNsb3RzKTsNCj4+ICAgIA0KPj4gKwkJcmV0ID0gZHJtX2RwX21zdF9hbGxvY2F0ZV92Y3BpKG1z
dF9tZ3IsIG1zdF9wb3J0LA0KPj4gKwkJCQkJICAgICAgIGRtX2Nvbm5fc3RhdGUtPnBibiwNCj4+
ICsJCQkJCSAgICAgICBkbV9jb25uX3N0YXRlLT52Y3BpX3Nsb3RzKTsNCj4+ICAgIAkJaWYgKCFy
ZXQpDQo+PiAgICAJCQlyZXR1cm4gZmFsc2U7DQo+PiAgICANCj4+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2FtZGdwdV9kbV9tc3RfdHlwZXMuYyBi
L2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1X2RtX21zdF90eXBl
cy5jDQo+PiBpbmRleCA3NzlkMGI2MGNhYzkuLjFhMTdlYTFiNDJlMCAxMDA2NDQNCj4+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1X2RtX21zdF90eXBl
cy5jDQo+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2FtZGdw
dV9kbV9tc3RfdHlwZXMuYw0KPj4gQEAgLTI1MSwxMCArMjUxLDQyIEBAIGRtX21zdF9hdG9taWNf
YmVzdF9lbmNvZGVyKHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IsDQo+PiAgICAJcmV0
dXJuICZ0b19hbWRncHVfZG1fY29ubmVjdG9yKGNvbm5lY3RvciktPm1zdF9lbmNvZGVyLT5iYXNl
Ow0KPj4gICAgfQ0KPj4gICAgDQo+PiArc3RhdGljIGludCBkbV9kcF9tc3RfYXRvbWljX2NoZWNr
KHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IsDQo+PiArCQkJCXN0cnVjdCBkcm1fYXRv
bWljX3N0YXRlICpzdGF0ZSkNCj4+ICt7DQo+PiArCXN0cnVjdCBkcm1fY29ubmVjdG9yX3N0YXRl
ICpuZXdfY29ubl9zdGF0ZSA9DQo+PiArCQkJZHJtX2F0b21pY19nZXRfbmV3X2Nvbm5lY3Rvcl9z
dGF0ZShzdGF0ZSwgY29ubmVjdG9yKTsNCj4+ICsJc3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUg
Km9sZF9jb25uX3N0YXRlID0NCj4+ICsJCQlkcm1fYXRvbWljX2dldF9vbGRfY29ubmVjdG9yX3N0
YXRlKHN0YXRlLCBjb25uZWN0b3IpOw0KPj4gKwlzdHJ1Y3QgYW1kZ3B1X2RtX2Nvbm5lY3RvciAq
YWNvbm5lY3RvciA9IHRvX2FtZGdwdV9kbV9jb25uZWN0b3IoY29ubmVjdG9yKTsNCj4+ICsJc3Ry
dWN0IGRybV9jcnRjX3N0YXRlICpuZXdfY3J0Y19zdGF0ZTsNCj4+ICsJc3RydWN0IGRybV9kcF9t
c3RfdG9wb2xvZ3lfbWdyICptc3RfbWdyOw0KPj4gKwlzdHJ1Y3QgZHJtX2RwX21zdF9wb3J0ICpt
c3RfcG9ydDsNCj4+ICsNCj4+ICsJbXN0X3BvcnQgPSBhY29ubmVjdG9yLT5wb3J0Ow0KPj4gKwlt
c3RfbWdyID0gJmFjb25uZWN0b3ItPm1zdF9wb3J0LT5tc3RfbWdyOw0KPj4gKw0KPj4gKwlpZiAo
IW9sZF9jb25uX3N0YXRlLT5jcnRjKQ0KPj4gKwkJcmV0dXJuIDA7DQo+PiArDQo+PiArCWlmIChu
ZXdfY29ubl9zdGF0ZS0+Y3J0Yykgew0KPj4gKwkJbmV3X2NydGNfc3RhdGUgPSBkcm1fYXRvbWlj
X2dldF9vbGRfY3J0Y19zdGF0ZShzdGF0ZSwgbmV3X2Nvbm5fc3RhdGUtPmNydGMpOw0KPj4gKwkJ
aWYgKCFuZXdfY3J0Y19zdGF0ZSB8fA0KPj4gKwkJICAgICFkcm1fYXRvbWljX2NydGNfbmVlZHNf
bW9kZXNldChuZXdfY3J0Y19zdGF0ZSkgfHwNCj4+ICsJCSAgICBuZXdfY3J0Y19zdGF0ZS0+ZW5h
YmxlKQ0KPj4gKwkJCXJldHVybiAwOw0KPj4gKwkJfQ0KPj4gKw0KPj4gKwlyZXR1cm4gZHJtX2Rw
X2F0b21pY19yZWxlYXNlX3ZjcGlfc2xvdHMoc3RhdGUsDQo+PiArCQkJCQkJbXN0X21nciwNCj4+
ICsJCQkJCQltc3RfcG9ydCk7DQo+PiArfQ0KPj4gKw0KPj4gICAgc3RhdGljIGNvbnN0IHN0cnVj
dCBkcm1fY29ubmVjdG9yX2hlbHBlcl9mdW5jcyBkbV9kcF9tc3RfY29ubmVjdG9yX2hlbHBlcl9m
dW5jcyA9IHsNCj4+ICAgIAkuZ2V0X21vZGVzID0gZG1fZHBfbXN0X2dldF9tb2RlcywNCj4+ICAg
IAkubW9kZV92YWxpZCA9IGFtZGdwdV9kbV9jb25uZWN0b3JfbW9kZV92YWxpZCwNCj4+ICAgIAku
YXRvbWljX2Jlc3RfZW5jb2RlciA9IGRtX21zdF9hdG9taWNfYmVzdF9lbmNvZGVyLA0KPj4gKwku
YXRvbWljX2NoZWNrID0gZG1fZHBfbXN0X2F0b21pY19jaGVjaywNCj4+ICAgIH07DQo+PiAgICAN
Cj4+ICAgIHN0YXRpYyB2b2lkIGFtZGdwdV9kbV9lbmNvZGVyX2Rlc3Ryb3koc3RydWN0IGRybV9l
bmNvZGVyICplbmNvZGVyKQ0KPj4NCi0tIA0KVGhhbmtzLA0KTWlraXRhIExpcHNraQ0KU29mdHdh
cmUgRW5naW5lZXIgMiwgQU1EDQptaWtpdGEubGlwc2tpQGFtZC5jb20NCg0KX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxpc3QK
YW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5v
cmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4
