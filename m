Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 4C2376EE2B9
	for <lists+amd-gfx@lfdr.de>; Tue, 25 Apr 2023 15:20:03 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C902C10E27D;
	Tue, 25 Apr 2023 13:20:01 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM10-BN7-obe.outbound.protection.outlook.com
 (mail-bn7nam10on2056.outbound.protection.outlook.com [40.107.92.56])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B7CC010E27D
 for <amd-gfx@lists.freedesktop.org>; Tue, 25 Apr 2023 13:19:59 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=ZeIuJNQvCjFf0/iDB/tRl84xkNA5uirMaH+XRCI2QanFSzCChP4tZMX1RGE44GvBqisWDDImFfPOdcKZ/vE1FcXq5hj/ZJ77rbefpYl6cUOL/Zhxfas6ULeJfvuGNetxEurrup2TofPPIqJDbLUoHSmsJEDkTdex+TuMoYYLj/kfU8w3lURmVgLhwDYq2JuSLQeL/eOOT9p0FbP5SoQztRkh9r8JUQAoAeWgR4BEIDhQHfchTsh0yp8iLmDC/N/wwB6QzK6CcgQD9yL+jhO8ANaCwOXexgHcluk/+rS86vrbYO45JxmYeyiUk8kJVKEtrJX2XaRX9lylTLRIPf6wrQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=mWx6dyjBHbphhfXcEatlcOy/S6jGURWBX1uagK+3y0w=;
 b=DsI2noo6DEVgUiYCo8ifWiNu/WLGW0sXm7NDTDYZox54Q3pZOLDlidnxC1ONPMSASCSohdOs0lKAlbjVx/dwcMT05YA8lOA+9aV2jLxqksVqnIR0zOlJwmgzC0aRU6W/CEMoHOJe27JU3kwVfQKA+gGpweNG1dktfWycNmTYLFubksQiCrI3jdayCiBwv5nrAzrmQdM8ohKMFerSgKcy01cKIWd1xZt6zi0BIEWuRVqNdIuQ1DO8rpHildFZR63TLRs7YYHirBOsKKVeF1qeJEjWN95zcaut0ZTbDAPCm0Fi8VeW0lTrCn9tPKkCax0NpiF4q8K+Kk/hfynySWGfvg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=amd.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=mWx6dyjBHbphhfXcEatlcOy/S6jGURWBX1uagK+3y0w=;
 b=qBOYb3+EencHoxOr56YP/nao9cp37CZ+t7csFe/Rp66HJzSKqSyR6Ebtu92xlbjpM2uKf7brYmdX686pF+sP/fCFEzJfdULk9abzk1AbOMwrVWg6GHSgWwZtW1bn4YrbiUzDT3fPwpnlLlwoA6VXDQ+wvjS7jay+/iYsauRunZQ=
Received: from DM4PR12MB5261.namprd12.prod.outlook.com (2603:10b6:5:398::22)
 by DS0PR12MB8343.namprd12.prod.outlook.com (2603:10b6:8:fd::8) with Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.6319.32; Tue, 25 Apr 2023 13:19:57 +0000
Received: from DM4PR12MB5261.namprd12.prod.outlook.com
 ([fe80::5cad:78df:6b83:6127]) by DM4PR12MB5261.namprd12.prod.outlook.com
 ([fe80::5cad:78df:6b83:6127%7]) with mapi id 15.20.6319.033; Tue, 25 Apr 2023
 13:19:56 +0000
From: "Xiao, Shane" <shane.xiao@amd.com>
To: "Koenig, Christian" <Christian.Koenig@amd.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>, "Deucher,
 Alexander" <Alexander.Deucher@amd.com>, "Kuehling, Felix"
 <Felix.Kuehling@amd.com>, "Zhang, Hawking" <Hawking.Zhang@amd.com>
Subject: RE: [PATCH] drm/amdgpu: Enable doorbell selfring after resize FB BAR
Thread-Topic: [PATCH] drm/amdgpu: Enable doorbell selfring after resize FB BAR
Thread-Index: AQHZd18DRe6acy4JgkqcmBYtvGcSAa874iKAgAAavRA=
Date: Tue, 25 Apr 2023 13:19:56 +0000
Message-ID: <DM4PR12MB5261FED09C0ABFC0B99706B19D649@DM4PR12MB5261.namprd12.prod.outlook.com>
References: <20230425101613.1277792-1-shane.xiao@amd.com>
 <8bc39831-79ee-36b4-0951-d665a93428b9@amd.com>
In-Reply-To: <8bc39831-79ee-36b4-0951-d665a93428b9@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
msip_labels: MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_Enabled=true;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_SetDate=2023-04-25T13:19:52Z; 
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_Method=Standard;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_Name=General;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_SiteId=3dd8961f-e488-4e60-8e11-a82d994e183d;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_ActionId=8bb41d6c-196e-4866-ba6d-86e11f8a54d2;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_ContentBits=1
msip_label_4342314e-0df4-4b58-84bf-38bed6170a0f_enabled: true
msip_label_4342314e-0df4-4b58-84bf-38bed6170a0f_setdate: 2023-04-25T13:19:52Z
msip_label_4342314e-0df4-4b58-84bf-38bed6170a0f_method: Standard
msip_label_4342314e-0df4-4b58-84bf-38bed6170a0f_name: General
msip_label_4342314e-0df4-4b58-84bf-38bed6170a0f_siteid: 3dd8961f-e488-4e60-8e11-a82d994e183d
msip_label_4342314e-0df4-4b58-84bf-38bed6170a0f_actionid: 1f80586e-affb-4197-a640-763fc539627c
msip_label_4342314e-0df4-4b58-84bf-38bed6170a0f_contentbits: 0
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=amd.com;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: DM4PR12MB5261:EE_|DS0PR12MB8343:EE_
x-ms-office365-filtering-correlation-id: ae63b163-0cab-4f7a-3a5b-08db458fc3a0
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: 6qBC1tUQcH1uH1XhpW3n6hTxpt1JkSaHRrF2blB611chjewIqqt53nYEy3bdexa4C+fNQmGfSVKyuNEKHuagcSE3ea13NT9HUc3TA/va8FCCOuNZgXB49jhfsFn9Y6XW+4LbpXxOcOFm2ZqyWZxOcCPqyHtXOwpJqSpWneva5dSVRXIqJHK52KDzl3bPDJ0zDZenGV3ZfNcemig3YuhqAtH/wWezos7LMRJEd0DF9DigqCQml3EnAzR6dKbMZ1AcOhK6vgB00uAF9+1PO7D3C4ThvC+vL4ePeYUvbKY66mufoF2mcQwYOG0L9Eai9+tI58gQj1MN7CKyL1dcW8FrA1Zru1Pj+P+yaQ951kAfaJJlGX6Cwul8NIFXFXM+W7nwuU3PqFOM857XtHVJYa3rdRhnyRjRasF5sUext0shKZv1tKkGR6NdLlacJZOc3BylaWiTFp8CDQHz4Z8p3p1tggTUWZ50FADLnd9OrEqVuYFua1Rz9ZEqWV687lgKRCy9Tzq0V/6K/Mydi8vBUmjX+NeVmLJoV+9Nic+9IY7OE6H2b4D5dTYRXA8k5LHrj8mOw6qPd7Puj6Dsp8tNyR/41KuRyVIEGPRj0OWFKdBValVDYfHakm9JuZLeSvu8fcSD
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:DM4PR12MB5261.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(13230028)(4636009)(376002)(366004)(136003)(39860400002)(396003)(346002)(451199021)(5660300002)(8676002)(8936002)(52536014)(7696005)(71200400001)(122000001)(38100700002)(76116006)(6636002)(4326008)(64756008)(66446008)(66476007)(66556008)(66946007)(55016003)(316002)(478600001)(54906003)(41300700001)(110136005)(26005)(9686003)(6506007)(53546011)(2906002)(186003)(86362001)(33656002)(83380400001)(38070700005);
 DIR:OUT; SFP:1101; 
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?amdxNDFaRXVNbDNzOGszc01lVkVVNytic2FJK2x2aG1UblM5RTJ0TEtkWHNj?=
 =?utf-8?B?VmhNU2tUMUVKVDgwZEZFUlN3aTlBbXJCK1E3eUxOUG5kMU9rc042Ly8rMDBw?=
 =?utf-8?B?Y01JZnF3QldzR1lhVXdMYUVTVFZpZFJZR21wUGdXNUg1MnBONXQ2b2dqemNm?=
 =?utf-8?B?dTlnbWhqRHJhalpINW15UWkwUXhnRDBOWWVZNFBnckVuZjRMS0pQY01zSFRw?=
 =?utf-8?B?TXQxOTg4NDRkUnV5VmxQak51a05TR0g2aUE2Wis2RWw3MmIzcm9ULy96NGUr?=
 =?utf-8?B?elU4ZnV2T292Ymd4N2xnUFNQNFRtREVUamhvVmpMNm9PakhEeWQ1dWUwanBV?=
 =?utf-8?B?azlmRkNGQmUxTy9kUXFtM3p4TlJZRVBlSGNTOXpCbFNqM2hCRjRXV040MHlm?=
 =?utf-8?B?dnpCeGM3Tk4yeE1Ga29VUXQrcGJFY2FlZlA1MWF6cmF3MWxKdkpzNk9veEdK?=
 =?utf-8?B?aEwwUTZPcHpmSUUrNmozeE42aldhZTVLRFFiQUJpNHRSUmt1bjczdncxbXgw?=
 =?utf-8?B?NEhKL2dHa1hrV0Via1RhdFdXOHZtaTFjZkxlY0ZVcjI0RjVSMjVneS9PKzJ6?=
 =?utf-8?B?Uk9ZQUM5WWVqV1ZjbDF2S3ZGYVFpMGQyTkdiVVdUTklVYWhydHRNM0k1RzdW?=
 =?utf-8?B?ZGU3akswUjljRGkwZmExWTVxYjlFdHFONWJSRUhKUzQ5TnVEWW14eWRLZk9N?=
 =?utf-8?B?bjd2SWtBUGdRN3FOdHczc2tBM0cvZEFWa0ZQMFNZVU5OcFZPNGhlYm1DaUQy?=
 =?utf-8?B?OVdnOVp1NndUaU5IV282YWtFb1ZIOFpJV3kxQWtnSmJXNXp2emZ0OHNxcXEy?=
 =?utf-8?B?UzNMMDZXSDM3Z1ZEZ0grR0p0YjFHYnlyeDlNTTFodGhoVmdJL29Xd3d5SWhx?=
 =?utf-8?B?eUJSb21EQlArMTk4RkdlMWlWQytLZkhxMW9wZ3FBU3NOWEI2b3N5UGNhT3V3?=
 =?utf-8?B?WUtkZVUyUDlJR1hUUGRXTlJ5cGFOK1VFV0FRclBZVWs2U3hoT1h6VlFrek5E?=
 =?utf-8?B?Ums2alJKNVh4ekh0bnNGNnVBcTNISGUwNUZtcFVXeHIxS01UT3JTZWFuTk94?=
 =?utf-8?B?QkN1Nm1UMkthL2pZSG96K0JkOUozd0lHdjJGSS9tN0t4WEEraThic2dXVHNt?=
 =?utf-8?B?YWs2VmZrQm1qMVEvTHBnUjNRRGZKU1dxQlY2R29aems4dFJoWG9xOFFKS2ZD?=
 =?utf-8?B?TkxGUk83d0hZNHEvU3A4SnlURUV6bmtOQkRjRzNWL1hDSCtHMVRyZ095Ymx0?=
 =?utf-8?B?b1FQbWNLRGRaWDB0RWFPa0FPY1dWSEh4Z1pxQkUzemg3K2I5dnRmZGx2bEhM?=
 =?utf-8?B?WC9LZ1ZBUzc4R3MrUVRrM2E3Z3ZyODdFaGgvZjVLRExBTS9aOXVCQnVFRUto?=
 =?utf-8?B?Z0pXbW52Q0x4NHNkVSt1OEtyK2xUejdBcFU5QmoxVWxaK3UzQXovYXpub3Rh?=
 =?utf-8?B?TWZTUXM2cHNXUnRybXc4dXVNL25DZzhsbmFXSHdlcDFaSm5aSFBUekhBQXIz?=
 =?utf-8?B?SU04THNvWUpJai9uVTlLdzN4dERienErdGVMUGlNSE9pUlpyME02RkUvMWRv?=
 =?utf-8?B?OGg4YzBFRFdJcHZCdnBCc2xTcFNyVTNXY3NXa2dhVVQzWDQwZnUxck5JRG9o?=
 =?utf-8?B?UlVpRlhaMzZkYkdoVXMrcE9iaC91aTlPcjdEREdwOXl4b0hhKzBjLzNwRkhY?=
 =?utf-8?B?UmZuQnR5bWFSRXBFSHdEbURJaEFiMDZTeUt6L1l1M0tsYVBBYnV4RnpnMzZO?=
 =?utf-8?B?MStVaFVDUm1HVXhPeEFGekxHWnpBVTF2R0pWZXhVMWtYbmRvT09jemZoNDB5?=
 =?utf-8?B?QjB4c3hNeEEycFUxL3ZkdnVnc2hNNCtqZDU4WnNqSnpCV2pYY3BXempnRVBN?=
 =?utf-8?B?bXl1aGFKbmdtNkxYVkc5dE1wWGxpYmt6TU5lSWpsOGlPeGdHK2ZyN3B3ZHBR?=
 =?utf-8?B?SnF0OFh5MHdFMUhOT3p0Mnk3WVptTXFUNHMvTmpycEl5c08ydE1VQTJGZUQv?=
 =?utf-8?B?Z0R1NUg3NUdIblVIdmtnd3pMYW1HZmxlRDl6WDloZWM0TGxPN1k5dDVLaGxz?=
 =?utf-8?B?SlNPUG1RMUdQNjBBRUpyMTM5MW0wYkllajZnQzJ3OUNLVUpicjYxUy9JR3hO?=
 =?utf-8?Q?B0Dc=3D?=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: DM4PR12MB5261.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: ae63b163-0cab-4f7a-3a5b-08db458fc3a0
X-MS-Exchange-CrossTenant-originalarrivaltime: 25 Apr 2023 13:19:56.7609 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: sJmAa9r14222ENz4kmWhz5Ott7kHX51EhLTiKy4JWbGu2A5GXIQ79FX4br1CJJwWEbQ+89C6QY/N9W4KwYyTCA==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DS0PR12MB8343
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Hou, Xiaomeng \(Matthew\)" <Xiaomeng.Hou@amd.com>, "Liu,
 Aaron" <Aaron.Liu@amd.com>
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

W0FNRCBPZmZpY2lhbCBVc2UgT25seSAtIEdlbmVyYWxdDQoNCg0KDQo+IC0tLS0tT3JpZ2luYWwg
TWVzc2FnZS0tLS0tDQo+IEZyb206IEtvZW5pZywgQ2hyaXN0aWFuIDxDaHJpc3RpYW4uS29lbmln
QGFtZC5jb20+DQo+IFNlbnQ6IFR1ZXNkYXksIEFwcmlsIDI1LCAyMDIzIDc6MjQgUE0NCj4gVG86
IFhpYW8sIFNoYW5lIDxzaGFuZS54aWFvQGFtZC5jb20+OyBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNr
dG9wLm9yZzsNCj4gRGV1Y2hlciwgQWxleGFuZGVyIDxBbGV4YW5kZXIuRGV1Y2hlckBhbWQuY29t
PjsgS3VlaGxpbmcsIEZlbGl4DQo+IDxGZWxpeC5LdWVobGluZ0BhbWQuY29tPjsgWmhhbmcsIEhh
d2tpbmcgPEhhd2tpbmcuWmhhbmdAYW1kLmNvbT4NCj4gQ2M6IExpdSwgQWFyb24gPEFhcm9uLkxp
dUBhbWQuY29tPjsgSG91LCBYaWFvbWVuZyAoTWF0dGhldykNCj4gPFhpYW9tZW5nLkhvdUBhbWQu
Y29tPg0KPiBTdWJqZWN0OiBSZTogW1BBVENIXSBkcm0vYW1kZ3B1OiBFbmFibGUgZG9vcmJlbGwg
c2VsZnJpbmcgYWZ0ZXIgcmVzaXplIEZCIEJBUg0KPiANCj4gQW0gMjUuMDQuMjMgdW0gMTI6MTYg
c2NocmllYiBTaGFuZSBYaWFvOg0KPiA+IFtXaHldDQo+ID4gVGhlIHNlbGZyaW5nIGRvb3JiZWxs
IGFwZXJ0dXJlIHdpbGwgY2hhbmdlIHdoZW4gcmVzaXplIEZCIEJBUg0KPiA+IHN1Y2Nlc3NmdWxs
eSBkdXJpbmcgZ21jIHN3IGluaXQsIHdlIHNob3VsZCByZW9yZGVyIHRoZSBzZXF1ZW5jZSBvZg0K
PiA+IGVuYWJsaW5nIGRvb3JiZWxsIHNlbGZyaW5nIGFwZXJ0dXJlLg0KPiA+DQo+ID4gW0hvd10N
Cj4gPiBNb3ZlIGVuYWJsZV9kb29yYmVsbF9zZWxmcmluZ19hcGVydHVyZSBmcm9tICpfY29tbW9u
X2h3X2luaXQgdG8NCj4gPiAqX2NvbW1vbl9sYXRlX2luaXQuDQo+ID4NCj4gPiBUaGlzIGZpeGVz
IHRoZSBwb3RlbnRpYWwgaXNzdWUgdGhhdCBHUFUgcmluZyBpdHMgb3duIGRvb3JiZWxsIHdoZW4N
Cj4gPiB0aGlzIGRldmljZSBpcyBpbiB0cmFuc2xhdGVkIG1vZGUgd2hlbiBpb21tdSBpcyBvbi4N
Cj4gPg0KPiA+IHYyOg0KPiA+ICAgIDEuIFJlbW92ZSAqX2VuYWJsZV9kb29yYmVsbF9hcGVydHVy
ZSBmdW5jdGlvbnMNCj4gPg0KPiA+IFNpZ25lZC1vZmYtYnk6IFNoYW5lIFhpYW8gPHNoYW5lLnhp
YW9AYW1kLmNvbT4NCj4gPiBTaWduZWQtb2ZmLWJ5OiBBYXJvbiBMaXUgPGFhcm9uLmxpdUBhbWQu
Y29tPg0KPiA+IFRlc3RlZC1ieTogWGlhb21lbmcgSG91IDxYaWFvbWVuZy5Ib3VAYW1kLmNvbT4N
Cj4gPiAtLS0NCj4gPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L252LmMgICAgfCAxNyAr
KysrKysrLS0tLS0tLS0tLQ0KPiA+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc29jMTUu
YyB8IDE5ICsrKysrKysrKy0tLS0tLS0tLS0NCj4gPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L3NvYzIxLmMgfCAxNyArKysrKysrLS0tLS0tLS0tLQ0KPiA+ICAgMyBmaWxlcyBjaGFuZ2Vk
LCAyMyBpbnNlcnRpb25zKCspLCAzMCBkZWxldGlvbnMoLSkNCj4gPg0KPiA+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9udi5jDQo+ID4gYi9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9udi5jIGluZGV4IGRhYmVlYWIyZjJhZC4uY2IzOWQ1NTZjMjNkDQo+ID4gMTAw
NjQ0DQo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvbnYuYw0KPiA+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L252LmMNCj4gPiBAQCAtNTMxLDEzICs1MzEsNiBA
QCBzdGF0aWMgdm9pZCBudl9wcm9ncmFtX2FzcG0oc3RydWN0IGFtZGdwdV9kZXZpY2UNCj4gPiAq
YWRldikNCj4gPg0KPiA+ICAgfQ0KPiA+DQo+ID4gLXN0YXRpYyB2b2lkIG52X2VuYWJsZV9kb29y
YmVsbF9hcGVydHVyZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gPiAtCQkJCQlib29s
IGVuYWJsZSkNCj4gPiAtew0KPiA+IC0JYWRldi0+bmJpby5mdW5jcy0+ZW5hYmxlX2Rvb3JiZWxs
X2FwZXJ0dXJlKGFkZXYsIGVuYWJsZSk7DQo+ID4gLQlhZGV2LT5uYmlvLmZ1bmNzLT5lbmFibGVf
ZG9vcmJlbGxfc2VsZnJpbmdfYXBlcnR1cmUoYWRldiwgZW5hYmxlKTsNCj4gPiAtfQ0KPiA+IC0N
Cj4gPiAgIGNvbnN0IHN0cnVjdCBhbWRncHVfaXBfYmxvY2tfdmVyc2lvbiBudl9jb21tb25faXBf
YmxvY2sgPQ0KPiA+ICAgew0KPiA+ICAgCS50eXBlID0gQU1EX0lQX0JMT0NLX1RZUEVfQ09NTU9O
LA0KPiA+IEBAIC05OTksNiArOTkyLDkgQEAgc3RhdGljIGludCBudl9jb21tb25fbGF0ZV9pbml0
KHZvaWQgKmhhbmRsZSkNCj4gPiAgIAkJfQ0KPiA+ICAgCX0NCj4gPg0KPiA+ICsJLyogZW5hYmxl
IHNlbGZyaW5nIGRvb3JiZWxsIGFwZXJ0dXJlICovDQo+IA0KPiBEb2N1bWVudGluZyAqd2hhdCog
eW91IGRvIGlzIHVzdWFsbHkgYSBiYWQgaWRlYSBzaW5jZSB0aGF0IHNob3VsZCBiZSBvYnZpb3Vz
Lg0KPiBZb3UgbmVlZCB0byBkb2N1bWVudCAqd2h5KiB5b3UgZG8gaXQuDQo+IA0KPiBJbiBvdGhl
ciB3b3JkcyBtYXliZSBjaGFuZ2UgdGhlIGNvbW1lbnQgdG8gLyogRW5hYmxlIHRoaXMgbGF0ZSBi
ZWNhdXNlDQo+IGRvb3JiZWxsIEJBUiBsb2NhdGlvbiBjYW4gY2hhbmdlIGR1cmluZyBod19pbml0
ICovLg0KPg0KDQpZZXMsIEkgd2lsbCB1cGRhdGUgdGhpcyBjb21tZW50Lg0KIA0KPiA+ICsJYWRl
di0+bmJpby5mdW5jcy0+ZW5hYmxlX2Rvb3JiZWxsX3NlbGZyaW5nX2FwZXJ0dXJlKGFkZXYsIHRy
dWUpOw0KPiA+ICsNCj4gPiAgIAlyZXR1cm4gMDsNCj4gPiAgIH0NCj4gPg0KPiA+IEBAIC0xMDM4
LDcgKzEwMzQsNyBAQCBzdGF0aWMgaW50IG52X2NvbW1vbl9od19pbml0KHZvaWQgKmhhbmRsZSkN
Cj4gPiAgIAlpZiAoYWRldi0+bmJpby5mdW5jcy0+cmVtYXBfaGRwX3JlZ2lzdGVycw0KPiAmJiAh
YW1kZ3B1X3NyaW92X3ZmKGFkZXYpKQ0KPiA+ICAgCQlhZGV2LT5uYmlvLmZ1bmNzLT5yZW1hcF9o
ZHBfcmVnaXN0ZXJzKGFkZXYpOw0KPiA+ICAgCS8qIGVuYWJsZSB0aGUgZG9vcmJlbGwgYXBlcnR1
cmUgKi8NCj4gPiAtCW52X2VuYWJsZV9kb29yYmVsbF9hcGVydHVyZShhZGV2LCB0cnVlKTsNCj4g
PiArCWFkZXYtPm5iaW8uZnVuY3MtPmVuYWJsZV9kb29yYmVsbF9hcGVydHVyZShhZGV2LCB0cnVl
KTsNCj4gPg0KPiA+ICAgCXJldHVybiAwOw0KPiA+ICAgfQ0KPiA+IEBAIC0xMDQ3LDggKzEwNDMs
OSBAQCBzdGF0aWMgaW50IG52X2NvbW1vbl9od19maW5pKHZvaWQgKmhhbmRsZSkNCj4gPiAgIHsN
Cj4gPiAgIAlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IChzdHJ1Y3QgYW1kZ3B1X2Rldmlj
ZSAqKWhhbmRsZTsNCj4gPg0KPiA+IC0JLyogZGlzYWJsZSB0aGUgZG9vcmJlbGwgYXBlcnR1cmUg
Ki8NCj4gPiAtCW52X2VuYWJsZV9kb29yYmVsbF9hcGVydHVyZShhZGV2LCBmYWxzZSk7DQo+ID4g
KwkvKiBkaXNhYmxlIHRoZSBkb29yYmVsbCBhcGVydHVyZSBhbmQgc2VsZnJpbmcgZG9vcmJlbGwg
YXBlcnR1cmUqLw0KPiANCj4gU2FtZSBoZXJlIGFuZCBhbGwgb3RoZXIgcGxhY2VzIGFzIHdlbGwu
DQo+DQogDQpHZXQgaXQuIEkgd2lsbCB1cGRhdGUgYWxsIHRoZSBjb21tZW50IGluIHRoZSBuZXh0
IHZlcnNpb24uDQoNCkJlc3QgUmVnYXJkcywNClNoYW5lDQoNCj4gQXBhcnQgZnJvbSB0aGF0IGxv
b2tzIGdvb2QgdG8gbWUsDQo+IENocmlzdGlhbi4NCj4gDQo+ID4gKwlhZGV2LT5uYmlvLmZ1bmNz
LT5lbmFibGVfZG9vcmJlbGxfYXBlcnR1cmUoYWRldiwgZmFsc2UpOw0KPiA+ICsJYWRldi0+bmJp
by5mdW5jcy0+ZW5hYmxlX2Rvb3JiZWxsX3NlbGZyaW5nX2FwZXJ0dXJlKGFkZXYsIGZhbHNlKTsN
Cj4gPg0KPiA+ICAgCXJldHVybiAwOw0KPiA+ICAgfQ0KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9zb2MxNS5jDQo+ID4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9zb2MxNS5jDQo+ID4gaW5kZXggNGQxNDg3YTk4MzZjLi4yZGIwMjFmNmU4YWMgMTAwNjQ0
DQo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc29jMTUuYw0KPiA+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NvYzE1LmMNCj4gPiBAQCAtNjE5LDEzICs2MTks
NiBAQCBzdGF0aWMgdm9pZCBzb2MxNV9wcm9ncmFtX2FzcG0oc3RydWN0DQo+IGFtZGdwdV9kZXZp
Y2UgKmFkZXYpDQo+ID4gICAJCWFkZXYtPm5iaW8uZnVuY3MtPnByb2dyYW1fYXNwbShhZGV2KTsN
Cj4gPiAgIH0NCj4gPg0KPiA+IC1zdGF0aWMgdm9pZCBzb2MxNV9lbmFibGVfZG9vcmJlbGxfYXBl
cnR1cmUoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ID4gLQkJCQkJICAgYm9vbCBlbmFi
bGUpDQo+ID4gLXsNCj4gPiAtCWFkZXYtPm5iaW8uZnVuY3MtPmVuYWJsZV9kb29yYmVsbF9hcGVy
dHVyZShhZGV2LCBlbmFibGUpOw0KPiA+IC0JYWRldi0+bmJpby5mdW5jcy0+ZW5hYmxlX2Rvb3Ji
ZWxsX3NlbGZyaW5nX2FwZXJ0dXJlKGFkZXYsIGVuYWJsZSk7DQo+ID4gLX0NCj4gPiAtDQo+ID4g
ICBjb25zdCBzdHJ1Y3QgYW1kZ3B1X2lwX2Jsb2NrX3ZlcnNpb24gdmVnYTEwX2NvbW1vbl9pcF9i
bG9jayA9DQo+ID4gICB7DQo+ID4gICAJLnR5cGUgPSBBTURfSVBfQkxPQ0tfVFlQRV9DT01NT04s
DQo+ID4gQEAgLTExMjUsNiArMTExOCw5IEBAIHN0YXRpYyBpbnQgc29jMTVfY29tbW9uX2xhdGVf
aW5pdCh2b2lkICpoYW5kbGUpDQo+ID4gICAJaWYgKGFtZGdwdV9zcmlvdl92ZihhZGV2KSkNCj4g
PiAgIAkJeGdwdV9haV9tYWlsYm94X2dldF9pcnEoYWRldik7DQo+ID4NCj4gPiArCS8qIGVuYWJs
ZSBzZWxmcmluZyBkb29yYmVsbCBhcGVydHVyZSAqLw0KPiA+ICsJYWRldi0+bmJpby5mdW5jcy0+
ZW5hYmxlX2Rvb3JiZWxsX3NlbGZyaW5nX2FwZXJ0dXJlKGFkZXYsIHRydWUpOw0KPiA+ICsNCj4g
PiAgIAlyZXR1cm4gMDsNCj4gPiAgIH0NCj4gPg0KPiA+IEBAIC0xMTgyLDcgKzExNzgsOCBAQCBz
dGF0aWMgaW50IHNvYzE1X2NvbW1vbl9od19pbml0KHZvaWQgKmhhbmRsZSkNCj4gPiAgIAkJYWRl
di0+bmJpby5mdW5jcy0+cmVtYXBfaGRwX3JlZ2lzdGVycyhhZGV2KTsNCj4gPg0KPiA+ICAgCS8q
IGVuYWJsZSB0aGUgZG9vcmJlbGwgYXBlcnR1cmUgKi8NCj4gPiAtCXNvYzE1X2VuYWJsZV9kb29y
YmVsbF9hcGVydHVyZShhZGV2LCB0cnVlKTsNCj4gPiArCWFkZXYtPm5iaW8uZnVuY3MtPmVuYWJs
ZV9kb29yYmVsbF9hcGVydHVyZShhZGV2LCB0cnVlKTsNCj4gPiArDQo+ID4gICAJLyogSFcgZG9v
cmJlbGwgcm91dGluZyBwb2xpY3k6IGRvb3JiZWxsIHdyaXRpbmcgbm90DQo+ID4gICAJICogaW4g
U0RNQS9JSC9NTS9BQ1YgcmFuZ2Ugd2lsbCBiZSByb3V0ZWQgdG8gQ1AuIFNvDQo+ID4gICAJICog
d2UgbmVlZCB0byBpbml0IFNETUEgZG9vcmJlbGwgcmFuZ2UgcHJpb3IgQEAgLTExOTgsOCArMTE5
NSwxMA0KPiBAQA0KPiA+IHN0YXRpYyBpbnQgc29jMTVfY29tbW9uX2h3X2Zpbmkodm9pZCAqaGFu
ZGxlKQ0KPiA+ICAgew0KPiA+ICAgCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gKHN0cnVj
dCBhbWRncHVfZGV2aWNlICopaGFuZGxlOw0KPiA+DQo+ID4gLQkvKiBkaXNhYmxlIHRoZSBkb29y
YmVsbCBhcGVydHVyZSAqLw0KPiA+IC0Jc29jMTVfZW5hYmxlX2Rvb3JiZWxsX2FwZXJ0dXJlKGFk
ZXYsIGZhbHNlKTsNCj4gPiArCS8qIGRpc2FibGUgdGhlIGRvb3JiZWxsIGFwZXJ0dXJlIGFuZCBz
ZWxmcmluZyBkb29yYmVsbCBhcGVydHVyZSAqLw0KPiA+ICsJYWRldi0+bmJpby5mdW5jcy0+ZW5h
YmxlX2Rvb3JiZWxsX2FwZXJ0dXJlKGFkZXYsIGZhbHNlKTsNCj4gPiArCWFkZXYtPm5iaW8uZnVu
Y3MtPmVuYWJsZV9kb29yYmVsbF9zZWxmcmluZ19hcGVydHVyZShhZGV2LCBmYWxzZSk7DQo+ID4g
Kw0KPiA+ICAgCWlmIChhbWRncHVfc3Jpb3ZfdmYoYWRldikpDQo+ID4gICAJCXhncHVfYWlfbWFp
bGJveF9wdXRfaXJxKGFkZXYpOw0KPiA+DQo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L3NvYzIxLmMNCj4gPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3Nv
YzIxLmMNCj4gPiBpbmRleCA3ZDU5MzAzY2EyZjkuLjIxZDExYjdjNTEwZSAxMDA2NDQNCj4gPiAt
LS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zb2MyMS5jDQo+ID4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvc29jMjEuYw0KPiA+IEBAIC00NTAsMTMgKzQ1MCw2IEBAIHN0
YXRpYyB2b2lkIHNvYzIxX3Byb2dyYW1fYXNwbShzdHJ1Y3QNCj4gYW1kZ3B1X2RldmljZSAqYWRl
dikNCj4gPiAgIAkJYWRldi0+bmJpby5mdW5jcy0+cHJvZ3JhbV9hc3BtKGFkZXYpOw0KPiA+ICAg
fQ0KPiA+DQo+ID4gLXN0YXRpYyB2b2lkIHNvYzIxX2VuYWJsZV9kb29yYmVsbF9hcGVydHVyZShz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gPiAtCQkJCQlib29sIGVuYWJsZSkNCj4gPiAt
ew0KPiA+IC0JYWRldi0+bmJpby5mdW5jcy0+ZW5hYmxlX2Rvb3JiZWxsX2FwZXJ0dXJlKGFkZXYs
IGVuYWJsZSk7DQo+ID4gLQlhZGV2LT5uYmlvLmZ1bmNzLT5lbmFibGVfZG9vcmJlbGxfc2VsZnJp
bmdfYXBlcnR1cmUoYWRldiwgZW5hYmxlKTsNCj4gPiAtfQ0KPiA+IC0NCj4gPiAgIGNvbnN0IHN0
cnVjdCBhbWRncHVfaXBfYmxvY2tfdmVyc2lvbiBzb2MyMV9jb21tb25faXBfYmxvY2sgPQ0KPiA+
ICAgew0KPiA+ICAgCS50eXBlID0gQU1EX0lQX0JMT0NLX1RZUEVfQ09NTU9OLA0KPiA+IEBAIC03
NjQsNiArNzU3LDkgQEAgc3RhdGljIGludCBzb2MyMV9jb21tb25fbGF0ZV9pbml0KHZvaWQgKmhh
bmRsZSkNCj4gPiAgIAkJCWFtZGdwdV9pcnFfZ2V0KGFkZXYsICZhZGV2LQ0KPiA+bmJpby5yYXNf
ZXJyX2V2ZW50X2F0aHViX2lycSwgMCk7DQo+ID4gICAJfQ0KPiA+DQo+ID4gKwkvKiBlbmFibGUg
c2VsZnJpbmcgZG9vcmJlbGwgYXBlcnR1cmUgKi8NCj4gPiArCWFkZXYtPm5iaW8uZnVuY3MtPmVu
YWJsZV9kb29yYmVsbF9zZWxmcmluZ19hcGVydHVyZShhZGV2LCB0cnVlKTsNCj4gPiArDQo+ID4g
ICAJcmV0dXJuIDA7DQo+ID4gICB9DQo+ID4NCj4gPiBAQCAtNzk3LDcgKzc5Myw3IEBAIHN0YXRp
YyBpbnQgc29jMjFfY29tbW9uX2h3X2luaXQodm9pZCAqaGFuZGxlKQ0KPiA+ICAgCWlmIChhZGV2
LT5uYmlvLmZ1bmNzLT5yZW1hcF9oZHBfcmVnaXN0ZXJzKQ0KPiA+ICAgCQlhZGV2LT5uYmlvLmZ1
bmNzLT5yZW1hcF9oZHBfcmVnaXN0ZXJzKGFkZXYpOw0KPiA+ICAgCS8qIGVuYWJsZSB0aGUgZG9v
cmJlbGwgYXBlcnR1cmUgKi8NCj4gPiAtCXNvYzIxX2VuYWJsZV9kb29yYmVsbF9hcGVydHVyZShh
ZGV2LCB0cnVlKTsNCj4gPiArCWFkZXYtPm5iaW8uZnVuY3MtPmVuYWJsZV9kb29yYmVsbF9hcGVy
dHVyZShhZGV2LCB0cnVlKTsNCj4gPg0KPiA+ICAgCXJldHVybiAwOw0KPiA+ICAgfQ0KPiA+IEBA
IC04MDYsOCArODAyLDkgQEAgc3RhdGljIGludCBzb2MyMV9jb21tb25faHdfZmluaSh2b2lkICpo
YW5kbGUpDQo+ID4gICB7DQo+ID4gICAJc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSAoc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKiloYW5kbGU7DQo+ID4NCj4gPiAtCS8qIGRpc2FibGUgdGhlIGRv
b3JiZWxsIGFwZXJ0dXJlICovDQo+ID4gLQlzb2MyMV9lbmFibGVfZG9vcmJlbGxfYXBlcnR1cmUo
YWRldiwgZmFsc2UpOw0KPiA+ICsJLyogZGlzYWJsZSB0aGUgZG9vcmJlbGwgYXBlcnR1cmUgYW5k
IHNlbGZyaW5nIGRvb3JiZWxsIGFwZXJ0dXJlICovDQo+ID4gKwlhZGV2LT5uYmlvLmZ1bmNzLT5l
bmFibGVfZG9vcmJlbGxfYXBlcnR1cmUoYWRldiwgZmFsc2UpOw0KPiA+ICsJYWRldi0+bmJpby5m
dW5jcy0+ZW5hYmxlX2Rvb3JiZWxsX3NlbGZyaW5nX2FwZXJ0dXJlKGFkZXYsIGZhbHNlKTsNCj4g
Pg0KPiA+ICAgCWlmIChhbWRncHVfc3Jpb3ZfdmYoYWRldikpIHsNCj4gPiAgIAkJeGdwdV9udl9t
YWlsYm94X3B1dF9pcnEoYWRldik7DQo=
