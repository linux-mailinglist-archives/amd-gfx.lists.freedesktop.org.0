Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A94E3AAC00
	for <lists+amd-gfx@lfdr.de>; Thu,  5 Sep 2019 21:31:17 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3DEDC892D6;
	Thu,  5 Sep 2019 19:31:16 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM02-SN1-obe.outbound.protection.outlook.com
 (mail-eopbgr770052.outbound.protection.outlook.com [40.107.77.52])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 36496892D6
 for <amd-gfx@lists.freedesktop.org>; Thu,  5 Sep 2019 19:31:15 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=ZZCoXcUUZVS3X9r0bQugvstssy0F8Yl0P3DOgZ6MbvZih4RjtHcjFWijVCrD2CmD3OD67fceS/Cpd/DdD2uEQ0FsPPmKblDSOjzymxC7q+6EPHaW4XT4f+NmK+m2EGADwL5YphMDlu4d2BCRGOkhzINo/0yJXImdgxsE+YXhDg1+RqmA1/IPdL/38xKcT7TLvJ0/UOtiutao2fpJ01je2rlvDChPhAUQ+JYk9SAJRgw5eMpe7H7ZXRiF3A80kuKzCDUdPhdDkUB9Uw4HRlpgMc04bW4ok9CqmCa6V++aIlb5HOypju9VyHHPwDfKUxvHdonPhCKyAB8lc9Hc0M4zoA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=zr2nQnyEc+WL+CWrNaJrQJlm1Y3+OR2rq7kK0EmL4Jo=;
 b=EQvM0uWt4LStcyvWz0QCGOC4xsB1EEFU9ATbUZAaR/8nMIjqu5HEtacewO7Q22J6ogtGbngwPcQanQnTZ5MZ6SOZbPZHbnDu2M01RtDnvPos34+fbQah4iY4VI1JhWO518rNHBL4kBvg5puQZX8FF1zskIaDcBWJo9rOwQx2cT9yTdPWjPufrnpA+OsPrXxa+WVjbNI02ejmTEKmWzufERj9J1axcoJ64KGroK2Vk8VDJcdVUVooN2Y+usX3QqDb0I2VxECfSJfaym8n+kHI3QbEFh1xKu+G7xAHadMRh6RZjuj0SDYEBFoPjdJZT7CQoEHjh9+m3Ft5kU0Rqp1fBg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from CY4PR1201MB0230.namprd12.prod.outlook.com (10.172.79.7) by
 CY4PR1201MB0039.namprd12.prod.outlook.com (10.172.79.12) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2241.14; Thu, 5 Sep 2019 19:31:13 +0000
Received: from CY4PR1201MB0230.namprd12.prod.outlook.com
 ([fe80::708e:c826:5b05:e3f0]) by CY4PR1201MB0230.namprd12.prod.outlook.com
 ([fe80::708e:c826:5b05:e3f0%11]) with mapi id 15.20.2220.022; Thu, 5 Sep 2019
 19:31:13 +0000
From: Harry Wentland <hwentlan@amd.com>
To: "Lakha, Bhawanpreet" <Bhawanpreet.Lakha@amd.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: Re: [PATCH 09/20] drm/amdgpu: psp DTM init
Thread-Topic: [PATCH 09/20] drm/amdgpu: psp DTM init
Thread-Index: AQHVXoYvJpO+3hGdo0eAr5A+5lDN+acdg+WA
Date: Thu, 5 Sep 2019 19:31:13 +0000
Message-ID: <63ec7ec3-8e1b-96b1-61eb-5c59432063e1@amd.com>
References: <20190829162253.10195-1-Bhawanpreet.Lakha@amd.com>
 <20190829162253.10195-10-Bhawanpreet.Lakha@amd.com>
In-Reply-To: <20190829162253.10195-10-Bhawanpreet.Lakha@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [2607:fea8:925f:916c::2]
user-agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
x-clientproxiedby: YTXPR0101CA0072.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:b00:1::49) To CY4PR1201MB0230.namprd12.prod.outlook.com
 (2603:10b6:910:1e::7)
x-ms-exchange-messagesentrepresentingtype: 1
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 720769cf-9cd0-4f5f-e509-08d732379cb3
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600166)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:CY4PR1201MB0039; 
x-ms-traffictypediagnostic: CY4PR1201MB0039:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <CY4PR1201MB0039A1DF7975E1B21BC27A3E8CBB0@CY4PR1201MB0039.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:5236;
x-forefront-prvs: 015114592F
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(136003)(396003)(39860400002)(376002)(366004)(346002)(189003)(199004)(14454004)(71200400001)(71190400001)(2906002)(316002)(31696002)(2501003)(478600001)(6116002)(31686004)(81156014)(81166006)(58126008)(36756003)(8936002)(110136005)(8676002)(2616005)(476003)(305945005)(102836004)(11346002)(6436002)(25786009)(186003)(6512007)(46003)(486006)(446003)(7736002)(65806001)(6246003)(65956001)(14444005)(256004)(5660300002)(6486002)(229853002)(52116002)(66476007)(99286004)(66556008)(66446008)(66946007)(6506007)(386003)(53546011)(76176011)(64756008)(53936002);
 DIR:OUT; SFP:1101; SCL:1; SRVR:CY4PR1201MB0039;
 H:CY4PR1201MB0230.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: XbguzTPm2DRMX35Nc3w9s16VpnwuruIvVYBrrhzKkpDdWYEtnSy3tt8CzUnkdGMbByK8mLh1PZhbu2GRtK+j1rDTaJuCdYDhte42U7W2rEXdKmLm78q1W2w+r7Wx3a4M5LltJLACGUiJ1FF9w2FnFfsh5nfKzwIADNjv4fXTCC+dSi3xf+p15GUh7wWO9sEV4uWP/L/hdeVvaNwmHdBI9HKYMdKv4Wn500lunHifNCkJeNqm/lPxIorhpM3b3Xg/AeyPrmMBYnjXPZyjiihB0z5b0M74oKcS21gYkxLNn8YFN1OkpJEAufn7lbhjI3B1mITlEhNmnj36dcEe2b75t8V2mX7Dzl5sDBY2n0vS1z3ofVdZVEvjb7lUjk5apGwxQC1z6Q+B2bZcCFJI3Ez4KZk7X+B/i8pfxo8vXNh8ZQk=
Content-ID: <591E1A079D7D804B9BCB931A342A1E8E@namprd12.prod.outlook.com>
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 720769cf-9cd0-4f5f-e509-08d732379cb3
X-MS-Exchange-CrossTenant-originalarrivaltime: 05 Sep 2019 19:31:13.3938 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: ngqLBNvl/eSGtUBZAtj79+eI7g2ec168IyIFeVTccMIUFPnFD5UFs4FLb+DhWhxXGXFrqPD5NVkcaw2oxqpOAQ==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: CY4PR1201MB0039
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=zr2nQnyEc+WL+CWrNaJrQJlm1Y3+OR2rq7kK0EmL4Jo=;
 b=UYBKeRcUgLIMxC1bkUq+41FBw4ObnRRmDwgzdGGFWHSIFQDJJmfXdbPPpRJFU8lt8ku0JT9aorLmbMEClU8l5L47Fz+uXLpImHV0zQ66oy8Vt1nsDJ7xhjnJ2extR9/MRE7cDES63IoPrvuMjPMOrdKGGuOc8jCgxXsXfrWOueA=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Harry.Wentland@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

DQoNCk9uIDIwMTktMDgtMjkgMTI6MjIgcC5tLiwgQmhhd2FucHJlZXQgTGFraGEgd3JvdGU6DQo+
IERUTSBpcyB0aGUgZGlzcGxheSB0b3BvbG9neSBtYW5hZ2VyLiBUaGlzIGlzIG5lZWRlZCB0byBj
b21tdW5pY2F0ZSB3aXRoDQo+IHBzcCBhYm91dCB0aGUgZGlzcGxheSBjb25maWd1cmF0aW9ucy4N
Cj4gDQo+IFRoaXMgcGF0Y2ggYWRkcw0KPiAgICAgLUxvYWRpbmcgdGhlIGZpcm13YXJlDQo+ICAg
ICAtVGhlIGZ1bmN0aW9ucyBhbmQgZGVmaW5pdGlvbnMgZm9yIGNvbW11bmljYXRpb24gd2l0aCB0
aGUgZmlybXdhcmUNCj4gDQo+IFNpZ25lZC1vZmYtYnk6IEJoYXdhbnByZWV0IExha2hhIDxCaGF3
YW5wcmVldC5MYWtoYUBhbWQuY29tPg0KPiAtLS0NCj4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2FtZGdwdV9wc3AuYyAgIHwgMTUzICsrKysrKysrKysrKysrKysrKysrKysNCj4gIGRyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9wc3AuaCAgIHwgIDE1ICsrKw0KPiAgZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3Vjb2RlLmggfCAgIDMgKw0KPiAgZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvcHNwX3YxMF8wLmMgICAgfCAgIDQgKw0KPiAgNCBmaWxlcyBjaGFu
Z2VkLCAxNzUgaW5zZXJ0aW9ucygrKQ0KPiANCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV9wc3AuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV9wc3AuYw0KPiBpbmRleCBjY2NlMWI1MDZhMTIuLjcxOTJlN2ZiYTZkYyAxMDA2NDQNCj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3BzcC5jDQo+ICsrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9wc3AuYw0KPiBAQCAtOTQyLDYgKzk0Miwx
NDkgQEAgc3RhdGljIGludCBwc3BfaGRjcF90ZXJtaW5hdGUoc3RydWN0IHBzcF9jb250ZXh0ICpw
c3ApDQo+ICB9DQo+ICAvLyBIRENQIGVuZA0KPiAgDQo+ICsvLyBEVE0gc3RhcnQNCj4gK3N0YXRp
YyB2b2lkIHBzcF9wcmVwX2R0bV90YV9sb2FkX2NtZF9idWYoc3RydWN0IHBzcF9nZnhfY21kX3Jl
c3AgKmNtZCwNCj4gKwkJdWludDY0X3QgZHRtX3RhX21jLCB1aW50NjRfdCBkdG1fbWNfc2hhcmVk
LA0KPiArCQl1aW50MzJfdCBkdG1fdGFfc2l6ZSwgdWludDMyX3Qgc2hhcmVkX3NpemUpDQo+ICt7
DQo+ICsJY21kLT5jbWRfaWQgPSBHRlhfQ01EX0lEX0xPQURfVEE7DQo+ICsJY21kLT5jbWQuY21k
X2xvYWRfdGEuYXBwX3BoeV9hZGRyX2xvID0gbG93ZXJfMzJfYml0cyhkdG1fdGFfbWMpOw0KPiAr
CWNtZC0+Y21kLmNtZF9sb2FkX3RhLmFwcF9waHlfYWRkcl9oaSA9IHVwcGVyXzMyX2JpdHMoZHRt
X3RhX21jKTsNCj4gKwljbWQtPmNtZC5jbWRfbG9hZF90YS5hcHBfbGVuID0gZHRtX3RhX3NpemU7
DQo+ICsNCj4gKwljbWQtPmNtZC5jbWRfbG9hZF90YS5jbWRfYnVmX3BoeV9hZGRyX2xvID0gbG93
ZXJfMzJfYml0cyhkdG1fbWNfc2hhcmVkKTsNCj4gKwljbWQtPmNtZC5jbWRfbG9hZF90YS5jbWRf
YnVmX3BoeV9hZGRyX2hpID0gdXBwZXJfMzJfYml0cyhkdG1fbWNfc2hhcmVkKTsNCj4gKwljbWQt
PmNtZC5jbWRfbG9hZF90YS5jbWRfYnVmX2xlbiA9IHNoYXJlZF9zaXplOw0KPiArfQ0KPiArDQo+
ICtzdGF0aWMgaW50IHBzcF9kdG1faW5pdF9zaGFyZWRfYnVmKHN0cnVjdCBwc3BfY29udGV4dCAq
cHNwKQ0KPiArew0KPiArCWludCByZXQ7DQo+ICsNCj4gKwkvKg0KPiArCSAqIEFsbG9jYXRlIDE2
ayBtZW1vcnkgYWxpZ25lZCB0byA0ayBmcm9tIEZyYW1lIEJ1ZmZlciAobG9jYWwNCj4gKwkgKiBw
aHlzaWNhbCkgZm9yIGR0bSB0YSA8LT4gRHJpdmVyDQo+ICsJICovDQo+ICsJcmV0ID0gYW1kZ3B1
X2JvX2NyZWF0ZV9rZXJuZWwocHNwLT5hZGV2LCBQU1BfRFRNX1NIQVJFRF9NRU1fU0laRSwNCj4g
KwkJCVBBR0VfU0laRSwgQU1ER1BVX0dFTV9ET01BSU5fVlJBTSwNCj4gKwkJCSZwc3AtPmR0bV9j
b250ZXh0LmR0bV9zaGFyZWRfYm8sDQo+ICsJCQkmcHNwLT5kdG1fY29udGV4dC5kdG1fc2hhcmVk
X21jX2FkZHIsDQo+ICsJCQkmcHNwLT5kdG1fY29udGV4dC5kdG1fc2hhcmVkX2J1Zik7DQoNCkZv
cm1hdHRpbmcgaXMgb2ZmIGhlcmUgYW5kIGVsc2V3aGVyZS4gU2FtZSBvbiBwc3AgSERDUCBpbml0
IHBhdGNoLg0KDQo+ICsNCj4gKwlyZXR1cm4gcmV0Ow0KPiArfQ0KPiArDQo+ICtzdGF0aWMgaW50
IHBzcF9kdG1fbG9hZChzdHJ1Y3QgcHNwX2NvbnRleHQgKnBzcCkNCj4gK3sNCj4gKwlpbnQgcmV0
Ow0KPiArCXN0cnVjdCBwc3BfZ2Z4X2NtZF9yZXNwICpjbWQ7DQo+ICsNCj4gKwkvKg0KPiArCSAq
IFRPRE86IGJ5cGFzcyB0aGUgbG9hZGluZyBpbiBzcmlvdiBmb3Igbm93DQo+ICsJICovDQo+ICsJ
aWYgKGFtZGdwdV9zcmlvdl92Zihwc3AtPmFkZXYpKQ0KPiArCQlyZXR1cm4gMDsNCj4gKw0KPiAr
CWNtZCA9IGt6YWxsb2Moc2l6ZW9mKHN0cnVjdCBwc3BfZ2Z4X2NtZF9yZXNwKSwgR0ZQX0tFUk5F
TCk7DQo+ICsJaWYgKCFjbWQpDQo+ICsJCXJldHVybiAtRU5PTUVNOw0KPiArDQo+ICsJbWVtc2V0
KHBzcC0+ZndfcHJpX2J1ZiwgMCwgUFNQXzFfTUVHKTsNCj4gKwltZW1jcHkocHNwLT5md19wcmlf
YnVmLCBwc3AtPnRhX2R0bV9zdGFydF9hZGRyLCBwc3AtPnRhX2R0bV91Y29kZV9zaXplKTsNCj4g
Kw0KPiArCXBzcF9wcmVwX2R0bV90YV9sb2FkX2NtZF9idWYoY21kLCBwc3AtPmZ3X3ByaV9tY19h
ZGRyLA0KPiArCQkJcHNwLT5kdG1fY29udGV4dC5kdG1fc2hhcmVkX21jX2FkZHIsDQo+ICsJCQlw
c3AtPnRhX2R0bV91Y29kZV9zaXplLCBQU1BfRFRNX1NIQVJFRF9NRU1fU0laRSk7DQo+ICsNCj4g
KwlyZXQgPSBwc3BfY21kX3N1Ym1pdF9idWYocHNwLCBOVUxMLCBjbWQsDQo+ICsJCQlwc3AtPmZl
bmNlX2J1Zl9tY19hZGRyKTsNCj4gKw0KPiArCWlmICghcmV0KSB7DQo+ICsJCXByaW50aygiTE9B
REVEREUgZHRtICEhISEhMSIpOw0KDQpkZWJ1ZyBwcmludGs/IHBsZWFzZSBkcm9wIGl0DQoNCj4g
KwkJcHNwLT5kdG1fY29udGV4dC5kdG1faW5pdGlhbGl6ZWQgPSAxOw0KPiArCQlwc3AtPmR0bV9j
b250ZXh0LnNlc3Npb25faWQgPSBjbWQtPnJlc3Auc2Vzc2lvbl9pZDsNCj4gKwl9DQo+ICsNCj4g
KwlrZnJlZShjbWQpOw0KPiArDQo+ICsJcmV0dXJuIHJldDsNCj4gK30NCj4gKw0KPiArc3RhdGlj
IGludCBwc3BfZHRtX2luaXRpYWxpemUoc3RydWN0IHBzcF9jb250ZXh0ICpwc3ApDQo+ICt7DQo+
ICsJaW50IHJldDsNCj4gKw0KPiArCWlmICghcHNwLT5kdG1fY29udGV4dC5kdG1faW5pdGlhbGl6
ZWQpIHsNCj4gKwkJcmV0ID0gcHNwX2R0bV9pbml0X3NoYXJlZF9idWYocHNwKTsNCj4gKwkJaWYg
KHJldCkNCj4gKwkJCXJldHVybiByZXQ7DQo+ICsJfQ0KPiArDQo+ICsJcmV0ID0gcHNwX2R0bV9s
b2FkKHBzcCk7DQo+ICsJaWYgKHJldCkNCj4gKwkJcmV0dXJuIHJldDsNCj4gKw0KPiArCXJldHVy
biAwOw0KPiArfQ0KPiArDQo+ICtzdGF0aWMgdm9pZCBwc3BfcHJlcF9kdG1fdGFfaW52b2tlX2Nt
ZF9idWYoc3RydWN0IHBzcF9nZnhfY21kX3Jlc3AgKmNtZCwNCj4gKwkJdWludDMyX3QgdGFfY21k
X2lkLA0KPiArCQl1aW50MzJfdCBkdG1fc2Vzc2lvbl9pZCkNCj4gK3sNCj4gKwljbWQtPmNtZF9p
ZCA9IEdGWF9DTURfSURfSU5WT0tFX0NNRDsNCj4gKwljbWQtPmNtZC5jbWRfaW52b2tlX2NtZC5z
ZXNzaW9uX2lkID0gZHRtX3Nlc3Npb25faWQ7DQo+ICsJY21kLT5jbWQuY21kX2ludm9rZV9jbWQu
dGFfY21kX2lkID0gdGFfY21kX2lkOw0KPiArCS8qIE5vdGU6IGNtZF9pbnZva2VfY21kLmJ1ZiBp
cyBub3QgdXNlZCBmb3Igbm93ICovDQo+ICt9DQo+ICsNCj4gK2ludCBwc3BfZHRtX2ludm9rZShz
dHJ1Y3QgcHNwX2NvbnRleHQgKnBzcCwgdWludDMyX3QgdGFfY21kX2lkKQ0KPiArew0KPiArCWlu
dCByZXQ7DQo+ICsJc3RydWN0IHBzcF9nZnhfY21kX3Jlc3AgKmNtZDsNCj4gKw0KPiArCS8qDQo+
ICsJICogVE9ETzogYnlwYXNzIHRoZSBsb2FkaW5nIGluIHNyaW92IGZvciBub3cNCj4gKwkgKi8N
Cj4gKwlpZiAoYW1kZ3B1X3NyaW92X3ZmKHBzcC0+YWRldikpDQo+ICsJCXJldHVybiAwOw0KPiAr
DQo+ICsJY21kID0ga3phbGxvYyhzaXplb2Yoc3RydWN0IHBzcF9nZnhfY21kX3Jlc3ApLCBHRlBf
S0VSTkVMKTsNCj4gKwlpZiAoIWNtZCkNCj4gKwkJcmV0dXJuIC1FTk9NRU07DQo+ICsNCj4gKwlw
c3BfcHJlcF9kdG1fdGFfaW52b2tlX2NtZF9idWYoY21kLCB0YV9jbWRfaWQsDQo+ICsJCQlwc3At
PmR0bV9jb250ZXh0LnNlc3Npb25faWQpOw0KPiArDQo+ICsJcmV0ID0gcHNwX2NtZF9zdWJtaXRf
YnVmKHBzcCwgTlVMTCwgY21kLA0KPiArCQkJcHNwLT5mZW5jZV9idWZfbWNfYWRkcik7DQo+ICsN
Cj4gKwlrZnJlZShjbWQpOw0KPiArDQo+ICsJcmV0dXJuIHJldDsNCj4gK30NCj4gKw0KPiArc3Rh
dGljIGludCBwc3BfZHRtX3Rlcm1pbmF0ZShzdHJ1Y3QgcHNwX2NvbnRleHQgKnBzcCkNCj4gK3sN
Cj4gKwlpbnQgcmV0Ow0KPiArDQo+ICsJaWYgKCFwc3AtPmR0bV9jb250ZXh0LmR0bV9pbml0aWFs
aXplZCkNCj4gKwkJcmV0dXJuIDA7DQo+ICsNCj4gKwlyZXQgPSBwc3BfaGRjcF91bmxvYWQocHNw
KTsNCj4gKwlpZiAocmV0KQ0KPiArCQlyZXR1cm4gcmV0Ow0KPiArDQo+ICsJcHNwLT5kdG1fY29u
dGV4dC5kdG1faW5pdGlhbGl6ZWQgPSAwOw0KPiArDQo+ICsJLyogZnJlZSBoZGNwIHNoYXJlZCBt
ZW1vcnkgKi8NCj4gKwlhbWRncHVfYm9fZnJlZV9rZXJuZWwoJnBzcC0+ZHRtX2NvbnRleHQuZHRt
X3NoYXJlZF9ibywNCj4gKwkJCSZwc3AtPmR0bV9jb250ZXh0LmR0bV9zaGFyZWRfbWNfYWRkciwN
Cj4gKwkJCSZwc3AtPmR0bV9jb250ZXh0LmR0bV9zaGFyZWRfYnVmKTsNCj4gKw0KPiArCXJldHVy
biAwOw0KPiArfQ0KPiArLy8gRFRNIGVuZA0KPiArDQo+ICBzdGF0aWMgaW50IHBzcF9od19zdGFy
dChzdHJ1Y3QgcHNwX2NvbnRleHQgKnBzcCkNCj4gIHsNCj4gIAlzdHJ1Y3QgYW1kZ3B1X2Rldmlj
ZSAqYWRldiA9IHBzcC0+YWRldjsNCj4gQEAgLTEwMjEsNiArMTE2NCwxMCBAQCBzdGF0aWMgaW50
IHBzcF9od19zdGFydChzdHJ1Y3QgcHNwX2NvbnRleHQgKnBzcCkNCj4gIAkJCWRldl9lcnIocHNw
LT5hZGV2LT5kZXYsDQo+ICAJCQkJCSJIRENQOiBGYWlsZWQgdG8gaW5pdGlhbGl6ZSBIRENQXG4i
KTsNCj4gIA0KPiArCQlyZXQgPSBwc3BfZHRtX2luaXRpYWxpemUocHNwKTsNCj4gKwkJaWYgKHJl
dCkNCj4gKwkJCWRldl9lcnIocHNwLT5hZGV2LT5kZXYsDQo+ICsJCQkJCSJEVE06IEZhaWxlZCB0
byBpbml0aWFsaXplIERUTVxuIik7DQoNCkRvZXMgdGhlIGluaXQvdGVybWluYXRlIG9yZGVyIG1h
dHRlciBmb3IgSERDUCBhbmQgRFRNIEZXPyBZb3Ugc2VlbSB0byBiZQ0KaW5pdGlhbGl6aW5nIGFu
ZCB0ZXJtaW5hdGluZyB0aGVtIGluIHRoZSBzYW1lIG9yZGVyLCByYXRoZXIgdGhhbiBpbg0KcmV2
ZXJzZSBvcmRlci4gSXQncyBmaW5lIGlmIHRoZXkgZG9uJ3QgaGF2ZSBhbnkgZGVwZW5kZW5jeSBv
biBlYWNoIG90aGVyLg0KDQpIYXJyeQ0KDQo+ICAJfQ0KPiAgDQo+ICAJcmV0dXJuIDA7DQo+IEBA
IC0xMzkzLDYgKzE1NDAsNyBAQCBzdGF0aWMgaW50IHBzcF9od19maW5pKHZvaWQgKmhhbmRsZSkN
Cj4gIAlpZiAocHNwLT5hZGV2LT5wc3AudGFfZncpIHsNCj4gIAkJcHNwX3Jhc190ZXJtaW5hdGUo
cHNwKTsNCj4gIAkJcHNwX2hkY3BfdGVybWluYXRlKHBzcCk7DQo+ICsJCXBzcF9kdG1fdGVybWlu
YXRlKHBzcCk7DQo+ICAJfQ0KPiAgDQo+ICAJcHNwX3JpbmdfZGVzdHJveShwc3AsIFBTUF9SSU5H
X1RZUEVfX0tNKTsNCj4gQEAgLTE0MzksNiArMTU4NywxMSBAQCBzdGF0aWMgaW50IHBzcF9zdXNw
ZW5kKHZvaWQgKmhhbmRsZSkNCj4gIAkJCURSTV9FUlJPUigiRmFpbGVkIHRvIHRlcm1pbmF0ZSBo
ZGNwIHRhXG4iKTsNCj4gIAkJCXJldHVybiByZXQ7DQo+ICAJCX0NCj4gKwkJcmV0ID0gcHNwX2R0
bV90ZXJtaW5hdGUocHNwKTsNCj4gKwkJaWYgKHJldCkgew0KPiArCQkJRFJNX0VSUk9SKCJGYWls
ZWQgdG8gdGVybWluYXRlIGR0bSB0YVxuIik7DQo+ICsJCQlyZXR1cm4gcmV0Ow0KPiArCQl9DQo+
ICAJfQ0KPiAgDQo+ICAJcmV0ID0gcHNwX3Jpbmdfc3RvcChwc3AsIFBTUF9SSU5HX1RZUEVfX0tN
KTsNCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9wc3Au
aCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9wc3AuaA0KPiBpbmRleCA2Nzg4
ZTE2MDE5NDUuLjdkZDlhZTdkYmJlNCAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1X3BzcC5oDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2FtZGdwdV9wc3AuaA0KPiBAQCAtMzgsNiArMzgsNyBAQA0KPiAgI2RlZmluZSBQU1BfMV9NRUcJ
CTB4MTAwMDAwDQo+ICAjZGVmaW5lIFBTUF9UTVJfU0laRQkweDQwMDAwMA0KPiAgI2RlZmluZSBQ
U1BfSERDUF9TSEFSRURfTUVNX1NJWkUJMHg0MDAwDQo+ICsjZGVmaW5lIFBTUF9EVE1fU0hBUkVE
X01FTV9TSVpFCTB4NDAwMA0KPiAgI2RlZmluZSBQU1BfU0hBUkVEX01FTV9TSVpFCQkweDQwMDAN
Cj4gIA0KPiAgc3RydWN0IHBzcF9jb250ZXh0Ow0KPiBAQCAtMTUyLDYgKzE1MywxNCBAQCBzdHJ1
Y3QgcHNwX2hkY3BfY29udGV4dCB7DQo+ICAJdm9pZAkJCSpoZGNwX3NoYXJlZF9idWY7DQo+ICB9
Ow0KPiAgDQo+ICtzdHJ1Y3QgcHNwX2R0bV9jb250ZXh0IHsNCj4gKwlib29sCQkJZHRtX2luaXRp
YWxpemVkOw0KPiArCXVpbnQzMl90CQlzZXNzaW9uX2lkOw0KPiArCXN0cnVjdCBhbWRncHVfYm8J
KmR0bV9zaGFyZWRfYm87DQo+ICsJdWludDY0X3QJCWR0bV9zaGFyZWRfbWNfYWRkcjsNCj4gKwl2
b2lkCQkJKmR0bV9zaGFyZWRfYnVmOw0KPiArfTsNCj4gKw0KPiAgc3RydWN0IHBzcF9jb250ZXh0
DQo+ICB7DQo+ICAJc3RydWN0IGFtZGdwdV9kZXZpY2UgICAgICAgICAgICAqYWRldjsNCj4gQEAg
LTIyMSw5ICsyMzAsMTQgQEAgc3RydWN0IHBzcF9jb250ZXh0DQo+ICAJdWludDMyX3QJCQl0YV9o
ZGNwX3Vjb2RlX3NpemU7DQo+ICAJdWludDhfdAkJCQkqdGFfaGRjcF9zdGFydF9hZGRyOw0KPiAg
DQo+ICsJdWludDMyX3QJCQl0YV9kdG1fdWNvZGVfdmVyc2lvbjsNCj4gKwl1aW50MzJfdAkJCXRh
X2R0bV91Y29kZV9zaXplOw0KPiArCXVpbnQ4X3QJCQkJKnRhX2R0bV9zdGFydF9hZGRyOw0KPiAr
DQo+ICAJc3RydWN0IHBzcF94Z21pX2NvbnRleHQJCXhnbWlfY29udGV4dDsNCj4gIAlzdHJ1Y3Qg
cHNwX3Jhc19jb250ZXh0CQlyYXM7DQo+ICAJc3RydWN0IHBzcF9oZGNwX2NvbnRleHQgCWhkY3Bf
Y29udGV4dDsNCj4gKwlzdHJ1Y3QgcHNwX2R0bV9jb250ZXh0CQlkdG1fY29udGV4dDsNCj4gIAlz
dHJ1Y3QgbXV0ZXgJCQltdXRleDsNCj4gIH07DQo+ICANCj4gQEAgLTI5Niw2ICszMTAsNyBAQCBp
bnQgcHNwX3Jhc19pbnZva2Uoc3RydWN0IHBzcF9jb250ZXh0ICpwc3AsIHVpbnQzMl90IHRhX2Nt
ZF9pZCk7DQo+ICBpbnQgcHNwX3Jhc19lbmFibGVfZmVhdHVyZXMoc3RydWN0IHBzcF9jb250ZXh0
ICpwc3AsDQo+ICAJCXVuaW9uIHRhX3Jhc19jbWRfaW5wdXQgKmluZm8sIGJvb2wgZW5hYmxlKTsN
Cj4gIGludCBwc3BfaGRjcF9pbnZva2Uoc3RydWN0IHBzcF9jb250ZXh0ICpwc3AsIHVpbnQzMl90
IHRhX2NtZF9pZCk7DQo+ICtpbnQgcHNwX2R0bV9pbnZva2Uoc3RydWN0IHBzcF9jb250ZXh0ICpw
c3AsIHVpbnQzMl90IHRhX2NtZF9pZCk7DQo+ICANCj4gIGludCBwc3BfcmxjX2F1dG9sb2FkX3N0
YXJ0KHN0cnVjdCBwc3BfY29udGV4dCAqcHNwKTsNCj4gIA0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3Vjb2RlLmggYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9hbWRncHVfdWNvZGUuaA0KPiBpbmRleCBjMmI1OTNhYjc0OTUuLjQxMDU4N2I5NTBm
MyAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3Vjb2Rl
LmgNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3Vjb2RlLmgNCj4g
QEAgLTExMSw2ICsxMTEsOSBAQCBzdHJ1Y3QgdGFfZmlybXdhcmVfaGVhZGVyX3YxXzAgew0KPiAg
CXVpbnQzMl90IHRhX2hkY3BfdWNvZGVfdmVyc2lvbjsNCj4gIAl1aW50MzJfdCB0YV9oZGNwX29m
ZnNldF9ieXRlczsNCj4gIAl1aW50MzJfdCB0YV9oZGNwX3NpemVfYnl0ZXM7DQo+ICsJdWludDMy
X3QgdGFfZHRtX3Vjb2RlX3ZlcnNpb247DQo+ICsJdWludDMyX3QgdGFfZHRtX29mZnNldF9ieXRl
czsNCj4gKwl1aW50MzJfdCB0YV9kdG1fc2l6ZV9ieXRlczsNCj4gIH07DQo+ICANCj4gIC8qIHZl
cnNpb25fbWFqb3I9MSwgdmVyc2lvbl9taW5vcj0wICovDQo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9wc3BfdjEwXzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L3BzcF92MTBfMC5jDQo+IGluZGV4IDM0OGVjNGUyNzVmMy4uZTkzNzcwMTMzYWQ3IDEwMDY0
NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9wc3BfdjEwXzAuYw0KPiArKysg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9wc3BfdjEwXzAuYw0KPiBAQCAtOTcsNiArOTcs
MTAgQEAgc3RhdGljIGludCBwc3BfdjEwXzBfaW5pdF9taWNyb2NvZGUoc3RydWN0IHBzcF9jb250
ZXh0ICpwc3ApDQo+ICANCj4gIAkJYWRldi0+cHNwLnRhX2Z3X3ZlcnNpb24gPSBsZTMyX3RvX2Nw
dSh0YV9oZHItPmhlYWRlci51Y29kZV92ZXJzaW9uKTsNCj4gIA0KPiArCQlhZGV2LT5wc3AudGFf
ZHRtX3Vjb2RlX3ZlcnNpb24gPSBsZTMyX3RvX2NwdSh0YV9oZHItPnRhX2R0bV91Y29kZV92ZXJz
aW9uKTsNCj4gKwkJYWRldi0+cHNwLnRhX2R0bV91Y29kZV9zaXplID0gbGUzMl90b19jcHUodGFf
aGRyLT50YV9kdG1fc2l6ZV9ieXRlcyk7DQo+ICsJCWFkZXYtPnBzcC50YV9kdG1fc3RhcnRfYWRk
ciA9ICh1aW50OF90ICopYWRldi0+cHNwLnRhX2hkY3Bfc3RhcnRfYWRkciArDQo+ICsJCQlsZTMy
X3RvX2NwdSh0YV9oZHItPnRhX2R0bV9vZmZzZXRfYnl0ZXMpOw0KPiAgCX0NCj4gIA0KPiAgCXJl
dHVybiAwOw0KPiANCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0
dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeA==
