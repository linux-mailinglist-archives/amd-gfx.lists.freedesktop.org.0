Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id D948B53C8E1
	for <lists+amd-gfx@lfdr.de>; Fri,  3 Jun 2022 12:43:38 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 5229A10FB6F;
	Fri,  3 Jun 2022 10:43:34 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM12-DM6-obe.outbound.protection.outlook.com
 (mail-dm6nam12on2040.outbound.protection.outlook.com [40.107.243.40])
 by gabe.freedesktop.org (Postfix) with ESMTPS id AFFA910FB6F
 for <amd-gfx@lists.freedesktop.org>; Fri,  3 Jun 2022 10:43:33 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=Sg1fTr3jDei1xGtyE7TyX2xbrO4QpzUuDe+cV1b8T8fi3axhsX41hF3VoGD1pIoUQnnXxX3tnBjcoLCjsjUDiFOTg8AUne1RbUcV6ygskxFoUrMpyFic2C3k3onayzwXRMRwF2alcixpfx0k9245ouDz1u8PHuIi1PaVYu/ER7ttK7TtCVf9SFV8TG5h3p39DukEYijjLJxrpYeZ+GxrUZlocM48y7KBfW4E9hpnm2+wcFR/T5wOny7izMp11bHPIckze5AkuWFuBIIPEfhNmqVsIrHK4JH/V+ABzoUxgG3UBQhC+88kTmhlG/Ov6VO/qHZhg9fFRCp4hHYE7zen6g==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=qaXNrOG0lc3KCeyvM/NBCmECHLoSJxhThp6+FDxamTQ=;
 b=Vh3lsUlpWCuYXbFs7wsa+g/rD17Dq+yscU9vhXZlED6XTqtHOvDlQ0u22i65XL40t2I4mS5qd9AGMLjTT6HdrTFg4/4JFBE8yr/aRIDbNaqenQVCur+FiLROkGa+m1WFoJHWeuMZDxUKsns0RXFREgLbGE6NLq3fsVenP1lLyHz3SXAAYsSd+23VPRJmW0WOVkQ6N4LDV61ppgz6JRSNjpb7wnkKuVT6EgjMJUqXBQF7C1TLHgUoTrQtyfl6vvgZAvXDsDOHa9vrBjIMxCQZHvjge7640TprRpqIlFI1XSMughuy2TCkYwczL90bGf+MzQqWkCAam7uGVnD0BFEGCQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=amd.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=qaXNrOG0lc3KCeyvM/NBCmECHLoSJxhThp6+FDxamTQ=;
 b=2+y9XJGkbOZfEJFR6RASECdnl1LaFtS3zJRXerKVEXtYsfPHUkapZj71xAQZW8SESx+XCx5FgOTn4dRCUZ42kcrGPDoR8mmkJyhdyQsKyrMfaASLBOd1tiQWDGs5pspm7Fk5eP2ReLZy2tdcLYlosC4re9jubKK148M3nOE6p/Y=
Received: from SN1PR12MB2575.namprd12.prod.outlook.com (2603:10b6:802:25::14)
 by BN6PR12MB1892.namprd12.prod.outlook.com (2603:10b6:404:108::10)
 with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.5314.12; Fri, 3 Jun
 2022 10:43:28 +0000
Received: from SN1PR12MB2575.namprd12.prod.outlook.com
 ([fe80::58d8:1b61:8bdb:2824]) by SN1PR12MB2575.namprd12.prod.outlook.com
 ([fe80::58d8:1b61:8bdb:2824%4]) with mapi id 15.20.5293.020; Fri, 3 Jun 2022
 10:43:28 +0000
From: "Errabolu, Ramesh" <Ramesh.Errabolu@amd.com>
To: "Kuehling, Felix" <Felix.Kuehling@amd.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH 3/3] drm/amdkfd: Extend KFD device topology to surface
 peer-to-peer links
Thread-Topic: [PATCH 3/3] drm/amdkfd: Extend KFD device topology to surface
 peer-to-peer links
Thread-Index: AQHYdRBPIAt6RX+VJ0G4CdOpcojpp606wluAgALAYvA=
Date: Fri, 3 Jun 2022 10:43:28 +0000
Message-ID: <SN1PR12MB2575ACF3A3CA054F63A1328EE3A19@SN1PR12MB2575.namprd12.prod.outlook.com>
References: <20220531170301.819284-1-Ramesh.Errabolu@amd.com>
 <990aa220-ba2b-417f-7e7a-85a7df4998b0@amd.com>
In-Reply-To: <990aa220-ba2b-417f-7e7a-85a7df4998b0@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
msip_labels: MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_Enabled=true;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_SetDate=2022-06-03T10:41:08Z; 
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_Method=Standard;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_Name=General;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_SiteId=3dd8961f-e488-4e60-8e11-a82d994e183d;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_ActionId=ee58eb39-b53c-4c7e-8d70-766050150793;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_ContentBits=1
msip_label_4342314e-0df4-4b58-84bf-38bed6170a0f_enabled: true
msip_label_4342314e-0df4-4b58-84bf-38bed6170a0f_setdate: 2022-06-03T10:43:25Z
msip_label_4342314e-0df4-4b58-84bf-38bed6170a0f_method: Standard
msip_label_4342314e-0df4-4b58-84bf-38bed6170a0f_name: General
msip_label_4342314e-0df4-4b58-84bf-38bed6170a0f_siteid: 3dd8961f-e488-4e60-8e11-a82d994e183d
msip_label_4342314e-0df4-4b58-84bf-38bed6170a0f_actionid: 18e37137-caab-42a2-8a50-2fcf91766bdc
msip_label_4342314e-0df4-4b58-84bf-38bed6170a0f_contentbits: 0
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=amd.com;
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 111a18f3-fe5d-4a3e-85b8-08da454de51e
x-ms-traffictypediagnostic: BN6PR12MB1892:EE_
x-microsoft-antispam-prvs: <BN6PR12MB18924E2340A5DB8A52B4AD30E3A19@BN6PR12MB1892.namprd12.prod.outlook.com>
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: c0iQS0jibZxgjZPSThYCUt5XBDicxfyK7oRCN/xnftgT7KESFFkm9NZ43smq3CkombGmNpFaEJ4OKJCcJyYq3rCBI4wQwyFBdtAyx1Zu4tHg28hZOH03M+AnT5vv9VbeunS6lhMtqK1MVepXM+9Tm6Dx4Y7KZ1Iw3b18qKnptjK1ZmBPYW82NMYeUwhxgrDJu+Cq0ASNkDnzWpt0NssKk1VGSGD0SUNxi2MJug42hfvzjspQDKr2ARGEdJCjEaxpSsoxJhjYjJp4cEcorkI6KRnOB0FzsRTVu+vnun9m3b21ka54FvEHM9+dJXyDOpIJZA2aBVbuURYkbXiVn6hqpEYe79mhGlujc3M/bGPzdNlaNthqk/VzNcs8T1dhJemOiH0OO7wqt2VGhRjzwoGydpXRmvueKlOIbaSdO+KIKq7rkGzobtcwYXd59OZK//W/PmB22nouqbrlC6b8GJf09eTUxRV8z8D7d6XENNcvbRnCA7jC0Ie8TnPZYVB0N4TE1NZYq7sV8IAd5P2+z+6c6Ngcu0Sz6TPyDLwpas94xHbKIz9ddiClB7tc3Mqjmur/OMvgIZsAfQxipeczg6EwXGju6oAVY+RStNuFz9+Iyq6W78uLvSSFLiSWbJdOCDRR7Qp3+CphEFuxvJoAdMODDBLAtdbRtUOeM0AiNrQnb2TbshwTNfhyT4r8kq29c3W92YKdZkq9AKW8FNCiBSl1TQ==
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:SN1PR12MB2575.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(13230001)(4636009)(366004)(66446008)(71200400001)(66946007)(55016003)(66476007)(66556008)(186003)(8676002)(316002)(38070700005)(30864003)(64756008)(110136005)(83380400001)(38100700002)(52536014)(2906002)(33656002)(26005)(76116006)(86362001)(8936002)(7696005)(6506007)(53546011)(9686003)(508600001)(5660300002)(122000001)(579004);
 DIR:OUT; SFP:1101; 
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?MGxNRWduQXBrTjFrejB1M1RFdDFYYTIzNG9LSTVRNTRVbFF6ZVB1Q2U1Tld0?=
 =?utf-8?B?SWtLUHBZdXFqeFEwWFJNa3gwWFpEbW9Wak9ZMFBPVWowOEhYWmRrbURtNlAw?=
 =?utf-8?B?cUR6TitTYk9raGlhVlloakFMeG4yNldqNTJITGYwRHcrSXlCS21sVThXUVhk?=
 =?utf-8?B?VGlDR3ZGdUhpR1NWdFdRRHdaa2xYWFNFTUdpUzBoTmVaTjNpK21rTkFUaEFW?=
 =?utf-8?B?ajZyUUg2MXVjK1A3bFozUy9UYVBUWTJ2Nk82bGVyWFBsaXR2bTZEUnE5a0N3?=
 =?utf-8?B?NG1kd01JbFhxLzUzVXdwY0czeWw2c1h3SC8xVnU3WnQ3VHlyNWc2WDZhY3lF?=
 =?utf-8?B?RkFpOW9PRUdXNHhuK3RIaWdDQnpzU2p6REpZdjAwcHZ4eGVVOFJzbWRJT1py?=
 =?utf-8?B?bG5zbW1mL1Rkd1d5V1VCTGpMT2NRUHlOcXE3ZFg4eUJMVjBaQ3lOb2V6bHU3?=
 =?utf-8?B?SnZkRjVPeVAvaVRVamo3YmpCUTBKME1ab0pleVdHRkVZSWdmSm1KdzhaczRq?=
 =?utf-8?B?VW02NFRnZnZuT2pkb2UxRFc0THpVYXZBMDMyRVlmMWdsZ0d3UC8rZldUeUVY?=
 =?utf-8?B?N0FtdU41Q1pNMk9MU1FMTjlJSU1vQTFMNWVnVnRqUGFnY0xNbldsd3VRZUVQ?=
 =?utf-8?B?UnZZSmhwWjBHUHZuOVlvaFY2cCt5ZVFZNkFiUEpXeEpDZkhncDZMWDdicDlt?=
 =?utf-8?B?ekJ4SkRublBNbEU5WkRzWVQxMEdXTllnYVBXamVHK2VWWVdMOEJOZ1FZWmRM?=
 =?utf-8?B?clNQTXZJZk5wQk9MeTdsWTdPb251WklYRDAxRjlrcHFSeHdqd29kc0daQVAy?=
 =?utf-8?B?cHVLUjZMNWF2cDY0S292MlNiY1lYL1hoRGVmQjVxZ2w3NWtRZVJwYkFQZkpq?=
 =?utf-8?B?WG1DcHlUSjEvSENWT2xWTnFoVjB0M3Z1bEpWbFBFNnBHZmIvSExjVys0Mkpl?=
 =?utf-8?B?MzZsaHFtSVpnVzNKc2VNWDN5Z1JaSkRHQUhraUxOMGNLNDNBZ2ladGtKZkg0?=
 =?utf-8?B?cFdscEg5TllYQ1NwWUw5L1pEOUZJL1Q3T0hiUEdrZ2J5WkRRUGdyRFVPNm5s?=
 =?utf-8?B?bmFuRFRpYmtEb3hkbkJmYnp6SklyQitBY1FwTTRGbjVKdDV6bzVMZ0Qrb1A5?=
 =?utf-8?B?QTl4dkpTL3B5Wno3SDJvVmdUS2VNN1JGMXhxWVkxb0VNTUlJdGcwem14WndB?=
 =?utf-8?B?TEdUQ1NsNEFxUHBSOGJFblkxVk5KdDJLUVVBWlQ2QXphSlkvNUtzbERvUzRw?=
 =?utf-8?B?OWN3eUxUUWlvZmwvVlV1UStYVDRzMTRPdEkrWndVemx3aGdOZ0w5MUU1RzVz?=
 =?utf-8?B?bU0wQUNSb2wrZnZHRUk1TlJEd2JJRUVDMm9jZURGdXY2UjRMWjlpUnFEVlVI?=
 =?utf-8?B?NFZwVjdFNkV2aUlwSXl4d3NLUTNORVhQNTRFZGpORzVBTzVxREpCZUFISCtn?=
 =?utf-8?B?clZxU3hrdzN3eWErbzhqckZIME52THA4b3kzeVh3eWFjTllvSWFiaXpmdmla?=
 =?utf-8?B?bDYweEp5S2p4OEtEcFV0NGc2bko5anJ3RGdSOXRSSlgyZ3ZGQUJPWmVnZ1lh?=
 =?utf-8?B?YWpwT2JseUFVTnV4WXFxVWIyRFVrVzdNbFhTN00xU2lSOVc3Q252Qkg0VWdN?=
 =?utf-8?B?WEd1WVhVbm1pcnJSMi9rcTA4dHZSMm9maXYwak9VSER6UCtnb0JJRlRNcC9q?=
 =?utf-8?B?SWlIeXAycE5XVE9VRkcvMTYyd3A2YksrUkozazlFU1QxM0NyYTlMM2JQSU1N?=
 =?utf-8?B?MnJmMGFIM2JsaitCdk1jcyt0RVViOWZpZUpWRURseG12VndLcVZnKzllcDdp?=
 =?utf-8?B?OFZ6MWJCSnZQdFpiTHhFYjJkWjdZZHBxVktLTm9QeldtYlJwbTFrWHBUTVBh?=
 =?utf-8?B?K3d2T1dTcWZLdE5QVmxDRDlrc1RIcVluT1N6cFFKMGlSakd3alh2L1E2NnQv?=
 =?utf-8?B?cENwQUxzNVgvMEtLL0lNSWFTd29VYURpQzRnODE2M1ZMM2JCaThNUkN2akh5?=
 =?utf-8?B?ZWFQT0IxYysvZFB2WUk1Um1WUDdTT2QrL05TTm1XOHE5Y3kyKytBOUJqTy9F?=
 =?utf-8?B?R3lpQmkyeVZUMzEyK1BRcE1ZTmNRSnFqc2VJejFLaFZXcm93dmVYUVJkeGxm?=
 =?utf-8?B?dlg3WUVVc0MzTStOaW5icUNYWjBXQjlEcWozUnowcHB0Nnl0SUUxL1p6K01N?=
 =?utf-8?B?b3ltempESWZZS3BwaDJjRlhwK1hPL1RzVHhsQm5Jbi9EZ3Y3cy9lSW4wZTBE?=
 =?utf-8?B?L05NMEpVT1VPUU53VGdSY0lhNGtpL0poUVZrblNSeGQyTEJpK3hOVE5CRTg2?=
 =?utf-8?B?cnhkSEtyMU5rQnhZL2dib211NktOVjZqdGJINlF5dHYrbkNaWFlHdz09?=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: SN1PR12MB2575.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 111a18f3-fe5d-4a3e-85b8-08da454de51e
X-MS-Exchange-CrossTenant-originalarrivaltime: 03 Jun 2022 10:43:28.4815 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: +/a9a+AxVHhyGCX1CRlASfakwX5smWg1TKXafGl6US2uikEeelvPCyNWnxNw26xnjZIX3nyDG9rCNk3eeN4jjA==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BN6PR12MB1892
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

W0FNRCBPZmZpY2lhbCBVc2UgT25seSAtIEdlbmVyYWxdDQoNCkFwcGxpZWQgcmV2aWV3IGNvbW1l
bnRzIGFuZCB1cGRhdGVkIGNvbW1pdCBtZXNzYWdlIGFzIHN1Z2dlc3RlZC4gU29tZSByZXNwb25z
ZXMgYXJlIGlubGluZS4NCg0KUmVnYXJkcywNClJhbWVzaA0KDQotLS0tLU9yaWdpbmFsIE1lc3Nh
Z2UtLS0tLQ0KRnJvbTogS3VlaGxpbmcsIEZlbGl4IDxGZWxpeC5LdWVobGluZ0BhbWQuY29tPiAN
ClNlbnQ6IFdlZG5lc2RheSwgSnVuZSAxLCAyMDIyIDEwOjEwIFBNDQpUbzogRXJyYWJvbHUsIFJh
bWVzaCA8UmFtZXNoLkVycmFib2x1QGFtZC5jb20+OyBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9w
Lm9yZw0KU3ViamVjdDogUmU6IFtQQVRDSCAzLzNdIGRybS9hbWRrZmQ6IEV4dGVuZCBLRkQgZGV2
aWNlIHRvcG9sb2d5IHRvIHN1cmZhY2UgcGVlci10by1wZWVyIGxpbmtzDQoNCkFtIDIwMjItMDUt
MzEgdW0gMTM6MDMgc2NocmllYiBSYW1lc2ggRXJyYWJvbHU6DQo+IEV4dGVuZCBLRkQgZGV2aWNl
IHRvcG9sb2d5IHRvIHN1cmZhY2UgcGVlci10by1wZWVyIGxpbmtzIGFtb25nIEdQVSANCj4gZGV2
aWNlcyBjb25uZWN0ZWQgb3ZlciBQQ0llIG9yIHhHTUkuIEVuYWJsaW5nIEhTQV9BTURfUDJQIGlz
IFJFUVVJUkVEIA0KPiB0byBzdXJmYWNlIHBlZXItdG8tcGVlciBsaW5rcy4NCg0KVGhpcyBwYXRj
aCBuZWVkcyBtb3JlIG9mIGFuIGV4cGxhbmF0aW9uLg0KDQpPbGQgdXBzdHJlYW0gS0ZEIGRpZCBu
b3QgZXhwb3NlIHRvIHVzZXIgbW9kZSBhbnkgUDJQIGxpbmtzIG9yIGluZGlyZWN0IGxpbmtzIHRo
YXQgZ28gb3ZlciB0d28gb3IgbW9yZSBkaXJlY3QgaG9wcy4gT2xkIHZlcnNpb25zIG9mIHRoZSBU
aHVuayB1c2VkIHRvIG1ha2UgdXAgdGhlaXIgb3duIFAyUCBhbmQgaW5kaXJlY3QgbGlua3Mgd2l0
aG91dCB0aGUgaW5mb3JtYXRpb24gYWJvdXQgcGVlci1hY2Nlc3NpYmlsaXR5IGFuZCBjaGlwc2V0
IHN1cHBvcnQgYXZhaWxhYmxlIHRvIHRoZSBrZXJuZWwgbW9kZSBkcml2ZXIuIEluIHRoaXMgcGF0
Y2ggd2UgZXhwb3NlIFAyUCBsaW5rcyBpbiBhIG5ldyBzeXNmcyBkaXJlY3RvcnkgdG8gcHJvdmlk
ZSBtb3JlIHJlbGlhYmxlIFAyUCBsaW5rIGluZm9ybWF0aW9uIHRvIHVzZXIgbW9kZS4NCg0KT2xk
IHZlcnNpb25zIG9mIHRoZSBUaHVuayB3aWxsIGNvbnRpbnVlIHRvIHdvcmsgYXMgYmVmb3JlIGFu
ZCBpZ25vcmUgdGhlIG5ldyBkaXJlY3RvcnkuIFRoaXMgYXZvaWRzIGNvbmZsaWN0cyBiZXR3ZWVu
IFAyUCBsaW5rcyBleHBvc2VkIGJ5IEtGRCBhbmQgUDJQIGxpbmtzIGNyZWF0ZWQgYnkgdGhlIFRo
dW5rIGl0c2VsZi4gTmV3IHZlcnNpb25zIG9mIHRoZSBUaHVuayB3aWxsIHVzZSBvbmx5IHRoZSBQ
MlAgbGlua3MgcHJvdmlkZWQgaW4gdGhlIG5ldyBwMnBfbGlua3MgZGlyZWN0b3J5LCBpZiBpdCBl
eGlzdHMsIG9yIGZhbGwgYmFjayB0byB0aGUgb2xkIGNvZGUgcGF0aCBvbiBvbGRlciBLRkRzIHRo
YXQgZG9uJ3QgZXhwb3NlIHAycF9saW5rcy4NCg0KU2VlIG1vcmUgY29tbWVudHMgaW5saW5lLg0K
DQoNCj4NCj4gU2lnbmVkLW9mZi1ieTogUmFtZXNoIEVycmFib2x1IDxSYW1lc2guRXJyYWJvbHVA
YW1kLmNvbT4NCj4gLS0tDQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX3RvcG9s
b2d5LmMgfCAzMzIgKysrKysrKysrKysrKysrKysrKysrLQ0KPiAgIGRyaXZlcnMvZ3B1L2RybS9h
bWQvYW1ka2ZkL2tmZF90b3BvbG9neS5oIHwgICAzICsNCj4gICAyIGZpbGVzIGNoYW5nZWQsIDMz
MyBpbnNlcnRpb25zKCspLCAyIGRlbGV0aW9ucygtKQ0KPg0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX3RvcG9sb2d5LmMgDQo+IGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRrZmQva2ZkX3RvcG9sb2d5LmMNCj4gaW5kZXggOGQ1MGQyMDdjZjY2Li42YmRjMjJk
NmY2YWIgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF90b3Bv
bG9neS5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF90b3BvbG9neS5j
DQo+IEBAIC00MCw2ICs0MCw3IEBADQo+ICAgI2luY2x1ZGUgImtmZF9zdm0uaCINCj4gICAjaW5j
bHVkZSAiYW1kZ3B1X2FtZGtmZC5oIg0KPiAgICNpbmNsdWRlICJhbWRncHVfcmFzLmgiDQo+ICsj
aW5jbHVkZSAiYW1kZ3B1LmgiDQo+ICAgDQo+ICAgLyogdG9wb2xvZ3lfZGV2aWNlX2xpc3QgLSBN
YXN0ZXIgbGlzdCBvZiBhbGwgdG9wb2xvZ3kgZGV2aWNlcyAqLw0KPiAgIHN0YXRpYyBzdHJ1Y3Qg
bGlzdF9oZWFkIHRvcG9sb2d5X2RldmljZV9saXN0OyBAQCAtMTQ4LDYgKzE0OSw3IEBAIA0KPiBz
dGF0aWMgdm9pZCBrZmRfcmVsZWFzZV90b3BvbG9neV9kZXZpY2Uoc3RydWN0IGtmZF90b3BvbG9n
eV9kZXZpY2UgKmRldikNCj4gICAJc3RydWN0IGtmZF9tZW1fcHJvcGVydGllcyAqbWVtOw0KPiAg
IAlzdHJ1Y3Qga2ZkX2NhY2hlX3Byb3BlcnRpZXMgKmNhY2hlOw0KPiAgIAlzdHJ1Y3Qga2ZkX2lv
bGlua19wcm9wZXJ0aWVzICppb2xpbms7DQo+ICsJc3RydWN0IGtmZF9pb2xpbmtfcHJvcGVydGll
cyAqcDJwbGluazsNCj4gICAJc3RydWN0IGtmZF9wZXJmX3Byb3BlcnRpZXMgKnBlcmY7DQo+ICAg
DQo+ICAgCWxpc3RfZGVsKCZkZXYtPmxpc3QpOw0KPiBAQCAtMTczLDYgKzE3NSwxMyBAQCBzdGF0
aWMgdm9pZCBrZmRfcmVsZWFzZV90b3BvbG9neV9kZXZpY2Uoc3RydWN0IGtmZF90b3BvbG9neV9k
ZXZpY2UgKmRldikNCj4gICAJCWtmcmVlKGlvbGluayk7DQo+ICAgCX0NCj4gICANCj4gKwl3aGls
ZSAoZGV2LT5wMnBfbGlua19wcm9wcy5uZXh0ICE9ICZkZXYtPnAycF9saW5rX3Byb3BzKSB7DQo+
ICsJCXAycGxpbmsgPSBjb250YWluZXJfb2YoZGV2LT5wMnBfbGlua19wcm9wcy5uZXh0LA0KPiAr
CQkJCXN0cnVjdCBrZmRfaW9saW5rX3Byb3BlcnRpZXMsIGxpc3QpOw0KPiArCQlsaXN0X2RlbCgm
cDJwbGluay0+bGlzdCk7DQo+ICsJCWtmcmVlKHAycGxpbmspOw0KPiArCX0NCj4gKw0KPiAgIAl3
aGlsZSAoZGV2LT5wZXJmX3Byb3BzLm5leHQgIT0gJmRldi0+cGVyZl9wcm9wcykgew0KPiAgIAkJ
cGVyZiA9IGNvbnRhaW5lcl9vZihkZXYtPnBlcmZfcHJvcHMubmV4dCwNCj4gICAJCQkJc3RydWN0
IGtmZF9wZXJmX3Byb3BlcnRpZXMsIGxpc3QpOyBAQCAtMjE0LDYgKzIyMyw3IEBAIHN0cnVjdCAN
Cj4ga2ZkX3RvcG9sb2d5X2RldmljZSAqa2ZkX2NyZWF0ZV90b3BvbG9neV9kZXZpY2UoDQo+ICAg
CUlOSVRfTElTVF9IRUFEKCZkZXYtPm1lbV9wcm9wcyk7DQo+ICAgCUlOSVRfTElTVF9IRUFEKCZk
ZXYtPmNhY2hlX3Byb3BzKTsNCj4gICAJSU5JVF9MSVNUX0hFQUQoJmRldi0+aW9fbGlua19wcm9w
cyk7DQo+ICsJSU5JVF9MSVNUX0hFQUQoJmRldi0+cDJwX2xpbmtfcHJvcHMpOw0KPiAgIAlJTklU
X0xJU1RfSEVBRCgmZGV2LT5wZXJmX3Byb3BzKTsNCj4gICANCj4gICAJbGlzdF9hZGRfdGFpbCgm
ZGV2LT5saXN0LCBkZXZpY2VfbGlzdCk7IEBAIC00NjUsNiArNDc1LDggQEAgc3RhdGljIA0KPiBz
c2l6ZV90IG5vZGVfc2hvdyhzdHJ1Y3Qga29iamVjdCAqa29iaiwgc3RydWN0IGF0dHJpYnV0ZSAq
YXR0ciwNCj4gICAJCQkgICAgICBkZXYtPm5vZGVfcHJvcHMuY2FjaGVzX2NvdW50KTsNCj4gICAJ
c3lzZnNfc2hvd18zMmJpdF9wcm9wKGJ1ZmZlciwgb2ZmcywgImlvX2xpbmtzX2NvdW50IiwNCj4g
ICAJCQkgICAgICBkZXYtPm5vZGVfcHJvcHMuaW9fbGlua3NfY291bnQpOw0KPiArCXN5c2ZzX3No
b3dfMzJiaXRfcHJvcChidWZmZXIsIG9mZnMsICJwMnBfbGlua3NfY291bnQiLA0KPiArCQkJICAg
ICAgZGV2LT5ub2RlX3Byb3BzLnAycF9saW5rc19jb3VudCk7DQo+ICAgCXN5c2ZzX3Nob3dfMzJi
aXRfcHJvcChidWZmZXIsIG9mZnMsICJjcHVfY29yZV9pZF9iYXNlIiwNCj4gICAJCQkgICAgICBk
ZXYtPm5vZGVfcHJvcHMuY3B1X2NvcmVfaWRfYmFzZSk7DQo+ICAgCXN5c2ZzX3Nob3dfMzJiaXRf
cHJvcChidWZmZXIsIG9mZnMsICJzaW1kX2lkX2Jhc2UiLCBAQCAtNTY4LDYgDQo+ICs1ODAsNyBA
QCBzdGF0aWMgdm9pZCBrZmRfcmVtb3ZlX3N5c2ZzX2ZpbGUoc3RydWN0IGtvYmplY3QgKmtvYmos
IA0KPiBzdHJ1Y3QgYXR0cmlidXRlICphdHRyKQ0KPiAgIA0KPiAgIHN0YXRpYyB2b2lkIGtmZF9y
ZW1vdmVfc3lzZnNfbm9kZV9lbnRyeShzdHJ1Y3Qga2ZkX3RvcG9sb2d5X2RldmljZSAqZGV2KQ0K
PiAgIHsNCj4gKwlzdHJ1Y3Qga2ZkX2lvbGlua19wcm9wZXJ0aWVzICpwMnBsaW5rOw0KPiAgIAlz
dHJ1Y3Qga2ZkX2lvbGlua19wcm9wZXJ0aWVzICppb2xpbms7DQo+ICAgCXN0cnVjdCBrZmRfY2Fj
aGVfcHJvcGVydGllcyAqY2FjaGU7DQo+ICAgCXN0cnVjdCBrZmRfbWVtX3Byb3BlcnRpZXMgKm1l
bTsNCj4gQEAgLTU4NSw2ICs1OTgsMTggQEAgc3RhdGljIHZvaWQga2ZkX3JlbW92ZV9zeXNmc19u
b2RlX2VudHJ5KHN0cnVjdCBrZmRfdG9wb2xvZ3lfZGV2aWNlICpkZXYpDQo+ICAgCQlkZXYtPmtv
YmpfaW9saW5rID0gTlVMTDsNCj4gICAJfQ0KPiAgIA0KPiArCWlmIChkZXYtPmtvYmpfcDJwbGlu
aykgew0KPiArCQlsaXN0X2Zvcl9lYWNoX2VudHJ5KHAycGxpbmssICZkZXYtPnAycF9saW5rX3By
b3BzLCBsaXN0KQ0KPiArCQkJaWYgKHAycGxpbmstPmtvYmopIHsNCj4gKwkJCQlrZmRfcmVtb3Zl
X3N5c2ZzX2ZpbGUocDJwbGluay0+a29iaiwNCj4gKwkJCQkJCQkmcDJwbGluay0+YXR0cik7DQo+
ICsJCQkJcDJwbGluay0+a29iaiA9IE5VTEw7DQo+ICsJCQl9DQo+ICsJCWtvYmplY3RfZGVsKGRl
di0+a29ial9wMnBsaW5rKTsNCj4gKwkJa29iamVjdF9wdXQoZGV2LT5rb2JqX3AycGxpbmspOw0K
PiArCQlkZXYtPmtvYmpfcDJwbGluayA9IE5VTEw7DQo+ICsJfQ0KPiArDQo+ICAgCWlmIChkZXYt
PmtvYmpfY2FjaGUpIHsNCj4gICAJCWxpc3RfZm9yX2VhY2hfZW50cnkoY2FjaGUsICZkZXYtPmNh
Y2hlX3Byb3BzLCBsaXN0KQ0KPiAgIAkJCWlmIChjYWNoZS0+a29iaikgew0KPiBAQCAtNjMxLDYg
KzY1Niw3IEBAIHN0YXRpYyB2b2lkIGtmZF9yZW1vdmVfc3lzZnNfbm9kZV9lbnRyeShzdHJ1Y3Qg
a2ZkX3RvcG9sb2d5X2RldmljZSAqZGV2KQ0KPiAgIHN0YXRpYyBpbnQga2ZkX2J1aWxkX3N5c2Zz
X25vZGVfZW50cnkoc3RydWN0IGtmZF90b3BvbG9neV9kZXZpY2UgKmRldiwNCj4gICAJCXVpbnQz
Ml90IGlkKQ0KPiAgIHsNCj4gKwlzdHJ1Y3Qga2ZkX2lvbGlua19wcm9wZXJ0aWVzICpwMnBsaW5r
Ow0KPiAgIAlzdHJ1Y3Qga2ZkX2lvbGlua19wcm9wZXJ0aWVzICppb2xpbms7DQo+ICAgCXN0cnVj
dCBrZmRfY2FjaGVfcHJvcGVydGllcyAqY2FjaGU7DQo+ICAgCXN0cnVjdCBrZmRfbWVtX3Byb3Bl
cnRpZXMgKm1lbTsNCj4gQEAgLTY2OCw2ICs2OTQsMTAgQEAgc3RhdGljIGludCBrZmRfYnVpbGRf
c3lzZnNfbm9kZV9lbnRyeShzdHJ1Y3Qga2ZkX3RvcG9sb2d5X2RldmljZSAqZGV2LA0KPiAgIAlp
ZiAoIWRldi0+a29ial9pb2xpbmspDQo+ICAgCQlyZXR1cm4gLUVOT01FTTsNCj4gICANCj4gKwlk
ZXYtPmtvYmpfcDJwbGluayA9IGtvYmplY3RfY3JlYXRlX2FuZF9hZGQoInAycF9saW5rcyIsIGRl
di0+a29ial9ub2RlKTsNCj4gKwlpZiAoIWRldi0+a29ial9wMnBsaW5rKQ0KPiArCQlyZXR1cm4g
LUVOT01FTTsNCj4gKw0KPiAgIAlkZXYtPmtvYmpfcGVyZiA9IGtvYmplY3RfY3JlYXRlX2FuZF9h
ZGQoInBlcmYiLCBkZXYtPmtvYmpfbm9kZSk7DQo+ICAgCWlmICghZGV2LT5rb2JqX3BlcmYpDQo+
ICAgCQlyZXR1cm4gLUVOT01FTTsNCj4gQEAgLTc1Nyw2ICs3ODcsMjcgQEAgc3RhdGljIGludCBr
ZmRfYnVpbGRfc3lzZnNfbm9kZV9lbnRyeShzdHJ1Y3Qga2ZkX3RvcG9sb2d5X2RldmljZSAqZGV2
LA0KPiAgIAkJaSsrOw0KPiAgIAl9DQo+ICAgDQo+ICsJaSA9IDA7DQo+ICsJbGlzdF9mb3JfZWFj
aF9lbnRyeShwMnBsaW5rLCAmZGV2LT5wMnBfbGlua19wcm9wcywgbGlzdCkgew0KPiArCQlwMnBs
aW5rLT5rb2JqID0ga3phbGxvYyhzaXplb2Yoc3RydWN0IGtvYmplY3QpLCBHRlBfS0VSTkVMKTsN
Cj4gKwkJaWYgKCFwMnBsaW5rLT5rb2JqKQ0KPiArCQkJcmV0dXJuIC1FTk9NRU07DQo+ICsJCXJl
dCA9IGtvYmplY3RfaW5pdF9hbmRfYWRkKHAycGxpbmstPmtvYmosICZpb2xpbmtfdHlwZSwNCj4g
KwkJCQlkZXYtPmtvYmpfcDJwbGluaywgIiVkIiwgaSk7DQo+ICsJCWlmIChyZXQgPCAwKSB7DQo+
ICsJCQlrb2JqZWN0X3B1dChwMnBsaW5rLT5rb2JqKTsNCj4gKwkJCXJldHVybiByZXQ7DQo+ICsJ
CX0NCj4gKw0KPiArCQlwMnBsaW5rLT5hdHRyLm5hbWUgPSAicHJvcGVydGllcyI7DQo+ICsJCXAy
cGxpbmstPmF0dHIubW9kZSA9IEtGRF9TWVNGU19GSUxFX01PREU7DQo+ICsJCXN5c2ZzX2F0dHJf
aW5pdCgmaW9saW5rLT5hdHRyKTsNCj4gKwkJcmV0ID0gc3lzZnNfY3JlYXRlX2ZpbGUocDJwbGlu
ay0+a29iaiwgJnAycGxpbmstPmF0dHIpOw0KPiArCQlpZiAocmV0IDwgMCkNCj4gKwkJCXJldHVy
biByZXQ7DQo+ICsJCWkrKzsNCj4gKwl9DQo+ICsNCj4gICAJLyogQWxsIGhhcmR3YXJlIGJsb2Nr
cyBoYXZlIHRoZSBzYW1lIG51bWJlciBvZiBhdHRyaWJ1dGVzLiAqLw0KPiAgIAludW1fYXR0cnMg
PSBBUlJBWV9TSVpFKHBlcmZfYXR0cl9pb21tdSk7DQo+ICAgCWxpc3RfZm9yX2VhY2hfZW50cnko
cGVyZiwgJmRldi0+cGVyZl9wcm9wcywgbGlzdCkgeyBAQCAtMTE0NSw2IA0KPiArMTE5Niw3IEBA
IHN0YXRpYyBzdHJ1Y3Qga2ZkX3RvcG9sb2d5X2RldmljZSAqa2ZkX2Fzc2lnbl9ncHUoc3RydWN0
IGtmZF9kZXYgKmdwdSkNCj4gICAJc3RydWN0IGtmZF9tZW1fcHJvcGVydGllcyAqbWVtOw0KPiAg
IAlzdHJ1Y3Qga2ZkX2NhY2hlX3Byb3BlcnRpZXMgKmNhY2hlOw0KPiAgIAlzdHJ1Y3Qga2ZkX2lv
bGlua19wcm9wZXJ0aWVzICppb2xpbms7DQo+ICsJc3RydWN0IGtmZF9pb2xpbmtfcHJvcGVydGll
cyAqcDJwbGluazsNCj4gICANCj4gICAJZG93bl93cml0ZSgmdG9wb2xvZ3lfbG9jayk7DQo+ICAg
CWxpc3RfZm9yX2VhY2hfZW50cnkoZGV2LCAmdG9wb2xvZ3lfZGV2aWNlX2xpc3QsIGxpc3QpIHsg
QEAgLTExNjUsNiANCj4gKzEyMTcsOCBAQCBzdGF0aWMgc3RydWN0IGtmZF90b3BvbG9neV9kZXZp
Y2UgKmtmZF9hc3NpZ25fZ3B1KHN0cnVjdCBrZmRfZGV2ICpncHUpDQo+ICAgCQkJCWNhY2hlLT5n
cHUgPSBkZXYtPmdwdTsNCj4gICAJCQlsaXN0X2Zvcl9lYWNoX2VudHJ5KGlvbGluaywgJmRldi0+
aW9fbGlua19wcm9wcywgbGlzdCkNCj4gICAJCQkJaW9saW5rLT5ncHUgPSBkZXYtPmdwdTsNCj4g
KwkJCWxpc3RfZm9yX2VhY2hfZW50cnkocDJwbGluaywgJmRldi0+cDJwX2xpbmtfcHJvcHMsIGxp
c3QpDQo+ICsJCQkJcDJwbGluay0+Z3B1ID0gZGV2LT5ncHU7DQo+ICAgCQkJYnJlYWs7DQo+ICAg
CQl9DQo+ICAgCX0NCj4gQEAgLTEyODcsNiArMTM0MSwyNDggQEAgc3RhdGljIHZvaWQga2ZkX2Zp
bGxfaW9saW5rX25vbl9jcmF0X2luZm8oc3RydWN0IGtmZF90b3BvbG9neV9kZXZpY2UgKmRldikN
Cj4gICAJCQlrZmRfc2V0X2lvbGlua19ub25fY29oZXJlbnQocGVlcl9kZXYsIGxpbmssIGluYm91
bmRfbGluayk7DQo+ICAgCQl9DQo+ICAgCX0NCj4gKw0KPiArCS8qIENyZWF0ZSBpbmRpcmVjdCBs
aW5rcyBzbyBhcHBseSBmbGFncyBzZXR0aW5nIHRvIGFsbCAqLw0KPiArCWxpc3RfZm9yX2VhY2hf
ZW50cnkobGluaywgJmRldi0+cDJwX2xpbmtfcHJvcHMsIGxpc3QpIHsNCj4gKwkJbGluay0+Zmxh
Z3MgPSBDUkFUX0lPTElOS19GTEFHU19FTkFCTEVEOw0KPiArCQlrZmRfc2V0X2lvbGlua19ub19h
dG9taWNzKGRldiwgTlVMTCwgbGluayk7DQo+ICsJCXBlZXJfZGV2ID0ga2ZkX3RvcG9sb2d5X2Rl
dmljZV9ieV9wcm94aW1pdHlfZG9tYWluKA0KPiArCQkJCWxpbmstPm5vZGVfdG8pOw0KPiArDQo+
ICsJCWlmICghcGVlcl9kZXYpDQo+ICsJCQljb250aW51ZTsNCj4gKw0KPiArCQlsaXN0X2Zvcl9l
YWNoX2VudHJ5KGluYm91bmRfbGluaywgJnBlZXJfZGV2LT5wMnBfbGlua19wcm9wcywNCj4gKwkJ
CQkJCQkJCWxpc3QpIHsNCj4gKwkJCWlmIChpbmJvdW5kX2xpbmstPm5vZGVfdG8gIT0gbGluay0+
bm9kZV9mcm9tKQ0KPiArCQkJCWNvbnRpbnVlOw0KPiArDQo+ICsJCQlpbmJvdW5kX2xpbmstPmZs
YWdzID0gQ1JBVF9JT0xJTktfRkxBR1NfRU5BQkxFRDsNCj4gKwkJCWtmZF9zZXRfaW9saW5rX25v
X2F0b21pY3MocGVlcl9kZXYsIGRldiwgaW5ib3VuZF9saW5rKTsNCj4gKwkJCWtmZF9zZXRfaW9s
aW5rX25vbl9jb2hlcmVudChwZWVyX2RldiwgbGluaywgaW5ib3VuZF9saW5rKTsNCj4gKwkJfQ0K
PiArCX0NCj4gK30NCj4gKw0KPiArc3RhdGljIGludCBrZmRfYnVpbGRfcDJwX25vZGVfZW50cnko
c3RydWN0IGtmZF90b3BvbG9neV9kZXZpY2UgKmRldiwNCj4gKwkJCQlzdHJ1Y3Qga2ZkX2lvbGlu
a19wcm9wZXJ0aWVzICpwMnBsaW5rKSB7DQo+ICsJaW50IHJldDsNCj4gKw0KPiArCXAycGxpbmst
PmtvYmogPSBremFsbG9jKHNpemVvZihzdHJ1Y3Qga29iamVjdCksIEdGUF9LRVJORUwpOw0KPiAr
CWlmICghcDJwbGluay0+a29iaikNCj4gKwkJcmV0dXJuIC1FTk9NRU07DQo+ICsNCj4gKwlyZXQg
PSBrb2JqZWN0X2luaXRfYW5kX2FkZChwMnBsaW5rLT5rb2JqLCAmaW9saW5rX3R5cGUsDQo+ICsJ
CQlkZXYtPmtvYmpfcDJwbGluaywgIiVkIiwgZGV2LT5ub2RlX3Byb3BzLnAycF9saW5rc19jb3Vu
dCAtIDEpOw0KPiArCWlmIChyZXQgPCAwKSB7DQo+ICsJCWtvYmplY3RfcHV0KHAycGxpbmstPmtv
YmopOw0KPiArCQlyZXR1cm4gcmV0Ow0KPiArCX0NCj4gKw0KPiArCXAycGxpbmstPmF0dHIubmFt
ZSA9ICJwcm9wZXJ0aWVzIjsNCj4gKwlwMnBsaW5rLT5hdHRyLm1vZGUgPSBLRkRfU1lTRlNfRklM
RV9NT0RFOw0KPiArCXN5c2ZzX2F0dHJfaW5pdCgmcDJwbGluay0+YXR0cik7DQo+ICsJcmV0ID0g
c3lzZnNfY3JlYXRlX2ZpbGUocDJwbGluay0+a29iaiwgJnAycGxpbmstPmF0dHIpOw0KPiArCWlm
IChyZXQgPCAwKQ0KPiArCQlyZXR1cm4gcmV0Ow0KPiArDQo+ICsJcmV0dXJuIDA7DQo+ICt9DQo+
ICsNCj4gK3N0YXRpYyBpbnQga2ZkX2NyZWF0ZV9pbl9kaXJlY3RfbGlua19wcm9wKHN0cnVjdCBr
ZmRfdG9wb2xvZ3lfZGV2aWNlIA0KPiArKmtkZXYsIGludCBncHVfbm9kZSkgew0KPiArCXN0cnVj
dCBrZmRfaW9saW5rX3Byb3BlcnRpZXMgKnByb3BzID0gTlVMTCwgKnByb3BzMiA9IE5VTEw7DQo+
ICsJc3RydWN0IGtmZF9pb2xpbmtfcHJvcGVydGllcyAqZ3B1X2xpbmssICpjcHVfbGluazsNCj4g
KwlzdHJ1Y3Qga2ZkX3RvcG9sb2d5X2RldmljZSAqY3B1X2RldjsNCj4gKwlpbnQgcmV0ID0gMDsN
Cj4gKwlpbnQgaSwgbnVtX2NwdTsNCj4gKw0KPiArCW51bV9jcHUgPSAwOw0KPiArCWxpc3RfZm9y
X2VhY2hfZW50cnkoY3B1X2RldiwgJnRvcG9sb2d5X2RldmljZV9saXN0LCBsaXN0KSB7DQo+ICsJ
CWlmIChjcHVfZGV2LT5ncHUpDQo+ICsJCQlicmVhazsNCj4gKwkJbnVtX2NwdSsrOw0KPiArCX0N
Cj4gKw0KPiArCWdwdV9saW5rID0gbGlzdF9maXJzdF9lbnRyeSgma2Rldi0+aW9fbGlua19wcm9w
cywNCj4gKwkJCQkJc3RydWN0IGtmZF9pb2xpbmtfcHJvcGVydGllcywgbGlzdCk7DQo+ICsJaWYg
KCFncHVfbGluaykNCj4gKwkJcmV0dXJuIC1FTk9NRU07DQo+ICsNCj4gKwlmb3IgKGkgPSAwOyBp
IDwgbnVtX2NwdTsgaSsrKSB7DQo+ICsJCS8qIENQVSA8LS0+IEdQVSAqLw0KPiArCQlpZiAoZ3B1
X2xpbmstPm5vZGVfdG8gPT0gaSkNCj4gKwkJCWNvbnRpbnVlOw0KPiArDQo+ICsJCS8qIGZpbmQg
Q1BVIDwtLT4gIENQVSBsaW5rcyAqLw0KPiArCQljcHVfZGV2ID0ga2ZkX3RvcG9sb2d5X2Rldmlj
ZV9ieV9wcm94aW1pdHlfZG9tYWluKGkpOw0KPiArCQlpZiAoY3B1X2Rldikgew0KPiArCQkJbGlz
dF9mb3JfZWFjaF9lbnRyeShjcHVfbGluaywNCj4gKwkJCQkJJmNwdV9kZXYtPmlvX2xpbmtfcHJv
cHMsIGxpc3QpIHsNCj4gKwkJCQlpZiAoY3B1X2xpbmstPm5vZGVfdG8gPT0gZ3B1X2xpbmstPm5v
ZGVfdG8pDQo+ICsJCQkJCWJyZWFrOw0KPiArCQkJfQ0KPiArCQl9DQo+ICsNCj4gKwkJaWYgKGNw
dV9saW5rLT5ub2RlX3RvICE9IGdwdV9saW5rLT5ub2RlX3RvKQ0KPiArCQkJcmV0dXJuIC1FTk9N
RU07DQo+ICsNCj4gKwkJLyogQ1BVIDwtLT4gQ1BVIDwtLT4gR1BVLCBHUFUgbm9kZSovDQo+ICsJ
CXByb3BzID0ga2ZkX2FsbG9jX3N0cnVjdChwcm9wcyk7DQo+ICsJCWlmICghcHJvcHMpDQo+ICsJ
CQlyZXR1cm4gLUVOT01FTTsNCj4gKw0KPiArCQltZW1jcHkocHJvcHMsIGdwdV9saW5rLCBzaXpl
b2Yoc3RydWN0IGtmZF9pb2xpbmtfcHJvcGVydGllcykpOw0KPiArCQlwcm9wcy0+d2VpZ2h0ID0g
Z3B1X2xpbmstPndlaWdodCArIGNwdV9saW5rLT53ZWlnaHQ7DQo+ICsJCXByb3BzLT5taW5fbGF0
ZW5jeSA9IGdwdV9saW5rLT5taW5fbGF0ZW5jeSArIGNwdV9saW5rLT5taW5fbGF0ZW5jeTsNCj4g
KwkJcHJvcHMtPm1heF9sYXRlbmN5ID0gZ3B1X2xpbmstPm1heF9sYXRlbmN5ICsgY3B1X2xpbmst
Pm1heF9sYXRlbmN5Ow0KPiArCQlwcm9wcy0+bWluX2JhbmR3aWR0aCA9IG1pbihncHVfbGluay0+
bWluX2JhbmR3aWR0aCwgY3B1X2xpbmstPm1pbl9iYW5kd2lkdGgpOw0KPiArCQlwcm9wcy0+bWF4
X2JhbmR3aWR0aCA9IG1pbihncHVfbGluay0+bWF4X2JhbmR3aWR0aCwgDQo+ICtjcHVfbGluay0+
bWF4X2JhbmR3aWR0aCk7DQo+ICsNCj4gKwkJcHJvcHMtPm5vZGVfZnJvbSA9IGdwdV9ub2RlOw0K
PiArCQlwcm9wcy0+bm9kZV90byA9IGk7DQo+ICsJCWtkZXYtPm5vZGVfcHJvcHMucDJwX2xpbmtz
X2NvdW50Kys7DQo+ICsJCWxpc3RfYWRkX3RhaWwoJnByb3BzLT5saXN0LCAma2Rldi0+cDJwX2xp
bmtfcHJvcHMpOw0KPiArCQlyZXQgPSBrZmRfYnVpbGRfcDJwX25vZGVfZW50cnkoa2RldiwgcHJv
cHMpOw0KPiArCQlpZiAocmV0IDwgMCkNCj4gKwkJCXJldHVybiByZXQ7DQo+ICsNCj4gKwkJLyog
Zm9yIHNtYWxsIEJhciwgbm8gQ1BVIC0tPiBHUFUgaW4tZGlyZWN0IGxpbmtzICovDQo+ICsJCWlm
IChrZmRfZGV2X2lzX2xhcmdlX2JhcihrZGV2LT5ncHUpKSB7DQo+ICsJCQkvKiBDUFUgPC0tPiBD
UFUgPC0tPiBHUFUsIENQVSBub2RlKi8NCj4gKwkJCXByb3BzMiA9IGtmZF9hbGxvY19zdHJ1Y3Qo
cHJvcHMyKTsNCj4gKwkJCWlmICghcHJvcHMyKQ0KPiArCQkJCXJldHVybiAtRU5PTUVNOw0KPiAr
DQo+ICsJCQltZW1jcHkocHJvcHMyLCBwcm9wcywgc2l6ZW9mKHN0cnVjdCBrZmRfaW9saW5rX3By
b3BlcnRpZXMpKTsNCj4gKwkJCXByb3BzMi0+bm9kZV9mcm9tID0gaTsNCj4gKwkJCXByb3BzMi0+
bm9kZV90byA9IGdwdV9ub2RlOw0KPiArCQkJcHJvcHMyLT5rb2JqID0gTlVMTDsNCj4gKwkJCWNw
dV9kZXYtPm5vZGVfcHJvcHMucDJwX2xpbmtzX2NvdW50Kys7DQo+ICsJCQlsaXN0X2FkZF90YWls
KCZwcm9wczItPmxpc3QsICZjcHVfZGV2LT5wMnBfbGlua19wcm9wcyk7DQo+ICsJCQlyZXQgPSBr
ZmRfYnVpbGRfcDJwX25vZGVfZW50cnkoY3B1X2RldiwgcHJvcHMyKTsNCj4gKwkJCWlmIChyZXQg
PCAwKQ0KPiArCQkJCXJldHVybiByZXQ7DQo+ICsJCX0NCj4gKwl9DQo+ICsJcmV0dXJuIHJldDsN
Cj4gK30NCj4gKw0KPiArc3RhdGljIGludCBrZmRfYWRkX3BlZXJfcHJvcChzdHJ1Y3Qga2ZkX3Rv
cG9sb2d5X2RldmljZSAqa2RldiwNCj4gKwkJc3RydWN0IGtmZF90b3BvbG9neV9kZXZpY2UgKnBl
ZXIsIGludCBmcm9tLCBpbnQgdG8pDQoNCklmIFAyUCBpcyBub3QgZW5hYmxlZCwgdGhlIGNvbXBp
bGVyIHdpbGwgZ2l2ZSANCnlvdSBhIHdhcm5pbmcgaGVyZSBhYm91dCBhbiB1bnVzZWQgc3RhdGlj
IGZ1bmN0aW9uLiBUaGlzIHdob2xlIGZ1bmN0aW9uIHNob3VsZCBiZSBndWFyZGVkIGJ5IGFuICNp
ZmRlZi4NCg0KUmFtZXNoOiBEb25lLCB3cmFwcGVkIHRoZSBtZXRob2Qgd2l0aCBpZmRlZiBtYWNy
bw0KDQo+ICt7DQo+ICsJc3RydWN0IGtmZF9pb2xpbmtfcHJvcGVydGllcyAqcHJvcHMgPSBOVUxM
Ow0KPiArCXN0cnVjdCBrZmRfaW9saW5rX3Byb3BlcnRpZXMgKmlvbGluazEsICppb2xpbmsyLCAq
aW9saW5rMzsNCj4gKwlzdHJ1Y3Qga2ZkX3RvcG9sb2d5X2RldmljZSAqY3B1X2RldjsNCj4gKwlp
bnQgcmV0ID0gMDsNCj4gKw0KPiArCWlmICghYW1kZ3B1X2RldmljZV9pc19wZWVyX2FjY2Vzc2li
bGUoDQo+ICsJCQkJa2Rldi0+Z3B1LT5hZGV2LA0KPiArCQkJCXBlZXItPmdwdS0+YWRldikpDQo+
ICsJCXJldHVybiByZXQ7DQo+ICsNCj4gKwlpb2xpbmsxID0gbGlzdF9maXJzdF9lbnRyeSgma2Rl
di0+aW9fbGlua19wcm9wcywNCj4gKwkJCQkJCQlzdHJ1Y3Qga2ZkX2lvbGlua19wcm9wZXJ0aWVz
LCBsaXN0KTsNCj4gKwlpZiAoIWlvbGluazEpDQo+ICsJCXJldHVybiAtRU5PTUVNOw0KPiArDQo+
ICsJaW9saW5rMiA9IGxpc3RfZmlyc3RfZW50cnkoJnBlZXItPmlvX2xpbmtfcHJvcHMsDQo+ICsJ
CQkJCQkJc3RydWN0IGtmZF9pb2xpbmtfcHJvcGVydGllcywgbGlzdCk7DQo+ICsJaWYgKCFpb2xp
bmsyKQ0KPiArCQlyZXR1cm4gLUVOT01FTTsNCj4gKw0KPiArCXByb3BzID0ga2ZkX2FsbG9jX3N0
cnVjdChwcm9wcyk7DQo+ICsJaWYgKCFwcm9wcykNCj4gKwkJcmV0dXJuIC1FTk9NRU07DQo+ICsN
Cj4gKwltZW1jcHkocHJvcHMsIGlvbGluazEsIHNpemVvZihzdHJ1Y3Qga2ZkX2lvbGlua19wcm9w
ZXJ0aWVzKSk7DQo+ICsNCj4gKwlwcm9wcy0+d2VpZ2h0ID0gaW9saW5rMS0+d2VpZ2h0ICsgaW9s
aW5rMi0+d2VpZ2h0Ow0KPiArCXByb3BzLT5taW5fbGF0ZW5jeSA9IGlvbGluazEtPm1pbl9sYXRl
bmN5ICsgaW9saW5rMi0+bWluX2xhdGVuY3k7DQo+ICsJcHJvcHMtPm1heF9sYXRlbmN5ID0gaW9s
aW5rMS0+bWF4X2xhdGVuY3kgKyBpb2xpbmsyLT5tYXhfbGF0ZW5jeTsNCj4gKwlwcm9wcy0+bWlu
X2JhbmR3aWR0aCA9IG1pbihpb2xpbmsxLT5taW5fYmFuZHdpZHRoLCBpb2xpbmsyLT5taW5fYmFu
ZHdpZHRoKTsNCj4gKwlwcm9wcy0+bWF4X2JhbmR3aWR0aCA9IG1pbihpb2xpbmsyLT5tYXhfYmFu
ZHdpZHRoLCANCj4gK2lvbGluazItPm1heF9iYW5kd2lkdGgpOw0KPiArDQo+ICsJaWYgKGlvbGlu
azEtPm5vZGVfdG8gIT0gaW9saW5rMi0+bm9kZV90bykgew0KPiArCQkvKiBDUFUtPkNQVSAgbGlu
ayovDQo+ICsJCWNwdV9kZXYgPSBrZmRfdG9wb2xvZ3lfZGV2aWNlX2J5X3Byb3hpbWl0eV9kb21h
aW4oaW9saW5rMS0+bm9kZV90byk7DQo+ICsJCWlmIChjcHVfZGV2KSB7DQo+ICsJCQlsaXN0X2Zv
cl9lYWNoX2VudHJ5KGlvbGluazMsICZjcHVfZGV2LT5pb19saW5rX3Byb3BzLCBsaXN0KQ0KPiAr
CQkJCWlmIChpb2xpbmszLT5ub2RlX3RvID09IGlvbGluazItPm5vZGVfdG8pDQo+ICsJCQkJCWJy
ZWFrOw0KPiArDQo+ICsJCQlwcm9wcy0+d2VpZ2h0ICs9IGlvbGluazMtPndlaWdodDsNCj4gKwkJ
CXByb3BzLT5taW5fbGF0ZW5jeSArPSBpb2xpbmszLT5taW5fbGF0ZW5jeTsNCj4gKwkJCXByb3Bz
LT5tYXhfbGF0ZW5jeSArPSBpb2xpbmszLT5tYXhfbGF0ZW5jeTsNCj4gKwkJCXByb3BzLT5taW5f
YmFuZHdpZHRoID0gbWluKHByb3BzLT5taW5fYmFuZHdpZHRoLA0KPiArCQkJCQkJCWlvbGluazMt
Pm1pbl9iYW5kd2lkdGgpOw0KPiArCQkJcHJvcHMtPm1heF9iYW5kd2lkdGggPSBtaW4ocHJvcHMt
Pm1heF9iYW5kd2lkdGgsDQo+ICsJCQkJCQkJaW9saW5rMy0+bWF4X2JhbmR3aWR0aCk7DQo+ICsJ
CX0gZWxzZSB7DQo+ICsJCQlXQVJOKDEsICJDUFUgbm9kZSBub3QgZm91bmQiKTsNCj4gKwkJfQ0K
PiArCX0NCj4gKw0KPiArCXByb3BzLT5ub2RlX2Zyb20gPSBmcm9tOw0KPiArCXByb3BzLT5ub2Rl
X3RvID0gdG87DQo+ICsJcGVlci0+bm9kZV9wcm9wcy5wMnBfbGlua3NfY291bnQrKzsNCj4gKwls
aXN0X2FkZF90YWlsKCZwcm9wcy0+bGlzdCwgJnBlZXItPnAycF9saW5rX3Byb3BzKTsNCj4gKwly
ZXQgPSBrZmRfYnVpbGRfcDJwX25vZGVfZW50cnkocGVlciwgcHJvcHMpOw0KPiArDQo+ICsJcmV0
dXJuIHJldDsNCj4gK30NCj4gKw0KPiArc3RhdGljIGludCBrZmRfZGV2X2NyZWF0ZV9wMnBfbGlu
a3Modm9pZCkgew0KPiArCXN0cnVjdCBrZmRfdG9wb2xvZ3lfZGV2aWNlICpkZXY7DQo+ICsJc3Ry
dWN0IGtmZF90b3BvbG9neV9kZXZpY2UgKm5ld19kZXY7DQo+ICsJdWludDMyX3QgaSwgazsNCj4g
KwlpbnQgcmV0ID0gMDsNCj4gKw0KPiArCWsgPSAwOw0KPiArCWxpc3RfZm9yX2VhY2hfZW50cnko
ZGV2LCAmdG9wb2xvZ3lfZGV2aWNlX2xpc3QsIGxpc3QpDQo+ICsJCWsrKzsNCj4gKwlpZiAoayA8
IDIpDQo+ICsJCXJldHVybiAwOw0KPiArDQo+ICsJbmV3X2RldiA9IGxpc3RfbGFzdF9lbnRyeSgm
dG9wb2xvZ3lfZGV2aWNlX2xpc3QsIHN0cnVjdCBrZmRfdG9wb2xvZ3lfZGV2aWNlLCBsaXN0KTsN
Cj4gKwlpZiAoV0FSTl9PTighbmV3X2Rldi0+Z3B1KSkNCj4gKwkJcmV0dXJuIDA7DQo+ICsNCj4g
KwlrLS07DQo+ICsJaSA9IDA7DQo+ICsNCj4gKwkvKiBjcmVhdGUgaW4tZGlyZWN0IGxpbmtzICov
DQo+ICsJcmV0ID0ga2ZkX2NyZWF0ZV9pbl9kaXJlY3RfbGlua19wcm9wKG5ld19kZXYsIGspOw0K
PiArCWlmIChyZXQgPCAwKQ0KPiArCQlnb3RvIG91dDsNCj4gKw0KPiArCS8qIGNyZWF0ZSBwMnAg
bGlua3MgKi8NCj4gKyNpZiBkZWZpbmVkKENPTkZJR19IU0FfQU1EX1AyUCkNCj4gKwlsaXN0X2Zv
cl9lYWNoX2VudHJ5KGRldiwgJnRvcG9sb2d5X2RldmljZV9saXN0LCBsaXN0KSB7DQo+ICsJCWlm
IChkZXYgPT0gbmV3X2RldikNCj4gKwkJCWJyZWFrOw0KPiArCQlpZiAoIWRldi0+Z3B1IHx8ICFk
ZXYtPmdwdS0+YWRldiB8fA0KPiArCQkgICAgKGRldi0+Z3B1LT5oaXZlX2lkICYmDQo+ICsJCSAg
ICAgZGV2LT5ncHUtPmhpdmVfaWQgPT0gbmV3X2Rldi0+Z3B1LT5oaXZlX2lkKSkNCj4gKwkJCWdv
dG8gbmV4dDsNCj4gKw0KPiArCQkvKiBjaGVjayBpZiBub2RlKHMpIGlzL2FyZSBwZWVyIGFjY2Vz
c2libGUgaW4gb25lIGRpcmVjdGlvbiBvciBiaS1kaXJlY3Rpb24gKi8NCj4gKwkJcmV0ID0ga2Zk
X2FkZF9wZWVyX3Byb3AobmV3X2RldiwgZGV2LCBpLCBrKTsNCj4gKwkJaWYgKHJldCA8IDApDQo+
ICsJCQlnb3RvIG91dDsNCj4gKw0KPiArCQlyZXQgPSBrZmRfYWRkX3BlZXJfcHJvcChkZXYsIG5l
d19kZXYsIGssIGkpOw0KPiArCQlpZiAocmV0IDwgMCkNCj4gKwkJCWdvdG8gb3V0Ow0KPiArbmV4
dDoNCj4gKwkJaSsrOw0KPiArCX0NCj4gKyNlbmRpZg0KPiArDQo+ICtvdXQ6DQo+ICsJcmV0dXJu
IHJldDsNCj4gICB9DQo+ICAgDQo+ICAgaW50IGtmZF90b3BvbG9neV9hZGRfZGV2aWNlKHN0cnVj
dCBrZmRfZGV2ICpncHUpIEBAIC0xMzA1LDkgKzE2MDEsMjMgDQo+IEBAIGludCBrZmRfdG9wb2xv
Z3lfYWRkX2RldmljZShzdHJ1Y3Qga2ZkX2RldiAqZ3B1KQ0KPiAgIAlJTklUX0xJU1RfSEVBRCgm
dGVtcF90b3BvbG9neV9kZXZpY2VfbGlzdCk7DQo+ICAgDQo+ICAgCWdwdV9pZCA9IGtmZF9nZW5l
cmF0ZV9ncHVfaWQoZ3B1KTsNCj4gLQ0KPiAgIAlwcl9kZWJ1ZygiQWRkaW5nIG5ldyBHUFUgKElE
OiAweCV4KSB0byB0b3BvbG9neVxuIiwgZ3B1X2lkKTsNCj4gICANCj4gKwkvKiBJbmNsdWRlIHRo
ZSBDUFUgaW4geEdNSSBoaXZlIGlmIHhHTUkgY29ubmVjdGVkIGJ5IGFzc2lnbmluZyBpdCANCj4g
K3RoZSBoaXZlIElELiAqLw0KDQpUaGlzIGxvb2tzIGxpa2UgYW4gdW5yZWxhdGVkIGNoYW5nZSB0
aGF0IHNob3VsZCBwcm9iYWJseSBoYXZlIGJlZW4gdXBzdHJlYW1lZCBzZXBhcmF0ZWx5Lg0KDQpS
YW1lc2g6IEdvb2QgY2F0Y2gsIGEgY2Fycnkgb3ZlciBvZiBteSBkZWJ1ZyBkYXRhIGZyb20gREtN
UyBicmFuY2gNCg0KDQpSZWdhcmRzLA0KIMKgIEZlbGl4DQoNCg0KPiArCWlmIChncHUtPmhpdmVf
aWQgJiYgZ3B1LT5hZGV2LT5nbWMueGdtaS5jb25uZWN0ZWRfdG9fY3B1KSB7DQo+ICsJCXN0cnVj
dCBrZmRfdG9wb2xvZ3lfZGV2aWNlICp0b3BfZGV2Ow0KPiArDQo+ICsJCWRvd25fcmVhZCgmdG9w
b2xvZ3lfbG9jayk7DQo+ICsNCj4gKwkJbGlzdF9mb3JfZWFjaF9lbnRyeSh0b3BfZGV2LCAmdG9w
b2xvZ3lfZGV2aWNlX2xpc3QsIGxpc3QpIHsNCj4gKwkJCWlmICh0b3BfZGV2LT5ncHUpDQo+ICsJ
CQkJYnJlYWs7DQo+ICsJCQl0b3BfZGV2LT5ub2RlX3Byb3BzLmhpdmVfaWQgPSBncHUtPmhpdmVf
aWQ7DQo+ICsJCX0NCj4gKw0KPiArCQl1cF9yZWFkKCZ0b3BvbG9neV9sb2NrKTsNCj4gKwl9DQo+
ICsNCj4gICAJLyogQ2hlY2sgdG8gc2VlIGlmIHRoaXMgZ3B1IGRldmljZSBleGlzdHMgaW4gdGhl
IHRvcG9sb2d5X2RldmljZV9saXN0Lg0KPiAgIAkgKiBJZiBzbywgYXNzaWduIHRoZSBncHUgdG8g
dGhhdCBkZXZpY2UsDQo+ICAgCSAqIGVsc2UgY3JlYXRlIGEgVmlydHVhbCBDUkFUIGZvciB0aGlz
IGdwdSBkZXZpY2UgYW5kIHRoZW4gcGFyc2UgDQo+IHRoYXQgQEAgLTEzNjIsNiArMTY3Miw4IEBA
IGludCBrZmRfdG9wb2xvZ3lfYWRkX2RldmljZShzdHJ1Y3Qga2ZkX2RldiAqZ3B1KQ0KPiAgIAlk
ZXYtPmdwdV9pZCA9IGdwdV9pZDsNCj4gICAJZ3B1LT5pZCA9IGdwdV9pZDsNCj4gICANCj4gKwlr
ZmRfZGV2X2NyZWF0ZV9wMnBfbGlua3MoKTsNCj4gKw0KPiAgIAkvKiBUT0RPOiBNb3ZlIHRoZSBm
b2xsb3dpbmcgbGluZXMgdG8gZnVuY3Rpb24NCj4gICAJICoJa2ZkX2FkZF9ub25fY3JhdF9pbmZv
cm1hdGlvbg0KPiAgIAkgKi8NCj4gQEAgLTE1MDcsNyArMTgxOSw3IEBAIGludCBrZmRfdG9wb2xv
Z3lfYWRkX2RldmljZShzdHJ1Y3Qga2ZkX2RldiAqZ3B1KQ0KPiAgIHN0YXRpYyB2b2lkIGtmZF90
b3BvbG9neV91cGRhdGVfaW9fbGlua3MoaW50IHByb3hpbWl0eV9kb21haW4pDQo+ICAgew0KPiAg
IAlzdHJ1Y3Qga2ZkX3RvcG9sb2d5X2RldmljZSAqZGV2Ow0KPiAtCXN0cnVjdCBrZmRfaW9saW5r
X3Byb3BlcnRpZXMgKmlvbGluaywgKnRtcDsNCj4gKwlzdHJ1Y3Qga2ZkX2lvbGlua19wcm9wZXJ0
aWVzICppb2xpbmssICpwMnBsaW5rLCAqdG1wOw0KPiAgIA0KPiAgIAlsaXN0X2Zvcl9lYWNoX2Vu
dHJ5KGRldiwgJnRvcG9sb2d5X2RldmljZV9saXN0LCBsaXN0KSB7DQo+ICAgCQlpZiAoZGV2LT5w
cm94aW1pdHlfZG9tYWluID4gcHJveGltaXR5X2RvbWFpbikgQEAgLTE1MjksNiArMTg0MSwyMiAN
Cj4gQEAgc3RhdGljIHZvaWQga2ZkX3RvcG9sb2d5X3VwZGF0ZV9pb19saW5rcyhpbnQgcHJveGlt
aXR5X2RvbWFpbikNCj4gICAJCQkJCWlvbGluay0+bm9kZV90by0tOw0KPiAgIAkJCX0NCj4gICAJ
CX0NCj4gKw0KPiArCQlsaXN0X2Zvcl9lYWNoX2VudHJ5X3NhZmUocDJwbGluaywgdG1wLCAmZGV2
LT5wMnBfbGlua19wcm9wcywgbGlzdCkgew0KPiArCQkJLyoNCj4gKwkJCSAqIElmIHRoZXJlIGlz
IGEgcDJwIGxpbmsgdG8gdGhlIGRldiBiZWluZyBkZWxldGVkDQo+ICsJCQkgKiB0aGVuIHJlbW92
ZSB0aGF0IHAycCBsaW5rIGFsc28uDQo+ICsJCQkgKi8NCj4gKwkJCWlmIChwMnBsaW5rLT5ub2Rl
X3RvID09IHByb3hpbWl0eV9kb21haW4pIHsNCj4gKwkJCQlsaXN0X2RlbCgmcDJwbGluay0+bGlz
dCk7DQo+ICsJCQkJZGV2LT5ub2RlX3Byb3BzLnAycF9saW5rc19jb3VudC0tOw0KPiArCQkJfSBl
bHNlIHsNCj4gKwkJCQlpZiAocDJwbGluay0+bm9kZV9mcm9tID4gcHJveGltaXR5X2RvbWFpbikN
Cj4gKwkJCQkJcDJwbGluay0+bm9kZV9mcm9tLS07DQo+ICsJCQkJaWYgKHAycGxpbmstPm5vZGVf
dG8gPiBwcm94aW1pdHlfZG9tYWluKQ0KPiArCQkJCQlwMnBsaW5rLT5ub2RlX3RvLS07DQo+ICsJ
CQl9DQo+ICsJCX0NCj4gICAJfQ0KPiAgIH0NCj4gICANCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1ka2ZkL2tmZF90b3BvbG9neS5oIA0KPiBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1ka2ZkL2tmZF90b3BvbG9neS5oDQo+IGluZGV4IDRmODBkMmVhMTAwMC4uMmZiNTY2NGUx
MDQxIDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfdG9wb2xv
Z3kuaA0KPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfdG9wb2xvZ3kuaA0K
PiBAQCAtMzgsNiArMzgsNyBAQCBzdHJ1Y3Qga2ZkX25vZGVfcHJvcGVydGllcyB7DQo+ICAgCXVp
bnQzMl90IG1lbV9iYW5rc19jb3VudDsNCj4gICAJdWludDMyX3QgY2FjaGVzX2NvdW50Ow0KPiAg
IAl1aW50MzJfdCBpb19saW5rc19jb3VudDsNCj4gKwl1aW50MzJfdCBwMnBfbGlua3NfY291bnQ7
DQo+ICAgCXVpbnQzMl90IGNwdV9jb3JlX2lkX2Jhc2U7DQo+ICAgCXVpbnQzMl90IHNpbWRfaWRf
YmFzZTsNCj4gICAJdWludDMyX3QgY2FwYWJpbGl0eTsNCj4gQEAgLTEzMSwxMiArMTMyLDE0IEBA
IHN0cnVjdCBrZmRfdG9wb2xvZ3lfZGV2aWNlIHsNCj4gICAJc3RydWN0IGxpc3RfaGVhZAkJY2Fj
aGVfcHJvcHM7DQo+ICAgCXVpbnQzMl90CQkJaW9fbGlua19jb3VudDsNCj4gICAJc3RydWN0IGxp
c3RfaGVhZAkJaW9fbGlua19wcm9wczsNCj4gKwlzdHJ1Y3QgbGlzdF9oZWFkCQlwMnBfbGlua19w
cm9wczsNCj4gICAJc3RydWN0IGxpc3RfaGVhZAkJcGVyZl9wcm9wczsNCj4gICAJc3RydWN0IGtm
ZF9kZXYJCQkqZ3B1Ow0KPiAgIAlzdHJ1Y3Qga29iamVjdAkJCSprb2JqX25vZGU7DQo+ICAgCXN0
cnVjdCBrb2JqZWN0CQkJKmtvYmpfbWVtOw0KPiAgIAlzdHJ1Y3Qga29iamVjdAkJCSprb2JqX2Nh
Y2hlOw0KPiAgIAlzdHJ1Y3Qga29iamVjdAkJCSprb2JqX2lvbGluazsNCj4gKwlzdHJ1Y3Qga29i
amVjdAkJCSprb2JqX3AycGxpbms7DQo+ICAgCXN0cnVjdCBrb2JqZWN0CQkJKmtvYmpfcGVyZjsN
Cj4gICAJc3RydWN0IGF0dHJpYnV0ZQkJYXR0cl9ncHVpZDsNCj4gICAJc3RydWN0IGF0dHJpYnV0
ZQkJYXR0cl9uYW1lOw0K
