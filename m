Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 538BE1157D5
	for <lists+amd-gfx@lfdr.de>; Fri,  6 Dec 2019 20:37:36 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A473D6E06B;
	Fri,  6 Dec 2019 19:37:34 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-wr1-x443.google.com (mail-wr1-x443.google.com
 [IPv6:2a00:1450:4864:20::443])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E925B6E06B
 for <amd-gfx@lists.freedesktop.org>; Fri,  6 Dec 2019 19:37:32 +0000 (UTC)
Received: by mail-wr1-x443.google.com with SMTP id b6so9066580wrq.0
 for <amd-gfx@lists.freedesktop.org>; Fri, 06 Dec 2019 11:37:32 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:reply-to:subject:to:cc:references:from
 :message-id:date:user-agent:mime-version:in-reply-to
 :content-transfer-encoding:content-language;
 bh=4ZfabpurLkgTAritSW8z8BYNfp+2bsOyvRe/cYkDeZ8=;
 b=LCS4J/OPXehhY2D3XrJl9M6qHnPX0XWqwonE4qljqQD9DrACYXP106Wsc56XVM+545
 2dJdDScWL/F3wARgTJyV9e7uyE1revPKWyE//zXTvuYZ/ZJrNUsSgS+nYzoL7CyMNwyY
 F+CgP1hF6wX8bnDJCwa+Pq0NNlbrZpVlntapwqmvXAJMunq66vSR6WBU7YNfYbP+K16K
 fijt10Nst2faw3nW2Vy1L3ozt9gfnfufOSo8e6Wj/31FSzlD+JDf2DusXe44/bUHkp2C
 hG+7PaGhswuwhzx8nyM37RZ1FO49IgQ/ds6xxFtlQWzer8nAL0csv3QRndih4hAJM/8/
 0ruQ==
X-Gm-Message-State: APjAAAVol1za7M3y9XQBsHH7apis6EU6SCXMs7nz7kSSBDZifU20oO7B
 SjBSTNM2t9Xb8yUfPBwtvIUT1lAQ
X-Google-Smtp-Source: APXvYqwGMRDW+5I3QmFGw1UVUN19DNvuRoCTE81umsmASuZLgXUg5gCMp3orQLh1Rt0UshiZ1zc8cg==
X-Received: by 2002:adf:814c:: with SMTP id 70mr16672073wrm.157.1575661051322; 
 Fri, 06 Dec 2019 11:37:31 -0800 (PST)
Received: from ?IPv6:2a02:908:1252:fb60:be8a:bd56:1f94:86e7?
 ([2a02:908:1252:fb60:be8a:bd56:1f94:86e7])
 by smtp.gmail.com with ESMTPSA id f1sm17505345wrp.93.2019.12.06.11.37.30
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Fri, 06 Dec 2019 11:37:30 -0800 (PST)
Subject: Re: [PATCH 2/4] drm/amdgpu: replace vm_pte's run-queue list with drm
 gpu scheds list
To: Nirmoy Das <nirmoy.aiemd@gmail.com>, alexander.deucher@amd.com,
 kenny.ho@amd.com, christian.koenig@amd.com
References: <20191206173304.3025-1-nirmoy.das@amd.com>
 <20191206173304.3025-2-nirmoy.das@amd.com>
From: =?UTF-8?Q?Christian_K=c3=b6nig?= <ckoenig.leichtzumerken@gmail.com>
Message-ID: <edc041fa-5c2a-ddb4-a92e-10f1eafac207@gmail.com>
Date: Fri, 6 Dec 2019 20:37:29 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
MIME-Version: 1.0
In-Reply-To: <20191206173304.3025-2-nirmoy.das@amd.com>
Content-Language: en-US
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=reply-to:subject:to:cc:references:from:message-id:date:user-agent
 :mime-version:in-reply-to:content-transfer-encoding:content-language;
 bh=4ZfabpurLkgTAritSW8z8BYNfp+2bsOyvRe/cYkDeZ8=;
 b=N3YmLTk9vVI7v4KvvbmEmr8BcXGnij03CVFIbJJDqXj2OIxpJ3+wMPrTNCgHH31Qj0
 Q0/8b/L4kgzG+bhK3xYRlbwghuxPARMr80+eBl6lXfkXNIYvwcCDwAaAsCs8PVyZQ81z
 /IbnJWFvnviL4KI1OyYFxd49YGexzwssWMLYTnAvRPTRLbvCH6G75KdUxoMTgdReOnOO
 wv3p30Hk21pzRExZ2gW/a19EDoE9U7xRfTwtYB0wlD2UuayF9guYPlKKNmt8KF4/salV
 slUKJDEOb2vVAeOs+kPKWEr/PoUdRw9vWkZH9RAbrSeEK/MpSsusk5ywrnk52vd6ScK8
 0fAQ==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Reply-To: christian.koenig@amd.com
Cc: nirmoy.das@amd.com, amd-gfx@lists.freedesktop.org
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

QW0gMDYuMTIuMTkgdW0gMTg6MzMgc2NocmllYiBOaXJtb3kgRGFzOgo+IGRybV9zY2hlZF9lbnRp
dHlfaW5pdCgpIHRha2VzIGRybSBncHUgc2NoZWR1bGVyIGxpc3QgaW5zdGVhZCBvZgo+IGRybV9z
Y2hlZF9ycSBsaXN0LiBUaGlzIG1ha2VzIGNvbnZlcnNpb24gb2YgZHJtX3NjaGVkX3JxIGxpc3QK
PiB0byBkcm0gZ3B1IHNjaGVkdWxlciBsaXN0IHVubmVjZXNzYXJ5Cj4KPiBTaWduZWQtb2ZmLWJ5
OiBOaXJtb3kgRGFzIDxuaXJtb3kuZGFzQGFtZC5jb20+CgpSZXZpZXdlZC1ieTogQ2hyaXN0aWFu
IEvDtm5pZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPgoKPiAtLS0KPiAgIGRyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kZXZpY2UuYyB8ICAyICstCj4gICBkcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHVfdm0uYyAgICAgfCAxMSArKysrLS0tLS0tLQo+ICAgZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtLmggICAgIHwgIDQgKystLQo+ICAgZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvY2lrX3NkbWEuYyAgICAgIHwgIDggKysrLS0tLS0KPiAgIGRy
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjJfNC5jICAgICB8ICA4ICsrKy0tLS0tCj4g
ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3YzXzAuYyAgICAgfCAgOCArKystLS0t
LQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92NF8wLmMgICAgIHwgIDUgKyst
LS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjVfMC5jICAgICB8ICA4ICsr
Ky0tLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zaV9kbWEuYyAgICAgICAgfCAg
OCArKystLS0tLQo+ICAgOSBmaWxlcyBjaGFuZ2VkLCAyNCBpbnNlcnRpb25zKCspLCAzOCBkZWxl
dGlvbnMoLSkKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRn
cHVfZGV2aWNlLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMK
PiBpbmRleCBmODUwMDczODIwOTMuLmNmNDk1M2M0ZTJjZiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMKPiArKysgYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMKPiBAQCAtMjc3OSw3ICsyNzc5LDcgQEAgaW50
IGFtZGdwdV9kZXZpY2VfaW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKPiAgIAlhZGV2
LT5tbWFuLmJ1ZmZlcl9mdW5jcyA9IE5VTEw7Cj4gICAJYWRldi0+bW1hbi5idWZmZXJfZnVuY3Nf
cmluZyA9IE5VTEw7Cj4gICAJYWRldi0+dm1fbWFuYWdlci52bV9wdGVfZnVuY3MgPSBOVUxMOwo+
IC0JYWRldi0+dm1fbWFuYWdlci52bV9wdGVfbnVtX3JxcyA9IDA7Cj4gKwlhZGV2LT52bV9tYW5h
Z2VyLnZtX3B0ZV9udW1fc2NoZWRzID0gMDsKPiAgIAlhZGV2LT5nbWMuZ21jX2Z1bmNzID0gTlVM
TDsKPiAgIAlhZGV2LT5mZW5jZV9jb250ZXh0ID0gZG1hX2ZlbmNlX2NvbnRleHRfYWxsb2MoQU1E
R1BVX01BWF9SSU5HUyk7Cj4gICAJYml0bWFwX3plcm8oYWRldi0+Z2Z4LnBpcGVfcmVzZXJ2ZV9i
aXRtYXAsIEFNREdQVV9NQVhfQ09NUFVURV9RVUVVRVMpOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdm0uYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2FtZGdwdV92bS5jCj4gaW5kZXggNWU3OGRiMzBjNzIyLi4wZTFlZDhlZjJjZTcgMTAwNjQ0
Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtLmMKPiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdm0uYwo+IEBAIC0yNjg3LDcgKzI2ODcs
NiBAQCBpbnQgYW1kZ3B1X3ZtX2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHN0cnVj
dCBhbWRncHVfdm0gKnZtLAo+ICAgewo+ICAgCXN0cnVjdCBhbWRncHVfYm9fcGFyYW0gYnA7Cj4g
ICAJc3RydWN0IGFtZGdwdV9ibyAqcm9vdDsKPiAtCXN0cnVjdCBkcm1fZ3B1X3NjaGVkdWxlciAq
c2NoZWRfbGlzdFtBTURHUFVfTUFYX1JJTkdTXTsKPiAgIAlpbnQgciwgaTsKPiAgIAo+ICAgCXZt
LT52YSA9IFJCX1JPT1RfQ0FDSEVEOwo+IEBAIC0yNzAxLDE5ICsyNzAwLDE3IEBAIGludCBhbWRn
cHVfdm1faW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgc3RydWN0IGFtZGdwdV92bSAq
dm0sCj4gICAJc3Bpbl9sb2NrX2luaXQoJnZtLT5pbnZhbGlkYXRlZF9sb2NrKTsKPiAgIAlJTklU
X0xJU1RfSEVBRCgmdm0tPmZyZWVkKTsKPiAgIAo+IC0JZm9yIChpID0gMDsgaSA8IGFkZXYtPnZt
X21hbmFnZXIudm1fcHRlX251bV9ycXM7IGkrKykKPiAtCQlzY2hlZF9saXN0W2ldID0gYWRldi0+
dm1fbWFuYWdlci52bV9wdGVfcnFzW2ldLT5zY2hlZDsKPiAgIAo+ICAgCS8qIGNyZWF0ZSBzY2hl
ZHVsZXIgZW50aXRpZXMgZm9yIHBhZ2UgdGFibGUgdXBkYXRlcyAqLwo+ICAgCXIgPSBkcm1fc2No
ZWRfZW50aXR5X2luaXQoJnZtLT5kaXJlY3QsIERSTV9TQ0hFRF9QUklPUklUWV9OT1JNQUwsCj4g
LQkJCQkgIHNjaGVkX2xpc3QsIGFkZXYtPnZtX21hbmFnZXIudm1fcHRlX251bV9ycXMsCj4gLQkJ
CQkgIE5VTEwpOwo+ICsJCQkJICBhZGV2LT52bV9tYW5hZ2VyLnZtX3B0ZV9zY2hlZHMsCj4gKwkJ
CQkgIGFkZXYtPnZtX21hbmFnZXIudm1fcHRlX251bV9zY2hlZHMsIE5VTEwpOwo+ICAgCWlmIChy
KQo+ICAgCQlyZXR1cm4gcjsKPiAgIAo+ICAgCXIgPSBkcm1fc2NoZWRfZW50aXR5X2luaXQoJnZt
LT5kZWxheWVkLCBEUk1fU0NIRURfUFJJT1JJVFlfTk9STUFMLAo+IC0JCQkJICBzY2hlZF9saXN0
LCBhZGV2LT52bV9tYW5hZ2VyLnZtX3B0ZV9udW1fcnFzLAo+IC0JCQkJICBOVUxMKTsKPiArCQkJ
CSAgYWRldi0+dm1fbWFuYWdlci52bV9wdGVfc2NoZWRzLAo+ICsJCQkJICBhZGV2LT52bV9tYW5h
Z2VyLnZtX3B0ZV9udW1fc2NoZWRzLCBOVUxMKTsKPiAgIAlpZiAocikKPiAgIAkJZ290byBlcnJv
cl9mcmVlX2RpcmVjdDsKPiAgIAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfdm0uaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92bS5o
Cj4gaW5kZXggNzZmY2Y4NTMwMzVjLi41ZWFiYTg2NDVhNDMgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtLmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfdm0uaAo+IEBAIC0zMjIsOCArMzIyLDggQEAgc3RydWN0IGFtZGdw
dV92bV9tYW5hZ2VyIHsKPiAgIAl1NjQJCQkJCXZyYW1fYmFzZV9vZmZzZXQ7Cj4gICAJLyogdm0g
cHRlIGhhbmRsaW5nICovCj4gICAJY29uc3Qgc3RydWN0IGFtZGdwdV92bV9wdGVfZnVuY3MJKnZt
X3B0ZV9mdW5jczsKPiAtCXN0cnVjdCBkcm1fc2NoZWRfcnEJCQkqdm1fcHRlX3Jxc1tBTURHUFVf
TUFYX1JJTkdTXTsKPiAtCXVuc2lnbmVkCQkJCXZtX3B0ZV9udW1fcnFzOwo+ICsJc3RydWN0IGRy
bV9ncHVfc2NoZWR1bGVyCQkqdm1fcHRlX3NjaGVkc1tBTURHUFVfTUFYX1JJTkdTXTsKPiArCXVu
c2lnbmVkCQkJCXZtX3B0ZV9udW1fc2NoZWRzOwo+ICAgCXN0cnVjdCBhbWRncHVfcmluZwkJCSpw
YWdlX2ZhdWx0Owo+ICAgCj4gICAJLyogcGFydGlhbCByZXNpZGVudCB0ZXh0dXJlIGhhbmRsaW5n
ICovCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Npa19zZG1hLmMg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9jaWtfc2RtYS5jCj4gaW5kZXggODJjZGI4ZjU3
YmZkLi4xZjIyYThkMGY3ZjMgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvY2lrX3NkbWEuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Npa19zZG1h
LmMKPiBAQCAtMTM3MywxNiArMTM3MywxNCBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGFtZGdwdV92
bV9wdGVfZnVuY3MgY2lrX3NkbWFfdm1fcHRlX2Z1bmNzID0gewo+ICAgCj4gICBzdGF0aWMgdm9p
ZCBjaWtfc2RtYV9zZXRfdm1fcHRlX2Z1bmNzKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQo+
ICAgewo+IC0Jc3RydWN0IGRybV9ncHVfc2NoZWR1bGVyICpzY2hlZDsKPiAgIAl1bnNpZ25lZCBp
Owo+ICAgCj4gICAJYWRldi0+dm1fbWFuYWdlci52bV9wdGVfZnVuY3MgPSAmY2lrX3NkbWFfdm1f
cHRlX2Z1bmNzOwo+ICAgCWZvciAoaSA9IDA7IGkgPCBhZGV2LT5zZG1hLm51bV9pbnN0YW5jZXM7
IGkrKykgewo+IC0JCXNjaGVkID0gJmFkZXYtPnNkbWEuaW5zdGFuY2VbaV0ucmluZy5zY2hlZDsK
PiAtCQlhZGV2LT52bV9tYW5hZ2VyLnZtX3B0ZV9ycXNbaV0gPQo+IC0JCQkmc2NoZWQtPnNjaGVk
X3JxW0RSTV9TQ0hFRF9QUklPUklUWV9LRVJORUxdOwo+ICsJCWFkZXYtPnZtX21hbmFnZXIudm1f
cHRlX3NjaGVkc1tpXSA9Cj4gKwkJCSZhZGV2LT5zZG1hLmluc3RhbmNlW2ldLnJpbmcuc2NoZWQ7
Cj4gICAJfQo+IC0JYWRldi0+dm1fbWFuYWdlci52bV9wdGVfbnVtX3JxcyA9IGFkZXYtPnNkbWEu
bnVtX2luc3RhbmNlczsKPiArCWFkZXYtPnZtX21hbmFnZXIudm1fcHRlX251bV9zY2hlZHMgPSBh
ZGV2LT5zZG1hLm51bV9pbnN0YW5jZXM7Cj4gICB9Cj4gICAKPiAgIGNvbnN0IHN0cnVjdCBhbWRn
cHVfaXBfYmxvY2tfdmVyc2lvbiBjaWtfc2RtYV9pcF9ibG9jayA9Cj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjJfNC5jIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvc2RtYV92Ml80LmMKPiBpbmRleCA4OWU4Yzc0YTQwZjQuLjYwNmI2MjExNDVhMSAx
MDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3YyXzQuYwo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjJfNC5jCj4gQEAgLTEyNjEsMTYg
KzEyNjEsMTQgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBhbWRncHVfdm1fcHRlX2Z1bmNzIHNkbWFf
djJfNF92bV9wdGVfZnVuY3MgPSB7Cj4gICAKPiAgIHN0YXRpYyB2b2lkIHNkbWFfdjJfNF9zZXRf
dm1fcHRlX2Z1bmNzKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQo+ICAgewo+IC0Jc3RydWN0
IGRybV9ncHVfc2NoZWR1bGVyICpzY2hlZDsKPiAgIAl1bnNpZ25lZCBpOwo+ICAgCj4gICAJYWRl
di0+dm1fbWFuYWdlci52bV9wdGVfZnVuY3MgPSAmc2RtYV92Ml80X3ZtX3B0ZV9mdW5jczsKPiAg
IAlmb3IgKGkgPSAwOyBpIDwgYWRldi0+c2RtYS5udW1faW5zdGFuY2VzOyBpKyspIHsKPiAtCQlz
Y2hlZCA9ICZhZGV2LT5zZG1hLmluc3RhbmNlW2ldLnJpbmcuc2NoZWQ7Cj4gLQkJYWRldi0+dm1f
bWFuYWdlci52bV9wdGVfcnFzW2ldID0KPiAtCQkJJnNjaGVkLT5zY2hlZF9ycVtEUk1fU0NIRURf
UFJJT1JJVFlfS0VSTkVMXTsKPiArCQlhZGV2LT52bV9tYW5hZ2VyLnZtX3B0ZV9zY2hlZHNbaV0g
PQo+ICsJCQkmYWRldi0+c2RtYS5pbnN0YW5jZVtpXS5yaW5nLnNjaGVkOwo+ICAgCX0KPiAtCWFk
ZXYtPnZtX21hbmFnZXIudm1fcHRlX251bV9ycXMgPSBhZGV2LT5zZG1hLm51bV9pbnN0YW5jZXM7
Cj4gKwlhZGV2LT52bV9tYW5hZ2VyLnZtX3B0ZV9udW1fc2NoZWRzID0gYWRldi0+c2RtYS5udW1f
aW5zdGFuY2VzOwo+ICAgfQo+ICAgCj4gICBjb25zdCBzdHJ1Y3QgYW1kZ3B1X2lwX2Jsb2NrX3Zl
cnNpb24gc2RtYV92Ml80X2lwX2Jsb2NrID0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvc2RtYV92M18wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1h
X3YzXzAuYwo+IGluZGV4IDAxMWZkMTJjNDFmZS4uYTU1OTU3M2VjOGZkIDEwMDY0NAo+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjNfMC5jCj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvc2RtYV92M18wLmMKPiBAQCAtMTY5OSwxNiArMTY5OSwxNCBAQCBz
dGF0aWMgY29uc3Qgc3RydWN0IGFtZGdwdV92bV9wdGVfZnVuY3Mgc2RtYV92M18wX3ZtX3B0ZV9m
dW5jcyA9IHsKPiAgIAo+ICAgc3RhdGljIHZvaWQgc2RtYV92M18wX3NldF92bV9wdGVfZnVuY3Mo
c3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCj4gICB7Cj4gLQlzdHJ1Y3QgZHJtX2dwdV9zY2hl
ZHVsZXIgKnNjaGVkOwo+ICAgCXVuc2lnbmVkIGk7Cj4gICAKPiAgIAlhZGV2LT52bV9tYW5hZ2Vy
LnZtX3B0ZV9mdW5jcyA9ICZzZG1hX3YzXzBfdm1fcHRlX2Z1bmNzOwo+ICAgCWZvciAoaSA9IDA7
IGkgPCBhZGV2LT5zZG1hLm51bV9pbnN0YW5jZXM7IGkrKykgewo+IC0JCXNjaGVkID0gJmFkZXYt
PnNkbWEuaW5zdGFuY2VbaV0ucmluZy5zY2hlZDsKPiAtCQlhZGV2LT52bV9tYW5hZ2VyLnZtX3B0
ZV9ycXNbaV0gPQo+IC0JCQkmc2NoZWQtPnNjaGVkX3JxW0RSTV9TQ0hFRF9QUklPUklUWV9LRVJO
RUxdOwo+ICsJCWFkZXYtPnZtX21hbmFnZXIudm1fcHRlX3NjaGVkc1tpXSA9Cj4gKwkJCSAmYWRl
di0+c2RtYS5pbnN0YW5jZVtpXS5yaW5nLnNjaGVkOwo+ICAgCX0KPiAtCWFkZXYtPnZtX21hbmFn
ZXIudm1fcHRlX251bV9ycXMgPSBhZGV2LT5zZG1hLm51bV9pbnN0YW5jZXM7Cj4gKwlhZGV2LT52
bV9tYW5hZ2VyLnZtX3B0ZV9udW1fc2NoZWRzID0gYWRldi0+c2RtYS5udW1faW5zdGFuY2VzOwo+
ICAgfQo+ICAgCj4gICBjb25zdCBzdHJ1Y3QgYW1kZ3B1X2lwX2Jsb2NrX3ZlcnNpb24gc2RtYV92
M18wX2lwX2Jsb2NrID0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
c2RtYV92NF8wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3Y0XzAuYwo+IGlu
ZGV4IDM1MGIyYzk5ZmVmYy4uYmQ5ZWQzM2JhYjQzIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjRfMC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvc2RtYV92NF8wLmMKPiBAQCAtMjQxMSwxMCArMjQxMSw5IEBAIHN0YXRpYyB2b2lkIHNk
bWFfdjRfMF9zZXRfdm1fcHRlX2Z1bmNzKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQo+ICAg
CQkJc2NoZWQgPSAmYWRldi0+c2RtYS5pbnN0YW5jZVtpXS5wYWdlLnNjaGVkOwo+ICAgCQllbHNl
Cj4gICAJCQlzY2hlZCA9ICZhZGV2LT5zZG1hLmluc3RhbmNlW2ldLnJpbmcuc2NoZWQ7Cj4gLQkJ
YWRldi0+dm1fbWFuYWdlci52bV9wdGVfcnFzW2ldID0KPiAtCQkJJnNjaGVkLT5zY2hlZF9ycVtE
Uk1fU0NIRURfUFJJT1JJVFlfS0VSTkVMXTsKPiArCQlhZGV2LT52bV9tYW5hZ2VyLnZtX3B0ZV9z
Y2hlZHNbaV0gPSBzY2hlZDsKPiAgIAl9Cj4gLQlhZGV2LT52bV9tYW5hZ2VyLnZtX3B0ZV9udW1f
cnFzID0gYWRldi0+c2RtYS5udW1faW5zdGFuY2VzOwo+ICsJYWRldi0+dm1fbWFuYWdlci52bV9w
dGVfbnVtX3NjaGVkcyA9IGFkZXYtPnNkbWEubnVtX2luc3RhbmNlczsKPiAgIH0KPiAgIAo+ICAg
Y29uc3Qgc3RydWN0IGFtZGdwdV9pcF9ibG9ja192ZXJzaW9uIHNkbWFfdjRfMF9pcF9ibG9jayA9
IHsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92NV8wLmMg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3Y1XzAuYwo+IGluZGV4IDY0YzUzZWVk
N2ZhYy4uNjNmNjY3Y2ZlM2Y2IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L3NkbWFfdjVfMC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92
NV8wLmMKPiBAQCAtMTcyMywxNyArMTcyMywxNSBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGFtZGdw
dV92bV9wdGVfZnVuY3Mgc2RtYV92NV8wX3ZtX3B0ZV9mdW5jcyA9IHsKPiAgIAo+ICAgc3RhdGlj
IHZvaWQgc2RtYV92NV8wX3NldF92bV9wdGVfZnVuY3Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFk
ZXYpCj4gICB7Cj4gLQlzdHJ1Y3QgZHJtX2dwdV9zY2hlZHVsZXIgKnNjaGVkOwo+ICAgCXVuc2ln
bmVkIGk7Cj4gICAKPiAgIAlpZiAoYWRldi0+dm1fbWFuYWdlci52bV9wdGVfZnVuY3MgPT0gTlVM
TCkgewo+ICAgCQlhZGV2LT52bV9tYW5hZ2VyLnZtX3B0ZV9mdW5jcyA9ICZzZG1hX3Y1XzBfdm1f
cHRlX2Z1bmNzOwo+ICAgCQlmb3IgKGkgPSAwOyBpIDwgYWRldi0+c2RtYS5udW1faW5zdGFuY2Vz
OyBpKyspIHsKPiAtCQkJc2NoZWQgPSAmYWRldi0+c2RtYS5pbnN0YW5jZVtpXS5yaW5nLnNjaGVk
Owo+IC0JCQlhZGV2LT52bV9tYW5hZ2VyLnZtX3B0ZV9ycXNbaV0gPQo+IC0JCQkJJnNjaGVkLT5z
Y2hlZF9ycVtEUk1fU0NIRURfUFJJT1JJVFlfS0VSTkVMXTsKPiArCQkJYWRldi0+dm1fbWFuYWdl
ci52bV9wdGVfc2NoZWRzW2ldID0KPiArCQkJCSZhZGV2LT5zZG1hLmluc3RhbmNlW2ldLnJpbmcu
c2NoZWQ7Cj4gICAJCX0KPiAtCQlhZGV2LT52bV9tYW5hZ2VyLnZtX3B0ZV9udW1fcnFzID0gYWRl
di0+c2RtYS5udW1faW5zdGFuY2VzOwo+ICsJCWFkZXYtPnZtX21hbmFnZXIudm1fcHRlX251bV9z
Y2hlZHMgPSBhZGV2LT5zZG1hLm51bV9pbnN0YW5jZXM7Cj4gICAJfQo+ICAgfQo+ICAgCj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NpX2RtYS5jIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvc2lfZG1hLmMKPiBpbmRleCAxMjJkZjA3MzJmMGMuLjlhZDg1ZWRk
ZjljNCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zaV9kbWEuYwo+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NpX2RtYS5jCj4gQEAgLTgzNSwxNiAr
ODM1LDE0IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgYW1kZ3B1X3ZtX3B0ZV9mdW5jcyBzaV9kbWFf
dm1fcHRlX2Z1bmNzID0gewo+ICAgCj4gICBzdGF0aWMgdm9pZCBzaV9kbWFfc2V0X3ZtX3B0ZV9m
dW5jcyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKPiAgIHsKPiAtCXN0cnVjdCBkcm1fZ3B1
X3NjaGVkdWxlciAqc2NoZWQ7Cj4gICAJdW5zaWduZWQgaTsKPiAgIAo+ICAgCWFkZXYtPnZtX21h
bmFnZXIudm1fcHRlX2Z1bmNzID0gJnNpX2RtYV92bV9wdGVfZnVuY3M7Cj4gICAJZm9yIChpID0g
MDsgaSA8IGFkZXYtPnNkbWEubnVtX2luc3RhbmNlczsgaSsrKSB7Cj4gLQkJc2NoZWQgPSAmYWRl
di0+c2RtYS5pbnN0YW5jZVtpXS5yaW5nLnNjaGVkOwo+IC0JCWFkZXYtPnZtX21hbmFnZXIudm1f
cHRlX3Jxc1tpXSA9Cj4gLQkJCSZzY2hlZC0+c2NoZWRfcnFbRFJNX1NDSEVEX1BSSU9SSVRZX0tF
Uk5FTF07Cj4gKwkJYWRldi0+dm1fbWFuYWdlci52bV9wdGVfc2NoZWRzW2ldID0KPiArCQkJJmFk
ZXYtPnNkbWEuaW5zdGFuY2VbaV0ucmluZy5zY2hlZDsKPiAgIAl9Cj4gLQlhZGV2LT52bV9tYW5h
Z2VyLnZtX3B0ZV9udW1fcnFzID0gYWRldi0+c2RtYS5udW1faW5zdGFuY2VzOwo+ICsJYWRldi0+
dm1fbWFuYWdlci52bV9wdGVfbnVtX3NjaGVkcyA9IGFkZXYtPnNkbWEubnVtX2luc3RhbmNlczsK
PiAgIH0KPiAgIAo+ICAgY29uc3Qgc3RydWN0IGFtZGdwdV9pcF9ibG9ja192ZXJzaW9uIHNpX2Rt
YV9pcF9ibG9jayA9CgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpo
dHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZng=
