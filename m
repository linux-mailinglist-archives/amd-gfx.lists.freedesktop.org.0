Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 7EB3648DF2
	for <lists+amd-gfx@lfdr.de>; Mon, 17 Jun 2019 21:17:59 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E284389449;
	Mon, 17 Jun 2019 19:17:57 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-qk1-x741.google.com (mail-qk1-x741.google.com
 [IPv6:2607:f8b0:4864:20::741])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B9F618941E
 for <amd-gfx@lists.freedesktop.org>; Mon, 17 Jun 2019 19:17:56 +0000 (UTC)
Received: by mail-qk1-x741.google.com with SMTP id a27so6921831qkk.5
 for <amd-gfx@lists.freedesktop.org>; Mon, 17 Jun 2019 12:17:56 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=Ztkd/4Bs2Zoh4w+hkVyfxGdlhLb3L0MEcszPqQkgai4=;
 b=nUR1kjYQFq2mnHURnCk8JEFkQRa42LPAFh1KY+vA6oVze/JhdzQSEEDVi+rHrlbSx/
 k0rXTjKpUUsUOwjqKui9ZjbjYJ/K9NGHEuE+PFGKZhHSC0MVZ+fZWd9768sDHTIf6KYC
 Lquxj/sZX+rY+9NEUSd/CMBCPhICXkuQNVv4gM8rfWnSTrdVDb4azhojVjcGsSvqtP7m
 /XAsNoi4Uf4GJdfT21PPIsOSTT1JNwxkFzzZL4G6HRoLH6/vNCz4+Qa0txaN3RUcsllM
 QaM5Gd822wecIaiZSDWK+LmqyS+qffYhNnvLtvy44IM0FdVmUMVRugIRR8R7Jwnp9EfV
 M0/Q==
X-Gm-Message-State: APjAAAXKzu6N+zk9gicuwht7W4rvWR3R4A/Qyx/9d73axvploVgQNYql
 TyRcitAcikcmW9m68NiXIN30RhsQFaw=
X-Google-Smtp-Source: APXvYqzKhSOIzZXR5kz94BztSIfrUClREF8RgHKE/vbOY0xUL44A/OR6Fmss8JE+1CTKG9TzTeFq4g==
X-Received: by 2002:a37:a9c9:: with SMTP id
 s192mr90074836qke.335.1560799075576; 
 Mon, 17 Jun 2019 12:17:55 -0700 (PDT)
Received: from localhost.localdomain ([71.219.5.136])
 by smtp.gmail.com with ESMTPSA id s35sm7754876qth.79.2019.06.17.12.17.54
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Mon, 17 Jun 2019 12:17:55 -0700 (PDT)
From: Alex Deucher <alexdeucher@gmail.com>
X-Google-Original-From: Alex Deucher <alexander.deucher@amd.com>
To: amd-gfx@lists.freedesktop.org
Subject: [PATCH 054/459] drm/amdgpu: add gfxhub v2.0 block for navi10 (v4)
Date: Mon, 17 Jun 2019 14:10:15 -0500
Message-Id: <20190617191700.17899-43-alexander.deucher@amd.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190617191700.17899-1-alexander.deucher@amd.com>
References: <20190617191700.17899-1-alexander.deucher@amd.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=Ztkd/4Bs2Zoh4w+hkVyfxGdlhLb3L0MEcszPqQkgai4=;
 b=V+3yuj3jTuMo9IaYgBZ/IapvSgnCDHko2MhoR4hdilnP09/cQQNHDEr2jP4lwAh3tQ
 TIcapTENUSwNiIDN5rl+brBJjl9U6zyeFmIYGggvpuImnjQ4K4TLcDK456u1+fnKlP0T
 lDaqtz2weU7Qu7uOBDN5oKY5OELEQuf/7O8QrSTVX8cbou0zB9dCgl/w4ZaOA4pTSrZt
 oq30NkkFp93vRAZqrTWVh3bPG+Q1qr14yQN77KCJD4+ChOZVGDtFv0pVnKD949GWCEh6
 ZJ5KNWKuvZkpDCNHqvZTmx0QCnLnr/MF/SUloWBHjq32OW4UJr2YSH4z47kvmIVVIHuR
 7d/w==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Alex Deucher <alexander.deucher@amd.com>, Huang Rui <ray.huang@amd.com>,
 Hawking Zhang <Hawking.Zhang@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogSGF3a2luZyBaaGFuZyA8SGF3a2luZy5aaGFuZ0BhbWQuY29tPgoKdjE6IGFkZCBwbGFj
ZSBob2xkZXIgYW5kIGluaXRpYWwgYmFzaWMgZnVuY3Rpb25zIChSYXkpCnYyOiByZXBsYWNlIHRo
ZSByZWZlcm5jZSB0byBsZWdhY3kgbWMgc3RydWN0dXJlIHdpdGggZ21jIHN0cnVjdHVyZQogICAg
cmVtb3ZlIHRoZSBkaXJlY3QgdXNlIG9mIGdhcnQudGFibGVfYWRkciAoSGF3a2luZykKdjM6IHN3
aXRjaCB0byB1c2UgYW1kZ3B1X2dtY19wZF9hZGRyIChIYXdraW5nKQp2NDogc3F1YXNoIGluIHVw
ZGF0ZXMgKEFsZXgpCgpTaWduZWQtb2ZmLWJ5OiBIdWFuZyBSdWkgPHJheS5odWFuZ0BhbWQuY29t
PgpTaWduZWQtb2ZmLWJ5OiBIYXdraW5nIFpoYW5nIDxIYXdraW5nLlpoYW5nQGFtZC5jb20+ClJl
dmlld2VkLWJ5OiBBbGV4IERldWNoZXIgPGFsZXhhbmRlci5kZXVjaGVyQGFtZC5jb20+ClJldmll
d2VkLWJ5OiBIYXdraW5nIFpoYW5nIDxIYXdraW5nLlpoYW5nQGFtZC5jb20+ClNpZ25lZC1vZmYt
Ynk6IEFsZXggRGV1Y2hlciA8YWxleGFuZGVyLmRldWNoZXJAYW1kLmNvbT4KLS0tCiBkcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9NYWtlZmlsZSAgICAgIHwgICAzICstCiBkcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9nZnhodWJfdjJfMC5jIHwgMzUyICsrKysrKysrKysrKysrKysrKysrKysr
CiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhodWJfdjJfMC5oIHwgIDM1ICsrKwogMyBm
aWxlcyBjaGFuZ2VkLCAzODkgaW5zZXJ0aW9ucygrKSwgMSBkZWxldGlvbigtKQogY3JlYXRlIG1v
ZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeGh1Yl92Ml8wLmMKIGNyZWF0
ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhodWJfdjJfMC5oCgpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvTWFrZWZpbGUgYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9NYWtlZmlsZQppbmRleCBlZTdlN2I5OWRlYTkuLjc0MWNhNzcy
MGI1YyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvTWFrZWZpbGUKKysr
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvTWFrZWZpbGUKQEAgLTc1LDcgKzc1LDggQEAg
YW1kZ3B1LXkgKz0gXAogYW1kZ3B1LXkgKz0gXAogCWdtY192N18wLm8gXAogCWdtY192OF8wLm8g
XAotCWdmeGh1Yl92MV8wLm8gbW1odWJfdjFfMC5vIGdtY192OV8wLm8gZ2Z4aHViX3YxXzEubwor
CWdmeGh1Yl92MV8wLm8gbW1odWJfdjFfMC5vIGdtY192OV8wLm8gZ2Z4aHViX3YxXzEubyBcCisJ
Z2Z4aHViX3YyXzAubwogCiAjIGFkZCBJSCBibG9jawogYW1kZ3B1LXkgKz0gXApkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4aHViX3YyXzAuYyBiL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2dmeGh1Yl92Ml8wLmMKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXgg
MDAwMDAwMDAwMDAwLi4yMzFjNzdhZWQwMWIKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9nZnhodWJfdjJfMC5jCkBAIC0wLDAgKzEsMzUyIEBACisvKgorICog
Q29weXJpZ2h0IDIwMTkgQWR2YW5jZWQgTWljcm8gRGV2aWNlcywgSW5jLgorICoKKyAqIFBlcm1p
c3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9i
dGFpbmluZyBhCisgKiBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1l
bnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLAorICogdG8gZGVhbCBpbiB0aGUgU29mdHdh
cmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbgorICog
dGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1
dGUsIHN1YmxpY2Vuc2UsCisgKiBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBh
bmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUKKyAqIFNvZnR3YXJlIGlzIGZ1cm5pc2hl
ZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6CisgKgorICog
VGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hh
bGwgYmUgaW5jbHVkZWQgaW4KKyAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMg
b2YgdGhlIFNvZnR3YXJlLgorICoKKyAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMi
LCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCisgKiBJTVBMSUVELCBJ
TkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJ
TElUWSwKKyAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5H
RU1FTlQuICBJTiBOTyBFVkVOVCBTSEFMTAorICogVEhFIENPUFlSSUdIVCBIT0xERVIoUykgT1Ig
QVVUSE9SKFMpIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SCisgKiBPVEhFUiBM
SUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVS
V0lTRSwKKyAqIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUg
U09GVFdBUkUgT1IgVEhFIFVTRSBPUgorICogT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJF
LgorICoKKyAqLworCisjaW5jbHVkZSAiYW1kZ3B1LmgiCisjaW5jbHVkZSAiZ2Z4aHViX3YyXzAu
aCIKKworI2luY2x1ZGUgImdjL2djXzEwXzFfMF9vZmZzZXQuaCIKKyNpbmNsdWRlICJnYy9nY18x
MF8xXzBfc2hfbWFzay5oIgorI2luY2x1ZGUgImdjL2djXzEwXzFfMF9kZWZhdWx0LmgiCisjaW5j
bHVkZSAibmF2aTEwX2VudW0uaCIKKworI2luY2x1ZGUgInNvYzE1X2NvbW1vbi5oIgorCit1NjQg
Z2Z4aHViX3YyXzBfZ2V0X2ZiX2xvY2F0aW9uKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQor
eworCXU2NCBiYXNlID0gUlJFRzMyX1NPQzE1KEdDLCAwLCBtbUdDTUNfVk1fRkJfTE9DQVRJT05f
QkFTRSk7CisKKwliYXNlICY9IEdDTUNfVk1fRkJfTE9DQVRJT05fQkFTRV9fRkJfQkFTRV9NQVNL
OworCWJhc2UgPDw9IDI0OworCisJcmV0dXJuIGJhc2U7Cit9CisKK3U2NCBnZnhodWJfdjJfMF9n
ZXRfbWNfZmJfb2Zmc2V0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQoreworCXJldHVybiAo
dTY0KVJSRUczMl9TT0MxNShHQywgMCwgbW1HQ01DX1ZNX0ZCX09GRlNFVCkgPDwgMjQ7Cit9CisK
K3N0YXRpYyB2b2lkIGdmeGh1Yl92Ml8wX2luaXRfZ2FydF9wdF9yZWdzKHN0cnVjdCBhbWRncHVf
ZGV2aWNlICphZGV2KQoreworCXVpbnQ2NF90IHZhbHVlID0gYW1kZ3B1X2dtY19wZF9hZGRyKGFk
ZXYtPmdhcnQuYm8pOworCisKKwlXUkVHMzJfU09DMTUoR0MsIDAsIG1tR0NWTV9DT05URVhUMF9Q
QUdFX1RBQkxFX0JBU0VfQUREUl9MTzMyLAorCQkgICAgIGxvd2VyXzMyX2JpdHModmFsdWUpKTsK
KworCVdSRUczMl9TT0MxNShHQywgMCwgbW1HQ1ZNX0NPTlRFWFQwX1BBR0VfVEFCTEVfQkFTRV9B
RERSX0hJMzIsCisJCSAgICAgdXBwZXJfMzJfYml0cyh2YWx1ZSkpOworfQorCitzdGF0aWMgdm9p
ZCBnZnhodWJfdjJfMF9pbml0X2dhcnRfYXBlcnR1cmVfcmVncyhzdHJ1Y3QgYW1kZ3B1X2Rldmlj
ZSAqYWRldikKK3sKKwlnZnhodWJfdjJfMF9pbml0X2dhcnRfcHRfcmVncyhhZGV2KTsKKworCVdS
RUczMl9TT0MxNShHQywgMCwgbW1HQ1ZNX0NPTlRFWFQwX1BBR0VfVEFCTEVfU1RBUlRfQUREUl9M
TzMyLAorCQkgICAgICh1MzIpKGFkZXYtPmdtYy5nYXJ0X3N0YXJ0ID4+IDEyKSk7CisJV1JFRzMy
X1NPQzE1KEdDLCAwLCBtbUdDVk1fQ09OVEVYVDBfUEFHRV9UQUJMRV9TVEFSVF9BRERSX0hJMzIs
CisJCSAgICAgKHUzMikoYWRldi0+Z21jLmdhcnRfc3RhcnQgPj4gNDQpKTsKKworCVdSRUczMl9T
T0MxNShHQywgMCwgbW1HQ1ZNX0NPTlRFWFQwX1BBR0VfVEFCTEVfRU5EX0FERFJfTE8zMiwKKwkJ
ICAgICAodTMyKShhZGV2LT5nbWMuZ2FydF9lbmQgPj4gMTIpKTsKKwlXUkVHMzJfU09DMTUoR0Ms
IDAsIG1tR0NWTV9DT05URVhUMF9QQUdFX1RBQkxFX0VORF9BRERSX0hJMzIsCisJCSAgICAgKHUz
MikoYWRldi0+Z21jLmdhcnRfZW5kID4+IDQ0KSk7Cit9CisKK3N0YXRpYyB2b2lkIGdmeGh1Yl92
Ml8wX2luaXRfc3lzdGVtX2FwZXJ0dXJlX3JlZ3Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYp
Cit7CisJdWludDY0X3QgdmFsdWU7CisKKwkvKiBEaXNhYmxlIEFHUC4gKi8KKwlXUkVHMzJfU09D
MTUoR0MsIDAsIG1tR0NNQ19WTV9BR1BfQkFTRSwgMCk7CisJV1JFRzMyX1NPQzE1KEdDLCAwLCBt
bUdDTUNfVk1fQUdQX1RPUCwgMCk7CisJV1JFRzMyX1NPQzE1KEdDLCAwLCBtbUdDTUNfVk1fQUdQ
X0JPVCwgMHgwMEZGRkZGRik7CisKKwkvKiBQcm9ncmFtIHRoZSBzeXN0ZW0gYXBlcnR1cmUgbG93
IGxvZ2ljYWwgcGFnZSBudW1iZXIuICovCisJV1JFRzMyX1NPQzE1KEdDLCAwLCBtbUdDTUNfVk1f
U1lTVEVNX0FQRVJUVVJFX0xPV19BRERSLAorCQkgICAgIGFkZXYtPmdtYy52cmFtX3N0YXJ0ID4+
IDE4KTsKKwlXUkVHMzJfU09DMTUoR0MsIDAsIG1tR0NNQ19WTV9TWVNURU1fQVBFUlRVUkVfSElH
SF9BRERSLAorCQkgICAgIGFkZXYtPmdtYy52cmFtX2VuZCA+PiAxOCk7CisKKwkvKiBTZXQgZGVm
YXVsdCBwYWdlIGFkZHJlc3MuICovCisJdmFsdWUgPSBhZGV2LT52cmFtX3NjcmF0Y2guZ3B1X2Fk
ZHIgLSBhZGV2LT5nbWMudnJhbV9zdGFydAorCQkrIGFkZXYtPnZtX21hbmFnZXIudnJhbV9iYXNl
X29mZnNldDsKKwlXUkVHMzJfU09DMTUoR0MsIDAsIG1tR0NNQ19WTV9TWVNURU1fQVBFUlRVUkVf
REVGQVVMVF9BRERSX0xTQiwKKwkJICAgICAodTMyKSh2YWx1ZSA+PiAxMikpOworCVdSRUczMl9T
T0MxNShHQywgMCwgbW1HQ01DX1ZNX1NZU1RFTV9BUEVSVFVSRV9ERUZBVUxUX0FERFJfTVNCLAor
CQkgICAgICh1MzIpKHZhbHVlID4+IDQ0KSk7CisKKwkvKiBQcm9ncmFtICJwcm90ZWN0aW9uIGZh
dWx0Ii4gKi8KKwlXUkVHMzJfU09DMTUoR0MsIDAsIG1tR0NWTV9MMl9QUk9URUNUSU9OX0ZBVUxU
X0RFRkFVTFRfQUREUl9MTzMyLAorCQkgICAgICh1MzIpKGFkZXYtPmR1bW15X3BhZ2VfYWRkciA+
PiAxMikpOworCVdSRUczMl9TT0MxNShHQywgMCwgbW1HQ1ZNX0wyX1BST1RFQ1RJT05fRkFVTFRf
REVGQVVMVF9BRERSX0hJMzIsCisJCSAgICAgKHUzMikoKHU2NClhZGV2LT5kdW1teV9wYWdlX2Fk
ZHIgPj4gNDQpKTsKKworCVdSRUczMl9GSUVMRDE1KEdDLCAwLCBHQ1ZNX0wyX1BST1RFQ1RJT05f
RkFVTFRfQ05UTDIsCisJCSAgICAgICBBQ1RJVkVfUEFHRV9NSUdSQVRJT05fUFRFX1JFQURfUkVU
UlksIDEpOworfQorCisKK3N0YXRpYyB2b2lkIGdmeGh1Yl92Ml8wX2luaXRfdGxiX3JlZ3Moc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCit7CisJdWludDMyX3QgdG1wOworCisJLyogU2V0dXAg
VExCIGNvbnRyb2wgKi8KKwl0bXAgPSBSUkVHMzJfU09DMTUoR0MsIDAsIG1tR0NNQ19WTV9NWF9M
MV9UTEJfQ05UTCk7CisKKwl0bXAgPSBSRUdfU0VUX0ZJRUxEKHRtcCwgR0NNQ19WTV9NWF9MMV9U
TEJfQ05UTCwgRU5BQkxFX0wxX1RMQiwgMSk7CisJdG1wID0gUkVHX1NFVF9GSUVMRCh0bXAsIEdD
TUNfVk1fTVhfTDFfVExCX0NOVEwsIFNZU1RFTV9BQ0NFU1NfTU9ERSwgMyk7CisJdG1wID0gUkVH
X1NFVF9GSUVMRCh0bXAsIEdDTUNfVk1fTVhfTDFfVExCX0NOVEwsCisJCQkgICAgRU5BQkxFX0FE
VkFOQ0VEX0RSSVZFUl9NT0RFTCwgMSk7CisJdG1wID0gUkVHX1NFVF9GSUVMRCh0bXAsIEdDTUNf
Vk1fTVhfTDFfVExCX0NOVEwsCisJCQkgICAgU1lTVEVNX0FQRVJUVVJFX1VOTUFQUEVEX0FDQ0VT
UywgMCk7CisJdG1wID0gUkVHX1NFVF9GSUVMRCh0bXAsIEdDTUNfVk1fTVhfTDFfVExCX0NOVEws
IEVDT19CSVRTLCAwKTsKKwl0bXAgPSBSRUdfU0VUX0ZJRUxEKHRtcCwgR0NNQ19WTV9NWF9MMV9U
TEJfQ05UTCwKKwkJCSAgICBNVFlQRSwgTVRZUEVfVUMpOyAvKiBVQywgdW5jYWNoZWQgKi8KKwor
CVdSRUczMl9TT0MxNShHQywgMCwgbW1HQ01DX1ZNX01YX0wxX1RMQl9DTlRMLCB0bXApOworfQor
CitzdGF0aWMgdm9pZCBnZnhodWJfdjJfMF9pbml0X2NhY2hlX3JlZ3Moc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYpCit7CisJdWludDMyX3QgdG1wOworCisJLyogU2V0dXAgTDIgY2FjaGUgKi8K
Kwl0bXAgPSBSUkVHMzJfU09DMTUoR0MsIDAsIG1tR0NWTV9MMl9DTlRMKTsKKwl0bXAgPSBSRUdf
U0VUX0ZJRUxEKHRtcCwgR0NWTV9MMl9DTlRMLCBFTkFCTEVfTDJfQ0FDSEUsIDEpOworCXRtcCA9
IFJFR19TRVRfRklFTEQodG1wLCBHQ1ZNX0wyX0NOVEwsIEVOQUJMRV9MMl9GUkFHTUVOVF9QUk9D
RVNTSU5HLCAwKTsKKworCS8qIFhYWCBmb3IgZW11bGF0aW9uLCBSZWZlciB0byBjbG9zZWQgc291
cmNlIGNvZGUuKi8KKwl0bXAgPSBSRUdfU0VUX0ZJRUxEKHRtcCwgR0NWTV9MMl9DTlRMLAorCQkJ
ICAgIEwyX1BERTBfQ0FDSEVfVEFHX0dFTkVSQVRJT05fTU9ERSwgMCk7CisJdG1wID0gUkVHX1NF
VF9GSUVMRCh0bXAsIEdDVk1fTDJfQ05UTCwgUERFX0ZBVUxUX0NMQVNTSUZJQ0FUSU9OLCAxKTsK
Kwl0bXAgPSBSRUdfU0VUX0ZJRUxEKHRtcCwgR0NWTV9MMl9DTlRMLCBDT05URVhUMV9JREVOVElU
WV9BQ0NFU1NfTU9ERSwgMSk7CisJdG1wID0gUkVHX1NFVF9GSUVMRCh0bXAsIEdDVk1fTDJfQ05U
TCwgSURFTlRJVFlfTU9ERV9GUkFHTUVOVF9TSVpFLCAwKTsKKwlXUkVHMzJfU09DMTUoR0MsIDAs
IG1tR0NWTV9MMl9DTlRMLCB0bXApOworCisJdG1wID0gUlJFRzMyX1NPQzE1KEdDLCAwLCBtbUdD
Vk1fTDJfQ05UTDIpOworCXRtcCA9IFJFR19TRVRfRklFTEQodG1wLCBHQ1ZNX0wyX0NOVEwyLCBJ
TlZBTElEQVRFX0FMTF9MMV9UTEJTLCAxKTsKKwl0bXAgPSBSRUdfU0VUX0ZJRUxEKHRtcCwgR0NW
TV9MMl9DTlRMMiwgSU5WQUxJREFURV9MMl9DQUNIRSwgMSk7CisJV1JFRzMyX1NPQzE1KEdDLCAw
LCBtbUdDVk1fTDJfQ05UTDIsIHRtcCk7CisKKwl0bXAgPSBtbUdDVk1fTDJfQ05UTDNfREVGQVVM
VDsKKwlXUkVHMzJfU09DMTUoR0MsIDAsIG1tR0NWTV9MMl9DTlRMMywgdG1wKTsKKworCXRtcCA9
IG1tR0NWTV9MMl9DTlRMNF9ERUZBVUxUOworCXRtcCA9IFJFR19TRVRfRklFTEQodG1wLCBHQ1ZN
X0wyX0NOVEw0LCBWTUNfVEFQX1BERV9SRVFVRVNUX1BIWVNJQ0FMLCAwKTsKKwl0bXAgPSBSRUdf
U0VUX0ZJRUxEKHRtcCwgR0NWTV9MMl9DTlRMNCwgVk1DX1RBUF9QVEVfUkVRVUVTVF9QSFlTSUNB
TCwgMCk7CisJV1JFRzMyX1NPQzE1KEdDLCAwLCBtbUdDVk1fTDJfQ05UTDQsIHRtcCk7Cit9CisK
K3N0YXRpYyB2b2lkIGdmeGh1Yl92Ml8wX2VuYWJsZV9zeXN0ZW1fZG9tYWluKHN0cnVjdCBhbWRn
cHVfZGV2aWNlICphZGV2KQoreworCXVpbnQzMl90IHRtcDsKKworCXRtcCA9IFJSRUczMl9TT0Mx
NShHQywgMCwgbW1HQ1ZNX0NPTlRFWFQwX0NOVEwpOworCXRtcCA9IFJFR19TRVRfRklFTEQodG1w
LCBHQ1ZNX0NPTlRFWFQwX0NOVEwsIEVOQUJMRV9DT05URVhULCAxKTsKKwl0bXAgPSBSRUdfU0VU
X0ZJRUxEKHRtcCwgR0NWTV9DT05URVhUMF9DTlRMLCBQQUdFX1RBQkxFX0RFUFRILCAwKTsKKwlX
UkVHMzJfU09DMTUoR0MsIDAsIG1tR0NWTV9DT05URVhUMF9DTlRMLCB0bXApOworfQorCitzdGF0
aWMgdm9pZCBnZnhodWJfdjJfMF9kaXNhYmxlX2lkZW50aXR5X2FwZXJ0dXJlKHN0cnVjdCBhbWRn
cHVfZGV2aWNlICphZGV2KQoreworCVdSRUczMl9TT0MxNShHQywgMCwgbW1HQ1ZNX0wyX0NPTlRF
WFQxX0lERU5USVRZX0FQRVJUVVJFX0xPV19BRERSX0xPMzIsCisJCSAgICAgMHhGRkZGRkZGRik7
CisJV1JFRzMyX1NPQzE1KEdDLCAwLCBtbUdDVk1fTDJfQ09OVEVYVDFfSURFTlRJVFlfQVBFUlRV
UkVfTE9XX0FERFJfSEkzMiwKKwkJICAgICAweDAwMDAwMDBGKTsKKworCVdSRUczMl9TT0MxNShH
QywgMCwgbW1HQ1ZNX0wyX0NPTlRFWFQxX0lERU5USVRZX0FQRVJUVVJFX0hJR0hfQUREUl9MTzMy
LAorCQkgICAgIDApOworCVdSRUczMl9TT0MxNShHQywgMCwgbW1HQ1ZNX0wyX0NPTlRFWFQxX0lE
RU5USVRZX0FQRVJUVVJFX0hJR0hfQUREUl9ISTMyLAorCQkgICAgIDApOworCisJV1JFRzMyX1NP
QzE1KEdDLCAwLCBtbUdDVk1fTDJfQ09OVEVYVF9JREVOVElUWV9QSFlTSUNBTF9PRkZTRVRfTE8z
MiwgMCk7CisJV1JFRzMyX1NPQzE1KEdDLCAwLCBtbUdDVk1fTDJfQ09OVEVYVF9JREVOVElUWV9Q
SFlTSUNBTF9PRkZTRVRfSEkzMiwgMCk7CisKK30KKworc3RhdGljIHZvaWQgZ2Z4aHViX3YyXzBf
c2V0dXBfdm1pZF9jb25maWcoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCit7CisJaW50IGk7
CisJdWludDMyX3QgdG1wOworCisJZm9yIChpID0gMDsgaSA8PSAxNDsgaSsrKSB7CisJCXRtcCA9
IFJSRUczMl9TT0MxNV9PRkZTRVQoR0MsIDAsIG1tR0NWTV9DT05URVhUMV9DTlRMLCBpKTsKKwkJ
dG1wID0gUkVHX1NFVF9GSUVMRCh0bXAsIEdDVk1fQ09OVEVYVDFfQ05UTCwgRU5BQkxFX0NPTlRF
WFQsIDEpOworCQl0bXAgPSBSRUdfU0VUX0ZJRUxEKHRtcCwgR0NWTV9DT05URVhUMV9DTlRMLCBQ
QUdFX1RBQkxFX0RFUFRILAorCQkJCSAgICBhZGV2LT52bV9tYW5hZ2VyLm51bV9sZXZlbCk7CisJ
CXRtcCA9IFJFR19TRVRfRklFTEQodG1wLCBHQ1ZNX0NPTlRFWFQxX0NOVEwsCisJCQkJUkFOR0Vf
UFJPVEVDVElPTl9GQVVMVF9FTkFCTEVfREVGQVVMVCwgMSk7CisJCXRtcCA9IFJFR19TRVRfRklF
TEQodG1wLCBHQ1ZNX0NPTlRFWFQxX0NOVEwsCisJCQkJRFVNTVlfUEFHRV9QUk9URUNUSU9OX0ZB
VUxUX0VOQUJMRV9ERUZBVUxULCAxKTsKKwkJdG1wID0gUkVHX1NFVF9GSUVMRCh0bXAsIEdDVk1f
Q09OVEVYVDFfQ05UTCwKKwkJCQlQREUwX1BST1RFQ1RJT05fRkFVTFRfRU5BQkxFX0RFRkFVTFQs
IDEpOworCQl0bXAgPSBSRUdfU0VUX0ZJRUxEKHRtcCwgR0NWTV9DT05URVhUMV9DTlRMLAorCQkJ
CVZBTElEX1BST1RFQ1RJT05fRkFVTFRfRU5BQkxFX0RFRkFVTFQsIDEpOworCQl0bXAgPSBSRUdf
U0VUX0ZJRUxEKHRtcCwgR0NWTV9DT05URVhUMV9DTlRMLAorCQkJCVJFQURfUFJPVEVDVElPTl9G
QVVMVF9FTkFCTEVfREVGQVVMVCwgMSk7CisJCXRtcCA9IFJFR19TRVRfRklFTEQodG1wLCBHQ1ZN
X0NPTlRFWFQxX0NOVEwsCisJCQkJV1JJVEVfUFJPVEVDVElPTl9GQVVMVF9FTkFCTEVfREVGQVVM
VCwgMSk7CisJCXRtcCA9IFJFR19TRVRfRklFTEQodG1wLCBHQ1ZNX0NPTlRFWFQxX0NOVEwsCisJ
CQkJRVhFQ1VURV9QUk9URUNUSU9OX0ZBVUxUX0VOQUJMRV9ERUZBVUxULCAxKTsKKwkJdG1wID0g
UkVHX1NFVF9GSUVMRCh0bXAsIEdDVk1fQ09OVEVYVDFfQ05UTCwKKwkJCQlQQUdFX1RBQkxFX0JM
T0NLX1NJWkUsCisJCQkJYWRldi0+dm1fbWFuYWdlci5ibG9ja19zaXplIC0gOSk7CisJCS8qIFNl
bmQgbm8tcmV0cnkgWE5BQ0sgb24gZmF1bHQgdG8gc3VwcHJlc3MgVk0gZmF1bHQgc3Rvcm0uICov
CisJCXRtcCA9IFJFR19TRVRfRklFTEQodG1wLCBHQ1ZNX0NPTlRFWFQxX0NOVEwsCisJCQkJICAg
IFJFVFJZX1BFUk1JU1NJT05fT1JfSU5WQUxJRF9QQUdFX0ZBVUxULCAwKTsKKwkJV1JFRzMyX1NP
QzE1X09GRlNFVChHQywgMCwgbW1HQ1ZNX0NPTlRFWFQxX0NOVEwsIGksIHRtcCk7CisJCVdSRUcz
Ml9TT0MxNV9PRkZTRVQoR0MsIDAsIG1tR0NWTV9DT05URVhUMV9QQUdFX1RBQkxFX1NUQVJUX0FE
RFJfTE8zMiwgaSoyLCAwKTsKKwkJV1JFRzMyX1NPQzE1X09GRlNFVChHQywgMCwgbW1HQ1ZNX0NP
TlRFWFQxX1BBR0VfVEFCTEVfU1RBUlRfQUREUl9ISTMyLCBpKjIsIDApOworCQlXUkVHMzJfU09D
MTVfT0ZGU0VUKEdDLCAwLCBtbUdDVk1fQ09OVEVYVDFfUEFHRV9UQUJMRV9FTkRfQUREUl9MTzMy
LCAgaSoyLAorCQkJbG93ZXJfMzJfYml0cyhhZGV2LT52bV9tYW5hZ2VyLm1heF9wZm4gLSAxKSk7
CisJCVdSRUczMl9TT0MxNV9PRkZTRVQoR0MsIDAsIG1tR0NWTV9DT05URVhUMV9QQUdFX1RBQkxF
X0VORF9BRERSX0hJMzIsIGkqMiwKKwkJCXVwcGVyXzMyX2JpdHMoYWRldi0+dm1fbWFuYWdlci5t
YXhfcGZuIC0gMSkpOworCX0KK30KKworc3RhdGljIHZvaWQgZ2Z4aHViX3YyXzBfcHJvZ3JhbV9p
bnZhbGlkYXRpb24oc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCit7CisJdW5zaWduZWQgaTsK
KworCWZvciAoaSA9IDAgOyBpIDwgMTg7ICsraSkgeworCQlXUkVHMzJfU09DMTVfT0ZGU0VUKEdD
LCAwLCBtbUdDVk1fSU5WQUxJREFURV9FTkcwX0FERFJfUkFOR0VfTE8zMiwKKwkJCQkgICAgMiAq
IGksIDB4ZmZmZmZmZmYpOworCQlXUkVHMzJfU09DMTVfT0ZGU0VUKEdDLCAwLCBtbUdDVk1fSU5W
QUxJREFURV9FTkcwX0FERFJfUkFOR0VfSEkzMiwKKwkJCQkgICAgMiAqIGksIDB4MWYpOworCX0K
K30KKworaW50IGdmeGh1Yl92Ml8wX2dhcnRfZW5hYmxlKHN0cnVjdCBhbWRncHVfZGV2aWNlICph
ZGV2KQoreworCWlmIChhbWRncHVfc3Jpb3ZfdmYoYWRldikpIHsKKwkJLyoKKwkJICogR0NNQ19W
TV9GQl9MT0NBVElPTl9CQVNFL1RPUCBpcyBOVUxMIGZvciBWRiwgYmVjdWFzZSB0aGV5IGFyZQor
CQkgKiBWRiBjb3B5IHJlZ2lzdGVycyBzbyB2YmlvcyBwb3N0IGRvZXNuJ3QgcHJvZ3JhbSB0aGVt
LCBmb3IKKwkJICogU1JJT1YgZHJpdmVyIG5lZWQgdG8gcHJvZ3JhbSB0aGVtCisJCSAqLworCQlX
UkVHMzJfU09DMTUoR0MsIDAsIG1tR0NNQ19WTV9GQl9MT0NBVElPTl9CQVNFLAorCQkJICAgICBh
ZGV2LT5nbWMudnJhbV9zdGFydCA+PiAyNCk7CisJCVdSRUczMl9TT0MxNShHQywgMCwgbW1HQ01D
X1ZNX0ZCX0xPQ0FUSU9OX1RPUCwKKwkJCSAgICAgYWRldi0+Z21jLnZyYW1fZW5kID4+IDI0KTsK
Kwl9CisKKwkvKiBHQVJUIEVuYWJsZS4gKi8KKwlnZnhodWJfdjJfMF9pbml0X2dhcnRfYXBlcnR1
cmVfcmVncyhhZGV2KTsKKwlnZnhodWJfdjJfMF9pbml0X3N5c3RlbV9hcGVydHVyZV9yZWdzKGFk
ZXYpOworCWdmeGh1Yl92Ml8wX2luaXRfdGxiX3JlZ3MoYWRldik7CisJZ2Z4aHViX3YyXzBfaW5p
dF9jYWNoZV9yZWdzKGFkZXYpOworCisJZ2Z4aHViX3YyXzBfZW5hYmxlX3N5c3RlbV9kb21haW4o
YWRldik7CisJZ2Z4aHViX3YyXzBfZGlzYWJsZV9pZGVudGl0eV9hcGVydHVyZShhZGV2KTsKKwln
ZnhodWJfdjJfMF9zZXR1cF92bWlkX2NvbmZpZyhhZGV2KTsKKwlnZnhodWJfdjJfMF9wcm9ncmFt
X2ludmFsaWRhdGlvbihhZGV2KTsKKworCXJldHVybiAwOworfQorCit2b2lkIGdmeGh1Yl92Ml8w
X2dhcnRfZGlzYWJsZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKK3sKKwl1MzIgdG1wOwor
CXUzMiBpOworCisJLyogRGlzYWJsZSBhbGwgdGFibGVzICovCisJZm9yIChpID0gMDsgaSA8IDE2
OyBpKyspCisJCVdSRUczMl9TT0MxNV9PRkZTRVQoR0MsIDAsIG1tR0NWTV9DT05URVhUMF9DTlRM
LCBpLCAwKTsKKworCS8qIFNldHVwIFRMQiBjb250cm9sICovCisJdG1wID0gUlJFRzMyX1NPQzE1
KEdDLCAwLCBtbUdDTUNfVk1fTVhfTDFfVExCX0NOVEwpOworCXRtcCA9IFJFR19TRVRfRklFTEQo
dG1wLCBHQ01DX1ZNX01YX0wxX1RMQl9DTlRMLCBFTkFCTEVfTDFfVExCLCAwKTsKKwl0bXAgPSBS
RUdfU0VUX0ZJRUxEKHRtcCwgR0NNQ19WTV9NWF9MMV9UTEJfQ05UTCwKKwkJCSAgICBFTkFCTEVf
QURWQU5DRURfRFJJVkVSX01PREVMLCAwKTsKKwlXUkVHMzJfU09DMTUoR0MsIDAsIG1tR0NNQ19W
TV9NWF9MMV9UTEJfQ05UTCwgdG1wKTsKKworCS8qIFNldHVwIEwyIGNhY2hlICovCisJV1JFRzMy
X0ZJRUxEMTUoR0MsIDAsIEdDVk1fTDJfQ05UTCwgRU5BQkxFX0wyX0NBQ0hFLCAwKTsKKwlXUkVH
MzJfU09DMTUoR0MsIDAsIG1tR0NWTV9MMl9DTlRMMywgMCk7Cit9CisKKy8qKgorICogZ2Z4aHVi
X3YyXzBfc2V0X2ZhdWx0X2VuYWJsZV9kZWZhdWx0IC0gdXBkYXRlIEdBUlQvVk0gZmF1bHQgaGFu
ZGxpbmcKKyAqCisgKiBAYWRldjogYW1kZ3B1X2RldmljZSBwb2ludGVyCisgKiBAdmFsdWU6IHRy
dWUgcmVkaXJlY3RzIFZNIGZhdWx0cyB0byB0aGUgZGVmYXVsdCBwYWdlCisgKi8KK3ZvaWQgZ2Z4
aHViX3YyXzBfc2V0X2ZhdWx0X2VuYWJsZV9kZWZhdWx0KHN0cnVjdCBhbWRncHVfZGV2aWNlICph
ZGV2LAorCQkJCQkgIGJvb2wgdmFsdWUpCit7CisJdTMyIHRtcDsKKwl0bXAgPSBSUkVHMzJfU09D
MTUoR0MsIDAsIG1tR0NWTV9MMl9QUk9URUNUSU9OX0ZBVUxUX0NOVEwpOworCXRtcCA9IFJFR19T
RVRfRklFTEQodG1wLCBHQ1ZNX0wyX1BST1RFQ1RJT05fRkFVTFRfQ05UTCwKKwkJCSAgICBSQU5H
RV9QUk9URUNUSU9OX0ZBVUxUX0VOQUJMRV9ERUZBVUxULCB2YWx1ZSk7CisJdG1wID0gUkVHX1NF
VF9GSUVMRCh0bXAsIEdDVk1fTDJfUFJPVEVDVElPTl9GQVVMVF9DTlRMLAorCQkJICAgIFBERTBf
UFJPVEVDVElPTl9GQVVMVF9FTkFCTEVfREVGQVVMVCwgdmFsdWUpOworCXRtcCA9IFJFR19TRVRf
RklFTEQodG1wLCBHQ1ZNX0wyX1BST1RFQ1RJT05fRkFVTFRfQ05UTCwKKwkJCSAgICBQREUxX1BS
T1RFQ1RJT05fRkFVTFRfRU5BQkxFX0RFRkFVTFQsIHZhbHVlKTsKKwl0bXAgPSBSRUdfU0VUX0ZJ
RUxEKHRtcCwgR0NWTV9MMl9QUk9URUNUSU9OX0ZBVUxUX0NOVEwsCisJCQkgICAgUERFMl9QUk9U
RUNUSU9OX0ZBVUxUX0VOQUJMRV9ERUZBVUxULCB2YWx1ZSk7CisJdG1wID0gUkVHX1NFVF9GSUVM
RCh0bXAsIEdDVk1fTDJfUFJPVEVDVElPTl9GQVVMVF9DTlRMLAorCQkJICAgIFRSQU5TTEFURV9G
VVJUSEVSX1BST1RFQ1RJT05fRkFVTFRfRU5BQkxFX0RFRkFVTFQsCisJCQkgICAgdmFsdWUpOwor
CXRtcCA9IFJFR19TRVRfRklFTEQodG1wLCBHQ1ZNX0wyX1BST1RFQ1RJT05fRkFVTFRfQ05UTCwK
KwkJCSAgICBOQUNLX1BST1RFQ1RJT05fRkFVTFRfRU5BQkxFX0RFRkFVTFQsIHZhbHVlKTsKKwl0
bXAgPSBSRUdfU0VUX0ZJRUxEKHRtcCwgR0NWTV9MMl9QUk9URUNUSU9OX0ZBVUxUX0NOVEwsCisJ
CQkgICAgRFVNTVlfUEFHRV9QUk9URUNUSU9OX0ZBVUxUX0VOQUJMRV9ERUZBVUxULCB2YWx1ZSk7
CisJdG1wID0gUkVHX1NFVF9GSUVMRCh0bXAsIEdDVk1fTDJfUFJPVEVDVElPTl9GQVVMVF9DTlRM
LAorCQkJICAgIFZBTElEX1BST1RFQ1RJT05fRkFVTFRfRU5BQkxFX0RFRkFVTFQsIHZhbHVlKTsK
Kwl0bXAgPSBSRUdfU0VUX0ZJRUxEKHRtcCwgR0NWTV9MMl9QUk9URUNUSU9OX0ZBVUxUX0NOVEws
CisJCQkgICAgUkVBRF9QUk9URUNUSU9OX0ZBVUxUX0VOQUJMRV9ERUZBVUxULCB2YWx1ZSk7CisJ
dG1wID0gUkVHX1NFVF9GSUVMRCh0bXAsIEdDVk1fTDJfUFJPVEVDVElPTl9GQVVMVF9DTlRMLAor
CQkJICAgIFdSSVRFX1BST1RFQ1RJT05fRkFVTFRfRU5BQkxFX0RFRkFVTFQsIHZhbHVlKTsKKwl0
bXAgPSBSRUdfU0VUX0ZJRUxEKHRtcCwgR0NWTV9MMl9QUk9URUNUSU9OX0ZBVUxUX0NOVEwsCisJ
CQkgICAgRVhFQ1VURV9QUk9URUNUSU9OX0ZBVUxUX0VOQUJMRV9ERUZBVUxULCB2YWx1ZSk7CisJ
aWYgKCF2YWx1ZSkgeworCQl0bXAgPSBSRUdfU0VUX0ZJRUxEKHRtcCwgR0NWTV9MMl9QUk9URUNU
SU9OX0ZBVUxUX0NOVEwsCisJCQkJQ1JBU0hfT05fTk9fUkVUUllfRkFVTFQsIDEpOworCQl0bXAg
PSBSRUdfU0VUX0ZJRUxEKHRtcCwgR0NWTV9MMl9QUk9URUNUSU9OX0ZBVUxUX0NOVEwsCisJCQkJ
Q1JBU0hfT05fUkVUUllfRkFVTFQsIDEpOworCX0KKwlXUkVHMzJfU09DMTUoR0MsIDAsIG1tR0NW
TV9MMl9QUk9URUNUSU9OX0ZBVUxUX0NOVEwsIHRtcCk7Cit9CisKK3ZvaWQgZ2Z4aHViX3YyXzBf
aW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKK3sKKwlzdHJ1Y3QgYW1kZ3B1X3ZtaHVi
ICpodWIgPSAmYWRldi0+dm1odWJbQU1ER1BVX0dGWEhVQl07CisKKwlodWItPmN0eDBfcHRiX2Fk
ZHJfbG8zMiA9CisJCVNPQzE1X1JFR19PRkZTRVQoR0MsIDAsCisJCQkJIG1tR0NWTV9DT05URVhU
MF9QQUdFX1RBQkxFX0JBU0VfQUREUl9MTzMyKTsKKwlodWItPmN0eDBfcHRiX2FkZHJfaGkzMiA9
CisJCVNPQzE1X1JFR19PRkZTRVQoR0MsIDAsCisJCQkJIG1tR0NWTV9DT05URVhUMF9QQUdFX1RB
QkxFX0JBU0VfQUREUl9ISTMyKTsKKwlodWItPnZtX2ludl9lbmcwX3JlcSA9CisJCVNPQzE1X1JF
R19PRkZTRVQoR0MsIDAsIG1tR0NWTV9JTlZBTElEQVRFX0VORzBfUkVRKTsKKwlodWItPnZtX2lu
dl9lbmcwX2FjayA9CisJCVNPQzE1X1JFR19PRkZTRVQoR0MsIDAsIG1tR0NWTV9JTlZBTElEQVRF
X0VORzBfQUNLKTsKKwlodWItPnZtX2NvbnRleHQwX2NudGwgPQorCQlTT0MxNV9SRUdfT0ZGU0VU
KEdDLCAwLCBtbUdDVk1fQ09OVEVYVDBfQ05UTCk7CisJaHViLT52bV9sMl9wcm9fZmF1bHRfc3Rh
dHVzID0KKwkJU09DMTVfUkVHX09GRlNFVChHQywgMCwgbW1HQ1ZNX0wyX1BST1RFQ1RJT05fRkFV
TFRfU1RBVFVTKTsKKwlodWItPnZtX2wyX3Byb19mYXVsdF9jbnRsID0KKwkJU09DMTVfUkVHX09G
RlNFVChHQywgMCwgbW1HQ1ZNX0wyX1BST1RFQ1RJT05fRkFVTFRfQ05UTCk7Cit9CmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhodWJfdjJfMC5oIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvZ2Z4aHViX3YyXzAuaApuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRl
eCAwMDAwMDAwMDAwMDAuLjA2ODA3OTQwNzQ4YgotLS0gL2Rldi9udWxsCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2dmeGh1Yl92Ml8wLmgKQEAgLTAsMCArMSwzNSBAQAorLyoKKyAq
IENvcHlyaWdodCAyMDE5IEFkdmFuY2VkIE1pY3JvIERldmljZXMsIEluYy4KKyAqCisgKiBQZXJt
aXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBv
YnRhaW5pbmcgYQorICogY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3Vt
ZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwKKyAqIHRvIGRlYWwgaW4gdGhlIFNvZnR3
YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24KKyAq
IHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmli
dXRlLCBzdWJsaWNlbnNlLAorICogYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwg
YW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlCisgKiBTb2Z0d2FyZSBpcyBmdXJuaXNo
ZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgorICoKKyAq
IFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNo
YWxsIGJlIGluY2x1ZGVkIGluCisgKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25z
IG9mIHRoZSBTb2Z0d2FyZS4KKyAqCisgKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElT
IiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgorICogSU1QTElFRCwg
SU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFC
SUxJVFksCisgKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklO
R0VNRU5ULiAgSU4gTk8gRVZFTlQgU0hBTEwKKyAqIFRIRSBDT1BZUklHSFQgSE9MREVSKFMpIE9S
IEFVVEhPUihTKSBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUgorICogT1RIRVIg
TElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhF
UldJU0UsCisgKiBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhF
IFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IKKyAqIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FS
RS4KKyAqCisgKi8KKworI2lmbmRlZiBfX0dGWEhVQl9WMl8wX0hfXworI2RlZmluZSBfX0dGWEhV
Ql9WMl8wX0hfXworCit1NjQgZ2Z4aHViX3YyXzBfZ2V0X2ZiX2xvY2F0aW9uKHN0cnVjdCBhbWRn
cHVfZGV2aWNlICphZGV2KTsKK2ludCBnZnhodWJfdjJfMF9nYXJ0X2VuYWJsZShzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldik7Cit2b2lkIGdmeGh1Yl92Ml8wX2dhcnRfZGlzYWJsZShzdHJ1Y3Qg
YW1kZ3B1X2RldmljZSAqYWRldik7Cit2b2lkIGdmeGh1Yl92Ml8wX3NldF9mYXVsdF9lbmFibGVf
ZGVmYXVsdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKKwkJCQkJICBib29sIHZhbHVlKTsK
K3ZvaWQgZ2Z4aHViX3YyXzBfaW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7Cit1NjQg
Z2Z4aHViX3YyXzBfZ2V0X21jX2ZiX29mZnNldChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7
CisKKyNlbmRpZgotLSAKMi4yMC4xCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNr
dG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2Ft
ZC1nZng=
