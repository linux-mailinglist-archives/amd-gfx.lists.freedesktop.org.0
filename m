Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 9C51F9974D
	for <lists+amd-gfx@lfdr.de>; Thu, 22 Aug 2019 16:49:17 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1C6926EB6F;
	Thu, 22 Aug 2019 14:49:16 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM04-CO1-obe.outbound.protection.outlook.com
 (mail-eopbgr690067.outbound.protection.outlook.com [40.107.69.67])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D88C96EB6F
 for <amd-gfx@lists.freedesktop.org>; Thu, 22 Aug 2019 14:49:14 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=R2FirDMA15Kzn7XBSoyKQv0DE0EW+Tfxm/1THdJ8kPpHsnvI5x9kmyKetTM4JF6Iyo4S3M/jKn9ifpFgtx+2pHZ+1Se+YySD4CxnqjJHSlduY6Y2XcaiB8MUEY7w3+i/YJTtul8FtkvCCnqbF6kPTilsdLzDfWPoYjXgQ81lYf8Niu/5cFz5JV4tMfWU4pf9/CivOxbcUStIo/jpPdgFMXAhnaOA/zAtDk1khKNAxWozmcXCYzzZ2/ZxeZLU1CshcH13q+zNgK2uNsZgzr602SHWr9uDctHxbl9eMTDg3ik40AGDkHshZsYlMwtqc2P8XiwuYsoL7UtRVTbQw4H6AA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=udHMgiUzIlgjgnLcnF6d2UqJWhuHH4VinZRGlVhtLtc=;
 b=TEuFelE/K0DZT3cu/lNgZGf/eOFtOe3hJIykOsTQu2EPHYUQ222u89e4+L9rK91knJ6bJ6JG3fNLFXDfhemIfvIquWnJWpilJo6+AAMDxhtHF/UzbiMKbw5wrOAK0oG5Hq1rD9zao2ChW242pTCe14wGS/j5j0ZEkp5jjbKKcqFEp5h4g+d6KHafAKjKy3rb1+1vkWf0V23ZbxUOK5SqtZBAQOEFZtAitkhGIkcXGAYHFqJo4NLaudt4ZM7+gyTzF2E9VioSSZFfdWfgbuggUGhgcNhyPnR5vnDzg4+7x7TJbkl7O0v6e+mQwvKuPK08lV9iCHoe9Heh0P3i+yKCkg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from BN6PR12MB1204.namprd12.prod.outlook.com (10.168.226.144) by
 BN6PR12MB1364.namprd12.prod.outlook.com (10.168.228.22) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2178.18; Thu, 22 Aug 2019 14:49:13 +0000
Received: from BN6PR12MB1204.namprd12.prod.outlook.com
 ([fe80::cd59:2af9:942:9481]) by BN6PR12MB1204.namprd12.prod.outlook.com
 ([fe80::cd59:2af9:942:9481%10]) with mapi id 15.20.2178.020; Thu, 22 Aug 2019
 14:49:13 +0000
From: Gang Ba <gaba@amd.com>
To: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: [PATCH] Revert "drm/amdgpu: make function pointers mandatory"
Thread-Topic: [PATCH] Revert "drm/amdgpu: make function pointers mandatory"
Thread-Index: AQHVWPjDegGdKuJy1UqkerMwLhYntg==
Date: Thu, 22 Aug 2019 14:49:13 +0000
Message-ID: <1566485344-25702-1-git-send-email-gaba@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: YTXPR0101CA0038.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:b00:1::15) To BN6PR12MB1204.namprd12.prod.outlook.com
 (2603:10b6:404:1b::16)
x-ms-exchange-messagesentrepresentingtype: 1
x-mailer: git-send-email 2.7.4
x-originating-ip: [165.204.55.251]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 47a721d8-4dec-41fa-65a3-08d7270fe5bf
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(5600166)(711020)(4605104)(1401327)(4618075)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(2017052603328)(7193020);
 SRVR:BN6PR12MB1364; 
x-ms-traffictypediagnostic: BN6PR12MB1364:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <BN6PR12MB13647407CB834E9E090B5EB5FFA50@BN6PR12MB1364.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:24;
x-forefront-prvs: 01371B902F
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(396003)(136003)(39860400002)(376002)(346002)(366004)(189003)(199004)(64756008)(478600001)(2616005)(71190400001)(26005)(6506007)(386003)(53946003)(6512007)(5660300002)(53936002)(6436002)(66066001)(71200400001)(2501003)(6486002)(476003)(30864003)(36756003)(14454004)(186003)(5640700003)(8936002)(52116002)(6116002)(316002)(7736002)(99286004)(81166006)(81156014)(25786009)(66556008)(6916009)(256004)(4326008)(50226002)(102836004)(2906002)(305945005)(3846002)(66476007)(2351001)(486006)(8676002)(66446008)(66946007);
 DIR:OUT; SFP:1101; SCL:1; SRVR:BN6PR12MB1364;
 H:BN6PR12MB1204.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: z0VmR8PAXQnasedcyFqSlMLLxQXCOAW+KfBXza/bOA8OOCnlWLpbQZNsRCqnEPmQPpsNMzu3yR1etYuFPwvsXYVy2IitC/zRSqUnN1Aenx0pmDu72Tqz1cjXTSsJY7cSHRXGZsbPrI/B2rtZkNC5xStQno5Gv8/lotHvNLwveI05qK+RbiNnEQyQoSa77lCV77RF+IVSKkM3eynAGq7bCMvVaxfuUvSzY213B6243QadfOT89lDe9jvryiQMwwcFmC/4kHqrki0VjYD7SkggQ1qMmZ3KuGm4uFqcWQM1VQDjqL6O5q76zkPc0EWvT7WEaDR7EkDGxrzdWy1Qgf/6y0IzR0B8nJuY6VCbDLkzaqpr0x+Yvh/XUm7P5T6e5gSBF58KwiLoN8Ok2PuzOObPoiPKn9pWufh7vrlWDAn8qCY=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 47a721d8-4dec-41fa-65a3-08d7270fe5bf
X-MS-Exchange-CrossTenant-originalarrivaltime: 22 Aug 2019 14:49:13.0362 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: VS5u10/K2OmjwQaSQBwnExU4vFRmdHIFBdLKpCzQ95hWH6Jm5puNJSuH2Af217H+
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BN6PR12MB1364
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=udHMgiUzIlgjgnLcnF6d2UqJWhuHH4VinZRGlVhtLtc=;
 b=lmKUzZWMa9ZCer3T2ajNjSSMU719v164QP4MHAyJEshFVREd+S7m37DJYoVRVp26rO61YR5Z4IkZw9cYmUTLLPaOiGJFK22gSBZAk30GpuuIh9xohZXstHbiYczktL6c8x9+1prp/1It9rjMNy8uJ6XIIJVkxVBoo1flz3gR+/s=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Gang.Ba@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Ba, Gang" <Gang.Ba@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

VGhpcyByZXZlcnRzIGNvbW1pdCBmNTRiMzBkNzBiYzYwNmY3YTE1NGVkYmE1ODgzYzdmYTIzODM4
ZTlmLgoKQ2hhbmdlLUlkOiBJMjIzMjdhYWMzOTAyOTdiZGY2YTE5YjNhYzMzZmFkYjQ3YmUxZTk2
ZAotLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Npa19paC5jICAgICAgfCAgMyArKy0K
IGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Npa19zZG1hLmMgICAgfCAyMCArKysrKysrKysr
KystLS0tLS0tLQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvY3pfaWguYyAgICAgICB8ICAz
ICsrLQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZGNlX3YxMF8wLmMgICB8ICAzICsrLQog
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZGNlX3YxMV8wLmMgICB8ICAzICsrLQogZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvZGNlX3Y2XzAuYyAgICB8ICAzICsrLQogZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvZGNlX3Y4XzAuYyAgICB8ICAzICsrLQogZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvZGNlX3ZpcnR1YWwuYyB8ICAzICsrLQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvZ21jX3Y2XzAuYyAgICB8ICAzICsrLQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21j
X3Y3XzAuYyAgICB8ICAzICsrLQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3Y4XzAu
YyAgICB8ICAzICsrLQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3Y5XzAuYyAgICB8
ICAzICsrLQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvaWNlbGFuZF9paC5jICB8ICAzICsr
LQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92Ml80LmMgICB8IDIwICsrKysrKysr
KysrKy0tLS0tLS0tCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3YzXzAuYyAgIHwg
MjAgKysrKysrKysrKysrLS0tLS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFf
djRfMC5jICAgfCAyNSArKysrKystLS0tLS0tLS0tLS0tLS0tLS0tCiBkcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9zaV9kbWEuYyAgICAgIHwgMjAgKysrKysrKysrKysrLS0tLS0tLS0KIGRyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NpX2loLmMgICAgICAgfCAgMyArKy0KIGRyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L3RvbmdhX2loLmMgICAgfCAgMyArKy0KIGRyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L3ZlZ2ExMF9paC5jICAgfCAgMyArKy0KIDIwIGZpbGVzIGNoYW5nZWQsIDg0IGlu
c2VydGlvbnMoKyksIDY2IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2Npa19paC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvY2lrX2lo
LmMKaW5kZXggNzIxYzc1Ny4uM2I1YjJhYiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvY2lrX2loLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvY2lrX2lo
LmMKQEAgLTQ0MSw3ICs0NDEsOCBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGFtZGdwdV9paF9mdW5j
cyBjaWtfaWhfZnVuY3MgPSB7CiAKIHN0YXRpYyB2b2lkIGNpa19paF9zZXRfaW50ZXJydXB0X2Z1
bmNzKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQogewotCWFkZXYtPmlycS5paF9mdW5jcyA9
ICZjaWtfaWhfZnVuY3M7CisJaWYgKGFkZXYtPmlycS5paF9mdW5jcyA9PSBOVUxMKQorCQlhZGV2
LT5pcnEuaWhfZnVuY3MgPSAmY2lrX2loX2Z1bmNzOwogfQogCiBjb25zdCBzdHJ1Y3QgYW1kZ3B1
X2lwX2Jsb2NrX3ZlcnNpb24gY2lrX2loX2lwX2Jsb2NrID0KZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2Npa19zZG1hLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9jaWtfc2RtYS5jCmluZGV4IGQ0MjgwOGIuLmYzMGE5NjEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2Npa19zZG1hLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvY2lrX3NkbWEuYwpAQCAtMTM1Niw4ICsxMzU2LDEwIEBAIHN0YXRpYyBjb25zdCBzdHJ1
Y3QgYW1kZ3B1X2J1ZmZlcl9mdW5jcyBjaWtfc2RtYV9idWZmZXJfZnVuY3MgPSB7CiAKIHN0YXRp
YyB2b2lkIGNpa19zZG1hX3NldF9idWZmZXJfZnVuY3Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFk
ZXYpCiB7Ci0JYWRldi0+bW1hbi5idWZmZXJfZnVuY3MgPSAmY2lrX3NkbWFfYnVmZmVyX2Z1bmNz
OwotCWFkZXYtPm1tYW4uYnVmZmVyX2Z1bmNzX3JpbmcgPSAmYWRldi0+c2RtYS5pbnN0YW5jZVsw
XS5yaW5nOworCWlmIChhZGV2LT5tbWFuLmJ1ZmZlcl9mdW5jcyA9PSBOVUxMKSB7CisJCWFkZXYt
Pm1tYW4uYnVmZmVyX2Z1bmNzID0gJmNpa19zZG1hX2J1ZmZlcl9mdW5jczsKKwkJYWRldi0+bW1h
bi5idWZmZXJfZnVuY3NfcmluZyA9ICZhZGV2LT5zZG1hLmluc3RhbmNlWzBdLnJpbmc7CisJfQog
fQogCiBzdGF0aWMgY29uc3Qgc3RydWN0IGFtZGdwdV92bV9wdGVfZnVuY3MgY2lrX3NkbWFfdm1f
cHRlX2Z1bmNzID0gewpAQCAtMTM3MywxMyArMTM3NSwxNSBAQCBzdGF0aWMgdm9pZCBjaWtfc2Rt
YV9zZXRfdm1fcHRlX2Z1bmNzKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQogCXN0cnVjdCBk
cm1fZ3B1X3NjaGVkdWxlciAqc2NoZWQ7CiAJdW5zaWduZWQgaTsKIAotCWFkZXYtPnZtX21hbmFn
ZXIudm1fcHRlX2Z1bmNzID0gJmNpa19zZG1hX3ZtX3B0ZV9mdW5jczsKLQlmb3IgKGkgPSAwOyBp
IDwgYWRldi0+c2RtYS5udW1faW5zdGFuY2VzOyBpKyspIHsKLQkJc2NoZWQgPSAmYWRldi0+c2Rt
YS5pbnN0YW5jZVtpXS5yaW5nLnNjaGVkOwotCQlhZGV2LT52bV9tYW5hZ2VyLnZtX3B0ZV9ycXNb
aV0gPQotCQkJJnNjaGVkLT5zY2hlZF9ycVtEUk1fU0NIRURfUFJJT1JJVFlfS0VSTkVMXTsKKwlp
ZiAoYWRldi0+dm1fbWFuYWdlci52bV9wdGVfZnVuY3MgPT0gTlVMTCkgeworCQlhZGV2LT52bV9t
YW5hZ2VyLnZtX3B0ZV9mdW5jcyA9ICZjaWtfc2RtYV92bV9wdGVfZnVuY3M7CisJCWZvciAoaSA9
IDA7IGkgPCBhZGV2LT5zZG1hLm51bV9pbnN0YW5jZXM7IGkrKykgeworCQkJc2NoZWQgPSAmYWRl
di0+c2RtYS5pbnN0YW5jZVtpXS5yaW5nLnNjaGVkOworCQkJYWRldi0+dm1fbWFuYWdlci52bV9w
dGVfcnFzW2ldID0KKwkJCQkmc2NoZWQtPnNjaGVkX3JxW0RSTV9TQ0hFRF9QUklPUklUWV9LRVJO
RUxdOworCQl9CisJCWFkZXYtPnZtX21hbmFnZXIudm1fcHRlX251bV9ycXMgPSBhZGV2LT5zZG1h
Lm51bV9pbnN0YW5jZXM7CiAJfQotCWFkZXYtPnZtX21hbmFnZXIudm1fcHRlX251bV9ycXMgPSBh
ZGV2LT5zZG1hLm51bV9pbnN0YW5jZXM7CiB9CiAKIGNvbnN0IHN0cnVjdCBhbWRncHVfaXBfYmxv
Y2tfdmVyc2lvbiBjaWtfc2RtYV9pcF9ibG9jayA9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9jel9paC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvY3pfaWgu
YwppbmRleCA2MTAyNGI5Li43NmFmNzVlIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9jel9paC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2N6X2loLmMK
QEAgLTQyMiw3ICs0MjIsOCBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGFtZGdwdV9paF9mdW5jcyBj
el9paF9mdW5jcyA9IHsKIAogc3RhdGljIHZvaWQgY3pfaWhfc2V0X2ludGVycnVwdF9mdW5jcyhz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKIHsKLQlhZGV2LT5pcnEuaWhfZnVuY3MgPSAmY3pf
aWhfZnVuY3M7CisJaWYgKGFkZXYtPmlycS5paF9mdW5jcyA9PSBOVUxMKQorCQlhZGV2LT5pcnEu
aWhfZnVuY3MgPSAmY3pfaWhfZnVuY3M7CiB9CiAKIGNvbnN0IHN0cnVjdCBhbWRncHVfaXBfYmxv
Y2tfdmVyc2lvbiBjel9paF9pcF9ibG9jayA9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9kY2VfdjEwXzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2RjZV92
MTBfMC5jCmluZGV4IGM2MDliN2EuLmMzMzdkNzEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2RjZV92MTBfMC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2RjZV92MTBfMC5jCkBAIC0zNTc0LDcgKzM1NzQsOCBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGFt
ZGdwdV9kaXNwbGF5X2Z1bmNzIGRjZV92MTBfMF9kaXNwbGF5X2Z1bmNzID0gewogCiBzdGF0aWMg
dm9pZCBkY2VfdjEwXzBfc2V0X2Rpc3BsYXlfZnVuY3Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFk
ZXYpCiB7Ci0JYWRldi0+bW9kZV9pbmZvLmZ1bmNzID0gJmRjZV92MTBfMF9kaXNwbGF5X2Z1bmNz
OworCWlmIChhZGV2LT5tb2RlX2luZm8uZnVuY3MgPT0gTlVMTCkKKwkJYWRldi0+bW9kZV9pbmZv
LmZ1bmNzID0gJmRjZV92MTBfMF9kaXNwbGF5X2Z1bmNzOwogfQogCiBzdGF0aWMgY29uc3Qgc3Ry
dWN0IGFtZGdwdV9pcnFfc3JjX2Z1bmNzIGRjZV92MTBfMF9jcnRjX2lycV9mdW5jcyA9IHsKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2RjZV92MTFfMC5jIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvZGNlX3YxMV8wLmMKaW5kZXggNzE5ZGIwNS4uZTBjNmIzNiAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZGNlX3YxMV8wLmMKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZGNlX3YxMV8wLmMKQEAgLTM3MDYsNyArMzcwNiw4
IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgYW1kZ3B1X2Rpc3BsYXlfZnVuY3MgZGNlX3YxMV8wX2Rp
c3BsYXlfZnVuY3MgPSB7CiAKIHN0YXRpYyB2b2lkIGRjZV92MTFfMF9zZXRfZGlzcGxheV9mdW5j
cyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKIHsKLQlhZGV2LT5tb2RlX2luZm8uZnVuY3Mg
PSAmZGNlX3YxMV8wX2Rpc3BsYXlfZnVuY3M7CisJaWYgKGFkZXYtPm1vZGVfaW5mby5mdW5jcyA9
PSBOVUxMKQorCQlhZGV2LT5tb2RlX2luZm8uZnVuY3MgPSAmZGNlX3YxMV8wX2Rpc3BsYXlfZnVu
Y3M7CiB9CiAKIHN0YXRpYyBjb25zdCBzdHJ1Y3QgYW1kZ3B1X2lycV9zcmNfZnVuY3MgZGNlX3Yx
MV8wX2NydGNfaXJxX2Z1bmNzID0gewpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvZGNlX3Y2XzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2RjZV92Nl8wLmMK
aW5kZXggOGVlOTk2NS4uZDExNTY3MiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvZGNlX3Y2XzAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9kY2VfdjZf
MC5jCkBAIC0zMzgxLDcgKzMzODEsOCBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGFtZGdwdV9kaXNw
bGF5X2Z1bmNzIGRjZV92Nl8wX2Rpc3BsYXlfZnVuY3MgPSB7CiAKIHN0YXRpYyB2b2lkIGRjZV92
Nl8wX3NldF9kaXNwbGF5X2Z1bmNzKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQogewotCWFk
ZXYtPm1vZGVfaW5mby5mdW5jcyA9ICZkY2VfdjZfMF9kaXNwbGF5X2Z1bmNzOworCWlmIChhZGV2
LT5tb2RlX2luZm8uZnVuY3MgPT0gTlVMTCkKKwkJYWRldi0+bW9kZV9pbmZvLmZ1bmNzID0gJmRj
ZV92Nl8wX2Rpc3BsYXlfZnVuY3M7CiB9CiAKIHN0YXRpYyBjb25zdCBzdHJ1Y3QgYW1kZ3B1X2ly
cV9zcmNfZnVuY3MgZGNlX3Y2XzBfY3J0Y19pcnFfZnVuY3MgPSB7CmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9kY2VfdjhfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvZGNlX3Y4XzAuYwppbmRleCA3MDM3ZTAxLi42YTQ4ZTgxIDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9kY2VfdjhfMC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2RjZV92OF8wLmMKQEAgLTM0NjIsNyArMzQ2Miw4IEBAIHN0YXRpYyBjb25zdCBz
dHJ1Y3QgYW1kZ3B1X2Rpc3BsYXlfZnVuY3MgZGNlX3Y4XzBfZGlzcGxheV9mdW5jcyA9IHsKIAog
c3RhdGljIHZvaWQgZGNlX3Y4XzBfc2V0X2Rpc3BsYXlfZnVuY3Moc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYpCiB7Ci0JYWRldi0+bW9kZV9pbmZvLmZ1bmNzID0gJmRjZV92OF8wX2Rpc3BsYXlf
ZnVuY3M7CisJaWYgKGFkZXYtPm1vZGVfaW5mby5mdW5jcyA9PSBOVUxMKQorCQlhZGV2LT5tb2Rl
X2luZm8uZnVuY3MgPSAmZGNlX3Y4XzBfZGlzcGxheV9mdW5jczsKIH0KIAogc3RhdGljIGNvbnN0
IHN0cnVjdCBhbWRncHVfaXJxX3NyY19mdW5jcyBkY2VfdjhfMF9jcnRjX2lycV9mdW5jcyA9IHsK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2RjZV92aXJ0dWFsLmMgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9kY2VfdmlydHVhbC5jCmluZGV4IDZkYWRiZWQuLmEy
YWMyNzcgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2RjZV92aXJ0dWFs
LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZGNlX3ZpcnR1YWwuYwpAQCAtNjQx
LDcgKzY0MSw4IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgYW1kZ3B1X2Rpc3BsYXlfZnVuY3MgZGNl
X3ZpcnR1YWxfZGlzcGxheV9mdW5jcyA9IHsKIAogc3RhdGljIHZvaWQgZGNlX3ZpcnR1YWxfc2V0
X2Rpc3BsYXlfZnVuY3Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCiB7Ci0JYWRldi0+bW9k
ZV9pbmZvLmZ1bmNzID0gJmRjZV92aXJ0dWFsX2Rpc3BsYXlfZnVuY3M7CisJaWYgKGFkZXYtPm1v
ZGVfaW5mby5mdW5jcyA9PSBOVUxMKQorCQlhZGV2LT5tb2RlX2luZm8uZnVuY3MgPSAmZGNlX3Zp
cnR1YWxfZGlzcGxheV9mdW5jczsKIH0KIAogc3RhdGljIGludCBkY2VfdmlydHVhbF9wYWdlZmxp
cChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2dtY192Nl8wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNf
djZfMC5jCmluZGV4IDU2NGZiMWMuLjMxYWE5Y2MgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2dtY192Nl8wLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
Z21jX3Y2XzAuYwpAQCAtMTE2Nyw3ICsxMTY3LDggQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBhbWRn
cHVfaXJxX3NyY19mdW5jcyBnbWNfdjZfMF9pcnFfZnVuY3MgPSB7CiAKIHN0YXRpYyB2b2lkIGdt
Y192Nl8wX3NldF9nbWNfZnVuY3Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCiB7Ci0JYWRl
di0+Z21jLmdtY19mdW5jcyA9ICZnbWNfdjZfMF9nbWNfZnVuY3M7CisJaWYgKGFkZXYtPmdtYy5n
bWNfZnVuY3MgPT0gTlVMTCkKKwkJYWRldi0+Z21jLmdtY19mdW5jcyA9ICZnbWNfdjZfMF9nbWNf
ZnVuY3M7CiB9CiAKIHN0YXRpYyB2b2lkIGdtY192Nl8wX3NldF9pcnFfZnVuY3Moc3RydWN0IGFt
ZGdwdV9kZXZpY2UgKmFkZXYpCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9nbWNfdjdfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3Y3XzAuYwppbmRl
eCA5ZTZhMjMzLi5hMmMwMzExIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9nbWNfdjdfMC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192N18wLmMK
QEAgLTEzNjMsNyArMTM2Myw4IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgYW1kZ3B1X2lycV9zcmNf
ZnVuY3MgZ21jX3Y3XzBfaXJxX2Z1bmNzID0gewogCiBzdGF0aWMgdm9pZCBnbWNfdjdfMF9zZXRf
Z21jX2Z1bmNzKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQogewotCWFkZXYtPmdtYy5nbWNf
ZnVuY3MgPSAmZ21jX3Y3XzBfZ21jX2Z1bmNzOworCWlmIChhZGV2LT5nbWMuZ21jX2Z1bmNzID09
IE5VTEwpCisJCWFkZXYtPmdtYy5nbWNfZnVuY3MgPSAmZ21jX3Y3XzBfZ21jX2Z1bmNzOwogfQog
CiBzdGF0aWMgdm9pZCBnbWNfdjdfMF9zZXRfaXJxX2Z1bmNzKHN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2KQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3Y4XzAu
YyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192OF8wLmMKaW5kZXggZjdkNmEwNy4u
NTQ4YjRjYyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3Y4XzAu
YworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjhfMC5jCkBAIC0xNzMxLDcg
KzE3MzEsOCBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGFtZGdwdV9pcnFfc3JjX2Z1bmNzIGdtY192
OF8wX2lycV9mdW5jcyA9IHsKIAogc3RhdGljIHZvaWQgZ21jX3Y4XzBfc2V0X2dtY19mdW5jcyhz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKIHsKLQlhZGV2LT5nbWMuZ21jX2Z1bmNzID0gJmdt
Y192OF8wX2dtY19mdW5jczsKKwlpZiAoYWRldi0+Z21jLmdtY19mdW5jcyA9PSBOVUxMKQorCQlh
ZGV2LT5nbWMuZ21jX2Z1bmNzID0gJmdtY192OF8wX2dtY19mdW5jczsKIH0KIAogc3RhdGljIHZv
aWQgZ21jX3Y4XzBfc2V0X2lycV9mdW5jcyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192OV8wLmMgYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjlfMC5jCmluZGV4IDZjZTI5NzcuLjhmNjRiMjMgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192OV8wLmMKKysrIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3Y5XzAuYwpAQCAtNjM4LDcgKzYzOCw4IEBAIHN0
YXRpYyBjb25zdCBzdHJ1Y3QgYW1kZ3B1X2dtY19mdW5jcyBnbWNfdjlfMF9nbWNfZnVuY3MgPSB7
CiAKIHN0YXRpYyB2b2lkIGdtY192OV8wX3NldF9nbWNfZnVuY3Moc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYpCiB7Ci0JYWRldi0+Z21jLmdtY19mdW5jcyA9ICZnbWNfdjlfMF9nbWNfZnVuY3M7
CisJaWYgKGFkZXYtPmdtYy5nbWNfZnVuY3MgPT0gTlVMTCkKKwkJYWRldi0+Z21jLmdtY19mdW5j
cyA9ICZnbWNfdjlfMF9nbWNfZnVuY3M7CiB9CiAKIHN0YXRpYyB2b2lkIGdtY192OV8wX3NldF91
bWNfZnVuY3Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9pY2VsYW5kX2loLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9pY2VsYW5kX2loLmMKaW5kZXggYjE2MjZlMS4uYTc3NTBkNiAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvaWNlbGFuZF9paC5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2ljZWxhbmRfaWguYwpAQCAtNDIwLDcgKzQyMCw4IEBAIHN0YXRpYyBjb25z
dCBzdHJ1Y3QgYW1kZ3B1X2loX2Z1bmNzIGljZWxhbmRfaWhfZnVuY3MgPSB7CiAKIHN0YXRpYyB2
b2lkIGljZWxhbmRfaWhfc2V0X2ludGVycnVwdF9mdW5jcyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldikKIHsKLQlhZGV2LT5pcnEuaWhfZnVuY3MgPSAmaWNlbGFuZF9paF9mdW5jczsKKwlpZiAo
YWRldi0+aXJxLmloX2Z1bmNzID09IE5VTEwpCisJCWFkZXYtPmlycS5paF9mdW5jcyA9ICZpY2Vs
YW5kX2loX2Z1bmNzOwogfQogCiBjb25zdCBzdHJ1Y3QgYW1kZ3B1X2lwX2Jsb2NrX3ZlcnNpb24g
aWNlbGFuZF9paF9pcF9ibG9jayA9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9zZG1hX3YyXzQuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjJfNC5j
CmluZGV4IDM2MTk2MzcuLjBiMzNiODYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L3NkbWFfdjJfNC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFf
djJfNC5jCkBAIC0xMjQzLDggKzEyNDMsMTAgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBhbWRncHVf
YnVmZmVyX2Z1bmNzIHNkbWFfdjJfNF9idWZmZXJfZnVuY3MgPSB7CiAKIHN0YXRpYyB2b2lkIHNk
bWFfdjJfNF9zZXRfYnVmZmVyX2Z1bmNzKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQogewot
CWFkZXYtPm1tYW4uYnVmZmVyX2Z1bmNzID0gJnNkbWFfdjJfNF9idWZmZXJfZnVuY3M7Ci0JYWRl
di0+bW1hbi5idWZmZXJfZnVuY3NfcmluZyA9ICZhZGV2LT5zZG1hLmluc3RhbmNlWzBdLnJpbmc7
CisJaWYgKGFkZXYtPm1tYW4uYnVmZmVyX2Z1bmNzID09IE5VTEwpIHsKKwkJYWRldi0+bW1hbi5i
dWZmZXJfZnVuY3MgPSAmc2RtYV92Ml80X2J1ZmZlcl9mdW5jczsKKwkJYWRldi0+bW1hbi5idWZm
ZXJfZnVuY3NfcmluZyA9ICZhZGV2LT5zZG1hLmluc3RhbmNlWzBdLnJpbmc7CisJfQogfQogCiBz
dGF0aWMgY29uc3Qgc3RydWN0IGFtZGdwdV92bV9wdGVfZnVuY3Mgc2RtYV92Ml80X3ZtX3B0ZV9m
dW5jcyA9IHsKQEAgLTEyNjAsMTMgKzEyNjIsMTUgQEAgc3RhdGljIHZvaWQgc2RtYV92Ml80X3Nl
dF92bV9wdGVfZnVuY3Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCiAJc3RydWN0IGRybV9n
cHVfc2NoZWR1bGVyICpzY2hlZDsKIAl1bnNpZ25lZCBpOwogCi0JYWRldi0+dm1fbWFuYWdlci52
bV9wdGVfZnVuY3MgPSAmc2RtYV92Ml80X3ZtX3B0ZV9mdW5jczsKLQlmb3IgKGkgPSAwOyBpIDwg
YWRldi0+c2RtYS5udW1faW5zdGFuY2VzOyBpKyspIHsKLQkJc2NoZWQgPSAmYWRldi0+c2RtYS5p
bnN0YW5jZVtpXS5yaW5nLnNjaGVkOwotCQlhZGV2LT52bV9tYW5hZ2VyLnZtX3B0ZV9ycXNbaV0g
PQotCQkJJnNjaGVkLT5zY2hlZF9ycVtEUk1fU0NIRURfUFJJT1JJVFlfS0VSTkVMXTsKKwlpZiAo
YWRldi0+dm1fbWFuYWdlci52bV9wdGVfZnVuY3MgPT0gTlVMTCkgeworCQlhZGV2LT52bV9tYW5h
Z2VyLnZtX3B0ZV9mdW5jcyA9ICZzZG1hX3YyXzRfdm1fcHRlX2Z1bmNzOworCQlmb3IgKGkgPSAw
OyBpIDwgYWRldi0+c2RtYS5udW1faW5zdGFuY2VzOyBpKyspIHsKKwkJCXNjaGVkID0gJmFkZXYt
PnNkbWEuaW5zdGFuY2VbaV0ucmluZy5zY2hlZDsKKwkJCWFkZXYtPnZtX21hbmFnZXIudm1fcHRl
X3Jxc1tpXSA9CisJCQkJJnNjaGVkLT5zY2hlZF9ycVtEUk1fU0NIRURfUFJJT1JJVFlfS0VSTkVM
XTsKKwkJfQorCQlhZGV2LT52bV9tYW5hZ2VyLnZtX3B0ZV9udW1fcnFzID0gYWRldi0+c2RtYS5u
dW1faW5zdGFuY2VzOwogCX0KLQlhZGV2LT52bV9tYW5hZ2VyLnZtX3B0ZV9udW1fcnFzID0gYWRl
di0+c2RtYS5udW1faW5zdGFuY2VzOwogfQogCiBjb25zdCBzdHJ1Y3QgYW1kZ3B1X2lwX2Jsb2Nr
X3ZlcnNpb24gc2RtYV92Ml80X2lwX2Jsb2NrID0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L3NkbWFfdjNfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2Rt
YV92M18wLmMKaW5kZXggNmQzOTU0NC4uMjUwMWJmNiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvc2RtYV92M18wLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvc2RtYV92M18wLmMKQEAgLTE2ODEsOCArMTY4MSwxMCBAQCBzdGF0aWMgY29uc3Qgc3RydWN0
IGFtZGdwdV9idWZmZXJfZnVuY3Mgc2RtYV92M18wX2J1ZmZlcl9mdW5jcyA9IHsKIAogc3RhdGlj
IHZvaWQgc2RtYV92M18wX3NldF9idWZmZXJfZnVuY3Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFk
ZXYpCiB7Ci0JYWRldi0+bW1hbi5idWZmZXJfZnVuY3MgPSAmc2RtYV92M18wX2J1ZmZlcl9mdW5j
czsKLQlhZGV2LT5tbWFuLmJ1ZmZlcl9mdW5jc19yaW5nID0gJmFkZXYtPnNkbWEuaW5zdGFuY2Vb
MF0ucmluZzsKKwlpZiAoYWRldi0+bW1hbi5idWZmZXJfZnVuY3MgPT0gTlVMTCkgeworCQlhZGV2
LT5tbWFuLmJ1ZmZlcl9mdW5jcyA9ICZzZG1hX3YzXzBfYnVmZmVyX2Z1bmNzOworCQlhZGV2LT5t
bWFuLmJ1ZmZlcl9mdW5jc19yaW5nID0gJmFkZXYtPnNkbWEuaW5zdGFuY2VbMF0ucmluZzsKKwl9
CiB9CiAKIHN0YXRpYyBjb25zdCBzdHJ1Y3QgYW1kZ3B1X3ZtX3B0ZV9mdW5jcyBzZG1hX3YzXzBf
dm1fcHRlX2Z1bmNzID0gewpAQCAtMTY5OCwxMyArMTcwMCwxNSBAQCBzdGF0aWMgdm9pZCBzZG1h
X3YzXzBfc2V0X3ZtX3B0ZV9mdW5jcyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKIAlzdHJ1
Y3QgZHJtX2dwdV9zY2hlZHVsZXIgKnNjaGVkOwogCXVuc2lnbmVkIGk7CiAKLQlhZGV2LT52bV9t
YW5hZ2VyLnZtX3B0ZV9mdW5jcyA9ICZzZG1hX3YzXzBfdm1fcHRlX2Z1bmNzOwotCWZvciAoaSA9
IDA7IGkgPCBhZGV2LT5zZG1hLm51bV9pbnN0YW5jZXM7IGkrKykgewotCQlzY2hlZCA9ICZhZGV2
LT5zZG1hLmluc3RhbmNlW2ldLnJpbmcuc2NoZWQ7Ci0JCWFkZXYtPnZtX21hbmFnZXIudm1fcHRl
X3Jxc1tpXSA9Ci0JCQkmc2NoZWQtPnNjaGVkX3JxW0RSTV9TQ0hFRF9QUklPUklUWV9LRVJORUxd
OworCWlmIChhZGV2LT52bV9tYW5hZ2VyLnZtX3B0ZV9mdW5jcyA9PSBOVUxMKSB7CisJCWFkZXYt
PnZtX21hbmFnZXIudm1fcHRlX2Z1bmNzID0gJnNkbWFfdjNfMF92bV9wdGVfZnVuY3M7CisJCWZv
ciAoaSA9IDA7IGkgPCBhZGV2LT5zZG1hLm51bV9pbnN0YW5jZXM7IGkrKykgeworCQkJc2NoZWQg
PSAmYWRldi0+c2RtYS5pbnN0YW5jZVtpXS5yaW5nLnNjaGVkOworCQkJYWRldi0+dm1fbWFuYWdl
ci52bV9wdGVfcnFzW2ldID0KKwkJCQkmc2NoZWQtPnNjaGVkX3JxW0RSTV9TQ0hFRF9QUklPUklU
WV9LRVJORUxdOworCQl9CisJCWFkZXYtPnZtX21hbmFnZXIudm1fcHRlX251bV9ycXMgPSBhZGV2
LT5zZG1hLm51bV9pbnN0YW5jZXM7CiAJfQotCWFkZXYtPnZtX21hbmFnZXIudm1fcHRlX251bV9y
cXMgPSBhZGV2LT5zZG1hLm51bV9pbnN0YW5jZXM7CiB9CiAKIGNvbnN0IHN0cnVjdCBhbWRncHVf
aXBfYmxvY2tfdmVyc2lvbiBzZG1hX3YzXzBfaXBfYmxvY2sgPQpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92NF8wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9zZG1hX3Y0XzAuYwppbmRleCAwNzFkNmM5Li4yNWM2MWM2IDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3Y0XzAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9zZG1hX3Y0XzAuYwpAQCAtMjQ5OSwxMCArMjQ5OSw3IEBAIHN0YXRpYyBjb25z
dCBzdHJ1Y3QgYW1kZ3B1X2J1ZmZlcl9mdW5jcyBzZG1hX3Y0XzBfYnVmZmVyX2Z1bmNzID0gewog
c3RhdGljIHZvaWQgc2RtYV92NF8wX3NldF9idWZmZXJfZnVuY3Moc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYpCiB7CiAJYWRldi0+bW1hbi5idWZmZXJfZnVuY3MgPSAmc2RtYV92NF8wX2J1ZmZl
cl9mdW5jczsKLQlpZiAoYWRldi0+c2RtYS5oYXNfcGFnZV9xdWV1ZSAmJiBhZGV2LT5zZG1hLm51
bV9pbnN0YW5jZXMgPiAxKQotCQlhZGV2LT5tbWFuLmJ1ZmZlcl9mdW5jc19yaW5nID0gJmFkZXYt
PnNkbWEuaW5zdGFuY2VbMV0ucGFnZTsKLQllbHNlCi0JCWFkZXYtPm1tYW4uYnVmZmVyX2Z1bmNz
X3JpbmcgPSAmYWRldi0+c2RtYS5pbnN0YW5jZVswXS5yaW5nOworCWFkZXYtPm1tYW4uYnVmZmVy
X2Z1bmNzX3JpbmcgPSAmYWRldi0+c2RtYS5pbnN0YW5jZVswXS5yaW5nOwogfQogCiBzdGF0aWMg
Y29uc3Qgc3RydWN0IGFtZGdwdV92bV9wdGVfZnVuY3Mgc2RtYV92NF8wX3ZtX3B0ZV9mdW5jcyA9
IHsKQEAgLTI1MTksMjIgKzI1MTYsMTIgQEAgc3RhdGljIHZvaWQgc2RtYV92NF8wX3NldF92bV9w
dGVfZnVuY3Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCiAJdW5zaWduZWQgaTsKIAogCWFk
ZXYtPnZtX21hbmFnZXIudm1fcHRlX2Z1bmNzID0gJnNkbWFfdjRfMF92bV9wdGVfZnVuY3M7Ci0J
aWYgKGFkZXYtPnNkbWEuaGFzX3BhZ2VfcXVldWUgJiYgYWRldi0+c2RtYS5udW1faW5zdGFuY2Vz
ID4gMSkgewotCQlmb3IgKGkgPSAxOyBpIDwgYWRldi0+c2RtYS5udW1faW5zdGFuY2VzOyBpKysp
IHsKLQkJCXNjaGVkID0gJmFkZXYtPnNkbWEuaW5zdGFuY2VbaV0ucGFnZS5zY2hlZDsKLQkJCWFk
ZXYtPnZtX21hbmFnZXIudm1fcHRlX3Jxc1tpIC0gMV0gPQotCQkJCSZzY2hlZC0+c2NoZWRfcnFb
RFJNX1NDSEVEX1BSSU9SSVRZX0tFUk5FTF07Ci0JCX0KLQkJYWRldi0+dm1fbWFuYWdlci52bV9w
dGVfbnVtX3JxcyA9IGFkZXYtPnNkbWEubnVtX2luc3RhbmNlcyAtIDE7Ci0JCWFkZXYtPnZtX21h
bmFnZXIucGFnZV9mYXVsdCA9ICZhZGV2LT5zZG1hLmluc3RhbmNlWzBdLnBhZ2U7Ci0JfSBlbHNl
IHsKLQkJZm9yIChpID0gMDsgaSA8IGFkZXYtPnNkbWEubnVtX2luc3RhbmNlczsgaSsrKSB7Ci0J
CQlzY2hlZCA9ICZhZGV2LT5zZG1hLmluc3RhbmNlW2ldLnJpbmcuc2NoZWQ7Ci0JCQlhZGV2LT52
bV9tYW5hZ2VyLnZtX3B0ZV9ycXNbaV0gPQotCQkJCSZzY2hlZC0+c2NoZWRfcnFbRFJNX1NDSEVE
X1BSSU9SSVRZX0tFUk5FTF07Ci0JCX0KLQkJYWRldi0+dm1fbWFuYWdlci52bV9wdGVfbnVtX3Jx
cyA9IGFkZXYtPnNkbWEubnVtX2luc3RhbmNlczsKKwlmb3IgKGkgPSAwOyBpIDwgYWRldi0+c2Rt
YS5udW1faW5zdGFuY2VzOyBpKyspIHsKKwkJc2NoZWQgPSAmYWRldi0+c2RtYS5pbnN0YW5jZVtp
XS5yaW5nLnNjaGVkOworCQlhZGV2LT52bV9tYW5hZ2VyLnZtX3B0ZV9ycXNbaV0gPQorCQkJJnNj
aGVkLT5zY2hlZF9ycVtEUk1fU0NIRURfUFJJT1JJVFlfS0VSTkVMXTsKIAl9CisJYWRldi0+dm1f
bWFuYWdlci52bV9wdGVfbnVtX3JxcyA9IGFkZXYtPnNkbWEubnVtX2luc3RhbmNlczsKIH0KIAog
Y29uc3Qgc3RydWN0IGFtZGdwdV9pcF9ibG9ja192ZXJzaW9uIHNkbWFfdjRfMF9pcF9ibG9jayA9
IHsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NpX2RtYS5jIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2lfZG1hLmMKaW5kZXggM2VlZWZkNC4uYjliNTA4MSAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2lfZG1hLmMKKysrIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2lfZG1hLmMKQEAgLTgyMCw4ICs4MjAsMTAgQEAgc3Rh
dGljIGNvbnN0IHN0cnVjdCBhbWRncHVfYnVmZmVyX2Z1bmNzIHNpX2RtYV9idWZmZXJfZnVuY3Mg
PSB7CiAKIHN0YXRpYyB2b2lkIHNpX2RtYV9zZXRfYnVmZmVyX2Z1bmNzKHN0cnVjdCBhbWRncHVf
ZGV2aWNlICphZGV2KQogewotCWFkZXYtPm1tYW4uYnVmZmVyX2Z1bmNzID0gJnNpX2RtYV9idWZm
ZXJfZnVuY3M7Ci0JYWRldi0+bW1hbi5idWZmZXJfZnVuY3NfcmluZyA9ICZhZGV2LT5zZG1hLmlu
c3RhbmNlWzBdLnJpbmc7CisJaWYgKGFkZXYtPm1tYW4uYnVmZmVyX2Z1bmNzID09IE5VTEwpIHsK
KwkJYWRldi0+bW1hbi5idWZmZXJfZnVuY3MgPSAmc2lfZG1hX2J1ZmZlcl9mdW5jczsKKwkJYWRl
di0+bW1hbi5idWZmZXJfZnVuY3NfcmluZyA9ICZhZGV2LT5zZG1hLmluc3RhbmNlWzBdLnJpbmc7
CisJfQogfQogCiBzdGF0aWMgY29uc3Qgc3RydWN0IGFtZGdwdV92bV9wdGVfZnVuY3Mgc2lfZG1h
X3ZtX3B0ZV9mdW5jcyA9IHsKQEAgLTgzNywxMyArODM5LDE1IEBAIHN0YXRpYyB2b2lkIHNpX2Rt
YV9zZXRfdm1fcHRlX2Z1bmNzKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQogCXN0cnVjdCBk
cm1fZ3B1X3NjaGVkdWxlciAqc2NoZWQ7CiAJdW5zaWduZWQgaTsKIAotCWFkZXYtPnZtX21hbmFn
ZXIudm1fcHRlX2Z1bmNzID0gJnNpX2RtYV92bV9wdGVfZnVuY3M7Ci0JZm9yIChpID0gMDsgaSA8
IGFkZXYtPnNkbWEubnVtX2luc3RhbmNlczsgaSsrKSB7Ci0JCXNjaGVkID0gJmFkZXYtPnNkbWEu
aW5zdGFuY2VbaV0ucmluZy5zY2hlZDsKLQkJYWRldi0+dm1fbWFuYWdlci52bV9wdGVfcnFzW2ld
ID0KLQkJCSZzY2hlZC0+c2NoZWRfcnFbRFJNX1NDSEVEX1BSSU9SSVRZX0tFUk5FTF07CisJaWYg
KGFkZXYtPnZtX21hbmFnZXIudm1fcHRlX2Z1bmNzID09IE5VTEwpIHsKKwkJYWRldi0+dm1fbWFu
YWdlci52bV9wdGVfZnVuY3MgPSAmc2lfZG1hX3ZtX3B0ZV9mdW5jczsKKwkJZm9yIChpID0gMDsg
aSA8IGFkZXYtPnNkbWEubnVtX2luc3RhbmNlczsgaSsrKSB7CisJCQlzY2hlZCA9ICZhZGV2LT5z
ZG1hLmluc3RhbmNlW2ldLnJpbmcuc2NoZWQ7CisJCQlhZGV2LT52bV9tYW5hZ2VyLnZtX3B0ZV9y
cXNbaV0gPQorCQkJCSZzY2hlZC0+c2NoZWRfcnFbRFJNX1NDSEVEX1BSSU9SSVRZX0tFUk5FTF07
CisJCX0KKwkJYWRldi0+dm1fbWFuYWdlci52bV9wdGVfbnVtX3JxcyA9IGFkZXYtPnNkbWEubnVt
X2luc3RhbmNlczsKIAl9Ci0JYWRldi0+dm1fbWFuYWdlci52bV9wdGVfbnVtX3JxcyA9IGFkZXYt
PnNkbWEubnVtX2luc3RhbmNlczsKIH0KIAogY29uc3Qgc3RydWN0IGFtZGdwdV9pcF9ibG9ja192
ZXJzaW9uIHNpX2RtYV9pcF9ibG9jayA9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9zaV9paC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2lfaWguYwppbmRl
eCA4YzUwYzljLi41ODJjNTRmIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9zaV9paC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NpX2loLmMKQEAgLTI5
Niw3ICsyOTYsOCBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGFtZGdwdV9paF9mdW5jcyBzaV9paF9m
dW5jcyA9IHsKIAogc3RhdGljIHZvaWQgc2lfaWhfc2V0X2ludGVycnVwdF9mdW5jcyhzdHJ1Y3Qg
YW1kZ3B1X2RldmljZSAqYWRldikKIHsKLQlhZGV2LT5pcnEuaWhfZnVuY3MgPSAmc2lfaWhfZnVu
Y3M7CisJaWYgKGFkZXYtPmlycS5paF9mdW5jcyA9PSBOVUxMKQorCQlhZGV2LT5pcnEuaWhfZnVu
Y3MgPSAmc2lfaWhfZnVuY3M7CiB9CiAKIGNvbnN0IHN0cnVjdCBhbWRncHVfaXBfYmxvY2tfdmVy
c2lvbiBzaV9paF9pcF9ibG9jayA9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS90b25nYV9paC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdG9uZ2FfaWguYwpp
bmRleCBhMjBiNzExLi45ZTRlYWU0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS90b25nYV9paC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3RvbmdhX2lo
LmMKQEAgLTQ3NCw3ICs0NzQsOCBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGFtZGdwdV9paF9mdW5j
cyB0b25nYV9paF9mdW5jcyA9IHsKIAogc3RhdGljIHZvaWQgdG9uZ2FfaWhfc2V0X2ludGVycnVw
dF9mdW5jcyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKIHsKLQlhZGV2LT5pcnEuaWhfZnVu
Y3MgPSAmdG9uZ2FfaWhfZnVuY3M7CisJaWYgKGFkZXYtPmlycS5paF9mdW5jcyA9PSBOVUxMKQor
CQlhZGV2LT5pcnEuaWhfZnVuY3MgPSAmdG9uZ2FfaWhfZnVuY3M7CiB9CiAKIGNvbnN0IHN0cnVj
dCBhbWRncHVfaXBfYmxvY2tfdmVyc2lvbiB0b25nYV9paF9pcF9ibG9jayA9CmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92ZWdhMTBfaWguYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L3ZlZ2ExMF9paC5jCmluZGV4IGYxOTI2OGEuLjBiZTViMjggMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3ZlZ2ExMF9paC5jCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L3ZlZ2ExMF9paC5jCkBAIC03MDgsNyArNzA4LDggQEAgc3RhdGlj
IGNvbnN0IHN0cnVjdCBhbWRncHVfaWhfZnVuY3MgdmVnYTEwX2loX2Z1bmNzID0gewogCiBzdGF0
aWMgdm9pZCB2ZWdhMTBfaWhfc2V0X2ludGVycnVwdF9mdW5jcyhzdHJ1Y3QgYW1kZ3B1X2Rldmlj
ZSAqYWRldikKIHsKLQlhZGV2LT5pcnEuaWhfZnVuY3MgPSAmdmVnYTEwX2loX2Z1bmNzOworCWlm
IChhZGV2LT5pcnEuaWhfZnVuY3MgPT0gTlVMTCkKKwkJYWRldi0+aXJxLmloX2Z1bmNzID0gJnZl
Z2ExMF9paF9mdW5jczsKIH0KIAogY29uc3Qgc3RydWN0IGFtZGdwdV9pcF9ibG9ja192ZXJzaW9u
IHZlZ2ExMF9paF9pcF9ibG9jayA9Ci0tIAoyLjcuNAoKX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBsaXN0
cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9s
aXN0aW5mby9hbWQtZ2Z4
