Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id BE3DF46FCF3
	for <lists+amd-gfx@lfdr.de>; Fri, 10 Dec 2021 09:46:53 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7EB3A10E298;
	Fri, 10 Dec 2021 08:46:51 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM12-DM6-obe.outbound.protection.outlook.com
 (mail-dm6nam12on2055.outbound.protection.outlook.com [40.107.243.55])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 02C6410E28F
 for <amd-gfx@lists.freedesktop.org>; Fri, 10 Dec 2021 08:46:49 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=Qa7wDuQBSfWbQmwdgzpx3Ozczst/DWY6o9+1mNNE624XUNscdc2hdMH0/pGgW95wBZWB/DvNgIVYeRBPBDp+NAxvsT6AabHSfD61yUpnJCzCSrqlDeUJYucaYNP1NXkNSvaIP0WsTYddYnRbPYzlt4EwqLiySe54TuDoSfZ3sGc5avkelaWO1OAl31kd6QtZ6VE1ZlOiZQWQYIR5nlVVDsJt2MRcw6P8YcS7Wb+18x1kJCkUU99f4ngUocA977Q6d0Yyv/INz172R3bHfPnr6mcxALLGxC353XcqQyLr+fnP/Z3bAFTOYo4aNEX2RxmM7XvizqiNwWf39Zt4z8Z+8g==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=u9oBTS3YnjzJq0F+VMzWw1umn9NAsr+ukQkY/lw98+k=;
 b=JAmn3Wolq6wiGyrljg5sTkXz70bT8AfAqOzQoPRoFAilwt9g47hHShTk522rgh2D9NINFMAd3B0f4QnVihS54Tcnz0XNNP3qeyVgbhW0jsZapKnnwWbn6qjejRZtXuvAtmxoxdH4KOelaXK2u9ni+3CO33MVU/kujC0xpB+wZxtz5txFL31iiBoPctOm76DSfqrs+G+bQVCKP/HyqZwvQsVjVh6jjzHAbSFRsRdkwYWQPe0IKiTzEA/c9l4sCW7Jf7CFO9HKcQaUpiivqWvxffiKn5M3QASbrW7Wm+Di6wbzwKaPhWCe1401b4WtyYkij0gG0pKWazuVrhUge1qWNg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=amd.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=u9oBTS3YnjzJq0F+VMzWw1umn9NAsr+ukQkY/lw98+k=;
 b=rKnnc0iHVflu8HeBcjrmIbKPIac+Dttl3st2VajRXAmdDlMRrY7BFvPjPkFmanMxTrvwzHOYcty54GzP5+T+mCR+Ph6TtLB0tdnuERj2iqjhG51P+3+B/QzUirAiwMAI5eXxTZJGRWrzRv045OodtYNWCswPeoqyaWC+u1eG2W4=
Received: from DM6PR12MB2619.namprd12.prod.outlook.com (2603:10b6:5:45::18) by
 DM6PR12MB2826.namprd12.prod.outlook.com (2603:10b6:5:76::33) with
 Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.4755.21; Fri, 10 Dec 2021 08:46:47 +0000
Received: from DM6PR12MB2619.namprd12.prod.outlook.com
 ([fe80::15d0:4c36:2886:bbef]) by DM6PR12MB2619.namprd12.prod.outlook.com
 ([fe80::15d0:4c36:2886:bbef%3]) with mapi id 15.20.4778.015; Fri, 10 Dec 2021
 08:46:47 +0000
From: "Quan, Evan" <Evan.Quan@amd.com>
To: "Lazar, Lijo" <Lijo.Lazar@amd.com>, "amd-gfx@lists.freedesktop.org"
 <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH V4 09/17] drm/amd/pm: optimize the
 amdgpu_pm_compute_clocks() implementations
Thread-Topic: [PATCH V4 09/17] drm/amd/pm: optimize the
 amdgpu_pm_compute_clocks() implementations
Thread-Index: AQHX5/K+ts6wy3dvMUWjV1kFxUQtp6wqIaAAgAFAUGA=
Date: Fri, 10 Dec 2021 08:46:47 +0000
Message-ID: <DM6PR12MB26195E95811BB9D6C9670DBBE4719@DM6PR12MB2619.namprd12.prod.outlook.com>
References: <20211203030540.1710564-1-evan.quan@amd.com>
 <20211203030540.1710564-9-evan.quan@amd.com>
 <f0efa623-0521-67ad-3a66-daa4f6a9ba97@amd.com>
In-Reply-To: <f0efa623-0521-67ad-3a66-daa4f6a9ba97@amd.com>
Accept-Language: en-US, zh-CN
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
msip_labels: MSIP_Label_88914ebd-7e6c-4e12-a031-a9906be2db14_Enabled=true;
 MSIP_Label_88914ebd-7e6c-4e12-a031-a9906be2db14_SetDate=2021-12-10T08:46:44Z; 
 MSIP_Label_88914ebd-7e6c-4e12-a031-a9906be2db14_Method=Standard;
 MSIP_Label_88914ebd-7e6c-4e12-a031-a9906be2db14_Name=AMD Official Use
 Only-AIP 2.0;
 MSIP_Label_88914ebd-7e6c-4e12-a031-a9906be2db14_SiteId=3dd8961f-e488-4e60-8e11-a82d994e183d;
 MSIP_Label_88914ebd-7e6c-4e12-a031-a9906be2db14_ActionId=5b881919-a69d-4cd6-8c72-4809f4311083;
 MSIP_Label_88914ebd-7e6c-4e12-a031-a9906be2db14_ContentBits=1
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=amd.com;
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: c2cf90ba-4d8c-46df-04b7-08d9bbb999ca
x-ms-traffictypediagnostic: DM6PR12MB2826:EE_
x-microsoft-antispam-prvs: <DM6PR12MB282698E1E3FA0283D2CD1B05E4719@DM6PR12MB2826.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:3631;
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: 77jAH9Ke+wgjCXgHLkuP6IpdcoyWf/LGgdKrnFM++6e2lLv04Eq0DoHQApvhAYx9JRbbh3XdjdUg9P2E2HSSx/5mSddulrOdCg0oB2Sm5rWLeXTPWEIl/o7/ITwlARSd99+gp7r3WEy5VhYmYlKiY6WARRYdvFKiCzYD9ZrbYafjmWqFeokf6Hq5EaYCiRTv5y2ZN45fx2gJP+ZHGaXVzIQ7L6RfUMEenXa3nJkRbToLr6m2eGx8kmwxGTaYJnTagAPpT5OwVS57K0H563/IbtJpEprXAUFElXq+yHlPNFBoe62XM3PlxJj/uWA+2iagS9cURZ8p37EXnopAUx1fb7W6T9P5vT9cGeBfl7Efa+n3itPubcmn1wPOfO+d0VOCIpPcVsu29Lx2g8HEBxJ1FqHDQah42Hg7zC1J5UV/iiKqh4e7zcfhJt8DliPqj6zMNJnk5Tz8uuKSGCZtES2jeWTlsf1g5UjGkcRcF0Xq7Y7b4kfuiXca1JlmRuyxlsh02yTaCmFwFn/LzymbVu8hwHlx5E74/fcngokK9aR1zTOkpE5Y/AQnDzqcN27JlzYxditvXijJsKvAZFSrMbwzBqYMRFV1ieEVFerAfK9bGJl3nP5FGWjL+tPo2nbD50fJCpODhSnljiyBMmuZVu8d2nF4AM43JU3rvOFxQAM0dYHD9CltDBpry9Qo9/+cGAeKjH9flZCEA4F+tAukrq7UmUwz2/WOAURwTlimJnlrZjY=
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:DM6PR12MB2619.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(4636009)(366004)(4326008)(52536014)(38070700005)(8936002)(6506007)(7696005)(186003)(71200400001)(5660300002)(122000001)(508600001)(2906002)(86362001)(38100700002)(54906003)(110136005)(55016003)(9686003)(66476007)(66446008)(66556008)(30864003)(8676002)(26005)(33656002)(64756008)(53546011)(76116006)(83380400001)(66946007)(316002)(21314003)(579004)(559001);
 DIR:OUT; SFP:1101; 
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?T1M1Wi9GVi9sYlFYTWYyejJPMHdEMDZRVm5DckhKZTdSVGlwN0x6elpMME45?=
 =?utf-8?B?VHlXSDNpM2FUWTdCak95TGNPUjlld0grVjd6R1NaZ214eFNPUHNJT2RaZHFO?=
 =?utf-8?B?d2NuZms5eStEZlJGSGlqWEFLVEtUTEErLzBhZExRSGJEdVVqSVY1YVJPNWM5?=
 =?utf-8?B?cS8xcmlxZDZuN255RFN4NkZnRElrNVlrSHVmMlR4MnVQWjM1WWU2ZWJ3dEtT?=
 =?utf-8?B?WExSdkpYTnE1ckhlV0hubTRqV0U2RkhkaFZEZDBuTmJPNzZ6TXNMN1p5M3V1?=
 =?utf-8?B?Z3RnZC9DY29tQVh6T282WWd5aVdmZW80VFYzaTVrQmZIaTVsMmZlbitLeThS?=
 =?utf-8?B?YVQrVmFVK3o0RDFiQ2RTVnNuTnpBZCtQVTZLTDk5YWhLVEkzNXlzZFBvbThE?=
 =?utf-8?B?YTBnL2NJallhemJFSTRVb004Y21xc2xyM1ZsWm5vbWJ0Q29neFNPbkUyZG0r?=
 =?utf-8?B?ODV3Q3NpeUdjYXY4aUsxYmVSQ05ydlVjMktSU1BLUnZyWTBYVTRPMjZTUVY1?=
 =?utf-8?B?L1BoSFZFcUxrZXNEMmc1ckxIWnhYTjMvc2ZXN1dIY1A2azl3T3RRT3BKVk94?=
 =?utf-8?B?cnpwM3hZWTAzODdsOEh5c3Bod3BzSll6eTc4WUppNFh3MWN1WDdydVFjUFVx?=
 =?utf-8?B?UFQ5NDlkaUZ4M3lTNnkrem41dDhKNFhrc2ZFeFVaYUFXdHgrNXV2dXVNdG9J?=
 =?utf-8?B?di80MFUvcGRJS3N2U0JRQ3RGbXllY0JaazVrT24rWGxPRGpaLzRodDJZb0l2?=
 =?utf-8?B?Tm1hbitqNHZtbEROcllLTjVoZVBHRVhia1BhOXdORFVyazhRK0ZSNnZKMHN6?=
 =?utf-8?B?RThQc3RYaEF2SmZ0bHcxOXhvY3RXSEliZndGWjd5YWpmT1ZocHRTWElBL2dh?=
 =?utf-8?B?VFB1S3FjTEVTK0VVUUMwaFBGaEJOZ0ZzbzU3ZnFhL09RemluRGZ6SWNiQzdM?=
 =?utf-8?B?QVJ5Q2dpbzJicVpIQmk2dWlCbExBeHAvU3o2K0Y4TTRMdFZJUmxxQjB5YUdQ?=
 =?utf-8?B?Z1oxLzVaWk4zekx0WUUxVUpYOUVWNXRLa3pxQUdYTjNOTThiVmthVWxnWE1v?=
 =?utf-8?B?Vlc0a2dCZ3Y4ZlZxcnN6bHJJcUF6Z0p0L2ZBYU1pNXJCOHNKbVYrMzJFMFVW?=
 =?utf-8?B?QkVvQmNrOUNzck41ODRKT2tYU3hoVmVyeHhvODdPQ1ZJQVdnQ2d1WEJEc0pG?=
 =?utf-8?B?R3NrcWNhTWtnMVl0UkVJdWc3MlFXbFBHQXVNYXZmbHI5cGwvbk9xU2E0WERV?=
 =?utf-8?B?eGZSczVUd1o2NkdublcwcXJRd1d5ZFMvUzNzLzUxTHNtWWx5MkpUTVlqeG9q?=
 =?utf-8?B?emd1VjJTUmJnK1hNWFFlVkl0RlU5RElKeHJjZ21Odm1KbnBWdjJFUllpRWMr?=
 =?utf-8?B?NkEvL21VWEdOOWQ4bkw0dFJkUkp4R1ZwUW5Qd29PcHdFR0dweTdVajRuYVZS?=
 =?utf-8?B?YXVTUVpIQTI5anlCYU05NXN3b29XZHpXSnZPSTBDMDhqWGdaNDdWSlg0UFor?=
 =?utf-8?B?UnlNS2xvSTNSelZwYWJMM3FuZlVYQ1IxOVljRmtvNE1lUFZ1K2IwWmxXVEtv?=
 =?utf-8?B?KzIvL3d2blpvbm1ndTRtejljSXBlMXh6OGUvQjhKM3QzR1Q0cVhWSU82NnNI?=
 =?utf-8?B?L2J0bnFwa2JiOWRzZkdXWnZrbzZZM3BZaU9jZU1sTVk1ZU5tclNhWDlFVkhi?=
 =?utf-8?B?aWVmekJhL3RuV2JCM3ZBK2FucTRTRlhjSzJ1d0FqVjVGYXlOWHVlZDljQjYz?=
 =?utf-8?B?Y3paUGwveEUyOHVHN3lLMmN5TGRYM1Uwd3JrNW1hYWJUaVVTNXlwT2NVcWZ1?=
 =?utf-8?B?cTdCR3EvMHlmRVlSaXFiYklGV01SMTVLM0pLOVhPemdhREJrKzROVkF6Tm5i?=
 =?utf-8?B?eXBXK3NJN2VzU0ZPTUdnY1lpZGRoNU5Rb0JlOTl3YnJFWUw4NkR1d1hFemxB?=
 =?utf-8?B?LzFwNkhtMUMwaDQ0enJoYWVtem1wQ2F2MkJJUHBnOG1vbndEVlpzZWtXVzNE?=
 =?utf-8?B?ZUp5K2prZjl0a2VqbmoyZExEaXBBSVQ4RjNxNzd1d3VEMHZmRjhPN2NkaGRN?=
 =?utf-8?B?NUtwUTllR1k5RXg0dnNvK2gvUmFpZGY5TUdvTTBjYVZQNnFGa0w4c1VOcTMy?=
 =?utf-8?Q?zfQ0=3D?=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: DM6PR12MB2619.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: c2cf90ba-4d8c-46df-04b7-08d9bbb999ca
X-MS-Exchange-CrossTenant-originalarrivaltime: 10 Dec 2021 08:46:47.1284 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: TupLalS/aI2f9w4Fl5P52K5j4ABuQk/N5kKBFBbBQ6sG5V3cVwpOzlMjOOmkhXtW
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM6PR12MB2826
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Deucher, Alexander" <Alexander.Deucher@amd.com>, "Feng,
 Kenneth" <Kenneth.Feng@amd.com>, "Koenig,
 Christian" <Christian.Koenig@amd.com>
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

W0FNRCBPZmZpY2lhbCBVc2UgT25seV0NCg0KDQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0t
LS0NCj4gRnJvbTogTGF6YXIsIExpam8gPExpam8uTGF6YXJAYW1kLmNvbT4NCj4gU2VudDogVGh1
cnNkYXksIERlY2VtYmVyIDksIDIwMjEgODozMiBQTQ0KPiBUbzogUXVhbiwgRXZhbiA8RXZhbi5R
dWFuQGFtZC5jb20+OyBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZw0KPiBDYzogRGV1Y2hl
ciwgQWxleGFuZGVyIDxBbGV4YW5kZXIuRGV1Y2hlckBhbWQuY29tPjsgS29lbmlnLCBDaHJpc3Rp
YW4NCj4gPENocmlzdGlhbi5Lb2VuaWdAYW1kLmNvbT47IEZlbmcsIEtlbm5ldGggPEtlbm5ldGgu
RmVuZ0BhbWQuY29tPg0KPiBTdWJqZWN0OiBSZTogW1BBVENIIFY0IDA5LzE3XSBkcm0vYW1kL3Bt
OiBvcHRpbWl6ZSB0aGUNCj4gYW1kZ3B1X3BtX2NvbXB1dGVfY2xvY2tzKCkgaW1wbGVtZW50YXRp
b25zDQo+IA0KPiANCj4gDQo+IE9uIDEyLzMvMjAyMSA4OjM1IEFNLCBFdmFuIFF1YW4gd3JvdGU6
DQo+ID4gRHJvcCBjcm9zcyBjYWxsaW5ncyBhbmQgbXVsdGktZnVuY3Rpb24gQVBJcy4gQWxzbyBh
dm9pZCBleHBvc2luZw0KPiA+IGludGVybmFsIGltcGxlbWVudGF0aW9ucyBkZXRhaWxzLg0KPiA+
DQo+ID4gU2lnbmVkLW9mZi1ieTogRXZhbiBRdWFuIDxldmFuLnF1YW5AYW1kLmNvbT4NCj4gPiBD
aGFuZ2UtSWQ6IEk1NWU1YWIzZGE2YTcwNDgyZjVmNWQ4YzI1NmVlZDJmNzU0ZmVhZTIwDQo+ID4g
LS0NCj4gPiB2MS0+djI6DQo+ID4gICAgLSBhZGQgYmFjayB0aGUgYWRldi0+cG0uZHBtX2VuYWJs
ZWQgY2hlY2soTGlqbykNCj4gPiAtLS0NCj4gPiAgIC4uLi9ncHUvZHJtL2FtZC9pbmNsdWRlL2tn
ZF9wcF9pbnRlcmZhY2UuaCAgICB8ICAgMiArLQ0KPiA+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9w
bS9NYWtlZmlsZSAgICAgICAgICAgICAgIHwgICAyICstDQo+ID4gICBkcml2ZXJzL2dwdS9kcm0v
YW1kL3BtL2FtZGdwdV9kcG0uYyAgICAgICAgICAgfCAyMjUgKysrLS0tLS0tLS0tLS0tLS0tDQo+
ID4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL3BtL2FtZGdwdV9kcG1faW50ZXJuYWwuYyAgfCAgOTQg
KysrKysrKysNCj4gPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvcG0vaW5jL2FtZGdwdV9kcG0uaCAg
ICAgICB8ICAgMiAtDQo+ID4gICAuLi4vZ3B1L2RybS9hbWQvcG0vaW5jL2FtZGdwdV9kcG1faW50
ZXJuYWwuaCAgfCAgMzIgKysrDQo+ID4gICAuLi4vZ3B1L2RybS9hbWQvcG0vcG93ZXJwbGF5L2Ft
ZF9wb3dlcnBsYXkuYyAgfCAgMzkgKystDQo+ID4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL3BtL3Bv
d2VycGxheS9rdl9kcG0uYyAgICAgfCAgIDYgKy0NCj4gPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQv
cG0vcG93ZXJwbGF5L2xlZ2FjeV9kcG0uYyB8ICA2MCArKysrLQ0KPiA+ICAgZHJpdmVycy9ncHUv
ZHJtL2FtZC9wbS9wb3dlcnBsYXkvbGVnYWN5X2RwbS5oIHwgICAzICstDQo+ID4gICBkcml2ZXJz
L2dwdS9kcm0vYW1kL3BtL3Bvd2VycGxheS9zaV9kcG0uYyAgICAgfCAgNDEgKysrLQ0KPiA+ICAg
MTEgZmlsZXMgY2hhbmdlZCwgMjk2IGluc2VydGlvbnMoKyksIDIxMCBkZWxldGlvbnMoLSkNCj4g
PiAgIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vYW1kL3BtL2FtZGdwdV9kcG1f
aW50ZXJuYWwuYw0KPiA+ICAgY3JlYXRlIG1vZGUgMTAwNjQ0DQo+IGRyaXZlcnMvZ3B1L2RybS9h
bWQvcG0vaW5jL2FtZGdwdV9kcG1faW50ZXJuYWwuaA0KPiA+DQo+ID4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvaW5jbHVkZS9rZ2RfcHBfaW50ZXJmYWNlLmgNCj4gPiBiL2RyaXZl
cnMvZ3B1L2RybS9hbWQvaW5jbHVkZS9rZ2RfcHBfaW50ZXJmYWNlLmgNCj4gPiBpbmRleCBjZGY3
MjRkY2Y4MzIuLjc5MTllOTZlNzcyYiAxMDA2NDQNCj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2luY2x1ZGUva2dkX3BwX2ludGVyZmFjZS5oDQo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9pbmNsdWRlL2tnZF9wcF9pbnRlcmZhY2UuaA0KPiA+IEBAIC00MDQsNyArNDA0LDcgQEAg
c3RydWN0IGFtZF9wbV9mdW5jcyB7DQo+ID4gICAJaW50ICgqZ2V0X2RwbV9jbG9ja190YWJsZSko
dm9pZCAqaGFuZGxlLA0KPiA+ICAgCQkJCSAgIHN0cnVjdCBkcG1fY2xvY2tzICpjbG9ja190YWJs
ZSk7DQo+ID4gICAJaW50ICgqZ2V0X3NtdV9wcnZfYnVmX2RldGFpbHMpKHZvaWQgKmhhbmRsZSwg
dm9pZCAqKmFkZHIsIHNpemVfdA0KPiAqc2l6ZSk7DQo+ID4gLQlpbnQgKCpjaGFuZ2VfcG93ZXJf
c3RhdGUpKHZvaWQgKmhhbmRsZSk7DQo+ID4gKwl2b2lkICgqcG1fY29tcHV0ZV9jbG9ja3MpKHZv
aWQgKmhhbmRsZSk7DQo+ID4gICB9Ow0KPiA+DQo+ID4gICBzdHJ1Y3QgbWV0cmljc190YWJsZV9o
ZWFkZXIgew0KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3BtL01ha2VmaWxl
DQo+ID4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3BtL01ha2VmaWxlIGluZGV4IDhjZjZlZmYxZWE5
My4uZDM1ZmZkZTM4N2YxDQo+ID4gMTAwNjQ0DQo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9wbS9NYWtlZmlsZQ0KPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG0vTWFrZWZpbGUN
Cj4gPiBAQCAtNDAsNyArNDAsNyBAQCBBTURfUE0gPSAkKGFkZHN1ZmZpeCAvTWFrZWZpbGUsJChh
ZGRwcmVmaXgNCj4gPiAkKEZVTExfQU1EX1BBVEgpL3BtLywkKFBNX0xJQlMpKSkNCj4gPg0KPiA+
ICAgaW5jbHVkZSAkKEFNRF9QTSkNCj4gPg0KPiA+IC1QTV9NR1IgPSBhbWRncHVfZHBtLm8gYW1k
Z3B1X3BtLm8NCj4gPiArUE1fTUdSID0gYW1kZ3B1X2RwbS5vIGFtZGdwdV9wbS5vIGFtZGdwdV9k
cG1faW50ZXJuYWwubw0KPiA+DQo+ID4gICBBTURfUE1fUE9XRVIgPSAkKGFkZHByZWZpeCAkKEFN
RF9QTV9QQVRIKS8sJChQTV9NR1IpKQ0KPiA+DQo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvcG0vYW1kZ3B1X2RwbS5jDQo+ID4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3BtL2Ft
ZGdwdV9kcG0uYw0KPiA+IGluZGV4IGZlNmJmNWQ5NTBjMi4uOTUyZmQ4NjVkYjEzIDEwMDY0NA0K
PiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG0vYW1kZ3B1X2RwbS5jDQo+ID4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9wbS9hbWRncHVfZHBtLmMNCj4gPiBAQCAtMzcsNzMgKzM3LDYg
QEANCj4gPiAgICNkZWZpbmUgYW1kZ3B1X2RwbV9lbmFibGVfYmFwbShhZGV2LCBlKSBcDQo+ID4N
Cj4gPiAoKGFkZXYpLT5wb3dlcnBsYXkucHBfZnVuY3MtPmVuYWJsZV9iYXBtKChhZGV2KS0NCj4g
PnBvd2VycGxheS5wcF9oYW5kbGUsDQo+ID4gKGUpKSkNCj4gPg0KPiA+IC1zdGF0aWMgdm9pZCBh
bWRncHVfZHBtX2dldF9hY3RpdmVfZGlzcGxheXMoc3RydWN0IGFtZGdwdV9kZXZpY2UNCj4gPiAq
YWRldikgLXsNCj4gPiAtCXN0cnVjdCBkcm1fZGV2aWNlICpkZGV2ID0gYWRldl90b19kcm0oYWRl
dik7DQo+ID4gLQlzdHJ1Y3QgZHJtX2NydGMgKmNydGM7DQo+ID4gLQlzdHJ1Y3QgYW1kZ3B1X2Ny
dGMgKmFtZGdwdV9jcnRjOw0KPiA+IC0NCj4gPiAtCWFkZXYtPnBtLmRwbS5uZXdfYWN0aXZlX2Ny
dGNzID0gMDsNCj4gPiAtCWFkZXYtPnBtLmRwbS5uZXdfYWN0aXZlX2NydGNfY291bnQgPSAwOw0K
PiA+IC0JaWYgKGFkZXYtPm1vZGVfaW5mby5udW1fY3J0YyAmJiBhZGV2LQ0KPiA+bW9kZV9pbmZv
Lm1vZGVfY29uZmlnX2luaXRpYWxpemVkKSB7DQo+ID4gLQkJbGlzdF9mb3JfZWFjaF9lbnRyeShj
cnRjLA0KPiA+IC0JCQkJICAgICZkZGV2LT5tb2RlX2NvbmZpZy5jcnRjX2xpc3QsIGhlYWQpIHsN
Cj4gPiAtCQkJYW1kZ3B1X2NydGMgPSB0b19hbWRncHVfY3J0YyhjcnRjKTsNCj4gPiAtCQkJaWYg
KGFtZGdwdV9jcnRjLT5lbmFibGVkKSB7DQo+ID4gLQkJCQlhZGV2LT5wbS5kcG0ubmV3X2FjdGl2
ZV9jcnRjcyB8PSAoMSA8PA0KPiBhbWRncHVfY3J0Yy0+Y3J0Y19pZCk7DQo+ID4gLQkJCQlhZGV2
LT5wbS5kcG0ubmV3X2FjdGl2ZV9jcnRjX2NvdW50Kys7DQo+ID4gLQkJCX0NCj4gPiAtCQl9DQo+
ID4gLQl9DQo+ID4gLX0NCj4gPiAtDQo+ID4gLXUzMiBhbWRncHVfZHBtX2dldF92YmxhbmtfdGlt
ZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikgLXsNCj4gPiAtCXN0cnVjdCBkcm1fZGV2aWNl
ICpkZXYgPSBhZGV2X3RvX2RybShhZGV2KTsNCj4gPiAtCXN0cnVjdCBkcm1fY3J0YyAqY3J0YzsN
Cj4gPiAtCXN0cnVjdCBhbWRncHVfY3J0YyAqYW1kZ3B1X2NydGM7DQo+ID4gLQl1MzIgdmJsYW5r
X2luX3BpeGVsczsNCj4gPiAtCXUzMiB2YmxhbmtfdGltZV91cyA9IDB4ZmZmZmZmZmY7IC8qIGlm
IHRoZSBkaXNwbGF5cyBhcmUgb2ZmLCB2YmxhbmsgdGltZQ0KPiBpcyBtYXggKi8NCj4gPiAtDQo+
ID4gLQlpZiAoYWRldi0+bW9kZV9pbmZvLm51bV9jcnRjICYmIGFkZXYtDQo+ID5tb2RlX2luZm8u
bW9kZV9jb25maWdfaW5pdGlhbGl6ZWQpIHsNCj4gPiAtCQlsaXN0X2Zvcl9lYWNoX2VudHJ5KGNy
dGMsICZkZXYtPm1vZGVfY29uZmlnLmNydGNfbGlzdCwgaGVhZCkNCj4gew0KPiA+IC0JCQlhbWRn
cHVfY3J0YyA9IHRvX2FtZGdwdV9jcnRjKGNydGMpOw0KPiA+IC0JCQlpZiAoY3J0Yy0+ZW5hYmxl
ZCAmJiBhbWRncHVfY3J0Yy0+ZW5hYmxlZCAmJg0KPiBhbWRncHVfY3J0Yy0+aHdfbW9kZS5jbG9j
aykgew0KPiA+IC0JCQkJdmJsYW5rX2luX3BpeGVscyA9DQo+ID4gLQkJCQkJYW1kZ3B1X2NydGMt
Pmh3X21vZGUuY3J0Y19odG90YWwNCj4gKg0KPiA+IC0JCQkJCShhbWRncHVfY3J0Yy0NCj4gPmh3
X21vZGUuY3J0Y192YmxhbmtfZW5kIC0NCj4gPiAtCQkJCQlhbWRncHVfY3J0Yy0NCj4gPmh3X21v
ZGUuY3J0Y192ZGlzcGxheSArDQo+ID4gLQkJCQkJKGFtZGdwdV9jcnRjLT52X2JvcmRlciAqIDIp
KTsNCj4gPiAtDQo+ID4gLQkJCQl2YmxhbmtfdGltZV91cyA9IHZibGFua19pbl9waXhlbHMgKiAx
MDAwIC8NCj4gYW1kZ3B1X2NydGMtPmh3X21vZGUuY2xvY2s7DQo+ID4gLQkJCQlicmVhazsNCj4g
PiAtCQkJfQ0KPiA+IC0JCX0NCj4gPiAtCX0NCj4gPiAtDQo+ID4gLQlyZXR1cm4gdmJsYW5rX3Rp
bWVfdXM7DQo+ID4gLX0NCj4gPiAtDQo+ID4gLXN0YXRpYyB1MzIgYW1kZ3B1X2RwbV9nZXRfdnJl
ZnJlc2goc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpIC17DQo+ID4gLQlzdHJ1Y3QgZHJtX2Rl
dmljZSAqZGV2ID0gYWRldl90b19kcm0oYWRldik7DQo+ID4gLQlzdHJ1Y3QgZHJtX2NydGMgKmNy
dGM7DQo+ID4gLQlzdHJ1Y3QgYW1kZ3B1X2NydGMgKmFtZGdwdV9jcnRjOw0KPiA+IC0JdTMyIHZy
ZWZyZXNoID0gMDsNCj4gPiAtDQo+ID4gLQlpZiAoYWRldi0+bW9kZV9pbmZvLm51bV9jcnRjICYm
IGFkZXYtDQo+ID5tb2RlX2luZm8ubW9kZV9jb25maWdfaW5pdGlhbGl6ZWQpIHsNCj4gPiAtCQls
aXN0X2Zvcl9lYWNoX2VudHJ5KGNydGMsICZkZXYtPm1vZGVfY29uZmlnLmNydGNfbGlzdCwgaGVh
ZCkNCj4gew0KPiA+IC0JCQlhbWRncHVfY3J0YyA9IHRvX2FtZGdwdV9jcnRjKGNydGMpOw0KPiA+
IC0JCQlpZiAoY3J0Yy0+ZW5hYmxlZCAmJiBhbWRncHVfY3J0Yy0+ZW5hYmxlZCAmJg0KPiBhbWRn
cHVfY3J0Yy0+aHdfbW9kZS5jbG9jaykgew0KPiA+IC0JCQkJdnJlZnJlc2ggPQ0KPiBkcm1fbW9k
ZV92cmVmcmVzaCgmYW1kZ3B1X2NydGMtPmh3X21vZGUpOw0KPiA+IC0JCQkJYnJlYWs7DQo+ID4g
LQkJCX0NCj4gPiAtCQl9DQo+ID4gLQl9DQo+ID4gLQ0KPiA+IC0JcmV0dXJuIHZyZWZyZXNoOw0K
PiA+IC19DQo+ID4gLQ0KPiA+ICAgaW50IGFtZGdwdV9kcG1fZ2V0X3NjbGsoc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYsIGJvb2wgbG93KQ0KPiA+ICAgew0KPiA+ICAgCWNvbnN0IHN0cnVjdCBh
bWRfcG1fZnVuY3MgKnBwX2Z1bmNzID0gYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzOw0KPiBAQA0K
PiA+IC00MzIsMTE1ICszNjUsMzggQEAgaW50IGFtZGdwdV9kcG1fcmVhZF9zZW5zb3Ioc3RydWN0
DQo+IGFtZGdwdV9kZXZpY2UgKmFkZXYsIGVudW0gYW1kX3BwX3NlbnNvcnMgc2Vuc28NCj4gPiAg
IAlyZXR1cm4gcmV0Ow0KPiA+ICAgfQ0KPiA+DQo+ID4gLXZvaWQgYW1kZ3B1X2RwbV90aGVybWFs
X3dvcmtfaGFuZGxlcihzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspIC17DQo+ID4gLQlzdHJ1Y3Qg
YW1kZ3B1X2RldmljZSAqYWRldiA9DQo+ID4gLQkJY29udGFpbmVyX29mKHdvcmssIHN0cnVjdCBh
bWRncHVfZGV2aWNlLA0KPiA+IC0JCQkgICAgIHBtLmRwbS50aGVybWFsLndvcmspOw0KPiA+IC0J
Lyogc3dpdGNoIHRvIHRoZSB0aGVybWFsIHN0YXRlICovDQo+ID4gLQllbnVtIGFtZF9wbV9zdGF0
ZV90eXBlIGRwbV9zdGF0ZSA9DQo+IFBPV0VSX1NUQVRFX1RZUEVfSU5URVJOQUxfVEhFUk1BTDsN
Cj4gPiAtCWludCB0ZW1wLCBzaXplID0gc2l6ZW9mKHRlbXApOw0KPiA+IC0NCj4gPiAtCWlmICgh
YWRldi0+cG0uZHBtX2VuYWJsZWQpDQo+ID4gLQkJcmV0dXJuOw0KPiA+IC0NCj4gPiAtCWlmICgh
YW1kZ3B1X2RwbV9yZWFkX3NlbnNvcihhZGV2LA0KPiBBTURHUFVfUFBfU0VOU09SX0dQVV9URU1Q
LA0KPiA+IC0JCQkJICAgICh2b2lkICopJnRlbXAsICZzaXplKSkgew0KPiA+IC0JCWlmICh0ZW1w
IDwgYWRldi0+cG0uZHBtLnRoZXJtYWwubWluX3RlbXApDQo+ID4gLQkJCS8qIHN3aXRjaCBiYWNr
IHRoZSB1c2VyIHN0YXRlICovDQo+ID4gLQkJCWRwbV9zdGF0ZSA9IGFkZXYtPnBtLmRwbS51c2Vy
X3N0YXRlOw0KPiA+IC0JfSBlbHNlIHsNCj4gPiAtCQlpZiAoYWRldi0+cG0uZHBtLnRoZXJtYWwu
aGlnaF90b19sb3cpDQo+ID4gLQkJCS8qIHN3aXRjaCBiYWNrIHRoZSB1c2VyIHN0YXRlICovDQo+
ID4gLQkJCWRwbV9zdGF0ZSA9IGFkZXYtPnBtLmRwbS51c2VyX3N0YXRlOw0KPiA+IC0JfQ0KPiA+
IC0JbXV0ZXhfbG9jaygmYWRldi0+cG0ubXV0ZXgpOw0KPiA+IC0JaWYgKGRwbV9zdGF0ZSA9PSBQ
T1dFUl9TVEFURV9UWVBFX0lOVEVSTkFMX1RIRVJNQUwpDQo+ID4gLQkJYWRldi0+cG0uZHBtLnRo
ZXJtYWxfYWN0aXZlID0gdHJ1ZTsNCj4gPiAtCWVsc2UNCj4gPiAtCQlhZGV2LT5wbS5kcG0udGhl
cm1hbF9hY3RpdmUgPSBmYWxzZTsNCj4gPiAtCWFkZXYtPnBtLmRwbS5zdGF0ZSA9IGRwbV9zdGF0
ZTsNCj4gPiAtCW11dGV4X3VubG9jaygmYWRldi0+cG0ubXV0ZXgpOw0KPiA+IC0NCj4gPiAtCWFt
ZGdwdV9kcG1fY29tcHV0ZV9jbG9ja3MoYWRldik7DQo+ID4gLX0NCj4gPiAtDQo+ID4gICB2b2lk
IGFtZGdwdV9kcG1fY29tcHV0ZV9jbG9ja3Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpDQo+
ID4gICB7DQo+ID4gLQlpbnQgaSA9IDA7DQo+ID4gKwljb25zdCBzdHJ1Y3QgYW1kX3BtX2Z1bmNz
ICpwcF9mdW5jcyA9IGFkZXYtPnBvd2VycGxheS5wcF9mdW5jczsNCj4gPg0KPiA+ICAgCWlmICgh
YWRldi0+cG0uZHBtX2VuYWJsZWQpDQo+ID4gICAJCXJldHVybjsNCj4gPg0KPiA+IC0JaWYgKGFk
ZXYtPm1vZGVfaW5mby5udW1fY3J0YykNCj4gPiAtCQlhbWRncHVfZGlzcGxheV9iYW5kd2lkdGhf
dXBkYXRlKGFkZXYpOw0KPiA+IC0NCj4gPiAtCWZvciAoaSA9IDA7IGkgPCBBTURHUFVfTUFYX1JJ
TkdTOyBpKyspIHsNCj4gPiAtCQlzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcgPSBhZGV2LT5yaW5n
c1tpXTsNCj4gPiAtCQlpZiAocmluZyAmJiByaW5nLT5zY2hlZC5yZWFkeSkNCj4gPiAtCQkJYW1k
Z3B1X2ZlbmNlX3dhaXRfZW1wdHkocmluZyk7DQo+ID4gLQl9DQo+ID4gKwlpZiAoIXBwX2Z1bmNz
LT5wbV9jb21wdXRlX2Nsb2NrcykNCj4gPiArCQlyZXR1cm47DQo+ID4NCj4gPiAtCWlmICgoYWRl
di0+ZmFtaWx5ID09IEFNREdQVV9GQU1JTFlfU0kpIHx8DQo+ID4gLQkgICAgIChhZGV2LT5mYW1p
bHkgPT0gQU1ER1BVX0ZBTUlMWV9LVikpIHsNCj4gPiAtCQltdXRleF9sb2NrKCZhZGV2LT5wbS5t
dXRleCk7DQo+ID4gLQkJYW1kZ3B1X2RwbV9nZXRfYWN0aXZlX2Rpc3BsYXlzKGFkZXYpOw0KPiA+
IC0JCWFkZXYtPnBvd2VycGxheS5wcF9mdW5jcy0+Y2hhbmdlX3Bvd2VyX3N0YXRlKGFkZXYtDQo+
ID5wb3dlcnBsYXkucHBfaGFuZGxlKTsNCj4gPiAtCQltdXRleF91bmxvY2soJmFkZXYtPnBtLm11
dGV4KTsNCj4gPiAtCX0gZWxzZSB7DQo+ID4gLQkJaWYgKCFhbWRncHVfZGV2aWNlX2hhc19kY19z
dXBwb3J0KGFkZXYpKSB7DQo+ID4gLQkJCW11dGV4X2xvY2soJmFkZXYtPnBtLm11dGV4KTsNCj4g
PiAtCQkJYW1kZ3B1X2RwbV9nZXRfYWN0aXZlX2Rpc3BsYXlzKGFkZXYpOw0KPiA+IC0JCQlhZGV2
LT5wbS5wbV9kaXNwbGF5X2NmZy5udW1fZGlzcGxheSA9IGFkZXYtDQo+ID5wbS5kcG0ubmV3X2Fj
dGl2ZV9jcnRjX2NvdW50Ow0KPiA+IC0JCQlhZGV2LT5wbS5wbV9kaXNwbGF5X2NmZy52cmVmcmVz
aCA9DQo+IGFtZGdwdV9kcG1fZ2V0X3ZyZWZyZXNoKGFkZXYpOw0KPiA+IC0JCQlhZGV2LT5wbS5w
bV9kaXNwbGF5X2NmZy5taW5fdmJsYW5rX3RpbWUgPQ0KPiBhbWRncHVfZHBtX2dldF92Ymxhbmtf
dGltZShhZGV2KTsNCj4gPiAtCQkJLyogd2UgaGF2ZSBpc3N1ZXMgd2l0aCBtY2xrIHN3aXRjaGlu
ZyB3aXRoDQo+ID4gLQkJCSAqIHJlZnJlc2ggcmF0ZXMgb3ZlciAxMjAgaHogb24gdGhlIG5vbi1E
QyBjb2RlLg0KPiA+IC0JCQkgKi8NCj4gPiAtCQkJaWYgKGFkZXYtPnBtLnBtX2Rpc3BsYXlfY2Zn
LnZyZWZyZXNoID4gMTIwKQ0KPiA+IC0JCQkJYWRldi0+cG0ucG1fZGlzcGxheV9jZmcubWluX3Zi
bGFua190aW1lDQo+ID0gMDsNCj4gPiAtCQkJaWYgKGFkZXYtPnBvd2VycGxheS5wcF9mdW5jcy0N
Cj4gPmRpc3BsYXlfY29uZmlndXJhdGlvbl9jaGFuZ2UpDQo+ID4gLQkJCQlhZGV2LT5wb3dlcnBs
YXkucHBfZnVuY3MtDQo+ID5kaXNwbGF5X2NvbmZpZ3VyYXRpb25fY2hhbmdlKA0KPiA+IC0JCQkJ
CQkJYWRldi0NCj4gPnBvd2VycGxheS5wcF9oYW5kbGUsDQo+ID4gLQkJCQkJCQkmYWRldi0NCj4g
PnBtLnBtX2Rpc3BsYXlfY2ZnKTsNCj4gPiAtCQkJbXV0ZXhfdW5sb2NrKCZhZGV2LT5wbS5tdXRl
eCk7DQo+ID4gLQkJfQ0KPiA+IC0JCWFtZGdwdV9kcG1fZGlzcGF0Y2hfdGFzayhhZGV2LA0KPiBB
TURfUFBfVEFTS19ESVNQTEFZX0NPTkZJR19DSEFOR0UsIE5VTEwpOw0KPiA+IC0JfQ0KPiA+ICsJ
cHBfZnVuY3MtPnBtX2NvbXB1dGVfY2xvY2tzKGFkZXYtPnBvd2VycGxheS5wcF9oYW5kbGUpOw0K
PiA+ICAgfQ0KPiA+DQo+ID4gICB2b2lkIGFtZGdwdV9kcG1fZW5hYmxlX3V2ZChzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldiwgYm9vbA0KPiBlbmFibGUpDQo+ID4gICB7DQo+ID4gICAJaW50IHJl
dCA9IDA7DQo+ID4NCj4gPiAtCWlmIChhZGV2LT5mYW1pbHkgPT0gQU1ER1BVX0ZBTUlMWV9TSSkg
ew0KPiA+IC0JCW11dGV4X2xvY2soJmFkZXYtPnBtLm11dGV4KTsNCj4gPiAtCQlpZiAoZW5hYmxl
KSB7DQo+ID4gLQkJCWFkZXYtPnBtLmRwbS51dmRfYWN0aXZlID0gdHJ1ZTsNCj4gPiAtCQkJYWRl
di0+cG0uZHBtLnN0YXRlID0NCj4gUE9XRVJfU1RBVEVfVFlQRV9JTlRFUk5BTF9VVkQ7DQo+ID4g
LQkJfSBlbHNlIHsNCj4gPiAtCQkJYWRldi0+cG0uZHBtLnV2ZF9hY3RpdmUgPSBmYWxzZTsNCj4g
PiAtCQl9DQo+ID4gLQkJbXV0ZXhfdW5sb2NrKCZhZGV2LT5wbS5tdXRleCk7DQo+ID4gKwlyZXQg
PSBhbWRncHVfZHBtX3NldF9wb3dlcmdhdGluZ19ieV9zbXUoYWRldiwNCj4gQU1EX0lQX0JMT0NL
X1RZUEVfVVZELCAhZW5hYmxlKTsNCj4gPiArCWlmIChyZXQpDQo+ID4gKwkJRFJNX0VSUk9SKCJE
cG0gJXMgdXZkIGZhaWxlZCwgcmV0ID0gJWQuIFxuIiwNCj4gPiArCQkJICBlbmFibGUgPyAiZW5h
YmxlIiA6ICJkaXNhYmxlIiwgcmV0KTsNCj4gPg0KPiA+IC0JCWFtZGdwdV9kcG1fY29tcHV0ZV9j
bG9ja3MoYWRldik7DQo+ID4gLQl9IGVsc2Ugew0KPiA+IC0JCXJldCA9IGFtZGdwdV9kcG1fc2V0
X3Bvd2VyZ2F0aW5nX2J5X3NtdShhZGV2LA0KPiBBTURfSVBfQkxPQ0tfVFlQRV9VVkQsICFlbmFi
bGUpOw0KPiA+IC0JCWlmIChyZXQpDQo+ID4gLQkJCURSTV9FUlJPUigiRHBtICVzIHV2ZCBmYWls
ZWQsIHJldCA9ICVkLiBcbiIsDQo+ID4gLQkJCQkgIGVuYWJsZSA/ICJlbmFibGUiIDogImRpc2Fi
bGUiLCByZXQpOw0KPiA+IC0NCj4gPiAtCQkvKiBlbmFibGUvZGlzYWJsZSBMb3cgTWVtb3J5IFBT
dGF0ZSBmb3IgVVZEICg0ayB2aWRlb3MpICovDQo+ID4gLQkJaWYgKGFkZXYtPmFzaWNfdHlwZSA9
PSBDSElQX1NUT05FWSAmJg0KPiA+IC0JCQlhZGV2LT51dmQuZGVjb2RlX2ltYWdlX3dpZHRoID49
IFdJRFRIXzRLKSB7DQo+ID4gLQkJCXN0cnVjdCBwcF9od21nciAqaHdtZ3IgPSBhZGV2LQ0KPiA+
cG93ZXJwbGF5LnBwX2hhbmRsZTsNCj4gPiAtDQo+ID4gLQkJCWlmIChod21nciAmJiBod21nci0+
aHdtZ3JfZnVuYyAmJg0KPiA+IC0JCQkgICAgaHdtZ3ItPmh3bWdyX2Z1bmMtPnVwZGF0ZV9uYmRw
bV9wc3RhdGUpDQo+ID4gLQkJCQlod21nci0+aHdtZ3JfZnVuYy0NCj4gPnVwZGF0ZV9uYmRwbV9w
c3RhdGUoaHdtZ3IsDQo+ID4gLQkJCQkJCQkJICAgICAgICFlbmFibGUsDQo+ID4gLQkJCQkJCQkJ
ICAgICAgIHRydWUpOw0KPiA+IC0JCX0NCj4gPiArCS8qIGVuYWJsZS9kaXNhYmxlIExvdyBNZW1v
cnkgUFN0YXRlIGZvciBVVkQgKDRrIHZpZGVvcykgKi8NCj4gPiArCWlmIChhZGV2LT5hc2ljX3R5
cGUgPT0gQ0hJUF9TVE9ORVkgJiYNCj4gPiArCQlhZGV2LT51dmQuZGVjb2RlX2ltYWdlX3dpZHRo
ID49IFdJRFRIXzRLKSB7DQo+ID4gKwkJc3RydWN0IHBwX2h3bWdyICpod21nciA9IGFkZXYtPnBv
d2VycGxheS5wcF9oYW5kbGU7DQo+ID4gKw0KPiA+ICsJCWlmIChod21nciAmJiBod21nci0+aHdt
Z3JfZnVuYyAmJg0KPiA+ICsJCSAgICBod21nci0+aHdtZ3JfZnVuYy0+dXBkYXRlX25iZHBtX3Bz
dGF0ZSkNCj4gPiArCQkJaHdtZ3ItPmh3bWdyX2Z1bmMtDQo+ID51cGRhdGVfbmJkcG1fcHN0YXRl
KGh3bWdyLA0KPiA+ICsJCQkJCQkJICAgICAgICFlbmFibGUsDQo+ID4gKwkJCQkJCQkgICAgICAg
dHJ1ZSk7DQo+ID4gICAJfQ0KPiA+ICAgfQ0KPiA+DQo+ID4gQEAgLTU0OCwyNCArNDA0LDEwIEBA
IHZvaWQgYW1kZ3B1X2RwbV9lbmFibGVfdmNlKHN0cnVjdA0KPiBhbWRncHVfZGV2aWNlICphZGV2
LCBib29sIGVuYWJsZSkNCj4gPiAgIHsNCj4gPiAgIAlpbnQgcmV0ID0gMDsNCj4gPg0KPiA+IC0J
aWYgKGFkZXYtPmZhbWlseSA9PSBBTURHUFVfRkFNSUxZX1NJKSB7DQo+ID4gLQkJbXV0ZXhfbG9j
aygmYWRldi0+cG0ubXV0ZXgpOw0KPiA+IC0JCWlmIChlbmFibGUpIHsNCj4gPiAtCQkJYWRldi0+
cG0uZHBtLnZjZV9hY3RpdmUgPSB0cnVlOw0KPiA+IC0JCQkvKiBYWFggc2VsZWN0IHZjZSBsZXZl
bCBiYXNlZCBvbiByaW5nL3Rhc2sgKi8NCj4gPiAtCQkJYWRldi0+cG0uZHBtLnZjZV9sZXZlbCA9
DQo+IEFNRF9WQ0VfTEVWRUxfQUNfQUxMOw0KPiA+IC0JCX0gZWxzZSB7DQo+ID4gLQkJCWFkZXYt
PnBtLmRwbS52Y2VfYWN0aXZlID0gZmFsc2U7DQo+ID4gLQkJfQ0KPiA+IC0JCW11dGV4X3VubG9j
aygmYWRldi0+cG0ubXV0ZXgpOw0KPiA+IC0NCj4gPiAtCQlhbWRncHVfZHBtX2NvbXB1dGVfY2xv
Y2tzKGFkZXYpOw0KPiA+IC0JfSBlbHNlIHsNCj4gPiAtCQlyZXQgPSBhbWRncHVfZHBtX3NldF9w
b3dlcmdhdGluZ19ieV9zbXUoYWRldiwNCj4gQU1EX0lQX0JMT0NLX1RZUEVfVkNFLCAhZW5hYmxl
KTsNCj4gPiAtCQlpZiAocmV0KQ0KPiA+IC0JCQlEUk1fRVJST1IoIkRwbSAlcyB2Y2UgZmFpbGVk
LCByZXQgPSAlZC4gXG4iLA0KPiA+IC0JCQkJICBlbmFibGUgPyAiZW5hYmxlIiA6ICJkaXNhYmxl
IiwgcmV0KTsNCj4gPiAtCX0NCj4gPiArCXJldCA9IGFtZGdwdV9kcG1fc2V0X3Bvd2VyZ2F0aW5n
X2J5X3NtdShhZGV2LA0KPiBBTURfSVBfQkxPQ0tfVFlQRV9WQ0UsICFlbmFibGUpOw0KPiA+ICsJ
aWYgKHJldCkNCj4gPiArCQlEUk1fRVJST1IoIkRwbSAlcyB2Y2UgZmFpbGVkLCByZXQgPSAlZC4g
XG4iLA0KPiA+ICsJCQkgIGVuYWJsZSA/ICJlbmFibGUiIDogImRpc2FibGUiLCByZXQpOw0KPiA+
ICAgfQ0KPiA+DQo+ID4gICB2b2lkIGFtZGdwdV9kcG1fZW5hYmxlX2pwZWcoc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYsIGJvb2wNCj4gZW5hYmxlKQ0KPiA+IEBAIC03MjcsMTAgKzU2OSw3IEBA
IHZvaWQgYW1kZ3B1X2RwbV9zZXRfcG93ZXJfc3RhdGUoc3RydWN0DQo+IGFtZGdwdV9kZXZpY2Ug
KmFkZXYsDQo+ID4gICB7DQo+ID4gICAJYWRldi0+cG0uZHBtLnVzZXJfc3RhdGUgPSBzdGF0ZTsN
Cj4gPg0KPiA+IC0JaWYgKGFkZXYtPnBvd2VycGxheS5wcF9mdW5jcy0+ZGlzcGF0Y2hfdGFza3Mp
DQo+ID4gLQkJYW1kZ3B1X2RwbV9kaXNwYXRjaF90YXNrKGFkZXYsDQo+IEFNRF9QUF9UQVNLX0VO
QUJMRV9VU0VSX1NUQVRFLCAmc3RhdGUpOw0KPiA+IC0JZWxzZQ0KPiA+IC0JCWFtZGdwdV9kcG1f
Y29tcHV0ZV9jbG9ja3MoYWRldik7DQo+IA0KPiBXaGVyZSBpcyB0aGlzIGhhbmRsZWQgbm93Pw0K
W1F1YW4sIEV2YW5dIFRoYW5rcyEgVGhpcyB3aWxsIGJlIGZpeGVkIGluIHBhdGNoMiB3aXRoIHlv
dXIgYW5vdGhlciBjb21tZW50IHRoZXJlLg0KPiANCj4gPiArCWFtZGdwdV9kcG1fZGlzcGF0Y2hf
dGFzayhhZGV2LA0KPiBBTURfUFBfVEFTS19FTkFCTEVfVVNFUl9TVEFURSwgJnN0YXRlKTsgPiAg
IH0NCj4gPg0KPiA+ICAgZW51bSBhbWRfZHBtX2ZvcmNlZF9sZXZlbA0KPiBhbWRncHVfZHBtX2dl
dF9wZXJmb3JtYW5jZV9sZXZlbChzdHJ1Y3QNCj4gPiBhbWRncHVfZGV2aWNlICphZGV2KSBAQCAt
OTAwLDEyICs3MzksOSBAQCBpbnQNCj4gPiBhbWRncHVfZHBtX3NldF9zY2xrX29kKHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2LCB1aW50MzJfdCB2YWx1ZSkNCj4gPg0KPiA+ICAgCXBwX2Z1bmNz
LT5zZXRfc2Nsa19vZChhZGV2LT5wb3dlcnBsYXkucHBfaGFuZGxlLCB2YWx1ZSk7DQo+ID4NCj4g
PiAtCWlmIChhbWRncHVfZHBtX2Rpc3BhdGNoX3Rhc2soYWRldiwNCj4gPiAtCQkJCSAgICAgQU1E
X1BQX1RBU0tfUkVBREpVU1RfUE9XRVJfU1RBVEUsDQo+ID4gLQkJCQkgICAgIE5VTEwpID09IC1F
T1BOT1RTVVBQKSB7DQo+ID4gLQkJYWRldi0+cG0uZHBtLmN1cnJlbnRfcHMgPSBhZGV2LT5wbS5k
cG0uYm9vdF9wczsNCj4gPiAtCQlhbWRncHVfZHBtX2NvbXB1dGVfY2xvY2tzKGFkZXYpOw0KPiAN
Cj4gQXMgcGVyIHRoZSBlYXJsaWVyIGxvZ2ljLCBpdCBjaGFuZ2VzIGJhY2sgdG8gYm9vdCBzdGF0
ZSBjbG9ja3MgaWYgaXQgY291bGRuJ3Qgc2V0DQo+IHRoZSBjbG9ja3MuIFdoZXJlIGlzIHRoaXMg
ZG9uZSBub3c/IFNhbWUgZm9yIG1jbGsgYWxzby4NCltRdWFuLCBFdmFuXSBUaGUgcHJvYmxlbSB3
YXMgYnJvdWdodCBpbiBieSB0aGUgMmRuIHBhdGNoIG9mIHRoZSBzZXJpZXMuIA0KVGhlcmUgb24g
IXBwX2Z1bmNzLT5zZXRfc2Nsa19vZCwgRU9QTk9UU1VQUCB3aWxsIGJlIHJldHVybmVkLiBUbyBz
dGljayB0byBvcmlnaW5hbCBsb2dpYywgbm8gZXJyb3Igc2hvdWxkIGJlIHJldHVybmVkIG9uIHRo
YXQuDQpXaWxsIGZpeCB0aGF0IGluIHBhdGNoMi4NCg0KQlINCkV2YW4NCj4gDQo+IFRoYW5rcywN
Cj4gTGlqbw0KPiANCj4gPiAtCX0NCj4gPiArCWFtZGdwdV9kcG1fZGlzcGF0Y2hfdGFzayhhZGV2
LA0KPiA+ICsJCQkJIEFNRF9QUF9UQVNLX1JFQURKVVNUX1BPV0VSX1NUQVRFLA0KPiA+ICsJCQkJ
IE5VTEwpOw0KPiA+DQo+ID4gICAJcmV0dXJuIDA7DQo+ID4gICB9DQo+ID4gQEAgLTkyOSwxMiAr
NzY1LDkgQEAgaW50IGFtZGdwdV9kcG1fc2V0X21jbGtfb2Qoc3RydWN0DQo+IGFtZGdwdV9kZXZp
Y2UNCj4gPiAqYWRldiwgdWludDMyX3QgdmFsdWUpDQo+ID4NCj4gPiAgIAlwcF9mdW5jcy0+c2V0
X21jbGtfb2QoYWRldi0+cG93ZXJwbGF5LnBwX2hhbmRsZSwgdmFsdWUpOw0KPiA+DQo+ID4gLQlp
ZiAoYW1kZ3B1X2RwbV9kaXNwYXRjaF90YXNrKGFkZXYsDQo+ID4gLQkJCQkgICAgIEFNRF9QUF9U
QVNLX1JFQURKVVNUX1BPV0VSX1NUQVRFLA0KPiA+IC0JCQkJICAgICBOVUxMKSA9PSAtRU9QTk9U
U1VQUCkgew0KPiA+IC0JCWFkZXYtPnBtLmRwbS5jdXJyZW50X3BzID0gYWRldi0+cG0uZHBtLmJv
b3RfcHM7DQo+ID4gLQkJYW1kZ3B1X2RwbV9jb21wdXRlX2Nsb2NrcyhhZGV2KTsNCj4gPiAtCX0N
Cj4gPiArCWFtZGdwdV9kcG1fZGlzcGF0Y2hfdGFzayhhZGV2LA0KPiA+ICsJCQkJIEFNRF9QUF9U
QVNLX1JFQURKVVNUX1BPV0VSX1NUQVRFLA0KPiA+ICsJCQkJIE5VTEwpOw0KPiA+DQo+ID4gICAJ
cmV0dXJuIDA7DQo+ID4gICB9DQo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQv
cG0vYW1kZ3B1X2RwbV9pbnRlcm5hbC5jDQo+ID4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3BtL2Ft
ZGdwdV9kcG1faW50ZXJuYWwuYw0KPiA+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0DQo+ID4gaW5kZXgg
MDAwMDAwMDAwMDAwLi5iYTVmNjQxMzQxMmQNCj4gPiAtLS0gL2Rldi9udWxsDQo+ID4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9wbS9hbWRncHVfZHBtX2ludGVybmFsLmMNCj4gPiBAQCAtMCww
ICsxLDk0IEBADQo+ID4gKy8qDQo+ID4gKyAqIENvcHlyaWdodCAyMDIxIEFkdmFuY2VkIE1pY3Jv
IERldmljZXMsIEluYy4NCj4gPiArICoNCj4gPiArICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3Jh
bnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24NCj4gPiArb2J0YWluaW5nIGENCj4g
PiArICogY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24g
ZmlsZXMgKHRoZQ0KPiA+ICsiU29mdHdhcmUiKSwNCj4gPiArICogdG8gZGVhbCBpbiB0aGUgU29m
dHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQNCj4gPiArbGltaXRh
dGlvbg0KPiA+ICsgKiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVi
bGlzaCwgZGlzdHJpYnV0ZSwNCj4gPiArc3VibGljZW5zZSwNCj4gPiArICogYW5kL29yIHNlbGwg
Y29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20NCj4g
PiArdGhlDQo+ID4gKyAqIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0
byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6DQo+ID4gKyAqDQo+ID4gKyAqIFRoZSBhYm92ZSBj
b3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlDQo+ID4g
K2luY2x1ZGVkIGluDQo+ID4gKyAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMg
b2YgdGhlIFNvZnR3YXJlLg0KPiA+ICsgKg0KPiA+ICsgKiBUSEUgU09GVFdBUkUgSVMgUFJPVklE
RUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkNCj4gS0lORCwNCj4gPiArRVhQUkVT
UyBPUg0KPiA+ICsgKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBX
QVJSQU5USUVTIE9GDQo+ID4gK01FUkNIQU5UQUJJTElUWSwNCj4gPiArICogRklUTkVTUyBGT1Ig
QSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gIElODQo+IE5PIEVWRU5U
DQo+ID4gK1NIQUxMDQo+ID4gKyAqIFRIRSBDT1BZUklHSFQgSE9MREVSKFMpIE9SIEFVVEhPUihT
KSBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwNCj4gPiArREFNQUdFUyBPUg0KPiA+ICsgKiBPVEhF
UiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SDQo+
ID4gK09USEVSV0lTRSwNCj4gPiArICogQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVD
VElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUg0KPiBUSEUgVVNFDQo+ID4gK09SDQo+ID4gKyAqIE9U
SEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS4NCj4gPiArICoNCj4gPiArICovDQo+ID4gKw0K
PiA+ICsjaW5jbHVkZSAiYW1kZ3B1LmgiDQo+ID4gKyNpbmNsdWRlICJhbWRncHVfZGlzcGxheS5o
Ig0KPiA+ICsjaW5jbHVkZSAiaHdtZ3IuaCINCj4gPiArI2luY2x1ZGUgImFtZGdwdV9zbXUuaCIN
Cj4gPiArDQo+ID4gK3ZvaWQgYW1kZ3B1X2RwbV9nZXRfYWN0aXZlX2Rpc3BsYXlzKHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2KSB7DQo+ID4gKwlzdHJ1Y3QgZHJtX2RldmljZSAqZGRldiA9IGFk
ZXZfdG9fZHJtKGFkZXYpOw0KPiA+ICsJc3RydWN0IGRybV9jcnRjICpjcnRjOw0KPiA+ICsJc3Ry
dWN0IGFtZGdwdV9jcnRjICphbWRncHVfY3J0YzsNCj4gPiArDQo+ID4gKwlhZGV2LT5wbS5kcG0u
bmV3X2FjdGl2ZV9jcnRjcyA9IDA7DQo+ID4gKwlhZGV2LT5wbS5kcG0ubmV3X2FjdGl2ZV9jcnRj
X2NvdW50ID0gMDsNCj4gPiArCWlmIChhZGV2LT5tb2RlX2luZm8ubnVtX2NydGMgJiYgYWRldi0N
Cj4gPm1vZGVfaW5mby5tb2RlX2NvbmZpZ19pbml0aWFsaXplZCkgew0KPiA+ICsJCWxpc3RfZm9y
X2VhY2hfZW50cnkoY3J0YywNCj4gPiArCQkJCSAgICAmZGRldi0+bW9kZV9jb25maWcuY3J0Y19s
aXN0LCBoZWFkKSB7DQo+ID4gKwkJCWFtZGdwdV9jcnRjID0gdG9fYW1kZ3B1X2NydGMoY3J0Yyk7
DQo+ID4gKwkJCWlmIChhbWRncHVfY3J0Yy0+ZW5hYmxlZCkgew0KPiA+ICsJCQkJYWRldi0+cG0u
ZHBtLm5ld19hY3RpdmVfY3J0Y3MgfD0gKDEgPDwNCj4gYW1kZ3B1X2NydGMtPmNydGNfaWQpOw0K
PiA+ICsJCQkJYWRldi0+cG0uZHBtLm5ld19hY3RpdmVfY3J0Y19jb3VudCsrOw0KPiA+ICsJCQl9
DQo+ID4gKwkJfQ0KPiA+ICsJfQ0KPiA+ICt9DQo+ID4gKw0KPiA+ICt1MzIgYW1kZ3B1X2RwbV9n
ZXRfdmJsYW5rX3RpbWUoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpIHsNCj4gPiArCXN0cnVj
dCBkcm1fZGV2aWNlICpkZXYgPSBhZGV2X3RvX2RybShhZGV2KTsNCj4gPiArCXN0cnVjdCBkcm1f
Y3J0YyAqY3J0YzsNCj4gPiArCXN0cnVjdCBhbWRncHVfY3J0YyAqYW1kZ3B1X2NydGM7DQo+ID4g
Kwl1MzIgdmJsYW5rX2luX3BpeGVsczsNCj4gPiArCXUzMiB2YmxhbmtfdGltZV91cyA9IDB4ZmZm
ZmZmZmY7IC8qIGlmIHRoZSBkaXNwbGF5cyBhcmUgb2ZmLCB2YmxhbmsNCj4gPiArdGltZSBpcyBt
YXggKi8NCj4gPiArDQo+ID4gKwlpZiAoYWRldi0+bW9kZV9pbmZvLm51bV9jcnRjICYmIGFkZXYt
DQo+ID5tb2RlX2luZm8ubW9kZV9jb25maWdfaW5pdGlhbGl6ZWQpIHsNCj4gPiArCQlsaXN0X2Zv
cl9lYWNoX2VudHJ5KGNydGMsICZkZXYtPm1vZGVfY29uZmlnLmNydGNfbGlzdCwgaGVhZCkNCj4g
ew0KPiA+ICsJCQlhbWRncHVfY3J0YyA9IHRvX2FtZGdwdV9jcnRjKGNydGMpOw0KPiA+ICsJCQlp
ZiAoY3J0Yy0+ZW5hYmxlZCAmJiBhbWRncHVfY3J0Yy0+ZW5hYmxlZCAmJg0KPiBhbWRncHVfY3J0
Yy0+aHdfbW9kZS5jbG9jaykgew0KPiA+ICsJCQkJdmJsYW5rX2luX3BpeGVscyA9DQo+ID4gKwkJ
CQkJYW1kZ3B1X2NydGMtPmh3X21vZGUuY3J0Y19odG90YWwNCj4gKg0KPiA+ICsJCQkJCShhbWRn
cHVfY3J0Yy0NCj4gPmh3X21vZGUuY3J0Y192YmxhbmtfZW5kIC0NCj4gPiArCQkJCQlhbWRncHVf
Y3J0Yy0NCj4gPmh3X21vZGUuY3J0Y192ZGlzcGxheSArDQo+ID4gKwkJCQkJKGFtZGdwdV9jcnRj
LT52X2JvcmRlciAqIDIpKTsNCj4gPiArDQo+ID4gKwkJCQl2YmxhbmtfdGltZV91cyA9IHZibGFu
a19pbl9waXhlbHMgKiAxMDAwIC8NCj4gYW1kZ3B1X2NydGMtPmh3X21vZGUuY2xvY2s7DQo+ID4g
KwkJCQlicmVhazsNCj4gPiArCQkJfQ0KPiA+ICsJCX0NCj4gPiArCX0NCj4gPiArDQo+ID4gKwly
ZXR1cm4gdmJsYW5rX3RpbWVfdXM7DQo+ID4gK30NCj4gPiArDQo+ID4gK3UzMiBhbWRncHVfZHBt
X2dldF92cmVmcmVzaChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikgew0KPiA+ICsJc3RydWN0
IGRybV9kZXZpY2UgKmRldiA9IGFkZXZfdG9fZHJtKGFkZXYpOw0KPiA+ICsJc3RydWN0IGRybV9j
cnRjICpjcnRjOw0KPiA+ICsJc3RydWN0IGFtZGdwdV9jcnRjICphbWRncHVfY3J0YzsNCj4gPiAr
CXUzMiB2cmVmcmVzaCA9IDA7DQo+ID4gKw0KPiA+ICsJaWYgKGFkZXYtPm1vZGVfaW5mby5udW1f
Y3J0YyAmJiBhZGV2LQ0KPiA+bW9kZV9pbmZvLm1vZGVfY29uZmlnX2luaXRpYWxpemVkKSB7DQo+
ID4gKwkJbGlzdF9mb3JfZWFjaF9lbnRyeShjcnRjLCAmZGV2LT5tb2RlX2NvbmZpZy5jcnRjX2xp
c3QsIGhlYWQpDQo+IHsNCj4gPiArCQkJYW1kZ3B1X2NydGMgPSB0b19hbWRncHVfY3J0YyhjcnRj
KTsNCj4gPiArCQkJaWYgKGNydGMtPmVuYWJsZWQgJiYgYW1kZ3B1X2NydGMtPmVuYWJsZWQgJiYN
Cj4gYW1kZ3B1X2NydGMtPmh3X21vZGUuY2xvY2spIHsNCj4gPiArCQkJCXZyZWZyZXNoID0NCj4g
ZHJtX21vZGVfdnJlZnJlc2goJmFtZGdwdV9jcnRjLT5od19tb2RlKTsNCj4gPiArCQkJCWJyZWFr
Ow0KPiA+ICsJCQl9DQo+ID4gKwkJfQ0KPiA+ICsJfQ0KPiA+ICsNCj4gPiArCXJldHVybiB2cmVm
cmVzaDsNCj4gPiArfQ0KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3BtL2lu
Yy9hbWRncHVfZHBtLmgNCj4gPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG0vaW5jL2FtZGdwdV9k
cG0uaA0KPiA+IGluZGV4IGI3ODQxYTk4OWQ1OS4uYjA3OTFlODU1YWQzIDEwMDY0NA0KPiA+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG0vaW5jL2FtZGdwdV9kcG0uaA0KPiA+ICsrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvcG0vaW5jL2FtZGdwdV9kcG0uaA0KPiA+IEBAIC00MjAsOCArNDIw
LDYgQEAgdm9pZCBhbWRncHVfcG1fYWNwaV9ldmVudF9oYW5kbGVyKHN0cnVjdA0KPiBhbWRncHVf
ZGV2aWNlICphZGV2KTsNCj4gPiAgIGludCBhbWRncHVfZHBtX3JlYWRfc2Vuc29yKHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2LCBlbnVtDQo+IGFtZF9wcF9zZW5zb3JzIHNlbnNvciwNCj4gPiAg
IAkJCSAgIHZvaWQgKmRhdGEsIHVpbnQzMl90ICpzaXplKTsNCj4gPg0KPiA+IC12b2lkIGFtZGdw
dV9kcG1fdGhlcm1hbF93b3JrX2hhbmRsZXIoc3RydWN0IHdvcmtfc3RydWN0ICp3b3JrKTsNCj4g
PiAtDQo+ID4gICB2b2lkIGFtZGdwdV9kcG1fY29tcHV0ZV9jbG9ja3Moc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYpOw0KPiA+ICAgdm9pZCBhbWRncHVfZHBtX2VuYWJsZV91dmQoc3RydWN0IGFt
ZGdwdV9kZXZpY2UgKmFkZXYsIGJvb2wNCj4gZW5hYmxlKTsNCj4gPiAgIHZvaWQgYW1kZ3B1X2Rw
bV9lbmFibGVfdmNlKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCBib29sDQo+IGVuYWJsZSk7
DQo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG0vaW5jL2FtZGdwdV9kcG1f
aW50ZXJuYWwuaA0KPiA+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wbS9pbmMvYW1kZ3B1X2RwbV9p
bnRlcm5hbC5oDQo+ID4gbmV3IGZpbGUgbW9kZSAxMDA2NDQNCj4gPiBpbmRleCAwMDAwMDAwMDAw
MDAuLjVjMmE4OWYwZDVkNQ0KPiA+IC0tLSAvZGV2L251bGwNCj4gPiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL3BtL2luYy9hbWRncHVfZHBtX2ludGVybmFsLmgNCj4gPiBAQCAtMCwwICsxLDMy
IEBADQo+ID4gKy8qDQo+ID4gKyAqIENvcHlyaWdodCAyMDIxIEFkdmFuY2VkIE1pY3JvIERldmlj
ZXMsIEluYy4NCj4gPiArICoNCj4gPiArICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwg
ZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24NCj4gPiArb2J0YWluaW5nIGENCj4gPiArICog
Y29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMg
KHRoZQ0KPiA+ICsiU29mdHdhcmUiKSwNCj4gPiArICogdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUg
d2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQNCj4gPiArbGltaXRhdGlvbg0K
PiA+ICsgKiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwg
ZGlzdHJpYnV0ZSwNCj4gPiArc3VibGljZW5zZSwNCj4gPiArICogYW5kL29yIHNlbGwgY29waWVz
IG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20NCj4gPiArdGhl
DQo+ID4gKyAqIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUg
Zm9sbG93aW5nIGNvbmRpdGlvbnM6DQo+ID4gKyAqDQo+ID4gKyAqIFRoZSBhYm92ZSBjb3B5cmln
aHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlDQo+ID4gK2luY2x1
ZGVkIGluDQo+ID4gKyAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhl
IFNvZnR3YXJlLg0KPiA+ICsgKg0KPiA+ICsgKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFT
IElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkNCj4gS0lORCwNCj4gPiArRVhQUkVTUyBPUg0K
PiA+ICsgKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5U
SUVTIE9GDQo+ID4gK01FUkNIQU5UQUJJTElUWSwNCj4gPiArICogRklUTkVTUyBGT1IgQSBQQVJU
SUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gIElODQo+IE5PIEVWRU5UDQo+ID4g
K1NIQUxMDQo+ID4gKyAqIFRIRSBDT1BZUklHSFQgSE9MREVSKFMpIE9SIEFVVEhPUihTKSBCRSBM
SUFCTEUgRk9SIEFOWSBDTEFJTSwNCj4gPiArREFNQUdFUyBPUg0KPiA+ICsgKiBPVEhFUiBMSUFC
SUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SDQo+ID4gK09U
SEVSV0lTRSwNCj4gPiArICogQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBX
SVRIIFRIRSBTT0ZUV0FSRSBPUg0KPiBUSEUgVVNFDQo+ID4gK09SDQo+ID4gKyAqIE9USEVSIERF
QUxJTkdTIElOIFRIRSBTT0ZUV0FSRS4NCj4gPiArICoNCj4gPiArICovDQo+ID4gKyNpZm5kZWYg
X19BTURHUFVfRFBNX0lOVEVSTkFMX0hfXw0KPiA+ICsjZGVmaW5lIF9fQU1ER1BVX0RQTV9JTlRF
Uk5BTF9IX18NCj4gPiArDQo+ID4gK3ZvaWQgYW1kZ3B1X2RwbV9nZXRfYWN0aXZlX2Rpc3BsYXlz
KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KTsNCj4gPiArDQo+ID4gK3UzMiBhbWRncHVfZHBt
X2dldF92YmxhbmtfdGltZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7DQo+ID4gKw0KPiA+
ICt1MzIgYW1kZ3B1X2RwbV9nZXRfdnJlZnJlc2goc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYp
Ow0KPiA+ICsNCj4gPiArI2VuZGlmDQo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9h
bWQvcG0vcG93ZXJwbGF5L2FtZF9wb3dlcnBsYXkuYw0KPiA+IGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9wbS9wb3dlcnBsYXkvYW1kX3Bvd2VycGxheS5jDQo+ID4gaW5kZXggMjBjYjIzNGQ1MDYxLi5k
NTdkNWMyOGMwMTMgMTAwNjQ0DQo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wbS9wb3dl
cnBsYXkvYW1kX3Bvd2VycGxheS5jDQo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wbS9w
b3dlcnBsYXkvYW1kX3Bvd2VycGxheS5jDQo+ID4gQEAgLTMxLDcgKzMxLDggQEANCj4gPiAgICNp
bmNsdWRlICJwb3dlcl9zdGF0ZS5oIg0KPiA+ICAgI2luY2x1ZGUgImFtZGdwdS5oIg0KPiA+ICAg
I2luY2x1ZGUgImh3bWdyLmgiDQo+ID4gLQ0KPiA+ICsjaW5jbHVkZSAiYW1kZ3B1X2RwbV9pbnRl
cm5hbC5oIg0KPiA+ICsjaW5jbHVkZSAiYW1kZ3B1X2Rpc3BsYXkuaCINCj4gPg0KPiA+ICAgc3Rh
dGljIGNvbnN0IHN0cnVjdCBhbWRfcG1fZnVuY3MgcHBfZHBtX2Z1bmNzOw0KPiA+DQo+ID4gQEAg
LTE2NzgsNiArMTY3OSw0MSBAQCBzdGF0aWMgaW50IHBwX2dldF9wcnZfYnVmZmVyX2RldGFpbHMo
dm9pZA0KPiAqaGFuZGxlLCB2b2lkICoqYWRkciwgc2l6ZV90ICpzaXplKQ0KPiA+ICAgCXJldHVy
biAwOw0KPiA+ICAgfQ0KPiA+DQo+ID4gK3N0YXRpYyB2b2lkIHBwX3BtX2NvbXB1dGVfY2xvY2tz
KHZvaWQgKmhhbmRsZSkgew0KPiA+ICsJc3RydWN0IHBwX2h3bWdyICpod21nciA9IGhhbmRsZTsN
Cj4gPiArCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gaHdtZ3ItPmFkZXY7DQo+ID4gKwlp
bnQgaSA9IDA7DQo+ID4gKw0KPiA+ICsJaWYgKGFkZXYtPm1vZGVfaW5mby5udW1fY3J0YykNCj4g
PiArCQlhbWRncHVfZGlzcGxheV9iYW5kd2lkdGhfdXBkYXRlKGFkZXYpOw0KPiA+ICsNCj4gPiAr
CWZvciAoaSA9IDA7IGkgPCBBTURHUFVfTUFYX1JJTkdTOyBpKyspIHsNCj4gPiArCQlzdHJ1Y3Qg
YW1kZ3B1X3JpbmcgKnJpbmcgPSBhZGV2LT5yaW5nc1tpXTsNCj4gPiArCQlpZiAocmluZyAmJiBy
aW5nLT5zY2hlZC5yZWFkeSkNCj4gPiArCQkJYW1kZ3B1X2ZlbmNlX3dhaXRfZW1wdHkocmluZyk7
DQo+ID4gKwl9DQo+ID4gKw0KPiA+ICsJaWYgKCFhbWRncHVfZGV2aWNlX2hhc19kY19zdXBwb3J0
KGFkZXYpKSB7DQo+ID4gKwkJYW1kZ3B1X2RwbV9nZXRfYWN0aXZlX2Rpc3BsYXlzKGFkZXYpOw0K
PiA+ICsJCWFkZXYtPnBtLnBtX2Rpc3BsYXlfY2ZnLm51bV9kaXNwbGF5ID0gYWRldi0NCj4gPnBt
LmRwbS5uZXdfYWN0aXZlX2NydGNfY291bnQ7DQo+ID4gKwkJYWRldi0+cG0ucG1fZGlzcGxheV9j
ZmcudnJlZnJlc2ggPQ0KPiBhbWRncHVfZHBtX2dldF92cmVmcmVzaChhZGV2KTsNCj4gPiArCQlh
ZGV2LT5wbS5wbV9kaXNwbGF5X2NmZy5taW5fdmJsYW5rX3RpbWUgPQ0KPiBhbWRncHVfZHBtX2dl
dF92YmxhbmtfdGltZShhZGV2KTsNCj4gPiArCQkvKiB3ZSBoYXZlIGlzc3VlcyB3aXRoIG1jbGsg
c3dpdGNoaW5nIHdpdGgNCj4gPiArCQkgKiByZWZyZXNoIHJhdGVzIG92ZXIgMTIwIGh6IG9uIHRo
ZSBub24tREMgY29kZS4NCj4gPiArCQkgKi8NCj4gPiArCQlpZiAoYWRldi0+cG0ucG1fZGlzcGxh
eV9jZmcudnJlZnJlc2ggPiAxMjApDQo+ID4gKwkJCWFkZXYtPnBtLnBtX2Rpc3BsYXlfY2ZnLm1p
bl92YmxhbmtfdGltZSA9IDA7DQo+ID4gKw0KPiA+ICsJCXBwX2Rpc3BsYXlfY29uZmlndXJhdGlv
bl9jaGFuZ2UoaGFuZGxlLA0KPiA+ICsJCQkJCQkmYWRldi0+cG0ucG1fZGlzcGxheV9jZmcpOw0K
PiA+ICsJfQ0KPiA+ICsNCj4gPiArCXBwX2RwbV9kaXNwYXRjaF90YXNrcyhoYW5kbGUsDQo+ID4g
KwkJCSAgICAgIEFNRF9QUF9UQVNLX0RJU1BMQVlfQ09ORklHX0NIQU5HRSwNCj4gPiArCQkJICAg
ICAgTlVMTCk7DQo+ID4gK30NCj4gPiArDQo+ID4gICBzdGF0aWMgY29uc3Qgc3RydWN0IGFtZF9w
bV9mdW5jcyBwcF9kcG1fZnVuY3MgPSB7DQo+ID4gICAJLmxvYWRfZmlybXdhcmUgPSBwcF9kcG1f
bG9hZF9mdywNCj4gPiAgIAkud2FpdF9mb3JfZndfbG9hZGluZ19jb21wbGV0ZSA9IHBwX2RwbV9m
d19sb2FkaW5nX2NvbXBsZXRlLA0KPiBAQA0KPiA+IC0xNzQyLDQgKzE3NzgsNSBAQCBzdGF0aWMg
Y29uc3Qgc3RydWN0IGFtZF9wbV9mdW5jcyBwcF9kcG1fZnVuY3MgPSB7DQo+ID4gICAJLmdldF9n
cHVfbWV0cmljcyA9IHBwX2dldF9ncHVfbWV0cmljcywNCj4gPiAgIAkuZ2Z4X3N0YXRlX2NoYW5n
ZV9zZXQgPSBwcF9nZnhfc3RhdGVfY2hhbmdlX3NldCwNCj4gPiAgIAkuZ2V0X3NtdV9wcnZfYnVm
X2RldGFpbHMgPSBwcF9nZXRfcHJ2X2J1ZmZlcl9kZXRhaWxzLA0KPiA+ICsJLnBtX2NvbXB1dGVf
Y2xvY2tzID0gcHBfcG1fY29tcHV0ZV9jbG9ja3MsDQo+ID4gICB9Ow0KPiA+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL3BtL3Bvd2VycGxheS9rdl9kcG0uYw0KPiA+IGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9wbS9wb3dlcnBsYXkva3ZfZHBtLmMNCj4gPiBpbmRleCBlZWQ4OTgzNTIz
MWMuLjcyODI0ZWY2MWVkZCAxMDA2NDQNCj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bt
L3Bvd2VycGxheS9rdl9kcG0uYw0KPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG0vcG93
ZXJwbGF5L2t2X2RwbS5jDQo+ID4gQEAgLTMwODgsNyArMzA4OCw3IEBAIHN0YXRpYyBpbnQga3Zf
ZHBtX2h3X2luaXQodm9pZCAqaGFuZGxlKQ0KPiA+ICAgCWVsc2UNCj4gPiAgIAkJYWRldi0+cG0u
ZHBtX2VuYWJsZWQgPSB0cnVlOw0KPiA+ICAgCW11dGV4X3VubG9jaygmYWRldi0+cG0ubXV0ZXgp
Ow0KPiA+IC0JYW1kZ3B1X2RwbV9jb21wdXRlX2Nsb2NrcyhhZGV2KTsNCj4gPiArCWFtZGdwdV9s
ZWdhY3lfZHBtX2NvbXB1dGVfY2xvY2tzKGFkZXYpOw0KPiA+ICAgCXJldHVybiByZXQ7DQo+ID4g
ICB9DQo+ID4NCj4gPiBAQCAtMzEzNiw3ICszMTM2LDcgQEAgc3RhdGljIGludCBrdl9kcG1fcmVz
dW1lKHZvaWQgKmhhbmRsZSkNCj4gPiAgIAkJCWFkZXYtPnBtLmRwbV9lbmFibGVkID0gdHJ1ZTsN
Cj4gPiAgIAkJbXV0ZXhfdW5sb2NrKCZhZGV2LT5wbS5tdXRleCk7DQo+ID4gICAJCWlmIChhZGV2
LT5wbS5kcG1fZW5hYmxlZCkNCj4gPiAtCQkJYW1kZ3B1X2RwbV9jb21wdXRlX2Nsb2NrcyhhZGV2
KTsNCj4gPiArCQkJYW1kZ3B1X2xlZ2FjeV9kcG1fY29tcHV0ZV9jbG9ja3MoYWRldik7DQo+ID4g
ICAJfQ0KPiA+ICAgCXJldHVybiAwOw0KPiA+ICAgfQ0KPiA+IEBAIC0zMzkwLDcgKzMzOTAsNyBA
QCBzdGF0aWMgY29uc3Qgc3RydWN0IGFtZF9wbV9mdW5jcyBrdl9kcG1fZnVuY3MNCj4gPSB7DQo+
ID4gICAJLmdldF92Y2VfY2xvY2tfc3RhdGUgPSBhbWRncHVfZ2V0X3ZjZV9jbG9ja19zdGF0ZSwN
Cj4gPiAgIAkuY2hlY2tfc3RhdGVfZXF1YWwgPSBrdl9jaGVja19zdGF0ZV9lcXVhbCwNCj4gPiAg
IAkucmVhZF9zZW5zb3IgPSAma3ZfZHBtX3JlYWRfc2Vuc29yLA0KPiA+IC0JLmNoYW5nZV9wb3dl
cl9zdGF0ZSA9IGFtZGdwdV9kcG1fY2hhbmdlX3Bvd2VyX3N0YXRlX2xvY2tlZCwNCj4gPiArCS5w
bV9jb21wdXRlX2Nsb2NrcyA9IGFtZGdwdV9sZWdhY3lfZHBtX2NvbXB1dGVfY2xvY2tzLA0KPiA+
ICAgfTsNCj4gPg0KPiA+ICAgc3RhdGljIGNvbnN0IHN0cnVjdCBhbWRncHVfaXJxX3NyY19mdW5j
cyBrdl9kcG1faXJxX2Z1bmNzID0geyBkaWZmDQo+ID4gLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL3BtL3Bvd2VycGxheS9sZWdhY3lfZHBtLmMNCj4gPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
cG0vcG93ZXJwbGF5L2xlZ2FjeV9kcG0uYw0KPiA+IGluZGV4IDY3Yzg0YjdhZDhlNy4uM2M2ZWU0
OTNlNDEwIDEwMDY0NA0KPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG0vcG93ZXJwbGF5
L2xlZ2FjeV9kcG0uYw0KPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG0vcG93ZXJwbGF5
L2xlZ2FjeV9kcG0uYw0KPiA+IEBAIC0yNiw2ICsyNiw4IEBADQo+ID4gICAjaW5jbHVkZSAiYXRv
bS5oIg0KPiA+ICAgI2luY2x1ZGUgImFtZF9wY2llLmgiDQo+ID4gICAjaW5jbHVkZSAibGVnYWN5
X2RwbS5oIg0KPiA+ICsjaW5jbHVkZSAiYW1kZ3B1X2RwbV9pbnRlcm5hbC5oIg0KPiA+ICsjaW5j
bHVkZSAiYW1kZ3B1X2Rpc3BsYXkuaCINCj4gPg0KPiA+ICAgI2RlZmluZSBhbWRncHVfZHBtX3By
ZV9zZXRfcG93ZXJfc3RhdGUoYWRldikgXA0KPiA+DQo+ID4gKChhZGV2KS0+cG93ZXJwbGF5LnBw
X2Z1bmNzLT5wcmVfc2V0X3Bvd2VyX3N0YXRlKChhZGV2KS0NCj4gPnBvd2VycGxheS5wcF8NCj4g
PiBoYW5kbGUpKSBAQCAtOTQ5LDkgKzk1MSw4IEBAIHN0YXRpYyBzdHJ1Y3QgYW1kZ3B1X3BzDQo+
ID4gKmFtZGdwdV9kcG1fcGlja19wb3dlcl9zdGF0ZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRl
diwNCj4gPiAgIAlyZXR1cm4gTlVMTDsNCj4gPiAgIH0NCj4gPg0KPiA+IC1pbnQgYW1kZ3B1X2Rw
bV9jaGFuZ2VfcG93ZXJfc3RhdGVfbG9ja2VkKHZvaWQgKmhhbmRsZSkNCj4gPiArc3RhdGljIGlu
dCBhbWRncHVfZHBtX2NoYW5nZV9wb3dlcl9zdGF0ZV9sb2NrZWQoc3RydWN0DQo+IGFtZGdwdV9k
ZXZpY2UNCj4gPiArKmFkZXYpDQo+ID4gICB7DQo+ID4gLQlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldiA9IChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqKWhhbmRsZTsNCj4gPiAgIAlzdHJ1Y3QgYW1k
Z3B1X3BzICpwczsNCj4gPiAgIAllbnVtIGFtZF9wbV9zdGF0ZV90eXBlIGRwbV9zdGF0ZTsNCj4g
PiAgIAlpbnQgcmV0Ow0KPiA+IEBAIC0xMDIyLDMgKzEwMjMsNTggQEAgaW50DQo+IGFtZGdwdV9k
cG1fY2hhbmdlX3Bvd2VyX3N0YXRlX2xvY2tlZCh2b2lkDQo+ID4gKmhhbmRsZSkNCj4gPg0KPiA+
ICAgCXJldHVybiAwOw0KPiA+ICAgfQ0KPiA+ICsNCj4gPiArdm9pZCBhbWRncHVfbGVnYWN5X2Rw
bV9jb21wdXRlX2Nsb2Nrcyh2b2lkICpoYW5kbGUpIHsNCj4gPiArCXN0cnVjdCBhbWRncHVfZGV2
aWNlICphZGV2ID0gKHN0cnVjdCBhbWRncHVfZGV2aWNlICopaGFuZGxlOw0KPiA+ICsJaW50IGkg
PSAwOw0KPiA+ICsNCj4gPiArCWlmIChhZGV2LT5tb2RlX2luZm8ubnVtX2NydGMpDQo+ID4gKwkJ
YW1kZ3B1X2Rpc3BsYXlfYmFuZHdpZHRoX3VwZGF0ZShhZGV2KTsNCj4gPiArDQo+ID4gKwlmb3Ig
KGkgPSAwOyBpIDwgQU1ER1BVX01BWF9SSU5HUzsgaSsrKSB7DQo+ID4gKwkJc3RydWN0IGFtZGdw
dV9yaW5nICpyaW5nID0gYWRldi0+cmluZ3NbaV07DQo+ID4gKwkJaWYgKHJpbmcgJiYgcmluZy0+
c2NoZWQucmVhZHkpDQo+ID4gKwkJCWFtZGdwdV9mZW5jZV93YWl0X2VtcHR5KHJpbmcpOw0KPiA+
ICsJfQ0KPiA+ICsNCj4gPiArCWFtZGdwdV9kcG1fZ2V0X2FjdGl2ZV9kaXNwbGF5cyhhZGV2KTsN
Cj4gPiArDQo+ID4gKwlhbWRncHVfZHBtX2NoYW5nZV9wb3dlcl9zdGF0ZV9sb2NrZWQoYWRldik7
DQo+ID4gK30NCj4gPiArDQo+ID4gK3ZvaWQgYW1kZ3B1X2RwbV90aGVybWFsX3dvcmtfaGFuZGxl
cihzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspIHsNCj4gPiArCXN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2ID0NCj4gPiArCQljb250YWluZXJfb2Yod29yaywgc3RydWN0IGFtZGdwdV9kZXZpY2Us
DQo+ID4gKwkJCSAgICAgcG0uZHBtLnRoZXJtYWwud29yayk7DQo+ID4gKwljb25zdCBzdHJ1Y3Qg
YW1kX3BtX2Z1bmNzICpwcF9mdW5jcyA9IGFkZXYtPnBvd2VycGxheS5wcF9mdW5jczsNCj4gPiAr
CS8qIHN3aXRjaCB0byB0aGUgdGhlcm1hbCBzdGF0ZSAqLw0KPiA+ICsJZW51bSBhbWRfcG1fc3Rh
dGVfdHlwZSBkcG1fc3RhdGUgPQ0KPiBQT1dFUl9TVEFURV9UWVBFX0lOVEVSTkFMX1RIRVJNQUw7
DQo+ID4gKwlpbnQgdGVtcCwgc2l6ZSA9IHNpemVvZih0ZW1wKTsNCj4gPiArDQo+ID4gKwlpZiAo
IWFkZXYtPnBtLmRwbV9lbmFibGVkKQ0KPiA+ICsJCXJldHVybjsNCj4gPiArDQo+ID4gKwlpZiAo
IXBwX2Z1bmNzLT5yZWFkX3NlbnNvcihhZGV2LT5wb3dlcnBsYXkucHBfaGFuZGxlLA0KPiA+ICsJ
CQkJICAgQU1ER1BVX1BQX1NFTlNPUl9HUFVfVEVNUCwNCj4gPiArCQkJCSAgICh2b2lkICopJnRl
bXAsDQo+ID4gKwkJCQkgICAmc2l6ZSkpIHsNCj4gPiArCQlpZiAodGVtcCA8IGFkZXYtPnBtLmRw
bS50aGVybWFsLm1pbl90ZW1wKQ0KPiA+ICsJCQkvKiBzd2l0Y2ggYmFjayB0aGUgdXNlciBzdGF0
ZSAqLw0KPiA+ICsJCQlkcG1fc3RhdGUgPSBhZGV2LT5wbS5kcG0udXNlcl9zdGF0ZTsNCj4gPiAr
CX0gZWxzZSB7DQo+ID4gKwkJaWYgKGFkZXYtPnBtLmRwbS50aGVybWFsLmhpZ2hfdG9fbG93KQ0K
PiA+ICsJCQkvKiBzd2l0Y2ggYmFjayB0aGUgdXNlciBzdGF0ZSAqLw0KPiA+ICsJCQlkcG1fc3Rh
dGUgPSBhZGV2LT5wbS5kcG0udXNlcl9zdGF0ZTsNCj4gPiArCX0NCj4gPiArDQo+ID4gKwlpZiAo
ZHBtX3N0YXRlID09IFBPV0VSX1NUQVRFX1RZUEVfSU5URVJOQUxfVEhFUk1BTCkNCj4gPiArCQlh
ZGV2LT5wbS5kcG0udGhlcm1hbF9hY3RpdmUgPSB0cnVlOw0KPiA+ICsJZWxzZQ0KPiA+ICsJCWFk
ZXYtPnBtLmRwbS50aGVybWFsX2FjdGl2ZSA9IGZhbHNlOw0KPiA+ICsNCj4gPiArCWFkZXYtPnBt
LmRwbS5zdGF0ZSA9IGRwbV9zdGF0ZTsNCj4gPiArDQo+ID4gKwlhbWRncHVfbGVnYWN5X2RwbV9j
b21wdXRlX2Nsb2NrcyhhZGV2LQ0KPiA+cG93ZXJwbGF5LnBwX2hhbmRsZSk7DQo+ID4gK30NCj4g
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wbS9wb3dlcnBsYXkvbGVnYWN5X2Rw
bS5oDQo+ID4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3BtL3Bvd2VycGxheS9sZWdhY3lfZHBtLmgN
Cj4gPiBpbmRleCA3YWMzMGYxYWVkMjAuLjkzYmQzOTczMzMwYyAxMDA2NDQNCj4gPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL3BtL3Bvd2VycGxheS9sZWdhY3lfZHBtLmgNCj4gPiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL3BtL3Bvd2VycGxheS9sZWdhY3lfZHBtLmgNCj4gPiBAQCAtMzIs
NiArMzIsNyBAQCBpbnQgYW1kZ3B1X3BhcnNlX2V4dGVuZGVkX3Bvd2VyX3RhYmxlKHN0cnVjdA0K
PiBhbWRncHVfZGV2aWNlICphZGV2KTsNCj4gPiAgIHZvaWQgYW1kZ3B1X2ZyZWVfZXh0ZW5kZWRf
cG93ZXJfdGFibGUoc3RydWN0IGFtZGdwdV9kZXZpY2UNCj4gKmFkZXYpOw0KPiA+ICAgdm9pZCBh
bWRncHVfYWRkX3RoZXJtYWxfY29udHJvbGxlcihzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7
DQo+ID4gICBzdHJ1Y3QgYW1kX3ZjZV9zdGF0ZSogYW1kZ3B1X2dldF92Y2VfY2xvY2tfc3RhdGUo
dm9pZCAqaGFuZGxlLCB1MzINCj4gPiBpZHgpOyAtaW50IGFtZGdwdV9kcG1fY2hhbmdlX3Bvd2Vy
X3N0YXRlX2xvY2tlZCh2b2lkICpoYW5kbGUpOw0KPiA+ICAgdm9pZCBhbWRncHVfcG1fcHJpbnRf
cG93ZXJfc3RhdGVzKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KTsNCj4gPiArdm9pZCBhbWRn
cHVfbGVnYWN5X2RwbV9jb21wdXRlX2Nsb2Nrcyh2b2lkICpoYW5kbGUpOyB2b2lkDQo+ID4gK2Ft
ZGdwdV9kcG1fdGhlcm1hbF93b3JrX2hhbmRsZXIoc3RydWN0IHdvcmtfc3RydWN0ICp3b3JrKTsN
Cj4gPiAgICNlbmRpZg0KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3BtL3Bv
d2VycGxheS9zaV9kcG0uYw0KPiA+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wbS9wb3dlcnBsYXkv
c2lfZHBtLmMNCj4gPiBpbmRleCAzNWQyODc5MDNhZWEuLmUzYjU4MjQ5YzZmNCAxMDA2NDQNCj4g
PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3BtL3Bvd2VycGxheS9zaV9kcG0uYw0KPiA+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG0vcG93ZXJwbGF5L3NpX2RwbS5jDQo+ID4gQEAgLTM4
OTEsNiArMzg5MSw0MCBAQCBzdGF0aWMgaW50IHNpX3NldF9ib290X3N0YXRlKHN0cnVjdA0KPiBh
bWRncHVfZGV2aWNlICphZGV2KQ0KPiA+ICAgfQ0KPiA+ICAgI2VuZGlmDQo+ID4NCj4gPiArc3Rh
dGljIGludCBzaV9zZXRfcG93ZXJnYXRpbmdfYnlfc211KHZvaWQgKmhhbmRsZSwNCj4gPiArCQkJ
CSAgICAgdWludDMyX3QgYmxvY2tfdHlwZSwNCj4gPiArCQkJCSAgICAgYm9vbCBnYXRlKQ0KPiA+
ICt7DQo+ID4gKwlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IChzdHJ1Y3QgYW1kZ3B1X2Rl
dmljZSAqKWhhbmRsZTsNCj4gPiArDQo+ID4gKwlzd2l0Y2ggKGJsb2NrX3R5cGUpIHsNCj4gPiAr
CWNhc2UgQU1EX0lQX0JMT0NLX1RZUEVfVVZEOg0KPiA+ICsJCWlmICghZ2F0ZSkgew0KPiA+ICsJ
CQlhZGV2LT5wbS5kcG0udXZkX2FjdGl2ZSA9IHRydWU7DQo+ID4gKwkJCWFkZXYtPnBtLmRwbS5z
dGF0ZSA9DQo+IFBPV0VSX1NUQVRFX1RZUEVfSU5URVJOQUxfVVZEOw0KPiA+ICsJCX0gZWxzZSB7
DQo+ID4gKwkJCWFkZXYtPnBtLmRwbS51dmRfYWN0aXZlID0gZmFsc2U7DQo+ID4gKwkJfQ0KPiA+
ICsNCj4gPiArCQlhbWRncHVfbGVnYWN5X2RwbV9jb21wdXRlX2Nsb2NrcyhoYW5kbGUpOw0KPiA+
ICsJCWJyZWFrOw0KPiA+ICsJY2FzZSBBTURfSVBfQkxPQ0tfVFlQRV9WQ0U6DQo+ID4gKwkJaWYg
KCFnYXRlKSB7DQo+ID4gKwkJCWFkZXYtPnBtLmRwbS52Y2VfYWN0aXZlID0gdHJ1ZTsNCj4gPiAr
CQkJLyogWFhYIHNlbGVjdCB2Y2UgbGV2ZWwgYmFzZWQgb24gcmluZy90YXNrICovDQo+ID4gKwkJ
CWFkZXYtPnBtLmRwbS52Y2VfbGV2ZWwgPQ0KPiBBTURfVkNFX0xFVkVMX0FDX0FMTDsNCj4gPiAr
CQl9IGVsc2Ugew0KPiA+ICsJCQlhZGV2LT5wbS5kcG0udmNlX2FjdGl2ZSA9IGZhbHNlOw0KPiA+
ICsJCX0NCj4gPiArDQo+ID4gKwkJYW1kZ3B1X2xlZ2FjeV9kcG1fY29tcHV0ZV9jbG9ja3MoaGFu
ZGxlKTsNCj4gPiArCQlicmVhazsNCj4gPiArCWRlZmF1bHQ6DQo+ID4gKwkJYnJlYWs7DQo+ID4g
Kwl9DQo+ID4gKwlyZXR1cm4gMDsNCj4gPiArfQ0KPiA+ICsNCj4gPiAgIHN0YXRpYyBpbnQgc2lf
c2V0X3N3X3N0YXRlKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQ0KPiA+ICAgew0KPiA+ICAg
CXJldHVybiAoYW1kZ3B1X3NpX3NlbmRfbXNnX3RvX3NtYyhhZGV2LA0KPiBQUFNNQ19NU0dfU3dp
dGNoVG9Td1N0YXRlKSA9PSBQUFNNQ19SZXN1bHRfT0spID8NCj4gPiBAQCAtNzgwMSw3ICs3ODM1
LDcgQEAgc3RhdGljIGludCBzaV9kcG1faHdfaW5pdCh2b2lkICpoYW5kbGUpDQo+ID4gICAJZWxz
ZQ0KPiA+ICAgCQlhZGV2LT5wbS5kcG1fZW5hYmxlZCA9IHRydWU7DQo+ID4gICAJbXV0ZXhfdW5s
b2NrKCZhZGV2LT5wbS5tdXRleCk7DQo+ID4gLQlhbWRncHVfZHBtX2NvbXB1dGVfY2xvY2tzKGFk
ZXYpOw0KPiA+ICsJYW1kZ3B1X2xlZ2FjeV9kcG1fY29tcHV0ZV9jbG9ja3MoYWRldik7DQo+ID4g
ICAJcmV0dXJuIHJldDsNCj4gPiAgIH0NCj4gPg0KPiA+IEBAIC03ODQ5LDcgKzc4ODMsNyBAQCBz
dGF0aWMgaW50IHNpX2RwbV9yZXN1bWUodm9pZCAqaGFuZGxlKQ0KPiA+ICAgCQkJYWRldi0+cG0u
ZHBtX2VuYWJsZWQgPSB0cnVlOw0KPiA+ICAgCQltdXRleF91bmxvY2soJmFkZXYtPnBtLm11dGV4
KTsNCj4gPiAgIAkJaWYgKGFkZXYtPnBtLmRwbV9lbmFibGVkKQ0KPiA+IC0JCQlhbWRncHVfZHBt
X2NvbXB1dGVfY2xvY2tzKGFkZXYpOw0KPiA+ICsJCQlhbWRncHVfbGVnYWN5X2RwbV9jb21wdXRl
X2Nsb2NrcyhhZGV2KTsNCj4gPiAgIAl9DQo+ID4gICAJcmV0dXJuIDA7DQo+ID4gICB9DQo+ID4g
QEAgLTgwOTQsNiArODEyOCw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgYW1kX3BtX2Z1bmNzIHNp
X2RwbV9mdW5jcw0KPiA9IHsNCj4gPiAgIAkucHJpbnRfcG93ZXJfc3RhdGUgPSAmc2lfZHBtX3By
aW50X3Bvd2VyX3N0YXRlLA0KPiA+ICAgCS5kZWJ1Z2ZzX3ByaW50X2N1cnJlbnRfcGVyZm9ybWFu
Y2VfbGV2ZWwgPQ0KPiAmc2lfZHBtX2RlYnVnZnNfcHJpbnRfY3VycmVudF9wZXJmb3JtYW5jZV9s
ZXZlbCwNCj4gPiAgIAkuZm9yY2VfcGVyZm9ybWFuY2VfbGV2ZWwgPSAmc2lfZHBtX2ZvcmNlX3Bl
cmZvcm1hbmNlX2xldmVsLA0KPiA+ICsJLnNldF9wb3dlcmdhdGluZ19ieV9zbXUgPSAmc2lfc2V0
X3Bvd2VyZ2F0aW5nX2J5X3NtdSwNCj4gPiAgIAkudmJsYW5rX3Rvb19zaG9ydCA9ICZzaV9kcG1f
dmJsYW5rX3Rvb19zaG9ydCwNCj4gPiAgIAkuc2V0X2Zhbl9jb250cm9sX21vZGUgPSAmc2lfZHBt
X3NldF9mYW5fY29udHJvbF9tb2RlLA0KPiA+ICAgCS5nZXRfZmFuX2NvbnRyb2xfbW9kZSA9ICZz
aV9kcG1fZ2V0X2Zhbl9jb250cm9sX21vZGUsIEBAIC0NCj4gODEwMiw3DQo+ID4gKzgxMzcsNyBA
QCBzdGF0aWMgY29uc3Qgc3RydWN0IGFtZF9wbV9mdW5jcyBzaV9kcG1fZnVuY3MgPSB7DQo+ID4g
ICAJLmNoZWNrX3N0YXRlX2VxdWFsID0gJnNpX2NoZWNrX3N0YXRlX2VxdWFsLA0KPiA+ICAgCS5n
ZXRfdmNlX2Nsb2NrX3N0YXRlID0gYW1kZ3B1X2dldF92Y2VfY2xvY2tfc3RhdGUsDQo+ID4gICAJ
LnJlYWRfc2Vuc29yID0gJnNpX2RwbV9yZWFkX3NlbnNvciwNCj4gPiAtCS5jaGFuZ2VfcG93ZXJf
c3RhdGUgPSBhbWRncHVfZHBtX2NoYW5nZV9wb3dlcl9zdGF0ZV9sb2NrZWQsDQo+ID4gKwkucG1f
Y29tcHV0ZV9jbG9ja3MgPSBhbWRncHVfbGVnYWN5X2RwbV9jb21wdXRlX2Nsb2NrcywNCj4gPiAg
IH07DQo+ID4NCj4gPiAgIHN0YXRpYyBjb25zdCBzdHJ1Y3QgYW1kZ3B1X2lycV9zcmNfZnVuY3Mg
c2lfZHBtX2lycV9mdW5jcyA9IHsNCj4gPg0K
