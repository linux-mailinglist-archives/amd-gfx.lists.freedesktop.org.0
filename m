Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 2D643103646
	for <lists+amd-gfx@lfdr.de>; Wed, 20 Nov 2019 10:00:31 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3DF936E142;
	Wed, 20 Nov 2019 09:00:29 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM05-CO1-obe.outbound.protection.outlook.com
 (mail-eopbgr720057.outbound.protection.outlook.com [40.107.72.57])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 159236E0EF
 for <amd-gfx@lists.freedesktop.org>; Wed, 20 Nov 2019 09:00:28 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=TSF24xos56TYkxGOeFxzBxbyfq7SK8wgd2d/jMfp+M7E/3RpdLKfBffIkailEulMf+C84lSl/S/l6hZ6N3RlAqWubBSAzgx97kw1wGe0ABJtJSem3bxG31WLz7b0nLoS9qxsU/DGFt28v8JbimZX3Iw7y72FfTl19a4l3Hz13L2LMeLu4uQTiPEdUOs75EdclZ1PfoSeoBEBLA4kn+sHGetXnBLcnHKjxKMjJNu2cfGDApO6ASqbRv6UIAfwFAmTuU0XlwT9n6WV4PDFBnF0pc+10pNffBNd3Z4eGqscoJ/YoVzctc1HKgSckd99R4J9qpfFPP4mjxhqrg9SZHCvuQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=idCas6fhmBYKMev4ZUsmPEdGjIdGKw9068/DlWJKmVg=;
 b=AM/cZOPQey83nyziEuvq4xYR3G9NMNHhaYRN8/q3gd6UMl55Y2pdlSWYw5ucsnesvfGbA3qBGQ1MKTMDLU6Tpy2rANiO0GfG3E4VWi22Ue7Z13QFgOHdWpWY1Apq4ZEjXgXH4gROlOSVAVjAQQ+mPJmLsSdOe+STDeXnFwulpcoAhNX0C84eHDAR358vJoew2Mz8jnHXJIG/WrF6lx62tuEW8hUQZzBGWVBGVolz6zPe7POwTCf4cwg9vyNSZypmxGTw9C+YQEtWZw2R3coG7Hr6WIRiElyPmnSGoufTt9z8JiRfxQbPnWrGfh1WwYMcSIkq4jDK1zw8EkIiSnXG/Q==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from MN2PR12MB3087.namprd12.prod.outlook.com (20.178.244.160) by
 MN2PR12MB3168.namprd12.prod.outlook.com (20.179.81.210) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2474.17; Wed, 20 Nov 2019 09:00:25 +0000
Received: from MN2PR12MB3087.namprd12.prod.outlook.com
 ([fe80::cccb:bf15:7930:7a15]) by MN2PR12MB3087.namprd12.prod.outlook.com
 ([fe80::cccb:bf15:7930:7a15%5]) with mapi id 15.20.2451.029; Wed, 20 Nov 2019
 09:00:25 +0000
From: "Yuan, Xiaojie" <Xiaojie.Yuan@amd.com>
To: "Zhang, Hawking" <Hawking.Zhang@amd.com>, "Koenig, Christian"
 <Christian.Koenig@amd.com>, "amd-gfx@lists.freedesktop.org"
 <amd-gfx@lists.freedesktop.org>
Subject: Re: [PATCH] drm/amdgpu/gfx10: re-init clear state buffer after gpu
 reset
Thread-Topic: [PATCH] drm/amdgpu/gfx10: re-init clear state buffer after gpu
 reset
Thread-Index: AQHVn25fE9TEqOaSwUiGv9difRZnwqeTvliAgAAAeICAAAB8gIAAAjCAgAAAfEk=
Date: Wed, 20 Nov 2019 09:00:25 +0000
Message-ID: <MN2PR12MB3087E12C851C8A4B9BD1E6BA894F0@MN2PR12MB3087.namprd12.prod.outlook.com>
References: <20191120064701.2765-1-xiaojie.yuan@amd.com>
 <DM5PR12MB1418A32EB8199ABFFCCAEC04FC4F0@DM5PR12MB1418.namprd12.prod.outlook.com>
 <DM5PR12MB14185B32B9CB4356233E5903FC4F0@DM5PR12MB1418.namprd12.prod.outlook.com>
 <01af7844-2fbe-fd1a-5662-c8a9ec5812f0@gmail.com>,
 <DM5PR12MB141866D265D123D18E289329FC4F0@DM5PR12MB1418.namprd12.prod.outlook.com>
In-Reply-To: <DM5PR12MB141866D265D123D18E289329FC4F0@DM5PR12MB1418.namprd12.prod.outlook.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-ht: Tenant
x-ms-office365-filtering-correlation-id: 6e99408e-f4b7-4db7-4b5e-08d76d981525
x-ms-traffictypediagnostic: MN2PR12MB3168:
x-ms-exchange-purlcount: 1
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <MN2PR12MB3168C7CA07816B267A522B94894F0@MN2PR12MB3168.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:7691;
x-forefront-prvs: 02272225C5
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(346002)(376002)(396003)(366004)(39860400002)(136003)(13464003)(199004)(189003)(71200400001)(76176011)(71190400001)(14444005)(7696005)(6506007)(52536014)(66574012)(256004)(5660300002)(6436002)(6246003)(186003)(446003)(4326008)(26005)(6306002)(9686003)(55016002)(91956017)(76116006)(305945005)(7736002)(53546011)(66946007)(74316002)(66476007)(66556008)(64756008)(66446008)(476003)(102836004)(11346002)(229853002)(486006)(33656002)(25786009)(478600001)(14454004)(966005)(86362001)(2906002)(2501003)(3846002)(6116002)(66066001)(99286004)(8676002)(81156014)(81166006)(316002)(8936002)(110136005)(54906003)(357404004);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MN2PR12MB3168;
 H:MN2PR12MB3087.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: DnYiAnBiaIm8tLa4dGO4GzIjT6oL38ojuPJI07mdkpfsT7T4ebgQF8nSHMY5yt8ZYWtDPDcq3x1FyWlofjVXLHQYIdfwLH9oybkO4UvAChW1G7eYoTqjtjuh0/J2SC2aMyfkcWHqbCOLWRn49Is136FqzDCL85X7vUvvLyn4mNOAngd3s7ilZIvt3yYsRDE7+8BTU0eBePCK3g/IVCtHs3P3gK6hyEqp+JtO76Rtd6jB1HRTkx2TJotGKHqr7he+dS1zhrwjxyy3N7EFFAZR5f/N5qD9pYTFOW1TtT5kZEtS+8Ru1XnmMjt9mjhjDI4nUcbe2xFFDg2exT9fwma8Ty9ln3keJfHaNii7qB5tKOIWUz91B9W7GNexfFZoOpFhFe1PL3eqgu4d5dsUCWh8w0SOVPJmxVG9n0pqgSrzwg7Fb1+XUh8AfYAHRsDoTT87cGWYtPVCyrohec6wBtJlrUbmt/J/8b0vjLDQlroEkxw=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 6e99408e-f4b7-4db7-4b5e-08d76d981525
X-MS-Exchange-CrossTenant-originalarrivaltime: 20 Nov 2019 09:00:25.1188 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: HSAXPlXFp5O2bIHBKY1pWv3utaf6pkEdNYFgVNnJgtTprylgDvTGzZdk+IkvaCPP
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB3168
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=idCas6fhmBYKMev4ZUsmPEdGjIdGKw9068/DlWJKmVg=;
 b=vZDceW1B+NcYat4sRLqhrTyOyDUt7E32s0SHam2/UY5biLLFZz5bcF3KZgKjoN6jpAry0IJPhOkd4dNzwqg6xwFI8dBvsCfvekRpkwuuQxz0PmYeIq6eYZfN+I2M9hDe5x1wSzJIdST+hTQzxh7l8KA0poXha8GiaHGLV53v5bE=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Xiaojie.Yuan@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Long, Gang" <Gang.Long@amd.com>, "Xiao, Jack" <Jack.Xiao@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

SSBjYW4gdHJ5IHRoaXMgYXBwcm9hY2ggYXMgd2VsbC4NClRoaXMgY3NiIGlzIHNpbWlsYXIgdG8g
dGhlIGtpcSBtcWQgd2hpY2ggYXJlIGFsbG9jYXRlZCBpbiB2cmFtIGFuZCBtaWdodCBjb3JydXB0
IGFmdGVyIGJhY28gcmVzZXQuDQoNCkJSLA0KWGlhb2ppZQ0KDQpfX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fDQpGcm9tOiBaaGFuZywgSGF3a2luZyA8SGF3a2luZy5aaGFu
Z0BhbWQuY29tPg0KU2VudDogV2VkbmVzZGF5LCBOb3ZlbWJlciAyMCwgMjAxOSA0OjU0IFBNDQpU
bzogS29lbmlnLCBDaHJpc3RpYW47IFl1YW4sIFhpYW9qaWU7IGFtZC1nZnhAbGlzdHMuZnJlZWRl
c2t0b3Aub3JnDQpDYzogTG9uZywgR2FuZzsgWGlhbywgSmFjaw0KU3ViamVjdDogUkU6IFtQQVRD
SF0gZHJtL2FtZGdwdS9nZngxMDogcmUtaW5pdCBjbGVhciBzdGF0ZSBidWZmZXIgYWZ0ZXIgZ3B1
IHJlc2V0DQoNCkkgdGhpbmsgd2Ugc2hvdWxkIGV2aWN0IHRoZSBibyBhbmQgdGhlbiBtb3ZlIGl0
IGJhY2suDQoNClJlZ2FyZHMsDQpIYXdraW5nDQoNCi0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0t
DQpGcm9tOiBDaHJpc3RpYW4gS8O2bmlnIDxja29lbmlnLmxlaWNodHp1bWVya2VuQGdtYWlsLmNv
bT4NClNlbnQ6IDIwMTnlubQxMeaciDIw5pelIDE2OjQ3DQpUbzogWmhhbmcsIEhhd2tpbmcgPEhh
d2tpbmcuWmhhbmdAYW1kLmNvbT47IFl1YW4sIFhpYW9qaWUgPFhpYW9qaWUuWXVhbkBhbWQuY29t
PjsgYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcNCkNjOiBMb25nLCBHYW5nIDxHYW5nLkxv
bmdAYW1kLmNvbT47IFhpYW8sIEphY2sgPEphY2suWGlhb0BhbWQuY29tPg0KU3ViamVjdDogUmU6
IFtQQVRDSF0gZHJtL2FtZGdwdS9nZngxMDogcmUtaW5pdCBjbGVhciBzdGF0ZSBidWZmZXIgYWZ0
ZXIgZ3B1IHJlc2V0DQoNCkEgYmFjbyByZXNldCBhbHNvIHJlc2V0cyB0aGUgTUMsIGRvZXNuJ3Qg
aXQ/IG4gdGhpcyBjYXNlIGl0IHdvdWxkIGJlIGV4cGVjdGVkIHRoYXQgdGhlIGNvbnRlbnQgb2Yg
VlJBTSBpcyBjb3JydXB0ZWQuDQoNCkNocmlzdGlhbi4NCg0KQW0gMjAuMTEuMTkgdW0gMDk6NDUg
c2NocmllYiBaaGFuZywgSGF3a2luZzoNCj4gT3IgaW4gYW5vdGhlciB3b3JkLCB3ZSBhcmUgc3Rp
bGwgbm90IGNsZWFyIHdoZW4gdGhlIGNvcnJ1cHRpb24gYWN0dWFsbHkgaGFwcGVucywgcmlnaHQ/
DQo+DQo+IFJlZ2FyZHMsDQo+IEhhd2tpbmcNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0N
Cj4gRnJvbTogYW1kLWdmeCA8YW1kLWdmeC1ib3VuY2VzQGxpc3RzLmZyZWVkZXNrdG9wLm9yZz4g
T24gQmVoYWxmIE9mDQo+IFpoYW5nLCBIYXdraW5nDQo+IFNlbnQ6IDIwMTnlubQxMeaciDIw5pel
IDE2OjQ0DQo+IFRvOiBZdWFuLCBYaWFvamllIDxYaWFvamllLll1YW5AYW1kLmNvbT47DQo+IGFt
ZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnDQo+IENjOiBMb25nLCBHYW5nIDxHYW5nLkxvbmdA
YW1kLmNvbT47IFhpYW8sIEphY2sgPEphY2suWGlhb0BhbWQuY29tPg0KPiBTdWJqZWN0OiBSRTog
W1BBVENIXSBkcm0vYW1kZ3B1L2dmeDEwOiByZS1pbml0IGNsZWFyIHN0YXRlIGJ1ZmZlcg0KPiBh
ZnRlciBncHUgcmVzZXQNCj4NCj4gSnVzdCBtYWtlIHN1cmUgSSB1bmRlcnN0YW5kIHlvdSBjb3Jy
ZWN0bHkuIFNvIHVudGlsIGZ3IHRlYW0gcm9vdCBjYXVzZSB0aGUgcmVhc29uIG9mIGNzYiBjb3Jy
dXB0aW9uLCB3ZSBrZWVwIHRoZSB3b3JrYXJvdW5kIGluIGRyaXZlciwgY29ycmVjdD8NCj4NCj4g
UmVnYXJkcywNCj4gSGF3a2luZw0KPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KPiBGcm9t
OiBZdWFuLCBYaWFvamllIDxYaWFvamllLll1YW5AYW1kLmNvbT4NCj4gU2VudDogMjAxOeW5tDEx
5pyIMjDml6UgMTQ6NDcNCj4gVG86IGFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnDQo+IENj
OiBaaGFuZywgSGF3a2luZyA8SGF3a2luZy5aaGFuZ0BhbWQuY29tPjsgWGlhbywgSmFjaw0KPiA8
SmFjay5YaWFvQGFtZC5jb20+OyBMb25nLCBHYW5nIDxHYW5nLkxvbmdAYW1kLmNvbT47IFl1YW4s
IFhpYW9qaWUNCj4gPFhpYW9qaWUuWXVhbkBhbWQuY29tPg0KPiBTdWJqZWN0OiBbUEFUQ0hdIGRy
bS9hbWRncHUvZ2Z4MTA6IHJlLWluaXQgY2xlYXIgc3RhdGUgYnVmZmVyIGFmdGVyDQo+IGdwdSBy
ZXNldA0KPg0KPiBUaGlzIHBhdGNoIGZpeGVzIDJuZCBiYWNvIHJlc2V0IGZhaWx1cmUgd2l0aCBn
ZnhvZmYgZW5hYmxlZCBvbiBuYXZpMXguDQo+DQo+IGNsZWFyIHN0YXRlIGJ1ZmZlciAocmVzaWRl
cyBpbiB2cmFtKSBpcyBjb3JydXB0ZWQgYWZ0ZXIgMXN0IGJhY28gcmVzZXQsIHVwb24gZ2Z4b2Zm
IGV4aXQsIENQRiBnZXRzIGdhcmJhZ2UgaGVhZGVyIGluIENTSUIgYW5kIGhhbmdzLg0KPg0KPiBT
aWduZWQtb2ZmLWJ5OiBYaWFvamllIFl1YW4gPHhpYW9qaWUueXVhbkBhbWQuY29tPg0KPiAtLS0N
Cj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjEwXzAuYyB8IDQzICsrKysrKysr
KysrKysrKysrKysrKystLS0tDQo+ICAgMSBmaWxlIGNoYW5nZWQsIDM3IGluc2VydGlvbnMoKyks
IDYgZGVsZXRpb25zKC0pDQo+DQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9nZnhfdjEwXzAuYw0KPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92MTBf
MC5jDQo+IGluZGV4IDkyNzRiZDRiNmM2OC4uOGUyNGVhMDhjYTM5IDEwMDY0NA0KPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjEwXzAuYw0KPiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9nZnhfdjEwXzAuYw0KPiBAQCAtMTc4OSwyNyArMTc4OSw1MiBAQCBz
dGF0aWMgdm9pZCBnZnhfdjEwXzBfZW5hYmxlX2d1aV9pZGxlX2ludGVycnVwdChzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldiwNCj4gICAgICAgV1JFRzMyX1NPQzE1KEdDLCAwLCBtbUNQX0lOVF9D
TlRMX1JJTkcwLCB0bXApOyAgfQ0KPg0KPiAtc3RhdGljIHZvaWQgZ2Z4X3YxMF8wX2luaXRfY3Ni
KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQ0KPiArc3RhdGljIGludCBnZnhfdjEwXzBfaW5p
dF9jc2Ioc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpDQo+ICAgew0KPiArICAgICBpbnQgcjsN
Cj4gKw0KPiArICAgICBpZiAoYWRldi0+aW5fZ3B1X3Jlc2V0KSB7DQo+ICsgICAgICAgICAgICAg
ciA9IGFtZGdwdV9ib19yZXNlcnZlKGFkZXYtPmdmeC5ybGMuY2xlYXJfc3RhdGVfb2JqLCBmYWxz
ZSk7DQo+ICsgICAgICAgICAgICAgaWYgKHIpDQo+ICsgICAgICAgICAgICAgICAgICAgICByZXR1
cm4gcjsNCj4gKw0KPiArICAgICAgICAgICAgIHIgPSBhbWRncHVfYm9fa21hcChhZGV2LT5nZngu
cmxjLmNsZWFyX3N0YXRlX29iaiwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
KHZvaWQgKiopJmFkZXYtPmdmeC5ybGMuY3NfcHRyKTsNCj4gKyAgICAgICAgICAgICBpZiAoIXIp
IHsNCj4gKyAgICAgICAgICAgICAgICAgICAgIGFkZXYtPmdmeC5ybGMuZnVuY3MtPmdldF9jc2Jf
YnVmZmVyKGFkZXYsDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRl
di0+Z2Z4LnJsYy5jc19wdHIpOw0KPiArICAgICAgICAgICAgICAgICAgICAgYW1kZ3B1X2JvX2t1
bm1hcChhZGV2LT5nZngucmxjLmNsZWFyX3N0YXRlX29iaik7DQo+ICsgICAgICAgICAgICAgfQ0K
PiArDQo+ICsgICAgICAgICAgICAgYW1kZ3B1X2JvX3VucmVzZXJ2ZShhZGV2LT5nZngucmxjLmNs
ZWFyX3N0YXRlX29iaik7DQo+ICsgICAgICAgICAgICAgaWYgKHIpDQo+ICsgICAgICAgICAgICAg
ICAgICAgICByZXR1cm4gcjsNCj4gKyAgICAgfQ0KPiArDQo+ICAgICAgIC8qIGNzaWIgKi8NCj4g
ICAgICAgV1JFRzMyX1NPQzE1KEdDLCAwLCBtbVJMQ19DU0lCX0FERFJfSEksDQo+ICAgICAgICAg
ICAgICAgICAgICBhZGV2LT5nZngucmxjLmNsZWFyX3N0YXRlX2dwdV9hZGRyID4+IDMyKTsNCj4g
ICAgICAgV1JFRzMyX1NPQzE1KEdDLCAwLCBtbVJMQ19DU0lCX0FERFJfTE8sDQo+ICAgICAgICAg
ICAgICAgICAgICBhZGV2LT5nZngucmxjLmNsZWFyX3N0YXRlX2dwdV9hZGRyICYgMHhmZmZmZmZm
Yyk7DQo+ICAgICAgIFdSRUczMl9TT0MxNShHQywgMCwgbW1STENfQ1NJQl9MRU5HVEgsDQo+IGFk
ZXYtPmdmeC5ybGMuY2xlYXJfc3RhdGVfc2l6ZSk7DQo+ICsNCj4gKyAgICAgcmV0dXJuIDA7DQo+
ICAgfQ0KPg0KPiAtc3RhdGljIHZvaWQgZ2Z4X3YxMF8wX2luaXRfcGcoc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYpDQo+ICtzdGF0aWMgaW50IGdmeF92MTBfMF9pbml0X3BnKHN0cnVjdCBhbWRn
cHVfZGV2aWNlICphZGV2KQ0KPiAgIHsNCj4gICAgICAgaW50IGk7DQo+ICsgICAgIGludCByOw0K
Pg0KPiAtICAgICBnZnhfdjEwXzBfaW5pdF9jc2IoYWRldik7DQo+ICsgICAgIHIgPSBnZnhfdjEw
XzBfaW5pdF9jc2IoYWRldik7DQo+ICsgICAgIGlmIChyKQ0KPiArICAgICAgICAgICAgIHJldHVy
biByOw0KPg0KPiAgICAgICBmb3IgKGkgPSAwOyBpIDwgYWRldi0+bnVtX3ZtaHViczsgaSsrKQ0K
PiAgICAgICAgICAgICAgIGFtZGdwdV9nbWNfZmx1c2hfZ3B1X3RsYihhZGV2LCAwLCBpLCAwKTsN
Cj4NCj4gICAgICAgLyogVE9ETzogaW5pdCBwb3dlciBnYXRpbmcgKi8NCj4gLSAgICAgcmV0dXJu
Ow0KPiArICAgICByZXR1cm4gMDsNCj4gICB9DQo+DQo+ICAgdm9pZCBnZnhfdjEwXzBfcmxjX3N0
b3Aoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpIEBAIC0xOTExLDcgKzE5MzYsMTAgQEAgc3Rh
dGljIGludCBnZnhfdjEwXzBfcmxjX3Jlc3VtZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikN
Cj4gICAgICAgICAgICAgICByID0gZ2Z4X3YxMF8wX3dhaXRfZm9yX3JsY19hdXRvbG9hZF9jb21w
bGV0ZShhZGV2KTsNCj4gICAgICAgICAgICAgICBpZiAocikNCj4gICAgICAgICAgICAgICAgICAg
ICAgIHJldHVybiByOw0KPiAtICAgICAgICAgICAgIGdmeF92MTBfMF9pbml0X3BnKGFkZXYpOw0K
PiArDQo+ICsgICAgICAgICAgICAgciA9IGdmeF92MTBfMF9pbml0X3BnKGFkZXYpOw0KPiArICAg
ICAgICAgICAgIGlmIChyKQ0KPiArICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHI7DQo+DQo+
ICAgICAgICAgICAgICAgLyogZW5hYmxlIFJMQyBTUk0gKi8NCj4gICAgICAgICAgICAgICBnZnhf
djEwXzBfcmxjX2VuYWJsZV9zcm0oYWRldik7DQo+IEBAIC0xOTM3LDcgKzE5NjUsMTAgQEAgc3Rh
dGljIGludCBnZnhfdjEwXzBfcmxjX3Jlc3VtZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikN
Cj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHI7DQo+ICAgICAgICAgICAg
ICAgfQ0KPg0KPiAtICAgICAgICAgICAgIGdmeF92MTBfMF9pbml0X3BnKGFkZXYpOw0KPiArICAg
ICAgICAgICAgIHIgPSBnZnhfdjEwXzBfaW5pdF9wZyhhZGV2KTsNCj4gKyAgICAgICAgICAgICBp
ZiAocikNCj4gKyAgICAgICAgICAgICAgICAgICAgIHJldHVybiByOw0KPiArDQo+ICAgICAgICAg
ICAgICAgYWRldi0+Z2Z4LnJsYy5mdW5jcy0+c3RhcnQoYWRldik7DQo+DQo+ICAgICAgICAgICAg
ICAgaWYgKGFkZXYtPmZpcm13YXJlLmxvYWRfdHlwZSA9PSBBTURHUFVfRldfTE9BRF9STENfQkFD
S0RPT1JfQVVUTykNCj4gew0KPiAtLQ0KPiAyLjIwLjENCj4NCj4gX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX18NCj4gYW1kLWdmeCBtYWlsaW5nIGxpc3QNCj4g
YW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcNCj4gaHR0cHM6Ly9saXN0cy5mcmVlZGVza3Rv
cC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4DQo+IF9fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fDQo+IGFtZC1nZnggbWFpbGluZyBsaXN0DQo+IGFtZC1n
ZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnDQo+IGh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
L21haWxtYW4vbGlzdGluZm8vYW1kLWdmeA0KDQpfX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZy
ZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3Rp
bmZvL2FtZC1nZng=
