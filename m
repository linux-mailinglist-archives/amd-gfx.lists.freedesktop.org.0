Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 4522849053
	for <lists+amd-gfx@lfdr.de>; Mon, 17 Jun 2019 21:50:10 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C02A26E043;
	Mon, 17 Jun 2019 19:50:07 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-qt1-x842.google.com (mail-qt1-x842.google.com
 [IPv6:2607:f8b0:4864:20::842])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 630C26E043
 for <amd-gfx@lists.freedesktop.org>; Mon, 17 Jun 2019 19:50:04 +0000 (UTC)
Received: by mail-qt1-x842.google.com with SMTP id d17so7351143qtj.8
 for <amd-gfx@lists.freedesktop.org>; Mon, 17 Jun 2019 12:50:04 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=Qi2up0ZqhU/tkh/d/RHwM+A65zUUREg4mEhRDpRtmcE=;
 b=Y/C/wEGvT2SZnB4wzFu6hVP2Utff9nDjozcpE1LtqStlkSHULZ4JJFGXlLA4Q+MijR
 ZtJM8He/mQtm5ogm1NNtegU/INaB1QVLxLzxyQi4V2zvPw0lGGjT+tWf/rT1W2UBK0k7
 fPb8PClyD2rZ9gUR18D3vjHCGiRtb5DUKmUoB5gHrdabOWi0NEO88rg74ZsubQn8iT5C
 qYvKcmCtBHqfcimpuWfS2zkKfhWrOWkiHNmFhDLfukxipVZO0C3Ra4QI1OxBP0aSIZjm
 hU562hz0xChYpCc1m8axTQaop3GbVEyfbtNdHUxe8PnNBOMM9ALOfUGFmeeHvgoVDJ6g
 9Ztg==
X-Gm-Message-State: APjAAAUYaWZ72DfgtMXhR+VpN+a/uxoAsk7WUu8SqzPexbyr3Vomjcld
 5iJdLdIHLSZVaXcDDh9hx86Zhu0fsDh7VQ==
X-Google-Smtp-Source: APXvYqzvAX+CuyQDxXkPaY1gAdAjxMyBNbB253SJEhvzPVE9ofy45UwsWKJYYU77QQYQWWYg6IQ1Xg==
X-Received: by 2002:ac8:152:: with SMTP id f18mr91754231qtg.84.1560801002894; 
 Mon, 17 Jun 2019 12:50:02 -0700 (PDT)
Received: from localhost.localdomain ([71.219.5.136])
 by smtp.gmail.com with ESMTPSA id a51sm7520252qta.85.2019.06.17.12.50.01
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Mon, 17 Jun 2019 12:50:02 -0700 (PDT)
From: Alex Deucher <alexdeucher@gmail.com>
X-Google-Original-From: Alex Deucher <alexander.deucher@amd.com>
To: amd-gfx@lists.freedesktop.org
Subject: [PATCH 407/459] drm/amd/display: Add 170Mpix/sec DSC throughput
 support
Date: Mon, 17 Jun 2019 14:48:56 -0500
Message-Id: <20190617194948.18667-8-alexander.deucher@amd.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190617194948.18667-1-alexander.deucher@amd.com>
References: <20190617194948.18667-1-alexander.deucher@amd.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=Qi2up0ZqhU/tkh/d/RHwM+A65zUUREg4mEhRDpRtmcE=;
 b=tFI5JMmj32VTOM8wbb/0WV25NplQJUSg9FZsSs5INsgyUbnASivvU7cr8UFGae+ypq
 u+WNneVlNapX0gyJSs3ABfVbF56sv6tOX8Pn95CeErn/jnTPlnXjf772l3ONe6MsbXb8
 G1qEfFd5+d+1dWy+z8UcEPa04mDD5ZRLrVIGZqSkp/UPtm8bE20SI+z341705jgd+aiN
 nxqY6pROvKo7FbzLSVhcImsCPWszBpQUISPAyWl258mIp29ftNJ+uXMbEgoPwUZOocw6
 ZmFpbC3XzyJsm+fyheL5IPiT9VLS0haCS+N4esxewQU3AFWdWZECajht8zOCG9/EruxP
 bDZg==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Alex Deucher <alexander.deucher@amd.com>,
 Joshua Aberback <Joshua.Aberback@amd.com>,
 Bhawanpreet Lakha <BhawanpreetLakha@amd.com>,
 Nikola Cornij <nikola.cornij@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogTmlrb2xhIENvcm5paiA8bmlrb2xhLmNvcm5pakBhbWQuY29tPgoKW3doeV0KSXQgd2Fz
IG1pc3NpbmcsIGFsdGhvdWdoIGRlZmluZWQgaW4gRFAgc3BlYwoKW2hvd10KLSBBZGQgaGFuZGxp
bmcgb2YgdGhpcyB2YWx1ZSB0byBEU0MgY29kZQotIEFsc28gcmVtb3ZlIHVudXNlZCBmaWxlIGRz
Y19oZWxwZXJzLmMKClNpZ25lZC1vZmYtYnk6IE5pa29sYSBDb3JuaWogPG5pa29sYS5jb3JuaWpA
YW1kLmNvbT4KUmV2aWV3ZWQtYnk6IEpvc2h1YSBBYmVyYmFjayA8Sm9zaHVhLkFiZXJiYWNrQGFt
ZC5jb20+CkFja2VkLWJ5OiBCaGF3YW5wcmVldCBMYWtoYSA8Qmhhd2FucHJlZXQgTGFraGFAYW1k
LmNvbT4KU2lnbmVkLW9mZi1ieTogQWxleCBEZXVjaGVyIDxhbGV4YW5kZXIuZGV1Y2hlckBhbWQu
Y29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kc2MvZGNfZHNjLmMgICB8
ICAxMCArLQogLi4uL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZHNjL2RzY19oZWxwZXJzLmMgIHwg
MjQzIC0tLS0tLS0tLS0tLS0tLS0tLQogaW5jbHVkZS9kcm0vZHJtX2RwX2hlbHBlci5oICAgICAg
ICAgICAgICAgICAgIHwgICA0ICsKIDMgZmlsZXMgY2hhbmdlZCwgMTIgaW5zZXJ0aW9ucygrKSwg
MjQ1IGRlbGV0aW9ucygtKQogZGVsZXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9hbWQv
ZGlzcGxheS9kYy9kc2MvZHNjX2hlbHBlcnMuYwoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvZGlzcGxheS9kYy9kc2MvZGNfZHNjLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3Bs
YXkvZGMvZHNjL2RjX2RzYy5jCmluZGV4IGQ1OGQ3MTgxNzFiNS4uZjA5ZjIzNzA3YTk0IDEwMDY0
NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZHNjL2RjX2RzYy5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kc2MvZGNfZHNjLmMKQEAgLTc0LDYgKzc0
LDEyIEBAIHN0YXRpYyBib29sIGRzY19saW5lX2J1ZmZfZGVwdGhfZnJvbV9kcGNkKGludCBkcGNk
X2xpbmVfYnVmZl9iaXRfZGVwdGgsIGludCAqbGluCiBzdGF0aWMgYm9vbCBkc2NfdGhyb3VnaHB1
dF9mcm9tX2RwY2QoaW50IGRwY2RfdGhyb3VnaHB1dCwgaW50ICp0aHJvdWdocHV0KQogewogCXN3
aXRjaCAoZHBjZF90aHJvdWdocHV0KSB7CisJY2FzZSBEUF9EU0NfVEhST1VHSFBVVF9NT0RFXzBf
VVBTVVBQT1JURUQ6CisJCSp0aHJvdWdocHV0ID0gMDsKKwkJYnJlYWs7CisJY2FzZSBEUF9EU0Nf
VEhST1VHSFBVVF9NT0RFXzBfMTcwOgorCQkqdGhyb3VnaHB1dCA9IDE3MDsKKwkJYnJlYWs7CiAJ
Y2FzZSBEUF9EU0NfVEhST1VHSFBVVF9NT0RFXzBfMzQwOgogCQkqdGhyb3VnaHB1dCA9IDM0MDsK
IAkJYnJlYWs7CkBAIC0xNzAsNyArMTc2LDcgQEAgc3RhdGljIHZvaWQgZ2V0X2RzY19lbmNfY2Fw
cygKIC8qIFJldHVybnMgJ2ZhbHNlJyBpZiBubyBpbnRlcnNlY3Rpb24gd2FzIGZvdW5kIGZvciBh
dCBsZWFzdCBvbmUgY2FwYWJsaXR5LgogICogSXQgYWxzbyBpbXBsaWNpdGx5IHZhbGlkYXRlcyBz
b21lIHNpbmsgY2FwcyBhZ2FpbnN0IGludmFsaWQgdmFsdWUgb2YgemVyby4KICAqLwotc3RhdGlj
IGJvb2wgZGNfaW50ZXJzZWN0X2RzY19jYXBzKAorc3RhdGljIGJvb2wgaW50ZXJzZWN0X2RzY19j
YXBzKAogCWNvbnN0IHN0cnVjdCBkc2NfZGVjX2RwY2RfY2FwcyAqZHNjX3NpbmtfY2FwcywKIAlj
b25zdCBzdHJ1Y3QgZHNjX2VuY19jYXBzICpkc2NfZW5jX2NhcHMsCiAJZW51bSBkY19waXhlbF9l
bmNvZGluZyBwaXhlbF9lbmNvZGluZywKQEAgLTUzNyw3ICs1NDMsNyBAQCBzdGF0aWMgYm9vbCBz
ZXR1cF9kc2NfY29uZmlnKAogCQlnb3RvIGRvbmU7CiAKIAkvLyBJbnRlcnNlY3QgZGVjb2RlciB3
aXRoIGVuY29kZXIgRFNDIGNhcHMgYW5kIHZhbGlkYXRlIERTQyBzZXR0aW5ncwotCWlzX2RzY19w
b3NzaWJsZSA9IGRjX2ludGVyc2VjdF9kc2NfY2Fwcyhkc2Nfc2lua19jYXBzLCBkc2NfZW5jX2Nh
cHMsIHRpbWluZy0+cGl4ZWxfZW5jb2RpbmcsICZkc2NfY29tbW9uX2NhcHMpOworCWlzX2RzY19w
b3NzaWJsZSA9IGludGVyc2VjdF9kc2NfY2Fwcyhkc2Nfc2lua19jYXBzLCBkc2NfZW5jX2NhcHMs
IHRpbWluZy0+cGl4ZWxfZW5jb2RpbmcsICZkc2NfY29tbW9uX2NhcHMpOwogCWlmICghaXNfZHNj
X3Bvc3NpYmxlKQogCQlnb3RvIGRvbmU7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9h
bWQvZGlzcGxheS9kYy9kc2MvZHNjX2hlbHBlcnMuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlz
cGxheS9kYy9kc2MvZHNjX2hlbHBlcnMuYwpkZWxldGVkIGZpbGUgbW9kZSAxMDA2NDQKaW5kZXgg
MGVjZDUwNjVkMTIwLi4wMDAwMDAwMDAwMDAKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNw
bGF5L2RjL2RzYy9kc2NfaGVscGVycy5jCisrKyAvZGV2L251bGwKQEAgLTEsMjQzICswLDAgQEAK
LS8qCi0gKiBDb3B5cmlnaHQgMjAxOCBBZHZhbmNlZCBNaWNybyBEZXZpY2VzLCBJbmMuCi0gKgot
ICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBw
ZXJzb24gb2J0YWluaW5nIGEKLSAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRl
ZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksCi0gKiB0byBkZWFsIGluIHRo
ZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0
aW9uCi0gKiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwg
ZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwKLSAqIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29m
dHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZQotICogU29mdHdhcmUgaXMg
ZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoK
LSAqCi0gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5v
dGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbgotICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBw
b3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuCi0gKgotICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVE
ICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKLSAqIElN
UExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVS
Q0hBTlRBQklMSVRZLAotICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5P
TklORlJJTkdFTUVOVC4gIElOIE5PIEVWRU5UIFNIQUxMCi0gKiBUSEUgQ09QWVJJR0hUIEhPTERF
UihTKSBPUiBBVVRIT1IoUykgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IKLSAq
IE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQg
T1IgT1RIRVJXSVNFLAotICogQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBX
SVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SCi0gKiBPVEhFUiBERUFMSU5HUyBJTiBUSEUg
U09GVFdBUkUuCi0gKgotICogQXV0aG9yczogQU1ECi0gKgotICovCi0KLSNpZmRlZiBDT05GSUdf
RFJNX0FNRF9EQ19EU0NfU1VQUE9SVAotCi0jaW5jbHVkZSAiZGMuaCIKLSNpbmNsdWRlICJkc2Mu
aCIKLSNpbmNsdWRlICJkY19od190eXBlcy5oIgotI2luY2x1ZGUgPGRybS9kcm1fZHBfaGVscGVy
Lmg+Ci0KLSNkZWZpbmUgRENfTE9HR0VSIFwKLQlkc2MtPmN0eC0+bG9nZ2VyCi0KLXN0YXRpYyBi
b29sIGRzY19idWZmX2Jsb2NrX3NpemVfZnJvbV9kcGNkKGludCBkcGNkX2J1ZmZfYmxvY2tfc2l6
ZSwgaW50ICpidWZmX2Jsb2NrX3NpemUpOwotc3RhdGljIGJvb2wgZHNjX2xpbmVfYnVmZl9kZXB0
aF9mcm9tX2RwY2QoaW50IGRwY2RfbGluZV9idWZmX2JpdF9kZXB0aCwgaW50ICpsaW5lX2J1ZmZf
Yml0X2RlcHRoKTsKLXN0YXRpYyBib29sIGRzY190aHJvdWdocHV0X2Zyb21fZHBjZChpbnQgZHBj
ZF90aHJvdWdocHV0LCBpbnQgKnRocm91Z2hwdXQpOwotc3RhdGljIGJvb2wgZHNjX2JwcF9pbmNy
ZW1lbnRfZGl2X2Zyb21fZHBjZChpbnQgYnBwX2luY3JlbWVudF9kcGNkLCB1aW50MzJfdCAqYnBw
X2luY3JlbWVudF9kaXYpOwotCi12b2lkIGRzY19vcHRjX2NvbmZpZ19sb2coc3RydWN0IGRpc3Bs
YXlfc3RyZWFtX2NvbXByZXNzb3IgKmRzYywKLQkJc3RydWN0IGRzY19vcHRjX2NvbmZpZyAqY29u
ZmlnKQotewotCURDX0xPR19EU0MoIlNldHRpbmcgb3B0YyBEU0MgY29uZmlnIGF0IERTQyBpbnN0
ICVkIiwgZHNjLT5pbnN0KTsKLQlEQ19MT0dfRFNDKCJcblx0Ynl0ZXNfcGVyX3BpeGVsICVkXG5c
dGlzX3BpeGVsX2Zvcm1hdF80NDQgJWRcblx0c2xpY2Vfd2lkdGggJWQiLAotCQkJY29uZmlnLT5i
eXRlc19wZXJfcGl4ZWwsCi0JCQljb25maWctPmlzX3BpeGVsX2Zvcm1hdF80NDQsIGNvbmZpZy0+
c2xpY2Vfd2lkdGgpOwotfQotCi12b2lkIGRzY19jb25maWdfbG9nKHN0cnVjdCBkaXNwbGF5X3N0
cmVhbV9jb21wcmVzc29yICpkc2MsCi0JCWNvbnN0IHN0cnVjdCBkc2NfY29uZmlnICpjb25maWcp
Ci17Ci0JRENfTE9HX0RTQygiU2V0dGluZyBEU0MgQ29uZmlnIGF0IERTQyBpbnN0ICVkIiwgZHNj
LT5pbnN0KTsKLQlEQ19MT0dfRFNDKCJcblx0bnVtX3NsaWNlc19oICVkXG5cdG51bV9zbGljZXNf
diAlZFxuXHRiaXRzX3Blcl9waXhlbCAlZFxuXHRjb2xvcl9kZXB0aCAlZCIsCi0JCWNvbmZpZy0+
ZGNfZHNjX2NmZy5udW1fc2xpY2VzX2gsCi0JCWNvbmZpZy0+ZGNfZHNjX2NmZy5udW1fc2xpY2Vz
X3YsCi0JCWNvbmZpZy0+ZGNfZHNjX2NmZy5iaXRzX3Blcl9waXhlbCwKLQkJY29uZmlnLT5jb2xv
cl9kZXB0aCk7Ci19Ci0KLQotYm9vbCBkc2NfcGFyc2VfZHNjX2RwY2QoY29uc3QgdWludDhfdCAq
ZHBjZF9kc2NfZGF0YSwgc3RydWN0IGRzY19kZWNfZHBjZF9jYXBzICpkc2Nfc2lua19jYXBzKQot
ewotCWRzY19zaW5rX2NhcHMtPmlzX2RzY19zdXBwb3J0ZWQgPSAoZHBjZF9kc2NfZGF0YVtEUF9E
U0NfU1VQUE9SVCAtIERQX0RTQ19TVVBQT1JUXSAmIERQX0RTQ19ERUNPTVBSRVNTSU9OX0lTX1NV
UFBPUlRFRCkgIT0gMDsKLQlpZiAoIWRzY19zaW5rX2NhcHMtPmlzX2RzY19zdXBwb3J0ZWQpCi0J
CXJldHVybiB0cnVlOwotCi0JZHNjX3NpbmtfY2Fwcy0+ZHNjX3ZlcnNpb24gPSBkcGNkX2RzY19k
YXRhW0RQX0RTQ19SRVYgLSBEUF9EU0NfU1VQUE9SVF07Ci0KLQl7Ci0JCWludCBidWZmX2Jsb2Nr
X3NpemU7Ci0JCWludCBidWZmX3NpemU7Ci0KLQkJaWYgKCFkc2NfYnVmZl9ibG9ja19zaXplX2Zy
b21fZHBjZChkcGNkX2RzY19kYXRhW0RQX0RTQ19SQ19CVUZfQkxLX1NJWkUgLSBEUF9EU0NfU1VQ
UE9SVF0sICZidWZmX2Jsb2NrX3NpemUpKQotCQkJcmV0dXJuIGZhbHNlOwotCi0JCWJ1ZmZfc2l6
ZSA9IGRwY2RfZHNjX2RhdGFbRFBfRFNDX1JDX0JVRl9TSVpFIC0gRFBfRFNDX1NVUFBPUlRdICsg
MTsKLQkJZHNjX3NpbmtfY2Fwcy0+cmNfYnVmZmVyX3NpemUgPSBidWZmX3NpemUgKiBidWZmX2Js
b2NrX3NpemU7Ci0JfQotCi0JZHNjX3NpbmtfY2Fwcy0+c2xpY2VfY2FwczEucmF3ID0gZHBjZF9k
c2NfZGF0YVtEUF9EU0NfU0xJQ0VfQ0FQXzEgLSBEUF9EU0NfU1VQUE9SVF07Ci0JaWYgKCFkc2Nf
bGluZV9idWZmX2RlcHRoX2Zyb21fZHBjZChkcGNkX2RzY19kYXRhW0RQX0RTQ19MSU5FX0JVRl9C
SVRfREVQVEggLSBEUF9EU0NfU1VQUE9SVF0sICZkc2Nfc2lua19jYXBzLT5sYl9iaXRfZGVwdGgp
KQotCQlyZXR1cm4gZmFsc2U7Ci0KLQlkc2Nfc2lua19jYXBzLT5pc19ibG9ja19wcmVkX3N1cHBv
cnRlZCA9Ci0JCShkcGNkX2RzY19kYXRhW0RQX0RTQ19CTEtfUFJFRElDVElPTl9TVVBQT1JUIC0g
RFBfRFNDX1NVUFBPUlRdICYgRFBfRFNDX0JMS19QUkVESUNUSU9OX0lTX1NVUFBPUlRFRCkgIT0g
MDsKLQotCWRzY19zaW5rX2NhcHMtPmVkcF9tYXhfYml0c19wZXJfcGl4ZWwgPQotCQlkcGNkX2Rz
Y19kYXRhW0RQX0RTQ19NQVhfQklUU19QRVJfUElYRUxfTE9XIC0gRFBfRFNDX1NVUFBPUlRdIHwK
LQkJZHBjZF9kc2NfZGF0YVtEUF9EU0NfTUFYX0JJVFNfUEVSX1BJWEVMX0hJIC0gRFBfRFNDX1NV
UFBPUlRdIDw8IDg7Ci0KLQlkc2Nfc2lua19jYXBzLT5jb2xvcl9mb3JtYXRzLnJhdyA9IGRwY2Rf
ZHNjX2RhdGFbRFBfRFNDX0RFQ19DT0xPUl9GT1JNQVRfQ0FQIC0gRFBfRFNDX1NVUFBPUlRdOwot
CWRzY19zaW5rX2NhcHMtPmNvbG9yX2RlcHRoLnJhdyA9IGRwY2RfZHNjX2RhdGFbRFBfRFNDX0RF
Q19DT0xPUl9ERVBUSF9DQVAgLSBEUF9EU0NfU1VQUE9SVF07Ci0KLQl7Ci0JCWludCBkcGNkX3Ro
cm91Z2hwdXQgPSBkcGNkX2RzY19kYXRhW0RQX0RTQ19QRUFLX1RIUk9VR0hQVVQgLSBEUF9EU0Nf
U1VQUE9SVF07Ci0KLQkJaWYgKCFkc2NfdGhyb3VnaHB1dF9mcm9tX2RwY2QoZHBjZF90aHJvdWdo
cHV0ICYgRFBfRFNDX1RIUk9VR0hQVVRfTU9ERV8wX01BU0ssICZkc2Nfc2lua19jYXBzLT50aHJv
dWdocHV0X21vZGVfMF9tcHMpKQotCQkJcmV0dXJuIGZhbHNlOwotCi0JCWRwY2RfdGhyb3VnaHB1
dCA9IChkcGNkX3Rocm91Z2hwdXQgJiBEUF9EU0NfVEhST1VHSFBVVF9NT0RFXzFfTUFTSykgPj4g
RFBfRFNDX1RIUk9VR0hQVVRfTU9ERV8xX1NISUZUOwotCQlpZiAoIWRzY190aHJvdWdocHV0X2Zy
b21fZHBjZChkcGNkX3Rocm91Z2hwdXQsICZkc2Nfc2lua19jYXBzLT50aHJvdWdocHV0X21vZGVf
MV9tcHMpKQotCQkJcmV0dXJuIGZhbHNlOwotCX0KLQotCWRzY19zaW5rX2NhcHMtPm1heF9zbGlj
ZV93aWR0aCA9IGRwY2RfZHNjX2RhdGFbRFBfRFNDX01BWF9TTElDRV9XSURUSCAtIERQX0RTQ19T
VVBQT1JUXSAqIDMyMDsKLQlkc2Nfc2lua19jYXBzLT5zbGljZV9jYXBzMi5yYXcgPSBkcGNkX2Rz
Y19kYXRhW0RQX0RTQ19TTElDRV9DQVBfMiAtIERQX0RTQ19TVVBQT1JUXTsKLQotCWlmICghZHNj
X2JwcF9pbmNyZW1lbnRfZGl2X2Zyb21fZHBjZChkcGNkX2RzY19kYXRhW0RQX0RTQ19CSVRTX1BF
Ul9QSVhFTF9JTkMgLSBEUF9EU0NfU1VQUE9SVF0sICZkc2Nfc2lua19jYXBzLT5icHBfaW5jcmVt
ZW50X2RpdikpCi0JCXJldHVybiBmYWxzZTsKLQotCXJldHVybiB0cnVlOwotfQotCi0KLS8qIFRo
aXMgbW9kdWxlJ3MgaW50ZXJuYWwgZnVuY3Rpb25zICovCi0KLXN0YXRpYyBib29sIGRzY19idWZm
X2Jsb2NrX3NpemVfZnJvbV9kcGNkKGludCBkcGNkX2J1ZmZfYmxvY2tfc2l6ZSwgaW50ICpidWZm
X2Jsb2NrX3NpemUpCi17Ci0KLQlzd2l0Y2ggKGRwY2RfYnVmZl9ibG9ja19zaXplKSB7Ci0JY2Fz
ZSBEUF9EU0NfUkNfQlVGX0JMS19TSVpFXzE6Ci0JCSpidWZmX2Jsb2NrX3NpemUgPSAxMDI0Owot
CQlicmVhazsKLQljYXNlIERQX0RTQ19SQ19CVUZfQkxLX1NJWkVfNDoKLQkJKmJ1ZmZfYmxvY2tf
c2l6ZSA9IDQgKiAxMDI0OwotCQlicmVhazsKLQljYXNlIERQX0RTQ19SQ19CVUZfQkxLX1NJWkVf
MTY6Ci0JCSpidWZmX2Jsb2NrX3NpemUgPSAxNiAqIDEwMjQ7Ci0JCWJyZWFrOwotCWNhc2UgRFBf
RFNDX1JDX0JVRl9CTEtfU0laRV82NDoKLQkJKmJ1ZmZfYmxvY2tfc2l6ZSA9IDY0ICogMTAyNDsK
LQkJYnJlYWs7Ci0JZGVmYXVsdDogewotCQkJZG1fZXJyb3IoIiVzOiBEUENEIERTQyBidWZmZXIg
c2l6ZSBub3QgcmVjb2dpbnplZC5cbiIsIF9fZnVuY19fKTsKLQkJCXJldHVybiBmYWxzZTsKLQkJ
fQotCX0KLQotCXJldHVybiB0cnVlOwotfQotCi0KLXN0YXRpYyBib29sIGRzY19saW5lX2J1ZmZf
ZGVwdGhfZnJvbV9kcGNkKGludCBkcGNkX2xpbmVfYnVmZl9iaXRfZGVwdGgsIGludCAqbGluZV9i
dWZmX2JpdF9kZXB0aCkKLXsKLQlpZiAoMCA8PSBkcGNkX2xpbmVfYnVmZl9iaXRfZGVwdGggJiYg
ZHBjZF9saW5lX2J1ZmZfYml0X2RlcHRoIDw9IDcpCi0JCSpsaW5lX2J1ZmZfYml0X2RlcHRoID0g
ZHBjZF9saW5lX2J1ZmZfYml0X2RlcHRoICsgOTsKLQllbHNlIGlmIChkcGNkX2xpbmVfYnVmZl9i
aXRfZGVwdGggPT0gOCkKLQkJKmxpbmVfYnVmZl9iaXRfZGVwdGggPSA4OwotCWVsc2UgewotCQlk
bV9lcnJvcigiJXM6IERQQ0QgRFNDIGJ1ZmZlciBkZXB0aCBub3QgcmVjb2dpbnplZC5cbiIsIF9f
ZnVuY19fKTsKLQkJcmV0dXJuIGZhbHNlOwotCX0KLQotCXJldHVybiB0cnVlOwotfQotCi0KLXN0
YXRpYyBib29sIGRzY190aHJvdWdocHV0X2Zyb21fZHBjZChpbnQgZHBjZF90aHJvdWdocHV0LCBp
bnQgKnRocm91Z2hwdXQpCi17Ci0Jc3dpdGNoIChkcGNkX3Rocm91Z2hwdXQpIHsKLQljYXNlIERQ
X0RTQ19USFJPVUdIUFVUX01PREVfMF8zNDA6Ci0JCSp0aHJvdWdocHV0ID0gMzQwOwotCQlicmVh
azsKLQljYXNlIERQX0RTQ19USFJPVUdIUFVUX01PREVfMF80MDA6Ci0JCSp0aHJvdWdocHV0ID0g
NDAwOwotCQlicmVhazsKLQljYXNlIERQX0RTQ19USFJPVUdIUFVUX01PREVfMF80NTA6Ci0JCSp0
aHJvdWdocHV0ID0gNDUwOwotCQlicmVhazsKLQljYXNlIERQX0RTQ19USFJPVUdIUFVUX01PREVf
MF81MDA6Ci0JCSp0aHJvdWdocHV0ID0gNTAwOwotCQlicmVhazsKLQljYXNlIERQX0RTQ19USFJP
VUdIUFVUX01PREVfMF81NTA6Ci0JCSp0aHJvdWdocHV0ID0gNTUwOwotCQlicmVhazsKLQljYXNl
IERQX0RTQ19USFJPVUdIUFVUX01PREVfMF82MDA6Ci0JCSp0aHJvdWdocHV0ID0gNjAwOwotCQli
cmVhazsKLQljYXNlIERQX0RTQ19USFJPVUdIUFVUX01PREVfMF82NTA6Ci0JCSp0aHJvdWdocHV0
ID0gNjUwOwotCQlicmVhazsKLQljYXNlIERQX0RTQ19USFJPVUdIUFVUX01PREVfMF83MDA6Ci0J
CSp0aHJvdWdocHV0ID0gNzAwOwotCQlicmVhazsKLQljYXNlIERQX0RTQ19USFJPVUdIUFVUX01P
REVfMF83NTA6Ci0JCSp0aHJvdWdocHV0ID0gNzUwOwotCQlicmVhazsKLQljYXNlIERQX0RTQ19U
SFJPVUdIUFVUX01PREVfMF84MDA6Ci0JCSp0aHJvdWdocHV0ID0gODAwOwotCQlicmVhazsKLQlj
YXNlIERQX0RTQ19USFJPVUdIUFVUX01PREVfMF84NTA6Ci0JCSp0aHJvdWdocHV0ID0gODUwOwot
CQlicmVhazsKLQljYXNlIERQX0RTQ19USFJPVUdIUFVUX01PREVfMF85MDA6Ci0JCSp0aHJvdWdo
cHV0ID0gOTAwOwotCQlicmVhazsKLQljYXNlIERQX0RTQ19USFJPVUdIUFVUX01PREVfMF85NTA6
Ci0JCSp0aHJvdWdocHV0ID0gOTUwOwotCQlicmVhazsKLQljYXNlIERQX0RTQ19USFJPVUdIUFVU
X01PREVfMF8xMDAwOgotCQkqdGhyb3VnaHB1dCA9IDEwMDA7Ci0JCWJyZWFrOwotCWRlZmF1bHQ6
IHsKLQkJCWRtX2Vycm9yKCIlczogRFBDRCBEU0MgdGhyb3VncHV0IG1vZGUgbm90IHJlY29naW56
ZWQuXG4iLCBfX2Z1bmNfXyk7Ci0JCQlyZXR1cm4gZmFsc2U7Ci0JCX0KLQl9Ci0KLQlyZXR1cm4g
dHJ1ZTsKLX0KLQotCi1zdGF0aWMgYm9vbCBkc2NfYnBwX2luY3JlbWVudF9kaXZfZnJvbV9kcGNk
KGludCBicHBfaW5jcmVtZW50X2RwY2QsIHVpbnQzMl90ICpicHBfaW5jcmVtZW50X2RpdikKLXsK
LQotCXN3aXRjaCAoYnBwX2luY3JlbWVudF9kcGNkKSB7Ci0JY2FzZSAwOgotCQkqYnBwX2luY3Jl
bWVudF9kaXYgPSAxNjsKLQkJYnJlYWs7Ci0JY2FzZSAxOgotCQkqYnBwX2luY3JlbWVudF9kaXYg
PSA4OwotCQlicmVhazsKLQljYXNlIDI6Ci0JCSpicHBfaW5jcmVtZW50X2RpdiA9IDQ7Ci0JCWJy
ZWFrOwotCWNhc2UgMzoKLQkJKmJwcF9pbmNyZW1lbnRfZGl2ID0gMjsKLQkJYnJlYWs7Ci0JY2Fz
ZSA0OgotCQkqYnBwX2luY3JlbWVudF9kaXYgPSAxOwotCQlicmVhazsKLQlkZWZhdWx0OiB7Ci0J
CWRtX2Vycm9yKCIlczogRFBDRCBEU0MgYml0cy1wZXItcGl4ZWwgaW5jcmVtZW50IG5vdCByZWNv
Z2luemVkLlxuIiwgX19mdW5jX18pOwotCQlyZXR1cm4gZmFsc2U7Ci0JfQotCX0KLQotCXJldHVy
biB0cnVlOwotfQotCi0KLSNlbmRpZiAvLyBDT05GSUdfRFJNX0FNRF9EQ19EU0NfU1VQUE9SVApk
aWZmIC0tZ2l0IGEvaW5jbHVkZS9kcm0vZHJtX2RwX2hlbHBlci5oIGIvaW5jbHVkZS9kcm0vZHJt
X2RwX2hlbHBlci5oCmluZGV4IDk3Y2U3OTBhNWI1YS4uYTVhYTkzYjk5NjFhIDEwMDY0NAotLS0g
YS9pbmNsdWRlL2RybS9kcm1fZHBfaGVscGVyLmgKKysrIGIvaW5jbHVkZS9kcm0vZHJtX2RwX2hl
bHBlci5oCkBAIC0yNDksNiArMjQ5LDcgQEAKICNkZWZpbmUgRFBfRFNDX1BFQUtfVEhST1VHSFBV
VCAgICAgICAgICAgICAgMHgwNkIKICMgZGVmaW5lIERQX0RTQ19USFJPVUdIUFVUX01PREVfMF9N
QVNLICAgICAgKDB4ZiA8PCAwKQogIyBkZWZpbmUgRFBfRFNDX1RIUk9VR0hQVVRfTU9ERV8wX1NI
SUZUICAgICAwCisjIGRlZmluZSBEUF9EU0NfVEhST1VHSFBVVF9NT0RFXzBfVVBTVVBQT1JURUQg
MAogIyBkZWZpbmUgRFBfRFNDX1RIUk9VR0hQVVRfTU9ERV8wXzM0MCAgICAgICAoMSA8PCAwKQog
IyBkZWZpbmUgRFBfRFNDX1RIUk9VR0hQVVRfTU9ERV8wXzQwMCAgICAgICAoMiA8PCAwKQogIyBk
ZWZpbmUgRFBfRFNDX1RIUk9VR0hQVVRfTU9ERV8wXzQ1MCAgICAgICAoMyA8PCAwKQpAQCAtMjYz
LDggKzI2NCwxMCBAQAogIyBkZWZpbmUgRFBfRFNDX1RIUk9VR0hQVVRfTU9ERV8wXzkwMCAgICAg
ICAoMTIgPDwgMCkKICMgZGVmaW5lIERQX0RTQ19USFJPVUdIUFVUX01PREVfMF85NTAgICAgICAg
KDEzIDw8IDApCiAjIGRlZmluZSBEUF9EU0NfVEhST1VHSFBVVF9NT0RFXzBfMTAwMCAgICAgICgx
NCA8PCAwKQorIyBkZWZpbmUgRFBfRFNDX1RIUk9VR0hQVVRfTU9ERV8wXzE3MCAgICAgICAoMTUg
PDwgNCkKICMgZGVmaW5lIERQX0RTQ19USFJPVUdIUFVUX01PREVfMV9NQVNLICAgICAgKDB4ZiA8
PCA0KQogIyBkZWZpbmUgRFBfRFNDX1RIUk9VR0hQVVRfTU9ERV8xX1NISUZUICAgICA0CisjIGRl
ZmluZSBEUF9EU0NfVEhST1VHSFBVVF9NT0RFXzFfVVBTVVBQT1JURUQgMAogIyBkZWZpbmUgRFBf
RFNDX1RIUk9VR0hQVVRfTU9ERV8xXzM0MCAgICAgICAoMSA8PCA0KQogIyBkZWZpbmUgRFBfRFND
X1RIUk9VR0hQVVRfTU9ERV8xXzQwMCAgICAgICAoMiA8PCA0KQogIyBkZWZpbmUgRFBfRFNDX1RI
Uk9VR0hQVVRfTU9ERV8xXzQ1MCAgICAgICAoMyA8PCA0KQpAQCAtMjc5LDYgKzI4Miw3IEBACiAj
IGRlZmluZSBEUF9EU0NfVEhST1VHSFBVVF9NT0RFXzFfOTAwICAgICAgICgxMiA8PCA0KQogIyBk
ZWZpbmUgRFBfRFNDX1RIUk9VR0hQVVRfTU9ERV8xXzk1MCAgICAgICAoMTMgPDwgNCkKICMgZGVm
aW5lIERQX0RTQ19USFJPVUdIUFVUX01PREVfMV8xMDAwICAgICAgKDE0IDw8IDQpCisjIGRlZmlu
ZSBEUF9EU0NfVEhST1VHSFBVVF9NT0RFXzFfMTcwICAgICAgICgxNSA8PCA0KQogCiAjZGVmaW5l
IERQX0RTQ19NQVhfU0xJQ0VfV0lEVEggICAgICAgICAgICAgIDB4MDZDCiAjZGVmaW5lIERQX0RT
Q19NSU5fU0xJQ0VfV0lEVEhfVkFMVUUgICAgICAgIDI1NjAKLS0gCjIuMjAuMQoKX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxp
c3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3Rv
cC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4
