Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id F3F9E1B858
	for <lists+amd-gfx@lfdr.de>; Mon, 13 May 2019 16:33:46 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 72DA089E26;
	Mon, 13 May 2019 14:33:45 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-wr1-x443.google.com (mail-wr1-x443.google.com
 [IPv6:2a00:1450:4864:20::443])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 75EC489E26
 for <amd-gfx@lists.freedesktop.org>; Mon, 13 May 2019 14:33:43 +0000 (UTC)
Received: by mail-wr1-x443.google.com with SMTP id l2so15544722wrb.9
 for <amd-gfx@lists.freedesktop.org>; Mon, 13 May 2019 07:33:43 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=pSwejM3ZbRykH/oJx3rgFIClduiyzwendY1RPVWN3oY=;
 b=s7ZUGpUZiYBEGrvqx1rcpxaYekAk2EL59Tx0wDs2WiXoSl02zF8wmsz/kL7lNDk5wd
 4PEuNLJ5zAG1aYE62etB9P1TyN+7ebgvO6ytiDK22DYl0N/ujBL6Qb5pHldozg6T5l7X
 kdAKH4eUiPihg5E3kC8I1Ru9YM4wOcRGN7mir0u7+b/SAWROJqOVDeREatlm8Z7gncOg
 HBJtmkq6GegBEfU2f6LAgfacjBfD7QQ1UCkAUIB2ONnG0npzIycEmZ4mO3s8OUbmC3Sc
 Sj7HK3GZD+f8yHU8S22gl7ykDEf8cVWvvR4WXQ42F4YjSoc2ZfFfywln81bagGWOTrkG
 lTOg==
X-Gm-Message-State: APjAAAU5k6yACeTiQhj3xedPQxGhh2PXzErEzebCDBo/i+1UUmMO4ViV
 0HBnsEeE2cm1XbdFYh0QJgQJF4Az5eN9/WCDb3nZZw==
X-Google-Smtp-Source: APXvYqzZImSbDSnAf8RewJ3B0of/EIFohiTKjwAmlhLVPPvZsYE9NFksMb1QsvEMdmHjewwpq9eAiopZd1vO5BHlhY8=
X-Received: by 2002:adf:f44b:: with SMTP id f11mr1246890wrp.128.1557758022078; 
 Mon, 13 May 2019 07:33:42 -0700 (PDT)
MIME-Version: 1.0
References: <20190513075302.10731-1-evan.quan@amd.com>
 <20190513075302.10731-3-evan.quan@amd.com>
In-Reply-To: <20190513075302.10731-3-evan.quan@amd.com>
From: Alex Deucher <alexdeucher@gmail.com>
Date: Mon, 13 May 2019 10:33:30 -0400
Message-ID: <CADnq5_NPyjU7pV12LP9R1ep_jx3ykx5xkUDyvYNHOsGDMbhkfQ@mail.gmail.com>
Subject: Re: [PATCH 3/3] drm/amd/powerplay: support ppfeatures sysfs interface
 on sw smu routine
To: Evan Quan <evan.quan@amd.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=pSwejM3ZbRykH/oJx3rgFIClduiyzwendY1RPVWN3oY=;
 b=Lt8Q9zCIDPdZ8VYGpelaTyI6NNVhJE3WZQZ8wnM8+L6O+PKXIXAKZ+fUtrfSdtb5fS
 ctHR+z4V1jx9aG0Dr0gKlwCcmR0iZapjMZC2bsJu4Qt0YQb+M11jo7tq9fxV/Fp7hXdu
 ixp2VH0WvZz75Ex303mNn0y/Wj9pAF3I9U5ppcUECy+hxybIkNh9YNFOm/Awc4+gLOA6
 eap6Bm3n7r97QMlyTe5ZNvp7eDsBWII+JGm2wlSjYkQpW2AXD1nrygZLhAxWwFWS+VT0
 kUmRPaSmwh+6Spen7+K8QlAbNBsk2Ik10hVHGcq0ar3nn9/xTEVjfkaksLfyxUS9+4a6
 TXPA==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: amd-gfx list <amd-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

T24gTW9uLCBNYXkgMTMsIDIwMTkgYXQgMzo1MyBBTSBFdmFuIFF1YW4gPGV2YW4ucXVhbkBhbWQu
Y29tPiB3cm90ZToKPgo+IFN1cHBvcnQgcHBmZWF0dXJlcyBzeXNmcyBpbnRlcmZhY2Ugb24gVmVn
YTIwIHN3IHNtdSByb3V0aW5lLgo+Cj4gQ2hhbmdlLUlkOiBJZjY3ZjJkODdlN2Q1YWEwOWNmZDYx
ZTg2ZGFhYWFmODhkNWYyZjRkZAo+IFNpZ25lZC1vZmYtYnk6IEV2YW4gUXVhbiA8ZXZhbi5xdWFu
QGFtZC5jb20+CgpTZXJpZXMgaXM6ClJldmlld2VkLWJ5OiBBbGV4IERldWNoZXIgPGFsZXhhbmRl
ci5kZXVjaGVyQGFtZC5jb20+Cgo+IC0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9h
bWRncHVfcG0uYyAgICAgICAgfCAgMTAgKy0KPiAgLi4uL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9p
bmMvYW1kZ3B1X3NtdS5oICAgIHwgICA3ICstCj4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJw
bGF5L3ZlZ2EyMF9wcHQuYyAgICB8IDE1MyArKysrKysrKysrKysrKysrKysKPiAgZHJpdmVycy9n
cHUvZHJtL2FtZC9wb3dlcnBsYXkvdmVnYTIwX3BwdC5oICAgIHwgIDQ0ICsrKysrCj4gIDQgZmls
ZXMgY2hhbmdlZCwgMjExIGluc2VydGlvbnMoKyksIDMgZGVsZXRpb25zKC0pCj4KPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3BtLmMgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfcG0uYwo+IGluZGV4IGJkNDBkNWQ3MjUwOC4uYWRiYTll
YTAzZTYzIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9w
bS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3BtLmMKPiBAQCAt
NzY3LDcgKzc2NywxMSBAQCBzdGF0aWMgc3NpemVfdCBhbWRncHVfc2V0X3BwZmVhdHVyZV9zdGF0
dXMoc3RydWN0IGRldmljZSAqZGV2LAo+Cj4gICAgICAgICBwcl9kZWJ1ZygiZmVhdHVyZW1hc2sg
PSAweCVsbHhcbiIsIGZlYXR1cmVtYXNrKTsKPgo+IC0gICAgICAgaWYgKGFkZXYtPnBvd2VycGxh
eS5wcF9mdW5jcy0+c2V0X3BwZmVhdHVyZV9zdGF0dXMpIHsKPiArICAgICAgIGlmIChpc19zdXBw
b3J0X3N3X3NtdShhZGV2KSkgewo+ICsgICAgICAgICAgICAgICByZXQgPSBzbXVfc2V0X3BwZmVh
dHVyZV9zdGF0dXMoJmFkZXYtPnNtdSwgZmVhdHVyZW1hc2spOwo+ICsgICAgICAgICAgICAgICBp
ZiAocmV0KQo+ICsgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtRUlOVkFMOwo+ICsgICAg
ICAgfSBlbHNlIGlmIChhZGV2LT5wb3dlcnBsYXkucHBfZnVuY3MtPnNldF9wcGZlYXR1cmVfc3Rh
dHVzKSB7Cj4gICAgICAgICAgICAgICAgIHJldCA9IGFtZGdwdV9kcG1fc2V0X3BwZmVhdHVyZV9z
dGF0dXMoYWRldiwgZmVhdHVyZW1hc2spOwo+ICAgICAgICAgICAgICAgICBpZiAocmV0KQo+ICAg
ICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtRUlOVkFMOwo+IEBAIC03ODMsNyArNzg3LDkg
QEAgc3RhdGljIHNzaXplX3QgYW1kZ3B1X2dldF9wcGZlYXR1cmVfc3RhdHVzKHN0cnVjdCBkZXZp
Y2UgKmRldiwKPiAgICAgICAgIHN0cnVjdCBkcm1fZGV2aWNlICpkZGV2ID0gZGV2X2dldF9kcnZk
YXRhKGRldik7Cj4gICAgICAgICBzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IGRkZXYtPmRl
dl9wcml2YXRlOwo+Cj4gLSAgICAgICBpZiAoYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzLT5nZXRf
cHBmZWF0dXJlX3N0YXR1cykKPiArICAgICAgIGlmIChpc19zdXBwb3J0X3N3X3NtdShhZGV2KSkg
ewo+ICsgICAgICAgICAgICAgICByZXR1cm4gc211X2dldF9wcGZlYXR1cmVfc3RhdHVzKCZhZGV2
LT5zbXUsIGJ1Zik7Cj4gKyAgICAgICB9IGVsc2UgaWYgKGFkZXYtPnBvd2VycGxheS5wcF9mdW5j
cy0+Z2V0X3BwZmVhdHVyZV9zdGF0dXMpCj4gICAgICAgICAgICAgICAgIHJldHVybiBhbWRncHVf
ZHBtX2dldF9wcGZlYXR1cmVfc3RhdHVzKGFkZXYsIGJ1Zik7Cj4KPiAgICAgICAgIHJldHVybiBz
bnByaW50ZihidWYsIFBBR0VfU0laRSwgIlxuIik7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvcG93ZXJwbGF5L2luYy9hbWRncHVfc211LmggYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L3Bvd2VycGxheS9pbmMvYW1kZ3B1X3NtdS5oCj4gaW5kZXggODkwNTI0MTRlOWYxLi4zYTljMjUz
NzU5ZGMgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaW5jL2Ft
ZGdwdV9zbXUuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2luYy9hbWRn
cHVfc211LmgKPiBAQCAtNDU4LDYgKzQ1OCw4IEBAIHN0cnVjdCBwcHRhYmxlX2Z1bmNzIHsKPiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQzMl90ICptY2xrX21hc2ss
Cj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MzJfdCAqc29jX21h
c2spOwo+ICAgICAgICAgaW50ICgqc2V0X2NwdV9wb3dlcl9zdGF0ZSkoc3RydWN0IHNtdV9jb250
ZXh0ICpzbXUpOwo+ICsgICAgICAgaW50ICgqc2V0X3BwZmVhdHVyZV9zdGF0dXMpKHN0cnVjdCBz
bXVfY29udGV4dCAqc211LCB1aW50NjRfdCBwcGZlYXR1cmVzKTsKPiArICAgICAgIGludCAoKmdl
dF9wcGZlYXR1cmVfc3RhdHVzKShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgY2hhciAqYnVmKTsK
PiAgfTsKPgo+ICBzdHJ1Y3Qgc211X2Z1bmNzCj4gQEAgLTcyNyw3ICs3MjksMTAgQEAgc3RydWN0
IHNtdV9mdW5jcwo+ICAgICAgICAgKChzbXUpLT5mdW5jcy0+Z2V0X21jbGsgPyAoc211KS0+ZnVu
Y3MtPmdldF9tY2xrKChzbXUpLCAobG93KSkgOiAwKQo+ICAjZGVmaW5lIHNtdV9zZXRfeGdtaV9w
c3RhdGUoc211LCBwc3RhdGUpIFwKPiAgICAgICAgICAgICAgICAgKChzbXUpLT5mdW5jcy0+c2V0
X3hnbWlfcHN0YXRlID8gKHNtdSktPmZ1bmNzLT5zZXRfeGdtaV9wc3RhdGUoKHNtdSksIChwc3Rh
dGUpKSA6IDApCj4gLQo+ICsjZGVmaW5lIHNtdV9zZXRfcHBmZWF0dXJlX3N0YXR1cyhzbXUsIHBw
ZmVhdHVyZXMpIFwKPiArICAgICAgICgoc211KS0+cHB0X2Z1bmNzLT5zZXRfcHBmZWF0dXJlX3N0
YXR1cyA/IChzbXUpLT5wcHRfZnVuY3MtPnNldF9wcGZlYXR1cmVfc3RhdHVzKChzbXUpLCAocHBm
ZWF0dXJlcykpIDogLUVJTlZBTCkKPiArI2RlZmluZSBzbXVfZ2V0X3BwZmVhdHVyZV9zdGF0dXMo
c211LCBidWYpIFwKPiArICAgICAgICgoc211KS0+cHB0X2Z1bmNzLT5nZXRfcHBmZWF0dXJlX3N0
YXR1cyA/IChzbXUpLT5wcHRfZnVuY3MtPmdldF9wcGZlYXR1cmVfc3RhdHVzKChzbXUpLCAoYnVm
KSkgOiAtRUlOVkFMKQo+Cj4gIGV4dGVybiBpbnQgc211X2dldF9hdG9tX2RhdGFfdGFibGUoc3Ry
dWN0IHNtdV9jb250ZXh0ICpzbXUsIHVpbnQzMl90IHRhYmxlLAo+ICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgdWludDE2X3QgKnNpemUsIHVpbnQ4X3QgKmZyZXYsIHVpbnQ4X3Qg
KmNyZXYsCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3ZlZ2Ey
MF9wcHQuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3ZlZ2EyMF9wcHQuYwo+IGlu
ZGV4IDhmYWZjYmRiMWRmZC4uYjM5ZjNkNDM5MzMyIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvcG93ZXJwbGF5L3ZlZ2EyMF9wcHQuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvcG93ZXJwbGF5L3ZlZ2EyMF9wcHQuYwo+IEBAIC0yMzc0LDYgKzIzNzQsMTU3IEBAIHN0YXRp
YyBpbnQgdmVnYTIwX29kbl9lZGl0X2RwbV90YWJsZShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwK
PiAgICAgICAgIHJldHVybiByZXQ7Cj4gIH0KPgo+ICtzdGF0aWMgaW50IHZlZ2EyMF9nZXRfZW5h
YmxlZF9zbWNfZmVhdHVyZXMoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsCj4gKyAgICAgICAgICAg
ICAgIHVpbnQ2NF90ICpmZWF0dXJlc19lbmFibGVkKQo+ICt7Cj4gKyAgICAgICB1aW50MzJfdCBm
ZWF0dXJlX21hc2tbMl07Cj4gKyAgICAgICBpbnQgcmV0ID0gMDsKPiArCj4gKyAgICAgICByZXQg
PSBzbXVfZmVhdHVyZV9nZXRfZW5hYmxlZF9tYXNrKHNtdSwgZmVhdHVyZV9tYXNrLCAyKTsKPiAr
ICAgICAgIGlmIChyZXQpCj4gKyAgICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4gKwo+ICsgICAg
ICAgKmZlYXR1cmVzX2VuYWJsZWQgPSAoKCgodWludDY0X3QpZmVhdHVyZV9tYXNrWzBdIDw8IFNN
VV9GRUFUVVJFU19MT1dfU0hJRlQpICYgU01VX0ZFQVRVUkVTX0xPV19NQVNLKSB8Cj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgKCgodWludDY0X3QpZmVhdHVyZV9tYXNrWzFdIDw8IFNNVV9GRUFU
VVJFU19ISUdIX1NISUZUKSAmIFNNVV9GRUFUVVJFU19ISUdIX01BU0spKTsKPiArCj4gKyAgICAg
ICByZXR1cm4gcmV0Owo+ICt9Cj4gKwo+ICtzdGF0aWMgaW50IHZlZ2EyMF9lbmFibGVfc21jX2Zl
YXR1cmVzKHN0cnVjdCBzbXVfY29udGV4dCAqc211LAo+ICsgICAgICAgICAgICAgICBib29sIGVu
YWJsZSwgdWludDY0X3QgZmVhdHVyZV9tYXNrKQo+ICt7Cj4gKyAgICAgICB1aW50MzJfdCBzbXVf
ZmVhdHVyZXNfbG93LCBzbXVfZmVhdHVyZXNfaGlnaDsKPiArICAgICAgIGludCByZXQgPSAwOwo+
ICsKPiArICAgICAgIHNtdV9mZWF0dXJlc19sb3cgPSAodWludDMyX3QpKChmZWF0dXJlX21hc2sg
JiBTTVVfRkVBVFVSRVNfTE9XX01BU0spID4+IFNNVV9GRUFUVVJFU19MT1dfU0hJRlQpOwo+ICsg
ICAgICAgc211X2ZlYXR1cmVzX2hpZ2ggPSAodWludDMyX3QpKChmZWF0dXJlX21hc2sgJiBTTVVf
RkVBVFVSRVNfSElHSF9NQVNLKSA+PiBTTVVfRkVBVFVSRVNfSElHSF9TSElGVCk7Cj4gKwo+ICsg
ICAgICAgaWYgKGVuYWJsZSkgewo+ICsgICAgICAgICAgICAgICByZXQgPSBzbXVfc2VuZF9zbWNf
bXNnX3dpdGhfcGFyYW0oc211LCBTTVVfTVNHX0VuYWJsZVNtdUZlYXR1cmVzTG93LAo+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc211X2ZlYXR1cmVz
X2xvdyk7Cj4gKyAgICAgICAgICAgICAgIGlmIChyZXQpCj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgcmV0dXJuIHJldDsKPiArICAgICAgICAgICAgICAgcmV0ID0gc211X3NlbmRfc21jX21zZ193
aXRoX3BhcmFtKHNtdSwgU01VX01TR19FbmFibGVTbXVGZWF0dXJlc0hpZ2gsCj4gKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbXVfZmVhdHVyZXNfaGln
aCk7Cj4gKyAgICAgICAgICAgICAgIGlmIChyZXQpCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
cmV0dXJuIHJldDsKPiArICAgICAgIH0gZWxzZSB7Cj4gKyAgICAgICAgICAgICAgIHJldCA9IHNt
dV9zZW5kX3NtY19tc2dfd2l0aF9wYXJhbShzbXUsIFNNVV9NU0dfRGlzYWJsZVNtdUZlYXR1cmVz
TG93LAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
c211X2ZlYXR1cmVzX2xvdyk7Cj4gKyAgICAgICAgICAgICAgIGlmIChyZXQpCj4gKyAgICAgICAg
ICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKPiArICAgICAgICAgICAgICAgcmV0ID0gc211X3Nl
bmRfc21jX21zZ193aXRoX3BhcmFtKHNtdSwgU01VX01TR19EaXNhYmxlU211RmVhdHVyZXNIaWdo
LAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc211
X2ZlYXR1cmVzX2hpZ2gpOwo+ICsgICAgICAgICAgICAgICBpZiAocmV0KQo+ICsgICAgICAgICAg
ICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4gKyAgICAgICB9Cj4gKwo+ICsgICAgICAgcmV0dXJu
IDA7Cj4gKwo+ICt9Cj4gKwo+ICtzdGF0aWMgaW50IHZlZ2EyMF9nZXRfcHBmZWF0dXJlX3N0YXR1
cyhzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgY2hhciAqYnVmKQo+ICt7Cj4gKyAgICAgICBzdGF0
aWMgY29uc3QgY2hhciAqcHBmZWF0dXJlX25hbWVbXSA9IHsKPiArICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICJEUE1fUFJFRkVUQ0hFUiIsCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAiR0ZYQ0xLX0RQTSIsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAi
VUNMS19EUE0iLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlNPQ0NMS19EUE0i
LAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlVWRF9EUE0iLAo+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIlZDRV9EUE0iLAo+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIlVMViIsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTVAw
Q0xLX0RQTSIsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTElOS19EUE0iLAo+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkRDRUZDTEtfRFBNIiwKPiArICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICJHRlhDTEtfRFMiLAo+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIlNPQ0NMS19EUyIsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAiTENMS19EUyIsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiUFBUIiwK
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUREMiLAo+ICsgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIlRIRVJNQUwiLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIkdGWF9QRVJfQ1VfQ0ciLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IlJNIiwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJEQ0VGQ0xLX0RTIiwKPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJBQ0RDIiwKPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICJWUjBIT1QiLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIlZSMUhPVCIsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRldfQ1RGIiwK
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJMRURfRElTUExBWSIsCj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAiRkFOX0NPTlRST0wiLAo+ICsgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIkdGWF9FREMiLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIkdGWE9GRiIsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQ0ciLAo+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkZDTEtfRFBNIiwKPiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICJGQ0xLX0RTIiwKPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICJNUDFDTEtfRFMiLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
Ik1QMENMS19EUyIsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiWEdNSSIsCj4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRUNDIn07Cj4gKyAgICAgICBzdGF0aWMg
Y29uc3QgY2hhciAqb3V0cHV0X3RpdGxlW10gPSB7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAiRkVBVFVSRVMiLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJJ
VE1BU0siLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkVOQUJMRU1FTlQifTsK
PiArICAgICAgIHVpbnQ2NF90IGZlYXR1cmVzX2VuYWJsZWQ7Cj4gKyAgICAgICBpbnQgaTsKPiAr
ICAgICAgIGludCByZXQgPSAwOwo+ICsgICAgICAgaW50IHNpemUgPSAwOwo+ICsKPiArICAgICAg
IHJldCA9IHZlZ2EyMF9nZXRfZW5hYmxlZF9zbWNfZmVhdHVyZXMoc211LCAmZmVhdHVyZXNfZW5h
YmxlZCk7Cj4gKyAgICAgICBpZiAocmV0KQo+ICsgICAgICAgICAgICAgICByZXR1cm4gcmV0Owo+
ICsKPiArICAgICAgIHNpemUgKz0gc3ByaW50ZihidWYgKyBzaXplLCAiQ3VycmVudCBwcGZlYXR1
cmVzOiAweCUwMTZsbHhcbiIsIGZlYXR1cmVzX2VuYWJsZWQpOwo+ICsgICAgICAgc2l6ZSArPSBz
cHJpbnRmKGJ1ZiArIHNpemUsICIlLTE5cyAlLTIycyAlc1xuIiwKPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIG91dHB1dF90aXRsZVswXSwKPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIG91dHB1dF90aXRsZVsxXSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIG91dHB1dF90aXRsZVsyXSk7Cj4gKyAgICAgICBmb3IgKGkgPSAwOyBpIDwgR05MRF9GRUFU
VVJFU19NQVg7IGkrKykgewo+ICsgICAgICAgICAgICAgICBzaXplICs9IHNwcmludGYoYnVmICsg
c2l6ZSwgIiUtMTlzIDB4JTAxNmxseCAlNnNcbiIsCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHBwZmVhdHVyZV9uYW1lW2ldLAo+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAxVUxMIDw8IGksCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIChmZWF0dXJlc19lbmFibGVkICYgKDFVTEwgPDwgaSkpID8gIlkiIDog
Ik4iKTsKPiArICAgICAgIH0KPiArCj4gKyAgICAgICByZXR1cm4gc2l6ZTsKPiArfQo+ICsKPiAr
c3RhdGljIGludCB2ZWdhMjBfc2V0X3BwZmVhdHVyZV9zdGF0dXMoc3RydWN0IHNtdV9jb250ZXh0
ICpzbXUsIHVpbnQ2NF90IG5ld19wcGZlYXR1cmVfbWFza3MpCj4gK3sKPiArICAgICAgIHVpbnQ2
NF90IGZlYXR1cmVzX2VuYWJsZWQ7Cj4gKyAgICAgICB1aW50NjRfdCBmZWF0dXJlc190b19lbmFi
bGU7Cj4gKyAgICAgICB1aW50NjRfdCBmZWF0dXJlc190b19kaXNhYmxlOwo+ICsgICAgICAgaW50
IHJldCA9IDA7Cj4gKwo+ICsgICAgICAgaWYgKG5ld19wcGZlYXR1cmVfbWFza3MgPj0gKDFVTEwg
PDwgR05MRF9GRUFUVVJFU19NQVgpKQo+ICsgICAgICAgICAgICAgICByZXR1cm4gLUVJTlZBTDsK
PiArCj4gKyAgICAgICByZXQgPSB2ZWdhMjBfZ2V0X2VuYWJsZWRfc21jX2ZlYXR1cmVzKHNtdSwg
JmZlYXR1cmVzX2VuYWJsZWQpOwo+ICsgICAgICAgaWYgKHJldCkKPiArICAgICAgICAgICAgICAg
cmV0dXJuIHJldDsKPiArCj4gKyAgICAgICBmZWF0dXJlc190b19kaXNhYmxlID0KPiArICAgICAg
ICAgICAgICAgZmVhdHVyZXNfZW5hYmxlZCAmIH5uZXdfcHBmZWF0dXJlX21hc2tzOwo+ICsgICAg
ICAgZmVhdHVyZXNfdG9fZW5hYmxlID0KPiArICAgICAgICAgICAgICAgfmZlYXR1cmVzX2VuYWJs
ZWQgJiBuZXdfcHBmZWF0dXJlX21hc2tzOwo+ICsKPiArICAgICAgIHByX2RlYnVnKCJmZWF0dXJl
c190b19kaXNhYmxlIDB4JWxseFxuIiwgZmVhdHVyZXNfdG9fZGlzYWJsZSk7Cj4gKyAgICAgICBw
cl9kZWJ1ZygiZmVhdHVyZXNfdG9fZW5hYmxlIDB4JWxseFxuIiwgZmVhdHVyZXNfdG9fZW5hYmxl
KTsKPiArCj4gKyAgICAgICBpZiAoZmVhdHVyZXNfdG9fZGlzYWJsZSkgewo+ICsgICAgICAgICAg
ICAgICByZXQgPSB2ZWdhMjBfZW5hYmxlX3NtY19mZWF0dXJlcyhzbXUsIGZhbHNlLCBmZWF0dXJl
c190b19kaXNhYmxlKTsKPiArICAgICAgICAgICAgICAgaWYgKHJldCkKPiArICAgICAgICAgICAg
ICAgICAgICAgICByZXR1cm4gcmV0Owo+ICsgICAgICAgfQo+ICsKPiArICAgICAgIGlmIChmZWF0
dXJlc190b19lbmFibGUpIHsKPiArICAgICAgICAgICAgICAgcmV0ID0gdmVnYTIwX2VuYWJsZV9z
bWNfZmVhdHVyZXMoc211LCB0cnVlLCBmZWF0dXJlc190b19lbmFibGUpOwo+ICsgICAgICAgICAg
ICAgICBpZiAocmV0KQo+ICsgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4gKyAg
ICAgICB9Cj4gKwo+ICsgICAgICAgcmV0dXJuIDA7Cj4gK30KPiArCj4gIHN0YXRpYyBjb25zdCBz
dHJ1Y3QgcHB0YWJsZV9mdW5jcyB2ZWdhMjBfcHB0X2Z1bmNzID0gewo+ICAgICAgICAgLmFsbG9j
X2RwbV9jb250ZXh0ID0gdmVnYTIwX2FsbG9jYXRlX2RwbV9jb250ZXh0LAo+ICAgICAgICAgLnN0
b3JlX3Bvd2VycGxheV90YWJsZSA9IHZlZ2EyMF9zdG9yZV9wb3dlcnBsYXlfdGFibGUsCj4gQEAg
LTI0MDQsNiArMjU1NSw4IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgcHB0YWJsZV9mdW5jcyB2ZWdh
MjBfcHB0X2Z1bmNzID0gewo+ICAgICAgICAgLnVuZm9yY2VfZHBtX2xldmVscyA9IHZlZ2EyMF91
bmZvcmNlX2RwbV9sZXZlbHMsCj4gICAgICAgICAudXBsb2FkX2RwbV9sZXZlbCA9IHZlZ2EyMF91
cGxvYWRfZHBtX2xldmVsLAo+ICAgICAgICAgLmdldF9wcm9maWxpbmdfY2xrX21hc2sgPSB2ZWdh
MjBfZ2V0X3Byb2ZpbGluZ19jbGtfbWFzaywKPiArICAgICAgIC5zZXRfcHBmZWF0dXJlX3N0YXR1
cyA9IHZlZ2EyMF9zZXRfcHBmZWF0dXJlX3N0YXR1cywKPiArICAgICAgIC5nZXRfcHBmZWF0dXJl
X3N0YXR1cyA9IHZlZ2EyMF9nZXRfcHBmZWF0dXJlX3N0YXR1cywKPiAgfTsKPgo+ICB2b2lkIHZl
Z2EyMF9zZXRfcHB0X2Z1bmNzKHN0cnVjdCBzbXVfY29udGV4dCAqc211KQo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS92ZWdhMjBfcHB0LmggYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL3Bvd2VycGxheS92ZWdhMjBfcHB0LmgKPiBpbmRleCA1YTBkMmFmNjMxNzMuLjg3
ZjNhODMwMzY0NSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS92
ZWdhMjBfcHB0LmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS92ZWdhMjBf
cHB0LmgKPiBAQCAtMzYsNiArMzYsNTAgQEAKPiAgI2RlZmluZSBBVkZTX0NVUlZFIDAKPiAgI2Rl
ZmluZSBPRDhfSE9UQ1VSVkVfVEVNUEVSQVRVUkUgODUKPgo+ICsjZGVmaW5lIFNNVV9GRUFUVVJF
U19MT1dfTUFTSyAgICAgICAgMHgwMDAwMDAwMEZGRkZGRkZGCj4gKyNkZWZpbmUgU01VX0ZFQVRV
UkVTX0xPV19TSElGVCAgICAgICAwCj4gKyNkZWZpbmUgU01VX0ZFQVRVUkVTX0hJR0hfTUFTSyAg
ICAgICAweEZGRkZGRkZGMDAwMDAwMDAKPiArI2RlZmluZSBTTVVfRkVBVFVSRVNfSElHSF9TSElG
VCAgICAgIDMyCj4gKwo+ICtlbnVtIHsKPiArICAgICAgIEdOTERfRFBNX1BSRUZFVENIRVIgPSAw
LAo+ICsgICAgICAgR05MRF9EUE1fR0ZYQ0xLLAo+ICsgICAgICAgR05MRF9EUE1fVUNMSywKPiAr
ICAgICAgIEdOTERfRFBNX1NPQ0NMSywKPiArICAgICAgIEdOTERfRFBNX1VWRCwKPiArICAgICAg
IEdOTERfRFBNX1ZDRSwKPiArICAgICAgIEdOTERfVUxWLAo+ICsgICAgICAgR05MRF9EUE1fTVAw
Q0xLLAo+ICsgICAgICAgR05MRF9EUE1fTElOSywKPiArICAgICAgIEdOTERfRFBNX0RDRUZDTEss
Cj4gKyAgICAgICBHTkxEX0RTX0dGWENMSywKPiArICAgICAgIEdOTERfRFNfU09DQ0xLLAo+ICsg
ICAgICAgR05MRF9EU19MQ0xLLAo+ICsgICAgICAgR05MRF9QUFQsCj4gKyAgICAgICBHTkxEX1RE
QywKPiArICAgICAgIEdOTERfVEhFUk1BTCwKPiArICAgICAgIEdOTERfR0ZYX1BFUl9DVV9DRywK
PiArICAgICAgIEdOTERfUk0sCj4gKyAgICAgICBHTkxEX0RTX0RDRUZDTEssCj4gKyAgICAgICBH
TkxEX0FDREMsCj4gKyAgICAgICBHTkxEX1ZSMEhPVCwKPiArICAgICAgIEdOTERfVlIxSE9ULAo+
ICsgICAgICAgR05MRF9GV19DVEYsCj4gKyAgICAgICBHTkxEX0xFRF9ESVNQTEFZLAo+ICsgICAg
ICAgR05MRF9GQU5fQ09OVFJPTCwKPiArICAgICAgIEdOTERfRElEVCwKPiArICAgICAgIEdOTERf
R0ZYT0ZGLAo+ICsgICAgICAgR05MRF9DRywKPiArICAgICAgIEdOTERfRFBNX0ZDTEssCj4gKyAg
ICAgICBHTkxEX0RTX0ZDTEssCj4gKyAgICAgICBHTkxEX0RTX01QMUNMSywKPiArICAgICAgIEdO
TERfRFNfTVAwQ0xLLAo+ICsgICAgICAgR05MRF9YR01JLAo+ICsgICAgICAgR05MRF9FQ0MsCj4g
Kwo+ICsgICAgICAgR05MRF9GRUFUVVJFU19NQVgKPiArfTsKPiArCj4gIHN0cnVjdCB2ZWdhMjBf
ZHBtX2xldmVsIHsKPiAgICAgICAgICBib29sICAgICAgICAgICAgZW5hYmxlZDsKPiAgICAgICAg
ICB1aW50MzJfdCAgICAgICAgdmFsdWU7Cj4gLS0KPiAyLjIxLjAKPgo+IF9fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCj4gYW1kLWdmeCBtYWlsaW5nIGxpc3QK
PiBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwo+IGh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0
b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeApfX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xp
c3RpbmZvL2FtZC1nZng=
