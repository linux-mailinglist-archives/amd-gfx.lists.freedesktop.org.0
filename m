Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id E9E2158F657
	for <lists+amd-gfx@lfdr.de>; Thu, 11 Aug 2022 05:18:30 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 63973990B3;
	Thu, 11 Aug 2022 03:18:16 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM10-MW2-obe.outbound.protection.outlook.com
 (mail-mw2nam10on2051.outbound.protection.outlook.com [40.107.94.51])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7E23B98B8B
 for <amd-gfx@lists.freedesktop.org>; Thu, 11 Aug 2022 03:18:08 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=YSguMyyMgurSSdoRT2pgA7y2wtiDIcTy7uaPDX+488b6AT0z1pyy54tapEDyugEF2t7S9VCeLI1B2ZlAqLpxgKV6k8vtOKKfEjsY985zizN4t2f3nFDfFDA92t8iGZRhhoMCZFmRoOimxxR8zEaL9DVt67x/Ie5ODrv3oU3FGdxDNofmEAJs3SKRbb7GeMbXTktR8dm0xLB5zy3lxt6cZACGd7mzPC9AJ+lefg05/FNaqKUDNx2d2awIPeU6uBHhCYzw2GATkBGTVyQsvkRkoSDYW3E2OIJzUt/Z61PQGCuu7XcF0JUKiQp6LGhOTqjJo6AtUFF75G2jZBR+kUnnog==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=4jNSyTSYf+rs/el97OqU7Q0EbzaKNSQs/04j7lJK5EA=;
 b=gcTsI9UuQp83A/qPCC36CG+AEYWUOMjaRCfyrLPlAEsWKojh1S5dEJ8Gq8tuXOdloPs5onFCZ+iGo2p2fyjD8VXb6hklzRV1XEbMYhwHsIE0nvkmOrbEoNr1aTmg6IT9nC86q4IJYS8B4KT08bYOm8tRm1S1LgYmRr9OztQBwgEgaIUwG8XcFLWOnEBlEsOJUuA/EHvGcHehEEk2sTxglvGVpq1utxo3IoyHUvZaHnSDQVzpJtapECEO3jNTNeeO4CKdSoVMkCSsLto11ykOA1VBmPw4nXayLOVFVtl1riOELCAc+5qtM22Z+9DyGwUPP+eytf5Xxgr23XjTmZkwKg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=amd.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=4jNSyTSYf+rs/el97OqU7Q0EbzaKNSQs/04j7lJK5EA=;
 b=sB8Z/pObT+pLNSuY9FJOAEXgrJ5hTDn/18UNLF4iRxFv0Y60NtIqHRJnWRZCDcZFcCXJMM/hWm6AN3ip60QKJGyRSj1ZDiw67pQCTAgk9E2qnfEUuKp1um84mtDMB4cAXa/fOwZXMUBXbk7DSzgukPQ1QSo0eBwLXMO524ygr4o=
Received: from DS7PR12MB6333.namprd12.prod.outlook.com (2603:10b6:8:96::15) by
 BYAPR12MB4712.namprd12.prod.outlook.com (2603:10b6:a03:9d::14) with
 Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.5504.14; Thu, 11 Aug 2022 03:18:06 +0000
Received: from DS7PR12MB6333.namprd12.prod.outlook.com
 ([fe80::207d:4364:5b65:b484]) by DS7PR12MB6333.namprd12.prod.outlook.com
 ([fe80::207d:4364:5b65:b484%4]) with mapi id 15.20.5525.011; Thu, 11 Aug 2022
 03:18:05 +0000
From: "Zhu, Jiadong" <Jiadong.Zhu@amd.com>
To: =?utf-8?B?Q2hyaXN0aWFuIEvDtm5pZw==?= <ckoenig.leichtzumerken@gmail.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH 1/2] drm/amdgpu: modify mcbp implement for gfx9(v2)
Thread-Topic: [PATCH 1/2] drm/amdgpu: modify mcbp implement for gfx9(v2)
Thread-Index: AQHYq9CRjYhNQOsQvEWAPXqvcnpXC62mSZPQgAIFEgCAALNO0A==
Date: Thu, 11 Aug 2022 03:18:05 +0000
Message-ID: <DS7PR12MB63338F73230E5C584050DDDDF4649@DS7PR12MB6333.namprd12.prod.outlook.com>
References: <20220809091448.958375-1-jiadong.zhu@amd.com>
 <DS7PR12MB633394912926A7E531FB5D81F4629@DS7PR12MB6333.namprd12.prod.outlook.com>
 <eea939c0-7cd9-b9ac-5d6d-a3ba3eed8ced@gmail.com>
In-Reply-To: <eea939c0-7cd9-b9ac-5d6d-a3ba3eed8ced@gmail.com>
Accept-Language: zh-CN, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
msip_labels: MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_ActionId=c9d3ff27-4032-4073-bd69-2dbae09dcbd4;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_ContentBits=0;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_Enabled=true;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_Method=Standard;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_Name=General;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_SetDate=2022-08-11T02:48:08Z;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_SiteId=3dd8961f-e488-4e60-8e11-a82d994e183d;
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=amd.com;
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: e97490c3-1dc9-4ace-75d1-08da7b481bb0
x-ms-traffictypediagnostic: BYAPR12MB4712:EE_
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: vFtjSRS1294WzumxERH1lfZWCK/2CyQm5LhNs8iLHL3lUKHRiPFtXtw3djtfRU6aa5eehN7Geuqg0gkGtlQW5C6tD7a6/g+rplbIluOFNgeq9e9ymeX8/QVKo7xjOgGwzVTF0nJkpsCCfKCv8dDJSRfeov03Q7IGsiKSMy9bePOoyn7ZHVC2r7SkZa1D57w1i6mEeQm8cqp0CQBPS0LoUVrbM7w4zTUwuyQnxnhL3NX0na+Qfv32DtuR7B6+VxSh5e47tbgZW6GmeKFHCPrmHu0e3fbL+B9+cF2VQ2QDzxt2xuMffjlF5EJYm5wFOc8cYKKHMoRBmX5UK/nfKkRt+rPcd7qA0UhuxU4LbAeICS072fYxXgkmYKVuTIwjbpv/Y/lTfzNgfC+2mplt3IOZkAhj8+K3RGxMG712yb8KGH0EpNnC3Q36QvjsnBTL0jYLxOq2RzjMRC4MRr+Su/kYRYqB9xp0DbSLVEvWhqYIOtmVIv6k59vqelo3toAOPNHL+Ko6FLAs6smeu5hdW6rYaBAUI8UxDoNXbvPKUSNE2eN+m8KZQxv8vng0KI/2r2rB0e0HTOdkj05FxR0x4SQenEEeO3kEUmjr2ZgBnioLBtzw4kp75VjfEpFh8hpygJ8vXo7uZTz6uOYpVOIvvni5Zuicjj3dhMbqnYkdozMyTPSTeZoA2MG1jE3Cq7uG6aeGByFgbJSSZG+AHFXO7NsRd8a8uolAl4KsFVSpYqioD676k+wmY5dhr02PeWpvLt/NsIlNvApHKh8jcz5NgduengtQ2Zsaaq3FFIrl4VqtErPUKCBouBpW+vXdW5WZdeD6
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:DS7PR12MB6333.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(13230016)(4636009)(396003)(346002)(39860400002)(366004)(136003)(376002)(41300700001)(9686003)(6506007)(86362001)(26005)(7696005)(53546011)(122000001)(38100700002)(38070700005)(66574015)(186003)(83380400001)(52536014)(8936002)(5660300002)(30864003)(66446008)(33656002)(66946007)(64756008)(4326008)(8676002)(66556008)(2906002)(66476007)(55016003)(76116006)(54906003)(110136005)(478600001)(316002)(71200400001);
 DIR:OUT; SFP:1101; 
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?SXhVRGwwK1dzS3FPQ2V2ZEhXcXNYNDdMNlJuS0ZEUURhNkdZZmJHSlBRcWF6?=
 =?utf-8?B?cG80dUw3WktJamtYVkk1WHN0RjRnMGlHSVVFRXdCbTVHTlZFRjljKzhITDVI?=
 =?utf-8?B?NUNSWlExc00wWFF0eDQyNXZMVUUyLzBzVUgraWV5N1VBMHJTOUswTkxZZzd4?=
 =?utf-8?B?eTNnZWRQVnhFMlhVRC9VQU96dVc2YkkwZTJqNWVtOVlaVkQ5eUNiYkpqT2hE?=
 =?utf-8?B?QlVGMW5ETGlyZ1ZhV09tVDlhTHROV3pQVVpqNFBjZTR0MmhzeVZud1p4THpP?=
 =?utf-8?B?MUVmTURwY2ZLMnNWMVNDWjJPcjJDOHBtK3hsYmtTemc2YlpicVJVeEdRSWdY?=
 =?utf-8?B?R0ZIMzZjU3dPbGlkdW5VR2cvMDlqUXd6eXl3RG9sY3F4VE04VzdUVkNzdDJs?=
 =?utf-8?B?cHArVlZMbEZ6b0xxbGYxVHo5eklsT2VMVVNuendRT3h4UzBZd294NGR1cDdZ?=
 =?utf-8?B?OFBRK0Nkd1c1emhseW5WNFgxRXBlcFF4dUtLZnM5Z1NUWnU3Q1haVjR5VjFI?=
 =?utf-8?B?dDlIT2RtQS83TktFNnB0OSs3aFZKRWNUVWJRaFdjVUNRaWM0aTNaUjkxc29o?=
 =?utf-8?B?ZDJDNTd0N1hZUmwwMk5tcEQwcDFlQ1dneUQwOE15bkgrVjRPVTJTRloyeGly?=
 =?utf-8?B?ZG5JZU02MXZnckROaUZYSzhyRk80SnpnZHo3SzVvblNqbkdwTVBaWU9xQ243?=
 =?utf-8?B?c0lYVGRKSDdjUFJ0Uis2QlBCNm1mSlM3WXQwTHh0NzMrTklnb25Ic2R2WUJJ?=
 =?utf-8?B?dzViN0tBTFNYazRIaElWeWpqeXIxaW12blBJMnpHdEk5MFZEN2xSZHpjNmhY?=
 =?utf-8?B?aUVrT1JVUWdpK1dvZndBRzBDOEFvT0lnemJIQ1BrM2JLSFVsa1ZlK0VkeU5H?=
 =?utf-8?B?RnN2THRiOHIyYmptWVNqR2JhUE15cU1mRXJuakxpS3ZsTzJCUFhXY0ZzQ1JB?=
 =?utf-8?B?U0lHMW81cThnSEN1U2JZaHBzWFROS2lGYU92eEttR0ZQeGY3SWhhdEFNTzlF?=
 =?utf-8?B?dHJMeGFiUHZ0NzlTajZtbHB4UkQyQ0trL0h3QThQN3ZMZWxmZGIrU2o1UjZu?=
 =?utf-8?B?eHhWWERUV1BoOWsyZXZ4NUZoTWlxYnJCZWs3cmlwVHVUN0ZaNzU4SXpDT2Ft?=
 =?utf-8?B?Qi8zb2FpRnpoT1MvenV1SHhVUFBPTHhCRU44bk9OOFlxcnlNTVIxWlFKSHkr?=
 =?utf-8?B?dFhJQ3hXVjh1bzVmK0ZrUTFwcXdBWGJidllhei90Vk1ETzNhem1WNGEwRnpG?=
 =?utf-8?B?OHBUQ3pZeHYyWStRdGIyZHR1VlZ4OElrTkxvcGJIakIya0I5WHhzeHVVeWNK?=
 =?utf-8?B?NEZTRXVzY2dsVmw1dkJRbExwWXJzWE85Qy9pOHdHZ3BVcUR1SktqNHhvMHpj?=
 =?utf-8?B?V1pIck1LU0dMblRXNGFXK2l4OXIwVmJIMHY1ZkpzVDdZcWllQnN2NlExM1kx?=
 =?utf-8?B?bkhJOEowTlRFTWlKR1hYWTZsS3FhTWg0VklBNUFyUkZ6YWlKOGhZSkpVTFZC?=
 =?utf-8?B?dkR6eHBaKy9GMGFGL3p4QXplSTZYWUtRcVI4cWxZOTZEVkZ4NExWNVN1QjlS?=
 =?utf-8?B?TjFLcUllS0hEaWUvUStDQnZsQy9NWFlaR2o5SnVVMHhldkFZWGQ2cENjOHhH?=
 =?utf-8?B?UTNUTXVzVTRCVGJUTXp5S1d3REMrMnB3Qm9LUDZTS3FuVjJGb012S0JLUTlN?=
 =?utf-8?B?a1ZZMGxlRXFCaGtnOEQzVnI5UEh0Y0JjNmR2SlEyZWdhZkdFdlZiSTFCYTIz?=
 =?utf-8?B?SFVFNktQeVFZZVNadngwa2lsM3ZUOG93VVcwOCs0NVh2WTJPTXhvRDJFZG1N?=
 =?utf-8?B?dTN1aXBNeVZjekJlQ2ZmQzFtNU15VExqNk15cnA5SmQ3eEFNTnhHanNsRGdD?=
 =?utf-8?B?amdWTWJHMnVnS1c3Nit6eWZpQnBsNGVoei9mRUg4SHlxZDA0U3BWNGtrbFhY?=
 =?utf-8?B?d2Z1T2hZUkE5Z3VyS1NzK3N2R2MybEV2ZTR4enpxL0hZVEtXamEzZ3JkOFB3?=
 =?utf-8?B?YmsvZXIvY1VFdWhIQmh3L3grUDhwY2lSYzEwbjhFVGtRUndPeStURGpuQU9o?=
 =?utf-8?B?Z2VGYnBFQjBuOGJNb1MrVlFxOVVMZVVESklVbHl3elNMcnBIZ3lHYmRtNnEw?=
 =?utf-8?Q?FtdsKV5it30vfQA+r1r2GaxzG?=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: DS7PR12MB6333.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: e97490c3-1dc9-4ace-75d1-08da7b481bb0
X-MS-Exchange-CrossTenant-originalarrivaltime: 11 Aug 2022 03:18:05.8133 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: 3c6uH5/6Gc9iVPrI2yz9QFOV5X6A1TP6/AVWGmZPVxFx3x+YCEnPVtRGtoqymC2vsyulA8ZUIWa5OvNnuYj+Ww==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BYAPR12MB4712
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Huang, Ray" <Ray.Huang@amd.com>, "Liu, Aaron" <Aaron.Liu@amd.com>
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

W0FNRCBPZmZpY2lhbCBVc2UgT25seSAtIEdlbmVyYWxdDQoNCkhpIENocmlzdGlhbiwNCg0KVGhh
bmsgeW91IGZvciB0aGUgcmVwbHksIEkgd2lsbCB1cGRhdGUgdGhlIHBhdGNoIHRvIGZpeCBzdHls
ZSBpc3N1ZS4NCg0KVGhlIHBhdGNoIGhhcyBzZXZlcmFsIGNoYW5nZXMNCjEuIGNoYW5nZSB0aGUg
dW5tYXAgcGFja2FnZSBmb3IgbWNicCB3aGljaCBpcyBub3QgY29ycmVjdCBpbiBnZnhfdjlfMF9r
aXFfdW5tYXBfcXVldWVzLg0KMi4gY2hhbmdlIHRoZSBlbWl0dGVkIGNlL2RlIG1ldGEgZGF0YSB1
c2VkIGZvciBwcmVlbXB0ZWQgaWJzDQozLiBhZGQgdGhlIGZ1bmN0aW9uIGdmeF92OV8wX3Jpbmdf
cHJlZW1wdF9pYiB1c2VkIGZvciBkZWJ1Z2ZzIGNhc2UuDQoNClRob3VnaCB0aGUgcGFydCAzIG1h
eSBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUuICBUaG9zZSBmdW5jdGlvbnMgb2YgMSBhbmQgMiBj
b3VsZCBiZSBzdGlsbCB1c2VkIGJ5IHNvbWUgcHJvamVjdHMgc3VjaCBhcyB2aXJ0dWFsaXphdGlv
biBldGMuDQoNClRoYW5rcywNCkppYWRvbmcNCg0KDQotLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0t
LQ0KRnJvbTogQ2hyaXN0aWFuIEvDtm5pZyA8Y2tvZW5pZy5sZWljaHR6dW1lcmtlbkBnbWFpbC5j
b20+DQpTZW50OiBUaHVyc2RheSwgQXVndXN0IDExLCAyMDIyIDEyOjA2IEFNDQpUbzogWmh1LCBK
aWFkb25nIDxKaWFkb25nLlpodUBhbWQuY29tPjsgYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcNCkNjOiBIdWFuZywgUmF5IDxSYXkuSHVhbmdAYW1kLmNvbT47IExpdSwgQWFyb24gPEFhcm9u
LkxpdUBhbWQuY29tPg0KU3ViamVjdDogUmU6IFtQQVRDSCAxLzJdIGRybS9hbWRncHU6IG1vZGlm
eSBtY2JwIGltcGxlbWVudCBmb3IgZ2Z4OSh2MikNCg0KW0NBVVRJT046IEV4dGVybmFsIEVtYWls
XQ0KDQpIaSwgSmlhZG9uZywNCg0KZmlyc3Qgb2YgYWxsIHlvdXIgcGF0Y2hlcyBoYXZlIG1ham9y
IHN0eWxlIGlzc3Vlcy4gUGxlYXNlIHVzZSB0aGUgY2hlY2twYXRjaC5wbCBzY3JpcHQgYmVmb3Jl
IHNlbmRpbmcgdGhvc2Ugb3V0Lg0KDQpBcGFydCBmcm9tIHRoYXQgYXMgZGlzY3Vzc2VkIG9uIG91
ciBjYWxsIG9uIE1vbmRheSBNQ0JQIGlzIG5vdCBzb21ldGhpbmcgd2Ugd2lsbCBpbXBsZW1lbnQg
b24gTGludXguIFNvIHdlIHdpbGwgcHJvYmFibHkgcmVtb3ZlIHRoZSBleGlzdGluZyBkZWJ1Z2Zz
IHRlc3Qgc29vbmVyIG9yIGxhdGVyLg0KDQpSZWdhcmRzLA0KQ2hyaXN0aWFuLg0KDQpBbSAwOS4w
OC4yMiB1bSAxMToyMSBzY2hyaWViIFpodSwgSmlhZG9uZzoNCj4gW0FNRCBPZmZpY2lhbCBVc2Ug
T25seSAtIEdlbmVyYWxdDQo+DQo+IEhpLA0KPg0KPiBUaGlzIHBhdGNoIGlzIHRvIGNvcnJlY3Qg
dGhlIG1jYnAgcGFja2FnZSBmb3IgZ2Z4OSwgd2hpY2ggaXMgdGhlIGJhc2ljIGZ1bmN0aW9uIHVz
ZWQgZm9yIGRlYnVnZnMuDQo+IFRoZXJlIGFyZSBubyBsb2dpYyBhYm91dCB3aGVuIHRvIHRyaWdn
ZXIgbWNicC4NCj4gU2hhbGwgd2UgZ2V0IHRoaXMgcmV2aWV3ZWQ/DQo+DQo+IFRoYW5rcywNCj4g
SmlhZG9uZw0KPg0KPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KPiBGcm9tOiBaaHUsIEpp
YWRvbmcgPEppYWRvbmcuWmh1QGFtZC5jb20+DQo+IFNlbnQ6IFR1ZXNkYXksIEF1Z3VzdCA5LCAy
MDIyIDU6MTUgUE0NCj4gVG86IGFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnDQo+IENjOiBM
aXUsIEFhcm9uIDxBYXJvbi5MaXVAYW1kLmNvbT47IEh1YW5nLCBSYXkgPFJheS5IdWFuZ0BhbWQu
Y29tPjsNCj4gWmh1LCBKaWFkb25nIDxKaWFkb25nLlpodUBhbWQuY29tPg0KPiBTdWJqZWN0OiBb
UEFUQ0ggMS8yXSBkcm0vYW1kZ3B1OiBtb2RpZnkgbWNicCBpbXBsZW1lbnQgZm9yIGdmeDkodjIp
DQo+DQo+IEZyb206ICJKaWFkb25nLlpodSIgPEppYWRvbmcuWmh1QGFtZC5jb20+DQo+DQo+IDEu
IFVzZSB1bm1hcF9xdWV1ZSBwYWNrYWdlIHRvIHRyaWdnZXIgcHJlZW1wdGlvbiBvbiBnZng5DQo+
ICAgICBBZGQgdHJhaWxpbmcgZmVuY2UgdG8gdHJhY2sgdGhlIHByZWVtcHRpb24gZG9uZS4NCj4g
Mi4gTW9kaWZ5IGVtaXRfY2VfbWV0YSBlbWl0X2RlX21ldGEgZnVuY3Rpb25zDQo+ICAgICBmb3Ig
dGhlIHJlc3VtZWQgaWJzLg0KPiAtLS0NCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9h
bWRncHVfcmluZy5oIHwgICAxICsNCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhf
djlfMC5jICAgIHwgMTU5ICsrKysrKysrKysrKysrKysrKysrLS0tDQo+ICAgZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvc29jMTVkLmggICAgICB8ICAgMiArDQo+ICAgMyBmaWxlcyBjaGFuZ2Vk
LCAxNDEgaW5zZXJ0aW9ucygrKSwgMjEgZGVsZXRpb25zKC0pDQo+DQo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfcmluZy5oDQo+IGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3JpbmcuaA0KPiBpbmRleCA4MmMxNzhhOTAzM2EuLmNhNjI2
ZjBhZDdiMSAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1
X3JpbmcuaA0KPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfcmluZy5o
DQo+IEBAIC01OSw2ICs1OSw3IEBAIGVudW0gYW1kZ3B1X3JpbmdfcHJpb3JpdHlfbGV2ZWwgew0K
PiAgICNkZWZpbmUgQU1ER1BVX0ZFTkNFX0ZMQUdfNjRCSVQgICAgICAgICAoMSA8PCAwKQ0KPiAg
ICNkZWZpbmUgQU1ER1BVX0ZFTkNFX0ZMQUdfSU5UICAgICAgICAgICAoMSA8PCAxKQ0KPiAgICNk
ZWZpbmUgQU1ER1BVX0ZFTkNFX0ZMQUdfVENfV0JfT05MWSAgICAoMSA8PCAyKQ0KPiArI2RlZmlu
ZSBBTURHUFVfRkVOQ0VfRkxBR19FWEVDICAgICAgICAgICgxIDw8IDMpDQo+DQo+ICAgI2RlZmlu
ZSB0b19hbWRncHVfcmluZyhzKSBjb250YWluZXJfb2YoKHMpLCBzdHJ1Y3QgYW1kZ3B1X3Jpbmcs
DQo+IHNjaGVkKQ0KPg0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
Z2Z4X3Y5XzAuYw0KPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92OV8wLmMNCj4g
aW5kZXggNTMzMjg5OTY0MmRjLi4wYjdjYjRjZjEzYzQgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92OV8wLmMNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvZ2Z4X3Y5XzAuYw0KPiBAQCAtNzUxLDcgKzc1MSw3IEBAIHN0YXRpYyB2b2lkIGdm
eF92OV8wX3NldF9ybGNfZnVuY3Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpOyAgc3RhdGlj
IGludCBnZnhfdjlfMF9nZXRfY3VfaW5mbyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGFtZGdwdV9jdV9pbmZvICpj
dV9pbmZvKTsNCj4gICBzdGF0aWMgdWludDY0X3QgZ2Z4X3Y5XzBfZ2V0X2dwdV9jbG9ja19jb3Vu
dGVyKHN0cnVjdCBhbWRncHVfZGV2aWNlDQo+ICphZGV2KTsgLXN0YXRpYyB2b2lkIGdmeF92OV8w
X3JpbmdfZW1pdF9kZV9tZXRhKHN0cnVjdCBhbWRncHVfcmluZw0KPiAqcmluZyk7DQo+ICtzdGF0
aWMgdm9pZCBnZnhfdjlfMF9yaW5nX2VtaXRfZGVfbWV0YShzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJp
bmcsIGJvb2wNCj4gK3Jlc3VtZSk7DQo+ICAgc3RhdGljIHU2NCBnZnhfdjlfMF9yaW5nX2dldF9y
cHRyX2NvbXB1dGUoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nKTsgIHN0YXRpYyB2b2lkIGdmeF92
OV8wX3F1ZXJ5X3Jhc19lcnJvcl9jb3VudChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgKnJhc19lcnJv
cl9zdGF0dXMpOyBAQA0KPiAtODI0LDkgKzgyNCwxMCBAQCBzdGF0aWMgdm9pZCBnZnhfdjlfMF9r
aXFfdW5tYXBfcXVldWVzKHN0cnVjdCBhbWRncHVfcmluZyAqa2lxX3JpbmcsDQo+DQo+IFBBQ0tF
VDNfVU5NQVBfUVVFVUVTX0RPT1JCRUxMX09GRlNFVDAocmluZy0+ZG9vcmJlbGxfaW5kZXgpKTsN
Cj4NCj4gICAgICAgICAgaWYgKGFjdGlvbiA9PSBQUkVFTVBUX1FVRVVFU19OT19VTk1BUCkgew0K
PiAtICAgICAgICAgICAgICAgYW1kZ3B1X3Jpbmdfd3JpdGUoa2lxX3JpbmcsIGxvd2VyXzMyX2Jp
dHMoZ3B1X2FkZHIpKTsNCj4gLSAgICAgICAgICAgICAgIGFtZGdwdV9yaW5nX3dyaXRlKGtpcV9y
aW5nLCB1cHBlcl8zMl9iaXRzKGdwdV9hZGRyKSk7DQo+IC0gICAgICAgICAgICAgICBhbWRncHVf
cmluZ193cml0ZShraXFfcmluZywgc2VxKTsNCj4gKyAgICAgICAgICAgICAgIGFtZGdwdV9yaW5n
X3dyaXRlKGtpcV9yaW5nLCBsb3dlcl8zMl9iaXRzKHJpbmctPndwdHIgJiByaW5nLT5idWZfbWFz
aykpOw0KPiArICAgICAgICAgICAgICAgYW1kZ3B1X3Jpbmdfd3JpdGUoa2lxX3JpbmcsIDApOw0K
PiArICAgICAgICAgICAgICAgYW1kZ3B1X3Jpbmdfd3JpdGUoa2lxX3JpbmcsIDApOw0KPiArDQo+
ICAgICAgICAgIH0gZWxzZSB7DQo+ICAgICAgICAgICAgICAgICAgYW1kZ3B1X3Jpbmdfd3JpdGUo
a2lxX3JpbmcsIDApOw0KPiAgICAgICAgICAgICAgICAgIGFtZGdwdV9yaW5nX3dyaXRlKGtpcV9y
aW5nLCAwKTsgQEAgLTU0NDYsMTEgKzU0NDcsMTUNCj4gQEAgc3RhdGljIHZvaWQgZ2Z4X3Y5XzBf
cmluZ19lbWl0X2liX2dmeChzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsDQo+DQo+ICAgICAgICAg
IGNvbnRyb2wgfD0gaWItPmxlbmd0aF9kdyB8ICh2bWlkIDw8IDI0KTsNCj4NCj4gLSAgICAgICBp
ZiAoYW1kZ3B1X3NyaW92X3ZmKHJpbmctPmFkZXYpICYmIChpYi0+ZmxhZ3MgJiBBTURHUFVfSUJf
RkxBR19QUkVFTVBUKSkgew0KPiArICAgICAgIGlmICgoYW1kZ3B1X3NyaW92X3ZmKHJpbmctPmFk
ZXYpIHx8IGFtZGdwdV9tY2JwKSAmJiAoaWItPmZsYWdzDQo+ICsmDQo+ICtBTURHUFVfSUJfRkxB
R19QUkVFTVBUKSkgew0KPiAgICAgICAgICAgICAgICAgIGNvbnRyb2wgfD0gSU5ESVJFQ1RfQlVG
RkVSX1BSRV9FTkIoMSk7DQo+DQo+ICsgICAgICAgICAgICAgICBpZiAoZmxhZ3MgJiBBTURHUFVf
SUJfUFJFRU1QVEVEKQ0KPiArICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sIHw9IElORElS
RUNUX0JVRkZFUl9QUkVfUkVTVU1FKDEpOw0KPiArDQo+ICAgICAgICAgICAgICAgICAgaWYgKCEo
aWItPmZsYWdzICYgQU1ER1BVX0lCX0ZMQUdfQ0UpICYmIHZtaWQpDQo+IC0gICAgICAgICAgICAg
ICAgICAgICAgIGdmeF92OV8wX3JpbmdfZW1pdF9kZV9tZXRhKHJpbmcpOw0KPiArICAgICAgICAg
ICAgICAgICAgICAgICBnZnhfdjlfMF9yaW5nX2VtaXRfZGVfbWV0YShyaW5nLA0KPiArICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAoIWFtZGdwdV9zcmlvdl92ZihyaW5nLT5hZGV2KSAm
JiBmbGFncyAmIEFNREdQVV9JQl9QUkVFTVBURUQpID8NCj4gK3RydWUgOiBmYWxzZSk7DQo+ICAg
ICAgICAgIH0NCj4NCj4gICAgICAgICAgYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgaGVhZGVyKTsg
QEAgLTU1MDUsNiArNTUxMCw3IEBAIHN0YXRpYw0KPiB2b2lkIGdmeF92OV8wX3JpbmdfZW1pdF9m
ZW5jZShzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsIHU2NCBhZGRyLA0KPiAgICAgICAgICBib29s
IHdyaXRlNjRiaXQgPSBmbGFncyAmIEFNREdQVV9GRU5DRV9GTEFHXzY0QklUOw0KPiAgICAgICAg
ICBib29sIGludF9zZWwgPSBmbGFncyAmIEFNREdQVV9GRU5DRV9GTEFHX0lOVDsNCj4gICAgICAg
ICAgYm9vbCB3cml0ZWJhY2sgPSBmbGFncyAmIEFNREdQVV9GRU5DRV9GTEFHX1RDX1dCX09OTFk7
DQo+ICsgICAgICAgYm9vbCBleGVjID0gZmxhZ3MgJiBBTURHUFVfRkVOQ0VfRkxBR19FWEVDOw0K
Pg0KPiAgICAgICAgICAvKiBSRUxFQVNFX01FTSAtIGZsdXNoIGNhY2hlcywgc2VuZCBpbnQgKi8N
Cj4gICAgICAgICAgYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgUEFDS0VUMyhQQUNLRVQzX1JFTEVB
U0VfTUVNLCA2KSk7IEBAIC01NTE1LDYgKzU1MjEsNyBAQCBzdGF0aWMgdm9pZCBnZnhfdjlfMF9y
aW5nX2VtaXRfZmVuY2Uoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLCB1NjQgYWRkciwNCj4gICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRU9QX1RDX1dCX0FD
VElPTl9FTiB8DQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIEVPUF9UQ19NRF9BQ1RJT05fRU4pKSB8DQo+DQo+IEVWRU5UX1RZUEUoQ0FDSEVfRkxVU0hf
QU5EX0lOVl9UU19FVkVOVCkgfA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAo
ZXhlYyA/IEVPUF9FWEVDIDogMHgwKSB8DQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBFVkVOVF9JTkRFWCg1KSkpOw0KPiAgICAgICAgICBhbWRncHVfcmluZ193cml0ZShyaW5n
LCBEQVRBX1NFTCh3cml0ZTY0Yml0ID8gMiA6IDEpIHwNCj4gSU5UX1NFTChpbnRfc2VsID8gMiA6
IDApKTsNCj4NCj4gQEAgLTU2MjAsMzMgKzU2MjcsMTM1IEBAIHN0YXRpYyB2b2lkIGdmeF92OV9y
aW5nX2VtaXRfc2Ioc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nKQ0KPiAgICAgICAgICBhbWRncHVf
cmluZ193cml0ZShyaW5nLCAwKTsNCj4gICB9DQo+DQo+IC1zdGF0aWMgdm9pZCBnZnhfdjlfMF9y
aW5nX2VtaXRfY2VfbWV0YShzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcpDQo+ICtzdGF0aWMgdm9p
ZCBnZnhfdjlfMF9yaW5nX2VtaXRfY2VfbWV0YShzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsIGJv
b2wNCj4gK3Jlc3VtZSkNCj4gICB7DQo+ICsgICAgICAgc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFk
ZXYgPSByaW5nLT5hZGV2Ow0KPiAgICAgICAgICBzdHJ1Y3QgdjlfY2VfaWJfc3RhdGUgY2VfcGF5
bG9hZCA9IHswfTsNCj4gLSAgICAgICB1aW50NjRfdCBjc2FfYWRkcjsNCj4gKyAgICAgICB1aW50
NjRfdCBvZmZzZXQsIGNlX3BheWxvYWRfZ3B1X2FkZHI7DQo+ICsgICAgICAgdm9pZCAqY2VfcGF5
bG9hZF9jcHVfYWRkcjsNCj4gICAgICAgICAgaW50IGNudDsNCj4NCj4gICAgICAgICAgY250ID0g
KHNpemVvZihjZV9wYXlsb2FkKSA+PiAyKSArIDQgLSAyOw0KPiAtICAgICAgIGNzYV9hZGRyID0g
YW1kZ3B1X2NzYV92YWRkcihyaW5nLT5hZGV2KTsNCj4gKw0KPiArICAgICAgIGlmIChyaW5nLT5p
c19tZXNfcXVldWUpIHsNCj4gKyAgICAgICAgICAgICAgIG9mZnNldCA9IG9mZnNldG9mKHN0cnVj
dCBhbWRncHVfbWVzX2N0eF9tZXRhX2RhdGEsDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBnZnhbMF0uZ2Z4X21ldGFfZGF0YSkgKw0KPiArICAgICAgICAgICAgICAgICAgICAg
ICBvZmZzZXRvZihzdHJ1Y3QgdjlfZ2Z4X21ldGFfZGF0YSwgY2VfcGF5bG9hZCk7DQo+ICsgICAg
ICAgICAgICAgICBjZV9wYXlsb2FkX2dwdV9hZGRyID0NCj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgYW1kZ3B1X21lc19jdHhfZ2V0X29mZnNfZ3B1X2FkZHIocmluZywgb2Zmc2V0KTsNCj4gKyAg
ICAgICAgICAgICAgIGNlX3BheWxvYWRfY3B1X2FkZHIgPQ0KPiArICAgICAgICAgICAgICAgICAg
ICAgICBhbWRncHVfbWVzX2N0eF9nZXRfb2Zmc19jcHVfYWRkcihyaW5nLCBvZmZzZXQpOw0KPiAr
ICAgICAgIH0gZWxzZSB7DQo+ICsgICAgICAgICAgICAgICBvZmZzZXQgPSBvZmZzZXRvZihzdHJ1
Y3QgdjlfZ2Z4X21ldGFfZGF0YSwgY2VfcGF5bG9hZCk7DQo+ICsgICAgICAgICAgICAgICBjZV9w
YXlsb2FkX2dwdV9hZGRyID0gYW1kZ3B1X2NzYV92YWRkcihyaW5nLT5hZGV2KSArIG9mZnNldDsN
Cj4gKyAgICAgICAgICAgICAgIGNlX3BheWxvYWRfY3B1X2FkZHIgPSBhZGV2LT52aXJ0LmNzYV9j
cHVfYWRkciArIG9mZnNldDsNCj4gKyAgICAgICB9DQo+DQo+ICAgICAgICAgIGFtZGdwdV9yaW5n
X3dyaXRlKHJpbmcsIFBBQ0tFVDMoUEFDS0VUM19XUklURV9EQVRBLCBjbnQpKTsNCj4gICAgICAg
ICAgYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgKFdSSVRFX0RBVEFfRU5HSU5FX1NFTCgyKSB8DQo+
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXUklURV9EQVRBX0RTVF9TRUwoOCkg
fA0KPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV1JfQ09ORklSTSkgfA0KPiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV1JJVEVfREFUQV9DQUNIRV9QT0xJQ1ko
MCkpOw0KPiAtICAgICAgIGFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIGxvd2VyXzMyX2JpdHMoY3Nh
X2FkZHIgKyBvZmZzZXRvZihzdHJ1Y3QgdjlfZ2Z4X21ldGFfZGF0YSwgY2VfcGF5bG9hZCkpKTsN
Cj4gLSAgICAgICBhbWRncHVfcmluZ193cml0ZShyaW5nLCB1cHBlcl8zMl9iaXRzKGNzYV9hZGRy
ICsgb2Zmc2V0b2Yoc3RydWN0IHY5X2dmeF9tZXRhX2RhdGEsIGNlX3BheWxvYWQpKSk7DQo+IC0g
ICAgICAgYW1kZ3B1X3Jpbmdfd3JpdGVfbXVsdGlwbGUocmluZywgKHZvaWQgKikmY2VfcGF5bG9h
ZCwgc2l6ZW9mKGNlX3BheWxvYWQpID4+IDIpOw0KPiArICAgICAgIGFtZGdwdV9yaW5nX3dyaXRl
KHJpbmcsIGxvd2VyXzMyX2JpdHMoY2VfcGF5bG9hZF9ncHVfYWRkcikpOw0KPiArICAgICAgIGFt
ZGdwdV9yaW5nX3dyaXRlKHJpbmcsIHVwcGVyXzMyX2JpdHMoY2VfcGF5bG9hZF9ncHVfYWRkcikp
Ow0KPiArDQo+ICsgICAgICAgaWYgKHJlc3VtZSkNCj4gKyAgICAgICAgICAgICAgIGFtZGdwdV9y
aW5nX3dyaXRlX211bHRpcGxlKHJpbmcsIGNlX3BheWxvYWRfY3B1X2FkZHIsDQo+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplb2YoY2VfcGF5bG9hZCkgPj4g
Mik7DQo+ICsgICAgICAgZWxzZQ0KPiArICAgICAgICAgICAgICAgYW1kZ3B1X3Jpbmdfd3JpdGVf
bXVsdGlwbGUocmluZywgKHZvaWQgKikmY2VfcGF5bG9hZCwNCj4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHNpemVvZihjZV9wYXlsb2FkKSA+PiAyKTsgfQ0KPiAr
DQo+ICtzdGF0aWMgaW50IGdmeF92OV8wX3JpbmdfcHJlZW1wdF9pYihzdHJ1Y3QgYW1kZ3B1X3Jp
bmcgKnJpbmcpIHsNCj4gKyAgICAgICBpbnQgaSwgciA9IDA7DQo+ICsgICAgICAgc3RydWN0IGFt
ZGdwdV9kZXZpY2UgKmFkZXYgPSByaW5nLT5hZGV2Ow0KPiArICAgICAgIHN0cnVjdCBhbWRncHVf
a2lxICpraXEgPSAmYWRldi0+Z2Z4LmtpcTsNCj4gKyAgICAgICBzdHJ1Y3QgYW1kZ3B1X3Jpbmcg
KmtpcV9yaW5nID0gJmtpcS0+cmluZzsNCj4gKyAgICAgICB1bnNpZ25lZCBsb25nIGZsYWdzOw0K
PiArDQo+ICsgICAgICAgaWYgKCFraXEtPnBtZiB8fCAha2lxLT5wbWYtPmtpcV91bm1hcF9xdWV1
ZXMpDQo+ICsgICAgICAgICAgICAgICByZXR1cm4gLUVJTlZBTDsNCj4gKw0KPiArICAgICAgIHNw
aW5fbG9ja19pcnFzYXZlKCZraXEtPnJpbmdfbG9jaywgZmxhZ3MpOw0KPiArDQo+ICsgICAgICAg
aWYgKGFtZGdwdV9yaW5nX2FsbG9jKGtpcV9yaW5nLCBraXEtPnBtZi0+dW5tYXBfcXVldWVzX3Np
emUpKSB7DQo+ICsgICAgICAgICAgICAgICBzcGluX3VubG9ja19pcnFyZXN0b3JlKCZraXEtPnJp
bmdfbG9jaywgZmxhZ3MpOw0KPiArICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07DQo+ICsg
ICAgICAgfQ0KPiArDQo+ICsgICAgICAgLyogYXNzZXJ0IHByZWVtcHRpb24gY29uZGl0aW9uICov
DQo+ICsgICAgICAgYW1kZ3B1X3Jpbmdfc2V0X3ByZWVtcHRfY29uZF9leGVjKHJpbmcsIGZhbHNl
KTsNCj4gKw0KPiArICAgICAgIHJpbmctPnRyYWlsX3NlcSArPSAxOw0KPiArICAgICAgIGFtZGdw
dV9yaW5nX2FsbG9jKHJpbmcsIDEzKTsNCj4gKyAgICAgICBnZnhfdjlfMF9yaW5nX2VtaXRfZmVu
Y2UocmluZywgcmluZy0+dHJhaWxfZmVuY2VfZ3B1X2FkZHIsDQo+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICByaW5nLT50cmFpbF9zZXEsIEFNREdQVV9GRU5DRV9GTEFHX0VYRUMp
Ow0KPiArICAgICAgIC8qcmVzZXQgdGhlIENQX1ZNSURfUFJFRU1QVCBhZnRlciB0cmFpbGluZyBm
ZW5jZSovDQo+ICsgICAgICAgYW1kZ3B1X3JpbmdfZW1pdF93cmVnKHJpbmcsDQo+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBTT0MxNV9SRUdfT0ZGU0VUKEdDLCAwLCBtbUNQX1ZN
SURfUFJFRU1QVCksDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAweDApOw0K
PiArDQo+ICsgICAgICAgLyogYXNzZXJ0IElCIHByZWVtcHRpb24sIGVtaXQgdGhlIHRyYWlsaW5n
IGZlbmNlICovDQo+ICsgICAgICAga2lxLT5wbWYtPmtpcV91bm1hcF9xdWV1ZXMoa2lxX3Jpbmcs
IHJpbmcsIFBSRUVNUFRfUVVFVUVTX05PX1VOTUFQLA0KPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHJpbmctPnRyYWlsX2ZlbmNlX2dwdV9hZGRyLA0KPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHJpbmctPnRyYWlsX3NlcSk7DQo+ICsNCj4gKyAgICAgICBh
bWRncHVfcmluZ19jb21taXQoa2lxX3JpbmcpOw0KPiArICAgICAgIHNwaW5fdW5sb2NrX2lycXJl
c3RvcmUoJmtpcS0+cmluZ19sb2NrLCBmbGFncyk7DQo+ICsNCj4gKyAgICAgICAvKiBwb2xsIHRo
ZSB0cmFpbGluZyBmZW5jZSAqLw0KPiArICAgICAgIGZvciAoaSA9IDA7IGkgPCBhZGV2LT51c2Vj
X3RpbWVvdXQ7IGkrKykgew0KPiArICAgICAgICAgICAgICAgaWYgKHJpbmctPnRyYWlsX3NlcSA9
PQ0KPiArICAgICAgICAgICAgICAgICAgIGxlMzJfdG9fY3B1KCoocmluZy0+dHJhaWxfZmVuY2Vf
Y3B1X2FkZHIpKSkNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQo+ICsgICAgICAg
ICAgICAgICB1ZGVsYXkoMSk7DQo+ICsgICAgICAgfQ0KPiArDQo+ICsgICAgICAgaWYgKGkgPj0g
YWRldi0+dXNlY190aW1lb3V0KSB7DQo+ICsgICAgICAgICAgICAgICByID0gLUVJTlZBTDsNCj4g
KyAgICAgICAgICAgICAgIERSTV9FUlJPUigicmluZyAlZCBmYWlsZWQgdG8gcHJlZW1wdCBpYlxu
IiwgcmluZy0+aWR4KTsNCj4gKyAgICAgICB9DQo+ICsNCj4gKyAgICAgICBhbWRncHVfcmluZ19j
b21taXQocmluZyk7DQo+ICsNCj4gKyAgICAgICAvKiBkZWFzc2VydCBwcmVlbXB0aW9uIGNvbmRp
dGlvbiAqLw0KPiArICAgICAgIGFtZGdwdV9yaW5nX3NldF9wcmVlbXB0X2NvbmRfZXhlYyhyaW5n
LCB0cnVlKTsNCj4gKyAgICAgICByZXR1cm4gcjsNCj4gICB9DQo+DQo+IC1zdGF0aWMgdm9pZCBn
ZnhfdjlfMF9yaW5nX2VtaXRfZGVfbWV0YShzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcpDQo+ICtz
dGF0aWMgdm9pZCBnZnhfdjlfMF9yaW5nX2VtaXRfZGVfbWV0YShzdHJ1Y3QgYW1kZ3B1X3Jpbmcg
KnJpbmcsIGJvb2wNCj4gK3Jlc3VtZSkNCj4gICB7DQo+ICsgICAgICAgc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYgPSByaW5nLT5hZGV2Ow0KPiAgICAgICAgICBzdHJ1Y3QgdjlfZGVfaWJfc3Rh
dGUgZGVfcGF5bG9hZCA9IHswfTsNCj4gLSAgICAgICB1aW50NjRfdCBjc2FfYWRkciwgZ2RzX2Fk
ZHI7DQo+ICsgICAgICAgdWludDY0X3Qgb2Zmc2V0LCBnZHNfYWRkciwgZGVfcGF5bG9hZF9ncHVf
YWRkcjsNCj4gKyAgICAgICB2b2lkICpkZV9wYXlsb2FkX2NwdV9hZGRyOw0KPiAgICAgICAgICBp
bnQgY250Ow0KPg0KPiAtICAgICAgIGNzYV9hZGRyID0gYW1kZ3B1X2NzYV92YWRkcihyaW5nLT5h
ZGV2KTsNCj4gLSAgICAgICBnZHNfYWRkciA9IGNzYV9hZGRyICsgNDA5NjsNCj4gKyAgICAgICBp
ZiAocmluZy0+aXNfbWVzX3F1ZXVlKSB7DQo+ICsgICAgICAgICAgICAgICBvZmZzZXQgPSBvZmZz
ZXRvZihzdHJ1Y3QgYW1kZ3B1X21lc19jdHhfbWV0YV9kYXRhLA0KPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgZ2Z4WzBdLmdmeF9tZXRhX2RhdGEpICsNCj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgb2Zmc2V0b2Yoc3RydWN0IHY5X2dmeF9tZXRhX2RhdGEsIGRlX3BheWxvYWQp
Ow0KPiArICAgICAgICAgICAgICAgZGVfcGF5bG9hZF9ncHVfYWRkciA9DQo+ICsgICAgICAgICAg
ICAgICAgICAgICAgIGFtZGdwdV9tZXNfY3R4X2dldF9vZmZzX2dwdV9hZGRyKHJpbmcsIG9mZnNl
dCk7DQo+ICsgICAgICAgICAgICAgICBkZV9wYXlsb2FkX2NwdV9hZGRyID0NCj4gKyAgICAgICAg
ICAgICAgICAgICAgICAgYW1kZ3B1X21lc19jdHhfZ2V0X29mZnNfY3B1X2FkZHIocmluZywNCj4g
KyBvZmZzZXQpOw0KPiArDQo+ICsgICAgICAgICAgICAgICBvZmZzZXQgPSBvZmZzZXRvZihzdHJ1
Y3QgYW1kZ3B1X21lc19jdHhfbWV0YV9kYXRhLA0KPiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgZ2Z4WzBdLmdkc19iYWNrdXApICsNCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
b2Zmc2V0b2Yoc3RydWN0IHY5X2dmeF9tZXRhX2RhdGEsIGRlX3BheWxvYWQpOw0KPiArICAgICAg
ICAgICAgICAgZ2RzX2FkZHIgPSBhbWRncHVfbWVzX2N0eF9nZXRfb2Zmc19ncHVfYWRkcihyaW5n
LCBvZmZzZXQpOw0KPiArICAgICAgIH0gZWxzZSB7DQo+ICsgICAgICAgICAgICAgICBvZmZzZXQg
PSBvZmZzZXRvZihzdHJ1Y3QgdjlfZ2Z4X21ldGFfZGF0YSwgZGVfcGF5bG9hZCk7DQo+ICsgICAg
ICAgICAgICAgICBkZV9wYXlsb2FkX2dwdV9hZGRyID0gYW1kZ3B1X2NzYV92YWRkcihyaW5nLT5h
ZGV2KSArIG9mZnNldDsNCj4gKyAgICAgICAgICAgICAgIGRlX3BheWxvYWRfY3B1X2FkZHIgPSBh
ZGV2LT52aXJ0LmNzYV9jcHVfYWRkciArDQo+ICsgb2Zmc2V0Ow0KPiArDQo+ICsgICAgICAgICAg
ICAgICBnZHNfYWRkciA9IEFMSUdOKGFtZGdwdV9jc2FfdmFkZHIocmluZy0+YWRldikgKw0KPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBTURHUFVfQ1NBX1NJWkUgLSBhZGV2LT5n
ZHMuZ2RzX3NpemUsDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBBR0VfU0la
RSk7DQo+ICsgICAgICAgfQ0KPiArDQo+ICAgICAgICAgIGRlX3BheWxvYWQuZ2RzX2JhY2t1cF9h
ZGRybG8gPSBsb3dlcl8zMl9iaXRzKGdkc19hZGRyKTsNCj4gICAgICAgICAgZGVfcGF5bG9hZC5n
ZHNfYmFja3VwX2FkZHJoaSA9IHVwcGVyXzMyX2JpdHMoZ2RzX2FkZHIpOw0KPg0KPiBAQCAtNTY1
Niw5ICs1NzY1LDE1IEBAIHN0YXRpYyB2b2lkIGdmeF92OV8wX3JpbmdfZW1pdF9kZV9tZXRhKHN0
cnVjdCBhbWRncHVfcmluZyAqcmluZykNCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIFdSSVRFX0RBVEFfRFNUX1NFTCg4KSB8DQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBXUl9DT05GSVJNKSB8DQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBXUklURV9EQVRBX0NBQ0hFX1BPTElDWSgwKSk7DQo+IC0gICAgICAgYW1kZ3B1X3Jpbmdfd3Jp
dGUocmluZywgbG93ZXJfMzJfYml0cyhjc2FfYWRkciArIG9mZnNldG9mKHN0cnVjdCB2OV9nZnhf
bWV0YV9kYXRhLCBkZV9wYXlsb2FkKSkpOw0KPiAtICAgICAgIGFtZGdwdV9yaW5nX3dyaXRlKHJp
bmcsIHVwcGVyXzMyX2JpdHMoY3NhX2FkZHIgKyBvZmZzZXRvZihzdHJ1Y3QgdjlfZ2Z4X21ldGFf
ZGF0YSwgZGVfcGF5bG9hZCkpKTsNCj4gLSAgICAgICBhbWRncHVfcmluZ193cml0ZV9tdWx0aXBs
ZShyaW5nLCAodm9pZCAqKSZkZV9wYXlsb2FkLCBzaXplb2YoZGVfcGF5bG9hZCkgPj4gMik7DQo+
ICsgICAgICAgYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgbG93ZXJfMzJfYml0cyhkZV9wYXlsb2Fk
X2dwdV9hZGRyKSk7DQo+ICsgICAgICAgYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgdXBwZXJfMzJf
Yml0cyhkZV9wYXlsb2FkX2dwdV9hZGRyKSk7DQo+ICsNCj4gKyAgICAgICBpZiAocmVzdW1lKQ0K
PiArICAgICAgICAgICAgICAgYW1kZ3B1X3Jpbmdfd3JpdGVfbXVsdGlwbGUocmluZywgZGVfcGF5
bG9hZF9jcHVfYWRkciwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHNpemVvZihkZV9wYXlsb2FkKSA+PiAyKTsNCj4gKyAgICAgICBlbHNlDQo+ICsgICAgICAg
ICAgICAgICBhbWRncHVfcmluZ193cml0ZV9tdWx0aXBsZShyaW5nLCAodm9pZCAqKSZkZV9wYXls
b2FkLA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZW9m
KGRlX3BheWxvYWQpID4+IDIpOw0KPiAgIH0NCj4NCj4gICBzdGF0aWMgdm9pZCBnZnhfdjlfMF9y
aW5nX2VtaXRfZnJhbWVfY250bChzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsIGJvb2wgc3RhcnQs
IEBAIC01Njc0LDggKzU3ODksOSBAQCBzdGF0aWMgdm9pZCBnZnhfdjlfcmluZ19lbWl0X2NudHhj
bnRsKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywgdWludDMyX3QgZmxhZ3MpICB7DQo+ICAgICAg
ICAgIHVpbnQzMl90IGR3MiA9IDA7DQo+DQo+IC0gICAgICAgaWYgKGFtZGdwdV9zcmlvdl92Zihy
aW5nLT5hZGV2KSkNCj4gLSAgICAgICAgICAgICAgIGdmeF92OV8wX3JpbmdfZW1pdF9jZV9tZXRh
KHJpbmcpOw0KPiArICAgICAgIGlmIChhbWRncHVfc3Jpb3ZfdmYocmluZy0+YWRldikgfHwgYW1k
Z3B1X21jYnApDQo+ICsgICAgICAgICAgICAgICBnZnhfdjlfMF9yaW5nX2VtaXRfY2VfbWV0YShy
aW5nLA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIWFtZGdwdV9zcmlv
dl92ZihyaW5nLT5hZGV2KSAmJiBmbGFncyAmIEFNREdQVV9JQl9QUkVFTVBURUQpID8NCj4gK3Ry
dWUgOiBmYWxzZSk7DQo+DQo+ICAgICAgICAgIGR3MiB8PSAweDgwMDAwMDAwOyAvKiBzZXQgbG9h
ZF9lbmFibGUgb3RoZXJ3aXNlIHRoaXMgcGFja2FnZSBpcyBqdXN0IE5PUHMgKi8NCj4gICAgICAg
ICAgaWYgKGZsYWdzICYgQU1ER1BVX0hBVkVfQ1RYX1NXSVRDSCkgeyBAQCAtNzAyNCw2ICs3MTQw
LDcgQEANCj4gc3RhdGljIGNvbnN0IHN0cnVjdCBhbWRncHVfcmluZ19mdW5jcyBnZnhfdjlfMF9y
aW5nX2Z1bmNzX2dmeCA9IHsNCj4gICAgICAgICAgLmVtaXRfY250eGNudGwgPSBnZnhfdjlfcmlu
Z19lbWl0X2NudHhjbnRsLA0KPiAgICAgICAgICAuaW5pdF9jb25kX2V4ZWMgPSBnZnhfdjlfMF9y
aW5nX2VtaXRfaW5pdF9jb25kX2V4ZWMsDQo+ICAgICAgICAgIC5wYXRjaF9jb25kX2V4ZWMgPSBn
ZnhfdjlfMF9yaW5nX2VtaXRfcGF0Y2hfY29uZF9leGVjLA0KPiArICAgICAgIC5wcmVlbXB0X2li
ID0gZ2Z4X3Y5XzBfcmluZ19wcmVlbXB0X2liLA0KPiAgICAgICAgICAuZW1pdF9mcmFtZV9jbnRs
ID0gZ2Z4X3Y5XzBfcmluZ19lbWl0X2ZyYW1lX2NudGwsDQo+ICAgICAgICAgIC5lbWl0X3dyZWcg
PSBnZnhfdjlfMF9yaW5nX2VtaXRfd3JlZywNCj4gICAgICAgICAgLmVtaXRfcmVnX3dhaXQgPSBn
ZnhfdjlfMF9yaW5nX2VtaXRfcmVnX3dhaXQsIGRpZmYgLS1naXQNCj4gYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9zb2MxNWQuaA0KPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3Nv
YzE1ZC5oDQo+IGluZGV4IDc5OTkyNWQyMmZjOC4uNjE0ZTlmODQ2N2ZiIDEwMDY0NA0KPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zb2MxNWQuaA0KPiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9zb2MxNWQuaA0KPiBAQCAtMTYyLDYgKzE2Miw3IEBADQo+ICAgICAg
ICAgICAgICAgICAgICogMiAtIEJ5cGFzcw0KPiAgICAgICAgICAgICAgICAgICAqLw0KPiAgICNk
ZWZpbmUgICAgIElORElSRUNUX0JVRkZFUl9QUkVfRU5CKHgpICAgICAgICAgICgoeCkgPDwgMjEp
DQo+ICsjZGVmaW5lICAgICBJTkRJUkVDVF9CVUZGRVJfUFJFX1JFU1VNRSh4KSAgICAgICAgICAg
KCh4KSA8PCAzMCkNCj4gICAjZGVmaW5lICAgICAgICBQQUNLRVQzX0NPUFlfREFUQSAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAweDQwDQo+ICAgI2RlZmluZSAgICAgICAgUEFDS0VUM19Q
RlBfU1lOQ19NRSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMHg0Mg0KPiAgICNkZWZpbmUg
ICAgICAgIFBBQ0tFVDNfQ09ORF9XUklURSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDB4
NDUNCj4gQEAgLTE4NCw2ICsxODUsNyBAQA0KPiAgICNkZWZpbmUgICAgICAgICAgICAgICAgRU9Q
X1RDX0FDVElPTl9FTiAgICAgICAgICAgICAgICAgICAgICAgICgxIDw8IDE3KSAvKiBMMiAqLw0K
PiAgICNkZWZpbmUgICAgICAgICAgICAgICAgRU9QX1RDX05DX0FDVElPTl9FTiAgICAgICAgICAg
ICAgICAgICAgICgxIDw8IDE5KQ0KPiAgICNkZWZpbmUgICAgICAgICAgICAgICAgRU9QX1RDX01E
X0FDVElPTl9FTiAgICAgICAgICAgICAgICAgICAgICgxIDw8IDIxKSAvKiBMMiBtZXRhZGF0YSAq
Lw0KPiArI2RlZmluZSAgICAgICAgICAgICAgICBFT1BfRVhFQyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAoMSA8PCAyOCkgLyogRm9yIFRyYWlsaW5nIEZlbmNlICovDQo+
DQo+ICAgI2RlZmluZSAgICAgICAgICAgICAgICBEQVRBX1NFTCh4KSAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgKCh4KSA8PCAyOSkNCj4gICAgICAgICAgICAgICAgICAvKiAwIC0gZGlzY2Fy
ZA0KPiAtLQ0KPiAyLjI1LjENCj4NCg0K
