Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id E236A117298
	for <lists+amd-gfx@lfdr.de>; Mon,  9 Dec 2019 18:16:24 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 2B9956E4F8;
	Mon,  9 Dec 2019 17:16:23 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM11-DM6-obe.outbound.protection.outlook.com
 (mail-dm6nam11on2065.outbound.protection.outlook.com [40.107.223.65])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 33A7F6E4F8
 for <amd-gfx@lists.freedesktop.org>; Mon,  9 Dec 2019 17:16:21 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=DYeHUt4ywLJEYWSRo9EptKG8TxIJr1u7Rjf2PJXBNZi9HcoEzG7Mqp5cT1GqFnBuGwJshVF9NGAlEHS0Tp8hDfYS8qnpgcDtdCJQqdCl3a1XM6qcL8yASbDmLH6Y6GUDgLF9ngTsskQUwe+49qV8BmoL5UccbntTF/DGa4iI6ptUq5BXWpTRLQejFjTumsFLZa/spcT/YDyR9Dagq9DRPgCXQ68sbyTK/bjNE6UkYkJuCK2+1DX3bLCs49rWYuOBLo/+2mCCezOa5pL6lL71sAYWDpBEOV6ZeEbwXR3fdrgZRMYARTCvfI8UTwZdxvBV5+DRB1e3csoUdLJ9GIiVtw==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=Jv3IMBtliBLh7pR+3LuKI8rO2/N9i7u8n/9YUBDdWpI=;
 b=X6685uv7mmzbHTsBdNWA3jYmmdTlBTkK8nNSUWzFoVSGt29rEsO587/zp98iCMvRKPH1WpHCPKmrrHbLxhMK54zKjWpDnUQGoTdRmeDAQyBhHbpSQWCjelAlskD4cBSNW9HMahWUCc3P9swq8BUTfSKst3QOSEsgQTfJs3+LcQaZ06lbVxdPoQskA/6iurqkTQ2ySwJGqMxyHtc7eWnUKuxCuGmzpsGt4k5XCMryNwSktZOofqmlFJ+e7ZczRxL/qS7O39/IknJk1gyrbICSmkdAWP4MRrSmXsoKX2CiNYMIvxiNr00dlSNgJUdzgnodatEc10DM5nyKcAL6ccf+FQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from MN2PR12MB3039.namprd12.prod.outlook.com (20.178.242.91) by
 MN2PR12MB4013.namprd12.prod.outlook.com (10.255.236.155) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2516.14; Mon, 9 Dec 2019 17:16:19 +0000
Received: from MN2PR12MB3039.namprd12.prod.outlook.com
 ([fe80::1892:1a4f:de3b:2c12]) by MN2PR12MB3039.namprd12.prod.outlook.com
 ([fe80::1892:1a4f:de3b:2c12%7]) with mapi id 15.20.2516.018; Mon, 9 Dec 2019
 17:16:19 +0000
From: "Tao, Yintian" <Yintian.Tao@amd.com>
To: Alex Deucher <alexdeucher@gmail.com>
Subject: RE: [PATCH] drm/amd/powerplay: enable pp one vf mode for vega10
Thread-Topic: [PATCH] drm/amd/powerplay: enable pp one vf mode for vega10
Thread-Index: AQHVrnzuAMMEXYrPLEGey5WFdJWKbaeyBQ2AgAACxdA=
Date: Mon, 9 Dec 2019 17:16:18 +0000
Message-ID: <MN2PR12MB303945CC8228858346750B65E5580@MN2PR12MB3039.namprd12.prod.outlook.com>
References: <20191209103914.29503-1-yttao@amd.com>
 <CADnq5_OMV=Vv2dAMq1KOaQ4pQQUnNuGzcU0BDVi_8SnSDtw2jg@mail.gmail.com>
In-Reply-To: <CADnq5_OMV=Vv2dAMq1KOaQ4pQQUnNuGzcU0BDVi_8SnSDtw2jg@mail.gmail.com>
Accept-Language: zh-CN, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-ht: Tenant
x-ms-office365-filtering-correlation-id: 29b2f059-3ed4-4c62-4e8e-08d77ccb8194
x-ms-traffictypediagnostic: MN2PR12MB4013:|MN2PR12MB4013:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <MN2PR12MB4013E8430375E242934BECCDE5580@MN2PR12MB4013.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:5797;
x-forefront-prvs: 02462830BE
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(396003)(366004)(136003)(376002)(39860400002)(346002)(13464003)(189003)(199004)(9686003)(66476007)(966005)(45080400002)(33656002)(76116006)(478600001)(4326008)(55016002)(186003)(229853002)(6916009)(2906002)(86362001)(26005)(316002)(66946007)(53546011)(6506007)(81166006)(81156014)(8676002)(7696005)(54906003)(305945005)(8936002)(66446008)(52536014)(5660300002)(64756008)(66556008)(30864003)(71190400001)(71200400001)(569006);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MN2PR12MB4013;
 H:MN2PR12MB3039.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: AoJ7I1Tfgy9FQVSYkFJLblzzjdL0ZTkzZNrpYarR5bQLrZhia+LJfRSlHmNyAvE/HbgnJEP0cbIjyBB/KYeYU+48Ry3FY6mH/XINviiSV/u4wG++1B+ZxeAFSG3v+346LPcHIxlugZGc0oXsTeVK/JE07UMra2x5TunfALS5HQXFL5yiNss7ctM0d99yvE5Q2P1yEl62SRl8wZHnisl9pxgCX6SVApdnbXRwm8uvumuQPlPInrKIF4uGg1PTJckbvM4C6OHfcDloLtGGm2LauSwODJPK+zrCmJFzOl23tut7sunCrGR2vpia//wq6UrsCIApaPmnMsUJS4QrNv/pUfJecjl4AEYoQZPVt63HjATFpz5uzAnR2f/uVxH63OkmdJeRaKNuh0+MimLOKUxVkV6GsNnKoodIqM2mL/xLcRQuru51gms03pSQMcgZjPbtmh1ldVQ6cvlbHI7nK1livbSjnZHt9bhadp3iTp+hjEE31JXCDIlbQI6H1sKLf/cojIe+DTpBSSWwpD/TM8M9/WcoQCCo92hJA/ks5BjWdeo=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 29b2f059-3ed4-4c62-4e8e-08d77ccb8194
X-MS-Exchange-CrossTenant-originalarrivaltime: 09 Dec 2019 17:16:18.8631 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: fXYcCII5HhMFJ7ue4+LjQ+47Fb77DinF6yGom1ZHx2VPvHosNax3wMNd2ldXRfNv
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB4013
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=Jv3IMBtliBLh7pR+3LuKI8rO2/N9i7u8n/9YUBDdWpI=;
 b=sff/6TaTZyf/E6Ic4QL5R0vsX5/A7/ryXt3OFJVYhXtPftZVeA1pRlSIVw73Mo4o6PIxDLqCsKtdtxjHv6A4g3Pk3xMVew1uzL4GCTul6q9ro/2HKCVi4SeaH0VFGBb5oPpdDdG/cys+rhHmIF7S2AjVYWCL/QrVdnaZAyeAFeE=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Yintian.Tao@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Deucher, Alexander" <Alexander.Deucher@amd.com>, "Feng,
 Kenneth" <Kenneth.Feng@amd.com>, amd-gfx list <amd-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

SGkgIEFsZXgNCg0KTWFueSB0aGFua3MgZm9yIHlvdXIgcmV2aWV3LiBQbGVhc2Ugc2VlIGlubGlu
ZSBjb21tZW50cy4gSSB3aWxsIHN1Ym1pdCB0aGUgdjMgcGF0Y2ggYWNjb3JkaW5nIHRvIHlvdXIg
Y29tbWVudC4gVGhhbmtzIGFnYWluLg0KDQpCZXN0IFJlZ2FyZHMNCllpbnRpYW4gVGFvDQoNCi0t
LS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQpGcm9tOiBBbGV4IERldWNoZXIgPGFsZXhkZXVjaGVy
QGdtYWlsLmNvbT4gDQpTZW50OiAyMDE55bm0MTLmnIgxMOaXpSAwOjUyDQpUbzogVGFvLCBZaW50
aWFuIDxZaW50aWFuLlRhb0BhbWQuY29tPg0KQ2M6IERldWNoZXIsIEFsZXhhbmRlciA8QWxleGFu
ZGVyLkRldWNoZXJAYW1kLmNvbT47IEZlbmcsIEtlbm5ldGggPEtlbm5ldGguRmVuZ0BhbWQuY29t
PjsgYW1kLWdmeCBsaXN0IDxhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZz4NClN1YmplY3Q6
IFJlOiBbUEFUQ0hdIGRybS9hbWQvcG93ZXJwbGF5OiBlbmFibGUgcHAgb25lIHZmIG1vZGUgZm9y
IHZlZ2ExMA0KDQpPbiBNb24sIERlYyA5LCAyMDE5IGF0IDU6MzkgQU0gWWludGlhbiBUYW8gPHl0
dGFvQGFtZC5jb20+IHdyb3RlOg0KPg0KPiBPcmlnaW5hbGx5LCBkdWUgdG8gdGhlIHJlc3RyaWN0
aW9uIGZyb20gUFNQIGFuZCBTTVUsIFZGIGhhcw0KPiB0byBzZW5kIG1lc3NhZ2UgdG8gaHlwZXJ2
aXNvciBkcml2ZXIgdG8gaGFuZGxlIHBvd2VycGxheQ0KPiBjaGFuZ2Ugd2hpY2ggaXMgY29tcGxp
Y2F0ZWQgYW5kIHJlZHVuZGFudC4gQ3VycmVudGx5LCBTTVUNCj4gYW5kIFBTUCBjYW4gc3VwcG9y
dCBWRiB0byBkaXJlY3RseSBoYW5kbGUgcG93ZXJwbGF5DQo+IGNoYW5nZSBieSBpdHNlbGYuIFRo
ZXJlZm9yZSwgdGhlIG9sZCBjb2RlIGFib3V0IHRoZSBoYW5kc2hha2UNCj4gYmV0d2VlbiBWRiBh
bmQgUEYgdG8gaGFuZGxlIHBvd2VycGxheSB3aWxsIGJlIHJlbW92ZWQgYW5kIFZGDQo+IHdpbGwg
dXNlIG5ldyB0aGUgcmVnaXN0ZXJzIGJlbG93IHRvIGhhbmRzaGFrZSB3aXRoIFNNVS4NCj4gbW1N
UDFfU01OX0MyUE1TR18xMDE6IHJlZ2lzdGVyIHRvIGhhbmRsZSBTTVUgbWVzc2FnZQ0KPiBtbU1Q
MV9TTU5fQzJQTVNHXzEwMjogcmVnaXN0ZXIgdG8gaGFuZGxlIFNNVSBwYXJhbWV0ZXINCj4gbW1N
UDFfU01OX0MyUE1TR18xMDM6IHJlZ2lzdGVyIHRvIGhhbmRsZSBTTVUgcmVzcG9uc2UNCj4NCj4g
djI6IHJlbW92ZSBtb2R1bGUgcGFyYW1ldGVyIHBwX29uZV92Zg0KPg0KPiBTaWduZWQtb2ZmLWJ5
OiBZaW50aWFuIFRhbyA8eXR0YW9AYW1kLmNvbT4NCj4gLS0tDQo+ICBkcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMgICAgfCAgMTMgKy0NCj4gIGRyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV9rbXMuYyAgICAgICB8ICAgNCAtDQo+ICBkcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHVfcG0uYyAgICAgICAgfCAxMjEgKysrKysrKy0tLS0tLS0NCj4g
IGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92aXJ0LmMgICAgICB8ICA1MSAtLS0t
LS0NCj4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92aXJ0LmggICAgICB8ICAx
NCArLQ0KPiAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvbXhncHVfYWkuYyAgICAgICAgIHwg
IDc4IC0tLS0tLS0tLQ0KPiAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvbXhncHVfYWkuaCAg
ICAgICAgIHwgICA0IC0NCj4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NvYzE1LmMgICAg
ICAgICAgICB8ICAgOCArLQ0KPiAgZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvYW1kX3Bv
d2VycGxheS5jIHwgICA0ICstDQo+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9hbWRn
cHVfc211LmMgICAgfCAgMjQgKy0tDQo+ICAuLi4vZHJtL2FtZC9wb3dlcnBsYXkvaHdtZ3IvaGFy
ZHdhcmVtYW5hZ2VyLmMgfCAgMTUgKy0NCj4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5
L2h3bWdyL2h3bWdyLmMgICB8ICAgNyArDQo+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxh
eS9od21nci9wcF9wc20uYyAgfCAgMzAgKystLQ0KPiAgLi4uL2RybS9hbWQvcG93ZXJwbGF5L2h3
bWdyL3ZlZ2ExMF9od21nci5jICAgIHwgMTU3ICsrKysrKysrKysrKy0tLS0tLQ0KPiAgZHJpdmVy
cy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaW5jL2h3bWdyLmggICAgIHwgICAxICsNCj4gIC4uLi9k
cm0vYW1kL3Bvd2VycGxheS9zbXVtZ3Ivc211OV9zbXVtZ3IuYyAgICB8ICA1NSArKysrLS0NCj4g
IC4uLi9kcm0vYW1kL3Bvd2VycGxheS9zbXVtZ3IvdmVnYTEwX3NtdW1nci5jICB8ICAgNiArDQo+
ICAxNyBmaWxlcyBjaGFuZ2VkLCAyODAgaW5zZXJ0aW9ucygrKSwgMzEyIGRlbGV0aW9ucygtKQ0K
Pg0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2Rldmlj
ZS5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RldmljZS5jDQo+IGluZGV4
IGI5Y2E3ZTcyOGQzZS4uMzBlYjQyNTkzYTIwIDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1X2RldmljZS5jDQo+IEBAIC0xODgwLDYgKzE4ODAsOSBAQCBzdGF0aWMg
aW50IGFtZGdwdV9kZXZpY2VfaXBfaW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCj4g
ICAgICAgICAgICAgICAgIH0NCj4gICAgICAgICB9DQo+DQo+ICsgICAgICAgaWYgKGFtZGdwdV9z
cmlvdl92ZihhZGV2KSkNCj4gKyAgICAgICAgICAgICAgIGFtZGdwdV92aXJ0X2luaXRfZGF0YV9l
eGNoYW5nZShhZGV2KTsNCj4gKw0KPiAgICAgICAgIHIgPSBhbWRncHVfaWJfcG9vbF9pbml0KGFk
ZXYpOw0KPiAgICAgICAgIGlmIChyKSB7DQo+ICAgICAgICAgICAgICAgICBkZXZfZXJyKGFkZXYt
PmRldiwgIklCIGluaXRpYWxpemF0aW9uIGZhaWxlZCAoJWQpLlxuIiwgcik7DQo+IEBAIC0xOTIy
LDggKzE5MjUsNiBAQCBzdGF0aWMgaW50IGFtZGdwdV9kZXZpY2VfaXBfaW5pdChzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldikNCj4NCj4gIGluaXRfZmFpbGVkOg0KPiAgICAgICAgIGlmIChhbWRn
cHVfc3Jpb3ZfdmYoYWRldikpIHsNCj4gLSAgICAgICAgICAgICAgIGlmICghcikNCj4gLSAgICAg
ICAgICAgICAgICAgICAgICAgYW1kZ3B1X3ZpcnRfaW5pdF9kYXRhX2V4Y2hhbmdlKGFkZXYpOw0K
PiAgICAgICAgICAgICAgICAgYW1kZ3B1X3ZpcnRfcmVsZWFzZV9mdWxsX2dwdShhZGV2LCB0cnVl
KTsNCj4gICAgICAgICB9DQo+DQo+IEBAIC0yODE5LDcgKzI4MjAsNiBAQCBpbnQgYW1kZ3B1X2Rl
dmljZV9pbml0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KPiAgICAgICAgIG11dGV4X2lu
aXQoJmFkZXYtPnZpcnQudmZfZXJyb3JzLmxvY2spOw0KPiAgICAgICAgIGhhc2hfaW5pdChhZGV2
LT5tbl9oYXNoKTsNCj4gICAgICAgICBtdXRleF9pbml0KCZhZGV2LT5sb2NrX3Jlc2V0KTsNCj4g
LSAgICAgICBtdXRleF9pbml0KCZhZGV2LT52aXJ0LmRwbV9tdXRleCk7DQo+ICAgICAgICAgbXV0
ZXhfaW5pdCgmYWRldi0+cHNwLm11dGV4KTsNCj4NCj4gICAgICAgICByID0gYW1kZ3B1X2Rldmlj
ZV9jaGVja19hcmd1bWVudHMoYWRldik7DQo+IEBAIC0zMDQwLDkgKzMwNDAsNiBAQCBpbnQgYW1k
Z3B1X2RldmljZV9pbml0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KPg0KPiAgICAgICAg
IGFtZGdwdV9mYmRldl9pbml0KGFkZXYpOw0KPg0KPiAtICAgICAgIGlmIChhbWRncHVfc3Jpb3Zf
dmYoYWRldikgJiYgYW1kZ2ltX2lzX2h3cGVyZihhZGV2KSkNCj4gLSAgICAgICAgICAgICAgIGFt
ZGdwdV9wbV92aXJ0X3N5c2ZzX2luaXQoYWRldik7DQo+IC0NCj4gICAgICAgICByID0gYW1kZ3B1
X3BtX3N5c2ZzX2luaXQoYWRldik7DQo+ICAgICAgICAgaWYgKHIpIHsNCj4gICAgICAgICAgICAg
ICAgIGFkZXYtPnBtX3N5c2ZzX2VuID0gZmFsc2U7DQo+IEBAIC0zMTg3LDggKzMxODQsNiBAQCB2
b2lkIGFtZGdwdV9kZXZpY2VfZmluaShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCj4gICAg
ICAgICBpb3VubWFwKGFkZXYtPnJtbWlvKTsNCj4gICAgICAgICBhZGV2LT5ybW1pbyA9IE5VTEw7
DQo+ICAgICAgICAgYW1kZ3B1X2RldmljZV9kb29yYmVsbF9maW5pKGFkZXYpOw0KPiAtICAgICAg
IGlmIChhbWRncHVfc3Jpb3ZfdmYoYWRldikgJiYgYW1kZ2ltX2lzX2h3cGVyZihhZGV2KSkNCj4g
LSAgICAgICAgICAgICAgIGFtZGdwdV9wbV92aXJ0X3N5c2ZzX2ZpbmkoYWRldik7DQo+DQo+ICAg
ICAgICAgYW1kZ3B1X2RlYnVnZnNfcmVnc19jbGVhbnVwKGFkZXYpOw0KPiAgICAgICAgIGRldmlj
ZV9yZW1vdmVfZmlsZShhZGV2LT5kZXYsICZkZXZfYXR0cl9wY2llX3JlcGxheV9jb3VudCk7DQo+
IEBAIC0zNjY5LDYgKzM2NjQsNyBAQCBzdGF0aWMgaW50IGFtZGdwdV9kZXZpY2VfcmVzZXRfc3Jp
b3Yoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ICAgICAgICAgaWYgKHIpDQo+ICAgICAg
ICAgICAgICAgICBnb3RvIGVycm9yOw0KPg0KPiArICAgICAgIGFtZGdwdV92aXJ0X2luaXRfZGF0
YV9leGNoYW5nZShhZGV2KTsNCj4gICAgICAgICAvKiB3ZSBuZWVkIHJlY292ZXIgZ2FydCBwcmlv
ciB0byBydW4gU01DL0NQL1NETUEgcmVzdW1lICovDQo+ICAgICAgICAgYW1kZ3B1X2d0dF9tZ3Jf
cmVjb3ZlcigmYWRldi0+bW1hbi5iZGV2Lm1hbltUVE1fUExfVFRdKTsNCj4NCj4gQEAgLTM2ODYs
NyArMzY4Miw2IEBAIHN0YXRpYyBpbnQgYW1kZ3B1X2RldmljZV9yZXNldF9zcmlvdihzdHJ1Y3Qg
YW1kZ3B1X2RldmljZSAqYWRldiwNCj4gICAgICAgICBhbWRncHVfYW1ka2ZkX3Bvc3RfcmVzZXQo
YWRldik7DQo+DQo+ICBlcnJvcjoNCj4gLSAgICAgICBhbWRncHVfdmlydF9pbml0X2RhdGFfZXhj
aGFuZ2UoYWRldik7DQo+ICAgICAgICAgYW1kZ3B1X3ZpcnRfcmVsZWFzZV9mdWxsX2dwdShhZGV2
LCB0cnVlKTsNCj4gICAgICAgICBpZiAoIXIgJiYgYWRldi0+dmlydC5naW1fZmVhdHVyZSAmIEFN
REdJTV9GRUFUVVJFX0dJTV9GTFJfVlJBTUxPU1QpIHsNCj4gICAgICAgICAgICAgICAgIGFtZGdw
dV9pbmNfdnJhbV9sb3N0KGFkZXYpOw0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1X2ttcy5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1
X2ttcy5jDQo+IGluZGV4IDVlYzE0MTVkMTc1NS4uM2EwZWE5MDk2NDk4IDEwMDY0NA0KPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfa21zLmMNCj4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2ttcy5jDQo+IEBAIC03MDMsMTAgKzcwMyw2IEBA
IHN0YXRpYyBpbnQgYW1kZ3B1X2luZm9faW9jdGwoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgdm9p
ZCAqZGF0YSwgc3RydWN0IGRybV9maWxlDQo+ICAgICAgICAgICAgICAgICBpZiAoYWRldi0+cG0u
ZHBtX2VuYWJsZWQpIHsNCj4gICAgICAgICAgICAgICAgICAgICAgICAgZGV2X2luZm8ubWF4X2Vu
Z2luZV9jbG9jayA9IGFtZGdwdV9kcG1fZ2V0X3NjbGsoYWRldiwgZmFsc2UpICogMTA7DQo+ICAg
ICAgICAgICAgICAgICAgICAgICAgIGRldl9pbmZvLm1heF9tZW1vcnlfY2xvY2sgPSBhbWRncHVf
ZHBtX2dldF9tY2xrKGFkZXYsIGZhbHNlKSAqIDEwOw0KPiAtICAgICAgICAgICAgICAgfSBlbHNl
IGlmIChhbWRncHVfc3Jpb3ZfdmYoYWRldikgJiYgYW1kZ2ltX2lzX2h3cGVyZihhZGV2KSAmJg0K
PiAtICAgICAgICAgICAgICAgICAgICAgICAgICBhZGV2LT52aXJ0Lm9wcy0+Z2V0X3BwX2Nsaykg
ew0KPiAtICAgICAgICAgICAgICAgICAgICAgICBkZXZfaW5mby5tYXhfZW5naW5lX2Nsb2NrID0g
YW1kZ3B1X3ZpcnRfZ2V0X3NjbGsoYWRldiwgZmFsc2UpICogMTA7DQo+IC0gICAgICAgICAgICAg
ICAgICAgICAgIGRldl9pbmZvLm1heF9tZW1vcnlfY2xvY2sgPSBhbWRncHVfdmlydF9nZXRfbWNs
ayhhZGV2LCBmYWxzZSkgKiAxMDsNCj4gICAgICAgICAgICAgICAgIH0gZWxzZSB7DQo+ICAgICAg
ICAgICAgICAgICAgICAgICAgIGRldl9pbmZvLm1heF9lbmdpbmVfY2xvY2sgPSBhZGV2LT5jbG9j
ay5kZWZhdWx0X3NjbGsgKiAxMDsNCj4gICAgICAgICAgICAgICAgICAgICAgICAgZGV2X2luZm8u
bWF4X21lbW9yeV9jbG9jayA9IGFkZXYtPmNsb2NrLmRlZmF1bHRfbWNsayAqIDEwOw0KPiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3BtLmMgYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfcG0uYw0KPiBpbmRleCAwYzczMjRiYzMxYTcuLmI4
YTQyZWJiMmY1YSAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1k
Z3B1X3BtLmMNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3BtLmMN
Cj4gQEAgLTE2MCw3ICsxNjAsOCBAQCBzdGF0aWMgc3NpemVfdCBhbWRncHVfZ2V0X2RwbV9zdGF0
ZShzdHJ1Y3QgZGV2aWNlICpkZXYsDQo+ICAgICAgICAgZW51bSBhbWRfcG1fc3RhdGVfdHlwZSBw
bTsNCj4NCj4gICAgICAgICBpZiAoaXNfc3VwcG9ydF9zd19zbXUoYWRldikpIHsNCj4gLSAgICAg
ICAgICAgICAgIGlmIChhZGV2LT5zbXUucHB0X2Z1bmNzLT5nZXRfY3VycmVudF9wb3dlcl9zdGF0
ZSkNCj4gKyAgICAgICAgICAgICAgIGlmIChhZGV2LT5zbXUucHB0X2Z1bmNzICYmDQo+ICsgICAg
ICAgICAgICAgICAgICAgYWRldi0+c211LnBwdF9mdW5jcy0+Z2V0X2N1cnJlbnRfcG93ZXJfc3Rh
dGUpDQoNClRoaXMgbG9va3MgbGlrZSBhIGJ1ZyBmaXggd2hpY2ggc2hvdWxkIGJlIGJyb2tlbiBv
dXQgc2VwYXJhdGVseS4NClt5dHRhb106IFRoYW5rcyBhIGxvdC4gSSB3aWxsIHNlcGFyYXRlIGl0
Lg0KDQo+ICAgICAgICAgICAgICAgICAgICAgICAgIHBtID0gc211X2dldF9jdXJyZW50X3Bvd2Vy
X3N0YXRlKCZhZGV2LT5zbXUpOw0KPiAgICAgICAgICAgICAgICAgZWxzZQ0KPiAgICAgICAgICAg
ICAgICAgICAgICAgICBwbSA9IGFkZXYtPnBtLmRwbS51c2VyX3N0YXRlOw0KPiBAQCAtMjgzLDcg
KzI4NCw3IEBAIHN0YXRpYyBzc2l6ZV90IGFtZGdwdV9nZXRfZHBtX2ZvcmNlZF9wZXJmb3JtYW5j
ZV9sZXZlbChzdHJ1Y3QgZGV2aWNlICpkZXYsDQo+ICAgICAgICAgc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYgPSBkZGV2LT5kZXZfcHJpdmF0ZTsNCj4gICAgICAgICBlbnVtIGFtZF9kcG1fZm9y
Y2VkX2xldmVsIGxldmVsID0gMHhmZjsNCj4NCj4gLSAgICAgICBpZiAoYW1kZ3B1X3NyaW92X3Zm
KGFkZXYpKQ0KPiArICAgICAgIGlmIChhbWRncHVfc3Jpb3ZfdmYoYWRldikgJiYgIWFtZGdpbV9p
c19wcF9vbmVfdmYoYWRldikpDQo+ICAgICAgICAgICAgICAgICByZXR1cm4gMDsNCj4NCj4gICAg
ICAgICBpZiAoKGFkZXYtPmZsYWdzICYgQU1EX0lTX1BYKSAmJg0KPiBAQCAtMzIwLDYgKzMyMSw5
IEBAIHN0YXRpYyBzc2l6ZV90IGFtZGdwdV9zZXRfZHBtX2ZvcmNlZF9wZXJmb3JtYW5jZV9sZXZl
bChzdHJ1Y3QgZGV2aWNlICpkZXYsDQo+ICAgICAgICAgZW51bSBhbWRfZHBtX2ZvcmNlZF9sZXZl
bCBjdXJyZW50X2xldmVsID0gMHhmZjsNCj4gICAgICAgICBpbnQgcmV0ID0gMDsNCj4NCj4gKyAg
ICAgICBpZiAoYW1kZ3B1X3NyaW92X3ZmKGFkZXYpICYmICFhbWRnaW1faXNfcHBfb25lX3ZmKGFk
ZXYpKQ0KPiArICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7DQo+ICsNCj4gICAgICAgICAv
KiBDYW4ndCBmb3JjZSBwZXJmb3JtYW5jZSBsZXZlbCB3aGVuIHRoZSBjYXJkIGlzIG9mZiAqLw0K
PiAgICAgICAgIGlmICAoKGFkZXYtPmZsYWdzICYgQU1EX0lTX1BYKSAmJg0KPiAgICAgICAgICAg
ICAgKGRkZXYtPnN3aXRjaF9wb3dlcl9zdGF0ZSAhPSBEUk1fU1dJVENIX1BPV0VSX09OKSkNCj4g
QEAgLTM0OCwxOSArMzUyLDYgQEAgc3RhdGljIHNzaXplX3QgYW1kZ3B1X3NldF9kcG1fZm9yY2Vk
X3BlcmZvcm1hbmNlX2xldmVsKHN0cnVjdCBkZXZpY2UgKmRldiwNCj4gICAgICAgICAgICAgICAg
IGdvdG8gZmFpbDsNCj4gICAgICAgICB9DQo+DQo+IC0gICAgICAgLyogaGFuZGxlIHNyaW92IGNh
c2UgaGVyZSAqLw0KPiAtICAgICAgIGlmIChhbWRncHVfc3Jpb3ZfdmYoYWRldikpIHsNCj4gLSAg
ICAgICAgICAgICAgIGlmIChhbWRnaW1faXNfaHdwZXJmKGFkZXYpICYmDQo+IC0gICAgICAgICAg
ICAgICAgICAgYWRldi0+dmlydC5vcHMtPmZvcmNlX2RwbV9sZXZlbCkgew0KPiAtICAgICAgICAg
ICAgICAgICAgICAgICBtdXRleF9sb2NrKCZhZGV2LT5wbS5tdXRleCk7DQo+IC0gICAgICAgICAg
ICAgICAgICAgICAgIGFkZXYtPnZpcnQub3BzLT5mb3JjZV9kcG1fbGV2ZWwoYWRldiwgbGV2ZWwp
Ow0KPiAtICAgICAgICAgICAgICAgICAgICAgICBtdXRleF91bmxvY2soJmFkZXYtPnBtLm11dGV4
KTsNCj4gLSAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvdW50Ow0KPiAtICAgICAgICAg
ICAgICAgfSBlbHNlIHsNCj4gLSAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7
DQo+IC0gICAgICAgICAgICAgICB9DQo+IC0gICAgICAgfQ0KPiAtDQo+ICAgICAgICAgaWYgKGlz
X3N1cHBvcnRfc3dfc211KGFkZXYpKQ0KPiAgICAgICAgICAgICAgICAgY3VycmVudF9sZXZlbCA9
IHNtdV9nZXRfcGVyZm9ybWFuY2VfbGV2ZWwoJmFkZXYtPnNtdSk7DQo+ICAgICAgICAgZWxzZSBp
ZiAoYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzLT5nZXRfcGVyZm9ybWFuY2VfbGV2ZWwpDQo+IEBA
IC02NTQsNiArNjQ1LDkgQEAgc3RhdGljIHNzaXplX3QgYW1kZ3B1X3NldF9wcF9vZF9jbGtfdm9s
dGFnZShzdHJ1Y3QgZGV2aWNlICpkZXYsDQo+ICAgICAgICAgY29uc3QgY2hhciBkZWxpbWl0ZXJb
M10gPSB7JyAnLCAnXG4nLCAnXDAnfTsNCj4gICAgICAgICB1aW50MzJfdCB0eXBlOw0KPg0KPiAr
ICAgICAgIGlmIChhbWRncHVfc3Jpb3ZfdmYoYWRldikgJiYgIWFtZGdpbV9pc19wcF9vbmVfdmYo
YWRldikpDQo+ICsgICAgICAgICAgICAgICByZXR1cm4gMDsNCj4gKw0KPiAgICAgICAgIGlmIChj
b3VudCA+IDEyNykNCj4gICAgICAgICAgICAgICAgIHJldHVybiAtRUlOVkFMOw0KPg0KPiBAQCAt
ODQxLDkgKzgzNSwxMCBAQCBzdGF0aWMgc3NpemVfdCBhbWRncHVfZ2V0X3BwX2RwbV9zY2xrKHN0
cnVjdCBkZXZpY2UgKmRldiwNCj4gICAgICAgICBzdHJ1Y3QgZHJtX2RldmljZSAqZGRldiA9IGRl
dl9nZXRfZHJ2ZGF0YShkZXYpOw0KPiAgICAgICAgIHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2
ID0gZGRldi0+ZGV2X3ByaXZhdGU7DQo+DQo+IC0gICAgICAgaWYgKGFtZGdwdV9zcmlvdl92Zihh
ZGV2KSAmJiBhbWRnaW1faXNfaHdwZXJmKGFkZXYpICYmDQo+IC0gICAgICAgICAgIGFkZXYtPnZp
cnQub3BzLT5nZXRfcHBfY2xrKQ0KPiAtICAgICAgICAgICAgICAgcmV0dXJuIGFkZXYtPnZpcnQu
b3BzLT5nZXRfcHBfY2xrKGFkZXYsIFBQX1NDTEssIGJ1Zik7DQo+ICsgICAgICAgaWYgKGFtZGdw
dV9zcmlvdl92ZihhZGV2KSkgew0KPiArICAgICAgICAgICAgICAgaWYgKCFhbWRnaW1faXNfcHBf
b25lX3ZmKGFkZXYpKQ0KPiArICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLUVJTlZBTDsN
Cj4gKyAgICAgICB9DQo+DQo+ICAgICAgICAgaWYgKGlzX3N1cHBvcnRfc3dfc211KGFkZXYpKQ0K
PiAgICAgICAgICAgICAgICAgcmV0dXJuIHNtdV9wcmludF9jbGtfbGV2ZWxzKCZhZGV2LT5zbXUs
IFNNVV9TQ0xLLCBidWYpOw0KPiBAQCAtODc4LDcgKzg3Myw2IEBAIHN0YXRpYyBzc2l6ZV90IGFt
ZGdwdV9yZWFkX21hc2soY29uc3QgY2hhciAqYnVmLCBzaXplX3QgY291bnQsIHVpbnQzMl90ICpt
YXNrKQ0KPiAgICAgICAgIHdoaWxlICh0bXBbMF0pIHsNCj4gICAgICAgICAgICAgICAgIHN1Yl9z
dHIgPSBzdHJzZXAoJnRtcCwgZGVsaW1pdGVyKTsNCj4gICAgICAgICAgICAgICAgIGlmIChzdHJs
ZW4oc3ViX3N0cikpIHsNCj4gLSAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0ga3N0cnRvbChz
dWJfc3RyLCAwLCAmbGV2ZWwpOw0KPiAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0KQ0K
PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtRUlOVkFMOw0KPiAgICAg
ICAgICAgICAgICAgICAgICAgICAqbWFzayB8PSAxIDw8IGxldmVsOw0KPiBAQCAtODk5LDggKzg5
MywxMCBAQCBzdGF0aWMgc3NpemVfdCBhbWRncHVfc2V0X3BwX2RwbV9zY2xrKHN0cnVjdCBkZXZp
Y2UgKmRldiwNCj4gICAgICAgICBpbnQgcmV0Ow0KPiAgICAgICAgIHVpbnQzMl90IG1hc2sgPSAw
Ow0KPg0KPiAtICAgICAgIGlmIChhbWRncHVfc3Jpb3ZfdmYoYWRldikpDQo+IC0gICAgICAgICAg
ICAgICByZXR1cm4gMDsNCj4gKyAgICAgICBpZiAoYW1kZ3B1X3NyaW92X3ZmKGFkZXYpKSB7DQo+
ICsgICAgICAgICAgICAgICBpZiAoIWFtZGdpbV9pc19wcF9vbmVfdmYoYWRldikpDQo+ICsgICAg
ICAgICAgICAgICAgICAgICAgIHJldHVybiAtRUlOVkFMOw0KPiArICAgICAgIH0NCj4NCj4gICAg
ICAgICByZXQgPSBhbWRncHVfcmVhZF9tYXNrKGJ1ZiwgY291bnQsICZtYXNrKTsNCj4gICAgICAg
ICBpZiAocmV0KQ0KPiBAQCAtOTI0LDkgKzkyMCwxMCBAQCBzdGF0aWMgc3NpemVfdCBhbWRncHVf
Z2V0X3BwX2RwbV9tY2xrKHN0cnVjdCBkZXZpY2UgKmRldiwNCj4gICAgICAgICBzdHJ1Y3QgZHJt
X2RldmljZSAqZGRldiA9IGRldl9nZXRfZHJ2ZGF0YShkZXYpOw0KPiAgICAgICAgIHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2ID0gZGRldi0+ZGV2X3ByaXZhdGU7DQo+DQo+IC0gICAgICAgaWYg
KGFtZGdwdV9zcmlvdl92ZihhZGV2KSAmJiBhbWRnaW1faXNfaHdwZXJmKGFkZXYpICYmDQo+IC0g
ICAgICAgICAgIGFkZXYtPnZpcnQub3BzLT5nZXRfcHBfY2xrKQ0KPiAtICAgICAgICAgICAgICAg
cmV0dXJuIGFkZXYtPnZpcnQub3BzLT5nZXRfcHBfY2xrKGFkZXYsIFBQX01DTEssIGJ1Zik7DQo+
ICsgICAgICAgaWYgKGFtZGdwdV9zcmlvdl92ZihhZGV2KSkgew0KPiArICAgICAgICAgICAgICAg
aWYgKCFhbWRnaW1faXNfcHBfb25lX3ZmKGFkZXYpKQ0KPiArICAgICAgICAgICAgICAgICAgICAg
ICByZXR1cm4gLUVJTlZBTDsNCj4gKyAgICAgICB9DQo+DQo+ICAgICAgICAgaWYgKGlzX3N1cHBv
cnRfc3dfc211KGFkZXYpKQ0KPiAgICAgICAgICAgICAgICAgcmV0dXJuIHNtdV9wcmludF9jbGtf
bGV2ZWxzKCZhZGV2LT5zbXUsIFNNVV9NQ0xLLCBidWYpOw0KPiBAQCAtOTQ2LDggKzk0MywxMSBA
QCBzdGF0aWMgc3NpemVfdCBhbWRncHVfc2V0X3BwX2RwbV9tY2xrKHN0cnVjdCBkZXZpY2UgKmRl
diwNCj4gICAgICAgICBpbnQgcmV0Ow0KPiAgICAgICAgIHVpbnQzMl90IG1hc2sgPSAwOw0KPg0K
PiAtICAgICAgIGlmIChhbWRncHVfc3Jpb3ZfdmYoYWRldikpDQo+IC0gICAgICAgICAgICAgICBy
ZXR1cm4gMDsNCj4gKyAgICAgICBpZiAoYW1kZ3B1X3NyaW92X3ZmKGFkZXYpKSB7DQo+ICsgICAg
ICAgICAgICAgICBpZiAoIWFtZGdpbV9pc19wcF9vbmVfdmYoYWRldikpDQo+ICsgICAgICAgICAg
ICAgICAgICAgICAgIHJldHVybiAtRUlOVkFMOw0KPiArDQo+ICsgICAgICAgfQ0KPg0KPiAgICAg
ICAgIHJldCA9IGFtZGdwdV9yZWFkX21hc2soYnVmLCBjb3VudCwgJm1hc2spOw0KPiAgICAgICAg
IGlmIChyZXQpDQo+IEBAIC05NzEsNiArOTcxLDExIEBAIHN0YXRpYyBzc2l6ZV90IGFtZGdwdV9n
ZXRfcHBfZHBtX3NvY2NsayhzdHJ1Y3QgZGV2aWNlICpkZXYsDQo+ICAgICAgICAgc3RydWN0IGRy
bV9kZXZpY2UgKmRkZXYgPSBkZXZfZ2V0X2RydmRhdGEoZGV2KTsNCj4gICAgICAgICBzdHJ1Y3Qg
YW1kZ3B1X2RldmljZSAqYWRldiA9IGRkZXYtPmRldl9wcml2YXRlOw0KPg0KPiArICAgICAgIGlm
IChhbWRncHVfc3Jpb3ZfdmYoYWRldikpIHsNCj4gKyAgICAgICAgICAgICAgIGlmICghYW1kZ2lt
X2lzX3BwX29uZV92ZihhZGV2KSkNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1F
SU5WQUw7DQo+ICsgICAgICAgfQ0KPiArDQo+ICAgICAgICAgaWYgKGlzX3N1cHBvcnRfc3dfc211
KGFkZXYpKQ0KPiAgICAgICAgICAgICAgICAgcmV0dXJuIHNtdV9wcmludF9jbGtfbGV2ZWxzKCZh
ZGV2LT5zbXUsIFNNVV9TT0NDTEssIGJ1Zik7DQo+ICAgICAgICAgZWxzZSBpZiAoYWRldi0+cG93
ZXJwbGF5LnBwX2Z1bmNzLT5wcmludF9jbG9ja19sZXZlbHMpDQo+IEBAIC05ODksNiArOTk0LDkg
QEAgc3RhdGljIHNzaXplX3QgYW1kZ3B1X3NldF9wcF9kcG1fc29jY2xrKHN0cnVjdCBkZXZpY2Ug
KmRldiwNCj4gICAgICAgICBpbnQgcmV0Ow0KPiAgICAgICAgIHVpbnQzMl90IG1hc2sgPSAwOw0K
Pg0KPiArICAgICAgIGlmIChhbWRncHVfc3Jpb3ZfdmYoYWRldikpDQo+ICsgICAgICAgICAgICAg
ICByZXR1cm4gMDsNCj4gKw0KPiAgICAgICAgIHJldCA9IGFtZGdwdV9yZWFkX21hc2soYnVmLCBj
b3VudCwgJm1hc2spOw0KPiAgICAgICAgIGlmIChyZXQpDQo+ICAgICAgICAgICAgICAgICByZXR1
cm4gcmV0Ow0KPiBAQCAtMTAyOSw2ICsxMDM3LDExIEBAIHN0YXRpYyBzc2l6ZV90IGFtZGdwdV9z
ZXRfcHBfZHBtX2ZjbGsoc3RydWN0IGRldmljZSAqZGV2LA0KPiAgICAgICAgIGludCByZXQ7DQo+
ICAgICAgICAgdWludDMyX3QgbWFzayA9IDA7DQo+DQo+ICsgICAgICAgaWYgKGFtZGdwdV9zcmlv
dl92ZihhZGV2KSkgew0KPiArICAgICAgICAgICAgICAgaWYgKCFhbWRnaW1faXNfcHBfb25lX3Zm
KGFkZXYpKQ0KPiArICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLUVJTlZBTDsNCj4gKyAg
ICAgICB9DQo+ICsNCj4gICAgICAgICByZXQgPSBhbWRncHVfcmVhZF9tYXNrKGJ1ZiwgY291bnQs
ICZtYXNrKTsNCj4gICAgICAgICBpZiAocmV0KQ0KPiAgICAgICAgICAgICAgICAgcmV0dXJuIHJl
dDsNCj4gQEAgLTEwNTEsNiArMTA2NCw5IEBAIHN0YXRpYyBzc2l6ZV90IGFtZGdwdV9nZXRfcHBf
ZHBtX2RjZWZjbGsoc3RydWN0IGRldmljZSAqZGV2LA0KPiAgICAgICAgIHN0cnVjdCBkcm1fZGV2
aWNlICpkZGV2ID0gZGV2X2dldF9kcnZkYXRhKGRldik7DQo+ICAgICAgICAgc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYgPSBkZGV2LT5kZXZfcHJpdmF0ZTsNCj4NCj4gKyAgICAgICBpZiAoYW1k
Z3B1X3NyaW92X3ZmKGFkZXYpKQ0KPiArICAgICAgICAgICAgICAgcmV0dXJuIDA7DQo+ICsNCj4g
ICAgICAgICBpZiAoaXNfc3VwcG9ydF9zd19zbXUoYWRldikpDQo+ICAgICAgICAgICAgICAgICBy
ZXR1cm4gc211X3ByaW50X2Nsa19sZXZlbHMoJmFkZXYtPnNtdSwgU01VX0RDRUZDTEssIGJ1Zik7
DQo+ICAgICAgICAgZWxzZSBpZiAoYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzLT5wcmludF9jbG9j
a19sZXZlbHMpDQo+IEBAIC0xMDY5LDYgKzEwODUsOSBAQCBzdGF0aWMgc3NpemVfdCBhbWRncHVf
c2V0X3BwX2RwbV9kY2VmY2xrKHN0cnVjdCBkZXZpY2UgKmRldiwNCj4gICAgICAgICBpbnQgcmV0
Ow0KPiAgICAgICAgIHVpbnQzMl90IG1hc2sgPSAwOw0KPg0KPiArICAgICAgIGlmIChhbWRncHVf
c3Jpb3ZfdmYoYWRldikpDQo+ICsgICAgICAgICAgICAgICByZXR1cm4gMDsNCj4gKw0KPiAgICAg
ICAgIHJldCA9IGFtZGdwdV9yZWFkX21hc2soYnVmLCBjb3VudCwgJm1hc2spOw0KPiAgICAgICAg
IGlmIChyZXQpDQo+ICAgICAgICAgICAgICAgICByZXR1cm4gcmV0Ow0KPiBAQCAtMTA5MSw2ICsx
MTEwLDkgQEAgc3RhdGljIHNzaXplX3QgYW1kZ3B1X2dldF9wcF9kcG1fcGNpZShzdHJ1Y3QgZGV2
aWNlICpkZXYsDQo+ICAgICAgICAgc3RydWN0IGRybV9kZXZpY2UgKmRkZXYgPSBkZXZfZ2V0X2Ry
dmRhdGEoZGV2KTsNCj4gICAgICAgICBzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IGRkZXYt
PmRldl9wcml2YXRlOw0KPg0KPiArICAgICAgIGlmIChhbWRncHVfc3Jpb3ZfdmYoYWRldikpDQo+
ICsgICAgICAgICAgICAgICByZXR1cm4gMDsNCj4gKw0KPiAgICAgICAgIGlmIChpc19zdXBwb3J0
X3N3X3NtdShhZGV2KSkNCj4gICAgICAgICAgICAgICAgIHJldHVybiBzbXVfcHJpbnRfY2xrX2xl
dmVscygmYWRldi0+c211LCBTTVVfUENJRSwgYnVmKTsNCj4gICAgICAgICBlbHNlIGlmIChhZGV2
LT5wb3dlcnBsYXkucHBfZnVuY3MtPnByaW50X2Nsb2NrX2xldmVscykNCj4gQEAgLTExMDksNiAr
MTEzMSw5IEBAIHN0YXRpYyBzc2l6ZV90IGFtZGdwdV9zZXRfcHBfZHBtX3BjaWUoc3RydWN0IGRl
dmljZSAqZGV2LA0KPiAgICAgICAgIGludCByZXQ7DQo+ICAgICAgICAgdWludDMyX3QgbWFzayA9
IDA7DQo+DQo+ICsgICAgICAgaWYgKGFtZGdwdV9zcmlvdl92ZihhZGV2KSkNCj4gKyAgICAgICAg
ICAgICAgIHJldHVybiAwOw0KPiArDQo+ICAgICAgICAgcmV0ID0gYW1kZ3B1X3JlYWRfbWFzayhi
dWYsIGNvdW50LCAmbWFzayk7DQo+ICAgICAgICAgaWYgKHJldCkNCj4gICAgICAgICAgICAgICAg
IHJldHVybiByZXQ7DQo+IEBAIC0xMTUwLDYgKzExNzUsOSBAQCBzdGF0aWMgc3NpemVfdCBhbWRn
cHVfc2V0X3BwX3NjbGtfb2Qoc3RydWN0IGRldmljZSAqZGV2LA0KPiAgICAgICAgIGludCByZXQ7
DQo+ICAgICAgICAgbG9uZyBpbnQgdmFsdWU7DQo+DQo+ICsgICAgICAgaWYgKGFtZGdwdV9zcmlv
dl92ZihhZGV2KSAmJiAhYW1kZ2ltX2lzX3BwX29uZV92ZihhZGV2KSkNCj4gKyAgICAgICAgICAg
ICAgIHJldHVybiAwOw0KPiArDQo+ICAgICAgICAgcmV0ID0ga3N0cnRvbChidWYsIDAsICZ2YWx1
ZSk7DQo+DQo+ICAgICAgICAgaWYgKHJldCkgew0KPiBAQCAtMTIwMSw2ICsxMjI5LDkgQEAgc3Rh
dGljIHNzaXplX3QgYW1kZ3B1X3NldF9wcF9tY2xrX29kKHN0cnVjdCBkZXZpY2UgKmRldiwNCj4g
ICAgICAgICBpbnQgcmV0Ow0KPiAgICAgICAgIGxvbmcgaW50IHZhbHVlOw0KPg0KPiArICAgICAg
IGlmIChhbWRncHVfc3Jpb3ZfdmYoYWRldikgJiYgIWFtZGdpbV9pc19wcF9vbmVfdmYoYWRldikp
DQo+ICsgICAgICAgICAgICAgICByZXR1cm4gMDsNCj4gKw0KPiAgICAgICAgIHJldCA9IGtzdHJ0
b2woYnVmLCAwLCAmdmFsdWUpOw0KPg0KPiAgICAgICAgIGlmIChyZXQpIHsNCj4gQEAgLTI3MzAs
NDQgKzI3NjEsNiBAQCB2b2lkIGFtZGdwdV9kcG1fZW5hYmxlX2pwZWcoc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYsIGJvb2wgZW5hYmxlKQ0KPiAgICAgICAgIH0NCj4gIH0NCj4NCj4gLWludCBh
bWRncHVfcG1fdmlydF9zeXNmc19pbml0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQ0KPiAt
ew0KPiAtICAgICAgIGludCByZXQgPSAwOw0KPiAtDQo+IC0gICAgICAgaWYgKCEoYW1kZ3B1X3Ny
aW92X3ZmKGFkZXYpICYmIGFtZGdpbV9pc19od3BlcmYoYWRldikpKQ0KPiAtICAgICAgICAgICAg
ICAgcmV0dXJuIHJldDsNCj4gLQ0KPiAtICAgICAgIHJldCA9IGRldmljZV9jcmVhdGVfZmlsZShh
ZGV2LT5kZXYsICZkZXZfYXR0cl9wcF9kcG1fc2Nsayk7DQo+IC0gICAgICAgaWYgKHJldCkgew0K
PiAtICAgICAgICAgICAgICAgRFJNX0VSUk9SKCJmYWlsZWQgdG8gY3JlYXRlIGRldmljZSBmaWxl
IHBwX2RwbV9zY2xrXG4iKTsNCj4gLSAgICAgICAgICAgICAgIHJldHVybiByZXQ7DQo+IC0gICAg
ICAgfQ0KPiAtDQo+IC0gICAgICAgcmV0ID0gZGV2aWNlX2NyZWF0ZV9maWxlKGFkZXYtPmRldiwg
JmRldl9hdHRyX3BwX2RwbV9tY2xrKTsNCj4gLSAgICAgICBpZiAocmV0KSB7DQo+IC0gICAgICAg
ICAgICAgICBEUk1fRVJST1IoImZhaWxlZCB0byBjcmVhdGUgZGV2aWNlIGZpbGUgcHBfZHBtX21j
bGtcbiIpOw0KPiAtICAgICAgICAgICAgICAgcmV0dXJuIHJldDsNCj4gLSAgICAgICB9DQo+IC0N
Cj4gLSAgICAgICByZXQgPSBkZXZpY2VfY3JlYXRlX2ZpbGUoYWRldi0+ZGV2LCAmZGV2X2F0dHJf
cG93ZXJfZHBtX2ZvcmNlX3BlcmZvcm1hbmNlX2xldmVsKTsNCj4gLSAgICAgICBpZiAocmV0KSB7
DQo+IC0gICAgICAgICAgICAgICBEUk1fRVJST1IoImZhaWxlZCB0byBjcmVhdGUgZGV2aWNlIGZp
bGUgZm9yIGRwbSBzdGF0ZVxuIik7DQo+IC0gICAgICAgICAgICAgICByZXR1cm4gcmV0Ow0KPiAt
ICAgICAgIH0NCj4gLQ0KPiAtICAgICAgIHJldHVybiByZXQ7DQo+IC19DQo+IC0NCj4gLXZvaWQg
YW1kZ3B1X3BtX3ZpcnRfc3lzZnNfZmluaShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCj4g
LXsNCj4gLSAgICAgICBpZiAoIShhbWRncHVfc3Jpb3ZfdmYoYWRldikgJiYgYW1kZ2ltX2lzX2h3
cGVyZihhZGV2KSkpDQo+IC0gICAgICAgICAgICAgICByZXR1cm47DQo+IC0NCj4gLSAgICAgICBk
ZXZpY2VfcmVtb3ZlX2ZpbGUoYWRldi0+ZGV2LCAmZGV2X2F0dHJfcG93ZXJfZHBtX2ZvcmNlX3Bl
cmZvcm1hbmNlX2xldmVsKTsNCj4gLSAgICAgICBkZXZpY2VfcmVtb3ZlX2ZpbGUoYWRldi0+ZGV2
LCAmZGV2X2F0dHJfcHBfZHBtX3NjbGspOw0KPiAtICAgICAgIGRldmljZV9yZW1vdmVfZmlsZShh
ZGV2LT5kZXYsICZkZXZfYXR0cl9wcF9kcG1fbWNsayk7DQo+IC19DQo+IC0NCg0KQXJlIHlvdSBz
dXJlIHlvdSB3YW50IHRvIHJlbW92ZSB0aGlzIGZ1bmN0aW9uYWxpdHkgZm9yIHRoZSBvdGhlcg0K
Y2FzZXM/ICBXb24ndCB0aGlzIHJlZ3Jlc3MgbXVsdGktVkYgcG0/ICBPciB3YXMgdGhpcyBmdW5j
dGlvbmFsaXR5DQphbHdheXMgc2luZ2xlIFZGLCBidXQganVzdCBoYW5kbGVkIGluIHRoZSBob3N0
IHJhdGhlciB0aGFuIHRoZSBndWVzdD8NClt5dHRhb106IHllcywgdW5kZXIgbXVsdGktVkYgY29u
ZGl0aW9uLCB0aGUgVkYgY2FuJ3Qgc2VuZCBkcG0gcmVxdWVzdCBiZWNhdXNlIGl0IHdpbGwgaW5m
bHVlbmNlIG90aGVyIHJ1bm5pbmcgVkYNCgkJVGhlIHBwIG9uZSB2ZiBtb2RlIHdpbGwgb25seSB3
b3JrIHdpdGggb25seSBzaW5nbGUgVkYgZW5hYmxlZC4gVGhlIGxlZ2FjeSB2aXJ0IHN5c2ZzIGlu
dGVyZmFjZSB3aWxsIG5vdCB3b3JrIHdpdGggDQoJCWxhdGVzdCBob3N0IGRyaXZlciBhbmQgaG9z
dCBkcml2ZXIgd2lsbCBub3Qgc3VwcG9ydCB0aGUgbGVnYWN5IG1vZGUgYW55bW9yZS4NCgkJDQoN
Cj4gIGludCBhbWRncHVfcG1fbG9hZF9zbXVfZmlybXdhcmUoc3RydWN0IGFtZGdwdV9kZXZpY2Ug
KmFkZXYsIHVpbnQzMl90ICpzbXVfdmVyc2lvbikNCj4gIHsNCj4gICAgICAgICBpbnQgcjsNCj4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92aXJ0LmMgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdmlydC5jDQo+IGluZGV4IGUzMmFlOTA2
ZDc5Ny4uMTAzMDMzZjk2ZjEzIDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfdmlydC5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV92aXJ0LmMNCj4gQEAgLTM3OSw1NCArMzc5LDMgQEAgdm9pZCBhbWRncHVfdmlydF9pbml0
X2RhdGFfZXhjaGFuZ2Uoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpDQo+ICAgICAgICAgICAg
ICAgICB9DQo+ICAgICAgICAgfQ0KPiAgfQ0KPiAtDQo+IC1zdGF0aWMgdWludDMyX3QgcGFyc2Vf
Y2xrKGNoYXIgKmJ1ZiwgYm9vbCBtaW4pDQo+IC17DQo+IC0gICAgICAgIGNoYXIgKnB0ciA9IGJ1
ZjsNCj4gLSAgICAgICAgdWludDMyX3QgY2xrID0gMDsNCj4gLQ0KPiAtICAgICAgICBkbyB7DQo+
IC0gICAgICAgICAgICAgICAgcHRyID0gc3RyY2hyKHB0ciwgJzonKTsNCj4gLSAgICAgICAgICAg
ICAgICBpZiAoIXB0cikNCj4gLSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KPiAtICAg
ICAgICAgICAgICAgIHB0cis9MjsNCj4gLSAgICAgICAgICAgICAgIGlmIChrc3RydG91MzIocHRy
LCAxMCwgJmNsaykpDQo+IC0gICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwOw0KPiAtICAg
ICAgICB9IHdoaWxlICghbWluKTsNCj4gLQ0KPiAtICAgICAgICByZXR1cm4gY2xrICogMTAwOw0K
PiAtfQ0KPiAtDQo+IC11aW50MzJfdCBhbWRncHVfdmlydF9nZXRfc2NsayhzdHJ1Y3QgYW1kZ3B1
X2RldmljZSAqYWRldiwgYm9vbCBsb3dlc3QpDQo+IC17DQo+IC0gICAgICAgY2hhciAqYnVmID0g
TlVMTDsNCj4gLSAgICAgICB1aW50MzJfdCBjbGsgPSAwOw0KPiAtDQo+IC0gICAgICAgYnVmID0g
a3phbGxvYyhQQUdFX1NJWkUsIEdGUF9LRVJORUwpOw0KPiAtICAgICAgIGlmICghYnVmKQ0KPiAt
ICAgICAgICAgICAgICAgcmV0dXJuIC1FTk9NRU07DQo+IC0NCj4gLSAgICAgICBhZGV2LT52aXJ0
Lm9wcy0+Z2V0X3BwX2NsayhhZGV2LCBQUF9TQ0xLLCBidWYpOw0KPiAtICAgICAgIGNsayA9IHBh
cnNlX2NsayhidWYsIGxvd2VzdCk7DQo+IC0NCj4gLSAgICAgICBrZnJlZShidWYpOw0KPiAtDQo+
IC0gICAgICAgcmV0dXJuIGNsazsNCj4gLX0NCj4gLQ0KPiAtdWludDMyX3QgYW1kZ3B1X3ZpcnRf
Z2V0X21jbGsoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIGJvb2wgbG93ZXN0KQ0KPiAtew0K
PiAtICAgICAgIGNoYXIgKmJ1ZiA9IE5VTEw7DQo+IC0gICAgICAgdWludDMyX3QgY2xrID0gMDsN
Cj4gLQ0KPiAtICAgICAgIGJ1ZiA9IGt6YWxsb2MoUEFHRV9TSVpFLCBHRlBfS0VSTkVMKTsNCj4g
LSAgICAgICBpZiAoIWJ1ZikNCj4gLSAgICAgICAgICAgICAgIHJldHVybiAtRU5PTUVNOw0KPiAt
DQo+IC0gICAgICAgYWRldi0+dmlydC5vcHMtPmdldF9wcF9jbGsoYWRldiwgUFBfTUNMSywgYnVm
KTsNCj4gLSAgICAgICBjbGsgPSBwYXJzZV9jbGsoYnVmLCBsb3dlc3QpOw0KPiAtDQo+IC0gICAg
ICAga2ZyZWUoYnVmKTsNCj4gLQ0KPiAtICAgICAgIHJldHVybiBjbGs7DQo+IC19DQoNClNhbWUg
Y29tbWVudCBoZXJlIGFzIGFib3ZlIHJlZ2FyZGluZyBtdWx0aS1WRiBwbS4NCg0KPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZpcnQuaCBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92aXJ0LmgNCj4gaW5kZXggYjBiMmJkYzc1MGRmLi42
M2RiMmE2ZjAwOGQgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV92aXJ0LmgNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3Zp
cnQuaA0KPiBAQCAtNTcsOCArNTcsNiBAQCBzdHJ1Y3QgYW1kZ3B1X3ZpcnRfb3BzIHsNCj4gICAg
ICAgICBpbnQgKCpyZXNldF9ncHUpKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KTsNCj4gICAg
ICAgICBpbnQgKCp3YWl0X3Jlc2V0KShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7DQo+ICAg
ICAgICAgdm9pZCAoKnRyYW5zX21zZykoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHUzMiBy
ZXEsIHUzMiBkYXRhMSwgdTMyIGRhdGEyLCB1MzIgZGF0YTMpOw0KPiAtICAgICAgIGludCAoKmdl
dF9wcF9jbGspKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCB1MzIgdHlwZSwgY2hhciAqYnVm
KTsNCj4gLSAgICAgICBpbnQgKCpmb3JjZV9kcG1fbGV2ZWwpKHN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2LCB1MzIgbGV2ZWwpOw0KPiAgfTsNCj4NCj4gIC8qDQo+IEBAIC04NSw4ICs4Myw4IEBA
IGVudW0gQU1ER0lNX0ZFQVRVUkVfRkxBRyB7DQo+ICAgICAgICAgQU1ER0lNX0ZFQVRVUkVfR0lN
X0xPQURfVUNPREVTICAgPSAweDIsDQo+ICAgICAgICAgLyogVlJBTSBMT1NUIGJ5IEdJTSAqLw0K
PiAgICAgICAgIEFNREdJTV9GRUFUVVJFX0dJTV9GTFJfVlJBTUxPU1QgPSAweDQsDQo+IC0gICAg
ICAgLyogSFcgUEVSRiBTSU0gaW4gR0lNICovDQo+IC0gICAgICAgQU1ER0lNX0ZFQVRVUkVfSFdf
UEVSRl9TSU1VTEFUSU9OID0gKDEgPDwgMyksDQo+ICsgICAgICAgLyogUFAgT05FIFZGIE1PREUg
aW4gR0lNICovDQo+ICsgICAgICAgQU1ER0lNX0ZFQVRVUkVfUFBfT05FX1ZGID0gKDEgPDwgNCks
DQo+ICB9Ow0KPg0KPiAgc3RydWN0IGFtZF9zcmlvdl9tc2dfcGYydmZfaW5mb19oZWFkZXIgew0K
PiBAQCAtMjU3LDggKzI1NSw2IEBAIHN0cnVjdCBhbWRncHVfdmlydCB7DQo+ICAgICAgICAgc3Ry
dWN0IGFtZGdwdV92Zl9lcnJvcl9idWZmZXIgICB2Zl9lcnJvcnM7DQo+ICAgICAgICAgc3RydWN0
IGFtZGdwdV92aXJ0X2Z3X3Jlc2VydmUgICBmd19yZXNlcnZlOw0KPiAgICAgICAgIHVpbnQzMl90
IGdpbV9mZWF0dXJlOw0KPiAtICAgICAgIC8qIHByb3RlY3QgRFBNIGV2ZW50cyB0byBHSU0gKi8N
Cj4gLSAgICAgICBzdHJ1Y3QgbXV0ZXggICAgICAgICAgICAgICAgICAgIGRwbV9tdXRleDsNCj4g
ICAgICAgICB1aW50MzJfdCByZWdfYWNjZXNzX21vZGU7DQo+ICB9Ow0KPg0KPiBAQCAtMjg2LDgg
KzI4Miw4IEBAIHN0YXRpYyBpbmxpbmUgYm9vbCBpc192aXJ0dWFsX21hY2hpbmUodm9pZCkNCj4g
ICNlbmRpZg0KPiAgfQ0KPg0KPiAtI2RlZmluZSBhbWRnaW1faXNfaHdwZXJmKGFkZXYpIFwNCj4g
LSAgICAgICAoKGFkZXYpLT52aXJ0LmdpbV9mZWF0dXJlICYgQU1ER0lNX0ZFQVRVUkVfSFdfUEVS
Rl9TSU1VTEFUSU9OKQ0KPiArI2RlZmluZSBhbWRnaW1faXNfcHBfb25lX3ZmKGFkZXYpIFwNCj4g
KyAgICAgICAoKGFkZXYpLT52aXJ0LmdpbV9mZWF0dXJlICYgQU1ER0lNX0ZFQVRVUkVfUFBfT05F
X1ZGKQ0KPg0KPiAgYm9vbCBhbWRncHVfdmlydF9tbWlvX2Jsb2NrZWQoc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYpOw0KPiAgdm9pZCBhbWRncHVfdmlydF9pbml0X3NldHRpbmcoc3RydWN0IGFt
ZGdwdV9kZXZpY2UgKmFkZXYpOw0KPiBAQCAtMzA2LDYgKzMwMiw0IEBAIGludCBhbWRncHVfdmly
dF9md19yZXNlcnZlX2dldF9jaGVja3N1bSh2b2lkICpvYmosIHVuc2lnbmVkIGxvbmcgb2JqX3Np
emUsDQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBp
bnQga2V5LA0KPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWdu
ZWQgaW50IGNoa3N1bSk7DQo+ICB2b2lkIGFtZGdwdV92aXJ0X2luaXRfZGF0YV9leGNoYW5nZShz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7DQo+IC11aW50MzJfdCBhbWRncHVfdmlydF9nZXRf
c2NsayhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgYm9vbCBsb3dlc3QpOw0KPiAtdWludDMy
X3QgYW1kZ3B1X3ZpcnRfZ2V0X21jbGsoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIGJvb2wg
bG93ZXN0KTsNCj4gICNlbmRpZg0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvbXhncHVfYWkuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L214Z3B1X2FpLmMN
Cj4gaW5kZXggY2M1YmY1OTVmOWIxLi40MzMwNWFmYTNkNmYgMTAwNjQ0DQo+IC0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L214Z3B1X2FpLmMNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvbXhncHVfYWkuYw0KPiBAQCAtMTU4LDgyICsxNTgsNiBAQCBzdGF0aWMgdm9p
ZCB4Z3B1X2FpX21haWxib3hfdHJhbnNfbXNnIChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwN
Cj4gICAgICAgICB4Z3B1X2FpX21haWxib3hfc2V0X3ZhbGlkKGFkZXYsIGZhbHNlKTsNCj4gIH0N
Cj4NCj4gLXN0YXRpYyBpbnQgeGdwdV9haV9nZXRfcHBfY2xrKHN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2LCB1MzIgdHlwZSwgY2hhciAqYnVmKQ0KPiAtew0KPiAtICAgICAgICBpbnQgciA9IDA7
DQo+IC0gICAgICAgIHUzMiByZXEsIHZhbCwgc2l6ZTsNCj4gLQ0KPiAtICAgICAgICBpZiAoIWFt
ZGdpbV9pc19od3BlcmYoYWRldikgfHwgYnVmID09IE5VTEwpDQo+IC0gICAgICAgICAgICAgICAg
cmV0dXJuIC1FQkFEUlFDOw0KPiAtDQo+IC0gICAgICAgIHN3aXRjaCh0eXBlKSB7DQo+IC0gICAg
ICAgIGNhc2UgUFBfU0NMSzoNCj4gLSAgICAgICAgICAgICAgICByZXEgPSBJREhfSVJRX0dFVF9Q
UF9TQ0xLOw0KPiAtICAgICAgICAgICAgICAgIGJyZWFrOw0KPiAtICAgICAgICBjYXNlIFBQX01D
TEs6DQo+IC0gICAgICAgICAgICAgICAgcmVxID0gSURIX0lSUV9HRVRfUFBfTUNMSzsNCj4gLSAg
ICAgICAgICAgICAgICBicmVhazsNCj4gLSAgICAgICAgZGVmYXVsdDoNCj4gLSAgICAgICAgICAg
ICAgICByZXR1cm4gLUVCQURSUUM7DQo+IC0gICAgICAgIH0NCj4gLQ0KPiAtICAgICAgICBtdXRl
eF9sb2NrKCZhZGV2LT52aXJ0LmRwbV9tdXRleCk7DQo+IC0NCj4gLSAgICAgICAgeGdwdV9haV9t
YWlsYm94X3RyYW5zX21zZyhhZGV2LCByZXEsIDAsIDAsIDApOw0KPiAtDQo+IC0gICAgICAgIHIg
PSB4Z3B1X2FpX3BvbGxfbXNnKGFkZXYsIElESF9TVUNDRVNTKTsNCj4gLSAgICAgICAgaWYgKCFy
ICYmIGFkZXYtPmZ3X3ZyYW1fdXNhZ2UudmEgIT0gTlVMTCkgew0KPiAtICAgICAgICAgICAgICAg
IHZhbCA9IFJSRUczMl9OT19LSVEoDQo+IC0gICAgICAgICAgICAgICAgICAgICAgICBTT0MxNV9S
RUdfT0ZGU0VUKE5CSU8sIDAsDQo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIG1tQklGX0JYX1BGMF9NQUlMQk9YX01TR0JVRl9SQ1ZfRFcxKSk7DQo+IC0gICAgICAg
ICAgICAgICAgc2l6ZSA9IHN0cm5sZW4oKCgoY2hhciAqKWFkZXYtPnZpcnQuZndfcmVzZXJ2ZS5w
X3BmMnZmKSArDQo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCksIFBBR0Vf
U0laRSk7DQo+IC0NCj4gLSAgICAgICAgICAgICAgICBpZiAoc2l6ZSA8IFBBR0VfU0laRSkNCj4g
LSAgICAgICAgICAgICAgICAgICAgICAgIHN0cmNweShidWYsKChjaGFyICopYWRldi0+dmlydC5m
d19yZXNlcnZlLnBfcGYydmYgKyB2YWwpKTsNCj4gLSAgICAgICAgICAgICAgICBlbHNlDQo+IC0g
ICAgICAgICAgICAgICAgICAgICAgICBzaXplID0gMDsNCj4gLQ0KPiAtICAgICAgICAgICAgICAg
IHIgPSBzaXplOw0KPiAtICAgICAgICAgICAgICAgIGdvdG8gb3V0Ow0KPiAtICAgICAgICB9DQo+
IC0NCj4gLSAgICAgICAgciA9IHhncHVfYWlfcG9sbF9tc2coYWRldiwgSURIX0ZBSUwpOw0KPiAt
ICAgICAgICBpZihyKQ0KPiAtICAgICAgICAgICAgICAgIHByX2luZm8oIiVzIERQTSByZXF1ZXN0
IGZhaWxlZCIsDQo+IC0gICAgICAgICAgICAgICAgICAgICAgICAodHlwZSA9PSBQUF9TQ0xLKT8g
IlNDTEsiIDogIk1DTEsiKTsNCj4gLQ0KPiAtb3V0Og0KPiAtICAgICAgICBtdXRleF91bmxvY2so
JmFkZXYtPnZpcnQuZHBtX211dGV4KTsNCj4gLSAgICAgICAgcmV0dXJuIHI7DQo+IC19DQo+IC0N
Cj4gLXN0YXRpYyBpbnQgeGdwdV9haV9mb3JjZV9kcG1fbGV2ZWwoc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYsIHUzMiBsZXZlbCkNCj4gLXsNCj4gLSAgICAgICAgaW50IHIgPSAwOw0KPiAtICAg
ICAgICB1MzIgcmVxID0gSURIX0lSUV9GT1JDRV9EUE1fTEVWRUw7DQo+IC0NCj4gLSAgICAgICAg
aWYgKCFhbWRnaW1faXNfaHdwZXJmKGFkZXYpKQ0KPiAtICAgICAgICAgICAgICAgIHJldHVybiAt
RUJBRFJRQzsNCj4gLQ0KPiAtICAgICAgICBtdXRleF9sb2NrKCZhZGV2LT52aXJ0LmRwbV9tdXRl
eCk7DQo+IC0gICAgICAgIHhncHVfYWlfbWFpbGJveF90cmFuc19tc2coYWRldiwgcmVxLCBsZXZl
bCwgMCwgMCk7DQo+IC0NCj4gLSAgICAgICAgciA9IHhncHVfYWlfcG9sbF9tc2coYWRldiwgSURI
X1NVQ0NFU1MpOw0KPiAtICAgICAgICBpZiAoIXIpDQo+IC0gICAgICAgICAgICAgICAgZ290byBv
dXQ7DQo+IC0NCj4gLSAgICAgICAgciA9IHhncHVfYWlfcG9sbF9tc2coYWRldiwgSURIX0ZBSUwp
Ow0KPiAtICAgICAgICBpZiAoIXIpDQo+IC0gICAgICAgICAgICAgICAgcHJfaW5mbygiRFBNIHJl
cXVlc3QgZmFpbGVkIik7DQo+IC0gICAgICAgIGVsc2UNCj4gLSAgICAgICAgICAgICAgICBwcl9p
bmZvKCJNYWlsYm94IGlzIGJyb2tlbiIpOw0KPiAtDQo+IC1vdXQ6DQo+IC0gICAgICAgIG11dGV4
X3VubG9jaygmYWRldi0+dmlydC5kcG1fbXV0ZXgpOw0KPiAtICAgICAgICByZXR1cm4gcjsNCj4g
LX0NCj4gLQ0KPiAgc3RhdGljIGludCB4Z3B1X2FpX3NlbmRfYWNjZXNzX3JlcXVlc3RzKHN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2LA0KPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgZW51bSBpZGhfcmVxdWVzdCByZXEpDQo+ICB7DQo+IEBAIC00NTUsNiArMzc5LDQg
QEAgY29uc3Qgc3RydWN0IGFtZGdwdV92aXJ0X29wcyB4Z3B1X2FpX3ZpcnRfb3BzID0gew0KPiAg
ICAgICAgIC5yZXNldF9ncHUgPSB4Z3B1X2FpX3JlcXVlc3RfcmVzZXQsDQo+ICAgICAgICAgLndh
aXRfcmVzZXQgPSBOVUxMLA0KPiAgICAgICAgIC50cmFuc19tc2cgPSB4Z3B1X2FpX21haWxib3hf
dHJhbnNfbXNnLA0KPiAtICAgICAgIC5nZXRfcHBfY2xrID0geGdwdV9haV9nZXRfcHBfY2xrLA0K
PiAtICAgICAgIC5mb3JjZV9kcG1fbGV2ZWwgPSB4Z3B1X2FpX2ZvcmNlX2RwbV9sZXZlbCwNCj4g
IH07DQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9teGdwdV9haS5o
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvbXhncHVfYWkuaA0KPiBpbmRleCAwNzdlOTFh
MzNkNjIuLjM3ZGJlMGYyMTQyZiAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvbXhncHVfYWkuaA0KPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9teGdw
dV9haS5oDQo+IEBAIC0zNSwxMCArMzUsNiBAQCBlbnVtIGlkaF9yZXF1ZXN0IHsNCj4gICAgICAg
ICBJREhfUkVMX0dQVV9GSU5JX0FDQ0VTUywNCj4gICAgICAgICBJREhfUkVRX0dQVV9SRVNFVF9B
Q0NFU1MsDQo+DQo+IC0gICAgICAgSURIX0lSUV9GT1JDRV9EUE1fTEVWRUwgPSAxMCwNCj4gLSAg
ICAgICBJREhfSVJRX0dFVF9QUF9TQ0xLLA0KPiAtICAgICAgIElESF9JUlFfR0VUX1BQX01DTEss
DQo+IC0NCj4gICAgICAgICBJREhfTE9HX1ZGX0VSUk9SICAgICAgID0gMjAwLA0KPiAgfTsNCj4N
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NvYzE1LmMgYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zb2MxNS5jDQo+IGluZGV4IDQ4NjQ5ZjU1ZjNiYS4uNTlm
NWYyYTM5ZmU0IDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zb2Mx
NS5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NvYzE1LmMNCj4gQEAgLTc3
NywxMSArNzc3LDExIEBAIGludCBzb2MxNV9zZXRfaXBfYmxvY2tzKHN0cnVjdCBhbWRncHVfZGV2
aWNlICphZGV2KQ0KPiAgICAgICAgICAgICAgICAgfQ0KPiAgICAgICAgICAgICAgICAgYW1kZ3B1
X2RldmljZV9pcF9ibG9ja19hZGQoYWRldiwgJmdmeF92OV8wX2lwX2Jsb2NrKTsNCj4gICAgICAg
ICAgICAgICAgIGFtZGdwdV9kZXZpY2VfaXBfYmxvY2tfYWRkKGFkZXYsICZzZG1hX3Y0XzBfaXBf
YmxvY2spOw0KPiAtICAgICAgICAgICAgICAgaWYgKCFhbWRncHVfc3Jpb3ZfdmYoYWRldikpIHsN
Cj4gLSAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzX3N1cHBvcnRfc3dfc211KGFkZXYpKQ0K
PiArICAgICAgICAgICAgICAgaWYgKGlzX3N1cHBvcnRfc3dfc211KGFkZXYpKSB7DQo+ICsgICAg
ICAgICAgICAgICAgICAgICAgIGlmICghYW1kZ3B1X3NyaW92X3ZmKGFkZXYpKQ0KPiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGFtZGdwdV9kZXZpY2VfaXBfYmxvY2tfYWRkKGFkZXYs
ICZzbXVfdjExXzBfaXBfYmxvY2spOw0KPiAtICAgICAgICAgICAgICAgICAgICAgICBlbHNlDQo+
IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW1kZ3B1X2RldmljZV9pcF9ibG9ja19h
ZGQoYWRldiwgJnBwX3NtdV9pcF9ibG9jayk7DQo+ICsgICAgICAgICAgICAgICB9IGVsc2Ugew0K
PiArICAgICAgICAgICAgICAgICAgICAgICBhbWRncHVfZGV2aWNlX2lwX2Jsb2NrX2FkZChhZGV2
LCAmcHBfc211X2lwX2Jsb2NrKTsNCj4gICAgICAgICAgICAgICAgIH0NCj4gICAgICAgICAgICAg
ICAgIGlmIChhZGV2LT5lbmFibGVfdmlydHVhbF9kaXNwbGF5IHx8IGFtZGdwdV9zcmlvdl92Zihh
ZGV2KSkNCj4gICAgICAgICAgICAgICAgICAgICAgICAgYW1kZ3B1X2RldmljZV9pcF9ibG9ja19h
ZGQoYWRldiwgJmRjZV92aXJ0dWFsX2lwX2Jsb2NrKTsNCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvcG93ZXJwbGF5L2FtZF9wb3dlcnBsYXkuYyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvcG93ZXJwbGF5L2FtZF9wb3dlcnBsYXkuYw0KPiBpbmRleCA3OTMyZWIxNjNhMDAuLjUwODdk
NmJkYmE2MCAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvYW1k
X3Bvd2VycGxheS5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2FtZF9w
b3dlcnBsYXkuYw0KPiBAQCAtNDgsNyArNDgsNiBAQCBzdGF0aWMgaW50IGFtZF9wb3dlcnBsYXlf
Y3JlYXRlKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQ0KPg0KPiAgICAgICAgIGh3bWdyLT5h
ZGV2ID0gYWRldjsNCj4gICAgICAgICBod21nci0+bm90X3ZmID0gIWFtZGdwdV9zcmlvdl92Zihh
ZGV2KTsNCj4gLSAgICAgICBod21nci0+cG1fZW4gPSAoYW1kZ3B1X2RwbSAmJiBod21nci0+bm90
X3ZmKSA/IHRydWUgOiBmYWxzZTsNCj4gICAgICAgICBod21nci0+ZGV2aWNlID0gYW1kZ3B1X2Nn
c19jcmVhdGVfZGV2aWNlKGFkZXYpOw0KPiAgICAgICAgIG11dGV4X2luaXQoJmh3bWdyLT5zbXVf
bG9jayk7DQo+ICAgICAgICAgaHdtZ3ItPmNoaXBfZmFtaWx5ID0gYWRldi0+ZmFtaWx5Ow0KPiBA
QCAtMjc2LDYgKzI3NSw5IEBAIHN0YXRpYyBpbnQgcHBfZHBtX2xvYWRfZncodm9pZCAqaGFuZGxl
KQ0KPiAgew0KPiAgICAgICAgIHN0cnVjdCBwcF9od21nciAqaHdtZ3IgPSBoYW5kbGU7DQo+DQo+
ICsgICAgICAgaWYgKCFod21nci0+bm90X3ZmKQ0KPiArICAgICAgICAgICAgICAgcmV0dXJuIDA7
DQo+ICsNCj4gICAgICAgICBpZiAoIWh3bWdyIHx8ICFod21nci0+c211bWdyX2Z1bmNzIHx8ICFo
d21nci0+c211bWdyX2Z1bmNzLT5zdGFydF9zbXUpDQo+ICAgICAgICAgICAgICAgICByZXR1cm4g
LUVJTlZBTDsNCj4NCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5
L2FtZGdwdV9zbXUuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2FtZGdwdV9zbXUu
Yw0KPiBpbmRleCAzNjAwMWE0ZjY1ZDcuLjcxNGI4MzgxZDAyYyAxMDA2NDQNCj4gLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvYW1kZ3B1X3NtdS5jDQo+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvcG93ZXJwbGF5L2FtZGdwdV9zbXUuYw0KPiBAQCAtMTY1MywxMSArMTY1Mywx
MyBAQCBpbnQgc211X2FkanVzdF9wb3dlcl9zdGF0ZV9keW5hbWljKHN0cnVjdCBzbXVfY29udGV4
dCAqc211LA0KPiAgICAgICAgIGlmICghc211LT5wbV9lbmFibGVkKQ0KPiAgICAgICAgICAgICAg
ICAgcmV0dXJuIC1FSU5WQUw7DQo+DQo+IC0gICAgICAgaWYgKCFza2lwX2Rpc3BsYXlfc2V0dGlu
Z3MpIHsNCj4gLSAgICAgICAgICAgICAgIHJldCA9IHNtdV9kaXNwbGF5X2NvbmZpZ19jaGFuZ2Vk
KHNtdSk7DQo+IC0gICAgICAgICAgICAgICBpZiAocmV0KSB7DQo+IC0gICAgICAgICAgICAgICAg
ICAgICAgIHByX2VycigiRmFpbGVkIHRvIGNoYW5nZSBkaXNwbGF5IGNvbmZpZyEiKTsNCj4gLSAg
ICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDsNCj4gKyAgICAgICBpZiAoIWFtZGdwdV9z
cmlvdl92ZihzbXUtPmFkZXYpKSB7DQo+ICsgICAgICAgICAgICAgICBpZiAoIXNraXBfZGlzcGxh
eV9zZXR0aW5ncykgew0KPiArICAgICAgICAgICAgICAgICAgICAgICByZXQgPSBzbXVfZGlzcGxh
eV9jb25maWdfY2hhbmdlZChzbXUpOw0KPiArICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0
KSB7DQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJfZXJyKCJGYWlsZWQgdG8g
Y2hhbmdlIGRpc3BsYXkgY29uZmlnISIpOw0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHJldHVybiByZXQ7DQo+ICsgICAgICAgICAgICAgICAgICAgICAgIH0NCj4gICAgICAgICAg
ICAgICAgIH0NCj4gICAgICAgICB9DQo+DQo+IEBAIC0xNjY3LDExICsxNjY5LDEzIEBAIGludCBz
bXVfYWRqdXN0X3Bvd2VyX3N0YXRlX2R5bmFtaWMoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsDQo+
ICAgICAgICAgICAgICAgICByZXR1cm4gcmV0Ow0KPiAgICAgICAgIH0NCj4NCj4gLSAgICAgICBp
ZiAoIXNraXBfZGlzcGxheV9zZXR0aW5ncykgew0KPiAtICAgICAgICAgICAgICAgcmV0ID0gc211
X25vdGlmeV9zbWNfZGlzcGFseV9jb25maWcoc211KTsNCj4gLSAgICAgICAgICAgICAgIGlmIChy
ZXQpIHsNCj4gLSAgICAgICAgICAgICAgICAgICAgICAgcHJfZXJyKCJGYWlsZWQgdG8gbm90aWZ5
IHNtYyBkaXNwbGF5IGNvbmZpZyEiKTsNCj4gLSAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJu
IHJldDsNCj4gKyAgICAgICBpZiAoYW1kZ3B1X3NyaW92X3ZmKHNtdS0+YWRldikpIHsNCj4gKyAg
ICAgICAgICAgICAgIGlmICghc2tpcF9kaXNwbGF5X3NldHRpbmdzKSB7DQo+ICsgICAgICAgICAg
ICAgICAgICAgICAgIHJldCA9IHNtdV9ub3RpZnlfc21jX2Rpc3BhbHlfY29uZmlnKHNtdSk7DQo+
ICsgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXQpIHsNCj4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBwcl9lcnIoIkZhaWxlZCB0byBub3RpZnkgc21jIGRpc3BsYXkgY29uZmln
ISIpOw0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7DQo+ICsg
ICAgICAgICAgICAgICAgICAgICAgIH0NCj4gICAgICAgICAgICAgICAgIH0NCj4gICAgICAgICB9
DQo+DQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9od21nci9o
YXJkd2FyZW1hbmFnZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2h3bWdyL2hh
cmR3YXJlbWFuYWdlci5jDQo+IGluZGV4IGNjNTdmYjk1M2U2Mi4uMjUzODYwZDMwYjIwIDEwMDY0
NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9od21nci9oYXJkd2FyZW1h
bmFnZXIuYw0KPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9od21nci9oYXJk
d2FyZW1hbmFnZXIuYw0KPiBAQCAtODEsOCArODEsOCBAQCBpbnQgcGhtX2VuYWJsZV9keW5hbWlj
X3N0YXRlX21hbmFnZW1lbnQoc3RydWN0IHBwX2h3bWdyICpod21ncikNCj4gICAgICAgICBhZGV2
ID0gaHdtZ3ItPmFkZXY7DQo+DQo+ICAgICAgICAgLyogU2tpcCBmb3Igc3VzcGVuZC9yZXN1bWUg
Y2FzZSAqLw0KPiAtICAgICAgIGlmIChzbXVtX2lzX2RwbV9ydW5uaW5nKGh3bWdyKSAmJiAhYW1k
Z3B1X3Bhc3N0aHJvdWdoKGFkZXYpDQo+IC0gICAgICAgICAgICAgICAmJiBhZGV2LT5pbl9zdXNw
ZW5kKSB7DQo+ICsgICAgICAgaWYgKCFod21nci0+cHBfb25lX3ZmICYmIHNtdW1faXNfZHBtX3J1
bm5pbmcoaHdtZ3IpDQo+ICsgICAgICAgICAgICYmICFhbWRncHVfcGFzc3Rocm91Z2goYWRldikg
JiYgYWRldi0+aW5fc3VzcGVuZCkgew0KPiAgICAgICAgICAgICAgICAgcHJfaW5mbygiZHBtIGhh
cyBiZWVuIGVuYWJsZWRcbiIpOw0KPiAgICAgICAgICAgICAgICAgcmV0dXJuIDA7DQo+ICAgICAg
ICAgfQ0KPiBAQCAtMjAwLDYgKzIwMCw5IEBAIGludCBwaG1fc3RvcF90aGVybWFsX2NvbnRyb2xs
ZXIoc3RydWN0IHBwX2h3bWdyICpod21ncikNCj4gIHsNCj4gICAgICAgICBQSE1fRlVOQ19DSEVD
Syhod21ncik7DQo+DQo+ICsgICAgICAgaWYgKCFod21nci0+bm90X3ZmKQ0KPiArICAgICAgICAg
ICAgICAgcmV0dXJuIDA7DQo+ICsNCj4gICAgICAgICBpZiAoaHdtZ3ItPmh3bWdyX2Z1bmMtPnN0
b3BfdGhlcm1hbF9jb250cm9sbGVyID09IE5VTEwpDQo+ICAgICAgICAgICAgICAgICByZXR1cm4g
LUVJTlZBTDsNCj4NCj4gQEAgLTIzNyw2ICsyNDAsOSBAQCBpbnQgcGhtX3N0YXJ0X3RoZXJtYWxf
Y29udHJvbGxlcihzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyKQ0KPiAgICAgICAgICAgICAgICAgVEVN
UF9SQU5HRV9NQVh9Ow0KPiAgICAgICAgIHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gaHdt
Z3ItPmFkZXY7DQo+DQo+ICsgICAgICAgaWYgKCFod21nci0+bm90X3ZmKQ0KPiArICAgICAgICAg
ICAgICAgcmV0dXJuIDA7DQo+ICsNCj4gICAgICAgICBpZiAoaHdtZ3ItPmh3bWdyX2Z1bmMtPmdl
dF90aGVybWFsX3RlbXBlcmF0dXJlX3JhbmdlKQ0KPiAgICAgICAgICAgICAgICAgaHdtZ3ItPmh3
bWdyX2Z1bmMtPmdldF90aGVybWFsX3RlbXBlcmF0dXJlX3JhbmdlKA0KPiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGh3bWdyLCAmcmFuZ2UpOw0KPiBAQCAtMjYzLDYgKzI2OSw4IEBA
IGludCBwaG1fc3RhcnRfdGhlcm1hbF9jb250cm9sbGVyKHN0cnVjdCBwcF9od21nciAqaHdtZ3Ip
DQo+ICBib29sIHBobV9jaGVja19zbWNfdXBkYXRlX3JlcXVpcmVkX2Zvcl9kaXNwbGF5X2NvbmZp
Z3VyYXRpb24oc3RydWN0IHBwX2h3bWdyICpod21ncikNCj4gIHsNCj4gICAgICAgICBQSE1fRlVO
Q19DSEVDSyhod21ncik7DQo+ICsgICAgICAgaWYgKGh3bWdyLT5wcF9vbmVfdmYpDQo+ICsgICAg
ICAgICAgICAgICByZXR1cm4gZmFsc2U7DQo+DQo+ICAgICAgICAgaWYgKGh3bWdyLT5od21ncl9m
dW5jLT5jaGVja19zbWNfdXBkYXRlX3JlcXVpcmVkX2Zvcl9kaXNwbGF5X2NvbmZpZ3VyYXRpb24g
PT0gTlVMTCkNCj4gICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCj4gQEAgLTQ4Miw2ICs0
OTAsOSBAQCBpbnQgcGhtX2Rpc2FibGVfc21jX2Zpcm13YXJlX2N0ZihzdHJ1Y3QgcHBfaHdtZ3Ig
Kmh3bWdyKQ0KPiAgew0KPiAgICAgICAgIFBITV9GVU5DX0NIRUNLKGh3bWdyKTsNCj4NCj4gKyAg
ICAgICBpZiAoIWh3bWdyLT5ub3RfdmYpDQo+ICsgICAgICAgICAgICAgICByZXR1cm4gMDsNCj4g
Kw0KPiAgICAgICAgIGlmIChod21nci0+aHdtZ3JfZnVuYy0+ZGlzYWJsZV9zbWNfZmlybXdhcmVf
Y3RmID09IE5VTEwpDQo+ICAgICAgICAgICAgICAgICByZXR1cm4gLUVJTlZBTDsNCj4NCj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2h3bWdyL2h3bWdyLmMgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9od21nci9od21nci5jDQo+IGluZGV4IGQyOTA5
YzkxZDY1Yi4uZjhjODFmOTYzNjQ5IDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1k
L3Bvd2VycGxheS9od21nci9od21nci5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93
ZXJwbGF5L2h3bWdyL2h3bWdyLmMNCj4gQEAgLTIyMSw2ICsyMjEsOSBAQCBpbnQgaHdtZ3JfaHdf
aW5pdChzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyKQ0KPiAgew0KPiAgICAgICAgIGludCByZXQgPSAw
Ow0KPg0KPiArICAgICAgIGh3bWdyLT5wcF9vbmVfdmYgPSBhbWRnaW1faXNfcHBfb25lX3ZmKChz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqKWh3bWdyLT5hZGV2KTsNCj4gKyAgICAgICBod21nci0+cG1f
ZW4gPSAoYW1kZ3B1X2RwbSAmJiAoaHdtZ3ItPm5vdF92ZiB8fCBod21nci0+cHBfb25lX3ZmKSkN
Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgPyB0cnVlIDogZmFsc2U7DQo+ICAgICAgICAgaWYg
KCFod21nci0+cG1fZW4pDQo+ICAgICAgICAgICAgICAgICByZXR1cm4gMDsNCj4NCj4gQEAgLTM2
NSw2ICszNjgsOCBAQCBpbnQgaHdtZ3JfaGFuZGxlX3Rhc2soc3RydWN0IHBwX2h3bWdyICpod21n
ciwgZW51bSBhbWRfcHBfdGFzayB0YXNrX2lkLA0KPg0KPiAgICAgICAgIHN3aXRjaCAodGFza19p
ZCkgew0KPiAgICAgICAgIGNhc2UgQU1EX1BQX1RBU0tfRElTUExBWV9DT05GSUdfQ0hBTkdFOg0K
PiArICAgICAgICAgICAgICAgaWYgKCFod21nci0+bm90X3ZmKQ0KPiArICAgICAgICAgICAgICAg
ICAgICAgICByZXR1cm4gcmV0Ow0KPiAgICAgICAgICAgICAgICAgcmV0ID0gcGhtX3ByZV9kaXNw
bGF5X2NvbmZpZ3VyYXRpb25fY2hhbmdlZChod21ncik7DQo+ICAgICAgICAgICAgICAgICBpZiAo
cmV0KQ0KPiAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0Ow0KPiBAQCAtMzgxLDYg
KzM4Niw4IEBAIGludCBod21ncl9oYW5kbGVfdGFzayhzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyLCBl
bnVtIGFtZF9wcF90YXNrIHRhc2tfaWQsDQo+ICAgICAgICAgICAgICAgICBlbnVtIFBQX1N0YXRl
VUlMYWJlbCByZXF1ZXN0ZWRfdWlfbGFiZWw7DQo+ICAgICAgICAgICAgICAgICBzdHJ1Y3QgcHBf
cG93ZXJfc3RhdGUgKnJlcXVlc3RlZF9wcyA9IE5VTEw7DQo+DQo+ICsgICAgICAgICAgICAgICBp
ZiAoIWh3bWdyLT5ub3RfdmYpDQo+ICsgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7
DQo+ICAgICAgICAgICAgICAgICBpZiAodXNlcl9zdGF0ZSA9PSBOVUxMKSB7DQo+ICAgICAgICAg
ICAgICAgICAgICAgICAgIHJldCA9IC1FSU5WQUw7DQo+ICAgICAgICAgICAgICAgICAgICAgICAg
IGJyZWFrOw0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaHdt
Z3IvcHBfcHNtLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9od21nci9wcF9wc20u
Yw0KPiBpbmRleCA2YmY0ODkzNGZkYzQuLjMxYTMyYTc5Y2ZjMiAxMDA2NDQNCj4gLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaHdtZ3IvcHBfcHNtLmMNCj4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaHdtZ3IvcHBfcHNtLmMNCj4gQEAgLTI2MiwyMCArMjYy
LDIyIEBAIGludCBwc21fYWRqdXN0X3Bvd2VyX3N0YXRlX2R5bmFtaWMoc3RydWN0IHBwX2h3bWdy
ICpod21nciwgYm9vbCBza2lwX2Rpc3BsYXlfc2V0DQo+ICAgICAgICAgdWludDMyX3QgaW5kZXg7
DQo+ICAgICAgICAgbG9uZyB3b3JrbG9hZDsNCj4NCj4gLSAgICAgICBpZiAoIXNraXBfZGlzcGxh
eV9zZXR0aW5ncykNCj4gLSAgICAgICAgICAgICAgIHBobV9kaXNwbGF5X2NvbmZpZ3VyYXRpb25f
Y2hhbmdlZChod21ncik7DQo+IC0NCj4gLSAgICAgICBpZiAoaHdtZ3ItPnBzKQ0KPiAtICAgICAg
ICAgICAgICAgcG93ZXJfc3RhdGVfbWFuYWdlbWVudChod21nciwgbmV3X3BzKTsNCj4gLSAgICAg
ICBlbHNlDQo+IC0gICAgICAgICAgICAgICAvKg0KPiAtICAgICAgICAgICAgICAgICogZm9yIHZl
Z2ExMi92ZWdhMjAgd2hpY2ggZG9lcyBub3Qgc3VwcG9ydCBwb3dlciBzdGF0ZSBtYW5hZ2VyDQo+
IC0gICAgICAgICAgICAgICAgKiBEQUwgY2xvY2sgbGltaXRzIHNob3VsZCBhbHNvIGJlIGhvbm91
cmVkDQo+IC0gICAgICAgICAgICAgICAgKi8NCj4gLSAgICAgICAgICAgICAgIHBobV9hcHBseV9j
bG9ja19hZGp1c3RfcnVsZXMoaHdtZ3IpOw0KPiAtDQo+IC0gICAgICAgaWYgKCFza2lwX2Rpc3Bs
YXlfc2V0dGluZ3MpDQo+IC0gICAgICAgICAgICAgICBwaG1fbm90aWZ5X3NtY19kaXNwbGF5X2Nv
bmZpZ19hZnRlcl9wc19hZGp1c3RtZW50KGh3bWdyKTsNCj4gKyAgICAgICBpZiAoaHdtZ3ItPm5v
dF92Zikgew0KPiArICAgICAgICAgICAgICAgaWYgKCFza2lwX2Rpc3BsYXlfc2V0dGluZ3MpDQo+
ICsgICAgICAgICAgICAgICAgICAgICAgIHBobV9kaXNwbGF5X2NvbmZpZ3VyYXRpb25fY2hhbmdl
ZChod21ncik7DQo+ICsNCj4gKyAgICAgICAgICAgICAgIGlmIChod21nci0+cHMpDQo+ICsgICAg
ICAgICAgICAgICAgICAgICAgIHBvd2VyX3N0YXRlX21hbmFnZW1lbnQoaHdtZ3IsIG5ld19wcyk7
DQo+ICsgICAgICAgICAgICAgICBlbHNlDQo+ICsgICAgICAgICAgICAgICAgICAgICAgIC8qDQo+
ICsgICAgICAgICAgICAgICAgICAgICAgICAqIGZvciB2ZWdhMTIvdmVnYTIwIHdoaWNoIGRvZXMg
bm90IHN1cHBvcnQgcG93ZXIgc3RhdGUgbWFuYWdlcg0KPiArICAgICAgICAgICAgICAgICAgICAg
ICAgKiBEQUwgY2xvY2sgbGltaXRzIHNob3VsZCBhbHNvIGJlIGhvbm91cmVkDQo+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAqLw0KPiArICAgICAgICAgICAgICAgICAgICAgICBwaG1fYXBwbHlf
Y2xvY2tfYWRqdXN0X3J1bGVzKGh3bWdyKTsNCj4gKw0KPiArICAgICAgICAgICAgICAgaWYgKCFz
a2lwX2Rpc3BsYXlfc2V0dGluZ3MpDQo+ICsgICAgICAgICAgICAgICAgICAgICAgIHBobV9ub3Rp
Znlfc21jX2Rpc3BsYXlfY29uZmlnX2FmdGVyX3BzX2FkanVzdG1lbnQoaHdtZ3IpOw0KPiArICAg
ICAgIH0NCj4NCj4gICAgICAgICBpZiAoIXBobV9mb3JjZV9kcG1fbGV2ZWxzKGh3bWdyLCBod21n
ci0+cmVxdWVzdF9kcG1fbGV2ZWwpKQ0KPiAgICAgICAgICAgICAgICAgaHdtZ3ItPmRwbV9sZXZl
bCA9IGh3bWdyLT5yZXF1ZXN0X2RwbV9sZXZlbDsNCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvcG93ZXJwbGF5L2h3bWdyL3ZlZ2ExMF9od21nci5jIGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9wb3dlcnBsYXkvaHdtZ3IvdmVnYTEwX2h3bWdyLmMNCj4gaW5kZXggYjI5ZTk5NmRmMWQ0
Li40MWE5Yjg2OTkwMDEgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJw
bGF5L2h3bWdyL3ZlZ2ExMF9od21nci5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93
ZXJwbGF5L2h3bWdyL3ZlZ2ExMF9od21nci5jDQo+IEBAIC05MTIsNiArOTEyLDkgQEAgc3RhdGlj
IGludCB2ZWdhMTBfaHdtZ3JfYmFja2VuZF9pbml0KHN0cnVjdCBwcF9od21nciAqaHdtZ3IpDQo+
ICAgICAgICAgaHdtZ3ItPnBsYXRmb3JtX2Rlc2NyaXB0b3IuY2xvY2tTdGVwLm1lbW9yeUNsb2Nr
ID0gNTAwOw0KPg0KPiAgICAgICAgIGRhdGEtPnRvdGFsX2FjdGl2ZV9jdXMgPSBhZGV2LT5nZngu
Y3VfaW5mby5udW1iZXI7DQo+ICsgICAgICAgaWYgKCFod21nci0+bm90X3ZmKQ0KPiArICAgICAg
ICAgICAgICAgcmV0dXJuIHJlc3VsdDsNCj4gKw0KPiAgICAgICAgIC8qIFNldHVwIGRlZmF1bHQg
T3ZlcmRyaXZlIEZhbiBjb250cm9sIHNldHRpbmdzICovDQo+ICAgICAgICAgZGF0YS0+b2RuX2Zh
bl90YWJsZS50YXJnZXRfZmFuX3NwZWVkID0NCj4gICAgICAgICAgICAgICAgICAgICAgICAgaHdt
Z3ItPnRoZXJtYWxfY29udHJvbGxlci5hZHZhbmNlRmFuQ29udHJvbFBhcmFtZXRlcnMudXNNYXhG
YW5SUE07DQo+IEBAIC05NzksNiArOTgyLDkgQEAgc3RhdGljIGludCB2ZWdhMTBfc2V0dXBfZHBt
X2xlZF9jb25maWcoc3RydWN0IHBwX2h3bWdyICpod21ncikNCj4NCj4gIHN0YXRpYyBpbnQgdmVn
YTEwX3NldHVwX2FzaWNfdGFzayhzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyKQ0KPiAgew0KPiArICAg
ICAgIGlmICghaHdtZ3ItPm5vdF92ZikNCj4gKyAgICAgICAgICAgICAgIHJldHVybiAwOw0KPiAr
DQo+ICAgICAgICAgUFBfQVNTRVJUX1dJVEhfQ09ERSghdmVnYTEwX2luaXRfc2Nsa190aHJlc2hv
bGQoaHdtZ3IpLA0KPiAgICAgICAgICAgICAgICAgICAgICAgICAiRmFpbGVkIHRvIGluaXQgc2Ns
ayB0aHJlc2hvbGQhIiwNCj4gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUwp
Ow0KPiBAQCAtMjUwMyw2ICsyNTA5LDkgQEAgc3RhdGljIGludCB2ZWdhMTBfaW5pdF9zbWNfdGFi
bGUoc3RydWN0IHBwX2h3bWdyICpod21ncikNCj4gICAgICAgICAgICAgICAgICAgICAgICAgIkZh
aWxlZCB0byBzZXR1cCBkZWZhdWx0IERQTSB0YWJsZXMhIiwNCj4gICAgICAgICAgICAgICAgICAg
ICAgICAgcmV0dXJuIHJlc3VsdCk7DQo+DQo+ICsgICAgICAgaWYgKCFod21nci0+bm90X3ZmKQ0K
PiArICAgICAgICAgICAgICAgcmV0dXJuIDA7DQo+ICsNCj4gICAgICAgICAvKiBpbml0aWFsaXpl
IE9ETiB0YWJsZSAqLw0KPiAgICAgICAgIGlmIChod21nci0+b2RfZW5hYmxlZCkgew0KPiAgICAg
ICAgICAgICAgICAgaWYgKG9kbl90YWJsZS0+bWF4X3ZkZGMpIHsNCj4gQEAgLTI5MzIsNjEgKzI5
NDEsNzUgQEAgc3RhdGljIGludCB2ZWdhMTBfZW5hYmxlX2RwbV90YXNrcyhzdHJ1Y3QgcHBfaHdt
Z3IgKmh3bWdyKQ0KPiAgICAgICAgIHN0cnVjdCB2ZWdhMTBfaHdtZ3IgKmRhdGEgPSBod21nci0+
YmFja2VuZDsNCj4gICAgICAgICBpbnQgdG1wX3Jlc3VsdCwgcmVzdWx0ID0gMDsNCj4NCj4gLSAg
ICAgICB2ZWdhMTBfZW5hYmxlX2Rpc2FibGVfUENDX2xpbWl0X2ZlYXR1cmUoaHdtZ3IsIHRydWUp
Ow0KPiAtDQo+IC0gICAgICAgc211bV9zZW5kX21zZ190b19zbWNfd2l0aF9wYXJhbWV0ZXIoaHdt
Z3IsDQo+IC0gICAgICAgICAgICAgICBQUFNNQ19NU0dfQ29uZmlndXJlVGVsZW1ldHJ5LCBkYXRh
LT5jb25maWdfdGVsZW1ldHJ5KTsNCj4gKyAgICAgICBpZiAoaHdtZ3ItPm5vdF92Zikgew0KPiAr
ICAgICAgICAgICAgICAgdmVnYTEwX2VuYWJsZV9kaXNhYmxlX1BDQ19saW1pdF9mZWF0dXJlKGh3
bWdyLCB0cnVlKTsNCj4NCj4gLSAgICAgICB0bXBfcmVzdWx0ID0gdmVnYTEwX2NvbnN0cnVjdF92
b2x0YWdlX3RhYmxlcyhod21ncik7DQo+IC0gICAgICAgUFBfQVNTRVJUX1dJVEhfQ09ERSghdG1w
X3Jlc3VsdCwNCj4gLSAgICAgICAgICAgICAgICAgICAgICAgIkZhaWxlZCB0byBjb25zdHJ1Y3Qg
dm9sdGFnZSB0YWJsZXMhIiwNCj4gLSAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdG1w
X3Jlc3VsdCk7DQo+ICsgICAgICAgICAgICAgICBzbXVtX3NlbmRfbXNnX3RvX3NtY193aXRoX3Bh
cmFtZXRlcihod21nciwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgUFBTTUNfTVNHX0NvbmZp
Z3VyZVRlbGVtZXRyeSwgZGF0YS0+Y29uZmlnX3RlbGVtZXRyeSk7DQo+DQo+IC0gICAgICAgdG1w
X3Jlc3VsdCA9IHZlZ2ExMF9pbml0X3NtY190YWJsZShod21ncik7DQo+IC0gICAgICAgUFBfQVNT
RVJUX1dJVEhfQ09ERSghdG1wX3Jlc3VsdCwNCj4gLSAgICAgICAgICAgICAgICAgICAgICAgIkZh
aWxlZCB0byBpbml0aWFsaXplIFNNQyB0YWJsZSEiLA0KPiAtICAgICAgICAgICAgICAgICAgICAg
ICByZXN1bHQgPSB0bXBfcmVzdWx0KTsNCj4gKyAgICAgICAgICAgICAgIHRtcF9yZXN1bHQgPSB2
ZWdhMTBfY29uc3RydWN0X3ZvbHRhZ2VfdGFibGVzKGh3bWdyKTsNCj4gKyAgICAgICAgICAgICAg
IFBQX0FTU0VSVF9XSVRIX0NPREUoIXRtcF9yZXN1bHQsDQo+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICJGYWlsZWQgdG8gY29uc3RydWN0IHZvbHRhZ2UgdGFibGVzISIsDQo+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRtcF9yZXN1bHQp
Ow0KPiArICAgICAgIH0NCj4NCj4gLSAgICAgICBpZiAoUFBfQ0FQKFBITV9QbGF0Zm9ybUNhcHNf
VGhlcm1hbENvbnRyb2xsZXIpKSB7DQo+IC0gICAgICAgICAgICAgICB0bXBfcmVzdWx0ID0gdmVn
YTEwX2VuYWJsZV90aGVybWFsX3Byb3RlY3Rpb24oaHdtZ3IpOw0KPiArICAgICAgIGlmIChod21n
ci0+bm90X3ZmIHx8IGh3bWdyLT5wcF9vbmVfdmYpIHsNCj4gKyAgICAgICAgICAgICAgIHRtcF9y
ZXN1bHQgPSB2ZWdhMTBfaW5pdF9zbWNfdGFibGUoaHdtZ3IpOw0KPiAgICAgICAgICAgICAgICAg
UFBfQVNTRVJUX1dJVEhfQ09ERSghdG1wX3Jlc3VsdCwNCj4gLSAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAiRmFpbGVkIHRvIGVuYWJsZSB0aGVybWFsIHByb3RlY3Rpb24hIiwNCj4gLSAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0bXBfcmVzdWx0KTsNCj4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkZhaWxlZCB0byBpbml0aWFsaXplIFNN
QyB0YWJsZSEiLA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQg
PSB0bXBfcmVzdWx0KTsNCj4gICAgICAgICB9DQo+DQo+IC0gICAgICAgdG1wX3Jlc3VsdCA9IHZl
Z2ExMF9lbmFibGVfdnJob3RfZmVhdHVyZShod21ncik7DQo+IC0gICAgICAgUFBfQVNTRVJUX1dJ
VEhfQ09ERSghdG1wX3Jlc3VsdCwNCj4gLSAgICAgICAgICAgICAgICAgICAgICAgIkZhaWxlZCB0
byBlbmFibGUgVlIgaG90IGZlYXR1cmUhIiwNCj4gLSAgICAgICAgICAgICAgICAgICAgICAgcmVz
dWx0ID0gdG1wX3Jlc3VsdCk7DQo+ICsgICAgICAgaWYgKGh3bWdyLT5ub3RfdmYpIHsNCj4gKyAg
ICAgICAgICAgICAgIGlmIChQUF9DQVAoUEhNX1BsYXRmb3JtQ2Fwc19UaGVybWFsQ29udHJvbGxl
cikpIHsNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgdG1wX3Jlc3VsdCA9IHZlZ2ExMF9lbmFi
bGVfdGhlcm1hbF9wcm90ZWN0aW9uKGh3bWdyKTsNCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
UFBfQVNTRVJUX1dJVEhfQ09ERSghdG1wX3Jlc3VsdCwNCj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAiRmFpbGVkIHRvIGVuYWJsZSB0aGVybWFsIHByb3RlY3Rp
b24hIiwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1
bHQgPSB0bXBfcmVzdWx0KTsNCj4gKyAgICAgICAgICAgICAgIH0NCj4NCj4gLSAgICAgICB0bXBf
cmVzdWx0ID0gdmVnYTEwX2VuYWJsZV9kZWVwX3NsZWVwX21hc3Rlcl9zd2l0Y2goaHdtZ3IpOw0K
PiAtICAgICAgIFBQX0FTU0VSVF9XSVRIX0NPREUoIXRtcF9yZXN1bHQsDQo+IC0gICAgICAgICAg
ICAgICAgICAgICAgICJGYWlsZWQgdG8gZW5hYmxlIGRlZXAgc2xlZXAgbWFzdGVyIHN3aXRjaCEi
LA0KPiAtICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0bXBfcmVzdWx0KTsNCj4gKyAg
ICAgICAgICAgICAgIHRtcF9yZXN1bHQgPSB2ZWdhMTBfZW5hYmxlX3ZyaG90X2ZlYXR1cmUoaHdt
Z3IpOw0KPiArICAgICAgICAgICAgICAgUFBfQVNTRVJUX1dJVEhfQ09ERSghdG1wX3Jlc3VsdCwN
Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkZhaWxlZCB0byBlbmFibGUg
VlIgaG90IGZlYXR1cmUhIiwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
cmVzdWx0ID0gdG1wX3Jlc3VsdCk7DQo+DQo+IC0gICAgICAgdG1wX3Jlc3VsdCA9IHZlZ2ExMF9z
dGFydF9kcG0oaHdtZ3IsIFNNQ19EUE1fRkVBVFVSRVMpOw0KPiAtICAgICAgIFBQX0FTU0VSVF9X
SVRIX0NPREUoIXRtcF9yZXN1bHQsDQo+IC0gICAgICAgICAgICAgICAgICAgICAgICJGYWlsZWQg
dG8gc3RhcnQgRFBNISIsIHJlc3VsdCA9IHRtcF9yZXN1bHQpOw0KPiArICAgICAgICAgICAgICAg
dG1wX3Jlc3VsdCA9IHZlZ2ExMF9lbmFibGVfZGVlcF9zbGVlcF9tYXN0ZXJfc3dpdGNoKGh3bWdy
KTsNCj4gKyAgICAgICAgICAgICAgIFBQX0FTU0VSVF9XSVRIX0NPREUoIXRtcF9yZXN1bHQsDQo+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJGYWlsZWQgdG8gZW5hYmxlIGRl
ZXAgc2xlZXAgbWFzdGVyIHN3aXRjaCEiLA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICByZXN1bHQgPSB0bXBfcmVzdWx0KTsNCj4gKyAgICAgICB9DQo+DQo+IC0gICAgICAg
LyogZW5hYmxlIGRpZHQsIGRvIG5vdCBhYm9ydCBpZiBmYWlsZWQgZGlkdCAqLw0KPiAtICAgICAg
IHRtcF9yZXN1bHQgPSB2ZWdhMTBfZW5hYmxlX2RpZHRfY29uZmlnKGh3bWdyKTsNCj4gLSAgICAg
ICBQUF9BU1NFUlQoIXRtcF9yZXN1bHQsDQo+IC0gICAgICAgICAgICAgICAgICAgICAgICJGYWls
ZWQgdG8gZW5hYmxlIGRpZHQgY29uZmlnISIpOw0KPiArICAgICAgIGlmIChod21nci0+bm90X3Zm
KSB7DQo+ICsgICAgICAgICAgICAgICB0bXBfcmVzdWx0ID0gdmVnYTEwX3N0YXJ0X2RwbShod21n
ciwgU01DX0RQTV9GRUFUVVJFUyk7DQo+ICsgICAgICAgICAgICAgICBQUF9BU1NFUlRfV0lUSF9D
T0RFKCF0bXBfcmVzdWx0LA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAi
RmFpbGVkIHRvIHN0YXJ0IERQTSEiLCByZXN1bHQgPSB0bXBfcmVzdWx0KTsNCj4gKyAgICAgICB9
DQo+DQo+IC0gICAgICAgdG1wX3Jlc3VsdCA9IHZlZ2ExMF9lbmFibGVfcG93ZXJfY29udGFpbm1l
bnQoaHdtZ3IpOw0KPiAtICAgICAgIFBQX0FTU0VSVF9XSVRIX0NPREUoIXRtcF9yZXN1bHQsDQo+
IC0gICAgICAgICAgICAgICAgICAgICAgICJGYWlsZWQgdG8gZW5hYmxlIHBvd2VyIGNvbnRhaW5t
ZW50ISIsDQo+IC0gICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRtcF9yZXN1bHQpOw0K
PiArICAgICAgIGlmIChod21nci0+bm90X3ZmKSB7DQo+ICsgICAgICAgICAgICAgICAvKiBlbmFi
bGUgZGlkdCwgZG8gbm90IGFib3J0IGlmIGZhaWxlZCBkaWR0ICovDQo+ICsgICAgICAgICAgICAg
ICB0bXBfcmVzdWx0ID0gdmVnYTEwX2VuYWJsZV9kaWR0X2NvbmZpZyhod21ncik7DQo+ICsgICAg
ICAgICAgICAgICBQUF9BU1NFUlQoIXRtcF9yZXN1bHQsDQo+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgIkZhaWxlZCB0byBlbmFibGUgZGlkdCBjb25maWchIik7DQo+ICsgICAgICAgfQ0KPg0K
PiAtICAgICAgIHRtcF9yZXN1bHQgPSB2ZWdhMTBfcG93ZXJfY29udHJvbF9zZXRfbGV2ZWwoaHdt
Z3IpOw0KPiAtICAgICAgIFBQX0FTU0VSVF9XSVRIX0NPREUoIXRtcF9yZXN1bHQsDQo+IC0gICAg
ICAgICAgICAgICAgICAgICAgICJGYWlsZWQgdG8gcG93ZXIgY29udHJvbCBzZXQgbGV2ZWwhIiwN
Cj4gLSAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdG1wX3Jlc3VsdCk7DQo+ICsgICAg
ICAgaWYgKGh3bWdyLT5ub3RfdmYpIHsNCj4gKyAgICAgICAgICAgICAgIHRtcF9yZXN1bHQgPSB2
ZWdhMTBfZW5hYmxlX3Bvd2VyX2NvbnRhaW5tZW50KGh3bWdyKTsNCj4gKyAgICAgICAgICAgICAg
IFBQX0FTU0VSVF9XSVRIX0NPREUoIXRtcF9yZXN1bHQsDQo+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICJGYWlsZWQgdG8gZW5hYmxlIHBvd2VyIGNvbnRhaW5tZW50ISIsDQo+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRtcF9yZXN1bHQp
Ow0KPiArICAgICAgIH0NCj4NCj4gLSAgICAgICB0bXBfcmVzdWx0ID0gdmVnYTEwX2VuYWJsZV91
bHYoaHdtZ3IpOw0KPiAtICAgICAgIFBQX0FTU0VSVF9XSVRIX0NPREUoIXRtcF9yZXN1bHQsDQo+
IC0gICAgICAgICAgICAgICAgICAgICAgICJGYWlsZWQgdG8gZW5hYmxlIFVMViEiLA0KPiAtICAg
ICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0bXBfcmVzdWx0KTsNCj4gKyAgICAgICBpZiAo
aHdtZ3ItPm5vdF92Zikgew0KPiArICAgICAgICAgICAgICAgdG1wX3Jlc3VsdCA9IHZlZ2ExMF9w
b3dlcl9jb250cm9sX3NldF9sZXZlbChod21ncik7DQo+ICsgICAgICAgICAgICAgICBQUF9BU1NF
UlRfV0lUSF9DT0RFKCF0bXBfcmVzdWx0LA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAiRmFpbGVkIHRvIHBvd2VyIGNvbnRyb2wgc2V0IGxldmVsISIsDQo+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRtcF9yZXN1bHQpOw0KPiArDQo+
ICsgICAgICAgICAgICAgICB0bXBfcmVzdWx0ID0gdmVnYTEwX2VuYWJsZV91bHYoaHdtZ3IpOw0K
PiArICAgICAgICAgICAgICAgUFBfQVNTRVJUX1dJVEhfQ09ERSghdG1wX3Jlc3VsdCwNCj4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkZhaWxlZCB0byBlbmFibGUgVUxWISIs
DQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRtcF9yZXN1
bHQpOw0KPiArICAgICAgIH0NCj4NCj4gICAgICAgICByZXR1cm4gcmVzdWx0Ow0KPiAgfQ0KPiBA
QCAtMzA4MCwxMSArMzEwMywyMiBAQCBzdGF0aWMgaW50IHZlZ2ExMF9nZXRfcHBfdGFibGVfZW50
cnlfY2FsbGJhY2tfZnVuYyhzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyLA0KPiAgICAgICAgIHBlcmZv
cm1hbmNlX2xldmVsLT5zb2NfY2xvY2sgPSBzb2NjbGtfZGVwX3RhYmxlLT5lbnRyaWVzDQo+ICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3N0YXRlX2VudHJ5LT51Y1NvY0Nsb2NrSW5k
ZXhIaWdoXS51bENsazsNCj4gICAgICAgICBpZiAoZ2Z4Y2xrX2RlcF90YWJsZS0+dWNSZXZJZCA9
PSAwKSB7DQo+IC0gICAgICAgICAgICAgICBwZXJmb3JtYW5jZV9sZXZlbC0+Z2Z4X2Nsb2NrID0g
Z2Z4Y2xrX2RlcF90YWJsZS0+ZW50cmllcw0KPiAtICAgICAgICAgICAgICAgICAgICAgICBbc3Rh
dGVfZW50cnktPnVjR2Z4Q2xvY2tJbmRleEhpZ2hdLnVsQ2xrOw0KPiArICAgICAgICAgICAgICAg
LyogdW5kZXIgdmVnYTEwIHBwIG9uZSB2ZiBtb2RlLCB0aGUgZ2Z4IGNsayBkcG0gbmVlZCBiZSBs
b3dlcg0KPiArICAgICAgICAgICAgICAgICogdG8gbGV2ZWwtNCBkdWUgdG8gdGhlIGxpbWl0ZWQg
MTEwdy1wb3dlcg0KPiArICAgICAgICAgICAgICAgICovDQo+ICsgICAgICAgICAgICAgICBpZiAo
aHdtZ3ItPnBwX29uZV92ZiAmJiAoc3RhdGVfZW50cnktPnVjR2Z4Q2xvY2tJbmRleEhpZ2ggPiAw
KSkNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgcGVyZm9ybWFuY2VfbGV2ZWwtPmdmeF9jbG9j
ayA9DQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2Z4Y2xrX2RlcF90YWJsZS0+
ZW50cmllc1s0XS51bENsazsNCj4gKyAgICAgICAgICAgICAgIGVsc2UNCj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgcGVyZm9ybWFuY2VfbGV2ZWwtPmdmeF9jbG9jayA9IGdmeGNsa19kZXBfdGFi
bGUtPmVudHJpZXMNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbc3RhdGVfZW50
cnktPnVjR2Z4Q2xvY2tJbmRleEhpZ2hdLnVsQ2xrOw0KPiAgICAgICAgIH0gZWxzZSBpZiAoZ2Z4
Y2xrX2RlcF90YWJsZS0+dWNSZXZJZCA9PSAxKSB7DQo+ICAgICAgICAgICAgICAgICBwYXRvbV9y
ZWNvcmRfVjIgPSAoQVRPTV9WZWdhMTBfR0ZYQ0xLX0RlcGVuZGVuY3lfUmVjb3JkX1YyICopZ2Z4
Y2xrX2RlcF90YWJsZS0+ZW50cmllczsNCj4gLSAgICAgICAgICAgICAgIHBlcmZvcm1hbmNlX2xl
dmVsLT5nZnhfY2xvY2sgPSBwYXRvbV9yZWNvcmRfVjJbc3RhdGVfZW50cnktPnVjR2Z4Q2xvY2tJ
bmRleEhpZ2hdLnVsQ2xrOw0KPiArICAgICAgICAgICAgICAgaWYgKGh3bWdyLT5wcF9vbmVfdmYg
JiYgKHN0YXRlX2VudHJ5LT51Y0dmeENsb2NrSW5kZXhIaWdoID4gMCkpDQo+ICsgICAgICAgICAg
ICAgICAgICAgICAgIHBlcmZvcm1hbmNlX2xldmVsLT5nZnhfY2xvY2sgPSBwYXRvbV9yZWNvcmRf
VjJbNF0udWxDbGs7DQo+ICsgICAgICAgICAgICAgICBlbHNlDQo+ICsgICAgICAgICAgICAgICAg
ICAgICAgIHBlcmZvcm1hbmNlX2xldmVsLT5nZnhfY2xvY2sgPQ0KPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHBhdG9tX3JlY29yZF9WMltzdGF0ZV9lbnRyeS0+dWNHZnhDbG9ja0lu
ZGV4SGlnaF0udWxDbGs7DQo+ICAgICAgICAgfQ0KPg0KPiAgICAgICAgIHBlcmZvcm1hbmNlX2xl
dmVsLT5tZW1fY2xvY2sgPSBtY2xrX2RlcF90YWJsZS0+ZW50cmllcw0KPiBAQCAtMzQ5NSw2ICsz
NTI5LDcgQEAgc3RhdGljIGludCB2ZWdhMTBfdXBsb2FkX2RwbV9ib290dXBfbGV2ZWwoc3RydWN0
IHBwX2h3bWdyICpod21ncikNCj4gICAgICAgICAgICAgICAgICAgICAgICAgc211bV9zZW5kX21z
Z190b19zbWNfd2l0aF9wYXJhbWV0ZXIoaHdtZ3IsDQo+ICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgUFBTTUNfTVNHX1NldFNvZnRNaW5HZnhjbGtCeUluZGV4LA0KPiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIGRhdGEtPnNtY19zdGF0ZV90YWJsZS5nZnhfYm9vdF9sZXZl
bCk7DQo+ICsNCj4gICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS0+ZHBtX3RhYmxlLmdmeF90
YWJsZS5kcG1fc3RhdGUuc29mdF9taW5fbGV2ZWwgPQ0KPiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgZGF0YS0+c21jX3N0YXRlX3RhYmxlLmdmeF9ib290X2xldmVsOw0K
PiAgICAgICAgICAgICAgICAgfQ0KPiBAQCAtMzUxOCw2ICszNTUzLDkgQEAgc3RhdGljIGludCB2
ZWdhMTBfdXBsb2FkX2RwbV9ib290dXBfbGV2ZWwoc3RydWN0IHBwX2h3bWdyICpod21ncikNCj4g
ICAgICAgICAgICAgICAgIH0NCj4gICAgICAgICB9DQo+DQo+ICsgICAgICAgaWYgKCFod21nci0+
bm90X3ZmKQ0KPiArICAgICAgICAgICAgICAgcmV0dXJuIDA7DQo+ICsNCj4gICAgICAgICBpZiAo
IWRhdGEtPnJlZ2lzdHJ5X2RhdGEuc29jY2xrX2RwbV9rZXlfZGlzYWJsZWQpIHsNCj4gICAgICAg
ICAgICAgICAgIGlmIChkYXRhLT5zbWNfc3RhdGVfdGFibGUuc29jX2Jvb3RfbGV2ZWwgIT0NCj4g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLT5kcG1fdGFibGUuc29jX3RhYmxl
LmRwbV9zdGF0ZS5zb2Z0X21pbl9sZXZlbCkgew0KPiBAQCAtMzU2MCw2ICszNTk4LDkgQEAgc3Rh
dGljIGludCB2ZWdhMTBfdXBsb2FkX2RwbV9tYXhfbGV2ZWwoc3RydWN0IHBwX2h3bWdyICpod21n
cikNCj4gICAgICAgICAgICAgICAgIH0NCj4gICAgICAgICB9DQo+DQo+ICsgICAgICAgaWYgKCFo
d21nci0+bm90X3ZmKQ0KPiArICAgICAgICAgICAgICAgcmV0dXJuIDA7DQo+ICsNCj4gICAgICAg
ICBpZiAoIWRhdGEtPnJlZ2lzdHJ5X2RhdGEuc29jY2xrX2RwbV9rZXlfZGlzYWJsZWQpIHsNCj4g
ICAgICAgICAgICAgICAgIGlmIChkYXRhLT5zbWNfc3RhdGVfdGFibGUuc29jX21heF9sZXZlbCAh
PQ0KPiAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLT5kcG1fdGFibGUuc29jX3RhYmxlLmRw
bV9zdGF0ZS5zb2Z0X21heF9sZXZlbCkgew0KPiBAQCAtNDA1NCwxNSArNDA5NSwyNSBAQCBzdGF0
aWMgaW50IHZlZ2ExMF9nZXRfcHJvZmlsaW5nX2Nsa19tYXNrKHN0cnVjdCBwcF9od21nciAqaHdt
Z3IsIGVudW0gYW1kX2RwbV9mbw0KPiAgICAgICAgIH0gZWxzZSBpZiAobGV2ZWwgPT0gQU1EX0RQ
TV9GT1JDRURfTEVWRUxfUFJPRklMRV9NSU5fTUNMSykgew0KPiAgICAgICAgICAgICAgICAgKm1j
bGtfbWFzayA9IDA7DQo+ICAgICAgICAgfSBlbHNlIGlmIChsZXZlbCA9PSBBTURfRFBNX0ZPUkNF
RF9MRVZFTF9QUk9GSUxFX1BFQUspIHsNCj4gLSAgICAgICAgICAgICAgICpzY2xrX21hc2sgPSB0
YWJsZV9pbmZvLT52ZGRfZGVwX29uX3NjbGstPmNvdW50IC0gMTsNCj4gKyAgICAgICAgICAgICAg
IC8qIHVuZGVyIHZlZ2ExMCAgcHAgb25lIHZmIG1vZGUsIHRoZSBnZnggY2xrIGRwbSBuZWVkIGJl
IGxvd2VyDQo+ICsgICAgICAgICAgICAgICAgKiB0byBsZXZlbC00IGR1ZSB0byB0aGUgbGltaXRl
ZCBwb3dlcg0KPiArICAgICAgICAgICAgICAgICovDQo+ICsgICAgICAgICAgICAgICBpZiAoaHdt
Z3ItPnBwX29uZV92ZikNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgKnNjbGtfbWFzayA9IDQ7
DQo+ICsgICAgICAgICAgICAgICBlbHNlDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICpzY2xr
X21hc2sgPSB0YWJsZV9pbmZvLT52ZGRfZGVwX29uX3NjbGstPmNvdW50IC0gMTsNCj4gICAgICAg
ICAgICAgICAgICpzb2NfbWFzayA9IHRhYmxlX2luZm8tPnZkZF9kZXBfb25fc29jY2xrLT5jb3Vu
dCAtIDE7DQo+ICAgICAgICAgICAgICAgICAqbWNsa19tYXNrID0gdGFibGVfaW5mby0+dmRkX2Rl
cF9vbl9tY2xrLT5jb3VudCAtIDE7DQo+ICAgICAgICAgfQ0KPiArDQo+ICAgICAgICAgcmV0dXJu
IDA7DQo+ICB9DQo+DQo+ICBzdGF0aWMgdm9pZCB2ZWdhMTBfc2V0X2Zhbl9jb250cm9sX21vZGUo
c3RydWN0IHBwX2h3bWdyICpod21nciwgdWludDMyX3QgbW9kZSkNCj4gIHsNCj4gKyAgICAgICBp
ZiAoIWh3bWdyLT5ub3RfdmYpDQo+ICsgICAgICAgICAgICAgICByZXR1cm47DQo+ICsNCj4gICAg
ICAgICBzd2l0Y2ggKG1vZGUpIHsNCj4gICAgICAgICBjYXNlIEFNRF9GQU5fQ1RSTF9OT05FOg0K
PiAgICAgICAgICAgICAgICAgdmVnYTEwX2Zhbl9jdHJsX3NldF9mYW5fc3BlZWRfcGVyY2VudCho
d21nciwgMTAwKTsNCj4gQEAgLTQxNzYsNiArNDIyNyw5IEBAIHN0YXRpYyBpbnQgdmVnYTEwX2Rw
bV9mb3JjZV9kcG1fbGV2ZWwoc3RydWN0IHBwX2h3bWdyICpod21nciwNCj4gICAgICAgICAgICAg
ICAgIGJyZWFrOw0KPiAgICAgICAgIH0NCj4NCj4gKyAgICAgICBpZiAoIWh3bWdyLT5ub3RfdmYp
DQo+ICsgICAgICAgICAgICAgICByZXR1cm4gcmV0Ow0KPiArDQo+ICAgICAgICAgaWYgKCFyZXQp
IHsNCj4gICAgICAgICAgICAgICAgIGlmIChsZXZlbCA9PSBBTURfRFBNX0ZPUkNFRF9MRVZFTF9Q
Uk9GSUxFX1BFQUsgJiYgaHdtZ3ItPmRwbV9sZXZlbCAhPSBBTURfRFBNX0ZPUkNFRF9MRVZFTF9Q
Uk9GSUxFX1BFQUspDQo+ICAgICAgICAgICAgICAgICAgICAgICAgIHZlZ2ExMF9zZXRfZmFuX2Nv
bnRyb2xfbW9kZShod21nciwgQU1EX0ZBTl9DVFJMX05PTkUpOw0KPiBAQCAtNDQ4MCw3ICs0NTM0
LDcgQEAgc3RhdGljIGludCB2ZWdhMTBfcHJpbnRfY2xvY2tfbGV2ZWxzKHN0cnVjdCBwcF9od21n
ciAqaHdtZ3IsDQo+ICAgICAgICAgc3RydWN0IHZlZ2ExMF9wY2llX3RhYmxlICpwY2llX3RhYmxl
ID0gJihkYXRhLT5kcG1fdGFibGUucGNpZV90YWJsZSk7DQo+ICAgICAgICAgc3RydWN0IHZlZ2Ex
MF9vZG5fY2xvY2tfdm9sdGFnZV9kZXBlbmRlbmN5X3RhYmxlICpwb2RuX3ZkZF9kZXAgPSBOVUxM
Ow0KPg0KPiAtICAgICAgIGludCBpLCBub3csIHNpemUgPSAwOw0KPiArICAgICAgIGludCBpLCBu
b3csIHNpemUsIGNvdW50ID0gMDsNCj4NCj4gICAgICAgICBzd2l0Y2ggKHR5cGUpIHsNCj4gICAg
ICAgICBjYXNlIFBQX1NDTEs6DQo+IEBAIC00NDkwLDcgKzQ1NDQsMTIgQEAgc3RhdGljIGludCB2
ZWdhMTBfcHJpbnRfY2xvY2tfbGV2ZWxzKHN0cnVjdCBwcF9od21nciAqaHdtZ3IsDQo+ICAgICAg
ICAgICAgICAgICBzbXVtX3NlbmRfbXNnX3RvX3NtYyhod21nciwgUFBTTUNfTVNHX0dldEN1cnJl
bnRHZnhjbGtJbmRleCk7DQo+ICAgICAgICAgICAgICAgICBub3cgPSBzbXVtX2dldF9hcmd1bWVu
dChod21ncik7DQo+DQo+IC0gICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc2Nsa190YWJs
ZS0+Y291bnQ7IGkrKykNCj4gKyAgICAgICAgICAgICAgIGlmIChod21nci0+cHBfb25lX3ZmICYm
DQo+ICsgICAgICAgICAgICAgICAgICAgKGh3bWdyLT5kcG1fbGV2ZWwgPT0gQU1EX0RQTV9GT1JD
RURfTEVWRUxfUFJPRklMRV9QRUFLKSkNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgY291bnQg
PSA1Ow0KPiArICAgICAgICAgICAgICAgZWxzZQ0KPiArICAgICAgICAgICAgICAgICAgICAgICBj
b3VudCA9IHNjbGtfdGFibGUtPmNvdW50Ow0KPiArICAgICAgICAgICAgICAgZm9yIChpID0gMDsg
aSA8IGNvdW50OyBpKyspDQoNCldvdWxkIGl0IGJlIGJldHRlciB0byBqdXN0IGxpbWl0IHNjbGt0
YWJsZS0+Y291bnQgZGlyZWN0bHkgZm9yIHRoZQ0Kc3ItaW92IGNhc2UsIG9yIGRvIHlvdSBzdGls
bCB3YW50IGFsbCB0aGUgc3RhdGVzIGF2YWlsYWJsZSBmb3IgcmVndWxhcg0KZHBtPw0KW3l0dGFv
XTogaXQgaXMgYSB3b3JrYXJvdW5kIGR1ZSB0byB0aGUgMTEwdyBwb3dlciBsaW1pdCBmb3IgcHAg
b25lIHZmLiBUaGUgcGVyZm9ybWFuY2UgdG9vbCBsaWtlIFJHUCB3aWxsIGNoZWNrIHdoZXRoZXIg
dGhlIHBlYWsgZHBtIGxldmVsIGlzIGNvbnN0YW50Lg0KCQlVbmRlciBwZWFrIG1vZGUsIHRoZSBt
YXggZHBtIGxldmVsIHNob3VsZCBiZSA1IGJ1dCB1bmRlciBoaWdoZXN0IG1vZGUsIHRoZSBtYXgg
ZHBtIGxldmVsIHNob3VsZCBiZSA3IHRob3VnaCBpdCB3aWxsIGJlIGRvd24gYWZ0ZXIgYSB3aGls
ZQ0KCQlEdWUgdG8gdGhlIDExMHcgcG93ZXIgbGltaXQuDQoNCg0KPiAgICAgICAgICAgICAgICAg
ICAgICAgICBzaXplICs9IHNwcmludGYoYnVmICsgc2l6ZSwgIiVkOiAldU1oeiAlc1xuIiwNCj4g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGksIHNjbGtfdGFibGUtPmRw
bV9sZXZlbHNbaV0udmFsdWUgLyAxMDAsDQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAoaSA9PSBub3cpID8gIioiIDogIiIpOw0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaW5jL2h3bWdyLmggYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L3Bvd2VycGxheS9pbmMvaHdtZ3IuaA0KPiBpbmRleCBhZjk3NzY3NWZkMzMuLjJmZmI2NjZiOTdl
NiAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaW5jL2h3bWdy
LmgNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaW5jL2h3bWdyLmgNCj4g
QEAgLTc0MSw2ICs3NDEsNyBAQCBzdHJ1Y3QgcHBfaHdtZ3Igew0KPiAgICAgICAgIHVpbnQzMl90
IHNtdV92ZXJzaW9uOw0KPiAgICAgICAgIGJvb2wgbm90X3ZmOw0KPiAgICAgICAgIGJvb2wgcG1f
ZW47DQo+ICsgICAgICAgYm9vbCBwcF9vbmVfdmY7DQo+ICAgICAgICAgc3RydWN0IG11dGV4IHNt
dV9sb2NrOw0KPg0KPiAgICAgICAgIHVpbnQzMl90IHBwX3RhYmxlX3ZlcnNpb247DQo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9zbXVtZ3Ivc211OV9zbXVtZ3Iu
YyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3NtdW1nci9zbXU5X3NtdW1nci5jDQo+
IGluZGV4IDc0MmIzZGMxZjZjYi4uYTg1NzhhMjdjYWIyIDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL3Bvd2VycGxheS9zbXVtZ3Ivc211OV9zbXVtZ3IuYw0KPiArKysgYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9zbXVtZ3Ivc211OV9zbXVtZ3IuYw0KPiBAQCAtNjEs
MTUgKzYxLDI5IEBAIHN0YXRpYyB1aW50MzJfdCBzbXU5X3dhaXRfZm9yX3Jlc3BvbnNlKHN0cnVj
dCBwcF9od21nciAqaHdtZ3IpDQo+ICAgICAgICAgdWludDMyX3QgcmVnOw0KPiAgICAgICAgIHVp
bnQzMl90IHJldDsNCj4NCj4gLSAgICAgICByZWcgPSBTT0MxNV9SRUdfT0ZGU0VUKE1QMSwgMCwg
bW1NUDFfU01OX0MyUE1TR185MCk7DQo+ICsgICAgICAgLyogRHVlIHRvIHRoZSBMMSBwb2xpY3kg
cHJvYmxlbSB1bmRlciBTUklPViwgd2UgaGF2ZSB0byB1c2UNCj4gKyAgICAgICAgKiBtbU1QMV9T
TU5fQzJQTVNHXzEwMyBhcyB0aGUgZHJpdmVyIHJlc3BvbnNlIHJlZ2lzdGVyDQo+ICsgICAgICAg
ICovDQo+ICsgICAgICAgaWYgKGh3bWdyLT5wcF9vbmVfdmYpIHsNCj4gKyAgICAgICAgICAgICAg
IHJlZyA9IFNPQzE1X1JFR19PRkZTRVQoTVAxLCAwLCBtbU1QMV9TTU5fQzJQTVNHXzEwMyk7DQo+
DQo+IC0gICAgICAgcmV0ID0gcGhtX3dhaXRfZm9yX3JlZ2lzdGVyX3VuZXF1YWwoaHdtZ3IsIHJl
ZywNCj4gLSAgICAgICAgICAgICAgICAgICAgICAgMCwgTVAxX0MyUE1TR185MF9fQ09OVEVOVF9N
QVNLKTsNCj4gKyAgICAgICAgICAgICAgIHJldCA9IHBobV93YWl0X2Zvcl9yZWdpc3Rlcl91bmVx
dWFsKGh3bWdyLCByZWcsDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMCwgTVAx
X0MyUE1TR18xMDNfX0NPTlRFTlRfTUFTSyk7DQo+DQo+IC0gICAgICAgaWYgKHJldCkNCj4gLSAg
ICAgICAgICAgICAgIHByX2VycigiTm8gcmVzcG9uc2UgZnJvbSBzbXVcbiIpOw0KPiArICAgICAg
ICAgICAgICAgaWYgKHJldCkNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgcHJfZXJyKCJObyBy
ZXNwb25zZSBmcm9tIHNtdVxuIik7DQo+DQo+IC0gICAgICAgcmV0dXJuIFJSRUczMl9TT0MxNShN
UDEsIDAsIG1tTVAxX1NNTl9DMlBNU0dfOTApOw0KPiArICAgICAgICAgICAgICAgcmV0dXJuIFJS
RUczMl9TT0MxNShNUDEsIDAsIG1tTVAxX1NNTl9DMlBNU0dfMTAzKTsNCj4gKyAgICAgICB9IGVs
c2Ugew0KPiArICAgICAgICAgICAgICAgcmVnID0gU09DMTVfUkVHX09GRlNFVChNUDEsIDAsIG1t
TVAxX1NNTl9DMlBNU0dfOTApOw0KPiArDQo+ICsgICAgICAgICAgICAgICByZXQgPSBwaG1fd2Fp
dF9mb3JfcmVnaXN0ZXJfdW5lcXVhbChod21nciwgcmVnLA0KPiArICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIDAsIE1QMV9DMlBNU0dfOTBfX0NPTlRFTlRfTUFTSyk7DQo+ICsNCj4gKyAg
ICAgICAgICAgICAgIGlmIChyZXQpDQo+ICsgICAgICAgICAgICAgICAgICAgICAgIHByX2Vycigi
Tm8gcmVzcG9uc2UgZnJvbSBzbXVcbiIpOw0KPiArICAgICAgICAgICAgICAgcmV0dXJuIFJSRUcz
Ml9TT0MxNShNUDEsIDAsIG1tTVAxX1NNTl9DMlBNU0dfOTApOw0KPiArICAgICAgIH0NCj4gIH0N
Cj4NCj4gIC8qDQo+IEBAIC04Myw3ICs5NywxMCBAQCBzdGF0aWMgaW50IHNtdTlfc2VuZF9tc2df
dG9fc21jX3dpdGhvdXRfd2FpdGluZyhzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyLA0KPiAgew0KPiAg
ICAgICAgIHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gaHdtZ3ItPmFkZXY7DQo+DQo+IC0g
ICAgICAgV1JFRzMyX1NPQzE1KE1QMSwgMCwgbW1NUDFfU01OX0MyUE1TR182NiwgbXNnKTsNCj4g
KyAgICAgICBpZiAoaHdtZ3ItPnBwX29uZV92Zikgew0KPiArICAgICAgICAgICAgICAgV1JFRzMy
X1NPQzE1KE1QMSwgMCwgbW1NUDFfU01OX0MyUE1TR18xMDEsIG1zZyk7DQo+ICsgICAgICAgfSBl
bHNlDQo+ICsgICAgICAgICAgICAgICBXUkVHMzJfU09DMTUoTVAxLCAwLCBtbU1QMV9TTU5fQzJQ
TVNHXzY2LCBtc2cpOw0KDQpQbGVhc2UgZml4IHVwIHRoZSBwYXJlbnMgaGVyZSB0byBiZSBjb25z
aXN0ZW50Lg0KDQpUaGFua3MsDQoNCkFsZXgNCg0KPg0KPiAgICAgICAgIHJldHVybiAwOw0KPiAg
fQ0KPiBAQCAtMTAxLDcgKzExOCwxMCBAQCBpbnQgc211OV9zZW5kX21zZ190b19zbWMoc3RydWN0
IHBwX2h3bWdyICpod21nciwgdWludDE2X3QgbXNnKQ0KPg0KPiAgICAgICAgIHNtdTlfd2FpdF9m
b3JfcmVzcG9uc2UoaHdtZ3IpOw0KPg0KPiAtICAgICAgIFdSRUczMl9TT0MxNShNUDEsIDAsIG1t
TVAxX1NNTl9DMlBNU0dfOTAsIDApOw0KPiArICAgICAgIGlmIChod21nci0+cHBfb25lX3ZmKQ0K
PiArICAgICAgICAgICAgICAgV1JFRzMyX1NPQzE1KE1QMSwgMCwgbW1NUDFfU01OX0MyUE1TR18x
MDMsIDApOw0KPiArICAgICAgIGVsc2UNCj4gKyAgICAgICAgICAgICAgIFdSRUczMl9TT0MxNShN
UDEsIDAsIG1tTVAxX1NNTl9DMlBNU0dfOTAsIDApOw0KPg0KPiAgICAgICAgIHNtdTlfc2VuZF9t
c2dfdG9fc21jX3dpdGhvdXRfd2FpdGluZyhod21nciwgbXNnKTsNCj4NCj4gQEAgLTEyNyw5ICsx
NDcsMTcgQEAgaW50IHNtdTlfc2VuZF9tc2dfdG9fc21jX3dpdGhfcGFyYW1ldGVyKHN0cnVjdCBw
cF9od21nciAqaHdtZ3IsDQo+DQo+ICAgICAgICAgc211OV93YWl0X2Zvcl9yZXNwb25zZShod21n
cik7DQo+DQo+IC0gICAgICAgV1JFRzMyX1NPQzE1KE1QMSwgMCwgbW1NUDFfU01OX0MyUE1TR185
MCwgMCk7DQo+IC0NCj4gLSAgICAgICBXUkVHMzJfU09DMTUoTVAxLCAwLCBtbU1QMV9TTU5fQzJQ
TVNHXzgyLCBwYXJhbWV0ZXIpOw0KPiArICAgICAgIC8qIER1ZSB0byB0aGUgTDEgcG9saWN5IHBy
b2JsZW0gdW5kZXIgU1JJT1YsIHdlIGhhdmUgdG8gdXNlDQo+ICsgICAgICAgICogbW1NUDFfU01O
X0MyUE1TR18xMDEgYXMgdGhlIGRyaXZlciBtZXNzYWdlIHJlZ2lzdGVyIGFuZA0KPiArICAgICAg
ICAqIG1tTVAxX1NNTl9DMlBNU0dfMTAyIGFzIHRoZSBkcml2ZXIgcGFyYW1ldGVyIHJlZ2lzdGVy
Lg0KPiArICAgICAgICAqLw0KPiArICAgICAgIGlmIChod21nci0+cHBfb25lX3ZmKSB7DQo+ICsg
ICAgICAgICAgICAgICBXUkVHMzJfU09DMTUoTVAxLCAwLCBtbU1QMV9TTU5fQzJQTVNHXzEwMywg
MCk7DQo+ICsgICAgICAgICAgICAgICBXUkVHMzJfU09DMTUoTVAxLCAwLCBtbU1QMV9TTU5fQzJQ
TVNHXzEwMiwgcGFyYW1ldGVyKTsNCj4gKyAgICAgICB9IGVsc2Ugew0KPiArICAgICAgICAgICAg
ICAgV1JFRzMyX1NPQzE1KE1QMSwgMCwgbW1NUDFfU01OX0MyUE1TR185MCwgMCk7DQo+ICsgICAg
ICAgICAgICAgICBXUkVHMzJfU09DMTUoTVAxLCAwLCBtbU1QMV9TTU5fQzJQTVNHXzgyLCBwYXJh
bWV0ZXIpOw0KPiArICAgICAgIH0NCj4NCj4gICAgICAgICBzbXU5X3NlbmRfbXNnX3RvX3NtY193
aXRob3V0X3dhaXRpbmcoaHdtZ3IsIG1zZyk7DQo+DQo+IEBAIC0xNDQsNSArMTcyLDggQEAgdWlu
dDMyX3Qgc211OV9nZXRfYXJndW1lbnQoc3RydWN0IHBwX2h3bWdyICpod21ncikNCj4gIHsNCj4g
ICAgICAgICBzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IGh3bWdyLT5hZGV2Ow0KPg0KPiAt
ICAgICAgIHJldHVybiBSUkVHMzJfU09DMTUoTVAxLCAwLCBtbU1QMV9TTU5fQzJQTVNHXzgyKTsN
Cj4gKyAgICAgICBpZiAoaHdtZ3ItPnBwX29uZV92ZikNCj4gKyAgICAgICAgICAgICAgIHJldHVy
biBSUkVHMzJfU09DMTUoTVAxLCAwLCBtbU1QMV9TTU5fQzJQTVNHXzEwMik7DQo+ICsgICAgICAg
ZWxzZQ0KPiArICAgICAgICAgICAgICAgcmV0dXJuIFJSRUczMl9TT0MxNShNUDEsIDAsIG1tTVAx
X1NNTl9DMlBNU0dfODIpOw0KPiAgfQ0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9wb3dlcnBsYXkvc211bWdyL3ZlZ2ExMF9zbXVtZ3IuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
cG93ZXJwbGF5L3NtdW1nci92ZWdhMTBfc211bWdyLmMNCj4gaW5kZXggMGYzODM2ZmQ5NjY2Li5i
ZWEzMzdhNmM1YjcgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5
L3NtdW1nci92ZWdhMTBfc211bWdyLmMNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dl
cnBsYXkvc211bWdyL3ZlZ2ExMF9zbXVtZ3IuYw0KPiBAQCAtNzEsNiArNzEsMTIgQEAgc3RhdGlj
IGludCB2ZWdhMTBfY29weV90YWJsZV90b19zbWMoc3RydWN0IHBwX2h3bWdyICpod21nciwNCj4g
IHsNCj4gICAgICAgICBzdHJ1Y3QgdmVnYTEwX3NtdW1nciAqcHJpdiA9IGh3bWdyLT5zbXVfYmFj
a2VuZDsNCj4NCj4gKyAgICAgICAvKiB1bmRlciBwcF9vbmVfdmYgbW9kZSwgdmJpb3Mgb3IgaHlw
ZXJ2aXNvciBkcml2ZXINCj4gKyAgICAgICAgKiBoYXMgYWxyZWFkeSBjb3B5IHRhYmxlIHRvIHNt
YyBzbyBoZXJlIG9ubHkgc2tpcCBpdA0KPiArICAgICAgICAqLw0KPiArICAgICAgIGlmICghaHdt
Z3ItPm5vdF92ZiAmJiAhaHdtZ3ItPnBwX29uZV92ZikNCj4gKyAgICAgICAgICAgICAgIHJldHVy
biAwOw0KPiArDQo+ICAgICAgICAgUFBfQVNTRVJUX1dJVEhfQ09ERSh0YWJsZV9pZCA8IE1BWF9T
TVVfVEFCTEUsDQo+ICAgICAgICAgICAgICAgICAgICAgICAgICJJbnZhbGlkIFNNVSBUYWJsZSBJ
RCEiLCByZXR1cm4gLUVJTlZBTCk7DQo+ICAgICAgICAgUFBfQVNTRVJUX1dJVEhfQ09ERShwcml2
LT5zbXVfdGFibGVzLmVudHJ5W3RhYmxlX2lkXS52ZXJzaW9uICE9IDAsDQo+IC0tDQo+IDIuMTcu
MQ0KPg0KPiBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXw0K
PiBhbWQtZ2Z4IG1haWxpbmcgbGlzdA0KPiBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZw0K
PiBodHRwczovL25hbTExLnNhZmVsaW5rcy5wcm90ZWN0aW9uLm91dGxvb2suY29tLz91cmw9aHR0
cHMlM0ElMkYlMkZsaXN0cy5mcmVlZGVza3RvcC5vcmclMkZtYWlsbWFuJTJGbGlzdGluZm8lMkZh
bWQtZ2Z4JmFtcDtkYXRhPTAyJTdDMDElN0NZaW50aWFuLlRhbyU0MGFtZC5jb20lN0NhOGNmNjg2
OTg2MzQ0YzhhOTE0ODA4ZDc3Y2M4MmYwOSU3QzNkZDg5NjFmZTQ4ODRlNjA4ZTExYTgyZDk5NGUx
ODNkJTdDMCU3QzAlN0M2MzcxMTUwNzE1MzYzNzM5ODEmYW1wO3NkYXRhPUxRU1ZkckNJanJMRGNH
M2xBR29oaGtxNG5KNGxHVGZ6eWhWRCUyQmZqWDhWQSUzRCZhbXA7cmVzZXJ2ZWQ9MA0KX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5n
IGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVz
a3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4
