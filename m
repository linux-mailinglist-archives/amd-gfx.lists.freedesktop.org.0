Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id C13671148F3
	for <lists+amd-gfx@lfdr.de>; Thu,  5 Dec 2019 22:58:32 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 556AE6F907;
	Thu,  5 Dec 2019 21:58:31 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail.rptsys.com (mail.rptsys.com [23.155.224.45])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 47AC16F907
 for <amd-gfx@lists.freedesktop.org>; Thu,  5 Dec 2019 21:58:29 +0000 (UTC)
Received: from localhost (localhost [127.0.0.1])
 by mail.rptsys.com (Postfix) with ESMTP id AACBBEA6EB868
 for <amd-gfx@lists.freedesktop.org>; Thu,  5 Dec 2019 15:58:28 -0600 (CST)
Received: from mail.rptsys.com ([127.0.0.1])
 by localhost (vali.starlink.edu [127.0.0.1]) (amavisd-new, port 10032)
 with ESMTP id 0ir0n5q4M2WP for <amd-gfx@lists.freedesktop.org>;
 Thu,  5 Dec 2019 15:58:26 -0600 (CST)
Received: from localhost (localhost [127.0.0.1])
 by mail.rptsys.com (Postfix) with ESMTP id 64F79EA6EB513
 for <amd-gfx@lists.freedesktop.org>; Thu,  5 Dec 2019 15:58:26 -0600 (CST)
DKIM-Filter: OpenDKIM Filter v2.10.3 mail.rptsys.com 64F79EA6EB513
X-Virus-Scanned: amavisd-new at rptsys.com
Received: from mail.rptsys.com ([127.0.0.1])
 by localhost (vali.starlink.edu [127.0.0.1]) (amavisd-new, port 10026)
 with ESMTP id CGQQaaFs2WJo for <amd-gfx@lists.freedesktop.org>;
 Thu,  5 Dec 2019 15:58:26 -0600 (CST)
Received: from vali.starlink.edu (unknown [192.168.3.2])
 by mail.rptsys.com (Postfix) with ESMTP id 3FC11EA6EB510
 for <amd-gfx@lists.freedesktop.org>; Thu,  5 Dec 2019 15:58:26 -0600 (CST)
Date: Thu, 5 Dec 2019 15:58:25 -0600 (CST)
From: Timothy Pearson <tpearson@raptorengineering.com>
To: amd-gfx <amd-gfx@lists.freedesktop.org>
Message-ID: <582048180.3885508.1575583105358.JavaMail.zimbra@raptorengineeringinc.com>
In-Reply-To: <756058159.3882541.1575581964361.JavaMail.zimbra@raptorengineeringinc.com>
References: <756058159.3882541.1575581964361.JavaMail.zimbra@raptorengineeringinc.com>
Subject: [PATCH] [RFC v2] amdgpu: Enable full DCN support on POWER
MIME-Version: 1.0
X-Mailer: Zimbra 8.5.0_GA_3042 (ZimbraWebClient - GC65 (Linux)/8.5.0_GA_3042)
Thread-Topic: amdgpu: Enable full DCN support on POWER
Thread-Index: RRmCzvhTzsfcCUXiXGsYGFpy0PK6KuugByjB
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=raptorengineering.com; s=B8E824E6-0BE2-11E6-931D-288C65937AAD;
 t=1575583106; bh=NbKYMLbd8BKBW9R5QRkHIyjjtRrQ40i0tdgE94RpCLw=;
 h=Date:From:To:Message-ID:MIME-Version;
 b=saKN+z7W1xeXeXCaHQDAyRoAsMH8JjQxWWyKCUEppiarhDP9EdvH4Cj+SYXJ4GrfX
 zB92ud/der3JVu/RDKNyda10kbIPUfylxY3R14viYr7lkvFRRWkDLcDf0QZM0HHOGj
 3529Zt0zKV2ngTj4QiA5X8Y9oXz/GMq+zeEQ8cW0=
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RENOIHJlcXVpcmVzIGZsb2F0aW5nIHBvaW50IHN1cHBvcnQgdG8gb3BlcmF0ZS4gIEFkZCB0aGUg
YXBwcm9wcmlhdGUKeDg2L3BwYzY0IGd1YXJkcyBhbmQgRlBVIC8gQWx0aVZlYyAvIFZTWCBjb250
ZXh0IHN3aXRjaGVzIHRvIERDTi4KClNpZ25lZC1vZmYtYnk6IFRpbW90aHkgUGVhcnNvbiA8dHBl
YXJzb25AcmFwdG9yZW5naW5lZXJpbmcuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvZGlz
cGxheS9LY29uZmlnICAgICAgICAgICB8ICAgOCArLQogZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNw
bGF5L2RjL01ha2VmaWxlICAgICAgIHwgICAxICsKIGRyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxh
eS9kYy9jYWxjcy9NYWtlZmlsZSB8ICAgOCArCiAuLi4vZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9j
YWxjcy9kY25fY2FsY3MuYyAgfCAxNTcgKysrKysrKysrKysrKysrKysrCiBkcml2ZXJzL2dwdS9k
cm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjAvTWFrZWZpbGUgfCAgIDggKwogLi4uL2RybS9hbWQvZGlz
cGxheS9kYy9kY24yMC9kY24yMF9yZXNvdXJjZS5jIHwgIDI3ICsrKwogZHJpdmVycy9ncHUvZHJt
L2FtZC9kaXNwbGF5L2RjL2RjbjIxL01ha2VmaWxlIHwgICA4ICsKIC4uLi9kcm0vYW1kL2Rpc3Bs
YXkvZGMvZGNuMjEvZGNuMjFfcmVzb3VyY2UuYyB8ICAyNyArKysKIGRyaXZlcnMvZ3B1L2RybS9h
bWQvZGlzcGxheS9kYy9kbWwvTWFrZWZpbGUgICB8ICAgOSArCiBkcml2ZXJzL2dwdS9kcm0vYW1k
L2Rpc3BsYXkvZGMvZHNjL01ha2VmaWxlICAgfCAgIDggKwogZHJpdmVycy9ncHUvZHJtL2FtZC9k
aXNwbGF5L2RjL29zX3R5cGVzLmggICAgIHwgICA2ICsKIDExIGZpbGVzIGNoYW5nZWQsIDI2MyBp
bnNlcnRpb25zKCspLCA0IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvZGlzcGxheS9LY29uZmlnIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L0tjb25m
aWcKaW5kZXggMzEzMTgzYjgwMDMyLi5jNzNhNjNmM2UyNDUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvZGlzcGxheS9LY29uZmlnCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlz
cGxheS9LY29uZmlnCkBAIC02LDcgKzYsNyBAQCBjb25maWcgRFJNX0FNRF9EQwogCWJvb2wgIkFN
RCBEQyAtIEVuYWJsZSBuZXcgZGlzcGxheSBlbmdpbmUiCiAJZGVmYXVsdCB5CiAJc2VsZWN0IFNO
RF9IREFfQ09NUE9ORU5UIGlmIFNORF9IREFfQ09SRQotCXNlbGVjdCBEUk1fQU1EX0RDX0RDTjFf
MCBpZiBYODYgJiYgIShLQ09WX0lOU1RSVU1FTlRfQUxMICYmIEtDT1ZfRU5BQkxFX0NPTVBBUklT
T05TKQorCXNlbGVjdCBEUk1fQU1EX0RDX0RDTjFfMCBpZiAoWDg2IHx8IFBQQzY0KSAmJiAhKEtD
T1ZfSU5TVFJVTUVOVF9BTEwgJiYgS0NPVl9FTkFCTEVfQ09NUEFSSVNPTlMpCiAJaGVscAogCSAg
Q2hvb3NlIHRoaXMgb3B0aW9uIGlmIHlvdSB3YW50IHRvIHVzZSB0aGUgbmV3IGRpc3BsYXkgZW5n
aW5lCiAJICBzdXBwb3J0IGZvciBBTURHUFUuIFRoaXMgYWRkcyByZXF1aXJlZCBzdXBwb3J0IGZv
ciBWZWdhIGFuZApAQCAtMjAsNyArMjAsNyBAQCBjb25maWcgRFJNX0FNRF9EQ19EQ04xXzAKIGNv
bmZpZyBEUk1fQU1EX0RDX0RDTjJfMAogCWJvb2wgIkRDTiAyLjAgZmFtaWx5IgogCWRlZmF1bHQg
eQotCWRlcGVuZHMgb24gRFJNX0FNRF9EQyAmJiBYODYKKwlkZXBlbmRzIG9uIERSTV9BTURfREMg
JiYgKFg4NiB8fCBQUEM2NCkKIAlkZXBlbmRzIG9uIERSTV9BTURfRENfRENOMV8wCiAJaGVscAog
CSAgQ2hvb3NlIHRoaXMgb3B0aW9uIGlmIHlvdSB3YW50IHRvIGhhdmUKQEAgLTI4LDcgKzI4LDcg
QEAgY29uZmlnIERSTV9BTURfRENfRENOMl8wCiAKIGNvbmZpZyBEUk1fQU1EX0RDX0RDTjJfMQog
CWJvb2wgIkRDTiAyLjEgZmFtaWx5IgotCWRlcGVuZHMgb24gRFJNX0FNRF9EQyAmJiBYODYKKwlk
ZXBlbmRzIG9uIERSTV9BTURfREMgJiYgKFg4NiB8fCBQUEM2NCkKIAlkZXBlbmRzIG9uIERSTV9B
TURfRENfRENOMl8wCiAJaGVscAogCSAgQ2hvb3NlIHRoaXMgb3B0aW9uIGlmIHlvdSB3YW50IHRv
IGhhdmUKQEAgLTM3LDcgKzM3LDcgQEAgY29uZmlnIERSTV9BTURfRENfRENOMl8xCiBjb25maWcg
RFJNX0FNRF9EQ19EU0NfU1VQUE9SVAogCWJvb2wgIkRTQyBzdXBwb3J0IgogCWRlZmF1bHQgeQot
CWRlcGVuZHMgb24gRFJNX0FNRF9EQyAmJiBYODYKKwlkZXBlbmRzIG9uIERSTV9BTURfREMgJiYg
KFg4NiB8fCBQUEM2NCkKIAlkZXBlbmRzIG9uIERSTV9BTURfRENfRENOMV8wCiAJZGVwZW5kcyBv
biBEUk1fQU1EX0RDX0RDTjJfMAogCWhlbHAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9h
bWQvZGlzcGxheS9kYy9NYWtlZmlsZSBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9N
YWtlZmlsZQppbmRleCBhMTYwNTEyYTJmMDQuLjNlMDI2YTk2OTM4NiAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL01ha2VmaWxlCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvZGlzcGxheS9kYy9NYWtlZmlsZQpAQCAtMSw1ICsxLDYgQEAKICMKICMgQ29weXJpZ2h0
IDIwMTcgQWR2YW5jZWQgTWljcm8gRGV2aWNlcywgSW5jLgorIyBDb3B5cmlnaHQgMjAxOSBSYXB0
b3IgRW5naW5lZXJpbmcsIExMQwogIwogIyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBm
cmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYQogIyBjb3B5IG9mIHRoaXMg
c29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2Fy
ZSIpLApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2NhbGNzL01h
a2VmaWxlIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2NhbGNzL01ha2VmaWxlCmlu
ZGV4IDI2YzZkNzM1Y2RjNy4uMjBjODhhZmY5MzBhIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL2Rpc3BsYXkvZGMvY2FsY3MvTWFrZWZpbGUKKysrIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9kaXNwbGF5L2RjL2NhbGNzL01ha2VmaWxlCkBAIC0yNCw3ICsyNCwxMyBAQAogIyBJdCBjYWxj
dWxhdGVzIEJhbmR3aWR0aCBhbmQgV2F0ZXJtYXJrcyB2YWx1ZXMgZm9yIEhXIHByb2dyYW1taW5n
CiAjCiAKK2lmZGVmIENPTkZJR19YODZfNjQKIGNhbGNzX2NjZmxhZ3MgOj0gLW1oYXJkLWZsb2F0
IC1tc3NlCitlbmRpZgorCitpZmRlZiBDT05GSUdfUFBDNjQKK2NhbGNzX2NjZmxhZ3MgOj0gLW1o
YXJkLWZsb2F0IC1tYWx0aXZlYworZW5kaWYKIAogaWZkZWYgQ09ORklHX0NDX0lTX0dDQwogaWZl
cSAoJChjYWxsIGNjLWlmdmVyc2lvbiwgLWx0LCAwNzAxLCB5KSwgeSkKQEAgLTMyLDYgKzM4LDcg
QEAgSVNfT0xEX0dDQyA9IDEKIGVuZGlmCiBlbmRpZgogCitpZmRlZiBDT05GSUdfWDg2XzY0CiBp
ZmRlZiBJU19PTERfR0NDCiAjIFN0YWNrIGFsaWdubWVudCBtaXNtYXRjaCwgcHJvY2VlZCB3aXRo
IGNhdXRpb24uCiAjIEdDQyA8IDcuMSBjYW5ub3QgY29tcGlsZSBjb2RlIHVzaW5nIGBkb3VibGVg
IGFuZCAtbXByZWZlcnJlZC1zdGFjay1ib3VuZGFyeT0zCkBAIC00MCw2ICs0Nyw3IEBAIGNhbGNz
X2NjZmxhZ3MgKz0gLW1wcmVmZXJyZWQtc3RhY2stYm91bmRhcnk9NAogZWxzZQogY2FsY3NfY2Nm
bGFncyArPSAtbXNzZTIKIGVuZGlmCitlbmRpZgogCiBDRkxBR1NfJChBTUREQUxQQVRIKS9kYy9j
YWxjcy9kY25fY2FsY3MubyA6PSAkKGNhbGNzX2NjZmxhZ3MpCiBDRkxBR1NfJChBTUREQUxQQVRI
KS9kYy9jYWxjcy9kY25fY2FsY19hdXRvLm8gOj0gJChjYWxjc19jY2ZsYWdzKQpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2NhbGNzL2Rjbl9jYWxjcy5jIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2NhbGNzL2Rjbl9jYWxjcy5jCmluZGV4IDliMmNi
NTdiZjJiYS4uMjM2ZTg1MmVhNjBiIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rp
c3BsYXkvZGMvY2FsY3MvZGNuX2NhbGNzLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNw
bGF5L2RjL2NhbGNzL2Rjbl9jYWxjcy5jCkBAIC0xLDUgKzEsNiBAQAogLyoKICAqIENvcHlyaWdo
dCAyMDE3IEFkdmFuY2VkIE1pY3JvIERldmljZXMsIEluYy4KKyAqIENvcHlyaWdodCAyMDE5IFJh
cHRvciBFbmdpbmVlcmluZywgTExDCiAgKgogICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRl
ZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEKICAqIGNvcHkgb2Yg
dGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNv
ZnR3YXJlIiksCkBAIC02MjYsNyArNjI3LDIwIEBAIHN0YXRpYyBib29sIGRjbl9id19hcHBseV9y
ZWdpc3RyeV9vdmVycmlkZShzdHJ1Y3QgZGMgKmRjKQogewogCWJvb2wgdXBkYXRlZCA9IGZhbHNl
OwogCisjaWYgZGVmaW5lZChDT05GSUdfWDg2XzY0KQogCWtlcm5lbF9mcHVfYmVnaW4oKTsKKyNl
bGlmIGRlZmluZWQoQ09ORklHX1BQQzY0KQorCWlmIChjcHVfaGFzX2ZlYXR1cmUoQ1BVX0ZUUl9W
U1hfQ09NUCkpIHsKKwkJcHJlZW1wdF9kaXNhYmxlKCk7CisJCWVuYWJsZV9rZXJuZWxfdnN4KCk7
CisJfSBlbHNlIGlmIChjcHVfaGFzX2ZlYXR1cmUoQ1BVX0ZUUl9BTFRJVkVDX0NPTVApKSB7CisJ
CXByZWVtcHRfZGlzYWJsZSgpOworCQllbmFibGVfa2VybmVsX2FsdGl2ZWMoKTsKKwl9IGVsc2Ug
aWYgKCFjcHVfaGFzX2ZlYXR1cmUoQ1BVX0ZUUl9GUFVfVU5BVkFJTEFCTEUpKSB7CisJCXByZWVt
cHRfZGlzYWJsZSgpOworCQllbmFibGVfa2VybmVsX2ZwKCk7CisJfQorI2VuZGlmCiAJaWYgKChp
bnQpKGRjLT5kY25fc29jLT5zcl9leGl0X3RpbWUgKiAxMDAwKSAhPSBkYy0+ZGVidWcuc3JfZXhp
dF90aW1lX25zCiAJCQkmJiBkYy0+ZGVidWcuc3JfZXhpdF90aW1lX25zKSB7CiAJCXVwZGF0ZWQg
PSB0cnVlOwpAQCAtNjYyLDcgKzY3NiwyMCBAQCBzdGF0aWMgYm9vbCBkY25fYndfYXBwbHlfcmVn
aXN0cnlfb3ZlcnJpZGUoc3RydWN0IGRjICpkYykKIAkJZGMtPmRjbl9zb2MtPmRyYW1fY2xvY2tf
Y2hhbmdlX2xhdGVuY3kgPQogCQkJCWRjLT5kZWJ1Zy5kcmFtX2Nsb2NrX2NoYW5nZV9sYXRlbmN5
X25zIC8gMTAwMC4wOwogCX0KKyNpZiBkZWZpbmVkKENPTkZJR19YODZfNjQpCiAJa2VybmVsX2Zw
dV9lbmQoKTsKKyNlbGlmIGRlZmluZWQoQ09ORklHX1BQQzY0KQorCWlmIChjcHVfaGFzX2ZlYXR1
cmUoQ1BVX0ZUUl9WU1hfQ09NUCkpIHsKKwkJZGlzYWJsZV9rZXJuZWxfdnN4KCk7CisJCXByZWVt
cHRfZW5hYmxlKCk7CisJfSBlbHNlIGlmIChjcHVfaGFzX2ZlYXR1cmUoQ1BVX0ZUUl9BTFRJVkVD
X0NPTVApKSB7CisJCWRpc2FibGVfa2VybmVsX2FsdGl2ZWMoKTsKKwkJcHJlZW1wdF9lbmFibGUo
KTsKKwl9IGVsc2UgaWYgKCFjcHVfaGFzX2ZlYXR1cmUoQ1BVX0ZUUl9GUFVfVU5BVkFJTEFCTEUp
KSB7CisJCWRpc2FibGVfa2VybmVsX2ZwKCk7CisJCXByZWVtcHRfZW5hYmxlKCk7CisJfQorI2Vu
ZGlmCiAKIAlyZXR1cm4gdXBkYXRlZDsKIH0KQEAgLTc0Miw3ICs3NjksMjAgQEAgYm9vbCBkY25f
dmFsaWRhdGVfYmFuZHdpZHRoKAogCQlkY25fYndfc3luY19jYWxjc19hbmRfZG1sKGRjKTsKIAog
CW1lbXNldCh2LCAwLCBzaXplb2YoKnYpKTsKKyNpZiBkZWZpbmVkKENPTkZJR19YODZfNjQpCiAJ
a2VybmVsX2ZwdV9iZWdpbigpOworI2VsaWYgZGVmaW5lZChDT05GSUdfUFBDNjQpCisJaWYgKGNw
dV9oYXNfZmVhdHVyZShDUFVfRlRSX1ZTWF9DT01QKSkgeworCQlwcmVlbXB0X2Rpc2FibGUoKTsK
KwkJZW5hYmxlX2tlcm5lbF92c3goKTsKKwl9IGVsc2UgaWYgKGNwdV9oYXNfZmVhdHVyZShDUFVf
RlRSX0FMVElWRUNfQ09NUCkpIHsKKwkJcHJlZW1wdF9kaXNhYmxlKCk7CisJCWVuYWJsZV9rZXJu
ZWxfYWx0aXZlYygpOworCX0gZWxzZSBpZiAoIWNwdV9oYXNfZmVhdHVyZShDUFVfRlRSX0ZQVV9V
TkFWQUlMQUJMRSkpIHsKKwkJcHJlZW1wdF9kaXNhYmxlKCk7CisJCWVuYWJsZV9rZXJuZWxfZnAo
KTsKKwl9CisjZW5kaWYKIAogCXYtPnNyX2V4aXRfdGltZSA9IGRjLT5kY25fc29jLT5zcl9leGl0
X3RpbWU7CiAJdi0+c3JfZW50ZXJfcGx1c19leGl0X3RpbWUgPSBkYy0+ZGNuX3NvYy0+c3JfZW50
ZXJfcGx1c19leGl0X3RpbWU7CkBAIC0xMjc1LDcgKzEzMTUsMjAgQEAgYm9vbCBkY25fdmFsaWRh
dGVfYmFuZHdpZHRoKAogCWJ3X2xpbWl0ID0gZGMtPmRjbl9zb2MtPnBlcmNlbnRfZGlzcF9id19s
aW1pdCAqIHYtPmZhYnJpY19hbmRfZHJhbV9iYW5kd2lkdGhfdm1heDBwOTsKIAlid19saW1pdF9w
YXNzID0gKHYtPnRvdGFsX2RhdGFfcmVhZF9iYW5kd2lkdGggLyAxMDAwLjApIDwgYndfbGltaXQ7
CiAKKyNpZiBkZWZpbmVkKENPTkZJR19YODZfNjQpCiAJa2VybmVsX2ZwdV9lbmQoKTsKKyNlbGlm
IGRlZmluZWQoQ09ORklHX1BQQzY0KQorCWlmIChjcHVfaGFzX2ZlYXR1cmUoQ1BVX0ZUUl9WU1hf
Q09NUCkpIHsKKwkJZGlzYWJsZV9rZXJuZWxfdnN4KCk7CisJCXByZWVtcHRfZW5hYmxlKCk7CisJ
fSBlbHNlIGlmIChjcHVfaGFzX2ZlYXR1cmUoQ1BVX0ZUUl9BTFRJVkVDX0NPTVApKSB7CisJCWRp
c2FibGVfa2VybmVsX2FsdGl2ZWMoKTsKKwkJcHJlZW1wdF9lbmFibGUoKTsKKwl9IGVsc2UgaWYg
KCFjcHVfaGFzX2ZlYXR1cmUoQ1BVX0ZUUl9GUFVfVU5BVkFJTEFCTEUpKSB7CisJCWRpc2FibGVf
a2VybmVsX2ZwKCk7CisJCXByZWVtcHRfZW5hYmxlKCk7CisJfQorI2VuZGlmCiAKIAlQRVJGT1JN
QU5DRV9UUkFDRV9FTkQoKTsKIAlCV19WQUxfVFJBQ0VfRklOSVNIKCk7CkBAIC0xNDQzLDcgKzE0
OTYsMjAgQEAgdm9pZCBkY25fYndfdXBkYXRlX2Zyb21fcHBsaWIoc3RydWN0IGRjICpkYykKIAly
ZXMgPSBkbV9wcF9nZXRfY2xvY2tfbGV2ZWxzX2J5X3R5cGVfd2l0aF92b2x0YWdlKAogCQkJY3R4
LCBETV9QUF9DTE9DS19UWVBFX0ZDTEssICZmY2xrcyk7CiAKKyNpZiBkZWZpbmVkKENPTkZJR19Y
ODZfNjQpCiAJa2VybmVsX2ZwdV9iZWdpbigpOworI2VsaWYgZGVmaW5lZChDT05GSUdfUFBDNjQp
CisJaWYgKGNwdV9oYXNfZmVhdHVyZShDUFVfRlRSX1ZTWF9DT01QKSkgeworCQlwcmVlbXB0X2Rp
c2FibGUoKTsKKwkJZW5hYmxlX2tlcm5lbF92c3goKTsKKwl9IGVsc2UgaWYgKGNwdV9oYXNfZmVh
dHVyZShDUFVfRlRSX0FMVElWRUNfQ09NUCkpIHsKKwkJcHJlZW1wdF9kaXNhYmxlKCk7CisJCWVu
YWJsZV9rZXJuZWxfYWx0aXZlYygpOworCX0gZWxzZSBpZiAoIWNwdV9oYXNfZmVhdHVyZShDUFVf
RlRSX0ZQVV9VTkFWQUlMQUJMRSkpIHsKKwkJcHJlZW1wdF9kaXNhYmxlKCk7CisJCWVuYWJsZV9r
ZXJuZWxfZnAoKTsKKwl9CisjZW5kaWYKIAogCWlmIChyZXMpCiAJCXJlcyA9IHZlcmlmeV9jbG9j
a192YWx1ZXMoJmZjbGtzKTsKQEAgLTE0NjMsMTIgKzE1MjksMzggQEAgdm9pZCBkY25fYndfdXBk
YXRlX2Zyb21fcHBsaWIoc3RydWN0IGRjICpkYykKIAl9IGVsc2UKIAkJQlJFQUtfVE9fREVCVUdH
RVIoKTsKIAorI2lmIGRlZmluZWQoQ09ORklHX1g4Nl82NCkKIAlrZXJuZWxfZnB1X2VuZCgpOwor
I2VsaWYgZGVmaW5lZChDT05GSUdfUFBDNjQpCisJaWYgKGNwdV9oYXNfZmVhdHVyZShDUFVfRlRS
X1ZTWF9DT01QKSkgeworCQlkaXNhYmxlX2tlcm5lbF92c3goKTsKKwkJcHJlZW1wdF9lbmFibGUo
KTsKKwl9IGVsc2UgaWYgKGNwdV9oYXNfZmVhdHVyZShDUFVfRlRSX0FMVElWRUNfQ09NUCkpIHsK
KwkJZGlzYWJsZV9rZXJuZWxfYWx0aXZlYygpOworCQlwcmVlbXB0X2VuYWJsZSgpOworCX0gZWxz
ZSBpZiAoIWNwdV9oYXNfZmVhdHVyZShDUFVfRlRSX0ZQVV9VTkFWQUlMQUJMRSkpIHsKKwkJZGlz
YWJsZV9rZXJuZWxfZnAoKTsKKwkJcHJlZW1wdF9lbmFibGUoKTsKKwl9CisjZW5kaWYKIAogCXJl
cyA9IGRtX3BwX2dldF9jbG9ja19sZXZlbHNfYnlfdHlwZV93aXRoX3ZvbHRhZ2UoCiAJCQljdHgs
IERNX1BQX0NMT0NLX1RZUEVfRENGQ0xLLCAmZGNmY2xrcyk7CiAKKyNpZiBkZWZpbmVkKENPTkZJ
R19YODZfNjQpCiAJa2VybmVsX2ZwdV9iZWdpbigpOworI2VsaWYgZGVmaW5lZChDT05GSUdfUFBD
NjQpCisJaWYgKGNwdV9oYXNfZmVhdHVyZShDUFVfRlRSX1ZTWF9DT01QKSkgeworCQlwcmVlbXB0
X2Rpc2FibGUoKTsKKwkJZW5hYmxlX2tlcm5lbF92c3goKTsKKwl9IGVsc2UgaWYgKGNwdV9oYXNf
ZmVhdHVyZShDUFVfRlRSX0FMVElWRUNfQ09NUCkpIHsKKwkJcHJlZW1wdF9kaXNhYmxlKCk7CisJ
CWVuYWJsZV9rZXJuZWxfYWx0aXZlYygpOworCX0gZWxzZSBpZiAoIWNwdV9oYXNfZmVhdHVyZShD
UFVfRlRSX0ZQVV9VTkFWQUlMQUJMRSkpIHsKKwkJcHJlZW1wdF9kaXNhYmxlKCk7CisJCWVuYWJs
ZV9rZXJuZWxfZnAoKTsKKwl9CisjZW5kaWYKIAogCWlmIChyZXMpCiAJCXJlcyA9IHZlcmlmeV9j
bG9ja192YWx1ZXMoJmRjZmNsa3MpOwpAQCAtMTQ4MSw3ICsxNTczLDIwIEBAIHZvaWQgZGNuX2J3
X3VwZGF0ZV9mcm9tX3BwbGliKHN0cnVjdCBkYyAqZGMpCiAJfSBlbHNlCiAJCUJSRUFLX1RPX0RF
QlVHR0VSKCk7CiAKKyNpZiBkZWZpbmVkKENPTkZJR19YODZfNjQpCiAJa2VybmVsX2ZwdV9lbmQo
KTsKKyNlbGlmIGRlZmluZWQoQ09ORklHX1BQQzY0KQorCWlmIChjcHVfaGFzX2ZlYXR1cmUoQ1BV
X0ZUUl9WU1hfQ09NUCkpIHsKKwkJZGlzYWJsZV9rZXJuZWxfdnN4KCk7CisJCXByZWVtcHRfZW5h
YmxlKCk7CisJfSBlbHNlIGlmIChjcHVfaGFzX2ZlYXR1cmUoQ1BVX0ZUUl9BTFRJVkVDX0NPTVAp
KSB7CisJCWRpc2FibGVfa2VybmVsX2FsdGl2ZWMoKTsKKwkJcHJlZW1wdF9lbmFibGUoKTsKKwl9
IGVsc2UgaWYgKCFjcHVfaGFzX2ZlYXR1cmUoQ1BVX0ZUUl9GUFVfVU5BVkFJTEFCTEUpKSB7CisJ
CWRpc2FibGVfa2VybmVsX2ZwKCk7CisJCXByZWVtcHRfZW5hYmxlKCk7CisJfQorI2VuZGlmCiB9
CiAKIHZvaWQgZGNuX2J3X25vdGlmeV9wcGxpYl9vZl93bV9yYW5nZXMoc3RydWN0IGRjICpkYykK
QEAgLTE0OTYsMTEgKzE2MDEsMzcgQEAgdm9pZCBkY25fYndfbm90aWZ5X3BwbGliX29mX3dtX3Jh
bmdlcyhzdHJ1Y3QgZGMgKmRjKQogCWlmICghcHAgfHwgIXBwLT5zZXRfd21fcmFuZ2VzKQogCQly
ZXR1cm47CiAKKyNpZiBkZWZpbmVkKENPTkZJR19YODZfNjQpCiAJa2VybmVsX2ZwdV9iZWdpbigp
OworI2VsaWYgZGVmaW5lZChDT05GSUdfUFBDNjQpCisJaWYgKGNwdV9oYXNfZmVhdHVyZShDUFVf
RlRSX1ZTWF9DT01QKSkgeworCQlwcmVlbXB0X2Rpc2FibGUoKTsKKwkJZW5hYmxlX2tlcm5lbF92
c3goKTsKKwl9IGVsc2UgaWYgKGNwdV9oYXNfZmVhdHVyZShDUFVfRlRSX0FMVElWRUNfQ09NUCkp
IHsKKwkJcHJlZW1wdF9kaXNhYmxlKCk7CisJCWVuYWJsZV9rZXJuZWxfYWx0aXZlYygpOworCX0g
ZWxzZSBpZiAoIWNwdV9oYXNfZmVhdHVyZShDUFVfRlRSX0ZQVV9VTkFWQUlMQUJMRSkpIHsKKwkJ
cHJlZW1wdF9kaXNhYmxlKCk7CisJCWVuYWJsZV9rZXJuZWxfZnAoKTsKKwl9CisjZW5kaWYKIAlt
aW5fZmNsa19raHogPSBkYy0+ZGNuX3NvYy0+ZmFicmljX2FuZF9kcmFtX2JhbmR3aWR0aF92bWlu
MHA2NSAqIDEwMDAwMDAgLyAzMjsKIAltaW5fZGNmY2xrX2toeiA9IGRjLT5kY25fc29jLT5kY2Zj
bGt2X21pbjBwNjUgKiAxMDAwOwogCXNvY2Nsa19raHogPSBkYy0+ZGNuX3NvYy0+c29jY2xrICog
MTAwMDsKKyNpZiBkZWZpbmVkKENPTkZJR19YODZfNjQpCiAJa2VybmVsX2ZwdV9lbmQoKTsKKyNl
bGlmIGRlZmluZWQoQ09ORklHX1BQQzY0KQorCWlmIChjcHVfaGFzX2ZlYXR1cmUoQ1BVX0ZUUl9W
U1hfQ09NUCkpIHsKKwkJZGlzYWJsZV9rZXJuZWxfdnN4KCk7CisJCXByZWVtcHRfZW5hYmxlKCk7
CisJfSBlbHNlIGlmIChjcHVfaGFzX2ZlYXR1cmUoQ1BVX0ZUUl9BTFRJVkVDX0NPTVApKSB7CisJ
CWRpc2FibGVfa2VybmVsX2FsdGl2ZWMoKTsKKwkJcHJlZW1wdF9lbmFibGUoKTsKKwl9IGVsc2Ug
aWYgKCFjcHVfaGFzX2ZlYXR1cmUoQ1BVX0ZUUl9GUFVfVU5BVkFJTEFCTEUpKSB7CisJCWRpc2Fi
bGVfa2VybmVsX2ZwKCk7CisJCXByZWVtcHRfZW5hYmxlKCk7CisJfQorI2VuZGlmCiAKIAkvKiBO
b3cgbm90aWZ5IFBQTGliL1NNVSBhYm91dCB3aGljaCBXYXRlcm1hcmtzIHNldHMgdGhleSBzaG91
bGQgc2VsZWN0CiAJICogZGVwZW5kaW5nIG9uIERQTSBzdGF0ZSB0aGV5IGFyZSBpbi4gQW5kIHVw
ZGF0ZSBCVyBNR1IgR0ZYIEVuZ2luZSBhbmQKQEAgLTE1NTEsNyArMTY4MiwyMCBAQCB2b2lkIGRj
bl9id19ub3RpZnlfcHBsaWJfb2Zfd21fcmFuZ2VzKHN0cnVjdCBkYyAqZGMpCiAKIHZvaWQgZGNu
X2J3X3N5bmNfY2FsY3NfYW5kX2RtbChzdHJ1Y3QgZGMgKmRjKQogeworI2lmIGRlZmluZWQoQ09O
RklHX1g4Nl82NCkKIAlrZXJuZWxfZnB1X2JlZ2luKCk7CisjZWxpZiBkZWZpbmVkKENPTkZJR19Q
UEM2NCkKKwlpZiAoY3B1X2hhc19mZWF0dXJlKENQVV9GVFJfVlNYX0NPTVApKSB7CisJCXByZWVt
cHRfZGlzYWJsZSgpOworCQllbmFibGVfa2VybmVsX3ZzeCgpOworCX0gZWxzZSBpZiAoY3B1X2hh
c19mZWF0dXJlKENQVV9GVFJfQUxUSVZFQ19DT01QKSkgeworCQlwcmVlbXB0X2Rpc2FibGUoKTsK
KwkJZW5hYmxlX2tlcm5lbF9hbHRpdmVjKCk7CisJfSBlbHNlIGlmICghY3B1X2hhc19mZWF0dXJl
KENQVV9GVFJfRlBVX1VOQVZBSUxBQkxFKSkgeworCQlwcmVlbXB0X2Rpc2FibGUoKTsKKwkJZW5h
YmxlX2tlcm5lbF9mcCgpOworCX0KKyNlbmRpZgogCURDX0xPR19CQU5EV0lEVEhfQ0FMQ1MoInNy
X2V4aXRfdGltZTogJWYgbnNcbiIKIAkJCSJzcl9lbnRlcl9wbHVzX2V4aXRfdGltZTogJWYgbnNc
biIKIAkJCSJ1cmdlbnRfbGF0ZW5jeTogJWYgbnNcbiIKQEAgLTE3NDAsNSArMTg4NCwxOCBAQCB2
b2lkIGRjbl9id19zeW5jX2NhbGNzX2FuZF9kbWwoc3RydWN0IGRjICpkYykKIAlkYy0+ZG1sLmlw
LmJ1Z19mb3JjaW5nX0xDX3JlcV9zYW1lX3NpemVfZml4ZWQgPQogCQlkYy0+ZGNuX2lwLT5idWdf
Zm9yY2luZ19sdW1hX2FuZF9jaHJvbWFfcmVxdWVzdF90b19zYW1lX3NpemVfZml4ZWQgPT0gZGNu
X2J3X3llczsKIAlkYy0+ZG1sLmlwLmRjZmNsa19jc3RhdGVfbGF0ZW5jeSA9IGRjLT5kY25faXAt
PmRjZmNsa19jc3RhdGVfbGF0ZW5jeTsKKyNpZiBkZWZpbmVkKENPTkZJR19YODZfNjQpCiAJa2Vy
bmVsX2ZwdV9lbmQoKTsKKyNlbGlmIGRlZmluZWQoQ09ORklHX1BQQzY0KQorCWlmIChjcHVfaGFz
X2ZlYXR1cmUoQ1BVX0ZUUl9WU1hfQ09NUCkpIHsKKwkJZGlzYWJsZV9rZXJuZWxfdnN4KCk7CisJ
CXByZWVtcHRfZW5hYmxlKCk7CisJfSBlbHNlIGlmIChjcHVfaGFzX2ZlYXR1cmUoQ1BVX0ZUUl9B
TFRJVkVDX0NPTVApKSB7CisJCWRpc2FibGVfa2VybmVsX2FsdGl2ZWMoKTsKKwkJcHJlZW1wdF9l
bmFibGUoKTsKKwl9IGVsc2UgaWYgKCFjcHVfaGFzX2ZlYXR1cmUoQ1BVX0ZUUl9GUFVfVU5BVkFJ
TEFCTEUpKSB7CisJCWRpc2FibGVfa2VybmVsX2ZwKCk7CisJCXByZWVtcHRfZW5hYmxlKCk7CisJ
fQorI2VuZGlmCiB9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMv
ZGNuMjAvTWFrZWZpbGUgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjAvTWFr
ZWZpbGUKaW5kZXggNjNmM2JkZGJhN2RhLi42YTg3MmI3YTU4YmQgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24yMC9NYWtlZmlsZQorKysgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjAvTWFrZWZpbGUKQEAgLTEwLDcgKzEwLDEzIEBAIGlm
ZGVmIENPTkZJR19EUk1fQU1EX0RDX0RTQ19TVVBQT1JUCiBEQ04yMCArPSBkY24yMF9kc2Mubwog
ZW5kaWYKIAoraWZkZWYgQ09ORklHX1g4Nl82NAogQ0ZMQUdTXyQoQU1EREFMUEFUSCkvZGMvZGNu
MjAvZGNuMjBfcmVzb3VyY2UubyA6PSAtbWhhcmQtZmxvYXQgLW1zc2UKK2VuZGlmCisKK2lmZGVm
IENPTkZJR19QUEM2NAorQ0ZMQUdTXyQoQU1EREFMUEFUSCkvZGMvZGNuMjAvZGNuMjBfcmVzb3Vy
Y2UubyA6PSAtbWhhcmQtZmxvYXQgLW1hbHRpdmVjCitlbmRpZgogCiBpZmRlZiBDT05GSUdfQ0Nf
SVNfR0NDCiBpZmVxICgkKGNhbGwgY2MtaWZ2ZXJzaW9uLCAtbHQsIDA3MDEsIHkpLCB5KQpAQCAt
MTgsNiArMjQsNyBAQCBJU19PTERfR0NDID0gMQogZW5kaWYKIGVuZGlmCiAKK2lmZGVmIENPTkZJ
R19YODZfNjQKIGlmZGVmIElTX09MRF9HQ0MKICMgU3RhY2sgYWxpZ25tZW50IG1pc21hdGNoLCBw
cm9jZWVkIHdpdGggY2F1dGlvbi4KICMgR0NDIDwgNy4xIGNhbm5vdCBjb21waWxlIGNvZGUgdXNp
bmcgYGRvdWJsZWAgYW5kIC1tcHJlZmVycmVkLXN0YWNrLWJvdW5kYXJ5PTMKQEAgLTI2LDYgKzMz
LDcgQEAgQ0ZMQUdTXyQoQU1EREFMUEFUSCkvZGMvZGNuMjAvZGNuMjBfcmVzb3VyY2UubyArPSAt
bXByZWZlcnJlZC1zdGFjay1ib3VuZGFyeT00CiBlbHNlCiBDRkxBR1NfJChBTUREQUxQQVRIKS9k
Yy9kY24yMC9kY24yMF9yZXNvdXJjZS5vICs9IC1tc3NlMgogZW5kaWYKK2VuZGlmCiAKIEFNRF9E
QUxfRENOMjAgPSAkKGFkZHByZWZpeCAkKEFNRERBTFBBVEgpL2RjL2RjbjIwLywkKERDTjIwKSkK
IApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIw
X3Jlc291cmNlLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjAvZGNuMjBf
cmVzb3VyY2UuYwppbmRleCBiYmQxYzk4NTY0YmUuLjdlMWRhNmIzY2EzNiAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIwX3Jlc291cmNlLmMKKysr
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIwX3Jlc291cmNlLmMK
QEAgLTEsNSArMSw2IEBACiAvKgogKiBDb3B5cmlnaHQgMjAxNiBBZHZhbmNlZCBNaWNybyBEZXZp
Y2VzLCBJbmMuCisgKiBDb3B5cmlnaHQgMjAxOSBSYXB0b3IgRW5naW5lZXJpbmcsIExMQwogICoK
ICAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkg
cGVyc29uIG9idGFpbmluZyBhCiAgKiBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0
ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLApAQCAtMzE3Myw3ICszMTc0
LDIwIEBAIHZvaWQgZGNuMjBfdXBkYXRlX2JvdW5kaW5nX2JveChzdHJ1Y3QgZGMgKmRjLCBzdHJ1
Y3QgX3Zjc19kcGlfc29jX2JvdW5kaW5nX2JveF9zCiAKIHZvaWQgZGNuMjBfcGF0Y2hfYm91bmRp
bmdfYm94KHN0cnVjdCBkYyAqZGMsIHN0cnVjdCBfdmNzX2RwaV9zb2NfYm91bmRpbmdfYm94X3N0
ICpiYikKIHsKKyNpZiBkZWZpbmVkKENPTkZJR19YODZfNjQpCiAJa2VybmVsX2ZwdV9iZWdpbigp
OworI2VsaWYgZGVmaW5lZChDT05GSUdfUFBDNjQpCisJCWlmIChjcHVfaGFzX2ZlYXR1cmUoQ1BV
X0ZUUl9WU1hfQ09NUCkpIHsKKwkJCXByZWVtcHRfZGlzYWJsZSgpOworCQkJZW5hYmxlX2tlcm5l
bF92c3goKTsKKwkJfSBlbHNlIGlmIChjcHVfaGFzX2ZlYXR1cmUoQ1BVX0ZUUl9BTFRJVkVDX0NP
TVApKSB7CisJCQlwcmVlbXB0X2Rpc2FibGUoKTsKKwkJCWVuYWJsZV9rZXJuZWxfYWx0aXZlYygp
OworCQl9IGVsc2UgaWYgKCFjcHVfaGFzX2ZlYXR1cmUoQ1BVX0ZUUl9GUFVfVU5BVkFJTEFCTEUp
KSB7CisJCQlwcmVlbXB0X2Rpc2FibGUoKTsKKwkJCWVuYWJsZV9rZXJuZWxfZnAoKTsKKwkJfQor
I2VuZGlmCiAJaWYgKChpbnQpKGJiLT5zcl9leGl0X3RpbWVfdXMgKiAxMDAwKSAhPSBkYy0+YmJf
b3ZlcnJpZGVzLnNyX2V4aXRfdGltZV9ucwogCQkJJiYgZGMtPmJiX292ZXJyaWRlcy5zcl9leGl0
X3RpbWVfbnMpIHsKIAkJYmItPnNyX2V4aXRfdGltZV91cyA9IGRjLT5iYl9vdmVycmlkZXMuc3Jf
ZXhpdF90aW1lX25zIC8gMTAwMC4wOwpAQCAtMzE5Nyw3ICszMjExLDIwIEBAIHZvaWQgZGNuMjBf
cGF0Y2hfYm91bmRpbmdfYm94KHN0cnVjdCBkYyAqZGMsIHN0cnVjdCBfdmNzX2RwaV9zb2NfYm91
bmRpbmdfYm94X3N0CiAJCWJiLT5kcmFtX2Nsb2NrX2NoYW5nZV9sYXRlbmN5X3VzID0KIAkJCQlk
Yy0+YmJfb3ZlcnJpZGVzLmRyYW1fY2xvY2tfY2hhbmdlX2xhdGVuY3lfbnMgLyAxMDAwLjA7CiAJ
fQorI2lmIGRlZmluZWQoQ09ORklHX1g4Nl82NCkKIAlrZXJuZWxfZnB1X2VuZCgpOworI2VsaWYg
ZGVmaW5lZChDT05GSUdfUFBDNjQpCisJCWlmIChjcHVfaGFzX2ZlYXR1cmUoQ1BVX0ZUUl9WU1hf
Q09NUCkpIHsKKwkJCWRpc2FibGVfa2VybmVsX3ZzeCgpOworCQkJcHJlZW1wdF9lbmFibGUoKTsK
KwkJfSBlbHNlIGlmIChjcHVfaGFzX2ZlYXR1cmUoQ1BVX0ZUUl9BTFRJVkVDX0NPTVApKSB7CisJ
CQlkaXNhYmxlX2tlcm5lbF9hbHRpdmVjKCk7CisJCQlwcmVlbXB0X2VuYWJsZSgpOworCQl9IGVs
c2UgaWYgKCFjcHVfaGFzX2ZlYXR1cmUoQ1BVX0ZUUl9GUFVfVU5BVkFJTEFCTEUpKSB7CisJCQlk
aXNhYmxlX2tlcm5lbF9mcCgpOworCQkJcHJlZW1wdF9lbmFibGUoKTsKKwkJfQorI2VuZGlmCiB9
CiAKIHN0YXRpYyBzdHJ1Y3QgX3Zjc19kcGlfc29jX2JvdW5kaW5nX2JveF9zdCAqZ2V0X2FzaWNf
cmV2X3NvY19iYigKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9k
Y24yMS9NYWtlZmlsZSBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24yMS9NYWtl
ZmlsZQppbmRleCAxNDExM2NjZjQ5OGQuLjc5YmI5MjZhNjg5MCAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIxL01ha2VmaWxlCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9hbWQvZGlzcGxheS9kYy9kY24yMS9NYWtlZmlsZQpAQCAtMyw3ICszLDEzIEBACiAKIERD
TjIxID0gZGNuMjFfaHVicC5vIGRjbjIxX2h1YmJ1Yi5vIGRjbjIxX3Jlc291cmNlLm8gZGNuMjFf
aHdzZXEubyBkY24yMV9saW5rX2VuY29kZXIubwogCitpZmRlZiBDT05GSUdfWDg2XzY0CiBDRkxB
R1NfJChBTUREQUxQQVRIKS9kYy9kY24yMS9kY24yMV9yZXNvdXJjZS5vIDo9IC1taGFyZC1mbG9h
dCAtbXNzZQorZW5kaWYKKworaWZkZWYgQ09ORklHX1BQQzY0CitDRkxBR1NfJChBTUREQUxQQVRI
KS9kYy9kY24yMS9kY24yMV9yZXNvdXJjZS5vIDo9IC1taGFyZC1mbG9hdCAtbWFsdGl2ZWMKK2Vu
ZGlmCiAKIGlmZGVmIENPTkZJR19DQ19JU19HQ0MKIGlmZXEgKCQoY2FsbCBjYy1pZnZlcnNpb24s
IC1sdCwgMDcwMSwgeSksIHkpCkBAIC0xMSw2ICsxNyw3IEBAIElTX09MRF9HQ0MgPSAxCiBlbmRp
ZgogZW5kaWYKIAoraWZkZWYgQ09ORklHX1g4Nl82NAogaWZkZWYgSVNfT0xEX0dDQwogIyBTdGFj
ayBhbGlnbm1lbnQgbWlzbWF0Y2gsIHByb2NlZWQgd2l0aCBjYXV0aW9uLgogIyBHQ0MgPCA3LjEg
Y2Fubm90IGNvbXBpbGUgY29kZSB1c2luZyBgZG91YmxlYCBhbmQgLW1wcmVmZXJyZWQtc3RhY2st
Ym91bmRhcnk9MwpAQCAtMTksNiArMjYsNyBAQCBDRkxBR1NfJChBTUREQUxQQVRIKS9kYy9kY24y
MS9kY24yMV9yZXNvdXJjZS5vICs9IC1tcHJlZmVycmVkLXN0YWNrLWJvdW5kYXJ5PTQKIGVsc2UK
IENGTEFHU18kKEFNRERBTFBBVEgpL2RjL2RjbjIxL2RjbjIxX3Jlc291cmNlLm8gKz0gLW1zc2Uy
CiBlbmRpZgorZW5kaWYKIAogQU1EX0RBTF9EQ04yMSA9ICQoYWRkcHJlZml4ICQoQU1EREFMUEFU
SCkvZGMvZGNuMjEvLCQoRENOMjEpKQogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1k
L2Rpc3BsYXkvZGMvZGNuMjEvZGNuMjFfcmVzb3VyY2UuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
ZGlzcGxheS9kYy9kY24yMS9kY24yMV9yZXNvdXJjZS5jCmluZGV4IDQ1OWJkOWE1Y2FlZC4uOGRj
ZDg3MWRlY2ViIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNu
MjEvZGNuMjFfcmVzb3VyY2UuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMv
ZGNuMjEvZGNuMjFfcmVzb3VyY2UuYwpAQCAtMSw1ICsxLDYgQEAKIC8qCiAqIENvcHlyaWdodCAy
MDE4IEFkdmFuY2VkIE1pY3JvIERldmljZXMsIEluYy4KKyAqIENvcHlyaWdodCAyMDE5IFJhcHRv
ciBFbmdpbmVlcmluZywgTExDCiAgKgogICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwg
ZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEKICAqIGNvcHkgb2YgdGhp
cyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3
YXJlIiksCkBAIC0xMDE3LDcgKzEwMTgsMjAgQEAgc3RhdGljIHZvaWQgY2FsY3VsYXRlX3dtX3Nl
dF9mb3JfdmxldmVsKAogCiBzdGF0aWMgdm9pZCBwYXRjaF9ib3VuZGluZ19ib3goc3RydWN0IGRj
ICpkYywgc3RydWN0IF92Y3NfZHBpX3NvY19ib3VuZGluZ19ib3hfc3QgKmJiKQogeworI2lmIGRl
ZmluZWQoQ09ORklHX1g4Nl82NCkKIAlrZXJuZWxfZnB1X2JlZ2luKCk7CisjZWxpZiBkZWZpbmVk
KENPTkZJR19QUEM2NCkKKwkJaWYgKGNwdV9oYXNfZmVhdHVyZShDUFVfRlRSX1ZTWF9DT01QKSkg
eworCQkJcHJlZW1wdF9kaXNhYmxlKCk7CisJCQllbmFibGVfa2VybmVsX3ZzeCgpOworCQl9IGVs
c2UgaWYgKGNwdV9oYXNfZmVhdHVyZShDUFVfRlRSX0FMVElWRUNfQ09NUCkpIHsKKwkJCXByZWVt
cHRfZGlzYWJsZSgpOworCQkJZW5hYmxlX2tlcm5lbF9hbHRpdmVjKCk7CisJCX0gZWxzZSBpZiAo
IWNwdV9oYXNfZmVhdHVyZShDUFVfRlRSX0ZQVV9VTkFWQUlMQUJMRSkpIHsKKwkJCXByZWVtcHRf
ZGlzYWJsZSgpOworCQkJZW5hYmxlX2tlcm5lbF9mcCgpOworCQl9CisjZW5kaWYKIAlpZiAoZGMt
PmJiX292ZXJyaWRlcy5zcl9leGl0X3RpbWVfbnMpIHsKIAkJYmItPnNyX2V4aXRfdGltZV91cyA9
IGRjLT5iYl9vdmVycmlkZXMuc3JfZXhpdF90aW1lX25zIC8gMTAwMC4wOwogCX0KQEAgLTEwMzUs
NyArMTA0OSwyMCBAQCBzdGF0aWMgdm9pZCBwYXRjaF9ib3VuZGluZ19ib3goc3RydWN0IGRjICpk
Yywgc3RydWN0IF92Y3NfZHBpX3NvY19ib3VuZGluZ19ib3hfcwogCQliYi0+ZHJhbV9jbG9ja19j
aGFuZ2VfbGF0ZW5jeV91cyA9CiAJCQkJZGMtPmJiX292ZXJyaWRlcy5kcmFtX2Nsb2NrX2NoYW5n
ZV9sYXRlbmN5X25zIC8gMTAwMC4wOwogCX0KKyNpZiBkZWZpbmVkKENPTkZJR19YODZfNjQpCiAJ
a2VybmVsX2ZwdV9lbmQoKTsKKyNlbGlmIGRlZmluZWQoQ09ORklHX1BQQzY0KQorCQlpZiAoY3B1
X2hhc19mZWF0dXJlKENQVV9GVFJfVlNYX0NPTVApKSB7CisJCQlkaXNhYmxlX2tlcm5lbF92c3go
KTsKKwkJCXByZWVtcHRfZW5hYmxlKCk7CisJCX0gZWxzZSBpZiAoY3B1X2hhc19mZWF0dXJlKENQ
VV9GVFJfQUxUSVZFQ19DT01QKSkgeworCQkJZGlzYWJsZV9rZXJuZWxfYWx0aXZlYygpOworCQkJ
cHJlZW1wdF9lbmFibGUoKTsKKwkJfSBlbHNlIGlmICghY3B1X2hhc19mZWF0dXJlKENQVV9GVFJf
RlBVX1VOQVZBSUxBQkxFKSkgeworCQkJZGlzYWJsZV9rZXJuZWxfZnAoKTsKKwkJCXByZWVtcHRf
ZW5hYmxlKCk7CisJCX0KKyNlbmRpZgogfQogCiB2b2lkIGRjbjIxX2NhbGN1bGF0ZV93bSgKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kbWwvTWFrZWZpbGUgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZG1sL01ha2VmaWxlCmluZGV4IDhkZjI1MTYy
NmUyMi4uYWU0OWQyMzM4NmUxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3Bs
YXkvZGMvZG1sL01ha2VmaWxlCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9k
bWwvTWFrZWZpbGUKQEAgLTEsNSArMSw2IEBACiAjCiAjIENvcHlyaWdodCAyMDE3IEFkdmFuY2Vk
IE1pY3JvIERldmljZXMsIEluYy4KKyMgQ29weXJpZ2h0IDIwMTkgUmFwdG9yIEVuZ2luZWVyaW5n
LCBMTEMKICMKICMgUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2Us
IHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEKICMgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBh
c3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwKQEAgLTI0LDcg
KzI1LDEzIEBACiAjIEl0IHByb3ZpZGVzIHRoZSBnZW5lcmFsIGJhc2ljIHNlcnZpY2VzIHJlcXVp
cmVkIGJ5IG90aGVyIERBTAogIyBzdWJjb21wb25lbnRzLgogCitpZmRlZiBDT05GSUdfWDg2XzY0
CiBkbWxfY2NmbGFncyA6PSAtbWhhcmQtZmxvYXQgLW1zc2UKK2VuZGlmCisKK2lmZGVmIENPTkZJ
R19QUEM2NAorZG1sX2NjZmxhZ3MgOj0gLW1oYXJkLWZsb2F0IC1tYWx0aXZlYworZW5kaWYKIAog
aWZkZWYgQ09ORklHX0NDX0lTX0dDQwogaWZlcSAoJChjYWxsIGNjLWlmdmVyc2lvbiwgLWx0LCAw
NzAxLCB5KSwgeSkKQEAgLTMyLDYgKzM5LDcgQEAgSVNfT0xEX0dDQyA9IDEKIGVuZGlmCiBlbmRp
ZgogCitpZmRlZiBDT05GSUdfWDg2XzY0CiBpZmRlZiBJU19PTERfR0NDCiAjIFN0YWNrIGFsaWdu
bWVudCBtaXNtYXRjaCwgcHJvY2VlZCB3aXRoIGNhdXRpb24uCiAjIEdDQyA8IDcuMSBjYW5ub3Qg
Y29tcGlsZSBjb2RlIHVzaW5nIGBkb3VibGVgIGFuZCAtbXByZWZlcnJlZC1zdGFjay1ib3VuZGFy
eT0zCkBAIC00MCw2ICs0OCw3IEBAIGRtbF9jY2ZsYWdzICs9IC1tcHJlZmVycmVkLXN0YWNrLWJv
dW5kYXJ5PTQKIGVsc2UKIGRtbF9jY2ZsYWdzICs9IC1tc3NlMgogZW5kaWYKK2VuZGlmCiAKIENG
TEFHU18kKEFNRERBTFBBVEgpL2RjL2RtbC9kaXNwbGF5X21vZGVfbGliLm8gOj0gJChkbWxfY2Nm
bGFncykKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RzYy9N
YWtlZmlsZSBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kc2MvTWFrZWZpbGUKaW5k
ZXggOTcwNzM3MjE3ZTUzLi5mNzMzMDRhZjRiODUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvZGlzcGxheS9kYy9kc2MvTWFrZWZpbGUKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9k
aXNwbGF5L2RjL2RzYy9NYWtlZmlsZQpAQCAtMSw3ICsxLDEzIEBACiAjCiAjIE1ha2VmaWxlIGZv
ciB0aGUgJ2RzYycgc3ViLWNvbXBvbmVudCBvZiBEQUwuCiAKK2lmZGVmIENPTkZJR19YODZfNjQK
IGRzY19jY2ZsYWdzIDo9IC1taGFyZC1mbG9hdCAtbXNzZQorZW5kaWYKKworaWZkZWYgQ09ORklH
X1BQQzY0Citkc2NfY2NmbGFncyA6PSAtbWhhcmQtZmxvYXQgLW1hbHRpdmVjCitlbmRpZgogCiBp
ZmRlZiBDT05GSUdfQ0NfSVNfR0NDCiBpZmVxICgkKGNhbGwgY2MtaWZ2ZXJzaW9uLCAtbHQsIDA3
MDEsIHkpLCB5KQpAQCAtOSw2ICsxNSw3IEBAIElTX09MRF9HQ0MgPSAxCiBlbmRpZgogZW5kaWYK
IAoraWZkZWYgQ09ORklHX1g4Nl82NAogaWZkZWYgSVNfT0xEX0dDQwogIyBTdGFjayBhbGlnbm1l
bnQgbWlzbWF0Y2gsIHByb2NlZWQgd2l0aCBjYXV0aW9uLgogIyBHQ0MgPCA3LjEgY2Fubm90IGNv
bXBpbGUgY29kZSB1c2luZyBgZG91YmxlYCBhbmQgLW1wcmVmZXJyZWQtc3RhY2stYm91bmRhcnk9
MwpAQCAtMTcsNiArMjQsNyBAQCBkc2NfY2NmbGFncyArPSAtbXByZWZlcnJlZC1zdGFjay1ib3Vu
ZGFyeT00CiBlbHNlCiBkc2NfY2NmbGFncyArPSAtbXNzZTIKIGVuZGlmCitlbmRpZgogCiBDRkxB
R1NfJChBTUREQUxQQVRIKS9kYy9kc2MvcmNfY2FsYy5vIDo9ICQoZHNjX2NjZmxhZ3MpCiBDRkxB
R1NfJChBTUREQUxQQVRIKS9kYy9kc2MvcmNfY2FsY19kcGkubyA6PSAkKGRzY19jY2ZsYWdzKQpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL29zX3R5cGVzLmggYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvb3NfdHlwZXMuaAppbmRleCAzMGVjODBhYzZm
YzguLjgzNGU2OWI0MDlkMSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5
L2RjL29zX3R5cGVzLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL29zX3R5
cGVzLmgKQEAgLTEsNSArMSw2IEBACiAvKgogICogQ29weXJpZ2h0IDIwMTItMTYgQWR2YW5jZWQg
TWljcm8gRGV2aWNlcywgSW5jLgorICogQ29weXJpZ2h0IDIwMTkgUmFwdG9yIEVuZ2luZWVyaW5n
LCBMTEMKICAqCiAgKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJn
ZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYQogICogY29weSBvZiB0aGlzIHNvZnR3YXJlIGFu
ZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwKQEAgLTQ5
LDcgKzUwLDEyIEBACiAjZGVmaW5lIGRtX2Vycm9yKGZtdCwgLi4uKSBEUk1fRVJST1IoZm10LCAj
I19fVkFfQVJHU19fKQogCiAjaWYgZGVmaW5lZChDT05GSUdfRFJNX0FNRF9EQ19EQ04xXzApCisj
aWYgZGVmaW5lZChDT05GSUdfWDg2XzY0KQogI2luY2x1ZGUgPGFzbS9mcHUvYXBpLmg+CisjZWxp
ZiBkZWZpbmVkKENPTkZJR19QUEMzMikgfHwgZGVmaW5lZChDT05GSUdfUFBDNjQpCisjaW5jbHVk
ZSA8YXNtL3N3aXRjaF90by5oPgorI2luY2x1ZGUgPGFzbS9jcHV0YWJsZS5oPgorI2VuZGlmCiAj
ZW5kaWYKIAogLyoKLS0gCjIuMjAuMQpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNr
dG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2Ft
ZC1nZng=
