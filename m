Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id B3E826D972
	for <lists+amd-gfx@lfdr.de>; Fri, 19 Jul 2019 05:45:40 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 53F3B6E48F;
	Fri, 19 Jul 2019 03:45:39 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM04-CO1-obe.outbound.protection.outlook.com
 (mail-eopbgr690083.outbound.protection.outlook.com [40.107.69.83])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 1735B6E48F
 for <amd-gfx@lists.freedesktop.org>; Fri, 19 Jul 2019 03:45:38 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=Yn28NVKeLiaGMTUl6LLhFBprAl87uGgVv1eEl9tPs/mJ7LlJZCTHuhiPYrIO8PXMKIG8nommQwpR2oqHeygd1ed2ifZHqjj38VH2QJgZbKRFWW/3GeZXTl66+Q/CY2GQUtgalws68lsM2osd1rdR/5m1SD0a2QQTD7WtrHhq+uCF75/f4j7FLYk1hX7lSzhaHYTWpcLa4FRnrv06CdfdTTZ2dWScjBC1LO6Un0wbRaIC20kCjF+tNbITHdNxpBLWgCsQBUEWkCgtyrphDkfYBlhW7ihPnJGsUj6UmB6jZtz1pH0pDQndbY7oBy49TIgN8XtNYg+bMlmRbQHh4i2qdw==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=sPxpHM6aWdt9qfWclxdjLGWXAyCd2CGdvaU0sZ281jw=;
 b=lNpO3qIpR0RlQTUwr0Lncb5VOaJWOW/lsXGHACI+Kyr6DSN2Ry0VSW5XdFAH3UyVj4hLZ2bsr/cm+9NTVssxjS9rj44BcDHtfeMj5tQAU/F5n2oVyv96dmnhSGkOEBJZyKAN6+MpFihNf3UMpHKElUuUuzoRpqoSCQcSzgcdpkXzx3nCRO6SGcpQIZkZ5AWpT90gxU60v+KOU8VGuCxRlXi+feIqo9tm2D8mEgGtnaoRuFoB87Yy9M9xwHlpw3X6SBf7ZpTah/AQa6416rw+c67zPqR1h5wbw72By3L47PN1EPc6c5M7008N2leJop5XY9qYh+w9HBC8VYfb0LCw1Q==
ARC-Authentication-Results: i=1; mx.microsoft.com 1;spf=pass
 smtp.mailfrom=amd.com;dmarc=pass action=none header.from=amd.com;dkim=pass
 header.d=amd.com;arc=none
Received: from MN2PR12MB3296.namprd12.prod.outlook.com (20.179.80.139) by
 MN2PR12MB3662.namprd12.prod.outlook.com (10.255.86.19) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2094.12; Fri, 19 Jul 2019 03:45:35 +0000
Received: from MN2PR12MB3296.namprd12.prod.outlook.com
 ([fe80::ad59:f055:2417:660f]) by MN2PR12MB3296.namprd12.prod.outlook.com
 ([fe80::ad59:f055:2417:660f%6]) with mapi id 15.20.2094.013; Fri, 19 Jul 2019
 03:45:35 +0000
From: "Wang, Kevin(Yang)" <Kevin1.Wang@amd.com>
To: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: [PATCH] drm/amd/powerplay: custom peak clock freq for navi10
Thread-Topic: [PATCH] drm/amd/powerplay: custom peak clock freq for navi10
Thread-Index: AQHVPeRrrwjCEvFq1k2763SRVfn3ZQ==
Date: Fri, 19 Jul 2019 03:45:35 +0000
Message-ID: <20190719034517.25780-1-kevin1.wang@amd.com>
Accept-Language: en-US, zh-CN
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: HK2PR03CA0061.apcprd03.prod.outlook.com
 (2603:1096:202:17::31) To MN2PR12MB3296.namprd12.prod.outlook.com
 (2603:10b6:208:aa::11)
x-ms-exchange-messagesentrepresentingtype: 1
x-mailer: git-send-email 2.22.0
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 1c29f726-a344-4ad2-e370-08d70bfb8e3c
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:MN2PR12MB3662; 
x-ms-traffictypediagnostic: MN2PR12MB3662:
x-microsoft-antispam-prvs: <MN2PR12MB3662F81C37BAFF0B89444594A2CB0@MN2PR12MB3662.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:1060;
x-forefront-prvs: 01039C93E4
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(136003)(366004)(39860400002)(376002)(346002)(396003)(189003)(199004)(256004)(26005)(8936002)(68736007)(50226002)(478600001)(25786009)(52116002)(86362001)(186003)(102836004)(14444005)(6506007)(386003)(81156014)(81166006)(476003)(2501003)(2616005)(14454004)(8676002)(1076003)(7736002)(66066001)(2351001)(53936002)(5660300002)(2906002)(4326008)(6916009)(6512007)(5640700003)(316002)(36756003)(6116002)(3846002)(54906003)(486006)(66556008)(66946007)(64756008)(66446008)(66476007)(71190400001)(71200400001)(99286004)(305945005)(6436002)(6486002);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MN2PR12MB3662;
 H:MN2PR12MB3296.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: mkkIVn20hJZGVZlxqmBz4IxV+OFHdq+qRODgZ3fbczJmCdYDAvyxyDUkPVPUTpfmefamnQCEGr28E8hbaENhBGD9wgAQThhJUk2K96aQFJlFeuKKCrr+3Blvop1LstGOQX9YbQaV0oIefY3nvzSEIueemu30TafLnTof4Bot5RtSSyqaiL+nEEGSRNSNcjIAv51pD9XcGlJIZkkIliaW4xhf/a/ucHu3fOXXKyrtnoNsxmQoNw1/IY488OoVw5yOZoyGw2AcludG0yb6dZaoRi5WyUtCI8WMQYVuzPjznvTMXqomFup59uQ+fS0VLo09Wc9wpqedcUEjmzIYAmen7AQgm8LCX9WSgsyUuZZTgAMVe3SNUlQ5cuxOipaSPF24883u1NDP+q7M9toP/FryhO4ukonSXuLEkxm1Q2l5dME=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 1c29f726-a344-4ad2-e370-08d70bfb8e3c
X-MS-Exchange-CrossTenant-originalarrivaltime: 19 Jul 2019 03:45:35.1533 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: kevwa@amd.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB3662
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=sPxpHM6aWdt9qfWclxdjLGWXAyCd2CGdvaU0sZ281jw=;
 b=DTf/n0iaHPoMbzFA5/FMpVA7TGBJeB0mjWSzoyGEr/VYf4RTtx/PLCprH2sNkQB8AjdIQYX/Q61usTTFPdhyd5HMCZMu4RU845+mBDF8K1rlsgVAyj/zpP907JPMCPCVAHOv9y5tiAyy2P+VMKY3DNKzLyzggxMToqW4TW/Ukk0=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Kevin1.Wang@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Gui, Jack" <Jack.Gui@amd.com>, "Xu, Feifei" <Feifei.Xu@amd.com>, "Wang,
 Kevin\(Yang\)" <Kevin1.Wang@amd.com>, "Huang, Ray" <Ray.Huang@amd.com>, "Quan,
 Evan" <Evan.Quan@amd.com>, "Feng, Kenneth" <Kenneth.Feng@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

MS5OQVZJMTBfUEVBS19TQ0xLX1hUWCAgICAxODMwIE1oegoyLk5BVkkxMF9QRUFLX1NDTEtfWFQg
ICAgIDE3NTUgTWh6CjMuTkFWSTEwX1BFQUtfU0NMS19YTCAgICAgMTYyNSBNaHoKCkNoYW5nZS1J
ZDogSTQ4ODYzYTlkMGUyNjFiOWU3Nzc4YTZjMGU0YTg3NjJkN2M5NzhkYTYKU2lnbmVkLW9mZi1i
eTogS2V2aW4gV2FuZyA8a2V2aW4xLndhbmdAYW1kLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0v
YW1kL3Bvd2VycGxheS9hbWRncHVfc211LmMgICAgfCA2NSArKysrKysrKysrLS0tLS0tLS0tCiAu
Li4vZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2luYy9hbWRncHVfc211LmggICAgfCAgNCArKwogZHJp
dmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvbmF2aTEwX3BwdC5jICAgIHwgNTUgKysrKysrKysr
KysrKysrKwogZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvbmF2aTEwX3BwdC5oICAgIHwg
IDQgKysKIDQgZmlsZXMgY2hhbmdlZCwgOTcgaW5zZXJ0aW9ucygrKSwgMzEgZGVsZXRpb25zKC0p
CgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvYW1kZ3B1X3NtdS5j
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvYW1kZ3B1X3NtdS5jCmluZGV4IDdmNTFi
YmQyYWM5MC4uYWIzODlkZGU5NTYyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bv
d2VycGxheS9hbWRncHVfc211LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkv
YW1kZ3B1X3NtdS5jCkBAIC0xMzYwLDM3ICsxMzYwLDQwIEBAIGludCBzbXVfYWRqdXN0X3Bvd2Vy
X3N0YXRlX2R5bmFtaWMoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsCiAJfQogCiAJaWYgKHNtdV9k
cG1fY3R4LT5kcG1fbGV2ZWwgIT0gbGV2ZWwpIHsKLQkJc3dpdGNoIChsZXZlbCkgewotCQljYXNl
IEFNRF9EUE1fRk9SQ0VEX0xFVkVMX0hJR0g6Ci0JCQlyZXQgPSBzbXVfZm9yY2VfZHBtX2xpbWl0
X3ZhbHVlKHNtdSwgdHJ1ZSk7Ci0JCQlicmVhazsKLQkJY2FzZSBBTURfRFBNX0ZPUkNFRF9MRVZF
TF9MT1c6Ci0JCQlyZXQgPSBzbXVfZm9yY2VfZHBtX2xpbWl0X3ZhbHVlKHNtdSwgZmFsc2UpOwot
CQkJYnJlYWs7Ci0KLQkJY2FzZSBBTURfRFBNX0ZPUkNFRF9MRVZFTF9BVVRPOgotCQljYXNlIEFN
RF9EUE1fRk9SQ0VEX0xFVkVMX1BST0ZJTEVfU1RBTkRBUkQ6Ci0JCQlyZXQgPSBzbXVfdW5mb3Jj
ZV9kcG1fbGV2ZWxzKHNtdSk7Ci0JCQlicmVhazsKLQotCQljYXNlIEFNRF9EUE1fRk9SQ0VEX0xF
VkVMX1BST0ZJTEVfTUlOX1NDTEs6Ci0JCWNhc2UgQU1EX0RQTV9GT1JDRURfTEVWRUxfUFJPRklM
RV9NSU5fTUNMSzoKLQkJY2FzZSBBTURfRFBNX0ZPUkNFRF9MRVZFTF9QUk9GSUxFX1BFQUs6Ci0J
CQlyZXQgPSBzbXVfZ2V0X3Byb2ZpbGluZ19jbGtfbWFzayhzbXUsIGxldmVsLAotCQkJCQkJCSAm
c2Nsa19tYXNrLAotCQkJCQkJCSAmbWNsa19tYXNrLAotCQkJCQkJCSAmc29jX21hc2spOwotCQkJ
aWYgKHJldCkKLQkJCQlyZXR1cm4gcmV0OwotCQkJc211X2ZvcmNlX2Nsa19sZXZlbHMoc211LCBT
TVVfU0NMSywgMSA8PCBzY2xrX21hc2spOwotCQkJc211X2ZvcmNlX2Nsa19sZXZlbHMoc211LCBT
TVVfTUNMSywgMSA8PCBtY2xrX21hc2spOwotCQkJc211X2ZvcmNlX2Nsa19sZXZlbHMoc211LCBT
TVVfU09DQ0xLLCAxIDw8IHNvY19tYXNrKTsKLQkJCWJyZWFrOwotCi0JCWNhc2UgQU1EX0RQTV9G
T1JDRURfTEVWRUxfTUFOVUFMOgotCQljYXNlIEFNRF9EUE1fRk9SQ0VEX0xFVkVMX1BST0ZJTEVf
RVhJVDoKLQkJZGVmYXVsdDoKLQkJCWJyZWFrOworCQlyZXQgPSBzbXVfc2V0X3BlcmZvcm1hbmNl
X2xldmVsKHNtdSwgbGV2ZWwpOworCQlpZiAocmV0KSB7CisJCQlzd2l0Y2ggKGxldmVsKSB7CisJ
CQljYXNlIEFNRF9EUE1fRk9SQ0VEX0xFVkVMX0hJR0g6CisJCQkJcmV0ID0gc211X2ZvcmNlX2Rw
bV9saW1pdF92YWx1ZShzbXUsIHRydWUpOworCQkJCWJyZWFrOworCQkJY2FzZSBBTURfRFBNX0ZP
UkNFRF9MRVZFTF9MT1c6CisJCQkJcmV0ID0gc211X2ZvcmNlX2RwbV9saW1pdF92YWx1ZShzbXUs
IGZhbHNlKTsKKwkJCQlicmVhazsKKworCQkJY2FzZSBBTURfRFBNX0ZPUkNFRF9MRVZFTF9BVVRP
OgorCQkJY2FzZSBBTURfRFBNX0ZPUkNFRF9MRVZFTF9QUk9GSUxFX1NUQU5EQVJEOgorCQkJCXJl
dCA9IHNtdV91bmZvcmNlX2RwbV9sZXZlbHMoc211KTsKKwkJCQlicmVhazsKKworCQkJY2FzZSBB
TURfRFBNX0ZPUkNFRF9MRVZFTF9QUk9GSUxFX01JTl9TQ0xLOgorCQkJY2FzZSBBTURfRFBNX0ZP
UkNFRF9MRVZFTF9QUk9GSUxFX01JTl9NQ0xLOgorCQkJY2FzZSBBTURfRFBNX0ZPUkNFRF9MRVZF
TF9QUk9GSUxFX1BFQUs6CisJCQkJcmV0ID0gc211X2dldF9wcm9maWxpbmdfY2xrX21hc2soc211
LCBsZXZlbCwKKwkJCQkJCQkJICZzY2xrX21hc2ssCisJCQkJCQkJCSAmbWNsa19tYXNrLAorCQkJ
CQkJCQkgJnNvY19tYXNrKTsKKwkJCQlpZiAocmV0KQorCQkJCQlyZXR1cm4gcmV0OworCQkJCXNt
dV9mb3JjZV9jbGtfbGV2ZWxzKHNtdSwgU01VX1NDTEssIDEgPDwgc2Nsa19tYXNrKTsKKwkJCQlz
bXVfZm9yY2VfY2xrX2xldmVscyhzbXUsIFNNVV9NQ0xLLCAxIDw8IG1jbGtfbWFzayk7CisJCQkJ
c211X2ZvcmNlX2Nsa19sZXZlbHMoc211LCBTTVVfU09DQ0xLLCAxIDw8IHNvY19tYXNrKTsKKwkJ
CQlicmVhazsKKworCQkJY2FzZSBBTURfRFBNX0ZPUkNFRF9MRVZFTF9NQU5VQUw6CisJCQljYXNl
IEFNRF9EUE1fRk9SQ0VEX0xFVkVMX1BST0ZJTEVfRVhJVDoKKwkJCWRlZmF1bHQ6CisJCQkJYnJl
YWs7CisJCQl9CiAJCX0KIAogCQlpZiAoIXJldCkKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvcG93ZXJwbGF5L2luYy9hbWRncHVfc211LmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bv
d2VycGxheS9pbmMvYW1kZ3B1X3NtdS5oCmluZGV4IDUxNGQzMTUxODg1My4uYmE1ZGRhZmNiZGJh
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvYW1kZ3B1X3Nt
dS5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2luYy9hbWRncHVfc211LmgK
QEAgLTYzMSw2ICs2MzEsNyBAQCBzdHJ1Y3QgcHB0YWJsZV9mdW5jcyB7CiAJaW50ICgqZ2V0X3Ro
ZXJtYWxfdGVtcGVyYXR1cmVfcmFuZ2UpKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCBzdHJ1Y3Qg
c211X3RlbXBlcmF0dXJlX3JhbmdlICpyYW5nZSk7CiAJaW50ICgqZ2V0X3VjbGtfZHBtX3N0YXRl
cykoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIHVpbnQzMl90ICpjbG9ja3NfaW5fa2h6LCB1aW50
MzJfdCAqbnVtX3N0YXRlcyk7CiAJaW50ICgqc2V0X2RlZmF1bHRfb2Rfc2V0dGluZ3MpKHN0cnVj
dCBzbXVfY29udGV4dCAqc211LCBib29sIGluaXRpYWxpemUpOworCWludCAoKnNldF9wZXJmb3Jt
YW5jZV9sZXZlbCkoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGludDMyX3QgbGV2ZWwpOwogfTsK
IAogc3RydWN0IHNtdV9mdW5jcwpAQCAtOTI4LDYgKzkyOSw5IEBAIHN0cnVjdCBzbXVfZnVuY3MK
IAkoKHNtdSktPmZ1bmNzLT5iYWNvX2dldF9zdGF0ZT8gKHNtdSktPmZ1bmNzLT5iYWNvX2dldF9z
dGF0ZSgoc211KSwgKHN0YXRlKSkgOiAwKQogI2RlZmluZSBzbXVfYmFjb19yZXNldChzbXUpIFwK
IAkoKHNtdSktPmZ1bmNzLT5iYWNvX3Jlc2V0PyAoc211KS0+ZnVuY3MtPmJhY29fcmVzZXQoKHNt
dSkpIDogMCkKKyNkZWZpbmUgc211X3NldF9wZXJmb3JtYW5jZV9sZXZlbChzbXUsIGxldmVsKSBc
CisJKChzbXUpLT5wcHRfZnVuY3MtPnNldF9wZXJmb3JtYW5jZV9sZXZlbD8gKHNtdSktPnBwdF9m
dW5jcy0+c2V0X3BlcmZvcm1hbmNlX2xldmVsKChzbXUpLCAobGV2ZWwpKSA6IC1FSU5WQUwpOwor
CiAKIGV4dGVybiBpbnQgc211X2dldF9hdG9tX2RhdGFfdGFibGUoc3RydWN0IHNtdV9jb250ZXh0
ICpzbXUsIHVpbnQzMl90IHRhYmxlLAogCQkJCSAgIHVpbnQxNl90ICpzaXplLCB1aW50OF90ICpm
cmV2LCB1aW50OF90ICpjcmV2LApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dl
cnBsYXkvbmF2aTEwX3BwdC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvbmF2aTEw
X3BwdC5jCmluZGV4IGU0NDA0MWEyNWU2NC4uOTAyNGQ5MTQ3N2YwIDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9uYXZpMTBfcHB0LmMKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9wb3dlcnBsYXkvbmF2aTEwX3BwdC5jCkBAIC0xNTkwLDYgKzE1OTAsNjAgQEAgc3Rh
dGljIGludCBuYXZpMTBfc2V0X3BwZmVhdHVyZV9zdGF0dXMoc3RydWN0IHNtdV9jb250ZXh0ICpz
bXUsCiAJcmV0dXJuIDA7CiB9CiAKK3N0YXRpYyBpbnQgbmF2aTEwX3NldF9wZWFrX2Nsb2NrX2J5
X2RldmljZShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSkKK3sKKwlzdHJ1Y3QgYW1kZ3B1X2Rldmlj
ZSAqYWRldiA9IHNtdS0+YWRldjsKKwlpbnQgcmV0ID0gMDsKKwl1aW50MzJfdCBzY2xrX2ZyZXEg
PSAwLCB1Y2xrX2ZyZXEgPSAwOworCXVpbnQzMl90IHVjbGtfbGV2ZWwgPSAwOworCisJc3dpdGNo
IChhZGV2LT5yZXZfaWQpIHsKKwljYXNlIDB4ZjA6IC8qIFhUWCAqLworCWNhc2UgMHhDMDoKKwkJ
c2Nsa19mcmVxID0gTkFWSTEwX1BFQUtfU0NMS19YVFg7CisJCWJyZWFrOworCWNhc2UgMHhmMTog
LyogWFQgKi8KKwljYXNlIDB4QzE6CisJCXNjbGtfZnJlcSA9IE5BVkkxMF9QRUFLX1NDTEtfWFQ7
CisJCWJyZWFrOworCWRlZmF1bHQ6IC8qIFhMICovCisJCXNjbGtfZnJlcSA9IE5BVkkxMF9QRUFL
X1NDTEtfWEw7CisJCWJyZWFrOworCX0KKworCXJldCA9IHNtdV9nZXRfZHBtX2xldmVsX2NvdW50
KHNtdSwgU01VX1VDTEssICZ1Y2xrX2xldmVsKTsKKwlpZiAocmV0KQorCQlyZXR1cm4gcmV0Owor
CXJldCA9IHNtdV9nZXRfZHBtX2ZyZXFfYnlfaW5kZXgoc211LCBTTVVfVUNMSywgdWNsa19sZXZl
bCAtIDEsICZ1Y2xrX2ZyZXEpOworCWlmIChyZXQpCisJCXJldHVybiByZXQ7CisKKwlyZXQgPSBz
bXVfc2V0X3NvZnRfZnJlcV9yYW5nZShzbXUsIFNNVV9TQ0xLLCBzY2xrX2ZyZXEsIHNjbGtfZnJl
cSk7CisJaWYgKHJldCkKKwkJcmV0dXJuIHJldDsKKwlyZXQgPSBzbXVfc2V0X3NvZnRfZnJlcV9y
YW5nZShzbXUsIFNNVV9VQ0xLLCB1Y2xrX2ZyZXEsIHVjbGtfZnJlcSk7CisJaWYgKHJldCkKKwkJ
cmV0dXJuIHJldDsKKworCXJldHVybiByZXQ7Cit9CisKK3N0YXRpYyBpbnQgbmF2aTEwX3NldF9w
ZXJmb3JtYW5jZV9sZXZlbChzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgaW50MzJfdCBsZXZlbCkK
K3sKKwlpbnQgcmV0ID0gMDsKKworCXN3aXRjaCAobGV2ZWwpIHsKKwljYXNlIEFNRF9EUE1fRk9S
Q0VEX0xFVkVMX1BST0ZJTEVfUEVBSzoKKwkJcmV0ID0gbmF2aTEwX3NldF9wZWFrX2Nsb2NrX2J5
X2RldmljZShzbXUpOworCQlicmVhazsKKwlkZWZhdWx0OgorCQlyZXQgPSAtRUlOVkFMOworCQli
cmVhazsKKwl9CisKKwlyZXR1cm4gcmV0OworfQorCiBzdGF0aWMgY29uc3Qgc3RydWN0IHBwdGFi
bGVfZnVuY3MgbmF2aTEwX3BwdF9mdW5jcyA9IHsKIAkudGFibGVzX2luaXQgPSBuYXZpMTBfdGFi
bGVzX2luaXQsCiAJLmFsbG9jX2RwbV9jb250ZXh0ID0gbmF2aTEwX2FsbG9jYXRlX2RwbV9jb250
ZXh0LApAQCAtMTYyNSw2ICsxNjc5LDcgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBwcHRhYmxlX2Z1
bmNzIG5hdmkxMF9wcHRfZnVuY3MgPSB7CiAJLmdldF91Y2xrX2RwbV9zdGF0ZXMgPSBuYXZpMTBf
Z2V0X3VjbGtfZHBtX3N0YXRlcywKIAkuZ2V0X3BwZmVhdHVyZV9zdGF0dXMgPSBuYXZpMTBfZ2V0
X3BwZmVhdHVyZV9zdGF0dXMsCiAJLnNldF9wcGZlYXR1cmVfc3RhdHVzID0gbmF2aTEwX3NldF9w
cGZlYXR1cmVfc3RhdHVzLAorCS5zZXRfcGVyZm9ybWFuY2VfbGV2ZWwgPSBuYXZpMTBfc2V0X3Bl
cmZvcm1hbmNlX2xldmVsLAogfTsKIAogdm9pZCBuYXZpMTBfc2V0X3BwdF9mdW5jcyhzdHJ1Y3Qg
c211X2NvbnRleHQgKnNtdSkKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJw
bGF5L25hdmkxMF9wcHQuaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L25hdmkxMF9w
cHQuaAppbmRleCA5NTcyODhlMjJmNDcuLjYyMGZmMTdjMmZlZiAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvbmF2aTEwX3BwdC5oCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvcG93ZXJwbGF5L25hdmkxMF9wcHQuaApAQCAtMjMsNiArMjMsMTAgQEAKICNpZm5kZWYg
X19OQVZJMTBfUFBUX0hfXwogI2RlZmluZSBfX05BVkkxMF9QUFRfSF9fCiAKKyNkZWZpbmUgTkFW
STEwX1BFQUtfU0NMS19YVFgJCSgxODMwKQorI2RlZmluZSBOQVZJMTBfUEVBS19TQ0xLX1hUICAJ
CSgxNzU1KQorI2RlZmluZSBOQVZJMTBfUEVBS19TQ0xLX1hMICAJCSgxNjI1KQorCiBleHRlcm4g
dm9pZCBuYXZpMTBfc2V0X3BwdF9mdW5jcyhzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSk7CiAKICNl
bmRpZgotLSAKMi4yMi4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9y
ZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZng=
