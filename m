Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 7EE4BF1458
	for <lists+amd-gfx@lfdr.de>; Wed,  6 Nov 2019 11:50:08 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id ED8A56ECCA;
	Wed,  6 Nov 2019 10:50:06 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM02-SN1-obe.outbound.protection.outlook.com
 (mail-eopbgr770081.outbound.protection.outlook.com [40.107.77.81])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 818316ECCA
 for <amd-gfx@lists.freedesktop.org>; Wed,  6 Nov 2019 10:50:05 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=KrWBuLFFETNNI3CtD7+jC0/9N/WIt14of+bLP8c3kbg9uxD12M6PCZ98EodRF2d1zwlURrcORNaqYpmFBFRa0aCC6e8UzbsWQE2bPMgBm1C7eDVPvtqVny+P9lShhrEuF5Sn2k0NE6Ux9AsejiXs9NA9DKkLkD99WP5xGYO5SJT+LJBdhUhZSZexSyq3JxoTnG76M2gslqzIXvG1/BLTG9Er8sfTYIv3s2y2WYkL27dyqML9+N398FymR5KdZWWtV5NFrNKSGku0xSIZlLma+hW4qgCP1f+JUcPJFyqPTk9+nGFtCljk0PeBC80ViwooAyuowEbxGrxXODzF3PPsSQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=7U+ikw3Z+si74gzlYXpanZAZj59LDlYfOvIZ1k2B7wQ=;
 b=lzkzLHer17qkCAmwlE4Jnh6fDqlnyscSbBpeUT+XWlGDHy5BqKlVhdqDKr7QeN5boXbE+vgc5qn4X2GqlhC5tYw7fw79nzyXaU515FKg/HL40h/VTy/vkYCpHIbNdgsDwP3y2sOBqvzrLurFSFhJXOfQl6ADmcU42igg8SontFqWVBUYq83isgzGLAUh12Zc/jgxnZKYuQoqcCjB0Km/m1hBw/Bw8LRuVBLf4MMUZFYQHO2eUQjthTf5+pwIi5+Q+ZKEQJunGdge3yZNO4oOYHa4CLdTEAXvVHCqsKSX7uwRzwoyirk7Tq+zmZZ0olcPxmrYgDpDhJ7bF4S13XebOw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from MN2PR12MB2896.namprd12.prod.outlook.com (20.179.80.214) by
 MN2PR12MB3888.namprd12.prod.outlook.com (10.255.236.96) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2408.24; Wed, 6 Nov 2019 10:50:03 +0000
Received: from MN2PR12MB2896.namprd12.prod.outlook.com
 ([fe80::9973:de2e:58b4:282a]) by MN2PR12MB2896.namprd12.prod.outlook.com
 ([fe80::9973:de2e:58b4:282a%7]) with mapi id 15.20.2408.024; Wed, 6 Nov 2019
 10:50:03 +0000
From: "Zhu, Changfeng" <Changfeng.Zhu@amd.com>
To: "Koenig, Christian" <Christian.Koenig@amd.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>, "Tuikov,
 Luben" <Luben.Tuikov@amd.com>, "Huang, Ray" <Ray.Huang@amd.com>, "Huang,
 Shimmer" <Xinmei.Huang@amd.com>
Subject: RE: [PATCH 1/2] drm/amdgpu: add dummy read by engines for some GCVM
 status registers in gfx10
Thread-Topic: [PATCH 1/2] drm/amdgpu: add dummy read by engines for some GCVM
 status registers in gfx10
Thread-Index: AQHVlHsoJV8zReYcnEClEhAlzSXcLqd934QAgAATZoA=
Date: Wed, 6 Nov 2019 10:50:03 +0000
Message-ID: <MN2PR12MB2896C2C32A220067076567D6FD790@MN2PR12MB2896.namprd12.prod.outlook.com>
References: <20191106082051.10338-1-changfeng.zhu@amd.com>
 <bcf84101-ae80-666c-18cc-abbe2173627a@amd.com>
In-Reply-To: <bcf84101-ae80-666c-18cc-abbe2173627a@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-ht: Tenant
x-ms-office365-filtering-correlation-id: bad33986-0769-4b45-6bbe-08d762a71466
x-ms-traffictypediagnostic: MN2PR12MB3888:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <MN2PR12MB3888676DCD226CD8990FA9F5FD790@MN2PR12MB3888.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:6430;
x-forefront-prvs: 02135EB356
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(396003)(346002)(39860400002)(376002)(366004)(136003)(13464003)(189003)(199004)(5660300002)(71200400001)(6506007)(26005)(53546011)(81156014)(76176011)(102836004)(2906002)(99286004)(66476007)(66556008)(64756008)(66446008)(76116006)(66946007)(476003)(86362001)(305945005)(81166006)(8936002)(229853002)(316002)(14444005)(6246003)(256004)(110136005)(71190400001)(7736002)(7696005)(486006)(55016002)(74316002)(11346002)(14454004)(52536014)(9686003)(6636002)(446003)(186003)(25786009)(66066001)(6116002)(478600001)(3846002)(33656002)(6436002)(2501003)(8676002);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MN2PR12MB3888;
 H:MN2PR12MB2896.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: OyPNOYso6bxGbiEYwnI4scs39dGpsZyV/DzZwKQpmd4litY0K633BDC/PL3w+YgXMoVl6kqLRWewMmO7JazZdXDtBkDL5kNK8ZzGgeRU5YOV9MxC1zvnxPmz8MD2t/5/mDQhaHOnV/aFnnfQiSNA+zaDVY4kQ5LId2fa6tpiQwkjg9CqujcaDqZ0dOIzs8D7G0dxTxfOFMsYKvCaJdeS91iSznjLJGOom1CDsn6I7uDmM8zvgylmHI64qys0PRivscf0YMyDQEqtHgXq1yvXzK1Z1K/yEYAVFJPvw0RJ7Qj2hVy+iAJ/cVvE5RPauj+RrMI73pMujufhg/5LKsidkskCgmrtkhn7cNqrzp4Ztr9aYjEl/wPEkBB+EWspAlrq8PcHlng5d8+Bwfn51sr3qcV281KbGyi+Ilgz5zsuvJgp72zrpx6+oAu8VmXzT+cE
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: bad33986-0769-4b45-6bbe-08d762a71466
X-MS-Exchange-CrossTenant-originalarrivaltime: 06 Nov 2019 10:50:03.6452 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: KSh9YghOTwuevCUqOxEUw4VfhgVW+UecEG08O0/pau3GMPV+gb5MgnHdOzlStf2ZdLfmNmDvPcW1j1V2wG77mA==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB3888
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=7U+ikw3Z+si74gzlYXpanZAZj59LDlYfOvIZ1k2B7wQ=;
 b=m0OIAi16Ae4lT+b5+g2BCGRz3NVcxhFLSNlF9auWvhsFhyxOeaDynVnzlaPOfoFlPZQ1lOyEDnoL/D+qB9dWGgNFhdVRCYdUwiEU2ya1DZht/WQg6C5XHFca/PoD8do8Chs14RExEW3Z2I7RFsZU00YcgiutpmTovDKbnpHIciM=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Changfeng.Zhu@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

SGkgQ2hyaXMsDQoNCkkgbW92ZSBnZnhfdjEwXzBfY2hlY2tfZndfd3JpdGVfd2FpdChhZGV2KTsN
CnRvIGdmeF92MTBfMF9pbml0X21pY3JvY29kZQ0KDQpCUiwNCkNoYW5nZmVuZy4NCg0KLS0tLS1P
cmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZyb206IEtvZW5pZywgQ2hyaXN0aWFuIDxDaHJpc3RpYW4u
S29lbmlnQGFtZC5jb20+IA0KU2VudDogV2VkbmVzZGF5LCBOb3ZlbWJlciA2LCAyMDE5IDU6MjYg
UE0NClRvOiBaaHUsIENoYW5nZmVuZyA8Q2hhbmdmZW5nLlpodUBhbWQuY29tPjsgYW1kLWdmeEBs
aXN0cy5mcmVlZGVza3RvcC5vcmc7IFR1aWtvdiwgTHViZW4gPEx1YmVuLlR1aWtvdkBhbWQuY29t
PjsgSHVhbmcsIFJheSA8UmF5Lkh1YW5nQGFtZC5jb20+OyBIdWFuZywgU2hpbW1lciA8WGlubWVp
Lkh1YW5nQGFtZC5jb20+DQpTdWJqZWN0OiBSZTogW1BBVENIIDEvMl0gZHJtL2FtZGdwdTogYWRk
IGR1bW15IHJlYWQgYnkgZW5naW5lcyBmb3Igc29tZSBHQ1ZNIHN0YXR1cyByZWdpc3RlcnMgaW4g
Z2Z4MTANCg0KQW0gMDYuMTEuMTkgdW0gMDk6MjEgc2NocmllYiBaaHUsIENoYW5nZmVuZzoNCj4g
RnJvbTogY2hhbmd6aHUgPENoYW5nZmVuZy5aaHVAYW1kLmNvbT4NCj4NCj4gVGhlIEdSQk0gcmVn
aXN0ZXIgaW50ZXJmYWNlIGlzIG5vdyBjYXBhYmxlIG9mIGJ1cnN0aW5nIDEgY3ljbGUgcGVyIA0K
PiByZWdpc3RlciB3ci0+d3IsIHdyLT5yZCBtdWNoIGZhc3RlciB0aGFuIHByZXZpb3VzIG11dGlj
eWNsZSBwZXIgDQo+IHRyYW5zYWN0aW9uIGRvbmUgaW50ZXJmYWNlLiAgVGhpcyBoYXMgY2F1c2Vk
IGEgcHJvYmxlbSB3aGVyZSBzdGF0dXMgDQo+IHJlZ2lzdGVycyByZXF1aXJpbmcgSFcgdG8gdXBk
YXRlIGhhdmUgYSAxIGN5Y2xlIGRlbGF5LCBkdWUgdG8gdGhlIA0KPiByZWdpc3RlciB1cGRhdGUg
aGF2aW5nIHRvIGdvIHRocm91Z2ggR1JCTS4NCj4NCj4gRm9yIGNwIHVjb2RlLCBpdCBoYXMgcmVh
bGl6ZWQgZHVtbXkgcmVhZCBpbiBjcCBmaXJtd2FyZS5JdCBjb3ZlcnMgdGhlIA0KPiB1c2Ugb2Yg
V0FJVF9SRUdfTUVNIG9wZXJhdGlvbiAxIGNhc2Ugb25seS5TbyBpdCBuZWVkcyB0byBjYWxsIA0K
PiBnZnhfdjEwXzBfd2FpdF9yZWdfbWVtIGluIGdmeDEwLiBCZXNpZGVzIGl0IGFsc28gbmVlZHMg
dG8gYWRkIHdhcm5pbmcgDQo+IHRvIHVwZGF0ZSBmaXJtd2FyZSBpbiBjYXNlIGZpcm13YXJlIGlz
IHRvbyBvbGQgdG8gaGF2ZSBmdW5jdGlvbiB0byANCj4gcmVhbGl6ZSBkdW1teSByZWFkIGluIGNw
IGZpcm13YXJlLg0KPg0KPiBGb3Igc2RtYSB1Y29kZSwgaXQgaGFzbid0IHJlYWxpemVkIGR1bW15
IHJlYWQgaW4gc2RtYSBmaXJtd2FyZS4gc2RtYSANCj4gaXMgbW92ZWQgdG8gZ2Z4aHViIGluIGdm
eDEwLiBTbyBpdCBuZWVkcyB0byBhZGQgZHVtbXkgcmVhZCBpbiBkcml2ZXIgDQo+IGJldHdlZW4g
YW1kZ3B1X3JpbmdfZW1pdF93cmVnIGFuZCBhbWRncHVfcmluZ19lbWl0X3JlZ193YWl0IGZvciBz
ZG1hX3Y1XzAuDQo+DQo+IENoYW5nZS1JZDogSWUwMjhmMzdlYjc4OTk2NmQ0NTkzOTg0YmQ2NjFi
MjQ4ZWJlYjFhYzMNCj4gU2lnbmVkLW9mZi1ieTogY2hhbmd6aHUgPENoYW5nZmVuZy5aaHVAYW1k
LmNvbT4NCj4gLS0tDQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dmeC5o
IHwgIDEgKw0KPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92MTBfMC5jICB8IDQ4
ICsrKysrKysrKysrKysrKysrKysrKysrKysNCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9nbWNfdjEwXzAuYyAgfCAgOCArKy0tLQ0KPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L3NkbWFfdjVfMC5jICB8IDEzICsrKysrKy0NCj4gICA0IGZpbGVzIGNoYW5nZWQsIDY0IGluc2Vy
dGlvbnMoKyksIDYgZGVsZXRpb25zKC0pDQo+DQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHVfZ2Z4LmggDQo+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X2dmeC5oDQo+IGluZGV4IDQ1OWFhOTA1OTU0Mi4uYTc0ZWNkNDQ5Nzc1IDEwMDY0
NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ2Z4LmgNCj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dmeC5oDQo+IEBAIC0yNjcsNiAr
MjY3LDcgQEAgc3RydWN0IGFtZGdwdV9nZnggew0KPiAgIAl1aW50MzJfdAkJCW1lYzJfZmVhdHVy
ZV92ZXJzaW9uOw0KPiAgIAlib29sCQkJCW1lY19md193cml0ZV93YWl0Ow0KPiAgIAlib29sCQkJ
CW1lX2Z3X3dyaXRlX3dhaXQ7DQo+ICsJYm9vbAkJCQljcF9md193cml0ZV93YWl0Ow0KPiAgIAlz
dHJ1Y3QgYW1kZ3B1X3JpbmcJCWdmeF9yaW5nW0FNREdQVV9NQVhfR0ZYX1JJTkdTXTsNCj4gICAJ
dW5zaWduZWQJCQludW1fZ2Z4X3JpbmdzOw0KPiAgIAlzdHJ1Y3QgYW1kZ3B1X3JpbmcJCWNvbXB1
dGVfcmluZ1tBTURHUFVfTUFYX0NPTVBVVEVfUklOR1NdOw0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3YxMF8wLmMgDQo+IGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvZ2Z4X3YxMF8wLmMNCj4gaW5kZXggMTdhNWNiZmQwMDI0Li5hY2RiMGU0ZGY5YjQg
MTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92MTBfMC5jDQo+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92MTBfMC5jDQo+IEBAIC01NjEs
NiArNTYxLDMyIEBAIHN0YXRpYyB2b2lkIGdmeF92MTBfMF9mcmVlX21pY3JvY29kZShzdHJ1Y3Qg
YW1kZ3B1X2RldmljZSAqYWRldikNCj4gICAJa2ZyZWUoYWRldi0+Z2Z4LnJsYy5yZWdpc3Rlcl9s
aXN0X2Zvcm1hdCk7DQo+ICAgfQ0KPiAgIA0KPiArc3RhdGljIHZvaWQgZ2Z4X3YxMF8wX2NoZWNr
X2Z3X3dyaXRlX3dhaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpIA0KPiArew0KPiArCWFk
ZXYtPmdmeC5jcF9md193cml0ZV93YWl0ID0gZmFsc2U7DQo+ICsNCj4gKwlzd2l0Y2ggKGFkZXYt
PmFzaWNfdHlwZSkgew0KPiArCWNhc2UgQ0hJUF9OQVZJMTA6DQo+ICsJY2FzZSBDSElQX05BVkkx
MjoNCj4gKwljYXNlIENISVBfTkFWSTE0Og0KPiArCQlpZiAoKGFkZXYtPmdmeC5tZV9md192ZXJz
aW9uID49IDB4MDAwMDAwNDYpICYmDQo+ICsJCSAgICAoYWRldi0+Z2Z4Lm1lX2ZlYXR1cmVfdmVy
c2lvbiA+PSAyNykgJiYNCj4gKwkJICAgIChhZGV2LT5nZngucGZwX2Z3X3ZlcnNpb24gPj0gMHgw
MDAwMDA2OCkgJiYNCj4gKwkJICAgIChhZGV2LT5nZngucGZwX2ZlYXR1cmVfdmVyc2lvbiA+PSAy
NykgJiYNCj4gKwkJICAgIChhZGV2LT5nZngubWVjX2Z3X3ZlcnNpb24gPj0gMHgwMDAwMDA1Yikg
JiYNCj4gKwkJICAgIChhZGV2LT5nZngubWVjX2ZlYXR1cmVfdmVyc2lvbiA+PSAyNykpDQo+ICsJ
CQlhZGV2LT5nZnguY3BfZndfd3JpdGVfd2FpdCA9IHRydWU7DQo+ICsJCWJyZWFrOw0KPiArCWRl
ZmF1bHQ6DQo+ICsJCWJyZWFrOw0KPiArCX0NCj4gKw0KPiArCWlmIChhZGV2LT5nZnguY3BfZndf
d3JpdGVfd2FpdCA9PSBmYWxzZSkNCj4gKwkJRFJNX1dBUk5fT05DRSgiV2FybmluZzogY2hlY2sg
Y3BfZndfdmVyc2lvbiBhbmQgdXBkYXRlIGl0IHRvIHJlYWxpemUgXA0KPiArCQkJCSAgR1JCTSBy
ZXF1aXJlcyAxLWN5Y2xlIGRlbGF5IGluIGNwIGZpcm13YXJlXG4iKTsgfQ0KPiArDQo+ICsNCj4g
ICBzdGF0aWMgdm9pZCBnZnhfdjEwXzBfaW5pdF9ybGNfZXh0X21pY3JvY29kZShzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldikNCj4gICB7DQo+ICAgCWNvbnN0IHN0cnVjdCBybGNfZmlybXdhcmVf
aGVhZGVyX3YyXzEgKnJsY19oZHI7IEBAIC00NzY4LDYgKzQ3OTQsMjUgDQo+IEBAIHN0YXRpYyB2
b2lkIGdmeF92MTBfMF9yaW5nX2VtaXRfcmVnX3dhaXQoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5n
LCB1aW50MzJfdCByZWcsDQo+ICAgCWdmeF92MTBfMF93YWl0X3JlZ19tZW0ocmluZywgMCwgMCwg
MCwgcmVnLCAwLCB2YWwsIG1hc2ssIDB4MjApOw0KPiAgIH0NCj4gICANCj4gK3N0YXRpYyB2b2lk
IGdmeF92MTBfMF9yaW5nX2VtaXRfcmVnX3dyaXRlX3JlZ193YWl0KHN0cnVjdCBhbWRncHVfcmlu
ZyAqcmluZywNCj4gKwkJCQkJCSAgdWludDMyX3QgcmVnMCwgdWludDMyX3QgcmVnMSwNCj4gKwkJ
CQkJCSAgdWludDMyX3QgcmVmLCB1aW50MzJfdCBtYXNrKQ0KPiArew0KPiArCWludCB1c2VwZnAg
PSAocmluZy0+ZnVuY3MtPnR5cGUgPT0gQU1ER1BVX1JJTkdfVFlQRV9HRlgpOw0KPiArCXN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2ID0gcmluZy0+YWRldjsNCj4gKwlib29sIGZ3X3ZlcnNpb25f
b2sgPSBmYWxzZTsNCj4gKw0KPiArCWdmeF92MTBfMF9jaGVja19md193cml0ZV93YWl0KGFkZXYp
Ow0KDQpEb2luZyB0aGF0IGhlcmUgaXMgaW52YWxpZCwgdGhlIGZ1bmN0aW9uIGNhbiBiZSBjYWxs
ZWQgY29uY3VycmVudGx5IGZyb20gbXVsdGlwbGUgdGhyZWFkcy4NCg0KWW91IGVpdGhlciBuZWVk
IHRvIGRvIHRoaXMgb25seSBvbmNlIGZyb20gc29tZSBvZiB0aGUgX2luaXQoKSBjYWxsYmFja3Mg
b3IgZHJvcCB0aGUgYWRldi0+Z2Z4LmNwX2Z3X3dyaXRlX3dhaXQgdmFyaWFibGUgYW5kIGluc3Rl
YWQgcmV0dXJuIHRoZSByZXN1bHQgaGVyZS4NCg0KPiArCWZ3X3ZlcnNpb25fb2sgPSBhZGV2LT5n
ZnguY3BfZndfd3JpdGVfd2FpdDsNCj4gKw0KPiArCWlmIChmd192ZXJzaW9uX29rKQ0KPiArCQln
ZnhfdjEwXzBfd2FpdF9yZWdfbWVtKHJpbmcsIHVzZXBmcCwgMCwgMSwgcmVnMCwgcmVnMSwNCj4g
KwkJCQkgICAgICByZWYsIG1hc2ssIDB4MjApOw0KPiArCWVsc2UNCj4gKwkJYW1kZ3B1X3Jpbmdf
ZW1pdF9yZWdfd3JpdGVfcmVnX3dhaXRfaGVscGVyKHJpbmcsIHJlZzAsIHJlZzEsDQo+ICsJCQkJ
CQkJICAgcmVmLCBtYXNrKTsNCj4gK30NCj4gKw0KPiAgIHN0YXRpYyB2b2lkDQo+ICAgZ2Z4X3Yx
MF8wX3NldF9nZnhfZW9wX2ludGVycnVwdF9zdGF0ZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRl
diwNCj4gICAJCQkJICAgICAgdWludDMyX3QgbWUsIHVpbnQzMl90IHBpcGUsIEBAIC01MTU4LDYg
KzUyMDMsNyBAQCBzdGF0aWMgDQo+IGNvbnN0IHN0cnVjdCBhbWRncHVfcmluZ19mdW5jcyBnZnhf
djEwXzBfcmluZ19mdW5jc19nZnggPSB7DQo+ICAgCS5lbWl0X3RteiA9IGdmeF92MTBfMF9yaW5n
X2VtaXRfdG16LA0KPiAgIAkuZW1pdF93cmVnID0gZ2Z4X3YxMF8wX3JpbmdfZW1pdF93cmVnLA0K
PiAgIAkuZW1pdF9yZWdfd2FpdCA9IGdmeF92MTBfMF9yaW5nX2VtaXRfcmVnX3dhaXQsDQo+ICsJ
LmVtaXRfcmVnX3dyaXRlX3JlZ193YWl0ID0gZ2Z4X3YxMF8wX3JpbmdfZW1pdF9yZWdfd3JpdGVf
cmVnX3dhaXQsDQo+ICAgfTsNCj4gICANCj4gICBzdGF0aWMgY29uc3Qgc3RydWN0IGFtZGdwdV9y
aW5nX2Z1bmNzIGdmeF92MTBfMF9yaW5nX2Z1bmNzX2NvbXB1dGUgPSANCj4geyBAQCAtNTE5MSw2
ICs1MjM3LDcgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBhbWRncHVfcmluZ19mdW5jcyBnZnhfdjEw
XzBfcmluZ19mdW5jc19jb21wdXRlID0gew0KPiAgIAkucGFkX2liID0gYW1kZ3B1X3JpbmdfZ2Vu
ZXJpY19wYWRfaWIsDQo+ICAgCS5lbWl0X3dyZWcgPSBnZnhfdjEwXzBfcmluZ19lbWl0X3dyZWcs
DQo+ICAgCS5lbWl0X3JlZ193YWl0ID0gZ2Z4X3YxMF8wX3JpbmdfZW1pdF9yZWdfd2FpdCwNCj4g
KwkuZW1pdF9yZWdfd3JpdGVfcmVnX3dhaXQgPSBnZnhfdjEwXzBfcmluZ19lbWl0X3JlZ193cml0
ZV9yZWdfd2FpdCwNCj4gICB9Ow0KPiAgIA0KPiAgIHN0YXRpYyBjb25zdCBzdHJ1Y3QgYW1kZ3B1
X3JpbmdfZnVuY3MgZ2Z4X3YxMF8wX3JpbmdfZnVuY3Nfa2lxID0geyANCj4gQEAgLTUyMjEsNiAr
NTI2OCw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgYW1kZ3B1X3JpbmdfZnVuY3MgZ2Z4X3YxMF8w
X3JpbmdfZnVuY3Nfa2lxID0gew0KPiAgIAkuZW1pdF9ycmVnID0gZ2Z4X3YxMF8wX3JpbmdfZW1p
dF9ycmVnLA0KPiAgIAkuZW1pdF93cmVnID0gZ2Z4X3YxMF8wX3JpbmdfZW1pdF93cmVnLA0KPiAg
IAkuZW1pdF9yZWdfd2FpdCA9IGdmeF92MTBfMF9yaW5nX2VtaXRfcmVnX3dhaXQsDQo+ICsJLmVt
aXRfcmVnX3dyaXRlX3JlZ193YWl0ID0gZ2Z4X3YxMF8wX3JpbmdfZW1pdF9yZWdfd3JpdGVfcmVn
X3dhaXQsDQo+ICAgfTsNCj4gICANCj4gICBzdGF0aWMgdm9pZCBnZnhfdjEwXzBfc2V0X3Jpbmdf
ZnVuY3Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpIA0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3YxMF8wLmMgDQo+IGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvZ21jX3YxMF8wLmMNCj4gaW5kZXggM2IwMGJjZTE0Y2ZiLi4yMmM4MDczMDlhMjIg
MTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192MTBfMC5jDQo+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192MTBfMC5jDQo+IEBAIC0zNDQs
MTEgKzM0NCw5IEBAIHN0YXRpYyB1aW50NjRfdCBnbWNfdjEwXzBfZW1pdF9mbHVzaF9ncHVfdGxi
KHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywNCj4gICAJYW1kZ3B1X3JpbmdfZW1pdF93cmVnKHJp
bmcsIGh1Yi0+Y3R4MF9wdGJfYWRkcl9oaTMyICsgKDIgKiB2bWlkKSwNCj4gICAJCQkgICAgICB1
cHBlcl8zMl9iaXRzKHBkX2FkZHIpKTsNCj4gICANCj4gLQlhbWRncHVfcmluZ19lbWl0X3dyZWco
cmluZywgaHViLT52bV9pbnZfZW5nMF9yZXEgKyBlbmcsIHJlcSk7DQo+IC0NCj4gLQkvKiB3YWl0
IGZvciB0aGUgaW52YWxpZGF0ZSB0byBjb21wbGV0ZSAqLw0KPiAtCWFtZGdwdV9yaW5nX2VtaXRf
cmVnX3dhaXQocmluZywgaHViLT52bV9pbnZfZW5nMF9hY2sgKyBlbmcsDQo+IC0JCQkJICAxIDw8
IHZtaWQsIDEgPDwgdm1pZCk7DQo+ICsJYW1kZ3B1X3JpbmdfZW1pdF9yZWdfd3JpdGVfcmVnX3dh
aXQocmluZywgaHViLT52bV9pbnZfZW5nMF9yZXEgKyBlbmcsDQo+ICsJCQkJCQlodWItPnZtX2lu
dl9lbmcwX2FjayArIGVuZywNCj4gKwkJCQkJCXJlcSwgMSA8PCB2bWlkKTsNCj4gICANCj4gICAJ
cmV0dXJuIHBkX2FkZHI7DQo+ICAgfQ0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvc2RtYV92NV8wLmMgDQo+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2Rt
YV92NV8wLmMNCj4gaW5kZXggMzQ2MGMwMGYzZWFhLi43YjE1ZGRjNzM5ZTUgMTAwNjQ0DQo+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjVfMC5jDQo+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjVfMC5jDQo+IEBAIC0xMTcwLDYgKzExNzAsMTYg
QEAgc3RhdGljIHZvaWQgc2RtYV92NV8wX3JpbmdfZW1pdF9yZWdfd2FpdChzdHJ1Y3QgYW1kZ3B1
X3JpbmcgKnJpbmcsIHVpbnQzMl90IHJlZywNCj4gICAJCQkgIFNETUFfUEtUX1BPTExfUkVHTUVN
X0RXNV9JTlRFUlZBTCgxMCkpOw0KPiAgIH0NCj4gICANCj4gK3N0YXRpYyB2b2lkIHNkbWFfdjVf
MF9yaW5nX2VtaXRfcmVnX3dyaXRlX3JlZ193YWl0KHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywN
Cj4gKwkJCQkJCQkJCQkJCSB1aW50MzJfdCByZWcwLCB1aW50MzJfdCByZWcxLA0KPiArCQkJCQkJ
CQkJCQkJIHVpbnQzMl90IHJlZiwgdWludDMyX3QgbWFzaykNCg0KQlRXOiBZb3Ugc2VlbSB0byBo
YXZlIHNvbWUgb2RkIHRhYiBjb25maWd1cmF0aW9uIGluIHlvdXIgZWRpdG9yLg0KDQpUYWJzIHNo
b3VsZCBiZSA4IHNwYWNlcyBhbmQgZm9yIGZ1bmN0aW9uIHBhcmFtZXRlcnMgdGhlIG5leHQgbGlu
ZSBzaG91bGQgYmUgc3RhcnRpbmcgYmVoaW5kIHRoZSAiKCIgYWJvdmUuDQoNClJlZ2FyZHMsDQpD
aHJpc3RpYW4uDQoNCj4gK3sNCj4gKwlhbWRncHVfcmluZ19lbWl0X3dyZWcocmluZywgcmVnMCwg
cmVmKTsNCj4gKwkvKiB3YWl0IGZvciBhIGN5Y2xlIHRvIHJlc2V0IHZtX2ludl9lbmcqX2FjayAq
Lw0KPiArCWFtZGdwdV9yaW5nX2VtaXRfcmVnX3dhaXQocmluZywgcmVnMCwgMCwgMCk7DQo+ICsJ
YW1kZ3B1X3JpbmdfZW1pdF9yZWdfd2FpdChyaW5nLCByZWcxLCBtYXNrLCBtYXNrKTsgfQ0KPiAr
DQo+ICAgc3RhdGljIGludCBzZG1hX3Y1XzBfZWFybHlfaW5pdCh2b2lkICpoYW5kbGUpDQo+ICAg
ew0KPiAgIAlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IChzdHJ1Y3QgYW1kZ3B1X2Rldmlj
ZSAqKWhhbmRsZTsgQEAgDQo+IC0xNTg1LDcgKzE1OTUsNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0
IGFtZGdwdV9yaW5nX2Z1bmNzIHNkbWFfdjVfMF9yaW5nX2Z1bmNzID0gew0KPiAgIAkJNiArIC8q
IHNkbWFfdjVfMF9yaW5nX2VtaXRfcGlwZWxpbmVfc3luYyAqLw0KPiAgIAkJLyogc2RtYV92NV8w
X3JpbmdfZW1pdF92bV9mbHVzaCAqLw0KPiAgIAkJU09DMTVfRkxVU0hfR1BVX1RMQl9OVU1fV1JF
RyAqIDMgKw0KPiAtCQlTT0MxNV9GTFVTSF9HUFVfVExCX05VTV9SRUdfV0FJVCAqIDYgKw0KPiAr
CQlTT0MxNV9GTFVTSF9HUFVfVExCX05VTV9SRUdfV0FJVCAqIDYgKiAyICsNCj4gICAJCTEwICsg
MTAgKyAxMCwgLyogc2RtYV92NV8wX3JpbmdfZW1pdF9mZW5jZSB4MyBmb3IgdXNlciBmZW5jZSwg
dm0gZmVuY2UgKi8NCj4gICAJLmVtaXRfaWJfc2l6ZSA9IDcgKyA2LCAvKiBzZG1hX3Y1XzBfcmlu
Z19lbWl0X2liICovDQo+ICAgCS5lbWl0X2liID0gc2RtYV92NV8wX3JpbmdfZW1pdF9pYiwNCj4g
QEAgLTE1OTksNiArMTYwOSw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgYW1kZ3B1X3JpbmdfZnVu
Y3Mgc2RtYV92NV8wX3JpbmdfZnVuY3MgPSB7DQo+ICAgCS5wYWRfaWIgPSBzZG1hX3Y1XzBfcmlu
Z19wYWRfaWIsDQo+ICAgCS5lbWl0X3dyZWcgPSBzZG1hX3Y1XzBfcmluZ19lbWl0X3dyZWcsDQo+
ICAgCS5lbWl0X3JlZ193YWl0ID0gc2RtYV92NV8wX3JpbmdfZW1pdF9yZWdfd2FpdCwNCj4gKwku
ZW1pdF9yZWdfd3JpdGVfcmVnX3dhaXQgPSBzZG1hX3Y1XzBfcmluZ19lbWl0X3JlZ193cml0ZV9y
ZWdfd2FpdCwNCj4gICAJLmluaXRfY29uZF9leGVjID0gc2RtYV92NV8wX3JpbmdfaW5pdF9jb25k
X2V4ZWMsDQo+ICAgCS5wYXRjaF9jb25kX2V4ZWMgPSBzZG1hX3Y1XzBfcmluZ19wYXRjaF9jb25k
X2V4ZWMsDQo+ICAgCS5wcmVlbXB0X2liID0gc2RtYV92NV8wX3JpbmdfcHJlZW1wdF9pYiwNCg0K
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBt
YWlsaW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5m
cmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4
