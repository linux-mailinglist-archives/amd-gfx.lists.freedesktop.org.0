Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id E1EB31178ED
	for <lists+amd-gfx@lfdr.de>; Mon,  9 Dec 2019 22:58:35 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 47FDD6E550;
	Mon,  9 Dec 2019 21:58:34 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-wr1-x444.google.com (mail-wr1-x444.google.com
 [IPv6:2a00:1450:4864:20::444])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2237C6E546
 for <amd-gfx@lists.freedesktop.org>; Mon,  9 Dec 2019 21:55:44 +0000 (UTC)
Received: by mail-wr1-x444.google.com with SMTP id q10so17848170wrm.11
 for <amd-gfx@lists.freedesktop.org>; Mon, 09 Dec 2019 13:55:44 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=7IWsRoAOcI5aRLbOqOaDRl/9xGySbrY1IKms8QQe1Z8=;
 b=eVZNzBAbnQUIjyCS8/XDkJFZ2LS+OLOUHerfBqnG5F+MQQ6t5RoRt+VsWXEZVMY/Cm
 AQOueD+tRsw89d64ImXSbqHKMgyr6oZVow5OGN2/rpVeAF9hcs3t1d3NB31nkftRO447
 CTlfJ88QneaOsioZwYzviHA2LqDiKc0auzOVS6Exv+4fofIcOXeDgnxF1DamkOY9I5FD
 P9o/MlCJR5DSdUoix+6r8Zsvnh+e6kWGYbMOpBSeu0+dSdXtcsjgIt5QSaXIpCVw6S4p
 eGVaWWIPGiL9AC45nP3z7L1Nhqikh3rjIpsz+APk0RCqyg2+urWDXsgNwHLM3JEH/zbj
 secA==
X-Gm-Message-State: APjAAAVIv5VF9P+E2JVkpxlLyzRfFE83oslLQvVBZJaeXh8O33Eeb3i3
 N8tbDXtNI06+4qo/0BHR4WZ0o0mGctk=
X-Google-Smtp-Source: APXvYqxHwLW9t6v61ZEmMmBNflZtk+kUbnU6KBSef+7pN8uUmMrtQsi4kal9W9a2m63fZ+xQarZ9MQ==
X-Received: by 2002:adf:e6cb:: with SMTP id y11mr4473907wrm.345.1575928542616; 
 Mon, 09 Dec 2019 13:55:42 -0800 (PST)
Received: from brihaspati.fritz.box
 (p200300C58F24F900E0D452C076B49924.dip0.t-ipconnect.de.
 [2003:c5:8f24:f900:e0d4:52c0:76b4:9924])
 by smtp.gmail.com with ESMTPSA id z11sm778062wrt.82.2019.12.09.13.55.41
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Mon, 09 Dec 2019 13:55:42 -0800 (PST)
From: Nirmoy Das <nirmoy.aiemd@gmail.com>
X-Google-Original-From: Nirmoy Das <nirmoy.das@amd.com>
To: alexander.deucher@amd.com,
	kenny.ho@amd.com,
	christian.koenig@amd.com
Subject: [PATCH 3/4] amd/amdgpu: add sched list to IPs with multiple run-queues
Date: Mon,  9 Dec 2019 22:53:48 +0100
Message-Id: <20191209215349.26994-3-nirmoy.das@amd.com>
X-Mailer: git-send-email 2.24.0
In-Reply-To: <20191209215349.26994-1-nirmoy.das@amd.com>
References: <20191209215349.26994-1-nirmoy.das@amd.com>
MIME-Version: 1.0
X-Mailman-Approved-At: Mon, 09 Dec 2019 21:58:32 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=7IWsRoAOcI5aRLbOqOaDRl/9xGySbrY1IKms8QQe1Z8=;
 b=hrn8eyii8z7+OKp7C3Ywsicw5PbtkLtopQGyTImaAOm7vB2FCK16o2V0+UcuHflOFL
 xnPTMgAH/+LjjgwkQVl85sgeIzqQKoIl1V+7BvlDsZ5swsHUONnpNaoG2dX/Y6Bwouro
 60/4dH8Zp01OZ/+tIsIw4GuskfWNmrSVk83LinBcU2EkmPsb6GSmm/LP+tPqr40fcdnl
 Nw5FBEyOmQwOI3tAQQjAS0fjjLhTiwZ2WMTaxODO/W7lB9SpNWrqbIcEDnjHQ7XprYsp
 agMDnmxtvi06c5hFnTEsAPI4kZ8y/6lqLVQ0x8WxcsLB4NQ+s87OWNonuJGcsYB2Bcji
 4nlw==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: nirmoy.das@amd.com, amd-gfx@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

VGhpcyBzY2hlZCBsaXN0IGNhbiBiZSBwYXNzZWQgb24gdG8gZW50aXR5IGNyZWF0aW9uIHJvdXRp
bmUKaW5zdGVhZCBvZiBtYW51YWxseSBjcmVhdGluZyBzdWNoIHNjaGVkIGxpc3Qgb24gZXZlcnkg
Y29udGV4dCBjcmVhdGlvbi4KClNpZ25lZC1vZmYtYnk6IE5pcm1veSBEYXMgPG5pcm1veS5kYXNA
YW1kLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfY3R4LmMgICAg
fCA2OSArKysrKysrKy0tLS0tLS0tLS0tLS0tCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9h
bWRncHVfZGV2aWNlLmMgfCA0NCArKysrKysrKysrKysrKwogZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1X2dmeC5oICAgIHwgIDQgKysKIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2FtZGdwdV9qcGVnLmggICB8ICAyICsKIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdw
dV9zZG1hLmggICB8ICAyICsKIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92Y24u
aCAgICB8ICA5ICsrLQogNiBmaWxlcyBjaGFuZ2VkLCA4NSBpbnNlcnRpb25zKCspLCA0NSBkZWxl
dGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
Y3R4LmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfY3R4LmMKaW5kZXggMWQ2
ODUwYWY5OTA4Li5jMWZjNzUyOTliN2QgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2FtZGdwdV9jdHguYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRn
cHVfY3R4LmMKQEAgLTc0LDcgKzc0LDcgQEAgc3RhdGljIGludCBhbWRncHVfY3R4X2luaXQoc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCiAJCQkgICBzdHJ1Y3QgYW1kZ3B1X2N0eCAqY3R4KQog
ewogCXVuc2lnbmVkIG51bV9lbnRpdGllcyA9IGFtZGdwdV9jdHhfdG90YWxfbnVtX2VudGl0aWVz
KCk7Ci0JdW5zaWduZWQgaSwgaiwgazsKKwl1bnNpZ25lZCBpLCBqOwogCWludCByOwogCiAJaWYg
KHByaW9yaXR5IDwgMCB8fCBwcmlvcml0eSA+PSBEUk1fU0NIRURfUFJJT1JJVFlfTUFYKQpAQCAt
MTIxLDczICsxMjEsNTYgQEAgc3RhdGljIGludCBhbWRncHVfY3R4X2luaXQoc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYsCiAJY3R4LT5vdmVycmlkZV9wcmlvcml0eSA9IERSTV9TQ0hFRF9QUklP
UklUWV9VTlNFVDsKIAogCWZvciAoaSA9IDA7IGkgPCBBTURHUFVfSFdfSVBfTlVNOyArK2kpIHsK
LQkJc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nc1tBTURHUFVfTUFYX1JJTkdTXTsKLQkJc3RydWN0
IGRybV9ncHVfc2NoZWR1bGVyICpzY2hlZF9saXN0W0FNREdQVV9NQVhfUklOR1NdOwotCQl1bnNp
Z25lZCBudW1fcmluZ3MgPSAwOwotCQl1bnNpZ25lZCBudW1fcnFzID0gMDsKKwkJc3RydWN0IGRy
bV9ncHVfc2NoZWR1bGVyICoqc2NoZWRfbGlzdDsKKwkJc3RydWN0IGRybV9ncHVfc2NoZWR1bGVy
ICpzY2hlZDsKKwkJdW5zaWduZWQgbnVtX3NjaGVkcyA9IDA7CiAKIAkJc3dpdGNoIChpKSB7CiAJ
CWNhc2UgQU1ER1BVX0hXX0lQX0dGWDoKLQkJCXJpbmdzWzBdID0gJmFkZXYtPmdmeC5nZnhfcmlu
Z1swXTsKLQkJCW51bV9yaW5ncyA9IDE7CisJCQlzY2hlZF9saXN0ID0gYWRldi0+Z2Z4LmdmeF9z
Y2hlZF9saXN0OworCQkJbnVtX3NjaGVkcyA9IDE7CiAJCQlicmVhazsKIAkJY2FzZSBBTURHUFVf
SFdfSVBfQ09NUFVURToKLQkJCWZvciAoaiA9IDA7IGogPCBhZGV2LT5nZngubnVtX2NvbXB1dGVf
cmluZ3M7ICsraikKLQkJCQlyaW5nc1tqXSA9ICZhZGV2LT5nZnguY29tcHV0ZV9yaW5nW2pdOwot
CQkJbnVtX3JpbmdzID0gYWRldi0+Z2Z4Lm51bV9jb21wdXRlX3JpbmdzOworCQkJc2NoZWRfbGlz
dCA9IGFkZXYtPmdmeC5jb21wdXRlX3NjaGVkX2xpc3Q7CisJCQludW1fc2NoZWRzID0gYWRldi0+
Z2Z4Lm51bV9jb21wdXRlX3JpbmdzOwogCQkJYnJlYWs7CiAJCWNhc2UgQU1ER1BVX0hXX0lQX0RN
QToKLQkJCWZvciAoaiA9IDA7IGogPCBhZGV2LT5zZG1hLm51bV9pbnN0YW5jZXM7ICsraikKLQkJ
CQlyaW5nc1tqXSA9ICZhZGV2LT5zZG1hLmluc3RhbmNlW2pdLnJpbmc7Ci0JCQludW1fcmluZ3Mg
PSBhZGV2LT5zZG1hLm51bV9pbnN0YW5jZXM7CisJCQlzY2hlZF9saXN0ID0gYWRldi0+c2RtYS5z
ZG1hX3NjaGVkX2xpc3Q7CisJCQludW1fc2NoZWRzID0gYWRldi0+c2RtYS5udW1faW5zdGFuY2Vz
OwogCQkJYnJlYWs7CiAJCWNhc2UgQU1ER1BVX0hXX0lQX1VWRDoKLQkJCXJpbmdzWzBdID0gJmFk
ZXYtPnV2ZC5pbnN0WzBdLnJpbmc7Ci0JCQludW1fcmluZ3MgPSAxOworCQkJc2NoZWQgPSAmYWRl
di0+dXZkLmluc3RbMF0ucmluZy5zY2hlZDsKKwkJCXNjaGVkX2xpc3QgPSAmc2NoZWQ7CisJCQlu
dW1fc2NoZWRzID0gMTsKIAkJCWJyZWFrOwogCQljYXNlIEFNREdQVV9IV19JUF9WQ0U6Ci0JCQly
aW5nc1swXSA9ICZhZGV2LT52Y2UucmluZ1swXTsKLQkJCW51bV9yaW5ncyA9IDE7CisJCQlzY2hl
ZCA9ICZhZGV2LT52Y2UucmluZ1swXS5zY2hlZDsKKwkJCXNjaGVkX2xpc3QgPSAmc2NoZWQ7CisJ
CQludW1fc2NoZWRzID0gMTsKIAkJCWJyZWFrOwogCQljYXNlIEFNREdQVV9IV19JUF9VVkRfRU5D
OgotCQkJcmluZ3NbMF0gPSAmYWRldi0+dXZkLmluc3RbMF0ucmluZ19lbmNbMF07Ci0JCQludW1f
cmluZ3MgPSAxOworCQkJc2NoZWQgPSAmYWRldi0+dXZkLmluc3RbMF0ucmluZ19lbmNbMF0uc2No
ZWQ7CisJCQlzY2hlZF9saXN0ID0gJnNjaGVkOworCQkJbnVtX3NjaGVkcyA9IDE7CiAJCQlicmVh
azsKIAkJY2FzZSBBTURHUFVfSFdfSVBfVkNOX0RFQzoKLQkJCWZvciAoaiA9IDA7IGogPCBhZGV2
LT52Y24ubnVtX3Zjbl9pbnN0OyArK2opIHsKLQkJCQlpZiAoYWRldi0+dmNuLmhhcnZlc3RfY29u
ZmlnICYgKDEgPDwgaikpCi0JCQkJCWNvbnRpbnVlOwotCQkJCXJpbmdzW251bV9yaW5ncysrXSA9
ICZhZGV2LT52Y24uaW5zdFtqXS5yaW5nX2RlYzsKLQkJCX0KKwkJCXNjaGVkX2xpc3QgPSBhZGV2
LT52Y24udmNuX2RlY19zY2hlZF9saXN0OworCQkJbnVtX3NjaGVkcyA9ICBhZGV2LT52Y24ubnVt
X3Zjbl9kZWNfc2NoZWRfbGlzdDsKIAkJCWJyZWFrOwogCQljYXNlIEFNREdQVV9IV19JUF9WQ05f
RU5DOgotCQkJZm9yIChqID0gMDsgaiA8IGFkZXYtPnZjbi5udW1fdmNuX2luc3Q7ICsraikgewot
CQkJCWlmIChhZGV2LT52Y24uaGFydmVzdF9jb25maWcgJiAoMSA8PCBqKSkKLQkJCQkJY29udGlu
dWU7Ci0JCQkJZm9yIChrID0gMDsgayA8IGFkZXYtPnZjbi5udW1fZW5jX3JpbmdzOyArK2spCi0J
CQkJCXJpbmdzW251bV9yaW5ncysrXSA9ICZhZGV2LT52Y24uaW5zdFtqXS5yaW5nX2VuY1trXTsK
LQkJCX0KKwkJCXNjaGVkX2xpc3QgPSBhZGV2LT52Y24udmNuX2VuY19zY2hlZF9saXN0OworCQkJ
bnVtX3NjaGVkcyA9ICBhZGV2LT52Y24ubnVtX3Zjbl9lbmNfc2NoZWRfbGlzdDsKIAkJCWJyZWFr
OwogCQljYXNlIEFNREdQVV9IV19JUF9WQ05fSlBFRzoKLQkJCWZvciAoaiA9IDA7IGogPCBhZGV2
LT5qcGVnLm51bV9qcGVnX2luc3Q7ICsraikgewotCQkJCWlmIChhZGV2LT52Y24uaGFydmVzdF9j
b25maWcgJiAoMSA8PCBqKSkKLQkJCQkJY29udGludWU7Ci0JCQkJcmluZ3NbbnVtX3JpbmdzKytd
ID0gJmFkZXYtPmpwZWcuaW5zdFtqXS5yaW5nX2RlYzsKLQkJCX0KKwkJCXNjaGVkX2xpc3QgPSBh
ZGV2LT5qcGVnLmpwZWdfc2NoZWRfbGlzdDsKKwkJCW51bV9zY2hlZHMgPSAgYWRldi0+anBlZy5u
dW1fanBlZ19zY2hlZF9saXN0OwogCQkJYnJlYWs7CiAJCX0KIAotCQlmb3IgKGogPSAwOyBqIDwg
bnVtX3JpbmdzOyArK2opIHsKLQkJCWlmICghcmluZ3Nbal0tPmFkZXYpCi0JCQkJY29udGludWU7
Ci0KLQkJCXNjaGVkX2xpc3RbbnVtX3JxcysrXSA9ICZyaW5nc1tqXS0+c2NoZWQ7Ci0JCX0KLQog
CQlmb3IgKGogPSAwOyBqIDwgYW1kZ3B1X2N0eF9udW1fZW50aXRpZXNbaV07ICsraikKIAkJCXIg
PSBkcm1fc2NoZWRfZW50aXR5X2luaXQoJmN0eC0+ZW50aXRpZXNbaV1bal0uZW50aXR5LAogCQkJ
CQkJICBwcmlvcml0eSwgc2NoZWRfbGlzdCwKLQkJCQkJCSAgbnVtX3JxcywgJmN0eC0+Z3VpbHR5
KTsKKwkJCQkJCSAgbnVtX3NjaGVkcywgJmN0eC0+Z3VpbHR5KTsKIAkJaWYgKHIpCiAJCQlnb3Rv
IGVycm9yX2NsZWFudXBfZW50aXRpZXM7CiAJfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvYW1kZ3B1X2RldmljZS5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
YW1kZ3B1X2RldmljZS5jCmluZGV4IGNmNDk1M2M0ZTJjZi4uZjk3M2I2MWEyNmRhIDEwMDY0NAot
LS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMKKysrIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RldmljZS5jCkBAIC0yNzM4LDYgKzI3Mzgs
NDggQEAgc3RhdGljIGludCBhbWRncHVfZGV2aWNlX2dldF9qb2JfdGltZW91dF9zZXR0aW5ncyhz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKIAlyZXR1cm4gcmV0OwogfQogCitzdGF0aWMgdm9p
ZCBhbWRncHVfZGV2aWNlX2luaXRfc2NoZWRfbGlzdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRl
dikKK3sKKwlpbnQgaSwgajsKKworCWZvciAoaSA9IDA7IGkgPCBhZGV2LT5nZngubnVtX2dmeF9y
aW5nczsgaSsrKSB7CisJCWFkZXYtPmdmeC5nZnhfc2NoZWRfbGlzdFtpXSA9ICZhZGV2LT5nZngu
Z2Z4X3JpbmdbaV0uc2NoZWQ7CisJCWFkZXYtPmdmeC5udW1fZ2Z4X3NjaGVkX2xpc3QrKzsKKwl9
CisKKwlmb3IgKGkgPSAwOyBpIDwgYWRldi0+Z2Z4Lm51bV9jb21wdXRlX3JpbmdzOyBpKyspIHsK
KwkJYWRldi0+Z2Z4LmNvbXB1dGVfc2NoZWRfbGlzdFtpXSA9ICZhZGV2LT5nZnguY29tcHV0ZV9y
aW5nW2ldLnNjaGVkOworCQlhZGV2LT5nZngubnVtX2NvbXB1dGVfc2NoZWRfbGlzdCsrOworCX0K
KworCWZvciAoaSA9IDA7IGkgPCBhZGV2LT5zZG1hLm51bV9pbnN0YW5jZXM7IGkrKykgeworCQlh
ZGV2LT5zZG1hLnNkbWFfc2NoZWRfbGlzdFtpXSA9ICZhZGV2LT5zZG1hLmluc3RhbmNlW2ldLnJp
bmcuc2NoZWQ7CisJCWFkZXYtPnNkbWEubnVtX3NkbWFfc2NoZWRfbGlzdCsrOworCX0KKworCWZv
ciAoaSA9IDA7IGkgPCBhZGV2LT52Y24ubnVtX3Zjbl9pbnN0OyArK2kpIHsKKwkJaWYgKGFkZXYt
PnZjbi5oYXJ2ZXN0X2NvbmZpZyAmICgxIDw8IGkpKQorCQkJY29udGludWU7CisJCWFkZXYtPnZj
bi52Y25fZGVjX3NjaGVkX2xpc3RbYWRldi0+dmNuLm51bV92Y25fZGVjX3NjaGVkX2xpc3QrK10g
PQorCQkJJmFkZXYtPnZjbi5pbnN0W2ldLnJpbmdfZGVjLnNjaGVkOworCX0KKworCWZvciAoaSA9
IDA7IGkgPCBhZGV2LT52Y24ubnVtX3Zjbl9pbnN0OyArK2kpIHsKKwkJaWYgKGFkZXYtPnZjbi5o
YXJ2ZXN0X2NvbmZpZyAmICgxIDw8IGkpKQorCQkJY29udGludWU7CisJCWZvciAoaiA9IDA7IGog
PCBhZGV2LT52Y24ubnVtX2VuY19yaW5nczsgKytqKQorCQkJYWRldi0+dmNuLnZjbl9lbmNfc2No
ZWRfbGlzdFthZGV2LT52Y24ubnVtX3Zjbl9lbmNfc2NoZWRfbGlzdCsrXSA9CisJCQkJJmFkZXYt
PnZjbi5pbnN0W2ldLnJpbmdfZW5jW2pdLnNjaGVkOworCX0KKworCWZvciAoaSA9IDA7IGkgPCBh
ZGV2LT5qcGVnLm51bV9qcGVnX2luc3Q7ICsraSkgeworCQlpZiAoYWRldi0+dmNuLmhhcnZlc3Rf
Y29uZmlnICYgKDEgPDwgaSkpCisJCQljb250aW51ZTsKKwkJYWRldi0+anBlZy5qcGVnX3NjaGVk
X2xpc3RbYWRldi0+anBlZy5udW1fanBlZ19zY2hlZF9saXN0KytdID0KKwkJCSZhZGV2LT5qcGVn
Lmluc3RbaV0ucmluZ19kZWMuc2NoZWQ7CisJfQorfQorCiAvKioKICAqIGFtZGdwdV9kZXZpY2Vf
aW5pdCAtIGluaXRpYWxpemUgdGhlIGRyaXZlcgogICoKQEAgLTMwMjQsNiArMzA2Niw4IEBAIGlu
dCBhbWRncHVfZGV2aWNlX2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCiAJCWdvdG8g
ZmFpbGVkOwogCX0KIAorCWFtZGdwdV9kZXZpY2VfaW5pdF9zY2hlZF9saXN0KGFkZXYpOworCiAJ
YWRldi0+YWNjZWxfd29ya2luZyA9IHRydWU7CiAKIAlhbWRncHVfdm1fY2hlY2tfY29tcHV0ZV9i
dWcoYWRldik7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
Z2Z4LmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ2Z4LmgKaW5kZXggMGFl
MGEyNzE1YjBkLi5iMjI2NGQ0Y2Q1MTAgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2FtZGdwdV9nZnguaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRn
cHVfZ2Z4LmgKQEAgLTI2OSw4ICsyNjksMTIgQEAgc3RydWN0IGFtZGdwdV9nZnggewogCWJvb2wJ
CQkJbWVfZndfd3JpdGVfd2FpdDsKIAlib29sCQkJCWNwX2Z3X3dyaXRlX3dhaXQ7CiAJc3RydWN0
IGFtZGdwdV9yaW5nCQlnZnhfcmluZ1tBTURHUFVfTUFYX0dGWF9SSU5HU107CisJc3RydWN0IGRy
bV9ncHVfc2NoZWR1bGVyCSpnZnhfc2NoZWRfbGlzdFtBTURHUFVfTUFYX0dGWF9SSU5HU107CisJ
dWludDMyX3QJCQludW1fZ2Z4X3NjaGVkX2xpc3Q7CiAJdW5zaWduZWQJCQludW1fZ2Z4X3Jpbmdz
OwogCXN0cnVjdCBhbWRncHVfcmluZwkJY29tcHV0ZV9yaW5nW0FNREdQVV9NQVhfQ09NUFVURV9S
SU5HU107CisJdWludDMyX3QJCQludW1fY29tcHV0ZV9zY2hlZF9saXN0OworCXN0cnVjdCBkcm1f
Z3B1X3NjaGVkdWxlcgkqY29tcHV0ZV9zY2hlZF9saXN0W0FNREdQVV9NQVhfQ09NUFVURV9SSU5H
U107CiAJdW5zaWduZWQJCQludW1fY29tcHV0ZV9yaW5nczsKIAlzdHJ1Y3QgYW1kZ3B1X2lycV9z
cmMJCWVvcF9pcnE7CiAJc3RydWN0IGFtZGdwdV9pcnFfc3JjCQlwcml2X3JlZ19pcnE7CmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfanBlZy5oIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2pwZWcuaAppbmRleCA1MTMxYTBhMWJjOGEuLjVj
ZTZhYjA1ZWVhYyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1
X2pwZWcuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfanBlZy5oCkBA
IC00Myw2ICs0Myw4IEBAIHN0cnVjdCBhbWRncHVfanBlZyB7CiAJdWludDhfdAludW1fanBlZ19p
bnN0OwogCXN0cnVjdCBhbWRncHVfanBlZ19pbnN0IGluc3RbQU1ER1BVX01BWF9KUEVHX0lOU1RB
TkNFU107CiAJc3RydWN0IGFtZGdwdV9qcGVnX3JlZyBpbnRlcm5hbDsKKwlzdHJ1Y3QgZHJtX2dw
dV9zY2hlZHVsZXIgKmpwZWdfc2NoZWRfbGlzdFtBTURHUFVfTUFYX0pQRUdfSU5TVEFOQ0VTXTsK
Kwl1aW50MzJfdCBudW1fanBlZ19zY2hlZF9saXN0OwogCXVuc2lnbmVkIGhhcnZlc3RfY29uZmln
OwogCXN0cnVjdCBkZWxheWVkX3dvcmsgaWRsZV93b3JrOwogCWVudW0gYW1kX3Bvd2VyZ2F0aW5n
X3N0YXRlIGN1cl9zdGF0ZTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2FtZGdwdV9zZG1hLmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfc2RtYS5o
CmluZGV4IGIzMTM0NjU1Nzg5Zi4uMGY2Y2I2NzY4Mzk4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfc2RtYS5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2FtZGdwdV9zZG1hLmgKQEAgLTUyLDYgKzUyLDggQEAgc3RydWN0IGFtZGdwdV9zZG1h
X2luc3RhbmNlIHsKIAogc3RydWN0IGFtZGdwdV9zZG1hIHsKIAlzdHJ1Y3QgYW1kZ3B1X3NkbWFf
aW5zdGFuY2UgaW5zdGFuY2VbQU1ER1BVX01BWF9TRE1BX0lOU1RBTkNFU107CisJc3RydWN0IGRy
bV9ncHVfc2NoZWR1bGVyICAgICpzZG1hX3NjaGVkX2xpc3RbQU1ER1BVX01BWF9TRE1BX0lOU1RB
TkNFU107CisJdWludDMyX3QJCSAgICBudW1fc2RtYV9zY2hlZF9saXN0OwogCXN0cnVjdCBhbWRn
cHVfaXJxX3NyYwl0cmFwX2lycTsKIAlzdHJ1Y3QgYW1kZ3B1X2lycV9zcmMJaWxsZWdhbF9pbnN0
X2lycTsKIAlzdHJ1Y3QgYW1kZ3B1X2lycV9zcmMJZWNjX2lycTsKZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92Y24uaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2FtZGdwdV92Y24uaAppbmRleCA0MDJhNTA0NmI5ODUuLmFlNjVjYjhmMDdlOCAxMDA2
NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3Zjbi5oCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92Y24uaApAQCAtMzEsNiArMzEsNyBAQAog
I2RlZmluZSBBTURHUFVfVkNOX01BWF9FTkNfUklOR1MJMwogCiAjZGVmaW5lIEFNREdQVV9NQVhf
VkNOX0lOU1RBTkNFUwkyCisjZGVmaW5lIEFNREdQVV9NQVhfVkNOX0VOQ19SSU5HUyAgQU1ER1BV
X1ZDTl9NQVhfRU5DX1JJTkdTICogQU1ER1BVX01BWF9WQ05fSU5TVEFOQ0VTCiAKICNkZWZpbmUg
QU1ER1BVX1ZDTl9IQVJWRVNUX1ZDTjAgKDEgPDwgMCkKICNkZWZpbmUgQU1ER1BVX1ZDTl9IQVJW
RVNUX1ZDTjEgKDEgPDwgMSkKQEAgLTE4Niw4ICsxODcsMTIgQEAgc3RydWN0IGFtZGdwdV92Y24g
ewogCXVpbnQzMl90CQkqZHBnX3NyYW1fY3Vycl9hZGRyOwogCiAJdWludDhfdAludW1fdmNuX2lu
c3Q7Ci0Jc3RydWN0IGFtZGdwdV92Y25faW5zdAlpbnN0W0FNREdQVV9NQVhfVkNOX0lOU1RBTkNF
U107Ci0Jc3RydWN0IGFtZGdwdV92Y25fcmVnCWludGVybmFsOworCXN0cnVjdCBhbWRncHVfdmNu
X2luc3QJIGluc3RbQU1ER1BVX01BWF9WQ05fSU5TVEFOQ0VTXTsKKwlzdHJ1Y3QgYW1kZ3B1X3Zj
bl9yZWcJIGludGVybmFsOworCXN0cnVjdCBkcm1fZ3B1X3NjaGVkdWxlciAqdmNuX2VuY19zY2hl
ZF9saXN0W0FNREdQVV9NQVhfVkNOX0VOQ19SSU5HU107CisJc3RydWN0IGRybV9ncHVfc2NoZWR1
bGVyICp2Y25fZGVjX3NjaGVkX2xpc3RbQU1ER1BVX01BWF9WQ05fSU5TVEFOQ0VTXTsKKwl1aW50
MzJfdAkJIG51bV92Y25fZW5jX3NjaGVkX2xpc3Q7CisJdWludDMyX3QJCSBudW1fdmNuX2RlY19z
Y2hlZF9saXN0OwogCiAJdW5zaWduZWQJaGFydmVzdF9jb25maWc7CiAJaW50ICgqcGF1c2VfZHBn
X21vZGUpKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LAotLSAKMi4yNC4wCgpfX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlz
dAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9w
Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZng=
