Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id E2A4F82CE7
	for <lists+amd-gfx@lfdr.de>; Tue,  6 Aug 2019 09:37:45 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 5B74F6E320;
	Tue,  6 Aug 2019 07:37:44 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM01-BN3-obe.outbound.protection.outlook.com
 (mail-eopbgr740044.outbound.protection.outlook.com [40.107.74.44])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 9C43A6E321
 for <amd-gfx@lists.freedesktop.org>; Tue,  6 Aug 2019 07:37:42 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=JRlWkKPRm2pkevFLR8lohq/1BMdcvbu3vXyvhd/d8kI3D7+Ea/eEoIBYfTCh9XmdBiuAiOLVfM3x0eIDTl0qu7RKpLon/OB9Lkmu7OlY+AQWb9zNyZkOmEZ0Jw9ypiws61cI2hThgnwZSVqpmCW0O9lX38CNIMjSlIA9LcA83TdXCQq29eb52rjL3rzMBMuExJLIg09Yofm3jJFafgtn0gTkYfONu/CPj8nn+4lV23BvAb0Wn8e0fYQh2R8Rl+IYHYDTdT2Z/01oIv7Ve3pAPHm0Qlik3l55nW6vcsk3vn/o4MBrvWkmoADtSzwsvJG+G80QURQCagRkSEWNYtr90Q==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=+ytgf7haAQI29N77e3cFMWzTMq1jwxNXxPd4oAw8udA=;
 b=hUNZcryZ6h4Bw0GIY9cQcpO+5UnaYIkQqC3Zk5zhdWTalZxY1mx/X5pNRWkKZzjYLU7Fy8hra90LzieOiLaA0yIzo1eHCNy0MaYNG0g/NYUzYD+P/C/l4hHs7yqT5xqtLuGKKPOmqmhc/YO50B4OvIa8eH/T7iFOnpuTQPGjbXEi92W5nHTzid6e9G3t21/432LHo6MW4r2fB0KHjitXYrZWSRRu2dSwg+rPB/4Vu/h+xv8tdzNvM51n7VVUevlNPc2PNQIKIUk73LkqJzFdG6xtIIM7UYxIarR6WLvqWZDZV8M824ghN6V0JtLsapi3atU+HwrDo4M6TrVf+Eqzxw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1;spf=none (sender ip is
 165.204.84.17) smtp.rcpttodomain=lists.freedesktop.org
 smtp.mailfrom=amd.com;dmarc=permerror action=none
 header.from=amd.com;dkim=none (message not signed);arc=none
Received: from CY4PR1201CA0012.namprd12.prod.outlook.com
 (2603:10b6:910:16::22) by BN6PR12MB1601.namprd12.prod.outlook.com
 (2603:10b6:405:8::23) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2115.15; Tue, 6 Aug
 2019 07:37:38 +0000
Received: from DM3NAM03FT031.eop-NAM03.prod.protection.outlook.com
 (2a01:111:f400:7e49::203) by CY4PR1201CA0012.outlook.office365.com
 (2603:10b6:910:16::22) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2157.13 via Frontend
 Transport; Tue, 6 Aug 2019 07:37:38 +0000
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
Received: from SATLEXCHOV01.amd.com (165.204.84.17) by
 DM3NAM03FT031.mail.protection.outlook.com (10.152.82.199) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384) id
 15.20.2136.14 via Frontend Transport; Tue, 6 Aug 2019 07:37:38 +0000
Received: from guchchen-System-Product-Name.amd.com (10.34.1.3) by
 SATLEXCHOV01.amd.com (10.181.40.71) with Microsoft SMTP Server (TLS) id
 14.3.389.1; Tue, 6 Aug 2019 02:37:32 -0500
From: Guchun Chen <guchun.chen@amd.com>
To: <amd-gfx@lists.freedesktop.org>, <Hawking.Zhang@amd.com>,
 <Dennis.Li@amd.com>, <Xinhui.Pan@amd.com>, <Tao.Zhou1@amd.com>
Subject: [PATCH libdrm 2/3] tests/amdgpu/ras: refine ras eject test
Date: Tue, 6 Aug 2019 15:36:28 +0800
Message-ID: <20190806073629.10976-3-guchun.chen@amd.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20190806073629.10976-1-guchun.chen@amd.com>
References: <20190806073629.10976-1-guchun.chen@amd.com>
MIME-Version: 1.0
X-EOPAttributedMessage: 0
X-MS-Office365-Filtering-HT: Tenant
X-Forefront-Antispam-Report: CIP:165.204.84.17; IPV:NLI; CTRY:US; EFV:NLI;
 SFV:NSPM;
 SFS:(10009020)(4636009)(39860400002)(396003)(346002)(376002)(136003)(2980300002)(428003)(189003)(199004)(8936002)(81166006)(81156014)(50226002)(70206006)(8676002)(70586007)(5660300002)(48376002)(2906002)(50466002)(86362001)(356004)(6666004)(1076003)(68736007)(6636002)(47776003)(16586007)(110136005)(30864003)(14444005)(54906003)(426003)(446003)(305945005)(2616005)(53416004)(336012)(11346002)(44832011)(486006)(126002)(476003)(4326008)(7696005)(2201001)(36756003)(186003)(51416003)(478600001)(53936002)(316002)(26005)(76176011);
 DIR:OUT; SFP:1101; SCL:1; SRVR:BN6PR12MB1601; H:SATLEXCHOV01.amd.com; FPR:;
 SPF:None; LANG:en; PTR:InfoDomainNonexistent; MX:1; A:1; 
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-Correlation-Id: 643e13cb-602e-4a45-32bb-08d71a40f4ee
X-Microsoft-Antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(2017052603328);
 SRVR:BN6PR12MB1601; 
X-MS-TrafficTypeDiagnostic: BN6PR12MB1601:
X-Microsoft-Antispam-PRVS: <BN6PR12MB1601432DE30532E13CC0A91FF1D50@BN6PR12MB1601.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:3;
X-Forefront-PRVS: 0121F24F22
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam-Message-Info: xFaUuDGeE2Mfxc2nuSXVUABXdpHI+OIe8AdS9Z27G+t8rmMBa5ZKV8rs3A6Dc83HW7WveA8EgiXrAgrpuRB8NGr5nsbfk4bldfdrMIujBwr8nVOHyJozpJPp5SoF+PEbWndbpwsr/o8hxgCKFbhHK6Sv+zyopVz30GQ5FXzvittjD+nfgUircg5nPl//V/n56THw5M2fiafgOFCvj3ARepsqFI0juhrX2S08tHQiACeORtr7MzwXVRidIIFn/pYhYXyKKaTwYEXojkFr+Bk1uGQnW3yT1cjeRTNtYgE4vAVZU9zC3dNCUZyOB1yKfAXw9n3ty8lnRQ350nWj+8tZ/fRVPrAcd1bqiXx2tAgq4iLsvIg1UlU9bQiKbclGGAVE0YIzVcPjc60ZJ4Ua+HD5dPBkcu4Xm+rtJpI+6dtTKZI=
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 06 Aug 2019 07:37:38.4043 (UTC)
X-MS-Exchange-CrossTenant-Network-Message-Id: 643e13cb-602e-4a45-32bb-08d71a40f4ee
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-OriginalAttributedTenantConnectingIp: TenantId=3dd8961f-e488-4e60-8e11-a82d994e183d; Ip=[165.204.84.17];
 Helo=[SATLEXCHOV01.amd.com]
X-MS-Exchange-CrossTenant-FromEntityHeader: HybridOnPrem
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BN6PR12MB1601
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=+ytgf7haAQI29N77e3cFMWzTMq1jwxNXxPd4oAw8udA=;
 b=dXbdTosz2lPgvB9QW1SNsRfB9bEjm/nZZQ5cAJIAE0HgUcRcQpZqMry5UmlBo9Gmy4pWRmkGULuoV/BPB8cZ8nRt02LoRZHJbFElyyl3s9ppIe3xw2C9mOp71jxNwv1FzYgzcVzJdAmTqGJdzSCqnO+zxYUrQUc9Z9dknBMZRp0=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is
 165.204.84.17)
 smtp.mailfrom=amd.com; lists.freedesktop.org; dkim=none (message not signed)
 header.d=none;lists.freedesktop.org; dmarc=permerror action=none
 header.from=amd.com;
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Dennis Li <dennis.li@amd.com>, Guchun Chen <guchun.chen@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

UmFzIGVqZWN0IHRlc3QgZnJhbWV3b3JrIGlzIGludmFsaWQgd2l0aCBvcmlnaW5hbCBjb2RlcywK
c28gcmVmaW5lIGl0IHRvIG1ha2UgaXQgd29yayBvbiB0b3Agb2Yga2VybmVsIHJhcyBzdXBwb3J0
LgoKQ2hhbmdlLUlkOiBJNjNhYzI3NzA3YTY5MTMzY2QwOGZhMGRhMzA4ZjI1NWIxYjE2OWMxZgpT
aWduZWQtb2ZmLWJ5OiBEZW5uaXMgTGkgPGRlbm5pcy5saUBhbWQuY29tPgpTaWduZWQtb2ZmLWJ5
OiBHdWNodW4gQ2hlbiA8Z3VjaHVuLmNoZW5AYW1kLmNvbT4KLS0tCiBjb25maWd1cmUuYWMgICAg
ICAgICAgICAgfCAgMTggKysKIG1lc29uLmJ1aWxkICAgICAgICAgICAgICB8ICAgMSArCiB0ZXN0
cy9hbWRncHUvTWFrZWZpbGUuYW0gfCAgIDUgKy0KIHRlc3RzL2FtZGdwdS9tZXNvbi5idWlsZCB8
ICAxNiArLQogdGVzdHMvYW1kZ3B1L3Jhc190ZXN0cy5jIHwgNTIwICsrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrLS0tLQogNSBmaWxlcyBjaGFuZ2VkLCA1MDkgaW5zZXJ0aW9ucygr
KSwgNTEgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvY29uZmlndXJlLmFjIGIvY29uZmlndXJl
LmFjCmluZGV4IDFjZjkxMzQ3Li45ODNiNDM3MSAxMDA2NDQKLS0tIGEvY29uZmlndXJlLmFjCisr
KyBiL2NvbmZpZ3VyZS5hYwpAQCAtNDMwLDEwICs0MzAsMjQgQEAgaWYgdGVzdCAieCRBTURHUFUi
ICE9IHhubzsgdGhlbgogCQkJQUNfU1VCU1QoW0NVTklUX0NGTEFHU10pCiAJCWZpCiAJZmkKKwor
CSMgRGV0ZWN0IGpzb24tYyBsaWJyYXJ5CisJUEtHX0NIRUNLX01PRFVMRVMoW0pTT05DXSwgW2pz
b24tYyA+PSAwLjEwLjFdLCBbaGF2ZV9qc29uYz15ZXNdLCBbaGF2ZV9qc29uYz1ub10pCisJaWYg
dGVzdCAieCR7aGF2ZV9qc29uY30iID0gInhubyI7IHRoZW4KKwkJQUNfQ0hFQ0tfTElCKFtqc29u
LWNdLCBbanNvbl9vYmplY3Rfb2JqZWN0X2dldF0sIFtoYXZlX2pzb25jPXllc10sIFtoYXZlX2pz
b25jPW5vXSkKKwkJaWYgdGVzdCAieCR7aGF2ZV9qc29uY30iID0gInh5ZXMiOyB0aGVuCisJCQlK
U09OQ19MSUJTPSItbGpzb24tYyIKKwkJCUpTT05DX0NGTEFHUz0iIgorCQkJQUNfU1VCU1QoW0pT
T05DX0xJQlNdKQorCQkJQUNfU1VCU1QoW0pTT05DX0NGTEFHU10pCisJCWZpCisJZmkKIGVsc2UK
IAloYXZlX2N1bml0PW5vCisJaGF2ZV9qc29uYz1ubwogZmkKIEFNX0NPTkRJVElPTkFMKEhBVkVf
Q1VOSVQsIFt0ZXN0ICJ4JGhhdmVfY3VuaXQiICE9ICJ4bm8iXSkKK0FNX0NPTkRJVElPTkFMKEhB
VkVfSlNPTkMsIFt0ZXN0ICJ4JGhhdmVfanNvbmMiICE9ICJ4bm8iXSkKIAogQU1fQ09ORElUSU9O
QUwoSEFWRV9BTURHUFUsIFt0ZXN0ICJ4JEFNREdQVSIgPSB4eWVzXSkKIGlmIHRlc3QgIngkQU1E
R1BVIiA9IHh5ZXM7IHRoZW4KQEAgLTQ0Miw2ICs0NTYsMTAgQEAgaWYgdGVzdCAieCRBTURHUFUi
ID0geHllczsgdGhlbgogCWlmIHRlc3QgIngkaGF2ZV9jdW5pdCIgPSAieG5vIjsgdGhlbgogCQlB
Q19NU0dfV0FSTihbQ291bGQgbm90IGZpbmQgY3VuaXQgbGlicmFyeS4gRGlzYWJsaW5nIGFtZGdw
dSB0ZXN0c10pCiAJZmkKKworCWlmIHRlc3QgIngkaGF2ZV9qc29uYyIgPSAieG5vIjsgdGhlbgor
CQlBQ19NU0dfV0FSTihbQ291bGQgbm90IGZpbmQganNvbi1jIGxpYnJhcnkuIERpc2FibGluZyBh
bWRncHUgdGVzdHNdKQorCWZpCiBlbHNlCiAJQUNfREVGSU5FKEhBVkVfQU1ER1BVLCAwKQogZmkK
ZGlmZiAtLWdpdCBhL21lc29uLmJ1aWxkIGIvbWVzb24uYnVpbGQKaW5kZXggZTI5MjU1NGEuLmJj
NWNmYzU4IDEwMDY0NAotLS0gYS9tZXNvbi5idWlsZAorKysgYi9tZXNvbi5idWlsZApAQCAtMjE3
LDYgKzIxNyw3IEBAIGxpYmRybV9jX2FyZ3MgPSB3YXJuX2NfYXJncyArIFsnLWZ2aXNpYmlsaXR5
PWhpZGRlbiddCiAKIGRlcF9wY2lhY2Nlc3MgPSBkZXBlbmRlbmN5KCdwY2lhY2Nlc3MnLCB2ZXJz
aW9uIDogJz49IDAuMTAnLCByZXF1aXJlZCA6IHdpdGhfaW50ZWwpCiBkZXBfY3VuaXQgPSBkZXBl
bmRlbmN5KCdjdW5pdCcsIHZlcnNpb24gOiAnPj0gMi4xJywgcmVxdWlyZWQgOiBmYWxzZSkKK2Rl
cF9qc29uID0gZGVwZW5kZW5jeSgnanNvbi1jJywgdmVyc2lvbiA6ICc+PSAwLjEwLjEnLCByZXF1
aXJlZCA6IGZhbHNlKQogX2NhaXJvX3Rlc3RzID0gZ2V0X29wdGlvbignY2Fpcm8tdGVzdHMnKQog
aWYgX2NhaXJvX3Rlc3RzICE9ICdmYWxzZScKICAgZGVwX2NhaXJvID0gZGVwZW5kZW5jeSgnY2Fp
cm8nLCByZXF1aXJlZCA6IF9jYWlyb190ZXN0cyA9PSAndHJ1ZScpCmRpZmYgLS1naXQgYS90ZXN0
cy9hbWRncHUvTWFrZWZpbGUuYW0gYi90ZXN0cy9hbWRncHUvTWFrZWZpbGUuYW0KaW5kZXggOTIw
ODgyZDAuLjMzOWJiMGE5IDEwMDY0NAotLS0gYS90ZXN0cy9hbWRncHUvTWFrZWZpbGUuYW0KKysr
IGIvdGVzdHMvYW1kZ3B1L01ha2VmaWxlLmFtCkBAIC03LDcgKzcsOCBAQCBBTV9DRkxBR1MgPSBc
CiAKIExEQUREID0gJCh0b3BfYnVpbGRkaXIpL2xpYmRybS5sYSBcCiAJJCh0b3BfYnVpbGRkaXIp
L2FtZGdwdS9saWJkcm1fYW1kZ3B1LmxhIFwKLQkkKENVTklUX0xJQlMpCisJJChDVU5JVF9MSUJT
KSBcCisJJChKU09OQ19MSUJTKQogCiBpZiBIQVZFX0lOU1RBTExfVEVTVFMKIGJpbl9QUk9HUkFN
UyA9IFwKQEAgLTE3LDcgKzE4LDcgQEAgbm9pbnN0X1BST0dSQU1TID0gXAogCWFtZGdwdV90ZXN0
CiBlbmRpZgogCi1hbWRncHVfdGVzdF9DUFBGTEFHUyA9ICQoQ1VOSVRfQ0ZMQUdTKQorYW1kZ3B1
X3Rlc3RfQ1BQRkxBR1MgPSAkKENVTklUX0NGTEFHUykgJChKU09OQ19DRkxBR1MpCiAKIGFtZGdw
dV90ZXN0X1NPVVJDRVMgPSBcCiAJYW1kZ3B1X3Rlc3QuYyBcCmRpZmYgLS1naXQgYS90ZXN0cy9h
bWRncHUvbWVzb24uYnVpbGQgYi90ZXN0cy9hbWRncHUvbWVzb24uYnVpbGQKaW5kZXggMTcyNmNi
NDMuLjQzMDcyOTVlIDEwMDY0NAotLS0gYS90ZXN0cy9hbWRncHUvbWVzb24uYnVpbGQKKysrIGIv
dGVzdHMvYW1kZ3B1L21lc29uLmJ1aWxkCkBAIC0xOCw3ICsxOCw3IEBACiAjIE9VVCBPRiBPUiBJ
TiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElO
R1MgSU4gVEhFCiAjIFNPRlRXQVJFLgogCi1pZiBkZXBfY3VuaXQuZm91bmQoKQoraWYgZGVwX2N1
bml0LmZvdW5kKCkgYW5kIGRlcF9qc29uLmZvdW5kKCkKICAgYW1kZ3B1X3Rlc3QgPSBleGVjdXRh
YmxlKAogICAgICdhbWRncHVfdGVzdCcsCiAgICAgZmlsZXMoCkBAIC0yNiw5ICsyNiwxOSBAQCBp
ZiBkZXBfY3VuaXQuZm91bmQoKQogICAgICAgJ3ZjZV90ZXN0cy5jJywgJ3V2ZF9lbmNfdGVzdHMu
YycsICd2Y25fdGVzdHMuYycsICdkZWFkbG9ja190ZXN0cy5jJywKICAgICAgICd2bV90ZXN0cy5j
JywgJ3Jhc190ZXN0cy5jJywgJ3N5bmNvYmpfdGVzdHMuYycsCiAgICAgKSwKLSAgICBkZXBlbmRl
bmNpZXMgOiBbZGVwX2N1bml0LCBkZXBfdGhyZWFkc10sCisgICAgZGVwZW5kZW5jaWVzIDogW2Rl
cF9jdW5pdCwgZGVwX2pzb24sIGRlcF90aHJlYWRzXSwKICAgICBpbmNsdWRlX2RpcmVjdG9yaWVz
IDogW2luY19yb290LCBpbmNfZHJtLCBpbmNsdWRlX2RpcmVjdG9yaWVzKCcuLi8uLi9hbWRncHUn
KV0sCiAgICAgbGlua193aXRoIDogW2xpYmRybSwgbGliZHJtX2FtZGdwdV0sCiAgICAgaW5zdGFs
bCA6IHdpdGhfaW5zdGFsbF90ZXN0cywKICAgKQotZW5kaWYKKworICBjb25maWd1cmVfZmlsZShp
bnB1dCA6ICcuLi8uLi9kYXRhL2FtZGdwdV9yYXMuanNvbicsCisgICAgb3V0cHV0IDogJ2FtZGdw
dV9yYXMuanNvbicsCisgICAgY29uZmlndXJhdGlvbiA6IGNvbmZpZ3VyYXRpb25fZGF0YSgpKQor
CisgIGluc3RhbGxfZGF0YSgKKyAgICAnLi4vLi4vZGF0YS9hbWRncHVfcmFzLmpzb24nLAorICAg
IGluc3RhbGxfbW9kZSA6ICdydy1yLS1yLS0nLAorICAgIGluc3RhbGxfZGlyIDogZGF0YWRpcl9h
bWRncHUsCisgICkKK2VuZGlmClwgTm8gbmV3bGluZSBhdCBlbmQgb2YgZmlsZQpkaWZmIC0tZ2l0
IGEvdGVzdHMvYW1kZ3B1L3Jhc190ZXN0cy5jIGIvdGVzdHMvYW1kZ3B1L3Jhc190ZXN0cy5jCmlu
ZGV4IDgxYzM0YWQ2Li5jNzJkNTNlOSAxMDA2NDQKLS0tIGEvdGVzdHMvYW1kZ3B1L3Jhc190ZXN0
cy5jCisrKyBiL3Rlc3RzL2FtZGdwdS9yYXNfdGVzdHMuYwpAQCAtMzAsNiArMzAsNyBAQAogI2lu
Y2x1ZGUgPGZjbnRsLmg+CiAjaW5jbHVkZSA8c3RkaW8uaD4KICNpbmNsdWRlICJ4Zjg2ZHJtLmgi
CisjaW5jbHVkZSAianNvbi5oIgogCiBjb25zdCBjaGFyICpyYXNfYmxvY2tfc3RyaW5nW10gPSB7
CiAJInVtYyIsCkBAIC03MiwxMSArNzMsMjUyIEBAIGVudW0gYW1kZ3B1X3Jhc19ibG9jayB7CiAj
ZGVmaW5lIEFNREdQVV9SQVNfQkxPQ0tfQ09VTlQgIEFNREdQVV9SQVNfQkxPQ0tfX0xBU1QKICNk
ZWZpbmUgQU1ER1BVX1JBU19CTE9DS19NQVNLICAgKCgxVUxMIDw8IEFNREdQVV9SQVNfQkxPQ0tf
Q09VTlQpIC0gMSkKIAorZW51bSBhbWRncHVfcmFzX2dmeF9zdWJibG9jayB7CisJLyogQ1BDICov
CisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX0NQQ19JTkRFWF9TVEFSVCA9IDAsCisJQU1ER1BVX1JB
U19CTE9DS19fR0ZYX0NQQ19TQ1JBVENIID0KKwkJQU1ER1BVX1JBU19CTE9DS19fR0ZYX0NQQ19J
TkRFWF9TVEFSVCwKKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfQ1BDX1VDT0RFLAorCUFNREdQVV9S
QVNfQkxPQ0tfX0dGWF9EQ19TVEFURV9NRTEsCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX0RDX0NT
SU5WT0NfTUUxLAorCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9EQ19SRVNUT1JFX01FMSwKKwlBTURH
UFVfUkFTX0JMT0NLX19HRlhfRENfU1RBVEVfTUUyLAorCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9E
Q19DU0lOVk9DX01FMiwKKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfRENfUkVTVE9SRV9NRTIsCisJ
QU1ER1BVX1JBU19CTE9DS19fR0ZYX0NQQ19JTkRFWF9FTkQgPQorCQlBTURHUFVfUkFTX0JMT0NL
X19HRlhfRENfUkVTVE9SRV9NRTIsCisJLyogQ1BGICovCisJQU1ER1BVX1JBU19CTE9DS19fR0ZY
X0NQRl9JTkRFWF9TVEFSVCwKKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfQ1BGX1JPUV9NRTIgPQor
CQlBTURHUFVfUkFTX0JMT0NLX19HRlhfQ1BGX0lOREVYX1NUQVJULAorCUFNREdQVV9SQVNfQkxP
Q0tfX0dGWF9DUEZfUk9RX01FMSwKKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfQ1BGX1RBRywKKwlB
TURHUFVfUkFTX0JMT0NLX19HRlhfQ1BGX0lOREVYX0VORCA9IEFNREdQVV9SQVNfQkxPQ0tfX0dG
WF9DUEZfVEFHLAorCS8qIENQRyAqLworCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9DUEdfSU5ERVhf
U1RBUlQsCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX0NQR19ETUFfUk9RID0KKwkJQU1ER1BVX1JB
U19CTE9DS19fR0ZYX0NQR19JTkRFWF9TVEFSVCwKKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfQ1BH
X0RNQV9UQUcsCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX0NQR19UQUcsCisJQU1ER1BVX1JBU19C
TE9DS19fR0ZYX0NQR19JTkRFWF9FTkQgPSBBTURHUFVfUkFTX0JMT0NLX19HRlhfQ1BHX1RBRywK
KwkvKiBHRFMgKi8KKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfR0RTX0lOREVYX1NUQVJULAorCUFN
REdQVV9SQVNfQkxPQ0tfX0dGWF9HRFNfTUVNID0gQU1ER1BVX1JBU19CTE9DS19fR0ZYX0dEU19J
TkRFWF9TVEFSVCwKKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfR0RTX0lOUFVUX1FVRVVFLAorCUFN
REdQVV9SQVNfQkxPQ0tfX0dGWF9HRFNfT0FfUEhZX0NNRF9SQU1fTUVNLAorCUFNREdQVV9SQVNf
QkxPQ0tfX0dGWF9HRFNfT0FfUEhZX0RBVEFfUkFNX01FTSwKKwlBTURHUFVfUkFTX0JMT0NLX19H
RlhfR0RTX09BX1BJUEVfTUVNLAorCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9HRFNfSU5ERVhfRU5E
ID0KKwkJQU1ER1BVX1JBU19CTE9DS19fR0ZYX0dEU19PQV9QSVBFX01FTSwKKwkvKiBTUEkgKi8K
KwlBTURHUFVfUkFTX0JMT0NLX19HRlhfU1BJX1NSX01FTSwKKwkvKiBTUSAqLworCUFNREdQVV9S
QVNfQkxPQ0tfX0dGWF9TUV9JTkRFWF9TVEFSVCwKKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfU1Ff
U0dQUiA9IEFNREdQVV9SQVNfQkxPQ0tfX0dGWF9TUV9JTkRFWF9TVEFSVCwKKwlBTURHUFVfUkFT
X0JMT0NLX19HRlhfU1FfTERTX0QsCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX1NRX0xEU19JLAor
CUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9TUV9WR1BSLAorCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9T
UV9JTkRFWF9FTkQgPSBBTURHUFVfUkFTX0JMT0NLX19HRlhfU1FfVkdQUiwKKwkvKiBTUUMgKDMg
cmFuZ2VzKSAqLworCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9TUUNfSU5ERVhfU1RBUlQsCisJLyog
U1FDIHJhbmdlIDAgKi8KKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfU1FDX0lOREVYMF9TVEFSVCA9
CisJCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9TUUNfSU5ERVhfU1RBUlQsCisJQU1ER1BVX1JBU19C
TE9DS19fR0ZYX1NRQ19JTlNUX1VUQ0wxX0xGSUZPID0KKwkJQU1ER1BVX1JBU19CTE9DS19fR0ZY
X1NRQ19JTkRFWDBfU1RBUlQsCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX1NRQ19EQVRBX0NVMF9X
UklURV9EQVRBX0JVRiwKKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfU1FDX0RBVEFfQ1UwX1VUQ0wx
X0xGSUZPLAorCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9TUUNfREFUQV9DVTFfV1JJVEVfREFUQV9C
VUYsCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX1NRQ19EQVRBX0NVMV9VVENMMV9MRklGTywKKwlB
TURHUFVfUkFTX0JMT0NLX19HRlhfU1FDX0RBVEFfQ1UyX1dSSVRFX0RBVEFfQlVGLAorCUFNREdQ
VV9SQVNfQkxPQ0tfX0dGWF9TUUNfREFUQV9DVTJfVVRDTDFfTEZJRk8sCisJQU1ER1BVX1JBU19C
TE9DS19fR0ZYX1NRQ19JTkRFWDBfRU5EID0KKwkJQU1ER1BVX1JBU19CTE9DS19fR0ZYX1NRQ19E
QVRBX0NVMl9VVENMMV9MRklGTywKKwkvKiBTUUMgcmFuZ2UgMSAqLworCUFNREdQVV9SQVNfQkxP
Q0tfX0dGWF9TUUNfSU5ERVgxX1NUQVJULAorCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9TUUNfSU5T
VF9CQU5LQV9UQUdfUkFNID0KKwkJQU1ER1BVX1JBU19CTE9DS19fR0ZYX1NRQ19JTkRFWDFfU1RB
UlQsCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX1NRQ19JTlNUX0JBTktBX1VUQ0wxX01JU1NfRklG
TywKKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfU1FDX0lOU1RfQkFOS0FfTUlTU19GSUZPLAorCUFN
REdQVV9SQVNfQkxPQ0tfX0dGWF9TUUNfSU5TVF9CQU5LQV9CQU5LX1JBTSwKKwlBTURHUFVfUkFT
X0JMT0NLX19HRlhfU1FDX0RBVEFfQkFOS0FfVEFHX1JBTSwKKwlBTURHUFVfUkFTX0JMT0NLX19H
RlhfU1FDX0RBVEFfQkFOS0FfSElUX0ZJRk8sCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX1NRQ19E
QVRBX0JBTktBX01JU1NfRklGTywKKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfU1FDX0RBVEFfQkFO
S0FfRElSVFlfQklUX1JBTSwKKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfU1FDX0RBVEFfQkFOS0Ff
QkFOS19SQU0sCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX1NRQ19JTkRFWDFfRU5EID0KKwkJQU1E
R1BVX1JBU19CTE9DS19fR0ZYX1NRQ19EQVRBX0JBTktBX0JBTktfUkFNLAorCS8qIFNRQyByYW5n
ZSAyICovCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX1NRQ19JTkRFWDJfU1RBUlQsCisJQU1ER1BV
X1JBU19CTE9DS19fR0ZYX1NRQ19JTlNUX0JBTktCX1RBR19SQU0gPQorCQlBTURHUFVfUkFTX0JM
T0NLX19HRlhfU1FDX0lOREVYMl9TVEFSVCwKKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfU1FDX0lO
U1RfQkFOS0JfVVRDTDFfTUlTU19GSUZPLAorCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9TUUNfSU5T
VF9CQU5LQl9NSVNTX0ZJRk8sCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX1NRQ19JTlNUX0JBTktC
X0JBTktfUkFNLAorCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9TUUNfREFUQV9CQU5LQl9UQUdfUkFN
LAorCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9TUUNfREFUQV9CQU5LQl9ISVRfRklGTywKKwlBTURH
UFVfUkFTX0JMT0NLX19HRlhfU1FDX0RBVEFfQkFOS0JfTUlTU19GSUZPLAorCUFNREdQVV9SQVNf
QkxPQ0tfX0dGWF9TUUNfREFUQV9CQU5LQl9ESVJUWV9CSVRfUkFNLAorCUFNREdQVV9SQVNfQkxP
Q0tfX0dGWF9TUUNfREFUQV9CQU5LQl9CQU5LX1JBTSwKKwlBTURHUFVfUkFTX0JMT0NLX19HRlhf
U1FDX0lOREVYMl9FTkQgPQorCQlBTURHUFVfUkFTX0JMT0NLX19HRlhfU1FDX0RBVEFfQkFOS0Jf
QkFOS19SQU0sCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX1NRQ19JTkRFWF9FTkQgPQorCQlBTURH
UFVfUkFTX0JMT0NLX19HRlhfU1FDX0lOREVYMl9FTkQsCisJLyogVEEgKi8KKwlBTURHUFVfUkFT
X0JMT0NLX19HRlhfVEFfSU5ERVhfU1RBUlQsCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX1RBX0ZT
X0RGSUZPID0KKwkJQU1ER1BVX1JBU19CTE9DS19fR0ZYX1RBX0lOREVYX1NUQVJULAorCUFNREdQ
VV9SQVNfQkxPQ0tfX0dGWF9UQV9GU19BRklGTywKKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfVEFf
RkxfTEZJRk8sCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX1RBX0ZYX0xGSUZPLAorCUFNREdQVV9S
QVNfQkxPQ0tfX0dGWF9UQV9GU19DRklGTywKKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfVEFfSU5E
RVhfRU5EID0gQU1ER1BVX1JBU19CTE9DS19fR0ZYX1RBX0ZTX0NGSUZPLAorCS8qIFRDQSAqLwor
CUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9UQ0FfSU5ERVhfU1RBUlQsCisJQU1ER1BVX1JBU19CTE9D
S19fR0ZYX1RDQV9IT0xFX0ZJRk8gPQorCQlBTURHUFVfUkFTX0JMT0NLX19HRlhfVENBX0lOREVY
X1NUQVJULAorCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9UQ0FfUkVRX0ZJRk8sCisJQU1ER1BVX1JB
U19CTE9DS19fR0ZYX1RDQV9JTkRFWF9FTkQgPQorCQlBTURHUFVfUkFTX0JMT0NLX19HRlhfVENB
X1JFUV9GSUZPLAorCS8qIFRDQyAoNSBzdWItcmFuZ2VzKSAqLworCUFNREdQVV9SQVNfQkxPQ0tf
X0dGWF9UQ0NfSU5ERVhfU1RBUlQsCisJLyogVENDIHJhbmdlIDAgKi8KKwlBTURHUFVfUkFTX0JM
T0NLX19HRlhfVENDX0lOREVYMF9TVEFSVCA9CisJCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9UQ0Nf
SU5ERVhfU1RBUlQsCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX1RDQ19DQUNIRV9EQVRBID0KKwkJ
QU1ER1BVX1JBU19CTE9DS19fR0ZYX1RDQ19JTkRFWDBfU1RBUlQsCisJQU1ER1BVX1JBU19CTE9D
S19fR0ZYX1RDQ19DQUNIRV9EQVRBX0JBTktfMF8xLAorCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9U
Q0NfQ0FDSEVfREFUQV9CQU5LXzFfMCwKKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfVENDX0NBQ0hF
X0RBVEFfQkFOS18xXzEsCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX1RDQ19DQUNIRV9ESVJUWV9C
QU5LXzAsCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX1RDQ19DQUNIRV9ESVJUWV9CQU5LXzEsCisJ
QU1ER1BVX1JBU19CTE9DS19fR0ZYX1RDQ19ISUdIX1JBVEVfVEFHLAorCUFNREdQVV9SQVNfQkxP
Q0tfX0dGWF9UQ0NfTE9XX1JBVEVfVEFHLAorCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9UQ0NfSU5E
RVgwX0VORCA9CisJCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9UQ0NfTE9XX1JBVEVfVEFHLAorCS8q
IFRDQyByYW5nZSAxICovCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX1RDQ19JTkRFWDFfU1RBUlQs
CisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX1RDQ19JTl9VU0VfREVDID0KKwkJQU1ER1BVX1JBU19C
TE9DS19fR0ZYX1RDQ19JTkRFWDFfU1RBUlQsCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX1RDQ19J
Tl9VU0VfVFJBTlNGRVIsCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX1RDQ19JTkRFWDFfRU5EID0K
KwkJQU1ER1BVX1JBU19CTE9DS19fR0ZYX1RDQ19JTl9VU0VfVFJBTlNGRVIsCisJLyogVENDIHJh
bmdlIDIgKi8KKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfVENDX0lOREVYMl9TVEFSVCwKKwlBTURH
UFVfUkFTX0JMT0NLX19HRlhfVENDX1JFVFVSTl9EQVRBID0KKwkJQU1ER1BVX1JBU19CTE9DS19f
R0ZYX1RDQ19JTkRFWDJfU1RBUlQsCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX1RDQ19SRVRVUk5f
Q09OVFJPTCwKKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfVENDX1VDX0FUT01JQ19GSUZPLAorCUFN
REdQVV9SQVNfQkxPQ0tfX0dGWF9UQ0NfV1JJVEVfUkVUVVJOLAorCUFNREdQVV9SQVNfQkxPQ0tf
X0dGWF9UQ0NfV1JJVEVfQ0FDSEVfUkVBRCwKKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfVENDX1NS
Q19GSUZPLAorCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9UQ0NfU1JDX0ZJRk9fTkVYVF9SQU0sCisJ
QU1ER1BVX1JBU19CTE9DS19fR0ZYX1RDQ19DQUNIRV9UQUdfUFJPQkVfRklGTywKKwlBTURHUFVf
UkFTX0JMT0NLX19HRlhfVENDX0lOREVYMl9FTkQgPQorCQlBTURHUFVfUkFTX0JMT0NLX19HRlhf
VENDX0NBQ0hFX1RBR19QUk9CRV9GSUZPLAorCS8qIFRDQyByYW5nZSAzICovCisJQU1ER1BVX1JB
U19CTE9DS19fR0ZYX1RDQ19JTkRFWDNfU1RBUlQsCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX1RD
Q19MQVRFTkNZX0ZJRk8gPQorCQlBTURHUFVfUkFTX0JMT0NLX19HRlhfVENDX0lOREVYM19TVEFS
VCwKKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfVENDX0xBVEVOQ1lfRklGT19ORVhUX1JBTSwKKwlB
TURHUFVfUkFTX0JMT0NLX19HRlhfVENDX0lOREVYM19FTkQgPQorCQlBTURHUFVfUkFTX0JMT0NL
X19HRlhfVENDX0xBVEVOQ1lfRklGT19ORVhUX1JBTSwKKwkvKiBUQ0MgcmFuZ2UgNCAqLworCUFN
REdQVV9SQVNfQkxPQ0tfX0dGWF9UQ0NfSU5ERVg0X1NUQVJULAorCUFNREdQVV9SQVNfQkxPQ0tf
X0dGWF9UQ0NfV1JSRVRfVEFHX1dSSVRFX1JFVFVSTiA9CisJCUFNREdQVV9SQVNfQkxPQ0tfX0dG
WF9UQ0NfSU5ERVg0X1NUQVJULAorCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9UQ0NfQVRPTUlDX1JF
VFVSTl9CVUZGRVIsCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX1RDQ19JTkRFWDRfRU5EID0KKwkJ
QU1ER1BVX1JBU19CTE9DS19fR0ZYX1RDQ19BVE9NSUNfUkVUVVJOX0JVRkZFUiwKKwlBTURHUFVf
UkFTX0JMT0NLX19HRlhfVENDX0lOREVYX0VORCA9CisJCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9U
Q0NfSU5ERVg0X0VORCwKKwkvKiBUQ0kgKi8KKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfVENJX1dS
SVRFX1JBTSwKKwkvKiBUQ1AgKi8KKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfVENQX0lOREVYX1NU
QVJULAorCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9UQ1BfQ0FDSEVfUkFNID0KKwkJQU1ER1BVX1JB
U19CTE9DS19fR0ZYX1RDUF9JTkRFWF9TVEFSVCwKKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfVENQ
X0xGSUZPX1JBTSwKKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfVENQX0NNRF9GSUZPLAorCUFNREdQ
VV9SQVNfQkxPQ0tfX0dGWF9UQ1BfVk1fRklGTywKKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfVENQ
X0RCX1JBTSwKKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfVENQX1VUQ0wxX0xGSUZPMCwKKwlBTURH
UFVfUkFTX0JMT0NLX19HRlhfVENQX1VUQ0wxX0xGSUZPMSwKKwlBTURHUFVfUkFTX0JMT0NLX19H
RlhfVENQX0lOREVYX0VORCA9CisJCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9UQ1BfVVRDTDFfTEZJ
Rk8xLAorCS8qIFREICovCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX1REX0lOREVYX1NUQVJULAor
CUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9URF9TU19GSUZPX0xPID0KKwkJQU1ER1BVX1JBU19CTE9D
S19fR0ZYX1REX0lOREVYX1NUQVJULAorCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9URF9TU19GSUZP
X0hJLAorCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9URF9DU19GSUZPLAorCUFNREdQVV9SQVNfQkxP
Q0tfX0dGWF9URF9JTkRFWF9FTkQgPSBBTURHUFVfUkFTX0JMT0NLX19HRlhfVERfQ1NfRklGTywK
KwkvKiBFQSAoMyBzdWItcmFuZ2VzKSAqLworCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9FQV9JTkRF
WF9TVEFSVCwKKwkvKiBFQSByYW5nZSAwICovCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX0VBX0lO
REVYMF9TVEFSVCA9CisJCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9FQV9JTkRFWF9TVEFSVCwKKwlB
TURHUFVfUkFTX0JMT0NLX19HRlhfRUFfRFJBTVJEX0NNRE1FTSA9CisJCUFNREdQVV9SQVNfQkxP
Q0tfX0dGWF9FQV9JTkRFWDBfU1RBUlQsCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX0VBX0RSQU1X
Ul9DTURNRU0sCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX0VBX0RSQU1XUl9EQVRBTUVNLAorCUFN
REdQVV9SQVNfQkxPQ0tfX0dGWF9FQV9SUkVUX1RBR01FTSwKKwlBTURHUFVfUkFTX0JMT0NLX19H
RlhfRUFfV1JFVF9UQUdNRU0sCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX0VBX0dNSVJEX0NNRE1F
TSwKKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfRUFfR01JV1JfQ01ETUVNLAorCUFNREdQVV9SQVNf
QkxPQ0tfX0dGWF9FQV9HTUlXUl9EQVRBTUVNLAorCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9FQV9J
TkRFWDBfRU5EID0KKwkJQU1ER1BVX1JBU19CTE9DS19fR0ZYX0VBX0dNSVdSX0RBVEFNRU0sCisJ
LyogRUEgcmFuZ2UgMSAqLworCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9FQV9JTkRFWDFfU1RBUlQs
CisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX0VBX0RSQU1SRF9QQUdFTUVNID0KKwkJQU1ER1BVX1JB
U19CTE9DS19fR0ZYX0VBX0lOREVYMV9TVEFSVCwKKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfRUFf
RFJBTVdSX1BBR0VNRU0sCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX0VBX0lPUkRfQ01ETUVNLAor
CUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9FQV9JT1dSX0NNRE1FTSwKKwlBTURHUFVfUkFTX0JMT0NL
X19HRlhfRUFfSU9XUl9EQVRBTUVNLAorCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9FQV9HTUlSRF9Q
QUdFTUVNLAorCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9FQV9HTUlXUl9QQUdFTUVNLAorCUFNREdQ
VV9SQVNfQkxPQ0tfX0dGWF9FQV9JTkRFWDFfRU5EID0KKwkJQU1ER1BVX1JBU19CTE9DS19fR0ZY
X0VBX0dNSVdSX1BBR0VNRU0sCisJLyogRUEgcmFuZ2UgMiAqLworCUFNREdQVV9SQVNfQkxPQ0tf
X0dGWF9FQV9JTkRFWDJfU1RBUlQsCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX0VBX01BTV9EME1F
TSA9CisJCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9FQV9JTkRFWDJfU1RBUlQsCisJQU1ER1BVX1JB
U19CTE9DS19fR0ZYX0VBX01BTV9EMU1FTSwKKwlBTURHUFVfUkFTX0JMT0NLX19HRlhfRUFfTUFN
X0QyTUVNLAorCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9FQV9NQU1fRDNNRU0sCisJQU1ER1BVX1JB
U19CTE9DS19fR0ZYX0VBX0lOREVYMl9FTkQgPQorCQlBTURHUFVfUkFTX0JMT0NLX19HRlhfRUFf
TUFNX0QzTUVNLAorCUFNREdQVV9SQVNfQkxPQ0tfX0dGWF9FQV9JTkRFWF9FTkQgPQorCQlBTURH
UFVfUkFTX0JMT0NLX19HRlhfRUFfSU5ERVgyX0VORCwKKwkvKiBVVEMgVk0gTDIgYmFuayAqLwor
CUFNREdQVV9SQVNfQkxPQ0tfX1VUQ19WTUwyX0JBTktfQ0FDSEUsCisJLyogVVRDIFZNIHdhbGtl
ciAqLworCUFNREdQVV9SQVNfQkxPQ0tfX1VUQ19WTUwyX1dBTEtFUiwKKwkvKiBVVEMgQVRDIEwy
IDJNQiBjYWNoZSAqLworCUFNREdQVV9SQVNfQkxPQ0tfX1VUQ19BVENMMl9DQUNIRV8yTV9CQU5L
LAorCS8qIFVUQyBBVEMgTDIgNEtCIGNhY2hlICovCisJQU1ER1BVX1JBU19CTE9DS19fVVRDX0FU
Q0wyX0NBQ0hFXzRLX0JBTkssCisJQU1ER1BVX1JBU19CTE9DS19fR0ZYX01BWAorfTsKKwogZW51
bSBhbWRncHVfcmFzX2Vycm9yX3R5cGUgewotCUFNREdQVV9SQVNfRVJST1JfX05PTkUJCQkJPSAw
LAotCUFNREdQVV9SQVNfRVJST1JfX1NJTkdMRV9DT1JSRUNUQUJMRQkJPSAyLAotCUFNREdQVV9S
QVNfRVJST1JfX01VTFRJX1VOQ09SUkVDVEFCTEUJCT0gNCwKLQlBTURHUFVfUkFTX0VSUk9SX19Q
T0lTT04JCQk9IDgsCisJQU1ER1BVX1JBU19FUlJPUl9fTk9ORQkJCQkJPSAwLAorCUFNREdQVV9S
QVNfRVJST1JfX1BBUklUWQkJCQk9IDEsCisJQU1ER1BVX1JBU19FUlJPUl9fU0lOR0xFX0NPUlJF
Q1RBQkxFCQkJPSAyLAorCUFNREdQVV9SQVNfRVJST1JfX01VTFRJX1VOQ09SUkVDVEFCTEUJCQk9
IDQsCisJQU1ER1BVX1JBU19FUlJPUl9fUE9JU09OCQkJCT0gOCwKK307CisKK3N0cnVjdCByYXNf
dGVzdF9pdGVtIHsKKwljaGFyIG5hbWVbNjRdOworCWludCBibG9jazsKKwlpbnQgc3ViX2Jsb2Nr
OworCWNoYXIgZXJyb3JfdHlwZV9zdHJbNjRdOworCWVudW0gYW1kZ3B1X3Jhc19lcnJvcl90eXBl
IHR5cGU7CisJdWludDY0X3QgYWRkcmVzczsKKwl1aW50NjRfdCB2YWx1ZTsKIH07CiAKIHN0cnVj
dCByYXNfY29tbW9uX2lmIHsKQEAgLTEwMCw4ICszNDIsMTAgQEAgc3RydWN0IHJhc19kZWJ1Z19p
ZiB7CiAJaW50IG9wOwogfTsKIC8qIGZvciBub3csIG9ubHkgdW1jLCBnZngsIHNkbWEgaGFzIGlt
cGxlbWVudGVkLiAqLwotI2RlZmluZSBERUZBVUxUX1JBU19CTE9DS19NQVNLX0lOSkVDVCAoMSA8
PCBBTURHUFVfUkFTX0JMT0NLX19VTUMpCi0jZGVmaW5lIERFRkFVTFRfUkFTX0JMT0NLX01BU0tf
UVVFUlkgKDEgPDwgQU1ER1BVX1JBU19CTE9DS19fVU1DKQorI2RlZmluZSBERUZBVUxUX1JBU19C
TE9DS19NQVNLX0lOSkVDVCAoKDEgPDwgQU1ER1BVX1JBU19CTE9DS19fVU1DKSB8XAorCQkoMSA8
PCBBTURHUFVfUkFTX0JMT0NLX19HRlgpKQorI2RlZmluZSBERUZBVUxUX1JBU19CTE9DS19NQVNL
X1FVRVJZICgoMSA8PCBBTURHUFVfUkFTX0JMT0NLX19VTUMpIHxcCisJCSgxIDw8IEFNREdQVV9S
QVNfQkxPQ0tfX0dGWCkpCiAjZGVmaW5lIERFRkFVTFRfUkFTX0JMT0NLX01BU0tfQkFTSUMgKDEg
PDwgQU1ER1BVX1JBU19CTE9DS19fVU1DIHxcCiAJCSgxIDw8IEFNREdQVV9SQVNfQkxPQ0tfX1NE
TUEpIHxcCiAJCSgxIDw8IEFNREdQVV9SQVNfQkxPQ0tfX0dGWCkpCkBAIC00NTMsNiArNjk3LDMy
IEBAIHN0YXRpYyBpbnQgYW1kZ3B1X3Jhc19xdWVyeV9lcnJfY291bnQoZW51bSBhbWRncHVfcmFz
X2Jsb2NrIGJsb2NrLAogCXJldHVybiAwOwogfQogCitzdGF0aWMgaW50IGFtZGdwdV9yYXNfaW5q
ZWN0KGVudW0gYW1kZ3B1X3Jhc19ibG9jayBibG9jaywKKwkJdWludDMyX3Qgc3ViX2Jsb2NrLCBl
bnVtIGFtZGdwdV9yYXNfZXJyb3JfdHlwZSB0eXBlLAorCQl1aW50NjRfdCBhZGRyZXNzLCB1aW50
NjRfdCB2YWx1ZSkKK3sKKwlzdHJ1Y3QgcmFzX2RlYnVnX2lmIGRhdGEgPSB7IC5vcCA9IDIsIH07
CisJc3RydWN0IHJhc19pbmplY3RfaWYgKmluamVjdCA9ICZkYXRhLmluamVjdDsKKwlpbnQgcmV0
OworCisJaWYgKGFtZGdwdV9yYXNfaXNfZmVhdHVyZV9lbmFibGVkKGJsb2NrKSA8PSAwKQorCQly
ZXR1cm4gLTE7CisKKwlpbmplY3QtPmhlYWQuYmxvY2sgPSBibG9jazsKKwlpbmplY3QtPmhlYWQu
dHlwZSA9IHR5cGU7CisJaW5qZWN0LT5oZWFkLnN1Yl9ibG9ja19pbmRleCA9IHN1Yl9ibG9jazsK
KwlzdHJuY3B5KGluamVjdC0+aGVhZC5uYW1lLCByYXNfYmxvY2tfc3RyKGJsb2NrKSwgMzIpOwor
CWluamVjdC0+YWRkcmVzcyA9IGFkZHJlc3M7CisJaW5qZWN0LT52YWx1ZSA9IHZhbHVlOworCisJ
cmV0ID0gYW1kZ3B1X3Jhc19pbnZva2UoJmRhdGEpOworCUNVX0FTU0VSVF9FUVVBTChyZXQsIDAp
OworCWlmIChyZXQpCisJCXJldHVybiAtMTsKKworCXJldHVybiAwOworfQorCiAvL3Rlc3RzCiBz
dGF0aWMgdm9pZCBhbWRncHVfcmFzX2ZlYXR1cmVzX3Rlc3QoaW50IGVuYWJsZSkKIHsKQEAgLTUw
Myw2NiArNzczLDIyNCBAQCBzdGF0aWMgdm9pZCBhbWRncHVfcmFzX2VuYWJsZV90ZXN0KHZvaWQp
CiAJfQogfQogCi1zdGF0aWMgdm9pZCBfX2FtZGdwdV9yYXNfaW5qZWN0X3Rlc3Qodm9pZCkKK3N0
YXRpYyBpbnQgX2pzb25fZ2V0X2Jsb2NrX2lkKGpzb25fb2JqZWN0ICpibG9ja19vYmosIGNvbnN0
IGNoYXIgKm5hbWUpCiB7Ci0Jc3RydWN0IHJhc19kZWJ1Z19pZiBkYXRhOwotCWludCByZXQ7Ci0J
aW50IGk7Ci0JdW5zaWduZWQgbG9uZyB1ZSwgY2UsIHVlX29sZCwgY2Vfb2xkOworCWpzb25fb2Jq
ZWN0ICppdGVtX29iaiwgKmluZGV4X29iajsKIAotCWRhdGEub3AgPSAyOwotCWZvciAoaSA9IDA7
IGkgPCBBTURHUFVfUkFTX0JMT0NLX19MQVNUOyBpKyspIHsKLQkJaW50IHRpbWVvdXQgPSAzOwot
CQlzdHJ1Y3QgcmFzX2luamVjdF9pZiBpbmplY3QgPSB7Ci0JCQkuaGVhZCA9IHsKLQkJCQkuYmxv
Y2sgPSBpLAotCQkJCS50eXBlID0gQU1ER1BVX1JBU19FUlJPUl9fTVVMVElfVU5DT1JSRUNUQUJM
RSwKLQkJCQkuc3ViX2Jsb2NrX2luZGV4ID0gMCwKLQkJCQkubmFtZSA9ICIiLAotCQkJfSwKLQkJ
CS5hZGRyZXNzID0gMCwKLQkJCS52YWx1ZSA9IDAsCi0JCX07CisJaWYgKCFqc29uX29iamVjdF9v
YmplY3RfZ2V0X2V4KGJsb2NrX29iaiwgbmFtZSwgJml0ZW1fb2JqKSkKKwkJcmV0dXJuIC0xOwog
Ci0JCWlmIChhbWRncHVfcmFzX2lzX2ZlYXR1cmVfZW5hYmxlZChpKSA8PSAwKQotCQkJY29udGlu
dWU7CisJaWYgKCFqc29uX29iamVjdF9vYmplY3RfZ2V0X2V4KGl0ZW1fb2JqLCAiaW5kZXgiLCAm
aW5kZXhfb2JqKSkKKwkJcmV0dXJuIC0xOwogCi0JCWlmICghKCgxIDw8IGkpICYgcmFzX2Jsb2Nr
X21hc2tfaW5qZWN0KSkKLQkJCWNvbnRpbnVlOworCXJldHVybiBqc29uX29iamVjdF9nZXRfaW50
KGluZGV4X29iaik7Cit9CiAKLQkJZGF0YS5pbmplY3QgPSBpbmplY3Q7CitzdGF0aWMgaW50IF9q
c29uX2dldF9zdWJibG9ja19pZChqc29uX29iamVjdCAqYmxvY2tfb2JqLCBjb25zdCBjaGFyICpi
bG9ja19uYW1lLAorCQkJCSBjb25zdCBjaGFyICpzdWJibG9ja19uYW1lKQoreworCWpzb25fb2Jq
ZWN0ICppdGVtX29iaiwgKnN1YmJsb2NrX29iaiwgKm5hbWVfb2JqOwogCi0JCXJldCA9IGFtZGdw
dV9yYXNfcXVlcnlfZXJyX2NvdW50KGksICZ1ZV9vbGQsICZjZV9vbGQpOwotCQlDVV9BU1NFUlRf
RVFVQUwocmV0LCAwKTsKKwlpZiAoIWpzb25fb2JqZWN0X29iamVjdF9nZXRfZXgoYmxvY2tfb2Jq
LCBibG9ja19uYW1lLCAmaXRlbV9vYmopKQorCQlyZXR1cm4gLTE7CiAKLQkJaWYgKHJldCkKLQkJ
CWNvbnRpbnVlOworCWlmICghanNvbl9vYmplY3Rfb2JqZWN0X2dldF9leChpdGVtX29iaiwgInN1
YmJsb2NrIiwgJnN1YmJsb2NrX29iaikpCisJCXJldHVybiAtMTsKIAotCQlyZXQgPSBhbWRncHVf
cmFzX2ludm9rZSgmZGF0YSk7CisJaWYgKCFqc29uX29iamVjdF9vYmplY3RfZ2V0X2V4KHN1YmJs
b2NrX29iaiwgc3ViYmxvY2tfbmFtZSwgJm5hbWVfb2JqKSkKKwkJcmV0dXJuIC0xOworCisJcmV0
dXJuIGpzb25fb2JqZWN0X2dldF9pbnQobmFtZV9vYmopOworfQorCitzdGF0aWMgaW50IGFtZGdw
dV9yYXNfZ2V0X3Rlc3RfaXRlbXMoc3RydWN0IHJhc190ZXN0X2l0ZW0gKipwaXRlbXMsIGludCAq
c2l6ZSkKK3sKKwlqc29uX29iamVjdCAqcm9vdF9vYmogPSBOVUxMOworCWpzb25fb2JqZWN0ICpi
bG9ja19vYmogPSBOVUxMOworCWpzb25fb2JqZWN0ICp0eXBlX29iaiA9IE5VTEw7CisJanNvbl9v
YmplY3QgKnRlc3RzX29iaiA9IE5VTEw7CisJanNvbl9vYmplY3QgKnRlc3Rfb2JqID0gTlVMTDsK
Kwlqc29uX29iamVjdCAqdG1wX29iaiA9IE5VTEw7CisJanNvbl9vYmplY3QgKnRtcF90eXBlX29i
aiA9IE5VTEw7CisJanNvbl9vYmplY3QgKnN1YmJsb2NrX29iaiA9IE5VTEw7CisJaW50IGksIGxl
bmd0aDsKKwlzdHJ1Y3QgcmFzX3Rlc3RfaXRlbSAqaXRlbXMgPSBOVUxMOworCWludCByZXQgPSAt
MTsKKworCXJvb3Rfb2JqID0ganNvbl9vYmplY3RfZnJvbV9maWxlKCIuL2FtZGdwdV9yYXMuanNv
biIpOworCWlmICghcm9vdF9vYmopCisJCXJvb3Rfb2JqID0ganNvbl9vYmplY3RfZnJvbV9maWxl
KAorCQkJIi91c3Ivc2hhcmUvbGliZHJtL2FtZGdwdV9yYXMuanNvbiIpOworCisJaWYgKCFyb290
X29iaikgeworCQlDVV9GQUlMX0ZBVEFMKCJDb3VsZG4ndCBmaW5kIGFtZGdwdV9yYXMuanNvbiIp
OworCQlnb3RvIHByb19lbmQ7CisJfQorCisJLyogQ2hlY2sgVmVyc2lvbiAqLworCWlmICghanNv
bl9vYmplY3Rfb2JqZWN0X2dldF9leChyb290X29iaiwgInZlcnNpb24iLCAmdG1wX29iaikpIHsK
KwkJQ1VfRkFJTF9GQVRBTCgiV3JvbmcgZm9ybWF0IG9mIGFtZGdwdV9yYXMuanNvbiIpOworCQln
b3RvIHByb19lbmQ7CisJfQorCisJLyogQmxvY2sgRGVmaW5pdGlvbiAqLworCWlmICghanNvbl9v
YmplY3Rfb2JqZWN0X2dldF9leChyb290X29iaiwgImJsb2NrIiwgJmJsb2NrX29iaikpIHsKKwkJ
ZnByaW50ZihzdGRlcnIsICJibG9jayBpc24ndCBkZWZpbmVkXG4iKTsKKwkJZ290byBwcm9fZW5k
OworCX0KKworCS8qIFR5cGUgRGVmaW5pdGlvbiAqLworCWlmICghanNvbl9vYmplY3Rfb2JqZWN0
X2dldF9leChyb290X29iaiwgInR5cGUiLCAmdHlwZV9vYmopKSB7CisJCWZwcmludGYoc3RkZXJy
LCAidHlwZSBpc24ndCBkZWZpbmVkXG4iKTsKKwkJZ290byBwcm9fZW5kOworCX0KKworCS8qIEVu
dW11bGF0ZSB0ZXN0IGl0ZW1zICovCisJaWYgKCFqc29uX29iamVjdF9vYmplY3RfZ2V0X2V4KHJv
b3Rfb2JqLCAidGVzdHMiLCAmdGVzdHNfb2JqKSkgeworCQlmcHJpbnRmKHN0ZGVyciwgInRlc3Rz
IGFyZSBlbXB0eVxuIik7CisJCWdvdG8gcHJvX2VuZDsKKwl9CisKKwlsZW5ndGggPSBqc29uX29i
amVjdF9hcnJheV9sZW5ndGgodGVzdHNfb2JqKTsKKworCWl0ZW1zID0gbWFsbG9jKHNpemVvZihz
dHJ1Y3QgcmFzX3Rlc3RfaXRlbSkgKiBsZW5ndGgpOworCWlmICghaXRlbXMpIHsKKwkJZnByaW50
ZihzdGRlcnIsICJtYWxsb2MgZmFpbGVkXG4iKTsKKwkJZ290byBwcm9fZW5kOworCX0KKworCWZv
ciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgeworCQl0ZXN0X29iaiA9IGpzb25fb2JqZWN0X2Fy
cmF5X2dldF9pZHgodGVzdHNfb2JqLCBpKTsKKworCQkvKiBOYW1lICovCisJCWlmICghanNvbl9v
YmplY3Rfb2JqZWN0X2dldF9leCh0ZXN0X29iaiwgIm5hbWUiLCAmdG1wX29iaikpIHsKKwkJCWZw
cmludGYoc3RkZXJyLCAiVGVzdCAlZCBoYXMgbm8gbmFtZVxuIiwgaSk7CisJCQlnb3RvIHByb19l
bmQ7CisJCX0KKwkJc3RybmNweShpdGVtc1tpXS5uYW1lLCBqc29uX29iamVjdF9nZXRfc3RyaW5n
KHRtcF9vYmopLCA2NCk7CisKKwkJLyogYmxvY2sgKi8KKwkJaWYgKCFqc29uX29iamVjdF9vYmpl
Y3RfZ2V0X2V4KHRlc3Rfb2JqLCAiYmxvY2siLCAmdG1wX29iaikpIHsKKwkJCWZwcmludGYoc3Rk
ZXJyLCAiVGVzdDolczogYmxvY2sgaXNuJ3QgZGVmaW5lZFxuIiwKKwkJCQlpdGVtc1tpXS5uYW1l
KTsKKwkJCWdvdG8gcHJvX2VuZDsKKwkJfQorCQlpdGVtc1tpXS5ibG9jayA9IF9qc29uX2dldF9i
bG9ja19pZCgKKwkJCWJsb2NrX29iaiwganNvbl9vYmplY3RfZ2V0X3N0cmluZyh0bXBfb2JqKSk7
CisKKwkJLyogY2hlY2sgYmxvY2sgaWQgKi8KKwkJaWYgKGl0ZW1zW2ldLmJsb2NrIDwgQU1ER1BV
X1JBU19CTE9DS19fVU1DIHx8CisJCSAgICBpdGVtc1tpXS5ibG9jayA+PSBBTURHUFVfUkFTX0JM
T0NLX19MQVNUKSB7CisJCQlmcHJpbnRmKHN0ZGVyciwgIlRlc3Q6JXM6IGJsb2NrIGlkICVkIGlz
IGludmFsaWRcbiIsCisJCQkJaXRlbXNbaV0ubmFtZSwgaXRlbXNbaV0uYmxvY2spOworCQkJZ290
byBwcm9fZW5kOworCQl9CisKKwkJLyogc3ViYmxvY2sgKi8KKwkJaWYgKGpzb25fb2JqZWN0X29i
amVjdF9nZXRfZXgodGVzdF9vYmosICJzdWJibG9jayIsICZ0bXBfb2JqKSkgeworCQkJanNvbl9v
YmplY3Rfb2JqZWN0X2dldF9leCh0ZXN0X29iaiwgImJsb2NrIiwKKwkJCQkmc3ViYmxvY2tfb2Jq
KTsKKworCQkJaXRlbXNbaV0uc3ViX2Jsb2NrID0gX2pzb25fZ2V0X3N1YmJsb2NrX2lkKAorCQkJ
CWJsb2NrX29iaiwKKwkJCQlqc29uX29iamVjdF9nZXRfc3RyaW5nKHN1YmJsb2NrX29iaiksCisJ
CQkJanNvbl9vYmplY3RfZ2V0X3N0cmluZyh0bXBfb2JqKSk7CisJCX0gZWxzZQorCQkJaXRlbXNb
aV0uc3ViX2Jsb2NrID0gMDsKKworCQkvKiB0eXBlICovCisJCWlmIChqc29uX29iamVjdF9vYmpl
Y3RfZ2V0X2V4KHRlc3Rfb2JqLCAidHlwZSIsICZ0bXBfb2JqKSkgeworCQkJc3RybmNweShpdGVt
c1tpXS5lcnJvcl90eXBlX3N0ciwKKwkJCQlqc29uX29iamVjdF9nZXRfc3RyaW5nKHRtcF9vYmop
LCA2NCk7CisKKwkJCWlmIChqc29uX29iamVjdF9vYmplY3RfZ2V0X2V4KHR5cGVfb2JqLAorCQkJ
CWpzb25fb2JqZWN0X2dldF9zdHJpbmcodG1wX29iaiksICZ0bXBfdHlwZV9vYmopKQorCQkJCWl0
ZW1zW2ldLnR5cGUgPSBqc29uX29iamVjdF9nZXRfaW50KHRtcF90eXBlX29iaik7CisJCQllbHNl
CisJCQkJaXRlbXNbaV0udHlwZSA9IChlbnVtIGFtZGdwdV9yYXNfZXJyb3JfdHlwZSkwOworCQl9
CisKKwkJLyogYWRkcmVzcyAqLworCQlpZiAoanNvbl9vYmplY3Rfb2JqZWN0X2dldF9leCh0ZXN0
X29iaiwgImFkZHJlc3MiLCAmdG1wX29iaikpCisJCQlpdGVtc1tpXS5hZGRyZXNzID0ganNvbl9v
YmplY3RfZ2V0X2ludCh0bXBfb2JqKTsKKwkJZWxzZQorCQkJaXRlbXNbaV0uYWRkcmVzcyA9IDA7
IC8qIGRlZmF1bHQgYWRkcmVzcyAwICovCisKKwkJLyogdmFsdWUgKi8KKwkJaWYgKGpzb25fb2Jq
ZWN0X29iamVjdF9nZXRfZXgodGVzdF9vYmosICJ2YWx1ZSIsICZ0bXBfb2JqKSkKKwkJCWl0ZW1z
W2ldLnZhbHVlID0ganNvbl9vYmplY3RfZ2V0X2ludCh0bXBfb2JqKTsKKwkJZWxzZQorCQkJaXRl
bXNbaV0udmFsdWUgPSAwOyAvKiBkZWZhdWx0IHZhbHVlIDAgKi8KKwl9CisKKwkqcGl0ZW1zID0g
aXRlbXM7CisJKnNpemUgPSBsZW5ndGg7CisJcmV0ID0gMDsKK3Byb19lbmQ6CisJaWYgKHJvb3Rf
b2JqKQorCQlqc29uX29iamVjdF9wdXQocm9vdF9vYmopOworCisJcmV0dXJuIHJldDsKK30KKwor
c3RhdGljIHZvaWQgX19hbWRncHVfcmFzX2luamVjdF90ZXN0KHZvaWQpCit7CisJc3RydWN0IHJh
c190ZXN0X2l0ZW0gKml0ZW1zID0gTlVMTDsKKwlpbnQgaSwgc2l6ZTsKKwlpbnQgcmV0OworCXVu
c2lnbmVkIGxvbmcgb2xkX3VlLCBvbGRfY2U7CisJdW5zaWduZWQgbG9uZyB1ZSwgY2U7CisJaW50
IHRpbWVvdXQ7CisJYm9vbCBwYXNzOworCisJcmV0ID0gYW1kZ3B1X3Jhc19nZXRfdGVzdF9pdGVt
cygmaXRlbXMsICZzaXplKTsKKwlDVV9BU1NFUlRfRVFVQUwocmV0LCAwKTsKKwlpZiAocmV0KQor
CQlnb3RvIG1lbV9mcmVlOworCisJcHJpbnRmKCIuLi5cbiIpOworCWZvciAoaSA9IDA7IGkgPCBz
aXplOyBpKyspIHsKKwkJdGltZW91dCA9IDM7CisJCXBhc3MgPSBmYWxzZTsKKworCQlyZXQgPSBh
bWRncHVfcmFzX3F1ZXJ5X2Vycl9jb3VudChpdGVtc1tpXS5ibG9jaywgJm9sZF91ZSwKKwkJCQkJ
CSAmb2xkX2NlKTsKIAkJQ1VfQVNTRVJUX0VRVUFMKHJldCwgMCk7CisJCWlmIChyZXQpCisJCQli
cmVhazsKIAorCQlyZXQgPSBhbWRncHVfcmFzX2luamVjdChpdGVtc1tpXS5ibG9jaywgaXRlbXNb
aV0uc3ViX2Jsb2NrLAorCQkJCQlpdGVtc1tpXS50eXBlLCBpdGVtc1tpXS5hZGRyZXNzLAorCQkJ
CQlpdGVtc1tpXS52YWx1ZSk7CisJCUNVX0FTU0VSVF9FUVVBTChyZXQsIDApOwogCQlpZiAocmV0
KQotCQkJY29udGludWU7CisJCQlicmVhazsKIAotbG9vcDoKIAkJd2hpbGUgKHRpbWVvdXQgPiAw
KSB7Ci0JCQlyZXQgPSBhbWRncHVfcmFzX3F1ZXJ5X2Vycl9jb3VudChpLCAmdWUsICZjZSk7Ci0J
CQlDVV9BU1NFUlRfRVFVQUwocmV0LCAwKTsKKwkJCXNsZWVwKDUpOwogCisJCQlyZXQgPSBhbWRn
cHVfcmFzX3F1ZXJ5X2Vycl9jb3VudChpdGVtc1tpXS5ibG9jaywgJnVlLAorCQkJCQkJCSAmY2Up
OworCQkJQ1VfQVNTRVJUX0VRVUFMKHJldCwgMCk7CiAJCQlpZiAocmV0KQotCQkJCWNvbnRpbnVl
OwotCQkJaWYgKHVlX29sZCAhPSB1ZSkgewotCQkJCS8qcmVjb3ZlcnkgdGFrZXMgfjEwcyovCi0J
CQkJc2xlZXAoMTApOwogCQkJCWJyZWFrOwotCQkJfQogCi0JCQlzbGVlcCgxKTsKKwkJCWlmIChv
bGRfdWUgIT0gdWUgfHwgb2xkX2NlICE9IGNlKSB7CisJCQkJcGFzcyA9IHRydWU7CisJCQkJc2xl
ZXAoMjApOworCQkJCWJyZWFrOworCQkJfQogCQkJdGltZW91dCAtPSAxOwogCQl9CisJCXByaW50
ZigiXHQgVGVzdCAlc0AlcywgYWRkcmVzcyAlbGQsIHZhbHVlICVsZDogJXNcbiIsCisJCQlpdGVt
c1tpXS5uYW1lLCBpdGVtc1tpXS5lcnJvcl90eXBlX3N0ciwgaXRlbXNbaV0uYWRkcmVzcywKKwkJ
CWl0ZW1zW2ldLnZhbHVlLAlwYXNzID8gIlBhc3MiIDogIkZhaWwiKTsKKwl9CiAKLQkJQ1VfQVNT
RVJUX0VRVUFMKHVlX29sZCArIDEsIHVlKTsKLQkJQ1VfQVNTRVJUX0VRVUFMKGNlX29sZCwgY2Up
OworbWVtX2ZyZWU6CisJaWYgKGl0ZW1zKSB7CisJCWZyZWUoaXRlbXMpOworCQlpdGVtcyA9IE5V
TEw7CiAJfQogfQogCi0tIAoyLjE3LjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRl
c2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8v
YW1kLWdmeA==
