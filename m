Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 6FA62371FD4
	for <lists+amd-gfx@lfdr.de>; Mon,  3 May 2021 20:43:12 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 37C316E091;
	Mon,  3 May 2021 18:43:09 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM11-DM6-obe.outbound.protection.outlook.com
 (mail-dm6nam11on2075.outbound.protection.outlook.com [40.107.223.75])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2E25D8800A
 for <amd-gfx@lists.freedesktop.org>; Mon,  3 May 2021 18:43:08 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=C5xwoWSTFhA8GyXjoYg2yE26HOYrgTDFqIRoNJSFLNf3dqrQsZnxhK2E3fQAGcIIJoVWS6KDPINBsVVA0O7VWzqM61EKFBVFfryGv9ecr66tGEpWkqYmh7v5LaZm5JKLhzZh3xNAslz2uEQhbQO6foOBYJjGe3qepKiRE4de8+o/q8t4JjYSppes8LfhdRsT8DGEXPd9ZerbkxSIOjhuWEVi0HNHpykbfprHj9AW7DA4SR8qojREAdNzg5DQYpVJf4gbUKm6IXXwuMW6r6SOfas/nNMjc88vLMqzwaerVh6z518Qfrx4SQ2MqCkfmWefulxbYNjOZC9DTbwyLjf7MQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=KLpXC+AFeUE0RG+FR7ffW5zdZxRsVeLPS7AUQkQxb7M=;
 b=KrnToUqdM9i0gvVn0rp2m1hXqpn8kt/PKn3KIjOHG4fPvf42WPC+A2i418aHGLnCMgA5BFBnxCRy/BAXA4Z8ng4t5jIi7te5oZ/hNixqaCckfFFDl2gKb360yPVPryfqfk+Lt6gscQ6sk8DWda7qPm//7BQ824XE+Cpk4FK9B0EJ34je0SIy6XYiw168wT0TgXdEfBJaVEwksI/Y7JAvMgqXMCSDSVD8mr0Kka7pYXR2Nq1Yjc11OY16IlC2aYFUM5mqRLjXmYlym9PgrlFOBU7IO1BKbz72jjY7fIAB0Czjerncz2FRdoItyFMwTqY6Gd1wOENAbDutLKCkaYMBrg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=amd.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=KLpXC+AFeUE0RG+FR7ffW5zdZxRsVeLPS7AUQkQxb7M=;
 b=AvuS3YjM2E9zjFxuDHD352Y8QiPMXKxXjWicUaGNVDva7zQYMuZRY1EVHCkY7fnLe4cfArM+Dp2mZ9JTyi6DU+cy3HVySgWDN5RRGxTs11M4gGHq5EDFFMZuWLhxaAl+4TeJD5xPZZ4OhghmIYQDzgCQzra9zMxTTzl3bYjc178=
Received: from DM6PR12MB4732.namprd12.prod.outlook.com (2603:10b6:5:32::25) by
 DM6PR12MB3164.namprd12.prod.outlook.com (2603:10b6:5:188::30) with
 Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.4087.38; Mon, 3 May 2021 18:43:04 +0000
Received: from DM6PR12MB4732.namprd12.prod.outlook.com
 ([fe80::f40e:1245:84b6:e2a4]) by DM6PR12MB4732.namprd12.prod.outlook.com
 ([fe80::f40e:1245:84b6:e2a4%3]) with mapi id 15.20.4087.041; Mon, 3 May 2021
 18:43:03 +0000
From: "Zeng, Oak" <Oak.Zeng@amd.com>
To: "Huang, JinHuiEric" <JinHuiEric.Huang@amd.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: Re: [PATCH] drm/amdkfd: add ACPI SRAT parsing for topology
Thread-Topic: [PATCH] drm/amdkfd: add ACPI SRAT parsing for topology
Thread-Index: AQHXPEDk0EMOhNrPE0mgayr+r/7JRqrR3LoA
Date: Mon, 3 May 2021 18:43:03 +0000
Message-ID: <8E4089F8-92B0-4C10-86C1-B0F350E9CEE8@amd.com>
References: <20210428151154.28317-1-jinhuieric.huang@amd.com>
In-Reply-To: <20210428151154.28317-1-jinhuieric.huang@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
user-agent: Microsoft-MacOutlook/16.46.21021202
authentication-results: amd.com; dkim=none (message not signed)
 header.d=none;amd.com; dmarc=none action=none header.from=amd.com;
x-originating-ip: [165.204.54.211]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 2e3f4180-6b93-4299-cb00-08d90e6348fe
x-ms-traffictypediagnostic: DM6PR12MB3164:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <DM6PR12MB31641687181DC1E91420053A805B9@DM6PR12MB3164.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:6108;
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: mT040tj/HKEKM+mRsEDsQUFUoniR0pNu9qIzdBklYdiIBesW7i/g2w3t65GEn9KRoygxPvow3RXFUWFECXAW8d3qqRgrC45Evx6S9DCRrCdeT6YEYVhYsyca1M2dEdTlMY858KMK85nIoTK/Qa89B+ZiaLiKdrskASx1S1YoATafR9QTDFDTCw1LGH2NLM5AIf1BzFyalQy2S36lEdo52ieitN6X/LeIoIpfHcjz7IaVbFVTC/VfEe5KiIwq55RqMa4+6MFbFH1P7KJGOWORA72YL25VhApWcvUS7v3SIU4kuwkRI9+Rh/8aea6rUICGQyqRNNXdbCOGBzSQOR93fNXkHCe6N789RgfQbYUUIssHgbYRSv8p0YPPQcXbQCCRaSdNdpbzOQVvXtN08iUIGxwrq1m8P3q397l/PEZK7aOvg5QeDdaxwgc3hGHs0urnOXYIi7NqzMcU8Vugfp7hr0/3hbMMJb0A5ID4Po0AonDwDacXOkGpUiUXtEd59DG2b6QbpSPbIaRLlSl+NPODpzbzGRSvFOgXw/n3NBZrjBRj9eC5w1+XDC4noWhDUG8c8AE7aOlzxNOaUo31uGPbmUrkygwAODcVIJgzPcAlOnnhDyU9krb86UaKvjjv+DG1jMw8vZdf6ELFL/CzF0tgvSOy1oBXcpCtREmd5bkxMi8V+sAAu/l9s8ii6Liq0yDZ4CvAvLWPhFdxCvmSJsKlYA==
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:DM6PR12MB4732.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(4636009)(376002)(39850400004)(396003)(346002)(366004)(136003)(8676002)(5660300002)(36756003)(2616005)(8936002)(33656002)(316002)(6486002)(86362001)(4326008)(186003)(71200400001)(83380400001)(110136005)(6506007)(91956017)(122000001)(45080400002)(26005)(38100700002)(6512007)(966005)(64756008)(76116006)(66446008)(66476007)(66946007)(478600001)(2906002)(66556008)(45980500001);
 DIR:OUT; SFP:1101; 
x-ms-exchange-antispam-messagedata: =?utf-8?B?TFRXdnh1dDkvUkloTDhydWlxR0E5T295YjJYMkozajRYL0d2MmNQZm8vVUtR?=
 =?utf-8?B?bjcwS3lScTdJV2VZcU02THIxK3VlaEZMS1NGUVZTV2tNOWlGNUFsQTl0Nld2?=
 =?utf-8?B?anIyczJrNzFzdyt3Z3pYMlBEdlFvTzhEVUpXVzZoem0raXNLdVhYTkNUNWhv?=
 =?utf-8?B?UGQvSUZrR3oxK1VxcHJHL0d2aEJTaEtFVW81MFdRT1BrS2thZGhSaEVlMnlD?=
 =?utf-8?B?V0JUdUNuUGYzaDhGT0JodVpZdGZSU1plbkRlOE81cWUzOG9GaCtMV0ZVQkFl?=
 =?utf-8?B?My9mMVo1RHp4RC8vK3VSRVdaUjRGYmdhQ0lRWGZiSkNrSHp0MERMcDY5dEh0?=
 =?utf-8?B?Wmw3OU9KOWdVMWpMZDMrckRwQys3dU1WWEphMlNuMUE1b2huZEpZN3cyZXAv?=
 =?utf-8?B?SmJiVW0wa0R2N29Cc3FiS0JiWEFOdmVrSCtaNlUwTEVNY3RGU3dydkZ4Smc4?=
 =?utf-8?B?dWx0R2hDUFZLWUM5NHd3TGFuaWZ5UHVkRmhuTGxva29sc0xFV2VYWXo4ZlVD?=
 =?utf-8?B?dnpLSm94RjNtamtJMkQ1KzU0TkRPSFFvVXRYekpYdklwQ1pzR1pyQlNJdGF5?=
 =?utf-8?B?MTZsZVh2Q24zaEpJTmVxYXZhYkpXLzVFU0xPYXhHaHNGSEdhNlpKUnUzUkdk?=
 =?utf-8?B?MGNHT2Z3N1JyU21oYWpsNGd2K2plTlBQZ09NM3hnaE1YOXdvcGp2QW8wMkFm?=
 =?utf-8?B?Q1F0cWlSTmZSTUd2V01OYzN3c2NVQS9iWmJ5YUVKRUxsRkVoeFdCZHhKYlN1?=
 =?utf-8?B?TnFoSFYxb3B6eGY1dXVUaUNoTHRiVTZ5YjlwYzhDRkpzd0NuWEpkbGpMTlFB?=
 =?utf-8?B?SnRzZEtiSnZqN1l6SmpFajZScHZmL3VHQVBYcWtwRi92RjdpZlU1NWFKRGFa?=
 =?utf-8?B?eTRXRFBTdWllL1dES1hBY0c2Mk95M2ppeTZvTUNycGFTb0wwY3NiRi9KMC95?=
 =?utf-8?B?QlFWZ3hGMDQ0RXA5eEx4RFViNG1WTHBpaEVLODNuZFlFaERGcFgydU9FSis0?=
 =?utf-8?B?QVlJRmJGRTN5cGlKVDNzZjc4QXRPY1BXYVdHSENaSHEvMGttMHRRcXNtME1D?=
 =?utf-8?B?TkZFU0p1cGRGOFU0QTRBSm91L3hzZFY0YW5kZjR2emFTdDl2TVRIVEZQbmRr?=
 =?utf-8?B?RTJJY1ZQV0NrU05JTTR6OVZIV3JLZS9WUlpRL0JUOGxGaTNTQ29NZjhwWjFH?=
 =?utf-8?B?OXZ6ZWR1ZWpHUnE2K0hBeGdHNG5uVTNWNCtYdG9yODN5bnBkdUNXb3dCMzJZ?=
 =?utf-8?B?WTRyVW9ocTVOUGxXY2t0UFh6cmNJRjk2ci9vaGNzaWJPaVByd2VRWlNNTmV6?=
 =?utf-8?B?MHNrNUFKQ2dHQ3Vnckx1Z2Y0WXVwa2d2TFltZVRVRWNWRzB2RHllVWdPcDFX?=
 =?utf-8?B?V3RYejc3QzJLalFiYTIvaWxPS3h3clh3aUQwOGdSeXNoNk1DVENqcWZtaXJ0?=
 =?utf-8?B?amQydHh4UzltemIwZ2M1V2VvWTZ4ZG5qQUo1RTFRand5TklxYUx1cGRLQm5a?=
 =?utf-8?B?WHB6Y0ZuWTF0aE9ZYkNBQ1NaRWdtamlYUnpQaFl5alhKdENmdnlqK3l0WWxm?=
 =?utf-8?B?SFlLckNXMzZYNmhBblcyV1BEdVp0bkVUSk40YXR0OTFIZ2Fsak9oTWlXNFRz?=
 =?utf-8?B?bzlEVnNhQkY5ak14Vmdja0R3Ymdqc1lSN0ZzK1IwcXRYb3U2cHAxUEl5R25H?=
 =?utf-8?B?bzRkbWV2S1dvMlBuRFZhS2xNNlZpVEt0VG83ZTdDVTN4U2NMRGcvOGxwa2gz?=
 =?utf-8?B?RFJLUU5wVDNyYW5TRGZrR0owcjNHSzRyTWVCQUhrT2QzMU85VzhQOWkxbWpi?=
 =?utf-8?B?a2xkK1g4YnVBeHNLZHJZZz09?=
Content-ID: <3EF94962F5108D458FA31CD22FBF23B8@namprd12.prod.outlook.com>
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: DM6PR12MB4732.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 2e3f4180-6b93-4299-cb00-08d90e6348fe
X-MS-Exchange-CrossTenant-originalarrivaltime: 03 May 2021 18:43:03.7595 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: TRGMjh/pma8YPUtQXs3it/d+Z5rkWNC5qDdSN7OYHrp1S7deZ21PI6ISWlogFcQq
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM6PR12MB3164
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Kuehling, Felix" <Felix.Kuehling@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

SSBmZWVsIHN1Y2ggcGFyc2luZyB3b3JrIHNob3VsZCBiZSBwYXJ0IG9mIHRoZSBBQ1BJIGdlbmVy
aWMgd29yayBzbyBzaG91bGQgYmUgZG9uZSBpbiBkcml2ZXJzL2FjcGkvbnVtL3NyYXQuYyAoc2Vl
IGFjcGlfdGFibGVfcGFyc2Vfc3JhdCkgYW5kIHRoZSBhY3BpIHN1YnN5c3RlbSBzaG91bGQgZXhw
b3NlIEFQSXMgZm9yIHJlc3QgZHJpdmVycyB0byBxdWVyeSBzdWNoIG51bWEgaW5mb3JtYXRpb24u
DQoNClJlZ2FyZHMsDQpPYWsgDQoNCiANCg0K77u/T24gMjAyMS0wNC0yOCwgMTE6MTIgQU0sICJh
bWQtZ2Z4IG9uIGJlaGFsZiBvZiBFcmljIEh1YW5nIiA8YW1kLWdmeC1ib3VuY2VzQGxpc3RzLmZy
ZWVkZXNrdG9wLm9yZyBvbiBiZWhhbGYgb2YgSmluSHVpRXJpYy5IdWFuZ0BhbWQuY29tPiB3cm90
ZToNCg0KICAgIEluIE5QUzQgQklPUyB3ZSBuZWVkIHRvIGZpbmQgdGhlIGNsb3Nlc3QgbnVtYSBu
b2RlIHdoZW4gY3JlYXRpbmcNCiAgICB0b3BvbG9neSBpbyBsaW5rIGJldHdlZW4gY3B1IGFuZCBn
cHUsIGlmIFBDSSBkcml2ZXIgZG9lc24ndCBzZXQNCiAgICBpdC4NCg0KICAgIFNpZ25lZC1vZmYt
Ynk6IEVyaWMgSHVhbmcgPGppbmh1aWVyaWMuaHVhbmdAYW1kLmNvbT4NCiAgICAtLS0NCiAgICAg
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX2NyYXQuYyB8IDk0ICsrKysrKysrKysrKysr
KysrKysrKysrKysrLQ0KICAgICAxIGZpbGUgY2hhbmdlZCwgOTEgaW5zZXJ0aW9ucygrKSwgMyBk
ZWxldGlvbnMoLSkNCg0KICAgIGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtm
ZC9rZmRfY3JhdC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX2NyYXQuYw0KICAg
IGluZGV4IDM4ZDQ1NzExNjc1Zi4uNTc1MTgxMzZjN2Q3IDEwMDY0NA0KICAgIC0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9jcmF0LmMNCiAgICArKysgYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGtmZC9rZmRfY3JhdC5jDQogICAgQEAgLTE3NTksNiArMTc1OSw4NyBAQCBzdGF0
aWMgaW50IGtmZF9maWxsX2dwdV9tZW1vcnlfYWZmaW5pdHkoaW50ICphdmFpbF9zaXplLA0KICAg
ICAJcmV0dXJuIDA7DQogICAgIH0NCg0KICAgICsjaWZkZWYgQ09ORklHX0FDUEkNCiAgICArc3Rh
dGljIHZvaWQga2ZkX2ZpbmRfbnVtYV9ub2RlX2luX3NyYXQoc3RydWN0IGtmZF9kZXYgKmtkZXYs
DQogICAgKwkJaW50ICpudW1hX25vZGUpDQogICAgK3sNCiAgICArCXN0cnVjdCBhY3BpX3RhYmxl
X2hlYWRlciAqdGFibGVfaGVhZGVyID0gTlVMTDsNCiAgICArCXN0cnVjdCBhY3BpX3N1YnRhYmxl
X2hlYWRlciAqc3ViX2hlYWRlciA9IE5VTEw7DQogICAgKwl1bnNpZ25lZCBsb25nIHRhYmxlX2Vu
ZCwgc3VidGFibGVfbGVuOw0KICAgICsJdTMyIHBjaV9pZCA9IHBjaV9kb21haW5fbnIoa2Rldi0+
cGRldi0+YnVzKSA8PCAxNiB8DQogICAgKwkJCXBjaV9kZXZfaWQoa2Rldi0+cGRldik7DQogICAg
Kwl1MzIgYmRmOw0KICAgICsJYWNwaV9zdGF0dXMgc3RhdHVzOw0KICAgICsJc3RydWN0IGFjcGlf
c3JhdF9jcHVfYWZmaW5pdHkgKmNwdTsNCiAgICArCXN0cnVjdCBhY3BpX3NyYXRfZ2VuZXJpY19h
ZmZpbml0eSAqZ3B1Ow0KICAgICsJaW50IHB4bSA9IDAsIG1heF9weG0gPSAwOw0KICAgICsJYm9v
bCBmb3VuZCA9IGZhbHNlOw0KICAgICsNCiAgICArCS8qIEZldGNoIHRoZSBTUkFUIHRhYmxlIGZy
b20gQUNQSSAqLw0KICAgICsJc3RhdHVzID0gYWNwaV9nZXRfdGFibGUoQUNQSV9TSUdfU1JBVCwg
MCwgJnRhYmxlX2hlYWRlcik7DQogICAgKwlpZiAoc3RhdHVzID09IEFFX05PVF9GT1VORCkgew0K
ICAgICsJCXByX3dhcm4oIlNSQVQgdGFibGUgbm90IGZvdW5kXG4iKTsNCiAgICArCQlyZXR1cm47
DQogICAgKwl9IGVsc2UgaWYgKEFDUElfRkFJTFVSRShzdGF0dXMpKSB7DQogICAgKwkJY29uc3Qg
Y2hhciAqZXJyID0gYWNwaV9mb3JtYXRfZXhjZXB0aW9uKHN0YXR1cyk7DQogICAgKwkJcHJfZXJy
KCJTUkFUIHRhYmxlIGVycm9yOiAlc1xuIiwgZXJyKTsNCiAgICArCQlyZXR1cm47DQogICAgKwl9
DQogICAgKw0KICAgICsJdGFibGVfZW5kID0gKHVuc2lnbmVkIGxvbmcpdGFibGVfaGVhZGVyICsg
dGFibGVfaGVhZGVyLT5sZW5ndGg7DQogICAgKw0KICAgICsJLyogUGFyc2UgYWxsIGVudHJpZXMg
bG9va2luZyBmb3IgYSBtYXRjaC4gKi8NCiAgICArDQogICAgKwlzdWJfaGVhZGVyID0gKHN0cnVj
dCBhY3BpX3N1YnRhYmxlX2hlYWRlciAqKQ0KICAgICsJCQkoKHVuc2lnbmVkIGxvbmcpdGFibGVf
aGVhZGVyICsNCiAgICArCQkJc2l6ZW9mKHN0cnVjdCBhY3BpX3RhYmxlX3NyYXQpKTsNCiAgICAr
CXN1YnRhYmxlX2xlbiA9IHN1Yl9oZWFkZXItPmxlbmd0aDsNCiAgICArDQogICAgKwl3aGlsZSAo
KCh1bnNpZ25lZCBsb25nKXN1Yl9oZWFkZXIpICsgc3VidGFibGVfbGVuICA8IHRhYmxlX2VuZCkg
ew0KICAgICsJCS8qDQogICAgKwkJICogSWYgbGVuZ3RoIGlzIDAsIGJyZWFrIGZyb20gdGhpcyBs
b29wIHRvIGF2b2lkDQogICAgKwkJICogaW5maW5pdGUgbG9vcC4NCiAgICArCQkgKi8NCiAgICAr
CQlpZiAoc3VidGFibGVfbGVuID09IDApIHsNCiAgICArCQkJcHJfZXJyKCJTUkFUIGludmFsaWQg
emVybyBsZW5ndGhcbiIpOw0KICAgICsJCQlicmVhazsNCiAgICArCQl9DQogICAgKw0KICAgICsJ
CXN3aXRjaCAoc3ViX2hlYWRlci0+dHlwZSkgew0KICAgICsJCWNhc2UgQUNQSV9TUkFUX1RZUEVf
Q1BVX0FGRklOSVRZOg0KICAgICsJCQljcHUgPSAoc3RydWN0IGFjcGlfc3JhdF9jcHVfYWZmaW5p
dHkgKilzdWJfaGVhZGVyOw0KICAgICsJCQlweG0gPSAqKCh1MzIgKiljcHUtPnByb3hpbWl0eV9k
b21haW5faGkpIDw8IDggfA0KICAgICsJCQkJCWNwdS0+cHJveGltaXR5X2RvbWFpbl9sbzsNCiAg
ICArCQkJaWYgKHB4bSA+IG1heF9weG0pDQogICAgKwkJCQltYXhfcHhtID0gcHhtOw0KICAgICsJ
CQlicmVhazsNCiAgICArCQljYXNlIEFDUElfU1JBVF9UWVBFX0dFTkVSSUNfQUZGSU5JVFk6DQog
ICAgKwkJCWdwdSA9IChzdHJ1Y3QgYWNwaV9zcmF0X2dlbmVyaWNfYWZmaW5pdHkgKilzdWJfaGVh
ZGVyOw0KICAgICsJCQliZGYgPSAqKCh1MTYgKikoJmdwdS0+ZGV2aWNlX2hhbmRsZVswXSkpIDw8
IDE2IHwNCiAgICArCQkJCQkqKCh1MTYgKikoJmdwdS0+ZGV2aWNlX2hhbmRsZVsyXSkpOw0KICAg
ICsJCQlpZiAoYmRmID09IHBjaV9pZCkgew0KICAgICsJCQkJZm91bmQgPSB0cnVlOw0KICAgICsJ
CQkJKm51bWFfbm9kZSA9IHB4bV90b19ub2RlKGdwdS0+cHJveGltaXR5X2RvbWFpbik7DQogICAg
KwkJCX0NCiAgICArCQkJYnJlYWs7DQogICAgKwkJZGVmYXVsdDoNCiAgICArCQkJYnJlYWs7DQog
ICAgKwkJfQ0KICAgICsNCiAgICArCQlpZiAoZm91bmQpDQogICAgKwkJCWJyZWFrOw0KICAgICsN
CiAgICArCQlzdWJfaGVhZGVyID0gKHN0cnVjdCBhY3BpX3N1YnRhYmxlX2hlYWRlciAqKQ0KICAg
ICsJCQkJKCh1bnNpZ25lZCBsb25nKXN1Yl9oZWFkZXIgKyBzdWJ0YWJsZV9sZW4pOw0KICAgICsJ
CXN1YnRhYmxlX2xlbiA9IHN1Yl9oZWFkZXItPmxlbmd0aDsNCiAgICArCX0NCiAgICArDQogICAg
KwkvKiB3b3JrYXJvdW5kIGJhZCBjcHUtZ3B1IGJpbmRpbmcgY2FzZSAqLw0KICAgICsJaWYgKGZv
dW5kICYmICgqbnVtYV9ub2RlIDwgMCB8fCAqbnVtYV9ub2RlID4gbWF4X3B4bSkpDQogICAgKwkJ
Km51bWFfbm9kZSA9IDA7DQogICAgK30NCiAgICArI2VuZGlmDQogICAgKw0KICAgICAvKiBrZmRf
ZmlsbF9ncHVfZGlyZWN0X2lvX2xpbmsgLSBGaWxsIGluIGRpcmVjdCBpbyBsaW5rIGZyb20gR1BV
DQogICAgICAqIHRvIGl0cyBOVU1BIG5vZGUNCiAgICAgICoJQGF2YWlsX3NpemU6IEF2YWlsYWJs
ZSBzaXplIGluIHRoZSBtZW1vcnkNCiAgICBAQCAtMTc3NCw2ICsxODU1LDkgQEAgc3RhdGljIGlu
dCBrZmRfZmlsbF9ncHVfZGlyZWN0X2lvX2xpbmtfdG9fY3B1KGludCAqYXZhaWxfc2l6ZSwNCiAg
ICAgCQkJdWludDMyX3QgcHJveGltaXR5X2RvbWFpbikNCiAgICAgew0KICAgICAJc3RydWN0IGFt
ZGdwdV9kZXZpY2UgKmFkZXYgPSAoc3RydWN0IGFtZGdwdV9kZXZpY2UgKilrZGV2LT5rZ2Q7DQog
ICAgKyNpZmRlZiBDT05GSUdfTlVNQQ0KICAgICsJaW50IG51bWFfbm9kZSA9IDA7DQogICAgKyNl
bmRpZg0KDQogICAgIAkqYXZhaWxfc2l6ZSAtPSBzaXplb2Yoc3RydWN0IGNyYXRfc3VidHlwZV9p
b2xpbmspOw0KICAgICAJaWYgKCphdmFpbF9zaXplIDwgMCkNCiAgICBAQCAtMTgwNSw5ICsxODg5
LDEzIEBAIHN0YXRpYyBpbnQga2ZkX2ZpbGxfZ3B1X2RpcmVjdF9pb19saW5rX3RvX2NwdShpbnQg
KmF2YWlsX3NpemUsDQoNCiAgICAgCXN1Yl90eXBlX2hkci0+cHJveGltaXR5X2RvbWFpbl9mcm9t
ID0gcHJveGltaXR5X2RvbWFpbjsNCiAgICAgI2lmZGVmIENPTkZJR19OVU1BDQogICAgLQlpZiAo
a2Rldi0+cGRldi0+ZGV2Lm51bWFfbm9kZSA9PSBOVU1BX05PX05PREUpDQogICAgLQkJc3ViX3R5
cGVfaGRyLT5wcm94aW1pdHlfZG9tYWluX3RvID0gMDsNCiAgICAtCWVsc2UNCiAgICArCWlmIChr
ZGV2LT5wZGV2LT5kZXYubnVtYV9ub2RlID09IE5VTUFfTk9fTk9ERSkgew0KICAgICsjaWZkZWYg
Q09ORklHX0FDUEkNCiAgICArCQlrZmRfZmluZF9udW1hX25vZGVfaW5fc3JhdChrZGV2LCAmbnVt
YV9ub2RlKTsNCiAgICArI2VuZGlmDQogICAgKwkJc3ViX3R5cGVfaGRyLT5wcm94aW1pdHlfZG9t
YWluX3RvID0gbnVtYV9ub2RlOw0KICAgICsJCXNldF9kZXZfbm9kZSgma2Rldi0+cGRldi0+ZGV2
LCBudW1hX25vZGUpOw0KICAgICsJfSBlbHNlDQogICAgIAkJc3ViX3R5cGVfaGRyLT5wcm94aW1p
dHlfZG9tYWluX3RvID0ga2Rldi0+cGRldi0+ZGV2Lm51bWFfbm9kZTsNCiAgICAgI2Vsc2UNCiAg
ICAgCXN1Yl90eXBlX2hkci0+cHJveGltaXR5X2RvbWFpbl90byA9IDA7DQogICAgLS0gDQogICAg
Mi4xNy4xDQoNCiAgICBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXw0KICAgIGFtZC1nZnggbWFpbGluZyBsaXN0DQogICAgYW1kLWdmeEBsaXN0cy5mcmVlZGVz
a3RvcC5vcmcNCiAgICBodHRwczovL25hbTExLnNhZmVsaW5rcy5wcm90ZWN0aW9uLm91dGxvb2su
Y29tLz91cmw9aHR0cHMlM0ElMkYlMkZsaXN0cy5mcmVlZGVza3RvcC5vcmclMkZtYWlsbWFuJTJG
bGlzdGluZm8lMkZhbWQtZ2Z4JmFtcDtkYXRhPTA0JTdDMDElN0NvYWsuemVuZyU0MGFtZC5jb20l
N0M5NjgwOGE2YWFiN2I0MDg2MWVlYjA4ZDkwYTU4MDUyNCU3QzNkZDg5NjFmZTQ4ODRlNjA4ZTEx
YTgyZDk5NGUxODNkJTdDMCU3QzAlN0M2Mzc1NTIxOTU0MzcxMzkyNDglN0NVbmtub3duJTdDVFdG
cGJHWnNiM2Q4ZXlKV0lqb2lNQzR3TGpBd01EQWlMQ0pRSWpvaVYybHVNeklpTENKQlRpSTZJazFo
YVd3aUxDSlhWQ0k2TW4wJTNEJTdDMTAwMCZhbXA7c2RhdGE9dng5d3FBZWhLN3pVSnkybVZBcDlL
T1YzdTRaTnZFJTJCbURHZkdHSyUyRjhjaFUlM0QmYW1wO3Jlc2VydmVkPTANCg0KX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxp
c3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3Rv
cC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4Cg==
