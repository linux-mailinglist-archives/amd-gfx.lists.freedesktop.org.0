Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id E3DBC10D202
	for <lists+amd-gfx@lfdr.de>; Fri, 29 Nov 2019 08:47:14 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 63A296E893;
	Fri, 29 Nov 2019 07:47:13 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM05-DM3-obe.outbound.protection.outlook.com
 (mail-dm3nam05on061b.outbound.protection.outlook.com
 [IPv6:2a01:111:f400:fe51::61b])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0D4636E893
 for <amd-gfx@lists.freedesktop.org>; Fri, 29 Nov 2019 07:47:12 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=IAQZ7D9XYI13+echP6Iwo8SMavkjB7hfJtmupze71f/NvZVX132xiYQzrp9Ph/uodIROXr/vl1Mth9HiI5k/fnBZtDBg4cKkWwVLvPE4D+eocs0Xg19p0LaCFN7x75XDXo7/7OcIpTtHvaifcov3SaglqYCgL9daxN0c4GzT3185BDCzVFOzLsAYs2qAzIHdLE8rbJxZpsH3R0LhBNTesU3G2VBhqu/h+3Dg0GbTkhjW/ZzAqvFlVtVUa9m+t1En54PB2tt/yo2j8rO3cePvnukEmPNq8RO798k0sr2ZjAnieafPrm8PR8dYUX3rxppEcjpEx7etjXo1bSKexWK/zQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=fk6FOBE5orQLP5ZhUFuHx3a20A6Z2R1QgRfVZtZvwGw=;
 b=F5QxndSv3I702KyC8NLCtdF6bLYe7HE6POWVrjF9Us4xIAUMyQajxsSRgTA8YO2PRQZYdpZykbCiKOX127zJoC9AEk+qB2j7NQfVyMer1TFajym9kVXWUc8TrpJpnmynWwJTouCMjvNd2HuLv9oNT6ib8hivuHkZoZKKoLK4aOgKqGCf9xYV526PkNfx4AILOPzB14EBae1RaQ2nbR1VMQPJD4ePg13DNs3QfEIDGlcw6/E8ajKQkTuBPxzg1Cju+sJfztbsqLjni3s4vp7+U57tcwuISsMGy/Vsp/qNhBNjJP1tnE/3JTcxW5dD0ZgrlhZi5K5OUlDErN5UAj6dzQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from MN2PR12MB3933.namprd12.prod.outlook.com (10.255.236.82) by
 MN2PR12MB4333.namprd12.prod.outlook.com (52.135.48.151) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2495.20; Fri, 29 Nov 2019 07:47:10 +0000
Received: from MN2PR12MB3933.namprd12.prod.outlook.com
 ([fe80::411d:b54b:4cfe:ee5]) by MN2PR12MB3933.namprd12.prod.outlook.com
 ([fe80::411d:b54b:4cfe:ee5%3]) with mapi id 15.20.2474.023; Fri, 29 Nov 2019
 07:47:10 +0000
From: "Liu, Monk" <Monk.Liu@amd.com>
To: "Liu, Monk" <Monk.Liu@amd.com>, "amd-gfx@lists.freedesktop.org"
 <amd-gfx@lists.freedesktop.org>, "Zhang, Hawking" <Hawking.Zhang@amd.com>,
 "Deucher, Alexander" <Alexander.Deucher@amd.com>
Subject: RE: [PATCH 2/5] drm/amdgpu: skip rlc ucode loading for SRIOV gfx10
Thread-Topic: [PATCH 2/5] drm/amdgpu: skip rlc ucode loading for SRIOV gfx10
Thread-Index: AQHVpE+3oruwqDWHKUWl3Ftq8j8VI6ef3GWQgAHtSoA=
Date: Fri, 29 Nov 2019 07:47:10 +0000
Message-ID: <MN2PR12MB39335581E9E7369489229A2E84460@MN2PR12MB3933.namprd12.prod.outlook.com>
References: <1574769024-30611-1-git-send-email-Monk.Liu@amd.com>
 <1574769024-30611-2-git-send-email-Monk.Liu@amd.com>
 <MN2PR12MB3933CA4DA1FA95255FB3A37884470@MN2PR12MB3933.namprd12.prod.outlook.com>
In-Reply-To: <MN2PR12MB3933CA4DA1FA95255FB3A37884470@MN2PR12MB3933.namprd12.prod.outlook.com>
Accept-Language: en-US, zh-CN
Content-Language: en-US
X-Mentions: Hawking.Zhang@amd.com,Alexander.Deucher@amd.com
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-ht: Tenant
x-ms-office365-filtering-correlation-id: 027ffbb2-fec5-484f-fb24-08d774a05757
x-ms-traffictypediagnostic: MN2PR12MB4333:|MN2PR12MB4333:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <MN2PR12MB4333F3993C23986D4088C1A384460@MN2PR12MB4333.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:118;
x-forefront-prvs: 0236114672
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(39860400002)(366004)(396003)(136003)(376002)(346002)(13464003)(199004)(189003)(7736002)(66066001)(8936002)(6306002)(9686003)(99286004)(25786009)(6636002)(81156014)(53546011)(81166006)(86362001)(6506007)(229853002)(14444005)(6246003)(256004)(55016002)(6436002)(5660300002)(71200400001)(2501003)(3846002)(11346002)(74316002)(66476007)(64756008)(6116002)(66946007)(2906002)(66446008)(33656002)(8676002)(446003)(76116006)(66556008)(305945005)(26005)(14454004)(45080400002)(478600001)(186003)(316002)(76176011)(52536014)(7696005)(110136005)(71190400001)(102836004)(966005);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MN2PR12MB4333;
 H:MN2PR12MB3933.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: HEVv/0vJ969IFXVsheDBDkp09FPQzZd5JYRiYy7jwA7x9U/z7SGOvUjtmmH1UNkN5DQcY3chwnPY4uzLe/Dqh6QsOaLjll9RzBn5D9pymCnoD18myj6/7iTzSZwz2+k8iIf1zbQi5NfBXH4QAY73WremyRNftxXEm9pHZiaUHHdFQtYg6fO2Mfv/HXhpUlg3VaGRcZR91xVt2gY+kQoMG32sUnCj7mkM4pBO1OxUatOpTIPV9987ojCuiqigSAOjWsRgrOEwHzJFpQtrnaAqp4niQuO6Yt9rSJzw3LbBAnLGXkfUdo9jbrK3gfmmX64Catzk1PlOLFxmP+7YQaZIGRFQkHtKs1zODnk45HwVqXNj07J24M0xIea5V99mm84TdBIXOLNrt3cPuDDopOqx1o2jRrsHybsS/Uy3sNChrrJq6c21s0raHJnneSbsmYN6KppImytL1zB7O7Zzg2vwf4SlElaHL5kr1rtkxt1Zz3c=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 027ffbb2-fec5-484f-fb24-08d774a05757
X-MS-Exchange-CrossTenant-originalarrivaltime: 29 Nov 2019 07:47:10.4178 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: MepYstVyvkLemMEwMI4RpixF6ViLlqeG5WhTf8BBvZ217iVc/+Yxnbi+ZVt0V/Af
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB4333
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=fk6FOBE5orQLP5ZhUFuHx3a20A6Z2R1QgRfVZtZvwGw=;
 b=bINwtGZkBrQljD/zcp2z8B+XXA/yduMElKY2jwWq6zwTGxLemjBosY807N848isFlerqFcIBd8iwZHW34bPXYn2nrMXYDK+9fpAQ2H2Te4etZqONs7lEA84rqpQ7LrVQypblzju3aGVWCL62YgGODrzMcrkaLhq5A9f20NHwlog=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Monk.Liu@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

QFpoYW5nLCBIYXdraW5nIEBEZXVjaGVyLCBBbGV4YW5kZXINCkNhbiB5b3UgaGVscCB0byByZXZp
ZXcgaXQgZm9yIG1lDQoNCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18NCk1v
bmsgTGl1fEdQVSBWaXJ0dWFsaXphdGlvbiBUZWFtIHxBTUQNCg0KDQotLS0tLU9yaWdpbmFsIE1l
c3NhZ2UtLS0tLQ0KRnJvbTogYW1kLWdmeCA8YW1kLWdmeC1ib3VuY2VzQGxpc3RzLmZyZWVkZXNr
dG9wLm9yZz4gT24gQmVoYWxmIE9mIExpdSwgTW9uaw0KU2VudDogVGh1cnNkYXksIE5vdmVtYmVy
IDI4LCAyMDE5IDEwOjIxIEFNDQpUbzogYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcNClN1
YmplY3Q6IFJFOiBbUEFUQ0ggMi81XSBkcm0vYW1kZ3B1OiBza2lwIHJsYyB1Y29kZSBsb2FkaW5n
IGZvciBTUklPViBnZngxMA0KDQoNCg0KX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXw0KTW9uayBMaXV8R1BVIFZpcnR1YWxpemF0aW9uIFRlYW0gfEFNRA0KDQoNCi0tLS0tT3Jp
Z2luYWwgTWVzc2FnZS0tLS0tDQpGcm9tOiBNb25rIExpdSA8TW9uay5MaXVAYW1kLmNvbT4gDQpT
ZW50OiBUdWVzZGF5LCBOb3ZlbWJlciAyNiwgMjAxOSA3OjUwIFBNDQpUbzogYW1kLWdmeEBsaXN0
cy5mcmVlZGVza3RvcC5vcmcNCkNjOiBMaXUsIE1vbmsgPE1vbmsuTGl1QGFtZC5jb20+DQpTdWJq
ZWN0OiBbUEFUQ0ggMi81XSBkcm0vYW1kZ3B1OiBza2lwIHJsYyB1Y29kZSBsb2FkaW5nIGZvciBT
UklPViBnZngxMA0KDQpTaWduZWQtb2ZmLWJ5OiBNb25rIExpdSA8TW9uay5MaXVAYW1kLmNvbT4N
Ci0tLQ0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92MTBfMC5jIHwgODAgKysrKysr
KysrKysrKysrKystLS0tLS0tLS0tLS0tLS0tLQ0KIDEgZmlsZSBjaGFuZ2VkLCA0MSBpbnNlcnRp
b25zKCspLCAzOSBkZWxldGlvbnMoLSkNCg0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2dmeF92MTBfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3Yx
MF8wLmMNCmluZGV4IDg3OWMwYTEuLmE1NmNiYTkgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9nZnhfdjEwXzAuYw0KKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvZ2Z4X3YxMF8wLmMNCkBAIC02OTEsNTkgKzY5MSw2MSBAQCBzdGF0aWMgaW50IGdmeF92MTBf
MF9pbml0X21pY3JvY29kZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCiAJYWRldi0+Z2Z4
LmNlX2Z3X3ZlcnNpb24gPSBsZTMyX3RvX2NwdShjcF9oZHItPmhlYWRlci51Y29kZV92ZXJzaW9u
KTsNCiAJYWRldi0+Z2Z4LmNlX2ZlYXR1cmVfdmVyc2lvbiA9IGxlMzJfdG9fY3B1KGNwX2hkci0+
dWNvZGVfZmVhdHVyZV92ZXJzaW9uKTsNCiANCi0Jc25wcmludGYoZndfbmFtZSwgc2l6ZW9mKGZ3
X25hbWUpLCAiYW1kZ3B1LyVzX3JsYy5iaW4iLCBjaGlwX25hbWUpOw0KLQllcnIgPSByZXF1ZXN0
X2Zpcm13YXJlKCZhZGV2LT5nZngucmxjX2Z3LCBmd19uYW1lLCBhZGV2LT5kZXYpOw0KLQlpZiAo
ZXJyKQ0KLQkJZ290byBvdXQ7DQotCWVyciA9IGFtZGdwdV91Y29kZV92YWxpZGF0ZShhZGV2LT5n
ZngucmxjX2Z3KTsNCi0JcmxjX2hkciA9IChjb25zdCBzdHJ1Y3QgcmxjX2Zpcm13YXJlX2hlYWRl
cl92Ml8wICopYWRldi0+Z2Z4LnJsY19mdy0+ZGF0YTsNCi0JdmVyc2lvbl9tYWpvciA9IGxlMTZf
dG9fY3B1KHJsY19oZHItPmhlYWRlci5oZWFkZXJfdmVyc2lvbl9tYWpvcik7DQotCXZlcnNpb25f
bWlub3IgPSBsZTE2X3RvX2NwdShybGNfaGRyLT5oZWFkZXIuaGVhZGVyX3ZlcnNpb25fbWlub3Ip
Ow0KLQlpZiAodmVyc2lvbl9tYWpvciA9PSAyICYmIHZlcnNpb25fbWlub3IgPT0gMSkNCi0JCWFk
ZXYtPmdmeC5ybGMuaXNfcmxjX3YyXzEgPSB0cnVlOw0KLQ0KLQlhZGV2LT5nZngucmxjX2Z3X3Zl
cnNpb24gPSBsZTMyX3RvX2NwdShybGNfaGRyLT5oZWFkZXIudWNvZGVfdmVyc2lvbik7DQotCWFk
ZXYtPmdmeC5ybGNfZmVhdHVyZV92ZXJzaW9uID0gbGUzMl90b19jcHUocmxjX2hkci0+dWNvZGVf
ZmVhdHVyZV92ZXJzaW9uKTsNCi0JYWRldi0+Z2Z4LnJsYy5zYXZlX2FuZF9yZXN0b3JlX29mZnNl
dCA9DQorCWlmICghYW1kZ3B1X3NyaW92X3ZmKGFkZXYpKSB7DQorCQlzbnByaW50Zihmd19uYW1l
LCBzaXplb2YoZndfbmFtZSksICJhbWRncHUvJXNfcmxjLmJpbiIsIGNoaXBfbmFtZSk7DQorCQll
cnIgPSByZXF1ZXN0X2Zpcm13YXJlKCZhZGV2LT5nZngucmxjX2Z3LCBmd19uYW1lLCBhZGV2LT5k
ZXYpOw0KKwkJaWYgKGVycikNCisJCQlnb3RvIG91dDsNCisJCWVyciA9IGFtZGdwdV91Y29kZV92
YWxpZGF0ZShhZGV2LT5nZngucmxjX2Z3KTsNCisJCXJsY19oZHIgPSAoY29uc3Qgc3RydWN0IHJs
Y19maXJtd2FyZV9oZWFkZXJfdjJfMCAqKWFkZXYtPmdmeC5ybGNfZnctPmRhdGE7DQorCQl2ZXJz
aW9uX21ham9yID0gbGUxNl90b19jcHUocmxjX2hkci0+aGVhZGVyLmhlYWRlcl92ZXJzaW9uX21h
am9yKTsNCisJCXZlcnNpb25fbWlub3IgPSBsZTE2X3RvX2NwdShybGNfaGRyLT5oZWFkZXIuaGVh
ZGVyX3ZlcnNpb25fbWlub3IpOw0KKwkJaWYgKHZlcnNpb25fbWFqb3IgPT0gMiAmJiB2ZXJzaW9u
X21pbm9yID09IDEpDQorCQkJYWRldi0+Z2Z4LnJsYy5pc19ybGNfdjJfMSA9IHRydWU7DQorDQor
CQlhZGV2LT5nZngucmxjX2Z3X3ZlcnNpb24gPSBsZTMyX3RvX2NwdShybGNfaGRyLT5oZWFkZXIu
dWNvZGVfdmVyc2lvbik7DQorCQlhZGV2LT5nZngucmxjX2ZlYXR1cmVfdmVyc2lvbiA9IGxlMzJf
dG9fY3B1KHJsY19oZHItPnVjb2RlX2ZlYXR1cmVfdmVyc2lvbik7DQorCQlhZGV2LT5nZngucmxj
LnNhdmVfYW5kX3Jlc3RvcmVfb2Zmc2V0ID0NCiAJCQlsZTMyX3RvX2NwdShybGNfaGRyLT5zYXZl
X2FuZF9yZXN0b3JlX29mZnNldCk7DQotCWFkZXYtPmdmeC5ybGMuY2xlYXJfc3RhdGVfZGVzY3Jp
cHRvcl9vZmZzZXQgPQ0KKwkJYWRldi0+Z2Z4LnJsYy5jbGVhcl9zdGF0ZV9kZXNjcmlwdG9yX29m
ZnNldCA9DQogCQkJbGUzMl90b19jcHUocmxjX2hkci0+Y2xlYXJfc3RhdGVfZGVzY3JpcHRvcl9v
ZmZzZXQpOw0KLQlhZGV2LT5nZngucmxjLmF2YWlsX3NjcmF0Y2hfcmFtX2xvY2F0aW9ucyA9DQor
CQlhZGV2LT5nZngucmxjLmF2YWlsX3NjcmF0Y2hfcmFtX2xvY2F0aW9ucyA9DQogCQkJbGUzMl90
b19jcHUocmxjX2hkci0+YXZhaWxfc2NyYXRjaF9yYW1fbG9jYXRpb25zKTsNCi0JYWRldi0+Z2Z4
LnJsYy5yZWdfcmVzdG9yZV9saXN0X3NpemUgPQ0KKwkJYWRldi0+Z2Z4LnJsYy5yZWdfcmVzdG9y
ZV9saXN0X3NpemUgPQ0KIAkJCWxlMzJfdG9fY3B1KHJsY19oZHItPnJlZ19yZXN0b3JlX2xpc3Rf
c2l6ZSk7DQotCWFkZXYtPmdmeC5ybGMucmVnX2xpc3RfZm9ybWF0X3N0YXJ0ID0NCisJCWFkZXYt
PmdmeC5ybGMucmVnX2xpc3RfZm9ybWF0X3N0YXJ0ID0NCiAJCQlsZTMyX3RvX2NwdShybGNfaGRy
LT5yZWdfbGlzdF9mb3JtYXRfc3RhcnQpOw0KLQlhZGV2LT5nZngucmxjLnJlZ19saXN0X2Zvcm1h
dF9zZXBhcmF0ZV9zdGFydCA9DQorCQlhZGV2LT5nZngucmxjLnJlZ19saXN0X2Zvcm1hdF9zZXBh
cmF0ZV9zdGFydCA9DQogCQkJbGUzMl90b19jcHUocmxjX2hkci0+cmVnX2xpc3RfZm9ybWF0X3Nl
cGFyYXRlX3N0YXJ0KTsNCi0JYWRldi0+Z2Z4LnJsYy5zdGFydGluZ19vZmZzZXRzX3N0YXJ0ID0N
CisJCWFkZXYtPmdmeC5ybGMuc3RhcnRpbmdfb2Zmc2V0c19zdGFydCA9DQogCQkJbGUzMl90b19j
cHUocmxjX2hkci0+c3RhcnRpbmdfb2Zmc2V0c19zdGFydCk7DQotCWFkZXYtPmdmeC5ybGMucmVn
X2xpc3RfZm9ybWF0X3NpemVfYnl0ZXMgPQ0KKwkJYWRldi0+Z2Z4LnJsYy5yZWdfbGlzdF9mb3Jt
YXRfc2l6ZV9ieXRlcyA9DQogCQkJbGUzMl90b19jcHUocmxjX2hkci0+cmVnX2xpc3RfZm9ybWF0
X3NpemVfYnl0ZXMpOw0KLQlhZGV2LT5nZngucmxjLnJlZ19saXN0X3NpemVfYnl0ZXMgPQ0KKwkJ
YWRldi0+Z2Z4LnJsYy5yZWdfbGlzdF9zaXplX2J5dGVzID0NCiAJCQlsZTMyX3RvX2NwdShybGNf
aGRyLT5yZWdfbGlzdF9zaXplX2J5dGVzKTsNCi0JYWRldi0+Z2Z4LnJsYy5yZWdpc3Rlcl9saXN0
X2Zvcm1hdCA9DQorCQlhZGV2LT5nZngucmxjLnJlZ2lzdGVyX2xpc3RfZm9ybWF0ID0NCiAJCQlr
bWFsbG9jKGFkZXYtPmdmeC5ybGMucmVnX2xpc3RfZm9ybWF0X3NpemVfYnl0ZXMgKw0KLQkJCQlh
ZGV2LT5nZngucmxjLnJlZ19saXN0X3NpemVfYnl0ZXMsIEdGUF9LRVJORUwpOw0KLQlpZiAoIWFk
ZXYtPmdmeC5ybGMucmVnaXN0ZXJfbGlzdF9mb3JtYXQpIHsNCi0JCWVyciA9IC1FTk9NRU07DQot
CQlnb3RvIG91dDsNCi0JfQ0KKwkJCQkJYWRldi0+Z2Z4LnJsYy5yZWdfbGlzdF9zaXplX2J5dGVz
LCBHRlBfS0VSTkVMKTsNCisJCWlmICghYWRldi0+Z2Z4LnJsYy5yZWdpc3Rlcl9saXN0X2Zvcm1h
dCkgew0KKwkJCWVyciA9IC1FTk9NRU07DQorCQkJZ290byBvdXQ7DQorCQl9DQogDQotCXRtcCA9
ICh1bnNpZ25lZCBpbnQgKikoKHVpbnRwdHJfdClybGNfaGRyICsNCi0JCQlsZTMyX3RvX2NwdShy
bGNfaGRyLT5yZWdfbGlzdF9mb3JtYXRfYXJyYXlfb2Zmc2V0X2J5dGVzKSk7DQotCWZvciAoaSA9
IDAgOyBpIDwgKHJsY19oZHItPnJlZ19saXN0X2Zvcm1hdF9zaXplX2J5dGVzID4+IDIpOyBpKysp
DQotCQlhZGV2LT5nZngucmxjLnJlZ2lzdGVyX2xpc3RfZm9ybWF0W2ldID0JbGUzMl90b19jcHUo
dG1wW2ldKTsNCisJCXRtcCA9ICh1bnNpZ25lZCBpbnQgKikoKHVpbnRwdHJfdClybGNfaGRyICsN
CisJCQkJCQkJICAgbGUzMl90b19jcHUocmxjX2hkci0+cmVnX2xpc3RfZm9ybWF0X2FycmF5X29m
ZnNldF9ieXRlcykpOw0KKwkJZm9yIChpID0gMCA7IGkgPCAocmxjX2hkci0+cmVnX2xpc3RfZm9y
bWF0X3NpemVfYnl0ZXMgPj4gMik7IGkrKykNCisJCQlhZGV2LT5nZngucmxjLnJlZ2lzdGVyX2xp
c3RfZm9ybWF0W2ldID0JbGUzMl90b19jcHUodG1wW2ldKTsNCiANCi0JYWRldi0+Z2Z4LnJsYy5y
ZWdpc3Rlcl9yZXN0b3JlID0gYWRldi0+Z2Z4LnJsYy5yZWdpc3Rlcl9saXN0X2Zvcm1hdCArIGk7
DQorCQlhZGV2LT5nZngucmxjLnJlZ2lzdGVyX3Jlc3RvcmUgPSBhZGV2LT5nZngucmxjLnJlZ2lz
dGVyX2xpc3RfZm9ybWF0ICsgaTsNCiANCi0JdG1wID0gKHVuc2lnbmVkIGludCAqKSgodWludHB0
cl90KXJsY19oZHIgKw0KLQkJCWxlMzJfdG9fY3B1KHJsY19oZHItPnJlZ19saXN0X2FycmF5X29m
ZnNldF9ieXRlcykpOw0KLQlmb3IgKGkgPSAwIDsgaSA8IChybGNfaGRyLT5yZWdfbGlzdF9zaXpl
X2J5dGVzID4+IDIpOyBpKyspDQotCQlhZGV2LT5nZngucmxjLnJlZ2lzdGVyX3Jlc3RvcmVbaV0g
PSBsZTMyX3RvX2NwdSh0bXBbaV0pOw0KKwkJdG1wID0gKHVuc2lnbmVkIGludCAqKSgodWludHB0
cl90KXJsY19oZHIgKw0KKwkJCQkJCQkgICBsZTMyX3RvX2NwdShybGNfaGRyLT5yZWdfbGlzdF9h
cnJheV9vZmZzZXRfYnl0ZXMpKTsNCisJCWZvciAoaSA9IDAgOyBpIDwgKHJsY19oZHItPnJlZ19s
aXN0X3NpemVfYnl0ZXMgPj4gMik7IGkrKykNCisJCQlhZGV2LT5nZngucmxjLnJlZ2lzdGVyX3Jl
c3RvcmVbaV0gPSBsZTMyX3RvX2NwdSh0bXBbaV0pOw0KIA0KLQlpZiAoYWRldi0+Z2Z4LnJsYy5p
c19ybGNfdjJfMSkNCi0JCWdmeF92MTBfMF9pbml0X3JsY19leHRfbWljcm9jb2RlKGFkZXYpOw0K
KwkJaWYgKGFkZXYtPmdmeC5ybGMuaXNfcmxjX3YyXzEpDQorCQkJZ2Z4X3YxMF8wX2luaXRfcmxj
X2V4dF9taWNyb2NvZGUoYWRldik7DQorCX0NCiANCiAJc25wcmludGYoZndfbmFtZSwgc2l6ZW9m
KGZ3X25hbWUpLCAiYW1kZ3B1LyVzX21lYyVzLmJpbiIsIGNoaXBfbmFtZSwgd2tzKTsNCiAJZXJy
ID0gcmVxdWVzdF9maXJtd2FyZSgmYWRldi0+Z2Z4Lm1lY19mdywgZndfbmFtZSwgYWRldi0+ZGV2
KTsNCi0tIA0KMi43LjQNCg0KX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX18NCmFtZC1nZnggbWFpbGluZyBsaXN0DQphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9w
Lm9yZw0KaHR0cHM6Ly9uYW0xMS5zYWZlbGlua3MucHJvdGVjdGlvbi5vdXRsb29rLmNvbS8/dXJs
PWh0dHBzJTNBJTJGJTJGbGlzdHMuZnJlZWRlc2t0b3Aub3JnJTJGbWFpbG1hbiUyRmxpc3RpbmZv
JTJGYW1kLWdmeCZhbXA7ZGF0YT0wMiU3QzAxJTdDbW9uay5saXUlNDBhbWQuY29tJTdDMDkzYWMz
NDc3OGNiNDZiNzA2MzMwOGQ3NzNhOWFiYzAlN0MzZGQ4OTYxZmU0ODg0ZTYwOGUxMWE4MmQ5OTRl
MTgzZCU3QzAlN0MwJTdDNjM3MTA1MDQ0ODk5NzUzNTQ2JmFtcDtzZGF0YT1VOWFmY0hQNzBlbE1a
WSUyRlZzVmdHQXZnZ1Mwd3FUVmF4MndVOFBldWZXU00lM0QmYW1wO3Jlc2VydmVkPTANCl9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmFtZC1nZnggbWFpbGlu
ZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRl
c2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeA==
