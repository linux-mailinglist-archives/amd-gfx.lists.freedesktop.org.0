Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 2B86AA6B5B
	for <lists+amd-gfx@lfdr.de>; Tue,  3 Sep 2019 16:26:49 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AFF26894DD;
	Tue,  3 Sep 2019 14:26:47 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM04-CO1-obe.outbound.protection.outlook.com
 (mail-eopbgr690046.outbound.protection.outlook.com [40.107.69.46])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B5D01894DD
 for <amd-gfx@lists.freedesktop.org>; Tue,  3 Sep 2019 14:26:46 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=kmA7svnOQ1xyYzGSbSec20CieezETYFH126axxvqBaUJ8psdez0WMX9HEpnqn+9DYoRJKmklDZ2T2ExJcHjHqspTtc5/EU0s+PdWyxXe8aVWQ/TvvE09bqToZpI8d3rWSZFKYVAinjP/mKfFqkxcKPn53xRi4N9xEFkwV+rm66hugNaZrP1xLOEZ8upIiE7TuPBHaStqOz94JGqwR7qpfxahqZzrncUsI6/OcDWHS4IiLF2Z6s9V7AXTe2qoLG/A7jJBVISlRlUyB2YQyg0KaT2q9Q4bJk7qY69K8MQWw+uwU07fUXb6CdOSfTUGPDSV95G6lWVlCehWUWcAQ7zi1Q==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=sgQi0SFrrqVBSieAnw/kUk0cq/sMI+BXJC/uHNS6zLw=;
 b=l8ttvKSH2iSd/OdUCWK6xhgcGTciivlQy5vS+0og8AaD7husAauz+vJDDXUh4sVbkq0B2OxRUlxXaUW3U1SzUVFiRInuhPhvD7Hr9xAa2DSmVHOVDtwDogVfus053j4Mg4gD+EqQ6eYZVMoAnB/tOZuVC9Pzy7zib5x8avev95LF4j8Q56SVlihdCgUTh1WEVkhA2r6tlqvOTKgaG+jpYrJ0ZxJbxlGMJdBNotF3B6jrwuqCzH1RbE0a43JApwUmDQyOPVQComsPUwqobcQfPKUNSp7QRg/dA8NewtET9got9rieS0EsjAMsn37BKAoFj3tBvy0HcNohdaRO9uX6uQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from BL0PR12MB2580.namprd12.prod.outlook.com (52.132.27.147) by
 BL0PR12MB2546.namprd12.prod.outlook.com (52.132.28.10) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2199.21; Tue, 3 Sep 2019 14:26:44 +0000
Received: from BL0PR12MB2580.namprd12.prod.outlook.com
 ([fe80::718c:48e0:4e04:5543]) by BL0PR12MB2580.namprd12.prod.outlook.com
 ([fe80::718c:48e0:4e04:5543%7]) with mapi id 15.20.2220.022; Tue, 3 Sep 2019
 14:26:44 +0000
From: "Zeng, Oak" <Oak.Zeng@amd.com>
To: =?utf-8?B?Q2hyaXN0aWFuIEvDtm5pZw==?= <ckoenig.leichtzumerken@gmail.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH 1/2] drm/amdgpu: cleanup mtype mapping
Thread-Topic: [PATCH 1/2] drm/amdgpu: cleanup mtype mapping
Thread-Index: AQHVYZ7Fy/uHE41cBEOyHo7QHf5pQKcaA2PA
Date: Tue, 3 Sep 2019 14:26:44 +0000
Message-ID: <BL0PR12MB258057BA1BE1AE4CCB85943E80B90@BL0PR12MB2580.namprd12.prod.outlook.com>
References: <20190902145732.2567-1-christian.koenig@amd.com>
In-Reply-To: <20190902145732.2567-1-christian.koenig@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [99.228.209.96]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: f8f99e92-6c13-4537-5a50-08d7307abf3b
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600166)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:BL0PR12MB2546; 
x-ms-traffictypediagnostic: BL0PR12MB2546:
x-ms-exchange-purlcount: 1
x-microsoft-antispam-prvs: <BL0PR12MB2546EB4188B1F0F38F041EB580B90@BL0PR12MB2546.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:3968;
x-forefront-prvs: 01494FA7F7
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(366004)(136003)(396003)(346002)(376002)(39860400002)(189003)(199004)(13464003)(2906002)(6116002)(6246003)(81166006)(486006)(8676002)(81156014)(8936002)(66066001)(76176011)(11346002)(476003)(446003)(14454004)(6506007)(53546011)(2501003)(7736002)(99286004)(14444005)(25786009)(30864003)(110136005)(9686003)(6436002)(53936002)(6306002)(55016002)(74316002)(102836004)(186003)(26005)(256004)(33656002)(76116006)(52536014)(305945005)(7696005)(66574012)(71200400001)(316002)(86362001)(66556008)(66476007)(66946007)(966005)(64756008)(66446008)(478600001)(71190400001)(5660300002)(229853002)(3846002);
 DIR:OUT; SFP:1101; SCL:1; SRVR:BL0PR12MB2546;
 H:BL0PR12MB2580.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: j/yuJRBmF8G/HqQ6iSWUGakXurF9InBhaJGHt2aJq18CuH52K5C7tvgY2cNFqvqzQD/Z491Km6kNL7jRjVB0OaggFo3Ko+N/HCYa+dI2hSm2nUjX0o7ng3JW6W151k8Iis4mM8o5hngWhrEFZF0HMQRXoUC81DBxPWDYfa/N5DwY6fOeMvUeeto0e8kND/QanYa0Pb3VPEUd5t9N9mdrPM3XheXWE7e8AoD9wIb3Tg+nhvrWRDFN6xT3VVjDLHC0GPcnQh++q3jbKxe2Q2rsYuKLbAUNRmDarLoVbdf/k+c9fn5Opm1vXoOe34QosgEM6QOJEn/hj9usjYKjBVIXawN+Q8jKNpxGHkuN3fuYyYMqDN5QFXTHImFH4+y0xLT3mYsfYypt2xGGaehZnJSpizjl7vNnYDS8fzKjgTkx5uI=
x-ms-exchange-transport-forked: True
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: f8f99e92-6c13-4537-5a50-08d7307abf3b
X-MS-Exchange-CrossTenant-originalarrivaltime: 03 Sep 2019 14:26:44.7556 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: B/DTYDS7W6tZW4rXdgfrsTRqKgruT+zbQPNUd7KwY2v0ue76sxdeLr79k0a66lpo
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BL0PR12MB2546
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=sgQi0SFrrqVBSieAnw/kUk0cq/sMI+BXJC/uHNS6zLw=;
 b=bWoewwQcU+9adjW+IxSzBVwMdr3xcns3OVJtT0CApq/0aWRr09aXi86kIHsdZK/wSaZ+k4gRERypDd9fRCFOCCe01VcLHDYr3jFh0P0r8OyRxPyVAvPEUCfVk+LO2J9dQg7OlXoLOHegzVjyvxldGfRemvBNyVTQ7+exR3gSQow=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Oak.Zeng@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

VGhpcyBpcyBuaWNlIGNsZWFuIHVwLiBBY2tlZC1ieTogT2FrIFplbmcgPE9hay5aZW5nQGFtZC5j
b20+DQoNClJlZ2FyZHMsDQpPYWsNCg0KLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZyb206
IGFtZC1nZnggPGFtZC1nZngtYm91bmNlc0BsaXN0cy5mcmVlZGVza3RvcC5vcmc+IE9uIEJlaGFs
ZiBPZiBDaHJpc3RpYW4gS8O2bmlnDQpTZW50OiBNb25kYXksIFNlcHRlbWJlciAyLCAyMDE5IDEw
OjU4IEFNDQpUbzogYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcNClN1YmplY3Q6IFtQQVRD
SCAxLzJdIGRybS9hbWRncHU6IGNsZWFudXAgbXR5cGUgbWFwcGluZw0KDQpVbmlmeSBob3cgd2Ug
bWFwIHRoZSBVQVBJIGZsYWdzIHRvIHRoZSBQVEUgaGFyZHdhcmUgZmxhZ3MgZm9yIGEgbWFwcGlu
Zy4NCg0KT25seSB0aGUgTVRZUEUgaXMgYWN0dWFsbHkgQVNJQyBkZXBlbmRlbnQsIGFsbCBvdGhl
ciBmbGFncyBzaG91bGQgYmUgY29waWVkIG92ZXIgMSB0byAxIGFuZCBBU0lDIGRpZmZlcmVuY2Vz
IGFyZSBoYW5kbGVkIGxhdGVyIG9uLg0KDQpTaWduZWQtb2ZmLWJ5OiBDaHJpc3RpYW4gS8O2bmln
IDxjaHJpc3RpYW4ua29lbmlnQGFtZC5jb20+DQotLS0NCiAuLi4vZ3B1L2RybS9hbWQvYW1kZ3B1
L2FtZGdwdV9hbWRrZmRfZ3B1dm0uYyAgfCAgMiArLQ0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2FtZGdwdV9nZW0uYyAgICAgICB8IDMyICsrKysrKysrKysrKystDQogZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dlbS5oICAgICAgIHwgIDEgKw0KIGRyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV9nbWMuaCAgICAgICB8ICA3ICsrLS0NCiBkcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHVfdm0uYyAgICAgICAgfCAgNiArKy0NCiBkcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9nbWNfdjEwXzAuYyAgICAgICAgfCA0MCArKysrKy0tLS0tLS0tLS0tLS0N
CiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjZfMC5jICAgICAgICAgfCAxNiAtLS0t
LS0tDQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3Y3XzAuYyAgICAgICAgIHwgMTYg
LS0tLS0tLQ0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192OF8wLmMgICAgICAgICB8
IDE4IC0tLS0tLS0tDQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3Y5XzAuYyAgICAg
ICAgIHwgNDIgKysrKystLS0tLS0tLS0tLS0tLQ0KIDEwIGZpbGVzIGNoYW5nZWQsIDU5IGluc2Vy
dGlvbnMoKyksIDEyMSBkZWxldGlvbnMoLSkNCg0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmRfZ3B1dm0uYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2FtZGdwdV9hbWRrZmRfZ3B1dm0uYw0KaW5kZXggYjBmMGUwNjBkZWQ2Li5kOTBiNjQ3
OTg1ZDcgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYW1k
a2ZkX2dwdXZtLmMNCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRr
ZmRfZ3B1dm0uYw0KQEAgLTM4MCw3ICszODAsNyBAQCBzdGF0aWMgdWludDY0X3QgZ2V0X3B0ZV9m
bGFncyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgc3RydWN0IGtnZF9tZW0gKm1lbSkNCiAJ
CQlBTURHUFVfVk1fTVRZUEVfVUMgOiBBTURHUFVfVk1fTVRZUEVfTkM7DQogCX0NCiANCi0JcmV0
dXJuIGFtZGdwdV9nbWNfZ2V0X3B0ZV9mbGFncyhhZGV2LCBtYXBwaW5nX2ZsYWdzKTsNCisJcmV0
dXJuIGFtZGdwdV9nZW1fdmFfbWFwX2ZsYWdzKGFkZXYsIG1hcHBpbmdfZmxhZ3MpOw0KIH0NCiAN
CiAvKiBhZGRfYm9fdG9fdm0gLSBBZGQgYSBCTyB0byBhIFZNDQpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dlbS5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1X2dlbS5jDQppbmRleCBlN2FmMzVjNzA4MGQuLjIyZWFiNzRkOTk5OCAxMDA2
NDQNCi0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nZW0uYw0KKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dlbS5jDQpAQCAtNTI4LDYgKzUyOCwz
NCBAQCBzdGF0aWMgdm9pZCBhbWRncHVfZ2VtX3ZhX3VwZGF0ZV92bShzdHJ1Y3QgYW1kZ3B1X2Rl
dmljZSAqYWRldiwNCiAJCURSTV9FUlJPUigiQ291bGRuJ3QgdXBkYXRlIEJPX1ZBICglZClcbiIs
IHIpOyAgfQ0KIA0KKy8qKg0KKyAqIGFtZGdwdV9nZW1fdmFfbWFwX2ZsYWdzIC0gbWFwIEdFTSBV
QVBJIGZsYWdzIGludG8gaGFyZHdhcmUgZmxhZ3MNCisgKg0KKyAqIEBhZGV2OiBhbWRncHVfZGV2
aWNlIHBvaW50ZXINCisgKiBAZmxhZ3M6IEdFTSBVQVBJIGZsYWdzDQorICoNCisgKiBSZXR1cm5z
IHRoZSBHRU0gVUFQSSBmbGFncyBtYXBwZWQgaW50byBoYXJkd2FyZSBmb3IgdGhlIEFTSUMuDQor
ICovDQordWludDY0X3QgYW1kZ3B1X2dlbV92YV9tYXBfZmxhZ3Moc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYsIHVpbnQzMl90IA0KK2ZsYWdzKSB7DQorCXVpbnQ2NF90IHB0ZV9mbGFnID0gMDsN
CisNCisJaWYgKGZsYWdzICYgQU1ER1BVX1ZNX1BBR0VfRVhFQ1VUQUJMRSkNCisJCXB0ZV9mbGFn
IHw9IEFNREdQVV9QVEVfRVhFQ1VUQUJMRTsNCisJaWYgKGZsYWdzICYgQU1ER1BVX1ZNX1BBR0Vf
UkVBREFCTEUpDQorCQlwdGVfZmxhZyB8PSBBTURHUFVfUFRFX1JFQURBQkxFOw0KKwlpZiAoZmxh
Z3MgJiBBTURHUFVfVk1fUEFHRV9XUklURUFCTEUpDQorCQlwdGVfZmxhZyB8PSBBTURHUFVfUFRF
X1dSSVRFQUJMRTsNCisJaWYgKGZsYWdzICYgQU1ER1BVX1ZNX1BBR0VfUFJUKQ0KKwkJcHRlX2Zs
YWcgfD0gQU1ER1BVX1BURV9QUlQ7DQorDQorCWlmIChhZGV2LT5nbWMuZ21jX2Z1bmNzLT5tYXBf
bXR5cGUpDQorCQlwdGVfZmxhZyB8PSBhbWRncHVfZ21jX21hcF9tdHlwZShhZGV2LA0KKwkJCQkJ
CSBmbGFncyAmIEFNREdQVV9WTV9NVFlQRV9NQVNLKTsNCisNCisJcmV0dXJuIHB0ZV9mbGFnOw0K
K30NCisNCiBpbnQgYW1kZ3B1X2dlbV92YV9pb2N0bChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB2
b2lkICpkYXRhLA0KIAkJCSAgc3RydWN0IGRybV9maWxlICpmaWxwKQ0KIHsNCkBAIC02MjUsNyAr
NjUzLDcgQEAgaW50IGFtZGdwdV9nZW1fdmFfaW9jdGwoc3RydWN0IGRybV9kZXZpY2UgKmRldiwg
dm9pZCAqZGF0YSwNCiANCiAJc3dpdGNoIChhcmdzLT5vcGVyYXRpb24pIHsNCiAJY2FzZSBBTURH
UFVfVkFfT1BfTUFQOg0KLQkJdmFfZmxhZ3MgPSBhbWRncHVfZ21jX2dldF9wdGVfZmxhZ3MoYWRl
diwgYXJncy0+ZmxhZ3MpOw0KKwkJdmFfZmxhZ3MgPSBhbWRncHVfZ2VtX3ZhX21hcF9mbGFncyhh
ZGV2LCBhcmdzLT5mbGFncyk7DQogCQlyID0gYW1kZ3B1X3ZtX2JvX21hcChhZGV2LCBib192YSwg
YXJncy0+dmFfYWRkcmVzcywNCiAJCQkJICAgICBhcmdzLT5vZmZzZXRfaW5fYm8sIGFyZ3MtPm1h
cF9zaXplLA0KIAkJCQkgICAgIHZhX2ZsYWdzKTsNCkBAIC02NDAsNyArNjY4LDcgQEAgaW50IGFt
ZGdwdV9nZW1fdmFfaW9jdGwoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgdm9pZCAqZGF0YSwNCiAJ
CQkJCQlhcmdzLT5tYXBfc2l6ZSk7DQogCQlicmVhazsNCiAJY2FzZSBBTURHUFVfVkFfT1BfUkVQ
TEFDRToNCi0JCXZhX2ZsYWdzID0gYW1kZ3B1X2dtY19nZXRfcHRlX2ZsYWdzKGFkZXYsIGFyZ3Mt
PmZsYWdzKTsNCisJCXZhX2ZsYWdzID0gYW1kZ3B1X2dlbV92YV9tYXBfZmxhZ3MoYWRldiwgYXJn
cy0+ZmxhZ3MpOw0KIAkJciA9IGFtZGdwdV92bV9ib19yZXBsYWNlX21hcChhZGV2LCBib192YSwg
YXJncy0+dmFfYWRkcmVzcywNCiAJCQkJCSAgICAgYXJncy0+b2Zmc2V0X2luX2JvLCBhcmdzLT5t
YXBfc2l6ZSwNCiAJCQkJCSAgICAgdmFfZmxhZ3MpOw0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nZW0uaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2FtZGdwdV9nZW0uaA0KaW5kZXggYjhiYTZlMjdjNjFmLi5lNmFjYmE2NTc2M2IgMTAwNjQ0DQot
LS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ2VtLmgNCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nZW0uaA0KQEAgLTY3LDYgKzY3LDcgQEAgaW50
IGFtZGdwdV9nZW1fbW1hcF9pb2N0bChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB2b2lkICpkYXRh
LA0KIAkJCSAgc3RydWN0IGRybV9maWxlICpmaWxwKTsNCiBpbnQgYW1kZ3B1X2dlbV93YWl0X2lk
bGVfaW9jdGwoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgdm9pZCAqZGF0YSwNCiAJCQkgICAgICBz
dHJ1Y3QgZHJtX2ZpbGUgKmZpbHApOw0KK3VpbnQ2NF90IGFtZGdwdV9nZW1fdmFfbWFwX2ZsYWdz
KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCB1aW50MzJfdCANCitmbGFncyk7DQogaW50IGFt
ZGdwdV9nZW1fdmFfaW9jdGwoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgdm9pZCAqZGF0YSwNCiAJ
CQkgIHN0cnVjdCBkcm1fZmlsZSAqZmlscCk7DQogaW50IGFtZGdwdV9nZW1fb3BfaW9jdGwoc3Ry
dWN0IGRybV9kZXZpY2UgKmRldiwgdm9pZCAqZGF0YSwgZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nbWMuaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2FtZGdwdV9nbWMuaA0KaW5kZXggYjZlMWQ5OGVmMDFlLi5kNWU0NTc0YWZiYzIgMTAwNjQ0DQot
LS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ21jLmgNCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nbWMuaA0KQEAgLTk5LDkgKzk5LDggQEAgc3Ry
dWN0IGFtZGdwdV9nbWNfZnVuY3Mgew0KIAkJCQkgICB1bnNpZ25lZCBwYXNpZCk7DQogCS8qIGVu
YWJsZS9kaXNhYmxlIFBSVCBzdXBwb3J0ICovDQogCXZvaWQgKCpzZXRfcHJ0KShzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldiwgYm9vbCBlbmFibGUpOw0KLQkvKiBzZXQgcHRlIGZsYWdzIGJhc2Vk
IHBlciBhc2ljICovDQotCXVpbnQ2NF90ICgqZ2V0X3ZtX3B0ZV9mbGFncykoc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYsDQotCQkJCSAgICAgdWludDMyX3QgZmxhZ3MpOw0KKwkvKiBtYXAgbXR5
cGUgdG8gaGFyZHdhcmUgZmxhZ3MgKi8NCisJdWludDY0X3QgKCptYXBfbXR5cGUpKHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2LCB1aW50MzJfdCBmbGFncyk7DQogCS8qIGdldCB0aGUgcGRlIGZv
ciBhIGdpdmVuIG1jIGFkZHIgKi8NCiAJdm9pZCAoKmdldF92bV9wZGUpKHN0cnVjdCBhbWRncHVf
ZGV2aWNlICphZGV2LCBpbnQgbGV2ZWwsDQogCQkJICAgdTY0ICpkc3QsIHU2NCAqZmxhZ3MpOw0K
QEAgLTE4NCw4ICsxODMsOCBAQCBzdHJ1Y3QgYW1kZ3B1X2dtYyB7DQogI2RlZmluZSBhbWRncHVf
Z21jX2ZsdXNoX2dwdV90bGIoYWRldiwgdm1pZCwgdm1odWIsIHR5cGUpICgoYWRldiktPmdtYy5n
bWNfZnVuY3MtPmZsdXNoX2dwdV90bGIoKGFkZXYpLCAodm1pZCksICh2bWh1YiksICh0eXBlKSkp
ICAjZGVmaW5lIGFtZGdwdV9nbWNfZW1pdF9mbHVzaF9ncHVfdGxiKHIsIHZtaWQsIGFkZHIpIChy
KS0+YWRldi0+Z21jLmdtY19mdW5jcy0+ZW1pdF9mbHVzaF9ncHVfdGxiKChyKSwgKHZtaWQpLCAo
YWRkcikpICAjZGVmaW5lIGFtZGdwdV9nbWNfZW1pdF9wYXNpZF9tYXBwaW5nKHIsIHZtaWQsIHBh
c2lkKSAociktPmFkZXYtPmdtYy5nbWNfZnVuY3MtPmVtaXRfcGFzaWRfbWFwcGluZygociksICh2
bWlkKSwgKHBhc2lkKSkNCisjZGVmaW5lIGFtZGdwdV9nbWNfbWFwX210eXBlKGFkZXYsIGZsYWdz
KSANCisoYWRldiktPmdtYy5nbWNfZnVuY3MtPm1hcF9tdHlwZSgoYWRldiksKGZsYWdzKSkNCiAj
ZGVmaW5lIGFtZGdwdV9nbWNfZ2V0X3ZtX3BkZShhZGV2LCBsZXZlbCwgZHN0LCBmbGFncykgKGFk
ZXYpLT5nbWMuZ21jX2Z1bmNzLT5nZXRfdm1fcGRlKChhZGV2KSwgKGxldmVsKSwgKGRzdCksIChm
bGFncykpIC0jZGVmaW5lIGFtZGdwdV9nbWNfZ2V0X3B0ZV9mbGFncyhhZGV2LCBmbGFncykgKGFk
ZXYpLT5nbWMuZ21jX2Z1bmNzLT5nZXRfdm1fcHRlX2ZsYWdzKChhZGV2KSwoZmxhZ3MpKQ0KIA0K
IC8qKg0KICAqIGFtZGdwdV9nbWNfdnJhbV9mdWxsX3Zpc2libGUgLSBDaGVjayBpZiBmdWxsIFZS
QU0gaXMgdmlzaWJsZSB0aHJvdWdoIHRoZSBCQVIgZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV92bS5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1k
Z3B1X3ZtLmMNCmluZGV4IDUwMWUxMzQyMDc4Ni4uMmNiODJiMjI5ODAyIDEwMDY0NA0KLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtLmMNCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92bS5jDQpAQCAtMTU3MSw4ICsxNTcxLDEwIEBAIHN0YXRp
YyBpbnQgYW1kZ3B1X3ZtX2JvX3NwbGl0X21hcHBpbmcoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFk
ZXYsDQogCWlmICghKG1hcHBpbmctPmZsYWdzICYgQU1ER1BVX1BURV9XUklURUFCTEUpKQ0KIAkJ
ZmxhZ3MgJj0gfkFNREdQVV9QVEVfV1JJVEVBQkxFOw0KIA0KLQlmbGFncyAmPSB+QU1ER1BVX1BU
RV9FWEVDVVRBQkxFOw0KLQlmbGFncyB8PSBtYXBwaW5nLT5mbGFncyAmIEFNREdQVV9QVEVfRVhF
Q1VUQUJMRTsNCisJaWYgKGFkZXYtPmFzaWNfdHlwZSA+PSBDSElQX1RPTkdBKSB7DQorCQlmbGFn
cyAmPSB+QU1ER1BVX1BURV9FWEVDVVRBQkxFOw0KKwkJZmxhZ3MgfD0gbWFwcGluZy0+ZmxhZ3Mg
JiBBTURHUFVfUFRFX0VYRUNVVEFCTEU7DQorCX0NCiANCiAJaWYgKGFkZXYtPmFzaWNfdHlwZSA+
PSBDSElQX05BVkkxMCkgew0KIAkJZmxhZ3MgJj0gfkFNREdQVV9QVEVfTVRZUEVfTlYxMF9NQVNL
OyBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3YxMF8wLmMgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjEwXzAuYw0KaW5kZXggNDZlZmQ0ZDE3YTM0
Li43ZWIwYmE4N2ZlZjkgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9n
bWNfdjEwXzAuYw0KKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3YxMF8wLmMN
CkBAIC0zOTcsNDMgKzM5NywyMyBAQCBzdGF0aWMgdm9pZCBnbWNfdjEwXzBfZW1pdF9wYXNpZF9t
YXBwaW5nKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywgdW5zaWduZWQgdm1pZA0KICAqIDEgc3lz
dGVtDQogICogMCB2YWxpZA0KICAqLw0KLXN0YXRpYyB1aW50NjRfdCBnbWNfdjEwXzBfZ2V0X3Zt
X3B0ZV9mbGFncyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCi0JCQkJCSAgIHVpbnQzMl90
IGZsYWdzKQ0KLXsNCi0JdWludDY0X3QgcHRlX2ZsYWcgPSAwOw0KLQ0KLQlpZiAoZmxhZ3MgJiBB
TURHUFVfVk1fUEFHRV9FWEVDVVRBQkxFKQ0KLQkJcHRlX2ZsYWcgfD0gQU1ER1BVX1BURV9FWEVD
VVRBQkxFOw0KLQlpZiAoZmxhZ3MgJiBBTURHUFVfVk1fUEFHRV9SRUFEQUJMRSkNCi0JCXB0ZV9m
bGFnIHw9IEFNREdQVV9QVEVfUkVBREFCTEU7DQotCWlmIChmbGFncyAmIEFNREdQVV9WTV9QQUdF
X1dSSVRFQUJMRSkNCi0JCXB0ZV9mbGFnIHw9IEFNREdQVV9QVEVfV1JJVEVBQkxFOw0KIA0KLQlz
d2l0Y2ggKGZsYWdzICYgQU1ER1BVX1ZNX01UWVBFX01BU0spIHsNCitzdGF0aWMgdWludDY0X3Qg
Z21jX3YxMF8wX21hcF9tdHlwZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgDQordWludDMy
X3QgZmxhZ3MpIHsNCisJc3dpdGNoIChmbGFncykgew0KIAljYXNlIEFNREdQVV9WTV9NVFlQRV9E
RUZBVUxUOg0KLQkJcHRlX2ZsYWcgfD0gQU1ER1BVX1BURV9NVFlQRV9OVjEwKE1UWVBFX05DKTsN
Ci0JCWJyZWFrOw0KKwkJcmV0dXJuIEFNREdQVV9QVEVfTVRZUEVfTlYxMChNVFlQRV9OQyk7DQog
CWNhc2UgQU1ER1BVX1ZNX01UWVBFX05DOg0KLQkJcHRlX2ZsYWcgfD0gQU1ER1BVX1BURV9NVFlQ
RV9OVjEwKE1UWVBFX05DKTsNCi0JCWJyZWFrOw0KKwkJcmV0dXJuIEFNREdQVV9QVEVfTVRZUEVf
TlYxMChNVFlQRV9OQyk7DQogCWNhc2UgQU1ER1BVX1ZNX01UWVBFX1dDOg0KLQkJcHRlX2ZsYWcg
fD0gQU1ER1BVX1BURV9NVFlQRV9OVjEwKE1UWVBFX1dDKTsNCi0JCWJyZWFrOw0KKwkJcmV0dXJu
IEFNREdQVV9QVEVfTVRZUEVfTlYxMChNVFlQRV9XQyk7DQogCWNhc2UgQU1ER1BVX1ZNX01UWVBF
X0NDOg0KLQkJcHRlX2ZsYWcgfD0gQU1ER1BVX1BURV9NVFlQRV9OVjEwKE1UWVBFX0NDKTsNCi0J
CWJyZWFrOw0KKwkJcmV0dXJuIEFNREdQVV9QVEVfTVRZUEVfTlYxMChNVFlQRV9DQyk7DQogCWNh
c2UgQU1ER1BVX1ZNX01UWVBFX1VDOg0KLQkJcHRlX2ZsYWcgfD0gQU1ER1BVX1BURV9NVFlQRV9O
VjEwKE1UWVBFX1VDKTsNCi0JCWJyZWFrOw0KKwkJcmV0dXJuIEFNREdQVV9QVEVfTVRZUEVfTlYx
MChNVFlQRV9VQyk7DQogCWRlZmF1bHQ6DQotCQlwdGVfZmxhZyB8PSBBTURHUFVfUFRFX01UWVBF
X05WMTAoTVRZUEVfTkMpOw0KLQkJYnJlYWs7DQorCQlyZXR1cm4gQU1ER1BVX1BURV9NVFlQRV9O
VjEwKE1UWVBFX05DKTsNCiAJfQ0KLQ0KLQlpZiAoZmxhZ3MgJiBBTURHUFVfVk1fUEFHRV9QUlQp
DQotCQlwdGVfZmxhZyB8PSBBTURHUFVfUFRFX1BSVDsNCi0NCi0JcmV0dXJuIHB0ZV9mbGFnOw0K
IH0NCiANCiBzdGF0aWMgdm9pZCBnbWNfdjEwXzBfZ2V0X3ZtX3BkZShzdHJ1Y3QgYW1kZ3B1X2Rl
dmljZSAqYWRldiwgaW50IGxldmVsLCBAQCAtNDY0LDcgKzQ0NCw3IEBAIHN0YXRpYyBjb25zdCBz
dHJ1Y3QgYW1kZ3B1X2dtY19mdW5jcyBnbWNfdjEwXzBfZ21jX2Z1bmNzID0gew0KIAkuZmx1c2hf
Z3B1X3RsYiA9IGdtY192MTBfMF9mbHVzaF9ncHVfdGxiLA0KIAkuZW1pdF9mbHVzaF9ncHVfdGxi
ID0gZ21jX3YxMF8wX2VtaXRfZmx1c2hfZ3B1X3RsYiwNCiAJLmVtaXRfcGFzaWRfbWFwcGluZyA9
IGdtY192MTBfMF9lbWl0X3Bhc2lkX21hcHBpbmcsDQotCS5nZXRfdm1fcHRlX2ZsYWdzID0gZ21j
X3YxMF8wX2dldF92bV9wdGVfZmxhZ3MsDQorCS5tYXBfbXR5cGUgPSBnbWNfdjEwXzBfbWFwX210
eXBlLA0KIAkuZ2V0X3ZtX3BkZSA9IGdtY192MTBfMF9nZXRfdm1fcGRlDQogfTsNCiANCmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjZfMC5jIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvZ21jX3Y2XzAuYw0KaW5kZXggMzI2NDU0OGUzNzVjLi4yZTMwNWIy
MWRiNjkgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjZfMC5j
DQorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjZfMC5jDQpAQCAtMzgzLDIx
ICszODMsNiBAQCBzdGF0aWMgdWludDY0X3QgZ21jX3Y2XzBfZW1pdF9mbHVzaF9ncHVfdGxiKHN0
cnVjdCBhbWRncHVfcmluZyAqcmluZywNCiAJcmV0dXJuIHBkX2FkZHI7DQogfQ0KIA0KLXN0YXRp
YyB1aW50NjRfdCBnbWNfdjZfMF9nZXRfdm1fcHRlX2ZsYWdzKHN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2LA0KLQkJCQkJICB1aW50MzJfdCBmbGFncykNCi17DQotCXVpbnQ2NF90IHB0ZV9mbGFn
ID0gMDsNCi0NCi0JaWYgKGZsYWdzICYgQU1ER1BVX1ZNX1BBR0VfUkVBREFCTEUpDQotCQlwdGVf
ZmxhZyB8PSBBTURHUFVfUFRFX1JFQURBQkxFOw0KLQlpZiAoZmxhZ3MgJiBBTURHUFVfVk1fUEFH
RV9XUklURUFCTEUpDQotCQlwdGVfZmxhZyB8PSBBTURHUFVfUFRFX1dSSVRFQUJMRTsNCi0JaWYg
KGZsYWdzICYgQU1ER1BVX1ZNX1BBR0VfUFJUKQ0KLQkJcHRlX2ZsYWcgfD0gQU1ER1BVX1BURV9Q
UlQ7DQotDQotCXJldHVybiBwdGVfZmxhZzsNCi19DQotDQogc3RhdGljIHZvaWQgZ21jX3Y2XzBf
Z2V0X3ZtX3BkZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgaW50IGxldmVsLA0KIAkJCQl1
aW50NjRfdCAqYWRkciwgdWludDY0X3QgKmZsYWdzKQ0KIHsNCkBAIC0xMTU5LDcgKzExNDQsNiBA
QCBzdGF0aWMgY29uc3Qgc3RydWN0IGFtZGdwdV9nbWNfZnVuY3MgZ21jX3Y2XzBfZ21jX2Z1bmNz
ID0gew0KIAkuZW1pdF9mbHVzaF9ncHVfdGxiID0gZ21jX3Y2XzBfZW1pdF9mbHVzaF9ncHVfdGxi
LA0KIAkuc2V0X3BydCA9IGdtY192Nl8wX3NldF9wcnQsDQogCS5nZXRfdm1fcGRlID0gZ21jX3Y2
XzBfZ2V0X3ZtX3BkZSwNCi0JLmdldF92bV9wdGVfZmxhZ3MgPSBnbWNfdjZfMF9nZXRfdm1fcHRl
X2ZsYWdzDQogfTsNCiANCiBzdGF0aWMgY29uc3Qgc3RydWN0IGFtZGdwdV9pcnFfc3JjX2Z1bmNz
IGdtY192Nl8wX2lycV9mdW5jcyA9IHsgZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2dtY192N18wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjdfMC5j
DQppbmRleCBjYzBhYTE3OGViMmQuLjNiNzc0MjEyMzRhNyAxMDA2NDQNCi0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2dtY192N18wLmMNCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2dtY192N18wLmMNCkBAIC00NjAsMjEgKzQ2MCw2IEBAIHN0YXRpYyB2b2lkIGdtY192
N18wX2VtaXRfcGFzaWRfbWFwcGluZyhzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsIHVuc2lnbmVk
IHZtaWQsDQogCWFtZGdwdV9yaW5nX2VtaXRfd3JlZyhyaW5nLCBtbUlIX1ZNSURfMF9MVVQgKyB2
bWlkLCBwYXNpZCk7ICB9DQogDQotc3RhdGljIHVpbnQ2NF90IGdtY192N18wX2dldF92bV9wdGVf
ZmxhZ3Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQotCQkJCQkgIHVpbnQzMl90IGZsYWdz
KQ0KLXsNCi0JdWludDY0X3QgcHRlX2ZsYWcgPSAwOw0KLQ0KLQlpZiAoZmxhZ3MgJiBBTURHUFVf
Vk1fUEFHRV9SRUFEQUJMRSkNCi0JCXB0ZV9mbGFnIHw9IEFNREdQVV9QVEVfUkVBREFCTEU7DQot
CWlmIChmbGFncyAmIEFNREdQVV9WTV9QQUdFX1dSSVRFQUJMRSkNCi0JCXB0ZV9mbGFnIHw9IEFN
REdQVV9QVEVfV1JJVEVBQkxFOw0KLQlpZiAoZmxhZ3MgJiBBTURHUFVfVk1fUEFHRV9QUlQpDQot
CQlwdGVfZmxhZyB8PSBBTURHUFVfUFRFX1BSVDsNCi0NCi0JcmV0dXJuIHB0ZV9mbGFnOw0KLX0N
Ci0NCiBzdGF0aWMgdm9pZCBnbWNfdjdfMF9nZXRfdm1fcGRlKHN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2LCBpbnQgbGV2ZWwsDQogCQkJCXVpbnQ2NF90ICphZGRyLCB1aW50NjRfdCAqZmxhZ3Mp
DQogew0KQEAgLTEzNTQsNyArMTMzOSw2IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgYW1kZ3B1X2dt
Y19mdW5jcyBnbWNfdjdfMF9nbWNfZnVuY3MgPSB7DQogCS5lbWl0X2ZsdXNoX2dwdV90bGIgPSBn
bWNfdjdfMF9lbWl0X2ZsdXNoX2dwdV90bGIsDQogCS5lbWl0X3Bhc2lkX21hcHBpbmcgPSBnbWNf
djdfMF9lbWl0X3Bhc2lkX21hcHBpbmcsDQogCS5zZXRfcHJ0ID0gZ21jX3Y3XzBfc2V0X3BydCwN
Ci0JLmdldF92bV9wdGVfZmxhZ3MgPSBnbWNfdjdfMF9nZXRfdm1fcHRlX2ZsYWdzLA0KIAkuZ2V0
X3ZtX3BkZSA9IGdtY192N18wX2dldF92bV9wZGUNCiB9Ow0KIA0KZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192OF8wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9nbWNfdjhfMC5jDQppbmRleCA4OGYzYTE3MTQ1MmYuLjU4NDQ0YWEwYWYwNSAxMDA2NDQN
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192OF8wLmMNCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192OF8wLmMNCkBAIC02ODMsMjMgKzY4Myw2IEBAIHN0
YXRpYyB2b2lkIGdtY192OF8wX2VtaXRfcGFzaWRfbWFwcGluZyhzdHJ1Y3QgYW1kZ3B1X3Jpbmcg
KnJpbmcsIHVuc2lnbmVkIHZtaWQsDQogICogMCB2YWxpZA0KICAqLw0KIA0KLXN0YXRpYyB1aW50
NjRfdCBnbWNfdjhfMF9nZXRfdm1fcHRlX2ZsYWdzKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2
LA0KLQkJCQkJICB1aW50MzJfdCBmbGFncykNCi17DQotCXVpbnQ2NF90IHB0ZV9mbGFnID0gMDsN
Ci0NCi0JaWYgKGZsYWdzICYgQU1ER1BVX1ZNX1BBR0VfRVhFQ1VUQUJMRSkNCi0JCXB0ZV9mbGFn
IHw9IEFNREdQVV9QVEVfRVhFQ1VUQUJMRTsNCi0JaWYgKGZsYWdzICYgQU1ER1BVX1ZNX1BBR0Vf
UkVBREFCTEUpDQotCQlwdGVfZmxhZyB8PSBBTURHUFVfUFRFX1JFQURBQkxFOw0KLQlpZiAoZmxh
Z3MgJiBBTURHUFVfVk1fUEFHRV9XUklURUFCTEUpDQotCQlwdGVfZmxhZyB8PSBBTURHUFVfUFRF
X1dSSVRFQUJMRTsNCi0JaWYgKGZsYWdzICYgQU1ER1BVX1ZNX1BBR0VfUFJUKQ0KLQkJcHRlX2Zs
YWcgfD0gQU1ER1BVX1BURV9QUlQ7DQotDQotCXJldHVybiBwdGVfZmxhZzsNCi19DQotDQogc3Rh
dGljIHZvaWQgZ21jX3Y4XzBfZ2V0X3ZtX3BkZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwg
aW50IGxldmVsLA0KIAkJCQl1aW50NjRfdCAqYWRkciwgdWludDY0X3QgKmZsYWdzKQ0KIHsNCkBA
IC0xNzIyLDcgKzE3MDUsNiBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGFtZGdwdV9nbWNfZnVuY3Mg
Z21jX3Y4XzBfZ21jX2Z1bmNzID0gew0KIAkuZW1pdF9mbHVzaF9ncHVfdGxiID0gZ21jX3Y4XzBf
ZW1pdF9mbHVzaF9ncHVfdGxiLA0KIAkuZW1pdF9wYXNpZF9tYXBwaW5nID0gZ21jX3Y4XzBfZW1p
dF9wYXNpZF9tYXBwaW5nLA0KIAkuc2V0X3BydCA9IGdtY192OF8wX3NldF9wcnQsDQotCS5nZXRf
dm1fcHRlX2ZsYWdzID0gZ21jX3Y4XzBfZ2V0X3ZtX3B0ZV9mbGFncywNCiAJLmdldF92bV9wZGUg
PSBnbWNfdjhfMF9nZXRfdm1fcGRlDQogfTsNCiANCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9nbWNfdjlfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21j
X3Y5XzAuYw0KaW5kZXggYWYwNjlhNDgzN2ZhLi4yMjY2MGUxMDA1ZGIgMTAwNjQ0DQotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjlfMC5jDQorKysgYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9nbWNfdjlfMC5jDQpAQCAtNTgwLDQ3ICs1ODAsMjUgQEAgc3RhdGljIHZv
aWQgZ21jX3Y5XzBfZW1pdF9wYXNpZF9tYXBwaW5nKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywg
dW5zaWduZWQgdm1pZCwNCiAgKiAwIHZhbGlkDQogICovDQogDQotc3RhdGljIHVpbnQ2NF90IGdt
Y192OV8wX2dldF92bV9wdGVfZmxhZ3Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQotCQkJ
CQkJdWludDMyX3QgZmxhZ3MpDQorc3RhdGljIHVpbnQ2NF90IGdtY192OV8wX21hcF9tdHlwZShz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgdWludDMyX3QgDQorZmxhZ3MpDQogDQogew0KLQl1
aW50NjRfdCBwdGVfZmxhZyA9IDA7DQotDQotCWlmIChmbGFncyAmIEFNREdQVV9WTV9QQUdFX0VY
RUNVVEFCTEUpDQotCQlwdGVfZmxhZyB8PSBBTURHUFVfUFRFX0VYRUNVVEFCTEU7DQotCWlmIChm
bGFncyAmIEFNREdQVV9WTV9QQUdFX1JFQURBQkxFKQ0KLQkJcHRlX2ZsYWcgfD0gQU1ER1BVX1BU
RV9SRUFEQUJMRTsNCi0JaWYgKGZsYWdzICYgQU1ER1BVX1ZNX1BBR0VfV1JJVEVBQkxFKQ0KLQkJ
cHRlX2ZsYWcgfD0gQU1ER1BVX1BURV9XUklURUFCTEU7DQotDQotCXN3aXRjaCAoZmxhZ3MgJiBB
TURHUFVfVk1fTVRZUEVfTUFTSykgew0KKwlzd2l0Y2ggKGZsYWdzKSB7DQogCWNhc2UgQU1ER1BV
X1ZNX01UWVBFX0RFRkFVTFQ6DQotCQlwdGVfZmxhZyB8PSBBTURHUFVfUFRFX01UWVBFX1ZHMTAo
TVRZUEVfTkMpOw0KLQkJYnJlYWs7DQorCQlyZXR1cm4gQU1ER1BVX1BURV9NVFlQRV9WRzEwKE1U
WVBFX05DKTsNCiAJY2FzZSBBTURHUFVfVk1fTVRZUEVfTkM6DQotCQlwdGVfZmxhZyB8PSBBTURH
UFVfUFRFX01UWVBFX1ZHMTAoTVRZUEVfTkMpOw0KLQkJYnJlYWs7DQorCQlyZXR1cm4gQU1ER1BV
X1BURV9NVFlQRV9WRzEwKE1UWVBFX05DKTsNCiAJY2FzZSBBTURHUFVfVk1fTVRZUEVfV0M6DQot
CQlwdGVfZmxhZyB8PSBBTURHUFVfUFRFX01UWVBFX1ZHMTAoTVRZUEVfV0MpOw0KLQkJYnJlYWs7
DQorCQlyZXR1cm4gQU1ER1BVX1BURV9NVFlQRV9WRzEwKE1UWVBFX1dDKTsNCiAJY2FzZSBBTURH
UFVfVk1fTVRZUEVfUlc6DQotCQlwdGVfZmxhZyB8PSBBTURHUFVfUFRFX01UWVBFX1ZHMTAoTVRZ
UEVfUlcpOw0KLQkJYnJlYWs7DQorCQlyZXR1cm4gQU1ER1BVX1BURV9NVFlQRV9WRzEwKE1UWVBF
X1JXKTsNCiAJY2FzZSBBTURHUFVfVk1fTVRZUEVfQ0M6DQotCQlwdGVfZmxhZyB8PSBBTURHUFVf
UFRFX01UWVBFX1ZHMTAoTVRZUEVfQ0MpOw0KLQkJYnJlYWs7DQorCQlyZXR1cm4gQU1ER1BVX1BU
RV9NVFlQRV9WRzEwKE1UWVBFX0NDKTsNCiAJY2FzZSBBTURHUFVfVk1fTVRZUEVfVUM6DQotCQlw
dGVfZmxhZyB8PSBBTURHUFVfUFRFX01UWVBFX1ZHMTAoTVRZUEVfVUMpOw0KLQkJYnJlYWs7DQor
CQlyZXR1cm4gQU1ER1BVX1BURV9NVFlQRV9WRzEwKE1UWVBFX1VDKTsNCiAJZGVmYXVsdDoNCi0J
CXB0ZV9mbGFnIHw9IEFNREdQVV9QVEVfTVRZUEVfVkcxMChNVFlQRV9OQyk7DQotCQlicmVhazsN
CisJCXJldHVybiBBTURHUFVfUFRFX01UWVBFX1ZHMTAoTVRZUEVfTkMpOw0KIAl9DQotDQotCWlm
IChmbGFncyAmIEFNREdQVV9WTV9QQUdFX1BSVCkNCi0JCXB0ZV9mbGFnIHw9IEFNREdQVV9QVEVf
UFJUOw0KLQ0KLQlyZXR1cm4gcHRlX2ZsYWc7DQogfQ0KIA0KIHN0YXRpYyB2b2lkIGdtY192OV8w
X2dldF92bV9wZGUoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIGludCBsZXZlbCwgQEAgLTY1
MSw3ICs2MjksNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGFtZGdwdV9nbWNfZnVuY3MgZ21jX3Y5
XzBfZ21jX2Z1bmNzID0gew0KIAkuZmx1c2hfZ3B1X3RsYiA9IGdtY192OV8wX2ZsdXNoX2dwdV90
bGIsDQogCS5lbWl0X2ZsdXNoX2dwdV90bGIgPSBnbWNfdjlfMF9lbWl0X2ZsdXNoX2dwdV90bGIs
DQogCS5lbWl0X3Bhc2lkX21hcHBpbmcgPSBnbWNfdjlfMF9lbWl0X3Bhc2lkX21hcHBpbmcsDQot
CS5nZXRfdm1fcHRlX2ZsYWdzID0gZ21jX3Y5XzBfZ2V0X3ZtX3B0ZV9mbGFncywNCisJLm1hcF9t
dHlwZSA9IGdtY192OV8wX21hcF9tdHlwZSwNCiAJLmdldF92bV9wZGUgPSBnbWNfdjlfMF9nZXRf
dm1fcGRlDQogfTsNCiANCi0tDQoyLjE3LjENCg0KX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18NCmFtZC1nZnggbWFpbGluZyBsaXN0DQphbWQtZ2Z4QGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZw0KaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9s
aXN0aW5mby9hbWQtZ2Z4DQpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9y
ZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZng=
