Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 98EDF4C442
	for <lists+amd-gfx@lfdr.de>; Thu, 20 Jun 2019 01:59:59 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D1A6F6E480;
	Wed, 19 Jun 2019 23:59:56 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM05-BY2-obe.outbound.protection.outlook.com
 (mail-eopbgr710081.outbound.protection.outlook.com [40.107.71.81])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 437CE6E480
 for <amd-gfx@lists.freedesktop.org>; Wed, 19 Jun 2019 23:59:55 +0000 (UTC)
Received: from CH2PR12MB3831.namprd12.prod.outlook.com (52.132.245.141) by
 CH2PR12MB3765.namprd12.prod.outlook.com (52.132.244.211) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1987.12; Wed, 19 Jun 2019 23:59:52 +0000
Received: from CH2PR12MB3831.namprd12.prod.outlook.com
 ([fe80::3459:726f:43e7:a64c]) by CH2PR12MB3831.namprd12.prod.outlook.com
 ([fe80::3459:726f:43e7:a64c%4]) with mapi id 15.20.1987.014; Wed, 19 Jun 2019
 23:59:52 +0000
From: "Kim, Jonathan" <Jonathan.Kim@amd.com>
To: "Kuehling, Felix" <Felix.Kuehling@amd.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH 1/2] drm/amdgpu: update df_v3_6 for xgmi perfmons
Thread-Topic: [PATCH 1/2] drm/amdgpu: update df_v3_6 for xgmi perfmons
Thread-Index: AQHVJvFUw57Y/VqlBEKvd4ntXoeQC6ajn12AgAAHalA=
Date: Wed, 19 Jun 2019 23:59:52 +0000
Message-ID: <CH2PR12MB3831FFFFC65C4728F43AE2B185E50@CH2PR12MB3831.namprd12.prod.outlook.com>
References: <20190619224943.130022-1-jonathan.kim@amd.com>
 <6cb35787-eff6-a354-3463-2fe3dd97c9f1@amd.com>
In-Reply-To: <6cb35787-eff6-a354-3463-2fe3dd97c9f1@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [2607:fea8:520:117:4121:155c:486c:39e1]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 5d8ffc52-f3c2-4197-1a55-08d6f51238a9
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:CH2PR12MB3765; 
x-ms-traffictypediagnostic: CH2PR12MB3765:
x-microsoft-antispam-prvs: <CH2PR12MB376544DE78D3CF576B495ADE85E50@CH2PR12MB3765.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:7691;
x-forefront-prvs: 0073BFEF03
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(396003)(136003)(376002)(366004)(346002)(39860400002)(199004)(13464003)(189003)(8936002)(53946003)(2501003)(66446008)(6246003)(478600001)(52536014)(66946007)(73956011)(9686003)(76116006)(110136005)(316002)(76176011)(66476007)(486006)(305945005)(102836004)(446003)(11346002)(99286004)(15650500001)(71190400001)(46003)(71200400001)(7696005)(68736007)(7736002)(476003)(14444005)(33656002)(25786009)(53936002)(72206003)(53546011)(81166006)(6436002)(256004)(86362001)(14454004)(55016002)(66556008)(8676002)(229853002)(81156014)(64756008)(6506007)(2906002)(74316002)(5660300002)(6116002)(30864003)(186003)(579004);
 DIR:OUT; SFP:1101; SCL:1; SRVR:CH2PR12MB3765;
 H:CH2PR12MB3831.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: d6EtiuSvv0cXDXbxxUau46kozYM8JZJUwrgqWtXA66Xj+UvdyfQ9MR3eVIkmFMrweFceMvEbZl5cuxyGxn1f8ZX/bcIuD3NDXTGTBf/Z3/X2NBqRFX5hFJVspwUDi9I53G+9s1fl1EuGT1wMvNWcOkLOcjFlXqrZQLTRnS3t0rPe4VK2CzSHRg0tuTqRf8zAi0yQeIpHOcnWETr+5Psz2hZw06SZBpBM5t1l2ntor/GE0D5zs3d29SpDomlYpSB+YzjZO5aI/ihjFo08p7XwcJzm+NSvNMNXrLDoD23PSZG5WkrAwvUcg147SCDFGVtIOqgLn7Kkh0M1eiLSCeR9pDhX/8XxO721N6CEnelFjKry67NVuKb4aRp8LH9UE4ZIFsxdILuGExJRhKeMVNbdhoNHkMhBwcdBrxfx+a9D438=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 5d8ffc52-f3c2-4197-1a55-08d6f51238a9
X-MS-Exchange-CrossTenant-originalarrivaltime: 19 Jun 2019 23:59:52.5838 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: jokim@amd.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: CH2PR12MB3765
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=YkCNlJFTVODQp5JD7FVoq1C9xsRaGR/Rdpt/jGm2QpA=;
 b=XqAbVYhLMWlfm0FhmD5cC6GZc+zYDDHZ2y6AA89/TpgQieP7krCUwAvTCyzlkkFjqDs0icjRU14+wpfe4fROcEbms4Na9HK4tH6kTgaROQNGshFKI9eCNXxi95TJeDtExktmRhmXR6NSvCGczPU1XxKcFvUQnmWp2ghng/9NsIM=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Jonathan.Kim@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

SSBkaWQgZHluYW1pYyBhbGxvY2F0aW9uIGluIGNhc2UgZnV0dXJlIGRmIHZlcnNpb25zIGNoYW5n
ZSB0aGUgbnVtYmVyIG9mIHBlcmZtb25zIGF2YWlsYWJsZS4NCkkgY291bGQgc2V0IGEgZml4ZWQg
aGFyZCBsaW1pdCAobGlrZSAxNikgaW4gYWRldiBzaW5jZSB0aGUgdGhpcyB2ZXJzaW9uIG9mIGRm
IGNvZGUgdXNlcyBERl9WM182X01BWF9DT1VOVEVSUyB0byBtYW5hZ2UgY291bnRlcnMgYXZhaWxh
YmlsaXR5Lg0KQW5kIGlmIHdlIGV4Y2VlZCAxNiBmb3IgZnV0dXJlIGlwcywgdGhlbiBkbyBhIHJl
LXJldmlldyBvciBqdXN0IHVwIHRoZSBoYXJkIGxpbWl0IGlmIGl0J3Mgc3RpbGwgc21hbGwgZW5v
dWdoLg0KDQpKb24NCg0KLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZyb206IEt1ZWhsaW5n
LCBGZWxpeCA8RmVsaXguS3VlaGxpbmdAYW1kLmNvbT4gDQpTZW50OiBXZWRuZXNkYXksIEp1bmUg
MTksIDIwMTkgNzoyOCBQTQ0KVG86IEtpbSwgSm9uYXRoYW4gPEpvbmF0aGFuLktpbUBhbWQuY29t
PjsgYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcNClN1YmplY3Q6IFJlOiBbUEFUQ0ggMS8y
XSBkcm0vYW1kZ3B1OiB1cGRhdGUgZGZfdjNfNiBmb3IgeGdtaSBwZXJmbW9ucw0KDQpPbmUgbW9y
ZSBwb3NzaWJsZSBzaW1wbGlmaWNhdGlvbiBiZWxvdy4NCg0KT24gMjAxOS0wNi0xOSA2OjUwIHAu
bS4sIEtpbSwgSm9uYXRoYW4gd3JvdGU6DQo+IHY0OiBmaXhlZCBremFsbG9jIGVycm9yIGNoZWNr
IGFuZCBtb2RpZmllZCBkZiBmdW5jIGluaXQgdG8gcmV0dXJuIA0KPiBlcnJvciBjb2RlDQo+DQo+
IHYzOiBmaXhlZCBjbGVhbnVwIGJ5IGFkZGluZyBmaW5pIHRvIGZyZWUgdXAgYWRldiBkZiBjb25m
aWcgY291bnRlcnMNCj4NCj4gdjI6IHNpbXBsaWZpZWQgYnkgcmVtb3ZpbmcgeGdtaSByZWZlcmVu
Y2VzIGluIGZ1bmN0aW9uIG5hbWVzIGFuZCANCj4gbW92aW5nIHRvIGdlbmVyaWMgZGYgZnVuY3Rp
b24gbmFtZXMuICBmaXhlZCBpc3N1ZSBieSByZW1vdmluZyANCj4gaGFyZGNvZGVkIGNha2UgdHgg
ZGF0YSBldmVudHMuIHN0cmVhbWxpbmVkIGVycm9yIGhhbmRsaW5nIGJ5IGhhdmluZyAgDQo+IGRm
X3YzXzZfcG1jX2dldF9jdHJsIHJldHVybiBlcnJvciBjb2RlLg0KPg0KPiBhZGQgcG11IGF0dHJp
YnV0ZSBncm91cHMgYW5kIHN0cnVjdHVyZXMgZm9yIHBlcmYgZXZlbnRzLg0KPiBhZGQgc3lzZnMg
dG8gdHJhY2sgYXZhaWxhYmxlIGRmIHBlcmZtb24gY291bnRlcnMgZml4IG92ZXJmbG93IGhhbmRs
aW5nIA0KPiBpbiBwZXJmbW9uIGNvdW50ZXIgcmVhZHMuDQo+DQo+IENoYW5nZS1JZDogSTYxZjcz
MWMwMDY2YjE3ODM0NjU2Yzc0NmU3ZWZlMDM4YzRmNjJhY2YNCj4gU2lnbmVkLW9mZi1ieTogSm9u
YXRoYW4gS2ltIDxKb25hdGhhbi5LaW1AYW1kLmNvbT4NCj4gLS0tDQo+ICAgZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvYW1kZ3B1LmggIHwgIDE5ICstDQo+ICAgZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvZGZfdjFfNy5jIHwgICAzICstDQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvZGZfdjNfNi5jIHwgNDY2ICsrKysrKysrKysrKystLS0tLS0tLS0tLS0tLQ0KPiAgIGRyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2RmX3YzXzYuaCB8ICAxOSArLQ0KPiAgIGRyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L3NvYzE1LmMgICB8ICAgOCArDQo+ICAgNSBmaWxlcyBjaGFuZ2VkLCAy
NTQgaW5zZXJ0aW9ucygrKSwgMjYxIGRlbGV0aW9ucygtKQ0KPg0KPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1LmggDQo+IGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1LmgNCj4gaW5kZXggZDM1NWU5YTA5YWQxLi41NzgwZTE1N2ZkNzIgMTAw
NjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdS5oDQo+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdS5oDQo+IEBAIC02ODEsNyArNjgxLDgg
QEAgc3RydWN0IGFtZGdwdV9uYmlvX2Z1bmNzIHsNCj4gICB9Ow0KPiAgIA0KPiAgIHN0cnVjdCBh
bWRncHVfZGZfZnVuY3Mgew0KPiAtCXZvaWQgKCppbml0KShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldik7DQo+ICsJaW50ICgqaW5pdCkoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpOw0KPiAr
CXZvaWQgKCpmaW5pKShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7DQo+ICAgCXZvaWQgKCpl
bmFibGVfYnJvYWRjYXN0X21vZGUpKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KPiAgIAkJ
CQkgICAgICBib29sIGVuYWJsZSk7DQo+ICAgCXUzMiAoKmdldF9mYl9jaGFubmVsX251bWJlciko
c3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpOyBAQCAtOTYyLDYgDQo+ICs5NjMsNyBAQCBzdHJ1
Y3QgYW1kZ3B1X2RldmljZSB7DQo+ICAgCWxvbmcJCQkJY29tcHV0ZV90aW1lb3V0Ow0KPiAgIA0K
PiAgIAl1aW50NjRfdAkJCXVuaXF1ZV9pZDsNCj4gKwl1aW50NjRfdAkJCSpkZl9wZXJmbW9uX2Nv
bmZpZ19hc3NpZ25fbWFzazsNCj4gICB9Ow0KPiAgIA0KPiAgIHN0YXRpYyBpbmxpbmUgc3RydWN0
IGFtZGdwdV9kZXZpY2UgKmFtZGdwdV90dG1fYWRldihzdHJ1Y3QgDQo+IHR0bV9ib19kZXZpY2Ug
KmJkZXYpIEBAIC0xMjAxLDQgKzEyMDMsMTkgQEAgc3RhdGljIGlubGluZSBpbnQgYW1kZ3B1X2Rt
X2Rpc3BsYXlfcmVzdW1lKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KSB7IHJldHVybg0KPiAg
ICNlbmRpZg0KPiAgIA0KPiAgICNpbmNsdWRlICJhbWRncHVfb2JqZWN0LmgiDQo+ICsNCj4gKy8q
IHVzZWQgYnkgZGZfdjNfNi5jIGFuZCBhbWRncHVfcG11LmMgKi8NCj4gKyNkZWZpbmUgQU1ER1BV
X1BNVV9BVFRSKF9uYW1lLCBfb2JqZWN0KQkJCQlcDQo+ICtzdGF0aWMgc3NpemVfdAkJCQkJCQkJ
XA0KPiArX25hbWUjI19zaG93KHN0cnVjdCBkZXZpY2UgKmRldiwJCQkJCVwNCj4gKwkJCSAgICAg
ICBzdHJ1Y3QgZGV2aWNlX2F0dHJpYnV0ZSAqYXR0ciwJCVwNCj4gKwkJCSAgICAgICBjaGFyICpw
YWdlKQkJCQlcDQo+ICt7CQkJCQkJCQkJXA0KPiArCUJVSUxEX0JVR19PTihzaXplb2YoX29iamVj
dCkgPj0gUEFHRV9TSVpFIC0gMSk7CQkJXA0KPiArCXJldHVybiBzcHJpbnRmKHBhZ2UsIF9vYmpl
Y3QgIlxuIik7CQkJCVwNCj4gK30JCQkJCQkJCQlcDQo+ICsJCQkJCQkJCQlcDQo+ICtzdGF0aWMg
c3RydWN0IGRldmljZV9hdHRyaWJ1dGUgcG11X2F0dHJfIyNfbmFtZSA9IF9fQVRUUl9STyhfbmFt
ZSkNCj4gKw0KPiAgICNlbmRpZg0KPiArDQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9kZl92MV83LmMgDQo+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZGZf
djFfNy5jDQo+IGluZGV4IDk5MzUzNzFkYjdjZS4uY2M5NjRkNTJkZWU0IDEwMDY0NA0KPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9kZl92MV83LmMNCj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvZGZfdjFfNy5jDQo+IEBAIC0yOSw4ICsyOSw5IEBADQo+ICAgDQo+
ICAgc3RhdGljIHUzMiBkZl92MV83X2NoYW5uZWxfbnVtYmVyW10gPSB7MSwgMiwgMCwgNCwgMCwg
OCwgMCwgMTYsIDJ9Ow0KPiAgIA0KPiAtc3RhdGljIHZvaWQgZGZfdjFfN19pbml0IChzdHJ1Y3Qg
YW1kZ3B1X2RldmljZSAqYWRldikNCj4gK3N0YXRpYyBpbnQgZGZfdjFfN19pbml0IChzdHJ1Y3Qg
YW1kZ3B1X2RldmljZSAqYWRldikNCj4gICB7DQo+ICsJcmV0dXJuIDA7DQo+ICAgfQ0KPiAgIA0K
PiAgIHN0YXRpYyB2b2lkIGRmX3YxXzdfZW5hYmxlX2Jyb2FkY2FzdF9tb2RlKHN0cnVjdCBhbWRn
cHVfZGV2aWNlIA0KPiAqYWRldiwgZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2RmX3YzXzYuYyANCj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9kZl92M182LmMN
Cj4gaW5kZXggOGMwOWJmOTk0YWNkLi5jYWU2NmJjNTk5ODYgMTAwNjQ0DQo+IC0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2RmX3YzXzYuYw0KPiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9kZl92M182LmMNCj4gQEAgLTMwLDggKzMwLDExOCBAQA0KPiAgIHN0YXRpYyB1
MzIgZGZfdjNfNl9jaGFubmVsX251bWJlcltdID0gezEsIDIsIDAsIDQsIDAsIDgsIDAsDQo+ICAg
CQkJCSAgICAgICAxNiwgMzIsIDAsIDAsIDAsIDIsIDQsIDh9Ow0KPiAgIA0KPiAtc3RhdGljIHZv
aWQgZGZfdjNfNl9pbml0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQ0KPiArLyogaW5pdCBk
ZiBmb3JtYXQgYXR0cnMgKi8NCj4gK0FNREdQVV9QTVVfQVRUUihldmVudCwJCSJjb25maWc6MC03
Iik7DQo+ICtBTURHUFVfUE1VX0FUVFIoaW5zdGFuY2UsCSJjb25maWc6OC0xNSIpOw0KPiArQU1E
R1BVX1BNVV9BVFRSKHVtYXNrLAkJImNvbmZpZzoxNi0yMyIpOw0KPiArDQo+ICsvKiBkZiBmb3Jt
YXQgYXR0cmlidXRlcyAgKi8NCj4gK3N0YXRpYyBzdHJ1Y3QgYXR0cmlidXRlICpkZl92M182X2Zv
cm1hdF9hdHRyc1tdID0gew0KPiArCSZwbXVfYXR0cl9ldmVudC5hdHRyLA0KPiArCSZwbXVfYXR0
cl9pbnN0YW5jZS5hdHRyLA0KPiArCSZwbXVfYXR0cl91bWFzay5hdHRyLA0KPiArCU5VTEwNCj4g
K307DQo+ICsNCj4gKy8qIGRmIGZvcm1hdCBhdHRyaWJ1dGUgZ3JvdXAgKi8NCj4gK3N0YXRpYyBz
dHJ1Y3QgYXR0cmlidXRlX2dyb3VwIGRmX3YzXzZfZm9ybWF0X2F0dHJfZ3JvdXAgPSB7DQo+ICsJ
Lm5hbWUgPSAiZm9ybWF0IiwNCj4gKwkuYXR0cnMgPSBkZl92M182X2Zvcm1hdF9hdHRycywNCj4g
K307DQo+ICsNCj4gKy8qIGRmIGV2ZW50IGF0dHJzICovDQo+ICtBTURHUFVfUE1VX0FUVFIoY2Fr
ZTBfcGNzb3V0X3R4ZGF0YSwNCj4gKwkJICAgICAgImV2ZW50PTB4NyxpbnN0YW5jZT0weDQ2LHVt
YXNrPTB4MiIpOw0KPiArQU1ER1BVX1BNVV9BVFRSKGNha2UxX3Bjc291dF90eGRhdGEsDQo+ICsJ
CSAgICAgICJldmVudD0weDcsaW5zdGFuY2U9MHg0Nyx1bWFzaz0weDIiKTsNCj4gK0FNREdQVV9Q
TVVfQVRUUihjYWtlMF9wY3NvdXRfdHhtZXRhLA0KPiArCQkgICAgICAiZXZlbnQ9MHg3LGluc3Rh
bmNlPTB4NDYsdW1hc2s9MHg0Iik7DQo+ICtBTURHUFVfUE1VX0FUVFIoY2FrZTFfcGNzb3V0X3R4
bWV0YSwNCj4gKwkJICAgICAgImV2ZW50PTB4NyxpbnN0YW5jZT0weDQ3LHVtYXNrPTB4NCIpOw0K
PiArQU1ER1BVX1BNVV9BVFRSKGNha2UwX2Z0aWluc3RhdF9yZXFhbGxvYywNCj4gKwkJICAgICAg
ImV2ZW50PTB4YixpbnN0YW5jZT0weDQ2LHVtYXNrPTB4NCIpOw0KPiArQU1ER1BVX1BNVV9BVFRS
KGNha2UxX2Z0aWluc3RhdF9yZXFhbGxvYywNCj4gKwkJICAgICAgImV2ZW50PTB4YixpbnN0YW5j
ZT0weDQ3LHVtYXNrPTB4NCIpOw0KPiArQU1ER1BVX1BNVV9BVFRSKGNha2UwX2Z0aWluc3RhdF9y
c3BhbGxvYywNCj4gKwkJICAgICAgImV2ZW50PTB4YixpbnN0YW5jZT0weDQ2LHVtYXNrPTB4OCIp
Ow0KPiArQU1ER1BVX1BNVV9BVFRSKGNha2UxX2Z0aWluc3RhdF9yc3BhbGxvYywNCj4gKwkJICAg
ICAgImV2ZW50PTB4YixpbnN0YW5jZT0weDQ3LHVtYXNrPTB4OCIpOw0KPiArDQo+ICsvKiBkZiBl
dmVudCBhdHRyaWJ1dGVzICAqLw0KPiArc3RhdGljIHN0cnVjdCBhdHRyaWJ1dGUgKmRmX3YzXzZf
ZXZlbnRfYXR0cnNbXSA9IHsNCj4gKwkmcG11X2F0dHJfY2FrZTBfcGNzb3V0X3R4ZGF0YS5hdHRy
LA0KPiArCSZwbXVfYXR0cl9jYWtlMV9wY3NvdXRfdHhkYXRhLmF0dHIsDQo+ICsJJnBtdV9hdHRy
X2Nha2UwX3Bjc291dF90eG1ldGEuYXR0ciwNCj4gKwkmcG11X2F0dHJfY2FrZTFfcGNzb3V0X3R4
bWV0YS5hdHRyLA0KPiArCSZwbXVfYXR0cl9jYWtlMF9mdGlpbnN0YXRfcmVxYWxsb2MuYXR0ciwN
Cj4gKwkmcG11X2F0dHJfY2FrZTFfZnRpaW5zdGF0X3JlcWFsbG9jLmF0dHIsDQo+ICsJJnBtdV9h
dHRyX2Nha2UwX2Z0aWluc3RhdF9yc3BhbGxvYy5hdHRyLA0KPiArCSZwbXVfYXR0cl9jYWtlMV9m
dGlpbnN0YXRfcnNwYWxsb2MuYXR0ciwNCj4gKwlOVUxMDQo+ICt9Ow0KPiArDQo+ICsvKiBkZiBl
dmVudCBhdHRyaWJ1dGUgZ3JvdXAgKi8NCj4gK3N0YXRpYyBzdHJ1Y3QgYXR0cmlidXRlX2dyb3Vw
IGRmX3YzXzZfZXZlbnRfYXR0cl9ncm91cCA9IHsNCj4gKwkubmFtZSA9ICJldmVudHMiLA0KPiAr
CS5hdHRycyA9IGRmX3YzXzZfZXZlbnRfYXR0cnMNCj4gK307DQo+ICsNCj4gKy8qIGRmIGV2ZW50
IGF0dHIgZ3JvdXBzICAqLw0KPiArY29uc3Qgc3RydWN0IGF0dHJpYnV0ZV9ncm91cCAqZGZfdjNf
Nl9hdHRyX2dyb3Vwc1tdID0gew0KPiArCQkmZGZfdjNfNl9mb3JtYXRfYXR0cl9ncm91cCwNCj4g
KwkJJmRmX3YzXzZfZXZlbnRfYXR0cl9ncm91cCwNCj4gKwkJTlVMTA0KPiArfTsNCj4gKw0KPiAr
LyogZ2V0IHRoZSBudW1iZXIgb2YgZGYgY291bnRlcnMgYXZhaWxhYmxlICovIHN0YXRpYyBzc2l6
ZV90IA0KPiArZGZfdjNfNl9nZXRfZGZfY250cl9hdmFpbChzdHJ1Y3QgZGV2aWNlICpkZXYsDQo+
ICsJCXN0cnVjdCBkZXZpY2VfYXR0cmlidXRlICphdHRyLA0KPiArCQljaGFyICpidWYpDQo+ICt7
DQo+ICsJc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXY7DQo+ICsJc3RydWN0IGRybV9kZXZpY2Ug
KmRkZXY7DQo+ICsJaW50IGksIGNvdW50Ow0KPiArDQo+ICsJZGRldiA9IGRldl9nZXRfZHJ2ZGF0
YShkZXYpOw0KPiArCWFkZXYgPSBkZGV2LT5kZXZfcHJpdmF0ZTsNCj4gKwljb3VudCA9IDA7DQo+
ICsNCj4gKwlmb3IgKGkgPSAwOyBpIDwgREZfVjNfNl9NQVhfQ09VTlRFUlM7IGkrKykgew0KPiAr
CQlpZiAoYWRldi0+ZGZfcGVyZm1vbl9jb25maWdfYXNzaWduX21hc2tbaV0gPT0gMCkNCj4gKwkJ
CWNvdW50Kys7DQo+ICsJfQ0KPiArDQo+ICsJcmV0dXJuIHNucHJpbnRmKGJ1ZiwgUEFHRV9TSVpF
LAkiJWlcbiIsIGNvdW50KTsNCj4gK30NCj4gKw0KPiArLyogZGV2aWNlIGF0dHIgZm9yIGF2YWls
YWJsZSBwZXJmbW9uIGNvdW50ZXJzICovIHN0YXRpYyANCj4gK0RFVklDRV9BVFRSKGRmX2NudHJf
YXZhaWwsIFNfSVJVR08sIGRmX3YzXzZfZ2V0X2RmX2NudHJfYXZhaWwsIE5VTEwpOw0KPiArDQo+
ICsvKiBpbml0IHBlcmZtb25zICovDQo+ICtzdGF0aWMgaW50IGRmX3YzXzZfaW5pdChzdHJ1Y3Qg
YW1kZ3B1X2RldmljZSAqYWRldikgew0KPiArCWludCBpLCByZXQ7DQo+ICsNCj4gKwlyZXQgPSBk
ZXZpY2VfY3JlYXRlX2ZpbGUoYWRldi0+ZGV2LCAmZGV2X2F0dHJfZGZfY250cl9hdmFpbCk7DQo+
ICsJaWYgKHJldCkNCj4gKwkJRFJNX0VSUk9SKCJmYWlsZWQgdG8gY3JlYXRlIGZpbGUgZm9yIGF2
YWlsYWJsZSBkZiBjb3VudGVyc1xuIik7DQo+ICsNCj4gKwlhZGV2LT5kZl9wZXJmbW9uX2NvbmZp
Z19hc3NpZ25fbWFzayA9DQo+ICsJCWt6YWxsb2Moc2l6ZW9mKHVpbnQ2NF90KSAqIERGX1YzXzZf
TUFYX0NPVU5URVJTLCBHRlBfS0VSTkVMKTsNCg0KVGhlIHNpemUgb2YgdGhlIGFycmF5IGlzIGZp
eGVkIGFuZCBxdWl0ZSBzbWFsbCAob25seSA0IGVudHJpZXMpLiBNYXliZSB3ZSBkb24ndCBuZWVk
IHRvIGFsbG9jYXRlIHRoaXMgZHluYW1pY2FsbHkgYXQgYWxsLiBKdXN0IG1ha2UgaXQgYSBmaXhl
ZCBzaXplIGFycmF5IGluIGFkZXYuIFRoZW4gdGhpcyBmdW5jdGlvbiBjYW4ndCBmYWlsLCB3aGlj
aCBzaW1wbGlmaWVzIHRoZSBlcnJvciBoYW5kbGluZyBpbiBzb2MxNV9jb21tb25faHdfaW5pdCBh
bmQgeW91IGRvbid0IG5lZWQgdG8gYWRkIHRoZSBfZmluaSBmdW5jdGlvbiB0byBmcmVlIHRoZSBt
ZW1vcnkgYW55IG1vcmUuDQoNCg0KPiArDQo+ICsJaWYgKCFhZGV2LT5kZl9wZXJmbW9uX2NvbmZp
Z19hc3NpZ25fbWFzaykNCj4gKwkJcmV0dXJuIC1FTk9NRU07DQo+ICsNCj4gKwlmb3IgKGkgPSAw
OyBpIDwgREZfVjNfNl9NQVhfQ09VTlRFUlM7IGkrKykNCj4gKwkJYWRldi0+ZGZfcGVyZm1vbl9j
b25maWdfYXNzaWduX21hc2tbaV0gPSAwOw0KPiArDQo+ICsJcmV0dXJuIDA7DQo+ICt9DQo+ICsN
Cj4gK3N0YXRpYyB2b2lkIGRmX3YzXzZfZmluaShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikN
Cj4gICB7DQo+ICsJa2ZyZWUoYWRldi0+ZGZfcGVyZm1vbl9jb25maWdfYXNzaWduX21hc2spOw0K
PiArCWFkZXYtPmRmX3BlcmZtb25fY29uZmlnX2Fzc2lnbl9tYXNrID0gTlVMTDsNCj4gICB9DQo+
ICAgDQo+ICAgc3RhdGljIHZvaWQgZGZfdjNfNl9lbmFibGVfYnJvYWRjYXN0X21vZGUoc3RydWN0
IGFtZGdwdV9kZXZpY2UgDQo+ICphZGV2LCBAQCAtMTA1LDI4ICsyMTUsMTkgQEAgc3RhdGljIHZv
aWQgZGZfdjNfNl9nZXRfY2xvY2tnYXRpbmdfc3RhdGUoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFk
ZXYsDQo+ICAgCQkqZmxhZ3MgfD0gQU1EX0NHX1NVUFBPUlRfREZfTUdDRzsNCj4gICB9DQo+ICAg
DQo+IC0vKiBob2xkIGNvdW50ZXIgYXNzaWdubWVudCBwZXIgZ3B1IHN0cnVjdCAqLyAtc3RydWN0
IA0KPiBkZl92M182X2V2ZW50X21hc2sgew0KPiAtCQlzdHJ1Y3QgYW1kZ3B1X2RldmljZSBncHU7
DQo+IC0JCXVpbnQ2NF90IGNvbmZpZ19hc3NpZ25fbWFza1tBTURHUFVfREZfTUFYX0NPVU5URVJT
XTsNCj4gLX07DQo+IC0NCj4gICAvKiBnZXQgYXNzaWduZWQgZGYgcGVyZm1vbiBjdHIgYXMgaW50
ICovIC1zdGF0aWMgdm9pZCANCj4gZGZfdjNfNl9wbWNfY29uZmlnXzJfY250cihzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldiwNCj4gLQkJCQkgICAgICB1aW50NjRfdCBjb25maWcsDQo+IC0JCQkJ
ICAgICAgaW50ICpjb3VudGVyKQ0KPiArc3RhdGljIGludCBkZl92M182X3BtY19jb25maWdfMl9j
bnRyKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KPiArCQkJCSAgICAgIHVpbnQ2NF90IGNv
bmZpZykNCj4gICB7DQo+IC0Jc3RydWN0IGRmX3YzXzZfZXZlbnRfbWFzayAqbWFzazsNCj4gICAJ
aW50IGk7DQo+ICAgDQo+IC0JbWFzayA9IGNvbnRhaW5lcl9vZihhZGV2LCBzdHJ1Y3QgZGZfdjNf
Nl9ldmVudF9tYXNrLCBncHUpOw0KPiAtDQo+IC0JZm9yIChpID0gMDsgaSA8IEFNREdQVV9ERl9N
QVhfQ09VTlRFUlM7IGkrKykgew0KPiAtCQlpZiAoKGNvbmZpZyAmIDB4MEZGRkZGRlVMKSA9PSBt
YXNrLT5jb25maWdfYXNzaWduX21hc2tbaV0pIHsNCj4gLQkJCSpjb3VudGVyID0gaTsNCj4gLQkJ
CXJldHVybjsNCj4gLQkJfQ0KPiArCWZvciAoaSA9IDA7IGkgPCBERl9WM182X01BWF9DT1VOVEVS
UzsgaSsrKSB7DQo+ICsJCWlmICgoY29uZmlnICYgMHgwRkZGRkZGVUwpID09DQo+ICsJCQkJCWFk
ZXYtPmRmX3BlcmZtb25fY29uZmlnX2Fzc2lnbl9tYXNrW2ldKQ0KPiArCQkJcmV0dXJuIGk7DQo+
ICAgCX0NCj4gKw0KPiArCXJldHVybiAtRUlOVkFMOw0KPiAgIH0NCj4gICANCj4gICAvKiBnZXQg
YWRkcmVzcyBiYXNlZCBvbiBjb3VudGVyIGFzc2lnbm1lbnQgKi8gQEAgLTEzNiwxMCArMjM3LDcg
QEAgDQo+IHN0YXRpYyB2b2lkIGRmX3YzXzZfcG1jX2dldF9hZGRyKHN0cnVjdCBhbWRncHVfZGV2
aWNlICphZGV2LA0KPiAgIAkJCQkgdWludDMyX3QgKmxvX2Jhc2VfYWRkciwNCj4gICAJCQkJIHVp
bnQzMl90ICpoaV9iYXNlX2FkZHIpDQo+ICAgew0KPiAtDQo+IC0JaW50IHRhcmdldF9jbnRyID0g
LTE7DQo+IC0NCj4gLQlkZl92M182X3BtY19jb25maWdfMl9jbnRyKGFkZXYsIGNvbmZpZywgJnRh
cmdldF9jbnRyKTsNCj4gKwlpbnQgdGFyZ2V0X2NudHIgPSBkZl92M182X3BtY19jb25maWdfMl9j
bnRyKGFkZXYsIGNvbmZpZyk7DQo+ICAgDQo+ICAgCWlmICh0YXJnZXRfY250ciA8IDApDQo+ICAg
CQlyZXR1cm47DQo+IEBAIC0xNzcsNDAgKzI3NSwzOCBAQCBzdGF0aWMgdm9pZCBkZl92M182X3Bt
Y19nZXRfcmVhZF9zZXR0aW5ncyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gICB9DQo+
ICAgDQo+ICAgLyogZ2V0IGNvbnRyb2wgY291bnRlciBzZXR0aW5ncyBpLmUuIGFkZHJlc3MgYW5k
IHZhbHVlcyB0byBzZXQgKi8gDQo+IC1zdGF0aWMgdm9pZCBkZl92M182X3BtY19nZXRfY3RybF9z
ZXR0aW5ncyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gK3N0YXRpYyBpbnQgZGZfdjNf
Nl9wbWNfZ2V0X2N0cmxfc2V0dGluZ3Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ICAg
CQkJCQkgIHVpbnQ2NF90IGNvbmZpZywNCj4gICAJCQkJCSAgdWludDMyX3QgKmxvX2Jhc2VfYWRk
ciwNCj4gICAJCQkJCSAgdWludDMyX3QgKmhpX2Jhc2VfYWRkciwNCj4gICAJCQkJCSAgdWludDMy
X3QgKmxvX3ZhbCwNCj4gICAJCQkJCSAgdWludDMyX3QgKmhpX3ZhbCkNCj4gICB7DQo+IC0NCj4g
LQl1aW50MzJfdCBldmVudHNlbCwgaW5zdGFuY2UsIHVuaXRtYXNrOw0KPiAtCXVpbnQzMl90IGVz
XzVfMCwgZXNfMTNfMCwgZXNfMTNfNiwgZXNfMTNfMTIsIGVzXzExXzgsIGVzXzdfMDsNCj4gLQ0K
PiAgIAlkZl92M182X3BtY19nZXRfYWRkcihhZGV2LCBjb25maWcsIDEsIGxvX2Jhc2VfYWRkciwg
aGlfYmFzZV9hZGRyKTsNCj4gICANCj4gLQlpZiAobG9fdmFsID09IE5VTEwgfHwgaGlfdmFsID09
IE5VTEwpDQo+IC0JCXJldHVybjsNCj4gLQ0KPiAgIAlpZiAoKCpsb19iYXNlX2FkZHIgPT0gMCkg
fHwgKCpoaV9iYXNlX2FkZHIgPT0gMCkpIHsNCj4gLQkJRFJNX0VSUk9SKCJERiBQTUMgYWRkcmVz
c2luZyBub3QgcmV0cmlldmVkISBMbzogJXgsIEhpOiAleCIsDQo+ICsJCURSTV9FUlJPUigiW0RG
IFBNQ10gYWRkcmVzc2luZyBub3QgcmV0cmlldmVkISBMbzogJXgsIEhpOiAleCIsDQo+ICAgCQkJ
CSpsb19iYXNlX2FkZHIsICpoaV9iYXNlX2FkZHIpOw0KPiAtCQlyZXR1cm47DQo+ICsJCXJldHVy
biAtRU5YSU87DQo+ICAgCX0NCj4gICANCj4gLQlldmVudHNlbCA9IEdFVF9FVkVOVChjb25maWcp
Ow0KPiAtCWluc3RhbmNlID0gR0VUX0lOU1RBTkNFKGNvbmZpZyk7DQo+IC0JdW5pdG1hc2sgPSBH
RVRfVU5JVE1BU0soY29uZmlnKTsNCj4gLQ0KPiAtCWVzXzVfMCA9IGV2ZW50c2VsICYgMHgzRlVM
Ow0KPiAtCWVzXzEzXzYgPSBpbnN0YW5jZTsNCj4gLQllc18xM18wID0gKGVzXzEzXzYgPDwgNikg
KyBlc181XzA7DQo+IC0JZXNfMTNfMTIgPSAoZXNfMTNfMCAmIDB4MDMwMDBVTCkgPj4gMTI7DQo+
IC0JZXNfMTFfOCA9IChlc18xM18wICYgMHgwRjAwVUwpID4+IDg7DQo+IC0JZXNfN18wID0gZXNf
MTNfMCAmIDB4MEZGVUw7DQo+IC0JKmxvX3ZhbCA9IChlc183XzAgJiAweEZGVUwpIHwgKCh1bml0
bWFzayAmIDB4MEZVTCkgPDwgOCk7DQo+IC0JKmhpX3ZhbCA9IChlc18xMV84IHwgKChlc18xM18x
Mik8PCgyOSkpKTsNCj4gKwlpZiAobG9fdmFsICYmIGhpX3ZhbCkgew0KPiArCQl1aW50MzJfdCBl
dmVudHNlbCwgaW5zdGFuY2UsIHVuaXRtYXNrOw0KPiArCQl1aW50MzJfdCBpbnN0YW5jZV8xMCwg
aW5zdGFuY2VfNTQzMiwgaW5zdGFuY2VfNzY7DQo+ICsNCj4gKwkJZXZlbnRzZWwgPSBERl9WM182
X0dFVF9FVkVOVChjb25maWcpICYgMHgzZjsNCj4gKwkJdW5pdG1hc2sgPSBERl9WM182X0dFVF9V
TklUTUFTSyhjb25maWcpICYgMHhmOw0KPiArCQlpbnN0YW5jZSA9IERGX1YzXzZfR0VUX0lOU1RB
TkNFKGNvbmZpZyk7DQo+ICsNCj4gKwkJaW5zdGFuY2VfMTAgPSBpbnN0YW5jZSAmIDB4MzsNCj4g
KwkJaW5zdGFuY2VfNTQzMiA9IChpbnN0YW5jZSA+PiAyKSAmIDB4ZjsNCj4gKwkJaW5zdGFuY2Vf
NzYgPSAoaW5zdGFuY2UgPj4gNikgJiAweDM7DQo+ICsNCj4gKwkJKmxvX3ZhbCA9ICh1bml0bWFz
ayA8PCA4KSB8IChpbnN0YW5jZV8xMCA8PCA2KSB8IGV2ZW50c2VsOw0KPiArCQkqaGlfdmFsID0g
KGluc3RhbmNlXzc2IDw8IDI5KSB8IGluc3RhbmNlXzU0MzI7DQo+ICsJfQ0KPiArDQo+ICsJcmV0
dXJuIDA7DQo+ICAgfQ0KPiAgIA0KPiAgIC8qIGFzc2lnbiBkZiBwZXJmb3JtYW5jZSBjb3VudGVy
cyBmb3IgcmVhZCAqLyBAQCAtMjE4LDI2ICszMTQsMjEgQEAgDQo+IHN0YXRpYyBpbnQgZGZfdjNf
Nl9wbWNfYXNzaWduX2NudHIoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ICAgCQkJCSAg
IHVpbnQ2NF90IGNvbmZpZywNCj4gICAJCQkJICAgaW50ICppc19hc3NpZ25lZCkNCj4gICB7DQo+
IC0NCj4gLQlzdHJ1Y3QgZGZfdjNfNl9ldmVudF9tYXNrICptYXNrOw0KPiAgIAlpbnQgaSwgdGFy
Z2V0X2NudHI7DQo+ICAgDQo+IC0JdGFyZ2V0X2NudHIgPSAtMTsNCj4gLQ0KPiAgIAkqaXNfYXNz
aWduZWQgPSAwOw0KPiAgIA0KPiAtCWRmX3YzXzZfcG1jX2NvbmZpZ18yX2NudHIoYWRldiwgY29u
ZmlnLCAmdGFyZ2V0X2NudHIpOw0KPiArCXRhcmdldF9jbnRyID0gZGZfdjNfNl9wbWNfY29uZmln
XzJfY250cihhZGV2LCBjb25maWcpOw0KPiAgIA0KPiAgIAlpZiAodGFyZ2V0X2NudHIgPj0gMCkg
ew0KPiAgIAkJKmlzX2Fzc2lnbmVkID0gMTsNCj4gICAJCXJldHVybiAwOw0KPiAgIAl9DQo+ICAg
DQo+IC0JbWFzayA9IGNvbnRhaW5lcl9vZihhZGV2LCBzdHJ1Y3QgZGZfdjNfNl9ldmVudF9tYXNr
LCBncHUpOw0KPiAtDQo+IC0JZm9yIChpID0gMDsgaSA8IEFNREdQVV9ERl9NQVhfQ09VTlRFUlM7
IGkrKykgew0KPiAtCQlpZiAobWFzay0+Y29uZmlnX2Fzc2lnbl9tYXNrW2ldID09IDBVTEwpIHsN
Cj4gLQkJCW1hc2stPmNvbmZpZ19hc3NpZ25fbWFza1tpXSA9IGNvbmZpZyAmIDB4MEZGRkZGRlVM
Ow0KPiArCWZvciAoaSA9IDA7IGkgPCBERl9WM182X01BWF9DT1VOVEVSUzsgaSsrKSB7DQo+ICsJ
CWlmIChhZGV2LT5kZl9wZXJmbW9uX2NvbmZpZ19hc3NpZ25fbWFza1tpXSA9PSAwVSkgew0KPiAr
CQkJYWRldi0+ZGZfcGVyZm1vbl9jb25maWdfYXNzaWduX21hc2tbaV0gPQ0KPiArCQkJCQkJCWNv
bmZpZyAmIDB4MEZGRkZGRlVMOw0KPiAgIAkJCXJldHVybiAwOw0KPiAgIAkJfQ0KPiAgIAl9DQo+
IEBAIC0yNDksNjYgKzM0MCwxNyBAQCBzdGF0aWMgaW50IGRmX3YzXzZfcG1jX2Fzc2lnbl9jbnRy
KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KPiAgIHN0YXRpYyB2b2lkIGRmX3YzXzZfcG1j
X3JlbGVhc2VfY250cihzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gICAJCQkJICAgICB1
aW50NjRfdCBjb25maWcpDQo+ICAgew0KPiAtDQo+IC0Jc3RydWN0IGRmX3YzXzZfZXZlbnRfbWFz
ayAqbWFzazsNCj4gLQlpbnQgdGFyZ2V0X2NudHI7DQo+IC0NCj4gLQl0YXJnZXRfY250ciA9IC0x
Ow0KPiAtDQo+IC0JZGZfdjNfNl9wbWNfY29uZmlnXzJfY250cihhZGV2LCBjb25maWcsICZ0YXJn
ZXRfY250cik7DQo+IC0NCj4gLQltYXNrID0gY29udGFpbmVyX29mKGFkZXYsIHN0cnVjdCBkZl92
M182X2V2ZW50X21hc2ssIGdwdSk7DQo+ICsJaW50IHRhcmdldF9jbnRyID0gZGZfdjNfNl9wbWNf
Y29uZmlnXzJfY250cihhZGV2LCBjb25maWcpOw0KPiAgIA0KPiAgIAlpZiAodGFyZ2V0X2NudHIg
Pj0gMCkNCj4gLQkJbWFzay0+Y29uZmlnX2Fzc2lnbl9tYXNrW3RhcmdldF9jbnRyXSA9IDBVTEw7
DQo+IC0NCj4gKwkJYWRldi0+ZGZfcGVyZm1vbl9jb25maWdfYXNzaWduX21hc2tbdGFyZ2V0X2Nu
dHJdID0gMFVMTDsNCj4gICB9DQo+ICAgDQo+IC0vKg0KPiAtICogZ2V0IHhnbWkgbGluayBjb3Vu
dGVycyB2aWEgcHJvZ3JhbW1hYmxlIGRhdGEgZmFicmljIChkZikgY291bnRlcnMgDQo+IChtYXgg
NCkNCj4gLSAqIHVzaW5nIGNha2UgdHggZXZlbnQuDQo+IC0gKg0KPiAtICogQGFkZXYgLT4gYW1k
Z3B1IGRldmljZQ0KPiAtICogQGluc3RhbmNlLT4gY3VycmVudGx5IGNha2UgaGFzIDIgbGlua3Mg
dG8gcG9sbCBvbiB2ZWdhMjANCj4gLSAqIEBjb3VudCAtPiBjb3VudGVycyB0byBwYXNzDQo+IC0g
Kg0KPiAtICovDQo+ICAgDQo+IC1zdGF0aWMgdm9pZCBkZl92M182X2dldF94Z21pX2xpbmtfY250
cihzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gLQkJCQkgICAgICAgaW50IGluc3RhbmNl
LA0KPiAtCQkJCSAgICAgICB1aW50NjRfdCAqY291bnQpDQo+IC17DQo+IC0JdWludDMyX3QgbG9f
YmFzZV9hZGRyLCBoaV9iYXNlX2FkZHIsIGxvX3ZhbCwgaGlfdmFsOw0KPiAtCXVpbnQ2NF90IGNv
bmZpZzsNCj4gLQ0KPiAtCWNvbmZpZyA9IEdFVF9JTlNUQU5DRV9DT05GSUcoaW5zdGFuY2UpOw0K
PiAtDQo+IC0JZGZfdjNfNl9wbWNfZ2V0X3JlYWRfc2V0dGluZ3MoYWRldiwgY29uZmlnLCAmbG9f
YmFzZV9hZGRyLA0KPiAtCQkJCSAgICAgICZoaV9iYXNlX2FkZHIpOw0KPiAtDQo+IC0JaWYgKChs
b19iYXNlX2FkZHIgPT0gMCkgfHwgKGhpX2Jhc2VfYWRkciA9PSAwKSkNCj4gLQkJcmV0dXJuOw0K
PiAtDQo+IC0JbG9fdmFsID0gUlJFRzMyX1BDSUUobG9fYmFzZV9hZGRyKTsNCj4gLQloaV92YWwg
PSBSUkVHMzJfUENJRShoaV9iYXNlX2FkZHIpOw0KPiAtDQo+IC0JKmNvdW50ICA9ICgoaGlfdmFs
IHwgMFVMTCkgPDwgMzIpIHwgKGxvX3ZhbCB8IDBVTEwpOw0KPiAtfQ0KPiAtDQo+IC0vKg0KPiAt
ICogcmVzZXQgeGdtaSBsaW5rIGNvdW50ZXJzDQo+IC0gKg0KPiAtICogQGFkZXYgLT4gYW1kZ3B1
IGRldmljZQ0KPiAtICogQGluc3RhbmNlLT4gY3VycmVudGx5IGNha2UgaGFzIDIgbGlua3MgdG8g
cG9sbCBvbiB2ZWdhMjANCj4gLSAqDQo+IC0gKi8NCj4gLXN0YXRpYyB2b2lkIGRmX3YzXzZfcmVz
ZXRfeGdtaV9saW5rX2NudHIoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+IC0JCQkJCSBp
bnQgaW5zdGFuY2UpDQo+ICtzdGF0aWMgdm9pZCBkZl92M182X3Jlc2V0X3BlcmZtb25fY250cihz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gKwkJCQkJIHVpbnQ2NF90IGNvbmZpZykNCj4g
ICB7DQo+ICAgCXVpbnQzMl90IGxvX2Jhc2VfYWRkciwgaGlfYmFzZV9hZGRyOw0KPiAtCXVpbnQ2
NF90IGNvbmZpZzsNCj4gLQ0KPiAtCWNvbmZpZyA9IDBVTEwgfCAoMHg3VUxMKSB8ICgoMHg0NlVM
TCArIGluc3RhbmNlKSA8PCA4KSB8ICgweDIgPDwgMTYpOw0KPiAgIA0KPiAgIAlkZl92M182X3Bt
Y19nZXRfcmVhZF9zZXR0aW5ncyhhZGV2LCBjb25maWcsICZsb19iYXNlX2FkZHIsDQo+ICAgCQkJ
CSAgICAgICZoaV9iYXNlX2FkZHIpOw0KPiBAQCAtMzIwLDE4NSArMzYyLDEwNiBAQCBzdGF0aWMg
dm9pZCBkZl92M182X3Jlc2V0X3hnbWlfbGlua19jbnRyKHN0cnVjdCBhbWRncHVfZGV2aWNlICph
ZGV2LA0KPiAgIAlXUkVHMzJfUENJRShoaV9iYXNlX2FkZHIsIDBVTCk7DQo+ICAgfQ0KPiAgIA0K
PiAtLyoNCj4gLSAqIGFkZCB4Z21pIGxpbmsgY291bnRlcnMNCj4gLSAqDQo+IC0gKiBAYWRldiAt
PiBhbWRncHUgZGV2aWNlDQo+IC0gKiBAaW5zdGFuY2UtPiBjdXJyZW50bHkgY2FrZSBoYXMgMiBs
aW5rcyB0byBwb2xsIG9uIHZlZ2EyMA0KPiAtICoNCj4gLSAqLw0KPiAgIA0KPiAtc3RhdGljIGlu
dCBkZl92M182X2FkZF94Z21pX2xpbmtfY250cihzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwN
Cj4gLQkJCQkgICAgICBpbnQgaW5zdGFuY2UpDQo+ICtzdGF0aWMgaW50IGRmX3YzXzZfYWRkX3Bl
cmZtb25fY250cihzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gKwkJCQkgICAgICB1aW50
NjRfdCBjb25maWcpDQo+ICAgew0KPiAgIAl1aW50MzJfdCBsb19iYXNlX2FkZHIsIGhpX2Jhc2Vf
YWRkciwgbG9fdmFsLCBoaV92YWw7DQo+IC0JdWludDY0X3QgY29uZmlnOw0KPiAgIAlpbnQgcmV0
LCBpc19hc3NpZ25lZDsNCj4gICANCj4gLQlpZiAoaW5zdGFuY2UgPCAwIHx8IGluc3RhbmNlID4g
MSkNCj4gLQkJcmV0dXJuIC1FSU5WQUw7DQo+IC0NCj4gLQljb25maWcgPSBHRVRfSU5TVEFOQ0Vf
Q09ORklHKGluc3RhbmNlKTsNCj4gLQ0KPiAgIAlyZXQgPSBkZl92M182X3BtY19hc3NpZ25fY250
cihhZGV2LCBjb25maWcsICZpc19hc3NpZ25lZCk7DQo+ICAgDQo+ICAgCWlmIChyZXQgfHwgaXNf
YXNzaWduZWQpDQo+ICAgCQlyZXR1cm4gcmV0Ow0KPiAgIA0KPiAtCWRmX3YzXzZfcG1jX2dldF9j
dHJsX3NldHRpbmdzKGFkZXYsDQo+ICsJcmV0ID0gZGZfdjNfNl9wbWNfZ2V0X2N0cmxfc2V0dGlu
Z3MoYWRldiwNCj4gICAJCQljb25maWcsDQo+ICAgCQkJJmxvX2Jhc2VfYWRkciwNCj4gICAJCQkm
aGlfYmFzZV9hZGRyLA0KPiAgIAkJCSZsb192YWwsDQo+ICAgCQkJJmhpX3ZhbCk7DQo+ICAgDQo+
ICsJaWYgKHJldCkNCj4gKwkJcmV0dXJuIHJldDsNCj4gKw0KPiArCURSTV9ERUJVR19EUklWRVIo
ImNvbmZpZz0lbGx4IGFkZHI9JTA4eDolMDh4IHZhbD0lMDh4OiUwOHgiLA0KPiArCQkJY29uZmln
LCBsb19iYXNlX2FkZHIsIGhpX2Jhc2VfYWRkciwgbG9fdmFsLCBoaV92YWwpOw0KPiArDQo+ICAg
CVdSRUczMl9QQ0lFKGxvX2Jhc2VfYWRkciwgbG9fdmFsKTsNCj4gICAJV1JFRzMyX1BDSUUoaGlf
YmFzZV9hZGRyLCBoaV92YWwpOw0KPiAgIA0KPiAgIAlyZXR1cm4gcmV0Ow0KPiAgIH0NCj4gICAN
Cj4gLQ0KPiAtLyoNCj4gLSAqIHN0YXJ0IHhnbWkgbGluayBjb3VudGVycw0KPiAtICoNCj4gLSAq
IEBhZGV2IC0+IGFtZGdwdSBkZXZpY2UNCj4gLSAqIEBpbnN0YW5jZS0+IGN1cnJlbnRseSBjYWtl
IGhhcyAyIGxpbmtzIHRvIHBvbGwgb24gdmVnYTIwDQo+IC0gKiBAaXNfZW5hYmxlIC0+IGVpdGhl
ciByZXN1bWUgb3IgYXNzaWduIGV2ZW50IHZpYSBkZiBwZXJmbW9uDQo+IC0gKg0KPiAtICovDQo+
IC0NCj4gLXN0YXRpYyBpbnQgZGZfdjNfNl9zdGFydF94Z21pX2xpbmtfY250cihzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldiwNCj4gLQkJCQkJaW50IGluc3RhbmNlLA0KPiAtCQkJCQlpbnQgaXNf
ZW5hYmxlKQ0KPiArc3RhdGljIGludCBkZl92M182X3BtY19zdGFydChzdHJ1Y3QgYW1kZ3B1X2Rl
dmljZSAqYWRldiwgdWludDY0X3QgY29uZmlnLA0KPiArCQkJICAgICBpbnQgaXNfZW5hYmxlKQ0K
PiAgIHsNCj4gICAJdWludDMyX3QgbG9fYmFzZV9hZGRyLCBoaV9iYXNlX2FkZHIsIGxvX3ZhbDsN
Cj4gLQl1aW50NjRfdCBjb25maWc7DQo+IC0JaW50IHJldDsNCj4gLQ0KPiAtCWlmIChpbnN0YW5j
ZSA8IDAgfHwgaW5zdGFuY2UgPiAxKQ0KPiAtCQlyZXR1cm4gLUVJTlZBTDsNCj4gKwlpbnQgcmV0
ID0gMDsNCj4gICANCj4gLQlpZiAoaXNfZW5hYmxlKSB7DQo+IC0NCj4gLQkJcmV0ID0gZGZfdjNf
Nl9hZGRfeGdtaV9saW5rX2NudHIoYWRldiwgaW5zdGFuY2UpOw0KPiAtDQo+IC0JCWlmIChyZXQp
DQo+IC0JCQlyZXR1cm4gcmV0Ow0KPiArCXN3aXRjaCAoYWRldi0+YXNpY190eXBlKSB7DQo+ICsJ
Y2FzZSBDSElQX1ZFR0EyMDoNCj4gICANCj4gLQl9IGVsc2Ugew0KPiArCQlkZl92M182X3Jlc2V0
X3BlcmZtb25fY250cihhZGV2LCBjb25maWcpOw0KPiAgIA0KPiAtCQljb25maWcgPSBHRVRfSU5T
VEFOQ0VfQ09ORklHKGluc3RhbmNlKTsNCj4gKwkJaWYgKGlzX2VuYWJsZSkgew0KPiArCQkJcmV0
ID0gZGZfdjNfNl9hZGRfcGVyZm1vbl9jbnRyKGFkZXYsIGNvbmZpZyk7DQo+ICsJCX0gZWxzZSB7
DQo+ICsJCQlyZXQgPSBkZl92M182X3BtY19nZXRfY3RybF9zZXR0aW5ncyhhZGV2LA0KPiArCQkJ
CQljb25maWcsDQo+ICsJCQkJCSZsb19iYXNlX2FkZHIsDQo+ICsJCQkJCSZoaV9iYXNlX2FkZHIs
DQo+ICsJCQkJCU5VTEwsDQo+ICsJCQkJCU5VTEwpOw0KPiAgIA0KPiAtCQlkZl92M182X3BtY19n
ZXRfY3RybF9zZXR0aW5ncyhhZGV2LA0KPiAtCQkJCWNvbmZpZywNCj4gLQkJCQkmbG9fYmFzZV9h
ZGRyLA0KPiAtCQkJCSZoaV9iYXNlX2FkZHIsDQo+IC0JCQkJTlVMTCwNCj4gLQkJCQlOVUxMKTsN
Cj4gKwkJCWlmIChyZXQpDQo+ICsJCQkJcmV0dXJuIHJldDsNCj4gICANCj4gLQkJaWYgKGxvX2Jh
c2VfYWRkciA9PSAwKQ0KPiAtCQkJcmV0dXJuIC1FSU5WQUw7DQo+ICsJCQlsb192YWwgPSBSUkVH
MzJfUENJRShsb19iYXNlX2FkZHIpOw0KPiAgIA0KPiAtCQlsb192YWwgPSBSUkVHMzJfUENJRShs
b19iYXNlX2FkZHIpOw0KPiArCQkJRFJNX0RFQlVHX0RSSVZFUigiY29uZmlnPSVsbHggYWRkcj0l
MDh4OiUwOHggdmFsPSUwOHgiLA0KPiArCQkJCWNvbmZpZywgbG9fYmFzZV9hZGRyLCBoaV9iYXNl
X2FkZHIsIGxvX3ZhbCk7DQo+ICAgDQo+IC0JCVdSRUczMl9QQ0lFKGxvX2Jhc2VfYWRkciwgbG9f
dmFsIHwgKDFVTEwgPDwgMjIpKTsNCj4gKwkJCVdSRUczMl9QQ0lFKGxvX2Jhc2VfYWRkciwgbG9f
dmFsIHwgKDFVTEwgPDwgMjIpKTsNCj4gKwkJfQ0KPiAgIA0KPiAtCQlyZXQgPSAwOw0KPiArCQli
cmVhazsNCj4gKwlkZWZhdWx0Og0KPiArCQlicmVhazsNCj4gICAJfQ0KPiAgIA0KPiAgIAlyZXR1
cm4gcmV0Ow0KPiAtDQo+ICAgfQ0KPiAgIA0KPiAtLyoNCj4gLSAqIHN0YXJ0IHhnbWkgbGluayBj
b3VudGVycw0KPiAtICoNCj4gLSAqIEBhZGV2IC0+IGFtZGdwdSBkZXZpY2UNCj4gLSAqIEBpbnN0
YW5jZS0+IGN1cnJlbnRseSBjYWtlIGhhcyAyIGxpbmtzIHRvIHBvbGwgb24gdmVnYTIwDQo+IC0g
KiBAaXNfZW5hYmxlIC0+IGVpdGhlciBwYXVzZSBvciB1bmFzc2lnbiBldmVudCB2aWEgZGYgcGVy
Zm1vbg0KPiAtICoNCj4gLSAqLw0KPiAtDQo+IC1zdGF0aWMgaW50IGRmX3YzXzZfc3RvcF94Z21p
X2xpbmtfY250cihzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gLQkJCQkgICAgICAgaW50
IGluc3RhbmNlLA0KPiAtCQkJCSAgICAgICBpbnQgaXNfZGlzYWJsZSkNCj4gK3N0YXRpYyBpbnQg
ZGZfdjNfNl9wbWNfc3RvcChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgdWludDY0X3QgY29u
ZmlnLA0KPiArCQkJICAgIGludCBpc19kaXNhYmxlKQ0KPiAgIHsNCj4gLQ0KPiAgIAl1aW50MzJf
dCBsb19iYXNlX2FkZHIsIGhpX2Jhc2VfYWRkciwgbG9fdmFsOw0KPiAtCXVpbnQ2NF90IGNvbmZp
ZzsNCj4gLQ0KPiAtCWNvbmZpZyA9IEdFVF9JTlNUQU5DRV9DT05GSUcoaW5zdGFuY2UpOw0KPiAt
DQo+IC0JaWYgKGlzX2Rpc2FibGUpIHsNCj4gLQkJZGZfdjNfNl9yZXNldF94Z21pX2xpbmtfY250
cihhZGV2LCBpbnN0YW5jZSk7DQo+IC0JCWRmX3YzXzZfcG1jX3JlbGVhc2VfY250cihhZGV2LCBj
b25maWcpOw0KPiAtCX0gZWxzZSB7DQo+IC0NCj4gLQkJZGZfdjNfNl9wbWNfZ2V0X2N0cmxfc2V0
dGluZ3MoYWRldiwNCj4gLQkJCQljb25maWcsDQo+IC0JCQkJJmxvX2Jhc2VfYWRkciwNCj4gLQkJ
CQkmaGlfYmFzZV9hZGRyLA0KPiAtCQkJCU5VTEwsDQo+IC0JCQkJTlVMTCk7DQo+IC0NCj4gLQkJ
aWYgKChsb19iYXNlX2FkZHIgPT0gMCkgfHwgKGhpX2Jhc2VfYWRkciA9PSAwKSkNCj4gLQkJCXJl
dHVybiAtRUlOVkFMOw0KPiAtDQo+IC0JCWxvX3ZhbCA9IFJSRUczMl9QQ0lFKGxvX2Jhc2VfYWRk
cik7DQo+IC0NCj4gLQkJV1JFRzMyX1BDSUUobG9fYmFzZV9hZGRyLCBsb192YWwgJiB+KDFVTEwg
PDwgMjIpKTsNCj4gLQl9DQo+IC0NCj4gLQlyZXR1cm4gMDsNCj4gLX0NCj4gLQ0KPiAtc3RhdGlj
IGludCBkZl92M182X3BtY19zdGFydChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgdWludDY0
X3QgY29uZmlnLA0KPiAtCQkJICAgICBpbnQgaXNfZW5hYmxlKQ0KPiAtew0KPiAtCWludCB4Z21p
X3R4X2xpbmssIHJldCA9IDA7DQo+ICsJaW50IHJldCA9IDA7DQo+ICAgDQo+ICAgCXN3aXRjaCAo
YWRldi0+YXNpY190eXBlKSB7DQo+ICAgCWNhc2UgQ0hJUF9WRUdBMjA6DQo+IC0JCXhnbWlfdHhf
bGluayA9IElTX0RGX1hHTUlfMF9UWChjb25maWcpID8gMA0KPiAtCQkJCQk6IChJU19ERl9YR01J
XzFfVFgoY29uZmlnKSA/IDEgOiAtMSk7DQo+IC0NCj4gLQkJaWYgKHhnbWlfdHhfbGluayA+PSAw
KQ0KPiAtCQkJcmV0ID0gZGZfdjNfNl9zdGFydF94Z21pX2xpbmtfY250cihhZGV2LCB4Z21pX3R4
X2xpbmssDQo+IC0JCQkJCQkgICAgICBpc19lbmFibGUpOw0KPiArCQlyZXQgPSBkZl92M182X3Bt
Y19nZXRfY3RybF9zZXR0aW5ncyhhZGV2LA0KPiArCQkJY29uZmlnLA0KPiArCQkJJmxvX2Jhc2Vf
YWRkciwNCj4gKwkJCSZoaV9iYXNlX2FkZHIsDQo+ICsJCQlOVUxMLA0KPiArCQkJTlVMTCk7DQo+
ICAgDQo+ICAgCQlpZiAocmV0KQ0KPiAgIAkJCXJldHVybiByZXQ7DQo+ICAgDQo+IC0JCXJldCA9
IDA7DQo+IC0JCWJyZWFrOw0KPiAtCWRlZmF1bHQ6DQo+IC0JCWJyZWFrOw0KPiAtCX0NCj4gKwkJ
bG9fdmFsID0gUlJFRzMyX1BDSUUobG9fYmFzZV9hZGRyKTsNCj4gICANCj4gLQlyZXR1cm4gcmV0
Ow0KPiAtfQ0KPiArCQlEUk1fREVCVUdfRFJJVkVSKCJjb25maWc9JWxseCBhZGRyPSUwOHg6JTA4
eCB2YWw9JTA4eCIsDQo+ICsJCQkJY29uZmlnLCBsb19iYXNlX2FkZHIsIGhpX2Jhc2VfYWRkciwg
bG9fdmFsKTsNCj4gICANCj4gLXN0YXRpYyBpbnQgZGZfdjNfNl9wbWNfc3RvcChzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldiwgdWludDY0X3QgY29uZmlnLA0KPiAtCQkJICAgIGludCBpc19kaXNh
YmxlKQ0KPiAtew0KPiAtCWludCB4Z21pX3R4X2xpbmssIHJldCA9IDA7DQo+ICsJCVdSRUczMl9Q
Q0lFKGxvX2Jhc2VfYWRkciwgbG9fdmFsICYgfigxVUxMIDw8IDIyKSk7DQo+ICAgDQo+IC0Jc3dp
dGNoIChhZGV2LT5hc2ljX3R5cGUpIHsNCj4gLQljYXNlIENISVBfVkVHQTIwOg0KPiAtCQkJeGdt
aV90eF9saW5rID0gSVNfREZfWEdNSV8wX1RYKGNvbmZpZykgPyAwDQo+IC0JCQkJOiAoSVNfREZf
WEdNSV8xX1RYKGNvbmZpZykgPyAxIDogLTEpOw0KPiAtDQo+IC0JCQlpZiAoeGdtaV90eF9saW5r
ID49IDApIHsNCj4gLQkJCQlyZXQgPSBkZl92M182X3N0b3BfeGdtaV9saW5rX2NudHIoYWRldiwN
Cj4gLQkJCQkJCQkJICB4Z21pX3R4X2xpbmssDQo+IC0JCQkJCQkJCSAgaXNfZGlzYWJsZSk7DQo+
IC0JCQkJaWYgKHJldCkNCj4gLQkJCQkJcmV0dXJuIHJldDsNCj4gLQkJCX0NCj4gLQ0KPiAtCQkJ
cmV0ID0gMDsNCj4gLQkJCWJyZWFrOw0KPiArCQlpZiAoaXNfZGlzYWJsZSkNCj4gKwkJCWRmX3Yz
XzZfcG1jX3JlbGVhc2VfY250cihhZGV2LCBjb25maWcpOw0KPiArDQo+ICsJCWJyZWFrOw0KPiAg
IAlkZWZhdWx0Og0KPiAgIAkJYnJlYWs7DQo+ICAgCX0NCj4gQEAgLTUxMCwyOCArNDczLDM5IEBA
IHN0YXRpYyB2b2lkIGRmX3YzXzZfcG1jX2dldF9jb3VudChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldiwNCj4gICAJCQkJICB1aW50NjRfdCBjb25maWcsDQo+ICAgCQkJCSAgdWludDY0X3QgKmNv
dW50KQ0KPiAgIHsNCj4gLQ0KPiAtCWludCB4Z21pX3R4X2xpbms7DQo+ICsJdWludDMyX3QgbG9f
YmFzZV9hZGRyLCBoaV9iYXNlX2FkZHIsIGxvX3ZhbCwgaGlfdmFsOw0KPiArCSpjb3VudCA9IDA7
DQo+ICAgDQo+ICAgCXN3aXRjaCAoYWRldi0+YXNpY190eXBlKSB7DQo+ICAgCWNhc2UgQ0hJUF9W
RUdBMjA6DQo+IC0JCXhnbWlfdHhfbGluayA9IElTX0RGX1hHTUlfMF9UWChjb25maWcpID8gMA0K
PiAtCQkJCQk6IChJU19ERl9YR01JXzFfVFgoY29uZmlnKSA/IDEgOiAtMSk7DQo+ICAgDQo+IC0J
CWlmICh4Z21pX3R4X2xpbmsgPj0gMCkgew0KPiAtCQkJZGZfdjNfNl9yZXNldF94Z21pX2xpbmtf
Y250cihhZGV2LCB4Z21pX3R4X2xpbmspOw0KPiAtCQkJZGZfdjNfNl9nZXRfeGdtaV9saW5rX2Nu
dHIoYWRldiwgeGdtaV90eF9saW5rLCBjb3VudCk7DQo+IC0JCX0NCj4gKwkJZGZfdjNfNl9wbWNf
Z2V0X3JlYWRfc2V0dGluZ3MoYWRldiwgY29uZmlnLCAmbG9fYmFzZV9hZGRyLA0KPiArCQkJCSAg
ICAgICZoaV9iYXNlX2FkZHIpOw0KPiArDQo+ICsJCWlmICgobG9fYmFzZV9hZGRyID09IDApIHx8
IChoaV9iYXNlX2FkZHIgPT0gMCkpDQo+ICsJCQlyZXR1cm47DQo+ICsNCj4gKwkJbG9fdmFsID0g
UlJFRzMyX1BDSUUobG9fYmFzZV9hZGRyKTsNCj4gKwkJaGlfdmFsID0gUlJFRzMyX1BDSUUoaGlf
YmFzZV9hZGRyKTsNCj4gKw0KPiArCQkqY291bnQgID0gKChoaV92YWwgfCAwVUxMKSA8PCAzMikg
fCAobG9fdmFsIHwgMFVMTCk7DQo+ICsNCj4gKwkJaWYgKCpjb3VudCA+PSBERl9WM182X1BFUkZN
T05fT1ZFUkZMT1cpDQo+ICsJCQkqY291bnQgPSAwOw0KPiArDQo+ICsJCURSTV9ERUJVR19EUklW
RVIoImNvbmZpZz0lbGx4IGFkZHI9JTA4eDolMDh4IHZhbD0lMDh4OiUwOHgiLA0KPiArCQkJY29u
ZmlnLCBsb19iYXNlX2FkZHIsIGhpX2Jhc2VfYWRkciwgbG9fdmFsLCBoaV92YWwpOw0KPiAgIA0K
PiAgIAkJYnJlYWs7DQo+ICsNCj4gICAJZGVmYXVsdDoNCj4gICAJCWJyZWFrOw0KPiAgIAl9DQo+
IC0NCj4gICB9DQo+ICAgDQo+ICAgY29uc3Qgc3RydWN0IGFtZGdwdV9kZl9mdW5jcyBkZl92M182
X2Z1bmNzID0gew0KPiAgIAkuaW5pdCA9IGRmX3YzXzZfaW5pdCwNCj4gKwkuZmluaSA9IGRmX3Yz
XzZfZmluaSwNCj4gICAJLmVuYWJsZV9icm9hZGNhc3RfbW9kZSA9IGRmX3YzXzZfZW5hYmxlX2Jy
b2FkY2FzdF9tb2RlLA0KPiAgIAkuZ2V0X2ZiX2NoYW5uZWxfbnVtYmVyID0gZGZfdjNfNl9nZXRf
ZmJfY2hhbm5lbF9udW1iZXIsDQo+ICAgCS5nZXRfaGJtX2NoYW5uZWxfbnVtYmVyID0gZGZfdjNf
Nl9nZXRfaGJtX2NoYW5uZWxfbnVtYmVyLCBkaWZmIA0KPiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2RmX3YzXzYuaCANCj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9k
Zl92M182LmgNCj4gaW5kZXggZmNmZmQ4MDc3NjRkLi43Njk5ODU0MWJjMzAgMTAwNjQ0DQo+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2RmX3YzXzYuaA0KPiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9kZl92M182LmgNCj4gQEAgLTM2LDIyICszNiwxNSBAQCBlbnVt
IERGX1YzXzZfTUdDRyB7DQo+ICAgfTsNCj4gICANCj4gICAvKiBEZWZpbmVkIGluIGdsb2JhbF9m
ZWF0dXJlcy5oIGFzIEZUSV9QRVJGTU9OX1ZJU0lCTEUgKi8NCj4gLSNkZWZpbmUgQU1ER1BVX0RG
X01BWF9DT1VOVEVSUwkJNA0KPiArI2RlZmluZSBERl9WM182X01BWF9DT1VOVEVSUwkJNA0KPiAg
IA0KPiAgIC8qIGdldCBmbGFncyBmcm9tIGRmIHBlcmZtb24gY29uZmlnICovDQo+IC0jZGVmaW5l
IEdFVF9FVkVOVCh4KQkJCSh4ICYgMHhGRlVMKQ0KPiAtI2RlZmluZSBHRVRfSU5TVEFOQ0UoeCkJ
CQkoKHggPj4gOCkgJiAweEZGVUwpDQo+IC0jZGVmaW5lIEdFVF9VTklUTUFTSyh4KQkJCSgoeCA+
PiAxNikgJiAweEZGVUwpDQo+IC0jZGVmaW5lIEdFVF9JTlNUQU5DRV9DT05GSUcoeCkJCSgwVUxM
IHwgKDB4MDdVTEwpIFwNCj4gLQkJCQkJfCAoKDB4MDQ2VUxMICsgeCkgPDwgOCkgXA0KPiAtCQkJ
CQl8ICgweDAyIDw8IDE2KSkNCj4gLQ0KPiAtLyogZGYgZXZlbnQgY29uZiBtYWNyb3MgKi8NCj4g
LSNkZWZpbmUgSVNfREZfWEdNSV8wX1RYKHgpIChHRVRfRVZFTlQoeCkgPT0gMHg3IFwNCj4gLQkJ
JiYgR0VUX0lOU1RBTkNFKHgpID09IDB4NDYgJiYgR0VUX1VOSVRNQVNLKHgpID09IDB4MikNCj4g
LSNkZWZpbmUgSVNfREZfWEdNSV8xX1RYKHgpIChHRVRfRVZFTlQoeCkgPT0gMHg3IFwNCj4gLQkJ
JiYgR0VUX0lOU1RBTkNFKHgpID09IDB4NDcgJiYgR0VUX1VOSVRNQVNLKHgpID09IDB4MikNCj4g
KyNkZWZpbmUgREZfVjNfNl9HRVRfRVZFTlQoeCkJCSh4ICYgMHhGRlVMKQ0KPiArI2RlZmluZSBE
Rl9WM182X0dFVF9JTlNUQU5DRSh4KQkJKCh4ID4+IDgpICYgMHhGRlVMKQ0KPiArI2RlZmluZSBE
Rl9WM182X0dFVF9VTklUTUFTSyh4KQkJKCh4ID4+IDE2KSAmIDB4RkZVTCkNCj4gKyNkZWZpbmUg
REZfVjNfNl9QRVJGTU9OX09WRVJGTE9XCTB4RkZGRkZGRkZGRkZGVUxMDQo+ICAgDQo+ICtleHRl
cm4gY29uc3Qgc3RydWN0IGF0dHJpYnV0ZV9ncm91cCAqZGZfdjNfNl9hdHRyX2dyb3Vwc1tdOw0K
PiAgIGV4dGVybiBjb25zdCBzdHJ1Y3QgYW1kZ3B1X2RmX2Z1bmNzIGRmX3YzXzZfZnVuY3M7DQo+
ICAgDQo+ICAgI2VuZGlmDQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9zb2MxNS5jIA0KPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NvYzE1LmMNCj4gaW5k
ZXggNzhiZDRmYzA3YmFiLi41NTFjNzc3NDliMmQgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L3NvYzE1LmMNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvc29jMTUuYw0KPiBAQCAtMTA2Niw2ICsxMDY2LDcgQEAgc3RhdGljIHZvaWQgc29jMTVfZG9v
cmJlbGxfcmFuZ2VfaW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCj4gICBzdGF0aWMg
aW50IHNvYzE1X2NvbW1vbl9od19pbml0KHZvaWQgKmhhbmRsZSkNCj4gICB7DQo+ICAgCXN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2ID0gKHN0cnVjdCBhbWRncHVfZGV2aWNlICopaGFuZGxlOw0K
PiArCWludCByZXQ7DQo+ICAgDQo+ICAgCS8qIGVuYWJsZSBwY2llIGdlbjIvMyBsaW5rICovDQo+
ICAgCXNvYzE1X3BjaWVfZ2VuM19lbmFibGUoYWRldik7DQo+IEBAIC0xMDc5LDYgKzEwODAsMTEg
QEAgc3RhdGljIGludCBzb2MxNV9jb21tb25faHdfaW5pdCh2b2lkICpoYW5kbGUpDQo+ICAgCSAq
Lw0KPiAgIAlpZiAoYWRldi0+bmJpb19mdW5jcy0+cmVtYXBfaGRwX3JlZ2lzdGVycykNCj4gICAJ
CWFkZXYtPm5iaW9fZnVuY3MtPnJlbWFwX2hkcF9yZWdpc3RlcnMoYWRldik7DQo+ICsNCj4gKwly
ZXQgPSBhZGV2LT5kZl9mdW5jcy0+aW5pdChhZGV2KTsNCj4gKwlpZiAocmV0KQ0KPiArCQlyZXR1
cm4gcmV0Ow0KPiArDQo+ICAgCS8qIGVuYWJsZSB0aGUgZG9vcmJlbGwgYXBlcnR1cmUgKi8NCj4g
ICAJc29jMTVfZW5hYmxlX2Rvb3JiZWxsX2FwZXJ0dXJlKGFkZXYsIHRydWUpOw0KPiAgIAkvKiBI
VyBkb29yYmVsbCByb3V0aW5nIHBvbGljeTogZG9vcmJlbGwgd3JpdGluZyBub3QgQEAgLTExMDAs
NiANCj4gKzExMDYsOCBAQCBzdGF0aWMgaW50IHNvYzE1X2NvbW1vbl9od19maW5pKHZvaWQgKmhh
bmRsZSkNCj4gICAJaWYgKGFtZGdwdV9zcmlvdl92ZihhZGV2KSkNCj4gICAJCXhncHVfYWlfbWFp
bGJveF9wdXRfaXJxKGFkZXYpOw0KPiAgIA0KPiArCWFkZXYtPmRmX2Z1bmNzLT5maW5pKGFkZXYp
Ow0KPiArDQo+ICAgCXJldHVybiAwOw0KPiAgIH0NCj4gICANCl9fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhA
bGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxt
YW4vbGlzdGluZm8vYW1kLWdmeA==
