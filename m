Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 069C64901D
	for <lists+amd-gfx@lfdr.de>; Mon, 17 Jun 2019 21:47:13 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8AEF289F53;
	Mon, 17 Jun 2019 19:47:11 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-qt1-x843.google.com (mail-qt1-x843.google.com
 [IPv6:2607:f8b0:4864:20::843])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 145EB89F53
 for <amd-gfx@lists.freedesktop.org>; Mon, 17 Jun 2019 19:47:07 +0000 (UTC)
Received: by mail-qt1-x843.google.com with SMTP id i34so7010907qta.6
 for <amd-gfx@lists.freedesktop.org>; Mon, 17 Jun 2019 12:47:07 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=Hjwh61Dcpwkx6kYwxswCyZ9dqMNX9Z6inH0lKWXwK8U=;
 b=qedWzFt39OOU3AuGc35BpzJwjvZ9GwrDlPtnBYyKgg1cvXVpD48pkBIGxRBbZTc3v2
 UxlLEBUksi0KBvrDhEsjUG5CHFCE32uMS2f2hYY0lW2XI8nCuO0gDO/8DEihuoiZC40b
 JDNw/iW+03a6iVGNIGpLh6zkldxTjfJkZRffefkBV/VbbrRNpoUeuReBpBpDkGsN+x5l
 cP9cRSo/jIoHq9uxEbVDZpdih9easAqXiCfJi5/GXT7Oht8ZDAkLeAqnvj3fl0eckLms
 fJT9z5THhfFFZSdSNe3pyjpllvc0v+hOfjztUZI+ccma+C85svv0O4s/JNDfk8YCzu71
 UYFw==
X-Gm-Message-State: APjAAAUPGxY1zxdKg1nFmpEG87ZadZTeo1H0ihCb3i6wAEPVUkJu/ZCZ
 r49nIWwGNJw+a81gLOWUZ+11oZij6NZksA==
X-Google-Smtp-Source: APXvYqwN2wML1WsZL4busM3oEre5/IAtJOPioeeSxPK7BRoUPI8deRfbM7P8I84RoGb1nrDrTHJNtw==
X-Received: by 2002:ac8:3325:: with SMTP id t34mr92255083qta.172.1560800825689; 
 Mon, 17 Jun 2019 12:47:05 -0700 (PDT)
Received: from localhost.localdomain ([71.219.5.136])
 by smtp.gmail.com with ESMTPSA id u4sm6559420qkb.16.2019.06.17.12.47.04
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Mon, 17 Jun 2019 12:47:05 -0700 (PDT)
From: Alex Deucher <alexdeucher@gmail.com>
X-Google-Original-From: Alex Deucher <alexander.deucher@amd.com>
To: amd-gfx@lists.freedesktop.org
Subject: [PATCH 369/459] drm/amd/display: fix dsc validation
Date: Mon, 17 Jun 2019 14:45:10 -0500
Message-Id: <20190617194540.18497-70-alexander.deucher@amd.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190617194540.18497-1-alexander.deucher@amd.com>
References: <20190617194540.18497-1-alexander.deucher@amd.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=Hjwh61Dcpwkx6kYwxswCyZ9dqMNX9Z6inH0lKWXwK8U=;
 b=R+5w63vCuuEA0aOl8MIekzYMq3OflAWq+1WGy0gn7wuRk24MPCmPR6V2bAnmYlEIDt
 QCVJfcqDaL6xKcoFLE7fs5gR+W+UQKd0tBhit3i0J7E4GC076/29ONvSN08y5mBEUrBp
 pk3Klt1Q8qBAcvy0ziYUlRmfCy+cxINKp8LCB0beWAkut3WB6uZogaBbfqVZMJl3r6fJ
 UI76Zoc83mfzQcxuHcbcKaBN6y9XxAmPUkL2tY77ef//yyAlCwf8YX1BGncTU2Y5jhNO
 nYr/DI8C3eOuL0CZzVera3FtTFlPAPG8b7TxBr14bRdREoF5aX0fJB7juuOQuJHBSzhh
 NEYg==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Leo Li <sunpeng.li@amd.com>, Alex Deucher <alexander.deucher@amd.com>,
 Dmytro Laktyushkin <Dmytro.Laktyushkin@amd.com>,
 Nikola Cornij <Nikola.Cornij@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogRG15dHJvIExha3R5dXNoa2luIDxEbXl0cm8uTGFrdHl1c2hraW5AYW1kLmNvbT4KCkN1
cnJlbnRseSBkc2MgaXMgdmFsaWRhdGVkIG5vdCB0YWtpbmcgdGhlIGltYWdlIHdpZHRoIGxpbWl0
YXRpb24gaW50bwptaW5kLgoKVGhpcyBjaGFuZ2UgYWRkcmVzc2VzIHRoYXQsIGJ1dCBkdWUgdG8g
cHJldmlvdXMgZGVzaWduIGJlaW5nIGxpbWl0ZWQKdG8gbm9uIG9kbSBkc2MgdmFsaWRhdGlvbiBh
ZGRpdGlvbmFsIHNlcXVlbmNlIGNoYW5nZXMgYXJlIG1hZGUuCgpTaWduZWQtb2ZmLWJ5OiBEbXl0
cm8gTGFrdHl1c2hraW4gPERteXRyby5MYWt0eXVzaGtpbkBhbWQuY29tPgpSZXZpZXdlZC1ieTog
Tmlrb2xhIENvcm5paiA8Tmlrb2xhLkNvcm5pakBhbWQuY29tPgpBY2tlZC1ieTogTGVvIExpIDxz
dW5wZW5nLmxpQGFtZC5jb20+ClNpZ25lZC1vZmYtYnk6IEFsZXggRGV1Y2hlciA8YWxleGFuZGVy
LmRldWNoZXJAYW1kLmNvbT4KLS0tCiAuLi4vZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24yMC9k
Y24yMF9kc2MuYyAgfCAgNSArCiAuLi4vZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24yMC9kY24y
MF9kc2MuaCAgfCAgMiArCiAuLi4vZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIwX3Jlc291
cmNlLmMgfCA5MSArKysrKysrKysrKy0tLS0tLS0tCiAuLi4vZHJtL2FtZC9kaXNwbGF5L2RjL2Rj
bjIwL2RjbjIwX3Jlc291cmNlLmggfCAgMSAtCiAuLi4vYW1kL2Rpc3BsYXkvZGMvZG1sL2Rpc3Bs
YXlfbW9kZV9lbnVtcy5oICAgfCAgMSArCiA1IGZpbGVzIGNoYW5nZWQsIDYwIGluc2VydGlvbnMo
KyksIDQwIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlz
cGxheS9kYy9kY24yMC9kY24yMF9kc2MuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9k
Yy9kY24yMC9kY24yMF9kc2MuYwppbmRleCA0ODY1Y2MzNDFkZWMuLmJlNDlmYzdmNGFiZSAxMDA2
NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIwX2RzYy5j
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24yMC9kY24yMF9kc2MuYwpA
QCAtOTEsNiArOTEsOCBAQCB2b2lkIGRzYzJfY29uc3RydWN0KHN0cnVjdCBkY24yMF9kc2MgKmRz
YywKIAlkc2MtPmRzY19yZWdzID0gZHNjX3JlZ3M7CiAJZHNjLT5kc2Nfc2hpZnQgPSBkc2Nfc2hp
ZnQ7CiAJZHNjLT5kc2NfbWFzayA9IGRzY19tYXNrOworCisJZHNjLT5tYXhfaW1hZ2Vfd2lkdGgg
PSA1MTg0OwogfQogCiAKQEAgLTE2MSw2ICsxNjMsOSBAQCBzdGF0aWMgYm9vbCBkc2MyX3ZhbGlk
YXRlX3N0cmVhbShzdHJ1Y3QgZGlzcGxheV9zdHJlYW1fY29tcHJlc3NvciAqZHNjLCBjb25zdCBz
dAogewogCXN0cnVjdCBkc2Nfb3B0Y19jb25maWcgZHNjX29wdGNfY2ZnOwogCisJaWYgKGRzY19j
ZmctPnBpY193aWR0aCA+IFRPX0RDTjIwX0RTQyhkc2MpLT5tYXhfaW1hZ2Vfd2lkdGgpCisJCXJl
dHVybiBmYWxzZTsKKwogCXJldHVybiBkc2NfcHJlcGFyZV9jb25maWcoZHNjLCBkc2NfY2ZnLCAm
ZHNjX29wdGNfY2ZnKTsKIH0KIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNw
bGF5L2RjL2RjbjIwL2RjbjIwX2RzYy5oIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2Rj
L2RjbjIwL2RjbjIwX2RzYy5oCmluZGV4IDVjYmI5ZGY4MjcyZi4uMTY4ODY1YTE2Mjg4IDEwMDY0
NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjAvZGNuMjBfZHNjLmgK
KysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIwX2RzYy5oCkBA
IC01NTgsNiArNTU4LDggQEAgc3RydWN0IGRjbjIwX2RzYyB7CiAJY29uc3Qgc3RydWN0IGRjbjIw
X2RzY19tYXNrICpkc2NfbWFzazsKIAogCXN0cnVjdCBkc2NfcmVnX3ZhbHVlcyByZWdfdmFsczsK
KworCWludCBtYXhfaW1hZ2Vfd2lkdGg7CiB9OwogCiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvZGlzcGxheS9kYy9kY24yMC9kY24yMF9yZXNvdXJjZS5jIGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIwX3Jlc291cmNlLmMKaW5kZXggN2FhMjg1OWIz
NWZjLi4zM2YxYTFkOTcyYTkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxh
eS9kYy9kY24yMC9kY24yMF9yZXNvdXJjZS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlz
cGxheS9kYy9kY24yMC9kY24yMF9yZXNvdXJjZS5jCkBAIC0xODY5LDYgKzE4NjksMzggQEAgdm9p
ZCBkY24yMF9zZXRfbWNpZl9hcmJfcGFyYW1zKAogCX0KIH0KIAorI2lmZGVmIENPTkZJR19EUk1f
QU1EX0RDX0RTQ19TVVBQT1JUCitzdGF0aWMgYm9vbCBkY24yMF92YWxpZGF0ZV9kc2Moc3RydWN0
IGRjICpkYywgc3RydWN0IGRjX3N0YXRlICpuZXdfY3R4KQoreworCWludCBpOworCisJLyogVmFs
aWRhdGUgRFNDIGNvbmZpZywgZHNjIGNvdW50IHZhbGlkYXRpb24gaXMgYWxyZWFkeSBkb25lICov
CisJZm9yIChpID0gMDsgaSA8IGRjLT5yZXNfcG9vbC0+cGlwZV9jb3VudDsgaSsrKSB7CisJCXN0
cnVjdCBwaXBlX2N0eCAqcGlwZV9jdHggPSAmbmV3X2N0eC0+cmVzX2N0eC5waXBlX2N0eFtpXTsK
KwkJc3RydWN0IGRjX3N0cmVhbV9zdGF0ZSAqc3RyZWFtID0gcGlwZV9jdHgtPnN0cmVhbTsKKwkJ
c3RydWN0IGRzY19jb25maWcgZHNjX2NmZzsKKworCQkvKiBPbmx5IG5lZWQgdG8gdmFsaWRhdGUg
dG9wIHBpcGUgKi8KKwkJaWYgKHBpcGVfY3R4LT50b3BfcGlwZSB8fCAhc3RyZWFtIHx8ICFzdHJl
YW0tPnRpbWluZy5mbGFncy5EU0MpCisJCQljb250aW51ZTsKKworCQlkc2NfY2ZnLnBpY193aWR0
aCA9IHN0cmVhbS0+dGltaW5nLmhfYWRkcmVzc2FibGUgKyBzdHJlYW0tPnRpbWluZy5oX2JvcmRl
cl9sZWZ0CisJCQkJKyBzdHJlYW0tPnRpbWluZy5oX2JvcmRlcl9yaWdodDsKKwkJZHNjX2NmZy5w
aWNfaGVpZ2h0ID0gc3RyZWFtLT50aW1pbmcudl9hZGRyZXNzYWJsZSArIHN0cmVhbS0+dGltaW5n
LnZfYm9yZGVyX3RvcAorCQkJCSsgc3RyZWFtLT50aW1pbmcudl9ib3JkZXJfYm90dG9tOworCQlp
ZiAoZGNfcmVzX2dldF9vZG1fYm90dG9tX3BpcGUocGlwZV9jdHgpKQorCQkJZHNjX2NmZy5waWNf
d2lkdGggLz0gMjsKKwkJZHNjX2NmZy5waXhlbF9lbmNvZGluZyA9IHN0cmVhbS0+dGltaW5nLnBp
eGVsX2VuY29kaW5nOworCQlkc2NfY2ZnLmNvbG9yX2RlcHRoID0gc3RyZWFtLT50aW1pbmcuZGlz
cGxheV9jb2xvcl9kZXB0aDsKKwkJZHNjX2NmZy5kY19kc2NfY2ZnID0gc3RyZWFtLT50aW1pbmcu
ZHNjX2NmZzsKKworCQlpZiAoIXBpcGVfY3R4LT5zdHJlYW1fcmVzLmRzYy0+ZnVuY3MtPmRzY192
YWxpZGF0ZV9zdHJlYW0ocGlwZV9jdHgtPnN0cmVhbV9yZXMuZHNjLCAmZHNjX2NmZykpCisJCQly
ZXR1cm4gZmFsc2U7CisJfQorCXJldHVybiB0cnVlOworfQorI2VuZGlmCisKIGJvb2wgZGNuMjBf
dmFsaWRhdGVfYmFuZHdpZHRoKHN0cnVjdCBkYyAqZGMsCiAJCQkgICAgICBzdHJ1Y3QgZGNfc3Rh
dGUgKmNvbnRleHQsCiAJCQkgICAgICBib29sIGZhc3RfdmFsaWRhdGUpCkBAIC0xODc3LDYgKzE5
MDksOSBAQCBib29sIGRjbjIwX3ZhbGlkYXRlX2JhbmR3aWR0aChzdHJ1Y3QgZGMgKmRjLAogCWlu
dCBwaXBlX3NwbGl0X2Zyb21bTUFYX1BJUEVTXTsKIAlib29sIG9kbV9jYXBhYmxlID0gY29udGV4
dC0+YndfY3R4LmRtbC5pcC5vZG1fY2FwYWJsZTsKIAlib29sIGZvcmNlX3NwbGl0ID0gZmFsc2U7
CisjaWZkZWYgQ09ORklHX0RSTV9BTURfRENfRFNDX1NVUFBPUlQKKwlib29sIGZhaWxlZF9ub25f
b2RtX2RzYyA9IGZhbHNlOworI2VuZGlmCiAJaW50IHNwbGl0X3RocmVzaG9sZCA9IGRjLT5yZXNf
cG9vbC0+cGlwZV9jb3VudCAvIDI7CiAJYm9vbCBhdm9pZF9zcGxpdCA9IGRjLT5kZWJ1Zy5waXBl
X3NwbGl0X3BvbGljeSAhPSBNUENfU1BMSVRfRFlOQU1JQzsKIAlkaXNwbGF5X2UyZV9waXBlX3Bh
cmFtc19zdCAqcGlwZXMgPSBremFsbG9jKGRjLT5yZXNfcG9vbC0+cGlwZV9jb3VudCAqIHNpemVv
ZihkaXNwbGF5X2UyZV9waXBlX3BhcmFtc19zdCksIEdGUF9LRVJORUwpOwpAQCAtMTkyMCw2ICsx
OTU1LDE1IEBAIGJvb2wgZGNuMjBfdmFsaWRhdGVfYmFuZHdpZHRoKHN0cnVjdCBkYyAqZGMsCiAJ
dmxldmVsID0gZG1sX2dldF92b2x0YWdlX2xldmVsKCZjb250ZXh0LT5id19jdHguZG1sLCBwaXBl
cywgcGlwZV9jbnQpOwogCWNvbnRleHQtPmJ3X2N0eC5kbWwuaXAub2RtX2NhcGFibGUgPSBvZG1f
Y2FwYWJsZTsKIAorI2lmZGVmIENPTkZJR19EUk1fQU1EX0RDX0RTQ19TVVBQT1JUCisJLyogMSBk
c2MgcGVyIHN0cmVhbSBkc2MgdmFsaWRhdGlvbiAqLworCWlmICh2bGV2ZWwgPD0gY29udGV4dC0+
YndfY3R4LmRtbC5zb2MubnVtX3N0YXRlcykKKwkJaWYgKCFkY24yMF92YWxpZGF0ZV9kc2MoZGMs
IGNvbnRleHQpKSB7CisJCQlmYWlsZWRfbm9uX29kbV9kc2MgPSB0cnVlOworCQkJdmxldmVsID0g
Y29udGV4dC0+YndfY3R4LmRtbC5zb2MubnVtX3N0YXRlcyArIDE7CisJCX0KKyNlbmRpZgorCiAJ
aWYgKHZsZXZlbCA+IGNvbnRleHQtPmJ3X2N0eC5kbWwuc29jLm51bV9zdGF0ZXMgJiYgb2RtX2Nh
cGFibGUpCiAJCXZsZXZlbCA9IGRtbF9nZXRfdm9sdGFnZV9sZXZlbCgmY29udGV4dC0+YndfY3R4
LmRtbCwgcGlwZXMsIHBpcGVfY250KTsKIApAQCAtMjA1Miw2ICsyMDk2LDE0IEBAIGJvb2wgZGNu
MjBfdmFsaWRhdGVfYmFuZHdpZHRoKHN0cnVjdCBkYyAqZGMsCiAJCQlBU1NFUlQoMCk7CiAJCX0K
IAl9CisjaWZkZWYgQ09ORklHX0RSTV9BTURfRENfRFNDX1NVUFBPUlQKKwkvKiBBY3R1YWwgZHNj
IGNvdW50IHBlciBzdHJlYW0gZHNjIHZhbGlkYXRpb24qLworCWlmIChmYWlsZWRfbm9uX29kbV9k
c2MgJiYgIWRjbjIwX3ZhbGlkYXRlX2RzYyhkYywgY29udGV4dCkpIHsKKwkJY29udGV4dC0+Yndf
Y3R4LmRtbC52YmEuVmFsaWRhdGlvblN0YXR1c1tjb250ZXh0LT5id19jdHguZG1sLnZiYS5zb2Mu
bnVtX3N0YXRlc10gPQorCQkJCURNTF9GQUlMX0RTQ19WQUxJREFUSU9OX0ZBSUxVUkU7CisJCWdv
dG8gdmFsaWRhdGVfZmFpbDsKKwl9CisjZW5kaWYKIAogCWZvciAoaSA9IDAsIHBpcGVfaWR4ID0g
MCwgcGlwZV9jbnQgPSAwOyBpIDwgZGMtPnJlc19wb29sLT5waXBlX2NvdW50OyBpKyspIHsKIAkJ
aWYgKCFjb250ZXh0LT5yZXNfY3R4LnBpcGVfY3R4W2ldLnN0cmVhbSkKQEAgLTIxOTAsNDQgKzIy
NDIsNiBAQCBib29sIGRjbjIwX3ZhbGlkYXRlX2JhbmR3aWR0aChzdHJ1Y3QgZGMgKmRjLAogCXJl
dHVybiBmYWxzZTsKIH0KIAotZW51bSBkY19zdGF0dXMgZGNuMjBfdmFsaWRhdGVfZ2xvYmFsKHN0
cnVjdCBkYyAqZGMsCXN0cnVjdCBkY19zdGF0ZSAqbmV3X2N0eCkKLXsKLQllbnVtIGRjX3N0YXR1
cyByZXN1bHQgPSBEQ19PSzsKLQlpbnQgaSwgajsKLQotCS8qIFZhbGlkYXRlIERTQyAqLwotCWZv
ciAoaSA9IDA7IGkgPCBuZXdfY3R4LT5zdHJlYW1fY291bnQ7IGkrKykgewotCQlzdHJ1Y3QgZGNf
c3RyZWFtX3N0YXRlICpzdHJlYW0gPSBuZXdfY3R4LT5zdHJlYW1zW2ldOwotCi0JCWZvciAoaiA9
IDA7IGogPCBkYy0+cmVzX3Bvb2wtPnBpcGVfY291bnQ7IGorKykgewotCQkJc3RydWN0IHBpcGVf
Y3R4ICpwaXBlX2N0eCA9ICZuZXdfY3R4LT5yZXNfY3R4LnBpcGVfY3R4W2pdOwotCi0JCQlpZiAo
cGlwZV9jdHgtPnN0cmVhbSAhPSBzdHJlYW0pCi0JCQkJY29udGludWU7Ci0KLSNpZmRlZiBDT05G
SUdfRFJNX0FNRF9EQ19EU0NfU1VQUE9SVAotCQkJaWYgKHN0cmVhbS0+dGltaW5nLmZsYWdzLkRT
QykgewotCQkJCWlmIChwaXBlX2N0eC0+c3RyZWFtX3Jlcy5kc2MgIT0gTlVMTCkgewotCQkJCQlz
dHJ1Y3QgZHNjX2NvbmZpZyBkc2NfY2ZnOwotCi0JCQkJCWRzY19jZmcucGljX3dpZHRoID0gc3Ry
ZWFtLT50aW1pbmcuaF9hZGRyZXNzYWJsZSArIHN0cmVhbS0+dGltaW5nLmhfYm9yZGVyX2xlZnQg
KyBzdHJlYW0tPnRpbWluZy5oX2JvcmRlcl9yaWdodDsKLQkJCQkJZHNjX2NmZy5waWNfaGVpZ2h0
ID0gc3RyZWFtLT50aW1pbmcudl9hZGRyZXNzYWJsZSArIHN0cmVhbS0+dGltaW5nLnZfYm9yZGVy
X3RvcCArIHN0cmVhbS0+dGltaW5nLnZfYm9yZGVyX2JvdHRvbTsKLQkJCQkJZHNjX2NmZy5waXhl
bF9lbmNvZGluZyA9IHN0cmVhbS0+dGltaW5nLnBpeGVsX2VuY29kaW5nOwotCQkJCQlkc2NfY2Zn
LmNvbG9yX2RlcHRoID0gc3RyZWFtLT50aW1pbmcuZGlzcGxheV9jb2xvcl9kZXB0aDsKLQkJCQkJ
ZHNjX2NmZy5kY19kc2NfY2ZnID0gc3RyZWFtLT50aW1pbmcuZHNjX2NmZzsKLQotCQkJCQlpZiAo
IXBpcGVfY3R4LT5zdHJlYW1fcmVzLmRzYy0+ZnVuY3MtPmRzY192YWxpZGF0ZV9zdHJlYW0ocGlw
ZV9jdHgtPnN0cmVhbV9yZXMuZHNjLCAmZHNjX2NmZykpCi0JCQkJCQlyZXN1bHQgPSBEQ19GQUlM
X0RTQ19WQUxJREFURTsKLQkJCQl9IGVsc2UKLQkJCQkJcmVzdWx0ID0gRENfRkFJTF9EU0NfVkFM
SURBVEU7IC8vIERTQyBlbmFibGVkIGZvciB0aGlzIHN0cmVhbSwgYnV0IG5vIGZyZWUgRFNDcyBh
dmFpbGFibGUKLQkJCX0KLSNlbmRpZgotCQl9Ci0JfQotCi0JcmV0dXJuIHJlc3VsdDsKLX0KLQog
c3RydWN0IHBpcGVfY3R4ICpkY24yMF9hY3F1aXJlX2lkbGVfcGlwZV9mb3JfbGF5ZXIoCiAJCXN0
cnVjdCBkY19zdGF0ZSAqc3RhdGUsCiAJCWNvbnN0IHN0cnVjdCByZXNvdXJjZV9wb29sICpwb29s
LApAQCAtMjMwMiw3ICsyMzE2LDYgQEAgc3RhdGljIHN0cnVjdCByZXNvdXJjZV9mdW5jcyBkY24y
MF9yZXNfcG9vbF9mdW5jcyA9IHsKIAkuZGVzdHJveSA9IGRjbjIwX2Rlc3Ryb3lfcmVzb3VyY2Vf
cG9vbCwKIAkubGlua19lbmNfY3JlYXRlID0gZGNuMjBfbGlua19lbmNvZGVyX2NyZWF0ZSwKIAku
dmFsaWRhdGVfYmFuZHdpZHRoID0gZGNuMjBfdmFsaWRhdGVfYmFuZHdpZHRoLAotCS52YWxpZGF0
ZV9nbG9iYWwgPSBkY24yMF92YWxpZGF0ZV9nbG9iYWwsCiAJLmFjcXVpcmVfaWRsZV9waXBlX2Zv
cl9sYXllciA9IGRjbjIwX2FjcXVpcmVfaWRsZV9waXBlX2Zvcl9sYXllciwKIAkuYWRkX3N0cmVh
bV90b19jdHggPSBkY24yMF9hZGRfc3RyZWFtX3RvX2N0eCwKIAkucmVtb3ZlX3N0cmVhbV9mcm9t
X2N0eCA9IGRjbjIwX3JlbW92ZV9zdHJlYW1fZnJvbV9jdHgsCmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjAvZGNuMjBfcmVzb3VyY2UuaCBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24yMC9kY24yMF9yZXNvdXJjZS5oCmluZGV4IGM1ZjE3
NmZiNjU0YS4uYjVhNzUyODlmNDQ0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rp
c3BsYXkvZGMvZGNuMjAvZGNuMjBfcmVzb3VyY2UuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2Rpc3BsYXkvZGMvZGNuMjAvZGNuMjBfcmVzb3VyY2UuaApAQCAtMTE4LDcgKzExOCw2IEBAIHZv
aWQgZGNuMjBfc2V0X21jaWZfYXJiX3BhcmFtcygKIGJvb2wgZGNuMjBfdmFsaWRhdGVfYmFuZHdp
ZHRoKHN0cnVjdCBkYyAqZGMsIHN0cnVjdCBkY19zdGF0ZSAqY29udGV4dCwgYm9vbCBmYXN0X3Zh
bGlkYXRlKTsKIAogZW51bSBkY19zdGF0dXMgZGNuMjBfYnVpbGRfbWFwcGVkX3Jlc291cmNlKGNv
bnN0IHN0cnVjdCBkYyAqZGMsIHN0cnVjdCBkY19zdGF0ZSAqY29udGV4dCwgc3RydWN0IGRjX3N0
cmVhbV9zdGF0ZSAqc3RyZWFtKTsKLWVudW0gZGNfc3RhdHVzIGRjbjIwX3ZhbGlkYXRlX2dsb2Jh
bChzdHJ1Y3QgZGMgKmRjLAlzdHJ1Y3QgZGNfc3RhdGUgKm5ld19jdHgpOwogZW51bSBkY19zdGF0
dXMgZGNuMjBfYWRkX3N0cmVhbV90b19jdHgoc3RydWN0IGRjICpkYywgc3RydWN0IGRjX3N0YXRl
ICpuZXdfY3R4LCBzdHJ1Y3QgZGNfc3RyZWFtX3N0YXRlICpkY19zdHJlYW0pOwogZW51bSBkY19z
dGF0dXMgZGNuMjBfcmVtb3ZlX3N0cmVhbV9mcm9tX2N0eChzdHJ1Y3QgZGMgKmRjLCBzdHJ1Y3Qg
ZGNfc3RhdGUgKm5ld19jdHgsIHN0cnVjdCBkY19zdHJlYW1fc3RhdGUgKmRjX3N0cmVhbSk7CiBl
bnVtIGRjX3N0YXR1cyBkY24yMF9nZXRfZGVmYXVsdF9zd2l6emxlX21vZGUoc3RydWN0IGRjX3Bs
YW5lX3N0YXRlICpwbGFuZV9zdGF0ZSk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1k
L2Rpc3BsYXkvZGMvZG1sL2Rpc3BsYXlfbW9kZV9lbnVtcy5oIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9kaXNwbGF5L2RjL2RtbC9kaXNwbGF5X21vZGVfZW51bXMuaAppbmRleCAxNzRjNDE0ZTA5ODIu
LmU4ZGEyMWYwNDQ1NCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2Rj
L2RtbC9kaXNwbGF5X21vZGVfZW51bXMuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3Bs
YXkvZGMvZG1sL2Rpc3BsYXlfbW9kZV9lbnVtcy5oCkBAIC0xMzAsNiArMTMwLDcgQEAgZW51bSBk
bV92YWxpZGF0aW9uX3N0YXR1cyB7CiAJRE1MX0ZBSUxfRElPX1NVUFBPUlQsCiAJRE1MX0ZBSUxf
Tk9UX0VOT1VHSF9EU0MsCiAJRE1MX0ZBSUxfRFNDX0NMS19SRVFVSVJFRCwKKwlETUxfRkFJTF9E
U0NfVkFMSURBVElPTl9GQUlMVVJFLAogCURNTF9GQUlMX1VSR0VOVF9MQVRFTkNZLAogCURNTF9G
QUlMX1JFT1JERVJJTkdfQlVGRkVSLAogCURNTF9GQUlMX0RJU1BDTEtfRFBQQ0xLLAotLSAKMi4y
MC4xCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwphbWQt
Z2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xp
c3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZng=
