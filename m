Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 5D014B05495
	for <lists+amd-gfx@lfdr.de>; Tue, 15 Jul 2025 10:19:16 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id F3E1E10E508;
	Tue, 15 Jul 2025 08:19:14 +0000 (UTC)
Authentication-Results: gabe.freedesktop.org;
	dkim=pass (1024-bit key; unprotected) header.d=amd.com header.i=@amd.com header.b="1AltViyZ";
	dkim-atps=neutral
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM12-MW2-obe.outbound.protection.outlook.com
 (mail-mw2nam12on2081.outbound.protection.outlook.com [40.107.244.81])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 1334E10E508
 for <amd-gfx@lists.freedesktop.org>; Tue, 15 Jul 2025 08:19:14 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector10001; d=microsoft.com; cv=none;
 b=JJ2Or7v7wFrTyO1tSQxFOLpx/qttl3D8jNNN67PWGh+v+omHFAAo99Ww6EYMkqqBIu6xrulGrHVdchO3N4cz8eXHmom/bfYe+fxdpKkhjkaYfxSIrOkXbWZW798lnaSfBh6pFrVxfSCnfeqDldrd0C5gVlEVGLnxB4ZMyTTk1iR9TAGduB5szbRDcyufB8NgvhGp7CO4hbqJIUJhIJHOwU58oxvTrLMEYlIUBKk38ezOMPHyKobuSEM7Jv113AiI/2aY5t+DY1vpE+lqHE9duDwsV6gHOUkLKwDTuExg5QG8QPf1suFGWTEIBnY48R97nv3Gm2UNWrhlFl8pycMcfA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector10001;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=f/3QEh8kzEmcrpwS7HnjbLpHveC+bb/l7NTMrTkeFo4=;
 b=sT7WZ4mAgT8s13TIJfYFb0cpNMar3A7cvFfu1Fvrnp+oRBVe20kfy+qSRUCu6TvB4qeOo/2yDly/rv1bh0wPHTPXHSEQu0P6aXCQ7PAveulHeN7DNs6+xrrKUk8bQETZ3p0ixm5HqPRNJEAwkw9x/kNrCL7GoL+n8o46+xIgS01NHJUMRlhaB0BxHMOypElfdyTNTXBc4ge2YTeLWHMVs1MIdJn0UsLf3Qanf6zv4ug0ymfOj0el4nqFicD9b2/k/I4d657W0YRGMuVkyMOfHURa+3bII4Cs7IC/cm9qrH4PJb+SLju6v6urBSv848V/9zYOVvrWt3jj2oY5VfGWGA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=amd.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=f/3QEh8kzEmcrpwS7HnjbLpHveC+bb/l7NTMrTkeFo4=;
 b=1AltViyZj8/HaxMpqVz/H3TxxNaI25ibvgfDS7Zt9b3L2wC2P2AdyeAvxt0wkiP3qe1mIR6Ye858pGk1j8opj3nJbNecDf/cSQ8V+rroK3sCjNCH8ycwfBzKUw0XIKy6FpMfItm3uGcR9aDgeGiY7jS0/YejUKPXU62a0Gc7bKU=
Received: from DS7PR12MB6005.namprd12.prod.outlook.com (2603:10b6:8:7c::17) by
 DS0PR12MB8071.namprd12.prod.outlook.com (2603:10b6:8:df::5) with
 Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.8922.33; Tue, 15 Jul 2025 08:19:12 +0000
Received: from DS7PR12MB6005.namprd12.prod.outlook.com
 ([fe80::4dc0:f34c:9e7e:ccb]) by DS7PR12MB6005.namprd12.prod.outlook.com
 ([fe80::4dc0:f34c:9e7e:ccb%4]) with mapi id 15.20.8880.034; Tue, 15 Jul 2025
 08:19:11 +0000
From: "Liang, Prike" <Prike.Liang@amd.com>
To: "Koenig, Christian" <Christian.Koenig@amd.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
CC: "Deucher, Alexander" <Alexander.Deucher@amd.com>
Subject: RE: [PATCH v6 04/11] drm/amdgpu: validate userq buffer virtual
 address and size
Thread-Topic: [PATCH v6 04/11] drm/amdgpu: validate userq buffer virtual
 address and size
Thread-Index: AQHb8ke/MvJZS+iygU6ljKpCrsxnKbQs1GcAgAYGHfA=
Date: Tue, 15 Jul 2025 08:19:11 +0000
Message-ID: <DS7PR12MB6005D9F97038D8E42C79656BFB57A@DS7PR12MB6005.namprd12.prod.outlook.com>
References: <20250711093930.1411470-1-Prike.Liang@amd.com>
 <20250711093930.1411470-4-Prike.Liang@amd.com>
 <2f056c77-8c26-4bf3-aa89-2965c7896139@amd.com>
In-Reply-To: <2f056c77-8c26-4bf3-aa89-2965c7896139@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
msip_labels: MSIP_Label_f265efc6-e181-49d6-80f4-fae95cf838a0_Enabled=True;
 MSIP_Label_f265efc6-e181-49d6-80f4-fae95cf838a0_SiteId=3dd8961f-e488-4e60-8e11-a82d994e183d;
 MSIP_Label_f265efc6-e181-49d6-80f4-fae95cf838a0_SetDate=2025-07-15T08:07:49.0000000Z;
 MSIP_Label_f265efc6-e181-49d6-80f4-fae95cf838a0_Name=Open
 Source; MSIP_Label_f265efc6-e181-49d6-80f4-fae95cf838a0_ContentBits=3;
 MSIP_Label_f265efc6-e181-49d6-80f4-fae95cf838a0_Method=Privileged
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=amd.com;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: DS7PR12MB6005:EE_|DS0PR12MB8071:EE_
x-ms-office365-filtering-correlation-id: df18b1d2-0f01-4dee-be53-08ddc3784727
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0;
 ARA:13230040|1800799024|366016|376014|38070700018|7053199007; 
x-microsoft-antispam-message-info: =?utf-8?B?TWhmRXYvMndHd2FJWDM0b1FUYURNaUIvS1pGelA5cUkyZ1ZaN0svdTVlVjVX?=
 =?utf-8?B?YXBvRDV5S1FYNHBzWUp1SjdOZGRBdmFzc29uUUhkS3JDZkpwcGo2THB2c0pR?=
 =?utf-8?B?WlJsOGNzQjVLbHZEY0lNaTBtVVZZS0hjWU5ZTWZndmFwTXJ2K1I4WlVaQjlC?=
 =?utf-8?B?L0swb2NibGRBdGVDWFdDdlM5WkpwenovQzY5MjJ4Q2VLVXk2L3V3bXlwYXgr?=
 =?utf-8?B?MEZqd0RaK0cwTDVvUnVrYVlsVUozM0d3VFpzczZTZnMyVFFycWNNSGtrTVl5?=
 =?utf-8?B?M1dZZ2RrcFJYTzY4VHpralNTYzdYNFdsMW1yYmRyV3RiM1VSYmh4UDNRMFdM?=
 =?utf-8?B?R2Jvc2x2czRCRXdDSmpreGZ0OGUvMm5hdzRyUlhDY05GZkZkY3lZakVrRnRp?=
 =?utf-8?B?WW9SeDIwd2xKRXBoZ1hQZVRISnNTRTc4QmkvSmlPMWJVSkJINnNlU0VPeXVW?=
 =?utf-8?B?WGJNRmluem91eklqV0p1NEhFWXZqZDhnWWVCS3BQcGhlMkhudHA2TllEU282?=
 =?utf-8?B?eWJjdGNaZWlFUjJhVjFzdnIrS096bGFaVzZLdmZGNndQQjFuQVNqblhKQUh3?=
 =?utf-8?B?R01tUFVrTzRNV2Qyem9TUnBTalZzWktPdWcxemJQV2wrUU1jMGZtVTJCdTcv?=
 =?utf-8?B?Y1I0WFFtL01xN2xwa3NKNFZnM0JmS0VtZTBxZ1hQaXh1SXpLUklTSFVrbEZY?=
 =?utf-8?B?cHIzNGx2eUsrZkh1azg4QzYyMUM5aSszdVVYYUlPalZYNG5QdDEzT0MrUzdu?=
 =?utf-8?B?ckdFZUJSTlNWRThZRUxNVXVSczZuejhIdmk0ZFd4b3BybDIvY0o2OUZpOGk5?=
 =?utf-8?B?RHJmck9oMzBtSXYrQUNxbWZCZVAxdkpJcXNtMjZOeTlON1VWUXh0ZkhWRzdX?=
 =?utf-8?B?cmhaVW4wWXRaQ3Q4a1MycERBY3JqdEpDNG95bm14dkZVd2JJek5TbkJURFNB?=
 =?utf-8?B?U0h0QkRvdUczeHliRzhBRDVNL1BMMXp1enFrU3RmT3lWcG5mV3BSa3p6Zkln?=
 =?utf-8?B?cWV3bmVkNSt1eXlPU2o5OHVqVENoczdGZUdQQWIzTWRJYzdBTmxvbUlrYVh6?=
 =?utf-8?B?ZFJQcHpCa05UK1RoN2F3WGNrQ1pxeUxTZXNaTnM3L1lnVlM2TDV1QVA0ODB2?=
 =?utf-8?B?ck1aM3MyZGpBNnJ3bU1ETy9nakRQR3RCam82WnBQYXliQjhhTFM2MUJZdmY4?=
 =?utf-8?B?dUlzc0VsTGVqMVpyNWZ5MENOL1Nja2ZCdGE3WFFqZHVDWHZhbEl4S2ZGTFZl?=
 =?utf-8?B?Z1gycDR1dXlFem5aMVNKM2pIY05sR2Jmb2V1UnEwSUkvN2ZuVEppTlpKWEo0?=
 =?utf-8?B?a1dQSDNUNXBZYithL2I2UEc2MlAvenpHUnZVNGdESkxMc2Y0NWZCOHpqd1I1?=
 =?utf-8?B?K1ZWWk5XTVdKclRyRTRyenVraG5iclVEN0hqWjVPODRtUVpnZXYybld1VEpM?=
 =?utf-8?B?c1RMZEthR2VwbTVpRUk5YmUxc3Vtazd1YzNjRU9LYkRaMmJzbGVRSm5OQjAz?=
 =?utf-8?B?U2FsQWwzRXV0YXd6djV3TVRzbTFITm03N0tqWXlrazhpWXFIVENJczk1Wm5F?=
 =?utf-8?B?ellGOEZSWGtXaEVZNlF5QXJYV0FsRjZLTFZYWTdXcGQ5ZHJOQzN6RDlmK1M2?=
 =?utf-8?B?VkIxRFh1UVpiWGFxb3c5RGdYSG1DcmV1RVl0dXE3Z2lnTDJKa2M5cXNVK1Jy?=
 =?utf-8?B?U0Evc1I4WVp3b2thcjhWWmd2RFFnS211T2o0TVQ5WEFRR3V3bjBTM0FFaEt5?=
 =?utf-8?B?WUhORDFNVEc3ZmNldDI0SCtFYkRnb0c1RUVxUCtCR25lakhabHpRTlJOWm5G?=
 =?utf-8?B?SmRXdENxNTF5R05oaHFyd0VyRDQvczFIM0tPNWhGNFBCK2dHcmxSMHBFTU1w?=
 =?utf-8?B?UnZMMkltWTEwNDNuWHNzUGZIVG8rb1ZkUy9ONUIvWEZyWWR5Tm9wbnYzaDNQ?=
 =?utf-8?B?SEt3ekNJQWdMeDFMeFRrdHdvZ09aNGVvWFdhSVF5NUpwNERFbFRib291WU9p?=
 =?utf-8?B?Q0tiTm9mdTRRPT0=?=
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:DS7PR12MB6005.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(13230040)(1800799024)(366016)(376014)(38070700018)(7053199007); DIR:OUT;
 SFP:1101; 
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?aU0zWlZVQ0Jpd1UxTWF5WTFtdUdmSFhvSUJENWk5OCtQK3kwVFVyVUljZFc4?=
 =?utf-8?B?anlOQzRseGR6VVlTOEFQckhOenRpdlZoRnJKd1p3eUNWSU4yZkQ0ZFlocXNF?=
 =?utf-8?B?alJyMTVrMVRBRUNsbDBBWkpqbTJmZFozMnc1YXFldmxMQld6cW05cFF0RDBK?=
 =?utf-8?B?Q2VMMVdWZDRuQkthRW9xR3RpVVhhUnJNTndXTVBaSWNPOXBxZTU3dDNZSFN6?=
 =?utf-8?B?aUpGWk10RFIxdjFpY2psaUZIM2lnY2luWlBFVUdoNmRobldHVSsyaTUxZTE0?=
 =?utf-8?B?VzROdG1KWEsydVJvUnVhSnlza21YaWxxeHZwMEZtN1VTaXRKNWVSb09wdEtK?=
 =?utf-8?B?ZlhnZDVSMWZoVFkyN1FHQUJ3Q1hTSFZ2T1RDOHE3blczRWhLaHhMOFZpT0ZK?=
 =?utf-8?B?M1VWeUxFU1hZSERGN1JFbkpqb0I3MFdLcHVMd2dhYkg0bE5rMzNDS0ZrZ2Q1?=
 =?utf-8?B?cityeXNUY3lvMERiNXhQR1RnUkh2UlhucitRVEFIT1ZtN0hiR1JXZU9mVlpL?=
 =?utf-8?B?Q2FWMkVtRHpYV0RHTU8vZEhha0tjYU5FazhXQ1hyZzhyM2NuWW9lWmpnc0RR?=
 =?utf-8?B?UndLVlV2QzNVeVZMemtBQ2E4VjdFK1pzZll3dkNOTVhQTlQySG13aFd0OHZ3?=
 =?utf-8?B?YUZIcUFSQ0V1SXZLY3Avdk9HMGY5emd5eFVxNW5YZEplMTFuc3N0M0F1R0VK?=
 =?utf-8?B?ejhFZmx1TUptekhXZFZVb0RMV3dBZG40bytyR3FBdnZzeWRHWDgxT1c5M3Rw?=
 =?utf-8?B?T1UzT01uU3JkNkZ2djlZeXhHS0lGaG1CM3pNczk2TXhKTW9NODl4eUVyNVVT?=
 =?utf-8?B?Skltd05XZU00V2g2eVdvOWZIYllLRlpsTzlFdEs1ck85aWxnOGhaZmFFZ1RZ?=
 =?utf-8?B?NmRIUVRuUlFSYmlMQS9vTnhTdWovRllVN01hQ3gzOG1UeUd6Z1A4K1djQ1J2?=
 =?utf-8?B?amZjL2MybjU5WjBTYWJuR2JJSDA5TG02SWxUTGMzaHRMcDBMckluV1h2QkUz?=
 =?utf-8?B?WUkrRlRpTTlxSTdsRnQxY0V1M09kK2l3NUxCbGZDYnk1WnZSNS9uNlo5VVhV?=
 =?utf-8?B?VVR6ZUhJUk1seFpVT3RvSDJZeDJRU2ZKcHB0WTJDUVpEMnJRaHVURy96YUZi?=
 =?utf-8?B?SFlOZWczbEtEYVBWcm5VU0tlbVZYbHVZOXZyekxPd2hFNXJxeTdmMHFKem1n?=
 =?utf-8?B?VzNJT2RwRmZUVzUrQmIrQVJxaWJISlV1ZjUvbHJyY1ErVmhYcUFUcU1odVJl?=
 =?utf-8?B?QVBERW1aNS9pQjBXMFhwZ3NlN1ZHZnZvWEpZNURWWS95V0wrb3VXak4ydHFU?=
 =?utf-8?B?UzA3cm5sZTVKc3dUSHQ5YmxDZ1d0VENYMHZHc1M0RGNWeUIzQjl4aDNwR0xv?=
 =?utf-8?B?MGdVQlRHSzhYN3ZMQXBWNGsrR2NOdkZUUzhKdmZuTXRhMDZKMVlWenVPTE9Z?=
 =?utf-8?B?TzJMZTZhNUxqbHlEZVBTTTJQZ3VYbEprYzdFRHRSZ3NDZXNiaUJzQWd6Nnp0?=
 =?utf-8?B?YjVCQnNIY0dkYnFlQm5ZdlhLVDdlMGp1bGFZVmJEKy9LcmtHeUZJcWQ2WVRo?=
 =?utf-8?B?eXBCM0RpMnBLWmFXYUltUlBkUGMzZFZGME5NSlZFYjF5ZDZlUmhoV2RvZlhM?=
 =?utf-8?B?WkxlNUZCMEI5bWlzeUpVUHY3WlhaVExZRUZnNWo2T0tXaU95NW95V2dNS243?=
 =?utf-8?B?aHBDMjR6T1EzNVdoZC8zbHpUeHVBaFp6Wjl6NHU2SzFYK3AveTVnMDg0Ukpv?=
 =?utf-8?B?VS9QSWhYOWRRMzZkckpGMGlHQmlZRHBOd2trdkYyTkhsRm5nR2loTE5WT2Ur?=
 =?utf-8?B?R3F4dDBUMDBXeStsS2M2NXBuZW9hcDZTYkRJd3VSaDdlRnU1SGlRNGdlWUpL?=
 =?utf-8?B?cldFSHovNHdRa0p2RnZvUS85K3VMWE5vbVpBd1FnUHpVNk5XaVE5RGU1TzdP?=
 =?utf-8?B?eDU3TzJ3d1FDMGF1aVZlVzFCNDBPUkx6eVRud1VjWEg4T095MGFjOWtMSlFV?=
 =?utf-8?B?Qytndjk3WFIyUnJqQzViSEZQaFprODJkdVl1LzBVaGdMNmhBbW84TzJQL2hT?=
 =?utf-8?B?c2Jqa01LR2EzL0M0WGJybjY4Y3d5SEIwa0ZWNXlNSmZyYWpMbHVySjN3SWRt?=
 =?utf-8?Q?lFnU=3D?=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: DS7PR12MB6005.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: df18b1d2-0f01-4dee-be53-08ddc3784727
X-MS-Exchange-CrossTenant-originalarrivaltime: 15 Jul 2025 08:19:11.3644 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: zglkbbS16pbcBbx5n1bY29hd5fKjLxcoBGb7jwbQnBgMv5q1zQZvVJx743VWt2KW
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DS0PR12MB8071
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

W1B1YmxpY10NCg0KUmVnYXJkcywNCiAgICAgIFByaWtlDQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNz
YWdlLS0tLS0NCj4gRnJvbTogS29lbmlnLCBDaHJpc3RpYW4gPENocmlzdGlhbi5Lb2VuaWdAYW1k
LmNvbT4NCj4gU2VudDogRnJpZGF5LCBKdWx5IDExLCAyMDI1IDg6MDggUE0NCj4gVG86IExpYW5n
LCBQcmlrZSA8UHJpa2UuTGlhbmdAYW1kLmNvbT47IGFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Au
b3JnDQo+IENjOiBEZXVjaGVyLCBBbGV4YW5kZXIgPEFsZXhhbmRlci5EZXVjaGVyQGFtZC5jb20+
DQo+IFN1YmplY3Q6IFJlOiBbUEFUQ0ggdjYgMDQvMTFdIGRybS9hbWRncHU6IHZhbGlkYXRlIHVz
ZXJxIGJ1ZmZlciB2aXJ0dWFsIGFkZHJlc3MNCj4gYW5kIHNpemUNCj4NCj4NCj4NCj4gT24gMTEu
MDcuMjUgMTE6MzksIFByaWtlIExpYW5nIHdyb3RlOg0KPiA+IEl0IG5lZWRzIHRvIHZhbGlkYXRl
IHRoZSB1c2VycSBvYmplY3QgdmlydHVhbCBhZGRyZXNzIHRvIGRldGVybWluDQo+ID4gd2hldGhl
ciBpdCBpcyByZXNpZGVudGVkIGluIGEgdmFsaWQgdm0gbWFwcGluZy4NCj4gPg0KPiA+IFNpZ25l
ZC1vZmYtYnk6IFByaWtlIExpYW5nIDxQcmlrZS5MaWFuZ0BhbWQuY29tPg0KPiA+IFJldmlld2Vk
LWJ5OiBBbGV4IERldWNoZXIgPGFsZXhhbmRlci5kZXVjaGVyQGFtZC5jb20+DQo+ID4gLS0tDQo+
ID4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV91c2VycS5jICB8IDM4DQo+ID4g
KysrKysrKysrKysrKysrKysrKysrKyAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1
X3VzZXJxLmggIHwNCj4gPiAyICsrICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9tZXNfdXNl
cnF1ZXVlLmMgfCAyNSArKysrKysrKysrKysrKw0KPiA+ICAzIGZpbGVzIGNoYW5nZWQsIDY1IGlu
c2VydGlvbnMoKykNCj4gPg0KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfdXNlcnEuYw0KPiA+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1k
Z3B1X3VzZXJxLmMNCj4gPiBpbmRleCAxNWU4MzNiMWIzZTMuLmE0MWRkMzhiMGFkYiAxMDA2NDQN
Cj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdXNlcnEuYw0KPiA+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV91c2VycS5jDQo+ID4gQEAg
LTQ0LDYgKzQ0LDM2IEBAIHUzMiBhbWRncHVfdXNlcnFfZ2V0X3N1cHBvcnRlZF9pcF9tYXNrKHN0
cnVjdA0KPiBhbWRncHVfZGV2aWNlICphZGV2KQ0KPiA+ICAgICByZXR1cm4gdXNlcnFfaXBfbWFz
azsNCj4gPiAgfQ0KPiA+DQo+ID4gK2ludCBhbWRncHVfdXNlcnFfaW5wdXRfdmFfdmFsaWRhdGUo
c3RydWN0IGFtZGdwdV92bSAqdm0sIHU2NCBhZGRyLA0KPiA+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgICB1NjQgZXhwZWN0ZWRfc2l6ZSkNCj4gPiArew0KPiA+ICsgICBzdHJ1Y3QgYW1kZ3B1
X2JvX3ZhX21hcHBpbmcgKnZhX21hcDsNCj4gPiArICAgdTY0IHVzZXJfYWRkcjsNCj4gPiArICAg
dTY0IHNpemU7DQo+ID4gKyAgIGludCByOw0KPiA+ICsNCj4gPiArICAgdXNlcl9hZGRyID0gKGFk
ZHIgJiBBTURHUFVfR01DX0hPTEVfTUFTSykgPj4NCj4gQU1ER1BVX0dQVV9QQUdFX1NISUZUOw0K
PiA+ICsgICBzaXplID0gZXhwZWN0ZWRfc2l6ZSA+PiBBTURHUFVfR1BVX1BBR0VfU0hJRlQ7DQo+
ID4gKw0KPiA+ICsgICByID0gYW1kZ3B1X2JvX3Jlc2VydmUodm0tPnJvb3QuYm8sIGZhbHNlKTsN
Cj4gPiArICAgaWYgKHIpDQo+ID4gKyAgICAgICAgICAgcmV0dXJuIHI7DQo+ID4gKw0KPiA+ICsg
ICB2YV9tYXAgPSBhbWRncHVfdm1fYm9fbG9va3VwX21hcHBpbmcodm0sIHVzZXJfYWRkcik7DQo+
ID4gKyAgIGlmICghdmFfbWFwKQ0KPiA+ICsgICAgICAgICAgIGdvdG8gb3V0X2VycjsNCj4gPiAr
ICAgLyogT25seSB2YWxpZGF0ZSB0aGUgdXNlcnEgd2hldGhlciByZXNpZGVudCBpbiB0aGUgVk0g
bWFwcGluZyByYW5nZSAqLw0KPiA+ICsgICBpZiAodXNlcl9hZGRyID49IHZhX21hcC0+c3RhcnQg
JiYNCj4NCj4gVGhpcyBjaGVjayBpcyB1bmVjZXNzYXJ5Lg0KPg0KPiA+ICsgICAgICAgKHNpemUg
IT0gMCAmJiB1c2VyX2FkZHIgKyBzaXplIC0gMSA8PSB2YV9tYXAtPmxhc3QpKSB7DQo+DQo+IFRo
ZSBzaXplICE9IDAgY2hlY2sgaXMgdW5lY2Vzc2FyeSBhcyB3ZWxsIGFuZCB5b3UgbmVlZCB0byBi
ZSBjYXJlZnVsIHdpdGggd3JhcA0KPiBhcm91bmRzLg0KPg0KPiBCZXR0ZXIgd3JpdGUgdGhpcyBs
aWtlIHRoYXQgKHZhX21hcC0+bGFzdCAtIHVzZXJfYWRkciArIDEgPj0gc2l6ZSkNClRoYW5rIHlv
dSBmb3IgdGhlIHN1Z2dlc3Rpb24sIHdpbGwgdXBkYXRlIHRoaXMgaW4gbGF0ZXIgdmVyc2lvbi4N
Cj4NCj4gPiArICAgICAgICAgICBhbWRncHVfYm9fdW5yZXNlcnZlKHZtLT5yb290LmJvKTsNCj4g
PiArICAgICAgICAgICByZXR1cm4gMDsNCj4gPiArICAgfQ0KPiA+ICsNCj4gPiArb3V0X2VycjoN
Cj4gPiArICAgYW1kZ3B1X2JvX3VucmVzZXJ2ZSh2bS0+cm9vdC5ibyk7DQo+ID4gKyAgIHJldHVy
biAtRUlOVkFMOw0KPiA+ICt9DQo+ID4gKw0KPiA+ICBzdGF0aWMgaW50DQo+ID4gIGFtZGdwdV91
c2VycV91bm1hcF9oZWxwZXIoc3RydWN0IGFtZGdwdV91c2VycV9tZ3IgKnVxX21nciwNCj4gPiAg
ICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGFtZGdwdV91c2VybW9kZV9xdWV1ZSAqcXVldWUp
IEBAIC0zODYsNg0KPiArNDE2LDE0IEBADQo+ID4gYW1kZ3B1X3VzZXJxX2NyZWF0ZShzdHJ1Y3Qg
ZHJtX2ZpbGUgKmZpbHAsIHVuaW9uIGRybV9hbWRncHVfdXNlcnEgKmFyZ3MpDQo+ID4gICAgICAg
ICAgICAgciA9IC1FSU5WQUw7DQo+ID4gICAgICAgICAgICAgZ290byB1bmxvY2s7DQo+ID4gICAg
IH0NCj4gPiArICAgLyogVmFsaWRhdGUgdGhlIHVzZXJxIHZpcnR1YWwgYWRkcmVzcy4qLw0KPiA+
ICsgICBpZiAoYW1kZ3B1X3VzZXJxX2lucHV0X3ZhX3ZhbGlkYXRlKCZmcHJpdi0+dm0sIGFyZ3Mt
PmluLnF1ZXVlX3ZhLCBhcmdzLQ0KPiA+aW4ucXVldWVfc2l6ZSkgfHwNCj4gPiArICAgICAgIGFt
ZGdwdV91c2VycV9pbnB1dF92YV92YWxpZGF0ZSgmZnByaXYtPnZtLCBhcmdzLT5pbi5ycHRyX3Zh
LA0KPiBQQUdFX1NJWkUpIHx8DQo+ID4gKyAgICAgICBhbWRncHVfdXNlcnFfaW5wdXRfdmFfdmFs
aWRhdGUoJmZwcml2LT52bSwgYXJncy0+aW4ud3B0cl92YSwNCj4gUEFHRV9TSVpFKSkgew0KPiA+
ICsgICAgICAgICAgIGRybV9maWxlX2Vycih1cV9tZ3ItPmZpbGUsICJVc2VybW9kZSBxdWV1ZSBp
bnB1dCB2aXJ0IGFkZHJlc3MgaXMNCj4gPiAraW52YWxpZFxuIik7DQo+DQo+IE5vIGVycm9yIG1l
c3NhZ2Ugb24gaW52YWxpZCB1c2Vyc3BhY2UgcGFyYW1ldGVycyBwbGVhc2UuDQpPSywgd2h5IGNh
bid0IGdpdmUgdGhlIGFsZXJ0IGxvZyBmb3IgdGhlIGludmFsaWQgdXNlciBjYXNlPw0KSXQncyB1
c2VmdWwgZm9yIGNhdGNoaW5nIHRoZSB1c2VycSBpbnZhbGlkIFZBL3NpemUgY2FzZSwgaG93IGFi
b3V0IGNoYW5nZSB0aGUgZXJyb3IgbWVzc2FnZSB0byBhIGRlYnVnIGxldmVsPw0KDQo+IEFwYXJ0
IGZyb20gdGhvc2UgY29tbWVudHMgbG9va3MgbGlrZSB0aGUgcmlnaHQgdGhpbmcgdG8gZG8gdG8g
bWUuDQo+DQo+IFJlZ2FyZHMsDQo+IENocmlzdGlhbi4NCj4NCj4gPiArICAgICAgICAgICByID0g
LUVJTlZBTDsNCj4gPiArICAgICAgICAgICBnb3RvIHVubG9jazsNCj4gPiArICAgfQ0KPiA+DQo+
ID4gICAgIHF1ZXVlID0ga3phbGxvYyhzaXplb2Yoc3RydWN0IGFtZGdwdV91c2VybW9kZV9xdWV1
ZSksIEdGUF9LRVJORUwpOw0KPiA+ICAgICBpZiAoIXF1ZXVlKSB7DQo+ID4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV91c2VycS5oDQo+ID4gYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdXNlcnEuaA0KPiA+IGluZGV4IGVjMDQwYzJmZDZj
OS4uNzA0OTM1Y2EwYzM2IDEwMDY0NA0KPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2FtZGdwdV91c2VycS5oDQo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
YW1kZ3B1X3VzZXJxLmgNCj4gPiBAQCAtMTMyLDQgKzEzMiw2IEBAIGludA0KPiA+IGFtZGdwdV91
c2VycV9zdG9wX3NjaGVkX2Zvcl9lbmZvcmNlX2lzb2xhdGlvbihzdHJ1Y3QgYW1kZ3B1X2Rldmlj
ZSAqYWRldiwNCj4gaW50IGFtZGdwdV91c2VycV9zdGFydF9zY2hlZF9mb3JfZW5mb3JjZV9pc29s
YXRpb24oc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ID4gICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1MzIgaWR4KTsNCj4gPg0KPiA+ICtpbnQgYW1k
Z3B1X3VzZXJxX2lucHV0X3ZhX3ZhbGlkYXRlKHN0cnVjdCBhbWRncHVfdm0gKnZtLCB1NjQgYWRk
ciwNCj4gPiArICAgICAgICAgICAgICAgICAgIHU2NCBleHBlY3RlZF9zaXplKTsNCj4gPiAgI2Vu
ZGlmDQo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L21lc191c2Vy
cXVldWUuYw0KPiA+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvbWVzX3VzZXJxdWV1ZS5j
DQo+ID4gaW5kZXggMTVhYTFjYTY3YTExLi43NWI5YTYyOTRiNTMgMTAwNjQ0DQo+ID4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvbWVzX3VzZXJxdWV1ZS5jDQo+ID4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvbWVzX3VzZXJxdWV1ZS5jDQo+ID4gQEAgLTIwNiw2ICsy
MDYsNyBAQCBzdGF0aWMgaW50IG1lc191c2VycV9tcWRfY3JlYXRlKHN0cnVjdA0KPiBhbWRncHVf
dXNlcnFfbWdyICp1cV9tZ3IsDQo+ID4gICAgIHN0cnVjdCBhbWRncHVfbXFkICptcWRfaHdfZGVm
YXVsdCA9ICZhZGV2LT5tcWRzW3F1ZXVlLT5xdWV1ZV90eXBlXTsNCj4gPiAgICAgc3RydWN0IGRy
bV9hbWRncHVfdXNlcnFfaW4gKm1xZF91c2VyID0gYXJnc19pbjsNCj4gPiAgICAgc3RydWN0IGFt
ZGdwdV9tcWRfcHJvcCAqdXNlcnFfcHJvcHM7DQo+ID4gKyAgIHN0cnVjdCBhbWRncHVfZ2Z4X3No
YWRvd19pbmZvIHNoYWRvd19pbmZvOw0KPiA+ICAgICBpbnQgcjsNCj4gPg0KPiA+ICAgICAvKiBT
dHJ1Y3R1cmUgdG8gaW5pdGlhbGl6ZSBNUUQgZm9yIHVzZXJxdWV1ZSB1c2luZyBnZW5lcmljIE1R
RCBpbml0DQo+ID4gZnVuY3Rpb24gKi8gQEAgLTIzMSw2ICsyMzIsOCBAQCBzdGF0aWMgaW50IG1l
c191c2VycV9tcWRfY3JlYXRlKHN0cnVjdA0KPiBhbWRncHVfdXNlcnFfbWdyICp1cV9tZ3IsDQo+
ID4gICAgIHVzZXJxX3Byb3BzLT5kb29yYmVsbF9pbmRleCA9IHF1ZXVlLT5kb29yYmVsbF9pbmRl
eDsNCj4gPiAgICAgdXNlcnFfcHJvcHMtPmZlbmNlX2FkZHJlc3MgPSBxdWV1ZS0+ZmVuY2VfZHJ2
LT5ncHVfYWRkcjsNCj4gPg0KPiA+ICsgICBpZiAoYWRldi0+Z2Z4LmZ1bmNzLT5nZXRfZ2Z4X3No
YWRvd19pbmZvKQ0KPiA+ICsgICAgICAgICAgIGFkZXYtPmdmeC5mdW5jcy0+Z2V0X2dmeF9zaGFk
b3dfaW5mbyhhZGV2LCAmc2hhZG93X2luZm8sIHRydWUpOw0KPiA+ICAgICBpZiAocXVldWUtPnF1
ZXVlX3R5cGUgPT0gQU1ER1BVX0hXX0lQX0NPTVBVVEUpIHsNCj4gPiAgICAgICAgICAgICBzdHJ1
Y3QgZHJtX2FtZGdwdV91c2VycV9tcWRfY29tcHV0ZV9nZngxMSAqY29tcHV0ZV9tcWQ7DQo+ID4N
Cj4gPiBAQCAtMjQ3LDYgKzI1MCwxMyBAQCBzdGF0aWMgaW50IG1lc191c2VycV9tcWRfY3JlYXRl
KHN0cnVjdA0KPiBhbWRncHVfdXNlcnFfbWdyICp1cV9tZ3IsDQo+ID4gICAgICAgICAgICAgICAg
ICAgICBnb3RvIGZyZWVfbXFkOw0KPiA+ICAgICAgICAgICAgIH0NCj4gPg0KPiA+ICsgICAgICAg
ICAgIGlmIChhbWRncHVfdXNlcnFfaW5wdXRfdmFfdmFsaWRhdGUocXVldWUtPnZtLCBjb21wdXRl
X21xZC0NCj4gPmVvcF92YSwNCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBtYXhfdCh1MzIsIFBBR0VfU0laRSwNCj4gQU1ER1BVX0dQVV9QQUdFX1NJWkUpKSkgew0KPiA+
ICsgICAgICAgICAgICAgICAgICAgZHJtX2ZpbGVfZXJyKHVxX21nci0+ZmlsZSwgIkVPUCBWQSBp
cyBpbnZhbGlkXG4iKTsNCj4gPiArICAgICAgICAgICAgICAgICAgIHIgPSAtRUlOVkFMOw0KPiA+
ICsgICAgICAgICAgICAgICAgICAgZ290byBmcmVlX21xZDsNCj4gPiArICAgICAgICAgICB9DQo+
ID4gKw0KPiA+ICAgICAgICAgICAgIHVzZXJxX3Byb3BzLT5lb3BfZ3B1X2FkZHIgPSBjb21wdXRl
X21xZC0+ZW9wX3ZhOw0KPiA+ICAgICAgICAgICAgIHVzZXJxX3Byb3BzLT5ocWRfcGlwZV9wcmlv
cml0eSA9DQo+IEFNREdQVV9HRlhfUElQRV9QUklPX05PUk1BTDsNCj4gPiAgICAgICAgICAgICB1
c2VycV9wcm9wcy0+aHFkX3F1ZXVlX3ByaW9yaXR5ID0NCj4gPiBBTURHUFVfR0ZYX1FVRVVFX1BS
SU9SSVRZX01JTklNVU07DQo+ID4gQEAgLTI3NCw2ICsyODQsMTQgQEAgc3RhdGljIGludCBtZXNf
dXNlcnFfbXFkX2NyZWF0ZShzdHJ1Y3QNCj4gYW1kZ3B1X3VzZXJxX21nciAqdXFfbWdyLA0KPiA+
ICAgICAgICAgICAgIHVzZXJxX3Byb3BzLT5jc2FfYWRkciA9IG1xZF9nZnhfdjExLT5jc2FfdmE7
DQo+ID4gICAgICAgICAgICAgdXNlcnFfcHJvcHMtPnRtel9xdWV1ZSA9DQo+ID4gICAgICAgICAg
ICAgICAgICAgICBtcWRfdXNlci0+ZmxhZ3MgJg0KPiBBTURHUFVfVVNFUlFfQ1JFQVRFX0ZMQUdT
X1FVRVVFX1NFQ1VSRTsNCj4gPiArDQo+ID4gKyAgICAgICAgICAgaWYgKGFtZGdwdV91c2VycV9p
bnB1dF92YV92YWxpZGF0ZShxdWV1ZS0+dm0sIG1xZF9nZnhfdjExLQ0KPiA+c2hhZG93X3ZhLA0K
PiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd19pbmZvLnNoYWRv
d19zaXplKSkgew0KPiA+ICsgICAgICAgICAgICAgICAgICAgZHJtX2ZpbGVfZXJyKHVxX21nci0+
ZmlsZSwgInNoYWRvdyBWQSBpcyBpbnZhbGlkXG4iKTsNCj4gPiArICAgICAgICAgICAgICAgICAg
IHIgPSAtRUlOVkFMOw0KPiA+ICsgICAgICAgICAgICAgICAgICAgZ290byBmcmVlX21xZDsNCj4g
PiArICAgICAgICAgICB9DQo+ID4gKw0KPiA+ICAgICAgICAgICAgIGtmcmVlKG1xZF9nZnhfdjEx
KTsNCj4gPiAgICAgfSBlbHNlIGlmIChxdWV1ZS0+cXVldWVfdHlwZSA9PSBBTURHUFVfSFdfSVBf
RE1BKSB7DQo+ID4gICAgICAgICAgICAgc3RydWN0IGRybV9hbWRncHVfdXNlcnFfbXFkX3NkbWFf
Z2Z4MTEgKm1xZF9zZG1hX3YxMTsgQEANCj4gLTI5MSw2DQo+ID4gKzMwOSwxMyBAQCBzdGF0aWMg
aW50IG1lc191c2VycV9tcWRfY3JlYXRlKHN0cnVjdCBhbWRncHVfdXNlcnFfbWdyDQo+ICp1cV9t
Z3IsDQo+ID4gICAgICAgICAgICAgICAgICAgICBnb3RvIGZyZWVfbXFkOw0KPiA+ICAgICAgICAg
ICAgIH0NCj4gPg0KPiA+ICsgICAgICAgICAgIGlmIChhbWRncHVfdXNlcnFfaW5wdXRfdmFfdmFs
aWRhdGUocXVldWUtPnZtLCBtcWRfc2RtYV92MTEtDQo+ID5jc2FfdmEsDQo+ID4gKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93X2luZm8uY3NhX3NpemUpKSB7DQo+ID4g
KyAgICAgICAgICAgICAgICAgICBkcm1fZmlsZV9lcnIodXFfbWdyLT5maWxlLCAiQ1NBIFZBIGlz
IGludmFsaWRcbiIpOw0KPiA+ICsgICAgICAgICAgICAgICAgICAgciA9IC1FSU5WQUw7DQo+ID4g
KyAgICAgICAgICAgICAgICAgICBnb3RvIGZyZWVfbXFkOw0KPiA+ICsgICAgICAgICAgIH0NCj4g
PiArDQo+ID4gICAgICAgICAgICAgdXNlcnFfcHJvcHMtPmNzYV9hZGRyID0gbXFkX3NkbWFfdjEx
LT5jc2FfdmE7DQo+ID4gICAgICAgICAgICAga2ZyZWUobXFkX3NkbWFfdjExKTsNCj4gPiAgICAg
fQ0KDQo=
