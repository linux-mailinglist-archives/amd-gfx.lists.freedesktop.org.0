Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 3A4A411970
	for <lists+amd-gfx@lfdr.de>; Thu,  2 May 2019 14:56:33 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id BAD808947A;
	Thu,  2 May 2019 12:56:31 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM04-CO1-obe.outbound.protection.outlook.com
 (mail-eopbgr690083.outbound.protection.outlook.com [40.107.69.83])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 00AC38947A
 for <amd-gfx@lists.freedesktop.org>; Thu,  2 May 2019 12:56:29 +0000 (UTC)
Received: from BYAPR12MB3560.namprd12.prod.outlook.com (20.178.197.10) by
 BYAPR12MB2853.namprd12.prod.outlook.com (20.179.90.150) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1856.11; Thu, 2 May 2019 12:56:28 +0000
Received: from BYAPR12MB3560.namprd12.prod.outlook.com
 ([fe80::f0ea:976a:f48c:35a1]) by BYAPR12MB3560.namprd12.prod.outlook.com
 ([fe80::f0ea:976a:f48c:35a1%2]) with mapi id 15.20.1856.008; Thu, 2 May 2019
 12:56:28 +0000
From: "Kazlauskas, Nicholas" <Nicholas.Kazlauskas@amd.com>
To: Dan Carpenter <dan.carpenter@oracle.com>,
 "ckoenig.leichtzumerken@gmail.com" <ckoenig.leichtzumerken@gmail.com>
Subject: Re: [bug report] drm/amd/display: wait for fence without holding
 reservation lock
Thread-Topic: [bug report] drm/amd/display: wait for fence without holding
 reservation lock
Thread-Index: AQHVAL28tdYhnNH6F0mRsL9CAGlInqZXy2kA
Date: Thu, 2 May 2019 12:56:27 +0000
Message-ID: <38c6e4c2-750e-4642-35be-712b2fbc1b22@amd.com>
References: <20190502080442.GA29009@mwanda>
In-Reply-To: <20190502080442.GA29009@mwanda>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: YTBPR01CA0035.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:b01:14::48) To BYAPR12MB3560.namprd12.prod.outlook.com
 (2603:10b6:a03:ae::10)
x-ms-exchange-messagesentrepresentingtype: 1
x-originating-ip: [165.204.55.250]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 5ff961eb-a25d-443f-2d4a-08d6cefd96f5
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600141)(711020)(4605104)(4618075)(2017052603328)(7193020);
 SRVR:BYAPR12MB2853; 
x-ms-traffictypediagnostic: BYAPR12MB2853:
x-ms-exchange-purlcount: 1
x-microsoft-antispam-prvs: <BYAPR12MB28533EB6DFEB131418E63211EC340@BYAPR12MB2853.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:873;
x-forefront-prvs: 0025434D2D
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(366004)(346002)(376002)(136003)(39860400002)(396003)(189003)(199004)(25786009)(305945005)(86362001)(186003)(7736002)(71200400001)(71190400001)(110136005)(31696002)(26005)(68736007)(99286004)(6436002)(14454004)(966005)(66556008)(66476007)(52116002)(66946007)(73956011)(316002)(66574012)(446003)(66066001)(66446008)(64756008)(6486002)(2501003)(2906002)(36756003)(14444005)(6116002)(4326008)(11346002)(386003)(31686004)(53546011)(6506007)(2616005)(486006)(476003)(6246003)(229853002)(72206003)(8936002)(5660300002)(6306002)(5024004)(256004)(478600001)(53936002)(76176011)(6512007)(3846002)(102836004)(8676002)(81166006)(81156014);
 DIR:OUT; SFP:1101; SCL:1; SRVR:BYAPR12MB2853;
 H:BYAPR12MB3560.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: UX4zCU3kBGSHl3xA0BVZUWXyDqx2vUaMx2esX+/VkzW4IFzJssv7ilwiS7wAPpEkHMTlL4esHh1JOWuA3nqzvNHEVGOnQXnt5FmIf5BrEsNSddaLtcLgjsnARJVA9z5ciz1rg19P2SjybC4eq7H7gPBClNoPQwsTOdZbp5goRb/iZxJJ+S3VcGD1B2XgukLZSAcWg2/SD2aQdgErfVpbJeI4cBwNrBbqYHksKXx1hUDKhskYVl8L+p0fG0syJZX879KGd+rvOXZpLqywUVI5ng2WvlkL/SfmDHGK8q0pjixXuFDi5jwC1TTu0hiOhwtruHg1wA1bvA9dw/LyWqoxoOf/Z0SDcg51mnrVrYK2dbq5cohEuTLU3iFrY/D4i4Hnen9pkshdM3qP5qC7SucLjo+O/n0st3+VOE8rvjArWs0=
Content-ID: <7EC7345844F86841B99556B122A91AF3@namprd12.prod.outlook.com>
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 5ff961eb-a25d-443f-2d4a-08d6cefd96f5
X-MS-Exchange-CrossTenant-originalarrivaltime: 02 May 2019 12:56:27.8955 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BYAPR12MB2853
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amd-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=+ZhgR3rawqTVcP8c8vNwVJiKHUJE2YWh5u4ZZLfg5sU=;
 b=PrXfIgVmPz5CpZrhGetkPascq9MdoBjq5Z2KCQs0pjEiVOQVriKozqFgH2jjGG9pinrmzqAgzWqVcCKrxbuZgTPZ8xvHkvSGzUFZAf0R9X38Q47ID5DCyctb9YC8ravUegcxqqin9y8tx1lCvlAw8Re2Whu+0FMTWdnQHzLn5Rw=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Nicholas.Kazlauskas@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

T24gNS8yLzE5IDQ6MDQgQU0sIERhbiBDYXJwZW50ZXIgd3JvdGU6DQo+IFtDQVVUSU9OOiBFeHRl
cm5hbCBFbWFpbF0NCj4gDQo+IEhlbGxvIENocmlzdGlhbiBLw7ZuaWcsDQo+IA0KPiBUaGUgcGF0
Y2ggMmZhYzBmNTNmZTU5OiAiZHJtL2FtZC9kaXNwbGF5OiB3YWl0IGZvciBmZW5jZSB3aXRob3V0
DQo+IGhvbGRpbmcgcmVzZXJ2YXRpb24gbG9jayIgZnJvbSBBcHIgMiwgMjAxOSwgbGVhZHMgdG8g
dGhlIGZvbGxvd2luZw0KPiBzdGF0aWMgY2hlY2tlciB3YXJuaW5nOg0KPiANCj4gICAgICAgICAg
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvLi4vZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1X2Rt
LmM6NTMzOCBhbWRncHVfZG1fY29tbWl0X3BsYW5lcygpDQo+ICAgICAgICAgIHdhcm46ICdyJyB1
bnNpZ25lZCA8PSAwDQo+IA0KPiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS8uLi9kaXNwbGF5
L2FtZGdwdV9kbS9hbWRncHVfZG0uYw0KPiAgICA1MjM4ICBzdGF0aWMgdm9pZCBhbWRncHVfZG1f
Y29tbWl0X3BsYW5lcyhzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqc3RhdGUsDQo+ICAgIDUyMzkg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkY19zdGF0ZSAqZGNf
c3RhdGUsDQo+ICAgIDUyNDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0
cnVjdCBkcm1fZGV2aWNlICpkZXYsDQo+ICAgIDUyNDEgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHN0cnVjdCBhbWRncHVfZGlzcGxheV9tYW5hZ2VyICpkbSwNCj4gICAgNTI0
MiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGRybV9jcnRjICpw
Y3J0YywNCj4gICAgNTI0MyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9v
bCB3YWl0X2Zvcl92YmxhbmspDQo+ICAgIDUyNDQgIHsNCj4gICAgNTI0NSAgICAgICAgICB1aW50
MzJfdCBpLCByOw0KPiAgICAgICAgICAgICAgICAgIF5eXl5eXl5eICAgIF4NCj4gDQo+ICAgIDUy
NDYgICAgICAgICAgdWludDY0X3QgdGltZXN0YW1wX25zOw0KPiAgICA1MjQ3ICAgICAgICAgIHN0
cnVjdCBkcm1fcGxhbmUgKnBsYW5lOw0KPiAgICA1MjQ4ICAgICAgICAgIHN0cnVjdCBkcm1fcGxh
bmVfc3RhdGUgKm9sZF9wbGFuZV9zdGF0ZSwgKm5ld19wbGFuZV9zdGF0ZTsNCj4gICAgNTI0OSAg
ICAgICAgICBzdHJ1Y3QgYW1kZ3B1X2NydGMgKmFjcnRjX2F0dGFjaCA9IHRvX2FtZGdwdV9jcnRj
KHBjcnRjKTsNCj4gICAgNTI1MCAgICAgICAgICBzdHJ1Y3QgZHJtX2NydGNfc3RhdGUgKm5ld19w
Y3J0Y19zdGF0ZSA9DQo+ICAgIDUyNTEgICAgICAgICAgICAgICAgICAgICAgICAgIGRybV9hdG9t
aWNfZ2V0X25ld19jcnRjX3N0YXRlKHN0YXRlLCBwY3J0Yyk7DQo+ICAgIDUyNTIgICAgICAgICAg
c3RydWN0IGRtX2NydGNfc3RhdGUgKmFjcnRjX3N0YXRlID0gdG9fZG1fY3J0Y19zdGF0ZShuZXdf
cGNydGNfc3RhdGUpOw0KPiAgICA1MjUzICAgICAgICAgIHN0cnVjdCBkbV9jcnRjX3N0YXRlICpk
bV9vbGRfY3J0Y19zdGF0ZSA9DQo+ICAgIDUyNTQgICAgICAgICAgICAgICAgICAgICAgICAgIHRv
X2RtX2NydGNfc3RhdGUoZHJtX2F0b21pY19nZXRfb2xkX2NydGNfc3RhdGUoc3RhdGUsIHBjcnRj
KSk7DQo+ICAgIDUyNTUgICAgICAgICAgaW50IHBsYW5lc19jb3VudCA9IDAsIHZwb3MsIGhwb3M7
DQo+ICAgIDUyNTYgICAgICAgICAgdW5zaWduZWQgbG9uZyBmbGFnczsNCj4gICAgNTI1NyAgICAg
ICAgICBzdHJ1Y3QgYW1kZ3B1X2JvICphYm87DQo+ICAgIDUyNTggICAgICAgICAgdWludDY0X3Qg
dGlsaW5nX2ZsYWdzOw0KPiAgICA1MjU5ICAgICAgICAgIHVpbnQzMl90IHRhcmdldF92Ymxhbmss
IGxhc3RfZmxpcF92Ymxhbms7DQo+ICAgIDUyNjAgICAgICAgICAgYm9vbCB2cnJfYWN0aXZlID0g
YW1kZ3B1X2RtX3Zycl9hY3RpdmUoYWNydGNfc3RhdGUpOw0KPiAgICA1MjYxICAgICAgICAgIGJv
b2wgcGZsaXBfcHJlc2VudCA9IGZhbHNlOw0KPiAgICA1MjYyICAgICAgICAgIHN0cnVjdCB7DQo+
ICAgIDUyNjMgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZGNfc3VyZmFjZV91cGRhdGUgc3VyZmFj
ZV91cGRhdGVzW01BWF9TVVJGQUNFU107DQo+ICAgIDUyNjQgICAgICAgICAgICAgICAgICBzdHJ1
Y3QgZGNfcGxhbmVfaW5mbyBwbGFuZV9pbmZvc1tNQVhfU1VSRkFDRVNdOw0KPiAgICA1MjY1ICAg
ICAgICAgICAgICAgICAgc3RydWN0IGRjX3NjYWxpbmdfaW5mbyBzY2FsaW5nX2luZm9zW01BWF9T
VVJGQUNFU107DQo+ICAgIDUyNjYgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZGNfZmxpcF9hZGRy
cyBmbGlwX2FkZHJzW01BWF9TVVJGQUNFU107DQo+ICAgIDUyNjcgICAgICAgICAgICAgICAgICBz
dHJ1Y3QgZGNfc3RyZWFtX3VwZGF0ZSBzdHJlYW1fdXBkYXRlOw0KPiAgICA1MjY4ICAgICAgICAg
IH0gKmJ1bmRsZTsNCj4gICAgNTI2OQ0KPiAgICA1MjcwICAgICAgICAgIGJ1bmRsZSA9IGt6YWxs
b2Moc2l6ZW9mKCpidW5kbGUpLCBHRlBfS0VSTkVMKTsNCj4gICAgNTI3MQ0KPiAgICA1MjcyICAg
ICAgICAgIGlmICghYnVuZGxlKSB7DQo+ICAgIDUyNzMgICAgICAgICAgICAgICAgICBkbV9lcnJv
cigiRmFpbGVkIHRvIGFsbG9jYXRlIHVwZGF0ZSBidW5kbGVcbiIpOw0KPiAgICA1Mjc0ICAgICAg
ICAgICAgICAgICAgZ290byBjbGVhbnVwOw0KPiAgICA1Mjc1ICAgICAgICAgIH0NCj4gICAgNTI3
Ng0KPiAgICA1Mjc3ICAgICAgICAgIC8qDQo+ICAgIDUyNzggICAgICAgICAgICogRGlzYWJsZSB0
aGUgY3Vyc29yIGZpcnN0IGlmIHdlJ3JlIGRpc2FibGluZyBhbGwgdGhlIHBsYW5lcy4NCj4gICAg
NTI3OSAgICAgICAgICAgKiBJdCdsbCByZW1haW4gb24gdGhlIHNjcmVlbiBhZnRlciB0aGUgcGxh
bmVzIGFyZSByZS1lbmFibGVkDQo+ICAgIDUyODAgICAgICAgICAgICogaWYgd2UgZG9uJ3QuDQo+
ICAgIDUyODEgICAgICAgICAgICovDQo+ICAgIDUyODIgICAgICAgICAgaWYgKGFjcnRjX3N0YXRl
LT5hY3RpdmVfcGxhbmVzID09IDApDQo+ICAgIDUyODMgICAgICAgICAgICAgICAgICBhbWRncHVf
ZG1fY29tbWl0X2N1cnNvcnMoc3RhdGUpOw0KPiAgICA1Mjg0DQo+ICAgIDUyODUgICAgICAgICAg
LyogdXBkYXRlIHBsYW5lcyB3aGVuIG5lZWRlZCAqLw0KPiAgICA1Mjg2ICAgICAgICAgIGZvcl9l
YWNoX29sZG5ld19wbGFuZV9pbl9zdGF0ZShzdGF0ZSwgcGxhbmUsIG9sZF9wbGFuZV9zdGF0ZSwg
bmV3X3BsYW5lX3N0YXRlLCBpKSB7DQo+ICAgIDUyODcgICAgICAgICAgICAgICAgICBzdHJ1Y3Qg
ZHJtX2NydGMgKmNydGMgPSBuZXdfcGxhbmVfc3RhdGUtPmNydGM7DQo+ICAgIDUyODggICAgICAg
ICAgICAgICAgICBzdHJ1Y3QgZHJtX2NydGNfc3RhdGUgKm5ld19jcnRjX3N0YXRlOw0KPiAgICA1
Mjg5ICAgICAgICAgICAgICAgICAgc3RydWN0IGRybV9mcmFtZWJ1ZmZlciAqZmIgPSBuZXdfcGxh
bmVfc3RhdGUtPmZiOw0KPiAgICA1MjkwICAgICAgICAgICAgICAgICAgYm9vbCBwbGFuZV9uZWVk
c19mbGlwOw0KPiAgICA1MjkxICAgICAgICAgICAgICAgICAgc3RydWN0IGRjX3BsYW5lX3N0YXRl
ICpkY19wbGFuZTsNCj4gICAgNTI5MiAgICAgICAgICAgICAgICAgIHN0cnVjdCBkbV9wbGFuZV9z
dGF0ZSAqZG1fbmV3X3BsYW5lX3N0YXRlID0gdG9fZG1fcGxhbmVfc3RhdGUobmV3X3BsYW5lX3N0
YXRlKTsNCj4gICAgNTI5Mw0KPiAgICA1Mjk0ICAgICAgICAgICAgICAgICAgLyogQ3Vyc29yIHBs
YW5lIGlzIGhhbmRsZWQgYWZ0ZXIgc3RyZWFtIHVwZGF0ZXMgKi8NCj4gICAgNTI5NSAgICAgICAg
ICAgICAgICAgIGlmIChwbGFuZS0+dHlwZSA9PSBEUk1fUExBTkVfVFlQRV9DVVJTT1IpDQo+ICAg
IDUyOTYgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KPiAgICA1Mjk3DQo+ICAg
IDUyOTggICAgICAgICAgICAgICAgICBpZiAoIWZiIHx8ICFjcnRjIHx8IHBjcnRjICE9IGNydGMp
DQo+ICAgIDUyOTkgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KPiAgICA1MzAw
DQo+ICAgIDUzMDEgICAgICAgICAgICAgICAgICBuZXdfY3J0Y19zdGF0ZSA9IGRybV9hdG9taWNf
Z2V0X25ld19jcnRjX3N0YXRlKHN0YXRlLCBjcnRjKTsNCj4gICAgNTMwMiAgICAgICAgICAgICAg
ICAgIGlmICghbmV3X2NydGNfc3RhdGUtPmFjdGl2ZSkNCj4gICAgNTMwMyAgICAgICAgICAgICAg
ICAgICAgICAgICAgY29udGludWU7DQo+ICAgIDUzMDQNCj4gICAgNTMwNSAgICAgICAgICAgICAg
ICAgIGRjX3BsYW5lID0gZG1fbmV3X3BsYW5lX3N0YXRlLT5kY19zdGF0ZTsNCj4gICAgNTMwNg0K
PiAgICA1MzA3ICAgICAgICAgICAgICAgICAgYnVuZGxlLT5zdXJmYWNlX3VwZGF0ZXNbcGxhbmVz
X2NvdW50XS5zdXJmYWNlID0gZGNfcGxhbmU7DQo+ICAgIDUzMDggICAgICAgICAgICAgICAgICBp
ZiAobmV3X3BjcnRjX3N0YXRlLT5jb2xvcl9tZ210X2NoYW5nZWQpIHsNCj4gICAgNTMwOSAgICAg
ICAgICAgICAgICAgICAgICAgICAgYnVuZGxlLT5zdXJmYWNlX3VwZGF0ZXNbcGxhbmVzX2NvdW50
XS5nYW1tYSA9IGRjX3BsYW5lLT5nYW1tYV9jb3JyZWN0aW9uOw0KPiAgICA1MzEwICAgICAgICAg
ICAgICAgICAgICAgICAgICBidW5kbGUtPnN1cmZhY2VfdXBkYXRlc1twbGFuZXNfY291bnRdLmlu
X3RyYW5zZmVyX2Z1bmMgPSBkY19wbGFuZS0+aW5fdHJhbnNmZXJfZnVuYzsNCj4gICAgNTMxMSAg
ICAgICAgICAgICAgICAgIH0NCj4gICAgNTMxMg0KPiAgICA1MzEzICAgICAgICAgICAgICAgICAg
ZmlsbF9kY19zY2FsaW5nX2luZm8obmV3X3BsYW5lX3N0YXRlLA0KPiAgICA1MzE0ICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJmJ1bmRsZS0+c2NhbGluZ19pbmZvc1twbGFu
ZXNfY291bnRdKTsNCj4gICAgNTMxNQ0KPiAgICA1MzE2ICAgICAgICAgICAgICAgICAgYnVuZGxl
LT5zdXJmYWNlX3VwZGF0ZXNbcGxhbmVzX2NvdW50XS5zY2FsaW5nX2luZm8gPQ0KPiAgICA1MzE3
ICAgICAgICAgICAgICAgICAgICAgICAgICAmYnVuZGxlLT5zY2FsaW5nX2luZm9zW3BsYW5lc19j
b3VudF07DQo+ICAgIDUzMTgNCj4gICAgNTMxOSAgICAgICAgICAgICAgICAgIHBsYW5lX25lZWRz
X2ZsaXAgPSBvbGRfcGxhbmVfc3RhdGUtPmZiICYmIG5ld19wbGFuZV9zdGF0ZS0+ZmI7DQo+ICAg
IDUzMjANCj4gICAgNTMyMSAgICAgICAgICAgICAgICAgIHBmbGlwX3ByZXNlbnQgPSBwZmxpcF9w
cmVzZW50IHx8IHBsYW5lX25lZWRzX2ZsaXA7DQo+ICAgIDUzMjINCj4gICAgNTMyMyAgICAgICAg
ICAgICAgICAgIGlmICghcGxhbmVfbmVlZHNfZmxpcCkgew0KPiAgICA1MzI0ICAgICAgICAgICAg
ICAgICAgICAgICAgICBwbGFuZXNfY291bnQgKz0gMTsNCj4gICAgNTMyNSAgICAgICAgICAgICAg
ICAgICAgICAgICAgY29udGludWU7DQo+ICAgIDUzMjYgICAgICAgICAgICAgICAgICB9DQo+ICAg
IDUzMjcNCj4gICAgNTMyOCAgICAgICAgICAgICAgICAgIGFibyA9IGdlbV90b19hbWRncHVfYm8o
ZmItPm9ialswXSk7DQo+ICAgIDUzMjkNCj4gICAgNTMzMCAgICAgICAgICAgICAgICAgIC8qDQo+
ICAgIDUzMzEgICAgICAgICAgICAgICAgICAgKiBXYWl0IGZvciBhbGwgZmVuY2VzIG9uIHRoaXMg
RkIuIERvIGxpbWl0ZWQgd2FpdCB0byBhdm9pZA0KPiAgICA1MzMyICAgICAgICAgICAgICAgICAg
ICogZGVhZGxvY2sgZHVyaW5nIEdQVSByZXNldCB3aGVuIHRoaXMgZmVuY2Ugd2lsbCBub3Qgc2ln
bmFsDQo+ICAgIDUzMzMgICAgICAgICAgICAgICAgICAgKiBidXQgd2UgaG9sZCByZXNlcnZhdGlv
biBsb2NrIGZvciB0aGUgQk8uDQo+ICAgIDUzMzQgICAgICAgICAgICAgICAgICAgKi8NCj4gICAg
NTMzNSAgICAgICAgICAgICAgICAgIHIgPSByZXNlcnZhdGlvbl9vYmplY3Rfd2FpdF90aW1lb3V0
X3JjdShhYm8tPnRiby5yZXN2LCB0cnVlLA0KPiAgICA1MzM2ICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLA0KPiAgICA1MzM3ICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1z
ZWNzX3RvX2ppZmZpZXMoNTAwMCkpOw0KPiAgICA1MzM4ICAgICAgICAgICAgICAgICAgaWYgKHVu
bGlrZWx5KHIgPD0gMCkpDQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXl5eXl5eXl5e
Xl5eXl5eXg0KPiANCj4gSWYgcmVzZXJ2YXRpb25fb2JqZWN0X3dhaXRfdGltZW91dF9yY3UoKSB0
aGVuIHIgaXMgdW5zaWduZWQuICBBbHNvIHRoaXMNCj4ganVzdCBwcmludHMgYW4gZXJyb3IgaW5z
dGVhZCBvZiBkb2luZyBwcm9wZXIgZXJyb3IgaGFuZGxpbmcgc28gaXQncyBub3QNCj4gcmVhbGx5
IHdvcnRoIGZpeGluZz8NCg0KTG9va3MgbGlrZSB0aGF0IGlzbid0IGV2ZW4gdGhlIG9ubHkgcGxh
Y2UgaW4gdGhlIGZ1bmN0aW9uIHdpdGggdGhpcyANCnByb2JsZW0uIFRoZXJlJ3MgdGhhdCByICE9
IDAgY2hlY2sgcmlnaHQgYmVsb3cgYXMgd2VsbCBjYXN0ZWQgZnJvbSBhbiBpbnQuDQoNCkknbGwg
cHVzaCBhIHBhdGNoIHRoYXQgZml4ZXMgYm90aCBvZiB0aGVzZSB1cC4NCg0KTmljaG9sYXMgS2F6
bGF1c2thcw0KDQo+IA0KPiAgICA1MzM5ICAgICAgICAgICAgICAgICAgICAgICAgICBEUk1fRVJS
T1IoIldhaXRpbmcgZm9yIGZlbmNlcyB0aW1lZCBvdXQgb3IgaW50ZXJydXB0ZWQhIik7DQo+ICAg
IDUzNDANCj4gICAgNTM0MSAgICAgICAgICAgICAgICAgIC8qDQo+ICAgIDUzNDIgICAgICAgICAg
ICAgICAgICAgKiBUT0RPIFRoaXMgbWlnaHQgZmFpbCBhbmQgaGVuY2UgYmV0dGVyIG5vdCB1c2Vk
LCB3YWl0DQo+ICAgIDUzNDMgICAgICAgICAgICAgICAgICAgKiBleHBsaWNpdGx5IG9uIGZlbmNl
cyBpbnN0ZWFkDQo+ICAgIDUzNDQgICAgICAgICAgICAgICAgICAgKiBhbmQgaW4gZ2VuZXJhbCBz
aG91bGQgYmUgY2FsbGVkIGZvcg0KPiAgICA1MzQ1ICAgICAgICAgICAgICAgICAgICogYmxvY2tp
bmcgY29tbWl0IHRvIGFzIHBlciBmcmFtZXdvcmsgaGVscGVycw0KPiAgICA1MzQ2ICAgICAgICAg
ICAgICAgICAgICovDQo+ICAgIDUzNDcgICAgICAgICAgICAgICAgICByID0gYW1kZ3B1X2JvX3Jl
c2VydmUoYWJvLCB0cnVlKTsNCj4gICAgNTM0OCAgICAgICAgICAgICAgICAgIGlmICh1bmxpa2Vs
eShyICE9IDApKQ0KPiAgICA1MzQ5ICAgICAgICAgICAgICAgICAgICAgICAgICBEUk1fRVJST1Io
ImZhaWxlZCB0byByZXNlcnZlIGJ1ZmZlciBiZWZvcmUgZmxpcFxuIik7DQo+ICAgIDUzNTANCj4g
ICAgNTM1MSAgICAgICAgICAgICAgICAgIGFtZGdwdV9ib19nZXRfdGlsaW5nX2ZsYWdzKGFibywg
JnRpbGluZ19mbGFncyk7DQo+ICAgIDUzNTINCj4gICAgNTM1MyAgICAgICAgICAgICAgICAgIGFt
ZGdwdV9ib191bnJlc2VydmUoYWJvKTsNCj4gDQo+IHJlZ2FyZHMsDQo+IGRhbiBjYXJwZW50ZXIN
Cj4gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18NCj4gYW1k
LWdmeCBtYWlsaW5nIGxpc3QNCj4gYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcNCj4gaHR0
cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4DQo+IA0K
DQpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwphbWQtZ2Z4
IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3Rz
LmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZng=
