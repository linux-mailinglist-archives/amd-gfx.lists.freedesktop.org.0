Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 58DD9DB72F
	for <lists+amd-gfx@lfdr.de>; Thu, 17 Oct 2019 21:15:43 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C209D6EA3F;
	Thu, 17 Oct 2019 19:15:41 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM03-DM3-obe.outbound.protection.outlook.com
 (mail-eopbgr800055.outbound.protection.outlook.com [40.107.80.55])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 9D0C26EA3F
 for <amd-gfx@lists.freedesktop.org>; Thu, 17 Oct 2019 19:15:39 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=AWIkr6U/XO7dA9aILeycB776Tr6IcV6NNIeOegBgZL8nU4DRicCxUWVjd/XGzD5nqJdUea811DcqBh85Z9CV9Bjw2k7LTM/G15PniePTDEd3dz6ffUKNZOukYhMh936VmJJpNBf/tAbHlb7dWXlquASHblnaQ+xXrTLl3fcD1Q6txIIg3IQpdp5vm68c1Z4eQxBicpxTHf3doFJaV1aVx1HmhkypVFZBJ3u/1hwYuM0ntM8a0KK6kBA2xeK2wd1WwzFy21MTdBtuiQA9QBpx1osEqQfxqy/WMfSIVrmaLzkrhGSd60N1/DW3r1T0wL/UUAXn+YyfrDhYCd2zcnjiJg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=t9B6u0ET1xB9qEBoWk91SqKqf/UCMeU7qZYN71ud3x4=;
 b=LIuckgfGw6LasMICrgrizfBPPyXi0KV+PCiicyC8ikKWB9o2OqhanuSwSROLXuOWTv2J0AGHEDaBsd5yieSf1Xa1Ckr5/tBrk23qKe4QZ+bwUbizw16L57nYgWNRUjpHEpUM/FuwAngvceGTOiiYzHFuZDUxwzNCQsYjRYpyRMNmVa87SBhFUFV40+5TF7iFlQQHmaeJeuB7sCj9uEwDOwsx0yPnMknzzURUzZvtQ/doTm3fGDNjxHuMXH6fBkH2qx7kFwS3XzOi+8Fl7gKsoM2JTYK247l6dzj5oyJqYzuP1qh/KGQvSC7Umh0/lt3Ao+kguUkFEaC7Y6i4955npA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=none (sender ip is
 165.204.84.17) smtp.rcpttodomain=lists.freedesktop.org smtp.mailfrom=amd.com; 
 dmarc=permerror action=none header.from=amd.com; dkim=none (message not
 signed); arc=none
Received: from DM3PR12CA0066.namprd12.prod.outlook.com (2603:10b6:0:56::34) by
 CH2PR12MB3768.namprd12.prod.outlook.com (2603:10b6:610:22::12) with
 Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2347.17; Thu, 17 Oct 2019 19:15:38 +0000
Received: from BY2NAM03FT062.eop-NAM03.prod.protection.outlook.com
 (2a01:111:f400:7e4a::203) by DM3PR12CA0066.outlook.office365.com
 (2603:10b6:0:56::34) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2347.16 via Frontend
 Transport; Thu, 17 Oct 2019 19:15:37 +0000
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
Received: from SATLEXMB01.amd.com (165.204.84.17) by
 BY2NAM03FT062.mail.protection.outlook.com (10.152.85.62) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id
 15.20.2367.14 via Frontend Transport; Thu, 17 Oct 2019 19:15:37 +0000
Received: from SATLEXMB03.amd.com (10.181.40.144) by SATLEXMB01.amd.com
 (10.181.40.142) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id 15.1.1713.5; Thu, 17 Oct
 2019 14:15:37 -0500
Received: from SATLEXMB02.amd.com (10.181.40.143) by SATLEXMB03.amd.com
 (10.181.40.144) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id 15.1.1713.5; Thu, 17 Oct
 2019 14:15:36 -0500
Received: from localhost.localdomain (10.180.168.240) by SATLEXMB02.amd.com
 (10.181.40.143) with Microsoft SMTP Server id 15.1.1713.5 via Frontend
 Transport; Thu, 17 Oct 2019 14:15:36 -0500
From: <sunpeng.li@amd.com>
To: <amd-gfx@lists.freedesktop.org>
Subject: [PATCH 11/37] drm/amd/display: split dcn20 fast validate into more
 functions
Date: Thu, 17 Oct 2019 15:13:03 -0400
Message-ID: <20191017191329.11857-12-sunpeng.li@amd.com>
X-Mailer: git-send-email 2.23.0
In-Reply-To: <20191017191329.11857-1-sunpeng.li@amd.com>
References: <20191017191329.11857-1-sunpeng.li@amd.com>
MIME-Version: 1.0
X-EOPAttributedMessage: 0
X-MS-Office365-Filtering-HT: Tenant
X-Forefront-Antispam-Report: CIP:165.204.84.17; IPV:NLI; CTRY:US; EFV:NLI;
 SFV:NSPM;
 SFS:(10009020)(4636009)(376002)(136003)(396003)(346002)(39860400002)(428003)(189003)(199004)(50226002)(76176011)(70206006)(47776003)(51416003)(4326008)(478600001)(8676002)(14444005)(81156014)(15650500001)(36756003)(81166006)(70586007)(50466002)(8936002)(6666004)(2351001)(26005)(356004)(426003)(1076003)(48376002)(86362001)(2906002)(2616005)(476003)(305945005)(186003)(2870700001)(30864003)(336012)(316002)(54906003)(446003)(126002)(11346002)(486006)(5660300002)(2876002)(6916009);
 DIR:OUT; SFP:1101; SCL:1; SRVR:CH2PR12MB3768; H:SATLEXMB01.amd.com; FPR:;
 SPF:None; LANG:en; PTR:InfoDomainNonexistent; MX:1; A:1; 
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-Correlation-Id: 8feb5598-5f5f-49d2-8ebb-08d753366474
X-MS-TrafficTypeDiagnostic: CH2PR12MB3768:
X-Microsoft-Antispam-PRVS: <CH2PR12MB376847790024F5DAFFB2A02C826D0@CH2PR12MB3768.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:7691;
X-Forefront-PRVS: 01930B2BA8
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: cUaWMmOtAHQXMndIB04H7WRNMAIGa8/bwq7VGPhtl9vG/5iNzTVQnkrNu9eHQ83veTyCrPrvIaqFCCfwVnC6RQ4asGUu65HkEABKRkAC6GaVzfxbxNrH02CNsh2AW/MN3ph9xrX9DSy8mWbQnZvFPLDZdSb0sW7FVRPQBdQ5uin2iU++GgmpdlVPZAcLAHU9oVDKk/wktzRsYGeyZ5bEkHW89GhWShLyZ/kiMwvfMpRSHhMpPqwXxQYVpF0t/apuxY6jT7ys+QgvFgMQxp3IiEywI8QaiY9t8/M8v7oeFaf4DH+vjNRA2xsFz3rIreuD4d/TNlDeSgjdohsQax5xSAPQyoieIvlcmf8cOprcrc+i4XR7h/yMwTitIGrHhz1jz8d7qRvMBTZVzmUiwB2uJTZwhaB0QMnrtMi/zo5T2as=
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 17 Oct 2019 19:15:37.3603 (UTC)
X-MS-Exchange-CrossTenant-Network-Message-Id: 8feb5598-5f5f-49d2-8ebb-08d753366474
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-OriginalAttributedTenantConnectingIp: TenantId=3dd8961f-e488-4e60-8e11-a82d994e183d; Ip=[165.204.84.17];
 Helo=[SATLEXMB01.amd.com]
X-MS-Exchange-CrossTenant-FromEntityHeader: HybridOnPrem
X-MS-Exchange-Transport-CrossTenantHeadersStamped: CH2PR12MB3768
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=t9B6u0ET1xB9qEBoWk91SqKqf/UCMeU7qZYN71ud3x4=;
 b=MX3y38wBYhAKVJunxyWM1qGUDGkz8VucUvbPXDxA9bOvt273I2f93D4UiBjjbs4GpvENvTkmO2Rj/8DWD9Pb2cvFuizx5YgnvYoWIRr9gEdABWdguYSyIm0Tv7YdpB3SG1MpEAwfLteXO2Icn5CK/ik4OPf5ClWg88aJp7Pobg8=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is
 165.204.84.17)
 smtp.mailfrom=amd.com; lists.freedesktop.org; dkim=none (message not signed)
 header.d=none;lists.freedesktop.org; dmarc=permerror action=none
 header.from=amd.com;
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Leo Li <sunpeng.li@amd.com>,
 Dmytro Laktyushkin <Dmytro.Laktyushkin@amd.com>,
 Nevenko Stupar <Nevenko.Stupar@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogRG15dHJvIExha3R5dXNoa2luIDxEbXl0cm8uTGFrdHl1c2hraW5AYW1kLmNvbT4KClNw
bGl0IGEgbGFyZ2UgZnVuY3Rpb24gaW50byBzbWFsbGVyLCByZXVzYWJsZSBjaHVua3MuCgpTaWdu
ZWQtb2ZmLWJ5OiBEbXl0cm8gTGFrdHl1c2hraW4gPERteXRyby5MYWt0eXVzaGtpbkBhbWQuY29t
PgpSZXZpZXdlZC1ieTogTmV2ZW5rbyBTdHVwYXIgPE5ldmVua28uU3R1cGFyQGFtZC5jb20+CkFj
a2VkLWJ5OiBMZW8gTGkgPHN1bnBlbmcubGlAYW1kLmNvbT4KLS0tCiAuLi4vZHJtL2FtZC9kaXNw
bGF5L2RjL2RjbjIwL2RjbjIwX3Jlc291cmNlLmMgfCAxODIgKysrKysrKysrKy0tLS0tLS0tCiAu
Li4vZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIwX3Jlc291cmNlLmggfCAgMzEgKysrCiAu
Li4vZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIxL2RjbjIxX3Jlc291cmNlLmMgfCAgIDEgKwogMyBm
aWxlcyBjaGFuZ2VkLCAxMzYgaW5zZXJ0aW9ucygrKSwgNzggZGVsZXRpb25zKC0pCgpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIwX3Jlc291cmNl
LmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjAvZGNuMjBfcmVzb3VyY2Uu
YwppbmRleCA4OTNlNDRjYTkwZjguLmFiMWZjOGM1ZWQxMCAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIwX3Jlc291cmNlLmMKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIwX3Jlc291cmNlLmMKQEAgLTE2MTIs
NyArMTYxMiw3IEBAIHN0YXRpYyB2b2lkIHN3aXp6bGVfdG9fZG1sX3BhcmFtcygKIAl9CiB9CiAK
LXN0YXRpYyBib29sIGRjbjIwX3NwbGl0X3N0cmVhbV9mb3Jfb2RtKAorYm9vbCBkY24yMF9zcGxp
dF9zdHJlYW1fZm9yX29kbSgKIAkJc3RydWN0IHJlc291cmNlX2NvbnRleHQgKnJlc19jdHgsCiAJ
CWNvbnN0IHN0cnVjdCByZXNvdXJjZV9wb29sICpwb29sLAogCQlzdHJ1Y3QgcGlwZV9jdHggKnBy
ZXZfb2RtX3BpcGUsCkBAIC0xNjkwLDcgKzE2OTAsNyBAQCBzdGF0aWMgYm9vbCBkY24yMF9zcGxp
dF9zdHJlYW1fZm9yX29kbSgKIAlyZXR1cm4gdHJ1ZTsKIH0KIAotc3RhdGljIHZvaWQgZGNuMjBf
c3BsaXRfc3RyZWFtX2Zvcl9tcGMoCit2b2lkIGRjbjIwX3NwbGl0X3N0cmVhbV9mb3JfbXBjKAog
CQlzdHJ1Y3QgcmVzb3VyY2VfY29udGV4dCAqcmVzX2N0eCwKIAkJY29uc3Qgc3RydWN0IHJlc291
cmNlX3Bvb2wgKnBvb2wsCiAJCXN0cnVjdCBwaXBlX2N0eCAqcHJpbWFyeV9waXBlLApAQCAtMjE0
OCw3ICsyMTQ4LDcgQEAgdm9pZCBkY24yMF9zZXRfbWNpZl9hcmJfcGFyYW1zKAogfQogCiAjaWZk
ZWYgQ09ORklHX0RSTV9BTURfRENfRFNDX1NVUFBPUlQKLXN0YXRpYyBib29sIGRjbjIwX3ZhbGlk
YXRlX2RzYyhzdHJ1Y3QgZGMgKmRjLCBzdHJ1Y3QgZGNfc3RhdGUgKm5ld19jdHgpCitib29sIGRj
bjIwX3ZhbGlkYXRlX2RzYyhzdHJ1Y3QgZGMgKmRjLCBzdHJ1Y3QgZGNfc3RhdGUgKm5ld19jdHgp
CiB7CiAJaW50IGk7CiAKQEAgLTIxODMsNyArMjE4Myw3IEBAIHN0YXRpYyBib29sIGRjbjIwX3Zh
bGlkYXRlX2RzYyhzdHJ1Y3QgZGMgKmRjLCBzdHJ1Y3QgZGNfc3RhdGUgKm5ld19jdHgpCiB9CiAj
ZW5kaWYKIAotc3RhdGljIHN0cnVjdCBwaXBlX2N0eCAqZGNuMjBfZmluZF9zZWNvbmRhcnlfcGlw
ZShzdHJ1Y3QgZGMgKmRjLAorc3RydWN0IHBpcGVfY3R4ICpkY24yMF9maW5kX3NlY29uZGFyeV9w
aXBlKHN0cnVjdCBkYyAqZGMsCiAJCXN0cnVjdCByZXNvdXJjZV9jb250ZXh0ICpyZXNfY3R4LAog
CQljb25zdCBzdHJ1Y3QgcmVzb3VyY2VfcG9vbCAqcG9vbCwKIAkJY29uc3Qgc3RydWN0IHBpcGVf
Y3R4ICpwcmltYXJ5X3BpcGUpCkBAIC0yMjYwLDI0ICsyMjYwLDExIEBAIHN0YXRpYyBzdHJ1Y3Qg
cGlwZV9jdHggKmRjbjIwX2ZpbmRfc2Vjb25kYXJ5X3BpcGUoc3RydWN0IGRjICpkYywKIAlyZXR1
cm4gc2Vjb25kYXJ5X3BpcGU7CiB9CiAKLWJvb2wgZGNuMjBfZmFzdF92YWxpZGF0ZV9idygKK3Zv
aWQgZGNuMjBfbWVyZ2VfcGlwZXNfZm9yX3ZhbGlkYXRlKAogCQlzdHJ1Y3QgZGMgKmRjLAotCQlz
dHJ1Y3QgZGNfc3RhdGUgKmNvbnRleHQsCi0JCWRpc3BsYXlfZTJlX3BpcGVfcGFyYW1zX3N0ICpw
aXBlcywKLQkJaW50ICpwaXBlX2NudF9vdXQsCi0JCWludCAqcGlwZV9zcGxpdF9mcm9tLAotCQlp
bnQgKnZsZXZlbF9vdXQpCisJCXN0cnVjdCBkY19zdGF0ZSAqY29udGV4dCkKIHsKLQlib29sIG91
dCA9IGZhbHNlOwotCi0JaW50IHBpcGVfY250LCBpLCBwaXBlX2lkeCwgdmxldmVsLCB2bGV2ZWxf
dW5zcGxpdDsKLQlib29sIGZvcmNlX3NwbGl0ID0gZmFsc2U7Ci0JaW50IHNwbGl0X3RocmVzaG9s
ZCA9IGRjLT5yZXNfcG9vbC0+cGlwZV9jb3VudCAvIDI7Ci0JYm9vbCBhdm9pZF9zcGxpdCA9IGRj
LT5kZWJ1Zy5waXBlX3NwbGl0X3BvbGljeSAhPSBNUENfU1BMSVRfRFlOQU1JQzsKLQotCUFTU0VS
VChwaXBlcyk7Ci0JaWYgKCFwaXBlcykKLQkJcmV0dXJuIGZhbHNlOworCWludCBpOwogCiAJLyog
bWVyZ2UgcHJldmlvdXNseSBzcGxpdCBvZG0gcGlwZXMgc2luY2UgbW9kZSBzdXBwb3J0IG5lZWRz
IHRvIG1ha2UgdGhlIGRlY2lzaW9uICovCiAJZm9yIChpID0gMDsgaSA8IGRjLT5yZXNfcG9vbC0+
cGlwZV9jb3VudDsgaSsrKSB7CkBAIC0yMzMyLDMxICsyMzE5LDE4IEBAIGJvb2wgZGNuMjBfZmFz
dF92YWxpZGF0ZV9idygKIAkJaWYgKHBpcGUtPnBsYW5lX3N0YXRlKQogCQkJcmVzb3VyY2VfYnVp
bGRfc2NhbGluZ19wYXJhbXMocGlwZSk7CiAJfQorfQogCi0JaWYgKGRjLT5yZXNfcG9vbC0+ZnVu
Y3MtPnBvcHVsYXRlX2RtbF9waXBlcykKLQkJcGlwZV9jbnQgPSBkYy0+cmVzX3Bvb2wtPmZ1bmNz
LT5wb3B1bGF0ZV9kbWxfcGlwZXMoZGMsCi0JCQkmY29udGV4dC0+cmVzX2N0eCwgcGlwZXMpOwot
CWVsc2UKLQkJcGlwZV9jbnQgPSBkY24yMF9wb3B1bGF0ZV9kbWxfcGlwZXNfZnJvbV9jb250ZXh0
KGRjLAotCQkJJmNvbnRleHQtPnJlc19jdHgsIHBpcGVzKTsKLQotCSpwaXBlX2NudF9vdXQgPSBw
aXBlX2NudDsKLQotCWlmICghcGlwZV9jbnQpIHsKLQkJb3V0ID0gdHJ1ZTsKLQkJZ290byB2YWxp
ZGF0ZV9vdXQ7Ci0JfQotCi0JdmxldmVsID0gZG1sX2dldF92b2x0YWdlX2xldmVsKCZjb250ZXh0
LT5id19jdHguZG1sLCBwaXBlcywgcGlwZV9jbnQpOwotCi0JaWYgKHZsZXZlbCA+IGNvbnRleHQt
PmJ3X2N0eC5kbWwuc29jLm51bV9zdGF0ZXMpCi0JCWdvdG8gdmFsaWRhdGVfZmFpbDsKLQotCS8q
aW5pdGlhbGl6ZSBwaXBlX2p1c3Rfc3BsaXRfZnJvbSB0byBpbnZhbGlkIGlkeCovCi0JZm9yIChp
ID0gMDsgaSA8IE1BWF9QSVBFUzsgaSsrKQotCQlwaXBlX3NwbGl0X2Zyb21baV0gPSAtMTsKK2lu
dCBkY24yMF92YWxpZGF0ZV9hcHBseV9waXBlX3NwbGl0X2ZsYWdzKAorCQlzdHJ1Y3QgZGMgKmRj
LAorCQlzdHJ1Y3QgZGNfc3RhdGUgKmNvbnRleHQsCisJCWludCB2bGV2ZWwsCisJCWJvb2wgKnNw
bGl0KQoreworCWludCBpLCBwaXBlX2lkeCwgdmxldmVsX3Vuc3BsaXQ7CisJYm9vbCBmb3JjZV9z
cGxpdCA9IGZhbHNlOworCWJvb2wgYXZvaWRfc3BsaXQgPSBkYy0+ZGVidWcucGlwZV9zcGxpdF9w
b2xpY3kgIT0gTVBDX1NQTElUX0RZTkFNSUM7CiAKLQkvKiBTaW5nbGUgZGlzcGxheSBvbmx5IGNv
bmRpdGlvbmFscyBnZXQgc2V0IGhlcmUgKi8KIAlmb3IgKGkgPSAwOyBpIDwgZGMtPnJlc19wb29s
LT5waXBlX2NvdW50OyBpKyspIHsKIAkJc3RydWN0IHBpcGVfY3R4ICpwaXBlID0gJmNvbnRleHQt
PnJlc19jdHgucGlwZV9jdHhbaV07CiAJCWJvb2wgZXhpdF9sb29wID0gZmFsc2U7CkBAIC0yMzgz
LDM4ICsyMzU3LDEwNSBAQCBib29sIGRjbjIwX2Zhc3RfdmFsaWRhdGVfYncoCiAJCWlmIChleGl0
X2xvb3ApCiAJCQlicmVhazsKIAl9Ci0KLQlpZiAoY29udGV4dC0+c3RyZWFtX2NvdW50ID4gc3Bs
aXRfdGhyZXNob2xkKQorCS8qIFRPRE86IGZpeCBkYyBidWdzIGFuZCByZW1vdmUgdGhpcyBzcGxp
dCB0aHJlc2hvbGQgdGhpbmcgKi8KKwlpZiAoY29udGV4dC0+c3RyZWFtX2NvdW50ID4gZGMtPnJl
c19wb29sLT5waXBlX2NvdW50IC8gMikKIAkJYXZvaWRfc3BsaXQgPSB0cnVlOwogCi0JdmxldmVs
X3Vuc3BsaXQgPSB2bGV2ZWw7CisJaWYgKGF2b2lkX3NwbGl0KSB7CisJCWZvciAoaSA9IDAsIHBp
cGVfaWR4ID0gMDsgaSA8IGRjLT5yZXNfcG9vbC0+cGlwZV9jb3VudDsgaSsrKSB7CisJCQlpZiAo
IWNvbnRleHQtPnJlc19jdHgucGlwZV9jdHhbaV0uc3RyZWFtKQorCQkJCWNvbnRpbnVlOworCisJ
CQlmb3IgKHZsZXZlbF91bnNwbGl0ID0gdmxldmVsOyB2bGV2ZWwgPD0gY29udGV4dC0+YndfY3R4
LmRtbC5zb2MubnVtX3N0YXRlczsgdmxldmVsKyspCisJCQkJaWYgKGNvbnRleHQtPmJ3X2N0eC5k
bWwudmJhLk5vT2ZEUFBbdmxldmVsXVswXVtwaXBlX2lkeF0gPT0gMSkKKwkJCQkJYnJlYWs7CisJ
CQkvKiBJbXBvc3NpYmxlIHRvIG5vdCBzcGxpdCB0aGlzIHBpcGUgKi8KKwkJCWlmICh2bGV2ZWwg
PT0gY29udGV4dC0+YndfY3R4LmRtbC5zb2MubnVtX3N0YXRlcykKKwkJCQl2bGV2ZWwgPSB2bGV2
ZWxfdW5zcGxpdDsKKwkJCXBpcGVfaWR4Kys7CisJCX0KKwkJY29udGV4dC0+YndfY3R4LmRtbC52
YmEubWF4TXBjQ29tYiA9IDA7CisJfQorCiAJZm9yIChpID0gMCwgcGlwZV9pZHggPSAwOyBpIDwg
ZGMtPnJlc19wb29sLT5waXBlX2NvdW50OyBpKyspIHsKKwkJc3RydWN0IHBpcGVfY3R4ICpwaXBl
ID0gJmNvbnRleHQtPnJlc19jdHgucGlwZV9jdHhbaV07CisKIAkJaWYgKCFjb250ZXh0LT5yZXNf
Y3R4LnBpcGVfY3R4W2ldLnN0cmVhbSkKIAkJCWNvbnRpbnVlOwotCQlmb3IgKDsgdmxldmVsX3Vu
c3BsaXQgPD0gY29udGV4dC0+YndfY3R4LmRtbC5zb2MubnVtX3N0YXRlczsgdmxldmVsX3Vuc3Bs
aXQrKykKLQkJCWlmIChjb250ZXh0LT5id19jdHguZG1sLnZiYS5Ob09mRFBQW3ZsZXZlbF91bnNw
bGl0XVswXVtwaXBlX2lkeF0gPT0gMSkKLQkJCQlicmVhazsKKworCQlpZiAoZm9yY2Vfc3BsaXQg
fHwgY29udGV4dC0+YndfY3R4LmRtbC52YmEuTm9PZkRQUFt2bGV2ZWxdW2NvbnRleHQtPmJ3X2N0
eC5kbWwudmJhLm1heE1wY0NvbWJdW3BpcGVfaWR4XSA+IDEpCisJCQlzcGxpdFtpXSA9IHRydWU7
CisJCWlmICgocGlwZS0+c3RyZWFtLT52aWV3X2Zvcm1hdCA9PQorCQkJCVZJRVdfM0RfRk9STUFU
X1NJREVfQllfU0lERSB8fAorCQkJCXBpcGUtPnN0cmVhbS0+dmlld19mb3JtYXQgPT0KKwkJCQlW
SUVXXzNEX0ZPUk1BVF9UT1BfQU5EX0JPVFRPTSkgJiYKKwkJCQkocGlwZS0+c3RyZWFtLT50aW1p
bmcudGltaW5nXzNkX2Zvcm1hdCA9PQorCQkJCVRJTUlOR18zRF9GT1JNQVRfVE9QX0FORF9CT1RU
T00gfHwKKwkJCQkgcGlwZS0+c3RyZWFtLT50aW1pbmcudGltaW5nXzNkX2Zvcm1hdCA9PQorCQkJ
CVRJTUlOR18zRF9GT1JNQVRfU0lERV9CWV9TSURFKSkKKwkJCXNwbGl0W2ldID0gdHJ1ZTsKKwkJ
aWYgKGRjLT5kZWJ1Zy5mb3JjZV9vZG1fY29tYmluZSAmICgxIDw8IHBpcGUtPnN0cmVhbV9yZXMu
dGctPmluc3QpKSB7CisJCQlzcGxpdFtpXSA9IHRydWU7CisJCQljb250ZXh0LT5id19jdHguZG1s
LnZiYS5PRE1Db21iaW5lRW5hYmxlUGVyU3RhdGVbdmxldmVsXVtwaXBlX2lkeF0gPSB0cnVlOwor
CQl9CisJCWNvbnRleHQtPmJ3X2N0eC5kbWwudmJhLk9ETUNvbWJpbmVFbmFibGVkW3BpcGVfaWR4
XQorCQkJPSBjb250ZXh0LT5id19jdHguZG1sLnZiYS5PRE1Db21iaW5lRW5hYmxlUGVyU3RhdGVb
dmxldmVsXVtwaXBlX2lkeF07CisJCS8qIEFkanVzdCBkcHBjbGsgd2hlbiBzcGxpdCBpcyBmb3Jj
ZWQsIGRvIG5vdCBib3RoZXIgd2l0aCBkaXNwY2xrICovCisJCWlmIChzcGxpdFtpXSAmJiBjb250
ZXh0LT5id19jdHguZG1sLnZiYS5Ob09mRFBQW3ZsZXZlbF1bY29udGV4dC0+YndfY3R4LmRtbC52
YmEubWF4TXBjQ29tYl1bcGlwZV9pZHhdID09IDEpCisJCQljb250ZXh0LT5id19jdHguZG1sLnZi
YS5SZXF1aXJlZERQUENMS1t2bGV2ZWxdW2NvbnRleHQtPmJ3X2N0eC5kbWwudmJhLm1heE1wY0Nv
bWJdW3BpcGVfaWR4XSAvPSAyOwogCQlwaXBlX2lkeCsrOwogCX0KIAorCXJldHVybiB2bGV2ZWw7
Cit9CisKK2Jvb2wgZGNuMjBfZmFzdF92YWxpZGF0ZV9idygKKwkJc3RydWN0IGRjICpkYywKKwkJ
c3RydWN0IGRjX3N0YXRlICpjb250ZXh0LAorCQlkaXNwbGF5X2UyZV9waXBlX3BhcmFtc19zdCAq
cGlwZXMsCisJCWludCAqcGlwZV9jbnRfb3V0LAorCQlpbnQgKnBpcGVfc3BsaXRfZnJvbSwKKwkJ
aW50ICp2bGV2ZWxfb3V0KQoreworCWJvb2wgb3V0ID0gZmFsc2U7CisJYm9vbCBzcGxpdFtNQVhf
UElQRVNdID0geyBmYWxzZSB9OworCWludCBwaXBlX2NudCwgaSwgcGlwZV9pZHgsIHZsZXZlbDsK
KworCUFTU0VSVChwaXBlcyk7CisJaWYgKCFwaXBlcykKKwkJcmV0dXJuIGZhbHNlOworCisJZGNu
MjBfbWVyZ2VfcGlwZXNfZm9yX3ZhbGlkYXRlKGRjLCBjb250ZXh0KTsKKworCXBpcGVfY250ID0g
ZGMtPnJlc19wb29sLT5mdW5jcy0+cG9wdWxhdGVfZG1sX3BpcGVzKGRjLCAmY29udGV4dC0+cmVz
X2N0eCwgcGlwZXMpOworCisJKnBpcGVfY250X291dCA9IHBpcGVfY250OworCisJaWYgKCFwaXBl
X2NudCkgeworCQlvdXQgPSB0cnVlOworCQlnb3RvIHZhbGlkYXRlX291dDsKKwl9CisKKwl2bGV2
ZWwgPSBkbWxfZ2V0X3ZvbHRhZ2VfbGV2ZWwoJmNvbnRleHQtPmJ3X2N0eC5kbWwsIHBpcGVzLCBw
aXBlX2NudCk7CisKKwlpZiAodmxldmVsID4gY29udGV4dC0+YndfY3R4LmRtbC5zb2MubnVtX3N0
YXRlcykKKwkJZ290byB2YWxpZGF0ZV9mYWlsOworCisJdmxldmVsID0gZGNuMjBfdmFsaWRhdGVf
YXBwbHlfcGlwZV9zcGxpdF9mbGFncyhkYywgY29udGV4dCwgdmxldmVsLCBzcGxpdCk7CisKKwkv
KmluaXRpYWxpemUgcGlwZV9qdXN0X3NwbGl0X2Zyb20gdG8gaW52YWxpZCBpZHgqLworCWZvciAo
aSA9IDA7IGkgPCBNQVhfUElQRVM7IGkrKykKKwkJcGlwZV9zcGxpdF9mcm9tW2ldID0gLTE7CisK
IAlmb3IgKGkgPSAwLCBwaXBlX2lkeCA9IC0xOyBpIDwgZGMtPnJlc19wb29sLT5waXBlX2NvdW50
OyBpKyspIHsKIAkJc3RydWN0IHBpcGVfY3R4ICpwaXBlID0gJmNvbnRleHQtPnJlc19jdHgucGlw
ZV9jdHhbaV07CiAJCXN0cnVjdCBwaXBlX2N0eCAqaHNwbGl0X3BpcGUgPSBwaXBlLT5ib3R0b21f
cGlwZTsKLQkJYm9vbCBuZWVkX3NwbGl0ID0gdHJ1ZTsKLQkJYm9vbCBuZWVkX3NwbGl0M2Q7CiAK
IAkJaWYgKCFwaXBlLT5zdHJlYW0gfHwgcGlwZV9zcGxpdF9mcm9tW2ldID49IDApCiAJCQljb250
aW51ZTsKIAogCQlwaXBlX2lkeCsrOwogCi0JCWlmIChkYy0+ZGVidWcuZm9yY2Vfb2RtX2NvbWJp
bmUgJiAoMSA8PCBwaXBlLT5zdHJlYW1fcmVzLnRnLT5pbnN0KSkgewotCQkJZm9yY2Vfc3BsaXQg
PSB0cnVlOwotCQkJY29udGV4dC0+YndfY3R4LmRtbC52YmEuT0RNQ29tYmluZUVuYWJsZWRbcGlw
ZV9pZHhdID0gdHJ1ZTsKLQkJCWNvbnRleHQtPmJ3X2N0eC5kbWwudmJhLk9ETUNvbWJpbmVFbmFi
bGVQZXJTdGF0ZVt2bGV2ZWxdW3BpcGVfaWR4XSA9IHRydWU7Ci0JCX0KLQkJaWYgKGZvcmNlX3Nw
bGl0ICYmIGNvbnRleHQtPmJ3X2N0eC5kbWwudmJhLk5vT2ZEUFBbdmxldmVsXVtjb250ZXh0LT5i
d19jdHguZG1sLnZiYS5tYXhNcGNDb21iXVtwaXBlX2lkeF0gPT0gMSkKLQkJCWNvbnRleHQtPmJ3
X2N0eC5kbWwudmJhLlJlcXVpcmVkRFBQQ0xLW3ZsZXZlbF1bY29udGV4dC0+YndfY3R4LmRtbC52
YmEubWF4TXBjQ29tYl1bcGlwZV9pZHhdIC89IDI7CiAJCWlmICghcGlwZS0+dG9wX3BpcGUgJiYg
IXBpcGUtPnBsYW5lX3N0YXRlICYmIGNvbnRleHQtPmJ3X2N0eC5kbWwudmJhLk9ETUNvbWJpbmVF
bmFibGVkW3BpcGVfaWR4XSkgewogCQkJaHNwbGl0X3BpcGUgPSBkY24yMF9maW5kX3NlY29uZGFy
eV9waXBlKGRjLCAmY29udGV4dC0+cmVzX2N0eCwgZGMtPnJlc19wb29sLCBwaXBlKTsKIAkJCUFT
U0VSVChoc3BsaXRfcGlwZSk7CkBAIC0yNDMyLDMyICsyNDczLDE2IEBAIGJvb2wgZGNuMjBfZmFz
dF92YWxpZGF0ZV9idygKIAkJaWYgKHBpcGUtPnRvcF9waXBlICYmIHBpcGUtPnBsYW5lX3N0YXRl
ID09IHBpcGUtPnRvcF9waXBlLT5wbGFuZV9zdGF0ZSkKIAkJCWNvbnRpbnVlOwogCi0JCW5lZWRf
c3BsaXQzZCA9ICgocGlwZS0+c3RyZWFtLT52aWV3X2Zvcm1hdCA9PQotCQkJCVZJRVdfM0RfRk9S
TUFUX1NJREVfQllfU0lERSB8fAotCQkJCXBpcGUtPnN0cmVhbS0+dmlld19mb3JtYXQgPT0KLQkJ
CQlWSUVXXzNEX0ZPUk1BVF9UT1BfQU5EX0JPVFRPTSkgJiYKLQkJCQkocGlwZS0+c3RyZWFtLT50
aW1pbmcudGltaW5nXzNkX2Zvcm1hdCA9PQotCQkJCVRJTUlOR18zRF9GT1JNQVRfVE9QX0FORF9C
T1RUT00gfHwKLQkJCQkgcGlwZS0+c3RyZWFtLT50aW1pbmcudGltaW5nXzNkX2Zvcm1hdCA9PQot
CQkJCVRJTUlOR18zRF9GT1JNQVRfU0lERV9CWV9TSURFKSk7Ci0KLQkJaWYgKGF2b2lkX3NwbGl0
ICYmIHZsZXZlbF91bnNwbGl0IDw9IGNvbnRleHQtPmJ3X2N0eC5kbWwuc29jLm51bV9zdGF0ZXMg
JiYgIWZvcmNlX3NwbGl0ICYmICFuZWVkX3NwbGl0M2QpIHsKLQkJCW5lZWRfc3BsaXQgPSBmYWxz
ZTsKLQkJCXZsZXZlbCA9IHZsZXZlbF91bnNwbGl0OwotCQkJY29udGV4dC0+YndfY3R4LmRtbC52
YmEubWF4TXBjQ29tYiA9IDA7Ci0JCX0gZWxzZQotCQkJbmVlZF9zcGxpdCA9IGNvbnRleHQtPmJ3
X2N0eC5kbWwudmJhLk5vT2ZEUFBbdmxldmVsXVtjb250ZXh0LT5id19jdHguZG1sLnZiYS5tYXhN
cGNDb21iXVtwaXBlX2lkeF0gPT0gMjsKLQogCQkvKiBXZSBkbyBub3Qgc3VwcG9ydCBtcG8gKyBv
ZG0gYXQgdGhlIG1vbWVudCAqLwogCQlpZiAoaHNwbGl0X3BpcGUgJiYgaHNwbGl0X3BpcGUtPnBs
YW5lX3N0YXRlICE9IHBpcGUtPnBsYW5lX3N0YXRlCiAJCQkJJiYgY29udGV4dC0+YndfY3R4LmRt
bC52YmEuT0RNQ29tYmluZUVuYWJsZWRbcGlwZV9pZHhdKQogCQkJZ290byB2YWxpZGF0ZV9mYWls
OwogCi0JCWlmIChuZWVkX3NwbGl0M2QgfHwgbmVlZF9zcGxpdCB8fCBmb3JjZV9zcGxpdCkgewor
CQlpZiAoc3BsaXRbaV0pIHsKIAkJCWlmICghaHNwbGl0X3BpcGUgfHwgaHNwbGl0X3BpcGUtPnBs
YW5lX3N0YXRlICE9IHBpcGUtPnBsYW5lX3N0YXRlKSB7CiAJCQkJLyogcGlwZSBub3Qgc3BsaXQg
cHJldmlvdXNseSBuZWVkcyBzcGxpdCAqLwogCQkJCWhzcGxpdF9waXBlID0gZGNuMjBfZmluZF9z
ZWNvbmRhcnlfcGlwZShkYywgJmNvbnRleHQtPnJlc19jdHgsIGRjLT5yZXNfcG9vbCwgcGlwZSk7
Ci0JCQkJQVNTRVJUKGhzcGxpdF9waXBlIHx8IGZvcmNlX3NwbGl0KTsKKwkJCQlBU1NFUlQoaHNw
bGl0X3BpcGUpOwogCQkJCWlmICghaHNwbGl0X3BpcGUpCiAJCQkJCWNvbnRpbnVlOwogCkBAIC0y
NTIwLDcgKzI1NDUsNyBAQCB2b2lkIGRjbjIwX2NhbGN1bGF0ZV93bSgKIAkJCQkJY29udGV4dC0+
YndfY3R4LmRtbC52YmEuUmVxdWlyZWREUFBDTEtbdmxldmVsXVtjb250ZXh0LT5id19jdHguZG1s
LnZiYS5tYXhNcGNDb21iXVtwaXBlX2lkeF07CiAJCQlpZiAoY29udGV4dC0+YndfY3R4LmRtbC52
YmEuQmxlbmRpbmdBbmRUaW1pbmdbcGlwZV9pZHhdID09IHBpcGVfaWR4KQogCQkJCXBpcGVzW3Bp
cGVfY250XS5waXBlLmRlc3Qub2RtX2NvbWJpbmUgPQotCQkJCQkJY29udGV4dC0+YndfY3R4LmRt
bC52YmEuT0RNQ29tYmluZUVuYWJsZVBlclN0YXRlW3ZsZXZlbF1bcGlwZV9pZHhdOworCQkJCQkJ
Y29udGV4dC0+YndfY3R4LmRtbC52YmEuT0RNQ29tYmluZUVuYWJsZWRbcGlwZV9pZHhdOwogCQkJ
ZWxzZQogCQkJCXBpcGVzW3BpcGVfY250XS5waXBlLmRlc3Qub2RtX2NvbWJpbmUgPSAwOwogCQkJ
cGlwZV9pZHgrKzsKQEAgLTI1MjksNyArMjU1NCw3IEBAIHZvaWQgZGNuMjBfY2FsY3VsYXRlX3dt
KAogCQkJCQljb250ZXh0LT5id19jdHguZG1sLnZiYS5SZXF1aXJlZERQUENMS1t2bGV2ZWxdW2Nv
bnRleHQtPmJ3X2N0eC5kbWwudmJhLm1heE1wY0NvbWJdW3BpcGVfc3BsaXRfZnJvbVtpXV07CiAJ
CQlpZiAoY29udGV4dC0+YndfY3R4LmRtbC52YmEuQmxlbmRpbmdBbmRUaW1pbmdbcGlwZV9zcGxp
dF9mcm9tW2ldXSA9PSBwaXBlX3NwbGl0X2Zyb21baV0pCiAJCQkJcGlwZXNbcGlwZV9jbnRdLnBp
cGUuZGVzdC5vZG1fY29tYmluZSA9Ci0JCQkJCQljb250ZXh0LT5id19jdHguZG1sLnZiYS5PRE1D
b21iaW5lRW5hYmxlUGVyU3RhdGVbdmxldmVsXVtwaXBlX3NwbGl0X2Zyb21baV1dOworCQkJCQkJ
Y29udGV4dC0+YndfY3R4LmRtbC52YmEuT0RNQ29tYmluZUVuYWJsZWRbcGlwZV9zcGxpdF9mcm9t
W2ldXTsKIAkJCWVsc2UKIAkJCQlwaXBlc1twaXBlX2NudF0ucGlwZS5kZXN0Lm9kbV9jb21iaW5l
ID0gMDsKIAkJfQpAQCAtMjkwMCw2ICsyOTI1LDcgQEAgc3RhdGljIHN0cnVjdCByZXNvdXJjZV9m
dW5jcyBkY24yMF9yZXNfcG9vbF9mdW5jcyA9IHsKIAkucG9wdWxhdGVfZG1sX3dyaXRlYmFja19m
cm9tX2NvbnRleHQgPSBkY24yMF9wb3B1bGF0ZV9kbWxfd3JpdGViYWNrX2Zyb21fY29udGV4dCwK
IAkuZ2V0X2RlZmF1bHRfc3dpenpsZV9tb2RlID0gZGNuMjBfZ2V0X2RlZmF1bHRfc3dpenpsZV9t
b2RlLAogCS5zZXRfbWNpZl9hcmJfcGFyYW1zID0gZGNuMjBfc2V0X21jaWZfYXJiX3BhcmFtcywK
KwkucG9wdWxhdGVfZG1sX3BpcGVzID0gZGNuMjBfcG9wdWxhdGVfZG1sX3BpcGVzX2Zyb21fY29u
dGV4dCwKIAkuZmluZF9maXJzdF9mcmVlX21hdGNoX3N0cmVhbV9lbmNfZm9yX2xpbmsgPSBkY24x
MF9maW5kX2ZpcnN0X2ZyZWVfbWF0Y2hfc3RyZWFtX2VuY19mb3JfbGluawogfTsKIApkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIwX3Jlc291cmNl
LmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjAvZGNuMjBfcmVzb3VyY2Uu
aAppbmRleCA1NTAwNjQ2MmY0ODEuLmZlNjg2NjlhMWYwYyAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIwX3Jlc291cmNlLmgKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIwX3Jlc291cmNlLmgKQEAgLTExMyw2
ICsxMTMsMzEgQEAgdm9pZCBkY24yMF9zZXRfbWNpZl9hcmJfcGFyYW1zKAogCQlkaXNwbGF5X2Uy
ZV9waXBlX3BhcmFtc19zdCAqcGlwZXMsCiAJCWludCBwaXBlX2NudCk7CiBib29sIGRjbjIwX3Zh
bGlkYXRlX2JhbmR3aWR0aChzdHJ1Y3QgZGMgKmRjLCBzdHJ1Y3QgZGNfc3RhdGUgKmNvbnRleHQs
IGJvb2wgZmFzdF92YWxpZGF0ZSk7Cit2b2lkIGRjbjIwX21lcmdlX3BpcGVzX2Zvcl92YWxpZGF0
ZSgKKwkJc3RydWN0IGRjICpkYywKKwkJc3RydWN0IGRjX3N0YXRlICpjb250ZXh0KTsKK2ludCBk
Y24yMF92YWxpZGF0ZV9hcHBseV9waXBlX3NwbGl0X2ZsYWdzKAorCQlzdHJ1Y3QgZGMgKmRjLAor
CQlzdHJ1Y3QgZGNfc3RhdGUgKmNvbnRleHQsCisJCWludCB2bGV2ZWwsCisJCWJvb2wgKnNwbGl0
KTsKKyNpZmRlZiBDT05GSUdfRFJNX0FNRF9EQ19EU0NfU1VQUE9SVAorYm9vbCBkY24yMF92YWxp
ZGF0ZV9kc2Moc3RydWN0IGRjICpkYywgc3RydWN0IGRjX3N0YXRlICpuZXdfY3R4KTsKKyNlbmRp
Zgordm9pZCBkY24yMF9zcGxpdF9zdHJlYW1fZm9yX21wYygKKwkJc3RydWN0IHJlc291cmNlX2Nv
bnRleHQgKnJlc19jdHgsCisJCWNvbnN0IHN0cnVjdCByZXNvdXJjZV9wb29sICpwb29sLAorCQlz
dHJ1Y3QgcGlwZV9jdHggKnByaW1hcnlfcGlwZSwKKwkJc3RydWN0IHBpcGVfY3R4ICpzZWNvbmRh
cnlfcGlwZSk7Citib29sIGRjbjIwX3NwbGl0X3N0cmVhbV9mb3Jfb2RtKAorCQlzdHJ1Y3QgcmVz
b3VyY2VfY29udGV4dCAqcmVzX2N0eCwKKwkJY29uc3Qgc3RydWN0IHJlc291cmNlX3Bvb2wgKnBv
b2wsCisJCXN0cnVjdCBwaXBlX2N0eCAqcHJldl9vZG1fcGlwZSwKKwkJc3RydWN0IHBpcGVfY3R4
ICpuZXh0X29kbV9waXBlKTsKK3N0cnVjdCBwaXBlX2N0eCAqZGNuMjBfZmluZF9zZWNvbmRhcnlf
cGlwZShzdHJ1Y3QgZGMgKmRjLAorCQlzdHJ1Y3QgcmVzb3VyY2VfY29udGV4dCAqcmVzX2N0eCwK
KwkJY29uc3Qgc3RydWN0IHJlc291cmNlX3Bvb2wgKnBvb2wsCisJCWNvbnN0IHN0cnVjdCBwaXBl
X2N0eCAqcHJpbWFyeV9waXBlKTsKIGJvb2wgZGNuMjBfZmFzdF92YWxpZGF0ZV9idygKIAkJc3Ry
dWN0IGRjICpkYywKIAkJc3RydWN0IGRjX3N0YXRlICpjb250ZXh0LApAQCAtMTI1LDYgKzE1MCwx
MiBAQCB2b2lkIGRjbjIwX2NhbGN1bGF0ZV9kbGdfcGFyYW1zKAogCQlkaXNwbGF5X2UyZV9waXBl
X3BhcmFtc19zdCAqcGlwZXMsCiAJCWludCBwaXBlX2NudCwKIAkJaW50IHZsZXZlbCk7Cit2b2lk
IGRjbjIwX2NhbGN1bGF0ZV93bSgKKwkJc3RydWN0IGRjICpkYywgc3RydWN0IGRjX3N0YXRlICpj
b250ZXh0LAorCQlkaXNwbGF5X2UyZV9waXBlX3BhcmFtc19zdCAqcGlwZXMsCisJCWludCAqb3V0
X3BpcGVfY250LAorCQlpbnQgKnBpcGVfc3BsaXRfZnJvbSwKKwkJaW50IHZsZXZlbCk7CiAKIGVu
dW0gZGNfc3RhdHVzIGRjbjIwX2J1aWxkX21hcHBlZF9yZXNvdXJjZShjb25zdCBzdHJ1Y3QgZGMg
KmRjLCBzdHJ1Y3QgZGNfc3RhdGUgKmNvbnRleHQsIHN0cnVjdCBkY19zdHJlYW1fc3RhdGUgKnN0
cmVhbSk7CiBlbnVtIGRjX3N0YXR1cyBkY24yMF9hZGRfc3RyZWFtX3RvX2N0eChzdHJ1Y3QgZGMg
KmRjLCBzdHJ1Y3QgZGNfc3RhdGUgKm5ld19jdHgsIHN0cnVjdCBkY19zdHJlYW1fc3RhdGUgKmRj
X3N0cmVhbSk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNu
MjEvZGNuMjFfcmVzb3VyY2UuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24y
MS9kY24yMV9yZXNvdXJjZS5jCmluZGV4IGJkMTZhOGJmYzk1MS4uZDJlODUxZTdhOTdmIDEwMDY0
NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjEvZGNuMjFfcmVzb3Vy
Y2UuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjEvZGNuMjFfcmVz
b3VyY2UuYwpAQCAtMTU4OSw2ICsxNTg5LDcgQEAgc3RhdGljIHN0cnVjdCByZXNvdXJjZV9mdW5j
cyBkY24yMV9yZXNfcG9vbF9mdW5jcyA9IHsKIAkuZGVzdHJveSA9IGRjbjIxX2Rlc3Ryb3lfcmVz
b3VyY2VfcG9vbCwKIAkubGlua19lbmNfY3JlYXRlID0gZGNuMjFfbGlua19lbmNvZGVyX2NyZWF0
ZSwKIAkudmFsaWRhdGVfYmFuZHdpZHRoID0gZGNuMjFfdmFsaWRhdGVfYmFuZHdpZHRoLAorCS5w
b3B1bGF0ZV9kbWxfcGlwZXMgPSBkY24yMF9wb3B1bGF0ZV9kbWxfcGlwZXNfZnJvbV9jb250ZXh0
LAogCS5hZGRfc3RyZWFtX3RvX2N0eCA9IGRjbjIwX2FkZF9zdHJlYW1fdG9fY3R4LAogCS5yZW1v
dmVfc3RyZWFtX2Zyb21fY3R4ID0gZGNuMjBfcmVtb3ZlX3N0cmVhbV9mcm9tX2N0eCwKIAkuYWNx
dWlyZV9pZGxlX3BpcGVfZm9yX2xheWVyID0gZGNuMjBfYWNxdWlyZV9pZGxlX3BpcGVfZm9yX2xh
eWVyLAotLSAKMi4yMy4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9y
ZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZng=
