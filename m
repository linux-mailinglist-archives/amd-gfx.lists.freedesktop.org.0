Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 7ADC832F91A
	for <lists+amd-gfx@lfdr.de>; Sat,  6 Mar 2021 10:12:19 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E89536E30D;
	Sat,  6 Mar 2021 09:12:16 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM10-MW2-obe.outbound.protection.outlook.com
 (mail-mw2nam10on2087.outbound.protection.outlook.com [40.107.94.87])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C6E726E30D
 for <amd-gfx@lists.freedesktop.org>; Sat,  6 Mar 2021 09:12:15 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=faOtse4Rw+nkUIg6lfIQ3Fksh9mMtKqBwRq2edegvDBtUxbPxinW96zVYOeocF5xb+IGBNoBCqv8gPoetV8F+WcRnqLisw1VY9CppkBWztGNbaPkLtUVl0yN6781sFYnNblAUT5gVfDjAfIW6PwZqFouhi53XkP7xtI6AGVYO08jg3MfNvcwh2Ijh9aXObLz/gFmgH+Hv7FnilOKU6TE7SqMgZJgW7ASmzJ9g5H4gdFjHOWwkfLblLRtWlQFVC/ayS5VTIcg5lwFTQL353YHPMi0llsAQgqPLWUKc/t4qZWAbc1U8K95hywcXSkAFuhq43Ff700ezrV2EZILbPHqbg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=U/LrhcUbnwUYJSBdaiY8oUKo59YnbWZOKShUsbTNPeA=;
 b=EuLf2KJjUx2OTn6HDvS+1EeBcwEDK4HcSIb9Dnj1mlf81hbkXo6W90yVE9qgEM622za5aY4GIgAY1WClQqrTgF5sFv4c+aNXnZWjojH/BdguPI7fq7uF+FB5dxyk0hIUez2qlRrWK2VlZk+8THa4aq3WL3fEJUx95ecVNyN7stCOFzfn87LdkrT/RnBorZ328QFXFQyv/ZrPovAB9LOJCzg5IryAjBSYx0hYDbKmWIslOZY3nNRR0hx2sRbYV5s1G5lIXB0Z3I261/gm5jCdwyE8pZS/vT9eHJV/q7QH9jNW4sUc/dXRuJSeFN99jstIUIYuvSFmpLtvZqYL+OFqvg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=amd.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=U/LrhcUbnwUYJSBdaiY8oUKo59YnbWZOKShUsbTNPeA=;
 b=jeb+rIbuD3xRF1BVUgL1Y0awN8Jf4boMPA7u9TmJ7NgW5E18ObVc+1VkbnJMwVIN4eJP1WEfgCsY2hTSn6y2/DUDzsU/2vm7h/P5c3akExrcmbu9ET9RotHJyQnPc2GFvTWGL83NiPvTWIm0dLP0SRyPja9tN/n6O8zvUaMIy3E=
Authentication-Results: amd.com; dkim=none (message not signed)
 header.d=none;amd.com; dmarc=none action=none header.from=amd.com;
Received: from MN2PR12MB3775.namprd12.prod.outlook.com (2603:10b6:208:159::19)
 by BL0PR12MB4660.namprd12.prod.outlook.com (2603:10b6:207:34::30)
 with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.3890.23; Sat, 6 Mar
 2021 09:12:14 +0000
Received: from MN2PR12MB3775.namprd12.prod.outlook.com
 ([fe80::c1ff:dcf1:9536:a1f2]) by MN2PR12MB3775.namprd12.prod.outlook.com
 ([fe80::c1ff:dcf1:9536:a1f2%2]) with mapi id 15.20.3912.023; Sat, 6 Mar 2021
 09:12:14 +0000
Subject: Re: [PATCH] drm/amdgpu: add ih waiter on process until checkpoint
To: "Kim, Jonathan" <Jonathan.Kim@amd.com>,
 =?UTF-8?Q?Christian_K=c3=b6nig?= <ckoenig.leichtzumerken@gmail.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
References: <20210305201121.55036-1-jonathan.kim@amd.com>
 <c740e996-2c45-c512-aff1-722c90b0e450@gmail.com>
 <DM5PR12MB4680973A86A7DFD76EACC55785969@DM5PR12MB4680.namprd12.prod.outlook.com>
From: =?UTF-8?Q?Christian_K=c3=b6nig?= <christian.koenig@amd.com>
Message-ID: <f706cbb5-b15c-f258-b997-50ff4694e77e@amd.com>
Date: Sat, 6 Mar 2021 10:12:08 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101
 Thunderbird/78.7.1
In-Reply-To: <DM5PR12MB4680973A86A7DFD76EACC55785969@DM5PR12MB4680.namprd12.prod.outlook.com>
Content-Language: en-US
X-Originating-IP: [2a02:908:1252:fb60:25ad:cb82:5c05:97ca]
X-ClientProxiedBy: AM9P192CA0015.EURP192.PROD.OUTLOOK.COM
 (2603:10a6:20b:21d::20) To MN2PR12MB3775.namprd12.prod.outlook.com
 (2603:10b6:208:159::19)
MIME-Version: 1.0
X-MS-Exchange-MessageSentRepresentingType: 1
Received: from [IPv6:2a02:908:1252:fb60:25ad:cb82:5c05:97ca]
 (2a02:908:1252:fb60:25ad:cb82:5c05:97ca) by
 AM9P192CA0015.EURP192.PROD.OUTLOOK.COM (2603:10a6:20b:21d::20) with Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.3912.17 via Frontend Transport; Sat, 6 Mar 2021 09:12:12 +0000
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-HT: Tenant
X-MS-Office365-Filtering-Correlation-Id: 7beed942-d8e9-4b15-dc9b-08d8e07fee47
X-MS-TrafficTypeDiagnostic: BL0PR12MB4660:
X-MS-Exchange-Transport-Forked: True
X-Microsoft-Antispam-PRVS: <BL0PR12MB466094EF529F3431581D618283959@BL0PR12MB4660.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:10000;
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: 4YxrW7IuenfteIk3aY6M6W005t1k6MnRtmyPp7kUCARGl2Hc0xg3e9eiKn5Rbfu3h+fsVbPUMLSHo87cciJxid8y4025qc9lwmtWXjkkiEyenwhv5mPbrBvnae9mRp/Or9kJLUydhVuRMobECSHkKSb0oAjvBN6KZ03B/yqD+Xzrco7lWqHYNus4m4vhQzoQrldTXuBSDmi8AoenB3aPr2Vs5DYypAInxgvM6eSSsZbThrdApYkGB1UnzWNZeAXv0owprzK8wFtxMOhJh0m2kHeCN2QGz2ioXLdz4DrrRS/pB5H9v+qpI0hzsVpt20kqXQoTKUVuvSGfeKRrzGxB7NFL6PnM+ZVg6vLupDQY49eXBfBveA3SQo30ohjebvdoKhyYfAUifMzNdr00KZcJ0RXHbMBoGpwd9NJb2bYWlbSUB44sIhvVNLRkDleG5Gxx+tT2LC5SfguZNieWYmwxeCrH7WEoQAkd/yVKgO57DXW+ZbwZpl42Ej7ladYZakvkQyKv9iMqAHqQ1ZSawFJsVDJlXPiE4BKbB8Q1FEmUVry5IE4R7Fl4gyrL+hvZGKqB22c6srQ7gQU03tw2UdbW5pJSz6rX4DAoDFRhDczs6Xs=
X-Forefront-Antispam-Report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:MN2PR12MB3775.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(4636009)(39860400002)(376002)(136003)(346002)(366004)(396003)(66476007)(110136005)(316002)(36756003)(31696002)(186003)(16526019)(6666004)(4326008)(31686004)(54906003)(66556008)(86362001)(5660300002)(2906002)(2616005)(6486002)(52116002)(8936002)(66946007)(8676002)(83380400001)(53546011)(478600001)(66574015)(45980500001)(43740500002);
 DIR:OUT; SFP:1101; 
X-MS-Exchange-AntiSpam-MessageData: =?utf-8?B?encyZnZwTFpMYjhkeHA2Vk5SaGh1Undpb1RSMHpZQkRyOHVYSnE1THZJVGlY?=
 =?utf-8?B?WFNkcmxsTEU2S3djZkhaYnhmSUVqNDJhek1FdnFSQzQ3bmdLbFpES3VQOWVm?=
 =?utf-8?B?UU8wRS9LeHN3VVZ5MnZyKzNRZUY2WlN4andPakNsamJuMC9BMWRUcEFhSG00?=
 =?utf-8?B?K3N1TWhZZFVIRm03RnJMcVhUNVBpYko5K0g1bkcyOHFsRVNZWUl1d3QyU3Rn?=
 =?utf-8?B?Y0Z2NlBJR2U4Nm8wQTRPcEhpRFgyS2xZRUJQN2VGc1l3bFF5bGZYRWlWRFlU?=
 =?utf-8?B?d3IrNGRzY1Rjd21tbG1LTjBMeStzbjNvRk9rSndGTmxsMmZOZy9XTUZsQTU2?=
 =?utf-8?B?MG9pN0tRMW1KcmJQNjN3ZUF0QjhKN01aeDAwVXJoZjRBSTVaRHMyUkZ6emor?=
 =?utf-8?B?eWU5dis0M2E2aklOeXk1akcwdjV4YmVhdzhBUEtxVzdqamdxelBWVzl0blpo?=
 =?utf-8?B?bi9IWHFFbnFFeEFwSFNkcUlzRlhXUEhXNVhBS2JiWFhvRU5OYlN2ckRJMVF5?=
 =?utf-8?B?QUdWd1AzYkgxcVI1T0daNVdqUXpoVjNDc0x1RGhacjJuWmtnS1AvVDI0OG5E?=
 =?utf-8?B?dys1cXFydkUrbEkvVVlBU0tFRU1rRWlHUjBSbWFJZFhBUUI3MEdqR2JmK29m?=
 =?utf-8?B?cEU5cTUyRnYxS2h5N0VqczBNRE1MdkpqVnhMaDd2cjlLd2NwTWlvRXRvT0hJ?=
 =?utf-8?B?Q0x4VEs1NG8wVXdoZjJEajNPVkpsZHI1VEhQaWRFbWpIeXpZbUJVUGFzL2lX?=
 =?utf-8?B?U0FZODVvOTN3c3pBRVkwUmMzakdwdmg3dWVYUGFiZkhxN1I0aytYTk1sQjg1?=
 =?utf-8?B?SGpra1VrSFczVmZjVFhBOTNCakJHdFdEQVFvRTdZK0JSbHQ2aUtTaENreElP?=
 =?utf-8?B?UG9MOWcrYjZQTE16czFOTVZVZkZPcXFVR1VzWWtQcEZFbW83V3hwbUhaVTRX?=
 =?utf-8?B?a0lpaGZYbFZ6WXhTcUhrZGNYYzd6bHZidTJUUnZlYkZZOEtmTWpob3FURlJa?=
 =?utf-8?B?RG11L2FHekxrTmNBTlVlcXVrQlZkYlQzRk9odVluRWNER3FWZWIwRFI5NWRM?=
 =?utf-8?B?Zk1FRDgzamJyaEdCMnJ2L1M1Z0dRVVBsYUYyaklMSmQva09DVkZBOXVKVVJW?=
 =?utf-8?B?OVpKZkt2cFdIY0NNSmgyYUY4bEpKYUxvc0h5c3lOS2xMcnpaMEJTajBaZTZk?=
 =?utf-8?B?N092NHE5VE9Wb3VvUksvZzEvNkFEQlNlTTRnWisyVjkzYlBnS2VHWTJFR3ND?=
 =?utf-8?B?bHRwK0NBaUc4cWJwMHVLSVRJSzBHYnAxODRtUXEwUnp0anpCUnhXZWQ3c1Ar?=
 =?utf-8?B?THBZT1RKSi9xS2p2RmJFSUphVXlIYUx1ZDQ2eGxOb0dLcldSTUJ2dCt1amNn?=
 =?utf-8?B?RnREVWYrbFgyN2VMUWZyRm9TdUxvSFhyMEV2WTNQMEhtbU5WaHBOVk1lcVIr?=
 =?utf-8?B?cVNnMzAzUnhDclZmNUVjek5hMDl1ZWZ3VW55dmpQUUlaRXNhbTFtWXQybEwy?=
 =?utf-8?B?QlUvaXBhbG5zTTF5RkNNNFRtR3JRN2Z6bndReGtBYm1DUVlSdmdRSzFBR1NW?=
 =?utf-8?B?TVZiU0lCR2NJQm9nNi9tVGdjWXBuK3dqL3VZNUVQeFdOcnlaKzgvL0pmekpS?=
 =?utf-8?B?Qm9FbDFnSVJrc29yK243WitJQksyUXROaHVHUjYyci9vWTRFNnFiYzYwSHhk?=
 =?utf-8?B?bFgwQW1pYTljbS9WbjBsejB0S3NCUlNnUnRhZEdMTW1HZWJOaS9XOHBUVnNJ?=
 =?utf-8?B?ZDVxTmg2MjV4QmVGUnhscEJGMG91U1RNZDZvQkhVLzdiQVRjREI0TEpxT2Yz?=
 =?utf-8?B?bmdsVTlXWHlWa0JiN0FaZm8zNVZoMCtjWlJWRmVVS2lMZi9JcnllcWZTUWUv?=
 =?utf-8?Q?bpfuLyOsCNWzq?=
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 7beed942-d8e9-4b15-dc9b-08d8e07fee47
X-MS-Exchange-CrossTenant-AuthSource: MN2PR12MB3775.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 06 Mar 2021 09:12:14.0058 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: fmRazcYF6aNZt7QMqY5OOYrwZDbDIZsFxyXSIPq8/HlDofMXiV0yGpUh2tVAIrgA
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BL0PR12MB4660
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Yang, Philip" <Philip.Yang@amd.com>, "Kuehling,
 Felix" <Felix.Kuehling@amd.com>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

CgpBbSAwNS4wMy4yMSB1bSAyMjozNCBzY2hyaWViIEtpbSwgSm9uYXRoYW46Cj4gW0FNRCBPZmZp
Y2lhbCBVc2UgT25seSAtIEludGVybmFsIERpc3RyaWJ1dGlvbiBPbmx5XQo+Cj4+IC0tLS0tT3Jp
Z2luYWwgTWVzc2FnZS0tLS0tCj4+IEZyb206IENocmlzdGlhbiBLw7ZuaWcgPGNrb2VuaWcubGVp
Y2h0enVtZXJrZW5AZ21haWwuY29tPgo+PiBTZW50OiBGcmlkYXksIE1hcmNoIDUsIDIwMjEgMzox
OCBQTQo+PiBUbzogS2ltLCBKb25hdGhhbiA8Sm9uYXRoYW4uS2ltQGFtZC5jb20+OyBhbWQtCj4+
IGdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKPj4gQ2M6IFlhbmcsIFBoaWxpcCA8UGhpbGlwLllh
bmdAYW1kLmNvbT47IEt1ZWhsaW5nLCBGZWxpeAo+PiA8RmVsaXguS3VlaGxpbmdAYW1kLmNvbT47
IEtvZW5pZywgQ2hyaXN0aWFuIDxDaHJpc3RpYW4uS29lbmlnQGFtZC5jb20+Cj4+IFN1YmplY3Q6
IFJlOiBbUEFUQ0hdIGRybS9hbWRncHU6IGFkZCBpaCB3YWl0ZXIgb24gcHJvY2VzcyB1bnRpbCBj
aGVja3BvaW50Cj4+Cj4+IFtDQVVUSU9OOiBFeHRlcm5hbCBFbWFpbF0KPj4KPj4gQW0gMDUuMDMu
MjEgdW0gMjE6MTEgc2NocmllYiBKb25hdGhhbiBLaW06Cj4+PiBBZGQgSUggZnVuY3Rpb24gdG8g
YWxsb3cgY2FsbGVyIHRvIHdhaXQgdW50aWwgcmluZyBlbnRyaWVzIGFyZQo+Pj4gcHJvY2Vzc2Vk
IHVudGlsIHRoZSBjaGVja3BvaW50IHdyaXRlIHBvaW50ZXIuCj4+Pgo+Pj4gVGhpcyB3aWxsIGJl
IHByaW1hcmlseSB1c2VkIGJ5IEhNTSB0byBkcmFpbiBwZW5kaW5nIHBhZ2UgZmF1bHQKPj4+IGlu
dGVycnVwdHMgYmVmb3JlIG1lbW9yeSB1bm1hcCB0byBwcmV2ZW50IEhNTSBmcm9tIGhhbmRsaW5n
IHN0YWxlCj4+IGludGVycnVwdHMuCj4+PiB2MjogVXBkYXRlIHRpdGxlIGFuZCBkZXNjcmlwdGlv
biB0byBjbGFyaWZ5IHVzZS4KPj4+IEFkZCBycHRyL3dwdHIgd3JhcCBjb3VudGVyIGNoZWNrcyB0
byBndWFyYW50ZWUgcmluZyBlbnRyaWVzIGFyZQo+Pj4gcHJvY2Vzc2VkIHVudGlsIHRoZSBjaGVj
a3BvaW50Lgo+PiBGaXJzdCBvZiBhbGwgYXMgSSBzYWlkIHBsZWFzZSB1c2UgYSB3YWl0X2V2ZW50
LCBidXN5IHdhaXRpbmcgaXMgYSBjbGVhciBOQUsuCj4gV2hvIHdvdWxkIGRvIHRoZSB3YWtlIHRo
b3VnaD8gIEFyZSB5b3Ugc3VnZ2VzdGluZyB3YWtlIGJlIGRvbmUgaW4gYW1kZ3B1X2loX3Byb2Nl
c3M/ICBPciBpcyB3YWl0aW5nIGhhcHBlbmluZyBieSB0aGUgY2FsbGVyIGFuZCB0aGlzIHNob3Vs
ZCBnbyBzb21ld2hlcmUgaGlnaGVyIChsaWtlIGFtZGdwdV9hbWRrZmQgZm9yIGV4YW1wbGUpPwo+
Cj4+PiBTaWduZWQtb2ZmLWJ5OiBKb25hdGhhbiBLaW0gPGpvbmF0aGFuLmtpbUBhbWQuY29tPgo+
Pj4gLS0tCj4+PiAgICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfaWguYyB8IDY4
Cj4+ICsrKysrKysrKysrKysrKysrKysrKysrKystCj4+PiAgICBkcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9hbWRncHVfaWguaCB8ICAyICsKPj4+ICAgIDIgZmlsZXMgY2hhbmdlZCwgNjkgaW5z
ZXJ0aW9ucygrKSwgMSBkZWxldGlvbigtKQo+Pj4KPj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfaWguYwo+Pj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfaWguYwo+Pj4gaW5kZXggZGM4NTJhZjRmM2I3Li45NTQ1MThiNGZiNzkgMTAw
NjQ0Cj4+PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfaWguYwo+Pj4g
KysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2loLmMKPj4+IEBAIC0yMiw3
ICsyMiw3IEBACj4+PiAgICAgKi8KPj4+Cj4+PiAgICAjaW5jbHVkZSA8bGludXgvZG1hLW1hcHBp
bmcuaD4KPj4+IC0KPj4+ICsjaW5jbHVkZSA8bGludXgvcHJvY2Vzc29yLmg+Cj4+PiAgICAjaW5j
bHVkZSAiYW1kZ3B1LmgiCj4+PiAgICAjaW5jbHVkZSAiYW1kZ3B1X2loLmgiCj4+Pgo+Pj4gQEAg
LTE2MCw2ICsxNjAsNzIgQEAgdm9pZCBhbWRncHVfaWhfcmluZ193cml0ZShzdHJ1Y3QKPj4gYW1k
Z3B1X2loX3JpbmcgKmloLCBjb25zdCB1aW50MzJfdCAqaXYsCj4+PiAgICAgICAgfQo+Pj4gICAg
fQo+Pj4KPj4+ICsvKioKPj4+ICsgKiBhbWRncHVfaWhfd2FpdF9vbl9jaGVja3BvaW50X3Byb2Nl
c3MgLSB3YWl0IHRvIHByb2Nlc3MgSVZzIHVwIHRvCj4+PiArY2hlY2twb2ludAo+Pj4gKyAqCj4+
PiArICogQGFkZXY6IGFtZGdwdV9kZXZpY2UgcG9pbnRlcgo+Pj4gKyAqIEBpaDogaWggcmluZyB0
byBwcm9jZXNzCj4+PiArICoKPj4+ICsgKiBVc2VkIHRvIGVuc3VyZSByaW5nIGhhcyBwcm9jZXNz
ZWQgSVZzIHVwIHRvIHRoZSBjaGVja3BvaW50IHdyaXRlCj4+IHBvaW50ZXIuCj4+PiArICovCj4+
PiAraW50IGFtZGdwdV9paF93YWl0X29uX2NoZWNrcG9pbnRfcHJvY2VzcyhzdHJ1Y3QgYW1kZ3B1
X2RldmljZQo+PiAqYWRldiwKPj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgc3RydWN0IGFtZGdwdV9paF9yaW5nICppaCkgewo+Pj4gKyAgICAgdTY0IHJwdHJfY2hlY2ss
IHdwdHJfY2hlY2ssIHJwdHJfd3JhcCA9IDAsIHdwdHJfd3JhcCA9IDA7Cj4+PiArICAgICB1MzIg
cHJldl9ycHRyLCBwcmV2X3dwdHI7Cj4+PiArCj4+PiArICAgICBpZiAoIWloLT5lbmFibGVkIHx8
IGFkZXYtPnNodXRkb3duKQo+Pj4gKyAgICAgICAgICAgICByZXR1cm4gLUVOT0RFVjsKPj4+ICsK
Pj4+ICsgICAgIHByZXZfd3B0ciA9IGFtZGdwdV9paF9nZXRfd3B0cihhZGV2LCBpaCk7Cj4+PiAr
ICAgICAvKiBPcmRlciB3cHRyIHdpdGggcnB0ci4gKi8KPj4+ICsgICAgIHJtYigpOwo+Pj4gKyAg
ICAgcHJldl9ycHRyID0gUkVBRF9PTkNFKGloLT5ycHRyKTsKPj4+ICsgICAgIHJwdHJfY2hlY2sg
PSBwcmV2X3JwdHIgfCAocnB0cl93cmFwIDw8IDMyKTsKPj4+ICsgICAgIHdwdHJfY2hlY2sgPSBw
cmV2X3dwdHIgfCAod3B0cl93cmFwIDw8IDMyKTsKPj4gSHVpIHdoYXQ/IFRoYXQgY2hlY2sgZG9l
c24ndCBldmVuIG1ha2UgcmVtb3RlbHkgc2Vuc2UgdG8gbWUuCj4gQ2FuIHlvdSBjbGFyaWZ5IHdo
YXQgeW91IG1lYW50IGJ5IGNyZWF0aW5nIGEgbmV3IDY0IGJpdCBjb21wYXJlPwo+IFNuaXAgZnJv
bSB5b3VyIGxhc3QgcmVzcG9uc2U6Cj4KPiAiVGhpcyB3YXkgeW91IGRvIHNvbWV0aGluZyBsaWtl
IHRoaXM6Cj4gMS4gZ2V0IHRoZSB3cmFwIGFyb3VuZCBjb3VudGVyLgo+IDIuIGdldCB3cHRyCj4g
My4gZ2V0IHJwdHIKPiA0LiBjb21wYXJlIHRoZSB3cmFwIGFyb3VuZCBjb3VudGVyIHdpdGggdGhl
IG9sZCBvbmUsIGlmIGl0IGhhcyBjaGFuZ2VkIHN0YXJ0IG92ZXIgd2l0aCAjMQo+IDUuIFVzZSB3
cmFwIGFyb3VuZCBjb3VudGVyIGFuZCBycHRyL3dwdHIgdG8gY29tZSB1cCB3aXRoIDY0Yml0IHZh
bHVlcy4KPiA2LiBDb21wYXJlIHdwdHIgd2l0aCBycHRyL3dyYXAgYXJvdW5kIGNvdW50ZXIgdW50
aWwgd2UgYXJlIHN1cmUgdGhlIElIcyBhcmUgcHJvY2Vzc2VkLiIKPgo+ICBGcm9tIGEgZGlzY3Vz
c2lvbiB3aXRoIEZlbGl4LCBJIGludGVycHJldGVkIHRoaXMgYXMgYSB3YXkgdG8gZ3VhcmFudGVl
IHJwdHIvd3RwciBvcmRlcmluZyBzbyB0aGF0IHJwdHIgbW9ub3RvbmljYWxseSBmb2xsb3dzIHdw
dHIgcGVyIGNoZWNrLgo+IEknbSBhc3N1bWluZyBycHRyL3dwdHJzIGFyZSAzMiBiaXRzIHdpZGUg
YnkgdGhlIHVzZSBvZiBwdHJfbWFzayBvbiByZWFkL3dyaXRlIGZ1bmN0aW9ucyBzbyBhIHJlc3Bl
Y3RpdmUgbWFzayBvZiBycHRyL3dwdHIgd3JhcCBjb3VudCB0byB0aGUgdG9wIDMyIGJpdHMgd291
bGQgbWFyayBob3cgZmFyIGFwYXJ0IHRoZSBycHRyIGFuZCB3cHRyIGFyZSBwZXIgY2hlY2suCgpN
aG0sIHNvdW5kcyBsaWtlIG15IGRlc2NyaXB0aW9uIHdhcyBhIGJpdCBjb25mdXNpbmcuIExldCBt
ZSB0cnkgYWdhaW4uCgpGaXJzdCBvZiBhbGwgcnB0ci93cHRyIGFyZSBub3QgMzJiaXQsIHRoZWly
IG1heGltdW0gaXMgMjAgb3IgMTkgYml0cyAKSUlSQyAoYW5kIHRoZXkgYXJlIGR3LCBzbyA0TSBv
ciAyTSBieXRlcykuCgpUaGVuIHRoZSBwdXJwb3NlIG9mIHRoZSB3YWl0X2V2ZW50KCkgaXMgdG8g
d2FpdCBmb3IgY2hhbmdlcyBvZiB0aGUgcnB0ciwgCnNvIHRoZSBtYXRjaGluZyB3YWtlX3VwKCkg
c2hvdWxkIGJlIGF0IHRoZSBzYW1lIHBsYWNlIGFzIGNhbGxpbmcgCmFtZGdwdV9paF9zZXRfcnB0
cigpLgoKTXkgb3JpZ2luYWwgaWRlYSBvZiB0aGUgd3JhcCBhcm91bmQgY291bnRlciBhc3N1bWVz
IHRoYXQgdGhlIGNvdW50ZXIgaXMgCnVwZGF0ZWQgaW4gYW1kZ3B1X2loX3Byb2Nlc3MoKS4gVGhh
dCBpc24ndCBzdHJpY3RseSBuZWNlc3NhcnksIGJ1dCBpdCAKY291bGQgYmUgYmV0dGVyIGV2ZW4g
aWYgaXQgYWRkcyBzb21lIG92ZXJoZWFkIHRvIElIIHByb2Nlc3NpbmcuCgpJZiB5b3Ugd2FudCB0
byBpbXBsZW1lbnQgaXQgbGlrZSBiZWxvdyBpdCBzaG91bGQgbG9vayBzb21ldGhpbmcgbGlrZSB0
aGlzOgoKdWludDMyX3QgcnB0ciwgd3B0ciwgdG1wOwoKd3B0ciA9IGFtZGdwdV9paF9nZXRfd3B0
cihhZGV2LCBpaCk7CnJtYigpOwpycHRyID0gUkVBRF9PTkNFKGloLT5ycHRyKTsKCmlmIChycHRy
ID4gd3B0cikKIMKgwqDCoCBycHRyICs9IGloLT5wdHJfbWFzayArIDE7Cgp3YWl0X2V2ZW50KGln
LT5wcm9jZXNzaW5nLCB7CiDCoMKgwqAgdG1wID0gYW1kZ3B1X2loX2dldF93cHRyKGFkZXYsIGlo
KTsKIMKgwqDCoCB0bXAgfD0gd3B0ciAmIH5paC0+cHRyX21hc2s7CiDCoMKgwqAgaWYgKHRtcCA8
IHdwdHIpCiDCoMKgwqAgwqDCoMKgIHRtcCArPSBpaC0+cHRyX21hc2sgKyAxOwogwqDCoMKgIHdw
dHIgPSB0bXA7CiDCoMKgwqAgd3B0ciA+PSBycHRyOwp9KQoKSSB3b3VsZCBwdXQgdGhlIGNvbmRp
dGlvbiBvZiB0aGUgd2FpdF9ldmVudCBpbnRvIGEgc2VwYXJhdGUgZnVuY3Rpb24gdG8gCm1ha2Ug
aXQgbW9yZSByZWFkYWJsZSBhbmQgbm90IHVzZSBHQ0MgZXh0ZW5zaW9uLCBidXQgZXNzZW50aWFs
bHkgdGhhdCdzIGl0LgoKVGhlIG9ubHkgcHJvYmxlbSB0aGlzIGNvdWxkIGhhdmUgaXMgdGhhdCB0
aGUgd3B0ciB3cmFwcyBhcm91bmQgbXVsdGlwbGUgCnRpbWVzIGJldHdlZW4gd2FrZSB1cHMuIFRv
IGhhbmRsZSB0aGlzIGFzIHdlbGwgd2Ugd291bGQgbmVlZCB0byAKaW5jcmVtZW50IHRoZSB3cmFw
IGFyb3VuZCBjb3VudGVyIGluIGFtZGdwdV9paF9wcm9jZXNzKCkgYXMgd2VsbCwgYnV0IAp0aGlz
IG1lYW5zIHNvbWUgZXh0cmEgb3ZlcmhlYWQgZHVyaW5nIElIIHByb2Nlc3NpbmcuIEFuZCB0aGVu
IEkgd291bGQgCmFsc28gdXNlIDY0Yml0IGNvdW50ZXJzIHRvIG1ha2UgdGhlIHN0dWZmIGVhc2ll
ciB0byBoYW5kbGUuCgpSZWdhcmRzLApDaHJpc3RpYW4uCgo+Cj4gVGhhbmtzLAo+Cj4gSm9uCj4K
Pj4gQ2hyaXN0aWFuLgo+Pgo+Pj4gKwo+Pj4gKyAgICAgc3Bpbl9iZWdpbigpOwo+Pj4gKyAgICAg
d2hpbGUgKHRydWUpIHsKPj4+ICsgICAgICAgICAgICAgYm9vbCBycHRyX3dyYXBwZWQgPSBmYWxz
ZSwgd3B0cl93cmFwcGVkID0gZmFsc2U7Cj4+PiArICAgICAgICAgICAgIHUzMiBycHRyLCB3cHRy
Owo+Pj4gKwo+Pj4gKyAgICAgICAgICAgICBzcGluX2NwdV9yZWxheCgpOwo+Pj4gKwo+Pj4gKyAg
ICAgICAgICAgICAvKiBVcGRhdGUgd3B0ciBjaGVja3BvaW50L3dyYXAgY291bnQgY29tcGFyZS4g
Ki8KPj4+ICsgICAgICAgICAgICAgd3B0ciA9IGFtZGdwdV9paF9nZXRfd3B0cihhZGV2LCBpaCk7
Cj4+PiArICAgICAgICAgICAgIGlmICh3cHRyIDwgcHJldl93cHRyKSB7Cj4+PiArICAgICAgICAg
ICAgICAgICAgICAgd3B0cl93cmFwKys7Cj4+PiArICAgICAgICAgICAgICAgICAgICAgd3B0cl9j
aGVjayA9IHdwdHIgfCAod3B0cl93cmFwIDw8IDMyKTsKPj4+ICsgICAgICAgICAgICAgICAgICAg
ICB3cHRyX3dyYXBwZWQgPSB0cnVlOwo+Pj4gKyAgICAgICAgICAgICB9Cj4+PiArICAgICAgICAg
ICAgIHByZXZfd3B0ciA9IHdwdHI7Cj4+PiArCj4+PiArICAgICAgICAgICAgIC8qIE9yZGVyIHdw
dHIgd2l0aCBycHRyLiAqLwo+Pj4gKyAgICAgICAgICAgICBybWIoKTsKPj4+ICsKPj4+ICsgICAg
ICAgICAgICAgLyogVXBkYXRlIHJwdHIvd3JhcCBjb3VudCBjb21wYXJlLiAqLwo+Pj4gKyAgICAg
ICAgICAgICBycHRyID0gUkVBRF9PTkNFKGloLT5ycHRyKTsKPj4+ICsgICAgICAgICAgICAgaWYg
KHJwdHIgPCBwcmV2X3JwdHIpIHsKPj4+ICsgICAgICAgICAgICAgICAgICAgICBycHRyX3dyYXAr
KzsKPj4+ICsgICAgICAgICAgICAgICAgICAgICBycHRyX3dyYXBwZWQgPSB0cnVlOwo+Pj4gKyAg
ICAgICAgICAgICB9Cj4+PiArICAgICAgICAgICAgIHJwdHJfY2hlY2sgPSBycHRyIHwgKHJwdHJf
d3JhcCA8PCAzMik7Cj4+PiArICAgICAgICAgICAgIHByZXZfcnB0ciA9IHJwdHI7Cj4+PiArCj4+
PiArICAgICAgICAgICAgIC8qIFdyYXBwaW5nIG9jY3VycmVkIHNvIHJlc3RhcnQuICovCj4+PiAr
ICAgICAgICAgICAgIGlmIChycHRyX3dyYXBwZWQgfHwgd3B0cl93cmFwcGVkKQo+Pj4gKyAgICAg
ICAgICAgICAgICAgICAgIGNvbnRpbnVlOwo+Pj4gKwo+Pj4gKyAgICAgICAgICAgICAvKiBFeGl0
IG9uIHJlYWNoaW5nIG9yIHBhc3NpbmcgY2hlY2twb2ludC4gKi8KPj4+ICsgICAgICAgICAgICAg
aWYgKHJwdHJfY2hlY2sgPj0gd3B0cl9jaGVjayAmJgo+Pj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBycHRyID49ICh3cHRyX2NoZWNrICYgaWgtPnB0cl9tYXNrKSkKPj4+
ICsgICAgICAgICAgICAgICAgICAgICBicmVhazsKPj4+ICsgICAgIH0KPj4+ICsgICAgIHNwaW5f
ZW5kKCk7Cj4+PiArCj4+PiArICAgICByZXR1cm4gMDsKPj4+ICt9Cj4+PiArCj4+PiAgICAvKioK
Pj4+ICAgICAqIGFtZGdwdV9paF9wcm9jZXNzIC0gaW50ZXJydXB0IGhhbmRsZXIKPj4+ICAgICAq
Cj4+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2loLmgK
Pj4+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2loLmgKPj4+IGluZGV4IDZl
ZDRhODVmYzdjMy4uNjgxN2YwYTgxMmQyIDEwMDY0NAo+Pj4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvYW1kZ3B1X2loLmgKPj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2FtZGdwdV9paC5oCj4+PiBAQCAtODcsNiArODcsOCBAQCBpbnQgYW1kZ3B1X2loX3Jpbmdf
aW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKPj4gc3RydWN0IGFtZGdwdV9paF9yaW5n
ICppaCwKPj4+ICAgIHZvaWQgYW1kZ3B1X2loX3JpbmdfZmluaShzdHJ1Y3QgYW1kZ3B1X2Rldmlj
ZSAqYWRldiwgc3RydWN0Cj4+IGFtZGdwdV9paF9yaW5nICppaCk7Cj4+PiAgICB2b2lkIGFtZGdw
dV9paF9yaW5nX3dyaXRlKHN0cnVjdCBhbWRncHVfaWhfcmluZyAqaWgsIGNvbnN0IHVpbnQzMl90
ICppdiwKPj4+ICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBpbnQgbnVtX2R3KTsK
Pj4+ICtpbnQgYW1kZ3B1X2loX3dhaXRfb25fY2hlY2twb2ludF9wcm9jZXNzKHN0cnVjdCBhbWRn
cHVfZGV2aWNlCj4+ICphZGV2LAo+Pj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBzdHJ1Y3QgYW1kZ3B1X2loX3JpbmcgKmloKTsKPj4+ICAgIGludCBhbWRncHVfaWhfcHJv
Y2VzcyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgc3RydWN0Cj4+IGFtZGdwdV9paF9yaW5n
ICppaCk7Cj4+PiAgICB2b2lkIGFtZGdwdV9paF9kZWNvZGVfaXZfaGVscGVyKHN0cnVjdCBhbWRn
cHVfZGV2aWNlICphZGV2LAo+Pj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVj
dCBhbWRncHVfaWhfcmluZyAqaWgsCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNr
dG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2Ft
ZC1nZngK
