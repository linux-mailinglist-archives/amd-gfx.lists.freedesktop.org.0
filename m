Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id E70ADE24DE
	for <lists+amd-gfx@lfdr.de>; Wed, 23 Oct 2019 23:05:18 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 791226EB93;
	Wed, 23 Oct 2019 21:05:17 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM04-CO1-obe.outbound.protection.outlook.com
 (mail-eopbgr690082.outbound.protection.outlook.com [40.107.69.82])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7A2DA6EB93
 for <amd-gfx@lists.freedesktop.org>; Wed, 23 Oct 2019 21:05:16 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=ZisPjThRc1/mQecOVm2MEgrSWlnGqG93lh+9WsWoYNGvEF2JZsx5qmB1HWwK9rED77KRSilfpsTCvhC0LO4FmasFPgoNdvCBZcSQgFM3rxDx/egljDN2f//IvjT1YAhXpRhgUXB892dhGc/va1u5QVi8QDno4+Mg1ta2H9wcvTlH9wrZFCW+C3abzzhx4qDYRwU7v3ly4/8UKxOpAPfGidSCEjQ9VF66SsFDkIgF6fW3xTjprh5zzaamk5OC7Bq3EQ6eeV/U9Pl1rfE8/q/pM/x5L6Gc7LABMkzJSnJBGaHy23MmIHOSGV2NAHEXqzYOh/YEG2KLfomVkv6n4nLnsQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=7M3FWI4/PAxsliG0oYuzyGvQGU+9xG0bzImgrpMgbbc=;
 b=EWS+Dudw3RoHu1gCvDv43LtV6IHpfy6nlPp1itGWdgLEgH8B0Pncolm/AWdcEZ/GTxAyY3mOAf7RQdm2iAHjeGQMD7j5qSqyorroMll9Hr62zUhjBN85WBM15cRWXIl9Rr73NEMCTQf0k5ltQ8g5m6/+TfjO9sfoZQDMkI8rfXauMX40lff1XUCH3D/dDvdK7Z4uuT0MxgN9UoM+ax9okCkwDEiUX5PzqKx63xgFvjfub4BYdDrKJuhUnfXULvesUIv5yi/L/lN/EHZgVcdhn4cq6ylPCtEAHYyEmISNDYGQsmujJIi5cRNy2Wq77+beBd3VBNvMmHMK01T88YQKVg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from DM6PR12MB3355.namprd12.prod.outlook.com (20.178.198.10) by
 DM6PR12MB3018.namprd12.prod.outlook.com (20.178.30.11) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2387.20; Wed, 23 Oct 2019 21:05:13 +0000
Received: from DM6PR12MB3355.namprd12.prod.outlook.com
 ([fe80::6006:422c:ecdf:e550]) by DM6PR12MB3355.namprd12.prod.outlook.com
 ([fe80::6006:422c:ecdf:e550%6]) with mapi id 15.20.2367.022; Wed, 23 Oct 2019
 21:05:13 +0000
From: "Tuikov, Luben" <Luben.Tuikov@amd.com>
To: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: [PATCH] Ring range argument improvements
Thread-Topic: [PATCH] Ring range argument improvements
Thread-Index: AQHVieWPDhSkvPvjk0mFXmmhpueK2g==
Date: Wed, 23 Oct 2019 21:05:12 +0000
Message-ID: <20191023210441.19992-1-luben.tuikov@amd.com>
Accept-Language: en-CA, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: YTBPR01CA0021.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:b01:14::34) To DM6PR12MB3355.namprd12.prod.outlook.com
 (2603:10b6:5:38::10)
x-ms-exchange-messagesentrepresentingtype: 1
x-mailer: git-send-email 2.23.0.385.gbc12974a89
x-originating-ip: [165.204.55.250]
x-ms-publictraffictype: Email
x-ms-office365-filtering-ht: Tenant
x-ms-office365-filtering-correlation-id: 4c3c0f4f-bc58-49c8-26bb-08d757fcb20a
x-ms-traffictypediagnostic: DM6PR12MB3018:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <DM6PR12MB3018C4D2CA906C2C59D4F12F996B0@DM6PR12MB3018.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:4502;
x-forefront-prvs: 019919A9E4
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(396003)(346002)(376002)(39860400002)(136003)(366004)(199004)(189003)(25786009)(8936002)(4326008)(1076003)(8676002)(81156014)(316002)(2351001)(256004)(6512007)(14444005)(5640700003)(52116002)(50226002)(486006)(6916009)(2906002)(81166006)(6486002)(6436002)(99286004)(478600001)(6116002)(3846002)(14454004)(2616005)(476003)(26005)(5660300002)(186003)(36756003)(86362001)(305945005)(66066001)(7736002)(71190400001)(71200400001)(386003)(6506007)(2501003)(66446008)(66946007)(102836004)(66476007)(64756008)(66556008)(54906003);
 DIR:OUT; SFP:1101; SCL:1; SRVR:DM6PR12MB3018;
 H:DM6PR12MB3355.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: Y80JwMhBTczYQtGHXrhDSaACGxdD0NjQrKvHrEHYVOuKjG0JKTlG420BXfwd487LLEcCuuPACuLB1NwsYsSiDlmdB/f8bZI8fyBCNd0iPMt1OqTN1iqKI2iB+Vscq2SQVsMjHyZpjxvc/zUfgK3i9KK+aDejPPWy1NRWGH9YHgfjzoDWq2SBWVJWmsSEnfezGoZOUcHkS8fMEXCKMFZyJIZJsHLWlxvbRDSx5NFO1/QUFlV7NRe41Ot2MiB9idhc+6c1av0Msca+FqS1WfY3m9rUtLjOuIGFNPp+rAI24yhzPrH/FQY22UT8UOHLSxoqBuwvnv+aJTzPfWCsKF9oEgb7JOxs/TmNeHwXlF+bGq7rG9T7IrFeeZgDg4FDOUQeIZFqc0nBxOWnuDKq9oVgtq7SL8kjbo9xJHaigcY0gS7SWLIIJog9jTG2xV5EmiKk
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 4c3c0f4f-bc58-49c8-26bb-08d757fcb20a
X-MS-Exchange-CrossTenant-originalarrivaltime: 23 Oct 2019 21:05:12.8987 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: FnTkeaqvdB/bygWMeuANgjhoWhovbtDSPlpRV514PssmAqKdnbb2H7HP7Gu2NVE5
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM6PR12MB3018
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=7M3FWI4/PAxsliG0oYuzyGvQGU+9xG0bzImgrpMgbbc=;
 b=10arCsu1fx8f2BBgZlZxJdSjEN/8cTk2wTQDZmJIoXmUwF78hLmSsUT4KUhmCpvtw9viyYHuo3UFakpNwVjOp0mroWTMrbK9jnT5BXSMgINYB/UALXQXuOXXCUWPtiGZ9N0cernMBGYFAQU0ij4Q+hGi6ZT7661/QVsPAglMnCA=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Luben.Tuikov@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "StDenis, Tom" <Tom.StDenis@amd.com>, "Tuikov,
 Luben" <Luben.Tuikov@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

VGhlIHZhbGlkIGNvbnRlbnRzIG9mIHJpbmdzIGlzIGludmFyaWFibHkgdGhlCnJhbmdlIFtycHRy
LCB3cHRyKS4gQXVnbWVudCB0aGUgcmluZyByYW5nZSB0bwppbnRlcnByZXQgdGhlICcuJyAoImhl
cmUiKSBub3RhdGlvbiB0byBtZWFuIHJwdHIKb3Igd3B0ciB3aGVuIGdpdmVuIG9uIHRoZSBsZWZ0
IG9yIHJpZ2h0IG9mIHRoZQpyYW5nZSBsaW1pdHMuIFRoaXMgYXVnbWVudHMgdGhlIHJhbmdlIG5v
dGF0aW9uIGFzCmZvbGxvd3M6CgoxKSBObyByYW5nZSBnaXZlbiwgcHJpbnQgdGhlIHdob2xlIHJp
bmcuCgoyKSBbLl0gb3IgWy46Ll0sIHByaW50IFtycHRyLCB3cHRyXSwKCjMpIFsuOmtdLCBrID49
IDAsIHByaW50IFtycHRyLCBycHRyICsga10sIHRoaXMgaXMKYSByYW5nZSByZWxhdGl2ZSB0byB0
aGUgbGVmdCBsaW1pdCwgcnB0ciwgdGhlCmNvbnN1bWVyIHBvaW50ZXIuCgo0KSBbazouXSBvciBb
a10sIGsgPj0gMCwgcHJpbnQgW3dwdHIgLSBrLCB3cHRyXSwgdGhpcyBpcwphIHJhbmdlIHJlbGF0
aXZlIHRvIHRoZSByaWdodCBsaW1pdCwgd3B0ciwgdGhlCnByb2R1Y2VyIHBvaW50ZXIuCgo1KSBb
azpyXSwgYm90aCBncmVhdGVyIHRoZW4gMCwgcHJpbnQgW2sscl0gb2YgdGhlCm5hbWVkIHJpbmcu
IFRoaXMgaXMgYW4gYWJzb2x1dGUgcmFuZ2UgbGltaXQKbm90YXRpb24uCgpJbiBhbnkgY2FzZSwg
dGhlIHJpbmcgY29udGVudHMgaXMgaW50ZXJwcmV0ZWQsIGlmCnRoZSByaW5nIGNvbnRlbnRzIGNh
biBiZSBpbnRlcnByZXRlZC4KClNpZ25lZC1vZmYtYnk6IEx1YmVuIFR1aWtvdiA8bHViZW4udHVp
a292QGFtZC5jb20+Ci0tLQogZG9jL3Vtci4xICAgICAgICAgICB8IDMzICsrKysrKysrKysrKysr
KysrKy0tLS0tLS0tCiBzcmMvYXBwL3JpbmdfcmVhZC5jIHwgNTYgKysrKysrKysrKysrKysrKysr
KysrKysrKysrKystLS0tLS0tLS0tLS0tLS0tCiAyIGZpbGVzIGNoYW5nZWQsIDU5IGluc2VydGlv
bnMoKyksIDMwIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RvYy91bXIuMSBiL2RvYy91bXIu
MQppbmRleCAxZTU4NWZhLi41NGI2YTk5IDEwMDY0NAotLS0gYS9kb2MvdW1yLjEKKysrIGIvZG9j
L3Vtci4xCkBAIC0yMTYsMTcgKzIxNiwzMCBAQCBEaXNhc3NlbWJsZSAnc2l6ZScgYnl0ZXMgKGlu
IGhleCkgZnJvbSBhIGdpdmVuIGFkZHJlc3MgKGluIGhleCkuICBUaGUgc2l6ZSBjYW4gYgogc3Bl
Y2lmaWVkIGFzIHplcm8gdG8gaGF2ZSB1bXIgdHJ5IGFuZCBjb21wdXRlIHRoZSBzaGFkZXIgc2l6
ZS4KIAogLlNIIFJpbmcgYW5kIFBNNCBEZWNvZGluZwotLklQICItLXJpbmcsIC1SIDxzdHJpbmc+
KGZyb206dG8pIgotUmVhZCB0aGUgY29udGVudHMgb2YgYSByaW5nIG5hbWVkIGJ5IHRoZSBzdHJp
bmcgd2l0aG91dCB0aGUKLS5CIGFtZGdwdV9yaW5nXwotcHJlZml4LiAgQnkgZGVmYXVsdCBpdCB3
aWxsIHJlYWQgYW5kIGRpc3BsYXkgdGhlIGVudGlyZSByaW5nLiAgQQotc3RhcnRpbmcgYW5kIGVu
ZGluZyBhZGRyZXNzIGNhbiBiZSBzcGVjaWZpZWQgaW4gZGVjaW1hbCBvciBhICcuJyBjYW4KLWJl
IHVzZWQgdG8gaW5kaWNhdGUgcmVsYXRpdmUgdG8gdGhlIGN1cnJlbnQKKy5JUCAiLS1yaW5nLCAt
UiA8c3RyaW5nPltyYW5nZV0iCitSZWFkIHRoZSBjb250ZW50cyBvZiB0aGUgcmluZyBuYW1lZCBi
eSB0aGUgc3RyaW5nCisuQiBhbWRncHVfcmluZ188c3RyaW5nPiwKK2kuZS4gd2l0aG91dCB0aGUK
Ky5CIGFtZGdwdV9yaW5nCitwcmVmaXguIEJ5IGRlZmF1bHQgaXQgcmVhZHMgYW5kIHByaW50cyB0
aGUgZW50aXJlIHJpbmcuICBBCityYW5nZSBpcyBvcHRpb25hbCBhbmQgaGFzIHRoZSBmb3JtYXQg
J1tzdGFydDplbmRdJy4gVGhlCitzdGFydGluZyBhbmQgZW5kaW5nIGFkZHJlc3MgYXJlIG5vbi1u
ZWdhdGl2ZSBpbnRlZ2VycyBvcgordGhlICcuJyAoZG90KSBzeW1ib2wsIHdoaWNoIGluZGljYXRl
cyB0aGUKKy5CIHJwdHIKK3doZW4gb24gdGhlIGxlZnQgc2lkZSBhbmQKIC5CIHdwdHIKLXBvaW50
ZXIuICBGb3IgZXhhbXBsZSwgIi1SIGdmeCIgd291bGQgcmVhZCB0aGUgZW50aXJlIGdmeCByaW5n
LAotIi1SIGdmeFswOjE2XSIgd291bGQgZGlzcGxheSB0aGUgY29udGVudHMgZnJvbSAwIHRvIDE2
IGluY2x1c2l2ZWx5LCBhbmQKLSItUiBnZnhbLl0iIG9yICItUiBnZnhbLjouXSIgd291bGQgZGlz
cGxheSB0aGUgbGFzdCAzMiB3b3JkcyByZWxhdGl2ZQotdG8gcnB0ci4KK3doZW4gb24gdGhlIHJp
Z2h0IHNpZGUgb2YgdGhlIHJhbmdlLgorRm9yIGluc3RhbmNlLAorIi1SIGdmeCIgcmVhZHMgdGhl
IGVudGlyZSBnZnggcmluZywgIi1SIGdmeFswOjE2XSIgcHJpbnRzCit0aGUgY29udGVudHMgZnJv
bSAwIHRvIDE2IGluY2x1c2l2ZWx5LCBhbmQgIi1SIGdmeFsuXSIgb3IKKyItUiBnZnhbLjouXSIg
cHJpbnRzIHRoZSByYW5nZSBbcnB0cjp3cHRyXS4gV2hlbiBvbmUgb2YKK3RoZSByYW5nZSBsaW1p
dCBpcyBhIG51bWJlciB3aGlsZSB0aGUgb3RoZXIgaXMgdGhlIGRvdCwgJy4nLAordGhlbiB0aGUg
bnVtYmVyIGluZGljYXRlcyB0aGUgcmVsYXRpdmUgcmFuZ2UgYmVmb3JlIG9yIGFmdGVyIHRoZQor
Y29ycmVzcG9uZGluZyByaW5nIHBvaW50ZXIuIEZvciBpbnN0YW5jZSwgIi1SIHNkbWEwWzE2Oi5d
IgorcHJpbnRzIFt3cHRyLTE2LCB3cHRyXSB3b3JkcyBvZiB0aGUgU0RNQTAgcmluZywgYW5kCisi
LVIgc2RtYTFbLjozMl0iIHByaW50cyBbcnB0ciwgcnB0ciszMl0gZG91YmxlLXdvcmRzIG9mIHRo
ZQorU0RNQTEgcmluZy4gVGhlIGNvbnRlbnRzIG9mIHRoZSByaW5nIGlzIGFsd2F5cyBpbnRlcnBy
ZXRlZCwKK2lmIGl0IGNhbiBiZSBpbnRlcnByZXRlZC4KIC5JUCAiLS1kdW1wLWliLCAtZGkgW3Zt
aWRAXWFkZHJlc3MgbGVuZ3RoIFtwbV0iCiBEdW1wIGFuIElCIHBhY2tldCBhdCBhbiBhZGRyZXNz
IHdpdGggYW4gb3B0aW9uYWwgVk1JRC4gIFRoZSBsZW5ndGggaXMgc3BlY2lmaWVkCiBpbiBieXRl
cy4gIFRoZSB0eXBlIG9mIGRlY29kZXIgPHBtPiBpcyBvcHRpb25hbCBhbmQgZGVmYXVsdHMgdG8g
UE00IHBhY2tldHMuCmRpZmYgLS1naXQgYS9zcmMvYXBwL3JpbmdfcmVhZC5jIGIvc3JjL2FwcC9y
aW5nX3JlYWQuYwppbmRleCBlZjBjNzExLi4zMWVhZDFlIDEwMDY0NAotLS0gYS9zcmMvYXBwL3Jp
bmdfcmVhZC5jCisrKyBiL3NyYy9hcHAvcmluZ19yZWFkLmMKQEAgLTI4LDcgKzI4LDcgQEAKIHZv
aWQgdW1yX3JlYWRfcmluZyhzdHJ1Y3QgdW1yX2FzaWMgKmFzaWMsIGNoYXIgKnJpbmdwYXRoKQog
ewogCWNoYXIgcmluZ25hbWVbMzJdLCBmcm9tWzMyXSwgdG9bMzJdOwotCWludCB1c2VfZGVjb2Rl
ciwgZW5hYmxlX2RlY29kZXIsIGdwcnM7CisJaW50ICBlbmFibGVfZGVjb2RlciwgZ3ByczsKIAl1
aW50MzJfdCB3cHRyLCBycHRyLCBkcnZfd3B0ciwgcmluZ3NpemUsIHN0YXJ0LCBlbmQsIHZhbHVl
LAogCQkgKnJpbmdfZGF0YTsKIAlzdHJ1Y3QgdW1yX3JpbmdfZGVjb2RlciBkZWNvZGVyLCAqcGRl
Y29kZXIsICpwcGRlY29kZXI7CkBAIC03MywzMyArNzMsNTAgQEAgdm9pZCB1bXJfcmVhZF9yaW5n
KHN0cnVjdCB1bXJfYXNpYyAqYXNpYywgY2hhciAqcmluZ3BhdGgpCiAJZHJ2X3dwdHIgPSByaW5n
X2RhdGFbMl08PDI7CiAKIAkvKiBkZWZhdWx0IHRvIHJlYWRpbmcgZW50aXJlIHJpbmcgKi8KLQl1
c2VfZGVjb2RlciA9IDA7CiAJaWYgKCFmcm9tWzBdKSB7CiAJCXN0YXJ0ID0gMDsKIAkJZW5kICAg
PSByaW5nc2l6ZS00OwogCX0gZWxzZSB7Ci0JCWlmIChmcm9tWzBdID09ICcuJyB8fCAhdG9bMF0g
fHwgdG9bMF0gPT0gJy4nKSB7Ci0JCQkvKiBzdGFydCBmcm9tIDMyIHdvcmRzIHByaW9yIHRvIHJw
dHIgdXAgdG8gd3B0ciAqLwotCQkJZW5kID0gd3B0cjsKLQkJCWlmIChycHRyIDwgKDMxKjQpKSB7
Ci0JCQkJc3RhcnQgPSBycHRyIC0gMzEqNDsKLQkJCQlzdGFydCArPSByaW5nc2l6ZTsKKwkJaWYg
KGZyb21bMF0gPT0gJy4nKSB7CisJCQlpZiAodG9bMF0gPT0gMCB8fCB0b1swXSA9PSAnLicpIHsK
KwkJCQkvKiBOb3RhdGlvbjogWy5dIG9yIFsuOi5dLCBtZWFuaW5nCisJCQkJICogW3JwdHIsIHdw
dHJdLgorCQkJCSAqLworCQkJCXN0YXJ0ID0gcnB0cjsKKwkJCQllbmQgPSB3cHRyOwogCQkJfSBl
bHNlIHsKLQkJCQlzdGFydCA9IHJwdHIgLSAzMSo0OworCQkJCS8qIE5vdGF0aW9uOiBbLjprXSwg
ayA+PTAsIG1lYW5pbmcKKwkJCQkgKiBbcnB0ciwgcnRwcitrXSBkb3VibGUtd29yZHMuCisJCQkJ
ICovCisJCQkJc3RhcnQgPSBycHRyOworCQkJCXNzY2FuZih0bywgIiUiU0NOdTMyLCAmZW5kKTsK
KwkJCQllbmQgKj0gNDsKKwkJCQllbmQgPSAoc3RhcnQgKyBlbmQgKyByaW5nc2l6ZSkgJSByaW5n
c2l6ZTsKIAkJCX0KLQogCQl9IGVsc2UgewogCQkJc3NjYW5mKGZyb20sICIlIlNDTnUzMiwgJnN0
YXJ0KTsKLQkJCXNzY2FuZih0bywgIiUiU0NOdTMyLCAmZW5kKTsKIAkJCXN0YXJ0ICo9IDQ7Ci0J
CQllbmQgKj0gNDsKLQkJCXVzZV9kZWNvZGVyID0gMTsKLQkJCWRlY29kZXIucG00LmN1cl9vcGNv
ZGUgPSAweEZGRkZGRkZGOwotCQkJZGVjb2Rlci5zZG1hLmN1cl9vcGNvZGUgPSAweEZGRkZGRkZG
OworCisJCQlpZiAodG9bMF0gPT0gJy4nKSB7CisJCQkJLyogW2s6Ll0gPT0+IFt3cHRyIC0gaywg
d3B0cl0KKwkJCQkgKi8KKwkJCQlzdGFydCA9ICh3cHRyIC0gc3RhcnQgKyByaW5nc2l6ZSkgJSBy
aW5nc2l6ZTsKKwkJCQllbmQgPSB3cHRyOworCQkJfSBlbHNlIGlmICh0b1swXSAhPSAwKSB7CisJ
CQkJLyogW2s6cl0gPT0+IGFic29sdXRlIFtrLCByXS4KKwkJCQkgKi8KKwkJCQlzc2NhbmYodG8s
ICIlIlNDTnUzMiwgJmVuZCk7CisJCQkJZW5kICo9IDQ7CisJCQkJc3RhcnQgJT0gcmluZ3NpemU7
CisJCQkJZW5kICU9IHJpbmdzaXplOworCQkJfSBlbHNlIHsKKwkJCQkvKiBba10gPT0+IFt3cHRy
LWssIHdwdHJdLgorCQkJCSAqLworCQkJCXN0YXJ0ID0gKHdwdHIgLSBzdGFydCArIHJpbmdzaXpl
KSAlIHJpbmdzaXplOworCQkJCWVuZCA9IHdwdHI7CisJCQl9CiAJCX0KIAl9Ci0JZW5kICU9IHJp
bmdzaXplOwotCXN0YXJ0ICU9IHJpbmdzaXplOwogCiAJLyogZHVtcCBkYXRhICovCiAJcHJpbnRm
KCJcbiVzLiVzLnJwdHIgPT0gJWx1XG4lcy4lcy53cHRyID09ICVsdVxuJXMuJXMuZHJ2X3dwdHIg
PT0gJWx1XG4iLApAQCAtMTEzLDggKzEzMCw3IEBAIHZvaWQgdW1yX3JlYWRfcmluZyhzdHJ1Y3Qg
dW1yX2FzaWMgKmFzaWMsIGNoYXIgKnJpbmdwYXRoKQogCQkJYXNpYy0+YXNpY25hbWUsIHJpbmdu
YW1lLAogCQkJQkxVRSwgKHVuc2lnbmVkIGxvbmcpc3RhcnQgPj4gMiwgUlNULAogCQkJWUVMTE9X
LCAodW5zaWduZWQgbG9uZyl2YWx1ZSwgUlNUKTsKLQkJaWYgKGVuYWJsZV9kZWNvZGVyICYmIHN0
YXJ0ID09IHJwdHIgJiYgc3RhcnQgIT0gd3B0cikgewotCQkJdXNlX2RlY29kZXIgPSAxOworCQlp
ZiAoZW5hYmxlX2RlY29kZXIpIHsKIAkJCWRlY29kZXIucG00LmN1cl9vcGNvZGUgPSAweEZGRkZG
RkZGOwogCQkJZGVjb2Rlci5zZG1hLmN1cl9vcGNvZGUgPSAweEZGRkZGRkZGOwogCQl9CkBAIC0x
MjMsNyArMTM5LDcgQEAgdm9pZCB1bXJfcmVhZF9yaW5nKHN0cnVjdCB1bXJfYXNpYyAqYXNpYywg
Y2hhciAqcmluZ3BhdGgpCiAJCQkoc3RhcnQgPT0gd3B0cikgPyAndycgOiAnLicsCiAJCQkoc3Rh
cnQgPT0gZHJ2X3dwdHIpID8gJ0QnIDogJy4nKTsKIAkJZGVjb2Rlci5uZXh0X2liX2luZm8uYWRk
ciA9IHN0YXJ0IC8gNDsKLQkJaWYgKHVzZV9kZWNvZGVyKQorCQlpZiAoZW5hYmxlX2RlY29kZXIp
CiAJCQl1bXJfcHJpbnRfZGVjb2RlKGFzaWMsICZkZWNvZGVyLCB2YWx1ZSk7CiAJCXByaW50Zigi
XG4iKTsKIAkJc3RhcnQgKz0gNDsKLS0gCjIuMjMuMC4zODUuZ2JjMTI5NzRhODkKCl9fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmFtZC1nZnggbWFpbGluZyBs
aXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0
b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeA==
