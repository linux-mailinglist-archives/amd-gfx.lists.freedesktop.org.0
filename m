Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id D25E98703E
	for <lists+amd-gfx@lfdr.de>; Fri,  9 Aug 2019 05:44:38 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 78FF76ECF2;
	Fri,  9 Aug 2019 03:44:37 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM04-BN3-obe.outbound.protection.outlook.com
 (mail-eopbgr680063.outbound.protection.outlook.com [40.107.68.63])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 641F96ECF2
 for <amd-gfx@lists.freedesktop.org>; Fri,  9 Aug 2019 03:44:36 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=oL2ifWqh5KL+60hyhqEQpuwFpOA6LFJc7QtO81/EB6D3lJgHLXPL3hhzHQrIQojnZmDmiePoAXaohiKcr/GMkIaUGAx1cwYOmRCqQXSjACUTR60+OKTgU869RLPnWDEC2sAy6e9IDzTaEKQgT4ZbR4usf3lIjOTAht+fWFMeuyWYPldUkEZD3F4hbujYiNJ5foEXr3zL/Sq4VM1t1z1iMeYXdoecWiaacQImGUgQee0eSHDhqPWnOmG2tpU+RgcnkWWplcEEujSu/CcWNiqHLmgZrX5PDY7ZKO9MZzi68vqiviAlmymB+aTNh28mx+OVGQ86K23PkbHF8ExQjxVpyA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=/dl7PgqiRhDijXcZJQq3v+4cgctraH24K9SgjUHu38o=;
 b=li8LypU7n2N6oZcnScr1PuEU6Be/KMG+RWaALXYD4rfiEwbtJruVbuVh+agEx+Xp3RdhYLgMQXvoz6iIjY3aWQSyX1duYRRrDO9jbGWQs79aSxbt898ZQSv6MpdatGVk1Ic8r90ocONMlwtPSEiKJTpD9tCsy+K8FKN3VJ6p2Mm4x4+IdLYah21wkrVljN9WCOnSxUnFVt1xHn9bABROQfyc0ht7WWPtdJaK5Nqx7O8Ry2O/fuTDFqgu91RDHoHghiUyRi2HBLfy1zV146RV2JD1kMSFlgj2Qx9ccwndA7VyEhJfxPTI/O+SciR5CjOhWJrTIHJBfhC/IZZxRijPKw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from CH2PR12MB3767.namprd12.prod.outlook.com (52.132.244.213) by
 CH2PR12MB3864.namprd12.prod.outlook.com (52.132.245.214) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2157.18; Fri, 9 Aug 2019 03:44:33 +0000
Received: from CH2PR12MB3767.namprd12.prod.outlook.com
 ([fe80::503b:f594:5d08:d729]) by CH2PR12MB3767.namprd12.prod.outlook.com
 ([fe80::503b:f594:5d08:d729%7]) with mapi id 15.20.2157.015; Fri, 9 Aug 2019
 03:44:33 +0000
From: "Xu, Feifei" <Feifei.Xu@amd.com>
To: "Ma, Le" <Le.Ma@amd.com>, "amd-gfx@lists.freedesktop.org"
 <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH 1/1] drm/amdgpu: split athub clock gating from mmhub
Thread-Topic: [PATCH 1/1] drm/amdgpu: split athub clock gating from mmhub
Thread-Index: AQHVTdSZWFpwuHbKX0GWqGzjpzIqf6byLcTA
Date: Fri, 9 Aug 2019 03:44:33 +0000
Message-ID: <CH2PR12MB376749C83AB241FA9CAC807DFED60@CH2PR12MB3767.namprd12.prod.outlook.com>
References: <1565260342-31106-1-git-send-email-le.ma@amd.com>
In-Reply-To: <1565260342-31106-1-git-send-email-le.ma@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 74093a8a-a1c9-48c0-ee06-08d71c7be44f
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:CH2PR12MB3864; 
x-ms-traffictypediagnostic: CH2PR12MB3864:
x-ms-exchange-purlcount: 1
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <CH2PR12MB3864DE5D1ED5E66A1BC5C0DAFED60@CH2PR12MB3864.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:9508;
x-forefront-prvs: 01244308DF
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(396003)(366004)(39860400002)(136003)(376002)(346002)(199004)(189003)(13464003)(7696005)(6116002)(6306002)(55016002)(3846002)(30864003)(99286004)(6436002)(229853002)(2906002)(5660300002)(486006)(52536014)(256004)(14444005)(6506007)(33656002)(86362001)(476003)(966005)(26005)(11346002)(446003)(14454004)(71200400001)(71190400001)(53546011)(186003)(478600001)(102836004)(76176011)(2501003)(53936002)(66946007)(66446008)(64756008)(25786009)(4326008)(6246003)(7736002)(74316002)(305945005)(76116006)(316002)(81166006)(9686003)(8676002)(81156014)(66556008)(110136005)(66476007)(8936002)(66066001);
 DIR:OUT; SFP:1101; SCL:1; SRVR:CH2PR12MB3864;
 H:CH2PR12MB3767.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: wTKrjZgYUpHPonCnszy0bnvqoIxF8VGzK+tCunl1ab9qO4vBPoJuswDJGwuSIYY2UAy71BkBi6TkoP+fYs9NCteduFFAB9gw8XrV7SH0XvGyi4vsOhDe7mjZMQjGnY0ukeAr/tMUPsWc7OhlAQKONsJJ2sXvbOAlHvxBl/uRIH97bss61IxsO9ee1KGLernACKHaFV1SymMEJXHIBUVRv6Xj/OD524DY7PzvARC9vG9ssYNQydbbHaJUWUG7iJqIhCvF5r4D6vHFE/W0v2tskAYpLPJOoLIrRY1/h3ejyl7PTF/iis4RmXPyik8tAvNP7JgYlGOAmCtU6+xTvs9WzRov49ShCSGbsf5ix2EkMWWBJqGu4zjYx7j+OrmE5Mb0yUyqQX5L4jOoDhjFKvUurk2xE2T1YlVg5yI+Kz9V7qs=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 74093a8a-a1c9-48c0-ee06-08d71c7be44f
X-MS-Exchange-CrossTenant-originalarrivaltime: 09 Aug 2019 03:44:33.2103 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: v/+mIgbZbUc/+N36ipOhhVnHxnaYGaxc859aRLXgd+9Uh0Jdf1BLIfUlr44FFMrR
X-MS-Exchange-Transport-CrossTenantHeadersStamped: CH2PR12MB3864
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=/dl7PgqiRhDijXcZJQq3v+4cgctraH24K9SgjUHu38o=;
 b=SQx20Fxc3E4RxgkO8ti/h5A4n9/AhVhZ3qgi0fPoxjnBYcKtbZjaSJkRb5f0Rqx2b9rwM94LQy7U0greYYu+5XoXlZgg7Qn7R094jSRGAS6yHzDXWskZgLOPcwDHEX1ifLQi5dcdRs2PUntKEXE74yTeFt6VcesxwcwvCaD1xKs=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Feifei.Xu@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Ma, Le" <Le.Ma@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

U2VyaWVyIGlzIFJldmlld2VkLWJ5OiBGZWlmZWkgWHUgPEZlaWZlaS5YdUBhbWQuY29tPg0KDQot
LS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KRnJvbTogYW1kLWdmeCA8YW1kLWdmeC1ib3VuY2Vz
QGxpc3RzLmZyZWVkZXNrdG9wLm9yZz4gT24gQmVoYWxmIE9mIExlIE1hDQpTZW50OiBUaHVyc2Rh
eSwgQXVndXN0IDgsIDIwMTkgNjozMiBQTQ0KVG86IGFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Au
b3JnDQpDYzogTWEsIExlIDxMZS5NYUBhbWQuY29tPg0KU3ViamVjdDogW1BBVENIIDEvMV0gZHJt
L2FtZGdwdTogc3BsaXQgYXRodWIgY2xvY2sgZ2F0aW5nIGZyb20gbW1odWINCg0KVW50aWUgdGhl
IGJpbmQgb2YgZ2V0L3NldCBhdGh1YiBDRyBzdGF0ZSBmcm9tIG1taHViLCBmb3IgY29zbWV0aWMg
Zml4IGFuZCBBc2ljIG5vdCB1c2luZyBtbWh1YiAxLjAuIEJlc2lkZXMsIGFsc28gZml4IHdyb25n
IGF0aHViIENHIHN0YXRlIGluIGFtZGdwdV9wbV9pbmZvLg0KDQpDaGFuZ2UtSWQ6IEk0YmE5NzBj
YWU1NThhZDUxNjNlOTNmYTliYzc3ZjU4OTE5NmEyMmIxDQpTaWduZWQtb2ZmLWJ5OiBMZSBNYSA8
bGUubWFAYW1kLmNvbT4NCi0tLQ0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L01ha2VmaWxl
ICAgICB8ICAgMSArDQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYXRodWJfdjFfMC5jIHwg
MTAzICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrICBkcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9hdGh1Yl92MV8wLmggfCAgMzAgKysrKysrKysrKw0KIGRyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2dtY192OV8wLmMgICB8ICAgOSArKy0NCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9tbWh1Yl92MV8wLmMgfCAgNTUgKysrKy0tLS0tLS0tLS0tLS0NCiA1IGZpbGVzIGNoYW5n
ZWQsIDE1NCBpbnNlcnRpb25zKCspLCA0NCBkZWxldGlvbnMoLSkgIGNyZWF0ZSBtb2RlIDEwMDY0
NCBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hdGh1Yl92MV8wLmMNCiBjcmVhdGUgbW9kZSAx
MDA2NDQgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYXRodWJfdjFfMC5oDQoNCmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9NYWtlZmlsZSBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L01ha2VmaWxlDQppbmRleCA4YWZhMGJjLi40NjRiZmU1IDEwMDY0NA0KLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvTWFrZWZpbGUNCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L01ha2VmaWxlDQpAQCAtMTU0LDYgKzE1NCw3IEBAIGFtZGdwdS15ICs9
IFwNCiANCiAjIGFkZCBBVEhVQiBibG9jaw0KIGFtZGdwdS15ICs9IFwNCisJYXRodWJfdjFfMC5v
IFwNCiAJYXRodWJfdjJfMC5vDQogDQogIyBhZGQgYW1ka2ZkIGludGVyZmFjZXMNCmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hdGh1Yl92MV8wLmMgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9hdGh1Yl92MV8wLmMNCm5ldyBmaWxlIG1vZGUgMTAwNjQ0DQppbmRl
eCAwMDAwMDAwLi5kOWNjNzQ2DQotLS0gL2Rldi9udWxsDQorKysgYi9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hdGh1Yl92MV8wLmMNCkBAIC0wLDAgKzEsMTAzIEBADQorLyoNCisgKiBDb3B5
cmlnaHQgMjAxNiBBZHZhbmNlZCBNaWNybyBEZXZpY2VzLCBJbmMuDQorICoNCisgKiBQZXJtaXNz
aW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiANCitv
YnRhaW5pbmcgYQ0KKyAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1
bWVudGF0aW9uIGZpbGVzICh0aGUgDQorIlNvZnR3YXJlIiksDQorICogdG8gZGVhbCBpbiB0aGUg
U29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgDQorbGltaXRh
dGlvbg0KKyAqIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNo
LCBkaXN0cmlidXRlLCANCitzdWJsaWNlbnNlLA0KKyAqIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0
aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIA0KK3RoZQ0KKyAqIFNv
ZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNv
bmRpdGlvbnM6DQorICoNCisgKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBw
ZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSANCitpbmNsdWRlZCBpbg0KKyAqIGFsbCBjb3BpZXMg
b3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLg0KKyAqDQorICogVEhFIFNP
RlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQs
IA0KK0VYUFJFU1MgT1INCisgKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRP
IFRIRSBXQVJSQU5USUVTIE9GIA0KK01FUkNIQU5UQUJJTElUWSwNCisgKiBGSVRORVNTIEZPUiBB
IFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiAgSU4gTk8gRVZFTlQgDQor
U0hBTEwNCisgKiBUSEUgQ09QWVJJR0hUIEhPTERFUihTKSBPUiBBVVRIT1IoUykgQkUgTElBQkxF
IEZPUiBBTlkgQ0xBSU0sIA0KK0RBTUFHRVMgT1INCisgKiBPVEhFUiBMSUFCSUxJVFksIFdIRVRI
RVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIA0KK09USEVSV0lTRSwNCisgKiBB
UklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9S
IFRIRSBVU0UgDQorT1INCisgKiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuDQorICoN
CisgKi8NCisjaW5jbHVkZSAiYW1kZ3B1LmgiDQorI2luY2x1ZGUgImF0aHViX3YxXzAuaCINCisN
CisjaW5jbHVkZSAiYXRodWIvYXRodWJfMV8wX29mZnNldC5oIg0KKyNpbmNsdWRlICJhdGh1Yi9h
dGh1Yl8xXzBfc2hfbWFzay5oIg0KKyNpbmNsdWRlICJ2ZWdhMTBfZW51bS5oIg0KKw0KKyNpbmNs
dWRlICJzb2MxNV9jb21tb24uaCINCisNCitzdGF0aWMgdm9pZCBhdGh1Yl91cGRhdGVfbWVkaXVt
X2dyYWluX2Nsb2NrX2dhdGluZyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCisJCQkJCQkg
ICBib29sIGVuYWJsZSkNCit7DQorCXVpbnQzMl90IGRlZiwgZGF0YTsNCisNCisJZGVmID0gZGF0
YSA9IFJSRUczMl9TT0MxNShBVEhVQiwgMCwgbW1BVEhVQl9NSVNDX0NOVEwpOw0KKw0KKwlpZiAo
ZW5hYmxlICYmIChhZGV2LT5jZ19mbGFncyAmIEFNRF9DR19TVVBQT1JUX01DX01HQ0cpKQ0KKwkJ
ZGF0YSB8PSBBVEhVQl9NSVNDX0NOVExfX0NHX0VOQUJMRV9NQVNLOw0KKwllbHNlDQorCQlkYXRh
ICY9IH5BVEhVQl9NSVNDX0NOVExfX0NHX0VOQUJMRV9NQVNLOw0KKw0KKwlpZiAoZGVmICE9IGRh
dGEpDQorCQlXUkVHMzJfU09DMTUoQVRIVUIsIDAsIG1tQVRIVUJfTUlTQ19DTlRMLCBkYXRhKTsg
fQ0KKw0KK3N0YXRpYyB2b2lkIGF0aHViX3VwZGF0ZV9tZWRpdW1fZ3JhaW5fbGlnaHRfc2xlZXAo
c3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQorCQkJCQkJICBib29sIGVuYWJsZSkNCit7DQor
CXVpbnQzMl90IGRlZiwgZGF0YTsNCisNCisJZGVmID0gZGF0YSA9IFJSRUczMl9TT0MxNShBVEhV
QiwgMCwgbW1BVEhVQl9NSVNDX0NOVEwpOw0KKw0KKwlpZiAoZW5hYmxlICYmIChhZGV2LT5jZ19m
bGFncyAmIEFNRF9DR19TVVBQT1JUX01DX0xTKSAmJg0KKwkgICAgKGFkZXYtPmNnX2ZsYWdzICYg
QU1EX0NHX1NVUFBPUlRfSERQX0xTKSkNCisJCWRhdGEgfD0gQVRIVUJfTUlTQ19DTlRMX19DR19N
RU1fTFNfRU5BQkxFX01BU0s7DQorCWVsc2UNCisJCWRhdGEgJj0gfkFUSFVCX01JU0NfQ05UTF9f
Q0dfTUVNX0xTX0VOQUJMRV9NQVNLOw0KKw0KKwlpZihkZWYgIT0gZGF0YSkNCisJCVdSRUczMl9T
T0MxNShBVEhVQiwgMCwgbW1BVEhVQl9NSVNDX0NOVEwsIGRhdGEpOyB9DQorDQoraW50IGF0aHVi
X3YxXzBfc2V0X2Nsb2NrZ2F0aW5nKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KKwkJCSAg
ICAgICBlbnVtIGFtZF9jbG9ja2dhdGluZ19zdGF0ZSBzdGF0ZSkgew0KKwlpZiAoYW1kZ3B1X3Ny
aW92X3ZmKGFkZXYpKQ0KKwkJcmV0dXJuIDA7DQorDQorCXN3aXRjaCAoYWRldi0+YXNpY190eXBl
KSB7DQorCWNhc2UgQ0hJUF9WRUdBMTA6DQorCWNhc2UgQ0hJUF9WRUdBMTI6DQorCWNhc2UgQ0hJ
UF9WRUdBMjA6DQorCWNhc2UgQ0hJUF9SQVZFTjoNCisJCWF0aHViX3VwZGF0ZV9tZWRpdW1fZ3Jh
aW5fY2xvY2tfZ2F0aW5nKGFkZXYsDQorCQkJCXN0YXRlID09IEFNRF9DR19TVEFURV9HQVRFID8g
dHJ1ZSA6IGZhbHNlKTsNCisJCWF0aHViX3VwZGF0ZV9tZWRpdW1fZ3JhaW5fbGlnaHRfc2xlZXAo
YWRldiwNCisJCQkJc3RhdGUgPT0gQU1EX0NHX1NUQVRFX0dBVEUgPyB0cnVlIDogZmFsc2UpOw0K
KwkJYnJlYWs7DQorCWRlZmF1bHQ6DQorCQlicmVhazsNCisJfQ0KKw0KKwlyZXR1cm4gMDsNCit9
DQorDQordm9pZCBhdGh1Yl92MV8wX2dldF9jbG9ja2dhdGluZyhzdHJ1Y3QgYW1kZ3B1X2Rldmlj
ZSAqYWRldiwgdTMyICpmbGFncykgDQorew0KKwlpbnQgZGF0YTsNCisNCisJaWYgKGFtZGdwdV9z
cmlvdl92ZihhZGV2KSkNCisJCSpmbGFncyA9IDA7DQorDQorCS8qIEFNRF9DR19TVVBQT1JUX0FU
SFVCX01HQ0cgKi8NCisJZGF0YSA9IFJSRUczMl9TT0MxNShBVEhVQiwgMCwgbW1BVEhVQl9NSVND
X0NOVEwpOw0KKwlpZiAoZGF0YSAmIEFUSFVCX01JU0NfQ05UTF9fQ0dfRU5BQkxFX01BU0spDQor
CQkqZmxhZ3MgfD0gQU1EX0NHX1NVUFBPUlRfQVRIVUJfTUdDRzsNCisNCisJLyogQU1EX0NHX1NV
UFBPUlRfQVRIVUJfTFMgKi8NCisJaWYgKGRhdGEgJiBBVEhVQl9NSVNDX0NOVExfX0NHX01FTV9M
U19FTkFCTEVfTUFTSykNCisJCSpmbGFncyB8PSBBTURfQ0dfU1VQUE9SVF9BVEhVQl9MUzsNCit9
DQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYXRodWJfdjFfMC5oIGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYXRodWJfdjFfMC5oDQpuZXcgZmlsZSBtb2RlIDEw
MDY0NA0KaW5kZXggMDAwMDAwMC4uYjI3OWFmNQ0KLS0tIC9kZXYvbnVsbA0KKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYXRodWJfdjFfMC5oDQpAQCAtMCwwICsxLDMwIEBADQorLyoN
CisgKiBDb3B5cmlnaHQgMjAxNiBBZHZhbmNlZCBNaWNybyBEZXZpY2VzLCBJbmMuDQorICoNCisg
KiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBl
cnNvbiANCitvYnRhaW5pbmcgYQ0KKyAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2Np
YXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgDQorIlNvZnR3YXJlIiksDQorICogdG8gZGVh
bCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQg
DQorbGltaXRhdGlvbg0KKyAqIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdl
LCBwdWJsaXNoLCBkaXN0cmlidXRlLCANCitzdWJsaWNlbnNlLA0KKyAqIGFuZC9vciBzZWxsIGNv
cGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIA0KK3Ro
ZQ0KKyAqIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9s
bG93aW5nIGNvbmRpdGlvbnM6DQorICoNCisgKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBh
bmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSANCitpbmNsdWRlZCBpbg0KKyAqIGFs
bCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLg0KKyAqDQor
ICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0Yg
QU5ZIEtJTkQsIA0KK0VYUFJFU1MgT1INCisgKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBM
SU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIA0KK01FUkNIQU5UQUJJTElUWSwNCisgKiBGSVRO
RVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiAgSU4gTk8g
RVZFTlQgDQorU0hBTEwNCisgKiBUSEUgQ09QWVJJR0hUIEhPTERFUihTKSBPUiBBVVRIT1IoUykg
QkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIA0KK0RBTUFHRVMgT1INCisgKiBPVEhFUiBMSUFCSUxJ
VFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIA0KK09USEVSV0lT
RSwNCisgKiBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNP
RlRXQVJFIE9SIFRIRSBVU0UgDQorT1INCisgKiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdB
UkUuDQorICoNCisgKi8NCisjaWZuZGVmIF9fQVRIVUJfVjFfMF9IX18NCisjZGVmaW5lIF9fQVRI
VUJfVjFfMF9IX18NCisNCitpbnQgYXRodWJfdjFfMF9zZXRfY2xvY2tnYXRpbmcoc3RydWN0IGFt
ZGdwdV9kZXZpY2UgKmFkZXYsDQorCQkJICAgICAgIGVudW0gYW1kX2Nsb2NrZ2F0aW5nX3N0YXRl
IHN0YXRlKTsgdm9pZCANCithdGh1Yl92MV8wX2dldF9jbG9ja2dhdGluZyhzdHJ1Y3QgYW1kZ3B1
X2RldmljZSAqYWRldiwgdTMyICpmbGFncyk7DQorDQorI2VuZGlmDQpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3Y5XzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2dtY192OV8wLmMNCmluZGV4IGEyYWEzNWUuLmRiMDE2M2QgMTAwNjQ0DQotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjlfMC5jDQorKysgYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9nbWNfdjlfMC5jDQpAQCAtNDMsNiArNDMsNyBAQA0KIA0KICNpbmNsdWRl
ICJnZnhodWJfdjFfMC5oIg0KICNpbmNsdWRlICJtbWh1Yl92MV8wLmgiDQorI2luY2x1ZGUgImF0
aHViX3YxXzAuaCINCiAjaW5jbHVkZSAiZ2Z4aHViX3YxXzEuaCINCiAjaW5jbHVkZSAibW1odWJf
djlfNC5oIg0KICNpbmNsdWRlICJ1bWNfdjZfMS5oIg0KQEAgLTE0MDYsNyArMTQwNywxMSBAQCBz
dGF0aWMgaW50IGdtY192OV8wX3NldF9jbG9ja2dhdGluZ19zdGF0ZSh2b2lkICpoYW5kbGUsDQog
CWlmIChhZGV2LT5hc2ljX3R5cGUgPT0gQ0hJUF9BUkNUVVJVUykNCiAJCXJldHVybiAwOw0KIA0K
LQlyZXR1cm4gbW1odWJfdjFfMF9zZXRfY2xvY2tnYXRpbmcoYWRldiwgc3RhdGUpOw0KKwltbWh1
Yl92MV8wX3NldF9jbG9ja2dhdGluZyhhZGV2LCBzdGF0ZSk7DQorDQorCWF0aHViX3YxXzBfc2V0
X2Nsb2NrZ2F0aW5nKGFkZXYsIHN0YXRlKTsNCisNCisJcmV0dXJuIDA7DQogfQ0KIA0KIHN0YXRp
YyB2b2lkIGdtY192OV8wX2dldF9jbG9ja2dhdGluZ19zdGF0ZSh2b2lkICpoYW5kbGUsIHUzMiAq
ZmxhZ3MpIEBAIC0xNDE3LDYgKzE0MjIsOCBAQCBzdGF0aWMgdm9pZCBnbWNfdjlfMF9nZXRfY2xv
Y2tnYXRpbmdfc3RhdGUodm9pZCAqaGFuZGxlLCB1MzIgKmZsYWdzKQ0KIAkJcmV0dXJuOw0KIA0K
IAltbWh1Yl92MV8wX2dldF9jbG9ja2dhdGluZyhhZGV2LCBmbGFncyk7DQorDQorCWF0aHViX3Yx
XzBfZ2V0X2Nsb2NrZ2F0aW5nKGFkZXYsIGZsYWdzKTsNCiB9DQogDQogc3RhdGljIGludCBnbWNf
djlfMF9zZXRfcG93ZXJnYXRpbmdfc3RhdGUodm9pZCAqaGFuZGxlLCBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvbW1odWJfdjFfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvbW1odWJfdjFfMC5jDQppbmRleCAyOTJmM2IxLi5mOWYwNGM1IDEwMDY0NA0KLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvbW1odWJfdjFfMC5jDQorKysgYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9tbWh1Yl92MV8wLmMNCkBAIC0yNiw4ICsyNiw2IEBADQogI2lu
Y2x1ZGUgIm1taHViL21taHViXzFfMF9vZmZzZXQuaCINCiAjaW5jbHVkZSAibW1odWIvbW1odWJf
MV8wX3NoX21hc2suaCINCiAjaW5jbHVkZSAibW1odWIvbW1odWJfMV8wX2RlZmF1bHQuaCINCi0j
aW5jbHVkZSAiYXRodWIvYXRodWJfMV8wX29mZnNldC5oIg0KLSNpbmNsdWRlICJhdGh1Yi9hdGh1
Yl8xXzBfc2hfbWFzay5oIg0KICNpbmNsdWRlICJ2ZWdhMTBfZW51bS5oIg0KIA0KICNpbmNsdWRl
ICJzb2MxNV9jb21tb24uaCINCkBAIC00OTEsMjIgKzQ4OSw2IEBAIHN0YXRpYyB2b2lkIG1taHVi
X3YxXzBfdXBkYXRlX21lZGl1bV9ncmFpbl9jbG9ja19nYXRpbmcoc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkDQogCQlXUkVHMzJfU09DMTUoTU1IVUIsIDAsIG1tREFHQjFfQ05UTF9NSVNDMiwgZGF0
YTIpOyAgfQ0KIA0KLXN0YXRpYyB2b2lkIGF0aHViX3VwZGF0ZV9tZWRpdW1fZ3JhaW5fY2xvY2tf
Z2F0aW5nKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KLQkJCQkJCSAgIGJvb2wgZW5hYmxl
KQ0KLXsNCi0JdWludDMyX3QgZGVmLCBkYXRhOw0KLQ0KLQlkZWYgPSBkYXRhID0gUlJFRzMyX1NP
QzE1KEFUSFVCLCAwLCBtbUFUSFVCX01JU0NfQ05UTCk7DQotDQotCWlmIChlbmFibGUgJiYgKGFk
ZXYtPmNnX2ZsYWdzICYgQU1EX0NHX1NVUFBPUlRfTUNfTUdDRykpDQotCQlkYXRhIHw9IEFUSFVC
X01JU0NfQ05UTF9fQ0dfRU5BQkxFX01BU0s7DQotCWVsc2UNCi0JCWRhdGEgJj0gfkFUSFVCX01J
U0NfQ05UTF9fQ0dfRU5BQkxFX01BU0s7DQotDQotCWlmIChkZWYgIT0gZGF0YSkNCi0JCVdSRUcz
Ml9TT0MxNShBVEhVQiwgMCwgbW1BVEhVQl9NSVNDX0NOVEwsIGRhdGEpOw0KLX0NCi0NCiBzdGF0
aWMgdm9pZCBtbWh1Yl92MV8wX3VwZGF0ZV9tZWRpdW1fZ3JhaW5fbGlnaHRfc2xlZXAoc3RydWN0
IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQogCQkJCQkJICAgICAgIGJvb2wgZW5hYmxlKQ0KIHsNCkBA
IC01MjMsMjMgKzUwNSw2IEBAIHN0YXRpYyB2b2lkIG1taHViX3YxXzBfdXBkYXRlX21lZGl1bV9n
cmFpbl9saWdodF9zbGVlcChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRlDQogCQlXUkVHMzJfU09D
MTUoTU1IVUIsIDAsIG1tQVRDX0wyX01JU0NfQ0csIGRhdGEpOyAgfQ0KIA0KLXN0YXRpYyB2b2lk
IGF0aHViX3VwZGF0ZV9tZWRpdW1fZ3JhaW5fbGlnaHRfc2xlZXAoc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYsDQotCQkJCQkJICBib29sIGVuYWJsZSkNCi17DQotCXVpbnQzMl90IGRlZiwgZGF0
YTsNCi0NCi0JZGVmID0gZGF0YSA9IFJSRUczMl9TT0MxNShBVEhVQiwgMCwgbW1BVEhVQl9NSVND
X0NOVEwpOw0KLQ0KLQlpZiAoZW5hYmxlICYmIChhZGV2LT5jZ19mbGFncyAmIEFNRF9DR19TVVBQ
T1JUX01DX0xTKSAmJg0KLQkgICAgKGFkZXYtPmNnX2ZsYWdzICYgQU1EX0NHX1NVUFBPUlRfSERQ
X0xTKSkNCi0JCWRhdGEgfD0gQVRIVUJfTUlTQ19DTlRMX19DR19NRU1fTFNfRU5BQkxFX01BU0s7
DQotCWVsc2UNCi0JCWRhdGEgJj0gfkFUSFVCX01JU0NfQ05UTF9fQ0dfTUVNX0xTX0VOQUJMRV9N
QVNLOw0KLQ0KLQlpZihkZWYgIT0gZGF0YSkNCi0JCVdSRUczMl9TT0MxNShBVEhVQiwgMCwgbW1B
VEhVQl9NSVNDX0NOVEwsIGRhdGEpOw0KLX0NCi0NCiBpbnQgbW1odWJfdjFfMF9zZXRfY2xvY2tn
YXRpbmcoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQogCQkJICAgICAgIGVudW0gYW1kX2Ns
b2NrZ2F0aW5nX3N0YXRlIHN0YXRlKSAgeyBAQCAtNTUzLDEyICs1MTgsOCBAQCBpbnQgbW1odWJf
djFfMF9zZXRfY2xvY2tnYXRpbmcoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQogCWNhc2Ug
Q0hJUF9SQVZFTjoNCiAJCW1taHViX3YxXzBfdXBkYXRlX21lZGl1bV9ncmFpbl9jbG9ja19nYXRp
bmcoYWRldiwNCiAJCQkJc3RhdGUgPT0gQU1EX0NHX1NUQVRFX0dBVEUgPyB0cnVlIDogZmFsc2Up
Ow0KLQkJYXRodWJfdXBkYXRlX21lZGl1bV9ncmFpbl9jbG9ja19nYXRpbmcoYWRldiwNCi0JCQkJ
c3RhdGUgPT0gQU1EX0NHX1NUQVRFX0dBVEUgPyB0cnVlIDogZmFsc2UpOw0KIAkJbW1odWJfdjFf
MF91cGRhdGVfbWVkaXVtX2dyYWluX2xpZ2h0X3NsZWVwKGFkZXYsDQogCQkJCXN0YXRlID09IEFN
RF9DR19TVEFURV9HQVRFID8gdHJ1ZSA6IGZhbHNlKTsNCi0JCWF0aHViX3VwZGF0ZV9tZWRpdW1f
Z3JhaW5fbGlnaHRfc2xlZXAoYWRldiwNCi0JCQkJc3RhdGUgPT0gQU1EX0NHX1NUQVRFX0dBVEUg
PyB0cnVlIDogZmFsc2UpOw0KIAkJYnJlYWs7DQogCWRlZmF1bHQ6DQogCQlicmVhazsNCkBAIC01
NjksMTggKzUzMCwyNiBAQCBpbnQgbW1odWJfdjFfMF9zZXRfY2xvY2tnYXRpbmcoc3RydWN0IGFt
ZGdwdV9kZXZpY2UgKmFkZXYsDQogDQogdm9pZCBtbWh1Yl92MV8wX2dldF9jbG9ja2dhdGluZyhz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgdTMyICpmbGFncykgIHsNCi0JaW50IGRhdGE7DQor
CWludCBkYXRhLCBkYXRhMTsNCiANCiAJaWYgKGFtZGdwdV9zcmlvdl92ZihhZGV2KSkNCiAJCSpm
bGFncyA9IDA7DQogDQorCWRhdGEgPSBSUkVHMzJfU09DMTUoTU1IVUIsIDAsIG1tQVRDX0wyX01J
U0NfQ0cpOw0KKw0KKwlkYXRhMSA9IFJSRUczMl9TT0MxNShNTUhVQiwgMCwgbW1EQUdCMF9DTlRM
X01JU0MyKTsNCisNCiAJLyogQU1EX0NHX1NVUFBPUlRfTUNfTUdDRyAqLw0KLQlkYXRhID0gUlJF
RzMyX1NPQzE1KEFUSFVCLCAwLCBtbUFUSFVCX01JU0NfQ05UTCk7DQotCWlmIChkYXRhICYgQVRI
VUJfTUlTQ19DTlRMX19DR19FTkFCTEVfTUFTSykNCisJaWYgKChkYXRhICYgQVRDX0wyX01JU0Nf
Q0dfX0VOQUJMRV9NQVNLKSAmJg0KKwkgICAgIShkYXRhMSAmIChEQUdCMF9DTlRMX01JU0MyX19E
SVNBQkxFX1dSUkVRX0NHX01BU0sgfA0KKwkJICAgICAgIERBR0IwX0NOVExfTUlTQzJfX0RJU0FC
TEVfV1JSRVRfQ0dfTUFTSyB8DQorCQkgICAgICAgREFHQjBfQ05UTF9NSVNDMl9fRElTQUJMRV9S
RFJFUV9DR19NQVNLIHwNCisJCSAgICAgICBEQUdCMF9DTlRMX01JU0MyX19ESVNBQkxFX1JEUkVU
X0NHX01BU0sgfA0KKwkJICAgICAgIERBR0IwX0NOVExfTUlTQzJfX0RJU0FCTEVfVExCV1JfQ0df
TUFTSyB8DQorCQkgICAgICAgREFHQjBfQ05UTF9NSVNDMl9fRElTQUJMRV9UTEJSRF9DR19NQVNL
KSkpDQogCQkqZmxhZ3MgfD0gQU1EX0NHX1NVUFBPUlRfTUNfTUdDRzsNCiANCiAJLyogQU1EX0NH
X1NVUFBPUlRfTUNfTFMgKi8NCi0JZGF0YSA9IFJSRUczMl9TT0MxNShNTUhVQiwgMCwgbW1BVENf
TDJfTUlTQ19DRyk7DQogCWlmIChkYXRhICYgQVRDX0wyX01JU0NfQ0dfX01FTV9MU19FTkFCTEVf
TUFTSykNCiAJCSpmbGFncyB8PSBBTURfQ0dfU1VQUE9SVF9NQ19MUzsNCiB9DQotLQ0KMi43LjQN
Cg0KX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18NCmFtZC1n
ZnggbWFpbGluZyBsaXN0DQphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZw0KaHR0cHM6Ly9s
aXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4DQpfX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlz
dAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9w
Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZng=
