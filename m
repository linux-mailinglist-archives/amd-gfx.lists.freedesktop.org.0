Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 61B45DF7C
	for <lists+amd-gfx@lfdr.de>; Mon, 29 Apr 2019 11:34:08 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C963B892EE;
	Mon, 29 Apr 2019 09:34:06 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM02-BL2-obe.outbound.protection.outlook.com
 (mail-eopbgr750075.outbound.protection.outlook.com [40.107.75.75])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 6DB18892EE
 for <amd-gfx@lists.freedesktop.org>; Mon, 29 Apr 2019 09:34:05 +0000 (UTC)
Received: from DM5PR12MB1546.namprd12.prod.outlook.com (10.172.36.23) by
 DM5PR12MB1306.namprd12.prod.outlook.com (10.168.233.13) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1835.13; Mon, 29 Apr 2019 09:33:59 +0000
Received: from DM5PR12MB1546.namprd12.prod.outlook.com
 ([fe80::70fc:f26c:1e22:73ba]) by DM5PR12MB1546.namprd12.prod.outlook.com
 ([fe80::70fc:f26c:1e22:73ba%10]) with mapi id 15.20.1835.010; Mon, 29 Apr
 2019 09:33:59 +0000
From: "Koenig, Christian" <Christian.Koenig@amd.com>
To: "Quan, Evan" <Evan.Quan@amd.com>, "amd-gfx@lists.freedesktop.org"
 <amd-gfx@lists.freedesktop.org>
Subject: Re: [PATCH] drm/amdgpu: enable separate timeout setting for every
 ring type
Thread-Topic: [PATCH] drm/amdgpu: enable separate timeout setting for every
 ring type
Thread-Index: AQHU/mmoOAJg6HvCa0KeGX/u5zAzraZS4HwA
Date: Mon, 29 Apr 2019 09:33:59 +0000
Message-ID: <eda9aa01-013d-d905-9d7a-e59075b88cab@amd.com>
References: <20190429085748.15712-1-evan.quan@amd.com>
In-Reply-To: <20190429085748.15712-1-evan.quan@amd.com>
Accept-Language: de-DE, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
user-agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.6.1
x-originating-ip: [2a02:908:1252:fb60:be8a:bd56:1f94:86e7]
x-clientproxiedby: AM3PR04CA0149.eurprd04.prod.outlook.com (2603:10a6:207::33)
 To DM5PR12MB1546.namprd12.prod.outlook.com
 (2603:10b6:4:8::23)
x-ms-exchange-messagesentrepresentingtype: 1
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: a2339198-cdb2-46fd-cc4f-08d6cc85ceb4
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600141)(711020)(4605104)(4618075)(2017052603328)(7193020);
 SRVR:DM5PR12MB1306; 
x-ms-traffictypediagnostic: DM5PR12MB1306:
x-microsoft-antispam-prvs: <DM5PR12MB13064052B1AD478C7054F1A683390@DM5PR12MB1306.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:10000;
x-forefront-prvs: 0022134A87
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(396003)(366004)(346002)(136003)(376002)(39860400002)(199004)(189003)(52116002)(81156014)(8676002)(81166006)(110136005)(58126008)(54906003)(4326008)(14444005)(99286004)(6486002)(5660300002)(31686004)(8936002)(76176011)(14454004)(86362001)(31696002)(6436002)(65806001)(65956001)(256004)(316002)(229853002)(66476007)(66446008)(66556008)(64756008)(73956011)(64126003)(66946007)(25786009)(65826007)(53936002)(7736002)(305945005)(71190400001)(6116002)(68736007)(2906002)(72206003)(478600001)(6246003)(97736004)(36756003)(476003)(2616005)(11346002)(446003)(486006)(46003)(6512007)(102836004)(6506007)(386003)(186003)(71200400001)(2501003);
 DIR:OUT; SFP:1101; SCL:1; SRVR:DM5PR12MB1306;
 H:DM5PR12MB1546.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: 530BvtyAiilupezDZFq7PawjdDwrdR0iGtFG2DvGimFJ2Ep7RoQaxYhsAx+INsZ/QZ1vCMTWafPe5aCJyOWXyxAywD+cGkYh1Whqet/2ScP/QuKhbWt3mq/SesGy4Os16QF84fuMc6ZL7g6O5aMyoAjgex+oI51S+FGsn6lqie22SB6FpooftiI0hCFbfhwD8g2AMou5hKGkai/yy6RVJ445zMAE7I+zYlaHGMmc/8k+6wGjd9R0m1sJJo52Oh4x1hZ79hRW6mA/M40uorzzlOCvDcZiAp6U9tnwRGHJboUamXTGjP4pLCTwZT5+M4qbQUjpGAw8Ft1hEiS9/N6SYurK2d9TlHbeKfC3Iw/nObYzC8bgDDrQ+lSbPLs/gW75d0tebYFCyOIofGMydWEloqJ/FLudGkFYHoX8Os5/QfM=
Content-ID: <78E9AD5FE9305B48AFD49382A1B9834F@namprd12.prod.outlook.com>
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: a2339198-cdb2-46fd-cc4f-08d6cc85ceb4
X-MS-Exchange-CrossTenant-originalarrivaltime: 29 Apr 2019 09:33:59.4949 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM5PR12MB1306
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amd-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=gAVZdLQli3bcqlXc4CFQUcrmI/Rhy56YiNE6vNyn1Qc=;
 b=hQ0crSDddiG9y7bQfgVGjxVV0NPOA8k30f8z8XXo+aOMVqttZfHuo+hybetn14XfJHgEXuZz9Da85mMGkK9nt6qF6wZyTA4Xm09fN77AdKTRIHlAP7GezXATt0gWbMisQ86UgD7kuTU7Y3ODaAef/MirDMnxeuw5B1Dio482+Go=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Christian.Koenig@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Deucher, Alexander" <Alexander.Deucher@amd.com>, "Lou,
 Wentao" <Wentao.Lou@amd.com>, "Daenzer, Michel" <Michel.Daenzer@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

QW0gMjkuMDQuMTkgdW0gMTA6NTcgc2NocmllYiBFdmFuIFF1YW46DQo+IEV2ZXJ5IHJpbmcgdHlw
ZSBjYW4gaGF2ZSBpdHMgb3duIHRpbWVvdXQgc2V0dGluZy4NCj4NCj4gQ2hhbmdlLUlkOiBJOTky
ZjIyNGYzNmJiMzNhY2Q1NjAxNjJiZmZkMmMzZTk4Nzg0MGE3ZQ0KPiBTaWduZWQtb2ZmLWJ5OiBF
dmFuIFF1YW4gPGV2YW4ucXVhbkBhbWQuY29tPg0KPiAtLS0NCj4gICBkcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHUuaCAgICAgICAgfCAgNyArLQ0KPiAgIGRyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2FtZGdwdV9kZXZpY2UuYyB8IDE3ICsrKy0tDQo+ICAgZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvYW1kZ3B1X2Rydi5jICAgIHwgODIgKysrKysrKysrKysrKysrKysrKystLQ0K
PiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9mZW5jZS5jICB8IDM1ICsrKysr
KystLQ0KPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L214Z3B1X2FpLmMgICAgICB8ICAy
ICstDQo+ICAgNSBmaWxlcyBjaGFuZ2VkLCAxMjQgaW5zZXJ0aW9ucygrKSwgMTkgZGVsZXRpb25z
KC0pDQo+DQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHUu
aCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdS5oDQo+IGluZGV4IGY2OTY1Yjk0
MDNlYi4uOWQ3YmY5ZmJmMmJhIDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHUuaA0KPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHUu
aA0KPiBAQCAtMTE4LDcgKzExOCw2IEBAIGV4dGVybiBpbnQgYW1kZ3B1X2Rpc3BfcHJpb3JpdHk7
DQo+ICAgZXh0ZXJuIGludCBhbWRncHVfaHdfaTJjOw0KPiAgIGV4dGVybiBpbnQgYW1kZ3B1X3Bj
aWVfZ2VuMjsNCj4gICBleHRlcm4gaW50IGFtZGdwdV9tc2k7DQo+IC1leHRlcm4gaW50IGFtZGdw
dV9sb2NrdXBfdGltZW91dDsNCj4gICBleHRlcm4gaW50IGFtZGdwdV9kcG07DQo+ICAgZXh0ZXJu
IGludCBhbWRncHVfZndfbG9hZF90eXBlOw0KPiAgIGV4dGVybiBpbnQgYW1kZ3B1X2FzcG07DQo+
IEBAIC00MjgsNiArNDI3LDcgQEAgc3RydWN0IGFtZGdwdV9mcHJpdiB7DQo+ICAgfTsNCj4gICAN
Cj4gICBpbnQgYW1kZ3B1X2ZpbGVfdG9fZnByaXYoc3RydWN0IGZpbGUgKmZpbHAsIHN0cnVjdCBh
bWRncHVfZnByaXYgKipmcHJpdik7DQo+ICtpbnQgYW1kZ3B1X2RldmljZV9nZXRfam9iX3RpbWVv
dXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpOw0KPiAgIA0KPiAgIGludCBhbWRncHVfaWJf
Z2V0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCBzdHJ1Y3QgYW1kZ3B1X3ZtICp2bSwNCj4g
ICAJCSAgdW5zaWduZWQgc2l6ZSwgc3RydWN0IGFtZGdwdV9pYiAqaWIpOw0KPiBAQCAtMTAwMSw2
ICsxMDAxLDExIEBAIHN0cnVjdCBhbWRncHVfZGV2aWNlIHsNCj4gICAJc3RydWN0IHdvcmtfc3Ry
dWN0CQl4Z21pX3Jlc2V0X3dvcms7DQo+ICAgDQo+ICAgCWJvb2wgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgaW5fYmFjb19yZXNldDsNCj4gKw0KPiArCWxvbmcJCQkJZ2Z4X3RpbWVvdXQ7DQo+
ICsJbG9uZwkJCQlzZG1hX3RpbWVvdXQ7DQo+ICsJbG9uZwkJCQl2aWRlb190aW1lb3V0Ow0KPiAr
CWxvbmcJCQkJY29tcHV0ZV90aW1lb3V0Ow0KPiAgIH07DQo+ICAgDQo+ICAgc3RhdGljIGlubGlu
ZSBzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYW1kZ3B1X3R0bV9hZGV2KHN0cnVjdCB0dG1fYm9fZGV2
aWNlICpiZGV2KQ0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1k
Z3B1X2RldmljZS5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RldmljZS5j
DQo+IGluZGV4IDgwYmY2MDQwMTliMS4uYmIxMTFjMDU5NDlkIDEwMDY0NA0KPiAtLS0gYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMNCj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RldmljZS5jDQo+IEBAIC05MTIsOCArOTEyLDEwIEBA
IHN0YXRpYyB2b2lkIGFtZGdwdV9kZXZpY2VfY2hlY2tfc211X3Bydl9idWZmZXJfc2l6ZShzdHJ1
Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCj4gICAgKiBWYWxpZGF0ZXMgY2VydGFpbiBtb2R1bGUg
cGFyYW1ldGVycyBhbmQgdXBkYXRlcw0KPiAgICAqIHRoZSBhc3NvY2lhdGVkIHZhbHVlcyB1c2Vk
IGJ5IHRoZSBkcml2ZXIgKGFsbCBhc2ljcykuDQo+ICAgICovDQo+IC1zdGF0aWMgdm9pZCBhbWRn
cHVfZGV2aWNlX2NoZWNrX2FyZ3VtZW50cyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCj4g
K3N0YXRpYyBpbnQgYW1kZ3B1X2RldmljZV9jaGVja19hcmd1bWVudHMoc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYpDQo+ICAgew0KPiArCWludCByZXQgPSAwOw0KPiArDQo+ICAgCWlmIChhbWRn
cHVfc2NoZWRfam9icyA8IDQpIHsNCj4gICAJCWRldl93YXJuKGFkZXYtPmRldiwgInNjaGVkIGpv
YnMgKCVkKSBtdXN0IGJlIGF0IGxlYXN0IDRcbiIsDQo+ICAgCQkJIGFtZGdwdV9zY2hlZF9qb2Jz
KTsNCj4gQEAgLTk1OCwxMyArOTYwLDE2IEBAIHN0YXRpYyB2b2lkIGFtZGdwdV9kZXZpY2VfY2hl
Y2tfYXJndW1lbnRzKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQ0KPiAgIAkJYW1kZ3B1X3Zy
YW1fcGFnZV9zcGxpdCA9IDEwMjQ7DQo+ICAgCX0NCj4gICANCj4gLQlpZiAoYW1kZ3B1X2xvY2t1
cF90aW1lb3V0ID09IDApIHsNCj4gLQkJZGV2X3dhcm4oYWRldi0+ZGV2LCAibG9ja3VwX3RpbWVv
dXQgbXN1dCBiZSA+IDAsIGFkanVzdGluZyB0byAxMDAwMFxuIik7DQo+IC0JCWFtZGdwdV9sb2Nr
dXBfdGltZW91dCA9IDEwMDAwOw0KPiArCXJldCA9IGFtZGdwdV9kZXZpY2VfZ2V0X2pvYl90aW1l
b3V0KGFkZXYpOw0KPiArCWlmIChyZXQpIHsNCj4gKwkJZGV2X2VycihhZGV2LT5kZXYsICJpbnZh
bGlkIGpvYiB0aW1lb3V0IHNldHRpbmdcbiIpOw0KPiArCQlyZXR1cm4gcmV0Ow0KPiAgIAl9DQo+
ICAgDQo+ICAgCWFkZXYtPmZpcm13YXJlLmxvYWRfdHlwZSA9IGFtZGdwdV91Y29kZV9nZXRfbG9h
ZF90eXBlKGFkZXYsIGFtZGdwdV9md19sb2FkX3R5cGUpOw0KPiAgIAlhbWRncHVfZGlyZWN0X2dt
YV9zaXplID0gbWluKGFtZGdwdV9kaXJlY3RfZ21hX3NpemUsIDk2KTsNCj4gKw0KPiArCXJldHVy
biByZXQ7DQo+ICAgfQ0KPiAgIA0KPiAgIC8qKg0KPiBAQCAtMjQ2OCw3ICsyNDczLDkgQEAgaW50
IGFtZGdwdV9kZXZpY2VfaW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gICAJbXV0
ZXhfaW5pdCgmYWRldi0+bG9ja19yZXNldCk7DQo+ICAgCW11dGV4X2luaXQoJmFkZXYtPnZpcnQu
ZHBtX211dGV4KTsNCj4gICANCj4gLQlhbWRncHVfZGV2aWNlX2NoZWNrX2FyZ3VtZW50cyhhZGV2
KTsNCj4gKwlyZXQgPSBhbWRncHVfZGV2aWNlX2NoZWNrX2FyZ3VtZW50cyhhZGV2KTsNCj4gKwlp
ZiAocmV0KQ0KPiArCQlyZXR1cm4gcmV0Ow0KPiAgIA0KPiAgIAlzcGluX2xvY2tfaW5pdCgmYWRl
di0+bW1pb19pZHhfbG9jayk7DQo+ICAgCXNwaW5fbG9ja19pbml0KCZhZGV2LT5zbWNfaWR4X2xv
Y2spOw0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2Ry
di5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2Rydi5jDQo+IGluZGV4IDcx
ZGYyN2NkMDNkZS4uNDY5NGUzNmQxYmYxIDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfZHJ2LmMNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X2Rydi5jDQo+IEBAIC04Myw2ICs4Myw4IEBADQo+ICAgDQo+ICAgI2RlZmluZSBB
TURHUFVfVkVSU0lPTgkJIjE5LjEwLjkuNDE4Ig0KPiAgIA0KPiArI2RlZmluZSBNQVhfUEFSQU1f
TEVOR1RICTI1Ng0KDQpUaGlzIG5lZWRzIGEgYmV0dGVyIG5hbWUsIGVzcGVjaWFsbHkgYnV0IGFu
IEFNREdQVV8gcHJlZml4IGluIGZyb250IG9mIGl0Lg0KDQo+ICsNCj4gICBpbnQgYW1kZ3B1X3Zy
YW1fbGltaXQgPSAwOw0KPiAgIGludCBhbWRncHVfdmlzX3ZyYW1fbGltaXQgPSAwOw0KPiAgIGlu
dCBhbWRncHVfZ2FydF9zaXplID0gLTE7IC8qIGF1dG8gKi8NCj4gQEAgLTk1LDcgKzk3LDcgQEAg
aW50IGFtZGdwdV9kaXNwX3ByaW9yaXR5ID0gMDsNCj4gICBpbnQgYW1kZ3B1X2h3X2kyYyA9IDA7
DQo+ICAgaW50IGFtZGdwdV9wY2llX2dlbjIgPSAtMTsNCj4gICBpbnQgYW1kZ3B1X21zaSA9IC0x
Ow0KPiAtaW50IGFtZGdwdV9sb2NrdXBfdGltZW91dCA9IDEwMDAwOw0KPiArY2hhciBhbWRncHVf
bG9ja3VwX3RpbWVvdXRbTUFYX1BBUkFNX0xFTkdUSF07DQo+ICAgaW50IGFtZGdwdV9kcG0gPSAt
MTsNCj4gICBpbnQgYW1kZ3B1X2Z3X2xvYWRfdHlwZSA9IC0xOw0KPiAgIGludCBhbWRncHVfYXNw
bSA9IC0xOw0KPiBAQCAtMjMyLDEyICsyMzQsMjAgQEAgTU9EVUxFX1BBUk1fREVTQyhtc2ksICJN
U0kgc3VwcG9ydCAoMSA9IGVuYWJsZSwgMCA9IGRpc2FibGUsIC0xID0gYXV0bykiKTsNCj4gICBt
b2R1bGVfcGFyYW1fbmFtZWQobXNpLCBhbWRncHVfbXNpLCBpbnQsIDA0NDQpOw0KPiAgIA0KPiAg
IC8qKg0KPiAtICogRE9DOiBsb2NrdXBfdGltZW91dCAoaW50KQ0KPiAtICogU2V0IEdQVSBzY2hl
ZHVsZXIgdGltZW91dCB2YWx1ZSBpbiBtcy4gVmFsdWUgMCBpcyBpbnZhbGlkYXRlZCwgd2lsbCBi
ZSBhZGp1c3RlZCB0byAxMDAwMC4NCj4gLSAqIE5lZ2F0aXZlIHZhbHVlcyBtZWFuICdpbmZpbml0
ZSB0aW1lb3V0JyAoTUFYX0pJRkZZX09GRlNFVCkuIFRoZSBkZWZhdWx0IGlzIDEwMDAwLg0KPiAr
ICogRE9DOiBsb2NrdXBfdGltZW91dCAoc3RyaW5nKQ0KPiArICogU2V0IEdQVSBzY2hlZHVsZXIg
dGltZW91dCB2YWx1ZSBpbiBtcy4NCj4gKyAqDQo+ICsgKiBUaGUgZm9ybWF0IGlzIG5vbi1jb21w
dXRlWy5nZnguc2RtYS52aWRlb11bOmNvbXB1dGVdLg0KPiArICogV2l0aCBubyAibm9uLWNvbXB1
dGVbLmdmeC5zZG1hLnZpZGVvXSIgdGltZW91dCBzcGVjaWZpZWQsIHRoZSBkZWZhdWx0IHRpbWVv
dXQgZm9yIG5vbi1jb21wdXRlX2pvYiBpcyAxMDAwMC4NCj4gKyAqIFRoZSAibm9uLWNvbXB1dGUi
IHRpbWVvdXQgc2V0dGluZyBhcHBseXMgdG8gYWxsIG5vbiBjb21wdXRlIElQcyhnZngsIHNkbWEg
YW5kIHZpZGVvKS4gVW5sZXNzDQo+ICsgKiB0aGUgdGltZW91dCBmb3IgdGhpcyBJUCBpcyBzcGVj
aWZpZWQgc2VwYXJhdGVseShieSAiWy5nZnguc2RtYS52aWRlb10iKS4NCj4gKyAqDQo+ICsgKiBX
aXRoIG5vICJbOmNvbXB1dGVdIiB0aW1lb3V0IHNwZWNpZmllZCwgdGhlcmUgd2lsbCBiZSBubyB0
aW1lb3V0IGVuZm9yY2VkIG9uIGNvbXB1dGUgam9icy4NCj4gKyAqIE90aGVyd2lzZSwgdGhlIHRp
bWVvdXQgZm9yIGNvbXB1dGUgam9icyBpcyBzZXQgYXMgc3BlY2lmaWVkLg0KPiAgICAqLw0KPiAt
TU9EVUxFX1BBUk1fREVTQyhsb2NrdXBfdGltZW91dCwgIkdQVSBsb2NrdXAgdGltZW91dCBpbiBt
cyA+IDAgKGRlZmF1bHQgMTAwMDApIik7DQo+IC1tb2R1bGVfcGFyYW1fbmFtZWQobG9ja3VwX3Rp
bWVvdXQsIGFtZGdwdV9sb2NrdXBfdGltZW91dCwgaW50LCAwNDQ0KTsNCj4gK01PRFVMRV9QQVJN
X0RFU0MobG9ja3VwX3RpbWVvdXQsICJHUFUgbG9ja3VwIHRpbWVvdXQgaW4gbXMgKGRlZmF1bHQ6
IDEwMDAwIGZvciBub24tY29tcHV0ZSBqb2JzIGFuZCBubyB0aW1lb3V0IGZvciBjb21wdXRlIGpv
YnMpLCAiDQo+ICsJCSJmb3JtYXQgaXMgbm9uLWNvbXB1dGVbLmdmeC5zZG1hLnZpZGVvXVs6Y29t
cHV0ZV0iKTsNCj4gK21vZHVsZV9wYXJhbV9zdHJpbmcobG9ja3VwX3RpbWVvdXQsIGFtZGdwdV9s
b2NrdXBfdGltZW91dCwgc2l6ZW9mKGFtZGdwdV9sb2NrdXBfdGltZW91dCksIDA0NDQpOw0KPiAg
IA0KPiAgIC8qKg0KPiAgICAqIERPQzogZHBtIChpbnQpDQo+IEBAIC0xMzA3LDYgKzEzMTcsNjYg
QEAgaW50IGFtZGdwdV9maWxlX3RvX2Zwcml2KHN0cnVjdCBmaWxlICpmaWxwLCBzdHJ1Y3QgYW1k
Z3B1X2Zwcml2ICoqZnByaXYpDQo+ICAgCXJldHVybiAwOw0KPiAgIH0NCj4gICANCj4gK2ludCBh
bWRncHVfZGV2aWNlX2dldF9qb2JfdGltZW91dChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikN
Cj4gK3sNCj4gKwljaGFyICppbnB1dCA9IGFtZGdwdV9sb2NrdXBfdGltZW91dDsNCj4gKwljaGFy
ICpub25fY29tcHV0ZV9zZXR0aW5nID0gTlVMTDsNCj4gKwljaGFyICp0aW1lb3V0X3NldHRpbmcg
PSBOVUxMOw0KPiArCWludCBpbmRleCA9IDA7DQo+ICsJaW50IHJldCA9IDA7DQo+ICsNCj4gKwkv
KiBEZWZhdWx0IHRpbWVvdXQgZm9yIG5vbiBjb21wdXRlIGpvYiBpcyAxMDAwMCAqLw0KPiArCWFk
ZXYtPmdmeF90aW1lb3V0ID0NCj4gKwkJYWRldi0+c2RtYV90aW1lb3V0ID0NCj4gKwkJCWFkZXYt
PnZpZGVvX3RpbWVvdXQgPSAxMDAwMDsNCj4gKwkvKiBFbmZvcmNlIG5vIHRpbWVvdXQgb24gY29t
cHV0ZSBqb2IgYXQgZGVmYXVsdCAqLw0KPiArCWFkZXYtPmNvbXB1dGVfdGltZW91dCA9IE1BWF9T
Q0hFRFVMRV9USU1FT1VUOw0KPiArDQo+ICsJaWYgKHN0cm5sZW4oaW5wdXQsIE1BWF9QQVJBTV9M
RU5HVEgpKSB7DQo+ICsJCW5vbl9jb21wdXRlX3NldHRpbmcgPSBzdHJzZXAoJmlucHV0LCAiOiIp
Ow0KPiArCQlpZiAoaW5wdXQpIHsNCj4gKwkJCXJldCA9IGtzdHJ0b2woaW5wdXQsIDAsICYoYWRl
di0+Y29tcHV0ZV90aW1lb3V0KSk7DQo+ICsJCQlpZiAocmV0KQ0KPiArCQkJCXJldHVybiByZXQ7
DQo+ICsJCX0NCj4gKw0KPiArCQl3aGlsZSAoKHRpbWVvdXRfc2V0dGluZyA9IHN0cnNlcCgmbm9u
X2NvbXB1dGVfc2V0dGluZywgIi4iKSkgJiYNCj4gKwkJCQlzdHJubGVuKHRpbWVvdXRfc2V0dGlu
ZywgTUFYX1BBUkFNX0xFTkdUSCkpIHsNCj4gKwkJCXN3aXRjaCAoaW5kZXgpIHsNCj4gKwkJCWNh
c2UgMDoNCj4gKwkJCQlyZXQgPSBrc3RydG9sKHRpbWVvdXRfc2V0dGluZywgMCwgJmFkZXYtPmdm
eF90aW1lb3V0KTsNCg0KTWF5YmUgbW92ZSB0aGUga3N0cnRvbCBjYWxsIG91dHNpZGUgb2YgdGhl
IHN3aXRjaC4NCg0KVGhhdCB3b3VsZCBkZS1kdXBsaWNhdGUgZXJyb3IgaGFuZGxpbmcgcXVpdGUg
YSBiaXQuDQoNCkNocmlzdGlhbi4NCg0KPiArCQkJCWlmIChyZXQpDQo+ICsJCQkJCXJldHVybiBy
ZXQ7DQo+ICsNCj4gKwkJCQlhZGV2LT5zZG1hX3RpbWVvdXQgPQ0KPiArCQkJCQlhZGV2LT52aWRl
b190aW1lb3V0ID0NCj4gKwkJCQkJCWFkZXYtPmdmeF90aW1lb3V0Ow0KPiArCQkJCWJyZWFrOw0K
PiArCQkJY2FzZSAxOg0KPiArCQkJCXJldCA9IGtzdHJ0b2wodGltZW91dF9zZXR0aW5nLCAwLCAm
YWRldi0+Z2Z4X3RpbWVvdXQpOw0KPiArCQkJCWlmIChyZXQpDQo+ICsJCQkJCXJldHVybiByZXQ7
DQo+ICsJCQkJYnJlYWs7DQo+ICsJCQljYXNlIDI6DQo+ICsJCQkJcmV0ID0ga3N0cnRvbCh0aW1l
b3V0X3NldHRpbmcsIDAsICZhZGV2LT5zZG1hX3RpbWVvdXQpOw0KPiArCQkJCWlmIChyZXQpDQo+
ICsJCQkJCXJldHVybiByZXQ7DQo+ICsJCQkJYnJlYWs7DQo+ICsJCQljYXNlIDM6DQo+ICsJCQkJ
cmV0ID0ga3N0cnRvbCh0aW1lb3V0X3NldHRpbmcsIDAsICZhZGV2LT52aWRlb190aW1lb3V0KTsN
Cj4gKwkJCQlpZiAocmV0KQ0KPiArCQkJCQlyZXR1cm4gcmV0Ow0KPiArCQkJCWJyZWFrOw0KPiAr
CQkJZGVmYXVsdDoNCj4gKwkJCQlicmVhazsNCj4gKwkJCX0NCj4gKwkJCWluZGV4Kys7DQo+ICsJ
CX0NCj4gKwl9DQo+ICsNCj4gKwlyZXR1cm4gcmV0Ow0KPiArfQ0KPiArDQo+ICAgc3RhdGljIGJv
b2wNCj4gICBhbWRncHVfZ2V0X2NydGNfc2Nhbm91dF9wb3NpdGlvbihzdHJ1Y3QgZHJtX2Rldmlj
ZSAqZGV2LCB1bnNpZ25lZCBpbnQgcGlwZSwNCj4gICAJCQkJIGJvb2wgaW5fdmJsYW5rX2lycSwg
aW50ICp2cG9zLCBpbnQgKmhwb3MsDQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9hbWRncHVfZmVuY2UuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdw
dV9mZW5jZS5jDQo+IGluZGV4IGQxOWFkMzRiZWY3NS4uYmI0MGU4OTQ2YmMyIDEwMDY0NA0KPiAt
LS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZmVuY2UuYw0KPiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZmVuY2UuYw0KPiBAQCAtNDM2LDkgKzQz
NiwxMyBAQCBpbnQgYW1kZ3B1X2ZlbmNlX2RyaXZlcl9zdGFydF9yaW5nKHN0cnVjdCBhbWRncHVf
cmluZyAqcmluZywNCj4gICBpbnQgYW1kZ3B1X2ZlbmNlX2RyaXZlcl9pbml0X3Jpbmcoc3RydWN0
IGFtZGdwdV9yaW5nICpyaW5nLA0KPiAgIAkJCQkgIHVuc2lnbmVkIG51bV9od19zdWJtaXNzaW9u
KQ0KPiAgIHsNCj4gKwlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IHJpbmctPmFkZXY7DQo+
ICAgCWxvbmcgdGltZW91dDsNCj4gICAJaW50IHI7DQo+ICAgDQo+ICsJaWYgKCFhZGV2KQ0KPiAr
CQlyZXR1cm4gLUVJTlZBTDsNCj4gKw0KPiAgIAkvKiBDaGVjayB0aGF0IG51bV9od19zdWJtaXNz
aW9uIGlzIGEgcG93ZXIgb2YgdHdvICovDQo+ICAgCWlmICgobnVtX2h3X3N1Ym1pc3Npb24gJiAo
bnVtX2h3X3N1Ym1pc3Npb24gLSAxKSkgIT0gMCkNCj4gICAJCXJldHVybiAtRUlOVkFMOw0KPiBA
QCAtNDY1LDEyICs0NjksMzEgQEAgaW50IGFtZGdwdV9mZW5jZV9kcml2ZXJfaW5pdF9yaW5nKHN0
cnVjdCBhbWRncHVfcmluZyAqcmluZywNCj4gICANCj4gICAJLyogTm8gbmVlZCB0byBzZXR1cCB0
aGUgR1BVIHNjaGVkdWxlciBmb3IgS0lRIHJpbmcgKi8NCj4gICAJaWYgKHJpbmctPmZ1bmNzLT50
eXBlICE9IEFNREdQVV9SSU5HX1RZUEVfS0lRKSB7DQo+IC0JCS8qIGZvciBub24tc3Jpb3YgY2Fz
ZSwgbm8gdGltZW91dCBlbmZvcmNlIG9uIGNvbXB1dGUgcmluZyAqLw0KPiAtCQlpZiAoKHJpbmct
PmZ1bmNzLT50eXBlID09IEFNREdQVV9SSU5HX1RZUEVfQ09NUFVURSkNCj4gLQkJCQkmJiAhYW1k
Z3B1X3NyaW92X3ZmKHJpbmctPmFkZXYpKQ0KPiAtCQkJdGltZW91dCA9IE1BWF9TQ0hFRFVMRV9U
SU1FT1VUOw0KPiAtCQllbHNlDQo+IC0JCQl0aW1lb3V0ID0gbXNlY3NfdG9famlmZmllcyhhbWRn
cHVfbG9ja3VwX3RpbWVvdXQpOw0KPiArCQlzd2l0Y2ggKHJpbmctPmZ1bmNzLT50eXBlKSB7DQo+
ICsJCWNhc2UgQU1ER1BVX1JJTkdfVFlQRV9HRlg6DQo+ICsJCQl0aW1lb3V0ID0gYWRldi0+Z2Z4
X3RpbWVvdXQ7DQo+ICsJCQlicmVhazsNCj4gKwkJY2FzZSBBTURHUFVfUklOR19UWVBFX0NPTVBV
VEU6DQo+ICsJCQkvKg0KPiArCQkJICogRm9yIG5vbi1zcmlvdiBjYXNlLCBubyB0aW1lb3V0IGVu
Zm9yY2UNCj4gKwkJCSAqIG9uIGNvbXB1dGUgcmluZyBhdCBkZWZhdWx0LiBVbmxlc3MgdXNlcg0K
PiArCQkJICogc3BlY2lmaWVzIGEgdGltZW91dCBmb3IgY29tcHV0ZSByaW5nLg0KPiArCQkJICoN
Cj4gKwkJCSAqIEZvciBzcmlvdiBjYXNlLCBhbHdheXMgdXNlIHRoZSB0aW1lb3V0DQo+ICsJCQkg
KiBhcyBnZnggcmluZw0KPiArCQkJICovDQo+ICsJCQlpZiAoIWFtZGdwdV9zcmlvdl92ZihyaW5n
LT5hZGV2KSkNCj4gKwkJCQl0aW1lb3V0ID0gYWRldi0+Y29tcHV0ZV90aW1lb3V0Ow0KPiArCQkJ
ZWxzZQ0KPiArCQkJCXRpbWVvdXQgPSBhZGV2LT5nZnhfdGltZW91dDsNCj4gKwkJCWJyZWFrOw0K
PiArCQljYXNlIEFNREdQVV9SSU5HX1RZUEVfU0RNQToNCj4gKwkJCXRpbWVvdXQgPSBhZGV2LT5z
ZG1hX3RpbWVvdXQ7DQo+ICsJCQlicmVhazsNCj4gKwkJZGVmYXVsdDoNCj4gKwkJCXRpbWVvdXQg
PSBhZGV2LT52aWRlb190aW1lb3V0Ow0KPiArCQkJYnJlYWs7DQo+ICsJCX0NCj4gICANCj4gICAJ
CXIgPSBkcm1fc2NoZWRfaW5pdCgmcmluZy0+c2NoZWQsICZhbWRncHVfc2NoZWRfb3BzLA0KPiAg
IAkJCQkgICBudW1faHdfc3VibWlzc2lvbiwgYW1kZ3B1X2pvYl9oYW5nX2xpbWl0LA0KPiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvbXhncHVfYWkuYyBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L214Z3B1X2FpLmMNCj4gaW5kZXggOGRiYWQ0OTZiMjlmLi4wODk5
NTJhMWU2YjAgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L214Z3B1
X2FpLmMNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvbXhncHVfYWkuYw0KPiBA
QCAtMzQzLDcgKzM0Myw3IEBAIHN0YXRpYyB2b2lkIHhncHVfYWlfbWFpbGJveF9mbHJfd29yayhz
dHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspDQo+ICAgDQo+ICAgCS8qIFRyaWdnZXIgcmVjb3Zlcnkg
Zm9yIHdvcmxkIHN3aXRjaCBmYWlsdXJlIGlmIG5vIFREUiAqLw0KPiAgIAlpZiAoYW1kZ3B1X2Rl
dmljZV9zaG91bGRfcmVjb3Zlcl9ncHUoYWRldikNCj4gLQkJJiYgYW1kZ3B1X2xvY2t1cF90aW1l
b3V0ID09IE1BWF9TQ0hFRFVMRV9USU1FT1VUKQ0KPiArCQkmJiBhZGV2LT5zZG1hX3RpbWVvdXQg
PT0gTUFYX1NDSEVEVUxFX1RJTUVPVVQpDQo+ICAgCQlhbWRncHVfZGV2aWNlX2dwdV9yZWNvdmVy
KGFkZXYsIE5VTEwpOw0KPiAgIH0NCj4gICANCg0KX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5m
cmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0
aW5mby9hbWQtZ2Z4
