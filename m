Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 09988131450
	for <lists+amd-gfx@lfdr.de>; Mon,  6 Jan 2020 16:03:46 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 304AA6E47E;
	Mon,  6 Jan 2020 15:03:43 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-wr1-x442.google.com (mail-wr1-x442.google.com
 [IPv6:2a00:1450:4864:20::442])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 1727F6E479
 for <amd-gfx@lists.freedesktop.org>; Mon,  6 Jan 2020 15:03:42 +0000 (UTC)
Received: by mail-wr1-x442.google.com with SMTP id j42so49920178wrj.12
 for <amd-gfx@lists.freedesktop.org>; Mon, 06 Jan 2020 07:03:42 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:subject:date:message-id:in-reply-to:references:mime-version
 :content-transfer-encoding;
 bh=zqH7IlWWK+zTdp0UwuEt8K68Cd/1mAjYbsquN/LsZ30=;
 b=eXu9uvnvyu4y3SwbLRNKTQqWAlRdHQ3RBh409KwKXFMwYQzCcqcmT0p/rORI1nwKQq
 pWxySXPvl2mVA60S7Vls7BHn7y3KKtdqmUDEAJ+eiihJPpjVwc63dai9WguqIxKM/NX7
 TBOdpwvUpWGvOyaGR/Er6hMGT6ExtOgGvRTX5U7QrMM7nhFQvoK8qG1x0VkmzobXpdEo
 13K74/wXhUaBPGHeNutzPNvc38ygUjcTcGtb4Xu8CHs8OnbWOeR4nCvHhu81F3fSXzZB
 Xnq/166RcqJ5irHAczrU5ooF8A3kAh8QMfAuYBMZa5+2X5kUP8CJkfvlOsg3rHz7olJf
 A/5Q==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=zqH7IlWWK+zTdp0UwuEt8K68Cd/1mAjYbsquN/LsZ30=;
 b=JOouIcp7Y0FN+54qApYcclgJFrWQGY5DxYYFYXwga522YnSe3B6n5Tz/t0KtYSOLpB
 vxdPUCRapWDirIUsxPkVnxZUC+ptqSj+k3WBaiajMhnz3eCW16/4wTbRQYBtIgzyae7F
 dOWdq2nZ61oQipSOsEFbFPCVKIuggUlRwRdwGJ/E9YKQlBqt52tp0d21EV1eXGD0q8Kd
 kPO+CU6p6E5egyFxs+Abato5JqC9mT5wPG+47/P8/TGfcHLVDYsA8NsEcsIB2W9R5xjm
 fE2BLhyFNHws2mHk40WWnIsgr9e9+W7R+QzJh2dFJLVee9oeLWMd9XwgrAE7gU7Y0GSR
 EOBw==
X-Gm-Message-State: APjAAAVvQf27xDJCvYSS3phM1vzW9b3DvOtoy1rYtyAbgVbgItFdpXK6
 6XPYlfASc3XgT/DGUFSg43E=
X-Google-Smtp-Source: APXvYqzywVsp0cy5T74JUm4O85xFfIq47n3FPs5EvixZDey5cOn22SrRpWuqZ9hkiduswl2vx9n/zg==
X-Received: by 2002:adf:eb0a:: with SMTP id
 s10mr108764472wrn.320.1578323020706; 
 Mon, 06 Jan 2020 07:03:40 -0800 (PST)
Received: from abel.fritz.box ([2a02:908:1252:fb60:ece2:ff95:11ee:3e72])
 by smtp.gmail.com with ESMTPSA id b17sm70307444wrp.49.2020.01.06.07.03.39
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Mon, 06 Jan 2020 07:03:40 -0800 (PST)
From: "=?UTF-8?q?Christian=20K=C3=B6nig?=" <ckoenig.leichtzumerken@gmail.com>
X-Google-Original-From: =?UTF-8?q?Christian=20K=C3=B6nig?=
 <christian.koenig@amd.com>
To: Alex.Sierra@amd.com, Philip.Yang@amd.com, Felix.Kuehling@amd.com,
 amd-gfx@lists.freedesktop.org
Subject: [PATCH 02/12] drm/amdgpu: stop adding VM updates fences to the resv
 obj
Date: Mon,  6 Jan 2020 16:03:25 +0100
Message-Id: <20200106150335.1738-3-christian.koenig@amd.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20200106150335.1738-1-christian.koenig@amd.com>
References: <20200106150335.1738-1-christian.koenig@amd.com>
MIME-Version: 1.0
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RG9uJ3QgYWRkIHRoZSBWTSB1cGRhdGUgZmVuY2VzIHRvIHRoZSByZXN2IG9iamVjdCBhbmQgcmVt
b3ZlCnRoZSBoYW5kbGluZyB0byBzdG9wIGltcGxpY2l0ZWx5IHN5bmNpbmcgdG8gdGhlbS4KCk9u
Z29pbmcgdXBkYXRlcyBwcmV2ZW50IHBhZ2UgdGFibGVzIGZyb20gYmVpbmcgZXZpY3RlZCBhbmQg
d2UgbWFudWFsbHkKYmxvY2sgZm9yIGFsbCB1cGRhdGVzIHRvIGNvbXBsZXRlIGJlZm9yZSByZWxl
YXNpbmcgUERzIGFuZCBQVFMuCgpUaGlzIHdheSB3ZSBjYW4gZG8gdXBkYXRlcyBldmVuIHdpdGhv
dXQgdGhlIHJlc3Ygb2JqIGxvY2tlZC4KClNpZ25lZC1vZmYtYnk6IENocmlzdGlhbiBLw7ZuaWcg
PGNocmlzdGlhbi5rb2VuaWdAYW1kLmNvbT4KUmV2aWV3ZWQtYnk6IEZlbGl4IEt1ZWhsaW5nIDxG
ZWxpeC5LdWVobGluZ0BhbWQuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV9zeW5jLmMgICAgfCAxMCArKystLS0tCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9h
bWRncHVfdm0uYyAgICAgIHwgMzAgKysrKysrKysrKysrKysrKysrLS0tCiBkcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHVfdm0uaCAgICAgIHwgIDQgKysrCiBkcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfdm1fc2RtYS5jIHwgMTEgKysrKystLS0KIDQgZmlsZXMgY2hhbmdl
ZCwgNDIgaW5zZXJ0aW9ucygrKSwgMTMgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3N5bmMuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2FtZGdwdV9zeW5jLmMKaW5kZXggZjFlNWZiZWY1NGQ4Li5hMDliNmI5YzI3ZDEgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9zeW5jLmMKKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3N5bmMuYwpAQCAtMjQwLDEzICsyNDAs
MTEgQEAgaW50IGFtZGdwdV9zeW5jX3Jlc3Yoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCiAJ
CQljb250aW51ZTsKIAogCQlpZiAoYW1kZ3B1X3N5bmNfc2FtZV9kZXYoYWRldiwgZikpIHsKLQkJ
CS8qIFZNIHVwZGF0ZXMgYXJlIG9ubHkgaW50ZXJlc3RpbmcKLQkJCSAqIGZvciBvdGhlciBWTSB1
cGRhdGVzIGFuZCBtb3Zlcy4KKwkJCS8qIFZNIHVwZGF0ZXMgb25seSBzeW5jIHdpdGggbW92ZXMg
YnV0IG5vdCB3aXRoIHVzZXIKKwkJCSAqIGNvbW1hbmQgc3VibWlzc2lvbnMgb3IgS0ZEIGV2aWN0
aW9ucyBmZW5jZXMKIAkJCSAqLwotCQkJaWYgKChvd25lciAhPSBBTURHUFVfRkVOQ0VfT1dORVJf
VU5ERUZJTkVEKSAmJgotCQkJICAgIChmZW5jZV9vd25lciAhPSBBTURHUFVfRkVOQ0VfT1dORVJf
VU5ERUZJTkVEKSAmJgotCQkJICAgICgob3duZXIgPT0gQU1ER1BVX0ZFTkNFX09XTkVSX1ZNKSAh
PQotCQkJICAgICAoZmVuY2Vfb3duZXIgPT0gQU1ER1BVX0ZFTkNFX09XTkVSX1ZNKSkpCisJCQlp
ZiAob3duZXIgPT0gQU1ER1BVX0ZFTkNFX09XTkVSX1ZNICYmCisJCQkgICAgZmVuY2Vfb3duZXIg
IT0gQU1ER1BVX0ZFTkNFX09XTkVSX1VOREVGSU5FRCkKIAkJCQljb250aW51ZTsKIAogCQkJLyog
SWdub3JlIGZlbmNlIGZyb20gdGhlIHNhbWUgb3duZXIgYW5kIGV4cGxpY2l0IG9uZSBhcwpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtLmMgYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdm0uYwppbmRleCBhMjJiZDU3MTI5ZDEuLjBkNzAw
ZTgxNTRjNCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3Zt
LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtLmMKQEAgLTU2Miw4
ICs1NjIsOCBAQCB2b2lkIGFtZGdwdV92bV9nZXRfcGRfYm8oc3RydWN0IGFtZGdwdV92bSAqdm0s
CiB7CiAJZW50cnktPnByaW9yaXR5ID0gMDsKIAllbnRyeS0+dHYuYm8gPSAmdm0tPnJvb3QuYmFz
ZS5iby0+dGJvOwotCS8qIE9uZSBmb3IgdGhlIFZNIHVwZGF0ZXMsIG9uZSBmb3IgVFRNIGFuZCBv
bmUgZm9yIHRoZSBDUyBqb2IgKi8KLQllbnRyeS0+dHYubnVtX3NoYXJlZCA9IDM7CisJLyogT25l
IGZvciBUVE0gYW5kIG9uZSBmb3IgdGhlIENTIGpvYiAqLworCWVudHJ5LT50di5udW1fc2hhcmVk
ID0gMjsKIAllbnRyeS0+dXNlcl9wYWdlcyA9IE5VTEw7CiAJbGlzdF9hZGQoJmVudHJ5LT50di5o
ZWFkLCB2YWxpZGF0ZWQpOwogfQpAQCAtMjUyMiw2ICsyNTIyLDExIEBAIGJvb2wgYW1kZ3B1X3Zt
X2V2aWN0YWJsZShzdHJ1Y3QgYW1kZ3B1X2JvICpibykKIAlpZiAoIWRtYV9yZXN2X3Rlc3Rfc2ln
bmFsZWRfcmN1KGJvLT50Ym8uYmFzZS5yZXN2LCB0cnVlKSkKIAkJcmV0dXJuIGZhbHNlOwogCisJ
LyogRG9uJ3QgZXZpY3QgVk0gcGFnZSB0YWJsZXMgd2hpbGUgdGhleSBhcmUgdXBkYXRlZCAqLwor
CWlmICghZG1hX2ZlbmNlX2lzX3NpZ25hbGVkKGJvX2Jhc2UtPnZtLT5sYXN0X2RpcmVjdCkgfHwK
KwkgICAgIWRtYV9mZW5jZV9pc19zaWduYWxlZChib19iYXNlLT52bS0+bGFzdF9kZWxheWVkKSkK
KwkJcmV0dXJuIGZhbHNlOworCiAJcmV0dXJuIHRydWU7CiB9CiAKQEAgLTI2ODcsOCArMjY5Miwx
NiBAQCB2b2lkIGFtZGdwdV92bV9hZGp1c3Rfc2l6ZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRl
diwgdWludDMyX3QgbWluX3ZtX3NpemUsCiAgKi8KIGxvbmcgYW1kZ3B1X3ZtX3dhaXRfaWRsZShz
dHJ1Y3QgYW1kZ3B1X3ZtICp2bSwgbG9uZyB0aW1lb3V0KQogewotCXJldHVybiBkbWFfcmVzdl93
YWl0X3RpbWVvdXRfcmN1KHZtLT5yb290LmJhc2UuYm8tPnRiby5iYXNlLnJlc3YsCi0JCQkJCQkg
ICB0cnVlLCB0cnVlLCB0aW1lb3V0KTsKKwl0aW1lb3V0ID0gZG1hX3Jlc3Zfd2FpdF90aW1lb3V0
X3JjdSh2bS0+cm9vdC5iYXNlLmJvLT50Ym8uYmFzZS5yZXN2LAorCQkJCQkgICAgdHJ1ZSwgdHJ1
ZSwgdGltZW91dCk7CisJaWYgKHRpbWVvdXQgPD0gMCkKKwkJcmV0dXJuIHRpbWVvdXQ7CisKKwl0
aW1lb3V0ID0gZG1hX2ZlbmNlX3dhaXRfdGltZW91dCh2bS0+bGFzdF9kaXJlY3QsIHRydWUsIHRp
bWVvdXQpOworCWlmICh0aW1lb3V0IDw9IDApCisJCXJldHVybiB0aW1lb3V0OworCisJcmV0dXJu
IGRtYV9mZW5jZV93YWl0X3RpbWVvdXQodm0tPmxhc3RfZGVsYXllZCwgdHJ1ZSwgdGltZW91dCk7
CiB9CiAKIC8qKgpAQCAtMjc1Nyw2ICsyNzcwLDggQEAgaW50IGFtZGdwdV92bV9pbml0KHN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2LCBzdHJ1Y3QgYW1kZ3B1X3ZtICp2bSwKIAllbHNlCiAJCXZt
LT51cGRhdGVfZnVuY3MgPSAmYW1kZ3B1X3ZtX3NkbWFfZnVuY3M7CiAJdm0tPmxhc3RfdXBkYXRl
ID0gTlVMTDsKKwl2bS0+bGFzdF9kaXJlY3QgPSBkbWFfZmVuY2VfZ2V0X3N0dWIoKTsKKwl2bS0+
bGFzdF9kZWxheWVkID0gZG1hX2ZlbmNlX2dldF9zdHViKCk7CiAKIAlhbWRncHVfdm1fYm9fcGFy
YW0oYWRldiwgdm0sIGFkZXYtPnZtX21hbmFnZXIucm9vdF9sZXZlbCwgZmFsc2UsICZicCk7CiAJ
aWYgKHZtX2NvbnRleHQgPT0gQU1ER1BVX1ZNX0NPTlRFWFRfQ09NUFVURSkKQEAgLTI4MDcsNiAr
MjgyMiw4IEBAIGludCBhbWRncHVfdm1faW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwg
c3RydWN0IGFtZGdwdV92bSAqdm0sCiAJdm0tPnJvb3QuYmFzZS5ibyA9IE5VTEw7CiAKIGVycm9y
X2ZyZWVfZGVsYXllZDoKKwlkbWFfZmVuY2VfcHV0KHZtLT5sYXN0X2RpcmVjdCk7CisJZG1hX2Zl
bmNlX3B1dCh2bS0+bGFzdF9kZWxheWVkKTsKIAlkcm1fc2NoZWRfZW50aXR5X2Rlc3Ryb3koJnZt
LT5kZWxheWVkKTsKIAogZXJyb3JfZnJlZV9kaXJlY3Q6CkBAIC0zMDA3LDYgKzMwMjQsMTEgQEAg
dm9pZCBhbWRncHVfdm1fZmluaShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgc3RydWN0IGFt
ZGdwdV92bSAqdm0pCiAJCXZtLT5wYXNpZCA9IDA7CiAJfQogCisJZG1hX2ZlbmNlX3dhaXQodm0t
Pmxhc3RfZGlyZWN0LCBmYWxzZSk7CisJZG1hX2ZlbmNlX3B1dCh2bS0+bGFzdF9kaXJlY3QpOwor
CWRtYV9mZW5jZV93YWl0KHZtLT5sYXN0X2RlbGF5ZWQsIGZhbHNlKTsKKwlkbWFfZmVuY2VfcHV0
KHZtLT5sYXN0X2RlbGF5ZWQpOworCiAJbGlzdF9mb3JfZWFjaF9lbnRyeV9zYWZlKG1hcHBpbmcs
IHRtcCwgJnZtLT5mcmVlZCwgbGlzdCkgewogCQlpZiAobWFwcGluZy0+ZmxhZ3MgJiBBTURHUFVf
UFRFX1BSVCAmJiBwcnRfZmluaV9uZWVkZWQpIHsKIAkJCWFtZGdwdV92bV9wcnRfZmluaShhZGV2
LCB2bSk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdm0u
aCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92bS5oCmluZGV4IGRiNTYxNzY1
NDUzYi4uZDkzZWE5YWQ4NzllIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9hbWRncHVfdm0uaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdm0u
aApAQCAtMjY5LDYgKzI2OSwxMCBAQCBzdHJ1Y3QgYW1kZ3B1X3ZtIHsKIAlzdHJ1Y3QgZHJtX3Nj
aGVkX2VudGl0eQlkaXJlY3Q7CiAJc3RydWN0IGRybV9zY2hlZF9lbnRpdHkJZGVsYXllZDsKIAor
CS8qIExhc3Qgc3VibWlzc2lvbiB0byB0aGUgc2NoZWR1bGVyIGVudGl0aWVzICovCisJc3RydWN0
IGRtYV9mZW5jZQkqbGFzdF9kaXJlY3Q7CisJc3RydWN0IGRtYV9mZW5jZQkqbGFzdF9kZWxheWVk
OworCiAJdW5zaWduZWQgaW50CQlwYXNpZDsKIAkvKiBkZWRpY2F0ZWQgdG8gdm0gKi8KIAlzdHJ1
Y3QgYW1kZ3B1X3ZtaWQJKnJlc2VydmVkX3ZtaWRbQU1ER1BVX01BWF9WTUhVQlNdOwpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtX3NkbWEuYyBiL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92bV9zZG1hLmMKaW5kZXggNTBmNDg3NjY2OTc3
Li4xOWI3ZjgwNzU4ZjEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV92bV9zZG1hLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3Zt
X3NkbWEuYwpAQCAtOTUsMTEgKzk1LDEwIEBAIHN0YXRpYyBpbnQgYW1kZ3B1X3ZtX3NkbWFfcHJl
cGFyZShzdHJ1Y3QgYW1kZ3B1X3ZtX3VwZGF0ZV9wYXJhbXMgKnAsCiBzdGF0aWMgaW50IGFtZGdw
dV92bV9zZG1hX2NvbW1pdChzdHJ1Y3QgYW1kZ3B1X3ZtX3VwZGF0ZV9wYXJhbXMgKnAsCiAJCQkJ
IHN0cnVjdCBkbWFfZmVuY2UgKipmZW5jZSkKIHsKLQlzdHJ1Y3QgYW1kZ3B1X2JvICpyb290ID0g
cC0+dm0tPnJvb3QuYmFzZS5ibzsKIAlzdHJ1Y3QgYW1kZ3B1X2liICppYiA9IHAtPmpvYi0+aWJz
OwogCXN0cnVjdCBkcm1fc2NoZWRfZW50aXR5ICplbnRpdHk7CisJc3RydWN0IGRtYV9mZW5jZSAq
ZiwgKnRtcDsKIAlzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmc7Ci0Jc3RydWN0IGRtYV9mZW5jZSAq
ZjsKIAlpbnQgcjsKIAogCWVudGl0eSA9IHAtPmRpcmVjdCA/ICZwLT52bS0+ZGlyZWN0IDogJnAt
PnZtLT5kZWxheWVkOwpAQCAtMTEyLDcgKzExMSwxMyBAQCBzdGF0aWMgaW50IGFtZGdwdV92bV9z
ZG1hX2NvbW1pdChzdHJ1Y3QgYW1kZ3B1X3ZtX3VwZGF0ZV9wYXJhbXMgKnAsCiAJaWYgKHIpCiAJ
CWdvdG8gZXJyb3I7CiAKLQlhbWRncHVfYm9fZmVuY2Uocm9vdCwgZiwgdHJ1ZSk7CisJdG1wID0g
ZG1hX2ZlbmNlX2dldChmKTsKKwlpZiAocC0+ZGlyZWN0KQorCQlzd2FwKHAtPnZtLT5sYXN0X2Rp
cmVjdCwgdG1wKTsKKwllbHNlCisJCXN3YXAocC0+dm0tPmxhc3RfZGVsYXllZCwgdG1wKTsKKwlk
bWFfZmVuY2VfcHV0KHRtcCk7CisKIAlpZiAoZmVuY2UgJiYgIXAtPmRpcmVjdCkKIAkJc3dhcCgq
ZmVuY2UsIGYpOwogCWRtYV9mZW5jZV9wdXQoZik7Ci0tIAoyLjE3LjEKCl9fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFt
ZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
L21haWxtYW4vbGlzdGluZm8vYW1kLWdmeAo=
