Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id EF1E6184F1
	for <lists+amd-gfx@lfdr.de>; Thu,  9 May 2019 07:47:30 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 9869589AEB;
	Thu,  9 May 2019 05:47:29 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-wm1-x333.google.com (mail-wm1-x333.google.com
 [IPv6:2a00:1450:4864:20::333])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A67AB89AEB
 for <amd-gfx@lists.freedesktop.org>; Thu,  9 May 2019 05:47:27 +0000 (UTC)
Received: by mail-wm1-x333.google.com with SMTP id n25so1410397wmk.4
 for <amd-gfx@lists.freedesktop.org>; Wed, 08 May 2019 22:47:27 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=gd+K1MUBREXbob2UDQe+HYul8Tu6eLCXCPUA/pxyXKY=;
 b=Efz3J6Y1SXR913d0XDxOVkXKWeMFwfutVLZOolRyVuAJRWXScaOhDRL/PJkG2TpvVD
 AqeGRo9NXWe7aZ+cyxcRs/4SAYtLcnDzGr8NNtjJBTSWqtkLpHwQUW0F9ey3hmV0T0qq
 pG5sBj1CggPe3Vp839DU5MIEpGcpz19008rB3YK5nck0qnlIZy4d8arfx345MBOX/Zuz
 UqBqTg0tbcC+CPwCe6+9VH7GIhjJNVabA8Y/Wvpm6QqDHiDIxYewhwHJgybKrejtH5qj
 oeA/ZnaBBb053ia0JT3Ze9pSty7uCzkDn/HeXIM1CVkkkY1NapRSIKPAtfJwriqTQaTX
 /ECA==
X-Gm-Message-State: APjAAAUSQUN82UgEuCeoON6z8Bj1Q0BdewA2a1jl90dbwWy0CQEexD2r
 xCrU4K7ntfDuX1SFt7dkvceWO5XhZ7knVPT91OLpuw==
X-Google-Smtp-Source: APXvYqyWgA22BtVMpXwiV7u+L7BIGBxrCGg7Qd6Dsh0bns9bf531GGZpKgGtNOqjl7uFLSxDo2Zy6JPu/XPPdXVauZo=
X-Received: by 2002:a1c:2e89:: with SMTP id u131mr1358707wmu.82.1557380846242; 
 Wed, 08 May 2019 22:47:26 -0700 (PDT)
MIME-Version: 1.0
References: <1557283541-7877-1-git-send-email-Trigger.Huang@amd.com>
 <1557283541-7877-8-git-send-email-Trigger.Huang@amd.com>
In-Reply-To: <1557283541-7877-8-git-send-email-Trigger.Huang@amd.com>
From: Alex Deucher <alexdeucher@gmail.com>
Date: Thu, 9 May 2019 01:47:14 -0400
Message-ID: <CADnq5_M6igonYkw+oFLXnND-jGfbHD4aY79SJJ+hwc7LhkancA@mail.gmail.com>
Subject: Re: [PATCH 7/9] drm/amdgpu: Skip setting some regs under Vega10 VF
To: Trigger Huang <Trigger.Huang@amd.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=gd+K1MUBREXbob2UDQe+HYul8Tu6eLCXCPUA/pxyXKY=;
 b=dau/pKLKvEiWGbAkJWpfSNWdHR1aiIjQG04owcVHCZ2NYL2FkmlGRkj2JY1DAGc0+r
 XZB7Lxgspj+x413pZkZN4UsqR5D2UR+VO9aZ/iW6f2nVePA7N/4AU4XxNFdDVlPG5FNu
 TZpRVhd6DgPCDKQ6S6RIeUKV9VGQGRBfMhSSFyKwZI/GffcnMmZmWPBWXtqGDfegS9cj
 67F0iU9RxSR5cFQN/iRNmAaL8/HVCk8MQYKq3KUcDtKg7kVf7gCMcg0oTsdytuYQxWwu
 SdY6FaKhPpuIlCUoIdmaHbf384JH0A9JdTRAYUwfMe5uwn26vNIDbnp9k5tXXaWNpM07
 VHGA==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Wang, Daniel\(Xiaowei\)" <Daniel.Wang2@amd.com>,
 amd-gfx list <amd-gfx@lists.freedesktop.org>, Rashid.Sohail@amd.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

T24gVHVlLCBNYXkgNywgMjAxOSBhdCAxMDo0NiBQTSBUcmlnZ2VyIEh1YW5nIDxUcmlnZ2VyLkh1
YW5nQGFtZC5jb20+IHdyb3RlOgo+Cj4gRm9yIFZlZ2ExMCBTUi1JT1YgVkYsIHNraXAgc2V0dGlu
ZyBzb21lIHJlZ3MgZHVlIHRvOgo+IDEsIGhvc3Qgd2lsbCBwcm9ncmFtIHRobWUKClR5cG86IHRo
bWUgLT4gdGhlbQoKV2l0aCB0aGF0IGZpeGVkOgpSZXZpZXdlZC1ieTogQWxleCBEZXVjaGVyIDxh
bGV4YW5kZXIuZGV1Y2hlckBhbWQuY29tPgoKPiAyLCBhdm9pZCBWRiByZWdpc3RlciBwcm9ncmFt
bWluZyB2aW9sYXRpb25zCj4KPiBDaGFuZ2UtSWQ6IElkNDNlN2ZjYTc3NzUwMzViZTQ3Njk2YzY3
YTc0YWQ0MTg0MDMwMzZiCj4gU2lnbmVkLW9mZi1ieTogVHJpZ2dlciBIdWFuZyA8VHJpZ2dlci5I
dWFuZ0BhbWQuY29tPgo+IC0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjlf
MC5jICAgfCAxNCArKysrKysrKy0tLS0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9n
bWNfdjlfMC5jICAgfCAgMyArKysKPiAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvbW1odWJf
djFfMC5jIHwgMjUgKysrKysrKysrKysrKysrKysrKystLS0tLQo+ICBkcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9zZG1hX3Y0XzAuYyAgfCAxNCArKysrKysrKy0tLS0tLQo+ICBkcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9zb2MxNS5jICAgICAgfCAxNiArKysrKysrKysrKy0tLS0tCj4gIDUg
ZmlsZXMgY2hhbmdlZCwgNTAgaW5zZXJ0aW9ucygrKSwgMjIgZGVsZXRpb25zKC0pCj4KPiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3Y5XzAuYyBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92OV8wLmMKPiBpbmRleCBlZjQyNzJkLi42YjIwM2M5IDEw
MDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92OV8wLmMKPiArKysg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjlfMC5jCj4gQEAgLTMwNywxMiArMzA3
LDE0IEBAIHN0YXRpYyB2b2lkIGdmeF92OV8wX2luaXRfZ29sZGVuX3JlZ2lzdGVycyhzdHJ1Y3Qg
YW1kZ3B1X2RldmljZSAqYWRldikKPiAgewo+ICAgICAgICAgc3dpdGNoIChhZGV2LT5hc2ljX3R5
cGUpIHsKPiAgICAgICAgIGNhc2UgQ0hJUF9WRUdBMTA6Cj4gLSAgICAgICAgICAgICAgIHNvYzE1
X3Byb2dyYW1fcmVnaXN0ZXJfc2VxdWVuY2UoYWRldiwKPiAtICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgZ29sZGVuX3NldHRpbmdzX2djXzlfMCwKPiAtICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQVJSQVlfU0laRShn
b2xkZW5fc2V0dGluZ3NfZ2NfOV8wKSk7Cj4gLSAgICAgICAgICAgICAgIHNvYzE1X3Byb2dyYW1f
cmVnaXN0ZXJfc2VxdWVuY2UoYWRldiwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgZ29sZGVuX3NldHRpbmdzX2djXzlfMF92ZzEwLAo+IC0gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBUlJBWV9TSVpFKGdvbGRl
bl9zZXR0aW5nc19nY185XzBfdmcxMCkpOwo+ICsgICAgICAgICAgICAgICBpZiAoIWFtZGdwdV92
aXJ0X3N1cHBvcnRfc2tpcF9zZXR0aW5nKGFkZXYpKSB7Cj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgc29jMTVfcHJvZ3JhbV9yZWdpc3Rlcl9zZXF1ZW5jZShhZGV2LAo+ICsgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvbGRlbl9zZXR0aW5n
c19nY185XzAsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgQVJSQVlfU0laRShnb2xkZW5fc2V0dGluZ3NfZ2NfOV8wKSk7Cj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgc29jMTVfcHJvZ3JhbV9yZWdpc3Rlcl9zZXF1ZW5jZShhZGV2LAo+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IGdvbGRlbl9zZXR0aW5nc19nY185XzBfdmcxMCwKPiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBUlJBWV9TSVpFKGdvbGRlbl9zZXR0aW5n
c19nY185XzBfdmcxMCkpOwo+ICsgICAgICAgICAgICAgICB9Cj4gICAgICAgICAgICAgICAgIGJy
ZWFrOwo+ICAgICAgICAgY2FzZSBDSElQX1ZFR0ExMjoKPiAgICAgICAgICAgICAgICAgc29jMTVf
cHJvZ3JhbV9yZWdpc3Rlcl9zZXF1ZW5jZShhZGV2LAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9nbWNfdjlfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
Z21jX3Y5XzAuYwo+IGluZGV4IDcyN2UyNmEuLmI0MTU3NGUgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3Y5XzAuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2dtY192OV8wLmMKPiBAQCAtMTA4Nyw2ICsxMDg3LDkgQEAgc3RhdGljIHZvaWQg
Z21jX3Y5XzBfaW5pdF9nb2xkZW5fcmVnaXN0ZXJzKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2
KQo+Cj4gICAgICAgICBzd2l0Y2ggKGFkZXYtPmFzaWNfdHlwZSkgewo+ICAgICAgICAgY2FzZSBD
SElQX1ZFR0ExMDoKPiArICAgICAgICAgICAgICAgaWYgKGFtZGdwdV92aXJ0X3N1cHBvcnRfc2tp
cF9zZXR0aW5nKGFkZXYpKQo+ICsgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwo+ICsgICAg
ICAgICAgICAgICAvKiBmYWxsIHRocm91Z2ggKi8KPiAgICAgICAgIGNhc2UgQ0hJUF9WRUdBMjA6
Cj4gICAgICAgICAgICAgICAgIHNvYzE1X3Byb2dyYW1fcmVnaXN0ZXJfc2VxdWVuY2UoYWRldiwK
PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb2xkZW5f
c2V0dGluZ3NfbW1odWJfMV8wXzAsCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L21taHViX3YxXzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L21taHViX3Yx
XzAuYwo+IGluZGV4IDE3NDEwNTYuLjgwNTQxMzEgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvbW1odWJfdjFfMC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvbW1odWJfdjFfMC5jCj4gQEAgLTExMSw2ICsxMTEsOSBAQCBzdGF0aWMgdm9pZCBtbWh1
Yl92MV8wX2luaXRfc3lzdGVtX2FwZXJ0dXJlX3JlZ3Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFk
ZXYpCj4gICAgICAgICAgICAgICAgIFdSRUczMl9TT0MxNShNTUhVQiwgMCwgbW1NQ19WTV9TWVNU
RU1fQVBFUlRVUkVfSElHSF9BRERSLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4
KGFkZXYtPmdtYy5mYl9lbmQsIGFkZXYtPmdtYy5hZ3BfZW5kKSA+PiAxOCk7Cj4KPiArICAgICAg
IGlmIChhbWRncHVfdmlydF9zdXBwb3J0X3NraXBfc2V0dGluZyhhZGV2KSkKPiArICAgICAgICAg
ICAgICAgcmV0dXJuOwo+ICsKPiAgICAgICAgIC8qIFNldCBkZWZhdWx0IHBhZ2UgYWRkcmVzcy4g
Ki8KPiAgICAgICAgIHZhbHVlID0gYWRldi0+dnJhbV9zY3JhdGNoLmdwdV9hZGRyIC0gYWRldi0+
Z21jLnZyYW1fc3RhcnQgKwo+ICAgICAgICAgICAgICAgICBhZGV2LT52bV9tYW5hZ2VyLnZyYW1f
YmFzZV9vZmZzZXQ7Cj4gQEAgLTE1Niw2ICsxNTksOSBAQCBzdGF0aWMgdm9pZCBtbWh1Yl92MV8w
X2luaXRfY2FjaGVfcmVncyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKPiAgewo+ICAgICAg
ICAgdWludDMyX3QgdG1wOwo+Cj4gKyAgICAgICBpZiAoYW1kZ3B1X3ZpcnRfc3VwcG9ydF9za2lw
X3NldHRpbmcoYWRldikpCj4gKyAgICAgICAgICAgICAgIHJldHVybjsKPiArCj4gICAgICAgICAv
KiBTZXR1cCBMMiBjYWNoZSAqLwo+ICAgICAgICAgdG1wID0gUlJFRzMyX1NPQzE1KE1NSFVCLCAw
LCBtbVZNX0wyX0NOVEwpOwo+ICAgICAgICAgdG1wID0gUkVHX1NFVF9GSUVMRCh0bXAsIFZNX0wy
X0NOVEwsIEVOQUJMRV9MMl9DQUNIRSwgMSk7Cj4gQEAgLTIwMSw2ICsyMDcsOSBAQCBzdGF0aWMg
dm9pZCBtbWh1Yl92MV8wX2VuYWJsZV9zeXN0ZW1fZG9tYWluKHN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2KQo+Cj4gIHN0YXRpYyB2b2lkIG1taHViX3YxXzBfZGlzYWJsZV9pZGVudGl0eV9hcGVy
dHVyZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKPiAgewo+ICsgICAgICAgaWYgKGFtZGdw
dV92aXJ0X3N1cHBvcnRfc2tpcF9zZXR0aW5nKGFkZXYpKQo+ICsgICAgICAgICAgICAgICByZXR1
cm47Cj4gKwo+ICAgICAgICAgV1JFRzMyX1NPQzE1KE1NSFVCLCAwLCBtbVZNX0wyX0NPTlRFWFQx
X0lERU5USVRZX0FQRVJUVVJFX0xPV19BRERSX0xPMzIsCj4gICAgICAgICAgICAgICAgICAgICAg
MFhGRkZGRkZGRik7Cj4gICAgICAgICBXUkVHMzJfU09DMTUoTU1IVUIsIDAsIG1tVk1fTDJfQ09O
VEVYVDFfSURFTlRJVFlfQVBFUlRVUkVfTE9XX0FERFJfSEkzMiwKPiBAQCAtMzM3LDExICszNDYs
MTMgQEAgdm9pZCBtbWh1Yl92MV8wX2dhcnRfZGlzYWJsZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldikKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDApOwo+ICAgICAgICAgV1JF
RzMyX1NPQzE1KE1NSFVCLCAwLCBtbU1DX1ZNX01YX0wxX1RMQl9DTlRMLCB0bXApOwo+Cj4gLSAg
ICAgICAvKiBTZXR1cCBMMiBjYWNoZSAqLwo+IC0gICAgICAgdG1wID0gUlJFRzMyX1NPQzE1KE1N
SFVCLCAwLCBtbVZNX0wyX0NOVEwpOwo+IC0gICAgICAgdG1wID0gUkVHX1NFVF9GSUVMRCh0bXAs
IFZNX0wyX0NOVEwsIEVOQUJMRV9MMl9DQUNIRSwgMCk7Cj4gLSAgICAgICBXUkVHMzJfU09DMTUo
TU1IVUIsIDAsIG1tVk1fTDJfQ05UTCwgdG1wKTsKPiAtICAgICAgIFdSRUczMl9TT0MxNShNTUhV
QiwgMCwgbW1WTV9MMl9DTlRMMywgMCk7Cj4gKyAgICAgICBpZiAoIWFtZGdwdV92aXJ0X3N1cHBv
cnRfc2tpcF9zZXR0aW5nKGFkZXYpKSB7Cj4gKyAgICAgICAgICAgICAgIC8qIFNldHVwIEwyIGNh
Y2hlICovCj4gKyAgICAgICAgICAgICAgIHRtcCA9IFJSRUczMl9TT0MxNShNTUhVQiwgMCwgbW1W
TV9MMl9DTlRMKTsKPiArICAgICAgICAgICAgICAgdG1wID0gUkVHX1NFVF9GSUVMRCh0bXAsIFZN
X0wyX0NOVEwsIEVOQUJMRV9MMl9DQUNIRSwgMCk7Cj4gKyAgICAgICAgICAgICAgIFdSRUczMl9T
T0MxNShNTUhVQiwgMCwgbW1WTV9MMl9DTlRMLCB0bXApOwo+ICsgICAgICAgICAgICAgICBXUkVH
MzJfU09DMTUoTU1IVUIsIDAsIG1tVk1fTDJfQ05UTDMsIDApOwo+ICsgICAgICAgfQo+ICB9Cj4K
PiAgLyoqCj4gQEAgLTM1Myw2ICszNjQsMTAgQEAgdm9pZCBtbWh1Yl92MV8wX2dhcnRfZGlzYWJs
ZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKPiAgdm9pZCBtbWh1Yl92MV8wX3NldF9mYXVs
dF9lbmFibGVfZGVmYXVsdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgYm9vbCB2YWx1ZSkK
PiAgewo+ICAgICAgICAgdTMyIHRtcDsKPiArCj4gKyAgICAgICBpZiAoYW1kZ3B1X3ZpcnRfc3Vw
cG9ydF9za2lwX3NldHRpbmcoYWRldikpCj4gKyAgICAgICAgICAgICAgIHJldHVybjsKPiArCj4g
ICAgICAgICB0bXAgPSBSUkVHMzJfU09DMTUoTU1IVUIsIDAsIG1tVk1fTDJfUFJPVEVDVElPTl9G
QVVMVF9DTlRMKTsKPiAgICAgICAgIHRtcCA9IFJFR19TRVRfRklFTEQodG1wLCBWTV9MMl9QUk9U
RUNUSU9OX0ZBVUxUX0NOVEwsCj4gICAgICAgICAgICAgICAgICAgICAgICAgUkFOR0VfUFJPVEVD
VElPTl9GQVVMVF9FTkFCTEVfREVGQVVMVCwgdmFsdWUpOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3Y0XzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L3NkbWFfdjRfMC5jCj4gaW5kZXggODY5MWI2Mi4uMjMzYjdmNCAxMDA2NDQKPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3Y0XzAuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjRfMC5jCj4gQEAgLTIxMiwxMiArMjEyLDE0IEBAIHN0YXRp
YyB2b2lkIHNkbWFfdjRfMF9pbml0X2dvbGRlbl9yZWdpc3RlcnMoc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYpCj4gIHsKPiAgICAgICAgIHN3aXRjaCAoYWRldi0+YXNpY190eXBlKSB7Cj4gICAg
ICAgICBjYXNlIENISVBfVkVHQTEwOgo+IC0gICAgICAgICAgICAgICBzb2MxNV9wcm9ncmFtX3Jl
Z2lzdGVyX3NlcXVlbmNlKGFkZXYsCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGdvbGRlbl9zZXR0aW5nc19zZG1hXzQsCj4gLSAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFSUkFZX1NJWkUoZ29sZGVuX3NldHRp
bmdzX3NkbWFfNCkpOwo+IC0gICAgICAgICAgICAgICBzb2MxNV9wcm9ncmFtX3JlZ2lzdGVyX3Nl
cXVlbmNlKGFkZXYsCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGdvbGRlbl9zZXR0aW5nc19zZG1hX3ZnMTAsCj4gLSAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFSUkFZX1NJWkUoZ29sZGVuX3NldHRpbmdzX3Nk
bWFfdmcxMCkpOwo+ICsgICAgICAgICAgICAgICBpZiAoIWFtZGdwdV92aXJ0X3N1cHBvcnRfc2tp
cF9zZXR0aW5nKGFkZXYpKSB7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgc29jMTVfcHJvZ3Jh
bV9yZWdpc3Rlcl9zZXF1ZW5jZShhZGV2LAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvbGRlbl9zZXR0aW5nc19zZG1hXzQsCj4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQVJS
QVlfU0laRShnb2xkZW5fc2V0dGluZ3Nfc2RtYV80KSk7Cj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgc29jMTVfcHJvZ3JhbV9yZWdpc3Rlcl9zZXF1ZW5jZShhZGV2LAo+ICsgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvbGRlbl9zZXR0aW5n
c19zZG1hX3ZnMTAsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgQVJSQVlfU0laRShnb2xkZW5fc2V0dGluZ3Nfc2RtYV92ZzEwKSk7Cj4g
KyAgICAgICAgICAgICAgIH0KPiAgICAgICAgICAgICAgICAgYnJlYWs7Cj4gICAgICAgICBjYXNl
IENISVBfVkVHQTEyOgo+ICAgICAgICAgICAgICAgICBzb2MxNV9wcm9ncmFtX3JlZ2lzdGVyX3Nl
cXVlbmNlKGFkZXYsCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3Nv
YzE1LmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zb2MxNS5jCj4gaW5kZXggOTE1MGU5
My4uNGI3ZGNhYSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zb2Mx
NS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc29jMTUuYwo+IEBAIC05OTUs
MTEgKzk5NSwxNyBAQCBzdGF0aWMgdm9pZCBzb2MxNV9kb29yYmVsbF9yYW5nZV9pbml0KHN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2KQo+ICAgICAgICAgaW50IGk7Cj4gICAgICAgICBzdHJ1Y3Qg
YW1kZ3B1X3JpbmcgKnJpbmc7Cj4KPiAtICAgICAgIGZvciAoaSA9IDA7IGkgPCBhZGV2LT5zZG1h
Lm51bV9pbnN0YW5jZXM7IGkrKykgewo+IC0gICAgICAgICAgICAgICByaW5nID0gJmFkZXYtPnNk
bWEuaW5zdGFuY2VbaV0ucmluZzsKPiAtICAgICAgICAgICAgICAgYWRldi0+bmJpb19mdW5jcy0+
c2RtYV9kb29yYmVsbF9yYW5nZShhZGV2LCBpLAo+IC0gICAgICAgICAgICAgICAgICAgICAgIHJp
bmctPnVzZV9kb29yYmVsbCwgcmluZy0+ZG9vcmJlbGxfaW5kZXgsCj4gLSAgICAgICAgICAgICAg
ICAgICAgICAgYWRldi0+ZG9vcmJlbGxfaW5kZXguc2RtYV9kb29yYmVsbF9yYW5nZSk7Cj4gKyAg
ICAgICAvKiAgVHdvIHJlYXNvbnMgdG8gc2tpcAo+ICsgICAgICAgKiAgICAgICAgICAgICAgIDEs
IEhvc3QgZHJpdmVyIGFscmVhZHkgcHJvZ3JhbW1lZCB0aGVtCj4gKyAgICAgICAqICAgICAgICAg
ICAgICAgMiwgVG8gYXZvaWQgcmVnaXN0ZXJzIHByb2dyYW0gdmlvbGF0aW9ucyBpbiBTUi1JT1YK
PiArICAgICAgICovCj4gKyAgICAgICBpZiAoIWFtZGdwdV92aXJ0X3N1cHBvcnRfc2tpcF9zZXR0
aW5nKGFkZXYpKSB7Cj4gKyAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBhZGV2LT5zZG1h
Lm51bV9pbnN0YW5jZXM7IGkrKykgewo+ICsgICAgICAgICAgICAgICAgICAgICAgIHJpbmcgPSAm
YWRldi0+c2RtYS5pbnN0YW5jZVtpXS5yaW5nOwo+ICsgICAgICAgICAgICAgICAgICAgICAgIGFk
ZXYtPm5iaW9fZnVuY3MtPnNkbWFfZG9vcmJlbGxfcmFuZ2UoYWRldiwgaSwKPiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHJpbmctPnVzZV9kb29yYmVsbCwgcmluZy0+ZG9vcmJlbGxf
aW5kZXgsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGV2LT5kb29yYmVsbF9p
bmRleC5zZG1hX2Rvb3JiZWxsX3JhbmdlKTsKPiArICAgICAgICAgICAgICAgfQo+ICAgICAgICAg
fQo+Cj4gICAgICAgICBhZGV2LT5uYmlvX2Z1bmNzLT5paF9kb29yYmVsbF9yYW5nZShhZGV2LCBh
ZGV2LT5pcnEuaWgudXNlX2Rvb3JiZWxsLAo+IC0tCj4gMi43LjQKPgo+IF9fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCj4gYW1kLWdmeCBtYWlsaW5nIGxpc3QK
PiBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwo+IGh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0
b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeApfX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xp
c3RpbmZvL2FtZC1nZng=
