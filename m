Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 3E42721CC9
	for <lists+amd-gfx@lfdr.de>; Fri, 17 May 2019 19:48:11 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id DAE6189970;
	Fri, 17 May 2019 17:48:09 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-wr1-x441.google.com (mail-wr1-x441.google.com
 [IPv6:2a00:1450:4864:20::441])
 by gabe.freedesktop.org (Postfix) with ESMTPS id AC69189970
 for <amd-gfx@lists.freedesktop.org>; Fri, 17 May 2019 17:48:08 +0000 (UTC)
Received: by mail-wr1-x441.google.com with SMTP id l2so7993500wrb.9
 for <amd-gfx@lists.freedesktop.org>; Fri, 17 May 2019 10:48:08 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=O7NeZCjOve2ekLPO+eyPs675MgmwuKmwsDL2hcIRnXY=;
 b=OaXrDAbroHH2tfw6vKRDju1BuXja7hkCTYVkjpaYaXKUYgx6gkMMwLlJB3/i9J6obG
 X+KnXVvcmBb1hzkZ/P4foT1qVnyTLAtiC9CgMTD1CaGbqCbgsrGFSmZVgffnp3jFKcHv
 9bVhktXZEq6AcwhnZgSO8T2GqIehDlWolhR3vRRJBIoQ6Q61XtOEfKO4zB6V8rz0YkR4
 FdHPiVTXz287bEqoxKIwVBQWnIxvezudFx6pECYhDnbWq7TGl3lqqCE64uI6+vezoDii
 aYL6/K7ihBdyRdVUEVTKdu+FKi+DdA04axzYy+ZWuaF/v2+MuMa8QxaaA0pBG6skMw6P
 adxA==
X-Gm-Message-State: APjAAAXR9drRDVMZSx4cJ2D/3rfK8VmohxZqJ6l1v+0Vv60CFdmB3Fhx
 CuTjyPH9YTbGGpUI4VHcJIw9SSLtGl6xKWLnrGe38vo0
X-Google-Smtp-Source: APXvYqxewTR0KDbsLbtbkXpLTd65RvAxBdVK7X8v8hEm3D4u5wRLW9MfOfPxbpKR+hneH4We2nbwg/OaFF6UdU8GCao=
X-Received: by 2002:a5d:554f:: with SMTP id g15mr7563309wrw.318.1558115287271; 
 Fri, 17 May 2019 10:48:07 -0700 (PDT)
MIME-Version: 1.0
References: <20190517134533.5070-1-kent.russell@amd.com>
In-Reply-To: <20190517134533.5070-1-kent.russell@amd.com>
From: Alex Deucher <alexdeucher@gmail.com>
Date: Fri, 17 May 2019 13:47:55 -0400
Message-ID: <CADnq5_MxdptaN6ZTPNExMgBPwvxmXYhqGNJCdqfA=9XwAEba-Q@mail.gmail.com>
Subject: Re: [PATCH] drm/amdgpu: Add Unique Identifier sysfs file unique_id
To: "Russell, Kent" <Kent.Russell@amd.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=O7NeZCjOve2ekLPO+eyPs675MgmwuKmwsDL2hcIRnXY=;
 b=MgIKE2BYZf6ofjz+Ykd1TyCzs4OyBZQSOlTHuXREHscm3sGxiP8GmWIgMTUU3nbZiG
 25cGuEIGJP8iUi+yad8wNe8wf/lxEVMHF1b1TfFQqYS6ZWCoWpWHhlKsdcMaoTtqzpnH
 Qx3PIi45NzAXZdQeHUw7UfeQgRB8QMMBRKKcK0FdYcF27Cto4ZG04RQ0ubZ+pkoTnCM9
 6aod+jlCxsuJtZR33/C6mTwwZoV6FqxcbgPHg+Rtk4sSXoZcftNRqJIfkfjGoPqOj/SS
 Y5MmEjFthDSI+kWYgX7WjLWPmZEfRjL6oy+bRU4x+64D5VgegbZsnC+1taA+R6rUHyQN
 woQA==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

T24gRnJpLCBNYXkgMTcsIDIwMTkgYXQgOTo0NSBBTSBSdXNzZWxsLCBLZW50IDxLZW50LlJ1c3Nl
bGxAYW1kLmNvbT4gd3JvdGU6Cj4KPiBBZGQgYSBmaWxlIHRoYXQgcHJvdmlkZXMgYSBVbmlxdWUg
SUQgZm9yIHRoZSBHUFUuCj4gVGhpcyB3aWxsIHBlcnNpc3QgYWNyb3NzIG1hY2hpbmVzIGFuZCBp
cyBndWFyYW50ZWVkIHRvIGJlIHVuaXF1ZS4KPiBUaGlzIGlzIG9ubHkgYXZhaWxhYmxlIGZvciBH
Rlg5IGFuZCBuZXdlciwgc28gb2xkZXIgQVNJQ3Mgd2lsbCBub3QKPiBoYXZlIHRoaXMgZmlsZSBp
biB0aGUgc3lzZnMgcG9vbAo+Cj4gQ2hhbmdlLUlkOiBJM2M2NzNmNzhlZmNjNWJmOTNjYTU4ZDY1
ZWRiZTM5ZmMzYTg2YjQyYQo+IFNpZ25lZC1vZmYtYnk6IEtlbnQgUnVzc2VsbCA8a2VudC5ydXNz
ZWxsQGFtZC5jb20+Cj4gLS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9w
bS5jICAgICAgICB8IDMzICsrKysrKysrKysrKysrKysrKysKPiAgLi4uL2RybS9hbWQvcG93ZXJw
bGF5L2h3bWdyL3ZlZ2ExMF9od21nci5jICAgIHwgIDkgKysrKysKPiAgLi4uL2RybS9hbWQvcG93
ZXJwbGF5L2h3bWdyL3ZlZ2ExMl9od21nci5jICAgIHwgIDkgKysrKysKPiAgLi4uL2RybS9hbWQv
cG93ZXJwbGF5L2h3bWdyL3ZlZ2EyMF9od21nci5jICAgIHwgIDkgKysrKysKPiAgZHJpdmVycy9n
cHUvZHJtL2FtZC9wb3dlcnBsYXkvaW5jL2h3bWdyLmggICAgIHwgIDEgKwo+ICA1IGZpbGVzIGNo
YW5nZWQsIDYxIGluc2VydGlvbnMoKykKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfcG0uYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdw
dV9wbS5jCj4gaW5kZXggYWRiYTllYTAzZTYzLi5lNGU1ZGJiYzY5YzEgMTAwNjQ0Cj4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3BtLmMKPiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfcG0uYwo+IEBAIC0xMzY4LDYgKzEzNjgsMzAgQEAgc3Rh
dGljIHNzaXplX3QgYW1kZ3B1X2dldF9wY2llX2J3KHN0cnVjdCBkZXZpY2UgKmRldiwKPiAgICAg
ICAgICAgICAgICAgICAgICAgICBjb3VudDAsIGNvdW50MSwgcGNpZV9nZXRfbXBzKGFkZXYtPnBk
ZXYpKTsKPiAgfQo+Cj4gKy8qKgo+ICsgKiBET0M6IHVuaXF1ZV9pZAo+ICsgKgo+ICsgKiBUaGUg
YW1kZ3B1IGRyaXZlciBwcm92aWRlcyBhIHN5c2ZzIEFQSSBmb3IgcHJvdmlkaW5nIGEgdW5pcXVl
IElEIGZvciB0aGUgR1BVCj4gKyAqIFRoZSBmaWxlIHVuaXF1ZV9pZCBpcyB1c2VkIGZvciB0aGlz
Lgo+ICsgKiBUaGlzIHdpbGwgcHJvdmlkZSBhIFVuaXF1ZSBJRCB0aGF0IHdpbGwgcGVyc2lzdCBm
cm9tIG1hY2hpbmUgdG8gbWFjaGluZQo+ICsgKgo+ICsgKiBOT1RFOiBUaGlzIHdpbGwgb25seSB3
b3JrIGZvciBHRlg5IGFuZCBuZXdlci4gVGhpcyBmaWxlIHdpbGwgYmUgYWJzZW50Cj4gKyAqIG9u
IHVuc3VwcG9ydGVkIEFTSUNzIChHRlg4IGFuZCBvbGRlcikKPiArICovCj4gK3N0YXRpYyBzc2l6
ZV90IGFtZGdwdV9nZXRfdW5pcXVlX2lkKHN0cnVjdCBkZXZpY2UgKmRldiwKPiArICAgICAgICAg
ICAgICAgc3RydWN0IGRldmljZV9hdHRyaWJ1dGUgKmF0dHIsCj4gKyAgICAgICAgICAgICAgIGNo
YXIgKmJ1ZikKPiArewo+ICsgICAgICAgc3RydWN0IGRybV9kZXZpY2UgKmRkZXYgPSBkZXZfZ2V0
X2RydmRhdGEoZGV2KTsKPiArICAgICAgIHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gZGRl
di0+ZGV2X3ByaXZhdGU7Cj4gKyAgICAgICBzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyID0gYWRldi0+
cG93ZXJwbGF5LnBwX2hhbmRsZTsKPiArCj4gKyAgICAgICBpZiAoaHdtZ3ItPnNlcmlhbCkKPiAr
ICAgICAgICAgICAgICAgcmV0dXJuIHNucHJpbnRmKGJ1ZiwgUEFHRV9TSVpFLCAiJTAxNmxseFxu
IiwgaHdtZ3ItPnNlcmlhbCk7Cj4gKwo+ICsgICAgICAgcmV0dXJuIDA7Cj4gK30KPiArCj4gIHN0
YXRpYyBERVZJQ0VfQVRUUihwb3dlcl9kcG1fc3RhdGUsIFNfSVJVR08gfCBTX0lXVVNSLCBhbWRn
cHVfZ2V0X2RwbV9zdGF0ZSwgYW1kZ3B1X3NldF9kcG1fc3RhdGUpOwo+ICBzdGF0aWMgREVWSUNF
X0FUVFIocG93ZXJfZHBtX2ZvcmNlX3BlcmZvcm1hbmNlX2xldmVsLCBTX0lSVUdPIHwgU19JV1VT
UiwKPiAgICAgICAgICAgICAgICAgICAgYW1kZ3B1X2dldF9kcG1fZm9yY2VkX3BlcmZvcm1hbmNl
X2xldmVsLAo+IEBAIC0xNDE4LDYgKzE0NDIsNyBAQCBzdGF0aWMgREVWSUNFX0FUVFIocGNpZV9i
dywgU19JUlVHTywgYW1kZ3B1X2dldF9wY2llX2J3LCBOVUxMKTsKPiAgc3RhdGljIERFVklDRV9B
VFRSKHBwZmVhdHVyZXMsIFNfSVJVR08gfCBTX0lXVVNSLAo+ICAgICAgICAgICAgICAgICBhbWRn
cHVfZ2V0X3BwZmVhdHVyZV9zdGF0dXMsCj4gICAgICAgICAgICAgICAgIGFtZGdwdV9zZXRfcHBm
ZWF0dXJlX3N0YXR1cyk7Cj4gK3N0YXRpYyBERVZJQ0VfQVRUUih1bmlxdWVfaWQsIFNfSVJVR08s
IGFtZGdwdV9nZXRfdW5pcXVlX2lkLCBOVUxMKTsKPgo+ICBzdGF0aWMgc3NpemVfdCBhbWRncHVf
aHdtb25fc2hvd190ZW1wKHN0cnVjdCBkZXZpY2UgKmRldiwKPiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHN0cnVjdCBkZXZpY2VfYXR0cmlidXRlICphdHRyLAo+IEBAIC0y
ODE0LDYgKzI4MzksMTIgQEAgaW50IGFtZGdwdV9wbV9zeXNmc19pbml0KHN0cnVjdCBhbWRncHVf
ZGV2aWNlICphZGV2KQo+ICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4gICAg
ICAgICAgICAgICAgIH0KPiAgICAgICAgIH0KPiArICAgICAgIGlmIChod21nci0+c2VyaWFsKQo+
ICsgICAgICAgICAgICAgICByZXQgPSBkZXZpY2VfY3JlYXRlX2ZpbGUoYWRldi0+ZGV2LCAmZGV2
X2F0dHJfdW5pcXVlX2lkKTsKPiArICAgICAgIGlmIChyZXQpIHsKPiArICAgICAgICAgICAgICAg
RFJNX0VSUk9SKCJmYWlsZWQgdG8gY3JlYXRlIGRldmljZSBmaWxlIHVuaXF1ZV9pZFxuIik7Cj4g
KyAgICAgICAgICAgICAgIHJldHVybiByZXQ7Cj4gKyAgICAgICB9CgpJIHdvdWxkIHN1Z2dlc3Qg
c3RvcmluZyBzZXJpYWwgaW4gYWRldiByYXRoZXIgdGhhbiBod21nci4gIEZvciBzb21lCmFzaWNz
IChlLmcuLCBTSSBvciBDSUsgQVBVcykgdGhlcmUgaXMgbm8gaHdtZ3IgYW5kIHdlJ2xsIGNyYXNo
IGlmIHdlCnRyeSBhbmQgZGVyZWZlcmVuY2UgaXQuICBBZGRpdGlvbmFsbHksIHRoZSBuZXcgc211
MTEgY29kZSBmb3IgdmVnYTIwCmRvZXMgbm90IHVzZSBod21nci4gIFlvdSBjYW4gZ2V0IHRvIGFk
ZXYgZnJvbSBod21nci0+YWRldi4KCkFsZXgKCj4gICAgICAgICByZXQgPSBhbWRncHVfZGVidWdm
c19wbV9pbml0KGFkZXYpOwo+ICAgICAgICAgaWYgKHJldCkgewo+ICAgICAgICAgICAgICAgICBE
Uk1fRVJST1IoIkZhaWxlZCB0byByZWdpc3RlciBkZWJ1Z2ZzIGZpbGUgZm9yIGRwbSFcbiIpOwo+
IEBAIC0yODc1LDYgKzI5MDYsOCBAQCB2b2lkIGFtZGdwdV9wbV9zeXNmc19maW5pKHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2KQo+ICAgICAgICAgICAgICAgICBkZXZpY2VfcmVtb3ZlX2ZpbGUo
YWRldi0+ZGV2LCAmZGV2X2F0dHJfbWVtX2J1c3lfcGVyY2VudCk7Cj4gICAgICAgICBpZiAoIShh
ZGV2LT5mbGFncyAmIEFNRF9JU19BUFUpKQo+ICAgICAgICAgICAgICAgICBkZXZpY2VfcmVtb3Zl
X2ZpbGUoYWRldi0+ZGV2LCAmZGV2X2F0dHJfcGNpZV9idyk7Cj4gKyAgICAgICBpZiAoaHdtZ3It
PnNlcmlhbCkKPiArICAgICAgICAgICAgICAgZGV2aWNlX3JlbW92ZV9maWxlKGFkZXYtPmRldiwg
JmRldl9hdHRyX3VuaXF1ZV9pZCk7Cj4gICAgICAgICBpZiAoKGFkZXYtPmFzaWNfdHlwZSA+PSBD
SElQX1ZFR0ExMCkgJiYKPiAgICAgICAgICAgICAhKGFkZXYtPmZsYWdzICYgQU1EX0lTX0FQVSkp
Cj4gICAgICAgICAgICAgICAgIGRldmljZV9yZW1vdmVfZmlsZShhZGV2LT5kZXYsICZkZXZfYXR0
cl9wcGZlYXR1cmVzKTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBs
YXkvaHdtZ3IvdmVnYTEwX2h3bWdyLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9o
d21nci92ZWdhMTBfaHdtZ3IuYwo+IGluZGV4IDk1ODViYTUxZDg1My4uNmI1ZmFjY2E3YTgxIDEw
MDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2h3bWdyL3ZlZ2ExMF9o
d21nci5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaHdtZ3IvdmVnYTEw
X2h3bWdyLmMKPiBAQCAtMzU2LDYgKzM1Niw3IEBAIHN0YXRpYyB2b2lkIHZlZ2ExMF9pbml0X2Rw
bV9kZWZhdWx0cyhzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyKQo+ICAgICAgICAgc3RydWN0IHZlZ2Ex
MF9od21nciAqZGF0YSA9IGh3bWdyLT5iYWNrZW5kOwo+ICAgICAgICAgaW50IGk7Cj4gICAgICAg
ICB1aW50MzJfdCBzdWJfdmVuZG9yX2lkLCBod19yZXZpc2lvbjsKPiArICAgICAgIHVpbnQzMl90
IHRvcDMyLCBib3R0b20zMjsKPiAgICAgICAgIHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0g
aHdtZ3ItPmFkZXY7Cj4KPiAgICAgICAgIHZlZ2ExMF9pbml0aWFsaXplX3Bvd2VyX3R1bmVfZGVm
YXVsdHMoaHdtZ3IpOwo+IEBAIC00OTksNiArNTAwLDE0IEBAIHN0YXRpYyB2b2lkIHZlZ2ExMF9p
bml0X2RwbV9kZWZhdWx0cyhzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyKQo+ICAgICAgICAgICAgICAg
ICAoaHdfcmV2aXNpb24gPT0gMCkgJiYKPiAgICAgICAgICAgICAgICAgKHN1Yl92ZW5kb3JfaWQg
IT0gMHgxMDAyKSkKPiAgICAgICAgICAgICAgICAgZGF0YS0+c211X2ZlYXR1cmVzW0dOTERfUEND
X0xJTUlUXS5zdXBwb3J0ZWQgPSB0cnVlOwo+ICsKPiArICAgICAgIC8qIEdldCB0aGUgU04gdG8g
dHVybiBpbnRvIGEgVW5pcXVlIElEICovCj4gKyAgICAgICBzbXVtX3NlbmRfbXNnX3RvX3NtYyho
d21nciwgUFBTTUNfTVNHX1JlYWRTZXJpYWxOdW1Ub3AzMik7Cj4gKyAgICAgICB0b3AzMiA9IHNt
dW1fZ2V0X2FyZ3VtZW50KGh3bWdyKTsKPiArICAgICAgIHNtdW1fc2VuZF9tc2dfdG9fc21jKGh3
bWdyLCBQUFNNQ19NU0dfUmVhZFNlcmlhbE51bUJvdHRvbTMyKTsKPiArICAgICAgIGJvdHRvbTMy
ID0gc211bV9nZXRfYXJndW1lbnQoaHdtZ3IpOwo+ICsKPiArICAgICAgIGh3bWdyLT5zZXJpYWwg
PSAoKHVpbnQ2NF90KWJvdHRvbTMyIDw8IDMyKSB8IHRvcDMyOwo+ICB9Cj4KPiAgI2lmZGVmIFBQ
TElCX1ZFR0ExMF9FVlZfU1VQUE9SVAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1k
L3Bvd2VycGxheS9od21nci92ZWdhMTJfaHdtZ3IuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93
ZXJwbGF5L2h3bWdyL3ZlZ2ExMl9od21nci5jCj4gaW5kZXggMWE5MDlkZGEzN2M3Li44NjI1ZTE4
ZjUyZDkgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaHdtZ3Iv
dmVnYTEyX2h3bWdyLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9od21n
ci92ZWdhMTJfaHdtZ3IuYwo+IEBAIC0yODksNiArMjg5LDcgQEAgc3RhdGljIGludCB2ZWdhMTJf
c2V0X2ZlYXR1cmVzX3BsYXRmb3JtX2NhcHMoc3RydWN0IHBwX2h3bWdyICpod21ncikKPiAgc3Rh
dGljIHZvaWQgdmVnYTEyX2luaXRfZHBtX2RlZmF1bHRzKHN0cnVjdCBwcF9od21nciAqaHdtZ3Ip
Cj4gIHsKPiAgICAgICAgIHN0cnVjdCB2ZWdhMTJfaHdtZ3IgKmRhdGEgPSAoc3RydWN0IHZlZ2Ex
Ml9od21nciAqKShod21nci0+YmFja2VuZCk7Cj4gKyAgICAgICB1aW50MzJfdCB0b3AzMiwgYm90
dG9tMzI7Cj4gICAgICAgICBpbnQgaTsKPgo+ICAgICAgICAgZGF0YS0+c211X2ZlYXR1cmVzW0dO
TERfRFBNX1BSRUZFVENIRVJdLnNtdV9mZWF0dXJlX2lkID0KPiBAQCAtMzUzLDYgKzM1NCwxNCBA
QCBzdGF0aWMgdm9pZCB2ZWdhMTJfaW5pdF9kcG1fZGVmYXVsdHMoc3RydWN0IHBwX2h3bWdyICpo
d21ncikKPiAgICAgICAgICAgICAgICAgICAgICAgICAoKGRhdGEtPnJlZ2lzdHJ5X2RhdGEuZGlz
YWxsb3dlZF9mZWF0dXJlcyA+PiBpKSAmIDEpID8KPiAgICAgICAgICAgICAgICAgICAgICAgICBm
YWxzZSA6IHRydWU7Cj4gICAgICAgICB9Cj4gKwo+ICsgICAgICAgLyogR2V0IHRoZSBTTiB0byB0
dXJuIGludG8gYSBVbmlxdWUgSUQgKi8KPiArICAgICAgIHNtdW1fc2VuZF9tc2dfdG9fc21jKGh3
bWdyLCBQUFNNQ19NU0dfUmVhZFNlcmlhbE51bVRvcDMyKTsKPiArICAgICAgIHRvcDMyID0gc211
bV9nZXRfYXJndW1lbnQoaHdtZ3IpOwo+ICsgICAgICAgc211bV9zZW5kX21zZ190b19zbWMoaHdt
Z3IsIFBQU01DX01TR19SZWFkU2VyaWFsTnVtQm90dG9tMzIpOwo+ICsgICAgICAgYm90dG9tMzIg
PSBzbXVtX2dldF9hcmd1bWVudChod21ncik7Cj4gKwo+ICsgICAgICAgaHdtZ3ItPnNlcmlhbCA9
ICgodWludDY0X3QpYm90dG9tMzIgPDwgMzIpIHwgdG9wMzI7Cj4gIH0KPgo+ICBzdGF0aWMgaW50
IHZlZ2ExMl9zZXRfcHJpdmF0ZV9kYXRhX2Jhc2VkX29uX3BwdGFibGUoc3RydWN0IHBwX2h3bWdy
ICpod21ncikKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaHdt
Z3IvdmVnYTIwX2h3bWdyLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9od21nci92
ZWdhMjBfaHdtZ3IuYwo+IGluZGV4IGQxOGYzNGQ0YTUxZS4uYmUzNmRlNTM0ZmI3IDEwMDY0NAo+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2h3bWdyL3ZlZ2EyMF9od21nci5j
Cj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaHdtZ3IvdmVnYTIwX2h3bWdy
LmMKPiBAQCAtMzI0LDYgKzMyNCw3IEBAIHN0YXRpYyBpbnQgdmVnYTIwX3NldF9mZWF0dXJlc19w
bGF0Zm9ybV9jYXBzKHN0cnVjdCBwcF9od21nciAqaHdtZ3IpCj4gIHN0YXRpYyB2b2lkIHZlZ2Ey
MF9pbml0X2RwbV9kZWZhdWx0cyhzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyKQo+ICB7Cj4gICAgICAg
ICBzdHJ1Y3QgdmVnYTIwX2h3bWdyICpkYXRhID0gKHN0cnVjdCB2ZWdhMjBfaHdtZ3IgKikoaHdt
Z3ItPmJhY2tlbmQpOwo+ICsgICAgICAgdWludDMyX3QgdG9wMzIsIGJvdHRvbTMyOwo+ICAgICAg
ICAgaW50IGk7Cj4KPiAgICAgICAgIGRhdGEtPnNtdV9mZWF0dXJlc1tHTkxEX0RQTV9QUkVGRVRD
SEVSXS5zbXVfZmVhdHVyZV9pZCA9Cj4gQEAgLTM5Myw2ICszOTQsMTQgQEAgc3RhdGljIHZvaWQg
dmVnYTIwX2luaXRfZHBtX2RlZmF1bHRzKHN0cnVjdCBwcF9od21nciAqaHdtZ3IpCj4gICAgICAg
ICAgICAgICAgICAgICAgICAgKChkYXRhLT5yZWdpc3RyeV9kYXRhLmRpc2FsbG93ZWRfZmVhdHVy
ZXMgPj4gaSkgJiAxKSA/Cj4gICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UgOiB0cnVlOwo+
ICAgICAgICAgfQo+ICsKPiArICAgICAgIC8qIEdldCB0aGUgU04gdG8gdHVybiBpbnRvIGEgVW5p
cXVlIElEICovCj4gKyAgICAgICBzbXVtX3NlbmRfbXNnX3RvX3NtYyhod21nciwgUFBTTUNfTVNH
X1JlYWRTZXJpYWxOdW1Ub3AzMik7Cj4gKyAgICAgICB0b3AzMiA9IHNtdW1fZ2V0X2FyZ3VtZW50
KGh3bWdyKTsKPiArICAgICAgIHNtdW1fc2VuZF9tc2dfdG9fc21jKGh3bWdyLCBQUFNNQ19NU0df
UmVhZFNlcmlhbE51bUJvdHRvbTMyKTsKPiArICAgICAgIGJvdHRvbTMyID0gc211bV9nZXRfYXJn
dW1lbnQoaHdtZ3IpOwo+ICsKPiArICAgICAgIGh3bWdyLT5zZXJpYWwgPSAoKHVpbnQ2NF90KWJv
dHRvbTMyIDw8IDMyKSB8IHRvcDMyOwo+ICB9Cj4KPiAgc3RhdGljIGludCB2ZWdhMjBfc2V0X3By
aXZhdGVfZGF0YV9iYXNlZF9vbl9wcHRhYmxlKHN0cnVjdCBwcF9od21nciAqaHdtZ3IpCj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2luYy9od21nci5oIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaW5jL2h3bWdyLmgKPiBpbmRleCBiYWMzZDg1ZTNi
ODIuLjA1N2M4NjI2YTY4YSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2Vy
cGxheS9pbmMvaHdtZ3IuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2lu
Yy9od21nci5oCj4gQEAgLTcyMiw2ICs3MjIsNyBAQCBzdHJ1Y3QgcHBfaHdtZ3Igewo+ICAgICAg
ICAgdWludDMyX3QgY2hpcF9mYW1pbHk7Cj4gICAgICAgICB1aW50MzJfdCBjaGlwX2lkOwo+ICAg
ICAgICAgdWludDMyX3Qgc211X3ZlcnNpb247Cj4gKyAgICAgICB1aW50NjRfdCBzZXJpYWw7Cj4g
ICAgICAgICBib29sIG5vdF92ZjsKPiAgICAgICAgIGJvb2wgcG1fZW47Cj4gICAgICAgICBzdHJ1
Y3QgbXV0ZXggc211X2xvY2s7Cj4gLS0KPiAyLjE3LjEKPgo+IF9fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fCj4gYW1kLWdmeCBtYWlsaW5nIGxpc3QKPiBhbWQt
Z2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwo+IGh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
L21haWxtYW4vbGlzdGluZm8vYW1kLWdmeApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVk
ZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZv
L2FtZC1nZng=
