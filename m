Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 9246416666
	for <lists+amd-gfx@lfdr.de>; Tue,  7 May 2019 17:15:58 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E4DA389BF3;
	Tue,  7 May 2019 15:15:56 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-wr1-x444.google.com (mail-wr1-x444.google.com
 [IPv6:2a00:1450:4864:20::444])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8A92C89BF3
 for <amd-gfx@lists.freedesktop.org>; Tue,  7 May 2019 15:15:55 +0000 (UTC)
Received: by mail-wr1-x444.google.com with SMTP id d12so2418765wrm.8
 for <amd-gfx@lists.freedesktop.org>; Tue, 07 May 2019 08:15:55 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=CvOAAzUyBMTq9aFjFWI3cOQLyYTsHYbqhZROmkUrhl0=;
 b=kORISf6v/yME7M20oaMh+KSyBOA5TtKUhCv2SevZ0YReF/pAy+CJnsOb05pj/5ZjO7
 0rYK0j7qd5Tkm0q8ayZCuiCC8du1GryQFtDnykakEiCi3m53yVd8undYG9dVNMprNURV
 hyacXmgVGnaoRe7cM8geetCpwjaCZwaqbetqfdrSYF3MsCMHUq9GXS10kX/KBLnGgj8u
 u3FBX0w0RRaT6hBd/29wVEpkqSeySFmQCbeeSB9bbzWzN7JOuPkJ9lUaJlOi+w2dsyCi
 tnfxs+fY+0klX2pFRpG9FD/C3gdJUGf27+lNSNf2uKd55Q0D1GDjxcPWISzLvOAPkff1
 I87A==
X-Gm-Message-State: APjAAAUD/TYvZlgd8qS0oWM5PvMEkj1hkTZXmR+LNLhK4y8MuBR5aH4F
 AL1eoZUvPQ2XsyD2YJFCXFXaDM1FpXht56fZjQtSqU+0
X-Google-Smtp-Source: APXvYqwBxa6rfNc2wofWAv24806KpfZr/XDCmEX4lhwufHTTGG2YBoZpngd0yq0FHh/oHUFycj5DpqQeFA3w6ewx4yg=
X-Received: by 2002:adf:eb02:: with SMTP id s2mr23015163wrn.29.1557242154110; 
 Tue, 07 May 2019 08:15:54 -0700 (PDT)
MIME-Version: 1.0
References: <20190507060859.27650-1-evan.quan@amd.com>
 <20190507060859.27650-4-evan.quan@amd.com>
In-Reply-To: <20190507060859.27650-4-evan.quan@amd.com>
From: Alex Deucher <alexdeucher@gmail.com>
Date: Tue, 7 May 2019 11:15:41 -0400
Message-ID: <CADnq5_PhSrqZ_M8j981jaWX_BxPz7m1cwgodfa722pC8S2AVxw@mail.gmail.com>
Subject: Re: [PATCH 4/4] drm/amd/powerplay: update Vega10 power state on OD
To: Evan Quan <evan.quan@amd.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=CvOAAzUyBMTq9aFjFWI3cOQLyYTsHYbqhZROmkUrhl0=;
 b=p5ToWMxZmg4X5eG/49K7g4CoM631FUWLOOW4opTXW5P8UT1pb9TNyAc3fD+E9La1MN
 IcVo6Xqecb1PdE9RgaxSTO1SGpXgVSVKjB2RH8/koC4D0OY040IGU9C0fa4WRK4pbw7j
 0CtmuH9qHgWqmjy9xFyFnSL49zYKFpou/0OHUR6409u6yNNBRf64A6ytVJyVOxfxPFFO
 DrDTeR3R1xF+iyyVyrhOCm7iVA/2GlVKTrF5K+Su/ZJToPi60T/Phkvk0iK8HJ/3Wvxm
 m7EsFycYu5mx2gwQn2G48gVw56tf31vRFokOUjM4eITrtrVpJdVI8139jC9mpt2YYQnE
 Gqtw==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: yanik@yiannakis.de, "Deucher, Alexander" <Alexander.Deucher@amd.com>,
 amd-gfx list <amd-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

T24gVHVlLCBNYXkgNywgMjAxOSBhdCAyOjA5IEFNIEV2YW4gUXVhbiA8ZXZhbi5xdWFuQGFtZC5j
b20+IHdyb3RlOgo+Cj4gVXBkYXRlIFZlZ2ExMCB0b3AgcGVyZm9ybWFuY2UgbGV2ZWwgcG93ZXIg
c3RhdGUgYWNjb3JkaW5nbHkKPiBvbiBPRC4KPgo+IENoYW5nZS1JZDogSWFhZGVlZmIyOTA0MjIy
YmY1ZjRkNTRiMzlkNzE3OWNlNTNmOTJhYzAKPiBTaWduZWQtb2ZmLWJ5OiBFdmFuIFF1YW4gPGV2
YW4ucXVhbkBhbWQuY29tPgoKU2VyaWVzIGlzOgpBY2tlZC1ieTogQWxleCBEZXVjaGVyIDxhbGV4
YW5kZXIuZGV1Y2hlckBhbWQuY29tPgoKPiAtLS0KPiAgLi4uL2RybS9hbWQvcG93ZXJwbGF5L2h3
bWdyL3ZlZ2ExMF9od21nci5jICAgIHwgNTkgKysrKysrKysrKysrKysrKysrKwo+ICAxIGZpbGUg
Y2hhbmdlZCwgNTkgaW5zZXJ0aW9ucygrKQo+Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvcG93ZXJwbGF5L2h3bWdyL3ZlZ2ExMF9od21nci5jIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9wb3dlcnBsYXkvaHdtZ3IvdmVnYTEwX2h3bWdyLmMKPiBpbmRleCBmNGI4MWY1MGIxODUuLjQ4
Nzg5MzhlY2YzMyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9o
d21nci92ZWdhMTBfaHdtZ3IuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5
L2h3bWdyL3ZlZ2ExMF9od21nci5jCj4gQEAgLTUwMDksNiArNTAwOSw2MyBAQCBzdGF0aWMgYm9v
bCB2ZWdhMTBfY2hlY2tfY2xrX3ZvbHRhZ2VfdmFsaWQoc3RydWN0IHBwX2h3bWdyICpod21nciwK
PiAgICAgICAgIHJldHVybiB0cnVlOwo+ICB9Cj4KPiArc3RhdGljIHZvaWQgdmVnYTEwX29kbl91
cGRhdGVfcG93ZXJfc3RhdGUoc3RydWN0IHBwX2h3bWdyICpod21ncikKPiArewo+ICsgICAgICAg
c3RydWN0IHZlZ2ExMF9od21nciAqZGF0YSA9IGh3bWdyLT5iYWNrZW5kOwo+ICsgICAgICAgc3Ry
dWN0IHBwX3Bvd2VyX3N0YXRlICpwcyA9IGh3bWdyLT5yZXF1ZXN0X3BzOwo+ICsgICAgICAgc3Ry
dWN0IHZlZ2ExMF9wb3dlcl9zdGF0ZSAqdmVnYTEwX3BzOwo+ICsgICAgICAgc3RydWN0IHZlZ2Ex
MF9zaW5nbGVfZHBtX3RhYmxlICpnZnhfZHBtX3RhYmxlID0KPiArICAgICAgICAgICAgICAgJmRh
dGEtPmRwbV90YWJsZS5nZnhfdGFibGU7Cj4gKyAgICAgICBzdHJ1Y3QgdmVnYTEwX3NpbmdsZV9k
cG1fdGFibGUgKnNvY19kcG1fdGFibGUgPQo+ICsgICAgICAgICAgICAgICAmZGF0YS0+ZHBtX3Rh
YmxlLnNvY190YWJsZTsKPiArICAgICAgIHN0cnVjdCB2ZWdhMTBfc2luZ2xlX2RwbV90YWJsZSAq
bWVtX2RwbV90YWJsZSA9Cj4gKyAgICAgICAgICAgICAgICZkYXRhLT5kcG1fdGFibGUubWVtX3Rh
YmxlOwo+ICsgICAgICAgaW50IG1heF9sZXZlbDsKPiArCj4gKyAgICAgICBpZiAoIXBzKQo+ICsg
ICAgICAgICAgICAgICByZXR1cm47Cj4gKwo+ICsgICAgICAgdmVnYTEwX3BzID0gY2FzdF9waHdf
dmVnYTEwX3Bvd2VyX3N0YXRlKCZwcy0+aGFyZHdhcmUpOwo+ICsgICAgICAgbWF4X2xldmVsID0g
dmVnYTEwX3BzLT5wZXJmb3JtYW5jZV9sZXZlbF9jb3VudCAtIDE7Cj4gKwo+ICsgICAgICAgaWYg
KHZlZ2ExMF9wcy0+cGVyZm9ybWFuY2VfbGV2ZWxzW21heF9sZXZlbF0uZ2Z4X2Nsb2NrICE9Cj4g
KyAgICAgICAgICAgZ2Z4X2RwbV90YWJsZS0+ZHBtX2xldmVsc1tnZnhfZHBtX3RhYmxlLT5jb3Vu
dCAtIDFdLnZhbHVlKQo+ICsgICAgICAgICAgICAgICB2ZWdhMTBfcHMtPnBlcmZvcm1hbmNlX2xl
dmVsc1ttYXhfbGV2ZWxdLmdmeF9jbG9jayA9Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgZ2Z4
X2RwbV90YWJsZS0+ZHBtX2xldmVsc1tnZnhfZHBtX3RhYmxlLT5jb3VudCAtIDFdLnZhbHVlOwo+
ICsKPiArICAgICAgIGlmICh2ZWdhMTBfcHMtPnBlcmZvcm1hbmNlX2xldmVsc1ttYXhfbGV2ZWxd
LnNvY19jbG9jayAhPQo+ICsgICAgICAgICAgIHNvY19kcG1fdGFibGUtPmRwbV9sZXZlbHNbc29j
X2RwbV90YWJsZS0+Y291bnQgLSAxXS52YWx1ZSkKPiArICAgICAgICAgICAgICAgdmVnYTEwX3Bz
LT5wZXJmb3JtYW5jZV9sZXZlbHNbbWF4X2xldmVsXS5zb2NfY2xvY2sgPQo+ICsgICAgICAgICAg
ICAgICAgICAgICAgIHNvY19kcG1fdGFibGUtPmRwbV9sZXZlbHNbc29jX2RwbV90YWJsZS0+Y291
bnQgLSAxXS52YWx1ZTsKPiArCj4gKyAgICAgICBpZiAodmVnYTEwX3BzLT5wZXJmb3JtYW5jZV9s
ZXZlbHNbbWF4X2xldmVsXS5tZW1fY2xvY2sgIT0KPiArICAgICAgICAgICBtZW1fZHBtX3RhYmxl
LT5kcG1fbGV2ZWxzW21lbV9kcG1fdGFibGUtPmNvdW50IC0gMV0udmFsdWUpCj4gKyAgICAgICAg
ICAgICAgIHZlZ2ExMF9wcy0+cGVyZm9ybWFuY2VfbGV2ZWxzW21heF9sZXZlbF0ubWVtX2Nsb2Nr
ID0KPiArICAgICAgICAgICAgICAgICAgICAgICBtZW1fZHBtX3RhYmxlLT5kcG1fbGV2ZWxzW21l
bV9kcG1fdGFibGUtPmNvdW50IC0gMV0udmFsdWU7Cj4gKwo+ICsgICAgICAgaWYgKCFod21nci0+
cHMpCj4gKyAgICAgICAgICAgICAgIHJldHVybjsKPiArCj4gKyAgICAgICBwcyA9IChzdHJ1Y3Qg
cHBfcG93ZXJfc3RhdGUgKikoKHVuc2lnbmVkIGxvbmcpKGh3bWdyLT5wcykgKyBod21nci0+cHNf
c2l6ZSAqIChod21nci0+bnVtX3BzIC0gMSkpOwo+ICsgICAgICAgdmVnYTEwX3BzID0gY2FzdF9w
aHdfdmVnYTEwX3Bvd2VyX3N0YXRlKCZwcy0+aGFyZHdhcmUpOwo+ICsgICAgICAgbWF4X2xldmVs
ID0gdmVnYTEwX3BzLT5wZXJmb3JtYW5jZV9sZXZlbF9jb3VudCAtIDE7Cj4gKwo+ICsgICAgICAg
aWYgKHZlZ2ExMF9wcy0+cGVyZm9ybWFuY2VfbGV2ZWxzW21heF9sZXZlbF0uZ2Z4X2Nsb2NrICE9
Cj4gKyAgICAgICAgICAgZ2Z4X2RwbV90YWJsZS0+ZHBtX2xldmVsc1tnZnhfZHBtX3RhYmxlLT5j
b3VudCAtIDFdLnZhbHVlKQo+ICsgICAgICAgICAgICAgICB2ZWdhMTBfcHMtPnBlcmZvcm1hbmNl
X2xldmVsc1ttYXhfbGV2ZWxdLmdmeF9jbG9jayA9Cj4gKyAgICAgICAgICAgICAgICAgICAgICAg
Z2Z4X2RwbV90YWJsZS0+ZHBtX2xldmVsc1tnZnhfZHBtX3RhYmxlLT5jb3VudCAtIDFdLnZhbHVl
Owo+ICsKPiArICAgICAgIGlmICh2ZWdhMTBfcHMtPnBlcmZvcm1hbmNlX2xldmVsc1ttYXhfbGV2
ZWxdLnNvY19jbG9jayAhPQo+ICsgICAgICAgICAgIHNvY19kcG1fdGFibGUtPmRwbV9sZXZlbHNb
c29jX2RwbV90YWJsZS0+Y291bnQgLSAxXS52YWx1ZSkKPiArICAgICAgICAgICAgICAgdmVnYTEw
X3BzLT5wZXJmb3JtYW5jZV9sZXZlbHNbbWF4X2xldmVsXS5zb2NfY2xvY2sgPQo+ICsgICAgICAg
ICAgICAgICAgICAgICAgIHNvY19kcG1fdGFibGUtPmRwbV9sZXZlbHNbc29jX2RwbV90YWJsZS0+
Y291bnQgLSAxXS52YWx1ZTsKPiArCj4gKyAgICAgICBpZiAodmVnYTEwX3BzLT5wZXJmb3JtYW5j
ZV9sZXZlbHNbbWF4X2xldmVsXS5tZW1fY2xvY2sgIT0KPiArICAgICAgICAgICBtZW1fZHBtX3Rh
YmxlLT5kcG1fbGV2ZWxzW21lbV9kcG1fdGFibGUtPmNvdW50IC0gMV0udmFsdWUpCj4gKyAgICAg
ICAgICAgICAgIHZlZ2ExMF9wcy0+cGVyZm9ybWFuY2VfbGV2ZWxzW21heF9sZXZlbF0ubWVtX2Ns
b2NrID0KPiArICAgICAgICAgICAgICAgICAgICAgICBtZW1fZHBtX3RhYmxlLT5kcG1fbGV2ZWxz
W21lbV9kcG1fdGFibGUtPmNvdW50IC0gMV0udmFsdWU7Cj4gK30KPiArCj4gIHN0YXRpYyB2b2lk
IHZlZ2ExMF9vZG5fdXBkYXRlX3NvY190YWJsZShzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyLAo+ICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudW0gUFBfT0Rf
RFBNX1RBQkxFX0NPTU1BTkQgdHlwZSkKPiAgewo+IEBAIC01MDc5LDYgKzUxMzYsNyBAQCBzdGF0
aWMgdm9pZCB2ZWdhMTBfb2RuX3VwZGF0ZV9zb2NfdGFibGUoc3RydWN0IHBwX2h3bWdyICpod21n
ciwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvZG5fdmRkX2RlcC0+ZW50cmll
c1twb2RuX3ZkZF9kZXAtPmNvdW50IC0gMV0udmRkSW5kOwo+ICAgICAgICAgICAgICAgICB9Cj4g
ICAgICAgICB9Cj4gKyAgICAgICB2ZWdhMTBfb2RuX3VwZGF0ZV9wb3dlcl9zdGF0ZShod21ncik7
Cj4gIH0KPgo+ICBzdGF0aWMgaW50IHZlZ2ExMF9vZG5fZWRpdF9kcG1fdGFibGUoc3RydWN0IHBw
X2h3bWdyICpod21nciwKPiBAQCAtNTExMyw2ICs1MTcxLDcgQEAgc3RhdGljIGludCB2ZWdhMTBf
b2RuX2VkaXRfZHBtX3RhYmxlKHN0cnVjdCBwcF9od21nciAqaHdtZ3IsCj4gICAgICAgICB9IGVs
c2UgaWYgKFBQX09EX1JFU1RPUkVfREVGQVVMVF9UQUJMRSA9PSB0eXBlKSB7Cj4gICAgICAgICAg
ICAgICAgIG1lbWNweSgmKGRhdGEtPmRwbV90YWJsZSksICYoZGF0YS0+Z29sZGVuX2RwbV90YWJs
ZSksIHNpemVvZihzdHJ1Y3QgdmVnYTEwX2RwbV90YWJsZSkpOwo+ICAgICAgICAgICAgICAgICB2
ZWdhMTBfb2RuX2luaXRpYWxfZGVmYXVsdF9zZXR0aW5nKGh3bWdyKTsKPiArICAgICAgICAgICAg
ICAgdmVnYTEwX29kbl91cGRhdGVfcG93ZXJfc3RhdGUoaHdtZ3IpOwo+ICAgICAgICAgICAgICAg
ICByZXR1cm4gMDsKPiAgICAgICAgIH0gZWxzZSBpZiAoUFBfT0RfQ09NTUlUX0RQTV9UQUJMRSA9
PSB0eXBlKSB7Cj4gICAgICAgICAgICAgICAgIHZlZ2ExMF9jaGVja19kcG1fdGFibGVfdXBkYXRl
ZChod21ncik7Cj4gLS0KPiAyLjIxLjAKPgo+IF9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fCj4gYW1kLWdmeCBtYWlsaW5nIGxpc3QKPiBhbWQtZ2Z4QGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZwo+IGh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vYW1kLWdmeApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9y
ZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZng=
