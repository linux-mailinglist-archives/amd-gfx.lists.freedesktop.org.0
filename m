Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 0A732B91E5
	for <lists+amd-gfx@lfdr.de>; Fri, 20 Sep 2019 16:27:37 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 046066FCFF;
	Fri, 20 Sep 2019 14:27:35 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-wm1-x342.google.com (mail-wm1-x342.google.com
 [IPv6:2a00:1450:4864:20::342])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 55FBC6FCFF
 for <amd-gfx@lists.freedesktop.org>; Fri, 20 Sep 2019 14:27:34 +0000 (UTC)
Received: by mail-wm1-x342.google.com with SMTP id x2so2741446wmj.2
 for <amd-gfx@lists.freedesktop.org>; Fri, 20 Sep 2019 07:27:34 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:reply-to:subject:to:references:from:message-id
 :date:user-agent:mime-version:in-reply-to:content-transfer-encoding
 :content-language;
 bh=fdEPdjzS9oM6CUlhisfBo5JH/thyOd6PDdorZym7lAg=;
 b=bLekqQNHCtQpXqErcfE8pgUaOoa5YrcDUzyOXp3X9S9BcGV1TF77ME4XeTnSy8Iqhq
 h4wzbY0iuy1lBL5Fj2eR/OYjjw4LIYyFCueYCaVM7UgjlLGpISSmcA4EIkwwKvEwGZvT
 w4wvwU3VQiuhDy985PROOcZVqjxBddlgvRGke09F1R9En1ExnUBboPLzbu9ZpMQ6CS6X
 b+p186fMARSmuhIf+/Uac62DMmXq0MR9D7aK0kWoVs7vTDWGTO0SD7UFCsSCH3OhmDMS
 /ZlGlAIjJ2w0/OQ3TYJbJzw01X+od0LxrhY8VJNfdBEtvXmnwDJgdpSB6CJeypkIHWbm
 fLXg==
X-Gm-Message-State: APjAAAVXM2F4HGWyB6xTEdUxpwcedw+lQ+kulK09kxE6lp7wj1kJ9ahM
 RyjiDIufG+2srb+omX8wKc4XcEsk
X-Google-Smtp-Source: APXvYqyjLL8pKWdFl3pQ3QUdzCKns5wws6x1xDPsXmjn4sNphHwAmX1Yd4SF+lRvFMEtdvFTMUx+Og==
X-Received: by 2002:a1c:cf8c:: with SMTP id f134mr3904170wmg.174.1568989652618; 
 Fri, 20 Sep 2019 07:27:32 -0700 (PDT)
Received: from ?IPv6:2a02:908:1252:fb60:be8a:bd56:1f94:86e7?
 ([2a02:908:1252:fb60:be8a:bd56:1f94:86e7])
 by smtp.gmail.com with ESMTPSA id a10sm2697686wrv.64.2019.09.20.07.27.31
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Fri, 20 Sep 2019 07:27:32 -0700 (PDT)
Subject: Re: [PATCH] drm/amdgpu: remove gfx9 NGG
To: =?UTF-8?B?TWFyZWsgT2zFocOhaw==?= <maraeo@gmail.com>,
 amd-gfx@lists.freedesktop.org
References: <20190920021531.3007-1-maraeo@gmail.com>
From: =?UTF-8?Q?Christian_K=c3=b6nig?= <ckoenig.leichtzumerken@gmail.com>
Message-ID: <7369c3c7-71b3-d980-6839-b0bbccd74fb1@gmail.com>
Date: Fri, 20 Sep 2019 16:27:30 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <20190920021531.3007-1-maraeo@gmail.com>
Content-Language: en-US
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=reply-to:subject:to:references:from:message-id:date:user-agent
 :mime-version:in-reply-to:content-transfer-encoding:content-language;
 bh=fdEPdjzS9oM6CUlhisfBo5JH/thyOd6PDdorZym7lAg=;
 b=TXdWXtMJZ4NKbi4GBAJCaQzgv8Fp4hB9c2aMtKrp+NmuuoB+IA7xSj1gCqEXQSx5Aw
 IVD4JUPnvTcvtt8/Bbyire7e82DYJ6d31sUvNj8zp5lZIXOqGfQEUMNqwESj+enMDxmI
 a7khheT7JeNOdgtDX3yBmeTC68+T6tZxEsMMgQsYfdKJ//B14Qk4A3YWvdVF90ubk+QX
 2tl/Bt/wXERrty7CUDXEqKa0EJQNl6xSc6ebkXsbeYDUq3cJErT7m3kmxu0tEd0IXNlS
 kO5gZUfUYmYyKIKUiRlLnNZbcBvcscKXSwP7azweE0VLmcd4psDOYfD1MypFbi8GyF0j
 lEjw==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Reply-To: christian.koenig@amd.com
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

QW0gMjAuMDkuMTkgdW0gMDQ6MTUgc2NocmllYiBNYXJlayBPbMWhw6FrOgo+IEZyb206IE1hcmVr
IE9sxaHDoWsgPG1hcmVrLm9sc2FrQGFtZC5jb20+Cj4KPiBOZXZlciB1c2VkLgo+Cj4gU2lnbmVk
LW9mZi1ieTogTWFyZWsgT2zFocOhayA8bWFyZWsub2xzYWtAYW1kLmNvbT4KCkFja2VkLWJ5OiBD
aHJpc3RpYW4gS8O2bmlnIDxjaHJpc3RpYW4ua29lbmlnQGFtZC5jb20+CgpOaWNlIGNsZWFudXAs
CkNocmlzdGlhbi4KCj4gLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHUu
aCAgICAgfCAgIDUgLQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2Rydi5j
IHwgIDQxIC0tLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ2Z4Lmgg
fCAgMjUgLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfa21zLmMgfCAg
MTEgLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92OV8wLmMgICB8IDE5NSAt
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KPiAgIDUgZmlsZXMgY2hhbmdlZCwgMjc3IGRlbGV0aW9u
cygtKQo+Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdS5o
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1LmgKPiBpbmRleCA2ZmYwMmJiNjAx
NDAuLjgwMTE2ZTYzZTIwOSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9hbWRncHUuaAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdS5oCj4g
QEAgLTE0MCwyNSArMTQwLDIwIEBAIGV4dGVybiBpbnQgYW1kZ3B1X2RjOwo+ICAgZXh0ZXJuIGlu
dCBhbWRncHVfc2NoZWRfam9iczsKPiAgIGV4dGVybiBpbnQgYW1kZ3B1X3NjaGVkX2h3X3N1Ym1p
c3Npb247Cj4gICBleHRlcm4gdWludCBhbWRncHVfcGNpZV9nZW5fY2FwOwo+ICAgZXh0ZXJuIHVp
bnQgYW1kZ3B1X3BjaWVfbGFuZV9jYXA7Cj4gICBleHRlcm4gdWludCBhbWRncHVfY2dfbWFzazsK
PiAgIGV4dGVybiB1aW50IGFtZGdwdV9wZ19tYXNrOwo+ICAgZXh0ZXJuIHVpbnQgYW1kZ3B1X3Nk
bWFfcGhhc2VfcXVhbnR1bTsKPiAgIGV4dGVybiBjaGFyICphbWRncHVfZGlzYWJsZV9jdTsKPiAg
IGV4dGVybiBjaGFyICphbWRncHVfdmlydHVhbF9kaXNwbGF5Owo+ICAgZXh0ZXJuIHVpbnQgYW1k
Z3B1X3BwX2ZlYXR1cmVfbWFzazsKPiAtZXh0ZXJuIGludCBhbWRncHVfbmdnOwo+IC1leHRlcm4g
aW50IGFtZGdwdV9wcmltX2J1Zl9wZXJfc2U7Cj4gLWV4dGVybiBpbnQgYW1kZ3B1X3Bvc19idWZf
cGVyX3NlOwo+IC1leHRlcm4gaW50IGFtZGdwdV9jbnRsX3NiX2J1Zl9wZXJfc2U7Cj4gLWV4dGVy
biBpbnQgYW1kZ3B1X3BhcmFtX2J1Zl9wZXJfc2U7Cj4gICBleHRlcm4gaW50IGFtZGdwdV9qb2Jf
aGFuZ19saW1pdDsKPiAgIGV4dGVybiBpbnQgYW1kZ3B1X2xicHc7Cj4gICBleHRlcm4gaW50IGFt
ZGdwdV9jb21wdXRlX211bHRpcGlwZTsKPiAgIGV4dGVybiBpbnQgYW1kZ3B1X2dwdV9yZWNvdmVy
eTsKPiAgIGV4dGVybiBpbnQgYW1kZ3B1X2VtdV9tb2RlOwo+ICAgZXh0ZXJuIHVpbnQgYW1kZ3B1
X3NtdV9tZW1vcnlfcG9vbF9zaXplOwo+ICAgZXh0ZXJuIHVpbnQgYW1kZ3B1X2RjX2ZlYXR1cmVf
bWFzazsKPiAgIGV4dGVybiB1aW50IGFtZGdwdV9kbV9hYm1fbGV2ZWw7Cj4gICBleHRlcm4gc3Ry
dWN0IGFtZGdwdV9tZ3B1X2luZm8gbWdwdV9pbmZvOwo+ICAgZXh0ZXJuIGludCBhbWRncHVfcmFz
X2VuYWJsZTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1
X2Rydi5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2Rydi5jCj4gaW5kZXgg
YjQ5ZWQzOWMxZmVhLi5jYmU0ZWY0ODEzZjggMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvYW1kZ3B1X2Rydi5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X2Rydi5jCj4gQEAgLTExOSwyNSArMTE5LDIwIEBAIGludCBhbWRncHVfc2NoZWRf
am9icyA9IDMyOwo+ICAgaW50IGFtZGdwdV9zY2hlZF9od19zdWJtaXNzaW9uID0gMjsKPiAgIHVp
bnQgYW1kZ3B1X3BjaWVfZ2VuX2NhcCA9IDA7Cj4gICB1aW50IGFtZGdwdV9wY2llX2xhbmVfY2Fw
ID0gMDsKPiAgIHVpbnQgYW1kZ3B1X2NnX21hc2sgPSAweGZmZmZmZmZmOwo+ICAgdWludCBhbWRn
cHVfcGdfbWFzayA9IDB4ZmZmZmZmZmY7Cj4gICB1aW50IGFtZGdwdV9zZG1hX3BoYXNlX3F1YW50
dW0gPSAzMjsKPiAgIGNoYXIgKmFtZGdwdV9kaXNhYmxlX2N1ID0gTlVMTDsKPiAgIGNoYXIgKmFt
ZGdwdV92aXJ0dWFsX2Rpc3BsYXkgPSBOVUxMOwo+ICAgLyogT3ZlckRyaXZlKGJpdCAxNCkgZGlz
YWJsZWQgYnkgZGVmYXVsdCovCj4gICB1aW50IGFtZGdwdV9wcF9mZWF0dXJlX21hc2sgPSAweGZm
ZmZiZmZmOwo+IC1pbnQgYW1kZ3B1X25nZyA9IDA7Cj4gLWludCBhbWRncHVfcHJpbV9idWZfcGVy
X3NlID0gMDsKPiAtaW50IGFtZGdwdV9wb3NfYnVmX3Blcl9zZSA9IDA7Cj4gLWludCBhbWRncHVf
Y250bF9zYl9idWZfcGVyX3NlID0gMDsKPiAtaW50IGFtZGdwdV9wYXJhbV9idWZfcGVyX3NlID0g
MDsKPiAgIGludCBhbWRncHVfam9iX2hhbmdfbGltaXQgPSAwOwo+ICAgaW50IGFtZGdwdV9sYnB3
ID0gLTE7Cj4gICBpbnQgYW1kZ3B1X2NvbXB1dGVfbXVsdGlwaXBlID0gLTE7Cj4gICBpbnQgYW1k
Z3B1X2dwdV9yZWNvdmVyeSA9IC0xOyAvKiBhdXRvICovCj4gICBpbnQgYW1kZ3B1X2VtdV9tb2Rl
ID0gMDsKPiAgIHVpbnQgYW1kZ3B1X3NtdV9tZW1vcnlfcG9vbF9zaXplID0gMDsKPiAgIC8qIEZC
QyAoYml0IDApIGRpc2FibGVkIGJ5IGRlZmF1bHQqLwo+ICAgdWludCBhbWRncHVfZGNfZmVhdHVy
ZV9tYXNrID0gMDsKPiAgIGludCBhbWRncHVfYXN5bmNfZ2Z4X3JpbmcgPSAxOwo+ICAgaW50IGFt
ZGdwdV9tY2JwID0gMDsKPiBAQCAtNDQzLDU2ICs0MzgsMjAgQEAgbW9kdWxlX3BhcmFtX25hbWVk
KGRpc2FibGVfY3UsIGFtZGdwdV9kaXNhYmxlX2N1LCBjaGFycCwgMDQ0NCk7Cj4gICAgKiBET0M6
IHZpcnR1YWxfZGlzcGxheSAoY2hhcnApCj4gICAgKiBTZXQgdG8gZW5hYmxlIHZpcnR1YWwgZGlz
cGxheSBmZWF0dXJlLiBUaGlzIGZlYXR1cmUgcHJvdmlkZXMgYSB2aXJ0dWFsIGRpc3BsYXkgaGFy
ZHdhcmUgb24gaGVhZGxlc3MgYm9hcmRzCj4gICAgKiBvciBpbiB2aXJ0dWFsaXplZCBlbnZpcm9u
bWVudHMuIEl0IHdpbGwgYmUgc2V0IGxpa2UgeHh4eDp4eDp4eC54LHg7eHh4eDp4eDp4eC54LHgu
IEl0J3MgdGhlIHBjaSBhZGRyZXNzIG9mCj4gICAgKiB0aGUgZGV2aWNlLCBwbHVzIHRoZSBudW1i
ZXIgb2YgY3J0Y3MgdG8gZXhwb3NlLiBFLmcuLCAwMDAwOjI2OjAwLjAsNCB3b3VsZCBlbmFibGUg
NCB2aXJ0dWFsIGNydGNzIG9uIHRoZSBwY2kKPiAgICAqIGRldmljZSBhdCAyNjowMC4wLiBUaGUg
ZGVmYXVsdCBpcyBOVUxMLgo+ICAgICovCj4gICBNT0RVTEVfUEFSTV9ERVNDKHZpcnR1YWxfZGlz
cGxheSwKPiAgIAkJICJFbmFibGUgdmlydHVhbCBkaXNwbGF5IGZlYXR1cmUgKHRoZSB2aXJ0dWFs
X2Rpc3BsYXkgd2lsbCBiZSBzZXQgbGlrZSB4eHh4Onh4Onh4LngseDt4eHh4Onh4Onh4LngseCki
KTsKPiAgIG1vZHVsZV9wYXJhbV9uYW1lZCh2aXJ0dWFsX2Rpc3BsYXksIGFtZGdwdV92aXJ0dWFs
X2Rpc3BsYXksIGNoYXJwLCAwNDQ0KTsKPiAgIAo+IC0vKioKPiAtICogRE9DOiBuZ2cgKGludCkK
PiAtICogU2V0IHRvIGVuYWJsZSBOZXh0IEdlbmVyYXRpb24gR3JhcGhpY3MgKDEgPSBlbmFibGUp
LiBUaGUgZGVmYXVsdCBpcyAwIChkaXNhYmxlZCkuCj4gLSAqLwo+IC1NT0RVTEVfUEFSTV9ERVND
KG5nZywgIk5leHQgR2VuZXJhdGlvbiBHcmFwaGljcyAoMSA9IGVuYWJsZSwgMCA9IGRpc2FibGUo
ZGVmYXVsdCBkZXBlbmRpbmcgb24gZ2Z4KSkiKTsKPiAtbW9kdWxlX3BhcmFtX25hbWVkKG5nZywg
YW1kZ3B1X25nZywgaW50LCAwNDQ0KTsKPiAtCj4gLS8qKgo+IC0gKiBET0M6IHByaW1fYnVmX3Bl
cl9zZSAoaW50KQo+IC0gKiBPdmVycmlkZSB0aGUgc2l6ZSBvZiBQcmltaXRpdmUgQnVmZmVyIHBl
ciBTaGFkZXIgRW5naW5lIGluIEJ5dGUuIFRoZSBkZWZhdWx0IGlzIDAgKGRlcGVuZGluZyBvbiBn
ZngpLgo+IC0gKi8KPiAtTU9EVUxFX1BBUk1fREVTQyhwcmltX2J1Zl9wZXJfc2UsICJ0aGUgc2l6
ZSBvZiBQcmltaXRpdmUgQnVmZmVyIHBlciBTaGFkZXIgRW5naW5lIChkZWZhdWx0IGRlcGVuZGlu
ZyBvbiBnZngpIik7Cj4gLW1vZHVsZV9wYXJhbV9uYW1lZChwcmltX2J1Zl9wZXJfc2UsIGFtZGdw
dV9wcmltX2J1Zl9wZXJfc2UsIGludCwgMDQ0NCk7Cj4gLQo+IC0vKioKPiAtICogRE9DOiBwb3Nf
YnVmX3Blcl9zZSAoaW50KQo+IC0gKiBPdmVycmlkZSB0aGUgc2l6ZSBvZiBQb3NpdGlvbiBCdWZm
ZXIgcGVyIFNoYWRlciBFbmdpbmUgaW4gQnl0ZS4gVGhlIGRlZmF1bHQgaXMgMCAoZGVwZW5kaW5n
IG9uIGdmeCkuCj4gLSAqLwo+IC1NT0RVTEVfUEFSTV9ERVNDKHBvc19idWZfcGVyX3NlLCAidGhl
IHNpemUgb2YgUG9zaXRpb24gQnVmZmVyIHBlciBTaGFkZXIgRW5naW5lIChkZWZhdWx0IGRlcGVu
ZGluZyBvbiBnZngpIik7Cj4gLW1vZHVsZV9wYXJhbV9uYW1lZChwb3NfYnVmX3Blcl9zZSwgYW1k
Z3B1X3Bvc19idWZfcGVyX3NlLCBpbnQsIDA0NDQpOwo+IC0KPiAtLyoqCj4gLSAqIERPQzogY250
bF9zYl9idWZfcGVyX3NlIChpbnQpCj4gLSAqIE92ZXJyaWRlIHRoZSBzaXplIG9mIENvbnRyb2wg
U2lkZWJhbmQgcGVyIFNoYWRlciBFbmdpbmUgaW4gQnl0ZS4gVGhlIGRlZmF1bHQgaXMgMCAoZGVw
ZW5kaW5nIG9uIGdmeCkuCj4gLSAqLwo+IC1NT0RVTEVfUEFSTV9ERVNDKGNudGxfc2JfYnVmX3Bl
cl9zZSwgInRoZSBzaXplIG9mIENvbnRyb2wgU2lkZWJhbmQgcGVyIFNoYWRlciBFbmdpbmUgKGRl
ZmF1bHQgZGVwZW5kaW5nIG9uIGdmeCkiKTsKPiAtbW9kdWxlX3BhcmFtX25hbWVkKGNudGxfc2Jf
YnVmX3Blcl9zZSwgYW1kZ3B1X2NudGxfc2JfYnVmX3Blcl9zZSwgaW50LCAwNDQ0KTsKPiAtCj4g
LS8qKgo+IC0gKiBET0M6IHBhcmFtX2J1Zl9wZXJfc2UgKGludCkKPiAtICogT3ZlcnJpZGUgdGhl
IHNpemUgb2YgT2ZmLUNoaXAgUGFyYW1ldGVyIENhY2hlIHBlciBTaGFkZXIgRW5naW5lIGluIEJ5
dGUuCj4gLSAqIFRoZSBkZWZhdWx0IGlzIDAgKGRlcGVuZGluZyBvbiBnZngpLgo+IC0gKi8KPiAt
TU9EVUxFX1BBUk1fREVTQyhwYXJhbV9idWZfcGVyX3NlLCAidGhlIHNpemUgb2YgT2ZmLUNoaXAg
UGFyYW1ldGVyIENhY2hlIHBlciBTaGFkZXIgRW5naW5lIChkZWZhdWx0IGRlcGVuZGluZyBvbiBn
ZngpIik7Cj4gLW1vZHVsZV9wYXJhbV9uYW1lZChwYXJhbV9idWZfcGVyX3NlLCBhbWRncHVfcGFy
YW1fYnVmX3Blcl9zZSwgaW50LCAwNDQ0KTsKPiAtCj4gICAvKioKPiAgICAqIERPQzogam9iX2hh
bmdfbGltaXQgKGludCkKPiAgICAqIFNldCBob3cgbXVjaCB0aW1lIGFsbG93IGEgam9iIGhhbmcg
YW5kIG5vdCBkcm9wIGl0LiBUaGUgZGVmYXVsdCBpcyAwLgo+ICAgICovCj4gICBNT0RVTEVfUEFS
TV9ERVNDKGpvYl9oYW5nX2xpbWl0LCAiaG93IG11Y2ggdGltZSBhbGxvdyBhIGpvYiBoYW5nIGFu
ZCBub3QgZHJvcCBpdCAoZGVmYXVsdCAwKSIpOwo+ICAgbW9kdWxlX3BhcmFtX25hbWVkKGpvYl9o
YW5nX2xpbWl0LCBhbWRncHVfam9iX2hhbmdfbGltaXQsIGludCAsMDQ0NCk7Cj4gICAKPiAgIC8q
Kgo+ICAgICogRE9DOiBsYnB3IChpbnQpCj4gICAgKiBPdmVycmlkZSBMb2FkIEJhbGFuY2luZyBQ
ZXIgV2F0dCAoTEJQVykgc3VwcG9ydCAoMSA9IGVuYWJsZSwgMCA9IGRpc2FibGUpLiBUaGUgZGVm
YXVsdCBpcyAtMSAoYXV0bywgZW5hYmxlZCkuCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV9nZnguaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV9nZnguaAo+IGluZGV4IDZlZDA1NjBkNzI5OS4uNTljNTQ2NGM5NmJlIDEwMDY0NAo+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nZnguaAo+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nZnguaAo+IEBAIC0xOTMsNDIgKzE5MywyMCBA
QCBzdHJ1Y3QgYW1kZ3B1X2dmeF9mdW5jcyB7Cj4gICAJCQkJdWludDMyX3Qgc2l6ZSwgdWludDMy
X3QgKmRzdCk7Cj4gICAJdm9pZCAoKnJlYWRfd2F2ZV9zZ3Bycykoc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYsIHVpbnQzMl90IHNpbWQsCj4gICAJCQkJdWludDMyX3Qgd2F2ZSwgdWludDMyX3Qg
c3RhcnQsIHVpbnQzMl90IHNpemUsCj4gICAJCQkJdWludDMyX3QgKmRzdCk7Cj4gICAJdm9pZCAo
KnNlbGVjdF9tZV9waXBlX3EpKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCB1MzIgbWUsIHUz
MiBwaXBlLAo+ICAgCQkJCSB1MzIgcXVldWUsIHUzMiB2bWlkKTsKPiAgIAlpbnQgKCpyYXNfZXJy
b3JfaW5qZWN0KShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgdm9pZCAqaW5qZWN0X2lmKTsK
PiAgIAlpbnQgKCpxdWVyeV9yYXNfZXJyb3JfY291bnQpIChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldiwgdm9pZCAqcmFzX2Vycm9yX3N0YXR1cyk7Cj4gICB9Owo+ICAgCj4gLXN0cnVjdCBhbWRn
cHVfbmdnX2J1ZiB7Cj4gLQlzdHJ1Y3QgYW1kZ3B1X2JvCSpibzsKPiAtCXVpbnQ2NF90CQlncHVf
YWRkcjsKPiAtCXVpbnQzMl90CQlzaXplOwo+IC0JdWludDMyX3QJCWJvX3NpemU7Cj4gLX07Cj4g
LQo+IC1lbnVtIHsKPiAtCU5HR19QUklNID0gMCwKPiAtCU5HR19QT1MsCj4gLQlOR0dfQ05UTCwK
PiAtCU5HR19QQVJBTSwKPiAtCU5HR19CVUZfTUFYCj4gLX07Cj4gLQo+IC1zdHJ1Y3QgYW1kZ3B1
X25nZyB7Cj4gLQlzdHJ1Y3QgYW1kZ3B1X25nZ19idWYJYnVmW05HR19CVUZfTUFYXTsKPiAtCXVp
bnQzMl90CQlnZHNfcmVzZXJ2ZV9hZGRyOwo+IC0JdWludDMyX3QJCWdkc19yZXNlcnZlX3NpemU7
Cj4gLQlib29sCQkJaW5pdDsKPiAtfTsKPiAtCj4gICBzdHJ1Y3Qgc3Ffd29yayB7Cj4gICAJc3Ry
dWN0IHdvcmtfc3RydWN0CXdvcms7Cj4gICAJdW5zaWduZWQgaWhfZGF0YTsKPiAgIH07Cj4gICAK
PiAgIHN0cnVjdCBhbWRncHVfcGZwIHsKPiAgIAlzdHJ1Y3QgYW1kZ3B1X2JvCQkqcGZwX2Z3X29i
ajsKPiAgIAl1aW50NjRfdAkJCXBmcF9md19ncHVfYWRkcjsKPiAgIAl1aW50MzJfdAkJCSpwZnBf
ZndfcHRyOwo+ICAgfTsKPiBAQCAtMzAzLDIzICsyODEsMjAgQEAgc3RydWN0IGFtZGdwdV9nZngg
ewo+ICAgCXVpbnQzMl90CQkJZ2Z4X2N1cnJlbnRfc3RhdHVzOwo+ICAgCS8qIGNlIHJhbSBzaXpl
Ki8KPiAgIAl1bnNpZ25lZAkJCWNlX3JhbV9zaXplOwo+ICAgCXN0cnVjdCBhbWRncHVfY3VfaW5m
bwkJY3VfaW5mbzsKPiAgIAljb25zdCBzdHJ1Y3QgYW1kZ3B1X2dmeF9mdW5jcwkqZnVuY3M7Cj4g
ICAKPiAgIAkvKiByZXNldCBtYXNrICovCj4gICAJdWludDMyX3QgICAgICAgICAgICAgICAgICAg
ICAgICBncmJtX3NvZnRfcmVzZXQ7Cj4gICAJdWludDMyX3QgICAgICAgICAgICAgICAgICAgICAg
ICBzcmJtX3NvZnRfcmVzZXQ7Cj4gICAKPiAtCS8qIE5HRyAqLwo+IC0Jc3RydWN0IGFtZGdwdV9u
Z2cJCW5nZzsKPiAtCj4gICAJLyogZ2Z4IG9mZiAqLwo+ICAgCWJvb2wgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgZ2Z4X29mZl9zdGF0ZTsgLyogdHJ1ZTogZW5hYmxlZCwgZmFsc2U6IGRpc2Fi
bGVkICovCj4gICAJc3RydWN0IG11dGV4ICAgICAgICAgICAgICAgICAgICBnZnhfb2ZmX211dGV4
Owo+ICAgCXVpbnQzMl90ICAgICAgICAgICAgICAgICAgICAgICAgZ2Z4X29mZl9yZXFfY291bnQ7
IC8qIGRlZmF1bHQgMSwgZW5hYmxlIGdmeCBvZmY6IGRlYyAxLCBkaXNhYmxlIGdmeCBvZmY6IGFk
ZCAxICovCj4gICAJc3RydWN0IGRlbGF5ZWRfd29yayAgICAgICAgICAgICBnZnhfb2ZmX2RlbGF5
X3dvcms7Cj4gICAKPiAgIAkvKiBwaXBlIHJlc2VydmF0aW9uICovCj4gICAJc3RydWN0IG11dGV4
CQkJcGlwZV9yZXNlcnZlX211dGV4Owo+ICAgCURFQ0xBUkVfQklUTUFQCQkJKHBpcGVfcmVzZXJ2
ZV9iaXRtYXAsIEFNREdQVV9NQVhfQ09NUFVURV9RVUVVRVMpOwo+ICAgCj4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9rbXMuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV9rbXMuYwo+IGluZGV4IDdjNjg5NzRmZThmMi4uNmNjNzlkM2E0
ZTI2IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9rbXMu
Ywo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9rbXMuYwo+IEBAIC03
NjAsMzEgKzc2MCwyMCBAQCBzdGF0aWMgaW50IGFtZGdwdV9pbmZvX2lvY3RsKHN0cnVjdCBkcm1f
ZGV2aWNlICpkZXYsIHZvaWQgKmRhdGEsIHN0cnVjdCBkcm1fZmlsZQo+ICAgCQlkZXZfaW5mby5j
ZV9yYW1fc2l6ZSA9IGFkZXYtPmdmeC5jZV9yYW1fc2l6ZTsKPiAgIAkJbWVtY3B5KCZkZXZfaW5m
by5jdV9hb19iaXRtYXBbMF0sICZhZGV2LT5nZnguY3VfaW5mby5hb19jdV9iaXRtYXBbMF0sCj4g
ICAJCSAgICAgICBzaXplb2YoYWRldi0+Z2Z4LmN1X2luZm8uYW9fY3VfYml0bWFwKSk7Cj4gICAJ
CW1lbWNweSgmZGV2X2luZm8uY3VfYml0bWFwWzBdLCAmYWRldi0+Z2Z4LmN1X2luZm8uYml0bWFw
WzBdLAo+ICAgCQkgICAgICAgc2l6ZW9mKGFkZXYtPmdmeC5jdV9pbmZvLmJpdG1hcCkpOwo+ICAg
CQlkZXZfaW5mby52cmFtX3R5cGUgPSBhZGV2LT5nbWMudnJhbV90eXBlOwo+ICAgCQlkZXZfaW5m
by52cmFtX2JpdF93aWR0aCA9IGFkZXYtPmdtYy52cmFtX3dpZHRoOwo+ICAgCQlkZXZfaW5mby52
Y2VfaGFydmVzdF9jb25maWcgPSBhZGV2LT52Y2UuaGFydmVzdF9jb25maWc7Cj4gICAJCWRldl9p
bmZvLmdjX2RvdWJsZV9vZmZjaGlwX2xkc19idWYgPQo+ICAgCQkJYWRldi0+Z2Z4LmNvbmZpZy5k
b3VibGVfb2ZmY2hpcF9sZHNfYnVmOwo+IC0KPiAtCQlpZiAoYW1kZ3B1X25nZykgewo+IC0JCQlk
ZXZfaW5mby5wcmltX2J1Zl9ncHVfYWRkciA9IGFkZXYtPmdmeC5uZ2cuYnVmW05HR19QUklNXS5n
cHVfYWRkcjsKPiAtCQkJZGV2X2luZm8ucHJpbV9idWZfc2l6ZSA9IGFkZXYtPmdmeC5uZ2cuYnVm
W05HR19QUklNXS5zaXplOwo+IC0JCQlkZXZfaW5mby5wb3NfYnVmX2dwdV9hZGRyID0gYWRldi0+
Z2Z4Lm5nZy5idWZbTkdHX1BPU10uZ3B1X2FkZHI7Cj4gLQkJCWRldl9pbmZvLnBvc19idWZfc2l6
ZSA9IGFkZXYtPmdmeC5uZ2cuYnVmW05HR19QT1NdLnNpemU7Cj4gLQkJCWRldl9pbmZvLmNudGxf
c2JfYnVmX2dwdV9hZGRyID0gYWRldi0+Z2Z4Lm5nZy5idWZbTkdHX0NOVExdLmdwdV9hZGRyOwo+
IC0JCQlkZXZfaW5mby5jbnRsX3NiX2J1Zl9zaXplID0gYWRldi0+Z2Z4Lm5nZy5idWZbTkdHX0NO
VExdLnNpemU7Cj4gLQkJCWRldl9pbmZvLnBhcmFtX2J1Zl9ncHVfYWRkciA9IGFkZXYtPmdmeC5u
Z2cuYnVmW05HR19QQVJBTV0uZ3B1X2FkZHI7Cj4gLQkJCWRldl9pbmZvLnBhcmFtX2J1Zl9zaXpl
ID0gYWRldi0+Z2Z4Lm5nZy5idWZbTkdHX1BBUkFNXS5zaXplOwo+IC0JCX0KPiAgIAkJZGV2X2lu
Zm8ud2F2ZV9mcm9udF9zaXplID0gYWRldi0+Z2Z4LmN1X2luZm8ud2F2ZV9mcm9udF9zaXplOwo+
ICAgCQlkZXZfaW5mby5udW1fc2hhZGVyX3Zpc2libGVfdmdwcnMgPSBhZGV2LT5nZnguY29uZmln
Lm1heF9ncHJzOwo+ICAgCQlkZXZfaW5mby5udW1fY3VfcGVyX3NoID0gYWRldi0+Z2Z4LmNvbmZp
Zy5tYXhfY3VfcGVyX3NoOwo+ICAgCQlkZXZfaW5mby5udW1fdGNjX2Jsb2NrcyA9IGFkZXYtPmdm
eC5jb25maWcubWF4X3RleHR1cmVfY2hhbm5lbF9jYWNoZXM7Cj4gICAJCWRldl9pbmZvLmdzX3Zn
dF90YWJsZV9kZXB0aCA9IGFkZXYtPmdmeC5jb25maWcuZ3Nfdmd0X3RhYmxlX2RlcHRoOwo+ICAg
CQlkZXZfaW5mby5nc19wcmltX2J1ZmZlcl9kZXB0aCA9IGFkZXYtPmdmeC5jb25maWcuZ3NfcHJp
bV9idWZmZXJfZGVwdGg7Cj4gICAJCWRldl9pbmZvLm1heF9nc193YXZlc19wZXJfdmd0ID0gYWRl
di0+Z2Z4LmNvbmZpZy5tYXhfZ3NfdGhyZWFkczsKPiAgIAo+ICAgCQlpZiAoYWRldi0+ZmFtaWx5
ID49IEFNREdQVV9GQU1JTFlfTlYpCj4gICAJCQlkZXZfaW5mby5wYV9zY190aWxlX3N0ZWVyaW5n
X292ZXJyaWRlID0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4
X3Y5XzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92OV8wLmMKPiBpbmRleCA5
YTFmOTFjZjBlZTguLjI2NmVmODc0ZjJhMyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9nZnhfdjlfMC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
Z2Z4X3Y5XzAuYwo+IEBAIC0xOTQ2LDIwNCArMTk0NiwyMCBAQCBzdGF0aWMgaW50IGdmeF92OV8w
X2dwdV9lYXJseV9pbml0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQo+ICAgCQkJCQlOVU1f
U0hBREVSX0VOR0lORVMpOwo+ICAgCWFkZXYtPmdmeC5jb25maWcuZ2JfYWRkcl9jb25maWdfZmll
bGRzLnBpcGVfaW50ZXJsZWF2ZV9zaXplID0gMSA8PCAoOCArCj4gICAJCQlSRUdfR0VUX0ZJRUxE
KAo+ICAgCQkJCQlhZGV2LT5nZnguY29uZmlnLmdiX2FkZHJfY29uZmlnLAo+ICAgCQkJCQlHQl9B
RERSX0NPTkZJRywKPiAgIAkJCQkJUElQRV9JTlRFUkxFQVZFX1NJWkUpKTsKPiAgIAo+ICAgCXJl
dHVybiAwOwo+ICAgfQo+ICAgCj4gLXN0YXRpYyBpbnQgZ2Z4X3Y5XzBfbmdnX2NyZWF0ZV9idWYo
c3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCj4gLQkJCQkgICBzdHJ1Y3QgYW1kZ3B1X25nZ19i
dWYgKm5nZ19idWYsCj4gLQkJCQkgICBpbnQgc2l6ZV9zZSwKPiAtCQkJCSAgIGludCBkZWZhdWx0
X3NpemVfc2UpCj4gLXsKPiAtCWludCByOwo+IC0KPiAtCWlmIChzaXplX3NlIDwgMCkgewo+IC0J
CWRldl9lcnIoYWRldi0+ZGV2LCAiQnVmZmVyIHNpemUgaXMgaW52YWxpZDogJWRcbiIsIHNpemVf
c2UpOwo+IC0JCXJldHVybiAtRUlOVkFMOwo+IC0JfQo+IC0Jc2l6ZV9zZSA9IHNpemVfc2UgPyBz
aXplX3NlIDogZGVmYXVsdF9zaXplX3NlOwo+IC0KPiAtCW5nZ19idWYtPnNpemUgPSBzaXplX3Nl
ICogYWRldi0+Z2Z4LmNvbmZpZy5tYXhfc2hhZGVyX2VuZ2luZXM7Cj4gLQlyID0gYW1kZ3B1X2Jv
X2NyZWF0ZV9rZXJuZWwoYWRldiwgbmdnX2J1Zi0+c2l6ZSwKPiAtCQkJCSAgICBQQUdFX1NJWkUs
IEFNREdQVV9HRU1fRE9NQUlOX1ZSQU0sCj4gLQkJCQkgICAgJm5nZ19idWYtPmJvLAo+IC0JCQkJ
ICAgICZuZ2dfYnVmLT5ncHVfYWRkciwKPiAtCQkJCSAgICBOVUxMKTsKPiAtCWlmIChyKSB7Cj4g
LQkJZGV2X2VycihhZGV2LT5kZXYsICIoJWQpIGZhaWxlZCB0byBjcmVhdGUgTkdHIGJ1ZmZlclxu
Iiwgcik7Cj4gLQkJcmV0dXJuIHI7Cj4gLQl9Cj4gLQluZ2dfYnVmLT5ib19zaXplID0gYW1kZ3B1
X2JvX3NpemUobmdnX2J1Zi0+Ym8pOwo+IC0KPiAtCXJldHVybiByOwo+IC19Cj4gLQo+IC1zdGF0
aWMgaW50IGdmeF92OV8wX25nZ19maW5pKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQo+IC17
Cj4gLQlpbnQgaTsKPiAtCj4gLQlmb3IgKGkgPSAwOyBpIDwgTkdHX0JVRl9NQVg7IGkrKykKPiAt
CQlhbWRncHVfYm9fZnJlZV9rZXJuZWwoJmFkZXYtPmdmeC5uZ2cuYnVmW2ldLmJvLAo+IC0JCQkJ
ICAgICAgJmFkZXYtPmdmeC5uZ2cuYnVmW2ldLmdwdV9hZGRyLAo+IC0JCQkJICAgICAgTlVMTCk7
Cj4gLQo+IC0JbWVtc2V0KCZhZGV2LT5nZngubmdnLmJ1ZlswXSwgMCwKPiAtCQkJc2l6ZW9mKHN0
cnVjdCBhbWRncHVfbmdnX2J1ZikgKiBOR0dfQlVGX01BWCk7Cj4gLQo+IC0JYWRldi0+Z2Z4Lm5n
Zy5pbml0ID0gZmFsc2U7Cj4gLQo+IC0JcmV0dXJuIDA7Cj4gLX0KPiAtCj4gLXN0YXRpYyBpbnQg
Z2Z4X3Y5XzBfbmdnX2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCj4gLXsKPiAtCWlu
dCByOwo+IC0KPiAtCWlmICghYW1kZ3B1X25nZyB8fCBhZGV2LT5nZngubmdnLmluaXQgPT0gdHJ1
ZSkKPiAtCQlyZXR1cm4gMDsKPiAtCj4gLQkvKiBHRFMgcmVzZXJ2ZSBtZW1vcnk6IDY0IGJ5dGVz
IGFsaWdubWVudCAqLwo+IC0JYWRldi0+Z2Z4Lm5nZy5nZHNfcmVzZXJ2ZV9zaXplID0gQUxJR04o
NSAqIDQsIDB4NDApOwo+IC0JYWRldi0+Z2RzLmdkc19zaXplIC09IGFkZXYtPmdmeC5uZ2cuZ2Rz
X3Jlc2VydmVfc2l6ZTsKPiAtCWFkZXYtPmdmeC5uZ2cuZ2RzX3Jlc2VydmVfYWRkciA9IFJSRUcz
Ml9TT0MxNShHQywgMCwgbW1HRFNfVk1JRDBfQkFTRSk7Cj4gLQlhZGV2LT5nZngubmdnLmdkc19y
ZXNlcnZlX2FkZHIgKz0gUlJFRzMyX1NPQzE1KEdDLCAwLCBtbUdEU19WTUlEMF9TSVpFKTsKPiAt
Cj4gLQkvKiBQcmltaXRpdmUgQnVmZmVyICovCj4gLQlyID0gZ2Z4X3Y5XzBfbmdnX2NyZWF0ZV9i
dWYoYWRldiwgJmFkZXYtPmdmeC5uZ2cuYnVmW05HR19QUklNXSwKPiAtCQkJCSAgICBhbWRncHVf
cHJpbV9idWZfcGVyX3NlLAo+IC0JCQkJICAgIDY0ICogMTAyNCk7Cj4gLQlpZiAocikgewo+IC0J
CWRldl9lcnIoYWRldi0+ZGV2LCAiRmFpbGVkIHRvIGNyZWF0ZSBQcmltaXRpdmUgQnVmZmVyXG4i
KTsKPiAtCQlnb3RvIGVycjsKPiAtCX0KPiAtCj4gLQkvKiBQb3NpdGlvbiBCdWZmZXIgKi8KPiAt
CXIgPSBnZnhfdjlfMF9uZ2dfY3JlYXRlX2J1ZihhZGV2LCAmYWRldi0+Z2Z4Lm5nZy5idWZbTkdH
X1BPU10sCj4gLQkJCQkgICAgYW1kZ3B1X3Bvc19idWZfcGVyX3NlLAo+IC0JCQkJICAgIDI1NiAq
IDEwMjQpOwo+IC0JaWYgKHIpIHsKPiAtCQlkZXZfZXJyKGFkZXYtPmRldiwgIkZhaWxlZCB0byBj
cmVhdGUgUG9zaXRpb24gQnVmZmVyXG4iKTsKPiAtCQlnb3RvIGVycjsKPiAtCX0KPiAtCj4gLQkv
KiBDb250cm9sIFNpZGViYW5kICovCj4gLQlyID0gZ2Z4X3Y5XzBfbmdnX2NyZWF0ZV9idWYoYWRl
diwgJmFkZXYtPmdmeC5uZ2cuYnVmW05HR19DTlRMXSwKPiAtCQkJCSAgICBhbWRncHVfY250bF9z
Yl9idWZfcGVyX3NlLAo+IC0JCQkJICAgIDI1Nik7Cj4gLQlpZiAocikgewo+IC0JCWRldl9lcnIo
YWRldi0+ZGV2LCAiRmFpbGVkIHRvIGNyZWF0ZSBDb250cm9sIFNpZGViYW5kIEJ1ZmZlclxuIik7
Cj4gLQkJZ290byBlcnI7Cj4gLQl9Cj4gLQo+IC0JLyogUGFyYW1ldGVyIENhY2hlLCBub3QgY3Jl
YXRlZCBieSBkZWZhdWx0ICovCj4gLQlpZiAoYW1kZ3B1X3BhcmFtX2J1Zl9wZXJfc2UgPD0gMCkK
PiAtCQlnb3RvIG91dDsKPiAtCj4gLQlyID0gZ2Z4X3Y5XzBfbmdnX2NyZWF0ZV9idWYoYWRldiwg
JmFkZXYtPmdmeC5uZ2cuYnVmW05HR19QQVJBTV0sCj4gLQkJCQkgICAgYW1kZ3B1X3BhcmFtX2J1
Zl9wZXJfc2UsCj4gLQkJCQkgICAgNTEyICogMTAyNCk7Cj4gLQlpZiAocikgewo+IC0JCWRldl9l
cnIoYWRldi0+ZGV2LCAiRmFpbGVkIHRvIGNyZWF0ZSBQYXJhbWV0ZXIgQ2FjaGVcbiIpOwo+IC0J
CWdvdG8gZXJyOwo+IC0JfQo+IC0KPiAtb3V0Ogo+IC0JYWRldi0+Z2Z4Lm5nZy5pbml0ID0gdHJ1
ZTsKPiAtCXJldHVybiAwOwo+IC1lcnI6Cj4gLQlnZnhfdjlfMF9uZ2dfZmluaShhZGV2KTsKPiAt
CXJldHVybiByOwo+IC19Cj4gLQo+IC1zdGF0aWMgaW50IGdmeF92OV8wX25nZ19lbihzdHJ1Y3Qg
YW1kZ3B1X2RldmljZSAqYWRldikKPiAtewo+IC0Jc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nID0g
JmFkZXYtPmdmeC5nZnhfcmluZ1swXTsKPiAtCWludCByOwo+IC0JdTMyIGRhdGEsIGJhc2U7Cj4g
LQo+IC0JaWYgKCFhbWRncHVfbmdnKQo+IC0JCXJldHVybiAwOwo+IC0KPiAtCS8qIFByb2dyYW0g
YnVmZmVyIHNpemUgKi8KPiAtCWRhdGEgPSBSRUdfU0VUX0ZJRUxEKDAsIFdEX0JVRl9SRVNPVVJD
RV8xLCBJTkRFWF9CVUZfU0laRSwKPiAtCQkJICAgICBhZGV2LT5nZngubmdnLmJ1ZltOR0dfUFJJ
TV0uc2l6ZSA+PiA4KTsKPiAtCWRhdGEgPSBSRUdfU0VUX0ZJRUxEKGRhdGEsIFdEX0JVRl9SRVNP
VVJDRV8xLCBQT1NfQlVGX1NJWkUsCj4gLQkJCSAgICAgYWRldi0+Z2Z4Lm5nZy5idWZbTkdHX1BP
U10uc2l6ZSA+PiA4KTsKPiAtCVdSRUczMl9TT0MxNShHQywgMCwgbW1XRF9CVUZfUkVTT1VSQ0Vf
MSwgZGF0YSk7Cj4gLQo+IC0JZGF0YSA9IFJFR19TRVRfRklFTEQoMCwgV0RfQlVGX1JFU09VUkNF
XzIsIENOVExfU0JfQlVGX1NJWkUsCj4gLQkJCSAgICAgYWRldi0+Z2Z4Lm5nZy5idWZbTkdHX0NO
VExdLnNpemUgPj4gOCk7Cj4gLQlkYXRhID0gUkVHX1NFVF9GSUVMRChkYXRhLCBXRF9CVUZfUkVT
T1VSQ0VfMiwgUEFSQU1fQlVGX1NJWkUsCj4gLQkJCSAgICAgYWRldi0+Z2Z4Lm5nZy5idWZbTkdH
X1BBUkFNXS5zaXplID4+IDEwKTsKPiAtCVdSRUczMl9TT0MxNShHQywgMCwgbW1XRF9CVUZfUkVT
T1VSQ0VfMiwgZGF0YSk7Cj4gLQo+IC0JLyogUHJvZ3JhbSBidWZmZXIgYmFzZSBhZGRyZXNzICov
Cj4gLQliYXNlID0gbG93ZXJfMzJfYml0cyhhZGV2LT5nZngubmdnLmJ1ZltOR0dfUFJJTV0uZ3B1
X2FkZHIpOwo+IC0JZGF0YSA9IFJFR19TRVRfRklFTEQoMCwgV0RfSU5ERVhfQlVGX0JBU0UsIEJB
U0UsIGJhc2UpOwo+IC0JV1JFRzMyX1NPQzE1KEdDLCAwLCBtbVdEX0lOREVYX0JVRl9CQVNFLCBk
YXRhKTsKPiAtCj4gLQliYXNlID0gdXBwZXJfMzJfYml0cyhhZGV2LT5nZngubmdnLmJ1ZltOR0df
UFJJTV0uZ3B1X2FkZHIpOwo+IC0JZGF0YSA9IFJFR19TRVRfRklFTEQoMCwgV0RfSU5ERVhfQlVG
X0JBU0VfSEksIEJBU0VfSEksIGJhc2UpOwo+IC0JV1JFRzMyX1NPQzE1KEdDLCAwLCBtbVdEX0lO
REVYX0JVRl9CQVNFX0hJLCBkYXRhKTsKPiAtCj4gLQliYXNlID0gbG93ZXJfMzJfYml0cyhhZGV2
LT5nZngubmdnLmJ1ZltOR0dfUE9TXS5ncHVfYWRkcik7Cj4gLQlkYXRhID0gUkVHX1NFVF9GSUVM
RCgwLCBXRF9QT1NfQlVGX0JBU0UsIEJBU0UsIGJhc2UpOwo+IC0JV1JFRzMyX1NPQzE1KEdDLCAw
LCBtbVdEX1BPU19CVUZfQkFTRSwgZGF0YSk7Cj4gLQo+IC0JYmFzZSA9IHVwcGVyXzMyX2JpdHMo
YWRldi0+Z2Z4Lm5nZy5idWZbTkdHX1BPU10uZ3B1X2FkZHIpOwo+IC0JZGF0YSA9IFJFR19TRVRf
RklFTEQoMCwgV0RfUE9TX0JVRl9CQVNFX0hJLCBCQVNFX0hJLCBiYXNlKTsKPiAtCVdSRUczMl9T
T0MxNShHQywgMCwgbW1XRF9QT1NfQlVGX0JBU0VfSEksIGRhdGEpOwo+IC0KPiAtCWJhc2UgPSBs
b3dlcl8zMl9iaXRzKGFkZXYtPmdmeC5uZ2cuYnVmW05HR19DTlRMXS5ncHVfYWRkcik7Cj4gLQlk
YXRhID0gUkVHX1NFVF9GSUVMRCgwLCBXRF9DTlRMX1NCX0JVRl9CQVNFLCBCQVNFLCBiYXNlKTsK
PiAtCVdSRUczMl9TT0MxNShHQywgMCwgbW1XRF9DTlRMX1NCX0JVRl9CQVNFLCBkYXRhKTsKPiAt
Cj4gLQliYXNlID0gdXBwZXJfMzJfYml0cyhhZGV2LT5nZngubmdnLmJ1ZltOR0dfQ05UTF0uZ3B1
X2FkZHIpOwo+IC0JZGF0YSA9IFJFR19TRVRfRklFTEQoMCwgV0RfQ05UTF9TQl9CVUZfQkFTRV9I
SSwgQkFTRV9ISSwgYmFzZSk7Cj4gLQlXUkVHMzJfU09DMTUoR0MsIDAsIG1tV0RfQ05UTF9TQl9C
VUZfQkFTRV9ISSwgZGF0YSk7Cj4gLQo+IC0JLyogQ2xlYXIgR0RTIHJlc2VydmVkIG1lbW9yeSAq
Lwo+IC0JciA9IGFtZGdwdV9yaW5nX2FsbG9jKHJpbmcsIDE3KTsKPiAtCWlmIChyKSB7Cj4gLQkJ
RFJNX0VSUk9SKCJhbWRncHU6IE5HRyBmYWlsZWQgdG8gbG9jayByaW5nICVzICglZCkuXG4iLAo+
IC0JCQkgIHJpbmctPm5hbWUsIHIpOwo+IC0JCXJldHVybiByOwo+IC0JfQo+IC0KPiAtCWdmeF92
OV8wX3dyaXRlX2RhdGFfdG9fcmVnKHJpbmcsIDAsIGZhbHNlLAo+IC0JCQkJICAgU09DMTVfUkVH
X09GRlNFVChHQywgMCwgbW1HRFNfVk1JRDBfU0laRSksCj4gLQkJCSAgICAgICAgICAgKGFkZXYt
Pmdkcy5nZHNfc2l6ZSArCj4gLQkJCQkgICAgYWRldi0+Z2Z4Lm5nZy5nZHNfcmVzZXJ2ZV9zaXpl
KSk7Cj4gLQo+IC0JYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgUEFDS0VUMyhQQUNLRVQzX0RNQV9E
QVRBLCA1KSk7Cj4gLQlhbWRncHVfcmluZ193cml0ZShyaW5nLCAoUEFDS0VUM19ETUFfREFUQV9D
UF9TWU5DIHwKPiAtCQkJCVBBQ0tFVDNfRE1BX0RBVEFfRFNUX1NFTCgxKSB8Cj4gLQkJCQlQQUNL
RVQzX0RNQV9EQVRBX1NSQ19TRUwoMikpKTsKPiAtCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIDAp
Owo+IC0JYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgMCk7Cj4gLQlhbWRncHVfcmluZ193cml0ZShy
aW5nLCBhZGV2LT5nZngubmdnLmdkc19yZXNlcnZlX2FkZHIpOwo+IC0JYW1kZ3B1X3Jpbmdfd3Jp
dGUocmluZywgMCk7Cj4gLQlhbWRncHVfcmluZ193cml0ZShyaW5nLCBQQUNLRVQzX0RNQV9EQVRB
X0NNRF9SQVdfV0FJVCB8Cj4gLQkJCQlhZGV2LT5nZngubmdnLmdkc19yZXNlcnZlX3NpemUpOwo+
IC0KPiAtCWdmeF92OV8wX3dyaXRlX2RhdGFfdG9fcmVnKHJpbmcsIDAsIGZhbHNlLAo+IC0JCQkJ
ICAgU09DMTVfUkVHX09GRlNFVChHQywgMCwgbW1HRFNfVk1JRDBfU0laRSksIDApOwo+IC0KPiAt
CWFtZGdwdV9yaW5nX2NvbW1pdChyaW5nKTsKPiAtCj4gLQlyZXR1cm4gMDsKPiAtfQo+IC0KPiAg
IHN0YXRpYyBpbnQgZ2Z4X3Y5XzBfY29tcHV0ZV9yaW5nX2luaXQoc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYsIGludCByaW5nX2lkLAo+ICAgCQkJCSAgICAgIGludCBtZWMsIGludCBwaXBlLCBp
bnQgcXVldWUpCj4gICB7Cj4gICAJaW50IHI7Cj4gICAJdW5zaWduZWQgaXJxX3R5cGU7Cj4gICAJ
c3RydWN0IGFtZGdwdV9yaW5nICpyaW5nID0gJmFkZXYtPmdmeC5jb21wdXRlX3JpbmdbcmluZ19p
ZF07Cj4gICAKPiAgIAlyaW5nID0gJmFkZXYtPmdmeC5jb21wdXRlX3JpbmdbcmluZ19pZF07Cj4g
ICAKPiAgIAkvKiBtZWMwIGlzIG1lMSAqLwo+IEBAIC0yMjk3LDI0ICsyMTEzLDIwIEBAIHN0YXRp
YyBpbnQgZ2Z4X3Y5XzBfc3dfaW5pdCh2b2lkICpoYW5kbGUpCj4gICAJciA9IGFtZGdwdV9nZnhf
bXFkX3N3X2luaXQoYWRldiwgc2l6ZW9mKHN0cnVjdCB2OV9tcWRfYWxsb2NhdGlvbikpOwo+ICAg
CWlmIChyKQo+ICAgCQlyZXR1cm4gcjsKPiAgIAo+ICAgCWFkZXYtPmdmeC5jZV9yYW1fc2l6ZSA9
IDB4ODAwMDsKPiAgIAo+ICAgCXIgPSBnZnhfdjlfMF9ncHVfZWFybHlfaW5pdChhZGV2KTsKPiAg
IAlpZiAocikKPiAgIAkJcmV0dXJuIHI7Cj4gICAKPiAtCXIgPSBnZnhfdjlfMF9uZ2dfaW5pdChh
ZGV2KTsKPiAtCWlmIChyKQo+IC0JCXJldHVybiByOwo+IC0KPiAgIAlyZXR1cm4gMDsKPiAgIH0K
PiAgIAo+ICAgCj4gICBzdGF0aWMgaW50IGdmeF92OV8wX3N3X2Zpbmkodm9pZCAqaGFuZGxlKQo+
ICAgewo+ICAgCWludCBpOwo+ICAgCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gKHN0cnVj
dCBhbWRncHVfZGV2aWNlICopaGFuZGxlOwo+ICAgCj4gICAJaWYgKGFtZGdwdV9yYXNfaXNfc3Vw
cG9ydGVkKGFkZXYsIEFNREdQVV9SQVNfQkxPQ0tfX0dGWCkgJiYKPiBAQCAtMjMzNCwyMSArMjE0
NiwyMCBAQCBzdGF0aWMgaW50IGdmeF92OV8wX3N3X2Zpbmkodm9pZCAqaGFuZGxlKQo+ICAgCWZv
ciAoaSA9IDA7IGkgPCBhZGV2LT5nZngubnVtX2dmeF9yaW5nczsgaSsrKQo+ICAgCQlhbWRncHVf
cmluZ19maW5pKCZhZGV2LT5nZnguZ2Z4X3JpbmdbaV0pOwo+ICAgCWZvciAoaSA9IDA7IGkgPCBh
ZGV2LT5nZngubnVtX2NvbXB1dGVfcmluZ3M7IGkrKykKPiAgIAkJYW1kZ3B1X3JpbmdfZmluaSgm
YWRldi0+Z2Z4LmNvbXB1dGVfcmluZ1tpXSk7Cj4gICAKPiAgIAlhbWRncHVfZ2Z4X21xZF9zd19m
aW5pKGFkZXYpOwo+ICAgCWFtZGdwdV9nZnhfa2lxX2ZyZWVfcmluZygmYWRldi0+Z2Z4LmtpcS5y
aW5nLCAmYWRldi0+Z2Z4LmtpcS5pcnEpOwo+ICAgCWFtZGdwdV9nZnhfa2lxX2ZpbmkoYWRldik7
Cj4gICAKPiAgIAlnZnhfdjlfMF9tZWNfZmluaShhZGV2KTsKPiAtCWdmeF92OV8wX25nZ19maW5p
KGFkZXYpOwo+ICAgCWFtZGdwdV9ib191bnJlZigmYWRldi0+Z2Z4LnJsYy5jbGVhcl9zdGF0ZV9v
YmopOwo+ICAgCWlmIChhZGV2LT5hc2ljX3R5cGUgPT0gQ0hJUF9SQVZFTiB8fCBhZGV2LT5hc2lj
X3R5cGUgPT0gQ0hJUF9SRU5PSVIpIHsKPiAgIAkJYW1kZ3B1X2JvX2ZyZWVfa2VybmVsKCZhZGV2
LT5nZngucmxjLmNwX3RhYmxlX29iaiwKPiAgIAkJCQkmYWRldi0+Z2Z4LnJsYy5jcF90YWJsZV9n
cHVfYWRkciwKPiAgIAkJCQkodm9pZCAqKikmYWRldi0+Z2Z4LnJsYy5jcF90YWJsZV9wdHIpOwo+
ICAgCX0KPiAgIAlnZnhfdjlfMF9mcmVlX21pY3JvY29kZShhZGV2KTsKPiAgIAo+ICAgCXJldHVy
biAwOwo+ICAgfQo+IEBAIC0zODY0LDI2ICszNjc1LDIwIEBAIHN0YXRpYyBpbnQgZ2Z4X3Y5XzBf
aHdfaW5pdCh2b2lkICpoYW5kbGUpCj4gICAJCXJldHVybiByOwo+ICAgCj4gICAJciA9IGFkZXYt
PmdmeC5ybGMuZnVuY3MtPnJlc3VtZShhZGV2KTsKPiAgIAlpZiAocikKPiAgIAkJcmV0dXJuIHI7
Cj4gICAKPiAgIAlyID0gZ2Z4X3Y5XzBfY3BfcmVzdW1lKGFkZXYpOwo+ICAgCWlmIChyKQo+ICAg
CQlyZXR1cm4gcjsKPiAgIAo+IC0JaWYgKGFkZXYtPmFzaWNfdHlwZSAhPSBDSElQX0FSQ1RVUlVT
KSB7Cj4gLQkJciA9IGdmeF92OV8wX25nZ19lbihhZGV2KTsKPiAtCQlpZiAocikKPiAtCQkJcmV0
dXJuIHI7Cj4gLQl9Cj4gLQo+ICAgCXJldHVybiByOwo+ICAgfQo+ICAgCj4gICBzdGF0aWMgaW50
IGdmeF92OV8wX2tjcV9kaXNhYmxlKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQo+ICAgewo+
ICAgCWludCByLCBpOwo+ICAgCXN0cnVjdCBhbWRncHVfcmluZyAqa2lxX3JpbmcgPSAmYWRldi0+
Z2Z4LmtpcS5yaW5nOwo+ICAgCj4gICAJciA9IGFtZGdwdV9yaW5nX2FsbG9jKGtpcV9yaW5nLCA2
ICogYWRldi0+Z2Z4Lm51bV9jb21wdXRlX3JpbmdzKTsKPiAgIAlpZiAocikKCl9fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0
CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Au
b3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeA==
