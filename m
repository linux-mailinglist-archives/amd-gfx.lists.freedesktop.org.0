Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 7CD43CC33D
	for <lists+amd-gfx@lfdr.de>; Fri,  4 Oct 2019 21:01:22 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id ED6E26EC18;
	Fri,  4 Oct 2019 19:01:20 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM01-BY2-obe.outbound.protection.outlook.com
 (mail-eopbgr810049.outbound.protection.outlook.com [40.107.81.49])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 961EC6EC18
 for <amd-gfx@lists.freedesktop.org>; Fri,  4 Oct 2019 19:01:19 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=WCao+zYSEXFK7eTekvdKb1t+pQ8UnSqVk91lvjp/BCwzlrJVM/SQCYju69pemrjljgAjfizjuTDwp1OHXgOotWapIBOa92yhnrjmMpFYFskX8AscTafX9bPW9iw+RBpqMrALlQ2gYrODLI8jJJ25FTVA66Tq2zunaqr6/YoWvXDgUvEl5oLb1AXsPU/bRUf2DSYmmpx5WXaKb1Fn/DX64PZUJ98QNx37jU4cEtjD7gY1qs6nnsJEoAnQ4B7oFpS2+7CqyJTduSYF+LOTIAdYVEYylFszlSF/6loTS4xRmpBTppd1BLNGjyXvaG3K4JqJUCQhWyPJzFu8ZedLju2uLg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=KXT+Gvrkvc0U7g0XdyYBRNul2DMwQqpiIHhaY6M0HPk=;
 b=EXQt5MtD64zrW1nsKS5XUcZspwshCXZuXlJi08TDkw8S8TBqdkVEFB8jZC8NvTUbl8oXfFI9qkFLEIcB50HdR82+HKV1QaNAQ/ZGt0HcT7EeDUakloUPnryDpNuOQJ8uVbec8MKCz7lsydjHPLvo99PMOsTH6qF6ZOIazq0dKaC6l6kMEc/gpfWhlAlV5ij4eancfJKXBiHwN4jgWuIpyB+gbxjKF5QnIy2Mq5MxlOEiIZjqn9FLPnp6pF7T2+URzakp1CQauArmIKuUgXUs2fV/eX//aj0DpqM1X3RDMEBcalRzkv75aPxM573MpefaVKigGc1qCl9s9CrvZhGrZQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from DM5PR1201MB2521.namprd12.prod.outlook.com (10.172.91.8) by
 DM5PR1201MB0123.namprd12.prod.outlook.com (10.174.104.22) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2305.17; Fri, 4 Oct 2019 19:01:18 +0000
Received: from DM5PR1201MB2521.namprd12.prod.outlook.com
 ([fe80::8049:424e:df38:e58d]) by DM5PR1201MB2521.namprd12.prod.outlook.com
 ([fe80::8049:424e:df38:e58d%3]) with mapi id 15.20.2305.023; Fri, 4 Oct 2019
 19:01:17 +0000
From: "Messinger, Ori" <Ori.Messinger@amd.com>
To: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: [PATCH] drm/amdgpu: Report vram vendor with sysfs
Thread-Topic: [PATCH] drm/amdgpu: Report vram vendor with sysfs
Thread-Index: AQHVeuYa4jGIyhSAQ06z5k0+6dqx3g==
Date: Fri, 4 Oct 2019 19:01:17 +0000
Message-ID: <20191004190051.21743-1-Ori.Messinger@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: YTOPR0101CA0007.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:b00:15::20) To DM5PR1201MB2521.namprd12.prod.outlook.com
 (2603:10b6:3:ea::8)
x-ms-exchange-messagesentrepresentingtype: 1
x-mailer: git-send-email 2.17.1
x-originating-ip: [165.204.55.251]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 2290edb8-5af9-4a9c-3a0c-08d748fd3c8f
x-ms-office365-filtering-ht: Tenant
x-ms-traffictypediagnostic: DM5PR1201MB0123:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <DM5PR1201MB0123F268917545E687A89589F89E0@DM5PR1201MB0123.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:276;
x-forefront-prvs: 018093A9B5
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(39860400002)(136003)(396003)(346002)(376002)(366004)(189003)(199004)(316002)(86362001)(71190400001)(2351001)(5660300002)(14454004)(478600001)(6916009)(36756003)(1076003)(25786009)(66066001)(66446008)(64756008)(66556008)(66476007)(66946007)(71200400001)(186003)(6116002)(26005)(3846002)(2501003)(81166006)(476003)(256004)(50226002)(2616005)(486006)(8936002)(4326008)(386003)(6506007)(102836004)(54906003)(305945005)(99286004)(52116002)(81156014)(8676002)(7736002)(6486002)(6512007)(6436002)(5640700003)(14444005)(2906002);
 DIR:OUT; SFP:1101; SCL:1; SRVR:DM5PR1201MB0123;
 H:DM5PR1201MB2521.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: 3SdlV9ttO6NaSN/SHhxAuUWYhK8OVbkt15m5D8Etc++kXfP9Z9fzrTqbgtz/6QYllGQWSTiy7iIJwyqTB+nN0Z5bSNV6Q5sD0hYFf9zYR2p7yHIsZsQkjkLDuRLZNYSXNGjlIoFMG0xSST5wIkD466ycWqFEKfqm7NPudBSHRq0G2YDF0qVKOZd4IyuNkzD3KpkcGrNzJSs0d5TGoXL3vnLc0+wXY4GbcUkF67fn3MOxEkmZlJPiLOhZ0mWjBxIF85Zd+aAbhFO/f2UZuJDc+KEsTj+LyfZr+f6/qrkIJ8XVAt0cB+frPj1nnLdHZh04FSpos5x1E/8HUHSLBhqb1JCsbmuqkJg/BRjG/PhSZZXxFMTw5Erdi5rKz5oD+LDE5m/U70YGUVQ6sbylCwTmz5Z6xAkoo6eOmasCATPmlig=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 2290edb8-5af9-4a9c-3a0c-08d748fd3c8f
X-MS-Exchange-CrossTenant-originalarrivaltime: 04 Oct 2019 19:01:17.8008 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: 4m32gZLUTr/AP7V485zfu3SCm6/ooImbGFvUhm4JNN9wbDpv6IY0XR6+N8yz4rmZsqOgG5RJWjrxkEJqlLY8gw==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM5PR1201MB0123
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=KXT+Gvrkvc0U7g0XdyYBRNul2DMwQqpiIHhaY6M0HPk=;
 b=EPyGpZZ4ku0i07ppgo1jvDlxhrvGMmlwQE9V+iqOspjaB+hcXxqSLq02Lg4OGkqZG6NUs/KC6qS+X2iososZbtFoQNgPcGQAsSBi61/T12/8jEWA8YOwabKD3GpSfTJ9bSxoj4YWqnBAXW3RxODkVgt8gQFKPspr8oulXyPdF2I=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Ori.Messinger@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Messinger, Ori" <Ori.Messinger@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

VGhlIHZyYW0gdmVuZG9yIGNhbiBiZSBmb3VuZCBhcyBhIHNlcGFyYXRlIHN5c2ZzIGZpbGUgYXQ6
Ci9zeXMvY2xhc3MvZHJtL2NhcmRbWF0vZGV2aWNlL21lbV9pbmZvX3ZyYW1fdmVuZG9yClRoZSB2
cmFtIHZlbmRvciBpcyBkaXNwbGF5ZWQgYXMgYSBzdHJpbmcgdmFsdWUuCgpDaGFuZ2UtSWQ6IElh
YTNjY2YzZjQ4M2VlNjUzNjI4MWZlNzc3NzcyYmEyNDFhNmUwZDQzClNpZ25lZC1vZmYtYnk6IE9y
aSBNZXNzaW5nZXIgPG9yaS5tZXNzaW5nZXJAYW1kLmNvbT4KLS0tCiAuLi4vZ3B1L2RybS9hbWQv
YW1kZ3B1L2FtZGdwdV9hdG9tZmlybXdhcmUuYyAgfCA2MyArKysrKysrKysrKysrKysrKystCiAu
Li4vZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hdG9tZmlybXdhcmUuaCAgfCAgNSArLQogZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZyYW1fbWdyLmMgIHwgNDMgKysrKysrKysr
KysrKwogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3YxMF8wLmMgICAgICAgIHwgIDUg
Ky0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192OV8wLmMgICAgICAgICB8ICA1ICst
CiA1IGZpbGVzIGNoYW5nZWQsIDExNCBpbnNlcnRpb25zKCspLCA3IGRlbGV0aW9ucygtKQoKZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hdG9tZmlybXdhcmUu
YyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hdG9tZmlybXdhcmUuYwppbmRl
eCAxOTkxM2MzOTU4OGIuLjU5MDA5NzI2NDk0YiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvYW1kZ3B1X2F0b21maXJtd2FyZS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2FtZGdwdV9hdG9tZmlybXdhcmUuYwpAQCAtMTY5LDggKzE2OSwxMSBAQCBzdGF0
aWMgaW50IGNvbnZlcnRfYXRvbV9tZW1fdHlwZV90b192cmFtX3R5cGUoc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYsCiAJcmV0dXJuIHZyYW1fdHlwZTsKIH0KIAotaW50IGFtZGdwdV9hdG9tZmly
bXdhcmVfZ2V0X3ZyYW1faW5mbyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKLQkJCQkgICAg
ICBpbnQgKnZyYW1fd2lkdGgsIGludCAqdnJhbV90eXBlKQorCitpbnQKK2FtZGdwdV9hdG9tZmly
bXdhcmVfZ2V0X3ZyYW1faW5mbyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKKwkJCQkgIGlu
dCAqdnJhbV93aWR0aCwgaW50ICp2cmFtX3R5cGUsCisJCQkJICBpbnQgKnZyYW1fdmVuZG9yKQog
ewogCXN0cnVjdCBhbWRncHVfbW9kZV9pbmZvICptb2RlX2luZm8gPSAmYWRldi0+bW9kZV9pbmZv
OwogCWludCBpbmRleCwgaSA9IDA7CkBAIC0xODAsNiArMTgzLDcgQEAgaW50IGFtZGdwdV9hdG9t
ZmlybXdhcmVfZ2V0X3ZyYW1faW5mbyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKIAl1bmlv
biB2cmFtX21vZHVsZSAqdnJhbV9tb2R1bGU7CiAJdTggZnJldiwgY3JldjsKIAl1OCBtZW1fdHlw
ZTsKKwl1OCBtZW1fdmVuZG9yOwogCXUzMiBtZW1fY2hhbm5lbF9udW1iZXI7CiAJdTMyIG1lbV9j
aGFubmVsX3dpZHRoOwogCXUzMiBtb2R1bGVfaWQ7CkBAIC0yMzEsNiArMjM1LDkgQEAgaW50IGFt
ZGdwdV9hdG9tZmlybXdhcmVfZ2V0X3ZyYW1faW5mbyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRl
diwKIAkJCQltZW1fY2hhbm5lbF93aWR0aCA9IHZyYW1fbW9kdWxlLT52OS5jaGFubmVsX3dpZHRo
OwogCQkJCWlmICh2cmFtX3dpZHRoKQogCQkJCQkqdnJhbV93aWR0aCA9IG1lbV9jaGFubmVsX251
bWJlciAqICgxIDw8IG1lbV9jaGFubmVsX3dpZHRoKTsKKwkJCQltZW1fdmVuZG9yID0gdnJhbV9t
b2R1bGUtPnY5LnZlbmRlcl9yZXZfaWQ7CisJCQkJaWYgKHZyYW1fdmVuZG9yKQorCQkJCQkqdnJh
bV92ZW5kb3IgPSBtZW1fdmVuZG9yOwogCQkJCWJyZWFrOwogCQkJY2FzZSA0OgogCQkJCWlmICht
b2R1bGVfaWQgPiB2cmFtX2luZm8tPnYyNC52cmFtX21vZHVsZV9udW0pCkBAIC0yNDgsNiArMjU1
LDkgQEAgaW50IGFtZGdwdV9hdG9tZmlybXdhcmVfZ2V0X3ZyYW1faW5mbyhzdHJ1Y3QgYW1kZ3B1
X2RldmljZSAqYWRldiwKIAkJCQltZW1fY2hhbm5lbF93aWR0aCA9IHZyYW1fbW9kdWxlLT52MTAu
Y2hhbm5lbF93aWR0aDsKIAkJCQlpZiAodnJhbV93aWR0aCkKIAkJCQkJKnZyYW1fd2lkdGggPSBt
ZW1fY2hhbm5lbF9udW1iZXIgKiAoMSA8PCBtZW1fY2hhbm5lbF93aWR0aCk7CisJCQkJbWVtX3Zl
bmRvciA9IHZyYW1fbW9kdWxlLT52MTAudmVuZGVyX3Jldl9pZDsKKwkJCQlpZiAodnJhbV92ZW5k
b3IpCisJCQkJCSp2cmFtX3ZlbmRvciA9IG1lbV92ZW5kb3I7CiAJCQkJYnJlYWs7CiAJCQlkZWZh
dWx0OgogCQkJCXJldHVybiAtRUlOVkFMOwpAQCAtMjU5LDYgKzI2OSw1NSBAQCBpbnQgYW1kZ3B1
X2F0b21maXJtd2FyZV9nZXRfdnJhbV9pbmZvKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LAog
CXJldHVybiAwOwogfQogCisvKgorICogUmV0dXJuIHZyYW0gd2lkdGggZnJvbSBpbnRlZ3JhdGVk
IHN5c3RlbSBpbmZvIHRhYmxlLCBpZiBhdmFpbGFibGUsCisgKiBvciAwIGlmIG5vdC4KKyAqLwor
aW50IGFtZGdwdV9hdG9tZmlybXdhcmVfZ2V0X3ZyYW1fd2lkdGgoc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYpCit7CisJaW50IHZyYW1fd2lkdGggPSAwLCB2cmFtX3R5cGUgPSAwLCB2cmFtX3Zl
bmRvciA9IDA7CisJaW50IHIgPSBhbWRncHVfYXRvbWZpcm13YXJlX2dldF92cmFtX2luZm8oYWRl
diwKKwkmdnJhbV93aWR0aCwgJnZyYW1fdHlwZSwgJnZyYW1fdmVuZG9yKTsKKworCWlmIChyKQor
CQlyZXR1cm4gMDsKKworCXJldHVybiB2cmFtX3dpZHRoOworfQorCisvKgorICogUmV0dXJuIHZy
YW0gdHlwZSBmcm9tIGVpdGhlciBpbnRlZ3JhdGVkIHN5c3RlbSBpbmZvIHRhYmxlCisgKiBvciB1
bWMgaW5mbyB0YWJsZSwgaWYgYXZhaWxhYmxlLCBvciAwIChUWVBFX1VOS05PV04pIGlmIG5vdAor
ICovCitpbnQgYW1kZ3B1X2F0b21maXJtd2FyZV9nZXRfdnJhbV90eXBlKHN0cnVjdCBhbWRncHVf
ZGV2aWNlICphZGV2KQoreworCWludCB2cmFtX3dpZHRoID0gMCwgdnJhbV90eXBlID0gMCwgdnJh
bV92ZW5kb3IgPSAwOworCWludCByID0gYW1kZ3B1X2F0b21maXJtd2FyZV9nZXRfdnJhbV9pbmZv
KGFkZXYsCisJJnZyYW1fd2lkdGgsICZ2cmFtX3R5cGUsICZ2cmFtX3ZlbmRvcik7CisKKwlpZiAo
cikKKwkJcmV0dXJuIDA7CisKKwlyZXR1cm4gdnJhbV90eXBlOworfQorCisvKgorICogUmV0dXJu
IHZyYW0gdmVuZG9yIGZyb20gZWl0aGVyIGludGVncmF0ZWQgc3lzdGVtIGluZm8gdGFibGUKKyAq
IG9yIHVtYyBpbmZvIHRhYmxlLCBpZiBhdmFpbGFibGUsIG9yIDAgKFRZUEVfVU5LTk9XTikgaWYg
bm90CisgKi8KK2ludCBhbWRncHVfYXRvbWZpcm13YXJlX2dldF92cmFtX3ZlbmRvcihzdHJ1Y3Qg
YW1kZ3B1X2RldmljZSAqYWRldikKK3sKKwlpbnQgdnJhbV93aWR0aCA9IDAsIHZyYW1fdHlwZSA9
IDAsIHZyYW1fdmVuZG9yID0gMDsKKwlpbnQgciA9IGFtZGdwdV9hdG9tZmlybXdhcmVfZ2V0X3Zy
YW1faW5mbyhhZGV2LAorCSZ2cmFtX3dpZHRoLCAmdnJhbV90eXBlLCAmdnJhbV92ZW5kb3IpOwor
CisJaWYgKHIpCisJCXJldHVybiAwOworCisJcmV0dXJuIHZyYW1fdmVuZG9yOworCit9CisKIC8q
CiAgKiBSZXR1cm4gdHJ1ZSBpZiB2YmlvcyBlbmFibGVkIGVjYyBieSBkZWZhdWx0LCBpZiB1bWMg
aW5mbyB0YWJsZSBpcyBhdmFpbGFibGUKICAqIG9yIGZhbHNlIGlmIGVjYyBpcyBub3QgZW5hYmxl
ZCBvciB1bWMgaW5mbyB0YWJsZSBpcyBub3QgYXZhaWxhYmxlCmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYXRvbWZpcm13YXJlLmggYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHVfYXRvbWZpcm13YXJlLmgKaW5kZXggODI4MTlmMDNlNDQ0Li43
MzhlNTM4ZWUyNmMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdw
dV9hdG9tZmlybXdhcmUuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
YXRvbWZpcm13YXJlLmgKQEAgLTMwLDcgKzMwLDEwIEBAIGJvb2wgYW1kZ3B1X2F0b21maXJtd2Fy
ZV9ncHVfc3VwcG9ydHNfdmlydHVhbGl6YXRpb24oc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYp
CiB2b2lkIGFtZGdwdV9hdG9tZmlybXdhcmVfc2NyYXRjaF9yZWdzX2luaXQoc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYpOwogaW50IGFtZGdwdV9hdG9tZmlybXdhcmVfYWxsb2NhdGVfZmJfc2Ny
YXRjaChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7CiBpbnQgYW1kZ3B1X2F0b21maXJtd2Fy
ZV9nZXRfdnJhbV9pbmZvKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LAotCQkJCSAgICAgIGlu
dCAqdnJhbV93aWR0aCwgaW50ICp2cmFtX3R5cGUpOworCWludCAqdnJhbV93aWR0aCwgaW50ICp2
cmFtX3R5cGUsIGludCAqdnJhbV92ZW5kb3IpOworaW50IGFtZGdwdV9hdG9tZmlybXdhcmVfZ2V0
X3ZyYW1fd2lkdGgoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpOworaW50IGFtZGdwdV9hdG9t
ZmlybXdhcmVfZ2V0X3ZyYW1fdHlwZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7CitpbnQg
YW1kZ3B1X2F0b21maXJtd2FyZV9nZXRfdnJhbV92ZW5kb3Ioc3RydWN0IGFtZGdwdV9kZXZpY2Ug
KmFkZXYpOwogaW50IGFtZGdwdV9hdG9tZmlybXdhcmVfZ2V0X2Nsb2NrX2luZm8oc3RydWN0IGFt
ZGdwdV9kZXZpY2UgKmFkZXYpOwogaW50IGFtZGdwdV9hdG9tZmlybXdhcmVfZ2V0X2dmeF9pbmZv
KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KTsKIGJvb2wgYW1kZ3B1X2F0b21maXJtd2FyZV9t
ZW1fZWNjX3N1cHBvcnRlZChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7CmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdnJhbV9tZ3IuYyBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92cmFtX21nci5jCmluZGV4IDg4ODdiMzk2NGU0My4u
MWU4ZGZmZTMzMjNhIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRn
cHVfdnJhbV9tZ3IuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdnJh
bV9tZ3IuYwpAQCAtMjQsNiArMjQsOCBAQAogCiAjaW5jbHVkZSAiYW1kZ3B1LmgiCiAjaW5jbHVk
ZSAiYW1kZ3B1X3ZtLmgiCisjaW5jbHVkZSAiYW1kZ3B1X2F0b21maXJtd2FyZS5oIgorI2luY2x1
ZGUgImF0b20uaCIKIAogc3RydWN0IGFtZGdwdV92cmFtX21nciB7CiAJc3RydWN0IGRybV9tbSBt
bTsKQEAgLTEwMiw2ICsxMDQsMzkgQEAgc3RhdGljIHNzaXplX3QgYW1kZ3B1X21lbV9pbmZvX3Zp
c192cmFtX3VzZWRfc2hvdyhzdHJ1Y3QgZGV2aWNlICpkZXYsCiAJCWFtZGdwdV92cmFtX21ncl92
aXNfdXNhZ2UoJmFkZXYtPm1tYW4uYmRldi5tYW5bVFRNX1BMX1ZSQU1dKSk7CiB9CiAKK3N0YXRp
YyBzc2l6ZV90IGFtZGdwdV9tZW1faW5mb192cmFtX3ZlbmRvcihzdHJ1Y3QgZGV2aWNlICpkZXYs
CisJCQkJCQkgc3RydWN0IGRldmljZV9hdHRyaWJ1dGUgKmF0dHIsCisJCQkJCQkgY2hhciAqYnVm
KQoreworCXN0cnVjdCBkcm1fZGV2aWNlICpkZGV2ID0gZGV2X2dldF9kcnZkYXRhKGRldik7CisJ
c3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSBkZGV2LT5kZXZfcHJpdmF0ZTsKKworCXN3aXRj
aCAoYW1kZ3B1X2F0b21maXJtd2FyZV9nZXRfdnJhbV92ZW5kb3IoYWRldikpIHsKKwljYXNlIFNB
TVNVTkc6CisJCXJldHVybiBzbnByaW50ZihidWYsIFBBR0VfU0laRSwgInNhbXN1bmdcbiIpOwor
CWNhc2UgSU5GSU5FT046CisJCXJldHVybiBzbnByaW50ZihidWYsIFBBR0VfU0laRSwgImluZmlu
ZW9uXG4iKTsKKwljYXNlIEVMUElEQToKKwkJcmV0dXJuIHNucHJpbnRmKGJ1ZiwgUEFHRV9TSVpF
LCAiZWxwaWRhXG4iKTsKKwljYXNlIEVUUk9OOgorCQlyZXR1cm4gc25wcmludGYoYnVmLCBQQUdF
X1NJWkUsICJldHJvblxuIik7CisJY2FzZSBOQU5ZQToKKwkJcmV0dXJuIHNucHJpbnRmKGJ1Ziwg
UEFHRV9TSVpFLCAibmFueWFcbiIpOworCWNhc2UgSFlOSVg6CisJCXJldHVybiBzbnByaW50Zihi
dWYsIFBBR0VfU0laRSwgImh5bml4XG4iKTsKKwljYXNlIE1PU0VMOgorCQlyZXR1cm4gc25wcmlu
dGYoYnVmLCBQQUdFX1NJWkUsICJtb3NlbFxuIik7CisJY2FzZSBXSU5CT05EOgorCQlyZXR1cm4g
c25wcmludGYoYnVmLCBQQUdFX1NJWkUsICJ3aW5ib25kXG4iKTsKKwljYXNlIEVTTVQ6CisJCXJl
dHVybiBzbnByaW50ZihidWYsIFBBR0VfU0laRSwgImVzbXRcbiIpOworCWNhc2UgTUlDUk9OOgor
CQlyZXR1cm4gc25wcmludGYoYnVmLCBQQUdFX1NJWkUsICJtaWNyb25cbiIpOworCWRlZmF1bHQ6
CisJCXJldHVybiBzbnByaW50ZihidWYsIFBBR0VfU0laRSwgInVua25vd25cbiIpOworCX0KK30K
Kwogc3RhdGljIERFVklDRV9BVFRSKG1lbV9pbmZvX3ZyYW1fdG90YWwsIFNfSVJVR08sCiAJCSAg
IGFtZGdwdV9tZW1faW5mb192cmFtX3RvdGFsX3Nob3csIE5VTEwpOwogc3RhdGljIERFVklDRV9B
VFRSKG1lbV9pbmZvX3Zpc192cmFtX3RvdGFsLCBTX0lSVUdPLApAQCAtMTEwLDYgKzE0NSw4IEBA
IHN0YXRpYyBERVZJQ0VfQVRUUihtZW1faW5mb192cmFtX3VzZWQsIFNfSVJVR08sCiAJCSAgIGFt
ZGdwdV9tZW1faW5mb192cmFtX3VzZWRfc2hvdywgTlVMTCk7CiBzdGF0aWMgREVWSUNFX0FUVFIo
bWVtX2luZm9fdmlzX3ZyYW1fdXNlZCwgU19JUlVHTywKIAkJICAgYW1kZ3B1X21lbV9pbmZvX3Zp
c192cmFtX3VzZWRfc2hvdywgTlVMTCk7CitzdGF0aWMgREVWSUNFX0FUVFIobWVtX2luZm9fdnJh
bV92ZW5kb3IsIFNfSVJVR08sCisJCSAgIGFtZGdwdV9tZW1faW5mb192cmFtX3ZlbmRvciwgTlVM
TCk7CiAKIC8qKgogICogYW1kZ3B1X3ZyYW1fbWdyX2luaXQgLSBpbml0IFZSQU0gbWFuYWdlciBh
bmQgRFJNIE1NCkBAIC0xNTUsNiArMTkyLDExIEBAIHN0YXRpYyBpbnQgYW1kZ3B1X3ZyYW1fbWdy
X2luaXQoc3RydWN0IHR0bV9tZW1fdHlwZV9tYW5hZ2VyICptYW4sCiAJCURSTV9FUlJPUigiRmFp
bGVkIHRvIGNyZWF0ZSBkZXZpY2UgZmlsZSBtZW1faW5mb192aXNfdnJhbV91c2VkXG4iKTsKIAkJ
cmV0dXJuIHJldDsKIAl9CisJcmV0ID0gZGV2aWNlX2NyZWF0ZV9maWxlKGFkZXYtPmRldiwgJmRl
dl9hdHRyX21lbV9pbmZvX3ZyYW1fdmVuZG9yKTsKKwlpZiAocmV0KSB7CisJCURSTV9FUlJPUigi
RmFpbGVkIHRvIGNyZWF0ZSBkZXZpY2UgZmlsZSBtZW1faW5mb192cmFtX3ZlbmRvclxuIik7CisJ
CXJldHVybiByZXQ7CisJfQogCiAJcmV0dXJuIDA7CiB9CkBAIC0xODEsNiArMjIzLDcgQEAgc3Rh
dGljIGludCBhbWRncHVfdnJhbV9tZ3JfZmluaShzdHJ1Y3QgdHRtX21lbV90eXBlX21hbmFnZXIg
Km1hbikKIAlkZXZpY2VfcmVtb3ZlX2ZpbGUoYWRldi0+ZGV2LCAmZGV2X2F0dHJfbWVtX2luZm9f
dmlzX3ZyYW1fdG90YWwpOwogCWRldmljZV9yZW1vdmVfZmlsZShhZGV2LT5kZXYsICZkZXZfYXR0
cl9tZW1faW5mb192cmFtX3VzZWQpOwogCWRldmljZV9yZW1vdmVfZmlsZShhZGV2LT5kZXYsICZk
ZXZfYXR0cl9tZW1faW5mb192aXNfdnJhbV91c2VkKTsKKwlkZXZpY2VfcmVtb3ZlX2ZpbGUoYWRl
di0+ZGV2LCAmZGV2X2F0dHJfbWVtX2luZm9fdnJhbV92ZW5kb3IpOwogCXJldHVybiAwOwogfQog
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjEwXzAuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192MTBfMC5jCmluZGV4IGNiM2Y2MTg3M2JhYS4u
YzQzNDQ4M2E3NzkxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNf
djEwXzAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjEwXzAuYwpAQCAt
NjI0LDcgKzYyNCw3IEBAIHN0YXRpYyB1bnNpZ25lZCBnbWNfdjEwXzBfZ2V0X3ZiaW9zX2ZiX3Np
emUoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCiAKIHN0YXRpYyBpbnQgZ21jX3YxMF8wX3N3
X2luaXQodm9pZCAqaGFuZGxlKQogewotCWludCByLCB2cmFtX3dpZHRoID0gMCwgdnJhbV90eXBl
ID0gMDsKKwlpbnQgciwgdnJhbV93aWR0aCA9IDAsIHZyYW1fdHlwZSA9IDAsIHZyYW1fdmVuZG9y
ID0gMDsKIAlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IChzdHJ1Y3QgYW1kZ3B1X2Rldmlj
ZSAqKWhhbmRsZTsKIAogCWdmeGh1Yl92Ml8wX2luaXQoYWRldik7CkBAIC02MzIsNyArNjMyLDgg
QEAgc3RhdGljIGludCBnbWNfdjEwXzBfc3dfaW5pdCh2b2lkICpoYW5kbGUpCiAKIAlzcGluX2xv
Y2tfaW5pdCgmYWRldi0+Z21jLmludmFsaWRhdGVfbG9jayk7CiAKLQlyID0gYW1kZ3B1X2F0b21m
aXJtd2FyZV9nZXRfdnJhbV9pbmZvKGFkZXYsICZ2cmFtX3dpZHRoLCAmdnJhbV90eXBlKTsKKwly
ID0gYW1kZ3B1X2F0b21maXJtd2FyZV9nZXRfdnJhbV9pbmZvKGFkZXYsCisJCSZ2cmFtX3dpZHRo
LCAmdnJhbV90eXBlLCAmdnJhbV92ZW5kb3IpOwogCWlmICghYW1kZ3B1X2VtdV9tb2RlKQogCQlh
ZGV2LT5nbWMudnJhbV93aWR0aCA9IHZyYW1fd2lkdGg7CiAJZWxzZQpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3Y5XzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2dtY192OV8wLmMKaW5kZXggNGIxMWY3ZTYxMDA0Li5iY2QzMDU4MTM3ODggMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192OV8wLmMKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3Y5XzAuYwpAQCAtOTMwLDcgKzkzMCw3IEBAIHN0YXRp
YyB1bnNpZ25lZCBnbWNfdjlfMF9nZXRfdmJpb3NfZmJfc2l6ZShzdHJ1Y3QgYW1kZ3B1X2Rldmlj
ZSAqYWRldikKIAogc3RhdGljIGludCBnbWNfdjlfMF9zd19pbml0KHZvaWQgKmhhbmRsZSkKIHsK
LQlpbnQgciwgdnJhbV93aWR0aCA9IDAsIHZyYW1fdHlwZSA9IDA7CisJaW50IHIsIHZyYW1fd2lk
dGggPSAwLCB2cmFtX3R5cGUgPSAwLCB2cmFtX3ZlbmRvciA9IDA7CiAJc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYgPSAoc3RydWN0IGFtZGdwdV9kZXZpY2UgKiloYW5kbGU7CiAKIAlnZnhodWJf
djFfMF9pbml0KGFkZXYpOwpAQCAtOTQxLDcgKzk0MSw4IEBAIHN0YXRpYyBpbnQgZ21jX3Y5XzBf
c3dfaW5pdCh2b2lkICpoYW5kbGUpCiAKIAlzcGluX2xvY2tfaW5pdCgmYWRldi0+Z21jLmludmFs
aWRhdGVfbG9jayk7CiAKLQlyID0gYW1kZ3B1X2F0b21maXJtd2FyZV9nZXRfdnJhbV9pbmZvKGFk
ZXYsICZ2cmFtX3dpZHRoLCAmdnJhbV90eXBlKTsKKwlyID0gYW1kZ3B1X2F0b21maXJtd2FyZV9n
ZXRfdnJhbV9pbmZvKGFkZXYsCisJCSZ2cmFtX3dpZHRoLCAmdnJhbV90eXBlLCAmdnJhbV92ZW5k
b3IpOwogCWlmIChhbWRncHVfc3Jpb3ZfdmYoYWRldikpCiAJCS8qIEZvciBWZWdhMTAgU1ItSU9W
LCB2cmFtX3dpZHRoIGNhbid0IGJlIHJlYWQgZnJvbSBBVE9NIGFzIFJBVkVOLAogCQkgKiBhbmQg
REYgcmVsYXRlZCByZWdpc3RlcnMgaXMgbm90IHJlYWRhYmxlLCBzZWVtcyBoYXJkY29yZCBpcyB0
aGUKLS0gCjIuMTcuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KYW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcK
aHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4
