Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id C73C2F9B25
	for <lists+amd-gfx@lfdr.de>; Tue, 12 Nov 2019 21:46:49 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 264176EBDC;
	Tue, 12 Nov 2019 20:46:44 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-qv1-xf43.google.com (mail-qv1-xf43.google.com
 [IPv6:2607:f8b0:4864:20::f43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 406D96E4FF
 for <amd-gfx@lists.freedesktop.org>; Tue, 12 Nov 2019 20:22:49 +0000 (UTC)
Received: by mail-qv1-xf43.google.com with SMTP id i3so6765643qvv.7
 for <amd-gfx@lists.freedesktop.org>; Tue, 12 Nov 2019 12:22:49 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:mime-version
 :content-transfer-encoding;
 bh=GWMSOcigcFkvS1mXDN4UZKv/Sz4qJBz/Xw1txpllC58=;
 b=KSGbTmkRh1i5NF5xJOP85SgYx+TRjuQISYMhGv8KOPgbzCDlwippw5yasjqPTZG8BE
 r6TYu7POipAYjOxfdvBfeZnCHQ/kI6fZ3Bb8+F2dcMzRFnNXkmgaPuQ25PkPzYuIs+Fv
 Ifkz7rOlhB7wj6YlLbJgp7dld3dVSZvZMlDl/fEJEi0PJy1v9xFVFur9XO9zymnArLK5
 seQHLwsrGOSGHOe6BCSpG2FWGI2uyXNDk2//XW/O6EV6b/NuZsf/qMFAPxujNifPDtbJ
 XkW+cgacAU1tbpx985Si0IGJO0aUF6hsE4FQ4VXu+f3zDz1NIsUGI7l6/owXFJWuNhj7
 MsJQ==
X-Gm-Message-State: APjAAAVjXkyTwKetVA+IWh3xbohGIqt33VJ8sP+0yG+QodbD2UNxxOd4
 ppk1lEv5V5ZF9C8eoJYR9A1lnw==
X-Google-Smtp-Source: APXvYqyZGwIPop6xwsfhsv3DLyXXAOZa8Eq5KSgCu6w55310PeMbie/nmCz5Pj6znsHarv3wD6pCCQ==
X-Received: by 2002:a05:6214:14b2:: with SMTP id
 bo18mr30642652qvb.72.1573590168105; 
 Tue, 12 Nov 2019 12:22:48 -0800 (PST)
Received: from ziepe.ca
 (hlfxns017vw-142-162-113-180.dhcp-dynamic.fibreop.ns.bellaliant.net.
 [142.162.113.180])
 by smtp.gmail.com with ESMTPSA id j71sm10881994qke.90.2019.11.12.12.22.47
 (version=TLS1_2 cipher=ECDHE-RSA-CHACHA20-POLY1305 bits=256/256);
 Tue, 12 Nov 2019 12:22:47 -0800 (PST)
Received: from jgg by mlx.ziepe.ca with local (Exim 4.90_1)
 (envelope-from <jgg@ziepe.ca>)
 id 1iUcgZ-0003jU-35; Tue, 12 Nov 2019 16:22:47 -0400
From: Jason Gunthorpe <jgg@ziepe.ca>
To: linux-mm@kvack.org, Jerome Glisse <jglisse@redhat.com>,
 Ralph Campbell <rcampbell@nvidia.com>, John Hubbard <jhubbard@nvidia.com>,
 Felix.Kuehling@amd.com
Subject: [PATCH hmm v3 00/14] Consolidate the mmu notifier interval_tree and
 locking
Date: Tue, 12 Nov 2019 16:22:17 -0400
Message-Id: <20191112202231.3856-1-jgg@ziepe.ca>
X-Mailer: git-send-email 2.24.0
MIME-Version: 1.0
X-Mailman-Approved-At: Tue, 12 Nov 2019 20:46:43 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ziepe.ca; s=google;
 h=from:to:cc:subject:date:message-id:mime-version
 :content-transfer-encoding;
 bh=GWMSOcigcFkvS1mXDN4UZKv/Sz4qJBz/Xw1txpllC58=;
 b=SdP44dA/qt3Cafkmp5tDYwUfTKua1RYFbjfub38WMqp1Vetd5HDAMxGgKpbA4Ao+oK
 gsEL1oHkgBYSL5wAFUvGW4WL3U/pvufnqzGsum5CGpKAJYB+qH5Upt6hHPp0oyUiUVZQ
 luFJjPDkpYMu/LEwn7P4i1KvQc3sG0kQARArCClpXMObiDqr/9YyrAyqL0dxb++bMYDb
 XbTfpT4OBOBeoefNdIfWJ+fDQI8fjcFqTYyS9qXYt67Hx6qKRVE8+RXhoDoz1lpBwD/V
 slDxBVQ6lEnBCWWDRENPVOvt6nSoUCSoIGfYhgVkElAgGx2oznQ/Ekwnr6eHH2zAzayA
 jOxw==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Juergen Gross <jgross@suse.com>, David Zhou <David1.Zhou@amd.com>,
 Mike Marciniszyn <mike.marciniszyn@intel.com>,
 Stefano Stabellini <sstabellini@kernel.org>,
 Oleksandr Andrushchenko <oleksandr_andrushchenko@epam.com>,
 linux-rdma@vger.kernel.org, nouveau@lists.freedesktop.org,
 Dennis Dalessandro <dennis.dalessandro@intel.com>,
 amd-gfx@lists.freedesktop.org, Christoph Hellwig <hch@infradead.org>,
 Jason Gunthorpe <jgg@mellanox.com>, dri-devel@lists.freedesktop.org,
 Alex Deucher <alexander.deucher@amd.com>, xen-devel@lists.xenproject.org,
 Boris Ostrovsky <boris.ostrovsky@oracle.com>, Petr Cvek <petrcvekcz@gmail.com>,
 =?UTF-8?q?Christian=20K=C3=B6nig?= <christian.koenig@amd.com>,
 Ben Skeggs <bskeggs@redhat.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogSmFzb24gR3VudGhvcnBlIDxqZ2dAbWVsbGFub3guY29tPgoKOCBvZiB0aGUgbW11X25v
dGlmaWVyIHVzaW5nIGRyaXZlcnMgKGk5MTVfZ2VtLCByYWRlb25fbW4sIHVtZW1fb2RwLCBoZmkx
LApzY2lmX2RtYSwgdmhvc3QsIGdudGRldiwgaG1tKSBkcml2ZXJzIGFyZSB1c2luZyBhIGNvbW1v
biBwYXR0ZXJuIHdoZXJlCnRoZXkgb25seSB1c2UgaW52YWxpZGF0ZV9yYW5nZV9zdGFydC9lbmQg
YW5kIGltbWVkaWF0ZWx5IGNoZWNrIHRoZQppbnZhbGlkYXRpbmcgcmFuZ2UgYWdhaW5zdCBzb21l
IGRyaXZlciBkYXRhIHN0cnVjdHVyZSB0byB0ZWxsIGlmIHRoZQpkcml2ZXIgaXMgaW50ZXJlc3Rl
ZC4gSGFsZiBvZiB0aGVtIHVzZSBhbiBpbnRlcnZhbF90cmVlLCB0aGUgb3RoZXJzIGFyZQpzaW1w
bGUgbGluZWFyIHNlYXJjaCBsaXN0cy4KCk9mIHRoZSBvbmVzIEkgY2hlY2tlZCB0aGV5IGxhcmdl
bHkgc2VlbSB0byBoYXZlIHZhcmlvdXMga2luZHMgb2YgcmFjZXMsCmJ1Z3MgYW5kIHBvb3IgaW1w
bGVtZW50YXRpb24uIFRoaXMgaXMgYSByZXN1bHQgb2YgdGhlIGNvbXBsZXhpdHkgaW4gaG93CnRo
ZSBub3RpZmllciBpbnRlcmFjdHMgd2l0aCBnZXRfdXNlcl9wYWdlcygpLiBJdCBpcyBleHRyZW1l
bHkgZGlmZmljdWx0IHRvCnVzZSBpdCBjb3JyZWN0bHkuCgpDb25zb2xpZGF0ZSBhbGwgb2YgdGhp
cyBjb2RlIHRvZ2V0aGVyIGludG8gdGhlIGNvcmUgbW11X25vdGlmaWVyIGFuZApwcm92aWRlIGEg
bG9ja2luZyBzY2hlbWUgc2ltaWxhciB0byBobW1fbWlycm9yIHRoYXQgYWxsb3dzIHRoZSB1c2Vy
IHRvCnNhZmVseSB1c2UgZ2V0X3VzZXJfcGFnZXMoKSBhbmQgcmVsaWFibHkga25vdyBpZiB0aGUg
cGFnZSBsaXN0IHN0aWxsCm1hdGNoZXMgdGhlIG1tLgoKVGhpcyBuZXcgYXJyYW5nbWVudCBwbGF5
cyBuaWNlbHkgd2l0aCB0aGUgIWJsb2NrYWJsZSBtb2RlIGZvcgpPT00uIFNjYW5uaW5nIHRoZSBp
bnRlcnZhbCB0cmVlIGlzIGRvbmUgc3VjaCB0aGF0IHRoZSBpbnRlcnNlY3Rpb24gdGVzdAp3aWxs
IGFsd2F5cyBzdWNjZWVkLCBhbmQgc2luY2UgdGhlcmUgaXMgbm8gaW52YWxpZGF0ZV9yYW5nZV9l
bmQgZXhwb3NlZCB0bwpkcml2ZXJzIHRoZSBzY2hlbWUgc2FmZWx5IGFsbG93cyBtdWx0aXBsZSBk
cml2ZXJzIHRvIGJlIHN1YnNjcmliZWQuCgpGb3VyIHBsYWNlcyBhcmUgY29udmVydGVkIGFzIGFu
IGV4YW1wbGUgb2YgaG93IHRoZSBuZXcgQVBJIGlzIHVzZWQuCkZvdXIgYXJlIGxlZnQgZm9yIGZ1
dHVyZSBwYXRjaGVzOgogLSBpOTE1X2dlbSBoYXMgY29tcGxleCBsb2NraW5nIGFyb3VuZCBkZXN0
cnVjdGlvbiBvZiBhIHJlZ2lzdHJhdGlvbiwKICAgbmVlZHMgbW9yZSBzdHVkeQogLSBoZmkxICgy
bmQgdXNlcikgbmVlZHMgYWNjZXNzIHRvIHRoZSByYnRyZWUKIC0gc2NpZl9kbWEgaGFzIGEgY29t
cGxpY2F0ZWQgbG9naWMgZmxvdwogLSB2aG9zdCdzIG1tdSBub3RpZmllcnMgYXJlIGFscmVhZHkg
YmVpbmcgcmV3cml0dGVuCgpUaGlzIGlzIGFscmVhZHkgaW4gbGludXgtbmV4dCwgYSBnaXQgdHJl
ZSBpcyBhdmFpbGFibGUgaGVyZToKCiBodHRwczovL2dpdGh1Yi5jb20vamd1bnRob3JwZS9saW51
eC9jb21taXRzL21tdV9ub3RpZmllcgoKdjM6Ci0gUmVuYW1lIG1tdV9yYW5nZV9ub3RpZmllciB0
byBtbXVfaW50ZXJ2YWxfbm90aWZpZXIgZm9yIGNsYXJpdHkKICBBdm9pZHMgY29uZnVzaW9uIHdp
dGggc3RydWN0IG1tdV9ub3RpZmllcl9yYW5nZQotIEZpeCBidWdzIGluIG9kcCwgYW1kZ3B1IGFu
ZCB4ZW4gZ250ZGV2IGZyb20gdGVzdGluZwotIE1ha2Ugb3BzIGFuIGFyZ3VtZW50IHRvIG1tdV9p
bnRlcnZhbF9ub3RpZmllcl9pbnNlcnQoKSB0byBtYWtlIGl0CiAgaGFyZGVyIHRvIG1pc3VzZQot
IFVwZGF0ZSBtYW55IGNvbW1lbnRzCi0gQWRkIHRlc3Rpbmcgb2YgbW1fY291bnQgZHVyaW5nIGlu
c2VydGlvbgoKdjI6IGh0dHBzOi8vbG9yZS5rZXJuZWwub3JnL3IvMjAxOTEwMjgyMDEwMzIuNjM1
Mi0xLWpnZ0B6aWVwZS5jYQp2MTogaHR0cHM6Ly9sb3JlLmtlcm5lbC5vcmcvci8yMDE5MTAxNTE4
MTI0Mi44MzQzLTEtamdnQHppZXBlLmNhCgpBYnNlbnQgYW55IG5ldyBkaXNjdXNzaW9uIEkgdGhp
bmsgdGhpcyB3aWxsIGdvIHRvIExpbnVzIGF0IHRoZSBuZXh0IG1lcmdlCndpbmRvdy4KClRoYW5r
cyB0byBldmVyeW9uZSB0byBoZWxwZWQhCgpKYXNvbiBHdW50aG9ycGUgKDE0KToKICBtbS9tbXVf
bm90aWZpZXI6IGRlZmluZSB0aGUgaGVhZGVyIHByZS1wcm9jZXNzb3IgcGFydHMgZXZlbiBpZgog
ICAgZGlzYWJsZWQKICBtbS9tbXVfbm90aWZpZXI6IGFkZCBhbiBpbnRlcnZhbCB0cmVlIG5vdGlm
aWVyCiAgbW0vaG1tOiBhbGxvdyBobW1fcmFuZ2UgdG8gYmUgdXNlZCB3aXRoIGEgbW11X2ludGVy
dmFsX25vdGlmaWVyIG9yCiAgICBobW1fbWlycm9yCiAgbW0vaG1tOiBkZWZpbmUgdGhlIHByZS1w
cm9jZXNzb3IgcmVsYXRlZCBwYXJ0cyBvZiBobW0uaCBldmVuIGlmCiAgICBkaXNhYmxlZAogIFJE
TUEvb2RwOiBVc2UgbW11X2ludGVydmFsX25vdGlmaWVyX2luc2VydCgpCiAgUkRNQS9oZmkxOiBV
c2UgbW11X2ludGVydmFsX25vdGlmaWVyX2luc2VydCBmb3IgdXNlcl9leHBfcmN2CiAgZHJtL3Jh
ZGVvbjogdXNlIG1tdV9pbnRlcnZhbF9ub3RpZmllcl9pbnNlcnQKICBub3V2ZWF1OiB1c2UgbW11
X25vdGlmaWVyIGRpcmVjdGx5IGZvciBpbnZhbGlkYXRlX3JhbmdlX3N0YXJ0CiAgbm91dmVhdTog
dXNlIG1tdV9pbnRlcnZhbF9ub3RpZmllciBpbnN0ZWFkIG9mIGhtbV9taXJyb3IKICBkcm0vYW1k
Z3B1OiBDYWxsIGZpbmRfdm1hIHVuZGVyIG1tYXBfc2VtCiAgZHJtL2FtZGdwdTogVXNlIG1tdV9p
bnRlcnZhbF9pbnNlcnQgaW5zdGVhZCBvZiBobW1fbWlycm9yCiAgZHJtL2FtZGdwdTogVXNlIG1t
dV9pbnRlcnZhbF9ub3RpZmllciBpbnN0ZWFkIG9mIGhtbV9taXJyb3IKICBtbS9obW06IHJlbW92
ZSBobW1fbWlycm9yIGFuZCByZWxhdGVkCiAgeGVuL2dudGRldjogdXNlIG1tdV9pbnRlcnZhbF9u
b3RpZmllcl9pbnNlcnQKCiBEb2N1bWVudGF0aW9uL3ZtL2htbS5yc3QgICAgICAgICAgICAgICAg
ICAgICAgfCAxMDUgKy0tLQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1LmggICAg
ICAgICAgIHwgICAyICsKIC4uLi9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZF9ncHV2
bS5jICB8ICAgOSArLQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2NzLmMgICAg
ICAgIHwgIDE0ICstCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMg
ICAgfCAgIDEgKwogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X21uLmMgICAgICAg
IHwgNDQzICsrLS0tLS0tLS0tLS0tCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
bW4uaCAgICAgICAgfCAgNTMgLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9v
YmplY3QuaCAgICB8ICAxMyArLQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3R0
bS5jICAgICAgIHwgMTQ1ICsrKy0tCiBkcml2ZXJzL2dwdS9kcm0vbm91dmVhdS9ub3V2ZWF1X3N2
bS5jICAgICAgICAgfCAyMzAgKysrKy0tLQogZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb24u
aCAgICAgICAgICAgICAgIHwgICA5ICstCiBkcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl9t
bi5jICAgICAgICAgICAgfCAyMTggKystLS0tLQogZHJpdmVycy9pbmZpbmliYW5kL2NvcmUvZGV2
aWNlLmMgICAgICAgICAgICAgIHwgICAxIC0KIGRyaXZlcnMvaW5maW5pYmFuZC9jb3JlL3VtZW1f
b2RwLmMgICAgICAgICAgICB8IDMwMyArKy0tLS0tLS0tCiBkcml2ZXJzL2luZmluaWJhbmQvaHcv
aGZpMS9maWxlX29wcy5jICAgICAgICAgfCAgIDIgKy0KIGRyaXZlcnMvaW5maW5pYmFuZC9ody9o
ZmkxL2hmaS5oICAgICAgICAgICAgICB8ICAgMiArLQogZHJpdmVycy9pbmZpbmliYW5kL2h3L2hm
aTEvdXNlcl9leHBfcmN2LmMgICAgIHwgMTQ2ICsrLS0tCiBkcml2ZXJzL2luZmluaWJhbmQvaHcv
aGZpMS91c2VyX2V4cF9yY3YuaCAgICAgfCAgIDMgKy0KIGRyaXZlcnMvaW5maW5pYmFuZC9ody9t
bHg1L21seDVfaWIuaCAgICAgICAgICB8ICAgNyArLQogZHJpdmVycy9pbmZpbmliYW5kL2h3L21s
eDUvbXIuYyAgICAgICAgICAgICAgIHwgICAzICstCiBkcml2ZXJzL2luZmluaWJhbmQvaHcvbWx4
NS9vZHAuYyAgICAgICAgICAgICAgfCAgNTAgKy0KIGRyaXZlcnMveGVuL2dudGRldi1jb21tb24u
aCAgICAgICAgICAgICAgICAgICB8ICAgOCArLQogZHJpdmVycy94ZW4vZ250ZGV2LmMgICAgICAg
ICAgICAgICAgICAgICAgICAgIHwgMTc5ICsrLS0tLQogaW5jbHVkZS9saW51eC9obW0uaCAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHwgMTk1ICstLS0tLQogaW5jbHVkZS9saW51eC9tbXVfbm90
aWZpZXIuaCAgICAgICAgICAgICAgICAgIHwgMTQ3ICsrKystCiBpbmNsdWRlL3JkbWEvaWJfdW1l
bV9vZHAuaCAgICAgICAgICAgICAgICAgICAgfCAgNjggKy0tCiBpbmNsdWRlL3JkbWEvaWJfdmVy
YnMuaCAgICAgICAgICAgICAgICAgICAgICAgfCAgIDIgLQoga2VybmVsL2ZvcmsuYyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAxIC0KIG1tL0tjb25maWcgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICB8ICAgMiArLQogbW0vaG1tLmMgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHwgMjc2ICstLS0tLS0tLQogbW0vbW11X25vdGlmaWVyLmMg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgNTY1ICsrKysrKysrKysrKysrKysrLQogMzEg
ZmlsZXMgY2hhbmdlZCwgMTI3MSBpbnNlcnRpb25zKCspLCAxOTMxIGRlbGV0aW9ucygtKQoKLS0g
CjIuMjQuMAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18K
YW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6
Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4
