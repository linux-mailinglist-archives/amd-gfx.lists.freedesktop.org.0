Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 2917410FD7B
	for <lists+amd-gfx@lfdr.de>; Tue,  3 Dec 2019 13:17:44 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 77C0489DB8;
	Tue,  3 Dec 2019 12:17:42 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-wm1-x342.google.com (mail-wm1-x342.google.com
 [IPv6:2a00:1450:4864:20::342])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 5537889DB8
 for <amd-gfx@lists.freedesktop.org>; Tue,  3 Dec 2019 12:17:41 +0000 (UTC)
Received: by mail-wm1-x342.google.com with SMTP id p17so3235718wma.1
 for <amd-gfx@lists.freedesktop.org>; Tue, 03 Dec 2019 04:17:41 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:reply-to:subject:to:references:from:message-id
 :date:user-agent:mime-version:in-reply-to:content-transfer-encoding
 :content-language;
 bh=BvPH+uHYD5gggFyouXz+Ym/knh72LN+nTFNUknb50M4=;
 b=ItYnw2nReg7EtmHvpNiXXESuf/l690BI6K3eUV0qycQuMbkAFeXoz1bIXXm0mv3lL0
 FPkuMetQBAfQpf4N1V2TxOTFlVifjZGezOFnRCY7pXt9idIM6fR/5uoLE7BcMCf5otwo
 fwosdtxFhkDESCU3jSZDhZMeFIJKQ4+QBgKUY3MdZc+gwTJBNeI3i7v18OR3zu4Wf8EH
 zvHEvmZX/K+kSuAkcbfpRaQimdxFwqYwQjLELQ0pxnhU+3ZVDaiC//FDVEgfC9rol0um
 JEONL1KwRu1Qus+Lo3nYLnOaMowdzm7gzO2MaZ8Vfg81Zj8Qutm1gLzbeg94BeSIFIjX
 JzNg==
X-Gm-Message-State: APjAAAVDIOWznC7lOnJ+IB3vKBUYSDPrWof6NlKuyUG5km0tf2gavwsp
 35ez9vdTUqqdnmeDGUF3daQ=
X-Google-Smtp-Source: APXvYqzX3uDkUptufHEutiJue12vj6lpRNEMfdSPIYn18HV1hJmSRaO518tVdzbNz2+fCtNNBkTPuA==
X-Received: by 2002:a05:600c:1:: with SMTP id
 g1mr34142704wmc.131.1575375459870; 
 Tue, 03 Dec 2019 04:17:39 -0800 (PST)
Received: from ?IPv6:2a02:908:1252:fb60:be8a:bd56:1f94:86e7?
 ([2a02:908:1252:fb60:be8a:bd56:1f94:86e7])
 by smtp.gmail.com with ESMTPSA id e16sm2683474wme.35.2019.12.03.04.17.38
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Tue, 03 Dec 2019 04:17:39 -0800 (PST)
Subject: Re: [PATCH 1/2] drm/amdgpu: avoid using invalidate semaphore for SRIOV
To: "Changfeng.Zhu" <changfeng.zhu@amd.com>, amd-gfx@lists.freedesktop.org,
 Christian.Koenig@amd.com, Ray.Huang@amd.com, Xinmei.Huang@amd.com,
 Alexander.Deucher@amd.com
References: <20191203085005.19662-1-changfeng.zhu@amd.com>
From: =?UTF-8?Q?Christian_K=c3=b6nig?= <ckoenig.leichtzumerken@gmail.com>
Message-ID: <9c737784-2518-c2fb-a6af-764989150b61@gmail.com>
Date: Tue, 3 Dec 2019 13:17:37 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
MIME-Version: 1.0
In-Reply-To: <20191203085005.19662-1-changfeng.zhu@amd.com>
Content-Language: en-US
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=reply-to:subject:to:references:from:message-id:date:user-agent
 :mime-version:in-reply-to:content-transfer-encoding:content-language;
 bh=BvPH+uHYD5gggFyouXz+Ym/knh72LN+nTFNUknb50M4=;
 b=blHrdDW3/grqf04pbdY1ltg4QKg+yW2HygYY9/LTUbukrk6sUDVUR0wMLkgqF/kvFK
 qiPfNQ5tE2lCNWhbhxIUVMB+HVLvPDNBAXP10py62GnuKEQvEQ4Tvfj3yyyvFeR14lgq
 ig8C++k/ztre0OIXTUa2Uw0JiUQawb11pgsbR72xPNiCnZcvazgqB/8NXhfmpp8+KK2A
 heSDM2PaDXBpIa6qK+/KGQamX5GhKhQz+7geSwZcvYVtW6cRbsRu4DJ6sTXVP6XrCI91
 hjxmnz4nGC3y8E70K1Ynjv9u1Ti8CEkzDsOx7v6YvXa3VvIRuQxc2FMpbnYFYaeY25qs
 ye9g==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Reply-To: christian.koenig@amd.com
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

QW0gMDMuMTIuMTkgdW0gMDk6NTAgc2NocmllYiBDaGFuZ2ZlbmcuWmh1Ogo+IEZyb206IGNoYW5n
emh1IDxDaGFuZ2ZlbmcuWmh1QGFtZC5jb20+Cj4KPiBJdCBtYXkgZmFpbCB0byBsb2FkIGd1ZXN0
IGRyaXZlciBpbiByb3VuZCAyIHdoZW4gdXNpbmcgaW52YWxpZGF0ZQo+IHNlbWFwaG9yZSBmb3Ig
U1JJT1YuIFNvIGl0IG5lZWRzIHRvIGF2b2lkIHVzaW5nIGludmFsaWRhdGUgc2VtYXBob3JlIGZv
cgo+IFNSSU9WLgoKVGhhdCBzb3VuZHMgbGlrZSB0aGUgcmVnaXN0ZXJzIGFyZSBqdXN0IG5vdCBj
b3JyZWN0bHkgaW5pdGlhbGl6ZWQgd2hlbiAKdGhlIGRyaXZlciBpcyByZWxvYWRlZC4KCkkgd291
bGQganVzdCBhZGQgdGhhdCB0byBtbWh1Yl8qX3Byb2dyYW1faW52YWxpZGF0aW9uKCkuIFNvbWV0
aGluZyBsaWtlIAp0aGlzIHNob3VsZCBhbHJlYWR5IGRvIGl0Ogo+IMKgwqDCoMKgwqDCoMKgIGZv
ciAoaSA9IDA7IGkgPCAxODsgKytpKSB7Cj4gwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
IFdSRUczMl9TT0MxNV9PRkZTRVQoTU1IVUIsIDAsIAo+IG1tVk1fSU5WQUxJREFURV9FTkcwX0FE
RFJfUkFOR0VfTE8zMiwKPiDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIDIgKiBpLCAweGZmZmZmZmZmKTsKPiDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgV1JFRzMyX1NPQzE1X09GRlNFVChNTUhVQiwgMCwg
Cj4gbW1WTV9JTlZBTElEQVRFX0VORzBfQUREUl9SQU5HRV9ISTMyLAo+IMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAg
MiAqIGksIDB4MWYpOwoKV1JFRzMyX1NPQzE1X09GRlNFVChNTUhVQiwgMCwgbW1WTV9JTlZBTElE
QVRFX0VORzBfU0VNLCBpLCAweDApOwoKPiDCoMKgwqDCoMKgwqDCoCB9CgpSZWdhcmRzLApDaHJp
c3RpYW4uCgo+Cj4gQ2hhbmdlLUlkOiBJOGRiMWRjNmY5OTBmZDBjNDU4OTUzNTcxOTM2NDY3NTUx
Y2Q0MTAyZAo+IFNpZ25lZC1vZmYtYnk6IGNoYW5nemh1IDxDaGFuZ2ZlbmcuWmh1QGFtZC5jb20+
Cj4gLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjEwXzAuYyB8IDIxICsr
KysrKysrKysrKystLS0tLS0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3Y5
XzAuYyAgfCAyMCArKysrKysrKysrKystLS0tLS0tLQo+ICAgMiBmaWxlcyBjaGFuZ2VkLCAyNSBp
bnNlcnRpb25zKCspLCAxNiBkZWxldGlvbnMoLSkKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9nbWNfdjEwXzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2dtY192MTBfMC5jCj4gaW5kZXggMzgxYmI3MDlmMDIxLi5kNGM3ZDAzMTk2NTAgMTAwNjQ0Cj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3YxMF8wLmMKPiArKysgYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjEwXzAuYwo+IEBAIC0yNDMsOCArMjQzLDkgQEAg
c3RhdGljIHZvaWQgZ21jX3YxMF8wX2ZsdXNoX3ZtX2h1YihzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldiwgdWludDMyX3Qgdm1pZCwKPiAgIAkgKi8KPiAgIAo+ICAgCS8qIFRPRE86IEl0IG5lZWRz
IHRvIGNvbnRpbnVlIHdvcmtpbmcgb24gZGVidWdnaW5nIHdpdGggc2VtYXBob3JlIGZvciBHRlhI
VUIgYXMgd2VsbC4gKi8KPiAtCWlmICh2bWh1YiA9PSBBTURHUFVfTU1IVUJfMCB8fAo+IC0JICAg
IHZtaHViID09IEFNREdQVV9NTUhVQl8xKSB7Cj4gKwlpZiAoKHZtaHViID09IEFNREdQVV9NTUhV
Ql8wIHx8Cj4gKwkgICAgIHZtaHViID09IEFNREdQVV9NTUhVQl8xKSAmJgo+ICsJICAgICghYW1k
Z3B1X3NyaW92X3ZmKGFkZXYpKSkgewo+ICAgCQlmb3IgKGkgPSAwOyBpIDwgYWRldi0+dXNlY190
aW1lb3V0OyBpKyspIHsKPiAgIAkJCS8qIGEgcmVhZCByZXR1cm4gdmFsdWUgb2YgMSBtZWFucyBz
ZW1hcGhvcmUgYWN1cWlyZSAqLwo+ICAgCQkJdG1wID0gUlJFRzMyX05PX0tJUShodWItPnZtX2lu
dl9lbmcwX3NlbSArIGVuZyk7Cj4gQEAgLTI3Nyw4ICsyNzgsOSBAQCBzdGF0aWMgdm9pZCBnbWNf
djEwXzBfZmx1c2hfdm1faHViKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCB1aW50MzJfdCB2
bWlkLAo+ICAgCX0KPiAgIAo+ICAgCS8qIFRPRE86IEl0IG5lZWRzIHRvIGNvbnRpbnVlIHdvcmtp
bmcgb24gZGVidWdnaW5nIHdpdGggc2VtYXBob3JlIGZvciBHRlhIVUIgYXMgd2VsbC4gKi8KPiAt
CWlmICh2bWh1YiA9PSBBTURHUFVfTU1IVUJfMCB8fAo+IC0JICAgIHZtaHViID09IEFNREdQVV9N
TUhVQl8xKQo+ICsJaWYgKCh2bWh1YiA9PSBBTURHUFVfTU1IVUJfMCB8fAo+ICsJICAgICB2bWh1
YiA9PSBBTURHUFVfTU1IVUJfMSkgJiYKPiArCSAgICAoIWFtZGdwdV9zcmlvdl92ZihhZGV2KSkp
Cj4gICAJCS8qCj4gICAJCSAqIGFkZCBzZW1hcGhvcmUgcmVsZWFzZSBhZnRlciBpbnZhbGlkYXRp
b24sCj4gICAJCSAqIHdyaXRlIHdpdGggMCBtZWFucyBzZW1hcGhvcmUgcmVsZWFzZQo+IEBAIC0z
NjksNiArMzcxLDcgQEAgc3RhdGljIHZvaWQgZ21jX3YxMF8wX2ZsdXNoX2dwdV90bGIoc3RydWN0
IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHVpbnQzMl90IHZtaWQsCj4gICBzdGF0aWMgdWludDY0X3Qg
Z21jX3YxMF8wX2VtaXRfZmx1c2hfZ3B1X3RsYihzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsCj4g
ICAJCQkJCSAgICAgdW5zaWduZWQgdm1pZCwgdWludDY0X3QgcGRfYWRkcikKPiAgIHsKPiArCXN0
cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gcmluZy0+YWRldjsKPiAgIAlzdHJ1Y3QgYW1kZ3B1
X3ZtaHViICpodWIgPSAmcmluZy0+YWRldi0+dm1odWJbcmluZy0+ZnVuY3MtPnZtaHViXTsKPiAg
IAl1aW50MzJfdCByZXEgPSBnbWNfdjEwXzBfZ2V0X2ludmFsaWRhdGVfcmVxKHZtaWQsIDApOwo+
ICAgCXVuc2lnbmVkIGVuZyA9IHJpbmctPnZtX2ludl9lbmc7Cj4gQEAgLTM4MSw4ICszODQsOSBA
QCBzdGF0aWMgdWludDY0X3QgZ21jX3YxMF8wX2VtaXRfZmx1c2hfZ3B1X3RsYihzdHJ1Y3QgYW1k
Z3B1X3JpbmcgKnJpbmcsCj4gICAJICovCj4gICAKPiAgIAkvKiBUT0RPOiBJdCBuZWVkcyB0byBj
b250aW51ZSB3b3JraW5nIG9uIGRlYnVnZ2luZyB3aXRoIHNlbWFwaG9yZSBmb3IgR0ZYSFVCIGFz
IHdlbGwuICovCj4gLQlpZiAocmluZy0+ZnVuY3MtPnZtaHViID09IEFNREdQVV9NTUhVQl8wIHx8
Cj4gLQkgICAgcmluZy0+ZnVuY3MtPnZtaHViID09IEFNREdQVV9NTUhVQl8xKQo+ICsJaWYgKChy
aW5nLT5mdW5jcy0+dm1odWIgPT0gQU1ER1BVX01NSFVCXzAgfHwKPiArCSAgICAgcmluZy0+ZnVu
Y3MtPnZtaHViID09IEFNREdQVV9NTUhVQl8xKSAmJgo+ICsJICAgICghYW1kZ3B1X3NyaW92X3Zm
KGFkZXYpKSkKPiAgIAkJLyogYSByZWFkIHJldHVybiB2YWx1ZSBvZiAxIG1lYW5zIHNlbWFwaG9y
ZSBhY3VxaXJlICovCj4gICAJCWFtZGdwdV9yaW5nX2VtaXRfcmVnX3dhaXQocmluZywKPiAgIAkJ
CQkJICBodWItPnZtX2ludl9lbmcwX3NlbSArIGVuZywgMHgxLCAweDEpOwo+IEBAIC0zOTgsOCAr
NDAyLDkgQEAgc3RhdGljIHVpbnQ2NF90IGdtY192MTBfMF9lbWl0X2ZsdXNoX2dwdV90bGIoc3Ry
dWN0IGFtZGdwdV9yaW5nICpyaW5nLAo+ICAgCQkJCQkgICAgcmVxLCAxIDw8IHZtaWQpOwo+ICAg
Cj4gICAJLyogVE9ETzogSXQgbmVlZHMgdG8gY29udGludWUgd29ya2luZyBvbiBkZWJ1Z2dpbmcg
d2l0aCBzZW1hcGhvcmUgZm9yIEdGWEhVQiBhcyB3ZWxsLiAqLwo+IC0JaWYgKHJpbmctPmZ1bmNz
LT52bWh1YiA9PSBBTURHUFVfTU1IVUJfMCB8fAo+IC0JICAgIHJpbmctPmZ1bmNzLT52bWh1YiA9
PSBBTURHUFVfTU1IVUJfMSkKPiArCWlmICgocmluZy0+ZnVuY3MtPnZtaHViID09IEFNREdQVV9N
TUhVQl8wIHx8Cj4gKwkgICAgIHJpbmctPmZ1bmNzLT52bWh1YiA9PSBBTURHUFVfTU1IVUJfMSkg
JiYKPiArCSAgICAoIWFtZGdwdV9zcmlvdl92ZihhZGV2KSkpCj4gICAJCS8qCj4gICAJCSAqIGFk
ZCBzZW1hcGhvcmUgcmVsZWFzZSBhZnRlciBpbnZhbGlkYXRpb24sCj4gICAJCSAqIHdyaXRlIHdp
dGggMCBtZWFucyBzZW1hcGhvcmUgcmVsZWFzZQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9nbWNfdjlfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21j
X3Y5XzAuYwo+IGluZGV4IDIzMWVhOTc2MmNiNS4uNmM5YTljMDljZGIxIDEwMDY0NAo+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192OV8wLmMKPiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9nbWNfdjlfMC5jCj4gQEAgLTQ2NCw4ICs0NjQsOSBAQCBzdGF0aWMg
dm9pZCBnbWNfdjlfMF9mbHVzaF9ncHVfdGxiKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCB1
aW50MzJfdCB2bWlkLAo+ICAgCSAqLwo+ICAgCj4gICAJLyogVE9ETzogSXQgbmVlZHMgdG8gY29u
dGludWUgd29ya2luZyBvbiBkZWJ1Z2dpbmcgd2l0aCBzZW1hcGhvcmUgZm9yIEdGWEhVQiBhcyB3
ZWxsLiAqLwo+IC0JaWYgKHZtaHViID09IEFNREdQVV9NTUhVQl8wIHx8Cj4gLQkgICAgdm1odWIg
PT0gQU1ER1BVX01NSFVCXzEpIHsKPiArCWlmICgodm1odWIgPT0gQU1ER1BVX01NSFVCXzAgfHwK
PiArCSAgICAgdm1odWIgPT0gQU1ER1BVX01NSFVCXzEpICYmCj4gKwkgICAgKCFhbWRncHVfc3Jp
b3ZfdmYoYWRldikpKSB7Cj4gICAJCWZvciAoaiA9IDA7IGogPCBhZGV2LT51c2VjX3RpbWVvdXQ7
IGorKykgewo+ICAgCQkJLyogYSByZWFkIHJldHVybiB2YWx1ZSBvZiAxIG1lYW5zIHNlbWFwaG9y
ZSBhY3VxaXJlICovCj4gICAJCQl0bXAgPSBSUkVHMzJfTk9fS0lRKGh1Yi0+dm1faW52X2VuZzBf
c2VtICsgZW5nKTsKPiBAQCAtNDk1LDggKzQ5Niw5IEBAIHN0YXRpYyB2b2lkIGdtY192OV8wX2Zs
dXNoX2dwdV90bGIoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHVpbnQzMl90IHZtaWQsCj4g
ICAJfQo+ICAgCj4gICAJLyogVE9ETzogSXQgbmVlZHMgdG8gY29udGludWUgd29ya2luZyBvbiBk
ZWJ1Z2dpbmcgd2l0aCBzZW1hcGhvcmUgZm9yIEdGWEhVQiBhcyB3ZWxsLiAqLwo+IC0JaWYgKHZt
aHViID09IEFNREdQVV9NTUhVQl8wIHx8Cj4gLQkgICAgdm1odWIgPT0gQU1ER1BVX01NSFVCXzEp
Cj4gKwlpZiAoKHZtaHViID09IEFNREdQVV9NTUhVQl8wIHx8Cj4gKwkgICAgIHZtaHViID09IEFN
REdQVV9NTUhVQl8xKSAmJgo+ICsJICAgICghYW1kZ3B1X3NyaW92X3ZmKGFkZXYpKSkKPiAgIAkJ
LyoKPiAgIAkJICogYWRkIHNlbWFwaG9yZSByZWxlYXNlIGFmdGVyIGludmFsaWRhdGlvbiwKPiAg
IAkJICogd3JpdGUgd2l0aCAwIG1lYW5zIHNlbWFwaG9yZSByZWxlYXNlCj4gQEAgLTUyNyw4ICs1
MjksOSBAQCBzdGF0aWMgdWludDY0X3QgZ21jX3Y5XzBfZW1pdF9mbHVzaF9ncHVfdGxiKHN0cnVj
dCBhbWRncHVfcmluZyAqcmluZywKPiAgIAkgKi8KPiAgIAo+ICAgCS8qIFRPRE86IEl0IG5lZWRz
IHRvIGNvbnRpbnVlIHdvcmtpbmcgb24gZGVidWdnaW5nIHdpdGggc2VtYXBob3JlIGZvciBHRlhI
VUIgYXMgd2VsbC4gKi8KPiAtCWlmIChyaW5nLT5mdW5jcy0+dm1odWIgPT0gQU1ER1BVX01NSFVC
XzAgfHwKPiAtCSAgICByaW5nLT5mdW5jcy0+dm1odWIgPT0gQU1ER1BVX01NSFVCXzEpCj4gKwlp
ZiAoKHJpbmctPmZ1bmNzLT52bWh1YiA9PSBBTURHUFVfTU1IVUJfMCB8fAo+ICsJICAgICByaW5n
LT5mdW5jcy0+dm1odWIgPT0gQU1ER1BVX01NSFVCXzEpICYmCj4gKwkgICAgKCFhbWRncHVfc3Jp
b3ZfdmYoYWRldikpKQo+ICAgCQkvKiBhIHJlYWQgcmV0dXJuIHZhbHVlIG9mIDEgbWVhbnMgc2Vt
YXBob3JlIGFjdXFpcmUgKi8KPiAgIAkJYW1kZ3B1X3JpbmdfZW1pdF9yZWdfd2FpdChyaW5nLAo+
ICAgCQkJCQkgIGh1Yi0+dm1faW52X2VuZzBfc2VtICsgZW5nLCAweDEsIDB4MSk7Cj4gQEAgLTU0
NCw4ICs1NDcsOSBAQCBzdGF0aWMgdWludDY0X3QgZ21jX3Y5XzBfZW1pdF9mbHVzaF9ncHVfdGxi
KHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywKPiAgIAkJCQkJICAgIHJlcSwgMSA8PCB2bWlkKTsK
PiAgIAo+ICAgCS8qIFRPRE86IEl0IG5lZWRzIHRvIGNvbnRpbnVlIHdvcmtpbmcgb24gZGVidWdn
aW5nIHdpdGggc2VtYXBob3JlIGZvciBHRlhIVUIgYXMgd2VsbC4gKi8KPiAtCWlmIChyaW5nLT5m
dW5jcy0+dm1odWIgPT0gQU1ER1BVX01NSFVCXzAgfHwKPiAtCSAgICByaW5nLT5mdW5jcy0+dm1o
dWIgPT0gQU1ER1BVX01NSFVCXzEpCj4gKwlpZiAoKHJpbmctPmZ1bmNzLT52bWh1YiA9PSBBTURH
UFVfTU1IVUJfMCB8fAo+ICsJICAgICByaW5nLT5mdW5jcy0+dm1odWIgPT0gQU1ER1BVX01NSFVC
XzEpICYmCj4gKwkgICAgKCFhbWRncHVfc3Jpb3ZfdmYoYWRldikpKQo+ICAgCQkvKgo+ICAgCQkg
KiBhZGQgc2VtYXBob3JlIHJlbGVhc2UgYWZ0ZXIgaW52YWxpZGF0aW9uLAo+ICAgCQkgKiB3cml0
ZSB3aXRoIDAgbWVhbnMgc2VtYXBob3JlIHJlbGVhc2UKCl9fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vYW1kLWdmeA==
