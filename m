Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id A23A43D6B4A
	for <lists+amd-gfx@lfdr.de>; Tue, 27 Jul 2021 02:53:15 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B83376E926;
	Tue, 27 Jul 2021 00:53:09 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM10-DM6-obe.outbound.protection.outlook.com
 (mail-dm6nam10on2065.outbound.protection.outlook.com [40.107.93.65])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 5D85C6E926;
 Tue, 27 Jul 2021 00:53:08 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=ghXMyG2896RKJ5JTOl1gbrGUguisTEOLQ+Euf2OVjZe48S6L3ogH8S/gcXhDNlMLHtL2+rluqD7w1m24NIfz7f/7vI85e/J5Zhn9J6VpWkQlgZU/mQu0o8hHyV+NyuZry5YgJ89/HsplXn6oEQtSoU1QT339/dpx+1j7JrD9rz2hliuForJ7VROFXxPgI6VDkBNOzhxRH6gCaPXOVtLY1tKXHNi5KFXHamyJAhrEA2excxmlwbO0QKi0xqlTY3ybGVV7DNonNhKT5dbMyXmQabM6lx3tn7SE/OTdV+r2dvwjvAXJP/4iIqLANgEwpeGicGjPCpofVrzPiNXEMsHHwQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=FnZX5HVbOcPplIr+TZjMHBLjVEEBPmSwZ3rZMKzT6L8=;
 b=JyguR/x9W7KYZmvfxxc7jOH6TdJoq8VuGneyZzk2wLJDFVQs+c3ZYZyDgAIhG2lNhPETyUTNjf21jXnwdwx22F61q+NPxUqHixPJUFdQW483okX8UC3Y671qaHEVNv/ATLYr5NNH+RStPnh1+RQ/dTztuZiRaSaj/ZPLN6uzZWUUC8V9TD/q08vQkCumEtQUnxpcwX8Qpsm5dDL01np7+AGNyrypsS2XSg8o3DhkN4a2sExw6f5T5wrXj7y8VZ3MFlLnSWu/I8GXxrGM894B0mS1+cvJYUP6bDJbcooeTJAV+lQGexPvNwleudPeYvdB3GoSLR8Gvp46HI+gBBGUVA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass (sender ip is
 165.204.84.17) smtp.rcpttodomain=lists.freedesktop.org smtp.mailfrom=amd.com; 
 dmarc=pass (p=quarantine sp=quarantine pct=100) action=none
 header.from=amd.com; dkim=none (message not signed); arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=amd.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=FnZX5HVbOcPplIr+TZjMHBLjVEEBPmSwZ3rZMKzT6L8=;
 b=x7ggBOxEhowOl7Olx0HyL0UhwI4JuTUVPtE7IuEzbviv5omdiFCee3dv61YRUQs1vuwTYbdeeawoZ5rZgYzQZGXhQE0atS3tITp36217Yr6Wl2yMReMuwRmzL8W+FI2TcnhDZyxOlkeWaFqCOw27kusJNgtIs1gkT/NhYxAsZHU=
Received: from DM5PR11CA0006.namprd11.prod.outlook.com (2603:10b6:3:115::16)
 by MWHPR12MB1517.namprd12.prod.outlook.com (2603:10b6:301:10::22) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.4352.26; Tue, 27 Jul
 2021 00:53:05 +0000
Received: from DM6NAM11FT028.eop-nam11.prod.protection.outlook.com
 (2603:10b6:3:115:cafe::5) by DM5PR11CA0006.outlook.office365.com
 (2603:10b6:3:115::16) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.4352.24 via Frontend
 Transport; Tue, 27 Jul 2021 00:53:05 +0000
X-MS-Exchange-Authentication-Results: spf=pass (sender IP is 165.204.84.17)
 smtp.mailfrom=amd.com; lists.freedesktop.org; dkim=none (message not signed)
 header.d=none;lists.freedesktop.org; dmarc=pass action=none
 header.from=amd.com;
Received-SPF: Pass (protection.outlook.com: domain of amd.com designates
 165.204.84.17 as permitted sender) receiver=protection.outlook.com;
 client-ip=165.204.84.17; helo=SATLEXMB04.amd.com;
Received: from SATLEXMB04.amd.com (165.204.84.17) by
 DM6NAM11FT028.mail.protection.outlook.com (10.13.173.140) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id
 15.20.4352.24 via Frontend Transport; Tue, 27 Jul 2021 00:53:05 +0000
Received: from atma2.hitronhub.home (10.180.168.240) by SATLEXMB04.amd.com
 (10.181.40.145) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id 15.1.2242.12; Mon, 26 Jul
 2021 19:53:04 -0500
From: Rodrigo Siqueira <Rodrigo.Siqueira@amd.com>
To: <amd-gfx@lists.freedesktop.org>, <dri-devel@lists.freedesktop.org>,
 <sunpeng.li@amd.com>, <roman.li@amd.com>
Subject: [PATCH v4 2/4] drm/amd/display: Add control mechanism for FPU
Date: Mon, 26 Jul 2021 20:52:46 -0400
Message-ID: <20210727005248.1827411-3-Rodrigo.Siqueira@amd.com>
X-Mailer: git-send-email 2.25.1
In-Reply-To: <20210727005248.1827411-1-Rodrigo.Siqueira@amd.com>
References: <20210727005248.1827411-1-Rodrigo.Siqueira@amd.com>
MIME-Version: 1.0
X-Originating-IP: [10.180.168.240]
X-ClientProxiedBy: SATLEXMB04.amd.com (10.181.40.145) To SATLEXMB04.amd.com
 (10.181.40.145)
X-EOPAttributedMessage: 0
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-Correlation-Id: 79865420-2a4a-4ad1-d35f-08d95098e51a
X-MS-TrafficTypeDiagnostic: MWHPR12MB1517:
X-Microsoft-Antispam-PRVS: <MWHPR12MB1517BB0055F10B922D94997898E99@MWHPR12MB1517.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:348;
X-MS-Exchange-SenderADCheck: 1
X-MS-Exchange-AntiSpam-Relay: 0
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: /iuLcRzcdb0qKCCJa47ZCEbJH0sxxa8JBVbb0zJTM1XdHJcZJsWloaf3D2+GkX9spVOF/zknNled6LAhIi7tX0ADOUzMKYRLe4136lcHa+3uzKzMFGsyrWGflogS21L66ltPZHZEQcuE8CHHynOZe4zHlPppdoGFKlrqd1ZD8yzhSpajs4iZBRDkZYlFBf5hSGjzqEyFgme1EloI1PKNWXYWm5aBc8A950Y0/6n5rA8sC+4gGK1vYr4A0vDEg+rlPkoULHX93F1daZVFr+p90cNTga0p5aPDiZr+vvqUTMJ+R8DJmp0pMJ+OP8ud9dKnzFcjuOuCMNRtOb8QdoUh9EUpKgAcLXrCx46uu/5/qKHztwj5XAglVJTFRBt/lEjFY7d0q5c3iwF6Sl2CGikqV2JjX+79MKThE6/swY/A2J40bKdjih+JBz8eGUT+QJcSQWNLjjTBhRCoaWWyPIi46qxJudVbLXKXM6Qb7une6FJr0zMdwkEYlnlYkSc9l6vsKwBIovBrLKggU5gYRqSk85LuIHkSkdQdorGnnq/vWnhcoLUFXeJY1+w+Qyh7NibvSKTN72zROaIwZspynG+Jb1+cSrqSNEtlK9TKWxXEB5A1xqAQnGIs9ru9nxGEhKwJ3DbhDKGZ719Tvr/y+FCoTy5Ic7p/vYmJ+7W7P5Auueib3f71stShO2yBYD1st+prCtxDPcLVLJnhMQCO6w4ismQXu/BnjwMmKqlNmExTkhg=
X-Forefront-Antispam-Report: CIP:165.204.84.17; CTRY:US; LANG:en; SCL:1; SRV:;
 IPV:CAL; SFV:NSPM; H:SATLEXMB04.amd.com; PTR:InfoDomainNonexistent; CAT:NONE;
 SFS:(4636009)(36840700001)(46966006)(16526019)(6636002)(8936002)(81166007)(356005)(2616005)(186003)(508600001)(4326008)(2906002)(70586007)(70206006)(336012)(36860700001)(66574015)(316002)(26005)(8676002)(5660300002)(82310400003)(6666004)(54906003)(86362001)(110136005)(47076005)(1076003)(426003)(83380400001)(36756003)(36900700001);
 DIR:OUT; SFP:1101; 
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 27 Jul 2021 00:53:05.6998 (UTC)
X-MS-Exchange-CrossTenant-Network-Message-Id: 79865420-2a4a-4ad1-d35f-08d95098e51a
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-OriginalAttributedTenantConnectingIp: TenantId=3dd8961f-e488-4e60-8e11-a82d994e183d; Ip=[165.204.84.17];
 Helo=[SATLEXMB04.amd.com]
X-MS-Exchange-CrossTenant-AuthSource: DM6NAM11FT028.eop-nam11.prod.protection.outlook.com
X-MS-Exchange-CrossTenant-AuthAs: Anonymous
X-MS-Exchange-CrossTenant-FromEntityHeader: HybridOnPrem
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MWHPR12MB1517
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Aric Cyr <aric.cyr@amd.com>, Peter Zijlstra <peterz@infradead.org>,
 Qingqing Zhuo <qingqing.zhuo@amd.com>, Anson Jacob <Anson.Jacob@amd.com>,
 Dmytro Laktyushkin <dmytro.laktyushkin@amd.com>,
 Hersen Wu <hersenxs.wu@amd.com>, Daniel Vetter <daniel@ffwll.ch>,
 Jun Lei <jun.lei@amd.com>, Harry Wentland <harry.wentland@amd.com>,
 =?UTF-8?q?Christian=20K=C3=B6nig?= <christian.koenig@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

REMgaW52b2tlcyBEQ19GUFVfU1RBUlQvRU5EIGluIG11bHRpcGxlIHBhcnRzIG9mIHRoZSBjb2Rl
OyB0aGlzIGNhbgpjcmVhdGUgYSBzaXR1YXRpb24gd2hlcmUgd2UgaW52b2tlIHRoaXMgRlBVIG9w
ZXJhdGlvbiBpbiBhIG5lc3RlZCB3YXkgb3IKZXhpdCB0b28gZWFybHkuIEZvciBhdm9pZGluZyB0
aGlzIHNpdHVhdGlvbiwgdGhpcyBjb21taXQgYWRkcyBhCm1lY2hhbmlzbSB3aGVyZSBkY19mcHVf
YmVnaW4vZW5kIG1hbmFnZXMgdGhlIGFjY2VzcyB0bwprZXJuZWxfZnB1X2JlZ2luL2VuZC4KCkNo
YW5nZSBzaW5jZSBWMzoKLSBDaHJpc3RpYW46IE1vdmUgUFBDNjQgY29kZSB0byBkY19mcHVfYmVn
aW4vZW5kLgoKQ2hhbmdlIHNpbmNlIFYyOgotIENocmlzdGlhbjogRG8gbm90IHVzZSB0aGlzX2Nw
dV8qIGJldHdlZW4gZ2V0L3B1dF9jcHVfcHRyKCkuCgpDaGFuZ2Ugc2luY2UgVjE6Ci0gVXNlIGEg
YmV0dGVyIHZhcmlhYmxlIG5hbWVzCi0gVXNlIGdldF9jcHVfcHRyIGFuZCBwdXRfY3B1X3B0ciB0
byBiZXR0ZXIgYmFsYW5jZSBwcmVlbXB0aW9uIGVuYWJsZQphbmQgZGlzYWJsZQoKQ2M6IEhhcnJ5
IFdlbnRsYW5kIDxoYXJyeS53ZW50bGFuZEBhbWQuY29tPgpDYzogQW5zb24gSmFjb2IgPEFuc29u
LkphY29iQGFtZC5jb20+CkNjOiBDaHJpc3RpYW4gS8O2bmlnIDxjaHJpc3RpYW4ua29lbmlnQGFt
ZC5jb20+CkNjOiBIZXJzZW4gV3UgPGhlcnNlbnhzLnd1QGFtZC5jb20+CkNjOiBBcmljIEN5ciA8
YXJpYy5jeXJAYW1kLmNvbT4KQ2M6IEp1biBMZWkgPGp1bi5sZWlAYW1kLmNvbT4KQ2M6IERteXRy
byBMYWt0eXVzaGtpbiA8ZG15dHJvLmxha3R5dXNoa2luQGFtZC5jb20+CkNjOiBRaW5ncWluZyBa
aHVvIDxxaW5ncWluZy56aHVvQGFtZC5jb20+ClNpZ25lZC1vZmYtYnk6IFJvZHJpZ28gU2lxdWVp
cmEgPFJvZHJpZ28uU2lxdWVpcmFAYW1kLmNvbT4KLS0tCiAuLi4vZ3B1L2RybS9hbWQvZGlzcGxh
eS9hbWRncHVfZG0vTWFrZWZpbGUgICAgfCAgNCArCiAuLi4vYW1kL2Rpc3BsYXkvYW1kZ3B1X2Rt
L2FtZGdwdV9kbV90cmFjZS5oICAgfCAyMSArKysrCiAuLi4vZ3B1L2RybS9hbWQvZGlzcGxheS9h
bWRncHVfZG0vZGNfZnB1LmMgICAgfCA5NiArKysrKysrKysrKysrKysrKysrCiAuLi4vZ3B1L2Ry
bS9hbWQvZGlzcGxheS9hbWRncHVfZG0vZGNfZnB1LmggICAgfCAzMyArKysrKysrCiBkcml2ZXJz
L2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNfdHJhY2UuaCAgICAgfCAgMyArCiBkcml2ZXJzL2dw
dS9kcm0vYW1kL2Rpc3BsYXkvZGMvb3NfdHlwZXMuaCAgICAgfCAzNSArLS0tLS0tCiA2IGZpbGVz
IGNoYW5nZWQsIDE2MCBpbnNlcnRpb25zKCspLCAzMiBkZWxldGlvbnMoLSkKIGNyZWF0ZSBtb2Rl
IDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2RjX2ZwdS5jCiBj
cmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2FtZGdwdV9kbS9k
Y19mcHUuaAoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVf
ZG0vTWFrZWZpbGUgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL01ha2Vm
aWxlCmluZGV4IDkxZmI3MmM5NjU0NS4uNzE4ZTEyM2EzMjMwIDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL01ha2VmaWxlCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0vTWFrZWZpbGUKQEAgLTI3LDYgKzI3LDEwIEBACiAK
IEFNREdQVURNID0gYW1kZ3B1X2RtLm8gYW1kZ3B1X2RtX2lycS5vIGFtZGdwdV9kbV9tc3RfdHlw
ZXMubyBhbWRncHVfZG1fY29sb3IubwogCitpZmRlZiBDT05GSUdfRFJNX0FNRF9EQ19EQ04KK0FN
REdQVURNICs9IGRjX2ZwdS5vCitlbmRpZgorCiBpZm5lcSAoJChDT05GSUdfRFJNX0FNRF9EQyks
KQogQU1ER1BVRE0gKz0gYW1kZ3B1X2RtX3NlcnZpY2VzLm8gYW1kZ3B1X2RtX2hlbHBlcnMubyBh
bWRncHVfZG1fcHBfc211Lm8gYW1kZ3B1X2RtX3Bzci5vCiBlbmRpZgpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2FtZGdwdV9kbS9hbWRncHVfZG1fdHJhY2UuaCBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1X2RtX3RyYWNlLmgKaW5k
ZXggNDZhMzNmNjRjZjhlLi4yMzBiYjEyYzQwNWUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1X2RtX3RyYWNlLmgKKysrIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9kaXNwbGF5L2FtZGdwdV9kbS9hbWRncHVfZG1fdHJhY2UuaApAQCAtNjM3LDYg
KzYzNywyNyBAQCBUUkFDRV9FVkVOVChhbWRncHVfcmVmcmVzaF9yYXRlX3RyYWNrLAogCQkgIF9f
ZW50cnktPnJlZnJlc2hfcmF0ZV9ucykKICk7CiAKK1RSQUNFX0VWRU5UKGRjbl9mcHUsCisJICAg
IFRQX1BST1RPKGJvb2wgYmVnaW4sIGNvbnN0IGNoYXIgKmZ1bmN0aW9uLCBjb25zdCBpbnQgbGlu
ZSksCisJICAgIFRQX0FSR1MoYmVnaW4sIGZ1bmN0aW9uLCBsaW5lKSwKKworCSAgICBUUF9TVFJV
Q1RfX2VudHJ5KAorCQkJICAgICBfX2ZpZWxkKGJvb2wsIGJlZ2luKQorCQkJICAgICBfX2ZpZWxk
KGNvbnN0IGNoYXIgKiwgZnVuY3Rpb24pCisJCQkgICAgIF9fZmllbGQoaW50LCBsaW5lKQorCSAg
ICApLAorCSAgICBUUF9mYXN0X2Fzc2lnbigKKwkJCSAgIF9fZW50cnktPmJlZ2luID0gYmVnaW47
CisJCQkgICBfX2VudHJ5LT5mdW5jdGlvbiA9IGZ1bmN0aW9uOworCQkJICAgX19lbnRyeS0+bGlu
ZSA9IGxpbmU7CisJICAgICksCisJICAgIFRQX3ByaW50aygiJXMoKSslZDogJXMiLAorCQkgICAg
ICBfX2VudHJ5LT5mdW5jdGlvbiwKKwkJICAgICAgX19lbnRyeS0+bGluZSwKKwkJICAgICAgX19l
bnRyeS0+YmVnaW4gPyAiYmVnaW4iIDogImVuZCIKKwkgICAgKQorKTsKKwogI2VuZGlmIC8qIF9B
TURHUFVfRE1fVFJBQ0VfSF8gKi8KIAogI3VuZGVmIFRSQUNFX0lOQ0xVREVfUEFUSApkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2FtZGdwdV9kbS9kY19mcHUuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0vZGNfZnB1LmMKbmV3IGZpbGUgbW9k
ZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAwLi5kNGFiMjdiZjhkMDQKLS0tIC9kZXYvbnVsbAor
KysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2RjX2ZwdS5jCkBAIC0w
LDAgKzEsOTYgQEAKKy8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVQKKy8qCisgKiBDb3B5
cmlnaHQgMjAyMSBBZHZhbmNlZCBNaWNybyBEZXZpY2VzLCBJbmMuCisgKgorICogUGVybWlzc2lv
biBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWlu
aW5nIGEKKyAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0
aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksCisgKiB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3
aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uCisgKiB0aGUg
cmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwg
c3VibGljZW5zZSwKKyAqIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0
byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZQorICogU29mdHdhcmUgaXMgZnVybmlzaGVkIHRv
IGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKKyAqCisgKiBUaGUg
YWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBi
ZSBpbmNsdWRlZCBpbgorICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0
aGUgU29mdHdhcmUuCisgKgorICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJ
VEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKKyAqIElNUExJRUQsIElOQ0xV
RElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZ
LAorICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVO
VC4gIElOIE5PIEVWRU5UIFNIQUxMCisgKiBUSEUgQ09QWVJJR0hUIEhPTERFUihTKSBPUiBBVVRI
T1IoUykgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IKKyAqIE9USEVSIExJQUJJ
TElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNF
LAorICogQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZU
V0FSRSBPUiBUSEUgVVNFIE9SCisgKiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuCisg
KgorICogQXV0aG9yczogQU1ECisgKgorICovCisKKyNpbmNsdWRlICJkY190cmFjZS5oIgorCisj
aWYgZGVmaW5lZChDT05GSUdfWDg2KQorI2luY2x1ZGUgPGFzbS9mcHUvYXBpLmg+CisjZWxpZiBk
ZWZpbmVkKENPTkZJR19QUEM2NCkKKyNpbmNsdWRlIDxhc20vc3dpdGNoX3RvLmg+CisjaW5jbHVk
ZSA8YXNtL2NwdXRhYmxlLmg+CisjZW5kaWYKKworLyoqCisgKiBkY19mcHVfYmVnaW4gLSBFbmFi
bGVzIEZQVSBwcm90ZWN0aW9uCisgKiBAZnVuY3Rpb25fbmFtZTogQSBzdHJpbmcgY29udGFpbmlu
ZyB0aGUgZnVuY3Rpb24gbmFtZSBmb3IgZGVidWcgcHVycG9zZXMKKyAqICAgKHVzdWFsbHkgX19m
dW5jX18pCisgKgorICogQGxpbmU6IEEgbGluZSBudW1iZXIgd2hlcmUgRENfRlBfU1RBUlQgd2Fz
IGludm9rZWQgZm9yIGRlYnVnIHB1cnBvc2UKKyAqICAgKHVzdWFsbHkgX19MSU5FX18pCisgKgor
ICogVGhpcyBmdW5jdGlvbiBpcyByZXNwb25zaWJsZSBmb3IgbWFuYWdpbmcgdGhlIHVzZSBvZiBr
ZXJuZWxfZnB1X2JlZ2luKCkgd2l0aAorICogdGhlIGFkdmFudGFnZSBvZiBwcm92aWRpbmcgYW4g
ZXZlbnQgdHJhY2UgZm9yIGRlYnVnZ2luZy4KKyAqCisgKiBOb3RlOiBEbyBub3QgY2FsbCB0aGlz
IGZ1bmN0aW9uIGRpcmVjdGx5OyBhbHdheXMgdXNlIERDX0ZQX1NUQVJUKCkuCisgKi8KK3ZvaWQg
ZGNfZnB1X2JlZ2luKGNvbnN0IGNoYXIgKmZ1bmN0aW9uX25hbWUsIGNvbnN0IGludCBsaW5lKQor
eworCVRSQUNFX0RDTl9GUFUodHJ1ZSwgZnVuY3Rpb25fbmFtZSwgbGluZSk7CisKKyNpZiBkZWZp
bmVkKENPTkZJR19YODYpCisJa2VybmVsX2ZwdV9iZWdpbigpOworI2VsaWYgZGVmaW5lZChDT05G
SUdfUFBDNjQpCisJaWYgKGNwdV9oYXNfZmVhdHVyZShDUFVfRlRSX1ZTWF9DT01QKSkgeworCQlw
cmVlbXB0X2Rpc2FibGUoKTsKKwkJZW5hYmxlX2tlcm5lbF92c3goKTsKKwl9IGVsc2UgaWYgKGNw
dV9oYXNfZmVhdHVyZShDUFVfRlRSX0FMVElWRUNfQ09NUCkpIHsKKwkJcHJlZW1wdF9kaXNhYmxl
KCk7CisJCWVuYWJsZV9rZXJuZWxfYWx0aXZlYygpOworCX0gZWxzZSBpZiAoIWNwdV9oYXNfZmVh
dHVyZShDUFVfRlRSX0ZQVV9VTkFWQUlMQUJMRSkpIHsKKwkJcHJlZW1wdF9kaXNhYmxlKCk7CisJ
CWVuYWJsZV9rZXJuZWxfZnAoKTsKKwl9CisjZW5kaWYKK30KKworLyoqCisgKiBkY19mcHVfZW5k
IC0gRGlzYWJsZSBGUFUgcHJvdGVjdGlvbgorICogQGZ1bmN0aW9uX25hbWU6IEEgc3RyaW5nIGNv
bnRhaW5pbmcgdGhlIGZ1bmN0aW9uIG5hbWUgZm9yIGRlYnVnIHB1cnBvc2VzCisgKiBAbGluZTog
QS1saW5lIG51bWJlciB3aGVyZSBEQ19GUF9FTkQgd2FzIGludm9rZWQgZm9yIGRlYnVnIHB1cnBv
c2UKKyAqCisgKiBUaGlzIGZ1bmN0aW9uIGlzIHJlc3BvbnNpYmxlIGZvciBtYW5hZ2luZyB0aGUg
dXNlIG9mIGtlcm5lbF9mcHVfZW5kKCkgd2l0aAorICogdGhlIGFkdmFudGFnZSBvZiBwcm92aWRp
bmcgYW4gZXZlbnQgdHJhY2UgZm9yIGRlYnVnZ2luZy4KKyAqCisgKiBOb3RlOiBEbyBub3QgY2Fs
bCB0aGlzIGZ1bmN0aW9uIGRpcmVjdGx5OyBhbHdheXMgdXNlIERDX0ZQX0VORCgpLgorICovCit2
b2lkIGRjX2ZwdV9lbmQoY29uc3QgY2hhciAqZnVuY3Rpb25fbmFtZSwgY29uc3QgaW50IGxpbmUp
Cit7CisJVFJBQ0VfRENOX0ZQVShmYWxzZSwgZnVuY3Rpb25fbmFtZSwgbGluZSk7CisjaWYgZGVm
aW5lZChDT05GSUdfWDg2KQorCWtlcm5lbF9mcHVfZW5kKCk7CisjZWxpZiBkZWZpbmVkKENPTkZJ
R19QUEM2NCkKKwlpZiAoY3B1X2hhc19mZWF0dXJlKENQVV9GVFJfVlNYX0NPTVApKSB7CisJCWRp
c2FibGVfa2VybmVsX3ZzeCgpOworCQlwcmVlbXB0X2VuYWJsZSgpOworCX0gZWxzZSBpZiAoY3B1
X2hhc19mZWF0dXJlKENQVV9GVFJfQUxUSVZFQ19DT01QKSkgeworCQlkaXNhYmxlX2tlcm5lbF9h
bHRpdmVjKCk7CisJCXByZWVtcHRfZW5hYmxlKCk7CisJfSBlbHNlIGlmICghY3B1X2hhc19mZWF0
dXJlKENQVV9GVFJfRlBVX1VOQVZBSUxBQkxFKSkgeworCQlkaXNhYmxlX2tlcm5lbF9mcCgpOwor
CQlwcmVlbXB0X2VuYWJsZSgpOworCX0KKyNlbmRpZgorfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2FtZC9kaXNwbGF5L2FtZGdwdV9kbS9kY19mcHUuaCBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvZGlzcGxheS9hbWRncHVfZG0vZGNfZnB1LmgKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXgg
MDAwMDAwMDAwMDAwLi5mYjU0OTgzYzVjNjAKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2RjX2ZwdS5oCkBAIC0wLDAgKzEsMzMgQEAKKy8q
IFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBNSVQgKi8KKy8qCisgKiBDb3B5cmlnaHQgMjAyMSBB
ZHZhbmNlZCBNaWNybyBEZXZpY2VzLCBJbmMuCisgKgorICogUGVybWlzc2lvbiBpcyBoZXJlYnkg
Z3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEKKyAqIGNv
cHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0
aGUgIlNvZnR3YXJlIiksCisgKiB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3Ry
aWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uCisgKiB0aGUgcmlnaHRzIHRvIHVz
ZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwK
KyAqIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVy
c29ucyB0byB3aG9tIHRoZQorICogU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJq
ZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKKyAqCisgKiBUaGUgYWJvdmUgY29weXJp
Z2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBp
bgorICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUu
CisgKgorICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFO
VFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKKyAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9U
IExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLAorICogRklUTkVT
UyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gIElOIE5PIEVW
RU5UIFNIQUxMCisgKiBUSEUgQ09QWVJJR0hUIEhPTERFUihTKSBPUiBBVVRIT1IoUykgQkUgTElB
QkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IKKyAqIE9USEVSIExJQUJJTElUWSwgV0hFVEhF
UiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLAorICogQVJJU0lO
RyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUg
VVNFIE9SCisgKiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuCisgKgorICogQXV0aG9y
czogQU1ECisgKgorICovCisKKyNpZm5kZWYgX19EQ19GUFVfSF9fCisjZGVmaW5lIF9fRENfRlBV
X0hfXworCit2b2lkIGRjX2ZwdV9iZWdpbihjb25zdCBjaGFyICpmdW5jdGlvbl9uYW1lLCBjb25z
dCBpbnQgbGluZSk7Cit2b2lkIGRjX2ZwdV9lbmQoY29uc3QgY2hhciAqZnVuY3Rpb25fbmFtZSwg
Y29uc3QgaW50IGxpbmUpOworCisjZW5kaWYgLyogX19EQ19GUFVfSF9fICovCmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNfdHJhY2UuaCBiL2RyaXZlcnMvZ3B1
L2RybS9hbWQvZGlzcGxheS9kYy9kY190cmFjZS5oCmluZGV4IGQyNjE1MzU3MjY5Yi4uZDU5OGJh
Njk3ZTQ1IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNfdHJh
Y2UuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNfdHJhY2UuaApAQCAt
MzcsMyArMzcsNiBAQAogCiAjZGVmaW5lIFRSQUNFX0RDTl9DTE9DS19TVEFURShkY25fY2xvY2tz
KSBcCiAJdHJhY2VfYW1kZ3B1X2RtX2RjX2Nsb2Nrc19zdGF0ZShkY25fY2xvY2tzKQorCisjZGVm
aW5lIFRSQUNFX0RDTl9GUFUoYmVnaW4sIGZ1bmN0aW9uLCBsaW5lKSBcCisJdHJhY2VfZGNuX2Zw
dShiZWdpbiwgZnVuY3Rpb24sIGxpbmUpCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1k
L2Rpc3BsYXkvZGMvb3NfdHlwZXMuaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9v
c190eXBlcy5oCmluZGV4IDEyNmMyZjNhNGRkMy4uZjUwY2FlMjUyZGU0IDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvb3NfdHlwZXMuaAorKysgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL2Rpc3BsYXkvZGMvb3NfdHlwZXMuaApAQCAtNTEsMzggKzUxLDkgQEAKICNkZWZp
bmUgZG1fZXJyb3IoZm10LCAuLi4pIERSTV9FUlJPUihmbXQsICMjX19WQV9BUkdTX18pCiAKICNp
ZiBkZWZpbmVkKENPTkZJR19EUk1fQU1EX0RDX0RDTikKLSNpZiBkZWZpbmVkKENPTkZJR19YODYp
Ci0jaW5jbHVkZSA8YXNtL2ZwdS9hcGkuaD4KLSNkZWZpbmUgRENfRlBfU1RBUlQoKSBrZXJuZWxf
ZnB1X2JlZ2luKCkKLSNkZWZpbmUgRENfRlBfRU5EKCkga2VybmVsX2ZwdV9lbmQoKQotI2VsaWYg
ZGVmaW5lZChDT05GSUdfUFBDNjQpCi0jaW5jbHVkZSA8YXNtL3N3aXRjaF90by5oPgotI2luY2x1
ZGUgPGFzbS9jcHV0YWJsZS5oPgotI2RlZmluZSBEQ19GUF9TVEFSVCgpIHsgXAotCWlmIChjcHVf
aGFzX2ZlYXR1cmUoQ1BVX0ZUUl9WU1hfQ09NUCkpIHsgXAotCQlwcmVlbXB0X2Rpc2FibGUoKTsg
XAotCQllbmFibGVfa2VybmVsX3ZzeCgpOyBcCi0JfSBlbHNlIGlmIChjcHVfaGFzX2ZlYXR1cmUo
Q1BVX0ZUUl9BTFRJVkVDX0NPTVApKSB7IFwKLQkJcHJlZW1wdF9kaXNhYmxlKCk7IFwKLQkJZW5h
YmxlX2tlcm5lbF9hbHRpdmVjKCk7IFwKLQl9IGVsc2UgaWYgKCFjcHVfaGFzX2ZlYXR1cmUoQ1BV
X0ZUUl9GUFVfVU5BVkFJTEFCTEUpKSB7IFwKLQkJcHJlZW1wdF9kaXNhYmxlKCk7IFwKLQkJZW5h
YmxlX2tlcm5lbF9mcCgpOyBcCi0JfSBcCi19Ci0jZGVmaW5lIERDX0ZQX0VORCgpIHsgXAotCWlm
IChjcHVfaGFzX2ZlYXR1cmUoQ1BVX0ZUUl9WU1hfQ09NUCkpIHsgXAotCQlkaXNhYmxlX2tlcm5l
bF92c3goKTsgXAotCQlwcmVlbXB0X2VuYWJsZSgpOyBcCi0JfSBlbHNlIGlmIChjcHVfaGFzX2Zl
YXR1cmUoQ1BVX0ZUUl9BTFRJVkVDX0NPTVApKSB7IFwKLQkJZGlzYWJsZV9rZXJuZWxfYWx0aXZl
YygpOyBcCi0JCXByZWVtcHRfZW5hYmxlKCk7IFwKLQl9IGVsc2UgaWYgKCFjcHVfaGFzX2ZlYXR1
cmUoQ1BVX0ZUUl9GUFVfVU5BVkFJTEFCTEUpKSB7IFwKLQkJZGlzYWJsZV9rZXJuZWxfZnAoKTsg
XAotCQlwcmVlbXB0X2VuYWJsZSgpOyBcCi0JfSBcCi19Ci0jZW5kaWYKKyNpbmNsdWRlICJhbWRn
cHVfZG0vZGNfZnB1LmgiCisjZGVmaW5lIERDX0ZQX1NUQVJUKCkgZGNfZnB1X2JlZ2luKF9fZnVu
Y19fLCBfX0xJTkVfXykKKyNkZWZpbmUgRENfRlBfRU5EKCkgZGNfZnB1X2VuZChfX2Z1bmNfXywg
X19MSU5FX18pCiAjZW5kaWYKIAogLyoKLS0gCjIuMjUuMQoKX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBs
aXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1h
bi9saXN0aW5mby9hbWQtZ2Z4Cg==
