Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 6FEA74C3DB
	for <lists+amd-gfx@lfdr.de>; Thu, 20 Jun 2019 00:50:06 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 91E096E388;
	Wed, 19 Jun 2019 22:50:04 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM03-BY2-obe.outbound.protection.outlook.com
 (mail-eopbgr780078.outbound.protection.outlook.com [40.107.78.78])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D39AC6E388
 for <amd-gfx@lists.freedesktop.org>; Wed, 19 Jun 2019 22:50:03 +0000 (UTC)
Received: from CH2PR12MB3831.namprd12.prod.outlook.com (52.132.245.141) by
 CH2PR12MB3655.namprd12.prod.outlook.com (10.255.155.213) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1987.11; Wed, 19 Jun 2019 22:50:01 +0000
Received: from CH2PR12MB3831.namprd12.prod.outlook.com
 ([fe80::3459:726f:43e7:a64c]) by CH2PR12MB3831.namprd12.prod.outlook.com
 ([fe80::3459:726f:43e7:a64c%4]) with mapi id 15.20.1987.014; Wed, 19 Jun 2019
 22:50:01 +0000
From: "Kim, Jonathan" <Jonathan.Kim@amd.com>
To: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: [PATCH 1/2] drm/amdgpu: update df_v3_6 for xgmi perfmons
Thread-Topic: [PATCH 1/2] drm/amdgpu: update df_v3_6 for xgmi perfmons
Thread-Index: AQHVJvFUw57Y/VqlBEKvd4ntXoeQCw==
Date: Wed, 19 Jun 2019 22:50:01 +0000
Message-ID: <20190619224943.130022-1-jonathan.kim@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: YTOPR0101CA0034.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:b00:15::47) To CH2PR12MB3831.namprd12.prod.outlook.com
 (2603:10b6:610:29::13)
x-ms-exchange-messagesentrepresentingtype: 1
x-mailer: git-send-email 2.17.1
x-originating-ip: [165.204.55.251]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 8e07f923-e79a-44c3-d47d-08d6f508765e
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:CH2PR12MB3655; 
x-ms-traffictypediagnostic: CH2PR12MB3655:
x-microsoft-antispam-prvs: <CH2PR12MB3655C4AD7911B4A9726975D185E50@CH2PR12MB3655.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:3968;
x-forefront-prvs: 0073BFEF03
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(979002)(396003)(346002)(366004)(376002)(136003)(39860400002)(199004)(189003)(3846002)(2906002)(7736002)(71200400001)(6436002)(53946003)(476003)(256004)(2501003)(66556008)(305945005)(6512007)(186003)(2616005)(25786009)(66476007)(73956011)(66446008)(66946007)(64756008)(6486002)(53936002)(71190400001)(486006)(102836004)(30864003)(316002)(81156014)(386003)(86362001)(99286004)(5640700003)(26005)(2351001)(6506007)(52116002)(4326008)(6916009)(72206003)(8936002)(478600001)(36756003)(1076003)(5660300002)(14454004)(6116002)(50226002)(68736007)(54906003)(66066001)(81166006)(8676002)(579004)(969003)(989001)(999001)(1009001)(1019001);
 DIR:OUT; SFP:1101; SCL:1; SRVR:CH2PR12MB3655;
 H:CH2PR12MB3831.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: ESq3iYvMyCtoviJyc5/RU+g97plWpcEYPv1eA/Rnt4c1jg8+mUw8xIrgPPI5Nh/v2S/rXBY02Gw+xp7R8cDkK+B+WL5cPNujVP32Gyjt+0liC/tEKV+U1OEYgTpNd+FXRoIPwG5PgVc8MaiLVbRlY36X9Bd8V+ytmjM+GihFowpOfAcHdp1ZL4gzHVVNjzMtr2whHxD5GlWf2l8XNMfKxGnv3WrQ+5wYZKwMYmlpHedAPymKsXDbhijjI0BSoIfwlPVtgyJVrkVmEvL6Pm4DfYR2NHrBfrWSUsPwxlC3wujeLnxxDDjVy72r/ErvBEk4f80Z4HdVRhne2TiWx78EdEgT7fKNNHIyAIAWn+m0U6257JmZ0gaam9U7KpGNFDYlbH5CrokVwb/Si4bz6FvlKAi46kZM/Pju25wyPYsktFc=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 8e07f923-e79a-44c3-d47d-08d6f508765e
X-MS-Exchange-CrossTenant-originalarrivaltime: 19 Jun 2019 22:50:01.6971 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: jokim@amd.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: CH2PR12MB3655
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=w3FSuz/T+xrPFWac/CvSFo+6IeMx/e6tr2dgoP+ZfqY=;
 b=isXVgJ53RgaT+v9Ft2s+FSwfodtw42VE8/CYy1G38fadK75z69X1hIN8Jb65XrZu7E2ayKeZ7Gmj98qmG+jsGqdlwxrLsKgqMnqntuXXTx/DYSW1zVRy3JTZSVXhfen/IWMNxNifcTOyt5HWF4bgwZpw5N4qB4DaeIz1otpwMRA=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Jonathan.Kim@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Kim, Jonathan" <Jonathan.Kim@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

djQ6IGZpeGVkIGt6YWxsb2MgZXJyb3IgY2hlY2sgYW5kIG1vZGlmaWVkIGRmIGZ1bmMgaW5pdCB0
byByZXR1cm4gZXJyb3IgY29kZQ0KDQp2MzogZml4ZWQgY2xlYW51cCBieSBhZGRpbmcgZmluaSB0
byBmcmVlIHVwIGFkZXYgZGYgY29uZmlnIGNvdW50ZXJzDQoNCnYyOiBzaW1wbGlmaWVkIGJ5IHJl
bW92aW5nIHhnbWkgcmVmZXJlbmNlcyBpbiBmdW5jdGlvbiBuYW1lcyBhbmQgbW92aW5nIHRvDQpn
ZW5lcmljIGRmIGZ1bmN0aW9uIG5hbWVzLiAgZml4ZWQgaXNzdWUgYnkgcmVtb3ZpbmcgaGFyZGNv
ZGVkIGNha2UgdHggZGF0YQ0KZXZlbnRzLiBzdHJlYW1saW5lZCBlcnJvciBoYW5kbGluZyBieSBo
YXZpbmcgIGRmX3YzXzZfcG1jX2dldF9jdHJsIHJldHVybg0KZXJyb3IgY29kZS4NCg0KYWRkIHBt
dSBhdHRyaWJ1dGUgZ3JvdXBzIGFuZCBzdHJ1Y3R1cmVzIGZvciBwZXJmIGV2ZW50cy4NCmFkZCBz
eXNmcyB0byB0cmFjayBhdmFpbGFibGUgZGYgcGVyZm1vbiBjb3VudGVycw0KZml4IG92ZXJmbG93
IGhhbmRsaW5nIGluIHBlcmZtb24gY291bnRlciByZWFkcy4NCg0KQ2hhbmdlLUlkOiBJNjFmNzMx
YzAwNjZiMTc4MzQ2NTZjNzQ2ZTdlZmUwMzhjNGY2MmFjZg0KU2lnbmVkLW9mZi1ieTogSm9uYXRo
YW4gS2ltIDxKb25hdGhhbi5LaW1AYW1kLmNvbT4NCi0tLQ0KIGRyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2FtZGdwdS5oICB8ICAxOSArLQ0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Rm
X3YxXzcuYyB8ICAgMyArLQ0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2RmX3YzXzYuYyB8
IDQ2NiArKysrKysrKysrKysrLS0tLS0tLS0tLS0tLS0NCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9kZl92M182LmggfCAgMTkgKy0NCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zb2Mx
NS5jICAgfCAgIDggKw0KIDUgZmlsZXMgY2hhbmdlZCwgMjU0IGluc2VydGlvbnMoKyksIDI2MSBk
ZWxldGlvbnMoLSkNCg0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdS5oIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1LmgNCmluZGV4IGQzNTVl
OWEwOWFkMS4uNTc4MGUxNTdmZDcyIDEwMDY0NA0KLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1LmgNCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdS5o
DQpAQCAtNjgxLDcgKzY4MSw4IEBAIHN0cnVjdCBhbWRncHVfbmJpb19mdW5jcyB7DQogfTsNCiAN
CiBzdHJ1Y3QgYW1kZ3B1X2RmX2Z1bmNzIHsNCi0Jdm9pZCAoKmluaXQpKHN0cnVjdCBhbWRncHVf
ZGV2aWNlICphZGV2KTsNCisJaW50ICgqaW5pdCkoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYp
Ow0KKwl2b2lkICgqZmluaSkoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpOw0KIAl2b2lkICgq
ZW5hYmxlX2Jyb2FkY2FzdF9tb2RlKShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCiAJCQkJ
ICAgICAgYm9vbCBlbmFibGUpOw0KIAl1MzIgKCpnZXRfZmJfY2hhbm5lbF9udW1iZXIpKHN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2KTsNCkBAIC05NjIsNiArOTYzLDcgQEAgc3RydWN0IGFtZGdw
dV9kZXZpY2Ugew0KIAlsb25nCQkJCWNvbXB1dGVfdGltZW91dDsNCiANCiAJdWludDY0X3QJCQl1
bmlxdWVfaWQ7DQorCXVpbnQ2NF90CQkJKmRmX3BlcmZtb25fY29uZmlnX2Fzc2lnbl9tYXNrOw0K
IH07DQogDQogc3RhdGljIGlubGluZSBzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYW1kZ3B1X3R0bV9h
ZGV2KHN0cnVjdCB0dG1fYm9fZGV2aWNlICpiZGV2KQ0KQEAgLTEyMDEsNCArMTIwMywxOSBAQCBz
dGF0aWMgaW5saW5lIGludCBhbWRncHVfZG1fZGlzcGxheV9yZXN1bWUoc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYpIHsgcmV0dXJuDQogI2VuZGlmDQogDQogI2luY2x1ZGUgImFtZGdwdV9vYmpl
Y3QuaCINCisNCisvKiB1c2VkIGJ5IGRmX3YzXzYuYyBhbmQgYW1kZ3B1X3BtdS5jICovDQorI2Rl
ZmluZSBBTURHUFVfUE1VX0FUVFIoX25hbWUsIF9vYmplY3QpCQkJCVwNCitzdGF0aWMgc3NpemVf
dAkJCQkJCQkJXA0KK19uYW1lIyNfc2hvdyhzdHJ1Y3QgZGV2aWNlICpkZXYsCQkJCQlcDQorCQkJ
ICAgICAgIHN0cnVjdCBkZXZpY2VfYXR0cmlidXRlICphdHRyLAkJXA0KKwkJCSAgICAgICBjaGFy
ICpwYWdlKQkJCQlcDQorewkJCQkJCQkJCVwNCisJQlVJTERfQlVHX09OKHNpemVvZihfb2JqZWN0
KSA+PSBQQUdFX1NJWkUgLSAxKTsJCQlcDQorCXJldHVybiBzcHJpbnRmKHBhZ2UsIF9vYmplY3Qg
IlxuIik7CQkJCVwNCit9CQkJCQkJCQkJXA0KKwkJCQkJCQkJCVwNCitzdGF0aWMgc3RydWN0IGRl
dmljZV9hdHRyaWJ1dGUgcG11X2F0dHJfIyNfbmFtZSA9IF9fQVRUUl9STyhfbmFtZSkNCisNCiAj
ZW5kaWYNCisNCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9kZl92MV83
LmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9kZl92MV83LmMNCmluZGV4IDk5MzUzNzFk
YjdjZS4uY2M5NjRkNTJkZWU0IDEwMDY0NA0KLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvZGZfdjFfNy5jDQorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9kZl92MV83LmMN
CkBAIC0yOSw4ICsyOSw5IEBADQogDQogc3RhdGljIHUzMiBkZl92MV83X2NoYW5uZWxfbnVtYmVy
W10gPSB7MSwgMiwgMCwgNCwgMCwgOCwgMCwgMTYsIDJ9Ow0KIA0KLXN0YXRpYyB2b2lkIGRmX3Yx
XzdfaW5pdCAoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpDQorc3RhdGljIGludCBkZl92MV83
X2luaXQgKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQ0KIHsNCisJcmV0dXJuIDA7DQogfQ0K
IA0KIHN0YXRpYyB2b2lkIGRmX3YxXzdfZW5hYmxlX2Jyb2FkY2FzdF9tb2RlKHN0cnVjdCBhbWRn
cHVfZGV2aWNlICphZGV2LA0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2RmX3YzXzYuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2RmX3YzXzYuYw0KaW5kZXgg
OGMwOWJmOTk0YWNkLi5jYWU2NmJjNTk5ODYgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9kZl92M182LmMNCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Rm
X3YzXzYuYw0KQEAgLTMwLDggKzMwLDExOCBAQA0KIHN0YXRpYyB1MzIgZGZfdjNfNl9jaGFubmVs
X251bWJlcltdID0gezEsIDIsIDAsIDQsIDAsIDgsIDAsDQogCQkJCSAgICAgICAxNiwgMzIsIDAs
IDAsIDAsIDIsIDQsIDh9Ow0KIA0KLXN0YXRpYyB2b2lkIGRmX3YzXzZfaW5pdChzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldikNCisvKiBpbml0IGRmIGZvcm1hdCBhdHRycyAqLw0KK0FNREdQVV9Q
TVVfQVRUUihldmVudCwJCSJjb25maWc6MC03Iik7DQorQU1ER1BVX1BNVV9BVFRSKGluc3RhbmNl
LAkiY29uZmlnOjgtMTUiKTsNCitBTURHUFVfUE1VX0FUVFIodW1hc2ssCQkiY29uZmlnOjE2LTIz
Iik7DQorDQorLyogZGYgZm9ybWF0IGF0dHJpYnV0ZXMgICovDQorc3RhdGljIHN0cnVjdCBhdHRy
aWJ1dGUgKmRmX3YzXzZfZm9ybWF0X2F0dHJzW10gPSB7DQorCSZwbXVfYXR0cl9ldmVudC5hdHRy
LA0KKwkmcG11X2F0dHJfaW5zdGFuY2UuYXR0ciwNCisJJnBtdV9hdHRyX3VtYXNrLmF0dHIsDQor
CU5VTEwNCit9Ow0KKw0KKy8qIGRmIGZvcm1hdCBhdHRyaWJ1dGUgZ3JvdXAgKi8NCitzdGF0aWMg
c3RydWN0IGF0dHJpYnV0ZV9ncm91cCBkZl92M182X2Zvcm1hdF9hdHRyX2dyb3VwID0gew0KKwku
bmFtZSA9ICJmb3JtYXQiLA0KKwkuYXR0cnMgPSBkZl92M182X2Zvcm1hdF9hdHRycywNCit9Ow0K
Kw0KKy8qIGRmIGV2ZW50IGF0dHJzICovDQorQU1ER1BVX1BNVV9BVFRSKGNha2UwX3Bjc291dF90
eGRhdGEsDQorCQkgICAgICAiZXZlbnQ9MHg3LGluc3RhbmNlPTB4NDYsdW1hc2s9MHgyIik7DQor
QU1ER1BVX1BNVV9BVFRSKGNha2UxX3Bjc291dF90eGRhdGEsDQorCQkgICAgICAiZXZlbnQ9MHg3
LGluc3RhbmNlPTB4NDcsdW1hc2s9MHgyIik7DQorQU1ER1BVX1BNVV9BVFRSKGNha2UwX3Bjc291
dF90eG1ldGEsDQorCQkgICAgICAiZXZlbnQ9MHg3LGluc3RhbmNlPTB4NDYsdW1hc2s9MHg0Iik7
DQorQU1ER1BVX1BNVV9BVFRSKGNha2UxX3Bjc291dF90eG1ldGEsDQorCQkgICAgICAiZXZlbnQ9
MHg3LGluc3RhbmNlPTB4NDcsdW1hc2s9MHg0Iik7DQorQU1ER1BVX1BNVV9BVFRSKGNha2UwX2Z0
aWluc3RhdF9yZXFhbGxvYywNCisJCSAgICAgICJldmVudD0weGIsaW5zdGFuY2U9MHg0Nix1bWFz
az0weDQiKTsNCitBTURHUFVfUE1VX0FUVFIoY2FrZTFfZnRpaW5zdGF0X3JlcWFsbG9jLA0KKwkJ
ICAgICAgImV2ZW50PTB4YixpbnN0YW5jZT0weDQ3LHVtYXNrPTB4NCIpOw0KK0FNREdQVV9QTVVf
QVRUUihjYWtlMF9mdGlpbnN0YXRfcnNwYWxsb2MsDQorCQkgICAgICAiZXZlbnQ9MHhiLGluc3Rh
bmNlPTB4NDYsdW1hc2s9MHg4Iik7DQorQU1ER1BVX1BNVV9BVFRSKGNha2UxX2Z0aWluc3RhdF9y
c3BhbGxvYywNCisJCSAgICAgICJldmVudD0weGIsaW5zdGFuY2U9MHg0Nyx1bWFzaz0weDgiKTsN
CisNCisvKiBkZiBldmVudCBhdHRyaWJ1dGVzICAqLw0KK3N0YXRpYyBzdHJ1Y3QgYXR0cmlidXRl
ICpkZl92M182X2V2ZW50X2F0dHJzW10gPSB7DQorCSZwbXVfYXR0cl9jYWtlMF9wY3NvdXRfdHhk
YXRhLmF0dHIsDQorCSZwbXVfYXR0cl9jYWtlMV9wY3NvdXRfdHhkYXRhLmF0dHIsDQorCSZwbXVf
YXR0cl9jYWtlMF9wY3NvdXRfdHhtZXRhLmF0dHIsDQorCSZwbXVfYXR0cl9jYWtlMV9wY3NvdXRf
dHhtZXRhLmF0dHIsDQorCSZwbXVfYXR0cl9jYWtlMF9mdGlpbnN0YXRfcmVxYWxsb2MuYXR0ciwN
CisJJnBtdV9hdHRyX2Nha2UxX2Z0aWluc3RhdF9yZXFhbGxvYy5hdHRyLA0KKwkmcG11X2F0dHJf
Y2FrZTBfZnRpaW5zdGF0X3JzcGFsbG9jLmF0dHIsDQorCSZwbXVfYXR0cl9jYWtlMV9mdGlpbnN0
YXRfcnNwYWxsb2MuYXR0ciwNCisJTlVMTA0KK307DQorDQorLyogZGYgZXZlbnQgYXR0cmlidXRl
IGdyb3VwICovDQorc3RhdGljIHN0cnVjdCBhdHRyaWJ1dGVfZ3JvdXAgZGZfdjNfNl9ldmVudF9h
dHRyX2dyb3VwID0gew0KKwkubmFtZSA9ICJldmVudHMiLA0KKwkuYXR0cnMgPSBkZl92M182X2V2
ZW50X2F0dHJzDQorfTsNCisNCisvKiBkZiBldmVudCBhdHRyIGdyb3VwcyAgKi8NCitjb25zdCBz
dHJ1Y3QgYXR0cmlidXRlX2dyb3VwICpkZl92M182X2F0dHJfZ3JvdXBzW10gPSB7DQorCQkmZGZf
djNfNl9mb3JtYXRfYXR0cl9ncm91cCwNCisJCSZkZl92M182X2V2ZW50X2F0dHJfZ3JvdXAsDQor
CQlOVUxMDQorfTsNCisNCisvKiBnZXQgdGhlIG51bWJlciBvZiBkZiBjb3VudGVycyBhdmFpbGFi
bGUgKi8NCitzdGF0aWMgc3NpemVfdCBkZl92M182X2dldF9kZl9jbnRyX2F2YWlsKHN0cnVjdCBk
ZXZpY2UgKmRldiwNCisJCXN0cnVjdCBkZXZpY2VfYXR0cmlidXRlICphdHRyLA0KKwkJY2hhciAq
YnVmKQ0KK3sNCisJc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXY7DQorCXN0cnVjdCBkcm1fZGV2
aWNlICpkZGV2Ow0KKwlpbnQgaSwgY291bnQ7DQorDQorCWRkZXYgPSBkZXZfZ2V0X2RydmRhdGEo
ZGV2KTsNCisJYWRldiA9IGRkZXYtPmRldl9wcml2YXRlOw0KKwljb3VudCA9IDA7DQorDQorCWZv
ciAoaSA9IDA7IGkgPCBERl9WM182X01BWF9DT1VOVEVSUzsgaSsrKSB7DQorCQlpZiAoYWRldi0+
ZGZfcGVyZm1vbl9jb25maWdfYXNzaWduX21hc2tbaV0gPT0gMCkNCisJCQljb3VudCsrOw0KKwl9
DQorDQorCXJldHVybiBzbnByaW50ZihidWYsIFBBR0VfU0laRSwJIiVpXG4iLCBjb3VudCk7DQor
fQ0KKw0KKy8qIGRldmljZSBhdHRyIGZvciBhdmFpbGFibGUgcGVyZm1vbiBjb3VudGVycyAqLw0K
K3N0YXRpYyBERVZJQ0VfQVRUUihkZl9jbnRyX2F2YWlsLCBTX0lSVUdPLCBkZl92M182X2dldF9k
Zl9jbnRyX2F2YWlsLCBOVUxMKTsNCisNCisvKiBpbml0IHBlcmZtb25zICovDQorc3RhdGljIGlu
dCBkZl92M182X2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpDQorew0KKwlpbnQgaSwg
cmV0Ow0KKw0KKwlyZXQgPSBkZXZpY2VfY3JlYXRlX2ZpbGUoYWRldi0+ZGV2LCAmZGV2X2F0dHJf
ZGZfY250cl9hdmFpbCk7DQorCWlmIChyZXQpDQorCQlEUk1fRVJST1IoImZhaWxlZCB0byBjcmVh
dGUgZmlsZSBmb3IgYXZhaWxhYmxlIGRmIGNvdW50ZXJzXG4iKTsNCisNCisJYWRldi0+ZGZfcGVy
Zm1vbl9jb25maWdfYXNzaWduX21hc2sgPQ0KKwkJa3phbGxvYyhzaXplb2YodWludDY0X3QpICog
REZfVjNfNl9NQVhfQ09VTlRFUlMsIEdGUF9LRVJORUwpOw0KKw0KKwlpZiAoIWFkZXYtPmRmX3Bl
cmZtb25fY29uZmlnX2Fzc2lnbl9tYXNrKQ0KKwkJcmV0dXJuIC1FTk9NRU07DQorDQorCWZvciAo
aSA9IDA7IGkgPCBERl9WM182X01BWF9DT1VOVEVSUzsgaSsrKQ0KKwkJYWRldi0+ZGZfcGVyZm1v
bl9jb25maWdfYXNzaWduX21hc2tbaV0gPSAwOw0KKw0KKwlyZXR1cm4gMDsNCit9DQorDQorc3Rh
dGljIHZvaWQgZGZfdjNfNl9maW5pKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQ0KIHsNCisJ
a2ZyZWUoYWRldi0+ZGZfcGVyZm1vbl9jb25maWdfYXNzaWduX21hc2spOw0KKwlhZGV2LT5kZl9w
ZXJmbW9uX2NvbmZpZ19hc3NpZ25fbWFzayA9IE5VTEw7DQogfQ0KIA0KIHN0YXRpYyB2b2lkIGRm
X3YzXzZfZW5hYmxlX2Jyb2FkY2FzdF9tb2RlKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0K
QEAgLTEwNSwyOCArMjE1LDE5IEBAIHN0YXRpYyB2b2lkIGRmX3YzXzZfZ2V0X2Nsb2NrZ2F0aW5n
X3N0YXRlKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KIAkJKmZsYWdzIHw9IEFNRF9DR19T
VVBQT1JUX0RGX01HQ0c7DQogfQ0KIA0KLS8qIGhvbGQgY291bnRlciBhc3NpZ25tZW50IHBlciBn
cHUgc3RydWN0ICovDQotc3RydWN0IGRmX3YzXzZfZXZlbnRfbWFzayB7DQotCQlzdHJ1Y3QgYW1k
Z3B1X2RldmljZSBncHU7DQotCQl1aW50NjRfdCBjb25maWdfYXNzaWduX21hc2tbQU1ER1BVX0RG
X01BWF9DT1VOVEVSU107DQotfTsNCi0NCiAvKiBnZXQgYXNzaWduZWQgZGYgcGVyZm1vbiBjdHIg
YXMgaW50ICovDQotc3RhdGljIHZvaWQgZGZfdjNfNl9wbWNfY29uZmlnXzJfY250cihzdHJ1Y3Qg
YW1kZ3B1X2RldmljZSAqYWRldiwNCi0JCQkJICAgICAgdWludDY0X3QgY29uZmlnLA0KLQkJCQkg
ICAgICBpbnQgKmNvdW50ZXIpDQorc3RhdGljIGludCBkZl92M182X3BtY19jb25maWdfMl9jbnRy
KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KKwkJCQkgICAgICB1aW50NjRfdCBjb25maWcp
DQogew0KLQlzdHJ1Y3QgZGZfdjNfNl9ldmVudF9tYXNrICptYXNrOw0KIAlpbnQgaTsNCiANCi0J
bWFzayA9IGNvbnRhaW5lcl9vZihhZGV2LCBzdHJ1Y3QgZGZfdjNfNl9ldmVudF9tYXNrLCBncHUp
Ow0KLQ0KLQlmb3IgKGkgPSAwOyBpIDwgQU1ER1BVX0RGX01BWF9DT1VOVEVSUzsgaSsrKSB7DQot
CQlpZiAoKGNvbmZpZyAmIDB4MEZGRkZGRlVMKSA9PSBtYXNrLT5jb25maWdfYXNzaWduX21hc2tb
aV0pIHsNCi0JCQkqY291bnRlciA9IGk7DQotCQkJcmV0dXJuOw0KLQkJfQ0KKwlmb3IgKGkgPSAw
OyBpIDwgREZfVjNfNl9NQVhfQ09VTlRFUlM7IGkrKykgew0KKwkJaWYgKChjb25maWcgJiAweDBG
RkZGRkZVTCkgPT0NCisJCQkJCWFkZXYtPmRmX3BlcmZtb25fY29uZmlnX2Fzc2lnbl9tYXNrW2ld
KQ0KKwkJCXJldHVybiBpOw0KIAl9DQorDQorCXJldHVybiAtRUlOVkFMOw0KIH0NCiANCiAvKiBn
ZXQgYWRkcmVzcyBiYXNlZCBvbiBjb3VudGVyIGFzc2lnbm1lbnQgKi8NCkBAIC0xMzYsMTAgKzIz
Nyw3IEBAIHN0YXRpYyB2b2lkIGRmX3YzXzZfcG1jX2dldF9hZGRyKHN0cnVjdCBhbWRncHVfZGV2
aWNlICphZGV2LA0KIAkJCQkgdWludDMyX3QgKmxvX2Jhc2VfYWRkciwNCiAJCQkJIHVpbnQzMl90
ICpoaV9iYXNlX2FkZHIpDQogew0KLQ0KLQlpbnQgdGFyZ2V0X2NudHIgPSAtMTsNCi0NCi0JZGZf
djNfNl9wbWNfY29uZmlnXzJfY250cihhZGV2LCBjb25maWcsICZ0YXJnZXRfY250cik7DQorCWlu
dCB0YXJnZXRfY250ciA9IGRmX3YzXzZfcG1jX2NvbmZpZ18yX2NudHIoYWRldiwgY29uZmlnKTsN
CiANCiAJaWYgKHRhcmdldF9jbnRyIDwgMCkNCiAJCXJldHVybjsNCkBAIC0xNzcsNDAgKzI3NSwz
OCBAQCBzdGF0aWMgdm9pZCBkZl92M182X3BtY19nZXRfcmVhZF9zZXR0aW5ncyhzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldiwNCiB9DQogDQogLyogZ2V0IGNvbnRyb2wgY291bnRlciBzZXR0aW5n
cyBpLmUuIGFkZHJlc3MgYW5kIHZhbHVlcyB0byBzZXQgKi8NCi1zdGF0aWMgdm9pZCBkZl92M182
X3BtY19nZXRfY3RybF9zZXR0aW5ncyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCitzdGF0
aWMgaW50IGRmX3YzXzZfcG1jX2dldF9jdHJsX3NldHRpbmdzKHN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2LA0KIAkJCQkJICB1aW50NjRfdCBjb25maWcsDQogCQkJCQkgIHVpbnQzMl90ICpsb19i
YXNlX2FkZHIsDQogCQkJCQkgIHVpbnQzMl90ICpoaV9iYXNlX2FkZHIsDQogCQkJCQkgIHVpbnQz
Ml90ICpsb192YWwsDQogCQkJCQkgIHVpbnQzMl90ICpoaV92YWwpDQogew0KLQ0KLQl1aW50MzJf
dCBldmVudHNlbCwgaW5zdGFuY2UsIHVuaXRtYXNrOw0KLQl1aW50MzJfdCBlc181XzAsIGVzXzEz
XzAsIGVzXzEzXzYsIGVzXzEzXzEyLCBlc18xMV84LCBlc183XzA7DQotDQogCWRmX3YzXzZfcG1j
X2dldF9hZGRyKGFkZXYsIGNvbmZpZywgMSwgbG9fYmFzZV9hZGRyLCBoaV9iYXNlX2FkZHIpOw0K
IA0KLQlpZiAobG9fdmFsID09IE5VTEwgfHwgaGlfdmFsID09IE5VTEwpDQotCQlyZXR1cm47DQot
DQogCWlmICgoKmxvX2Jhc2VfYWRkciA9PSAwKSB8fCAoKmhpX2Jhc2VfYWRkciA9PSAwKSkgew0K
LQkJRFJNX0VSUk9SKCJERiBQTUMgYWRkcmVzc2luZyBub3QgcmV0cmlldmVkISBMbzogJXgsIEhp
OiAleCIsDQorCQlEUk1fRVJST1IoIltERiBQTUNdIGFkZHJlc3Npbmcgbm90IHJldHJpZXZlZCEg
TG86ICV4LCBIaTogJXgiLA0KIAkJCQkqbG9fYmFzZV9hZGRyLCAqaGlfYmFzZV9hZGRyKTsNCi0J
CXJldHVybjsNCisJCXJldHVybiAtRU5YSU87DQogCX0NCiANCi0JZXZlbnRzZWwgPSBHRVRfRVZF
TlQoY29uZmlnKTsNCi0JaW5zdGFuY2UgPSBHRVRfSU5TVEFOQ0UoY29uZmlnKTsNCi0JdW5pdG1h
c2sgPSBHRVRfVU5JVE1BU0soY29uZmlnKTsNCi0NCi0JZXNfNV8wID0gZXZlbnRzZWwgJiAweDNG
VUw7DQotCWVzXzEzXzYgPSBpbnN0YW5jZTsNCi0JZXNfMTNfMCA9IChlc18xM182IDw8IDYpICsg
ZXNfNV8wOw0KLQllc18xM18xMiA9IChlc18xM18wICYgMHgwMzAwMFVMKSA+PiAxMjsNCi0JZXNf
MTFfOCA9IChlc18xM18wICYgMHgwRjAwVUwpID4+IDg7DQotCWVzXzdfMCA9IGVzXzEzXzAgJiAw
eDBGRlVMOw0KLQkqbG9fdmFsID0gKGVzXzdfMCAmIDB4RkZVTCkgfCAoKHVuaXRtYXNrICYgMHgw
RlVMKSA8PCA4KTsNCi0JKmhpX3ZhbCA9IChlc18xMV84IHwgKChlc18xM18xMik8PCgyOSkpKTsN
CisJaWYgKGxvX3ZhbCAmJiBoaV92YWwpIHsNCisJCXVpbnQzMl90IGV2ZW50c2VsLCBpbnN0YW5j
ZSwgdW5pdG1hc2s7DQorCQl1aW50MzJfdCBpbnN0YW5jZV8xMCwgaW5zdGFuY2VfNTQzMiwgaW5z
dGFuY2VfNzY7DQorDQorCQlldmVudHNlbCA9IERGX1YzXzZfR0VUX0VWRU5UKGNvbmZpZykgJiAw
eDNmOw0KKwkJdW5pdG1hc2sgPSBERl9WM182X0dFVF9VTklUTUFTSyhjb25maWcpICYgMHhmOw0K
KwkJaW5zdGFuY2UgPSBERl9WM182X0dFVF9JTlNUQU5DRShjb25maWcpOw0KKw0KKwkJaW5zdGFu
Y2VfMTAgPSBpbnN0YW5jZSAmIDB4MzsNCisJCWluc3RhbmNlXzU0MzIgPSAoaW5zdGFuY2UgPj4g
MikgJiAweGY7DQorCQlpbnN0YW5jZV83NiA9IChpbnN0YW5jZSA+PiA2KSAmIDB4MzsNCisNCisJ
CSpsb192YWwgPSAodW5pdG1hc2sgPDwgOCkgfCAoaW5zdGFuY2VfMTAgPDwgNikgfCBldmVudHNl
bDsNCisJCSpoaV92YWwgPSAoaW5zdGFuY2VfNzYgPDwgMjkpIHwgaW5zdGFuY2VfNTQzMjsNCisJ
fQ0KKw0KKwlyZXR1cm4gMDsNCiB9DQogDQogLyogYXNzaWduIGRmIHBlcmZvcm1hbmNlIGNvdW50
ZXJzIGZvciByZWFkICovDQpAQCAtMjE4LDI2ICszMTQsMjEgQEAgc3RhdGljIGludCBkZl92M182
X3BtY19hc3NpZ25fY250cihzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCiAJCQkJICAgdWlu
dDY0X3QgY29uZmlnLA0KIAkJCQkgICBpbnQgKmlzX2Fzc2lnbmVkKQ0KIHsNCi0NCi0Jc3RydWN0
IGRmX3YzXzZfZXZlbnRfbWFzayAqbWFzazsNCiAJaW50IGksIHRhcmdldF9jbnRyOw0KIA0KLQl0
YXJnZXRfY250ciA9IC0xOw0KLQ0KIAkqaXNfYXNzaWduZWQgPSAwOw0KIA0KLQlkZl92M182X3Bt
Y19jb25maWdfMl9jbnRyKGFkZXYsIGNvbmZpZywgJnRhcmdldF9jbnRyKTsNCisJdGFyZ2V0X2Nu
dHIgPSBkZl92M182X3BtY19jb25maWdfMl9jbnRyKGFkZXYsIGNvbmZpZyk7DQogDQogCWlmICh0
YXJnZXRfY250ciA+PSAwKSB7DQogCQkqaXNfYXNzaWduZWQgPSAxOw0KIAkJcmV0dXJuIDA7DQog
CX0NCiANCi0JbWFzayA9IGNvbnRhaW5lcl9vZihhZGV2LCBzdHJ1Y3QgZGZfdjNfNl9ldmVudF9t
YXNrLCBncHUpOw0KLQ0KLQlmb3IgKGkgPSAwOyBpIDwgQU1ER1BVX0RGX01BWF9DT1VOVEVSUzsg
aSsrKSB7DQotCQlpZiAobWFzay0+Y29uZmlnX2Fzc2lnbl9tYXNrW2ldID09IDBVTEwpIHsNCi0J
CQltYXNrLT5jb25maWdfYXNzaWduX21hc2tbaV0gPSBjb25maWcgJiAweDBGRkZGRkZVTDsNCisJ
Zm9yIChpID0gMDsgaSA8IERGX1YzXzZfTUFYX0NPVU5URVJTOyBpKyspIHsNCisJCWlmIChhZGV2
LT5kZl9wZXJmbW9uX2NvbmZpZ19hc3NpZ25fbWFza1tpXSA9PSAwVSkgew0KKwkJCWFkZXYtPmRm
X3BlcmZtb25fY29uZmlnX2Fzc2lnbl9tYXNrW2ldID0NCisJCQkJCQkJY29uZmlnICYgMHgwRkZG
RkZGVUw7DQogCQkJcmV0dXJuIDA7DQogCQl9DQogCX0NCkBAIC0yNDksNjYgKzM0MCwxNyBAQCBz
dGF0aWMgaW50IGRmX3YzXzZfcG1jX2Fzc2lnbl9jbnRyKHN0cnVjdCBhbWRncHVfZGV2aWNlICph
ZGV2LA0KIHN0YXRpYyB2b2lkIGRmX3YzXzZfcG1jX3JlbGVhc2VfY250cihzdHJ1Y3QgYW1kZ3B1
X2RldmljZSAqYWRldiwNCiAJCQkJICAgICB1aW50NjRfdCBjb25maWcpDQogew0KLQ0KLQlzdHJ1
Y3QgZGZfdjNfNl9ldmVudF9tYXNrICptYXNrOw0KLQlpbnQgdGFyZ2V0X2NudHI7DQotDQotCXRh
cmdldF9jbnRyID0gLTE7DQotDQotCWRmX3YzXzZfcG1jX2NvbmZpZ18yX2NudHIoYWRldiwgY29u
ZmlnLCAmdGFyZ2V0X2NudHIpOw0KLQ0KLQltYXNrID0gY29udGFpbmVyX29mKGFkZXYsIHN0cnVj
dCBkZl92M182X2V2ZW50X21hc2ssIGdwdSk7DQorCWludCB0YXJnZXRfY250ciA9IGRmX3YzXzZf
cG1jX2NvbmZpZ18yX2NudHIoYWRldiwgY29uZmlnKTsNCiANCiAJaWYgKHRhcmdldF9jbnRyID49
IDApDQotCQltYXNrLT5jb25maWdfYXNzaWduX21hc2tbdGFyZ2V0X2NudHJdID0gMFVMTDsNCi0N
CisJCWFkZXYtPmRmX3BlcmZtb25fY29uZmlnX2Fzc2lnbl9tYXNrW3RhcmdldF9jbnRyXSA9IDBV
TEw7DQogfQ0KIA0KLS8qDQotICogZ2V0IHhnbWkgbGluayBjb3VudGVycyB2aWEgcHJvZ3JhbW1h
YmxlIGRhdGEgZmFicmljIChkZikgY291bnRlcnMgKG1heCA0KQ0KLSAqIHVzaW5nIGNha2UgdHgg
ZXZlbnQuDQotICoNCi0gKiBAYWRldiAtPiBhbWRncHUgZGV2aWNlDQotICogQGluc3RhbmNlLT4g
Y3VycmVudGx5IGNha2UgaGFzIDIgbGlua3MgdG8gcG9sbCBvbiB2ZWdhMjANCi0gKiBAY291bnQg
LT4gY291bnRlcnMgdG8gcGFzcw0KLSAqDQotICovDQogDQotc3RhdGljIHZvaWQgZGZfdjNfNl9n
ZXRfeGdtaV9saW5rX2NudHIoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQotCQkJCSAgICAg
ICBpbnQgaW5zdGFuY2UsDQotCQkJCSAgICAgICB1aW50NjRfdCAqY291bnQpDQotew0KLQl1aW50
MzJfdCBsb19iYXNlX2FkZHIsIGhpX2Jhc2VfYWRkciwgbG9fdmFsLCBoaV92YWw7DQotCXVpbnQ2
NF90IGNvbmZpZzsNCi0NCi0JY29uZmlnID0gR0VUX0lOU1RBTkNFX0NPTkZJRyhpbnN0YW5jZSk7
DQotDQotCWRmX3YzXzZfcG1jX2dldF9yZWFkX3NldHRpbmdzKGFkZXYsIGNvbmZpZywgJmxvX2Jh
c2VfYWRkciwNCi0JCQkJICAgICAgJmhpX2Jhc2VfYWRkcik7DQotDQotCWlmICgobG9fYmFzZV9h
ZGRyID09IDApIHx8IChoaV9iYXNlX2FkZHIgPT0gMCkpDQotCQlyZXR1cm47DQotDQotCWxvX3Zh
bCA9IFJSRUczMl9QQ0lFKGxvX2Jhc2VfYWRkcik7DQotCWhpX3ZhbCA9IFJSRUczMl9QQ0lFKGhp
X2Jhc2VfYWRkcik7DQotDQotCSpjb3VudCAgPSAoKGhpX3ZhbCB8IDBVTEwpIDw8IDMyKSB8IChs
b192YWwgfCAwVUxMKTsNCi19DQotDQotLyoNCi0gKiByZXNldCB4Z21pIGxpbmsgY291bnRlcnMN
Ci0gKg0KLSAqIEBhZGV2IC0+IGFtZGdwdSBkZXZpY2UNCi0gKiBAaW5zdGFuY2UtPiBjdXJyZW50
bHkgY2FrZSBoYXMgMiBsaW5rcyB0byBwb2xsIG9uIHZlZ2EyMA0KLSAqDQotICovDQotc3RhdGlj
IHZvaWQgZGZfdjNfNl9yZXNldF94Z21pX2xpbmtfY250cihzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldiwNCi0JCQkJCSBpbnQgaW5zdGFuY2UpDQorc3RhdGljIHZvaWQgZGZfdjNfNl9yZXNldF9w
ZXJmbW9uX2NudHIoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQorCQkJCQkgdWludDY0X3Qg
Y29uZmlnKQ0KIHsNCiAJdWludDMyX3QgbG9fYmFzZV9hZGRyLCBoaV9iYXNlX2FkZHI7DQotCXVp
bnQ2NF90IGNvbmZpZzsNCi0NCi0JY29uZmlnID0gMFVMTCB8ICgweDdVTEwpIHwgKCgweDQ2VUxM
ICsgaW5zdGFuY2UpIDw8IDgpIHwgKDB4MiA8PCAxNik7DQogDQogCWRmX3YzXzZfcG1jX2dldF9y
ZWFkX3NldHRpbmdzKGFkZXYsIGNvbmZpZywgJmxvX2Jhc2VfYWRkciwNCiAJCQkJICAgICAgJmhp
X2Jhc2VfYWRkcik7DQpAQCAtMzIwLDE4NSArMzYyLDEwNiBAQCBzdGF0aWMgdm9pZCBkZl92M182
X3Jlc2V0X3hnbWlfbGlua19jbnRyKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KIAlXUkVH
MzJfUENJRShoaV9iYXNlX2FkZHIsIDBVTCk7DQogfQ0KIA0KLS8qDQotICogYWRkIHhnbWkgbGlu
ayBjb3VudGVycw0KLSAqDQotICogQGFkZXYgLT4gYW1kZ3B1IGRldmljZQ0KLSAqIEBpbnN0YW5j
ZS0+IGN1cnJlbnRseSBjYWtlIGhhcyAyIGxpbmtzIHRvIHBvbGwgb24gdmVnYTIwDQotICoNCi0g
Ki8NCiANCi1zdGF0aWMgaW50IGRmX3YzXzZfYWRkX3hnbWlfbGlua19jbnRyKHN0cnVjdCBhbWRn
cHVfZGV2aWNlICphZGV2LA0KLQkJCQkgICAgICBpbnQgaW5zdGFuY2UpDQorc3RhdGljIGludCBk
Zl92M182X2FkZF9wZXJmbW9uX2NudHIoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQorCQkJ
CSAgICAgIHVpbnQ2NF90IGNvbmZpZykNCiB7DQogCXVpbnQzMl90IGxvX2Jhc2VfYWRkciwgaGlf
YmFzZV9hZGRyLCBsb192YWwsIGhpX3ZhbDsNCi0JdWludDY0X3QgY29uZmlnOw0KIAlpbnQgcmV0
LCBpc19hc3NpZ25lZDsNCiANCi0JaWYgKGluc3RhbmNlIDwgMCB8fCBpbnN0YW5jZSA+IDEpDQot
CQlyZXR1cm4gLUVJTlZBTDsNCi0NCi0JY29uZmlnID0gR0VUX0lOU1RBTkNFX0NPTkZJRyhpbnN0
YW5jZSk7DQotDQogCXJldCA9IGRmX3YzXzZfcG1jX2Fzc2lnbl9jbnRyKGFkZXYsIGNvbmZpZywg
JmlzX2Fzc2lnbmVkKTsNCiANCiAJaWYgKHJldCB8fCBpc19hc3NpZ25lZCkNCiAJCXJldHVybiBy
ZXQ7DQogDQotCWRmX3YzXzZfcG1jX2dldF9jdHJsX3NldHRpbmdzKGFkZXYsDQorCXJldCA9IGRm
X3YzXzZfcG1jX2dldF9jdHJsX3NldHRpbmdzKGFkZXYsDQogCQkJY29uZmlnLA0KIAkJCSZsb19i
YXNlX2FkZHIsDQogCQkJJmhpX2Jhc2VfYWRkciwNCiAJCQkmbG9fdmFsLA0KIAkJCSZoaV92YWwp
Ow0KIA0KKwlpZiAocmV0KQ0KKwkJcmV0dXJuIHJldDsNCisNCisJRFJNX0RFQlVHX0RSSVZFUigi
Y29uZmlnPSVsbHggYWRkcj0lMDh4OiUwOHggdmFsPSUwOHg6JTA4eCIsDQorCQkJY29uZmlnLCBs
b19iYXNlX2FkZHIsIGhpX2Jhc2VfYWRkciwgbG9fdmFsLCBoaV92YWwpOw0KKw0KIAlXUkVHMzJf
UENJRShsb19iYXNlX2FkZHIsIGxvX3ZhbCk7DQogCVdSRUczMl9QQ0lFKGhpX2Jhc2VfYWRkciwg
aGlfdmFsKTsNCiANCiAJcmV0dXJuIHJldDsNCiB9DQogDQotDQotLyoNCi0gKiBzdGFydCB4Z21p
IGxpbmsgY291bnRlcnMNCi0gKg0KLSAqIEBhZGV2IC0+IGFtZGdwdSBkZXZpY2UNCi0gKiBAaW5z
dGFuY2UtPiBjdXJyZW50bHkgY2FrZSBoYXMgMiBsaW5rcyB0byBwb2xsIG9uIHZlZ2EyMA0KLSAq
IEBpc19lbmFibGUgLT4gZWl0aGVyIHJlc3VtZSBvciBhc3NpZ24gZXZlbnQgdmlhIGRmIHBlcmZt
b24NCi0gKg0KLSAqLw0KLQ0KLXN0YXRpYyBpbnQgZGZfdjNfNl9zdGFydF94Z21pX2xpbmtfY250
cihzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCi0JCQkJCWludCBpbnN0YW5jZSwNCi0JCQkJ
CWludCBpc19lbmFibGUpDQorc3RhdGljIGludCBkZl92M182X3BtY19zdGFydChzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldiwgdWludDY0X3QgY29uZmlnLA0KKwkJCSAgICAgaW50IGlzX2VuYWJs
ZSkNCiB7DQogCXVpbnQzMl90IGxvX2Jhc2VfYWRkciwgaGlfYmFzZV9hZGRyLCBsb192YWw7DQot
CXVpbnQ2NF90IGNvbmZpZzsNCi0JaW50IHJldDsNCi0NCi0JaWYgKGluc3RhbmNlIDwgMCB8fCBp
bnN0YW5jZSA+IDEpDQotCQlyZXR1cm4gLUVJTlZBTDsNCisJaW50IHJldCA9IDA7DQogDQotCWlm
IChpc19lbmFibGUpIHsNCi0NCi0JCXJldCA9IGRmX3YzXzZfYWRkX3hnbWlfbGlua19jbnRyKGFk
ZXYsIGluc3RhbmNlKTsNCi0NCi0JCWlmIChyZXQpDQotCQkJcmV0dXJuIHJldDsNCisJc3dpdGNo
IChhZGV2LT5hc2ljX3R5cGUpIHsNCisJY2FzZSBDSElQX1ZFR0EyMDoNCiANCi0JfSBlbHNlIHsN
CisJCWRmX3YzXzZfcmVzZXRfcGVyZm1vbl9jbnRyKGFkZXYsIGNvbmZpZyk7DQogDQotCQljb25m
aWcgPSBHRVRfSU5TVEFOQ0VfQ09ORklHKGluc3RhbmNlKTsNCisJCWlmIChpc19lbmFibGUpIHsN
CisJCQlyZXQgPSBkZl92M182X2FkZF9wZXJmbW9uX2NudHIoYWRldiwgY29uZmlnKTsNCisJCX0g
ZWxzZSB7DQorCQkJcmV0ID0gZGZfdjNfNl9wbWNfZ2V0X2N0cmxfc2V0dGluZ3MoYWRldiwNCisJ
CQkJCWNvbmZpZywNCisJCQkJCSZsb19iYXNlX2FkZHIsDQorCQkJCQkmaGlfYmFzZV9hZGRyLA0K
KwkJCQkJTlVMTCwNCisJCQkJCU5VTEwpOw0KIA0KLQkJZGZfdjNfNl9wbWNfZ2V0X2N0cmxfc2V0
dGluZ3MoYWRldiwNCi0JCQkJY29uZmlnLA0KLQkJCQkmbG9fYmFzZV9hZGRyLA0KLQkJCQkmaGlf
YmFzZV9hZGRyLA0KLQkJCQlOVUxMLA0KLQkJCQlOVUxMKTsNCisJCQlpZiAocmV0KQ0KKwkJCQly
ZXR1cm4gcmV0Ow0KIA0KLQkJaWYgKGxvX2Jhc2VfYWRkciA9PSAwKQ0KLQkJCXJldHVybiAtRUlO
VkFMOw0KKwkJCWxvX3ZhbCA9IFJSRUczMl9QQ0lFKGxvX2Jhc2VfYWRkcik7DQogDQotCQlsb192
YWwgPSBSUkVHMzJfUENJRShsb19iYXNlX2FkZHIpOw0KKwkJCURSTV9ERUJVR19EUklWRVIoImNv
bmZpZz0lbGx4IGFkZHI9JTA4eDolMDh4IHZhbD0lMDh4IiwNCisJCQkJY29uZmlnLCBsb19iYXNl
X2FkZHIsIGhpX2Jhc2VfYWRkciwgbG9fdmFsKTsNCiANCi0JCVdSRUczMl9QQ0lFKGxvX2Jhc2Vf
YWRkciwgbG9fdmFsIHwgKDFVTEwgPDwgMjIpKTsNCisJCQlXUkVHMzJfUENJRShsb19iYXNlX2Fk
ZHIsIGxvX3ZhbCB8ICgxVUxMIDw8IDIyKSk7DQorCQl9DQogDQotCQlyZXQgPSAwOw0KKwkJYnJl
YWs7DQorCWRlZmF1bHQ6DQorCQlicmVhazsNCiAJfQ0KIA0KIAlyZXR1cm4gcmV0Ow0KLQ0KIH0N
CiANCi0vKg0KLSAqIHN0YXJ0IHhnbWkgbGluayBjb3VudGVycw0KLSAqDQotICogQGFkZXYgLT4g
YW1kZ3B1IGRldmljZQ0KLSAqIEBpbnN0YW5jZS0+IGN1cnJlbnRseSBjYWtlIGhhcyAyIGxpbmtz
IHRvIHBvbGwgb24gdmVnYTIwDQotICogQGlzX2VuYWJsZSAtPiBlaXRoZXIgcGF1c2Ugb3IgdW5h
c3NpZ24gZXZlbnQgdmlhIGRmIHBlcmZtb24NCi0gKg0KLSAqLw0KLQ0KLXN0YXRpYyBpbnQgZGZf
djNfNl9zdG9wX3hnbWlfbGlua19jbnRyKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KLQkJ
CQkgICAgICAgaW50IGluc3RhbmNlLA0KLQkJCQkgICAgICAgaW50IGlzX2Rpc2FibGUpDQorc3Rh
dGljIGludCBkZl92M182X3BtY19zdG9wKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCB1aW50
NjRfdCBjb25maWcsDQorCQkJICAgIGludCBpc19kaXNhYmxlKQ0KIHsNCi0NCiAJdWludDMyX3Qg
bG9fYmFzZV9hZGRyLCBoaV9iYXNlX2FkZHIsIGxvX3ZhbDsNCi0JdWludDY0X3QgY29uZmlnOw0K
LQ0KLQljb25maWcgPSBHRVRfSU5TVEFOQ0VfQ09ORklHKGluc3RhbmNlKTsNCi0NCi0JaWYgKGlz
X2Rpc2FibGUpIHsNCi0JCWRmX3YzXzZfcmVzZXRfeGdtaV9saW5rX2NudHIoYWRldiwgaW5zdGFu
Y2UpOw0KLQkJZGZfdjNfNl9wbWNfcmVsZWFzZV9jbnRyKGFkZXYsIGNvbmZpZyk7DQotCX0gZWxz
ZSB7DQotDQotCQlkZl92M182X3BtY19nZXRfY3RybF9zZXR0aW5ncyhhZGV2LA0KLQkJCQljb25m
aWcsDQotCQkJCSZsb19iYXNlX2FkZHIsDQotCQkJCSZoaV9iYXNlX2FkZHIsDQotCQkJCU5VTEws
DQotCQkJCU5VTEwpOw0KLQ0KLQkJaWYgKChsb19iYXNlX2FkZHIgPT0gMCkgfHwgKGhpX2Jhc2Vf
YWRkciA9PSAwKSkNCi0JCQlyZXR1cm4gLUVJTlZBTDsNCi0NCi0JCWxvX3ZhbCA9IFJSRUczMl9Q
Q0lFKGxvX2Jhc2VfYWRkcik7DQotDQotCQlXUkVHMzJfUENJRShsb19iYXNlX2FkZHIsIGxvX3Zh
bCAmIH4oMVVMTCA8PCAyMikpOw0KLQl9DQotDQotCXJldHVybiAwOw0KLX0NCi0NCi1zdGF0aWMg
aW50IGRmX3YzXzZfcG1jX3N0YXJ0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCB1aW50NjRf
dCBjb25maWcsDQotCQkJICAgICBpbnQgaXNfZW5hYmxlKQ0KLXsNCi0JaW50IHhnbWlfdHhfbGlu
aywgcmV0ID0gMDsNCisJaW50IHJldCA9IDA7DQogDQogCXN3aXRjaCAoYWRldi0+YXNpY190eXBl
KSB7DQogCWNhc2UgQ0hJUF9WRUdBMjA6DQotCQl4Z21pX3R4X2xpbmsgPSBJU19ERl9YR01JXzBf
VFgoY29uZmlnKSA/IDANCi0JCQkJCTogKElTX0RGX1hHTUlfMV9UWChjb25maWcpID8gMSA6IC0x
KTsNCi0NCi0JCWlmICh4Z21pX3R4X2xpbmsgPj0gMCkNCi0JCQlyZXQgPSBkZl92M182X3N0YXJ0
X3hnbWlfbGlua19jbnRyKGFkZXYsIHhnbWlfdHhfbGluaywNCi0JCQkJCQkgICAgICBpc19lbmFi
bGUpOw0KKwkJcmV0ID0gZGZfdjNfNl9wbWNfZ2V0X2N0cmxfc2V0dGluZ3MoYWRldiwNCisJCQlj
b25maWcsDQorCQkJJmxvX2Jhc2VfYWRkciwNCisJCQkmaGlfYmFzZV9hZGRyLA0KKwkJCU5VTEws
DQorCQkJTlVMTCk7DQogDQogCQlpZiAocmV0KQ0KIAkJCXJldHVybiByZXQ7DQogDQotCQlyZXQg
PSAwOw0KLQkJYnJlYWs7DQotCWRlZmF1bHQ6DQotCQlicmVhazsNCi0JfQ0KKwkJbG9fdmFsID0g
UlJFRzMyX1BDSUUobG9fYmFzZV9hZGRyKTsNCiANCi0JcmV0dXJuIHJldDsNCi19DQorCQlEUk1f
REVCVUdfRFJJVkVSKCJjb25maWc9JWxseCBhZGRyPSUwOHg6JTA4eCB2YWw9JTA4eCIsDQorCQkJ
CWNvbmZpZywgbG9fYmFzZV9hZGRyLCBoaV9iYXNlX2FkZHIsIGxvX3ZhbCk7DQogDQotc3RhdGlj
IGludCBkZl92M182X3BtY19zdG9wKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCB1aW50NjRf
dCBjb25maWcsDQotCQkJICAgIGludCBpc19kaXNhYmxlKQ0KLXsNCi0JaW50IHhnbWlfdHhfbGlu
aywgcmV0ID0gMDsNCisJCVdSRUczMl9QQ0lFKGxvX2Jhc2VfYWRkciwgbG9fdmFsICYgfigxVUxM
IDw8IDIyKSk7DQogDQotCXN3aXRjaCAoYWRldi0+YXNpY190eXBlKSB7DQotCWNhc2UgQ0hJUF9W
RUdBMjA6DQotCQkJeGdtaV90eF9saW5rID0gSVNfREZfWEdNSV8wX1RYKGNvbmZpZykgPyAwDQot
CQkJCTogKElTX0RGX1hHTUlfMV9UWChjb25maWcpID8gMSA6IC0xKTsNCi0NCi0JCQlpZiAoeGdt
aV90eF9saW5rID49IDApIHsNCi0JCQkJcmV0ID0gZGZfdjNfNl9zdG9wX3hnbWlfbGlua19jbnRy
KGFkZXYsDQotCQkJCQkJCQkgIHhnbWlfdHhfbGluaywNCi0JCQkJCQkJCSAgaXNfZGlzYWJsZSk7
DQotCQkJCWlmIChyZXQpDQotCQkJCQlyZXR1cm4gcmV0Ow0KLQkJCX0NCi0NCi0JCQlyZXQgPSAw
Ow0KLQkJCWJyZWFrOw0KKwkJaWYgKGlzX2Rpc2FibGUpDQorCQkJZGZfdjNfNl9wbWNfcmVsZWFz
ZV9jbnRyKGFkZXYsIGNvbmZpZyk7DQorDQorCQlicmVhazsNCiAJZGVmYXVsdDoNCiAJCWJyZWFr
Ow0KIAl9DQpAQCAtNTEwLDI4ICs0NzMsMzkgQEAgc3RhdGljIHZvaWQgZGZfdjNfNl9wbWNfZ2V0
X2NvdW50KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KIAkJCQkgIHVpbnQ2NF90IGNvbmZp
ZywNCiAJCQkJICB1aW50NjRfdCAqY291bnQpDQogew0KLQ0KLQlpbnQgeGdtaV90eF9saW5rOw0K
Kwl1aW50MzJfdCBsb19iYXNlX2FkZHIsIGhpX2Jhc2VfYWRkciwgbG9fdmFsLCBoaV92YWw7DQor
CSpjb3VudCA9IDA7DQogDQogCXN3aXRjaCAoYWRldi0+YXNpY190eXBlKSB7DQogCWNhc2UgQ0hJ
UF9WRUdBMjA6DQotCQl4Z21pX3R4X2xpbmsgPSBJU19ERl9YR01JXzBfVFgoY29uZmlnKSA/IDAN
Ci0JCQkJCTogKElTX0RGX1hHTUlfMV9UWChjb25maWcpID8gMSA6IC0xKTsNCiANCi0JCWlmICh4
Z21pX3R4X2xpbmsgPj0gMCkgew0KLQkJCWRmX3YzXzZfcmVzZXRfeGdtaV9saW5rX2NudHIoYWRl
diwgeGdtaV90eF9saW5rKTsNCi0JCQlkZl92M182X2dldF94Z21pX2xpbmtfY250cihhZGV2LCB4
Z21pX3R4X2xpbmssIGNvdW50KTsNCi0JCX0NCisJCWRmX3YzXzZfcG1jX2dldF9yZWFkX3NldHRp
bmdzKGFkZXYsIGNvbmZpZywgJmxvX2Jhc2VfYWRkciwNCisJCQkJICAgICAgJmhpX2Jhc2VfYWRk
cik7DQorDQorCQlpZiAoKGxvX2Jhc2VfYWRkciA9PSAwKSB8fCAoaGlfYmFzZV9hZGRyID09IDAp
KQ0KKwkJCXJldHVybjsNCisNCisJCWxvX3ZhbCA9IFJSRUczMl9QQ0lFKGxvX2Jhc2VfYWRkcik7
DQorCQloaV92YWwgPSBSUkVHMzJfUENJRShoaV9iYXNlX2FkZHIpOw0KKw0KKwkJKmNvdW50ICA9
ICgoaGlfdmFsIHwgMFVMTCkgPDwgMzIpIHwgKGxvX3ZhbCB8IDBVTEwpOw0KKw0KKwkJaWYgKCpj
b3VudCA+PSBERl9WM182X1BFUkZNT05fT1ZFUkZMT1cpDQorCQkJKmNvdW50ID0gMDsNCisNCisJ
CURSTV9ERUJVR19EUklWRVIoImNvbmZpZz0lbGx4IGFkZHI9JTA4eDolMDh4IHZhbD0lMDh4OiUw
OHgiLA0KKwkJCWNvbmZpZywgbG9fYmFzZV9hZGRyLCBoaV9iYXNlX2FkZHIsIGxvX3ZhbCwgaGlf
dmFsKTsNCiANCiAJCWJyZWFrOw0KKw0KIAlkZWZhdWx0Og0KIAkJYnJlYWs7DQogCX0NCi0NCiB9
DQogDQogY29uc3Qgc3RydWN0IGFtZGdwdV9kZl9mdW5jcyBkZl92M182X2Z1bmNzID0gew0KIAku
aW5pdCA9IGRmX3YzXzZfaW5pdCwNCisJLmZpbmkgPSBkZl92M182X2ZpbmksDQogCS5lbmFibGVf
YnJvYWRjYXN0X21vZGUgPSBkZl92M182X2VuYWJsZV9icm9hZGNhc3RfbW9kZSwNCiAJLmdldF9m
Yl9jaGFubmVsX251bWJlciA9IGRmX3YzXzZfZ2V0X2ZiX2NoYW5uZWxfbnVtYmVyLA0KIAkuZ2V0
X2hibV9jaGFubmVsX251bWJlciA9IGRmX3YzXzZfZ2V0X2hibV9jaGFubmVsX251bWJlciwNCmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9kZl92M182LmggYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9kZl92M182LmgNCmluZGV4IGZjZmZkODA3NzY0ZC4uNzY5OTg1
NDFiYzMwIDEwMDY0NA0KLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZGZfdjNfNi5o
DQorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9kZl92M182LmgNCkBAIC0zNiwyMiAr
MzYsMTUgQEAgZW51bSBERl9WM182X01HQ0cgew0KIH07DQogDQogLyogRGVmaW5lZCBpbiBnbG9i
YWxfZmVhdHVyZXMuaCBhcyBGVElfUEVSRk1PTl9WSVNJQkxFICovDQotI2RlZmluZSBBTURHUFVf
REZfTUFYX0NPVU5URVJTCQk0DQorI2RlZmluZSBERl9WM182X01BWF9DT1VOVEVSUwkJNA0KIA0K
IC8qIGdldCBmbGFncyBmcm9tIGRmIHBlcmZtb24gY29uZmlnICovDQotI2RlZmluZSBHRVRfRVZF
TlQoeCkJCQkoeCAmIDB4RkZVTCkNCi0jZGVmaW5lIEdFVF9JTlNUQU5DRSh4KQkJCSgoeCA+PiA4
KSAmIDB4RkZVTCkNCi0jZGVmaW5lIEdFVF9VTklUTUFTSyh4KQkJCSgoeCA+PiAxNikgJiAweEZG
VUwpDQotI2RlZmluZSBHRVRfSU5TVEFOQ0VfQ09ORklHKHgpCQkoMFVMTCB8ICgweDA3VUxMKSBc
DQotCQkJCQl8ICgoMHgwNDZVTEwgKyB4KSA8PCA4KSBcDQotCQkJCQl8ICgweDAyIDw8IDE2KSkN
Ci0NCi0vKiBkZiBldmVudCBjb25mIG1hY3JvcyAqLw0KLSNkZWZpbmUgSVNfREZfWEdNSV8wX1RY
KHgpIChHRVRfRVZFTlQoeCkgPT0gMHg3IFwNCi0JCSYmIEdFVF9JTlNUQU5DRSh4KSA9PSAweDQ2
ICYmIEdFVF9VTklUTUFTSyh4KSA9PSAweDIpDQotI2RlZmluZSBJU19ERl9YR01JXzFfVFgoeCkg
KEdFVF9FVkVOVCh4KSA9PSAweDcgXA0KLQkJJiYgR0VUX0lOU1RBTkNFKHgpID09IDB4NDcgJiYg
R0VUX1VOSVRNQVNLKHgpID09IDB4MikNCisjZGVmaW5lIERGX1YzXzZfR0VUX0VWRU5UKHgpCQko
eCAmIDB4RkZVTCkNCisjZGVmaW5lIERGX1YzXzZfR0VUX0lOU1RBTkNFKHgpCQkoKHggPj4gOCkg
JiAweEZGVUwpDQorI2RlZmluZSBERl9WM182X0dFVF9VTklUTUFTSyh4KQkJKCh4ID4+IDE2KSAm
IDB4RkZVTCkNCisjZGVmaW5lIERGX1YzXzZfUEVSRk1PTl9PVkVSRkxPVwkweEZGRkZGRkZGRkZG
RlVMTA0KIA0KK2V4dGVybiBjb25zdCBzdHJ1Y3QgYXR0cmlidXRlX2dyb3VwICpkZl92M182X2F0
dHJfZ3JvdXBzW107DQogZXh0ZXJuIGNvbnN0IHN0cnVjdCBhbWRncHVfZGZfZnVuY3MgZGZfdjNf
Nl9mdW5jczsNCiANCiAjZW5kaWYNCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9zb2MxNS5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc29jMTUuYw0KaW5kZXgg
NzhiZDRmYzA3YmFiLi41NTFjNzc3NDliMmQgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9zb2MxNS5jDQorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zb2Mx
NS5jDQpAQCAtMTA2Niw2ICsxMDY2LDcgQEAgc3RhdGljIHZvaWQgc29jMTVfZG9vcmJlbGxfcmFu
Z2VfaW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCiBzdGF0aWMgaW50IHNvYzE1X2Nv
bW1vbl9od19pbml0KHZvaWQgKmhhbmRsZSkNCiB7DQogCXN0cnVjdCBhbWRncHVfZGV2aWNlICph
ZGV2ID0gKHN0cnVjdCBhbWRncHVfZGV2aWNlICopaGFuZGxlOw0KKwlpbnQgcmV0Ow0KIA0KIAkv
KiBlbmFibGUgcGNpZSBnZW4yLzMgbGluayAqLw0KIAlzb2MxNV9wY2llX2dlbjNfZW5hYmxlKGFk
ZXYpOw0KQEAgLTEwNzksNiArMTA4MCwxMSBAQCBzdGF0aWMgaW50IHNvYzE1X2NvbW1vbl9od19p
bml0KHZvaWQgKmhhbmRsZSkNCiAJICovDQogCWlmIChhZGV2LT5uYmlvX2Z1bmNzLT5yZW1hcF9o
ZHBfcmVnaXN0ZXJzKQ0KIAkJYWRldi0+bmJpb19mdW5jcy0+cmVtYXBfaGRwX3JlZ2lzdGVycyhh
ZGV2KTsNCisNCisJcmV0ID0gYWRldi0+ZGZfZnVuY3MtPmluaXQoYWRldik7DQorCWlmIChyZXQp
DQorCQlyZXR1cm4gcmV0Ow0KKw0KIAkvKiBlbmFibGUgdGhlIGRvb3JiZWxsIGFwZXJ0dXJlICov
DQogCXNvYzE1X2VuYWJsZV9kb29yYmVsbF9hcGVydHVyZShhZGV2LCB0cnVlKTsNCiAJLyogSFcg
ZG9vcmJlbGwgcm91dGluZyBwb2xpY3k6IGRvb3JiZWxsIHdyaXRpbmcgbm90DQpAQCAtMTEwMCw2
ICsxMTA2LDggQEAgc3RhdGljIGludCBzb2MxNV9jb21tb25faHdfZmluaSh2b2lkICpoYW5kbGUp
DQogCWlmIChhbWRncHVfc3Jpb3ZfdmYoYWRldikpDQogCQl4Z3B1X2FpX21haWxib3hfcHV0X2ly
cShhZGV2KTsNCiANCisJYWRldi0+ZGZfZnVuY3MtPmZpbmkoYWRldik7DQorDQogCXJldHVybiAw
Ow0KIH0NCiANCi0tIA0KMi4xNy4xDQoNCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRl
c2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8v
YW1kLWdmeA==
