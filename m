Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id DD4AED0613
	for <lists+amd-gfx@lfdr.de>; Wed,  9 Oct 2019 05:34:16 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 884C86E8CF;
	Wed,  9 Oct 2019 03:34:14 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM03-CO1-obe.outbound.protection.outlook.com
 (mail-eopbgr790089.outbound.protection.outlook.com [40.107.79.89])
 by gabe.freedesktop.org (Postfix) with ESMTPS id CEA7D6E8CF
 for <amd-gfx@lists.freedesktop.org>; Wed,  9 Oct 2019 03:34:12 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=n727pq2jOFFJh7YYh5AcZinxPoHa+r6s0n3QkKZoEep0tGWOAUfeGnnBjYIRpPLlYRd+hhqKaL98GvbKtLg1mgSQu3uTgcHS4VDorup1UXM4pUMgtTyvr4hPApOTcqIsMo3NtvMuA/9rSf88kxV0k9SXVyqPe1IPJbfahahE58UXAH7T6vsbmR6i0lqOG4AbdFj7VpGui1x9kkSghQPKaTlBrLADg6po+wSubo0Awhf9VmYeC0cfld2nRmslHqAzNBIpnj5/Hwh0oVuLjiRwRHE1FwSTW1j3DLowSqT0ZVjN6NYeMkB1A/b//nzbJVuKQgNQ/SYgJiGqBHoI+fn4cw==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=bbHdTawQsMl5Uwd9h4MDIKvJqEChiSJalz6TE9tU5m0=;
 b=X1fPrL57P9EqbbWoPfQUW/Jb2lZZYIvUeMgAx9J3dYnTOkvH0QRnyOqCH0vAqfgefJxvOiYUsYkaK2iJb/5zFJlq4R3O/jz/zVk2OSi0aoLYXV+NVFJ7WF8rgPDYl1hRcpkyq5U8O+J2oiW7lM/O/s8DTKJbmHCLVXHt6XPJLr/mGnpALvzEioo2MnjP5eQ8fSPXZPViFrIXq5xj36fzYEu7f8kyTi89RBZTYi6u++U1x8WxBqiNw/GcFFQwp6lxiQHLLw50uYMXgOS8DJMWGyvj2oXYDtKXRXWiCkaZZrdOMsj507SxQKzb19xM5VCiBlPHjiba8Fua+cawoHhehQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from CH2PR12MB4152.namprd12.prod.outlook.com (20.180.6.72) by
 CH2PR12MB4086.namprd12.prod.outlook.com (20.180.17.147) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2327.24; Wed, 9 Oct 2019 03:34:11 +0000
Received: from CH2PR12MB4152.namprd12.prod.outlook.com
 ([fe80::80b1:7ed1:2bd5:4bd4]) by CH2PR12MB4152.namprd12.prod.outlook.com
 ([fe80::80b1:7ed1:2bd5:4bd4%3]) with mapi id 15.20.2327.026; Wed, 9 Oct 2019
 03:34:11 +0000
From: "Tuikov, Luben" <Luben.Tuikov@amd.com>
To: Alex Deucher <alexdeucher@gmail.com>, "amd-gfx@lists.freedesktop.org"
 <amd-gfx@lists.freedesktop.org>
Subject: Re: [PATCH 5/8] drm/amdgpu/atomfirmware: add memory training related
 helper functions
Thread-Topic: [PATCH 5/8] drm/amdgpu/atomfirmware: add memory training related
 helper functions
Thread-Index: AQHVfg7CB1n3znur50O8P0cnCKNfO6dRqLSA
Date: Wed, 9 Oct 2019 03:34:11 +0000
Message-ID: <9aa2cd25-6a6a-7edf-f386-b285b5af7708@amd.com>
References: <20191008192934.5481-1-alexander.deucher@amd.com>
 <20191008192934.5481-6-alexander.deucher@amd.com>
In-Reply-To: <20191008192934.5481-6-alexander.deucher@amd.com>
Accept-Language: en-CA, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: YTXPR0101CA0027.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:b00::40) To CH2PR12MB4152.namprd12.prod.outlook.com
 (2603:10b6:610:a7::8)
x-ms-exchange-messagesentrepresentingtype: 1
x-originating-ip: [165.204.55.250]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 5c42f5df-e9af-4219-c0e9-08d74c698c81
x-ms-office365-filtering-ht: Tenant
x-ms-traffictypediagnostic: CH2PR12MB4086:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <CH2PR12MB4086A6F9365EBEFDC68E1A0999950@CH2PR12MB4086.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:9508;
x-forefront-prvs: 018577E36E
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(39860400002)(366004)(376002)(136003)(346002)(396003)(199004)(189003)(66556008)(66446008)(66946007)(66066001)(64756008)(66476007)(52116002)(76176011)(305945005)(186003)(26005)(31696002)(7736002)(102836004)(2906002)(6116002)(31686004)(316002)(53546011)(6506007)(386003)(86362001)(25786009)(5660300002)(54906003)(36756003)(110136005)(229853002)(6486002)(6436002)(3846002)(256004)(6246003)(6512007)(81166006)(71190400001)(71200400001)(8676002)(81156014)(8936002)(14444005)(486006)(478600001)(2501003)(4326008)(99286004)(14454004)(11346002)(476003)(446003)(2616005);
 DIR:OUT; SFP:1101; SCL:1; SRVR:CH2PR12MB4086;
 H:CH2PR12MB4152.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: u+wiGInbmfADDam1U0zhrzwJQcxpSK0nqHDV+/K/xYwDgdbPN4OZ8sy0OkhpU4VWBkrc6cK4skiZDjaKenA3bdx1JO/avyeNGqbeNJDuknFHJAzX+iFZvGHgfiKQrgUSqKQ2PPZ74g3MNWl8fxLMcxz0a9kw2WbZgn+I/1zi6AkF024dSjAwo9xlcwNPvr2TUkUbbi2wkvSIbk3dukV4D6XnUwR4rz+ulVRuzedZLR7QXytDz9+AnA4+V4d3fktl/t1tR+DcmV0PkeiLFuxARrqp6U5ia/1txBNp3OKx4GNpILA4LXP9RqIkxFme892+bOM5Aq3eCRaCgF17wSia1+jesMoXDY30ipk4revAAN9sbcIRKg33v5ApcYJk5GEshAEPp5Ixd0FPwf4hGbKNoAKTs5NHIyVVjCg1f3pUoc0=
Content-ID: <C97E6357D3B10D4DB4FFD2AF86836238@namprd12.prod.outlook.com>
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 5c42f5df-e9af-4219-c0e9-08d74c698c81
X-MS-Exchange-CrossTenant-originalarrivaltime: 09 Oct 2019 03:34:11.0306 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: GZXRT4US9QI6lJxwPHWBwO365o4eOt+FS4RCcZOul0ZnJt1jsmSLQkq9sBtX+2cB
X-MS-Exchange-Transport-CrossTenantHeadersStamped: CH2PR12MB4086
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=bbHdTawQsMl5Uwd9h4MDIKvJqEChiSJalz6TE9tU5m0=;
 b=s9ru30PmUSfbDX0aXdg2c84NADBTBTvD57Aig+Gs3tLoCVlkA34/fjwaERKawWwC6s7dc59lbd9XTapDcOTZiyfV6EUsfUC8ba3qliwp/Bd1Yb0DBduGijatE5vozRsOmLi+zBl5d1yWKMK3yhSm8R7cSIpoco2DprWrauUlHUw=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Luben.Tuikov@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Deucher, Alexander" <Alexander.Deucher@amd.com>, "Yin,
 Tianci \(Rico\)" <Tianci.Yin@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

T24gMjAxOS0xMC0wOCAzOjI5IHAubS4sIEFsZXggRGV1Y2hlciB3cm90ZToNCj4gRnJvbTogIlRp
YW5jaS5ZaW4iIDx0aWFuY2kueWluQGFtZC5jb20+DQo+IA0KPiBwYXJzZSBmaXJtd2FyZSB0byBn
ZXQgbWVtb3J5IHRyYWluaW5nIGNhcGFiaWxpdHkgYW5kIGZiIGxvY2F0aW9uLg0KPiANCj4gQ2hh
bmdlLUlkOiBJMTQ3YzFkNDhlMjU1ZTAxOTFiZTRiZWIxYWQ2YjYzN2RhNjA3YmY3NQ0KPiBSZXZp
ZXdlZC1ieTogQWxleCBEZXVjaGVyIDxhbGV4YW5kZXIuZGV1Y2hlckBhbWQuY29tPg0KPiBTaWdu
ZWQtb2ZmLWJ5OiBUaWFuY2kuWWluIDx0aWFuY2kueWluQGFtZC5jb20+DQo+IC0tLQ0KPiAgZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1LmggICAgICAgICAgIHwgICA3ICsNCj4gIGRy
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hdG9tYmlvcy5jICB8ICAgNSArDQo+ICAu
Li4vZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hdG9tZmlybXdhcmUuYyAgfCAxMzAgKysrKysr
KysrKysrKysrKysrDQo+ICAuLi4vZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hdG9tZmlybXdh
cmUuaCAgfCAgIDEgKw0KPiAgNCBmaWxlcyBjaGFuZ2VkLCAxNDMgaW5zZXJ0aW9ucygrKQ0KPiAN
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdS5oIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1LmgNCj4gaW5kZXggMGQ2MGMyZTZjNTkyLi5l
ZWI2YjYyODJmY2UgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdS5oDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdS5oDQo+IEBA
IC0yODgsNiArMjg4LDkgQEAgc3RydWN0IGFtZGdwdV9pcF9ibG9ja192ZXJzaW9uIHsNCj4gIAlj
b25zdCBzdHJ1Y3QgYW1kX2lwX2Z1bmNzICpmdW5jczsNCj4gIH07DQo+ICANCj4gKyNkZWZpbmUg
aHdfcmV2aXNpb24obWFqb3IsIG1pbm9yLCByZXZpc2lvbikgXA0KPiArCSgoKCh1aW50MzJfdCkg
bWFqb3IpIDw8IDE2KSB8ICgodWludDMyX3QpIG1pbm9yIDw8IDgpIHwgKCh1aW50MzJfdCkgcmV2
aXNpb24pKQ0KPiArDQo+ICBzdHJ1Y3QgYW1kZ3B1X2lwX2Jsb2NrIHsNCj4gIAlzdHJ1Y3QgYW1k
Z3B1X2lwX2Jsb2NrX3N0YXR1cyBzdGF0dXM7DQo+ICAJY29uc3Qgc3RydWN0IGFtZGdwdV9pcF9i
bG9ja192ZXJzaW9uICp2ZXJzaW9uOw0KPiBAQCAtNjMwLDYgKzYzMywxMCBAQCBzdHJ1Y3QgYW1k
Z3B1X2Z3X3ZyYW1fdXNhZ2Ugew0KPiAgCXU2NCBzaXplOw0KPiAgCXN0cnVjdCBhbWRncHVfYm8g
KnJlc2VydmVkX2JvOw0KPiAgCXZvaWQgKnZhOw0KPiArDQo+ICsJLypvZmZzZXQgb24gdGhlIHRv
cCBvZiB2cmFtLCB1c2VkIGFzIGMycCB3cml0ZSBidWZmZXIqLw0KPiArCXU2NCBtZW1fdHJhaW5f
ZmJfbG9jOw0KPiArCWJvb2wgbWVtX3RyYWluX3N1cHBvcnQ7DQo+ICB9Ow0KPiAgDQo+ICAvKg0K
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2F0b21iaW9z
LmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYXRvbWJpb3MuYw0KPiBpbmRl
eCAxYzlkNDBmOTdhOWIuLjVmNWEyZDNmZmY5YiAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2F0b21iaW9zLmMNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvYW1kZ3B1X2F0b21iaW9zLmMNCj4gQEAgLTIwMzgsNiArMjAzOCwxMSBAQCBp
bnQgYW1kZ3B1X2F0b21iaW9zX2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpDQo+ICAJ
aWYgKGFkZXYtPmlzX2F0b21fZncpIHsNCj4gIAkJYW1kZ3B1X2F0b21maXJtd2FyZV9zY3JhdGNo
X3JlZ3NfaW5pdChhZGV2KTsNCj4gIAkJYW1kZ3B1X2F0b21maXJtd2FyZV9hbGxvY2F0ZV9mYl9z
Y3JhdGNoKGFkZXYpOw0KPiArCQlyZXQgPSBhbWRncHVfYXRvbWZpcm13YXJlX2dldF9tZW1fdHJh
aW5fZmJfbG9jKGFkZXYpOw0KPiArCQlpZihyZXQpIHsNCg0KU3BhY2UgYWZ0ZXIgYSBrZXl3b3Jk
OiAiaWYgKHJldCkiIGFjY29yZGluZyB0byBMS0NTLg0KDQo+ICsJCQlEUk1fRVJST1IoIkZhaWxl
ZCB0byBnZXQgbWVtIHRyYWluIGZiIGxvY2F0aW9uLlxuIik7DQo+ICsJCQlyZXR1cm4gcmV0Ow0K
PiArCQl9DQo+ICAJfSBlbHNlIHsNCj4gIAkJYW1kZ3B1X2F0b21iaW9zX3NjcmF0Y2hfcmVnc19p
bml0KGFkZXYpOw0KPiAgCQlhbWRncHVfYXRvbWJpb3NfYWxsb2NhdGVfZmJfc2NyYXRjaChhZGV2
KTsNCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hdG9t
ZmlybXdhcmUuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hdG9tZmlybXdh
cmUuYw0KPiBpbmRleCAzOWZkOGFlNWE4MjIuLmRmYWViZDkyOTMzMiAxMDA2NDQNCj4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2F0b21maXJtd2FyZS5jDQo+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hdG9tZmlybXdhcmUuYw0KPiBAQCAt
MjcsNiArMjcsNyBAQA0KPiAgI2luY2x1ZGUgImFtZGdwdV9hdG9tZmlybXdhcmUuaCINCj4gICNp
bmNsdWRlICJhdG9tLmgiDQo+ICAjaW5jbHVkZSAiYXRvbWJpb3MuaCINCj4gKyNpbmNsdWRlICJz
b2MxNV9od19pcC5oIg0KPiAgDQo+ICBib29sIGFtZGdwdV9hdG9tZmlybXdhcmVfZ3B1X3N1cHBv
cnRzX3ZpcnR1YWxpemF0aW9uKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQ0KPiAgew0KPiBA
QCAtNDYyLDMgKzQ2MywxMzIgQEAgaW50IGFtZGdwdV9hdG9tZmlybXdhcmVfZ2V0X2dmeF9pbmZv
KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQ0KPiAgCX0NCj4gIAlyZXR1cm4gLUVJTlZBTDsN
Cj4gIH0NCj4gKw0KPiArLyoNCj4gKyAqIENoZWNrIGlmIFZCSU9TIHN1cHBvcnRzIEdERFI2IHRy
YWluaW5nIGRhdGEgc2F2ZS9yZXN0b3JlDQo+ICsgKi8NCj4gK3N0YXRpYyBib29sIGdkZHI2X21l
bV90cmFpbl92Ymlvc19zdXBwb3J0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQ0KPiArew0K
PiArCXVpbnQxNl90IGRhdGFfb2Zmc2V0Ow0KPiArCWludCBpbmRleDsNCj4gKw0KPiArCWluZGV4
ID0gZ2V0X2luZGV4X2ludG9fbWFzdGVyX3RhYmxlKGF0b21fbWFzdGVyX2xpc3Rfb2ZfZGF0YV90
YWJsZXNfdjJfMSwNCj4gKwkJCQkJICAgIGZpcm13YXJlaW5mbyk7DQo+ICsJaWYgKGFtZGdwdV9h
dG9tX3BhcnNlX2RhdGFfaGVhZGVyKGFkZXYtPm1vZGVfaW5mby5hdG9tX2NvbnRleHQsIGluZGV4
LCBOVUxMLA0KPiArCQkJCQkgIE5VTEwsIE5VTEwsICZkYXRhX29mZnNldCkpIHsNCj4gKwkJc3Ry
dWN0IGF0b21fZmlybXdhcmVfaW5mb192M18xICpmaXJtd2FyZV9pbmZvID0NCj4gKwkJCShzdHJ1
Y3QgYXRvbV9maXJtd2FyZV9pbmZvX3YzXzEgKikoYWRldi0+bW9kZV9pbmZvLmF0b21fY29udGV4
dC0+YmlvcyArDQo+ICsJCQkJCQkJICAgZGF0YV9vZmZzZXQpOw0KPiArDQo+ICsJCURSTV9ERUJV
RygiYXRvbSBmaXJtd2FyZSBjYXBhYmlsaXR5OjB4JTA4eC5cbiIsDQo+ICsJCQkgIGxlMzJfdG9f
Y3B1KGZpcm13YXJlX2luZm8tPmZpcm13YXJlX2NhcGFiaWxpdHkpKTsNCj4gKw0KPiArCQlpZiAo
bGUzMl90b19jcHUoZmlybXdhcmVfaW5mby0+ZmlybXdhcmVfY2FwYWJpbGl0eSkgJg0KPiArCQkg
ICAgQVRPTV9GSVJNV0FSRV9DQVBfRU5BQkxFXzJTVEFHRV9CSVNUX1RSQUlOSU5HKQ0KPiArCQkJ
cmV0dXJuIHRydWU7DQo+ICsJfQ0KPiArDQo+ICsJcmV0dXJuIGZhbHNlOw0KPiArfQ0KPiArDQo+
ICtzdGF0aWMgaW50IGdkZHI2X21lbV90cmFpbl9zdXBwb3J0KHN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2KQ0KPiArew0KPiArCWludCByZXQgPSAwOw0KDQppbnQgcmV0Ow0KRG9uJ3QgcHJlaW5p
dGlhbGl6ZS4gSW5zdGVhZCwgZXhwbGljaXRseSBzZXQgb24gYWxsIGNvbnRpbmdlbmNpZXMuDQpU
aGlzIG1ha2VzIHRoZSBjb2RlIG1vcmUgc2VjdXJlLiBTZWUgYmVsb3cuDQoNCj4gKwlib29sIHZi
aW9zX3N1cHBvcnQgPSBmYWxzZTsNCj4gKwl1aW50MzJfdCBtYWpvciwgbWlub3IsIHJldmlzaW9u
LCBod192Ow0KPiArDQo+ICsJaWYgKCFhbWRncHVfc3Jpb3ZfdmYoYWRldikgJiYNCj4gKwkgICAg
Z2RkcjZfbWVtX3RyYWluX3ZiaW9zX3N1cHBvcnQoYWRldikpIHsNCj4gKwkJdmJpb3Nfc3VwcG9y
dCA9IHRydWU7DQo+ICsJfQ0KPiArDQo+ICsJYW1kZ3B1X2Rpc2NvdmVyeV9nZXRfaXBfdmVyc2lv
bihhZGV2LCBNUDBfSFdJRCwgJm1ham9yLCAmbWlub3IsICZyZXZpc2lvbik7DQo+ICsJaHdfdiA9
IGh3X3JldmlzaW9uKG1ham9yLCBtaW5vciwgcmV2aXNpb24pOw0KPiArCS8qDQo+ICsJICogdHJl
YXQgMCByZXZpc2lvbiBhcyBhIHNwZWNpYWwgY2FzZSBzaW5jZSByZWdpc3RlciBmb3IgTVAwIGFu
ZCBNTUhVQiBpcyBtaXNzaW5nDQo+ICsJICogZm9yIHNvbWUgTmF2aTEwIEEwLCBwcmV2ZW50aW5n
IGRyaXZlciBmcm9tIGRpc2NvdmVyaW5nIHRoZSBod2lwIGluZm9ybWF0aW9uIHNpbmNlDQo+ICsJ
ICogbm9uZSBvZiB0aGUgZnVuY3Rpb25zIHdpbGwgYmUgaW5pdGlhbGl6ZWQsIGl0IHNob3VsZCBu
b3QgY2F1c2UgYW55IHByb2JsZW1zDQo+ICsJICovDQo+ICsJc3dpdGNoKGh3X3YpIHsNCg0KU3Bh
Y2UgYWZ0ZXIga2V5d29yZDogInN3aXRjaCAoaHdfdikgeyIgYWNjb3JkaW5nIHRvIExLQ1MuDQoN
Cj4gKwljYXNlIGh3X3JldmlzaW9uKDExLCAwLCAwKToNCj4gKwljYXNlIGh3X3JldmlzaW9uKDEx
LCAwLCA1KToNCj4gKwkJcmV0ID0gdmJpb3Nfc3VwcG9ydDsNCj4gKwkJYnJlYWs7DQo+ICsJZGVm
YXVsdDoNCj4gKwkJaWYgKHZiaW9zX3N1cHBvcnQpIHsNCj4gKwkJCURSTV9FUlJPUigibWVtb3J5
IHRyYWluaW5nIHZiaW9zIHN1cHBvcnRzIGJ1dCBwc3AgaHcoJTA4eCkiDQo+ICsJCQkJICAiIGRv
ZXNuJ3Qgc3VwcG9ydCFcbiIsIGh3X3YpOw0KPiArCQkJcmV0ID0gLTE7DQo+ICsJCX0NCg0KfSBl
bHNlIHsNCglyZXQgPSAwOw0KfQ0KYnJlYWs7DQoNCj4gKwkJYnJlYWs7DQo+ICsJfQ0KPiArDQo+
ICsJRFJNX0RFQlVHKCJtcDAgaHdfdiAlMDh4LCByZXQ6JWQuXG4iLCBod192LCByZXQpOw0KPiAr
CXJldHVybiByZXQ7DQo+ICt9DQo+ICsNCj4gK2ludCBhbWRncHVfYXRvbWZpcm13YXJlX2dldF9t
ZW1fdHJhaW5fZmJfbG9jKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQ0KPiArew0KPiArCXN0
cnVjdCBhdG9tX2NvbnRleHQgKmN0eCA9IGFkZXYtPm1vZGVfaW5mby5hdG9tX2NvbnRleHQ7DQo+
ICsJdW5zaWduZWQgY2hhciAqYmlvcyA9IGN0eC0+YmlvczsNCj4gKwlzdHJ1Y3QgdnJhbV9yZXNl
cnZlX2Jsb2NrICpyZXNlcnZlZF9ibG9jazsNCj4gKwlpbnQgaW5kZXgsIGJsb2NrX251bWJlcjsN
Cj4gKwl1aW50OF90IGZyZXYsIGNyZXY7DQo+ICsJdWludDE2X3QgZGF0YV9vZmZzZXQsIHNpemU7
DQo+ICsJdWludDMyX3Qgc3RhcnRfYWRkcmVzc19pbl9rYiA9IDA7DQo+ICsJdWludDY0X3Qgb2Zm
c2V0Ow0KPiArCWludCByZXQgPSAwOw0KPiArDQo+ICsJYWRldi0+ZndfdnJhbV91c2FnZS5tZW1f
dHJhaW5fc3VwcG9ydCA9IGZhbHNlOw0KPiArCXJldCA9IGdkZHI2X21lbV90cmFpbl9zdXBwb3J0
KGFkZXYpOw0KPiArCWlmIChyZXQgPT0gLTEpDQo+ICsJCXJldHVybiAtRUlOVkFMOw0KPiArCWVs
c2UgaWYgKHJldCA9PSAwKQ0KPiArCQlyZXR1cm4gMDsNCj4gKw0KPiArCWluZGV4ID0gZ2V0X2lu
ZGV4X2ludG9fbWFzdGVyX3RhYmxlKGF0b21fbWFzdGVyX2xpc3Rfb2ZfZGF0YV90YWJsZXNfdjJf
MSwNCj4gKwkJCQkJICAgIHZyYW1fdXNhZ2VieWZpcm13YXJlKTsNCj4gKwlyZXQgPSBhbWRncHVf
YXRvbV9wYXJzZV9kYXRhX2hlYWRlcihjdHgsIGluZGV4LCAmc2l6ZSwgJmZyZXYsICZjcmV2LA0K
PiArCQkJCQkgICAgJmRhdGFfb2Zmc2V0KTsNCj4gKwlpZiAoIXJldCkgew0KDQppZiAocmV0ID09
IDApDQpTaW5jZSBpdCBpcyBhbiBpbnRlZ2VyIGFuZCBub3QgYSBwb2ludGVyLS1jb21wYXJlIHRv
IDAgaW50ZWdlci4NCg0KUmVnYXJkcywNCkx1YmVuDQoNCj4gKwkJRFJNX0VSUk9SKCJwYXJzZSBk
YXRhIGhlYWRlciBmYWlsZWQuXG4iKTsNCj4gKwkJcmV0dXJuIC1FSU5WQUw7DQo+ICsJfQ0KPiAr
DQo+ICsJRFJNX0RFQlVHKCJhdG9tIGZpcm13YXJlIGNvbW1vbiB0YWJsZSBoZWFkZXIgc2l6ZTow
eCUwNHgsIGZyZXY6MHglMDJ4LCINCj4gKwkJICAiIGNyZXY6MHglMDJ4LCBkYXRhX29mZnNldDow
eCUwNHguXG4iLCBzaXplLCBmcmV2LCBjcmV2LCBkYXRhX29mZnNldCk7DQo+ICsJLyogb25seSBz
dXBwb3J0IDIuMSsgKi8NCj4gKwlpZiAoKCh1aW50MTZfdClmcmV2IDw8IDggfCBjcmV2KSA8IDB4
MDIwMSkgew0KPiArCQlEUk1fRVJST1IoImZyZXY6MHglMDJ4LCBjcmV2OjB4JTAyeCA8IDIuMSAh
XG4iLCBmcmV2LCBjcmV2KTsNCj4gKwkJcmV0dXJuIC1FSU5WQUw7DQo+ICsJfQ0KPiArDQo+ICsJ
cmVzZXJ2ZWRfYmxvY2sgPSAoc3RydWN0IHZyYW1fcmVzZXJ2ZV9ibG9jayAqKQ0KPiArCQkoYmlv
cyArIGRhdGFfb2Zmc2V0ICsgc2l6ZW9mKHN0cnVjdCBhdG9tX2NvbW1vbl90YWJsZV9oZWFkZXIp
KTsNCj4gKwlibG9ja19udW1iZXIgPSAoKHVuc2lnbmVkIGludClzaXplIC0gc2l6ZW9mKHN0cnVj
dCBhdG9tX2NvbW1vbl90YWJsZV9oZWFkZXIpKQ0KPiArCQkvIHNpemVvZihzdHJ1Y3QgdnJhbV9y
ZXNlcnZlX2Jsb2NrKTsNCj4gKwlyZXNlcnZlZF9ibG9jayArPSAoYmxvY2tfbnVtYmVyID4gMCkg
PyBibG9ja19udW1iZXItMSA6IDA7DQo+ICsJRFJNX0RFQlVHKCJibG9ja19udW1iZXI6MHglMDR4
LCBsYXN0IGJsb2NrOiAweCUwOHhrYiBzeiwgJWRrYiBmdywgJWRrYiBkcnYuXG4iLA0KPiArCQkg
IGJsb2NrX251bWJlciwNCj4gKwkJICBsZTMyX3RvX2NwdShyZXNlcnZlZF9ibG9jay0+c3RhcnRf
YWRkcmVzc19pbl9rYiksDQo+ICsJCSAgbGUxNl90b19jcHUocmVzZXJ2ZWRfYmxvY2stPnVzZWRf
YnlfZmlybXdhcmVfaW5fa2IpLA0KPiArCQkgIGxlMTZfdG9fY3B1KHJlc2VydmVkX2Jsb2NrLT51
c2VkX2J5X2RyaXZlcl9pbl9rYikpOw0KPiArCWlmIChyZXNlcnZlZF9ibG9jay0+dXNlZF9ieV9m
aXJtd2FyZV9pbl9rYiA+IDApIHsNCj4gKwkJc3RhcnRfYWRkcmVzc19pbl9rYiA9IGxlMzJfdG9f
Y3B1KHJlc2VydmVkX2Jsb2NrLT5zdGFydF9hZGRyZXNzX2luX2tiKTsNCj4gKwkJb2Zmc2V0ID0g
KHVpbnQ2NF90KXN0YXJ0X2FkZHJlc3NfaW5fa2IgKiBPTkVfSzsNCj4gKwkJaWYgKChvZmZzZXQg
JiAoT05FX01FRyAtIDEpKSA8ICg0ICogT05FX0sgKyAxKSApIHsNCj4gKwkJCW9mZnNldCAtPSBP
TkVfTUVHOw0KPiArCQl9DQo+ICsNCj4gKwkJb2Zmc2V0ICY9IH4oT05FX01FRyAtIDEpOw0KPiAr
CQlhZGV2LT5md192cmFtX3VzYWdlLm1lbV90cmFpbl9mYl9sb2MgPSBvZmZzZXQ7DQo+ICsJCWFk
ZXYtPmZ3X3ZyYW1fdXNhZ2UubWVtX3RyYWluX3N1cHBvcnQgPSB0cnVlOw0KPiArCQlEUk1fREVC
VUcoIm1lbV90cmFpbl9mYl9sb2M6MHglMDlsbHguXG4iLCBvZmZzZXQpOw0KPiArCQlyZXQgPSAw
Ow0KPiArCX0gZWxzZSB7DQo+ICsJCURSTV9FUlJPUigidXNlZF9ieV9maXJtd2FyZV9pbl9rYiBp
cyAwIVxuIik7DQo+ICsJCXJldCA9IC1FSU5WQUw7DQo+ICsJfQ0KPiArDQo+ICsJcmV0dXJuIHJl
dDsNCj4gK30NCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdw
dV9hdG9tZmlybXdhcmUuaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hdG9t
ZmlybXdhcmUuaA0KPiBpbmRleCA1MzQ0OWZjN2JhZjQuLmY4NzFhZjVlYTZmMyAxMDA2NDQNCj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2F0b21maXJtd2FyZS5oDQo+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hdG9tZmlybXdhcmUuaA0K
PiBAQCAtMzEsNiArMzEsNyBAQCB2b2lkIGFtZGdwdV9hdG9tZmlybXdhcmVfc2NyYXRjaF9yZWdz
X2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpOw0KPiAgaW50IGFtZGdwdV9hdG9tZmly
bXdhcmVfYWxsb2NhdGVfZmJfc2NyYXRjaChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7DQo+
ICBpbnQgYW1kZ3B1X2F0b21maXJtd2FyZV9nZXRfdnJhbV9pbmZvKHN0cnVjdCBhbWRncHVfZGV2
aWNlICphZGV2LA0KPiAgCWludCAqdnJhbV93aWR0aCwgaW50ICp2cmFtX3R5cGUsIGludCAqdnJh
bV92ZW5kb3IpOw0KPiAraW50IGFtZGdwdV9hdG9tZmlybXdhcmVfZ2V0X21lbV90cmFpbl9mYl9s
b2Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpOw0KPiAgaW50IGFtZGdwdV9hdG9tZmlybXdh
cmVfZ2V0X2Nsb2NrX2luZm8oc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpOw0KPiAgaW50IGFt
ZGdwdV9hdG9tZmlybXdhcmVfZ2V0X2dmeF9pbmZvKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2
KTsNCj4gIGJvb2wgYW1kZ3B1X2F0b21maXJtd2FyZV9tZW1fZWNjX3N1cHBvcnRlZChzdHJ1Y3Qg
YW1kZ3B1X2RldmljZSAqYWRldik7DQo+IA0KDQpfX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZy
ZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3Rp
bmZvL2FtZC1nZng=
