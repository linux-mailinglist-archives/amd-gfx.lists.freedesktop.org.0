Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 7B31F13DA41
	for <lists+amd-gfx@lfdr.de>; Thu, 16 Jan 2020 13:44:13 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 02C0B6ECE7;
	Thu, 16 Jan 2020 12:44:12 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-wm1-x341.google.com (mail-wm1-x341.google.com
 [IPv6:2a00:1450:4864:20::341])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 1DCAD6ECE7
 for <amd-gfx@lists.freedesktop.org>; Thu, 16 Jan 2020 12:44:11 +0000 (UTC)
Received: by mail-wm1-x341.google.com with SMTP id t14so3632723wmi.5
 for <amd-gfx@lists.freedesktop.org>; Thu, 16 Jan 2020 04:44:11 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=reply-to:subject:to:references:from:message-id:date:user-agent
 :mime-version:in-reply-to:content-transfer-encoding:content-language;
 bh=V7Q1aawl2CX140owiPq3rNxz0s8NLAzIDufxCc72F7I=;
 b=dUtqGnSiA2RJTbg87nNlNV49DdMTcDHiXtUeDFvhl2BXVWnd7mt44rlKGa0Zlsc7On
 PjlQILv/h7h5JaF+5oGrJvP5N3mfXDKwq6YI1dqdy5erC0Za/Nvfl18gidjQclfW/Oon
 WmJXXdtv7UMY5CGFUS3Lfin6nqPBXndN4diSO61pory9sOT8nzVlVRNlIukBVORiLiig
 ZQBZFtHDWUhcDHq0PsmeZ+nrwqTwx0/Tj6ihzCJYr1zAGnw+jajfzvBfHeZGNopeWiCJ
 5BJt9Y3ARzCVOgjcbasuDPJKk0ZggpphTKvJcNAUMyU0uEdDk9sM0NAHOmfqii9X1NFi
 Wg3g==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:reply-to:subject:to:references:from:message-id
 :date:user-agent:mime-version:in-reply-to:content-transfer-encoding
 :content-language;
 bh=V7Q1aawl2CX140owiPq3rNxz0s8NLAzIDufxCc72F7I=;
 b=HIoxzPi+grW9AiZSDT84x0FlBzYVVozEp2gS/LflIlzDFqSBsDUzvEivOayOIh28SH
 nZA7NZ7WG9RghGJj3XXBtrmlObA2997QsGxep/IWjx83P1PFAOZQN0kDHkHpEGA4G1/f
 pPUNECvCjYogUcyAxY/hVdljZx21yrJuZG7T7pzq6ITJ0MJTR9IXjU9mIijL8Ja6FrE3
 AG70pahgRFJlSb9Ip3xRCYDNPv4fz7wiCYjzLZRjcgVzN7unsi9eLAYW260QbZ9u5tgf
 FwcpN+ORYHdUp9H+EktP1krwxbqGi1qzJ1noOfDGgj9vmKD31VR0faW1icDK90CEKlRO
 7aLw==
X-Gm-Message-State: APjAAAUTtHXfIqMSjVsQavahDXnHE0BoIarwMoqUcY+hyD1J1KWQXsGm
 7DTMXzlEIP+cZKrul4gyKUOTqYFw
X-Google-Smtp-Source: APXvYqyJ1dt7A89FRVgM2XGqIj5OcTAdHRMxnhq5+T2pysAFell86yrfsHpnNlw9IgyIHuv2uMdVMQ==
X-Received: by 2002:a05:600c:290f:: with SMTP id
 i15mr6062957wmd.115.1579178649267; 
 Thu, 16 Jan 2020 04:44:09 -0800 (PST)
Received: from ?IPv6:2a02:908:1252:fb60:be8a:bd56:1f94:86e7?
 ([2a02:908:1252:fb60:be8a:bd56:1f94:86e7])
 by smtp.gmail.com with ESMTPSA id w17sm29304794wrt.89.2020.01.16.04.44.08
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Thu, 16 Jan 2020 04:44:08 -0800 (PST)
Subject: Re: [PATCH 1/3] drm/amdgpu: provide a generic function interface for
 reading/writing register by KIQ
To: chen gong <curry.gong@amd.com>, amd-gfx@lists.freedesktop.org
References: <1579168856-6437-1-git-send-email-curry.gong@amd.com>
From: =?UTF-8?Q?Christian_K=c3=b6nig?= <ckoenig.leichtzumerken@gmail.com>
Message-ID: <09006541-980b-9ddb-db1d-03fb92dd514e@gmail.com>
Date: Thu, 16 Jan 2020 13:44:07 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
MIME-Version: 1.0
In-Reply-To: <1579168856-6437-1-git-send-email-curry.gong@amd.com>
Content-Language: en-US
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Reply-To: christian.koenig@amd.com
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

QW0gMTYuMDEuMjAgdW0gMTE6MDAgc2NocmllYiBjaGVuIGdvbmc6Cj4gTW92ZSBhbWRncHVfdmly
dF9raXFfcnJlZy9hbWRncHVfdmlydF9raXFfd3JlZyBmdW5jdGlvbiB0byBhbWRncHVfZ2Z4LmMs
Cj4gYW5kIHJlbmFtZSB0aGVtIHRvIGFtZGdwdV9raXFfcnJlZy9hbWRncHVfa2lxX3dyZWcuTWFr
ZSBpdCBnZW5lcmljIGFuZAo+IGZsZXhpYmxlLgo+Cj4gU2lnbmVkLW9mZi1ieTogY2hlbiBnb25n
IDxjdXJyeS5nb25nQGFtZC5jb20+CgpBbGV4IGhhcyB0aGUgbGFzdCB3b3JkIG9uIHRoaXMgc2lu
Y2UgSSdtIG5vdCBzbyBkZWVwIGludG8gdGhlIEtJUSwgYnV0IAphdCBsZWFzdCB0byBtZSB0aGF0
IGxvb2tzIGxpa2UgYSByYXRoZXIgbmljZSBjbGVhbnVwLgoKRmVlbCBmcmVlIHRvIGFkZCBhbiBB
Y2tlZC1ieTogQ2hyaXN0aWFuIEvDtm5pZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPiAKdG8g
dGhlIHNlcmllcy4KCkNocmlzdGlhbi4KCj4gLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfZGV2aWNlLmMgfCAgNCArLQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X2dmeC5jICAgIHwgOTYgKysrKysrKysrKysrKysrKysrKysrKysrKysrKystCj4g
ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ2Z4LmggICAgfCAgMyArCj4gICBk
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdmlydC5jICAgfCA5MiAtLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
dmlydC5oICAgfCAgMiAtCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjEwXzAu
YyAgICAgfCAgNSArLQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3Y4XzAuYyAg
ICAgIHwgIDUgKy0KPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92OV8wLmMgICAg
ICB8ICA1ICstCj4gICA4IGZpbGVzIGNoYW5nZWQsIDEwOCBpbnNlcnRpb25zKCspLCAxMDQgZGVs
ZXRpb25zKC0pCj4KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1k
Z3B1X2RldmljZS5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RldmljZS5j
Cj4gaW5kZXggMmM2NGQyYS4uOTYzZWE0NiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfZGV2aWNlLmMKPiBAQCAtMjE4LDcgKzIxOCw3IEBAIHVpbnQzMl90IGFtZGdw
dV9tbV9ycmVnKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCB1aW50MzJfdCByZWcsCj4gICAJ
dWludDMyX3QgcmV0Owo+ICAgCj4gICAJaWYgKCEoYWNjX2ZsYWdzICYgQU1ER1BVX1JFR1NfTk9f
S0lRKSAmJiBhbWRncHVfc3Jpb3ZfcnVudGltZShhZGV2KSkKPiAtCQlyZXR1cm4gYW1kZ3B1X3Zp
cnRfa2lxX3JyZWcoYWRldiwgcmVnKTsKPiArCQlyZXR1cm4gYW1kZ3B1X2tpcV9ycmVnKGFkZXYs
IHJlZyk7Cj4gICAKPiAgIAlpZiAoKHJlZyAqIDQpIDwgYWRldi0+cm1taW9fc2l6ZSAmJiAhKGFj
Y19mbGFncyAmIEFNREdQVV9SRUdTX0lEWCkpCj4gICAJCXJldCA9IHJlYWRsKCgodm9pZCBfX2lv
bWVtICopYWRldi0+cm1taW8pICsgKHJlZyAqIDQpKTsKPiBAQCAtMjk2LDcgKzI5Niw3IEBAIHZv
aWQgYW1kZ3B1X21tX3dyZWcoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHVpbnQzMl90IHJl
ZywgdWludDMyX3QgdiwKPiAgIAl9Cj4gICAKPiAgIAlpZiAoIShhY2NfZmxhZ3MgJiBBTURHUFVf
UkVHU19OT19LSVEpICYmIGFtZGdwdV9zcmlvdl9ydW50aW1lKGFkZXYpKQo+IC0JCXJldHVybiBh
bWRncHVfdmlydF9raXFfd3JlZyhhZGV2LCByZWcsIHYpOwo+ICsJCXJldHVybiBhbWRncHVfa2lx
X3dyZWcoYWRldiwgcmVnLCB2KTsKPiAgIAo+ICAgCWlmICgocmVnICogNCkgPCBhZGV2LT5ybW1p
b19zaXplICYmICEoYWNjX2ZsYWdzICYgQU1ER1BVX1JFR1NfSURYKSkKPiAgIAkJd3JpdGVsKHYs
ICgodm9pZCBfX2lvbWVtICopYWRldi0+cm1taW8pICsgKHJlZyAqIDQpKTsKPiBkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dmeC5jIGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dmeC5jCj4gaW5kZXggYjg4YjhiOC4uMGY5NjBiNCAxMDA2
NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ2Z4LmMKPiArKysg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ2Z4LmMKPiBAQCAtMjk2LDcgKzI5
Niw3IEBAIGludCBhbWRncHVfZ2Z4X2tpcV9pbml0X3Jpbmcoc3RydWN0IGFtZGdwdV9kZXZpY2Ug
KmFkZXYsCj4gICAKPiAgIAlzcGluX2xvY2tfaW5pdCgma2lxLT5yaW5nX2xvY2spOwo+ICAgCj4g
LQlyID0gYW1kZ3B1X2RldmljZV93Yl9nZXQoYWRldiwgJmFkZXYtPnZpcnQucmVnX3ZhbF9vZmZz
KTsKPiArCXIgPSBhbWRncHVfZGV2aWNlX3diX2dldChhZGV2LCAma2lxLT5yZWdfdmFsX29mZnMp
Owo+ICAgCWlmIChyKQo+ICAgCQlyZXR1cm4gcjsKPiAgIAo+IEBAIC0zMjEsNyArMzIxLDcgQEAg
aW50IGFtZGdwdV9nZnhfa2lxX2luaXRfcmluZyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwK
PiAgIAo+ICAgdm9pZCBhbWRncHVfZ2Z4X2tpcV9mcmVlX3Jpbmcoc3RydWN0IGFtZGdwdV9yaW5n
ICpyaW5nKQo+ICAgewo+IC0JYW1kZ3B1X2RldmljZV93Yl9mcmVlKHJpbmctPmFkZXYsIHJpbmct
PmFkZXYtPnZpcnQucmVnX3ZhbF9vZmZzKTsKPiArCWFtZGdwdV9kZXZpY2Vfd2JfZnJlZShyaW5n
LT5hZGV2LCByaW5nLT5hZGV2LT5nZngua2lxLnJlZ192YWxfb2Zmcyk7Cj4gICAJYW1kZ3B1X3Jp
bmdfZmluaShyaW5nKTsKPiAgIH0KPiAgIAo+IEBAIC02NTgsMyArNjU4LDk1IEBAIGludCBhbWRn
cHVfZ2Z4X2NwX2VjY19lcnJvcl9pcnEoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCj4gICAJ
YW1kZ3B1X3Jhc19pbnRlcnJ1cHRfZGlzcGF0Y2goYWRldiwgJmloX2RhdGEpOwo+ICAgCXJldHVy
biAwOwo+ICAgfQo+ICsKPiArdWludDMyX3QgYW1kZ3B1X2tpcV9ycmVnKHN0cnVjdCBhbWRncHVf
ZGV2aWNlICphZGV2LCB1aW50MzJfdCByZWcpCj4gK3sKPiArCXNpZ25lZCBsb25nIHIsIGNudCA9
IDA7Cj4gKwl1bnNpZ25lZCBsb25nIGZsYWdzOwo+ICsJdWludDMyX3Qgc2VxOwo+ICsJc3RydWN0
IGFtZGdwdV9raXEgKmtpcSA9ICZhZGV2LT5nZngua2lxOwo+ICsJc3RydWN0IGFtZGdwdV9yaW5n
ICpyaW5nID0gJmtpcS0+cmluZzsKPiArCj4gKwlCVUdfT04oIXJpbmctPmZ1bmNzLT5lbWl0X3Jy
ZWcpOwo+ICsKPiArCXNwaW5fbG9ja19pcnFzYXZlKCZraXEtPnJpbmdfbG9jaywgZmxhZ3MpOwo+
ICsJYW1kZ3B1X3JpbmdfYWxsb2MocmluZywgMzIpOwo+ICsJYW1kZ3B1X3JpbmdfZW1pdF9ycmVn
KHJpbmcsIHJlZyk7Cj4gKwlhbWRncHVfZmVuY2VfZW1pdF9wb2xsaW5nKHJpbmcsICZzZXEpOwo+
ICsJYW1kZ3B1X3JpbmdfY29tbWl0KHJpbmcpOwo+ICsJc3Bpbl91bmxvY2tfaXJxcmVzdG9yZSgm
a2lxLT5yaW5nX2xvY2ssIGZsYWdzKTsKPiArCj4gKwlyID0gYW1kZ3B1X2ZlbmNlX3dhaXRfcG9s
bGluZyhyaW5nLCBzZXEsIE1BWF9LSVFfUkVHX1dBSVQpOwo+ICsKPiArCS8qIGRvbid0IHdhaXQg
YW55bW9yZSBmb3IgZ3B1IHJlc2V0IGNhc2UgYmVjYXVzZSB0aGlzIHdheSBtYXkKPiArCSAqIGJs
b2NrIGdwdV9yZWNvdmVyKCkgcm91dGluZSBmb3JldmVyLCBlLmcuIHRoaXMgdmlydF9raXFfcnJl
Zwo+ICsJICogaXMgdHJpZ2dlcmVkIGluIFRUTSBhbmQgdHRtX2JvX2xvY2tfZGVsYXllZF93b3Jr
cXVldWUoKSB3aWxsCj4gKwkgKiBuZXZlciByZXR1cm4gaWYgd2Uga2VlcCB3YWl0aW5nIGluIHZp
cnRfa2lxX3JyZWcsIHdoaWNoIGNhdXNlCj4gKwkgKiBncHVfcmVjb3ZlcigpIGhhbmcgdGhlcmUu
Cj4gKwkgKgo+ICsJICogYWxzbyBkb24ndCB3YWl0IGFueW1vcmUgZm9yIElSUSBjb250ZXh0Cj4g
KwkgKiAqLwo+ICsJaWYgKHIgPCAxICYmIChhZGV2LT5pbl9ncHVfcmVzZXQgfHwgaW5faW50ZXJy
dXB0KCkpKQo+ICsJCWdvdG8gZmFpbGVkX2tpcV9yZWFkOwo+ICsKPiArCW1pZ2h0X3NsZWVwKCk7
Cj4gKwl3aGlsZSAociA8IDEgJiYgY250KysgPCBNQVhfS0lRX1JFR19UUlkpIHsKPiArCQltc2xl
ZXAoTUFYX0tJUV9SRUdfQkFJTE9VVF9JTlRFUlZBTCk7Cj4gKwkJciA9IGFtZGdwdV9mZW5jZV93
YWl0X3BvbGxpbmcocmluZywgc2VxLCBNQVhfS0lRX1JFR19XQUlUKTsKPiArCX0KPiArCj4gKwlp
ZiAoY250ID4gTUFYX0tJUV9SRUdfVFJZKQo+ICsJCWdvdG8gZmFpbGVkX2tpcV9yZWFkOwo+ICsK
PiArCXJldHVybiBhZGV2LT53Yi53YltraXEtPnJlZ192YWxfb2Zmc107Cj4gKwo+ICtmYWlsZWRf
a2lxX3JlYWQ6Cj4gKwlwcl9lcnIoImZhaWxlZCB0byByZWFkIHJlZzoleFxuIiwgcmVnKTsKPiAr
CXJldHVybiB+MDsKPiArfQo+ICsKPiArdm9pZCBhbWRncHVfa2lxX3dyZWcoc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYsIHVpbnQzMl90IHJlZywgdWludDMyX3QgdikKPiArewo+ICsJc2lnbmVk
IGxvbmcgciwgY250ID0gMDsKPiArCXVuc2lnbmVkIGxvbmcgZmxhZ3M7Cj4gKwl1aW50MzJfdCBz
ZXE7Cj4gKwlzdHJ1Y3QgYW1kZ3B1X2tpcSAqa2lxID0gJmFkZXYtPmdmeC5raXE7Cj4gKwlzdHJ1
Y3QgYW1kZ3B1X3JpbmcgKnJpbmcgPSAma2lxLT5yaW5nOwo+ICsKPiArCUJVR19PTighcmluZy0+
ZnVuY3MtPmVtaXRfd3JlZyk7Cj4gKwo+ICsJc3Bpbl9sb2NrX2lycXNhdmUoJmtpcS0+cmluZ19s
b2NrLCBmbGFncyk7Cj4gKwlhbWRncHVfcmluZ19hbGxvYyhyaW5nLCAzMik7Cj4gKwlhbWRncHVf
cmluZ19lbWl0X3dyZWcocmluZywgcmVnLCB2KTsKPiArCWFtZGdwdV9mZW5jZV9lbWl0X3BvbGxp
bmcocmluZywgJnNlcSk7Cj4gKwlhbWRncHVfcmluZ19jb21taXQocmluZyk7Cj4gKwlzcGluX3Vu
bG9ja19pcnFyZXN0b3JlKCZraXEtPnJpbmdfbG9jaywgZmxhZ3MpOwo+ICsKPiArCXIgPSBhbWRn
cHVfZmVuY2Vfd2FpdF9wb2xsaW5nKHJpbmcsIHNlcSwgTUFYX0tJUV9SRUdfV0FJVCk7Cj4gKwo+
ICsJLyogZG9uJ3Qgd2FpdCBhbnltb3JlIGZvciBncHUgcmVzZXQgY2FzZSBiZWNhdXNlIHRoaXMg
d2F5IG1heQo+ICsJICogYmxvY2sgZ3B1X3JlY292ZXIoKSByb3V0aW5lIGZvcmV2ZXIsIGUuZy4g
dGhpcyB2aXJ0X2tpcV9ycmVnCj4gKwkgKiBpcyB0cmlnZ2VyZWQgaW4gVFRNIGFuZCB0dG1fYm9f
bG9ja19kZWxheWVkX3dvcmtxdWV1ZSgpIHdpbGwKPiArCSAqIG5ldmVyIHJldHVybiBpZiB3ZSBr
ZWVwIHdhaXRpbmcgaW4gdmlydF9raXFfcnJlZywgd2hpY2ggY2F1c2UKPiArCSAqIGdwdV9yZWNv
dmVyKCkgaGFuZyB0aGVyZS4KPiArCSAqCj4gKwkgKiBhbHNvIGRvbid0IHdhaXQgYW55bW9yZSBm
b3IgSVJRIGNvbnRleHQKPiArCSAqICovCj4gKwlpZiAociA8IDEgJiYgKGFkZXYtPmluX2dwdV9y
ZXNldCB8fCBpbl9pbnRlcnJ1cHQoKSkpCj4gKwkJZ290byBmYWlsZWRfa2lxX3dyaXRlOwo+ICsK
PiArCW1pZ2h0X3NsZWVwKCk7Cj4gKwl3aGlsZSAociA8IDEgJiYgY250KysgPCBNQVhfS0lRX1JF
R19UUlkpIHsKPiArCj4gKwkJbXNsZWVwKE1BWF9LSVFfUkVHX0JBSUxPVVRfSU5URVJWQUwpOwo+
ICsJCXIgPSBhbWRncHVfZmVuY2Vfd2FpdF9wb2xsaW5nKHJpbmcsIHNlcSwgTUFYX0tJUV9SRUdf
V0FJVCk7Cj4gKwl9Cj4gKwo+ICsJaWYgKGNudCA+IE1BWF9LSVFfUkVHX1RSWSkKPiArCQlnb3Rv
IGZhaWxlZF9raXFfd3JpdGU7Cj4gKwo+ICsJcmV0dXJuOwo+ICsKPiArZmFpbGVkX2tpcV93cml0
ZToKPiArCXByX2VycigiZmFpbGVkIHRvIHdyaXRlIHJlZzoleFxuIiwgcmVnKTsKPiArfQo+IGRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ2Z4LmggYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ2Z4LmgKPiBpbmRleCBhZjRiZDI3Li5jYTE3
ZmZiIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nZngu
aAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nZnguaAo+IEBAIC05
NCw2ICs5NCw3IEBAIHN0cnVjdCBhbWRncHVfa2lxIHsKPiAgIAlzdHJ1Y3QgYW1kZ3B1X3JpbmcJ
cmluZzsKPiAgIAlzdHJ1Y3QgYW1kZ3B1X2lycV9zcmMJaXJxOwo+ICAgCWNvbnN0IHN0cnVjdCBr
aXFfcG00X2Z1bmNzICpwbWY7Cj4gKwl1aW50MzJfdAkJCXJlZ192YWxfb2ZmczsKPiAgIH07Cj4g
ICAKPiAgIC8qCj4gQEAgLTM3NSw0ICszNzYsNiBAQCBpbnQgYW1kZ3B1X2dmeF9wcm9jZXNzX3Jh
c19kYXRhX2NiKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LAo+ICAgaW50IGFtZGdwdV9nZnhf
Y3BfZWNjX2Vycm9yX2lycShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKPiAgIAkJCQkgIHN0
cnVjdCBhbWRncHVfaXJxX3NyYyAqc291cmNlLAo+ICAgCQkJCSAgc3RydWN0IGFtZGdwdV9pdl9l
bnRyeSAqZW50cnkpOwo+ICt1aW50MzJfdCBhbWRncHVfa2lxX3JyZWcoc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYsIHVpbnQzMl90IHJlZyk7Cj4gK3ZvaWQgYW1kZ3B1X2tpcV93cmVnKHN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2LCB1aW50MzJfdCByZWcsIHVpbnQzMl90IHYpOwo+ICAgI2Vu
ZGlmCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92aXJ0
LmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdmlydC5jCj4gaW5kZXggMTAz
MDMzZi4uYWRjODEzYyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9h
bWRncHVfdmlydC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3Zp
cnQuYwo+IEBAIC00NSw5OCArNDUsNiBAQCB2b2lkIGFtZGdwdV92aXJ0X2luaXRfc2V0dGluZyhz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKPiAgIAlhZGV2LT5wZ19mbGFncyA9IDA7Cj4gICB9
Cj4gICAKPiAtdWludDMyX3QgYW1kZ3B1X3ZpcnRfa2lxX3JyZWcoc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYsIHVpbnQzMl90IHJlZykKPiAtewo+IC0Jc2lnbmVkIGxvbmcgciwgY250ID0gMDsK
PiAtCXVuc2lnbmVkIGxvbmcgZmxhZ3M7Cj4gLQl1aW50MzJfdCBzZXE7Cj4gLQlzdHJ1Y3QgYW1k
Z3B1X2tpcSAqa2lxID0gJmFkZXYtPmdmeC5raXE7Cj4gLQlzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJp
bmcgPSAma2lxLT5yaW5nOwo+IC0KPiAtCUJVR19PTighcmluZy0+ZnVuY3MtPmVtaXRfcnJlZyk7
Cj4gLQo+IC0Jc3Bpbl9sb2NrX2lycXNhdmUoJmtpcS0+cmluZ19sb2NrLCBmbGFncyk7Cj4gLQlh
bWRncHVfcmluZ19hbGxvYyhyaW5nLCAzMik7Cj4gLQlhbWRncHVfcmluZ19lbWl0X3JyZWcocmlu
ZywgcmVnKTsKPiAtCWFtZGdwdV9mZW5jZV9lbWl0X3BvbGxpbmcocmluZywgJnNlcSk7Cj4gLQlh
bWRncHVfcmluZ19jb21taXQocmluZyk7Cj4gLQlzcGluX3VubG9ja19pcnFyZXN0b3JlKCZraXEt
PnJpbmdfbG9jaywgZmxhZ3MpOwo+IC0KPiAtCXIgPSBhbWRncHVfZmVuY2Vfd2FpdF9wb2xsaW5n
KHJpbmcsIHNlcSwgTUFYX0tJUV9SRUdfV0FJVCk7Cj4gLQo+IC0JLyogZG9uJ3Qgd2FpdCBhbnlt
b3JlIGZvciBncHUgcmVzZXQgY2FzZSBiZWNhdXNlIHRoaXMgd2F5IG1heQo+IC0JICogYmxvY2sg
Z3B1X3JlY292ZXIoKSByb3V0aW5lIGZvcmV2ZXIsIGUuZy4gdGhpcyB2aXJ0X2tpcV9ycmVnCj4g
LQkgKiBpcyB0cmlnZ2VyZWQgaW4gVFRNIGFuZCB0dG1fYm9fbG9ja19kZWxheWVkX3dvcmtxdWV1
ZSgpIHdpbGwKPiAtCSAqIG5ldmVyIHJldHVybiBpZiB3ZSBrZWVwIHdhaXRpbmcgaW4gdmlydF9r
aXFfcnJlZywgd2hpY2ggY2F1c2UKPiAtCSAqIGdwdV9yZWNvdmVyKCkgaGFuZyB0aGVyZS4KPiAt
CSAqCj4gLQkgKiBhbHNvIGRvbid0IHdhaXQgYW55bW9yZSBmb3IgSVJRIGNvbnRleHQKPiAtCSAq
ICovCj4gLQlpZiAociA8IDEgJiYgKGFkZXYtPmluX2dwdV9yZXNldCB8fCBpbl9pbnRlcnJ1cHQo
KSkpCj4gLQkJZ290byBmYWlsZWRfa2lxX3JlYWQ7Cj4gLQo+IC0JbWlnaHRfc2xlZXAoKTsKPiAt
CXdoaWxlIChyIDwgMSAmJiBjbnQrKyA8IE1BWF9LSVFfUkVHX1RSWSkgewo+IC0JCW1zbGVlcChN
QVhfS0lRX1JFR19CQUlMT1VUX0lOVEVSVkFMKTsKPiAtCQlyID0gYW1kZ3B1X2ZlbmNlX3dhaXRf
cG9sbGluZyhyaW5nLCBzZXEsIE1BWF9LSVFfUkVHX1dBSVQpOwo+IC0JfQo+IC0KPiAtCWlmIChj
bnQgPiBNQVhfS0lRX1JFR19UUlkpCj4gLQkJZ290byBmYWlsZWRfa2lxX3JlYWQ7Cj4gLQo+IC0J
cmV0dXJuIGFkZXYtPndiLndiW2FkZXYtPnZpcnQucmVnX3ZhbF9vZmZzXTsKPiAtCj4gLWZhaWxl
ZF9raXFfcmVhZDoKPiAtCXByX2VycigiZmFpbGVkIHRvIHJlYWQgcmVnOiV4XG4iLCByZWcpOwo+
IC0JcmV0dXJuIH4wOwo+IC19Cj4gLQo+IC12b2lkIGFtZGdwdV92aXJ0X2tpcV93cmVnKHN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2LCB1aW50MzJfdCByZWcsIHVpbnQzMl90IHYpCj4gLXsKPiAt
CXNpZ25lZCBsb25nIHIsIGNudCA9IDA7Cj4gLQl1bnNpZ25lZCBsb25nIGZsYWdzOwo+IC0JdWlu
dDMyX3Qgc2VxOwo+IC0Jc3RydWN0IGFtZGdwdV9raXEgKmtpcSA9ICZhZGV2LT5nZngua2lxOwo+
IC0Jc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nID0gJmtpcS0+cmluZzsKPiAtCj4gLQlCVUdfT04o
IXJpbmctPmZ1bmNzLT5lbWl0X3dyZWcpOwo+IC0KPiAtCXNwaW5fbG9ja19pcnFzYXZlKCZraXEt
PnJpbmdfbG9jaywgZmxhZ3MpOwo+IC0JYW1kZ3B1X3JpbmdfYWxsb2MocmluZywgMzIpOwo+IC0J
YW1kZ3B1X3JpbmdfZW1pdF93cmVnKHJpbmcsIHJlZywgdik7Cj4gLQlhbWRncHVfZmVuY2VfZW1p
dF9wb2xsaW5nKHJpbmcsICZzZXEpOwo+IC0JYW1kZ3B1X3JpbmdfY29tbWl0KHJpbmcpOwo+IC0J
c3Bpbl91bmxvY2tfaXJxcmVzdG9yZSgma2lxLT5yaW5nX2xvY2ssIGZsYWdzKTsKPiAtCj4gLQly
ID0gYW1kZ3B1X2ZlbmNlX3dhaXRfcG9sbGluZyhyaW5nLCBzZXEsIE1BWF9LSVFfUkVHX1dBSVQp
Owo+IC0KPiAtCS8qIGRvbid0IHdhaXQgYW55bW9yZSBmb3IgZ3B1IHJlc2V0IGNhc2UgYmVjYXVz
ZSB0aGlzIHdheSBtYXkKPiAtCSAqIGJsb2NrIGdwdV9yZWNvdmVyKCkgcm91dGluZSBmb3JldmVy
LCBlLmcuIHRoaXMgdmlydF9raXFfcnJlZwo+IC0JICogaXMgdHJpZ2dlcmVkIGluIFRUTSBhbmQg
dHRtX2JvX2xvY2tfZGVsYXllZF93b3JrcXVldWUoKSB3aWxsCj4gLQkgKiBuZXZlciByZXR1cm4g
aWYgd2Uga2VlcCB3YWl0aW5nIGluIHZpcnRfa2lxX3JyZWcsIHdoaWNoIGNhdXNlCj4gLQkgKiBn
cHVfcmVjb3ZlcigpIGhhbmcgdGhlcmUuCj4gLQkgKgo+IC0JICogYWxzbyBkb24ndCB3YWl0IGFu
eW1vcmUgZm9yIElSUSBjb250ZXh0Cj4gLQkgKiAqLwo+IC0JaWYgKHIgPCAxICYmIChhZGV2LT5p
bl9ncHVfcmVzZXQgfHwgaW5faW50ZXJydXB0KCkpKQo+IC0JCWdvdG8gZmFpbGVkX2tpcV93cml0
ZTsKPiAtCj4gLQltaWdodF9zbGVlcCgpOwo+IC0Jd2hpbGUgKHIgPCAxICYmIGNudCsrIDwgTUFY
X0tJUV9SRUdfVFJZKSB7Cj4gLQo+IC0JCW1zbGVlcChNQVhfS0lRX1JFR19CQUlMT1VUX0lOVEVS
VkFMKTsKPiAtCQlyID0gYW1kZ3B1X2ZlbmNlX3dhaXRfcG9sbGluZyhyaW5nLCBzZXEsIE1BWF9L
SVFfUkVHX1dBSVQpOwo+IC0JfQo+IC0KPiAtCWlmIChjbnQgPiBNQVhfS0lRX1JFR19UUlkpCj4g
LQkJZ290byBmYWlsZWRfa2lxX3dyaXRlOwo+IC0KPiAtCXJldHVybjsKPiAtCj4gLWZhaWxlZF9r
aXFfd3JpdGU6Cj4gLQlwcl9lcnIoImZhaWxlZCB0byB3cml0ZSByZWc6JXhcbiIsIHJlZyk7Cj4g
LX0KPiAtCj4gICB2b2lkIGFtZGdwdV92aXJ0X2tpcV9yZWdfd3JpdGVfcmVnX3dhaXQoc3RydWN0
IGFtZGdwdV9kZXZpY2UgKmFkZXYsCj4gICAJCQkJCXVpbnQzMl90IHJlZzAsIHVpbnQzMl90IHJl
ZzEsCj4gICAJCQkJCXVpbnQzMl90IHJlZiwgdWludDMyX3QgbWFzaykKPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZpcnQuaCBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV92aXJ0LmgKPiBpbmRleCA0ZDFhYzc2Li5kYWFmOTA5IDEwMDY0
NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92aXJ0LmgKPiArKysg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdmlydC5oCj4gQEAgLTI4Nyw4ICsy
ODcsNiBAQCBzdGF0aWMgaW5saW5lIGJvb2wgaXNfdmlydHVhbF9tYWNoaW5lKHZvaWQpCj4gICAK
PiAgIGJvb2wgYW1kZ3B1X3ZpcnRfbW1pb19ibG9ja2VkKHN0cnVjdCBhbWRncHVfZGV2aWNlICph
ZGV2KTsKPiAgIHZvaWQgYW1kZ3B1X3ZpcnRfaW5pdF9zZXR0aW5nKHN0cnVjdCBhbWRncHVfZGV2
aWNlICphZGV2KTsKPiAtdWludDMyX3QgYW1kZ3B1X3ZpcnRfa2lxX3JyZWcoc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYsIHVpbnQzMl90IHJlZyk7Cj4gLXZvaWQgYW1kZ3B1X3ZpcnRfa2lxX3dy
ZWcoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHVpbnQzMl90IHJlZywgdWludDMyX3Qgdik7
Cj4gICB2b2lkIGFtZGdwdV92aXJ0X2tpcV9yZWdfd3JpdGVfcmVnX3dhaXQoc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYsCj4gICAJCQkJCXVpbnQzMl90IHJlZzAsIHVpbnQzMl90IHJyZWcxLAo+
ICAgCQkJCQl1aW50MzJfdCByZWYsIHVpbnQzMl90IG1hc2spOwo+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjEwXzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2dmeF92MTBfMC5jCj4gaW5kZXggMWNmYzUwOC4uZTc0ZWQwNiAxMDA2NDQKPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjEwXzAuYwo+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92MTBfMC5jCj4gQEAgLTQ3NDcsNiArNDc0Nyw3IEBAIHN0
YXRpYyB2b2lkIGdmeF92MTBfMF9yaW5nX2VtaXRfdG16KHN0cnVjdCBhbWRncHVfcmluZyAqcmlu
ZywgYm9vbCBzdGFydCwKPiAgIHN0YXRpYyB2b2lkIGdmeF92MTBfMF9yaW5nX2VtaXRfcnJlZyhz
dHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsIHVpbnQzMl90IHJlZykKPiAgIHsKPiAgIAlzdHJ1Y3Qg
YW1kZ3B1X2RldmljZSAqYWRldiA9IHJpbmctPmFkZXY7Cj4gKwlzdHJ1Y3QgYW1kZ3B1X2tpcSAq
a2lxID0gJmFkZXYtPmdmeC5raXE7Cj4gICAKPiAgIAlhbWRncHVfcmluZ193cml0ZShyaW5nLCBQ
QUNLRVQzKFBBQ0tFVDNfQ09QWV9EQVRBLCA0KSk7Cj4gICAJYW1kZ3B1X3Jpbmdfd3JpdGUocmlu
ZywgMCB8CS8qIHNyYzogcmVnaXN0ZXIqLwo+IEBAIC00NzU1LDkgKzQ3NTYsOSBAQCBzdGF0aWMg
dm9pZCBnZnhfdjEwXzBfcmluZ19lbWl0X3JyZWcoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLCB1
aW50MzJfdCByZWcpCj4gICAJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgcmVnKTsKPiAgIAlhbWRn
cHVfcmluZ193cml0ZShyaW5nLCAwKTsKPiAgIAlhbWRncHVfcmluZ193cml0ZShyaW5nLCBsb3dl
cl8zMl9iaXRzKGFkZXYtPndiLmdwdV9hZGRyICsKPiAtCQkJCWFkZXYtPnZpcnQucmVnX3ZhbF9v
ZmZzICogNCkpOwo+ICsJCQkJa2lxLT5yZWdfdmFsX29mZnMgKiA0KSk7Cj4gICAJYW1kZ3B1X3Jp
bmdfd3JpdGUocmluZywgdXBwZXJfMzJfYml0cyhhZGV2LT53Yi5ncHVfYWRkciArCj4gLQkJCQlh
ZGV2LT52aXJ0LnJlZ192YWxfb2ZmcyAqIDQpKTsKPiArCQkJCWtpcS0+cmVnX3ZhbF9vZmZzICog
NCkpOwo+ICAgfQo+ICAgCj4gICBzdGF0aWMgdm9pZCBnZnhfdjEwXzBfcmluZ19lbWl0X3dyZWco
c3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLCB1aW50MzJfdCByZWcsCj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92OF8wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9nZnhfdjhfMC5jCj4gaW5kZXggMzA2ZWU2MS4uYTQ2ZWMxYyAxMDA2NDQKPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjhfMC5jCj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3Y4XzAuYwo+IEBAIC02NDUwLDYgKzY0NTAsNyBAQCBzdGF0
aWMgdm9pZCBnZnhfdjhfMF9yaW5nX2VtaXRfcGF0Y2hfY29uZF9leGVjKHN0cnVjdCBhbWRncHVf
cmluZyAqcmluZywgdW5zaWduZQo+ICAgc3RhdGljIHZvaWQgZ2Z4X3Y4XzBfcmluZ19lbWl0X3Jy
ZWcoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLCB1aW50MzJfdCByZWcpCj4gICB7Cj4gICAJc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSByaW5nLT5hZGV2Owo+ICsJc3RydWN0IGFtZGdwdV9r
aXEgKmtpcSA9ICZhZGV2LT5nZngua2lxOwo+ICAgCj4gICAJYW1kZ3B1X3Jpbmdfd3JpdGUocmlu
ZywgUEFDS0VUMyhQQUNLRVQzX0NPUFlfREFUQSwgNCkpOwo+ICAgCWFtZGdwdV9yaW5nX3dyaXRl
KHJpbmcsIDAgfAkvKiBzcmM6IHJlZ2lzdGVyKi8KPiBAQCAtNjQ1OCw5ICs2NDU5LDkgQEAgc3Rh
dGljIHZvaWQgZ2Z4X3Y4XzBfcmluZ19lbWl0X3JyZWcoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5n
LCB1aW50MzJfdCByZWcpCj4gICAJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgcmVnKTsKPiAgIAlh
bWRncHVfcmluZ193cml0ZShyaW5nLCAwKTsKPiAgIAlhbWRncHVfcmluZ193cml0ZShyaW5nLCBs
b3dlcl8zMl9iaXRzKGFkZXYtPndiLmdwdV9hZGRyICsKPiAtCQkJCWFkZXYtPnZpcnQucmVnX3Zh
bF9vZmZzICogNCkpOwo+ICsJCQkJa2lxLT5yZWdfdmFsX29mZnMgKiA0KSk7Cj4gICAJYW1kZ3B1
X3Jpbmdfd3JpdGUocmluZywgdXBwZXJfMzJfYml0cyhhZGV2LT53Yi5ncHVfYWRkciArCj4gLQkJ
CQlhZGV2LT52aXJ0LnJlZ192YWxfb2ZmcyAqIDQpKTsKPiArCQkJCWtpcS0+cmVnX3ZhbF9vZmZz
ICogNCkpOwo+ICAgfQo+ICAgCj4gICBzdGF0aWMgdm9pZCBnZnhfdjhfMF9yaW5nX2VtaXRfd3Jl
ZyhzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsIHVpbnQzMl90IHJlZywKPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3Y5XzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2dmeF92OV8wLmMKPiBpbmRleCAwZGZkYzg2Li5kOWQ3ZWU5IDEwMDY0NAo+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92OV8wLmMKPiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjlfMC5jCj4gQEAgLTUyMjEsNiArNTIyMSw3IEBAIHN0
YXRpYyB2b2lkIGdmeF92OV8wX3JpbmdfZW1pdF9wYXRjaF9jb25kX2V4ZWMoc3RydWN0IGFtZGdw
dV9yaW5nICpyaW5nLCB1bnNpZ25lCj4gICBzdGF0aWMgdm9pZCBnZnhfdjlfMF9yaW5nX2VtaXRf
cnJlZyhzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsIHVpbnQzMl90IHJlZykKPiAgIHsKPiAgIAlz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IHJpbmctPmFkZXY7Cj4gKwlzdHJ1Y3QgYW1kZ3B1
X2tpcSAqa2lxID0gJmFkZXYtPmdmeC5raXE7Cj4gICAKPiAgIAlhbWRncHVfcmluZ193cml0ZShy
aW5nLCBQQUNLRVQzKFBBQ0tFVDNfQ09QWV9EQVRBLCA0KSk7Cj4gICAJYW1kZ3B1X3Jpbmdfd3Jp
dGUocmluZywgMCB8CS8qIHNyYzogcmVnaXN0ZXIqLwo+IEBAIC01MjI5LDkgKzUyMzAsOSBAQCBz
dGF0aWMgdm9pZCBnZnhfdjlfMF9yaW5nX2VtaXRfcnJlZyhzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJp
bmcsIHVpbnQzMl90IHJlZykKPiAgIAlhbWRncHVfcmluZ193cml0ZShyaW5nLCByZWcpOwo+ICAg
CWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIDApOwo+ICAgCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcs
IGxvd2VyXzMyX2JpdHMoYWRldi0+d2IuZ3B1X2FkZHIgKwo+IC0JCQkJYWRldi0+dmlydC5yZWdf
dmFsX29mZnMgKiA0KSk7Cj4gKwkJCQlraXEtPnJlZ192YWxfb2ZmcyAqIDQpKTsKPiAgIAlhbWRn
cHVfcmluZ193cml0ZShyaW5nLCB1cHBlcl8zMl9iaXRzKGFkZXYtPndiLmdwdV9hZGRyICsKPiAt
CQkJCWFkZXYtPnZpcnQucmVnX3ZhbF9vZmZzICogNCkpOwo+ICsJCQkJa2lxLT5yZWdfdmFsX29m
ZnMgKiA0KSk7Cj4gICB9Cj4gICAKPiAgIHN0YXRpYyB2b2lkIGdmeF92OV8wX3JpbmdfZW1pdF93
cmVnKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywgdWludDMyX3QgcmVnLAoKX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxpc3QK
YW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5v
cmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4Cg==
