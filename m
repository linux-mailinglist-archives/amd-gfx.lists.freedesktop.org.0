Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 88C91114BAB
	for <lists+amd-gfx@lfdr.de>; Fri,  6 Dec 2019 05:32:38 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E6DB76E171;
	Fri,  6 Dec 2019 04:32:36 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM11-DM6-obe.outbound.protection.outlook.com
 (mail-dm6nam11on2079.outbound.protection.outlook.com [40.107.223.79])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 28BBE88BE3
 for <amd-gfx@lists.freedesktop.org>; Fri,  6 Dec 2019 04:32:36 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=BNABwtEHu7JgXhLmXVaADR3ISTYah9Pt1B9CQtCVk2dvrac0LG4Msd/r2g9Rzo6yqfwEc5wWxwBLkb2cmKJvscd7NXK9w5jFxeUICZPful+tiZYwCBAHCCTydV7jjVHYWI9+7fTFoDXlgJmC0wsxRriDyxzDQVK6/Q4oqVqss6n58Dqs1xHM/YupCKWM0uM0buSHlqrwqnobfi3jfipWRlQj8yipolvp9KPRVV7eJia9PktknnmUF/LYNXjPsucpOKbj/vSvWfTrnN5PnAcpK8p1f4hKW4wazVGDk5NZnIh5kXt0wcsSz0C1s3o3GA4m2sQucePQAJiQpUqeKZqagg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=FEsuOuXFQ81+j91YZ2FRP5m9HqKADQevMDo52FyNgiM=;
 b=Hm9A6LCh7HOJUsA4tGjxEs9KqrVwLSQEZqyTqBCJCt7Hy71/pSkwkgsTltEBxb5BsYuHmy4egNeMiT+2oM0KFveiXqdgAp7t3UEIYlEWF3sAffaVzJkVm+wgPgLDzs0pAfQxEPnM0iuGLRHyT6yX1wHTjMl5S0BciEmMbsQVDxC084c3TU3XoqumpmNzutg/ktG+0s2iDLu8OXKvgGUwYpuEKuyHOU6lD54IcmOXdoRRZ8/7sAQlY9jYDRXzkWcTuLp/fmjqdMa9DHYUtvBI0Jstcqzgzyf97d0nP70vqwph3PCUoKPN6UU0azmMNsVm7PtroarsVkybN7/o3mw0ww==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from DM6PR12MB3355.namprd12.prod.outlook.com (20.178.29.90) by
 DM6PR12MB3483.namprd12.prod.outlook.com (20.178.31.206) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2495.22; Fri, 6 Dec 2019 04:32:34 +0000
Received: from DM6PR12MB3355.namprd12.prod.outlook.com
 ([fe80::71fe:9848:c834:1cd6]) by DM6PR12MB3355.namprd12.prod.outlook.com
 ([fe80::71fe:9848:c834:1cd6%3]) with mapi id 15.20.2516.014; Fri, 6 Dec 2019
 04:32:34 +0000
From: Luben Tuikov <luben.tuikov@amd.com>
To: amd-gfx@lists.freedesktop.org
Subject: [PATCH 1/3] tests/amdgpu: Fix various warnings
Date: Thu,  5 Dec 2019 23:32:16 -0500
Message-Id: <f57d33f459df0c733ef108b2beb889e844450542.1575606273.git.luben.tuikov@amd.com>
X-Mailer: git-send-email 2.24.0.155.gd9f6f3b619
X-ClientProxiedBy: YTOPR0101CA0066.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:b00:14::43) To DM6PR12MB3355.namprd12.prod.outlook.com
 (2603:10b6:5:115::26)
MIME-Version: 1.0
X-Mailer: git-send-email 2.24.0.155.gd9f6f3b619
X-Originating-IP: [165.204.55.250]
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-HT: Tenant
X-MS-Office365-Filtering-Correlation-Id: 9193f090-5b6a-4757-8e65-08d77a055070
X-MS-TrafficTypeDiagnostic: DM6PR12MB3483:|DM6PR12MB3483:
X-MS-Exchange-Transport-Forked: True
X-Microsoft-Antispam-PRVS: <DM6PR12MB348356A173AA1777FDEB0B4A995F0@DM6PR12MB3483.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:3826;
X-Forefront-PRVS: 0243E5FD68
X-Forefront-Antispam-Report: SFV:NSPM;
 SFS:(10009020)(4636009)(366004)(136003)(396003)(376002)(39860400002)(346002)(189003)(199004)(66946007)(478600001)(316002)(2870700001)(8936002)(86362001)(54906003)(118296001)(36756003)(81166006)(5660300002)(14454004)(81156014)(50226002)(30864003)(25786009)(305945005)(2906002)(48376002)(6916009)(44832011)(50466002)(8676002)(6486002)(66476007)(51416003)(26005)(6666004)(4326008)(14444005)(6512007)(2616005)(66556008)(99286004)(186003)(6506007)(52116002);
 DIR:OUT; SFP:1101; SCL:1; SRVR:DM6PR12MB3483;
 H:DM6PR12MB3355.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: SiVdgNEOU0pLAKIfB71nEN29InGm8IHftie/2YMf/N0p7G+M4hDf+7UBIqY+u6vGTr+BpscjrFptsPvbgm2MuFl9NzSab9mv6oZ9jpmHWYRNyZXvddIl1XgxhzCwNmQlbp+eYgaXU0861svjF0vZwq70glq3RyRNyruu08y6yOuBJpuh9V/NQkDyFRdWq91//8EXv2TxXhNzgURq5c1rPHZZS+l/wywCIT93cO08fsTDZBcHxnMqRG1vHXPe0msOuz0p5ekeu/EFPO3f9mhmGXVME6QoJPQnAaXxNhNzW7Wis4QaMDIHSfHY7OEldhY6NQDHL1Y5TDggtAhlQrQKIhOObZlFCKPR7Q20jN6/+z4s6RnEoacag25dPxkPCD/uJ/yVS3hpJ2magu9+P9ch5DF39ioRYlhucwuijO817qMhClRYVeRmub0YBZ3nb//9
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 9193f090-5b6a-4757-8e65-08d77a055070
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 06 Dec 2019 04:32:34.0992 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: amtdc7Mo8mnXMxY3m4nLwXrJuEsa/mSbm2uG/FJrhc/tCudf6EDG7ealXQAucxgl
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM6PR12MB3483
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=FEsuOuXFQ81+j91YZ2FRP5m9HqKADQevMDo52FyNgiM=;
 b=hPdmBtmg5yUL1QyduN7kSSKc7L48HrWF4M1kA5ZHi6klcT2M4oqq6VmdHRd4xttmncsKuUmV885hS+2wz7qCXnRuZ3gRXzOPRdmTjp0VnsI8jJEIxg83PzUEJHAgYBziDAn8j9/WMafIJAhSXGU4zhYeWMifOsz/pWrQHDg7z6k=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Luben.Tuikov@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Alexander Deucher <Alexander.Deucher@amd.com>,
 Luben Tuikov <luben.tuikov@amd.com>,
 Christian Koenig <Christian.Koenig@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

VGhpcyBwYXRjaCBmaXhlcyB0aGUgZm9sbG93aW5nIHdhcm5pbmdzOgotV2Zvcm1hdD0KLVdtYXli
ZS11bmluaXRpYWxpemVkCi1XbWlzbGVhZGluZy1pbmRlbnRhdGlvbgotV3N0cmluZ29wLXRydW5j
YXRpb24KLVd1bnVzZWQtZnVuY3Rpb24KLVd1bnVzZWQtdmFyaWFibGUKCkl0IGFsc28gcmVtb3Zl
cyBmb3J3YXJkIGRlY2xhcmF0aW9ucyBhbmQgbW92ZXMKZ2xvYmFsIGZ1bmN0aW9ucyB0byB0aGUg
Ym90dG9tLCBrZWVwaW5nIGxvY2FscwphdCB0aGUgdG9wLCBpbiByYXNfdGVzdHMuYy4KClNpZ25l
ZC1vZmYtYnk6IEx1YmVuIFR1aWtvdiA8bHViZW4udHVpa292QGFtZC5jb20+Ci0tLQogYW1kZ3B1
L2FtZGdwdV9iby5jICAgICAgICAgICB8ICAgMiAtCiB0ZXN0cy9hbWRncHUvYmFzaWNfdGVzdHMu
YyAgIHwgICA3ICstCiB0ZXN0cy9hbWRncHUvYm9fdGVzdHMuYyAgICAgIHwgICA5ICstCiB0ZXN0
cy9hbWRncHUvY3NfdGVzdHMuYyAgICAgIHwgICAxICsKIHRlc3RzL2FtZGdwdS9yYXNfdGVzdHMu
YyAgICAgfCAyNDEgKysrKysrKysrKysrKysrKystLS0tLS0tLS0tLS0tLS0tLS0KIHRlc3RzL2Ft
ZGdwdS9zeW5jb2JqX3Rlc3RzLmMgfCAgIDIgKy0KIDYgZmlsZXMgY2hhbmdlZCwgMTI0IGluc2Vy
dGlvbnMoKyksIDEzOCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9hbWRncHUvYW1kZ3B1X2Jv
LmMgYi9hbWRncHUvYW1kZ3B1X2JvLmMKaW5kZXggYzU0Njg3ZWQuLmQ2ZWEwZTc0IDEwMDY0NAot
LS0gYS9hbWRncHUvYW1kZ3B1X2JvLmMKKysrIGIvYW1kZ3B1L2FtZGdwdV9iby5jCkBAIC0zOTYs
NyArMzk2LDYgQEAgdW5sb2NrOgogZHJtX3B1YmxpYyBpbnQgYW1kZ3B1X2dldF9mYl9pZChhbWRn
cHVfZGV2aWNlX2hhbmRsZSBkZXYsIHVuc2lnbmVkIGludCAqZmJfaWQpCiB7CiAJZHJtTW9kZVJl
c1B0ciBtb2RlX3JlczsKLQlpbnQgY291bnRfY3J0Y3M7CiAJZHJtTW9kZUNydGNQdHIgbW9kZV9j
cnRjOwogCWludCBjdXJyZW50X2lkID0gMDsKIAlpbnQgciA9IDA7CkBAIC00MjEsNyArNDIwLDYg
QEAgZHJtX3B1YmxpYyBpbnQgYW1kZ3B1X2dldF9mYl9pZChhbWRncHVfZGV2aWNlX2hhbmRsZSBk
ZXYsIHVuc2lnbmVkIGludCAqZmJfaWQpCiAJaWYgKCFtb2RlX3JlcykKIAkJcmV0dXJuIEVGQVVM
VDsKIAotCWNvdW50X2NydGNzID0gbW9kZV9yZXMtPmNvdW50X2NydGNzOwogCWZvciAoaSA9IDA7
IGkgPCBtb2RlX3Jlcy0+Y291bnRfY3J0Y3M7IGkrKykgewogCQltb2RlX2NydGMgPSBkcm1Nb2Rl
R2V0Q3J0YyhmZCwgbW9kZV9yZXMtPmNydGNzW2ldKTsKIAkJaWYgKG1vZGVfY3J0YykgewpkaWZm
IC0tZ2l0IGEvdGVzdHMvYW1kZ3B1L2Jhc2ljX3Rlc3RzLmMgYi90ZXN0cy9hbWRncHUvYmFzaWNf
dGVzdHMuYwppbmRleCBjM2MwOTcwMi4uY2NlMDY0MGEgMTAwNjQ0Ci0tLSBhL3Rlc3RzL2FtZGdw
dS9iYXNpY190ZXN0cy5jCisrKyBiL3Rlc3RzL2FtZGdwdS9iYXNpY190ZXN0cy5jCkBAIC0zMjMx
LDcgKzMyMzEsNyBAQCBzdGF0aWMgdm9pZCBhbWRncHVfbWVtY3B5X2RyYXcoYW1kZ3B1X2Rldmlj
ZV9oYW5kbGUgZGV2aWNlX2hhbmRsZSwKIAlpbnQgYm9fY21kX3NpemUgPSA0MDk2OwogCXN0cnVj
dCBhbWRncHVfY3NfcmVxdWVzdCBpYnNfcmVxdWVzdCA9IHswfTsKIAlzdHJ1Y3QgYW1kZ3B1X2Nz
X2liX2luZm8gaWJfaW5mbz0gezB9OwotCXVpbnQzMl90IGhhbmdfc3RhdGUsIGhhbmdzLCBleHBp
cmVkOworCXVpbnQzMl90IGV4cGlyZWQ7CiAJYW1kZ3B1X2JvX2xpc3RfaGFuZGxlIGJvX2xpc3Q7
CiAJc3RydWN0IGFtZGdwdV9jc19mZW5jZSBmZW5jZV9zdGF0dXMgPSB7MH07CiAKQEAgLTM0Nzks
MTAgKzM0NzksMTEgQEAgYW1kZ3B1X2RpcmVjdF9nbWFfYm9fYWxsb2NfYW5kX21hcChhbWRncHVf
ZGV2aWNlX2hhbmRsZSBkZXYsIGFtZGdwdV9kZXZpY2VfaGFuZGwKIAkJCWdvdG8gZXJyb3JfdmFf
bWFwOwogCX0KIAotCWlmIChjcHUpCisJaWYgKGNwdSkgewogCQlyID0gYW1kZ3B1X2JvX2NwdV9t
YXAoYnVmX2hhbmRsZV9pbXBvcnQsIGNwdSk7CiAJCWlmKHIpCiAJCQlnb3RvIGVycm9yX3ZhX21h
cDsKKwl9CiAKIAkqYm8gPSBidWZfaGFuZGxlOwogCSpib19wZWVyID0gYnVmX2hhbmRsZV9pbXBv
cnQ7CkBAIC0zNjEwLDcgKzM2MTEsNyBAQCBzdGF0aWMgdm9pZCBhbWRncHVfZGlyZWN0X2dtYV9t
bWFwKGFtZGdwdV9kZXZpY2VfaGFuZGxlIGRldiwKIAlhbWRncHVfYm9faGFuZGxlICpidWZfaGFu
ZGxlX2ltcG9ydDsKIAl2b2xhdGlsZSB1aW50OF90ICoqcHRyOwogCXN0cnVjdCBkcm1fYW1kZ3B1
X2NhcGFiaWxpdHkgY2FwOwotCXVpbnQ2NF90IHNpemUgPSA0MDk2LCBwaHlzX2FkZHIsIHJlbWFp
bjsKKwl1aW50NjRfdCBzaXplID0gNDA5NiwgcmVtYWluOwogCWludCBpLCBqLCByLCB0c3RfbG9v
cCA9IDIwOwogCiAJYnVmX2hhbmRsZSA9IGNhbGxvYyh0c3RfbG9vcCwgc2l6ZW9mKCpidWZfaGFu
ZGxlKSk7CmRpZmYgLS1naXQgYS90ZXN0cy9hbWRncHUvYm9fdGVzdHMuYyBiL3Rlc3RzL2FtZGdw
dS9ib190ZXN0cy5jCmluZGV4IDI3MDQ4Yzg4Li43ZmNhYmI4NSAxMDA2NDQKLS0tIGEvdGVzdHMv
YW1kZ3B1L2JvX3Rlc3RzLmMKKysrIGIvdGVzdHMvYW1kZ3B1L2JvX3Rlc3RzLmMKQEAgLTMyNSw4
ICszMjUsNyBAQCBzdGF0aWMgdm9pZCBhbWRncHVfYm9fZmluZF9ieV9jcHVfbWFwcGluZyh2b2lk
KQogfQogc3RhdGljIHZvaWQgYW1kZ3B1X2dldF9mYl9pZF9hbmRfaGFuZGxlKHZvaWQpCiB7Ci0J
dWludDMyX3QgKnB0cjsKLQlpbnQgaSwgcjsKKwlpbnQgcjsKIAl1bnNpZ25lZCBpbnQgZmJfaWQ7
CiAJc3RydWN0IGFtZGdwdV9ib19pbXBvcnRfcmVzdWx0IG91dHB1dDsKIApAQCAtMzUyLDcgKzM1
MSw3IEBAIHN0YXRpYyB2b2lkIGFtZGdwdV9ib19zc2codm9pZCkKIAlpbnQgaSwgaiwgZmQ7CiAJ
dWludDY0X3QgcGF0dGVybiA9IDB4ZGVhZGJlZWYxMjM0NTY3OCwgb3V0OwogCXZvaWQgKmJ1ZjsK
LQlib29sIHdyaXRlX2lzX29rOworCWJvb2wgd3JpdGVfaXNfb2sgPSBmYWxzZTsKIAogCUNVX0FT
U0VSVCghYW1kZ3B1X3F1ZXJ5X2NhcGFiaWxpdHkoZGV2aWNlX2hhbmRsZSwgJmNhcCkpOwogCWlm
KCEoY2FwLmZsYWcgJiBBTURHUFVfQ0FQQUJJTElUWV9TU0dfRkxBRykpIHsKQEAgLTM2Myw3ICsz
NjIsNyBAQCBzdGF0aWMgdm9pZCBhbWRncHVfYm9fc3NnKHZvaWQpCiAJaWYgKGJ1Zl9zaXplID4g
Y2FwLmRpcmVjdF9nbWFfc2l6ZSA8PCAyMCkKIAkJYnVmX3NpemUgPSBjYXAuZGlyZWN0X2dtYV9z
aXplIDw8IDIwOwogCi0JcHJpbnRmKCJTU0cgcmVhZC93cml0ZSBibG9jayBzaXplIDB4JXhcbiIs
IGJ1Zl9zaXplKTsKKwlwcmludGYoIlNTRyByZWFkL3dyaXRlIGJsb2NrIHNpemUgMHglbHhcbiIs
IGJ1Zl9zaXplKTsKIAogCUNVX0FTU0VSVCgoZmQgPSBvcGVuKGluX2ZpbGUsIE9fV1JPTkxZIHwg
T19DUkVBVCwgU19JUldYVSkpID49IDApOwogCWZvciAoaSA9IDA7IGkgPCBidWZfc2l6ZTsgaSAr
PSBzaXplb2YocGF0dGVybikpIHsKQEAgLTQxMyw3ICs0MTIsNyBAQCBzdGF0aWMgdm9pZCBhbWRn
cHVfYm9fc3NnKHZvaWQpCiAJZm9yIChpID0gMDsgaSA8IDM7IGkrKykgewogCQlzdHJ1Y3QgdGlt
ZXNwZWMgdHMxLCB0czI7CiAJCWRvdWJsZSBhLCBiLCBjOwotCQlib29sIHdyaXRlX2lzX3NhbWU7
CisJCWJvb2wgd3JpdGVfaXNfc2FtZSA9IGZhbHNlOwogCiAJCUNVX0FTU0VSVCgoZmQgPSBvcGVu
KG91dF9maWxlLCBPX1dST05MWSB8IE9fQ1JFQVQgfCBPX0RJUkVDVCwgU19JUldYVSkpID49IDAp
OwogCmRpZmYgLS1naXQgYS90ZXN0cy9hbWRncHUvY3NfdGVzdHMuYyBiL3Rlc3RzL2FtZGdwdS9j
c190ZXN0cy5jCmluZGV4IGMwOTAzYTJhLi4xMDEyNGMxNSAxMDA2NDQKLS0tIGEvdGVzdHMvYW1k
Z3B1L2NzX3Rlc3RzLmMKKysrIGIvdGVzdHMvYW1kZ3B1L2NzX3Rlc3RzLmMKQEAgLTM2Miw2ICsz
NjIsNyBAQCBzdGF0aWMgdm9pZCBhbWRncHVfY3NfdXZkX2RlY29kZSh2b2lkKQogCQlic19hZGRy
ID0gZmJfYWRkciArIDQqMTAyNDsKIAlkcGJfYWRkciA9IEFMSUdOKGJzX2FkZHIgKyBzaXplb2Yo
dXZkX2JpdHN0cmVhbSksIDQqMTAyNCk7CiAKKwljdHhfYWRkciA9IDA7CiAJaWYgKGZhbWlseV9p
ZCA+PSBBTURHUFVfRkFNSUxZX1ZJKSB7CiAJCWlmICgoZmFtaWx5X2lkID09IEFNREdQVV9GQU1J
TFlfQUkpIHx8CiAJCSAgICAoY2hpcF9pZCA9PSBjaGlwX3JldisweDUwIHx8IGNoaXBfaWQgPT0g
Y2hpcF9yZXYrMHg1QSB8fApkaWZmIC0tZ2l0IGEvdGVzdHMvYW1kZ3B1L3Jhc190ZXN0cy5jIGIv
dGVzdHMvYW1kZ3B1L3Jhc190ZXN0cy5jCmluZGV4IGMxYzU0M2MxLi5kNzE0YmU3MyAxMDA2NDQK
LS0tIGEvdGVzdHMvYW1kZ3B1L3Jhc190ZXN0cy5jCisrKyBiL3Rlc3RzL2FtZGdwdS9yYXNfdGVz
dHMuYwpAQCAtNTIyLDEyNCArNTIyLDYgQEAgc3RhdGljIGludCBhbWRncHVfcmFzX2xvb2t1cF9p
ZChkcm1EZXZpY2VQdHIgZGV2aWNlKQogCXJldHVybiAtMTsKIH0KIAotQ1VfQk9PTCBzdWl0ZV9y
YXNfdGVzdHNfZW5hYmxlKHZvaWQpCi17Ci0JYW1kZ3B1X2RldmljZV9oYW5kbGUgZGV2aWNlX2hh
bmRsZTsKLQl1aW50MzJfdCAgbWFqb3JfdmVyc2lvbjsKLQl1aW50MzJfdCAgbWlub3JfdmVyc2lv
bjsKLQlpbnQgaTsKLQlkcm1EZXZpY2VQdHIgZGV2aWNlOwotCi0JZm9yIChpID0gMDsgaSA8IE1B
WF9DQVJEU19TVVBQT1JURUQgJiYgZHJtX2FtZGdwdVtpXSA+PSAwOyBpKyspIHsKLQkJaWYgKGFt
ZGdwdV9kZXZpY2VfaW5pdGlhbGl6ZShkcm1fYW1kZ3B1W2ldLCAmbWFqb3JfdmVyc2lvbiwKLQkJ
CQkJJm1pbm9yX3ZlcnNpb24sICZkZXZpY2VfaGFuZGxlKSkKLQkJCWNvbnRpbnVlOwotCi0JCWlm
IChkcm1HZXREZXZpY2UyKGRybV9hbWRncHVbaV0sCi0JCQkJCURSTV9ERVZJQ0VfR0VUX1BDSV9S
RVZJU0lPTiwKLQkJCQkJJmRldmljZSkpCi0JCQljb250aW51ZTsKLQotCQlpZiAoZGV2aWNlLT5i
dXN0eXBlID09IERSTV9CVVNfUENJICYmCi0JCQkJYW1kZ3B1X3Jhc19sb29rdXBfY2FwYWJpbGl0
eShkZXZpY2VfaGFuZGxlKSkgewotCQkJYW1kZ3B1X2RldmljZV9kZWluaXRpYWxpemUoZGV2aWNl
X2hhbmRsZSk7Ci0JCQlyZXR1cm4gQ1VfVFJVRTsKLQkJfQotCi0JCWlmIChhbWRncHVfZGV2aWNl
X2RlaW5pdGlhbGl6ZShkZXZpY2VfaGFuZGxlKSkKLQkJCWNvbnRpbnVlOwotCX0KLQotCXJldHVy
biBDVV9GQUxTRTsKLX0KLQotaW50IHN1aXRlX3Jhc190ZXN0c19pbml0KHZvaWQpCi17Ci0JZHJt
RGV2aWNlUHRyIGRldmljZTsKLQlhbWRncHVfZGV2aWNlX2hhbmRsZSBkZXZpY2VfaGFuZGxlOwot
CXVpbnQzMl90ICBtYWpvcl92ZXJzaW9uOwotCXVpbnQzMl90ICBtaW5vcl92ZXJzaW9uOwotCXVp
bnQzMl90ICBjYXBhYmlsaXR5OwotCXN0cnVjdCByYXNfdGVzdF9tYXNrIHRlc3RfbWFzazsKLQlp
bnQgaWQ7Ci0JaW50IGk7Ci0JaW50IHI7Ci0KLQlmb3IgKGkgPSAwOyBpIDwgTUFYX0NBUkRTX1NV
UFBPUlRFRCAmJiBkcm1fYW1kZ3B1W2ldID49IDA7IGkrKykgewotCQlyID0gYW1kZ3B1X2Rldmlj
ZV9pbml0aWFsaXplKGRybV9hbWRncHVbaV0sICZtYWpvcl92ZXJzaW9uLAotCQkJCSZtaW5vcl92
ZXJzaW9uLCAmZGV2aWNlX2hhbmRsZSk7Ci0JCWlmIChyKQotCQkJY29udGludWU7Ci0KLQkJaWYg
KGRybUdldERldmljZTIoZHJtX2FtZGdwdVtpXSwKLQkJCQkJRFJNX0RFVklDRV9HRVRfUENJX1JF
VklTSU9OLAotCQkJCQkmZGV2aWNlKSkgewotCQkJYW1kZ3B1X2RldmljZV9kZWluaXRpYWxpemUo
ZGV2aWNlX2hhbmRsZSk7Ci0JCQljb250aW51ZTsKLQkJfQotCi0JCWlmIChkZXZpY2UtPmJ1c3R5
cGUgIT0gRFJNX0JVU19QQ0kpIHsKLQkJCWFtZGdwdV9kZXZpY2VfZGVpbml0aWFsaXplKGRldmlj
ZV9oYW5kbGUpOwotCQkJY29udGludWU7Ci0JCX0KLQotCQljYXBhYmlsaXR5ID0gYW1kZ3B1X3Jh
c19sb29rdXBfY2FwYWJpbGl0eShkZXZpY2VfaGFuZGxlKTsKLQkJaWYgKGNhcGFiaWxpdHkgPT0g
MCkgewotCQkJYW1kZ3B1X2RldmljZV9kZWluaXRpYWxpemUoZGV2aWNlX2hhbmRsZSk7Ci0JCQlj
b250aW51ZTsKLQotCQl9Ci0KLQkJaWQgPSBhbWRncHVfcmFzX2xvb2t1cF9pZChkZXZpY2UpOwot
CQlpZiAoaWQgPT0gLTEpIHsKLQkJCWFtZGdwdV9kZXZpY2VfZGVpbml0aWFsaXplKGRldmljZV9o
YW5kbGUpOwotCQkJY29udGludWU7Ci0JCX0KLQotCQl0ZXN0X21hc2sgPSBhbWRncHVfcmFzX2dl
dF90ZXN0X21hc2soZGV2aWNlKTsKLQotCQlkZXZpY2VzW2RldmljZXNfY291bnQrK10gPSAoc3Ry
dWN0IGFtZGdwdV9yYXNfZGF0YSkgewotCQkJZGV2aWNlX2hhbmRsZSwgaWQsIGNhcGFiaWxpdHks
IHRlc3RfbWFzaywKLQkJfTsKLQl9Ci0KLQlpZiAoZGV2aWNlc19jb3VudCA9PSAwKQotCQlyZXR1
cm4gQ1VFX1NJTklUX0ZBSUxFRDsKLQotCXJldHVybiBDVUVfU1VDQ0VTUzsKLX0KLQotaW50IHN1
aXRlX3Jhc190ZXN0c19jbGVhbih2b2lkKQotewotCWludCByOwotCWludCBpOwotCWludCByZXQg
PSBDVUVfU1VDQ0VTUzsKLQotCWZvciAoaSA9IDA7IGkgPCBkZXZpY2VzX2NvdW50OyBpKyspIHsK
LQkJciA9IGFtZGdwdV9kZXZpY2VfZGVpbml0aWFsaXplKGRldmljZXNbaV0uZGV2aWNlX2hhbmRs
ZSk7Ci0JCWlmIChyKQotCQkJcmV0ID0gQ1VFX1NDTEVBTl9GQUlMRUQ7Ci0JfQotCXJldHVybiBy
ZXQ7Ci19Ci0KLXN0YXRpYyB2b2lkIGFtZGdwdV9yYXNfZGlzYWJsZV90ZXN0KHZvaWQpOwotc3Rh
dGljIHZvaWQgYW1kZ3B1X3Jhc19lbmFibGVfdGVzdCh2b2lkKTsKLXN0YXRpYyB2b2lkIGFtZGdw
dV9yYXNfaW5qZWN0X3Rlc3Qodm9pZCk7Ci1zdGF0aWMgdm9pZCBhbWRncHVfcmFzX3F1ZXJ5X3Rl
c3Qodm9pZCk7Ci1zdGF0aWMgdm9pZCBhbWRncHVfcmFzX2Jhc2ljX3Rlc3Qodm9pZCk7Ci0KLUNV
X1Rlc3RJbmZvIHJhc190ZXN0c1tdID0gewotCXsgInJhcyBiYXNpYyB0ZXN0IiwJYW1kZ3B1X3Jh
c19iYXNpY190ZXN0IH0sCi0JeyAicmFzIHF1ZXJ5IHRlc3QiLAlhbWRncHVfcmFzX3F1ZXJ5X3Rl
c3QgfSwKLQl7ICJyYXMgaW5qZWN0IHRlc3QiLAlhbWRncHVfcmFzX2luamVjdF90ZXN0IH0sCi0J
eyAicmFzIGRpc2FibGUgdGVzdCIsCWFtZGdwdV9yYXNfZGlzYWJsZV90ZXN0IH0sCi0jaWYgMAot
CXsgInJhcyBlbmFibGUgdGVzdCIsCWFtZGdwdV9yYXNfZW5hYmxlX3Rlc3QgfSwKLSNlbmRpZgot
CUNVX1RFU1RfSU5GT19OVUxMLAotfTsKLQogLy9oZWxwZXJzCiAKIHN0YXRpYyBpbnQgdGVzdF9j
YXJkOwpAQCAtNjQ4LDEwICs1MzAsOCBAQCBzdGF0aWMgY2hhciBkZWJ1Z2ZzX3BhdGhbMTAyNF07
CiBzdGF0aWMgdWludDMyX3QgcmFzX21hc2s7CiBzdGF0aWMgYW1kZ3B1X2RldmljZV9oYW5kbGUg
ZGV2aWNlX2hhbmRsZTsKIAotc3RhdGljIGludCBzZXRfdGVzdF9jYXJkKGludCBjYXJkKQorc3Rh
dGljIHZvaWQgc2V0X3Rlc3RfY2FyZChpbnQgY2FyZCkKIHsKLQlpbnQgaTsKLQogCXRlc3RfY2Fy
ZCA9IGNhcmQ7CiAJc3ByaW50ZihzeXNmc19wYXRoLCAiL3N5cy9jbGFzcy9kcm0vY2FyZCVkL2Rl
dmljZS9yYXMvIiwgZGV2aWNlc1tjYXJkXS5pZCk7CiAJc3ByaW50ZihkZWJ1Z2ZzX3BhdGgsICIv
c3lzL2tlcm5lbC9kZWJ1Zy9kcmkvJWQvcmFzLyIsIGRldmljZXNbY2FyZF0uaWQpOwpAQCAtNjYw
LDggKzU0MCw2IEBAIHN0YXRpYyBpbnQgc2V0X3Rlc3RfY2FyZChpbnQgY2FyZCkKIAlyYXNfYmxv
Y2tfbWFza19pbmplY3QgPSBkZXZpY2VzW2NhcmRdLnRlc3RfbWFzay5pbmplY3RfbWFzazsKIAly
YXNfYmxvY2tfbWFza19xdWVyeSA9IGRldmljZXNbY2FyZF0udGVzdF9tYXNrLnF1ZXJ5X21hc2s7
CiAJcmFzX2Jsb2NrX21hc2tfYmFzaWMgPSBkZXZpY2VzW2NhcmRdLnRlc3RfbWFzay5iYXNpY19t
YXNrOwotCi0JcmV0dXJuIDA7CiB9CiAKIHN0YXRpYyBjb25zdCBjaGFyICpnZXRfcmFzX3N5c2Zz
X3Jvb3Qodm9pZCkKQEAgLTc0Miw3ICs2MjAsNiBAQCBzdGF0aWMgaW50IGFtZGdwdV9yYXNfcXVl
cnlfZXJyX2NvdW50KGVudW0gYW1kZ3B1X3Jhc19ibG9jayBibG9jaywKIHsKIAljaGFyIGJ1Zls2
NF07CiAJY2hhciBuYW1lWzEwMjRdOwotCWludCByZXQ7CiAKIAkqdWUgPSAqY2UgPSAwOwogCkBA
IC03NzksNyArNjU2LDcgQEAgc3RhdGljIGludCBhbWRncHVfcmFzX2luamVjdChlbnVtIGFtZGdw
dV9yYXNfYmxvY2sgYmxvY2ssCiAJaW5qZWN0LT5oZWFkLmJsb2NrID0gYmxvY2s7CiAJaW5qZWN0
LT5oZWFkLnR5cGUgPSB0eXBlOwogCWluamVjdC0+aGVhZC5zdWJfYmxvY2tfaW5kZXggPSBzdWJf
YmxvY2s7Ci0Jc3RybmNweShpbmplY3QtPmhlYWQubmFtZSwgcmFzX2Jsb2NrX3N0cihibG9jayks
IDMyKTsKKwlzdHJuY3B5KGluamVjdC0+aGVhZC5uYW1lLCByYXNfYmxvY2tfc3RyKGJsb2NrKSwg
c2l6ZW9mKGluamVjdC0+aGVhZC5uYW1lKS0xKTsKIAlpbmplY3QtPmFkZHJlc3MgPSBhZGRyZXNz
OwogCWluamVjdC0+dmFsdWUgPSB2YWx1ZTsKIApAQCAtOTU2LDggKzgzMyw2IEBAIHN0YXRpYyB2
b2lkIGFtZGdwdV9yYXNfcXVlcnlfdGVzdCh2b2lkKQogCiBzdGF0aWMgdm9pZCBhbWRncHVfcmFz
X2Jhc2ljX3Rlc3Qodm9pZCkKIHsKLQl1bnNpZ25lZCBsb25nIHVlLCBjZTsKLQljaGFyIG5hbWVb
MTAyNF07CiAJaW50IHJldDsKIAlpbnQgaTsKIAlpbnQgajsKQEAgLTEwMDAsMyArODc1LDExNSBA
QCBzdGF0aWMgdm9pZCBhbWRncHVfcmFzX2Jhc2ljX3Rlc3Qodm9pZCkKIAkJfQogCX0KIH0KKwor
Q1VfVGVzdEluZm8gcmFzX3Rlc3RzW10gPSB7CisJeyAicmFzIGJhc2ljIHRlc3QiLAlhbWRncHVf
cmFzX2Jhc2ljX3Rlc3QgfSwKKwl7ICJyYXMgcXVlcnkgdGVzdCIsCWFtZGdwdV9yYXNfcXVlcnlf
dGVzdCB9LAorCXsgInJhcyBpbmplY3QgdGVzdCIsCWFtZGdwdV9yYXNfaW5qZWN0X3Rlc3QgfSwK
Kwl7ICJyYXMgZGlzYWJsZSB0ZXN0IiwJYW1kZ3B1X3Jhc19kaXNhYmxlX3Rlc3QgfSwKKyNpZiAw
CisJeyAicmFzIGVuYWJsZSB0ZXN0IiwJYW1kZ3B1X3Jhc19lbmFibGVfdGVzdCB9LAorI2VuZGlm
CisJQ1VfVEVTVF9JTkZPX05VTEwsCit9OworCitDVV9CT09MIHN1aXRlX3Jhc190ZXN0c19lbmFi
bGUodm9pZCkKK3sKKwlhbWRncHVfZGV2aWNlX2hhbmRsZSBkZXZpY2VfaGFuZGxlOworCXVpbnQz
Ml90ICBtYWpvcl92ZXJzaW9uOworCXVpbnQzMl90ICBtaW5vcl92ZXJzaW9uOworCWludCBpOwor
CWRybURldmljZVB0ciBkZXZpY2U7CisKKwlmb3IgKGkgPSAwOyBpIDwgTUFYX0NBUkRTX1NVUFBP
UlRFRCAmJiBkcm1fYW1kZ3B1W2ldID49IDA7IGkrKykgeworCQlpZiAoYW1kZ3B1X2RldmljZV9p
bml0aWFsaXplKGRybV9hbWRncHVbaV0sICZtYWpvcl92ZXJzaW9uLAorCQkJCQkmbWlub3JfdmVy
c2lvbiwgJmRldmljZV9oYW5kbGUpKQorCQkJY29udGludWU7CisKKwkJaWYgKGRybUdldERldmlj
ZTIoZHJtX2FtZGdwdVtpXSwKKwkJCQkJRFJNX0RFVklDRV9HRVRfUENJX1JFVklTSU9OLAorCQkJ
CQkmZGV2aWNlKSkKKwkJCWNvbnRpbnVlOworCisJCWlmIChkZXZpY2UtPmJ1c3R5cGUgPT0gRFJN
X0JVU19QQ0kgJiYKKwkJCQlhbWRncHVfcmFzX2xvb2t1cF9jYXBhYmlsaXR5KGRldmljZV9oYW5k
bGUpKSB7CisJCQlhbWRncHVfZGV2aWNlX2RlaW5pdGlhbGl6ZShkZXZpY2VfaGFuZGxlKTsKKwkJ
CXJldHVybiBDVV9UUlVFOworCQl9CisKKwkJaWYgKGFtZGdwdV9kZXZpY2VfZGVpbml0aWFsaXpl
KGRldmljZV9oYW5kbGUpKQorCQkJY29udGludWU7CisJfQorCisJcmV0dXJuIENVX0ZBTFNFOwor
fQorCitpbnQgc3VpdGVfcmFzX3Rlc3RzX2luaXQodm9pZCkKK3sKKwlkcm1EZXZpY2VQdHIgZGV2
aWNlOworCWFtZGdwdV9kZXZpY2VfaGFuZGxlIGRldmljZV9oYW5kbGU7CisJdWludDMyX3QgIG1h
am9yX3ZlcnNpb247CisJdWludDMyX3QgIG1pbm9yX3ZlcnNpb247CisJdWludDMyX3QgIGNhcGFi
aWxpdHk7CisJc3RydWN0IHJhc190ZXN0X21hc2sgdGVzdF9tYXNrOworCWludCBpZDsKKwlpbnQg
aTsKKwlpbnQgcjsKKworCWZvciAoaSA9IDA7IGkgPCBNQVhfQ0FSRFNfU1VQUE9SVEVEICYmIGRy
bV9hbWRncHVbaV0gPj0gMDsgaSsrKSB7CisJCXIgPSBhbWRncHVfZGV2aWNlX2luaXRpYWxpemUo
ZHJtX2FtZGdwdVtpXSwgJm1ham9yX3ZlcnNpb24sCisJCQkJJm1pbm9yX3ZlcnNpb24sICZkZXZp
Y2VfaGFuZGxlKTsKKwkJaWYgKHIpCisJCQljb250aW51ZTsKKworCQlpZiAoZHJtR2V0RGV2aWNl
Mihkcm1fYW1kZ3B1W2ldLAorCQkJCQlEUk1fREVWSUNFX0dFVF9QQ0lfUkVWSVNJT04sCisJCQkJ
CSZkZXZpY2UpKSB7CisJCQlhbWRncHVfZGV2aWNlX2RlaW5pdGlhbGl6ZShkZXZpY2VfaGFuZGxl
KTsKKwkJCWNvbnRpbnVlOworCQl9CisKKwkJaWYgKGRldmljZS0+YnVzdHlwZSAhPSBEUk1fQlVT
X1BDSSkgeworCQkJYW1kZ3B1X2RldmljZV9kZWluaXRpYWxpemUoZGV2aWNlX2hhbmRsZSk7CisJ
CQljb250aW51ZTsKKwkJfQorCisJCWNhcGFiaWxpdHkgPSBhbWRncHVfcmFzX2xvb2t1cF9jYXBh
YmlsaXR5KGRldmljZV9oYW5kbGUpOworCQlpZiAoY2FwYWJpbGl0eSA9PSAwKSB7CisJCQlhbWRn
cHVfZGV2aWNlX2RlaW5pdGlhbGl6ZShkZXZpY2VfaGFuZGxlKTsKKwkJCWNvbnRpbnVlOworCisJ
CX0KKworCQlpZCA9IGFtZGdwdV9yYXNfbG9va3VwX2lkKGRldmljZSk7CisJCWlmIChpZCA9PSAt
MSkgeworCQkJYW1kZ3B1X2RldmljZV9kZWluaXRpYWxpemUoZGV2aWNlX2hhbmRsZSk7CisJCQlj
b250aW51ZTsKKwkJfQorCisJCXRlc3RfbWFzayA9IGFtZGdwdV9yYXNfZ2V0X3Rlc3RfbWFzayhk
ZXZpY2UpOworCisJCWRldmljZXNbZGV2aWNlc19jb3VudCsrXSA9IChzdHJ1Y3QgYW1kZ3B1X3Jh
c19kYXRhKSB7CisJCQlkZXZpY2VfaGFuZGxlLCBpZCwgY2FwYWJpbGl0eSwgdGVzdF9tYXNrLAor
CQl9OworCX0KKworCWlmIChkZXZpY2VzX2NvdW50ID09IDApCisJCXJldHVybiBDVUVfU0lOSVRf
RkFJTEVEOworCisJcmV0dXJuIENVRV9TVUNDRVNTOworfQorCitpbnQgc3VpdGVfcmFzX3Rlc3Rz
X2NsZWFuKHZvaWQpCit7CisJaW50IHI7CisJaW50IGk7CisJaW50IHJldCA9IENVRV9TVUNDRVNT
OworCisJZm9yIChpID0gMDsgaSA8IGRldmljZXNfY291bnQ7IGkrKykgeworCQlyID0gYW1kZ3B1
X2RldmljZV9kZWluaXRpYWxpemUoZGV2aWNlc1tpXS5kZXZpY2VfaGFuZGxlKTsKKwkJaWYgKHIp
CisJCQlyZXQgPSBDVUVfU0NMRUFOX0ZBSUxFRDsKKwl9CisJcmV0dXJuIHJldDsKK30KZGlmZiAt
LWdpdCBhL3Rlc3RzL2FtZGdwdS9zeW5jb2JqX3Rlc3RzLmMgYi90ZXN0cy9hbWRncHUvc3luY29i
al90ZXN0cy5jCmluZGV4IDg2OWVkODhlLi4zYTdiMzhlYiAxMDA2NDQKLS0tIGEvdGVzdHMvYW1k
Z3B1L3N5bmNvYmpfdGVzdHMuYworKysgYi90ZXN0cy9hbWRncHUvc3luY29ial90ZXN0cy5jCkBA
IC05Niw3ICs5Niw3IEBAIHN0YXRpYyBpbnQgc3luY29ial9jb21tYW5kX3N1Ym1pc3Npb25faGVs
cGVyKHVpbnQzMl90IHN5bmNvYmpfaGFuZGxlLCBib29sCiAJc3RydWN0IGFtZGdwdV9jc19mZW5j
ZSBmZW5jZV9zdGF0dXM7CiAJYW1kZ3B1X2JvX2xpc3RfaGFuZGxlIGJvX2xpc3Q7CiAJYW1kZ3B1
X3ZhX2hhbmRsZSB2YV9oYW5kbGU7Ci0JdWludDMyX3QgZXhwaXJlZCwgZmxhZ3M7CisJdWludDMy
X3QgZXhwaXJlZDsKIAlpbnQgaSwgcjsKIAl1aW50NjRfdCBzZXFfbm87CiAJc3RhdGljIHVpbnQz
Ml90ICpwdHI7Ci0tIAoyLjI0LjAuMTU1LmdkOWY2ZjNiNjE5CgpfX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4
QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWls
bWFuL2xpc3RpbmZvL2FtZC1nZng=
