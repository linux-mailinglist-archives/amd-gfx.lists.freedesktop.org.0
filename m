Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id B8BFF1938CF
	for <lists+amd-gfx@lfdr.de>; Thu, 26 Mar 2020 07:45:27 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 2774E6E27C;
	Thu, 26 Mar 2020 06:45:26 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM04-CO1-obe.outbound.protection.outlook.com
 (mail-eopbgr690079.outbound.protection.outlook.com [40.107.69.79])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 537026E27C
 for <amd-gfx@lists.freedesktop.org>; Thu, 26 Mar 2020 06:45:24 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=Z/zonNZK6eBu8iEc5gy8cZ0rLcHjHQACF9sHLvfcciX/JLy/Vz4VjxsAdliPp6ZLZ8VQZR3ZPTP6nHOkYlsyJvXC3ass1NZA/qO6k8SWHyGamkefCpBIDtXIMVLwABR2ERUo68/xSpaztyVm2tESkGvVjmWofPIpkOXbPRZh4YnveiUTCLFxy/z0eZ/OYZc4HgGkDdoTm+xMTeg7tnqJqyV7fiIzS0RF3g+oeLVKvEXDxW/3wk4bwtug0n79ZDAFftslErwbzgvEXiOrG9JZj8KWsUFlAvHETL39nVimra4fMpckxrnV4Be89sIu57G4m/7oatOYLhTaMojQF84Xkg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=3b76MxEv7gtxJNwuhZWA35daA23AtODaUEI/EoMJT8M=;
 b=QrB66AKczzaPmUSD52vZt3z5qMnziCEcUPTu7cb0Q/+aVJt+gHAMMW6z9R2ybWnM26JDlO0BPduosABPicMKEggy4ccaPrJgCqbzhKNJjT8fi73aVFPgBG/33tRVSTnNlo7kSn7mWnZoPrXT1ELsSdV3uJg405IZUzVJ49RZgCscOFii/veb9Aj/5f9vnH0mIaFDwGMsbmnAyixOpLJ6fSTGZ/m8yqZ8IeQkYxp16sOpCbA5/VnV4o4QGUTa1+cjFJ67u6xayG/tqBbiAQqZwZVt0zehpcuYsTSrCqNwN0jviDm+H0GzC7pQ0dJX5vnbit5iv4zvImSVhbBfOUtOcw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=3b76MxEv7gtxJNwuhZWA35daA23AtODaUEI/EoMJT8M=;
 b=bsEkpzAp84WpMRMiOrwK6/5PmWEbQIqtr5CDSppO50Y49abyJynIy6xBbOsKvUBdPE6R9h4JGwyiL8yKx8BwD4Ju7tORWyl+jtA14R87GVyqCqUlIWd90oDW+vT3fvuzZoGUAGW3Cz/Z2iLXdSPqHgGveQrbiXB/tS4vf4SdN84=
Received: from SN6PR12MB2800.namprd12.prod.outlook.com (2603:10b6:805:6c::10)
 by SN6PR12MB2800.namprd12.prod.outlook.com (2603:10b6:805:6c::10)
 with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2835.22; Thu, 26 Mar
 2020 06:45:22 +0000
Received: from SN6PR12MB2800.namprd12.prod.outlook.com
 ([fe80::f458:67f4:2379:b6da]) by SN6PR12MB2800.namprd12.prod.outlook.com
 ([fe80::f458:67f4:2379:b6da%5]) with mapi id 15.20.2835.023; Thu, 26 Mar 2020
 06:45:21 +0000
From: "Pan, Xinhui" <Xinhui.Pan@amd.com>
To: "Koenig, Christian" <Christian.Koenig@amd.com>
Subject: Re: [RFC PATCH 1/2] drm/amdgpu: add direct ib pool
Thread-Topic: [RFC PATCH 1/2] drm/amdgpu: add direct ib pool
Thread-Index: AQHWAzjptEKuwQ5YI02iuoas+ZPz4KhabcoA
Date: Thu, 26 Mar 2020 06:45:21 +0000
Message-ID: <41F6593E-5AB1-4A95-ADBE-4084259407B3@amd.com>
References: <aa28cd4c-64ab-4735-b65c-a96030161d75@email.android.com>
In-Reply-To: <aa28cd4c-64ab-4735-b65c-a96030161d75@email.android.com>
Accept-Language: zh-CN, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=Xinhui.Pan@amd.com; 
x-originating-ip: [101.88.212.119]
x-ms-publictraffictype: Email
x-ms-office365-filtering-ht: Tenant
x-ms-office365-filtering-correlation-id: 6125343e-a7db-4c2e-e164-08d7d151419d
x-ms-traffictypediagnostic: SN6PR12MB2800:|SN6PR12MB2800:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <SN6PR12MB28007A8A281540C8927FC9BE87CF0@SN6PR12MB2800.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:10000;
x-forefront-prvs: 0354B4BED2
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(396003)(136003)(376002)(346002)(366004)(39860400002)(4326008)(66446008)(66946007)(66556008)(6862004)(86362001)(66476007)(64756008)(6506007)(33656002)(6512007)(478600001)(91956017)(76116006)(6636002)(5660300002)(26005)(2906002)(186003)(36756003)(8676002)(54906003)(316002)(37006003)(8936002)(6486002)(81166006)(81156014)(71200400001)(2616005);
 DIR:OUT; SFP:1101; SCL:1; SRVR:SN6PR12MB2800;
 H:SN6PR12MB2800.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: c5YAI8hokIBRakYUW52YwU5v3k0ZnKmhCBbw20K74yrsANtLV9LcDSokmYxgqB+pvxJZMUDgsbUlp1DhvPlNRwfw3QxqvGZLmivSz69lPDQdQeKwV8GppzZd4MWr5CGqhwr96tSCg9IrgN12F/5OH9vgEgdPilWUQoIUYks4j0NIWABUgVITrvoonwVaYM2O6kX2O8zfwgi7d76D/Q0wJaU02i3VlAiZJTAbLstIHtJYYR0WdDYK5JQTROe6KcYjgc8HEGolJkxPwtW8h3OGueQA1p/X6URtYjGD+uY04OGvc1Bvx36BBA/X/hmTbUwipc1XrYeBR2ynBqq6iOwCPJeSWydVNiKysYPmGradjEEqQSnWIvB14zF7IvdDC6ZmYzrwESSxlvAzq3EkAYnviPBrfDjPsxHS9uhqhA9kqrdwr8adEtgex8QLpxszKWVA
x-ms-exchange-antispam-messagedata: E1ZU98wCYSkPC0VpRmoajOpaoRIcxTklI60H0W40aAi2TVvdMmuaymw2THMZWiug/xQAAQeCRuFrFGZ/TU6Kfju5ocUA9cWHRBfeEPoOE+GCXMX3ryhtyvgZQqAG4Y6Y57ajNXehVQ7FX4WkYskXMA==
Content-ID: <80C76BB06484054182D80C4B6608B9AE@namprd12.prod.outlook.com>
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 6125343e-a7db-4c2e-e164-08d7d151419d
X-MS-Exchange-CrossTenant-originalarrivaltime: 26 Mar 2020 06:45:21.8237 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: 4kusYm/ehUjXNH6w/7YWiU2VGcRkXICBt1ukBm4R1QJfp98NiV7CputF8lhzsM11
X-MS-Exchange-Transport-CrossTenantHeadersStamped: SN6PR12MB2800
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Deucher, Alexander" <Alexander.Deucher@amd.com>, "Kuehling,
 Felix" <Felix.Kuehling@amd.com>, "Pan, Xinhui" <Xinhui.Pan@amd.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

DQoNCj4gMjAyMOW5tDPmnIgyNuaXpSAxNDozNu+8jEtvZW5pZywgQ2hyaXN0aWFuIDxDaHJpc3Rp
YW4uS29lbmlnQGFtZC5jb20+IOWGmemBk++8mg0KPiANCj4gDQo+IA0KPiBBbSAyNi4wMy4yMDIw
IDA3OjE1IHNjaHJpZWIgIlBhbiwgWGluaHVpIiA8WGluaHVpLlBhbkBhbWQuY29tPjoNCj4gDQo+
IA0KPiA+IDIwMjDlubQz5pyIMjbml6UgMTM6MzjvvIxLb2VuaWcsIENocmlzdGlhbiA8Q2hyaXN0
aWFuLktvZW5pZ0BhbWQuY29tPiDlhpnpgZPvvJoNCj4gPiANCj4gPiBZZWFoIHRoYXQncyBvbiBt
eSBUT0RPIGxpc3QgZm9yIHF1aXRlIGEgd2hpbGUgYXMgd2VsbC4NCj4gPiANCj4gPiBCdXQgd2Ug
ZXZlbiBuZWVkIHRocmVlIElCIHBvb2xzLiBPbmUgdmVyeSBzbWFsbCBmb3IgdGhlIElCIHRlc3Rz
LCBvbmUgZm9yIGRpcmVjdCBWTSB1cGRhdGVzIGFuZCBvbmUgZm9yIHRoZSByZXN0Lg0KPiA+IA0K
PiA+IFNvIHBsZWFzZSBtYWtlIHRoZSBwb29sIGEgcGFyYW1ldGVyIHRvIGliX2dldCgpIGFuZCBu
b3QgdGhlIGhhY2sgeW91IGhhdmUgYmVsb3cuDQo+IA0KPiB5ZXAsIEkgd2lsbCBtYWtlIElCIHBv
b2wgIGEgcGFyYW1ldGVyLg0KPiANCj4gSUIgdGVzdHMgZm9yIGdmeCBuZWVkIG1hbnkgSUJzLCBQ
QUdFX1NJWkUgZm9yIGliIHBvb2wgaXMgc3RpbGwgbm90IGVub3VnaC4NCj4gYnV0IHRoZSBkZWZh
dWx0IHNpemUgZm9yIGliIHBvb2wgaXMgMk1CIG5vdywganVzdCBvbmUgaHVnZXBhZ2UsIHRvZGF5
IHdlIGhhdmUgbWVtb3J5IGluIFRCLg0KPiBzbyBubyBuZWVkIG1ha2UgYSBkaWZmZXJlbnQgc2l6
ZSBmb3IgSUIgdGVzdHMgcG9vbC4NCj4gDQo+IDJNQiBpcyBwcm9iYWJseSBhIGJpdCBtdWNoIGFu
ZCB3ZSBkb24ndCBoYXZlIGh1Z2UgcGFnZSBvcHRpbWlzYXRpb24gZm9yIGtlcm5lbCBhbGxvY2F0
aW9ucyBhdCB0aGUgbW9tZW50IGFueXdheS4gS2VlcCBpbiBtaW5kIHRoYXQgd2UgaGF2ZSBvbmx5
IGxpbWl0ZWQgc3BhY2UgaW4gdGhlIEdBUlQuDQpnYXJ0IHRhYmxlIGlzIGp1c3QgNTEyTUIuDQpk
byB5b3UgbWVhbiBldmVyeSBlbnRyeSBpbiBnYXJ0IHRhYmxlIGp1c3QgcG9pbnRzIHRvIG9uZSA0
S0IgcGFnZT8gYW5kIG5lZWQgNSBnYXJ0IHRhYmxlIGVudHJpZXMgZm9yIG9uZSAyTSBodWdlcGFn
ZT8gDQoNCj4gDQo+IE1heWJlIG1ha2UgdGhpcyA0KlBBR0VfU0laRSBmb3IgdGhlIG5ldyBJQiBw
b29sIGZvciBub3cgYW5kIHRlc3QgaWYgdGhhdCB3b3JrcyBvciBub3QuDQo+IA0KPiBDaHJpc3Rp
YW4uDQo+IA0KPiANCj4gDQo+IA0KPiA+IA0KPiA+IFRoYW5rcywNCj4gPiBDaHJpc3RpYW4uDQo+
ID4gDQo+ID4gQW0gMjYuMDMuMjAyMCAwMzowMiBzY2hyaWViICJQYW4sIFhpbmh1aSIgPFhpbmh1
aS5QYW5AYW1kLmNvbT46DQo+ID4gQW5vdGhlciBpYiBwb2xsIGZvciBkaXJlY3Qgc3VibWl0Lg0K
PiA+IEFueSBqb2JzIHNjaGVkdWxlIElCcyB3aXRob3V0IGRlcGVuZGVuY2Ugb24gZ3B1IHNjaGVk
dWxlciBzaG91bGQgdXNlDQo+ID4gdGhpcyBwb29sIGZpcnN0bHkuDQo+ID4gDQo+ID4gU2lnbmVk
LW9mZi1ieTogeGluaHVpIHBhbiA8eGluaHVpLnBhbkBhbWQuY29tPg0KPiA+IC0tLQ0KPiA+ICBk
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHUuaCAgICAgfCAgMSArDQo+ID4gIGRyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9jcy5jICB8ICAyICstDQo+ID4gIGRyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9pYi5jICB8IDEyICsrKysrKysrKystLQ0KPiA+ICBk
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfam9iLmMgfCAgOCArKysrKysrLQ0KPiA+
ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfam9iLmggfCAgMyArKy0NCj4gPiAg
NSBmaWxlcyBjaGFuZ2VkLCAyMSBpbnNlcnRpb25zKCspLCA1IGRlbGV0aW9ucygtKQ0KPiA+IA0K
PiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHUuaCBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdS5oDQo+ID4gaW5kZXggN2RkNzQyNTNlN2I2
Li5jMDE0MjNmZmI4ZWQgMTAwNjQ0DQo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1LmgNCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHUu
aA0KPiA+IEBAIC04NDksNiArODQ5LDcgQEAgc3RydWN0IGFtZGdwdV9kZXZpY2Ugew0KPiA+ICAg
ICAgICAgIHN0cnVjdCBhbWRncHVfcmluZyAgICAgICAgICAgICAgKnJpbmdzW0FNREdQVV9NQVhf
UklOR1NdOw0KPiA+ICAgICAgICAgIGJvb2wgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWJf
cG9vbF9yZWFkeTsNCj4gPiAgICAgICAgICBzdHJ1Y3QgYW1kZ3B1X3NhX21hbmFnZXIgICAgICAg
IHJpbmdfdG1wX2JvOw0KPiA+ICsgICAgICAgc3RydWN0IGFtZGdwdV9zYV9tYW5hZ2VyICAgICAg
ICByaW5nX3RtcF9ib19kaXJlY3Q7DQo+ID4gIA0KPiA+ICAgICAgICAgIC8qIGludGVycnVwdHMg
Ki8NCj4gPiAgICAgICAgICBzdHJ1Y3QgYW1kZ3B1X2lycSAgICAgICAgICAgICAgIGlycTsNCj4g
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2NzLmMgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfY3MuYw0KPiA+IGluZGV4IDgzMDRkMGM4
Nzg5OS4uMjhiZTRlZmIzZDViIDEwMDY0NA0KPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2FtZGdwdV9jcy5jDQo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
YW1kZ3B1X2NzLmMNCj4gPiBAQCAtOTIwLDcgKzkyMCw3IEBAIHN0YXRpYyBpbnQgYW1kZ3B1X2Nz
X2liX2ZpbGwoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ID4gICAgICAgICAgICAgICAg
ICBwYXJzZXItPmVudGl0eSA9IGVudGl0eTsNCj4gPiAgDQo+ID4gICAgICAgICAgICAgICAgICBy
aW5nID0gdG9fYW1kZ3B1X3JpbmcoZW50aXR5LT5ycS0+c2NoZWQpOw0KPiA+IC0gICAgICAgICAg
ICAgICByID0gIGFtZGdwdV9pYl9nZXQoYWRldiwgdm0sIHJpbmctPmZ1bmNzLT5wYXJzZV9jcyA/
DQo+ID4gKyAgICAgICAgICAgICAgIHIgPSAgYW1kZ3B1X2liX2dldChhZGV2LCAodW5zaWduZWQg
bG9uZyApdm18MHgxLCByaW5nLT5mdW5jcy0+cGFyc2VfY3MgPw0KPiA+ICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIGNodW5rX2liLT5pYl9ieXRlcyA6IDAsIGliKTsNCj4gPiAg
ICAgICAgICAgICAgICAgIGlmIChyKSB7DQo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgIERS
TV9FUlJPUigiRmFpbGVkIHRvIGdldCBpYiAhXG4iKTsNCj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2liLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfaWIuYw0KPiA+IGluZGV4IGJlY2UwMWYxY2YwOS4uZjJlMDhjMzcyZDU3IDEw
MDY0NA0KPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9pYi5jDQo+
ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2liLmMNCj4gPiBAQCAt
NjYsNyArNjYsNyBAQCBpbnQgYW1kZ3B1X2liX2dldChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRl
diwgc3RydWN0IGFtZGdwdV92bSAqdm0sDQo+ID4gICAgICAgICAgaW50IHI7DQo+ID4gIA0KPiA+
ICAgICAgICAgIGlmIChzaXplKSB7DQo+ID4gLSAgICAgICAgICAgICAgIHIgPSBhbWRncHVfc2Ff
Ym9fbmV3KCZhZGV2LT5yaW5nX3RtcF9ibywNCj4gPiArICAgICAgICAgICAgICAgciA9IGFtZGdw
dV9zYV9ib19uZXcodm0gPyAmYWRldi0+cmluZ190bXBfYm8gOiAmYWRldi0+cmluZ190bXBfYm9f
ZGlyZWN0LA0KPiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZpYi0+
c2FfYm8sIHNpemUsIDI1Nik7DQo+ID4gICAgICAgICAgICAgICAgICBpZiAocikgew0KPiA+ICAg
ICAgICAgICAgICAgICAgICAgICAgICBkZXZfZXJyKGFkZXYtPmRldiwgImZhaWxlZCB0byBnZXQg
YSBuZXcgSUIgKCVkKVxuIiwgcik7DQo+ID4gQEAgLTc1LDcgKzc1LDcgQEAgaW50IGFtZGdwdV9p
Yl9nZXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHN0cnVjdCBhbWRncHVfdm0gKnZtLA0K
PiA+ICANCj4gPiAgICAgICAgICAgICAgICAgIGliLT5wdHIgPSBhbWRncHVfc2FfYm9fY3B1X2Fk
ZHIoaWItPnNhX2JvKTsNCj4gPiAgDQo+ID4gLSAgICAgICAgICAgICAgIGlmICghdm0pDQo+ID4g
KyAgICAgICAgICAgICAgIGlmICghKCh1bnNpZ25lZCBsb25nKXZtICYgfjB4MSkpDQo+ID4gICAg
ICAgICAgICAgICAgICAgICAgICAgIGliLT5ncHVfYWRkciA9IGFtZGdwdV9zYV9ib19ncHVfYWRk
cihpYi0+c2FfYm8pOw0KPiA+ICAgICAgICAgIH0NCj4gPiAgDQo+ID4gQEAgLTMxMCw2ICszMTAs
MTMgQEAgaW50IGFtZGdwdV9pYl9wb29sX2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYp
DQo+ID4gICAgICAgICAgICAgICAgICByZXR1cm4gcjsNCj4gPiAgICAgICAgICB9DQo+ID4gIA0K
PiA+ICsgICAgICAgciA9IGFtZGdwdV9zYV9ib19tYW5hZ2VyX2luaXQoYWRldiwgJmFkZXYtPnJp
bmdfdG1wX2JvX2RpcmVjdCwNCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIEFNREdQVV9JQl9QT09MX1NJWkUqNjQqMTAyNCwNCj4gPiArICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIEFNREdQVV9HUFVfUEFHRV9TSVpFLA0KPiA+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgQU1ER1BVX0dFTV9ET01BSU5fR1RUKTsNCj4gPiAr
ICAgICAgIGlmIChyKSB7DQo+ID4gKyAgICAgICAgICAgICAgIHJldHVybiByOw0KPiA+ICsgICAg
ICAgfQ0KPiA+ICAgICAgICAgIGFkZXYtPmliX3Bvb2xfcmVhZHkgPSB0cnVlOw0KPiA+ICANCj4g
PiAgICAgICAgICByZXR1cm4gMDsNCj4gPiBAQCAtMzI3LDYgKzMzNCw3IEBAIHZvaWQgYW1kZ3B1
X2liX3Bvb2xfZmluaShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCj4gPiAgew0KPiA+ICAg
ICAgICAgIGlmIChhZGV2LT5pYl9wb29sX3JlYWR5KSB7DQo+ID4gICAgICAgICAgICAgICAgICBh
bWRncHVfc2FfYm9fbWFuYWdlcl9maW5pKGFkZXYsICZhZGV2LT5yaW5nX3RtcF9ibyk7DQo+ID4g
KyAgICAgICAgICAgICAgIGFtZGdwdV9zYV9ib19tYW5hZ2VyX2ZpbmkoYWRldiwgJmFkZXYtPnJp
bmdfdG1wX2JvX2RpcmVjdCk7DQo+ID4gICAgICAgICAgICAgICAgICBhZGV2LT5pYl9wb29sX3Jl
YWR5ID0gZmFsc2U7DQo+ID4gICAgICAgICAgfQ0KPiA+ICB9DQo+ID4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9qb2IuYyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2FtZGdwdV9qb2IuYw0KPiA+IGluZGV4IDQ5ODFlNDQzYTg4NC4uNmE2MzgyNmM2
NzYwIDEwMDY0NA0KPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9q
b2IuYw0KPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9qb2IuYw0K
PiA+IEBAIC04OCw2ICs4OCwxMiBAQCBpbnQgYW1kZ3B1X2pvYl9hbGxvYyhzdHJ1Y3QgYW1kZ3B1
X2RldmljZSAqYWRldiwgdW5zaWduZWQgbnVtX2licywNCj4gPiAgDQo+ID4gIGludCBhbWRncHVf
am9iX2FsbG9jX3dpdGhfaWIoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHVuc2lnbmVkIHNp
emUsDQo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGFtZGdwdV9qb2Ig
Kipqb2IpDQo+ID4gK3sNCj4gPiArICAgICAgIHJldHVybiBhbWRncHVfam9iX2FsbG9jX3dpdGhf
aWJfZGlyZWN0KGFkZXYsIHNpemUsIGpvYiwgMCk7DQo+ID4gK30NCj4gPiArDQo+ID4gK2ludCBh
bWRncHVfam9iX2FsbG9jX3dpdGhfaWJfZGlyZWN0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2
LCB1bnNpZ25lZCBzaXplLA0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0
IGFtZGdwdV9qb2IgKipqb2IsIGludCBkaXJlY3QpDQo+ID4gIHsNCj4gPiAgICAgICAgICBpbnQg
cjsNCj4gPiAgDQo+ID4gQEAgLTk1LDcgKzEwMSw3IEBAIGludCBhbWRncHVfam9iX2FsbG9jX3dp
dGhfaWIoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHVuc2lnbmVkIHNpemUsDQo+ID4gICAg
ICAgICAgaWYgKHIpDQo+ID4gICAgICAgICAgICAgICAgICByZXR1cm4gcjsNCj4gPiAgDQo+ID4g
LSAgICAgICByID0gYW1kZ3B1X2liX2dldChhZGV2LCBOVUxMLCBzaXplLCAmKCpqb2IpLT5pYnNb
MF0pOw0KPiA+ICsgICAgICAgciA9IGFtZGdwdV9pYl9nZXQoYWRldiwgZGlyZWN0ID8gTlVMTCA6
IDB4MSwgc2l6ZSwgJigqam9iKS0+aWJzWzBdKTsNCj4gPiAgICAgICAgICBpZiAocikNCj4gPiAg
ICAgICAgICAgICAgICAgIGtmcmVlKCpqb2IpOw0KPiA+ICANCj4gPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2pvYi5oIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1X2pvYi5oDQo+ID4gaW5kZXggMmUyMTEwZGRkYjc2Li5iZTlkZDcyYjk5
MTIgMTAwNjQ0DQo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2pv
Yi5oDQo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2pvYi5oDQo+
ID4gQEAgLTY3LDcgKzY3LDggQEAgaW50IGFtZGdwdV9qb2JfYWxsb2Moc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYsIHVuc2lnbmVkIG51bV9pYnMsDQo+ID4gICAgICAgICAgICAgICAgICAgICAg
IHN0cnVjdCBhbWRncHVfam9iICoqam9iLCBzdHJ1Y3QgYW1kZ3B1X3ZtICp2bSk7DQo+ID4gIGlu
dCBhbWRncHVfam9iX2FsbG9jX3dpdGhfaWIoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHVu
c2lnbmVkIHNpemUsDQo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IGFt
ZGdwdV9qb2IgKipqb2IpOw0KPiA+IC0NCj4gPiAraW50IGFtZGdwdV9qb2JfYWxsb2Nfd2l0aF9p
Yl9kaXJlY3Qoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHVuc2lnbmVkIHNpemUsDQo+ID4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgYW1kZ3B1X2pvYiAqKmpvYiwgaW50
IGRpcmVjdCk7DQo+ID4gIHZvaWQgYW1kZ3B1X2pvYl9mcmVlX3Jlc291cmNlcyhzdHJ1Y3QgYW1k
Z3B1X2pvYiAqam9iKTsNCj4gPiAgdm9pZCBhbWRncHVfam9iX2ZyZWUoc3RydWN0IGFtZGdwdV9q
b2IgKmpvYik7DQo+ID4gIGludCBhbWRncHVfam9iX3N1Ym1pdChzdHJ1Y3QgYW1kZ3B1X2pvYiAq
am9iLCBzdHJ1Y3QgZHJtX3NjaGVkX2VudGl0eSAqZW50aXR5LA0KPiA+IC0tIA0KPiA+IDIuMTcu
MQ0KPiANCj4gDQoNCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0
dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeAo=
