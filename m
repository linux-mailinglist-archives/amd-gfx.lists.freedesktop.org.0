Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 2371A4BBBF
	for <lists+amd-gfx@lfdr.de>; Wed, 19 Jun 2019 16:35:21 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 4E9866E411;
	Wed, 19 Jun 2019 14:35:19 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM03-BY2-obe.outbound.protection.outlook.com
 (mail-eopbgr780070.outbound.protection.outlook.com [40.107.78.70])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 4A44E6E411
 for <amd-gfx@lists.freedesktop.org>; Wed, 19 Jun 2019 14:35:18 +0000 (UTC)
Received: from DM5PR12MB1546.namprd12.prod.outlook.com (10.172.36.23) by
 DM5PR12MB1657.namprd12.prod.outlook.com (10.172.38.149) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1987.12; Wed, 19 Jun 2019 14:35:17 +0000
Received: from DM5PR12MB1546.namprd12.prod.outlook.com
 ([fe80::7d27:3c4d:aed6:2935]) by DM5PR12MB1546.namprd12.prod.outlook.com
 ([fe80::7d27:3c4d:aed6:2935%6]) with mapi id 15.20.1987.014; Wed, 19 Jun 2019
 14:35:17 +0000
From: "Koenig, Christian" <Christian.Koenig@amd.com>
To: "Russell, Kent" <Kent.Russell@amd.com>, "amd-gfx@lists.freedesktop.org"
 <amd-gfx@lists.freedesktop.org>
Subject: Re: [PATCH] drm/amdkfd: Add procfs-style information for KFD processes
Thread-Topic: [PATCH] drm/amdkfd: Add procfs-style information for KFD
 processes
Thread-Index: AQHVJqeHpfF/cPY4kkm6oFJfXQsaSKajAl2AgAAGTwCAAAJogA==
Date: Wed, 19 Jun 2019 14:35:16 +0000
Message-ID: <60c80a3c-efb7-9e86-7832-3d8c4509ed34@amd.com>
References: <20190619140133.2060-1-kent.russell@amd.com>
 <8c26a707-4069-3bf5-d0aa-962a20245ec0@gmail.com>
 <BN6PR12MB161813FEBB800CA880A0EAC085E50@BN6PR12MB1618.namprd12.prod.outlook.com>
In-Reply-To: <BN6PR12MB161813FEBB800CA880A0EAC085E50@BN6PR12MB1618.namprd12.prod.outlook.com>
Accept-Language: de-DE, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
user-agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.7.0
x-originating-ip: [2a02:908:1252:fb60:be8a:bd56:1f94:86e7]
x-clientproxiedby: PR0P264CA0167.FRAP264.PROD.OUTLOOK.COM
 (2603:10a6:100:1b::35) To DM5PR12MB1546.namprd12.prod.outlook.com
 (2603:10b6:4:8::23)
x-ms-exchange-messagesentrepresentingtype: 1
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 01ee5e41-52d2-45c8-11db-08d6f4c3589d
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:DM5PR12MB1657; 
x-ms-traffictypediagnostic: DM5PR12MB1657:
x-microsoft-antispam-prvs: <DM5PR12MB1657788342FDC8E9316C29D883E50@DM5PR12MB1657.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:9508;
x-forefront-prvs: 0073BFEF03
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(136003)(39860400002)(376002)(346002)(366004)(396003)(13464003)(189003)(199004)(64126003)(71200400001)(65806001)(58126008)(73956011)(81156014)(65826007)(316002)(8676002)(66946007)(2501003)(36756003)(110136005)(68736007)(5660300002)(11346002)(6116002)(81166006)(52116002)(65956001)(476003)(6506007)(64756008)(446003)(66556008)(186003)(66476007)(66446008)(386003)(86362001)(229853002)(2616005)(66574012)(8936002)(486006)(72206003)(53546011)(25786009)(46003)(76176011)(7736002)(31696002)(305945005)(2906002)(99286004)(14444005)(31686004)(6436002)(478600001)(102836004)(53936002)(6486002)(6246003)(6512007)(256004)(71190400001)(14454004);
 DIR:OUT; SFP:1101; SCL:1; SRVR:DM5PR12MB1657;
 H:DM5PR12MB1546.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: G/BDThL5C4S0MPAEWVOG1HR3Pclxd8998l3824Jq9rc4Gf+YJIJ7A2gbpWBY3lm0fLsO3GP2OcV5FIIKr0yu/O0q5BG5vRExP26w/RuucE8Px1y1sHtlL9OINdTsVBcpqpjAzf689ewd0LBe3lrVHHX9AjuQRZoAlqkwd3lbFhELRfjO0eoxfJrLerYUDrSPP/y5kQGMa7caKyIlspFPUDWDkjSjmkd2RWY9SLApZ+qYq9mWWWXsdSlYPNNmsnIP4dQr9MNhKIR0b5idoHxQVEGNsf2txv0dG5As5BBZryyNYBv2fRHaU2IgyeKDSEhRo/toHNOnbG+NpP/gr8EldFy3VHOZprtZxr1948IXuEqNccuQ+7XpmR5uoox1FgsZ6IcAkO7RyImQEHZPgX5mXRuSV5X5rmlMJzaSVhpYjbg=
Content-ID: <BA0269CE383A004A8BAF16D3E02BA991@namprd12.prod.outlook.com>
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 01ee5e41-52d2-45c8-11db-08d6f4c3589d
X-MS-Exchange-CrossTenant-originalarrivaltime: 19 Jun 2019 14:35:16.9118 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: ckoenig@amd.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM5PR12MB1657
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=Y/J2YOKzbKwsqlHEkufwKgRbT+BrfYwydZSV4PbYzz8=;
 b=f7OWQl759+hJqH+pIYxZUV3bIApZBJ6U2bTXBF9NF1EZ7HoYgCxXhGcCYHbcCajMIRZXzsc0NEXnEwhiVCHuA6phrqvqPXhe2jhxU0ForYAChf1h8Rm9sQSz6VqWtCKmzMxlUkV9la0zA5dpvJnhE7CME88w1a1DrMuaxz2rapQ=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Christian.Koenig@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RG8gd2UgbmVlZCBhIHN0YWJsZSBpbnRlcmZhY2U/IFdvdWxkIGRlYnVnZnMgZG8gYXMgd2VsbD8N
Cg0KSSBtZWFuIGluIGdlbmVyYWwgbG9va3MgZ29vZCBmb3Igc3lzZnMgYXMgd2VsbCwganVzdCB3
YW50IHRvIGRvdWJsZSBjaGVjay4NCg0KQ2hyaXN0aWFuLg0KDQpBbSAxOS4wNi4xOSB1bSAxNjoy
OCBzY2hyaWViIFJ1c3NlbGwsIEtlbnQ6DQo+IFJpZ2h0IG5vdyB0aGUgdXNlIGNhc2Ugd291bGQg
YmUgdG8gbGlzdCB3aGljaCBwcm9jZXNzZXMgd2VyZSBjcmVhdGVkIGluIGEgS0ZEIGNvbnRleHQs
IGJ1dCBpdCB3b3VsZCBhbGxvdyBmb3IgZnVydGhlciBleHBhbnNpb24gdG8gaW5jbHVkZSB0aGlu
Z3MgbGlrZSB0aGUgR1BVIGFzc29jaWF0ZWQgd2l0aCB0aGUgUElELCBtZW1vcnkgdXNhZ2UsIGV0
Yy4gRm9yIG5vdywgdGhlIHVzZSBjYXNlIGlzIGxpc3RpbmcgS0ZELXJlbGF0ZWQgUElEcywgYnV0
IHdpbGwgYmUgZXhwYW5kZWQgbGF0ZXIgdG8gaW5jbHVkZSBtZW1vcnkgdXNhZ2UgZm9yIHN1cmUg
KHBsdXMgb3RoZXIgdGhpbmdzIHRoYXQgSSBleHBlY3Qgd2lsbCByZXF1ZXN0ZWQgbGF0ZXIgb24p
Lg0KPiAgIA0KPiAgIEtlbnQNCj4NCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJv
bTogQ2hyaXN0aWFuIEvDtm5pZyA8Y2tvZW5pZy5sZWljaHR6dW1lcmtlbkBnbWFpbC5jb20+DQo+
IFNlbnQ6IFdlZG5lc2RheSwgSnVuZSAxOSwgMjAxOSAxMDowNCBBTQ0KPiBUbzogUnVzc2VsbCwg
S2VudCA8S2VudC5SdXNzZWxsQGFtZC5jb20+OyBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9y
Zw0KPiBTdWJqZWN0OiBSZTogW1BBVENIXSBkcm0vYW1ka2ZkOiBBZGQgcHJvY2ZzLXN0eWxlIGlu
Zm9ybWF0aW9uIGZvciBLRkQgcHJvY2Vzc2VzDQo+DQo+IEFtIDE5LjA2LjE5IHVtIDE2OjAxIHNj
aHJpZWIgUnVzc2VsbCwgS2VudDoNCj4+IEFkZCBhIGZvbGRlciBzdHJ1Y3R1cmUgdG8gL3N5cy9j
bGFzcy9rZmQva2ZkLyBjYWxsZWQgcHJvYyB3aGljaA0KPj4gY29udGFpbnMgc3ViZm9sZGVycywg
ZWFjaCByZXByZXNlbnRpbmcgYW4gYWN0aXZlIEtGRCBwcm9jZXNzJyBQSUQsDQo+PiBjb250YWlu
aW5nIDENCj4+IGZpbGU6IHBhc2lkLg0KPiBXaGF0IGlzIHRoZSB1c2UgY2FzZSBvZiB0aGF0IGlu
Zm9ybWF0aW9uPyBJbiBvdGhlciB3b3JkcyB3b3VsZCBpdCBiZSBtYXliZSBiZXR0ZXIgdG8gY3Jl
YXRlIGRlYnVnZnMgZW50cmllcyBpbnN0ZWFkPw0KPg0KPiBDaHJpc3RpYW4uDQo+DQo+PiBDaGFu
Z2UtSWQ6IElkM2RmYWI4YTYyNTAyNjQ0MzRiMzRjY2RkYmNkYjQ1OWQxZGE3NDc4DQo+PiBTaWdu
ZWQtb2ZmLWJ5OiBLZW50IFJ1c3NlbGwgPGtlbnQucnVzc2VsbEBhbWQuY29tPg0KPj4gLS0tDQo+
PiAgICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfbW9kdWxlLmMgIHwgICA2ICsrDQo+
PiAgICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfcHJpdi5oICAgIHwgICA5ICsrDQo+
PiAgICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfcHJvY2Vzcy5jIHwgMTAwICsrKysr
KysrKysrKysrKysrKysrKystDQo+PiAgICAzIGZpbGVzIGNoYW5nZWQsIDExMyBpbnNlcnRpb25z
KCspLCAyIGRlbGV0aW9ucygtKQ0KPj4NCj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGtmZC9rZmRfbW9kdWxlLmMNCj4+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQv
a2ZkX21vZHVsZS5jDQo+PiBpbmRleCA5MzIwMDdlYjkxNjguLjk4NmZmNTJkNTc1MCAxMDA2NDQN
Cj4+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9tb2R1bGUuYw0KPj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX21vZHVsZS5jDQo+PiBAQCAtNTYsNiAr
NTYsMTEgQEAgc3RhdGljIGludCBrZmRfaW5pdCh2b2lkKQ0KPj4gICAgCWlmIChlcnIgPCAwKQ0K
Pj4gICAgCQlnb3RvIGVycl9jcmVhdGVfd3E7DQo+PiAgICANCj4+ICsJLyogSWdub3JlIHRoZSBy
ZXR1cm4gdmFsdWUsIHNvIHRoYXQgd2UgY2FuIGNvbnRpbnVlDQo+PiArCSAqIHRvIGluaXQgdGhl
IEtGRCwgZXZlbiBpZiBwcm9jZnMgaXNuJ3QgY3JhYXRlZA0KPj4gKwkgKi8NCj4+ICsJa2ZkX3By
b2Nmc19pbml0KCk7DQo+PiArDQo+PiAgICAJa2ZkX2RlYnVnZnNfaW5pdCgpOw0KPj4gICAgDQo+
PiAgICAJcmV0dXJuIDA7DQo+PiBAQCAtNzIsNiArNzcsNyBAQCBzdGF0aWMgdm9pZCBrZmRfZXhp
dCh2b2lkKQ0KPj4gICAgew0KPj4gICAgCWtmZF9kZWJ1Z2ZzX2ZpbmkoKTsNCj4+ICAgIAlrZmRf
cHJvY2Vzc19kZXN0cm95X3dxKCk7DQo+PiArCWtmZF9wcm9jZnNfc2h1dGRvd24oKTsNCj4+ICAg
IAlrZmRfdG9wb2xvZ3lfc2h1dGRvd24oKTsNCj4+ICAgIAlrZmRfY2hhcmRldl9leGl0KCk7DQo+
PiAgICB9DQo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX3By
aXYuaA0KPj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfcHJpdi5oDQo+PiBpbmRl
eCBkYTU4OWVlMTM2NmMuLmJkMDEzOTZjOGNlYSAxMDA2NDQNCj4+IC0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1ka2ZkL2tmZF9wcml2LmgNCj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1ka2ZkL2tmZF9wcml2LmgNCj4+IEBAIC0zNSw2ICszNSw3IEBADQo+PiAgICAjaW5jbHVkZSA8
bGludXgva2ZpZm8uaD4NCj4+ICAgICNpbmNsdWRlIDxsaW51eC9zZXFfZmlsZS5oPg0KPj4gICAg
I2luY2x1ZGUgPGxpbnV4L2tyZWYuaD4NCj4+ICsjaW5jbHVkZSA8bGludXgvc3lzZnMuaD4NCj4+
ICAgICNpbmNsdWRlIDxrZ2Rfa2ZkX2ludGVyZmFjZS5oPg0KPj4gICAgDQo+PiAgICAjaW5jbHVk
ZSAiYW1kX3NoYXJlZC5oIg0KPj4gQEAgLTcxOCw2ICs3MTksMTAgQEAgc3RydWN0IGtmZF9wcm9j
ZXNzIHsNCj4+ICAgIAkgKiByZXN0b3JlZCBhZnRlciBhbiBldmljdGlvbg0KPj4gICAgCSAqLw0K
Pj4gICAgCXVuc2lnbmVkIGxvbmcgbGFzdF9yZXN0b3JlX3RpbWVzdGFtcDsNCj4+ICsNCj4+ICsJ
LyogS29iaiBmb3Igb3VyIHByb2NmcyAqLw0KPj4gKwlzdHJ1Y3Qga29iamVjdCAqa29iajsNCj4+
ICsJc3RydWN0IGF0dHJpYnV0ZSBhdHRyX3Bhc2lkOw0KPj4gICAgfTsNCj4+ICAgIA0KPj4gICAg
I2RlZmluZSBLRkRfUFJPQ0VTU19UQUJMRV9TSVpFIDUgLyogYml0czogMzIgZW50cmllcyAqLyBA
QCAtODIwLDYNCj4+ICs4MjUsMTAgQEAgaW50IGtmZF9ndHRfc2FfZnJlZShzdHJ1Y3Qga2ZkX2Rl
diAqa2ZkLCBzdHJ1Y3Qga2ZkX21lbV9vYmoNCj4+ICptZW1fb2JqKTsNCj4+ICAgIA0KPj4gICAg
ZXh0ZXJuIHN0cnVjdCBkZXZpY2UgKmtmZF9kZXZpY2U7DQo+PiAgICANCj4+ICsvKiBLRkQncyBw
cm9jZnMgKi8NCj4+ICt2b2lkIGtmZF9wcm9jZnNfaW5pdCh2b2lkKTsNCj4+ICt2b2lkIGtmZF9w
cm9jZnNfc2h1dGRvd24odm9pZCk7DQo+PiArDQo+PiAgICAvKiBUb3BvbG9neSAqLw0KPj4gICAg
aW50IGtmZF90b3BvbG9neV9pbml0KHZvaWQpOw0KPj4gICAgdm9pZCBrZmRfdG9wb2xvZ3lfc2h1
dGRvd24odm9pZCk7DQo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQv
a2ZkX3Byb2Nlc3MuYw0KPj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfcHJvY2Vz
cy5jDQo+PiBpbmRleCA0YmRhZTc4YmFiOGUuLmVkMmQ4M2Y5M2ZkOCAxMDA2NDQNCj4+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9wcm9jZXNzLmMNCj4+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9wcm9jZXNzLmMNCj4+IEBAIC02OCw2ICs2OCw2OCBA
QCBzdGF0aWMgc3RydWN0IGtmZF9wcm9jZXNzICpjcmVhdGVfcHJvY2Vzcyhjb25zdCBzdHJ1Y3Qg
dGFza19zdHJ1Y3QgKnRocmVhZCwNCj4+ICAgIHN0YXRpYyB2b2lkIGV2aWN0X3Byb2Nlc3Nfd29y
a2VyKHN0cnVjdCB3b3JrX3N0cnVjdCAqd29yayk7DQo+PiAgICBzdGF0aWMgdm9pZCByZXN0b3Jl
X3Byb2Nlc3Nfd29ya2VyKHN0cnVjdCB3b3JrX3N0cnVjdCAqd29yayk7DQo+PiAgICANCj4+ICtz
dHJ1Y3Qga2ZkX3Byb2Nmc190cmVlIHsNCj4+ICsJc3RydWN0IGtvYmplY3QgKmtvYmo7DQo+PiAr
fTsNCj4+ICsNCj4+ICtzdGF0aWMgc3RydWN0IGtmZF9wcm9jZnNfdHJlZSBwcm9jZnM7DQo+PiAr
DQo+PiArc3RhdGljIHNzaXplX3Qga2ZkX3Byb2Nmc19zaG93KHN0cnVjdCBrb2JqZWN0ICprb2Jq
LCBzdHJ1Y3QgYXR0cmlidXRlICphdHRyLA0KPj4gKwkJCSAgICAgICBjaGFyICpidWZmZXIpDQo+
PiArew0KPj4gKwlpbnQgdmFsID0gMDsNCj4+ICsNCj4+ICsJaWYgKHN0cmNtcChhdHRyLT5uYW1l
LCAicGFzaWQiKSA9PSAwKSB7DQo+PiArCQlzdHJ1Y3Qga2ZkX3Byb2Nlc3MgKnAgPSBjb250YWlu
ZXJfb2YoYXR0ciwgc3RydWN0IGtmZF9wcm9jZXNzLA0KPj4gKwkJCQkJCSAgICAgYXR0cl9wYXNp
ZCk7DQo+PiArCQl2YWwgPSBwLT5wYXNpZDsNCj4+ICsJfSBlbHNlIHsNCj4+ICsJCXByX2Vycigi
SW52YWxpZCBhdHRyaWJ1dGUiKTsNCj4+ICsJCXJldHVybiAtRUlOVkFMOw0KPj4gKwl9DQo+PiAr
DQo+PiArCXJldHVybiBzbnByaW50ZihidWZmZXIsIFBBR0VfU0laRSwgIiVkXG4iLCB2YWwpOyB9
DQo+PiArDQo+PiArc3RhdGljIHZvaWQga2ZkX3Byb2Nmc19rb2JqX3JlbGVhc2Uoc3RydWN0IGtv
YmplY3QgKmtvYmopIHsNCj4+ICsJa2ZyZWUoa29iaik7DQo+PiArfQ0KPj4gKw0KPj4gK3N0YXRp
YyBjb25zdCBzdHJ1Y3Qgc3lzZnNfb3BzIGtmZF9wcm9jZnNfb3BzID0gew0KPj4gKwkuc2hvdyA9
IGtmZF9wcm9jZnNfc2hvdywNCj4+ICt9Ow0KPj4gKw0KPj4gK3N0YXRpYyBzdHJ1Y3Qga29ial90
eXBlIHByb2Nmc190eXBlID0gew0KPj4gKwkucmVsZWFzZSA9IGtmZF9wcm9jZnNfa29ial9yZWxl
YXNlLA0KPj4gKwkuc3lzZnNfb3BzID0gJmtmZF9wcm9jZnNfb3BzLA0KPj4gK307DQo+PiArDQo+
PiArdm9pZCBrZmRfcHJvY2ZzX2luaXQodm9pZCkNCj4+ICt7DQo+PiArCWludCByZXQgPSAwOw0K
Pj4gKw0KPj4gKwlwcm9jZnMua29iaiA9IGtmZF9hbGxvY19zdHJ1Y3QocHJvY2ZzLmtvYmopOw0K
Pj4gKwlpZiAoIXByb2Nmcy5rb2JqKQ0KPj4gKwkJcmV0dXJuOw0KPj4gKw0KPj4gKwlyZXQgPSBr
b2JqZWN0X2luaXRfYW5kX2FkZChwcm9jZnMua29iaiwgJnByb2Nmc190eXBlLA0KPj4gKwkJCQkg
ICAma2ZkX2RldmljZS0+a29iaiwgInByb2MiKTsNCj4+ICsJaWYgKHJldCkgew0KPj4gKwkJcHJf
d2FybigiQ291bGQgbm90IGNyZWF0ZSBwcm9jZnMgcHJvYyBmb2xkZXIiKTsNCj4+ICsJCS8qIElm
IHdlIGZhaWwgdG8gY3JlYXRlIHRoZSBwcm9jZnMsIGNsZWFuIHVwICovDQo+PiArCQlrZmRfcHJv
Y2ZzX3NodXRkb3duKCk7DQo+PiArCX0NCj4+ICt9DQo+PiArDQo+PiArdm9pZCBrZmRfcHJvY2Zz
X3NodXRkb3duKHZvaWQpDQo+PiArew0KPj4gKwlpZiAocHJvY2ZzLmtvYmopIHsNCj4+ICsJCWtv
YmplY3RfZGVsKHByb2Nmcy5rb2JqKTsNCj4+ICsJCWtvYmplY3RfcHV0KHByb2Nmcy5rb2JqKTsN
Cj4+ICsJCXByb2Nmcy5rb2JqID0gTlVMTDsNCj4+ICsJfQ0KPj4gK30NCj4+ICAgIA0KPj4gICAg
aW50IGtmZF9wcm9jZXNzX2NyZWF0ZV93cSh2b2lkKQ0KPj4gICAgew0KPj4gQEAgLTIwNiw2ICsy
NjgsNyBAQCBzdHJ1Y3Qga2ZkX3Byb2Nlc3MgKmtmZF9jcmVhdGVfcHJvY2VzcyhzdHJ1Y3QgZmls
ZSAqZmlsZXApDQo+PiAgICB7DQo+PiAgICAJc3RydWN0IGtmZF9wcm9jZXNzICpwcm9jZXNzOw0K
Pj4gICAgCXN0cnVjdCB0YXNrX3N0cnVjdCAqdGhyZWFkID0gY3VycmVudDsNCj4+ICsJaW50IHJl
dDsNCj4+ICAgIA0KPj4gICAgCWlmICghdGhyZWFkLT5tbSkNCj4+ICAgIAkJcmV0dXJuIEVSUl9Q
VFIoLUVJTlZBTCk7DQo+PiBAQCAtMjIzLDExICsyODYsMzYgQEAgc3RydWN0IGtmZF9wcm9jZXNz
ICprZmRfY3JlYXRlX3Byb2Nlc3Moc3RydWN0DQo+PiBmaWxlICpmaWxlcCkNCj4+ICAgIA0KPj4g
ICAgCS8qIEEgcHJpb3Igb3BlbiBvZiAvZGV2L2tmZCBjb3VsZCBoYXZlIGFscmVhZHkgY3JlYXRl
ZCB0aGUgcHJvY2Vzcy4gKi8NCj4+ICAgIAlwcm9jZXNzID0gZmluZF9wcm9jZXNzKHRocmVhZCk7
DQo+PiAtCWlmIChwcm9jZXNzKQ0KPj4gKwlpZiAocHJvY2Vzcykgew0KPj4gICAgCQlwcl9kZWJ1
ZygiUHJvY2VzcyBhbHJlYWR5IGZvdW5kXG4iKTsNCj4+IC0JZWxzZQ0KPj4gKwl9IGVsc2Ugew0K
Pj4gICAgCQlwcm9jZXNzID0gY3JlYXRlX3Byb2Nlc3ModGhyZWFkLCBmaWxlcCk7DQo+PiAgICAN
Cj4+ICsJCWlmICghcHJvY2ZzLmtvYmopDQo+PiArCQkJZ290byBvdXQ7DQo+PiArDQo+PiArCQlw
cm9jZXNzLT5rb2JqID0ga2ZkX2FsbG9jX3N0cnVjdChwcm9jZXNzLT5rb2JqKTsNCj4+ICsJCWlm
ICghcHJvY2Vzcy0+a29iaikgew0KPj4gKwkJCXByX3dhcm4oIkNyZWF0aW5nIHByb2NmcyBrb2Jq
ZWN0IGZhaWxlZCIpOw0KPj4gKwkJCWdvdG8gb3V0Ow0KPj4gKwkJfQ0KPj4gKwkJcmV0ID0ga29i
amVjdF9pbml0X2FuZF9hZGQocHJvY2Vzcy0+a29iaiwgJnByb2Nmc190eXBlLA0KPj4gKwkJCQkJ
ICAgcHJvY2ZzLmtvYmosICIlZCIsDQo+PiArCQkJCQkgICAoaW50KXByb2Nlc3MtPmxlYWRfdGhy
ZWFkLT5waWQpOw0KPj4gKwkJaWYgKHJldCkgew0KPj4gKwkJCXByX3dhcm4oIkNyZWF0aW5nIHBy
b2NmcyBwaWQgZGlyZWN0b3J5IGZhaWxlZCIpOw0KPj4gKwkJCWdvdG8gb3V0Ow0KPj4gKwkJfQ0K
Pj4gKw0KPj4gKwkJcHJvY2Vzcy0+YXR0cl9wYXNpZC5uYW1lID0gInBhc2lkIjsNCj4+ICsJCXBy
b2Nlc3MtPmF0dHJfcGFzaWQubW9kZSA9IEtGRF9TWVNGU19GSUxFX01PREU7DQo+PiArCQlzeXNm
c19hdHRyX2luaXQoJnByb2Nlc3MtPmF0dHJfcGFzaWQpOw0KPj4gKwkJcmV0ID0gc3lzZnNfY3Jl
YXRlX2ZpbGUocHJvY2Vzcy0+a29iaiwgJnByb2Nlc3MtPmF0dHJfcGFzaWQpOw0KPj4gKwkJaWYg
KHJldCkNCj4+ICsJCQlwcl93YXJuKCJDcmVhdGluZyBwYXNpZCBmb3IgcGlkICVkIGZhaWxlZCIs
DQo+PiArCQkJCQkoaW50KXByb2Nlc3MtPmxlYWRfdGhyZWFkLT5waWQpOw0KPj4gKwl9DQo+PiAr
b3V0Og0KPj4gICAgCW11dGV4X3VubG9jaygma2ZkX3Byb2Nlc3Nlc19tdXRleCk7DQo+PiAgICAN
Cj4+ICAgIAlyZXR1cm4gcHJvY2VzczsNCj4+IEBAIC0zNTUsNiArNDQzLDE0IEBAIHN0YXRpYyB2
b2lkIGtmZF9wcm9jZXNzX3dxX3JlbGVhc2Uoc3RydWN0IHdvcmtfc3RydWN0ICp3b3JrKQ0KPj4g
ICAgCXN0cnVjdCBrZmRfcHJvY2VzcyAqcCA9IGNvbnRhaW5lcl9vZih3b3JrLCBzdHJ1Y3Qga2Zk
X3Byb2Nlc3MsDQo+PiAgICAJCQkJCSAgICAgcmVsZWFzZV93b3JrKTsNCj4+ICAgIA0KPj4gKwkv
KiBSZW1vdmUgdGhlIHByb2NmcyBmaWxlcyAqLw0KPj4gKwlpZiAocC0+a29iaikgew0KPj4gKwkJ
c3lzZnNfcmVtb3ZlX2ZpbGUocC0+a29iaiwgJnAtPmF0dHJfcGFzaWQpOw0KPj4gKwkJa29iamVj
dF9kZWwocC0+a29iaik7DQo+PiArCQlrb2JqZWN0X3B1dChwLT5rb2JqKTsNCj4+ICsJCXAtPmtv
YmogPSBOVUxMOw0KPj4gKwl9DQo+PiArDQo+PiAgICAJa2ZkX2lvbW11X3VuYmluZF9wcm9jZXNz
KHApOw0KPj4gICAgDQo+PiAgICAJa2ZkX3Byb2Nlc3NfZnJlZV9vdXRzdGFuZGluZ19rZmRfYm9z
KHApOw0KDQpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwph
bWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczov
L2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZng=
