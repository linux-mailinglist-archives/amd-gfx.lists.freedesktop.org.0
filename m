Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 45D33B8B02
	for <lists+amd-gfx@lfdr.de>; Fri, 20 Sep 2019 08:26:31 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 57E926EC94;
	Fri, 20 Sep 2019 06:26:29 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM03-DM3-obe.outbound.protection.outlook.com
 (mail-eopbgr800085.outbound.protection.outlook.com [40.107.80.85])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7C1576EC94
 for <amd-gfx@lists.freedesktop.org>; Fri, 20 Sep 2019 06:26:27 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=eNgBJS7ex0SQqn2yhjHsS5ygab3lro0X9kmbr09mTIyacbFlNZO+JsTzPucS24Ghqpq3y5s7GGbipcrHQK7otSfpyYLaCdAMqquwGVd2RrJwE/BdRXCgad+A0NHta9e0Z/98CiPh0WBU7YvJ6CUT18WPGlFS+ldrjEpptBfvup8Fsrc0JDOnL1JSrrXoVDFyzXX7Ii2PqD1EVLekjF5CnzJZDfkhfcxbHF5HTLxDjCTWwmZCpbZANzCobQ2RtRSv4+CJ5g2TsBtSgSD4MLCiPOaiDEo6hlk/pR3YZ7YW1bkJE5gwwflgFuUeliWTQK7f9XGyalmQxvPbQTDej7SlRg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=kmiJc03uvJFOKIs1q1tEJ69H7mh3aduVy2r1GjvVepc=;
 b=UBMEKAt2dJAOzWH28+NgwVzL7pfIhidJlB7GtklbIkW9mMHkFT0g45TaBqNuLu9S9e8yBjwPvCSlJViOjNVgqL/a6J4J7yQelb9SStzZrRpyo0DrLZfoLyl/u99ADipJtcS0XC65isrMqTZ5EZoXmWyWWT+jWKGoKgBqjDcFpLvhJQZPC911wq4mCaAJrlHTpIJr1gzBxKvTkty5SxH4o3cigWT0JUSTyjXsJKkGiW+/OpOy/9wTz6zJe27y3xP37+up1aCk0Sd7I8/7lF/fjxkmm1vVlzi9XmKy3zy96UZ1SI6/h2Wbwr4jyvjoo50gBjntZ3zWTKrwxr/7NjKhGQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from MN2PR12MB3503.namprd12.prod.outlook.com (20.178.243.208) by
 MN2PR12MB4272.namprd12.prod.outlook.com (52.135.51.78) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2284.19; Fri, 20 Sep 2019 06:26:25 +0000
Received: from MN2PR12MB3503.namprd12.prod.outlook.com
 ([fe80::994e:90f8:1f45:11d4]) by MN2PR12MB3503.namprd12.prod.outlook.com
 ([fe80::994e:90f8:1f45:11d4%3]) with mapi id 15.20.2284.009; Fri, 20 Sep 2019
 06:26:25 +0000
From: "Yan, Alex" <Alex.Yan@amd.com>
To: "Zhou, David(ChunMing)" <David1.Zhou@amd.com>,
 =?utf-8?B?TWFyZWsgT2zFocOhaw==?= <maraeo@gmail.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH] drm/amdgpu: remove gfx9 NGG
Thread-Topic: [PATCH] drm/amdgpu: remove gfx9 NGG
Thread-Index: AQHVb1lRWBW0g4XBKkKjUWW0VC7FX6cz3XfwgAA6YuA=
Date: Fri, 20 Sep 2019 06:26:25 +0000
Message-ID: <MN2PR12MB3503746574E4371B35D4057395880@MN2PR12MB3503.namprd12.prod.outlook.com>
References: <20190920021531.3007-1-maraeo@gmail.com>
 <MWHPR12MB14065D8BD05F1FFF5ABEC580B4880@MWHPR12MB1406.namprd12.prod.outlook.com>
In-Reply-To: <MWHPR12MB14065D8BD05F1FFF5ABEC580B4880@MWHPR12MB1406.namprd12.prod.outlook.com>
Accept-Language: en-US, zh-CN
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: c882c62c-07f5-4074-976a-08d73d9376bf
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600167)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:MN2PR12MB4272; 
x-ms-traffictypediagnostic: MN2PR12MB4272:
x-ms-exchange-purlcount: 1
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <MN2PR12MB42720BC67E75FF6AA884B0AE95880@MN2PR12MB4272.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:4303;
x-forefront-prvs: 0166B75B74
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(396003)(376002)(366004)(39860400002)(346002)(136003)(189003)(199004)(13464003)(478600001)(53546011)(6506007)(14454004)(256004)(33656002)(99286004)(14444005)(8676002)(66476007)(66556008)(76116006)(71190400001)(66946007)(71200400001)(66446008)(476003)(64756008)(486006)(3846002)(305945005)(6116002)(6436002)(52536014)(8936002)(76176011)(74316002)(110136005)(7696005)(186003)(6306002)(966005)(55016002)(2906002)(30864003)(9686003)(229853002)(86362001)(7736002)(26005)(11346002)(446003)(316002)(5660300002)(102836004)(6246003)(81166006)(2501003)(81156014)(66066001)(25786009);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MN2PR12MB4272;
 H:MN2PR12MB3503.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: LV1Nx+hbhoGRlgsETpT1jArxLjzpsfJh0AdamIZjKaTMojdBV8V3RNGj/wrgLJ5gJurgCQ8KtPhEEhlgxmPC+tYrT+BE723msp54WQDmtHp3KLS1wlUxcI5vQMq3dDK1H243fYZYucr+gTsN/XV3d3Aqpu9xbtu30AEDT7kgIJ7o8NLMmdy+V1/3di0c61Vw/bDaldy3D/xh6VjhL9J4UFGlJEIG0TYf0e7es5SMcnVNAXkxbgwCLTcgDBE9Fx+4ONWL4DZaw8ce517lFAuEqQSYNQfIOdiu0ogBgspZQmIesmX5JUhzv6rYKBUivj+0lDJB742PQSVOvt9N3LU/wDDwL/mtQWQhPomufapoaf/39FUyCq1q2GsSW+MKstxtweqna1DgKhwwMptOvr35hz//gygg8GhHm+wtywNPS6g=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: c882c62c-07f5-4074-976a-08d73d9376bf
X-MS-Exchange-CrossTenant-originalarrivaltime: 20 Sep 2019 06:26:25.6020 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: I73hGvkTMBWabOlm8MkPLomw5lERiFM6nPNrtbxNBnKeP0gSsMCimaCIq/2+RsLh
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB4272
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=kmiJc03uvJFOKIs1q1tEJ69H7mh3aduVy2r1GjvVepc=;
 b=vpMNse4U6ZNix83SirFg1NsAFYH3pGGLIayiORlBsNSAJpuofjWwY5rPm4LtytkLG3NozOm4LQE1M+3BOZxopsKmqYBshEQXHbK5AN6L1J71OyDvcrTfhfXM0FMyXsauU1DdLSUoLDaM9UeqcSqM7wm60nPEYJZVyS+ZvqWz5tE=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Alex.Yan@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

DQpUaGVzZSByZWdpc3RlcnMgYXJlIHVzZWQgaW4gR0ZYOSBOR0cgYW5kIHRoZSBhZGRyZXNzZXMg
YXJlIG1hbmFnZWQgYnkgS01EOw0KR0ZYMTAgaGFzIGNoYW5nZWQgdGhlIGRlc2lnbjsgVU1EIGRv
ZXMgbm90IG5lZWQgdG8gY2FyZSBhYm91dCB0aGVzZSB2YWx1ZXMgYW55IG1vcmUuDQpJIGNhbiBj
b25maXJtIFVNRCBkb2VzIG5vdCByZWFkIHRoZXNlIHZhbHVlcyBmcm9tIEtNRC4NCg0KQWxleA0K
DQotLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KRnJvbTogWmhvdSwgRGF2aWQoQ2h1bk1pbmcp
IDxEYXZpZDEuWmhvdUBhbWQuY29tPiANClNlbnQ6IEZyaWRheSwgU2VwdGVtYmVyIDIwLCAyMDE5
IDEwOjUxIEFNDQpUbzogTWFyZWsgT2zFocOhayA8bWFyYWVvQGdtYWlsLmNvbT47IGFtZC1nZnhA
bGlzdHMuZnJlZWRlc2t0b3Aub3JnOyBZYW4sIEFsZXggPEFsZXguWWFuQGFtZC5jb20+DQpTdWJq
ZWN0OiBSRTogW1BBVENIXSBkcm0vYW1kZ3B1OiByZW1vdmUgZ2Z4OSBOR0cNCg0KK0FsZXggWWFu
IHRvIGNvbmZpcm0gd2hpY2ggZG9lc24ndCBhZmZlY3QgdXMuDQoNCg0KDQotLS0tLU9yaWdpbmFs
IE1lc3NhZ2UtLS0tLQ0KRnJvbTogYW1kLWdmeCA8YW1kLWdmeC1ib3VuY2VzQGxpc3RzLmZyZWVk
ZXNrdG9wLm9yZz4gT24gQmVoYWxmIE9mIE1hcmVrIE9sxaHDoWsNClNlbnQ6IEZyaWRheSwgU2Vw
dGVtYmVyIDIwLCAyMDE5IDEwOjE2IEFNDQpUbzogYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcNClN1YmplY3Q6IFtQQVRDSF0gZHJtL2FtZGdwdTogcmVtb3ZlIGdmeDkgTkdHDQoNCkZyb206
IE1hcmVrIE9sxaHDoWsgPG1hcmVrLm9sc2FrQGFtZC5jb20+DQoNCk5ldmVyIHVzZWQuDQoNClNp
Z25lZC1vZmYtYnk6IE1hcmVrIE9sxaHDoWsgPG1hcmVrLm9sc2FrQGFtZC5jb20+DQotLS0NCiBk
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHUuaCAgICAgfCAgIDUgLQ0KIGRyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kcnYuYyB8ICA0MSAtLS0tLSAgZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dmeC5oIHwgIDI1IC0tLSAgZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1X2ttcy5jIHwgIDExIC0tDQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvZ2Z4X3Y5XzAuYyAgIHwgMTk1IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KIDUgZmlsZXMg
Y2hhbmdlZCwgMjc3IGRlbGV0aW9ucygtKQ0KDQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvYW1kZ3B1LmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHUu
aA0KaW5kZXggNmZmMDJiYjYwMTQwLi44MDExNmU2M2UyMDkgMTAwNjQ0DQotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHUuaA0KKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1LmgNCkBAIC0xNDAsMjUgKzE0MCwyMCBAQCBleHRlcm4gaW50IGFtZGdwdV9k
YzsgIGV4dGVybiBpbnQgYW1kZ3B1X3NjaGVkX2pvYnM7ICBleHRlcm4gaW50IGFtZGdwdV9zY2hl
ZF9od19zdWJtaXNzaW9uOyAgZXh0ZXJuIHVpbnQgYW1kZ3B1X3BjaWVfZ2VuX2NhcDsgIGV4dGVy
biB1aW50IGFtZGdwdV9wY2llX2xhbmVfY2FwOyAgZXh0ZXJuIHVpbnQgYW1kZ3B1X2NnX21hc2s7
ICBleHRlcm4gdWludCBhbWRncHVfcGdfbWFzazsgIGV4dGVybiB1aW50IGFtZGdwdV9zZG1hX3Bo
YXNlX3F1YW50dW07ICBleHRlcm4gY2hhciAqYW1kZ3B1X2Rpc2FibGVfY3U7ICBleHRlcm4gY2hh
ciAqYW1kZ3B1X3ZpcnR1YWxfZGlzcGxheTsgIGV4dGVybiB1aW50IGFtZGdwdV9wcF9mZWF0dXJl
X21hc2s7IC1leHRlcm4gaW50IGFtZGdwdV9uZ2c7IC1leHRlcm4gaW50IGFtZGdwdV9wcmltX2J1
Zl9wZXJfc2U7IC1leHRlcm4gaW50IGFtZGdwdV9wb3NfYnVmX3Blcl9zZTsgLWV4dGVybiBpbnQg
YW1kZ3B1X2NudGxfc2JfYnVmX3Blcl9zZTsgLWV4dGVybiBpbnQgYW1kZ3B1X3BhcmFtX2J1Zl9w
ZXJfc2U7ICBleHRlcm4gaW50IGFtZGdwdV9qb2JfaGFuZ19saW1pdDsgIGV4dGVybiBpbnQgYW1k
Z3B1X2xicHc7ICBleHRlcm4gaW50IGFtZGdwdV9jb21wdXRlX211bHRpcGlwZTsgIGV4dGVybiBp
bnQgYW1kZ3B1X2dwdV9yZWNvdmVyeTsgIGV4dGVybiBpbnQgYW1kZ3B1X2VtdV9tb2RlOyAgZXh0
ZXJuIHVpbnQgYW1kZ3B1X3NtdV9tZW1vcnlfcG9vbF9zaXplOyAgZXh0ZXJuIHVpbnQgYW1kZ3B1
X2RjX2ZlYXR1cmVfbWFzazsgIGV4dGVybiB1aW50IGFtZGdwdV9kbV9hYm1fbGV2ZWw7ICBleHRl
cm4gc3RydWN0IGFtZGdwdV9tZ3B1X2luZm8gbWdwdV9pbmZvOyAgZXh0ZXJuIGludCBhbWRncHVf
cmFzX2VuYWJsZTsgZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdw
dV9kcnYuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kcnYuYw0KaW5kZXgg
YjQ5ZWQzOWMxZmVhLi5jYmU0ZWY0ODEzZjggMTAwNjQ0DQotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfZHJ2LmMNCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2FtZGdwdV9kcnYuYw0KQEAgLTExOSwyNSArMTE5LDIwIEBAIGludCBhbWRncHVfc2NoZWRfam9i
cyA9IDMyOyAgaW50IGFtZGdwdV9zY2hlZF9od19zdWJtaXNzaW9uID0gMjsgIHVpbnQgYW1kZ3B1
X3BjaWVfZ2VuX2NhcCA9IDA7ICB1aW50IGFtZGdwdV9wY2llX2xhbmVfY2FwID0gMDsgIHVpbnQg
YW1kZ3B1X2NnX21hc2sgPSAweGZmZmZmZmZmOyAgdWludCBhbWRncHVfcGdfbWFzayA9IDB4ZmZm
ZmZmZmY7ICB1aW50IGFtZGdwdV9zZG1hX3BoYXNlX3F1YW50dW0gPSAzMjsgIGNoYXIgKmFtZGdw
dV9kaXNhYmxlX2N1ID0gTlVMTDsgIGNoYXIgKmFtZGdwdV92aXJ0dWFsX2Rpc3BsYXkgPSBOVUxM
Ow0KIC8qIE92ZXJEcml2ZShiaXQgMTQpIGRpc2FibGVkIGJ5IGRlZmF1bHQqLyAgdWludCBhbWRn
cHVfcHBfZmVhdHVyZV9tYXNrID0gMHhmZmZmYmZmZjsgLWludCBhbWRncHVfbmdnID0gMDsgLWlu
dCBhbWRncHVfcHJpbV9idWZfcGVyX3NlID0gMDsgLWludCBhbWRncHVfcG9zX2J1Zl9wZXJfc2Ug
PSAwOyAtaW50IGFtZGdwdV9jbnRsX3NiX2J1Zl9wZXJfc2UgPSAwOyAtaW50IGFtZGdwdV9wYXJh
bV9idWZfcGVyX3NlID0gMDsgIGludCBhbWRncHVfam9iX2hhbmdfbGltaXQgPSAwOyAgaW50IGFt
ZGdwdV9sYnB3ID0gLTE7ICBpbnQgYW1kZ3B1X2NvbXB1dGVfbXVsdGlwaXBlID0gLTE7ICBpbnQg
YW1kZ3B1X2dwdV9yZWNvdmVyeSA9IC0xOyAvKiBhdXRvICovICBpbnQgYW1kZ3B1X2VtdV9tb2Rl
ID0gMDsgIHVpbnQgYW1kZ3B1X3NtdV9tZW1vcnlfcG9vbF9zaXplID0gMDsNCiAvKiBGQkMgKGJp
dCAwKSBkaXNhYmxlZCBieSBkZWZhdWx0Ki8NCiB1aW50IGFtZGdwdV9kY19mZWF0dXJlX21hc2sg
PSAwOw0KIGludCBhbWRncHVfYXN5bmNfZ2Z4X3JpbmcgPSAxOw0KIGludCBhbWRncHVfbWNicCA9
IDA7DQpAQCAtNDQzLDU2ICs0MzgsMjAgQEAgbW9kdWxlX3BhcmFtX25hbWVkKGRpc2FibGVfY3Us
IGFtZGdwdV9kaXNhYmxlX2N1LCBjaGFycCwgMDQ0NCk7DQogICogRE9DOiB2aXJ0dWFsX2Rpc3Bs
YXkgKGNoYXJwKQ0KICAqIFNldCB0byBlbmFibGUgdmlydHVhbCBkaXNwbGF5IGZlYXR1cmUuIFRo
aXMgZmVhdHVyZSBwcm92aWRlcyBhIHZpcnR1YWwgZGlzcGxheSBoYXJkd2FyZSBvbiBoZWFkbGVz
cyBib2FyZHMNCiAgKiBvciBpbiB2aXJ0dWFsaXplZCBlbnZpcm9ubWVudHMuIEl0IHdpbGwgYmUg
c2V0IGxpa2UgeHh4eDp4eDp4eC54LHg7eHh4eDp4eDp4eC54LHguIEl0J3MgdGhlIHBjaSBhZGRy
ZXNzIG9mDQogICogdGhlIGRldmljZSwgcGx1cyB0aGUgbnVtYmVyIG9mIGNydGNzIHRvIGV4cG9z
ZS4gRS5nLiwgMDAwMDoyNjowMC4wLDQgd291bGQgZW5hYmxlIDQgdmlydHVhbCBjcnRjcyBvbiB0
aGUgcGNpDQogICogZGV2aWNlIGF0IDI2OjAwLjAuIFRoZSBkZWZhdWx0IGlzIE5VTEwuDQogICov
DQogTU9EVUxFX1BBUk1fREVTQyh2aXJ0dWFsX2Rpc3BsYXksDQogCQkgIkVuYWJsZSB2aXJ0dWFs
IGRpc3BsYXkgZmVhdHVyZSAodGhlIHZpcnR1YWxfZGlzcGxheSB3aWxsIGJlIHNldCBsaWtlIHh4
eHg6eHg6eHgueCx4O3h4eHg6eHg6eHgueCx4KSIpOyAgbW9kdWxlX3BhcmFtX25hbWVkKHZpcnR1
YWxfZGlzcGxheSwgYW1kZ3B1X3ZpcnR1YWxfZGlzcGxheSwgY2hhcnAsIDA0NDQpOw0KIA0KLS8q
Kg0KLSAqIERPQzogbmdnIChpbnQpDQotICogU2V0IHRvIGVuYWJsZSBOZXh0IEdlbmVyYXRpb24g
R3JhcGhpY3MgKDEgPSBlbmFibGUpLiBUaGUgZGVmYXVsdCBpcyAwIChkaXNhYmxlZCkuDQotICov
DQotTU9EVUxFX1BBUk1fREVTQyhuZ2csICJOZXh0IEdlbmVyYXRpb24gR3JhcGhpY3MgKDEgPSBl
bmFibGUsIDAgPSBkaXNhYmxlKGRlZmF1bHQgZGVwZW5kaW5nIG9uIGdmeCkpIik7IC1tb2R1bGVf
cGFyYW1fbmFtZWQobmdnLCBhbWRncHVfbmdnLCBpbnQsIDA0NDQpOw0KLQ0KLS8qKg0KLSAqIERP
QzogcHJpbV9idWZfcGVyX3NlIChpbnQpDQotICogT3ZlcnJpZGUgdGhlIHNpemUgb2YgUHJpbWl0
aXZlIEJ1ZmZlciBwZXIgU2hhZGVyIEVuZ2luZSBpbiBCeXRlLiBUaGUgZGVmYXVsdCBpcyAwIChk
ZXBlbmRpbmcgb24gZ2Z4KS4NCi0gKi8NCi1NT0RVTEVfUEFSTV9ERVNDKHByaW1fYnVmX3Blcl9z
ZSwgInRoZSBzaXplIG9mIFByaW1pdGl2ZSBCdWZmZXIgcGVyIFNoYWRlciBFbmdpbmUgKGRlZmF1
bHQgZGVwZW5kaW5nIG9uIGdmeCkiKTsgLW1vZHVsZV9wYXJhbV9uYW1lZChwcmltX2J1Zl9wZXJf
c2UsIGFtZGdwdV9wcmltX2J1Zl9wZXJfc2UsIGludCwgMDQ0NCk7DQotDQotLyoqDQotICogRE9D
OiBwb3NfYnVmX3Blcl9zZSAoaW50KQ0KLSAqIE92ZXJyaWRlIHRoZSBzaXplIG9mIFBvc2l0aW9u
IEJ1ZmZlciBwZXIgU2hhZGVyIEVuZ2luZSBpbiBCeXRlLiBUaGUgZGVmYXVsdCBpcyAwIChkZXBl
bmRpbmcgb24gZ2Z4KS4NCi0gKi8NCi1NT0RVTEVfUEFSTV9ERVNDKHBvc19idWZfcGVyX3NlLCAi
dGhlIHNpemUgb2YgUG9zaXRpb24gQnVmZmVyIHBlciBTaGFkZXIgRW5naW5lIChkZWZhdWx0IGRl
cGVuZGluZyBvbiBnZngpIik7IC1tb2R1bGVfcGFyYW1fbmFtZWQocG9zX2J1Zl9wZXJfc2UsIGFt
ZGdwdV9wb3NfYnVmX3Blcl9zZSwgaW50LCAwNDQ0KTsNCi0NCi0vKioNCi0gKiBET0M6IGNudGxf
c2JfYnVmX3Blcl9zZSAoaW50KQ0KLSAqIE92ZXJyaWRlIHRoZSBzaXplIG9mIENvbnRyb2wgU2lk
ZWJhbmQgcGVyIFNoYWRlciBFbmdpbmUgaW4gQnl0ZS4gVGhlIGRlZmF1bHQgaXMgMCAoZGVwZW5k
aW5nIG9uIGdmeCkuDQotICovDQotTU9EVUxFX1BBUk1fREVTQyhjbnRsX3NiX2J1Zl9wZXJfc2Us
ICJ0aGUgc2l6ZSBvZiBDb250cm9sIFNpZGViYW5kIHBlciBTaGFkZXIgRW5naW5lIChkZWZhdWx0
IGRlcGVuZGluZyBvbiBnZngpIik7IC1tb2R1bGVfcGFyYW1fbmFtZWQoY250bF9zYl9idWZfcGVy
X3NlLCBhbWRncHVfY250bF9zYl9idWZfcGVyX3NlLCBpbnQsIDA0NDQpOw0KLQ0KLS8qKg0KLSAq
IERPQzogcGFyYW1fYnVmX3Blcl9zZSAoaW50KQ0KLSAqIE92ZXJyaWRlIHRoZSBzaXplIG9mIE9m
Zi1DaGlwIFBhcmFtZXRlciBDYWNoZSBwZXIgU2hhZGVyIEVuZ2luZSBpbiBCeXRlLg0KLSAqIFRo
ZSBkZWZhdWx0IGlzIDAgKGRlcGVuZGluZyBvbiBnZngpLg0KLSAqLw0KLU1PRFVMRV9QQVJNX0RF
U0MocGFyYW1fYnVmX3Blcl9zZSwgInRoZSBzaXplIG9mIE9mZi1DaGlwIFBhcmFtZXRlciBDYWNo
ZSBwZXIgU2hhZGVyIEVuZ2luZSAoZGVmYXVsdCBkZXBlbmRpbmcgb24gZ2Z4KSIpOyAtbW9kdWxl
X3BhcmFtX25hbWVkKHBhcmFtX2J1Zl9wZXJfc2UsIGFtZGdwdV9wYXJhbV9idWZfcGVyX3NlLCBp
bnQsIDA0NDQpOw0KLQ0KIC8qKg0KICAqIERPQzogam9iX2hhbmdfbGltaXQgKGludCkNCiAgKiBT
ZXQgaG93IG11Y2ggdGltZSBhbGxvdyBhIGpvYiBoYW5nIGFuZCBub3QgZHJvcCBpdC4gVGhlIGRl
ZmF1bHQgaXMgMC4NCiAgKi8NCiBNT0RVTEVfUEFSTV9ERVNDKGpvYl9oYW5nX2xpbWl0LCAiaG93
IG11Y2ggdGltZSBhbGxvdyBhIGpvYiBoYW5nIGFuZCBub3QgZHJvcCBpdCAoZGVmYXVsdCAwKSIp
OyAgbW9kdWxlX3BhcmFtX25hbWVkKGpvYl9oYW5nX2xpbWl0LCBhbWRncHVfam9iX2hhbmdfbGlt
aXQsIGludCAsMDQ0NCk7DQogDQogLyoqDQogICogRE9DOiBsYnB3IChpbnQpDQogICogT3ZlcnJp
ZGUgTG9hZCBCYWxhbmNpbmcgUGVyIFdhdHQgKExCUFcpIHN1cHBvcnQgKDEgPSBlbmFibGUsIDAg
PSBkaXNhYmxlKS4gVGhlIGRlZmF1bHQgaXMgLTEgKGF1dG8sIGVuYWJsZWQpLg0KZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nZnguaCBiL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nZnguaA0KaW5kZXggNmVkMDU2MGQ3Mjk5Li41OWM1NDY0
Yzk2YmUgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ2Z4
LmgNCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nZnguaA0KQEAgLTE5
Myw0MiArMTkzLDIwIEBAIHN0cnVjdCBhbWRncHVfZ2Z4X2Z1bmNzIHsNCiAJCQkJdWludDMyX3Qg
c2l6ZSwgdWludDMyX3QgKmRzdCk7DQogCXZvaWQgKCpyZWFkX3dhdmVfc2dwcnMpKHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2LCB1aW50MzJfdCBzaW1kLA0KIAkJCQl1aW50MzJfdCB3YXZlLCB1
aW50MzJfdCBzdGFydCwgdWludDMyX3Qgc2l6ZSwNCiAJCQkJdWludDMyX3QgKmRzdCk7DQogCXZv
aWQgKCpzZWxlY3RfbWVfcGlwZV9xKShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgdTMyIG1l
LCB1MzIgcGlwZSwNCiAJCQkJIHUzMiBxdWV1ZSwgdTMyIHZtaWQpOw0KIAlpbnQgKCpyYXNfZXJy
b3JfaW5qZWN0KShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgdm9pZCAqaW5qZWN0X2lmKTsN
CiAJaW50ICgqcXVlcnlfcmFzX2Vycm9yX2NvdW50KSAoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFk
ZXYsIHZvaWQgKnJhc19lcnJvcl9zdGF0dXMpOyAgfTsNCiANCi1zdHJ1Y3QgYW1kZ3B1X25nZ19i
dWYgew0KLQlzdHJ1Y3QgYW1kZ3B1X2JvCSpibzsNCi0JdWludDY0X3QJCWdwdV9hZGRyOw0KLQl1
aW50MzJfdAkJc2l6ZTsNCi0JdWludDMyX3QJCWJvX3NpemU7DQotfTsNCi0NCi1lbnVtIHsNCi0J
TkdHX1BSSU0gPSAwLA0KLQlOR0dfUE9TLA0KLQlOR0dfQ05UTCwNCi0JTkdHX1BBUkFNLA0KLQlO
R0dfQlVGX01BWA0KLX07DQotDQotc3RydWN0IGFtZGdwdV9uZ2cgew0KLQlzdHJ1Y3QgYW1kZ3B1
X25nZ19idWYJYnVmW05HR19CVUZfTUFYXTsNCi0JdWludDMyX3QJCWdkc19yZXNlcnZlX2FkZHI7
DQotCXVpbnQzMl90CQlnZHNfcmVzZXJ2ZV9zaXplOw0KLQlib29sCQkJaW5pdDsNCi19Ow0KLQ0K
IHN0cnVjdCBzcV93b3JrIHsNCiAJc3RydWN0IHdvcmtfc3RydWN0CXdvcms7DQogCXVuc2lnbmVk
IGloX2RhdGE7DQogfTsNCiANCiBzdHJ1Y3QgYW1kZ3B1X3BmcCB7DQogCXN0cnVjdCBhbWRncHVf
Ym8JCSpwZnBfZndfb2JqOw0KIAl1aW50NjRfdAkJCXBmcF9md19ncHVfYWRkcjsNCiAJdWludDMy
X3QJCQkqcGZwX2Z3X3B0cjsNCiB9Ow0KQEAgLTMwMywyMyArMjgxLDIwIEBAIHN0cnVjdCBhbWRn
cHVfZ2Z4IHsNCiAJdWludDMyX3QJCQlnZnhfY3VycmVudF9zdGF0dXM7DQogCS8qIGNlIHJhbSBz
aXplKi8NCiAJdW5zaWduZWQJCQljZV9yYW1fc2l6ZTsNCiAJc3RydWN0IGFtZGdwdV9jdV9pbmZv
CQljdV9pbmZvOw0KIAljb25zdCBzdHJ1Y3QgYW1kZ3B1X2dmeF9mdW5jcwkqZnVuY3M7DQogDQog
CS8qIHJlc2V0IG1hc2sgKi8NCiAJdWludDMyX3QgICAgICAgICAgICAgICAgICAgICAgICBncmJt
X3NvZnRfcmVzZXQ7DQogCXVpbnQzMl90ICAgICAgICAgICAgICAgICAgICAgICAgc3JibV9zb2Z0
X3Jlc2V0Ow0KIA0KLQkvKiBOR0cgKi8NCi0Jc3RydWN0IGFtZGdwdV9uZ2cJCW5nZzsNCi0NCiAJ
LyogZ2Z4IG9mZiAqLw0KIAlib29sICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdmeF9vZmZf
c3RhdGU7IC8qIHRydWU6IGVuYWJsZWQsIGZhbHNlOiBkaXNhYmxlZCAqLw0KIAlzdHJ1Y3QgbXV0
ZXggICAgICAgICAgICAgICAgICAgIGdmeF9vZmZfbXV0ZXg7DQogCXVpbnQzMl90ICAgICAgICAg
ICAgICAgICAgICAgICAgZ2Z4X29mZl9yZXFfY291bnQ7IC8qIGRlZmF1bHQgMSwgZW5hYmxlIGdm
eCBvZmY6IGRlYyAxLCBkaXNhYmxlIGdmeCBvZmY6IGFkZCAxICovDQogCXN0cnVjdCBkZWxheWVk
X3dvcmsgICAgICAgICAgICAgZ2Z4X29mZl9kZWxheV93b3JrOw0KIA0KIAkvKiBwaXBlIHJlc2Vy
dmF0aW9uICovDQogCXN0cnVjdCBtdXRleAkJCXBpcGVfcmVzZXJ2ZV9tdXRleDsNCiAJREVDTEFS
RV9CSVRNQVAJCQkocGlwZV9yZXNlcnZlX2JpdG1hcCwgQU1ER1BVX01BWF9DT01QVVRFX1FVRVVF
Uyk7DQogDQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2tt
cy5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2ttcy5jDQppbmRleCA3YzY4
OTc0ZmU4ZjIuLjZjYzc5ZDNhNGUyNiAxMDA2NDQNCi0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2FtZGdwdV9rbXMuYw0KKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1k
Z3B1X2ttcy5jDQpAQCAtNzYwLDMxICs3NjAsMjAgQEAgc3RhdGljIGludCBhbWRncHVfaW5mb19p
b2N0bChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB2b2lkICpkYXRhLCBzdHJ1Y3QgZHJtX2ZpbGUN
CiAJCWRldl9pbmZvLmNlX3JhbV9zaXplID0gYWRldi0+Z2Z4LmNlX3JhbV9zaXplOw0KIAkJbWVt
Y3B5KCZkZXZfaW5mby5jdV9hb19iaXRtYXBbMF0sICZhZGV2LT5nZnguY3VfaW5mby5hb19jdV9i
aXRtYXBbMF0sDQogCQkgICAgICAgc2l6ZW9mKGFkZXYtPmdmeC5jdV9pbmZvLmFvX2N1X2JpdG1h
cCkpOw0KIAkJbWVtY3B5KCZkZXZfaW5mby5jdV9iaXRtYXBbMF0sICZhZGV2LT5nZnguY3VfaW5m
by5iaXRtYXBbMF0sDQogCQkgICAgICAgc2l6ZW9mKGFkZXYtPmdmeC5jdV9pbmZvLmJpdG1hcCkp
Ow0KIAkJZGV2X2luZm8udnJhbV90eXBlID0gYWRldi0+Z21jLnZyYW1fdHlwZTsNCiAJCWRldl9p
bmZvLnZyYW1fYml0X3dpZHRoID0gYWRldi0+Z21jLnZyYW1fd2lkdGg7DQogCQlkZXZfaW5mby52
Y2VfaGFydmVzdF9jb25maWcgPSBhZGV2LT52Y2UuaGFydmVzdF9jb25maWc7DQogCQlkZXZfaW5m
by5nY19kb3VibGVfb2ZmY2hpcF9sZHNfYnVmID0NCiAJCQlhZGV2LT5nZnguY29uZmlnLmRvdWJs
ZV9vZmZjaGlwX2xkc19idWY7DQotDQotCQlpZiAoYW1kZ3B1X25nZykgew0KLQkJCWRldl9pbmZv
LnByaW1fYnVmX2dwdV9hZGRyID0gYWRldi0+Z2Z4Lm5nZy5idWZbTkdHX1BSSU1dLmdwdV9hZGRy
Ow0KLQkJCWRldl9pbmZvLnByaW1fYnVmX3NpemUgPSBhZGV2LT5nZngubmdnLmJ1ZltOR0dfUFJJ
TV0uc2l6ZTsNCi0JCQlkZXZfaW5mby5wb3NfYnVmX2dwdV9hZGRyID0gYWRldi0+Z2Z4Lm5nZy5i
dWZbTkdHX1BPU10uZ3B1X2FkZHI7DQotCQkJZGV2X2luZm8ucG9zX2J1Zl9zaXplID0gYWRldi0+
Z2Z4Lm5nZy5idWZbTkdHX1BPU10uc2l6ZTsNCi0JCQlkZXZfaW5mby5jbnRsX3NiX2J1Zl9ncHVf
YWRkciA9IGFkZXYtPmdmeC5uZ2cuYnVmW05HR19DTlRMXS5ncHVfYWRkcjsNCi0JCQlkZXZfaW5m
by5jbnRsX3NiX2J1Zl9zaXplID0gYWRldi0+Z2Z4Lm5nZy5idWZbTkdHX0NOVExdLnNpemU7DQot
CQkJZGV2X2luZm8ucGFyYW1fYnVmX2dwdV9hZGRyID0gYWRldi0+Z2Z4Lm5nZy5idWZbTkdHX1BB
UkFNXS5ncHVfYWRkcjsNCi0JCQlkZXZfaW5mby5wYXJhbV9idWZfc2l6ZSA9IGFkZXYtPmdmeC5u
Z2cuYnVmW05HR19QQVJBTV0uc2l6ZTsNCi0JCX0NCiAJCWRldl9pbmZvLndhdmVfZnJvbnRfc2l6
ZSA9IGFkZXYtPmdmeC5jdV9pbmZvLndhdmVfZnJvbnRfc2l6ZTsNCiAJCWRldl9pbmZvLm51bV9z
aGFkZXJfdmlzaWJsZV92Z3BycyA9IGFkZXYtPmdmeC5jb25maWcubWF4X2dwcnM7DQogCQlkZXZf
aW5mby5udW1fY3VfcGVyX3NoID0gYWRldi0+Z2Z4LmNvbmZpZy5tYXhfY3VfcGVyX3NoOw0KIAkJ
ZGV2X2luZm8ubnVtX3RjY19ibG9ja3MgPSBhZGV2LT5nZnguY29uZmlnLm1heF90ZXh0dXJlX2No
YW5uZWxfY2FjaGVzOw0KIAkJZGV2X2luZm8uZ3Nfdmd0X3RhYmxlX2RlcHRoID0gYWRldi0+Z2Z4
LmNvbmZpZy5nc192Z3RfdGFibGVfZGVwdGg7DQogCQlkZXZfaW5mby5nc19wcmltX2J1ZmZlcl9k
ZXB0aCA9IGFkZXYtPmdmeC5jb25maWcuZ3NfcHJpbV9idWZmZXJfZGVwdGg7DQogCQlkZXZfaW5m
by5tYXhfZ3Nfd2F2ZXNfcGVyX3ZndCA9IGFkZXYtPmdmeC5jb25maWcubWF4X2dzX3RocmVhZHM7
DQogDQogCQlpZiAoYWRldi0+ZmFtaWx5ID49IEFNREdQVV9GQU1JTFlfTlYpDQogCQkJZGV2X2lu
Zm8ucGFfc2NfdGlsZV9zdGVlcmluZ19vdmVycmlkZSA9IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9nZnhfdjlfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
Z2Z4X3Y5XzAuYw0KaW5kZXggOWExZjkxY2YwZWU4Li4yNjZlZjg3NGYyYTMgMTAwNjQ0DQotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjlfMC5jDQorKysgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9nZnhfdjlfMC5jDQpAQCAtMTk0NiwyMDQgKzE5NDYsMjAgQEAgc3Rh
dGljIGludCBnZnhfdjlfMF9ncHVfZWFybHlfaW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRl
dikNCiAJCQkJCU5VTV9TSEFERVJfRU5HSU5FUyk7DQogCWFkZXYtPmdmeC5jb25maWcuZ2JfYWRk
cl9jb25maWdfZmllbGRzLnBpcGVfaW50ZXJsZWF2ZV9zaXplID0gMSA8PCAoOCArDQogCQkJUkVH
X0dFVF9GSUVMRCgNCiAJCQkJCWFkZXYtPmdmeC5jb25maWcuZ2JfYWRkcl9jb25maWcsDQogCQkJ
CQlHQl9BRERSX0NPTkZJRywNCiAJCQkJCVBJUEVfSU5URVJMRUFWRV9TSVpFKSk7DQogDQogCXJl
dHVybiAwOw0KIH0NCiANCi1zdGF0aWMgaW50IGdmeF92OV8wX25nZ19jcmVhdGVfYnVmKHN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2LA0KLQkJCQkgICBzdHJ1Y3QgYW1kZ3B1X25nZ19idWYgKm5n
Z19idWYsDQotCQkJCSAgIGludCBzaXplX3NlLA0KLQkJCQkgICBpbnQgZGVmYXVsdF9zaXplX3Nl
KQ0KLXsNCi0JaW50IHI7DQotDQotCWlmIChzaXplX3NlIDwgMCkgew0KLQkJZGV2X2VycihhZGV2
LT5kZXYsICJCdWZmZXIgc2l6ZSBpcyBpbnZhbGlkOiAlZFxuIiwgc2l6ZV9zZSk7DQotCQlyZXR1
cm4gLUVJTlZBTDsNCi0JfQ0KLQlzaXplX3NlID0gc2l6ZV9zZSA/IHNpemVfc2UgOiBkZWZhdWx0
X3NpemVfc2U7DQotDQotCW5nZ19idWYtPnNpemUgPSBzaXplX3NlICogYWRldi0+Z2Z4LmNvbmZp
Zy5tYXhfc2hhZGVyX2VuZ2luZXM7DQotCXIgPSBhbWRncHVfYm9fY3JlYXRlX2tlcm5lbChhZGV2
LCBuZ2dfYnVmLT5zaXplLA0KLQkJCQkgICAgUEFHRV9TSVpFLCBBTURHUFVfR0VNX0RPTUFJTl9W
UkFNLA0KLQkJCQkgICAgJm5nZ19idWYtPmJvLA0KLQkJCQkgICAgJm5nZ19idWYtPmdwdV9hZGRy
LA0KLQkJCQkgICAgTlVMTCk7DQotCWlmIChyKSB7DQotCQlkZXZfZXJyKGFkZXYtPmRldiwgIigl
ZCkgZmFpbGVkIHRvIGNyZWF0ZSBOR0cgYnVmZmVyXG4iLCByKTsNCi0JCXJldHVybiByOw0KLQl9
DQotCW5nZ19idWYtPmJvX3NpemUgPSBhbWRncHVfYm9fc2l6ZShuZ2dfYnVmLT5ibyk7DQotDQot
CXJldHVybiByOw0KLX0NCi0NCi1zdGF0aWMgaW50IGdmeF92OV8wX25nZ19maW5pKHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2KSAtew0KLQlpbnQgaTsNCi0NCi0JZm9yIChpID0gMDsgaSA8IE5H
R19CVUZfTUFYOyBpKyspDQotCQlhbWRncHVfYm9fZnJlZV9rZXJuZWwoJmFkZXYtPmdmeC5uZ2cu
YnVmW2ldLmJvLA0KLQkJCQkgICAgICAmYWRldi0+Z2Z4Lm5nZy5idWZbaV0uZ3B1X2FkZHIsDQot
CQkJCSAgICAgIE5VTEwpOw0KLQ0KLQltZW1zZXQoJmFkZXYtPmdmeC5uZ2cuYnVmWzBdLCAwLA0K
LQkJCXNpemVvZihzdHJ1Y3QgYW1kZ3B1X25nZ19idWYpICogTkdHX0JVRl9NQVgpOw0KLQ0KLQlh
ZGV2LT5nZngubmdnLmluaXQgPSBmYWxzZTsNCi0NCi0JcmV0dXJuIDA7DQotfQ0KLQ0KLXN0YXRp
YyBpbnQgZ2Z4X3Y5XzBfbmdnX2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpIC17DQot
CWludCByOw0KLQ0KLQlpZiAoIWFtZGdwdV9uZ2cgfHwgYWRldi0+Z2Z4Lm5nZy5pbml0ID09IHRy
dWUpDQotCQlyZXR1cm4gMDsNCi0NCi0JLyogR0RTIHJlc2VydmUgbWVtb3J5OiA2NCBieXRlcyBh
bGlnbm1lbnQgKi8NCi0JYWRldi0+Z2Z4Lm5nZy5nZHNfcmVzZXJ2ZV9zaXplID0gQUxJR04oNSAq
IDQsIDB4NDApOw0KLQlhZGV2LT5nZHMuZ2RzX3NpemUgLT0gYWRldi0+Z2Z4Lm5nZy5nZHNfcmVz
ZXJ2ZV9zaXplOw0KLQlhZGV2LT5nZngubmdnLmdkc19yZXNlcnZlX2FkZHIgPSBSUkVHMzJfU09D
MTUoR0MsIDAsIG1tR0RTX1ZNSUQwX0JBU0UpOw0KLQlhZGV2LT5nZngubmdnLmdkc19yZXNlcnZl
X2FkZHIgKz0gUlJFRzMyX1NPQzE1KEdDLCAwLCBtbUdEU19WTUlEMF9TSVpFKTsNCi0NCi0JLyog
UHJpbWl0aXZlIEJ1ZmZlciAqLw0KLQlyID0gZ2Z4X3Y5XzBfbmdnX2NyZWF0ZV9idWYoYWRldiwg
JmFkZXYtPmdmeC5uZ2cuYnVmW05HR19QUklNXSwNCi0JCQkJICAgIGFtZGdwdV9wcmltX2J1Zl9w
ZXJfc2UsDQotCQkJCSAgICA2NCAqIDEwMjQpOw0KLQlpZiAocikgew0KLQkJZGV2X2VycihhZGV2
LT5kZXYsICJGYWlsZWQgdG8gY3JlYXRlIFByaW1pdGl2ZSBCdWZmZXJcbiIpOw0KLQkJZ290byBl
cnI7DQotCX0NCi0NCi0JLyogUG9zaXRpb24gQnVmZmVyICovDQotCXIgPSBnZnhfdjlfMF9uZ2df
Y3JlYXRlX2J1ZihhZGV2LCAmYWRldi0+Z2Z4Lm5nZy5idWZbTkdHX1BPU10sDQotCQkJCSAgICBh
bWRncHVfcG9zX2J1Zl9wZXJfc2UsDQotCQkJCSAgICAyNTYgKiAxMDI0KTsNCi0JaWYgKHIpIHsN
Ci0JCWRldl9lcnIoYWRldi0+ZGV2LCAiRmFpbGVkIHRvIGNyZWF0ZSBQb3NpdGlvbiBCdWZmZXJc
biIpOw0KLQkJZ290byBlcnI7DQotCX0NCi0NCi0JLyogQ29udHJvbCBTaWRlYmFuZCAqLw0KLQly
ID0gZ2Z4X3Y5XzBfbmdnX2NyZWF0ZV9idWYoYWRldiwgJmFkZXYtPmdmeC5uZ2cuYnVmW05HR19D
TlRMXSwNCi0JCQkJICAgIGFtZGdwdV9jbnRsX3NiX2J1Zl9wZXJfc2UsDQotCQkJCSAgICAyNTYp
Ow0KLQlpZiAocikgew0KLQkJZGV2X2VycihhZGV2LT5kZXYsICJGYWlsZWQgdG8gY3JlYXRlIENv
bnRyb2wgU2lkZWJhbmQgQnVmZmVyXG4iKTsNCi0JCWdvdG8gZXJyOw0KLQl9DQotDQotCS8qIFBh
cmFtZXRlciBDYWNoZSwgbm90IGNyZWF0ZWQgYnkgZGVmYXVsdCAqLw0KLQlpZiAoYW1kZ3B1X3Bh
cmFtX2J1Zl9wZXJfc2UgPD0gMCkNCi0JCWdvdG8gb3V0Ow0KLQ0KLQlyID0gZ2Z4X3Y5XzBfbmdn
X2NyZWF0ZV9idWYoYWRldiwgJmFkZXYtPmdmeC5uZ2cuYnVmW05HR19QQVJBTV0sDQotCQkJCSAg
ICBhbWRncHVfcGFyYW1fYnVmX3Blcl9zZSwNCi0JCQkJICAgIDUxMiAqIDEwMjQpOw0KLQlpZiAo
cikgew0KLQkJZGV2X2VycihhZGV2LT5kZXYsICJGYWlsZWQgdG8gY3JlYXRlIFBhcmFtZXRlciBD
YWNoZVxuIik7DQotCQlnb3RvIGVycjsNCi0JfQ0KLQ0KLW91dDoNCi0JYWRldi0+Z2Z4Lm5nZy5p
bml0ID0gdHJ1ZTsNCi0JcmV0dXJuIDA7DQotZXJyOg0KLQlnZnhfdjlfMF9uZ2dfZmluaShhZGV2
KTsNCi0JcmV0dXJuIHI7DQotfQ0KLQ0KLXN0YXRpYyBpbnQgZ2Z4X3Y5XzBfbmdnX2VuKHN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2KSAtew0KLQlzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcgPSAm
YWRldi0+Z2Z4LmdmeF9yaW5nWzBdOw0KLQlpbnQgcjsNCi0JdTMyIGRhdGEsIGJhc2U7DQotDQot
CWlmICghYW1kZ3B1X25nZykNCi0JCXJldHVybiAwOw0KLQ0KLQkvKiBQcm9ncmFtIGJ1ZmZlciBz
aXplICovDQotCWRhdGEgPSBSRUdfU0VUX0ZJRUxEKDAsIFdEX0JVRl9SRVNPVVJDRV8xLCBJTkRF
WF9CVUZfU0laRSwNCi0JCQkgICAgIGFkZXYtPmdmeC5uZ2cuYnVmW05HR19QUklNXS5zaXplID4+
IDgpOw0KLQlkYXRhID0gUkVHX1NFVF9GSUVMRChkYXRhLCBXRF9CVUZfUkVTT1VSQ0VfMSwgUE9T
X0JVRl9TSVpFLA0KLQkJCSAgICAgYWRldi0+Z2Z4Lm5nZy5idWZbTkdHX1BPU10uc2l6ZSA+PiA4
KTsNCi0JV1JFRzMyX1NPQzE1KEdDLCAwLCBtbVdEX0JVRl9SRVNPVVJDRV8xLCBkYXRhKTsNCi0N
Ci0JZGF0YSA9IFJFR19TRVRfRklFTEQoMCwgV0RfQlVGX1JFU09VUkNFXzIsIENOVExfU0JfQlVG
X1NJWkUsDQotCQkJICAgICBhZGV2LT5nZngubmdnLmJ1ZltOR0dfQ05UTF0uc2l6ZSA+PiA4KTsN
Ci0JZGF0YSA9IFJFR19TRVRfRklFTEQoZGF0YSwgV0RfQlVGX1JFU09VUkNFXzIsIFBBUkFNX0JV
Rl9TSVpFLA0KLQkJCSAgICAgYWRldi0+Z2Z4Lm5nZy5idWZbTkdHX1BBUkFNXS5zaXplID4+IDEw
KTsNCi0JV1JFRzMyX1NPQzE1KEdDLCAwLCBtbVdEX0JVRl9SRVNPVVJDRV8yLCBkYXRhKTsNCi0N
Ci0JLyogUHJvZ3JhbSBidWZmZXIgYmFzZSBhZGRyZXNzICovDQotCWJhc2UgPSBsb3dlcl8zMl9i
aXRzKGFkZXYtPmdmeC5uZ2cuYnVmW05HR19QUklNXS5ncHVfYWRkcik7DQotCWRhdGEgPSBSRUdf
U0VUX0ZJRUxEKDAsIFdEX0lOREVYX0JVRl9CQVNFLCBCQVNFLCBiYXNlKTsNCi0JV1JFRzMyX1NP
QzE1KEdDLCAwLCBtbVdEX0lOREVYX0JVRl9CQVNFLCBkYXRhKTsNCi0NCi0JYmFzZSA9IHVwcGVy
XzMyX2JpdHMoYWRldi0+Z2Z4Lm5nZy5idWZbTkdHX1BSSU1dLmdwdV9hZGRyKTsNCi0JZGF0YSA9
IFJFR19TRVRfRklFTEQoMCwgV0RfSU5ERVhfQlVGX0JBU0VfSEksIEJBU0VfSEksIGJhc2UpOw0K
LQlXUkVHMzJfU09DMTUoR0MsIDAsIG1tV0RfSU5ERVhfQlVGX0JBU0VfSEksIGRhdGEpOw0KLQ0K
LQliYXNlID0gbG93ZXJfMzJfYml0cyhhZGV2LT5nZngubmdnLmJ1ZltOR0dfUE9TXS5ncHVfYWRk
cik7DQotCWRhdGEgPSBSRUdfU0VUX0ZJRUxEKDAsIFdEX1BPU19CVUZfQkFTRSwgQkFTRSwgYmFz
ZSk7DQotCVdSRUczMl9TT0MxNShHQywgMCwgbW1XRF9QT1NfQlVGX0JBU0UsIGRhdGEpOw0KLQ0K
LQliYXNlID0gdXBwZXJfMzJfYml0cyhhZGV2LT5nZngubmdnLmJ1ZltOR0dfUE9TXS5ncHVfYWRk
cik7DQotCWRhdGEgPSBSRUdfU0VUX0ZJRUxEKDAsIFdEX1BPU19CVUZfQkFTRV9ISSwgQkFTRV9I
SSwgYmFzZSk7DQotCVdSRUczMl9TT0MxNShHQywgMCwgbW1XRF9QT1NfQlVGX0JBU0VfSEksIGRh
dGEpOw0KLQ0KLQliYXNlID0gbG93ZXJfMzJfYml0cyhhZGV2LT5nZngubmdnLmJ1ZltOR0dfQ05U
TF0uZ3B1X2FkZHIpOw0KLQlkYXRhID0gUkVHX1NFVF9GSUVMRCgwLCBXRF9DTlRMX1NCX0JVRl9C
QVNFLCBCQVNFLCBiYXNlKTsNCi0JV1JFRzMyX1NPQzE1KEdDLCAwLCBtbVdEX0NOVExfU0JfQlVG
X0JBU0UsIGRhdGEpOw0KLQ0KLQliYXNlID0gdXBwZXJfMzJfYml0cyhhZGV2LT5nZngubmdnLmJ1
ZltOR0dfQ05UTF0uZ3B1X2FkZHIpOw0KLQlkYXRhID0gUkVHX1NFVF9GSUVMRCgwLCBXRF9DTlRM
X1NCX0JVRl9CQVNFX0hJLCBCQVNFX0hJLCBiYXNlKTsNCi0JV1JFRzMyX1NPQzE1KEdDLCAwLCBt
bVdEX0NOVExfU0JfQlVGX0JBU0VfSEksIGRhdGEpOw0KLQ0KLQkvKiBDbGVhciBHRFMgcmVzZXJ2
ZWQgbWVtb3J5ICovDQotCXIgPSBhbWRncHVfcmluZ19hbGxvYyhyaW5nLCAxNyk7DQotCWlmIChy
KSB7DQotCQlEUk1fRVJST1IoImFtZGdwdTogTkdHIGZhaWxlZCB0byBsb2NrIHJpbmcgJXMgKCVk
KS5cbiIsDQotCQkJICByaW5nLT5uYW1lLCByKTsNCi0JCXJldHVybiByOw0KLQl9DQotDQotCWdm
eF92OV8wX3dyaXRlX2RhdGFfdG9fcmVnKHJpbmcsIDAsIGZhbHNlLA0KLQkJCQkgICBTT0MxNV9S
RUdfT0ZGU0VUKEdDLCAwLCBtbUdEU19WTUlEMF9TSVpFKSwNCi0JCQkgICAgICAgICAgIChhZGV2
LT5nZHMuZ2RzX3NpemUgKw0KLQkJCQkgICAgYWRldi0+Z2Z4Lm5nZy5nZHNfcmVzZXJ2ZV9zaXpl
KSk7DQotDQotCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIFBBQ0tFVDMoUEFDS0VUM19ETUFfREFU
QSwgNSkpOw0KLQlhbWRncHVfcmluZ193cml0ZShyaW5nLCAoUEFDS0VUM19ETUFfREFUQV9DUF9T
WU5DIHwNCi0JCQkJUEFDS0VUM19ETUFfREFUQV9EU1RfU0VMKDEpIHwNCi0JCQkJUEFDS0VUM19E
TUFfREFUQV9TUkNfU0VMKDIpKSk7DQotCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIDApOw0KLQlh
bWRncHVfcmluZ193cml0ZShyaW5nLCAwKTsNCi0JYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgYWRl
di0+Z2Z4Lm5nZy5nZHNfcmVzZXJ2ZV9hZGRyKTsNCi0JYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywg
MCk7DQotCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIFBBQ0tFVDNfRE1BX0RBVEFfQ01EX1JBV19X
QUlUIHwNCi0JCQkJYWRldi0+Z2Z4Lm5nZy5nZHNfcmVzZXJ2ZV9zaXplKTsNCi0NCi0JZ2Z4X3Y5
XzBfd3JpdGVfZGF0YV90b19yZWcocmluZywgMCwgZmFsc2UsDQotCQkJCSAgIFNPQzE1X1JFR19P
RkZTRVQoR0MsIDAsIG1tR0RTX1ZNSUQwX1NJWkUpLCAwKTsNCi0NCi0JYW1kZ3B1X3JpbmdfY29t
bWl0KHJpbmcpOw0KLQ0KLQlyZXR1cm4gMDsNCi19DQotDQogc3RhdGljIGludCBnZnhfdjlfMF9j
b21wdXRlX3JpbmdfaW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgaW50IHJpbmdfaWQs
DQogCQkJCSAgICAgIGludCBtZWMsIGludCBwaXBlLCBpbnQgcXVldWUpICB7DQogCWludCByOw0K
IAl1bnNpZ25lZCBpcnFfdHlwZTsNCiAJc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nID0gJmFkZXYt
PmdmeC5jb21wdXRlX3JpbmdbcmluZ19pZF07DQogDQogCXJpbmcgPSAmYWRldi0+Z2Z4LmNvbXB1
dGVfcmluZ1tyaW5nX2lkXTsNCiANCiAJLyogbWVjMCBpcyBtZTEgKi8NCkBAIC0yMjk3LDI0ICsy
MTEzLDIwIEBAIHN0YXRpYyBpbnQgZ2Z4X3Y5XzBfc3dfaW5pdCh2b2lkICpoYW5kbGUpDQogCXIg
PSBhbWRncHVfZ2Z4X21xZF9zd19pbml0KGFkZXYsIHNpemVvZihzdHJ1Y3QgdjlfbXFkX2FsbG9j
YXRpb24pKTsNCiAJaWYgKHIpDQogCQlyZXR1cm4gcjsNCiANCiAJYWRldi0+Z2Z4LmNlX3JhbV9z
aXplID0gMHg4MDAwOw0KIA0KIAlyID0gZ2Z4X3Y5XzBfZ3B1X2Vhcmx5X2luaXQoYWRldik7DQog
CWlmIChyKQ0KIAkJcmV0dXJuIHI7DQogDQotCXIgPSBnZnhfdjlfMF9uZ2dfaW5pdChhZGV2KTsN
Ci0JaWYgKHIpDQotCQlyZXR1cm4gcjsNCi0NCiAJcmV0dXJuIDA7DQogfQ0KIA0KIA0KIHN0YXRp
YyBpbnQgZ2Z4X3Y5XzBfc3dfZmluaSh2b2lkICpoYW5kbGUpICB7DQogCWludCBpOw0KIAlzdHJ1
Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqKWhhbmRsZTsN
CiANCiAJaWYgKGFtZGdwdV9yYXNfaXNfc3VwcG9ydGVkKGFkZXYsIEFNREdQVV9SQVNfQkxPQ0tf
X0dGWCkgJiYgQEAgLTIzMzQsMjEgKzIxNDYsMjAgQEAgc3RhdGljIGludCBnZnhfdjlfMF9zd19m
aW5pKHZvaWQgKmhhbmRsZSkNCiAJZm9yIChpID0gMDsgaSA8IGFkZXYtPmdmeC5udW1fZ2Z4X3Jp
bmdzOyBpKyspDQogCQlhbWRncHVfcmluZ19maW5pKCZhZGV2LT5nZnguZ2Z4X3JpbmdbaV0pOw0K
IAlmb3IgKGkgPSAwOyBpIDwgYWRldi0+Z2Z4Lm51bV9jb21wdXRlX3JpbmdzOyBpKyspDQogCQlh
bWRncHVfcmluZ19maW5pKCZhZGV2LT5nZnguY29tcHV0ZV9yaW5nW2ldKTsNCiANCiAJYW1kZ3B1
X2dmeF9tcWRfc3dfZmluaShhZGV2KTsNCiAJYW1kZ3B1X2dmeF9raXFfZnJlZV9yaW5nKCZhZGV2
LT5nZngua2lxLnJpbmcsICZhZGV2LT5nZngua2lxLmlycSk7DQogCWFtZGdwdV9nZnhfa2lxX2Zp
bmkoYWRldik7DQogDQogCWdmeF92OV8wX21lY19maW5pKGFkZXYpOw0KLQlnZnhfdjlfMF9uZ2df
ZmluaShhZGV2KTsNCiAJYW1kZ3B1X2JvX3VucmVmKCZhZGV2LT5nZngucmxjLmNsZWFyX3N0YXRl
X29iaik7DQogCWlmIChhZGV2LT5hc2ljX3R5cGUgPT0gQ0hJUF9SQVZFTiB8fCBhZGV2LT5hc2lj
X3R5cGUgPT0gQ0hJUF9SRU5PSVIpIHsNCiAJCWFtZGdwdV9ib19mcmVlX2tlcm5lbCgmYWRldi0+
Z2Z4LnJsYy5jcF90YWJsZV9vYmosDQogCQkJCSZhZGV2LT5nZngucmxjLmNwX3RhYmxlX2dwdV9h
ZGRyLA0KIAkJCQkodm9pZCAqKikmYWRldi0+Z2Z4LnJsYy5jcF90YWJsZV9wdHIpOw0KIAl9DQog
CWdmeF92OV8wX2ZyZWVfbWljcm9jb2RlKGFkZXYpOw0KIA0KIAlyZXR1cm4gMDsNCiB9DQpAQCAt
Mzg2NCwyNiArMzY3NSwyMCBAQCBzdGF0aWMgaW50IGdmeF92OV8wX2h3X2luaXQodm9pZCAqaGFu
ZGxlKQ0KIAkJcmV0dXJuIHI7DQogDQogCXIgPSBhZGV2LT5nZngucmxjLmZ1bmNzLT5yZXN1bWUo
YWRldik7DQogCWlmIChyKQ0KIAkJcmV0dXJuIHI7DQogDQogCXIgPSBnZnhfdjlfMF9jcF9yZXN1
bWUoYWRldik7DQogCWlmIChyKQ0KIAkJcmV0dXJuIHI7DQogDQotCWlmIChhZGV2LT5hc2ljX3R5
cGUgIT0gQ0hJUF9BUkNUVVJVUykgew0KLQkJciA9IGdmeF92OV8wX25nZ19lbihhZGV2KTsNCi0J
CWlmIChyKQ0KLQkJCXJldHVybiByOw0KLQl9DQotDQogCXJldHVybiByOw0KIH0NCiANCiBzdGF0
aWMgaW50IGdmeF92OV8wX2tjcV9kaXNhYmxlKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KSAg
ew0KIAlpbnQgciwgaTsNCiAJc3RydWN0IGFtZGdwdV9yaW5nICpraXFfcmluZyA9ICZhZGV2LT5n
Zngua2lxLnJpbmc7DQogDQogCXIgPSBhbWRncHVfcmluZ19hbGxvYyhraXFfcmluZywgNiAqIGFk
ZXYtPmdmeC5udW1fY29tcHV0ZV9yaW5ncyk7DQogCWlmIChyKQ0KLS0NCjIuMTcuMQ0KDQpfX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXw0KYW1kLWdmeCBtYWls
aW5nIGxpc3QNCmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnDQpodHRwczovL2xpc3RzLmZy
ZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZngNCl9fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1n
ZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21h
aWxtYW4vbGlzdGluZm8vYW1kLWdmeA==
