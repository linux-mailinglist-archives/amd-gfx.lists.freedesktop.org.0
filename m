Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id BD713274DD
	for <lists+amd-gfx@lfdr.de>; Thu, 23 May 2019 05:54:37 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0596389C1F;
	Thu, 23 May 2019 03:54:36 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-wm1-x342.google.com (mail-wm1-x342.google.com
 [IPv6:2a00:1450:4864:20::342])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7A3AB89C1F
 for <amd-gfx@lists.freedesktop.org>; Thu, 23 May 2019 03:54:34 +0000 (UTC)
Received: by mail-wm1-x342.google.com with SMTP id q15so4221806wmj.0
 for <amd-gfx@lists.freedesktop.org>; Wed, 22 May 2019 20:54:34 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=PnlSsuEBn9jGCh9SOGMoFYJ110mLb2EGvXJ4YcO90tY=;
 b=UujypfUs3yEYIImQ8nl0FzuYrURznGYaJAnJyO6VRbR1g7iwqIQqbQcOAsF+ni+AOy
 Dtn2sqnWPUNywckjKNeWne9e66wMOpdCy+dMbtiNFkKvonHDpXqYzBfk7/adCuG+MbkY
 CmppCH9SBVyyVcTysbc2VsTFtF+Zq+UVdnuY5PPQf+9PNUCe0eItbcKpHZYf389T1CqW
 1dFrxUlnOTxa6OGwgmY/ru1SaAT3Vy669AacJYyMn9Jmn1CFyZRmQN/mFBve68FiY7UO
 DJ1S9ANIFihgaZtLRt6t6RToO+s6yw3jBj27X4kpCTNpo33DNVfmj69KEhtVNnyNzP2f
 moGQ==
X-Gm-Message-State: APjAAAV5awMTpbKjWyiou71rxmCyVVt+gWNDY6gUa3cGAnmttR7WixT6
 ID7qTZ/+rKG+gX69pUNfpyTVXq13K3X46uxu0n0=
X-Google-Smtp-Source: APXvYqyo6OKQ7pnOEn8oJOENWkJ+jPHYjF0aCe0tMnk+BiZOjYyJb+48J2+zbcQk2BH/zxfcDM1t9ggY+ZpDS78n1Xg=
X-Received: by 2002:a1c:f009:: with SMTP id a9mr9485023wmb.110.1558583673046; 
 Wed, 22 May 2019 20:54:33 -0700 (PDT)
MIME-Version: 1.0
References: <1558582017-7545-1-git-send-email-Emily.Deng@amd.com>
 <CADnq5_Oa8WjT0_V6r+KJ3Jm-HXRUUiNoYg=fFQs-5VyU9ew0=Q@mail.gmail.com>
In-Reply-To: <CADnq5_Oa8WjT0_V6r+KJ3Jm-HXRUUiNoYg=fFQs-5VyU9ew0=Q@mail.gmail.com>
From: Alex Deucher <alexdeucher@gmail.com>
Date: Wed, 22 May 2019 23:54:21 -0400
Message-ID: <CADnq5_O+F=pSzQmgWuAmretpVuoNo9w1WVq4qWst5BVUq4FnKg@mail.gmail.com>
Subject: Re: [PATCH v2] drm/amdgpu: Need to set the baco cap before baco reset
To: Emily Deng <Emily.Deng@amd.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=PnlSsuEBn9jGCh9SOGMoFYJ110mLb2EGvXJ4YcO90tY=;
 b=E3iATo8lO6ejSTsE/QyBppT+NJXFe2IHYPQpibsTq3SxTakzSX0Cip7QDMf2aSbCIU
 71XueBAYKa3XT3rMF1jxDhtkhJDyIWalHsOLsZF7xozY4WYrweOsuLBnv/aQh0d8btnp
 h9LcnvAmdpDLzxQ79ydsGx05yScnR255R3BHatNAZIOt86WIpiOJDmTs7E6Yd5/SxY5x
 oKjrSHC/d64TYKoUzg+nnhY+PjhgErtfRn2f7m9vLWkLllefucL9QEtnTdmwZVxyX8mx
 RKP6HIIA6wFdmZwz0ns+Ya6tDmL8lJbwCauwKgIJXlByDXTsAIxLKYYdnxc4MF0xA/kE
 /jMw==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: amd-gfx list <amd-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

T24gV2VkLCBNYXkgMjIsIDIwMTkgYXQgMTE6NDggUE0gQWxleCBEZXVjaGVyIDxhbGV4ZGV1Y2hl
ckBnbWFpbC5jb20+IHdyb3RlOgo+Cj4gT24gV2VkLCBNYXkgMjIsIDIwMTkgYXQgMTE6MjcgUE0g
RW1pbHkgRGVuZyA8RW1pbHkuRGVuZ0BhbWQuY29tPiB3cm90ZToKPiA+Cj4KPiBQbGVhc2UgaW5j
bHVkZSBhIHBhdGNoIGRlc2NyaXB0aW9uLgo+Cj4gPiBTaWduZWQtb2ZmLWJ5OiBFbWlseSBEZW5n
IDxFbWlseS5EZW5nQGFtZC5jb20+Cj4gPiAtLS0KPiA+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfZGV2aWNlLmMgICAgICAgICB8IDEwICsrKysrKysrKy0KPiA+ICBkcml2ZXJz
L2dwdS9kcm0vYW1kL2luY2x1ZGUva2dkX3BwX2ludGVyZmFjZS5oICAgICB8ICAxICsKPiA+ICBk
cml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9hbWRfcG93ZXJwbGF5LmMgICAgICB8IDE2ICsr
KysrKysrKysrKysrKysKPiA+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9od21nci92
ZWdhMTBfaHdtZ3IuYyB8ICAxICsKPiA+ICAuLi4vYW1kL3Bvd2VycGxheS9od21nci92ZWdhMTBf
cHJvY2Vzc3BwdGFibGVzLmMgICB8IDIyICsrKysrKysrKysrKysrKysrKysrKysKPiA+ICAuLi4v
YW1kL3Bvd2VycGxheS9od21nci92ZWdhMTBfcHJvY2Vzc3BwdGFibGVzLmggICB8ICAxICsKPiA+
ICBkcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvaHdtZ3IuaCAgICAgICAgICB8ICAx
ICsKPiA+ICA3IGZpbGVzIGNoYW5nZWQsIDUxIGluc2VydGlvbnMoKyksIDEgZGVsZXRpb24oLSkK
PiA+Cj4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2Rl
dmljZS5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RldmljZS5jCj4gPiBp
bmRleCBkNjI4NmVkLi41Mjg4NzYzIDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1X2RldmljZS5jCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfZGV2aWNlLmMKPiA+IEBAIC0yNjA1LDcgKzI2MDUsMTUgQEAgaW50IGFtZGdw
dV9kZXZpY2VfaW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKPiA+ICAgICAgICAgLyog
Y2hlY2sgaWYgd2UgbmVlZCB0byByZXNldCB0aGUgYXNpYwo+ID4gICAgICAgICAgKiAgRS5nLiwg
ZHJpdmVyIHdhcyBub3QgY2xlYW5seSB1bmxvYWRlZCBwcmV2aW91c2x5LCBldGMuCj4gPiAgICAg
ICAgICAqLwo+ID4gLSAgICAgICBpZiAoIWFtZGdwdV9zcmlvdl92ZihhZGV2KSAmJiBhbWRncHVf
YXNpY19uZWVkX3Jlc2V0X29uX2luaXQoYWRldikpIHsKPiA+ICsgICAgICAgaWYgKGFtZGdwdV9w
YXNzdGhyb3VnaChhZGV2KSAmJiBhbWRncHVfYXNpY19uZWVkX3Jlc2V0X29uX2luaXQoYWRldikp
IHsKPgo+IFRoaXMgd2lsbCBjaGFuZ2UgdGhlIGN1cnJlbnQgYmVoYXZpb3Igb24gYmFyZW1ldGFs
Lgo+Cj4gPiArICAgICAgICAgICAgICAgaWYgKGFkZXYtPnBvd2VycGxheS5wcF9mdW5jcyAmJiBh
ZGV2LT5wb3dlcnBsYXkucHBfZnVuY3MtPnNldF9hc2ljX2JhY29fY2FwKSB7Cj4gPiArICAgICAg
ICAgICAgICAgICAgICAgICByID0gYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzLT5zZXRfYXNpY19i
YWNvX2NhcChhZGV2LT5wb3dlcnBsYXkucHBfaGFuZGxlKTsKPiA+ICsgICAgICAgICAgICAgICAg
ICAgICAgIGlmIChyKSB7Cj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldl9l
cnIoYWRldi0+ZGV2LCAic2V0IGJhY28gY2FwYWJpbGl0eSBmYWlsZWRcbiIpOwo+ID4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvIGZhaWxlZDsKPiA+ICsgICAgICAgICAgICAg
ICAgICAgICAgIH0KPiA+ICsgICAgICAgICAgICAgICB9Cj4gPiArCj4KPiBUaGlzIHdpbGwgYWxz
byBjaGFuZ2UgdGhlIGN1cnJlbnQgYmVoYXZpb3Igb24gYmFyZSBtZXRhbC4KPgo+IEkgdGhpbmsg
eW91IG1heSB3YW50IHRvIHJld29yayB0aGlzIGEgYml0IG90aGVyd2lzZSB0aGlzIGNoYW5nZSB3
b24ndAo+IHJlYWxseSBtYWtlIGFueSBkaWZmZXJlbmNlIGR1ZSB0byB0aGlzIHBhdGNoOgo+IGh0
dHBzOi8vY2dpdC5mcmVlZGVza3RvcC5vcmcvfmFnZDVmL2xpbnV4L2NvbW1pdC8/aD1hbWQtc3Rh
Z2luZy1kcm0tbmV4dCZpZD02MGFlMmNkNWFlYzk0ZGM2NDU5YmRlZTVjNjEwYmI1Yzc2YTFkMGFl
Cj4gV2UgbmVlZCB0byBhdm9pZCBicmVha2luZyBtb2R1bGUgcmVsb2FkIChtb2RlcHJvYmUgYW1k
Z3B1OyBtb2Rwcm9iZSAtcgo+IGFtZGdwdTsgbW9kZXByb2JlIGFtZGdwdSkuCj4gSSB0aGluayBp
dCB3b3VsZCBiZSBjbGVhbmVyIHRvIGNhbGwgc2V0X2FzaWNfYmFjb19jYXAoKSBpbgo+IGh3bWdy
X2Vhcmx5X2luaXQoKSBhbmQgdGhlbiByZXR1cm4gdHJ1ZSBpbiBzb2MxNV9uZWVkX3Jlc2V0X29u
X2luaXQoKQo+IGlzIGl0J3MgcGFzc3Rocm91Z2ggbW9kZS4gIHRoZW4gZXZlcnl0aGluZyBzaG91
bGQganVzdCB3b3JrIGFzIGlzLgoKQXNzdW1pbmcgeW91IHNldCB0aGUgc2V0X2FzaWNfYmFjb19j
YXAgY2FsbGJhY2tzIGZvciB2ZWdhMjAgYW5kIHZlZ2ExMgphcyB3ZWxsLiBPdGhlcndpc2UsIHlv
dSdsbCBoYXZlIHRvIGxpbWl0IGl0IHRvIHZlZ2ExMCB3aGljaCBzdGFydHMgdG8KZ2V0IG1lc3N5
IElNSE8uCgpBbGV4Cgo+Cj4gPiAgICAgICAgICAgICAgICAgciA9IGFtZGdwdV9hc2ljX3Jlc2V0
KGFkZXYpOwo+ID4gICAgICAgICAgICAgICAgIGlmIChyKSB7Cj4gPiAgICAgICAgICAgICAgICAg
ICAgICAgICBkZXZfZXJyKGFkZXYtPmRldiwgImFzaWMgcmVzZXQgb24gaW5pdCBmYWlsZWRcbiIp
Owo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvaW5jbHVkZS9rZ2RfcHBfaW50
ZXJmYWNlLmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2luY2x1ZGUva2dkX3BwX2ludGVyZmFjZS5o
Cj4gPiBpbmRleCAyYjU3OWJhLi4wZGNjMThkIDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2FtZC9pbmNsdWRlL2tnZF9wcF9pbnRlcmZhY2UuaAo+ID4gKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9pbmNsdWRlL2tnZF9wcF9pbnRlcmZhY2UuaAo+ID4gQEAgLTI4NSw2ICsyODUsNyBA
QCBzdHJ1Y3QgYW1kX3BtX2Z1bmNzIHsKPiA+ICAgICAgICAgaW50ICgqc2V0X2hhcmRfbWluX2Zj
bGtfYnlfZnJlcSkodm9pZCAqaGFuZGxlLCB1aW50MzJfdCBjbG9jayk7Cj4gPiAgICAgICAgIGlu
dCAoKnNldF9taW5fZGVlcF9zbGVlcF9kY2VmY2xrKSh2b2lkICpoYW5kbGUsIHVpbnQzMl90IGNs
b2NrKTsKPiA+ICAgICAgICAgaW50ICgqZ2V0X2FzaWNfYmFjb19jYXBhYmlsaXR5KSh2b2lkICpo
YW5kbGUsIGJvb2wgKmNhcCk7Cj4gPiArICAgICAgIGludCAoKnNldF9hc2ljX2JhY29fY2FwKSh2
b2lkICpoYW5kbGUpOwo+ID4gICAgICAgICBpbnQgKCpnZXRfYXNpY19iYWNvX3N0YXRlKSh2b2lk
ICpoYW5kbGUsIGludCAqc3RhdGUpOwo+ID4gICAgICAgICBpbnQgKCpzZXRfYXNpY19iYWNvX3N0
YXRlKSh2b2lkICpoYW5kbGUsIGludCBzdGF0ZSk7Cj4gPiAgICAgICAgIGludCAoKmdldF9wcGZl
YXR1cmVfc3RhdHVzKSh2b2lkICpoYW5kbGUsIGNoYXIgKmJ1Zik7Cj4gPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvYW1kX3Bvd2VycGxheS5jIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9wb3dlcnBsYXkvYW1kX3Bvd2VycGxheS5jCj4gPiBpbmRleCBiZWExNTg3Li45
ODU2NzYwIDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvYW1k
X3Bvd2VycGxheS5jCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9hbWRf
cG93ZXJwbGF5LmMKPiA+IEBAIC0xNDA0LDYgKzE0MDQsMjEgQEAgc3RhdGljIGludCBwcF9zZXRf
YWN0aXZlX2Rpc3BsYXlfY291bnQodm9pZCAqaGFuZGxlLCB1aW50MzJfdCBjb3VudCkKPiA+ICAg
ICAgICAgcmV0dXJuIHJldDsKPiA+ICB9Cj4gPgo+ID4gK3N0YXRpYyBpbnQgcHBfc2V0X2FzaWNf
YmFjb19jYXAodm9pZCAqaGFuZGxlKQo+ID4gK3sKPiA+ICsgICAgICAgc3RydWN0IHBwX2h3bWdy
ICpod21nciA9IGhhbmRsZTsKPiA+ICsKPiA+ICsgICAgICAgaWYgKCFod21ncikKPiA+ICsgICAg
ICAgICAgICAgICByZXR1cm4gLUVJTlZBTDsKPiA+ICsKPiA+ICsgICAgICAgaWYgKCFod21nci0+
cG1fZW4gfHwgIWh3bWdyLT5od21ncl9mdW5jLT5zZXRfYXNpY19iYWNvX2NhcCkKPiA+ICsgICAg
ICAgICAgICAgICByZXR1cm4gMDsKPiA+ICsKPiA+ICsgICAgICAgaHdtZ3ItPmh3bWdyX2Z1bmMt
PnNldF9hc2ljX2JhY29fY2FwKGh3bWdyKTsKPiA+ICsKPiA+ICsgICAgICAgcmV0dXJuIDA7Cj4g
PiArfQo+ID4gKwo+ID4gIHN0YXRpYyBpbnQgcHBfZ2V0X2FzaWNfYmFjb19jYXBhYmlsaXR5KHZv
aWQgKmhhbmRsZSwgYm9vbCAqY2FwKQo+ID4gIHsKPiA+ICAgICAgICAgc3RydWN0IHBwX2h3bWdy
ICpod21nciA9IGhhbmRsZTsKPiA+IEBAIC0xNTQ2LDYgKzE1NjEsNyBAQCBzdGF0aWMgY29uc3Qg
c3RydWN0IGFtZF9wbV9mdW5jcyBwcF9kcG1fZnVuY3MgPSB7Cj4gPiAgICAgICAgIC5zZXRfaGFy
ZF9taW5fZGNlZmNsa19ieV9mcmVxID0gcHBfc2V0X2hhcmRfbWluX2RjZWZjbGtfYnlfZnJlcSwK
PiA+ICAgICAgICAgLnNldF9oYXJkX21pbl9mY2xrX2J5X2ZyZXEgPSBwcF9zZXRfaGFyZF9taW5f
ZmNsa19ieV9mcmVxLAo+ID4gICAgICAgICAuZ2V0X2FzaWNfYmFjb19jYXBhYmlsaXR5ID0gcHBf
Z2V0X2FzaWNfYmFjb19jYXBhYmlsaXR5LAo+ID4gKyAgICAgICAuc2V0X2FzaWNfYmFjb19jYXAg
PSBwcF9zZXRfYXNpY19iYWNvX2NhcCwKPiA+ICAgICAgICAgLmdldF9hc2ljX2JhY29fc3RhdGUg
PSBwcF9nZXRfYXNpY19iYWNvX3N0YXRlLAo+ID4gICAgICAgICAuc2V0X2FzaWNfYmFjb19zdGF0
ZSA9IHBwX3NldF9hc2ljX2JhY29fc3RhdGUsCj4gPiAgICAgICAgIC5nZXRfcHBmZWF0dXJlX3N0
YXR1cyA9IHBwX2dldF9wcGZlYXR1cmVfc3RhdHVzLAo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvcG93ZXJwbGF5L2h3bWdyL3ZlZ2ExMF9od21nci5jIGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9wb3dlcnBsYXkvaHdtZ3IvdmVnYTEwX2h3bWdyLmMKPiA+IGluZGV4IGVkNmM2Mzgu
LjhkYzIzZWIgMTAwNjQ0Cj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9o
d21nci92ZWdhMTBfaHdtZ3IuYwo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBs
YXkvaHdtZ3IvdmVnYTEwX2h3bWdyLmMKPiA+IEBAIC01MTcxLDYgKzUxNzEsNyBAQCBzdGF0aWMg
Y29uc3Qgc3RydWN0IHBwX2h3bWdyX2Z1bmMgdmVnYTEwX2h3bWdyX2Z1bmNzID0gewo+ID4gICAg
ICAgICAub2RuX2VkaXRfZHBtX3RhYmxlID0gdmVnYTEwX29kbl9lZGl0X2RwbV90YWJsZSwKPiA+
ICAgICAgICAgLmdldF9wZXJmb3JtYW5jZV9sZXZlbCA9IHZlZ2ExMF9nZXRfcGVyZm9ybWFuY2Vf
bGV2ZWwsCj4gPiAgICAgICAgIC5nZXRfYXNpY19iYWNvX2NhcGFiaWxpdHkgPSBzbXU5X2JhY29f
Z2V0X2NhcGFiaWxpdHksCj4gPiArICAgICAgIC5zZXRfYXNpY19iYWNvX2NhcCA9IHZlZ2ExMF9i
YWNvX3NldF9jYXAsCj4KPiBBbnkgY2hhbmNlIHlvdSBjYW4gYWRkIGNhbGxiYWNrcyBmb3IgdmVn
YTEyIGFuZCAyMCBhcyB3ZWxsPwo+Cj4gPiAgICAgICAgIC5nZXRfYXNpY19iYWNvX3N0YXRlID0g
c211OV9iYWNvX2dldF9zdGF0ZSwKPiA+ICAgICAgICAgLnNldF9hc2ljX2JhY29fc3RhdGUgPSB2
ZWdhMTBfYmFjb19zZXRfc3RhdGUsCj4gPiAgICAgICAgIC5lbmFibGVfbWdwdV9mYW5fYm9vc3Qg
PSB2ZWdhMTBfZW5hYmxlX21ncHVfZmFuX2Jvb3N0LAo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvcG93ZXJwbGF5L2h3bWdyL3ZlZ2ExMF9wcm9jZXNzcHB0YWJsZXMuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2h3bWdyL3ZlZ2ExMF9wcm9jZXNzcHB0YWJsZXMu
Ywo+ID4gaW5kZXggYjY3NjdkNy4uOGZkZWIyMyAxMDA2NDQKPiA+IC0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvcG93ZXJwbGF5L2h3bWdyL3ZlZ2ExMF9wcm9jZXNzcHB0YWJsZXMuYwo+ID4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaHdtZ3IvdmVnYTEwX3Byb2Nlc3NwcHRh
Ymxlcy5jCj4gPiBAQCAtMTM3MSwzICsxMzcxLDI1IEBAIGludCB2ZWdhMTBfZ2V0X3Bvd2VycGxh
eV90YWJsZV9lbnRyeShzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyLAo+ID4KPiA+ICAgICAgICAgcmV0
dXJuIHJlc3VsdDsKPiA+ICB9Cj4gPiArCj4gPiAraW50IHZlZ2ExMF9iYWNvX3NldF9jYXAoc3Ry
dWN0IHBwX2h3bWdyICpod21ncikKPiA+ICt7Cj4gPiArICAgICAgIGludCByZXN1bHQgPSAwOwo+
ID4gKyAgICAgICBjb25zdCBBVE9NX1ZlZ2ExMF9QT1dFUlBMQVlUQUJMRSAqcG93ZXJwbGF5X3Rh
YmxlOwo+ID4gKwo+ID4gKyAgICAgICBwb3dlcnBsYXlfdGFibGUgPSBnZXRfcG93ZXJwbGF5X3Rh
YmxlKGh3bWdyKTsKPiA+ICsKPiA+ICsgICAgICAgUFBfQVNTRVJUX1dJVEhfQ09ERSgocG93ZXJw
bGF5X3RhYmxlICE9IE5VTEwpLAo+ID4gKyAgICAgICAgICAgICAgICJNaXNzaW5nIFBvd2VyUGxh
eSBUYWJsZSEiLCByZXR1cm4gLTEpOwo+ID4gKwo+ID4gKyAgICAgICByZXN1bHQgPSBjaGVja19w
b3dlcnBsYXlfdGFibGVzKGh3bWdyLCBwb3dlcnBsYXlfdGFibGUpOwo+ID4gKwo+ID4gKyAgICAg
ICBQUF9BU1NFUlRfV0lUSF9DT0RFKChyZXN1bHQgPT0gMCksCj4gPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgImNoZWNrX3Bvd2VycGxheV90YWJsZXMgZmFpbGVkIiwgcmV0dXJuIHJlc3Vs
dCk7Cj4gPiArCj4gPiArICAgICAgIHNldF9od19jYXAoCj4gPiArICAgICAgICAgICAgICAgICAg
ICAgICBod21nciwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgIDAgIT0gKGxlMzJfdG9fY3B1
KHBvd2VycGxheV90YWJsZS0+dWxQbGF0Zm9ybUNhcHMpICYgQVRPTV9WRUdBMTBfUFBfUExBVEZP
Uk1fQ0FQX0JBQ08pLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgUEhNX1BsYXRmb3JtQ2Fw
c19CQUNPKTsKPiA+ICsgICAgICAgcmV0dXJuIHJlc3VsdDsKPiA+ICt9Cj4gPiBcIE5vIG5ld2xp
bmUgYXQgZW5kIG9mIGZpbGUKPgo+IE1pc3NpbmcgbmV3bGluZS4KPgo+IEFsZXgKPgo+ID4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2h3bWdyL3ZlZ2ExMF9wcm9j
ZXNzcHB0YWJsZXMuaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2h3bWdyL3ZlZ2Ex
MF9wcm9jZXNzcHB0YWJsZXMuaAo+ID4gaW5kZXggZDgzZWQyYS4uZGE1ZmJlYyAxMDA2NDQKPiA+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2h3bWdyL3ZlZ2ExMF9wcm9jZXNz
cHB0YWJsZXMuaAo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaHdtZ3Iv
dmVnYTEwX3Byb2Nlc3NwcHRhYmxlcy5oCj4gPiBAQCAtNTksNCArNTksNSBAQCBleHRlcm4gaW50
IHZlZ2ExMF9nZXRfbnVtYmVyX29mX3Bvd2VycGxheV90YWJsZV9lbnRyaWVzKHN0cnVjdCBwcF9o
d21nciAqaHdtZ3IpOwo+ID4gIGV4dGVybiBpbnQgdmVnYTEwX2dldF9wb3dlcnBsYXlfdGFibGVf
ZW50cnkoc3RydWN0IHBwX2h3bWdyICpod21nciwgdWludDMyX3QgZW50cnlfaW5kZXgsCj4gPiAg
ICAgICAgICAgICAgICAgc3RydWN0IHBwX3Bvd2VyX3N0YXRlICpwb3dlcl9zdGF0ZSwgaW50ICgq
Y2FsbF9iYWNrX2Z1bmMpKHN0cnVjdCBwcF9od21nciAqLCB2b2lkICosCj4gPiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBwcF9wb3dlcl9zdGF0ZSAqLCB2b2lkICosIHVp
bnQzMl90KSk7Cj4gPiArZXh0ZXJuIGludCB2ZWdhMTBfYmFjb19zZXRfY2FwKHN0cnVjdCBwcF9o
d21nciAqaHdtZ3IpOwo+ID4gICNlbmRpZgo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvcG93ZXJwbGF5L2luYy9od21nci5oIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBs
YXkvaW5jL2h3bWdyLmgKPiA+IGluZGV4IGJhYzNkODUuLjE0NDgwYWUgMTAwNjQ0Cj4gPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvaHdtZ3IuaAo+ID4gKysrIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaW5jL2h3bWdyLmgKPiA+IEBAIC0zMzksNiArMzM5
LDcgQEAgc3RydWN0IHBwX2h3bWdyX2Z1bmMgewo+ID4gICAgICAgICBpbnQgKCpzZXRfaGFyZF9t
aW5fZGNlZmNsa19ieV9mcmVxKShzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyLCB1aW50MzJfdCBjbG9j
ayk7Cj4gPiAgICAgICAgIGludCAoKnNldF9oYXJkX21pbl9mY2xrX2J5X2ZyZXEpKHN0cnVjdCBw
cF9od21nciAqaHdtZ3IsIHVpbnQzMl90IGNsb2NrKTsKPiA+ICAgICAgICAgaW50ICgqZ2V0X2Fz
aWNfYmFjb19jYXBhYmlsaXR5KShzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyLCBib29sICpjYXApOwo+
ID4gKyAgICAgICBpbnQgKCpzZXRfYXNpY19iYWNvX2NhcCkoc3RydWN0IHBwX2h3bWdyICpod21n
cik7Cj4gPiAgICAgICAgIGludCAoKmdldF9hc2ljX2JhY29fc3RhdGUpKHN0cnVjdCBwcF9od21n
ciAqaHdtZ3IsIGVudW0gQkFDT19TVEFURSAqc3RhdGUpOwo+ID4gICAgICAgICBpbnQgKCpzZXRf
YXNpY19iYWNvX3N0YXRlKShzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyLCBlbnVtIEJBQ09fU1RBVEUg
c3RhdGUpOwo+ID4gICAgICAgICBpbnQgKCpnZXRfcHBmZWF0dXJlX3N0YXR1cykoc3RydWN0IHBw
X2h3bWdyICpod21nciwgY2hhciAqYnVmKTsKPiA+IC0tCj4gPiAyLjcuNAo+ID4KPiA+IF9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCj4gPiBhbWQtZ2Z4IG1h
aWxpbmcgbGlzdAo+ID4gYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKPiA+IGh0dHBzOi8v
bGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeApfX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlz
dAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9w
Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZng=
