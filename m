Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 5FB0169E24
	for <lists+amd-gfx@lfdr.de>; Mon, 15 Jul 2019 23:25:34 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id DA1A689F06;
	Mon, 15 Jul 2019 21:25:32 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-qk1-x743.google.com (mail-qk1-x743.google.com
 [IPv6:2607:f8b0:4864:20::743])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E37AC89EFF
 for <amd-gfx@lists.freedesktop.org>; Mon, 15 Jul 2019 21:25:29 +0000 (UTC)
Received: by mail-qk1-x743.google.com with SMTP id 201so12852921qkm.9
 for <amd-gfx@lists.freedesktop.org>; Mon, 15 Jul 2019 14:25:29 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=aeKcgTSAqSuWLzXdrF2Eo91KImdWMpdxWg9XEqbdFHQ=;
 b=N2sSRmAPfhYC+i4MyTyM230iSyk7RsAfRlZA/Bpfcj6e+i8n4JW1FVVuG/GxIgztw1
 GGhFYoFeYDR1o8K0uPjQL7vn2lVUdOcE2N6eda+4byHYRrruMybrnyU2AU63LW+41j48
 PiEz6UmKUKgjdMTOQAuuXu0bUwqKCqLVU36ddkC43WQQGoYE5h5FyTitbaHThUtecCm6
 nvz8qnaaJe/J/l/gAe7LpaPVN6ibKALPpxu0KhdMiYKaP6G58wEXqi+9/AMfEVP1jLVJ
 uTE/0EUELLtKOUdpFb0zGF+PYhj3UD/MdBAelS16d+p+lk5p71qWO40FDYQn4u/1Fd+R
 +/Dw==
X-Gm-Message-State: APjAAAVzvhiwbd2ouQR/TZh6ewKmEokEYzqoNcvWZggh1HWi8SPzPjwF
 aCH8BOAGm7nnjjDW13VHbMmezL9E
X-Google-Smtp-Source: APXvYqxYuD4zYEJDCdYgQ66KpQJuEB+wpFwRnpd+tdBfptgkp820RR1K6vDRShXBOaLcZLte8bnLDw==
X-Received: by 2002:ae9:e845:: with SMTP id a66mr18202929qkg.451.1563225928571; 
 Mon, 15 Jul 2019 14:25:28 -0700 (PDT)
Received: from localhost.localdomain ([71.219.21.119])
 by smtp.gmail.com with ESMTPSA id q56sm10274133qtq.64.2019.07.15.14.25.27
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Mon, 15 Jul 2019 14:25:28 -0700 (PDT)
From: Alex Deucher <alexdeucher@gmail.com>
X-Google-Original-From: Alex Deucher <alexander.deucher@amd.com>
To: amd-gfx@lists.freedesktop.org
Subject: [PATCH 049/102] drm/amdkfd: Implement kfd2kgd_calls for Arcturus
Date: Mon, 15 Jul 2019 16:23:44 -0500
Message-Id: <20190715212437.31793-47-alexander.deucher@amd.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190715212437.31793-1-alexander.deucher@amd.com>
References: <20190715212437.31793-1-alexander.deucher@amd.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=aeKcgTSAqSuWLzXdrF2Eo91KImdWMpdxWg9XEqbdFHQ=;
 b=Dafz0Lpkl6Oh0eUWTWQrSSmCiCz7e/FMQ/bkJw+miV48rupmGiAyIlhEcJrtmycL1H
 lCqPEgWZ5QvgsGPQu8MFD1H8NHQTJFl0IaCPo0q9AaOMuVmZbpoicS240y6PeOYqx2eQ
 cT8OIhXqsy3Tt0FQ+aoNO7saun9+0lRFEzAq3BPTxdqnfvdYdlH/DBv/IfsGntKEGtQ6
 wXChozu6EfBbY0VYVmgaulEaniRp7EP2aWn5d+vqiaxFeZTXYrPCb5B+Yihm9/kSlWs5
 IT4NyOeK83I9+cKIUwvBLpmOi/39D3QO8vp8xchnsEl2xvmzWMGBC777j+VdZ1iBo9TJ
 eboA==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Alex Deucher <alexander.deucher@amd.com>, Oak Zeng <Oak.Zeng@amd.com>,
 Felix Kuehling <Felix.Kuehling@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogT2FrIFplbmcgPE9hay5aZW5nQGFtZC5jb20+CgpBcmN0dXJ1cyBzaGFyZXMgbW9zdCBv
ZiB0aGUga2ZkMmtnZF9jYWxscyB3aXRoIGdmeDkuIEJ1dCBkdWUgdG8KU0RNQSByZWdpc3RlciBh
ZGRyZXNzIGNoYW5nZSwgaXQgY2FuJ3Qgc2hhcmUgU0RNQSByZWxhdGVkIGZ1bmN0aW9ucy4KRXhw
b3J0IGdmeDkga2ZkMmtnZF9jYWxscyBhbmQgaW1wbGVtZW50IFNETUEgcmVsYXRlZCBmdW5jdGlv
bnMKZm9yIEFyY3R1cnVzLgoKU2lnbmVkLW9mZi1ieTogT2FrIFplbmcgPE9hay5aZW5nQGFtZC5j
b20+ClJldmlld2VkLWJ5OiBGZWxpeCBLdWVobGluZyA8RmVsaXguS3VlaGxpbmdAYW1kLmNvbT4K
U2lnbmVkLW9mZi1ieTogQWxleCBEZXVjaGVyIDxhbGV4YW5kZXIuZGV1Y2hlckBhbWQuY29tPgot
LS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L01ha2VmaWxlICAgICAgICAgICB8ICAgMSAr
CiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYW1ka2ZkLmMgICAgfCAgIDQgKy0K
IGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmQuaCAgICB8ICAgMSArCiAu
Li4vZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZF9hcmN0dXJ1cy5jICAgfCAzMjQgKysrKysr
KysrKysrKysrKysrCiAuLi4vZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmRfZ2Z4X3Y5
LmMgfCAxNjEgKysrLS0tLS0tCiAuLi4vZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmRf
Z2Z4X3Y5LmggfCAgODMgKysrKysKIDYgZmlsZXMgY2hhbmdlZCwgNDY1IGluc2VydGlvbnMoKyks
IDEwOSBkZWxldGlvbnMoLSkKIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9hbWRncHVfYW1ka2ZkX2FyY3R1cnVzLmMKIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYW1ka2ZkX2dmeF92OS5oCgpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvTWFrZWZpbGUgYi9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9NYWtlZmlsZQppbmRleCA5NzY3MWRmNmE1ZjAuLmRjMjI1NjllOTczMiAxMDA2
NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvTWFrZWZpbGUKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvTWFrZWZpbGUKQEAgLTE2Myw2ICsxNjMsNyBAQCBhbWRncHUt
eSArPSBcCiAJIGFtZGdwdV9hbWRrZmRfZ3B1dm0ubyBcCiAJIGFtZGdwdV9hbWRrZmRfZ2Z4X3Y4
Lm8gXAogCSBhbWRncHVfYW1ka2ZkX2dmeF92OS5vIFwKKwkgYW1kZ3B1X2FtZGtmZF9hcmN0dXJ1
cy5vIFwKIAkgYW1kZ3B1X2FtZGtmZF9nZnhfdjEwLm8KIAogaWZuZXEgKCQoQ09ORklHX0RSTV9B
TURHUFVfQ0lLKSwpCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRn
cHVfYW1ka2ZkLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYW1ka2ZkLmMK
aW5kZXggZDY5NWUwNzYyNTEwLi43MDJkMDVjZTFmYTUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmQuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9hbWRncHVfYW1ka2ZkLmMKQEAgLTg1LDkgKzg1LDExIEBAIHZvaWQgYW1kZ3B1X2Ft
ZGtmZF9kZXZpY2VfcHJvYmUoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCiAJY2FzZSBDSElQ
X1ZFR0ExMjoKIAljYXNlIENISVBfVkVHQTIwOgogCWNhc2UgQ0hJUF9SQVZFTjoKLQljYXNlIENI
SVBfQVJDVFVSVVM6CiAJCWtmZDJrZ2QgPSBhbWRncHVfYW1ka2ZkX2dmeF85XzBfZ2V0X2Z1bmN0
aW9ucygpOwogCQlicmVhazsKKwljYXNlIENISVBfQVJDVFVSVVM6CisJCWtmZDJrZ2QgPSBhbWRn
cHVfYW1ka2ZkX2FyY3R1cnVzX2dldF9mdW5jdGlvbnMoKTsKKwkJYnJlYWs7CiAJY2FzZSBDSElQ
X05BVkkxMDoKIAkJa2ZkMmtnZCA9IGFtZGdwdV9hbWRrZmRfZ2Z4XzEwXzBfZ2V0X2Z1bmN0aW9u
cygpOwogCQlicmVhazsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV9hbWRrZmQuaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmQu
aAppbmRleCBiNjA3NmQxOWU0NDIuLmU1MTlkZjNmZDJiNiAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZC5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmQuaApAQCAtMTQwLDYgKzE0MCw3IEBAIGJvb2wgYW1kZ3B1
X2FtZGtmZF9oYXZlX2F0b21pY3Nfc3VwcG9ydChzdHJ1Y3Qga2dkX2RldiAqa2dkKTsKIHN0cnVj
dCBrZmQya2dkX2NhbGxzICphbWRncHVfYW1ka2ZkX2dmeF83X2dldF9mdW5jdGlvbnModm9pZCk7
CiBzdHJ1Y3Qga2ZkMmtnZF9jYWxscyAqYW1kZ3B1X2FtZGtmZF9nZnhfOF8wX2dldF9mdW5jdGlv
bnModm9pZCk7CiBzdHJ1Y3Qga2ZkMmtnZF9jYWxscyAqYW1kZ3B1X2FtZGtmZF9nZnhfOV8wX2dl
dF9mdW5jdGlvbnModm9pZCk7CitzdHJ1Y3Qga2ZkMmtnZF9jYWxscyAqYW1kZ3B1X2FtZGtmZF9h
cmN0dXJ1c19nZXRfZnVuY3Rpb25zKHZvaWQpOwogc3RydWN0IGtmZDJrZ2RfY2FsbHMgKmFtZGdw
dV9hbWRrZmRfZ2Z4XzEwXzBfZ2V0X2Z1bmN0aW9ucyh2b2lkKTsKIAogYm9vbCBhbWRncHVfYW1k
a2ZkX2lzX2tmZF92bWlkKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCB1MzIgdm1pZCk7CmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYW1ka2ZkX2FyY3R1
cnVzLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYW1ka2ZkX2FyY3R1cnVz
LmMKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAwLi40ZDkxMDE4MzRiYTcK
LS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYW1k
a2ZkX2FyY3R1cnVzLmMKQEAgLTAsMCArMSwzMjQgQEAKKy8qCisgKiBDb3B5cmlnaHQgMjAxOSBB
ZHZhbmNlZCBNaWNybyBEZXZpY2VzLCBJbmMuCisgKgorICogUGVybWlzc2lvbiBpcyBoZXJlYnkg
Z3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEKKyAqIGNv
cHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0
aGUgIlNvZnR3YXJlIiksCisgKiB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3Ry
aWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uCisgKiB0aGUgcmlnaHRzIHRvIHVz
ZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwK
KyAqIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVy
c29ucyB0byB3aG9tIHRoZQorICogU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJq
ZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKKyAqCisgKiBUaGUgYWJvdmUgY29weXJp
Z2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBp
bgorICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUu
CisgKgorICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFO
VFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKKyAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9U
IExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLAorICogRklUTkVT
UyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gIElOIE5PIEVW
RU5UIFNIQUxMCisgKiBUSEUgQ09QWVJJR0hUIEhPTERFUihTKSBPUiBBVVRIT1IoUykgQkUgTElB
QkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IKKyAqIE9USEVSIExJQUJJTElUWSwgV0hFVEhF
UiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLAorICogQVJJU0lO
RyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUg
VVNFIE9SCisgKiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuCisgKi8KKworI3VuZGVm
IHByX2ZtdAorI2RlZmluZSBwcl9mbXQoZm10KSAia2ZkMmtnZDogIiBmbXQKKworI2luY2x1ZGUg
PGxpbnV4L21vZHVsZS5oPgorI2luY2x1ZGUgPGxpbnV4L2ZkdGFibGUuaD4KKyNpbmNsdWRlIDxs
aW51eC91YWNjZXNzLmg+CisjaW5jbHVkZSA8bGludXgvbW11X2NvbnRleHQuaD4KKyNpbmNsdWRl
IDxsaW51eC9maXJtd2FyZS5oPgorI2luY2x1ZGUgPGRybS9kcm1QLmg+CisjaW5jbHVkZSAiYW1k
Z3B1LmgiCisjaW5jbHVkZSAiYW1kZ3B1X2FtZGtmZC5oIgorI2luY2x1ZGUgInNkbWEwL3NkbWEw
XzRfMl8yX29mZnNldC5oIgorI2luY2x1ZGUgInNkbWEwL3NkbWEwXzRfMl8yX3NoX21hc2suaCIK
KyNpbmNsdWRlICJzZG1hMS9zZG1hMV80XzJfMl9vZmZzZXQuaCIKKyNpbmNsdWRlICJzZG1hMS9z
ZG1hMV80XzJfMl9zaF9tYXNrLmgiCisjaW5jbHVkZSAic2RtYTIvc2RtYTJfNF8yXzJfb2Zmc2V0
LmgiCisjaW5jbHVkZSAic2RtYTIvc2RtYTJfNF8yXzJfc2hfbWFzay5oIgorI2luY2x1ZGUgInNk
bWEzL3NkbWEzXzRfMl8yX29mZnNldC5oIgorI2luY2x1ZGUgInNkbWEzL3NkbWEzXzRfMl8yX3No
X21hc2suaCIKKyNpbmNsdWRlICJzZG1hNC9zZG1hNF80XzJfMl9vZmZzZXQuaCIKKyNpbmNsdWRl
ICJzZG1hNC9zZG1hNF80XzJfMl9zaF9tYXNrLmgiCisjaW5jbHVkZSAic2RtYTUvc2RtYTVfNF8y
XzJfb2Zmc2V0LmgiCisjaW5jbHVkZSAic2RtYTUvc2RtYTVfNF8yXzJfc2hfbWFzay5oIgorI2lu
Y2x1ZGUgInNkbWE2L3NkbWE2XzRfMl8yX29mZnNldC5oIgorI2luY2x1ZGUgInNkbWE2L3NkbWE2
XzRfMl8yX3NoX21hc2suaCIKKyNpbmNsdWRlICJzZG1hNy9zZG1hN180XzJfMl9vZmZzZXQuaCIK
KyNpbmNsdWRlICJzZG1hNy9zZG1hN180XzJfMl9zaF9tYXNrLmgiCisjaW5jbHVkZSAidjlfc3Ry
dWN0cy5oIgorI2luY2x1ZGUgInNvYzE1LmgiCisjaW5jbHVkZSAic29jMTVkLmgiCisjaW5jbHVk
ZSAiYW1kZ3B1X2FtZGtmZF9nZnhfdjkuaCIKKworI2RlZmluZSBIUURfTl9SRUdTIDU2CisjZGVm
aW5lIERVTVBfUkVHKGFkZHIpIGRvIHsJCQkJXAorCQlpZiAoV0FSTl9PTl9PTkNFKGkgPj0gSFFE
X05fUkVHUykpCVwKKwkJCWJyZWFrOwkJCQlcCisJCSgqZHVtcClbaV1bMF0gPSAoYWRkcikgPDwg
MjsJCVwKKwkJKCpkdW1wKVtpKytdWzFdID0gUlJFRzMyKGFkZHIpOwkJXAorCX0gd2hpbGUgKDAp
CisKK3N0YXRpYyBpbmxpbmUgc3RydWN0IGFtZGdwdV9kZXZpY2UgKmdldF9hbWRncHVfZGV2aWNl
KHN0cnVjdCBrZ2RfZGV2ICprZ2QpCit7CisJcmV0dXJuIChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
KWtnZDsKK30KKworc3RhdGljIGlubGluZSBzdHJ1Y3Qgdjlfc2RtYV9tcWQgKmdldF9zZG1hX21x
ZCh2b2lkICptcWQpCit7CisJcmV0dXJuIChzdHJ1Y3Qgdjlfc2RtYV9tcWQgKiltcWQ7Cit9CisK
K3N0YXRpYyB1aW50MzJfdCBnZXRfc2RtYV9iYXNlX2FkZHIoc3RydWN0IGFtZGdwdV9kZXZpY2Ug
KmFkZXYsCisJCQkJdW5zaWduZWQgaW50IGVuZ2luZV9pZCwKKwkJCQl1bnNpZ25lZCBpbnQgcXVl
dWVfaWQpCit7CisJdWludDMyX3QgYmFzZVs4XSA9IHsKKwkJU09DMTVfUkVHX09GRlNFVChTRE1B
MCwgMCwKKwkJCQkgbW1TRE1BMF9STEMwX1JCX0NOVEwpIC0gbW1TRE1BMF9STEMwX1JCX0NOVEws
CisJCVNPQzE1X1JFR19PRkZTRVQoU0RNQTEsIDAsCisJCQkJIG1tU0RNQTFfUkxDMF9SQl9DTlRM
KSAtIG1tU0RNQTFfUkxDMF9SQl9DTlRMLAorCQlTT0MxNV9SRUdfT0ZGU0VUKFNETUEyLCAwLAor
CQkJCSBtbVNETUEyX1JMQzBfUkJfQ05UTCkgLSBtbVNETUEyX1JMQzBfUkJfQ05UTCwKKwkJU09D
MTVfUkVHX09GRlNFVChTRE1BMywgMCwKKwkJCQkgbW1TRE1BM19STEMwX1JCX0NOVEwpIC0gbW1T
RE1BM19STEMwX1JCX0NOVEwsCisJCVNPQzE1X1JFR19PRkZTRVQoU0RNQTQsIDAsCisJCQkJIG1t
U0RNQTRfUkxDMF9SQl9DTlRMKSAtIG1tU0RNQTRfUkxDMF9SQl9DTlRMLAorCQlTT0MxNV9SRUdf
T0ZGU0VUKFNETUE1LCAwLAorCQkJCSBtbVNETUE1X1JMQzBfUkJfQ05UTCkgLSBtbVNETUE1X1JM
QzBfUkJfQ05UTCwKKwkJU09DMTVfUkVHX09GRlNFVChTRE1BNiwgMCwKKwkJCQkgbW1TRE1BNl9S
TEMwX1JCX0NOVEwpIC0gbW1TRE1BNl9STEMwX1JCX0NOVEwsCisJCVNPQzE1X1JFR19PRkZTRVQo
U0RNQTcsIDAsCisJCQkJIG1tU0RNQTdfUkxDMF9SQl9DTlRMKSAtIG1tU0RNQTdfUkxDMF9SQl9D
TlRMCisJfTsKKwl1aW50MzJfdCByZXR2YWw7CisKKwlyZXR2YWwgPSBiYXNlW2VuZ2luZV9pZF0g
KyBxdWV1ZV9pZCAqIChtbVNETUEwX1JMQzFfUkJfQ05UTCAtCisJCQkJCSAgICAgICBtbVNETUEw
X1JMQzBfUkJfQ05UTCk7CisKKwlwcl9kZWJ1Zygic2RtYSBiYXNlIGFkZHJlc3M6IDB4JXhcbiIs
IHJldHZhbCk7CisKKwlyZXR1cm4gcmV0dmFsOworfQorCitzdGF0aWMgdTMyIHNkbWFfdjRfMF9n
ZXRfcmVnX29mZnNldChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKKwkJdTMyIGluc3RhbmNl
LCB1MzIgb2Zmc2V0KQoreworCXN3aXRjaCAoaW5zdGFuY2UpIHsKKwljYXNlIDA6CisJCXJldHVy
biAoYWRldi0+cmVnX29mZnNldFtTRE1BMF9IV0lQXVswXVswXSArIG9mZnNldCk7CisJY2FzZSAx
OgorCQlyZXR1cm4gKGFkZXYtPnJlZ19vZmZzZXRbU0RNQTFfSFdJUF1bMF1bMV0gKyBvZmZzZXQp
OworCWNhc2UgMjoKKwkJcmV0dXJuIChhZGV2LT5yZWdfb2Zmc2V0W1NETUEyX0hXSVBdWzBdWzFd
ICsgb2Zmc2V0KTsKKwljYXNlIDM6CisJCXJldHVybiAoYWRldi0+cmVnX29mZnNldFtTRE1BM19I
V0lQXVswXVsxXSArIG9mZnNldCk7CisJY2FzZSA0OgorCQlyZXR1cm4gKGFkZXYtPnJlZ19vZmZz
ZXRbU0RNQTRfSFdJUF1bMF1bMV0gKyBvZmZzZXQpOworCWNhc2UgNToKKwkJcmV0dXJuIChhZGV2
LT5yZWdfb2Zmc2V0W1NETUE1X0hXSVBdWzBdWzFdICsgb2Zmc2V0KTsKKwljYXNlIDY6CisJCXJl
dHVybiAoYWRldi0+cmVnX29mZnNldFtTRE1BNl9IV0lQXVswXVsxXSArIG9mZnNldCk7CisJY2Fz
ZSA3OgorCQlyZXR1cm4gKGFkZXYtPnJlZ19vZmZzZXRbU0RNQTdfSFdJUF1bMF1bMV0gKyBvZmZz
ZXQpOworCWRlZmF1bHQ6CisJCWJyZWFrOworCX0KKwlyZXR1cm4gMDsKK30KKworc3RhdGljIGlu
dCBrZ2RfaHFkX3NkbWFfbG9hZChzdHJ1Y3Qga2dkX2RldiAqa2dkLCB2b2lkICptcWQsCisJCQkg
ICAgIHVpbnQzMl90IF9fdXNlciAqd3B0ciwgc3RydWN0IG1tX3N0cnVjdCAqbW0pCit7CisJc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSBnZXRfYW1kZ3B1X2RldmljZShrZ2QpOworCXN0cnVj
dCB2OV9zZG1hX21xZCAqbTsKKwl1aW50MzJfdCBzZG1hX2Jhc2VfYWRkciwgc2RtYXhfZ2Z4X2Nv
bnRleHRfY250bDsKKwl1bnNpZ25lZCBsb25nIGVuZF9qaWZmaWVzOworCXVpbnQzMl90IGRhdGE7
CisJdWludDY0X3QgZGF0YTY0OworCXVpbnQ2NF90IF9fdXNlciAqd3B0cjY0ID0gKHVpbnQ2NF90
IF9fdXNlciAqKXdwdHI7CisKKwltID0gZ2V0X3NkbWFfbXFkKG1xZCk7CisJc2RtYV9iYXNlX2Fk
ZHIgPSBnZXRfc2RtYV9iYXNlX2FkZHIoYWRldiwgbS0+c2RtYV9lbmdpbmVfaWQsCisJCQkJCSAg
ICBtLT5zZG1hX3F1ZXVlX2lkKTsKKwlzZG1heF9nZnhfY29udGV4dF9jbnRsID0gc2RtYV92NF8w
X2dldF9yZWdfb2Zmc2V0KGFkZXYsCisJCQltLT5zZG1hX2VuZ2luZV9pZCwgbW1TRE1BMF9HRlhf
Q09OVEVYVF9DTlRMKTsKKworCVdSRUczMihzZG1hX2Jhc2VfYWRkciArIG1tU0RNQTBfUkxDMF9S
Ql9DTlRMLAorCQltLT5zZG1heF9ybGN4X3JiX2NudGwgJiAoflNETUEwX1JMQzBfUkJfQ05UTF9f
UkJfRU5BQkxFX01BU0spKTsKKworCWVuZF9qaWZmaWVzID0gbXNlY3NfdG9famlmZmllcygyMDAw
KSArIGppZmZpZXM7CisJd2hpbGUgKHRydWUpIHsKKwkJZGF0YSA9IFJSRUczMihzZG1hX2Jhc2Vf
YWRkciArIG1tU0RNQTBfUkxDMF9DT05URVhUX1NUQVRVUyk7CisJCWlmIChkYXRhICYgU0RNQTBf
UkxDMF9DT05URVhUX1NUQVRVU19fSURMRV9NQVNLKQorCQkJYnJlYWs7CisJCWlmICh0aW1lX2Fm
dGVyKGppZmZpZXMsIGVuZF9qaWZmaWVzKSkKKwkJCXJldHVybiAtRVRJTUU7CisJCXVzbGVlcF9y
YW5nZSg1MDAsIDEwMDApOworCX0KKwlkYXRhID0gUlJFRzMyKHNkbWF4X2dmeF9jb250ZXh0X2Nu
dGwpOworCWRhdGEgPSBSRUdfU0VUX0ZJRUxEKGRhdGEsIFNETUEwX0dGWF9DT05URVhUX0NOVEws
CisJCQkgICAgIFJFU1VNRV9DVFgsIDApOworCVdSRUczMihzZG1heF9nZnhfY29udGV4dF9jbnRs
LCBkYXRhKTsKKworCVdSRUczMihzZG1hX2Jhc2VfYWRkciArIG1tU0RNQTBfUkxDMF9ET09SQkVM
TF9PRkZTRVQsCisJICAgICAgIG0tPnNkbWF4X3JsY3hfZG9vcmJlbGxfb2Zmc2V0KTsKKworCWRh
dGEgPSBSRUdfU0VUX0ZJRUxEKG0tPnNkbWF4X3JsY3hfZG9vcmJlbGwsIFNETUEwX1JMQzBfRE9P
UkJFTEwsCisJCQkgICAgIEVOQUJMRSwgMSk7CisJV1JFRzMyKHNkbWFfYmFzZV9hZGRyICsgbW1T
RE1BMF9STEMwX0RPT1JCRUxMLCBkYXRhKTsKKwlXUkVHMzIoc2RtYV9iYXNlX2FkZHIgKyBtbVNE
TUEwX1JMQzBfUkJfUlBUUiwgbS0+c2RtYXhfcmxjeF9yYl9ycHRyKTsKKwlXUkVHMzIoc2RtYV9i
YXNlX2FkZHIgKyBtbVNETUEwX1JMQzBfUkJfUlBUUl9ISSwKKwkJCQltLT5zZG1heF9ybGN4X3Ji
X3JwdHJfaGkpOworCisJV1JFRzMyKHNkbWFfYmFzZV9hZGRyICsgbW1TRE1BMF9STEMwX01JTk9S
X1BUUl9VUERBVEUsIDEpOworCWlmIChyZWFkX3VzZXJfd3B0cihtbSwgd3B0cjY0LCBkYXRhNjQp
KSB7CisJCVdSRUczMihzZG1hX2Jhc2VfYWRkciArIG1tU0RNQTBfUkxDMF9SQl9XUFRSLAorCQkg
ICAgICAgbG93ZXJfMzJfYml0cyhkYXRhNjQpKTsKKwkJV1JFRzMyKHNkbWFfYmFzZV9hZGRyICsg
bW1TRE1BMF9STEMwX1JCX1dQVFJfSEksCisJCSAgICAgICB1cHBlcl8zMl9iaXRzKGRhdGE2NCkp
OworCX0gZWxzZSB7CisJCVdSRUczMihzZG1hX2Jhc2VfYWRkciArIG1tU0RNQTBfUkxDMF9SQl9X
UFRSLAorCQkgICAgICAgbS0+c2RtYXhfcmxjeF9yYl9ycHRyKTsKKwkJV1JFRzMyKHNkbWFfYmFz
ZV9hZGRyICsgbW1TRE1BMF9STEMwX1JCX1dQVFJfSEksCisJCSAgICAgICBtLT5zZG1heF9ybGN4
X3JiX3JwdHJfaGkpOworCX0KKwlXUkVHMzIoc2RtYV9iYXNlX2FkZHIgKyBtbVNETUEwX1JMQzBf
TUlOT1JfUFRSX1VQREFURSwgMCk7CisKKwlXUkVHMzIoc2RtYV9iYXNlX2FkZHIgKyBtbVNETUEw
X1JMQzBfUkJfQkFTRSwgbS0+c2RtYXhfcmxjeF9yYl9iYXNlKTsKKwlXUkVHMzIoc2RtYV9iYXNl
X2FkZHIgKyBtbVNETUEwX1JMQzBfUkJfQkFTRV9ISSwKKwkJCW0tPnNkbWF4X3JsY3hfcmJfYmFz
ZV9oaSk7CisJV1JFRzMyKHNkbWFfYmFzZV9hZGRyICsgbW1TRE1BMF9STEMwX1JCX1JQVFJfQURE
Ul9MTywKKwkJCW0tPnNkbWF4X3JsY3hfcmJfcnB0cl9hZGRyX2xvKTsKKwlXUkVHMzIoc2RtYV9i
YXNlX2FkZHIgKyBtbVNETUEwX1JMQzBfUkJfUlBUUl9BRERSX0hJLAorCQkJbS0+c2RtYXhfcmxj
eF9yYl9ycHRyX2FkZHJfaGkpOworCisJZGF0YSA9IFJFR19TRVRfRklFTEQobS0+c2RtYXhfcmxj
eF9yYl9jbnRsLCBTRE1BMF9STEMwX1JCX0NOVEwsCisJCQkgICAgIFJCX0VOQUJMRSwgMSk7CisJ
V1JFRzMyKHNkbWFfYmFzZV9hZGRyICsgbW1TRE1BMF9STEMwX1JCX0NOVEwsIGRhdGEpOworCisJ
cmV0dXJuIDA7Cit9CisKK3N0YXRpYyBpbnQga2dkX2hxZF9zZG1hX2R1bXAoc3RydWN0IGtnZF9k
ZXYgKmtnZCwKKwkJCSAgICAgdWludDMyX3QgZW5naW5lX2lkLCB1aW50MzJfdCBxdWV1ZV9pZCwK
KwkJCSAgICAgdWludDMyX3QgKCoqZHVtcClbMl0sIHVpbnQzMl90ICpuX3JlZ3MpCit7CisJc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSBnZXRfYW1kZ3B1X2RldmljZShrZ2QpOworCXVpbnQz
Ml90IHNkbWFfYmFzZV9hZGRyID0gZ2V0X3NkbWFfYmFzZV9hZGRyKGFkZXYsIGVuZ2luZV9pZCwg
cXVldWVfaWQpOworCXVpbnQzMl90IGkgPSAwLCByZWc7CisjdW5kZWYgSFFEX05fUkVHUworI2Rl
ZmluZSBIUURfTl9SRUdTICgxOSs2KzcrMTApCisKKwkqZHVtcCA9IGttYWxsb2NfYXJyYXkoSFFE
X05fUkVHUyAqIDIsIHNpemVvZih1aW50MzJfdCksIEdGUF9LRVJORUwpOworCWlmICgqZHVtcCA9
PSBOVUxMKQorCQlyZXR1cm4gLUVOT01FTTsKKworCWZvciAocmVnID0gbW1TRE1BMF9STEMwX1JC
X0NOVEw7IHJlZyA8PSBtbVNETUEwX1JMQzBfRE9PUkJFTEw7IHJlZysrKQorCQlEVU1QX1JFRyhz
ZG1hX2Jhc2VfYWRkciArIHJlZyk7CisJZm9yIChyZWcgPSBtbVNETUEwX1JMQzBfU1RBVFVTOyBy
ZWcgPD0gbW1TRE1BMF9STEMwX0NTQV9BRERSX0hJOyByZWcrKykKKwkJRFVNUF9SRUcoc2RtYV9i
YXNlX2FkZHIgKyByZWcpOworCWZvciAocmVnID0gbW1TRE1BMF9STEMwX0lCX1NVQl9SRU1BSU47
CisJICAgICByZWcgPD0gbW1TRE1BMF9STEMwX01JTk9SX1BUUl9VUERBVEU7IHJlZysrKQorCQlE
VU1QX1JFRyhzZG1hX2Jhc2VfYWRkciArIHJlZyk7CisJZm9yIChyZWcgPSBtbVNETUEwX1JMQzBf
TUlEQ01EX0RBVEEwOworCSAgICAgcmVnIDw9IG1tU0RNQTBfUkxDMF9NSURDTURfQ05UTDsgcmVn
KyspCisJCURVTVBfUkVHKHNkbWFfYmFzZV9hZGRyICsgcmVnKTsKKworCVdBUk5fT05fT05DRShp
ICE9IEhRRF9OX1JFR1MpOworCSpuX3JlZ3MgPSBpOworCisJcmV0dXJuIDA7Cit9CisKK3N0YXRp
YyBib29sIGtnZF9ocWRfc2RtYV9pc19vY2N1cGllZChzdHJ1Y3Qga2dkX2RldiAqa2dkLCB2b2lk
ICptcWQpCit7CisJc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSBnZXRfYW1kZ3B1X2Rldmlj
ZShrZ2QpOworCXN0cnVjdCB2OV9zZG1hX21xZCAqbTsKKwl1aW50MzJfdCBzZG1hX2Jhc2VfYWRk
cjsKKwl1aW50MzJfdCBzZG1hX3JsY19yYl9jbnRsOworCisJbSA9IGdldF9zZG1hX21xZChtcWQp
OworCXNkbWFfYmFzZV9hZGRyID0gZ2V0X3NkbWFfYmFzZV9hZGRyKGFkZXYsIG0tPnNkbWFfZW5n
aW5lX2lkLAorCQkJCQkgICAgbS0+c2RtYV9xdWV1ZV9pZCk7CisKKwlzZG1hX3JsY19yYl9jbnRs
ID0gUlJFRzMyKHNkbWFfYmFzZV9hZGRyICsgbW1TRE1BMF9STEMwX1JCX0NOVEwpOworCisJaWYg
KHNkbWFfcmxjX3JiX2NudGwgJiBTRE1BMF9STEMwX1JCX0NOVExfX1JCX0VOQUJMRV9NQVNLKQor
CQlyZXR1cm4gdHJ1ZTsKKworCXJldHVybiBmYWxzZTsKK30KKworc3RhdGljIGludCBrZ2RfaHFk
X3NkbWFfZGVzdHJveShzdHJ1Y3Qga2dkX2RldiAqa2dkLCB2b2lkICptcWQsCisJCQkJdW5zaWdu
ZWQgaW50IHV0aW1lb3V0KQoreworCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gZ2V0X2Ft
ZGdwdV9kZXZpY2Uoa2dkKTsKKwlzdHJ1Y3Qgdjlfc2RtYV9tcWQgKm07CisJdWludDMyX3Qgc2Rt
YV9iYXNlX2FkZHI7CisJdWludDMyX3QgdGVtcDsKKwl1bnNpZ25lZCBsb25nIGVuZF9qaWZmaWVz
ID0gKHV0aW1lb3V0ICogSFogLyAxMDAwKSArIGppZmZpZXM7CisKKwltID0gZ2V0X3NkbWFfbXFk
KG1xZCk7CisJc2RtYV9iYXNlX2FkZHIgPSBnZXRfc2RtYV9iYXNlX2FkZHIoYWRldiwgbS0+c2Rt
YV9lbmdpbmVfaWQsCisJCQkJCSAgICBtLT5zZG1hX3F1ZXVlX2lkKTsKKworCXRlbXAgPSBSUkVH
MzIoc2RtYV9iYXNlX2FkZHIgKyBtbVNETUEwX1JMQzBfUkJfQ05UTCk7CisJdGVtcCA9IHRlbXAg
JiB+U0RNQTBfUkxDMF9SQl9DTlRMX19SQl9FTkFCTEVfTUFTSzsKKwlXUkVHMzIoc2RtYV9iYXNl
X2FkZHIgKyBtbVNETUEwX1JMQzBfUkJfQ05UTCwgdGVtcCk7CisKKwl3aGlsZSAodHJ1ZSkgewor
CQl0ZW1wID0gUlJFRzMyKHNkbWFfYmFzZV9hZGRyICsgbW1TRE1BMF9STEMwX0NPTlRFWFRfU1RB
VFVTKTsKKwkJaWYgKHRlbXAgJiBTRE1BMF9STEMwX0NPTlRFWFRfU1RBVFVTX19JRExFX01BU0sp
CisJCQlicmVhazsKKwkJaWYgKHRpbWVfYWZ0ZXIoamlmZmllcywgZW5kX2ppZmZpZXMpKQorCQkJ
cmV0dXJuIC1FVElNRTsKKwkJdXNsZWVwX3JhbmdlKDUwMCwgMTAwMCk7CisJfQorCisJV1JFRzMy
KHNkbWFfYmFzZV9hZGRyICsgbW1TRE1BMF9STEMwX0RPT1JCRUxMLCAwKTsKKwlXUkVHMzIoc2Rt
YV9iYXNlX2FkZHIgKyBtbVNETUEwX1JMQzBfUkJfQ05UTCwKKwkJUlJFRzMyKHNkbWFfYmFzZV9h
ZGRyICsgbW1TRE1BMF9STEMwX1JCX0NOVEwpIHwKKwkJU0RNQTBfUkxDMF9SQl9DTlRMX19SQl9F
TkFCTEVfTUFTSyk7CisKKwltLT5zZG1heF9ybGN4X3JiX3JwdHIgPSBSUkVHMzIoc2RtYV9iYXNl
X2FkZHIgKyBtbVNETUEwX1JMQzBfUkJfUlBUUik7CisJbS0+c2RtYXhfcmxjeF9yYl9ycHRyX2hp
ID0KKwkJUlJFRzMyKHNkbWFfYmFzZV9hZGRyICsgbW1TRE1BMF9STEMwX1JCX1JQVFJfSEkpOwor
CisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBjb25zdCBzdHJ1Y3Qga2ZkMmtnZF9jYWxscyBrZmQy
a2dkID0geworCS5wcm9ncmFtX3NoX21lbV9zZXR0aW5ncyA9IGtnZF9nZnhfdjlfcHJvZ3JhbV9z
aF9tZW1fc2V0dGluZ3MsCisJLnNldF9wYXNpZF92bWlkX21hcHBpbmcgPSBrZ2RfZ2Z4X3Y5X3Nl
dF9wYXNpZF92bWlkX21hcHBpbmcsCisJLmluaXRfaW50ZXJydXB0cyA9IGtnZF9nZnhfdjlfaW5p
dF9pbnRlcnJ1cHRzLAorCS5ocWRfbG9hZCA9IGtnZF9nZnhfdjlfaHFkX2xvYWQsCisJLmhxZF9z
ZG1hX2xvYWQgPSBrZ2RfaHFkX3NkbWFfbG9hZCwKKwkuaHFkX2R1bXAgPSBrZ2RfZ2Z4X3Y5X2hx
ZF9kdW1wLAorCS5ocWRfc2RtYV9kdW1wID0ga2dkX2hxZF9zZG1hX2R1bXAsCisJLmhxZF9pc19v
Y2N1cGllZCA9IGtnZF9nZnhfdjlfaHFkX2lzX29jY3VwaWVkLAorCS5ocWRfc2RtYV9pc19vY2N1
cGllZCA9IGtnZF9ocWRfc2RtYV9pc19vY2N1cGllZCwKKwkuaHFkX2Rlc3Ryb3kgPSBrZ2RfZ2Z4
X3Y5X2hxZF9kZXN0cm95LAorCS5ocWRfc2RtYV9kZXN0cm95ID0ga2dkX2hxZF9zZG1hX2Rlc3Ry
b3ksCisJLmFkZHJlc3Nfd2F0Y2hfZGlzYWJsZSA9IGtnZF9nZnhfdjlfYWRkcmVzc193YXRjaF9k
aXNhYmxlLAorCS5hZGRyZXNzX3dhdGNoX2V4ZWN1dGUgPSBrZ2RfZ2Z4X3Y5X2FkZHJlc3Nfd2F0
Y2hfZXhlY3V0ZSwKKwkud2F2ZV9jb250cm9sX2V4ZWN1dGUgPSBrZ2RfZ2Z4X3Y5X3dhdmVfY29u
dHJvbF9leGVjdXRlLAorCS5hZGRyZXNzX3dhdGNoX2dldF9vZmZzZXQgPSBrZ2RfZ2Z4X3Y5X2Fk
ZHJlc3Nfd2F0Y2hfZ2V0X29mZnNldCwKKwkuZ2V0X2F0Y192bWlkX3Bhc2lkX21hcHBpbmdfcGFz
aWQgPQorCQkJa2dkX2dmeF92OV9nZXRfYXRjX3ZtaWRfcGFzaWRfbWFwcGluZ19wYXNpZCwKKwku
Z2V0X2F0Y192bWlkX3Bhc2lkX21hcHBpbmdfdmFsaWQgPQorCQkJa2dkX2dmeF92OV9nZXRfYXRj
X3ZtaWRfcGFzaWRfbWFwcGluZ192YWxpZCwKKwkuc2V0X3NjcmF0Y2hfYmFja2luZ192YSA9IGtn
ZF9nZnhfdjlfc2V0X3NjcmF0Y2hfYmFja2luZ192YSwKKwkuZ2V0X3RpbGVfY29uZmlnID0ga2dk
X2dmeF92OV9nZXRfdGlsZV9jb25maWcsCisJLnNldF92bV9jb250ZXh0X3BhZ2VfdGFibGVfYmFz
ZSA9IGtnZF9nZnhfdjlfc2V0X3ZtX2NvbnRleHRfcGFnZV90YWJsZV9iYXNlLAorCS5pbnZhbGlk
YXRlX3RsYnMgPSBrZ2RfZ2Z4X3Y5X2ludmFsaWRhdGVfdGxicywKKwkuaW52YWxpZGF0ZV90bGJz
X3ZtaWQgPSBrZ2RfZ2Z4X3Y5X2ludmFsaWRhdGVfdGxic192bWlkLAorCS5nZXRfaGl2ZV9pZCA9
IGFtZGdwdV9hbWRrZmRfZ2V0X2hpdmVfaWQsCit9OworCitzdHJ1Y3Qga2ZkMmtnZF9jYWxscyAq
YW1kZ3B1X2FtZGtmZF9hcmN0dXJ1c19nZXRfZnVuY3Rpb25zKHZvaWQpCit7CisJcmV0dXJuIChz
dHJ1Y3Qga2ZkMmtnZF9jYWxscyAqKSZrZmQya2dkOworfQorCmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYW1ka2ZkX2dmeF92OS5jIGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZF9nZnhfdjkuYwppbmRleCBmNTMxNDAyMjNjNzcu
LjI2OTU5MjU0ZjgwZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1k
Z3B1X2FtZGtmZF9nZnhfdjkuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRn
cHVfYW1ka2ZkX2dmeF92OS5jCkBAIC01OSw2NiArNTksMTEgQEAgZW51bSBocWRfZGVxdWV1ZV9y
ZXF1ZXN0X3R5cGUgewogCVJFU0VUX1dBVkVTCiB9OwogCi0vKgotICogUmVnaXN0ZXIgYWNjZXNz
IGZ1bmN0aW9ucwotICovCi0KLXN0YXRpYyB2b2lkIGtnZF9wcm9ncmFtX3NoX21lbV9zZXR0aW5n
cyhzdHJ1Y3Qga2dkX2RldiAqa2dkLCB1aW50MzJfdCB2bWlkLAotCQl1aW50MzJfdCBzaF9tZW1f
Y29uZmlnLAotCQl1aW50MzJfdCBzaF9tZW1fYXBlMV9iYXNlLCB1aW50MzJfdCBzaF9tZW1fYXBl
MV9saW1pdCwKLQkJdWludDMyX3Qgc2hfbWVtX2Jhc2VzKTsKLXN0YXRpYyBpbnQga2dkX3NldF9w
YXNpZF92bWlkX21hcHBpbmcoc3RydWN0IGtnZF9kZXYgKmtnZCwgdW5zaWduZWQgaW50IHBhc2lk
LAotCQl1bnNpZ25lZCBpbnQgdm1pZCk7Ci1zdGF0aWMgaW50IGtnZF9pbml0X2ludGVycnVwdHMo
c3RydWN0IGtnZF9kZXYgKmtnZCwgdWludDMyX3QgcGlwZV9pZCk7Ci1zdGF0aWMgaW50IGtnZF9o
cWRfbG9hZChzdHJ1Y3Qga2dkX2RldiAqa2dkLCB2b2lkICptcWQsIHVpbnQzMl90IHBpcGVfaWQs
Ci0JCQl1aW50MzJfdCBxdWV1ZV9pZCwgdWludDMyX3QgX191c2VyICp3cHRyLAotCQkJdWludDMy
X3Qgd3B0cl9zaGlmdCwgdWludDMyX3Qgd3B0cl9tYXNrLAotCQkJc3RydWN0IG1tX3N0cnVjdCAq
bW0pOwotc3RhdGljIGludCBrZ2RfaHFkX2R1bXAoc3RydWN0IGtnZF9kZXYgKmtnZCwKLQkJCXVp
bnQzMl90IHBpcGVfaWQsIHVpbnQzMl90IHF1ZXVlX2lkLAotCQkJdWludDMyX3QgKCoqZHVtcClb
Ml0sIHVpbnQzMl90ICpuX3JlZ3MpOwotc3RhdGljIGludCBrZ2RfaHFkX3NkbWFfbG9hZChzdHJ1
Y3Qga2dkX2RldiAqa2dkLCB2b2lkICptcWQsCi0JCQkgICAgIHVpbnQzMl90IF9fdXNlciAqd3B0
ciwgc3RydWN0IG1tX3N0cnVjdCAqbW0pOwotc3RhdGljIGludCBrZ2RfaHFkX3NkbWFfZHVtcChz
dHJ1Y3Qga2dkX2RldiAqa2dkLAotCQkJICAgICB1aW50MzJfdCBlbmdpbmVfaWQsIHVpbnQzMl90
IHF1ZXVlX2lkLAotCQkJICAgICB1aW50MzJfdCAoKipkdW1wKVsyXSwgdWludDMyX3QgKm5fcmVn
cyk7Ci1zdGF0aWMgYm9vbCBrZ2RfaHFkX2lzX29jY3VwaWVkKHN0cnVjdCBrZ2RfZGV2ICprZ2Qs
IHVpbnQ2NF90IHF1ZXVlX2FkZHJlc3MsCi0JCXVpbnQzMl90IHBpcGVfaWQsIHVpbnQzMl90IHF1
ZXVlX2lkKTsKLXN0YXRpYyBib29sIGtnZF9ocWRfc2RtYV9pc19vY2N1cGllZChzdHJ1Y3Qga2dk
X2RldiAqa2dkLCB2b2lkICptcWQpOwotc3RhdGljIGludCBrZ2RfaHFkX2Rlc3Ryb3koc3RydWN0
IGtnZF9kZXYgKmtnZCwgdm9pZCAqbXFkLAotCQkJCWVudW0ga2ZkX3ByZWVtcHRfdHlwZSByZXNl
dF90eXBlLAotCQkJCXVuc2lnbmVkIGludCB1dGltZW91dCwgdWludDMyX3QgcGlwZV9pZCwKLQkJ
CQl1aW50MzJfdCBxdWV1ZV9pZCk7Ci1zdGF0aWMgaW50IGtnZF9ocWRfc2RtYV9kZXN0cm95KHN0
cnVjdCBrZ2RfZGV2ICprZ2QsIHZvaWQgKm1xZCwKLQkJCQl1bnNpZ25lZCBpbnQgdXRpbWVvdXQp
Owotc3RhdGljIGludCBrZ2RfYWRkcmVzc193YXRjaF9kaXNhYmxlKHN0cnVjdCBrZ2RfZGV2ICpr
Z2QpOwotc3RhdGljIGludCBrZ2RfYWRkcmVzc193YXRjaF9leGVjdXRlKHN0cnVjdCBrZ2RfZGV2
ICprZ2QsCi0JCQkJCXVuc2lnbmVkIGludCB3YXRjaF9wb2ludF9pZCwKLQkJCQkJdWludDMyX3Qg
Y250bF92YWwsCi0JCQkJCXVpbnQzMl90IGFkZHJfaGksCi0JCQkJCXVpbnQzMl90IGFkZHJfbG8p
Owotc3RhdGljIGludCBrZ2Rfd2F2ZV9jb250cm9sX2V4ZWN1dGUoc3RydWN0IGtnZF9kZXYgKmtn
ZCwKLQkJCQkJdWludDMyX3QgZ2Z4X2luZGV4X3ZhbCwKLQkJCQkJdWludDMyX3Qgc3FfY21kKTsK
LXN0YXRpYyB1aW50MzJfdCBrZ2RfYWRkcmVzc193YXRjaF9nZXRfb2Zmc2V0KHN0cnVjdCBrZ2Rf
ZGV2ICprZ2QsCi0JCQkJCXVuc2lnbmVkIGludCB3YXRjaF9wb2ludF9pZCwKLQkJCQkJdW5zaWdu
ZWQgaW50IHJlZ19vZmZzZXQpOwotCi1zdGF0aWMgYm9vbCBnZXRfYXRjX3ZtaWRfcGFzaWRfbWFw
cGluZ192YWxpZChzdHJ1Y3Qga2dkX2RldiAqa2dkLAotCQl1aW50OF90IHZtaWQpOwotc3RhdGlj
IHVpbnQxNl90IGdldF9hdGNfdm1pZF9wYXNpZF9tYXBwaW5nX3Bhc2lkKHN0cnVjdCBrZ2RfZGV2
ICprZ2QsCi0JCXVpbnQ4X3Qgdm1pZCk7Ci1zdGF0aWMgdm9pZCBzZXRfdm1fY29udGV4dF9wYWdl
X3RhYmxlX2Jhc2Uoc3RydWN0IGtnZF9kZXYgKmtnZCwgdWludDMyX3Qgdm1pZCwKLQkJdWludDY0
X3QgcGFnZV90YWJsZV9iYXNlKTsKLXN0YXRpYyB2b2lkIHNldF9zY3JhdGNoX2JhY2tpbmdfdmEo
c3RydWN0IGtnZF9kZXYgKmtnZCwKLQkJCQkJdWludDY0X3QgdmEsIHVpbnQzMl90IHZtaWQpOwot
c3RhdGljIGludCBpbnZhbGlkYXRlX3RsYnMoc3RydWN0IGtnZF9kZXYgKmtnZCwgdWludDE2X3Qg
cGFzaWQpOwotc3RhdGljIGludCBpbnZhbGlkYXRlX3RsYnNfdm1pZChzdHJ1Y3Qga2dkX2RldiAq
a2dkLCB1aW50MTZfdCB2bWlkKTsKIAogLyogQmVjYXVzZSBvZiBSRUdfR0VUX0ZJRUxEKCkgYmVp
bmcgdXNlZCwgd2UgcHV0IHRoaXMgZnVuY3Rpb24gaW4gdGhlCiAgKiBhc2ljIHNwZWNpZmljIGZp
bGUuCiAgKi8KLXN0YXRpYyBpbnQgYW1kZ3B1X2FtZGtmZF9nZXRfdGlsZV9jb25maWcoc3RydWN0
IGtnZF9kZXYgKmtnZCwKK2ludCBrZ2RfZ2Z4X3Y5X2dldF90aWxlX2NvbmZpZyhzdHJ1Y3Qga2dk
X2RldiAqa2dkLAogCQlzdHJ1Y3QgdGlsZV9jb25maWcgKmNvbmZpZykKIHsKIAlzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldiA9IChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqKWtnZDsKQEAgLTEzNiwz
OSArODEsNiBAQCBzdGF0aWMgaW50IGFtZGdwdV9hbWRrZmRfZ2V0X3RpbGVfY29uZmlnKHN0cnVj
dCBrZ2RfZGV2ICprZ2QsCiAJcmV0dXJuIDA7CiB9CiAKLXN0YXRpYyBjb25zdCBzdHJ1Y3Qga2Zk
MmtnZF9jYWxscyBrZmQya2dkID0gewotCS5wcm9ncmFtX3NoX21lbV9zZXR0aW5ncyA9IGtnZF9w
cm9ncmFtX3NoX21lbV9zZXR0aW5ncywKLQkuc2V0X3Bhc2lkX3ZtaWRfbWFwcGluZyA9IGtnZF9z
ZXRfcGFzaWRfdm1pZF9tYXBwaW5nLAotCS5pbml0X2ludGVycnVwdHMgPSBrZ2RfaW5pdF9pbnRl
cnJ1cHRzLAotCS5ocWRfbG9hZCA9IGtnZF9ocWRfbG9hZCwKLQkuaHFkX3NkbWFfbG9hZCA9IGtn
ZF9ocWRfc2RtYV9sb2FkLAotCS5ocWRfZHVtcCA9IGtnZF9ocWRfZHVtcCwKLQkuaHFkX3NkbWFf
ZHVtcCA9IGtnZF9ocWRfc2RtYV9kdW1wLAotCS5ocWRfaXNfb2NjdXBpZWQgPSBrZ2RfaHFkX2lz
X29jY3VwaWVkLAotCS5ocWRfc2RtYV9pc19vY2N1cGllZCA9IGtnZF9ocWRfc2RtYV9pc19vY2N1
cGllZCwKLQkuaHFkX2Rlc3Ryb3kgPSBrZ2RfaHFkX2Rlc3Ryb3ksCi0JLmhxZF9zZG1hX2Rlc3Ry
b3kgPSBrZ2RfaHFkX3NkbWFfZGVzdHJveSwKLQkuYWRkcmVzc193YXRjaF9kaXNhYmxlID0ga2dk
X2FkZHJlc3Nfd2F0Y2hfZGlzYWJsZSwKLQkuYWRkcmVzc193YXRjaF9leGVjdXRlID0ga2dkX2Fk
ZHJlc3Nfd2F0Y2hfZXhlY3V0ZSwKLQkud2F2ZV9jb250cm9sX2V4ZWN1dGUgPSBrZ2Rfd2F2ZV9j
b250cm9sX2V4ZWN1dGUsCi0JLmFkZHJlc3Nfd2F0Y2hfZ2V0X29mZnNldCA9IGtnZF9hZGRyZXNz
X3dhdGNoX2dldF9vZmZzZXQsCi0JLmdldF9hdGNfdm1pZF9wYXNpZF9tYXBwaW5nX3Bhc2lkID0K
LQkJCWdldF9hdGNfdm1pZF9wYXNpZF9tYXBwaW5nX3Bhc2lkLAotCS5nZXRfYXRjX3ZtaWRfcGFz
aWRfbWFwcGluZ192YWxpZCA9Ci0JCQlnZXRfYXRjX3ZtaWRfcGFzaWRfbWFwcGluZ192YWxpZCwK
LQkuc2V0X3NjcmF0Y2hfYmFja2luZ192YSA9IHNldF9zY3JhdGNoX2JhY2tpbmdfdmEsCi0JLmdl
dF90aWxlX2NvbmZpZyA9IGFtZGdwdV9hbWRrZmRfZ2V0X3RpbGVfY29uZmlnLAotCS5zZXRfdm1f
Y29udGV4dF9wYWdlX3RhYmxlX2Jhc2UgPSBzZXRfdm1fY29udGV4dF9wYWdlX3RhYmxlX2Jhc2Us
Ci0JLmludmFsaWRhdGVfdGxicyA9IGludmFsaWRhdGVfdGxicywKLQkuaW52YWxpZGF0ZV90bGJz
X3ZtaWQgPSBpbnZhbGlkYXRlX3RsYnNfdm1pZCwKLQkuZ2V0X2hpdmVfaWQgPSBhbWRncHVfYW1k
a2ZkX2dldF9oaXZlX2lkLAotfTsKLQotc3RydWN0IGtmZDJrZ2RfY2FsbHMgKmFtZGdwdV9hbWRr
ZmRfZ2Z4XzlfMF9nZXRfZnVuY3Rpb25zKHZvaWQpCi17Ci0JcmV0dXJuIChzdHJ1Y3Qga2ZkMmtn
ZF9jYWxscyAqKSZrZmQya2dkOwotfQotCiBzdGF0aWMgaW5saW5lIHN0cnVjdCBhbWRncHVfZGV2
aWNlICpnZXRfYW1kZ3B1X2RldmljZShzdHJ1Y3Qga2dkX2RldiAqa2dkKQogewogCXJldHVybiAo
c3RydWN0IGFtZGdwdV9kZXZpY2UgKilrZ2Q7CkBAIC0yMTYsNyArMTI4LDcgQEAgc3RhdGljIHZv
aWQgcmVsZWFzZV9xdWV1ZShzdHJ1Y3Qga2dkX2RldiAqa2dkKQogCXVubG9ja19zcmJtKGtnZCk7
CiB9CiAKLXN0YXRpYyB2b2lkIGtnZF9wcm9ncmFtX3NoX21lbV9zZXR0aW5ncyhzdHJ1Y3Qga2dk
X2RldiAqa2dkLCB1aW50MzJfdCB2bWlkLAordm9pZCBrZ2RfZ2Z4X3Y5X3Byb2dyYW1fc2hfbWVt
X3NldHRpbmdzKHN0cnVjdCBrZ2RfZGV2ICprZ2QsIHVpbnQzMl90IHZtaWQsCiAJCQkJCXVpbnQz
Ml90IHNoX21lbV9jb25maWcsCiAJCQkJCXVpbnQzMl90IHNoX21lbV9hcGUxX2Jhc2UsCiAJCQkJ
CXVpbnQzMl90IHNoX21lbV9hcGUxX2xpbWl0LApAQCAtMjMzLDcgKzE0NSw3IEBAIHN0YXRpYyB2
b2lkIGtnZF9wcm9ncmFtX3NoX21lbV9zZXR0aW5ncyhzdHJ1Y3Qga2dkX2RldiAqa2dkLCB1aW50
MzJfdCB2bWlkLAogCXVubG9ja19zcmJtKGtnZCk7CiB9CiAKLXN0YXRpYyBpbnQga2dkX3NldF9w
YXNpZF92bWlkX21hcHBpbmcoc3RydWN0IGtnZF9kZXYgKmtnZCwgdW5zaWduZWQgaW50IHBhc2lk
LAoraW50IGtnZF9nZnhfdjlfc2V0X3Bhc2lkX3ZtaWRfbWFwcGluZyhzdHJ1Y3Qga2dkX2RldiAq
a2dkLCB1bnNpZ25lZCBpbnQgcGFzaWQsCiAJCQkJCXVuc2lnbmVkIGludCB2bWlkKQogewogCXN0
cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gZ2V0X2FtZGdwdV9kZXZpY2Uoa2dkKTsKQEAgLTI5
NCw3ICsyMDYsNyBAQCBzdGF0aWMgaW50IGtnZF9zZXRfcGFzaWRfdm1pZF9tYXBwaW5nKHN0cnVj
dCBrZ2RfZGV2ICprZ2QsIHVuc2lnbmVkIGludCBwYXNpZCwKICAqIGJ1dCBzdGlsbCB3b3Jrcwog
ICovCiAKLXN0YXRpYyBpbnQga2dkX2luaXRfaW50ZXJydXB0cyhzdHJ1Y3Qga2dkX2RldiAqa2dk
LCB1aW50MzJfdCBwaXBlX2lkKQoraW50IGtnZF9nZnhfdjlfaW5pdF9pbnRlcnJ1cHRzKHN0cnVj
dCBrZ2RfZGV2ICprZ2QsIHVpbnQzMl90IHBpcGVfaWQpCiB7CiAJc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYgPSBnZXRfYW1kZ3B1X2RldmljZShrZ2QpOwogCXVpbnQzMl90IG1lYzsKQEAgLTM0
NCw3ICsyNTYsNyBAQCBzdGF0aWMgaW5saW5lIHN0cnVjdCB2OV9zZG1hX21xZCAqZ2V0X3NkbWFf
bXFkKHZvaWQgKm1xZCkKIAlyZXR1cm4gKHN0cnVjdCB2OV9zZG1hX21xZCAqKW1xZDsKIH0KIAot
c3RhdGljIGludCBrZ2RfaHFkX2xvYWQoc3RydWN0IGtnZF9kZXYgKmtnZCwgdm9pZCAqbXFkLCB1
aW50MzJfdCBwaXBlX2lkLAoraW50IGtnZF9nZnhfdjlfaHFkX2xvYWQoc3RydWN0IGtnZF9kZXYg
KmtnZCwgdm9pZCAqbXFkLCB1aW50MzJfdCBwaXBlX2lkLAogCQkJdWludDMyX3QgcXVldWVfaWQs
IHVpbnQzMl90IF9fdXNlciAqd3B0ciwKIAkJCXVpbnQzMl90IHdwdHJfc2hpZnQsIHVpbnQzMl90
IHdwdHJfbWFzaywKIAkJCXN0cnVjdCBtbV9zdHJ1Y3QgKm1tKQpAQCAtNDM5LDcgKzM1MSw3IEBA
IHN0YXRpYyBpbnQga2dkX2hxZF9sb2FkKHN0cnVjdCBrZ2RfZGV2ICprZ2QsIHZvaWQgKm1xZCwg
dWludDMyX3QgcGlwZV9pZCwKIAlyZXR1cm4gMDsKIH0KIAotc3RhdGljIGludCBrZ2RfaHFkX2R1
bXAoc3RydWN0IGtnZF9kZXYgKmtnZCwKK2ludCBrZ2RfZ2Z4X3Y5X2hxZF9kdW1wKHN0cnVjdCBr
Z2RfZGV2ICprZ2QsCiAJCQl1aW50MzJfdCBwaXBlX2lkLCB1aW50MzJfdCBxdWV1ZV9pZCwKIAkJ
CXVpbnQzMl90ICgqKmR1bXApWzJdLCB1aW50MzJfdCAqbl9yZWdzKQogewpAQCAtNTc2LDcgKzQ4
OCw3IEBAIHN0YXRpYyBpbnQga2dkX2hxZF9zZG1hX2R1bXAoc3RydWN0IGtnZF9kZXYgKmtnZCwK
IAlyZXR1cm4gMDsKIH0KIAotc3RhdGljIGJvb2wga2dkX2hxZF9pc19vY2N1cGllZChzdHJ1Y3Qg
a2dkX2RldiAqa2dkLCB1aW50NjRfdCBxdWV1ZV9hZGRyZXNzLAorYm9vbCBrZ2RfZ2Z4X3Y5X2hx
ZF9pc19vY2N1cGllZChzdHJ1Y3Qga2dkX2RldiAqa2dkLCB1aW50NjRfdCBxdWV1ZV9hZGRyZXNz
LAogCQkJCXVpbnQzMl90IHBpcGVfaWQsIHVpbnQzMl90IHF1ZXVlX2lkKQogewogCXN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2ID0gZ2V0X2FtZGdwdV9kZXZpY2Uoa2dkKTsKQEAgLTYxNyw3ICs1
MjksNyBAQCBzdGF0aWMgYm9vbCBrZ2RfaHFkX3NkbWFfaXNfb2NjdXBpZWQoc3RydWN0IGtnZF9k
ZXYgKmtnZCwgdm9pZCAqbXFkKQogCXJldHVybiBmYWxzZTsKIH0KIAotc3RhdGljIGludCBrZ2Rf
aHFkX2Rlc3Ryb3koc3RydWN0IGtnZF9kZXYgKmtnZCwgdm9pZCAqbXFkLAoraW50IGtnZF9nZnhf
djlfaHFkX2Rlc3Ryb3koc3RydWN0IGtnZF9kZXYgKmtnZCwgdm9pZCAqbXFkLAogCQkJCWVudW0g
a2ZkX3ByZWVtcHRfdHlwZSByZXNldF90eXBlLAogCQkJCXVuc2lnbmVkIGludCB1dGltZW91dCwg
dWludDMyX3QgcGlwZV9pZCwKIAkJCQl1aW50MzJfdCBxdWV1ZV9pZCkKQEAgLTcwNSw3ICs2MTcs
NyBAQCBzdGF0aWMgaW50IGtnZF9ocWRfc2RtYV9kZXN0cm95KHN0cnVjdCBrZ2RfZGV2ICprZ2Qs
IHZvaWQgKm1xZCwKIAlyZXR1cm4gMDsKIH0KIAotc3RhdGljIGJvb2wgZ2V0X2F0Y192bWlkX3Bh
c2lkX21hcHBpbmdfdmFsaWQoc3RydWN0IGtnZF9kZXYgKmtnZCwKK2Jvb2wga2dkX2dmeF92OV9n
ZXRfYXRjX3ZtaWRfcGFzaWRfbWFwcGluZ192YWxpZChzdHJ1Y3Qga2dkX2RldiAqa2dkLAogCQkJ
CQkJCXVpbnQ4X3Qgdm1pZCkKIHsKIAl1aW50MzJfdCByZWc7CkBAIC03MTYsNyArNjI4LDcgQEAg
c3RhdGljIGJvb2wgZ2V0X2F0Y192bWlkX3Bhc2lkX21hcHBpbmdfdmFsaWQoc3RydWN0IGtnZF9k
ZXYgKmtnZCwKIAlyZXR1cm4gcmVnICYgQVRDX1ZNSUQwX1BBU0lEX01BUFBJTkdfX1ZBTElEX01B
U0s7CiB9CiAKLXN0YXRpYyB1aW50MTZfdCBnZXRfYXRjX3ZtaWRfcGFzaWRfbWFwcGluZ19wYXNp
ZChzdHJ1Y3Qga2dkX2RldiAqa2dkLAordWludDE2X3Qga2dkX2dmeF92OV9nZXRfYXRjX3ZtaWRf
cGFzaWRfbWFwcGluZ19wYXNpZChzdHJ1Y3Qga2dkX2RldiAqa2dkLAogCQkJCQkJCQl1aW50OF90
IHZtaWQpCiB7CiAJdWludDMyX3QgcmVnOwpAQCAtNzU1LDcgKzY2Nyw3IEBAIHN0YXRpYyBpbnQg
aW52YWxpZGF0ZV90bGJzX3dpdGhfa2lxKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCB1aW50
MTZfdCBwYXNpZCwKIAlyZXR1cm4gMDsKIH0KIAotc3RhdGljIGludCBpbnZhbGlkYXRlX3RsYnMo
c3RydWN0IGtnZF9kZXYgKmtnZCwgdWludDE2X3QgcGFzaWQpCitpbnQga2dkX2dmeF92OV9pbnZh
bGlkYXRlX3RsYnMoc3RydWN0IGtnZF9kZXYgKmtnZCwgdWludDE2X3QgcGFzaWQpCiB7CiAJc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSAoc3RydWN0IGFtZGdwdV9kZXZpY2UgKikga2dkOwog
CWludCB2bWlkOwpAQCAtNzc0LDggKzY4Niw4IEBAIHN0YXRpYyBpbnQgaW52YWxpZGF0ZV90bGJz
KHN0cnVjdCBrZ2RfZGV2ICprZ2QsIHVpbnQxNl90IHBhc2lkKQogCWZvciAodm1pZCA9IDA7IHZt
aWQgPCAxNjsgdm1pZCsrKSB7CiAJCWlmICghYW1kZ3B1X2FtZGtmZF9pc19rZmRfdm1pZChhZGV2
LCB2bWlkKSkKIAkJCWNvbnRpbnVlOwotCQlpZiAoZ2V0X2F0Y192bWlkX3Bhc2lkX21hcHBpbmdf
dmFsaWQoa2dkLCB2bWlkKSkgewotCQkJaWYgKGdldF9hdGNfdm1pZF9wYXNpZF9tYXBwaW5nX3Bh
c2lkKGtnZCwgdm1pZCkKKwkJaWYgKGtnZF9nZnhfdjlfZ2V0X2F0Y192bWlkX3Bhc2lkX21hcHBp
bmdfdmFsaWQoa2dkLCB2bWlkKSkgeworCQkJaWYgKGtnZF9nZnhfdjlfZ2V0X2F0Y192bWlkX3Bh
c2lkX21hcHBpbmdfcGFzaWQoa2dkLCB2bWlkKQogCQkJCT09IHBhc2lkKSB7CiAJCQkJYW1kZ3B1
X2dtY19mbHVzaF9ncHVfdGxiKGFkZXYsIHZtaWQsCiAJCQkJCQkJIGZsdXNoX3R5cGUpOwpAQCAt
Nzg3LDcgKzY5OSw3IEBAIHN0YXRpYyBpbnQgaW52YWxpZGF0ZV90bGJzKHN0cnVjdCBrZ2RfZGV2
ICprZ2QsIHVpbnQxNl90IHBhc2lkKQogCXJldHVybiAwOwogfQogCi1zdGF0aWMgaW50IGludmFs
aWRhdGVfdGxic192bWlkKHN0cnVjdCBrZ2RfZGV2ICprZ2QsIHVpbnQxNl90IHZtaWQpCitpbnQg
a2dkX2dmeF92OV9pbnZhbGlkYXRlX3RsYnNfdm1pZChzdHJ1Y3Qga2dkX2RldiAqa2dkLCB1aW50
MTZfdCB2bWlkKQogewogCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gKHN0cnVjdCBhbWRn
cHVfZGV2aWNlICopIGtnZDsKIApAQCAtODE1LDEyICs3MjcsMTIgQEAgc3RhdGljIGludCBpbnZh
bGlkYXRlX3RsYnNfdm1pZChzdHJ1Y3Qga2dkX2RldiAqa2dkLCB1aW50MTZfdCB2bWlkKQogCXJl
dHVybiAwOwogfQogCi1zdGF0aWMgaW50IGtnZF9hZGRyZXNzX3dhdGNoX2Rpc2FibGUoc3RydWN0
IGtnZF9kZXYgKmtnZCkKK2ludCBrZ2RfZ2Z4X3Y5X2FkZHJlc3Nfd2F0Y2hfZGlzYWJsZShzdHJ1
Y3Qga2dkX2RldiAqa2dkKQogewogCXJldHVybiAwOwogfQogCi1zdGF0aWMgaW50IGtnZF9hZGRy
ZXNzX3dhdGNoX2V4ZWN1dGUoc3RydWN0IGtnZF9kZXYgKmtnZCwKK2ludCBrZ2RfZ2Z4X3Y5X2Fk
ZHJlc3Nfd2F0Y2hfZXhlY3V0ZShzdHJ1Y3Qga2dkX2RldiAqa2dkLAogCQkJCQl1bnNpZ25lZCBp
bnQgd2F0Y2hfcG9pbnRfaWQsCiAJCQkJCXVpbnQzMl90IGNudGxfdmFsLAogCQkJCQl1aW50MzJf
dCBhZGRyX2hpLApAQCAtODI5LDcgKzc0MSw3IEBAIHN0YXRpYyBpbnQga2dkX2FkZHJlc3Nfd2F0
Y2hfZXhlY3V0ZShzdHJ1Y3Qga2dkX2RldiAqa2dkLAogCXJldHVybiAwOwogfQogCi1zdGF0aWMg
aW50IGtnZF93YXZlX2NvbnRyb2xfZXhlY3V0ZShzdHJ1Y3Qga2dkX2RldiAqa2dkLAoraW50IGtn
ZF9nZnhfdjlfd2F2ZV9jb250cm9sX2V4ZWN1dGUoc3RydWN0IGtnZF9kZXYgKmtnZCwKIAkJCQkJ
dWludDMyX3QgZ2Z4X2luZGV4X3ZhbCwKIAkJCQkJdWludDMyX3Qgc3FfY21kKQogewpAQCAtODU0
LDE0ICs3NjYsMTQgQEAgc3RhdGljIGludCBrZ2Rfd2F2ZV9jb250cm9sX2V4ZWN1dGUoc3RydWN0
IGtnZF9kZXYgKmtnZCwKIAlyZXR1cm4gMDsKIH0KIAotc3RhdGljIHVpbnQzMl90IGtnZF9hZGRy
ZXNzX3dhdGNoX2dldF9vZmZzZXQoc3RydWN0IGtnZF9kZXYgKmtnZCwKK3VpbnQzMl90IGtnZF9n
ZnhfdjlfYWRkcmVzc193YXRjaF9nZXRfb2Zmc2V0KHN0cnVjdCBrZ2RfZGV2ICprZ2QsCiAJCQkJ
CXVuc2lnbmVkIGludCB3YXRjaF9wb2ludF9pZCwKIAkJCQkJdW5zaWduZWQgaW50IHJlZ19vZmZz
ZXQpCiB7CiAJcmV0dXJuIDA7CiB9CiAKLXN0YXRpYyB2b2lkIHNldF9zY3JhdGNoX2JhY2tpbmdf
dmEoc3RydWN0IGtnZF9kZXYgKmtnZCwKK3ZvaWQga2dkX2dmeF92OV9zZXRfc2NyYXRjaF9iYWNr
aW5nX3ZhKHN0cnVjdCBrZ2RfZGV2ICprZ2QsCiAJCQkJCXVpbnQ2NF90IHZhLCB1aW50MzJfdCB2
bWlkKQogewogCS8qIE5vIGxvbmdlciBuZWVkZWQgb24gR0ZYdjkuIFRoZSBzY3JhdGNoIGJhc2Ug
YWRkcmVzcyBpcwpAQCAtODcwLDcgKzc4Miw3IEBAIHN0YXRpYyB2b2lkIHNldF9zY3JhdGNoX2Jh
Y2tpbmdfdmEoc3RydWN0IGtnZF9kZXYgKmtnZCwKIAkgKi8KIH0KIAotc3RhdGljIHZvaWQgc2V0
X3ZtX2NvbnRleHRfcGFnZV90YWJsZV9iYXNlKHN0cnVjdCBrZ2RfZGV2ICprZ2QsIHVpbnQzMl90
IHZtaWQsCit2b2lkIGtnZF9nZnhfdjlfc2V0X3ZtX2NvbnRleHRfcGFnZV90YWJsZV9iYXNlKHN0
cnVjdCBrZ2RfZGV2ICprZ2QsIHVpbnQzMl90IHZtaWQsCiAJCXVpbnQ2NF90IHBhZ2VfdGFibGVf
YmFzZSkKIHsKIAlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IGdldF9hbWRncHVfZGV2aWNl
KGtnZCk7CkBAIC04OTQsMyArODA2LDM2IEBAIHN0YXRpYyB2b2lkIHNldF92bV9jb250ZXh0X3Bh
Z2VfdGFibGVfYmFzZShzdHJ1Y3Qga2dkX2RldiAqa2dkLCB1aW50MzJfdCB2bWlkLAogCiAJZ2Z4
aHViX3YxXzBfc2V0dXBfdm1fcHRfcmVncyhhZGV2LCB2bWlkLCBwYWdlX3RhYmxlX2Jhc2UpOwog
fQorCitzdGF0aWMgY29uc3Qgc3RydWN0IGtmZDJrZ2RfY2FsbHMga2ZkMmtnZCA9IHsKKwkucHJv
Z3JhbV9zaF9tZW1fc2V0dGluZ3MgPSBrZ2RfZ2Z4X3Y5X3Byb2dyYW1fc2hfbWVtX3NldHRpbmdz
LAorCS5zZXRfcGFzaWRfdm1pZF9tYXBwaW5nID0ga2dkX2dmeF92OV9zZXRfcGFzaWRfdm1pZF9t
YXBwaW5nLAorCS5pbml0X2ludGVycnVwdHMgPSBrZ2RfZ2Z4X3Y5X2luaXRfaW50ZXJydXB0cywK
KwkuaHFkX2xvYWQgPSBrZ2RfZ2Z4X3Y5X2hxZF9sb2FkLAorCS5ocWRfc2RtYV9sb2FkID0ga2dk
X2hxZF9zZG1hX2xvYWQsCisJLmhxZF9kdW1wID0ga2dkX2dmeF92OV9ocWRfZHVtcCwKKwkuaHFk
X3NkbWFfZHVtcCA9IGtnZF9ocWRfc2RtYV9kdW1wLAorCS5ocWRfaXNfb2NjdXBpZWQgPSBrZ2Rf
Z2Z4X3Y5X2hxZF9pc19vY2N1cGllZCwKKwkuaHFkX3NkbWFfaXNfb2NjdXBpZWQgPSBrZ2RfaHFk
X3NkbWFfaXNfb2NjdXBpZWQsCisJLmhxZF9kZXN0cm95ID0ga2dkX2dmeF92OV9ocWRfZGVzdHJv
eSwKKwkuaHFkX3NkbWFfZGVzdHJveSA9IGtnZF9ocWRfc2RtYV9kZXN0cm95LAorCS5hZGRyZXNz
X3dhdGNoX2Rpc2FibGUgPSBrZ2RfZ2Z4X3Y5X2FkZHJlc3Nfd2F0Y2hfZGlzYWJsZSwKKwkuYWRk
cmVzc193YXRjaF9leGVjdXRlID0ga2dkX2dmeF92OV9hZGRyZXNzX3dhdGNoX2V4ZWN1dGUsCisJ
LndhdmVfY29udHJvbF9leGVjdXRlID0ga2dkX2dmeF92OV93YXZlX2NvbnRyb2xfZXhlY3V0ZSwK
KwkuYWRkcmVzc193YXRjaF9nZXRfb2Zmc2V0ID0ga2dkX2dmeF92OV9hZGRyZXNzX3dhdGNoX2dl
dF9vZmZzZXQsCisJLmdldF9hdGNfdm1pZF9wYXNpZF9tYXBwaW5nX3Bhc2lkID0KKwkJCWtnZF9n
ZnhfdjlfZ2V0X2F0Y192bWlkX3Bhc2lkX21hcHBpbmdfcGFzaWQsCisJLmdldF9hdGNfdm1pZF9w
YXNpZF9tYXBwaW5nX3ZhbGlkID0KKwkJCWtnZF9nZnhfdjlfZ2V0X2F0Y192bWlkX3Bhc2lkX21h
cHBpbmdfdmFsaWQsCisJLnNldF9zY3JhdGNoX2JhY2tpbmdfdmEgPSBrZ2RfZ2Z4X3Y5X3NldF9z
Y3JhdGNoX2JhY2tpbmdfdmEsCisJLmdldF90aWxlX2NvbmZpZyA9IGtnZF9nZnhfdjlfZ2V0X3Rp
bGVfY29uZmlnLAorCS5zZXRfdm1fY29udGV4dF9wYWdlX3RhYmxlX2Jhc2UgPSBrZ2RfZ2Z4X3Y5
X3NldF92bV9jb250ZXh0X3BhZ2VfdGFibGVfYmFzZSwKKwkuaW52YWxpZGF0ZV90bGJzID0ga2dk
X2dmeF92OV9pbnZhbGlkYXRlX3RsYnMsCisJLmludmFsaWRhdGVfdGxic192bWlkID0ga2dkX2dm
eF92OV9pbnZhbGlkYXRlX3RsYnNfdm1pZCwKKwkuZ2V0X2hpdmVfaWQgPSBhbWRncHVfYW1ka2Zk
X2dldF9oaXZlX2lkLAorfTsKKworc3RydWN0IGtmZDJrZ2RfY2FsbHMgKmFtZGdwdV9hbWRrZmRf
Z2Z4XzlfMF9nZXRfZnVuY3Rpb25zKHZvaWQpCit7CisJcmV0dXJuIChzdHJ1Y3Qga2ZkMmtnZF9j
YWxscyAqKSZrZmQya2dkOworfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X2FtZGtmZF9nZnhfdjkuaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV9hbWRrZmRfZ2Z4X3Y5LmgKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAw
MDAwLi5iNzlkMmE2Mjk3NjgKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9hbWRncHVfYW1ka2ZkX2dmeF92OS5oCkBAIC0wLDAgKzEsODMgQEAKKy8qCisgKiBD
b3B5cmlnaHQgMjAxOSBBZHZhbmNlZCBNaWNybyBEZXZpY2VzLCBJbmMuCisgKgorICogUGVybWlz
c2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0
YWluaW5nIGEKKyAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVu
dGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksCisgKiB0byBkZWFsIGluIHRoZSBTb2Z0d2Fy
ZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uCisgKiB0
aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0
ZSwgc3VibGljZW5zZSwKKyAqIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFu
ZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZQorICogU29mdHdhcmUgaXMgZnVybmlzaGVk
IHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKKyAqCisgKiBU
aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFs
bCBiZSBpbmNsdWRlZCBpbgorICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBv
ZiB0aGUgU29mdHdhcmUuCisgKgorICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIs
IFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKKyAqIElNUExJRUQsIElO
Q0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklM
SVRZLAorICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdF
TUVOVC4gIElOIE5PIEVWRU5UIFNIQUxMCisgKiBUSEUgQ09QWVJJR0hUIEhPTERFUihTKSBPUiBB
VVRIT1IoUykgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IKKyAqIE9USEVSIExJ
QUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJX
SVNFLAorICogQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBT
T0ZUV0FSRSBPUiBUSEUgVVNFIE9SCisgKiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUu
CisgKi8KKworCisKK3ZvaWQga2dkX2dmeF92OV9wcm9ncmFtX3NoX21lbV9zZXR0aW5ncyhzdHJ1
Y3Qga2dkX2RldiAqa2dkLCB1aW50MzJfdCB2bWlkLAorCQl1aW50MzJfdCBzaF9tZW1fY29uZmln
LAorCQl1aW50MzJfdCBzaF9tZW1fYXBlMV9iYXNlLCB1aW50MzJfdCBzaF9tZW1fYXBlMV9saW1p
dCwKKwkJdWludDMyX3Qgc2hfbWVtX2Jhc2VzKTsKK2ludCBrZ2RfZ2Z4X3Y5X3NldF9wYXNpZF92
bWlkX21hcHBpbmcoc3RydWN0IGtnZF9kZXYgKmtnZCwgdW5zaWduZWQgaW50IHBhc2lkLAorCQl1
bnNpZ25lZCBpbnQgdm1pZCk7CitpbnQga2dkX2dmeF92OV9pbml0X2ludGVycnVwdHMoc3RydWN0
IGtnZF9kZXYgKmtnZCwgdWludDMyX3QgcGlwZV9pZCk7CitpbnQga2dkX2dmeF92OV9ocWRfbG9h
ZChzdHJ1Y3Qga2dkX2RldiAqa2dkLCB2b2lkICptcWQsIHVpbnQzMl90IHBpcGVfaWQsCisJCQl1
aW50MzJfdCBxdWV1ZV9pZCwgdWludDMyX3QgX191c2VyICp3cHRyLAorCQkJdWludDMyX3Qgd3B0
cl9zaGlmdCwgdWludDMyX3Qgd3B0cl9tYXNrLAorCQkJc3RydWN0IG1tX3N0cnVjdCAqbW0pOwor
aW50IGtnZF9nZnhfdjlfaHFkX2R1bXAoc3RydWN0IGtnZF9kZXYgKmtnZCwKKwkJCXVpbnQzMl90
IHBpcGVfaWQsIHVpbnQzMl90IHF1ZXVlX2lkLAorCQkJdWludDMyX3QgKCoqZHVtcClbMl0sIHVp
bnQzMl90ICpuX3JlZ3MpOworYm9vbCBrZ2RfZ2Z4X3Y5X2hxZF9pc19vY2N1cGllZChzdHJ1Y3Qg
a2dkX2RldiAqa2dkLCB1aW50NjRfdCBxdWV1ZV9hZGRyZXNzLAorCQl1aW50MzJfdCBwaXBlX2lk
LCB1aW50MzJfdCBxdWV1ZV9pZCk7CitpbnQga2dkX2dmeF92OV9ocWRfZGVzdHJveShzdHJ1Y3Qg
a2dkX2RldiAqa2dkLCB2b2lkICptcWQsCisJCQkJZW51bSBrZmRfcHJlZW1wdF90eXBlIHJlc2V0
X3R5cGUsCisJCQkJdW5zaWduZWQgaW50IHV0aW1lb3V0LCB1aW50MzJfdCBwaXBlX2lkLAorCQkJ
CXVpbnQzMl90IHF1ZXVlX2lkKTsKK2ludCBrZ2RfZ2Z4X3Y5X2FkZHJlc3Nfd2F0Y2hfZGlzYWJs
ZShzdHJ1Y3Qga2dkX2RldiAqa2dkKTsKK2ludCBrZ2RfZ2Z4X3Y5X2FkZHJlc3Nfd2F0Y2hfZXhl
Y3V0ZShzdHJ1Y3Qga2dkX2RldiAqa2dkLAorCQkJCQl1bnNpZ25lZCBpbnQgd2F0Y2hfcG9pbnRf
aWQsCisJCQkJCXVpbnQzMl90IGNudGxfdmFsLAorCQkJCQl1aW50MzJfdCBhZGRyX2hpLAorCQkJ
CQl1aW50MzJfdCBhZGRyX2xvKTsKK2ludCBrZ2RfZ2Z4X3Y5X3dhdmVfY29udHJvbF9leGVjdXRl
KHN0cnVjdCBrZ2RfZGV2ICprZ2QsCisJCQkJCXVpbnQzMl90IGdmeF9pbmRleF92YWwsCisJCQkJ
CXVpbnQzMl90IHNxX2NtZCk7Cit1aW50MzJfdCBrZ2RfZ2Z4X3Y5X2FkZHJlc3Nfd2F0Y2hfZ2V0
X29mZnNldChzdHJ1Y3Qga2dkX2RldiAqa2dkLAorCQkJCQl1bnNpZ25lZCBpbnQgd2F0Y2hfcG9p
bnRfaWQsCisJCQkJCXVuc2lnbmVkIGludCByZWdfb2Zmc2V0KTsKKwordWludDMyX3Qga2dkX2dm
eF92OV9lbmFibGVfZGVidWdfdHJhcChzdHJ1Y3Qga2dkX2RldiAqa2dkLAorCQkJCXVpbnQzMl90
IHRyYXBfZGVidWdfd2F2ZV9sYXVuY2hfbW9kZSwKKwkJCQl1aW50MzJfdCB2bWlkKTsKK3VpbnQz
Ml90IGtnZF9nZnhfdjlfZGlzYWJsZV9kZWJ1Z190cmFwKHN0cnVjdCBrZ2RfZGV2ICprZ2QpOwor
dWludDMyX3Qga2dkX2dmeF92OV9zZXRfZGVidWdfdHJhcF9kYXRhKHN0cnVjdCBrZ2RfZGV2ICpr
Z2QsCisJCQkJCWludCB0cmFwX2RhdGEwLAorCQkJCQlpbnQgdHJhcF9kYXRhMSk7Cit1aW50MzJf
dCBrZ2RfZ2Z4X3Y5X3NldF93YXZlX2xhdW5jaF90cmFwX292ZXJyaWRlKHN0cnVjdCBrZ2RfZGV2
ICprZ2QsCisJCQkJCQl1aW50MzJfdCB0cmFwX292ZXJyaWRlLAorCQkJCQkJdWludDMyX3QgdHJh
cF9tYXNrKTsKK3VpbnQzMl90IGtnZF9nZnhfdjlfc2V0X3dhdmVfbGF1bmNoX21vZGUoc3RydWN0
IGtnZF9kZXYgKmtnZCwKKwkJCQkJdWludDhfdCB3YXZlX2xhdW5jaF9tb2RlLAorCQkJCQl1aW50
MzJfdCB2bWlkKTsKKworYm9vbCBrZ2RfZ2Z4X3Y5X2dldF9hdGNfdm1pZF9wYXNpZF9tYXBwaW5n
X3ZhbGlkKHN0cnVjdCBrZ2RfZGV2ICprZ2QsCisJCXVpbnQ4X3Qgdm1pZCk7Cit1aW50MTZfdCBr
Z2RfZ2Z4X3Y5X2dldF9hdGNfdm1pZF9wYXNpZF9tYXBwaW5nX3Bhc2lkKHN0cnVjdCBrZ2RfZGV2
ICprZ2QsCisJCXVpbnQ4X3Qgdm1pZCk7Cit2b2lkIGtnZF9nZnhfdjlfc2V0X3ZtX2NvbnRleHRf
cGFnZV90YWJsZV9iYXNlKHN0cnVjdCBrZ2RfZGV2ICprZ2QsIHVpbnQzMl90IHZtaWQsCisJCXVp
bnQ2NF90IHBhZ2VfdGFibGVfYmFzZSk7Cit2b2lkIGtnZF9nZnhfdjlfc2V0X3NjcmF0Y2hfYmFj
a2luZ192YShzdHJ1Y3Qga2dkX2RldiAqa2dkLAorCQkJCQl1aW50NjRfdCB2YSwgdWludDMyX3Qg
dm1pZCk7CitpbnQga2dkX2dmeF92OV9pbnZhbGlkYXRlX3RsYnMoc3RydWN0IGtnZF9kZXYgKmtn
ZCwgdWludDE2X3QgcGFzaWQpOworaW50IGtnZF9nZnhfdjlfaW52YWxpZGF0ZV90bGJzX3ZtaWQo
c3RydWN0IGtnZF9kZXYgKmtnZCwgdWludDE2X3Qgdm1pZCk7CitpbnQga2dkX2dmeF92OV9nZXRf
dGlsZV9jb25maWcoc3RydWN0IGtnZF9kZXYgKmtnZCwKKwkJc3RydWN0IHRpbGVfY29uZmlnICpj
b25maWcpOwotLSAKMi4yMC4xCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9w
Lm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1n
Zng=
