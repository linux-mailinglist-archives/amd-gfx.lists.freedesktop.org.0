Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 948CDEFADB
	for <lists+amd-gfx@lfdr.de>; Tue,  5 Nov 2019 11:21:21 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1E2526E9B3;
	Tue,  5 Nov 2019 10:21:20 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM03-DM3-obe.outbound.protection.outlook.com
 (mail-eopbgr800058.outbound.protection.outlook.com [40.107.80.58])
 by gabe.freedesktop.org (Postfix) with ESMTPS id F136C6E9B3
 for <amd-gfx@lists.freedesktop.org>; Tue,  5 Nov 2019 10:21:17 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=Ym3QOBHkeUx291dAEugnQfs3O7ywLERhcIAwWvZuguGaD/ljUwATVSqwXQD2wJOBCT1//0GpE1dNGqugAfTZ640bS52wJdAlHXrKeIolW3C6pINXNUjtOnpDuN2nD7yOVDYda0ih7woP1w45TukUT6Jy+byQnSArX1JpANIagSDPnlFGTT91LnIw13y+VxPtkJP9RU/UaYziAsZSW7MdMSnvXPz5LlPvQP20NwUrCyNFmLyhMgp6qRI9awf5VEN1tOyfCB4nByBDEVdg5IN/K6WU/cvHYqPb1Vts/KfgwsN37A/BdcPxKY+6mfIYkEVm9N5iLHW/j9lcgpkZ5xrLyw==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=e/kWZZ28G6FPCmMSClBOYFg34gwQc5OaL0Mc8VlETtM=;
 b=Kj79x0OYcbMBhPUnVTOAVSuJ5YP+TB+8uhUB7kkQJWuZ7TPcn3DMdCZHVsYvwXa4gqDsdQHkYi+fLNecbV75N3lzopv7BLqYaZkVjB5HwYjAOuw+7nXU/uvJLuHjESmoauZlOexnXUeAu8C936Bat9+oZrS+PboorMgPea2i3CC2SAwiekPSbWPn8mS5O0NSvrP5vEvDmVoxr+5SJXb6bGnsrpkWx6WJcWi5fQA24P65OwY02JOjTQpgWoyeOOkyZCBJjbp/LlBJ2rNcnenqpuf6lw7t+RQMU3FYV88Vjn+fJvvd078ZAnlYHBLNiNnfLGGROEx2z9jhSDhfE7OX7A==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from MN2PR12MB2896.namprd12.prod.outlook.com (20.179.80.214) by
 MN2PR12MB3200.namprd12.prod.outlook.com (20.179.82.150) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2430.20; Tue, 5 Nov 2019 10:21:16 +0000
Received: from MN2PR12MB2896.namprd12.prod.outlook.com
 ([fe80::9973:de2e:58b4:282a]) by MN2PR12MB2896.namprd12.prod.outlook.com
 ([fe80::9973:de2e:58b4:282a%7]) with mapi id 15.20.2408.024; Tue, 5 Nov 2019
 10:21:16 +0000
From: "Zhu, Changfeng" <Changfeng.Zhu@amd.com>
To: "Koenig, Christian" <Christian.Koenig@amd.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>, "Tuikov,
 Luben" <Luben.Tuikov@amd.com>, "Huang, Ray" <Ray.Huang@amd.com>, "Huang,
 Shimmer" <Xinmei.Huang@amd.com>
Subject: RE: [PATCH] drm/amdgpu: add dummy read by engines for some GCVM
 status registers
Thread-Topic: [PATCH] drm/amdgpu: add dummy read by engines for some GCVM
 status registers
Thread-Index: AQHVk6LYILHuIniMyk+NMjNGBGRSLad8SziAgAASBoA=
Date: Tue, 5 Nov 2019 10:21:15 +0000
Message-ID: <MN2PR12MB2896229161BE3B28B8189690FD7E0@MN2PR12MB2896.namprd12.prod.outlook.com>
References: <20191105063228.28185-1-changfeng.zhu@amd.com>
 <ee976d12-bed0-a3b2-92da-2c8d63cdf90a@amd.com>
In-Reply-To: <ee976d12-bed0-a3b2-92da-2c8d63cdf90a@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-ht: Tenant
x-ms-office365-filtering-correlation-id: fb31dc9c-4072-4345-4638-08d761d9e460
x-ms-traffictypediagnostic: MN2PR12MB3200:
x-ms-exchange-purlcount: 1
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <MN2PR12MB32007AC60E6BCF777C53CDAFFD7E0@MN2PR12MB3200.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:4502;
x-forefront-prvs: 0212BDE3BE
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(346002)(376002)(136003)(396003)(366004)(39860400002)(199004)(189003)(13464003)(476003)(6636002)(186003)(256004)(14444005)(7736002)(66066001)(81166006)(81156014)(305945005)(33656002)(74316002)(99286004)(71190400001)(8936002)(71200400001)(486006)(446003)(86362001)(11346002)(25786009)(478600001)(6246003)(76176011)(76116006)(316002)(2906002)(66556008)(66476007)(66446008)(110136005)(2501003)(66946007)(966005)(64756008)(6506007)(6306002)(5660300002)(55016002)(9686003)(14454004)(7696005)(3846002)(6116002)(6436002)(52536014)(8676002)(26005)(229853002)(53546011)(102836004);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MN2PR12MB3200;
 H:MN2PR12MB2896.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: PctPU+BhxkH+5sekwLsKcKPrAbI3NkcvBXV2teL9wSDzdwSdGHdoyZ6h4I+01hfGM3v3ARLfStJbIpgyAuU4Tx3FvJSaFnG0S1ApT1pSm1DO7u3xDTaNUefMqDA1S20dHhsR7SPeHqblRi5NS88b8Jc9tC59wrRif8lv/j1pzqilV6IolOwbQeZLp94nEi1+F0kUwwSwYu5+T/b6skwZWsOqirxVwf+5o/NHTEW+1AGVZ0dwhZtlCuwQwCXM/mwMjN6ih9SCb8/+hX98blhOXE18hAbRDpStszXw5OdtKZ+aNEXU5VENRwtLFadaNZ6GejAh2N3GrSQWqNh9vQ8dW/bJYqtjJDOJwQntW7TTh7YW7e1MpwaoKeKNGZ00rCvemORtAKnHDMLAyeCHV+4s1O5+6MK38Gjx4QS6Ergmm0dbLhoC+KrU/nqgy70l32DDEUD+yh4mY5hHyUxMiTNkWvmz8e4L60WcVLLakZ6IS34=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: fb31dc9c-4072-4345-4638-08d761d9e460
X-MS-Exchange-CrossTenant-originalarrivaltime: 05 Nov 2019 10:21:16.1547 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: ebB2SXqfOsEFOrM0n8yqcVlni8h1OewP68MQn4XYXbB5/aUBTrySQ0jj1rUkCs9IHhUqphgFNDs/2owxyh2K1Q==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB3200
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=e/kWZZ28G6FPCmMSClBOYFg34gwQc5OaL0Mc8VlETtM=;
 b=cUMhkYyyMbgvU1UN29P+kT2o8UAd82EeW3pr+Zjxf/V28xz27rqe0kVtutxDtySFsuOCiE4F5chAVpdLcdL8SkhSl7BWgOvMPL53RJD4+sk2YFu91x7y2i6TepY0Qw2rdWfyLI4maiNcZagp75IvVWiSCDx2OQ3kqgCow59G5n8=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Changfeng.Zhu@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

SGkgQ2hyaXMsDQoNCk1heWJlIGl0J3MgYmV0dGVyIHRvIHVzZSBhbWRncHVfcmluZ19lbWl0X3Jl
Z193YWl0KHJpbmcsIHJlZzAsIDAsIDApOyB0byByZXBsYWNlDQphbWRncHVfcmluZ19lbWl0X3Jl
Z193YWl0KHJpbmcsIHJlZzEsIDAsIDApOyA/DQoNCmh0dHA6Ly9vbnRyYWNrLWludGVybmFsLmFt
ZC5jb20vYnJvd3NlL1NXREVWLTE5MjY2MA0KSmlyYSB0aWNrZXQgcmVjb21tZW5kcyB0byByZWFk
IFZNX0lOVkFMSURBVEVfRU5HKl9SRVEuDQoNCkJSLA0KQ2hhbmdmZW5nLg0KDQotLS0tLU9yaWdp
bmFsIE1lc3NhZ2UtLS0tLQ0KRnJvbTogS29lbmlnLCBDaHJpc3RpYW4gPENocmlzdGlhbi5Lb2Vu
aWdAYW1kLmNvbT4gDQpTZW50OiBUdWVzZGF5LCBOb3ZlbWJlciA1LCAyMDE5IDU6MTMgUE0NClRv
OiBaaHUsIENoYW5nZmVuZyA8Q2hhbmdmZW5nLlpodUBhbWQuY29tPjsgYW1kLWdmeEBsaXN0cy5m
cmVlZGVza3RvcC5vcmc7IFR1aWtvdiwgTHViZW4gPEx1YmVuLlR1aWtvdkBhbWQuY29tPjsgSHVh
bmcsIFJheSA8UmF5Lkh1YW5nQGFtZC5jb20+OyBIdWFuZywgU2hpbW1lciA8WGlubWVpLkh1YW5n
QGFtZC5jb20+DQpTdWJqZWN0OiBSZTogW1BBVENIXSBkcm0vYW1kZ3B1OiBhZGQgZHVtbXkgcmVh
ZCBieSBlbmdpbmVzIGZvciBzb21lIEdDVk0gc3RhdHVzIHJlZ2lzdGVycw0KDQpBbSAwNS4xMS4x
OSB1bSAwNzozMiBzY2hyaWViIFpodSwgQ2hhbmdmZW5nOg0KPiBGcm9tOiBjaGFuZ3podSA8Q2hh
bmdmZW5nLlpodUBhbWQuY29tPg0KPg0KPiBUaGUgR1JCTSByZWdpc3RlciBpbnRlcmZhY2UgaXMg
bm93IGNhcGFibGUgb2YgYnVyc3RpbmcgMSBjeWNsZSBwZXIgDQo+IHJlZ2lzdGVyIHdyLT53ciwg
d3ItPnJkIG11Y2ggZmFzdGVyIHRoYW4gcHJldmlvdXMgbXV0aWN5Y2xlIHBlciANCj4gdHJhbnNh
Y3Rpb24gZG9uZSBpbnRlcmZhY2UuICBUaGlzIGhhcyBjYXVzZWQgYSBwcm9ibGVtIHdoZXJlIHN0
YXR1cyANCj4gcmVnaXN0ZXJzIHJlcXVpcmluZyBIVyB0byB1cGRhdGUgaGF2ZSBhIDEgY3ljbGUg
ZGVsYXksIGR1ZSB0byB0aGUgDQo+IHJlZ2lzdGVyIHVwZGF0ZSBoYXZpbmcgdG8gZ28gdGhyb3Vn
aCBHUkJNLg0KPg0KPiBGb3IgY3AgdWNvZGUsIGl0IGhhcyByZWFsaXplZCBkdW1teSByZWFkIGlu
IGNwIGZpcm13YXJlLkl0IGNvdmVycyB0aGUgDQo+IHVzZSBvZiBXQUlUX1JFR19NRU0gb3BlcmF0
aW9uIDEgY2FzZSBvbmx5LlNvIGl0IG5lZWRzIHRvIGNhbGwgDQo+IGdmeF92MTBfMF93YWl0X3Jl
Z19tZW0gaW4gZ2Z4MTAuIEJlc2lkZXMgaXQgYWxzbyBuZWVkcyB0byBhZGQgd2FybmluZyANCj4g
dG8gdXBkYXRlIGZpcm13YXJlIGluIGNhc2UgZmlybXdhcmUgaXMgdG9vIG9sZCB0byBoYXZlIGZ1
bmN0aW9uIHRvIA0KPiByZWFsaXplIGR1bW15IHJlYWQgaW4gY3AgZmlybXdhcmUuDQo+DQo+IEZv
ciBzZG1hIHVjb2RlLCBpdCBoYXNuJ3QgcmVhbGl6ZWQgZHVtbXkgcmVhZCBpbiBzZG1hIGZpcm13
YXJlLiBzZG1hIA0KPiBpcyBtb3ZlZCB0byBnZnhodWIgaW4gZ2Z4MTAuIFNvIGl0IG5lZWRzIHRv
IGFkZCBkdW1teSByZWFkIGluIGRyaXZlciANCj4gYmV0d2VlbiBhbWRncHVfcmluZ19lbWl0X3dy
ZWcgYW5kIGFtZGdwdV9yaW5nX2VtaXRfcmVnX3dhaXQgZm9yIHNkbWFfdjVfMC4NCg0KRmlyc3Qg
b2YgYWxsIHRoYW5rcyBmb3IgZ2V0dGluZyB5b3VyIGVudmlyb25tZW50IHNldHVwIHByb3Blcmx5
LCB3ZSBhcmUgZmluYWxseSBtYWtpbmcgcHJvZ3Jlc3Mgd2l0aCB0aGF0IGlzc3VlLg0KDQpBIGJ1
bmNoIG9mIG5pY2UgdG8gaGF2ZSBjb21tZW50cyBiZWxvdyBhbmQgdHdvIG1ham9yIGJ1Z3MvdHlw
b3Mgd2hpY2ggcmVhbGx5IG5lZWRzIHRvIGJlIGZpeGVkLg0KDQo+DQo+IENoYW5nZS1JZDogSWUw
MjhmMzdlYjc4OTk2NmQ0NTkzOTg0YmQ2NjFiMjQ4ZWJlYjFhYzMNCj4gU2lnbmVkLW9mZi1ieTog
Y2hhbmd6aHUgPENoYW5nZmVuZy5aaHVAYW1kLmNvbT4NCj4gLS0tDQo+ICAgZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dmeC5oIHwgIDEgKw0KPiAgIGRyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2dmeF92MTBfMC5jICB8IDUwICsrKysrKysrKysrKysrKysrKysrKysrKysNCj4g
ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjlfMC5jICAgfCAgNyArKysrDQo+ICAg
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3YxMF8wLmMgIHwgIDggKystLQ0KPiAgIGRy
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjVfMC5jICB8IDEzICsrKysrKy0NCj4gICA1
IGZpbGVzIGNoYW5nZWQsIDczIGluc2VydGlvbnMoKyksIDYgZGVsZXRpb25zKC0pDQo+DQo+IGRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ2Z4LmggDQo+IGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dmeC5oDQo+IGluZGV4IDQ1OWFhOTA1
OTU0Mi4uYTc0ZWNkNDQ5Nzc1IDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfZ2Z4LmgNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1k
Z3B1X2dmeC5oDQo+IEBAIC0yNjcsNiArMjY3LDcgQEAgc3RydWN0IGFtZGdwdV9nZnggew0KPiAg
IAl1aW50MzJfdAkJCW1lYzJfZmVhdHVyZV92ZXJzaW9uOw0KPiAgIAlib29sCQkJCW1lY19md193
cml0ZV93YWl0Ow0KPiAgIAlib29sCQkJCW1lX2Z3X3dyaXRlX3dhaXQ7DQo+ICsJYm9vbAkJCQlj
cF9md193cml0ZV93YWl0Ow0KPiAgIAlzdHJ1Y3QgYW1kZ3B1X3JpbmcJCWdmeF9yaW5nW0FNREdQ
VV9NQVhfR0ZYX1JJTkdTXTsNCj4gICAJdW5zaWduZWQJCQludW1fZ2Z4X3JpbmdzOw0KPiAgIAlz
dHJ1Y3QgYW1kZ3B1X3JpbmcJCWNvbXB1dGVfcmluZ1tBTURHUFVfTUFYX0NPTVBVVEVfUklOR1Nd
Ow0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3YxMF8wLmMg
DQo+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3YxMF8wLmMNCj4gaW5kZXggMTdh
NWNiZmQwMDI0Li44MTQ3NjQ3MjNjMjYgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2dmeF92MTBfMC5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2dmeF92MTBfMC5jDQo+IEBAIC01NjEsNiArNTYxLDMyIEBAIHN0YXRpYyB2b2lkIGdmeF92MTBf
MF9mcmVlX21pY3JvY29kZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCj4gICAJa2ZyZWUo
YWRldi0+Z2Z4LnJsYy5yZWdpc3Rlcl9saXN0X2Zvcm1hdCk7DQo+ICAgfQ0KPiAgIA0KPiArc3Rh
dGljIHZvaWQgZ2Z4X3YxMF8wX2NoZWNrX2Z3X3dyaXRlX3dhaXQoc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYpIA0KPiArew0KPiArCWFkZXYtPmdmeC5jcF9md193cml0ZV93YWl0ID0gZmFsc2U7
DQo+ICsNCj4gKwlzd2l0Y2ggKGFkZXYtPmFzaWNfdHlwZSkgew0KPiArCWNhc2UgQ0hJUF9OQVZJ
MTA6DQo+ICsJY2FzZSBDSElQX05BVkkxMjoNCj4gKwljYXNlIENISVBfTkFWSTE0Og0KPiArCQlp
ZiAoKGFkZXYtPmdmeC5tZV9md192ZXJzaW9uID49IDB4MDAwMDAwNDYpICYmDQo+ICsJCSAgICAo
YWRldi0+Z2Z4Lm1lX2ZlYXR1cmVfdmVyc2lvbiA+PSAyNykgJiYNCj4gKwkJICAgIChhZGV2LT5n
ZngucGZwX2Z3X3ZlcnNpb24gPj0gMHgwMDAwMDA2OCkgJiYNCj4gKwkJICAgIChhZGV2LT5nZngu
cGZwX2ZlYXR1cmVfdmVyc2lvbiA+PSAyNykgJiYNCj4gKwkJICAgIChhZGV2LT5nZngubWVjX2Z3
X3ZlcnNpb24gPj0gMHgwMDAwMDA1YikgJiYNCj4gKwkJICAgIChhZGV2LT5nZngubWVjX2ZlYXR1
cmVfdmVyc2lvbiA+PSAyNykpDQo+ICsJCQlhZGV2LT5nZnguY3BfZndfd3JpdGVfd2FpdCA9IHRy
dWU7DQo+ICsJCWJyZWFrOw0KPiArCWRlZmF1bHQ6DQo+ICsJCWJyZWFrOw0KPiArCX0NCj4gKw0K
PiArCWlmIChhZGV2LT5nZnguY3BfZndfd3JpdGVfd2FpdCA9PSBmYWxzZSkNCj4gKwkJRFJNX1dB
Uk5fT05DRSgiV2FybmluZzogY2hlY2sgY3BfZndfdmVyc2lvbiBhbmQgdXBkYXRlIGl0IHRvIHJl
YWxpemUgXA0KPiArCQkJCSAgR1JCTSByZXF1aXJlcyAxLWN5Y2xlIGRlbGF5IGluIGNwIGZpcm13
YXJlXG4iKTsgfQ0KPiArDQo+ICsNCj4gICBzdGF0aWMgdm9pZCBnZnhfdjEwXzBfaW5pdF9ybGNf
ZXh0X21pY3JvY29kZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCj4gICB7DQo+ICAgCWNv
bnN0IHN0cnVjdCBybGNfZmlybXdhcmVfaGVhZGVyX3YyXzEgKnJsY19oZHI7IEBAIC00NzY4LDYg
KzQ3OTQsMjggDQo+IEBAIHN0YXRpYyB2b2lkIGdmeF92MTBfMF9yaW5nX2VtaXRfcmVnX3dhaXQo
c3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLCB1aW50MzJfdCByZWcsDQo+ICAgCWdmeF92MTBfMF93
YWl0X3JlZ19tZW0ocmluZywgMCwgMCwgMCwgcmVnLCAwLCB2YWwsIG1hc2ssIDB4MjApOw0KPiAg
IH0NCj4gICANCj4gK3N0YXRpYyB2b2lkIGdmeF92MTBfMF9yaW5nX2VtaXRfcmVnX3dyaXRlX3Jl
Z193YWl0KHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywNCj4gKwkJCQkJCSAgdWludDMyX3QgcmVn
MCwgdWludDMyX3QgcmVnMSwNCj4gKwkJCQkJCSAgdWludDMyX3QgcmVmLCB1aW50MzJfdCBtYXNr
KQ0KPiArew0KPiArCWludCB1c2VwZnAgPSAocmluZy0+ZnVuY3MtPnR5cGUgPT0gQU1ER1BVX1JJ
TkdfVFlQRV9HRlgpOw0KPiArCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gcmluZy0+YWRl
djsNCj4gKwlib29sIGZ3X3ZlcnNpb25fb2sgPSBmYWxzZTsNCj4gKw0KPiArCWdmeF92MTBfMF9j
aGVja19md193cml0ZV93YWl0KGFkZXYpOw0KPiArDQo+ICsJaWYgKHJpbmctPmZ1bmNzLT50eXBl
ID09IEFNREdQVV9SSU5HX1RZUEVfR0ZYIHx8DQo+ICsJCXJpbmctPmZ1bmNzLT50eXBlID09IEFN
REdQVV9SSU5HX1RZUEVfQ09NUFVURSkNCg0KVGhhdCBjaGVjayBpcyBwcm9iYWJseSBzdXBlcmZs
dW91cy4gQSBmZXcgbGluZXMgYmVsb3cgeW91IGFyZSB1c2luZyB0aGUgZnVuY3Rpb24gaW4gdGhl
IGdmeF92MTBfMF9yaW5nX2Z1bmNzX2dmeCBhbmQgZ2Z4X3YxMF8wX3JpbmdfZnVuY3NfY29tcHV0
ZSwgc28gdGhlIHJpbmctPmZ1bmNzLT50eXBlIGlzIGFsd2F5cyBjb25zdGFudC4NCg0KPiArCQlm
d192ZXJzaW9uX29rID0gYWRldi0+Z2Z4LmNwX2Z3X3dyaXRlX3dhaXQ7DQo+ICsNCj4gKwlpZiAo
ZndfdmVyc2lvbl9vaykNCj4gKwkJZ2Z4X3YxMF8wX3dhaXRfcmVnX21lbShyaW5nLCB1c2VwZnAs
IDAsIDEsIHJlZzAsIHJlZzEsDQo+ICsJCQkJICAgICAgcmVmLCBtYXNrLCAweDIwKTsNCj4gKwll
bHNlDQo+ICsJCWFtZGdwdV9yaW5nX2VtaXRfcmVnX3dyaXRlX3JlZ193YWl0X2hlbHBlcihyaW5n
LCByZWcwLCByZWcxLA0KPiArCQkJCQkJCSAgIHJlZiwgbWFzayk7DQo+ICt9DQo+ICsNCj4gICBz
dGF0aWMgdm9pZA0KPiAgIGdmeF92MTBfMF9zZXRfZ2Z4X2VvcF9pbnRlcnJ1cHRfc3RhdGUoc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ICAgCQkJCSAgICAgIHVpbnQzMl90IG1lLCB1aW50
MzJfdCBwaXBlLCBAQCAtNTE1OCw2ICs1MjA2LDcgQEAgc3RhdGljIA0KPiBjb25zdCBzdHJ1Y3Qg
YW1kZ3B1X3JpbmdfZnVuY3MgZ2Z4X3YxMF8wX3JpbmdfZnVuY3NfZ2Z4ID0gew0KPiAgIAkuZW1p
dF90bXogPSBnZnhfdjEwXzBfcmluZ19lbWl0X3RteiwNCj4gICAJLmVtaXRfd3JlZyA9IGdmeF92
MTBfMF9yaW5nX2VtaXRfd3JlZywNCj4gICAJLmVtaXRfcmVnX3dhaXQgPSBnZnhfdjEwXzBfcmlu
Z19lbWl0X3JlZ193YWl0LA0KPiArCS5lbWl0X3JlZ193cml0ZV9yZWdfd2FpdCA9IGdmeF92MTBf
MF9yaW5nX2VtaXRfcmVnX3dyaXRlX3JlZ193YWl0LA0KPiAgIH07DQo+ICAgDQo+ICAgc3RhdGlj
IGNvbnN0IHN0cnVjdCBhbWRncHVfcmluZ19mdW5jcyBnZnhfdjEwXzBfcmluZ19mdW5jc19jb21w
dXRlID0gDQo+IHsgQEAgLTUxOTEsNiArNTI0MCw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgYW1k
Z3B1X3JpbmdfZnVuY3MgZ2Z4X3YxMF8wX3JpbmdfZnVuY3NfY29tcHV0ZSA9IHsNCj4gICAJLnBh
ZF9pYiA9IGFtZGdwdV9yaW5nX2dlbmVyaWNfcGFkX2liLA0KPiAgIAkuZW1pdF93cmVnID0gZ2Z4
X3YxMF8wX3JpbmdfZW1pdF93cmVnLA0KPiAgIAkuZW1pdF9yZWdfd2FpdCA9IGdmeF92MTBfMF9y
aW5nX2VtaXRfcmVnX3dhaXQsDQo+ICsJLmVtaXRfcmVnX3dyaXRlX3JlZ193YWl0ID0gZ2Z4X3Yx
MF8wX3JpbmdfZW1pdF9yZWdfd3JpdGVfcmVnX3dhaXQsDQo+ICAgfTsNCj4gICANCj4gICBzdGF0
aWMgY29uc3Qgc3RydWN0IGFtZGdwdV9yaW5nX2Z1bmNzIGdmeF92MTBfMF9yaW5nX2Z1bmNzX2tp
cSA9IHsgDQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjlf
MC5jIA0KPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92OV8wLmMNCj4gaW5kZXgg
OWQ1ZjkwMGUzZTFjLi5mNTJmY2I4OTVkNTEgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2dmeF92OV8wLmMNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvZ2Z4X3Y5XzAuYw0KPiBAQCAtOTgyLDYgKzk4MiwxMyBAQCBzdGF0aWMgdm9pZCBnZnhfdjlf
MF9jaGVja19md193cml0ZV93YWl0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQ0KPiAgIAlh
ZGV2LT5nZngubWVfZndfd3JpdGVfd2FpdCA9IGZhbHNlOw0KPiAgIAlhZGV2LT5nZngubWVjX2Z3
X3dyaXRlX3dhaXQgPSBmYWxzZTsNCj4gICANCj4gKwlpZiAoKGFkZXYtPmdmeC5tZWNfZndfdmVy
c2lvbiA8IDB4MDAwMDAxYTUpIHx8DQo+ICsJICAgIChhZGV2LT5nZngubWVjX2ZlYXR1cmVfdmVy
c2lvbiA8IDQ2KSB8fA0KPiArCSAgICAoYWRldi0+Z2Z4LnBmcF9md192ZXJzaW9uIDwgMHgwMDAw
MDBiNykgfHwNCj4gKwkgICAgKGFkZXYtPmdmeC5wZnBfZmVhdHVyZV92ZXJzaW9uIDwgNDYpKQ0K
PiArCQlEUk1fV0FSTl9PTkNFKCJXYXJuaW5nOiBjaGVjayBjcF9md192ZXJzaW9uIGFuZCB1cGRh
dGUgaXQgdG8gcmVhbGl6ZSBcDQo+ICsJCQkJCSAgIEdSQk0gcmVxdWlyZXMgMS1jeWNsZSBkZWxh
eSBpbiBjcCBmaXJtd2FyZVxuIik7DQo+ICsNCg0KTm90IGEgaGFyZCByZXF1aXJlbWVudCwgYnV0
IGl0IHdvdWxkIGJlIG5pY2UgdG8gaGF2ZSB0aGlzIGluIGEgc2VwYXJhdGUgcGF0Y2guIFNvIHRo
YXQgZ2Z4OSBhbmQgZ2Z4MTAgY2hhbmdlcyBhcmUgY2xlYXJseSBzZXBhcmF0ZWQuDQoNCj4gICAJ
c3dpdGNoIChhZGV2LT5hc2ljX3R5cGUpIHsNCj4gICAJY2FzZSBDSElQX1ZFR0ExMDoNCj4gICAJ
CWlmICgoYWRldi0+Z2Z4Lm1lX2Z3X3ZlcnNpb24gPj0gMHgwMDAwMDA5YykgJiYgZGlmZiAtLWdp
dCANCj4gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjEwXzAuYyANCj4gYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjEwXzAuYw0KPiBpbmRleCAzYjAwYmNlMTRjZmIu
LjlmZjNlYzE1MzFlZCAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
Z21jX3YxMF8wLmMNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3YxMF8w
LmMNCj4gQEAgLTM0NCwxMSArMzQ0LDkgQEAgc3RhdGljIHVpbnQ2NF90IGdtY192MTBfMF9lbWl0
X2ZsdXNoX2dwdV90bGIoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLA0KPiAgIAlhbWRncHVfcmlu
Z19lbWl0X3dyZWcocmluZywgaHViLT5jdHgwX3B0Yl9hZGRyX2hpMzIgKyAoMiAqIHZtaWQpLA0K
PiAgIAkJCSAgICAgIHVwcGVyXzMyX2JpdHMocGRfYWRkcikpOw0KPiAgIA0KPiAtCWFtZGdwdV9y
aW5nX2VtaXRfd3JlZyhyaW5nLCBodWItPnZtX2ludl9lbmcwX3JlcSArIGVuZywgcmVxKTsNCj4g
LQ0KPiAtCS8qIHdhaXQgZm9yIHRoZSBpbnZhbGlkYXRlIHRvIGNvbXBsZXRlICovDQo+IC0JYW1k
Z3B1X3JpbmdfZW1pdF9yZWdfd2FpdChyaW5nLCBodWItPnZtX2ludl9lbmcwX2FjayArIGVuZywN
Cj4gLQkJCQkgIDEgPDwgdm1pZCwgMSA8PCB2bWlkKTsNCj4gKwlhbWRncHVfcmluZ19lbWl0X3Jl
Z193cml0ZV9yZWdfd2FpdChyaW5nLCBodWItPnZtX2ludl9lbmcwX3JlcSArIGVuZywNCj4gKwkJ
CQkJCWh1Yi0+dm1faW52X2VuZzBfYWNrLA0KDQpUaGF0IHJlZ2lzdGVyIG9mZnNldCBpcyB3cm9u
ZyEgVGhpcyBuZWVkcyB0byBiZSAiaHViLT52bV9pbnZfZW5nMF9hY2sgKyBlbmciLg0KDQo+ICsJ
CQkJCQlyZXEsIDEgPDwgdm1pZCk7DQo+ICAgDQo+ICAgCXJldHVybiBwZF9hZGRyOw0KPiAgIH0N
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjVfMC5jIA0K
PiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjVfMC5jDQo+IGluZGV4IDM0NjBj
MDBmM2VhYS4uNGNmOGUzZDIzYzYwIDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9zZG1hX3Y1XzAuYw0KPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9z
ZG1hX3Y1XzAuYw0KPiBAQCAtMTE3MCw2ICsxMTcwLDE2IEBAIHN0YXRpYyB2b2lkIHNkbWFfdjVf
MF9yaW5nX2VtaXRfcmVnX3dhaXQoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLCB1aW50MzJfdCBy
ZWcsDQo+ICAgCQkJICBTRE1BX1BLVF9QT0xMX1JFR01FTV9EVzVfSU5URVJWQUwoMTApKTsNCj4g
ICB9DQo+ICAgDQo+ICtzdGF0aWMgdm9pZCBzZG1hX3Y1XzBfcmluZ19lbWl0X3JlZ193cml0ZV9y
ZWdfd2FpdChzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsDQo+ICsJCQkJCQkJCQkJCQkgdWludDMy
X3QgcmVnMCwgdWludDMyX3QgcmVnMSwNCj4gKwkJCQkJCQkJCQkJCSB1aW50MzJfdCByZWYsIHVp
bnQzMl90IG1hc2spIHsNCj4gKwlhbWRncHVfcmluZ19lbWl0X3dyZWcocmluZywgcmVnMCwgcmVm
KTsNCj4gKwkvKiB3YWl0IGZvciBhIGN5Y2xlIHRvIHJlc2V0IHZtX2ludl9lbmcqX2FjayAqLw0K
PiArCWFtZGdwdV9yaW5nX2VtaXRfcmVnX3dhaXQocmluZywgcmVnMCwgbWFzaywgbWFzayk7DQoN
CldlbGwsIHRoYXQncyBleGFjdGx5IHdoYXQgd29uJ3Qgd29yay4gUGxlYXNlIHVzZSB0aGUgZm9s
bG93aW5nIGluc3RlYWQ6DQoNCmFtZGdwdV9yaW5nX2VtaXRfcmVnX3dhaXQocmluZywgcmVnMSwg
MCwgMCk7DQoNClJlZ2FyZHMsDQpDaHJpc3RpYW4uDQoNCj4gKwlhbWRncHVfcmluZ19lbWl0X3Jl
Z193YWl0KHJpbmcsIHJlZzEsIG1hc2ssIG1hc2spOyB9DQo+ICsNCj4gICBzdGF0aWMgaW50IHNk
bWFfdjVfMF9lYXJseV9pbml0KHZvaWQgKmhhbmRsZSkNCj4gICB7DQo+ICAgCXN0cnVjdCBhbWRn
cHVfZGV2aWNlICphZGV2ID0gKHN0cnVjdCBhbWRncHVfZGV2aWNlICopaGFuZGxlOyBAQCANCj4g
LTE1ODUsNyArMTU5NSw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgYW1kZ3B1X3JpbmdfZnVuY3Mg
c2RtYV92NV8wX3JpbmdfZnVuY3MgPSB7DQo+ICAgCQk2ICsgLyogc2RtYV92NV8wX3JpbmdfZW1p
dF9waXBlbGluZV9zeW5jICovDQo+ICAgCQkvKiBzZG1hX3Y1XzBfcmluZ19lbWl0X3ZtX2ZsdXNo
ICovDQo+ICAgCQlTT0MxNV9GTFVTSF9HUFVfVExCX05VTV9XUkVHICogMyArDQo+IC0JCVNPQzE1
X0ZMVVNIX0dQVV9UTEJfTlVNX1JFR19XQUlUICogNiArDQo+ICsJCVNPQzE1X0ZMVVNIX0dQVV9U
TEJfTlVNX1JFR19XQUlUICogNiAqIDIgKw0KPiAgIAkJMTAgKyAxMCArIDEwLCAvKiBzZG1hX3Y1
XzBfcmluZ19lbWl0X2ZlbmNlIHgzIGZvciB1c2VyIGZlbmNlLCB2bSBmZW5jZSAqLw0KPiAgIAku
ZW1pdF9pYl9zaXplID0gNyArIDYsIC8qIHNkbWFfdjVfMF9yaW5nX2VtaXRfaWIgKi8NCj4gICAJ
LmVtaXRfaWIgPSBzZG1hX3Y1XzBfcmluZ19lbWl0X2liLA0KPiBAQCAtMTU5OSw2ICsxNjA5LDcg
QEAgc3RhdGljIGNvbnN0IHN0cnVjdCBhbWRncHVfcmluZ19mdW5jcyBzZG1hX3Y1XzBfcmluZ19m
dW5jcyA9IHsNCj4gICAJLnBhZF9pYiA9IHNkbWFfdjVfMF9yaW5nX3BhZF9pYiwNCj4gICAJLmVt
aXRfd3JlZyA9IHNkbWFfdjVfMF9yaW5nX2VtaXRfd3JlZywNCj4gICAJLmVtaXRfcmVnX3dhaXQg
PSBzZG1hX3Y1XzBfcmluZ19lbWl0X3JlZ193YWl0LA0KPiArCS5lbWl0X3JlZ193cml0ZV9yZWdf
d2FpdCA9IHNkbWFfdjVfMF9yaW5nX2VtaXRfcmVnX3dyaXRlX3JlZ193YWl0LA0KPiAgIAkuaW5p
dF9jb25kX2V4ZWMgPSBzZG1hX3Y1XzBfcmluZ19pbml0X2NvbmRfZXhlYywNCj4gICAJLnBhdGNo
X2NvbmRfZXhlYyA9IHNkbWFfdjVfMF9yaW5nX3BhdGNoX2NvbmRfZXhlYywNCj4gICAJLnByZWVt
cHRfaWIgPSBzZG1hX3Y1XzBfcmluZ19wcmVlbXB0X2liLA0KDQpfX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4
QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWls
bWFuL2xpc3RpbmZvL2FtZC1nZng=
