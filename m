Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 3BA181C1DE
	for <lists+amd-gfx@lfdr.de>; Tue, 14 May 2019 07:32:53 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 74B2989220;
	Tue, 14 May 2019 05:32:51 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM04-SN1-obe.outbound.protection.outlook.com
 (mail-eopbgr700067.outbound.protection.outlook.com [40.107.70.67])
 by gabe.freedesktop.org (Postfix) with ESMTPS id DAF2989220
 for <amd-gfx@lists.freedesktop.org>; Tue, 14 May 2019 05:32:49 +0000 (UTC)
Received: from MN2PR12MB3309.namprd12.prod.outlook.com (20.179.83.157) by
 MN2PR12MB3261.namprd12.prod.outlook.com (20.179.84.17) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1878.22; Tue, 14 May 2019 05:32:47 +0000
Received: from MN2PR12MB3309.namprd12.prod.outlook.com
 ([fe80::2918:1f51:2768:efc0]) by MN2PR12MB3309.namprd12.prod.outlook.com
 ([fe80::2918:1f51:2768:efc0%3]) with mapi id 15.20.1878.024; Tue, 14 May 2019
 05:32:46 +0000
From: "Huang, Ray" <Ray.Huang@amd.com>
To: "Quan, Evan" <Evan.Quan@amd.com>, "amd-gfx@lists.freedesktop.org"
 <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH 3/3] drm/amd/powerplay: support ppfeatures sysfs interface
 on sw smu routine
Thread-Topic: [PATCH 3/3] drm/amd/powerplay: support ppfeatures sysfs
 interface on sw smu routine
Thread-Index: AQHVCWDxCczyKxYKpkiUdAmXPNWBWqZqGfXA
Date: Tue, 14 May 2019 05:32:46 +0000
Message-ID: <MN2PR12MB3309A610E2E81494DF353DB2EC080@MN2PR12MB3309.namprd12.prod.outlook.com>
References: <20190513075302.10731-1-evan.quan@amd.com>
 <20190513075302.10731-3-evan.quan@amd.com>
In-Reply-To: <20190513075302.10731-3-evan.quan@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: c58ff97a-b533-40b3-1ff7-08d6d82d9891
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600141)(711020)(4605104)(4618075)(2017052603328)(7193020);
 SRVR:MN2PR12MB3261; 
x-ms-traffictypediagnostic: MN2PR12MB3261:
x-ms-exchange-purlcount: 1
x-microsoft-antispam-prvs: <MN2PR12MB3261BAA2AAEF3BC9CA09F258EC080@MN2PR12MB3261.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:1060;
x-forefront-prvs: 0037FD6480
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(346002)(39860400002)(366004)(136003)(396003)(376002)(13464003)(189003)(199004)(55016002)(66066001)(9686003)(76176011)(33656002)(99286004)(4326008)(7736002)(6306002)(305945005)(25786009)(8936002)(26005)(81156014)(8676002)(81166006)(68736007)(186003)(71200400001)(6436002)(229853002)(7696005)(256004)(71190400001)(2906002)(6116002)(478600001)(76116006)(66556008)(5660300002)(3846002)(2501003)(72206003)(966005)(74316002)(52536014)(53936002)(110136005)(73956011)(316002)(102836004)(66476007)(64756008)(66446008)(86362001)(66946007)(11346002)(446003)(476003)(486006)(6506007)(53546011)(6246003)(14454004);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MN2PR12MB3261;
 H:MN2PR12MB3309.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: 5uAAT3qPL5JN7G+Q3kcCtWUQsKn7zRWK7dr0oJHboPSP8uRtzichHzg0iWdNBIc28zjTOV6rmeQXZ+pG+f5DM6BfYsTJgovWrrGFNee30JD+bj5af7LH+xWFRpFpCumxXQB7eGszn8C97PASgZ5pfOLUBr9KbaMSlyHU7JNcBbl6hv3QcYYcCaMquYlGE19+g4hMdBKZh6Z4l6EM5j2yRdKlMGFol3DBdd8zBtS2K02JMwulPQzIhPvBoGFjuXGqsm9eflPGalL9Uut7NyB4BNJQbRHtYpU3TumCJOKcT9wvB0jrOhZ7D5OIyfTW3mzMTzFjh0z/Ehg7VBiVyzAZqn8cEWK9ai2daooGvqaELB9AM6TpYRTkO5hAnaTw2woJEgrvuWXRL7sXrkcXEa6lCzCkZOaP36MC1pOFIlMuDsg=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: c58ff97a-b533-40b3-1ff7-08d6d82d9891
X-MS-Exchange-CrossTenant-originalarrivaltime: 14 May 2019 05:32:46.3128 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB3261
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amd-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=bEnEJFcyNbGkaO1FcgHogNcb8rx1fiNFXHRidyFGAdw=;
 b=FygUypUKu6M7Lrz1yZqXYcl9jVizaOnmaLepRDAviSDgQv0mRqQFhowb/mJnd8psN+X/EUruNHvAJDLz4/0WaEw0CVVlTzDBlZwL/fN3e//ZppJ7g+EPF8FvthESZ6iO+OGfCS61/CTu8GLpZ+z9lWAmVgX5189dWxRSdm3TB30=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Ray.Huang@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Quan, Evan" <Evan.Quan@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

DQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogYW1kLWdmeCA8YW1kLWdm
eC1ib3VuY2VzQGxpc3RzLmZyZWVkZXNrdG9wLm9yZz4gT24gQmVoYWxmIE9mIEV2YW4NCj4gUXVh
bg0KPiBTZW50OiBNb25kYXksIE1heSAxMywgMjAxOSAzOjUzIFBNDQo+IFRvOiBhbWQtZ2Z4QGxp
c3RzLmZyZWVkZXNrdG9wLm9yZw0KPiBDYzogUXVhbiwgRXZhbiA8RXZhbi5RdWFuQGFtZC5jb20+
DQo+IFN1YmplY3Q6IFtQQVRDSCAzLzNdIGRybS9hbWQvcG93ZXJwbGF5OiBzdXBwb3J0IHBwZmVh
dHVyZXMgc3lzZnMNCj4gaW50ZXJmYWNlIG9uIHN3IHNtdSByb3V0aW5lDQo+IA0KPiBTdXBwb3J0
IHBwZmVhdHVyZXMgc3lzZnMgaW50ZXJmYWNlIG9uIFZlZ2EyMCBzdyBzbXUgcm91dGluZS4NCj4g
DQo+IENoYW5nZS1JZDogSWY2N2YyZDg3ZTdkNWFhMDljZmQ2MWU4NmRhYWFhZjg4ZDVmMmY0ZGQN
Cj4gU2lnbmVkLW9mZi1ieTogRXZhbiBRdWFuIDxldmFuLnF1YW5AYW1kLmNvbT4NCg0KU2VyaWVz
IGFyZSBSZXZpZXdlZC1ieTogSHVhbmcgUnVpIDxyYXkuaHVhbmdAYW1kLmNvbT4NCg0KPiAtLS0N
Cj4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9wbS5jICAgICAgICB8ICAxMCAr
LQ0KPiAgLi4uL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvYW1kZ3B1X3NtdS5oICAgIHwgICA3
ICstDQo+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS92ZWdhMjBfcHB0LmMgICAgfCAx
NTMNCj4gKysrKysrKysrKysrKysrKysrDQo+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxh
eS92ZWdhMjBfcHB0LmggICAgfCAgNDQgKysrKysNCj4gIDQgZmlsZXMgY2hhbmdlZCwgMjExIGlu
c2VydGlvbnMoKyksIDMgZGVsZXRpb25zKC0pDQo+IA0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3BtLmMNCj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfcG0uYw0KPiBpbmRleCBiZDQwZDVkNzI1MDguLmFkYmE5ZWEwM2U2MyAxMDA2
NDQNCj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3BtLmMNCj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3BtLmMNCj4gQEAgLTc2Nyw3ICs3
NjcsMTEgQEAgc3RhdGljIHNzaXplX3QgYW1kZ3B1X3NldF9wcGZlYXR1cmVfc3RhdHVzKHN0cnVj
dA0KPiBkZXZpY2UgKmRldiwNCj4gDQo+ICAgICAgICAgcHJfZGVidWcoImZlYXR1cmVtYXNrID0g
MHglbGx4XG4iLCBmZWF0dXJlbWFzayk7DQo+IA0KPiAtICAgICAgIGlmIChhZGV2LT5wb3dlcnBs
YXkucHBfZnVuY3MtPnNldF9wcGZlYXR1cmVfc3RhdHVzKSB7DQo+ICsgICAgICAgaWYgKGlzX3N1
cHBvcnRfc3dfc211KGFkZXYpKSB7DQo+ICsgICAgICAgICAgICAgICByZXQgPSBzbXVfc2V0X3Bw
ZmVhdHVyZV9zdGF0dXMoJmFkZXYtPnNtdSwgZmVhdHVyZW1hc2spOw0KPiArICAgICAgICAgICAg
ICAgaWYgKHJldCkNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7DQo+
ICsgICAgICAgfSBlbHNlIGlmIChhZGV2LT5wb3dlcnBsYXkucHBfZnVuY3MtPnNldF9wcGZlYXR1
cmVfc3RhdHVzKSB7DQo+ICAgICAgICAgICAgICAgICByZXQgPSBhbWRncHVfZHBtX3NldF9wcGZl
YXR1cmVfc3RhdHVzKGFkZXYsIGZlYXR1cmVtYXNrKTsNCj4gICAgICAgICAgICAgICAgIGlmIChy
ZXQpDQo+ICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtRUlOVkFMOw0KPiBAQCAtNzgz
LDcgKzc4Nyw5IEBAIHN0YXRpYyBzc2l6ZV90IGFtZGdwdV9nZXRfcHBmZWF0dXJlX3N0YXR1cyhz
dHJ1Y3QNCj4gZGV2aWNlICpkZXYsDQo+ICAgICAgICAgc3RydWN0IGRybV9kZXZpY2UgKmRkZXYg
PSBkZXZfZ2V0X2RydmRhdGEoZGV2KTsNCj4gICAgICAgICBzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldiA9IGRkZXYtPmRldl9wcml2YXRlOw0KPiANCj4gLSAgICAgICBpZiAoYWRldi0+cG93ZXJw
bGF5LnBwX2Z1bmNzLT5nZXRfcHBmZWF0dXJlX3N0YXR1cykNCj4gKyAgICAgICBpZiAoaXNfc3Vw
cG9ydF9zd19zbXUoYWRldikpIHsNCj4gKyAgICAgICAgICAgICAgIHJldHVybiBzbXVfZ2V0X3Bw
ZmVhdHVyZV9zdGF0dXMoJmFkZXYtPnNtdSwgYnVmKTsNCj4gKyAgICAgICB9IGVsc2UgaWYgKGFk
ZXYtPnBvd2VycGxheS5wcF9mdW5jcy0+Z2V0X3BwZmVhdHVyZV9zdGF0dXMpDQo+ICAgICAgICAg
ICAgICAgICByZXR1cm4gYW1kZ3B1X2RwbV9nZXRfcHBmZWF0dXJlX3N0YXR1cyhhZGV2LCBidWYp
Ow0KPiANCj4gICAgICAgICByZXR1cm4gc25wcmludGYoYnVmLCBQQUdFX1NJWkUsICJcbiIpOyBk
aWZmIC0tZ2l0DQo+IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaW5jL2FtZGdwdV9z
bXUuaA0KPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2luYy9hbWRncHVfc211LmgN
Cj4gaW5kZXggODkwNTI0MTRlOWYxLi4zYTljMjUzNzU5ZGMgMTAwNjQ0DQo+IC0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2luYy9hbWRncHVfc211LmgNCj4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaW5jL2FtZGdwdV9zbXUuaA0KPiBAQCAtNDU4LDYgKzQ1
OCw4IEBAIHN0cnVjdCBwcHRhYmxlX2Z1bmNzIHsNCj4gICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICB1aW50MzJfdCAqbWNsa19tYXNrLA0KPiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHVpbnQzMl90ICpzb2NfbWFzayk7DQo+ICAgICAgICAgaW50ICgq
c2V0X2NwdV9wb3dlcl9zdGF0ZSkoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUpOw0KPiArICAgICAg
IGludCAoKnNldF9wcGZlYXR1cmVfc3RhdHVzKShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgdWlu
dDY0X3QNCj4gcHBmZWF0dXJlcyk7DQo+ICsgICAgICAgaW50ICgqZ2V0X3BwZmVhdHVyZV9zdGF0
dXMpKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCBjaGFyICpidWYpOw0KPiAgfTsNCj4gDQo+ICBz
dHJ1Y3Qgc211X2Z1bmNzDQo+IEBAIC03MjcsNyArNzI5LDEwIEBAIHN0cnVjdCBzbXVfZnVuY3MN
Cj4gICAgICAgICAoKHNtdSktPmZ1bmNzLT5nZXRfbWNsayA/IChzbXUpLT5mdW5jcy0+Z2V0X21j
bGsoKHNtdSksIChsb3cpKSA6IDApDQo+ICNkZWZpbmUgc211X3NldF94Z21pX3BzdGF0ZShzbXUs
IHBzdGF0ZSkgXA0KPiAgICAgICAgICAgICAgICAgKChzbXUpLT5mdW5jcy0+c2V0X3hnbWlfcHN0
YXRlID8gKHNtdSktPmZ1bmNzLQ0KPiA+c2V0X3hnbWlfcHN0YXRlKChzbXUpLCAocHN0YXRlKSkg
OiAwKQ0KPiAtDQo+ICsjZGVmaW5lIHNtdV9zZXRfcHBmZWF0dXJlX3N0YXR1cyhzbXUsIHBwZmVh
dHVyZXMpIFwNCj4gKyAgICAgICAoKHNtdSktPnBwdF9mdW5jcy0+c2V0X3BwZmVhdHVyZV9zdGF0
dXMgPw0KPiArKHNtdSktPnBwdF9mdW5jcy0+c2V0X3BwZmVhdHVyZV9zdGF0dXMoKHNtdSksIChw
cGZlYXR1cmVzKSkgOiAtRUlOVkFMKQ0KPiAjZGVmaW5lIHNtdV9nZXRfcHBmZWF0dXJlX3N0YXR1
cyhzbXUsIGJ1ZikgXA0KPiArICAgICAgICgoc211KS0+cHB0X2Z1bmNzLT5nZXRfcHBmZWF0dXJl
X3N0YXR1cyA/DQo+ICsoc211KS0+cHB0X2Z1bmNzLT5nZXRfcHBmZWF0dXJlX3N0YXR1cygoc211
KSwgKGJ1ZikpIDogLUVJTlZBTCkNCj4gDQo+ICBleHRlcm4gaW50IHNtdV9nZXRfYXRvbV9kYXRh
X3RhYmxlKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCB1aW50MzJfdA0KPiB0YWJsZSwNCj4gICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MTZfdCAqc2l6ZSwgdWludDhfdCAq
ZnJldiwgdWludDhfdCAqY3JldiwgZGlmZiAtLWdpdA0KPiBhL2RyaXZlcnMvZ3B1L2RybS9hbWQv
cG93ZXJwbGF5L3ZlZ2EyMF9wcHQuYw0KPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5
L3ZlZ2EyMF9wcHQuYw0KPiBpbmRleCA4ZmFmY2JkYjFkZmQuLmIzOWYzZDQzOTMzMiAxMDA2NDQN
Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvdmVnYTIwX3BwdC5jDQo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3ZlZ2EyMF9wcHQuYw0KPiBAQCAtMjM3
NCw2ICsyMzc0LDE1NyBAQCBzdGF0aWMgaW50IHZlZ2EyMF9vZG5fZWRpdF9kcG1fdGFibGUoc3Ry
dWN0DQo+IHNtdV9jb250ZXh0ICpzbXUsDQo+ICAgICAgICAgcmV0dXJuIHJldDsNCj4gIH0NCj4g
DQo+ICtzdGF0aWMgaW50IHZlZ2EyMF9nZXRfZW5hYmxlZF9zbWNfZmVhdHVyZXMoc3RydWN0IHNt
dV9jb250ZXh0ICpzbXUsDQo+ICsgICAgICAgICAgICAgICB1aW50NjRfdCAqZmVhdHVyZXNfZW5h
YmxlZCkgew0KPiArICAgICAgIHVpbnQzMl90IGZlYXR1cmVfbWFza1syXTsNCj4gKyAgICAgICBp
bnQgcmV0ID0gMDsNCj4gKw0KPiArICAgICAgIHJldCA9IHNtdV9mZWF0dXJlX2dldF9lbmFibGVk
X21hc2soc211LCBmZWF0dXJlX21hc2ssIDIpOw0KPiArICAgICAgIGlmIChyZXQpDQo+ICsgICAg
ICAgICAgICAgICByZXR1cm4gcmV0Ow0KPiArDQo+ICsgICAgICAgKmZlYXR1cmVzX2VuYWJsZWQg
PSAoKCgodWludDY0X3QpZmVhdHVyZV9tYXNrWzBdIDw8DQo+IFNNVV9GRUFUVVJFU19MT1dfU0hJ
RlQpICYgU01VX0ZFQVRVUkVTX0xPV19NQVNLKSB8DQo+ICsgICAgICAgICAgICAgICAgICAgICAg
ICgoKHVpbnQ2NF90KWZlYXR1cmVfbWFza1sxXSA8PA0KPiArIFNNVV9GRUFUVVJFU19ISUdIX1NI
SUZUKSAmIFNNVV9GRUFUVVJFU19ISUdIX01BU0spKTsNCj4gKw0KPiArICAgICAgIHJldHVybiBy
ZXQ7DQo+ICt9DQo+ICsNCj4gK3N0YXRpYyBpbnQgdmVnYTIwX2VuYWJsZV9zbWNfZmVhdHVyZXMo
c3RydWN0IHNtdV9jb250ZXh0ICpzbXUsDQo+ICsgICAgICAgICAgICAgICBib29sIGVuYWJsZSwg
dWludDY0X3QgZmVhdHVyZV9tYXNrKSB7DQo+ICsgICAgICAgdWludDMyX3Qgc211X2ZlYXR1cmVz
X2xvdywgc211X2ZlYXR1cmVzX2hpZ2g7DQo+ICsgICAgICAgaW50IHJldCA9IDA7DQo+ICsNCj4g
KyAgICAgICBzbXVfZmVhdHVyZXNfbG93ID0gKHVpbnQzMl90KSgoZmVhdHVyZV9tYXNrICYNCj4g
U01VX0ZFQVRVUkVTX0xPV19NQVNLKSA+PiBTTVVfRkVBVFVSRVNfTE9XX1NISUZUKTsNCj4gKyAg
ICAgICBzbXVfZmVhdHVyZXNfaGlnaCA9ICh1aW50MzJfdCkoKGZlYXR1cmVfbWFzayAmDQo+ICsg
U01VX0ZFQVRVUkVTX0hJR0hfTUFTSykgPj4gU01VX0ZFQVRVUkVTX0hJR0hfU0hJRlQpOw0KPiAr
DQo+ICsgICAgICAgaWYgKGVuYWJsZSkgew0KPiArICAgICAgICAgICAgICAgcmV0ID0gc211X3Nl
bmRfc21jX21zZ193aXRoX3BhcmFtKHNtdSwNCj4gU01VX01TR19FbmFibGVTbXVGZWF0dXJlc0xv
dywNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBz
bXVfZmVhdHVyZXNfbG93KTsNCj4gKyAgICAgICAgICAgICAgIGlmIChyZXQpDQo+ICsgICAgICAg
ICAgICAgICAgICAgICAgIHJldHVybiByZXQ7DQo+ICsgICAgICAgICAgICAgICByZXQgPSBzbXVf
c2VuZF9zbWNfbXNnX3dpdGhfcGFyYW0oc211LA0KPiBTTVVfTVNHX0VuYWJsZVNtdUZlYXR1cmVz
SGlnaCwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBzbXVfZmVhdHVyZXNfaGlnaCk7DQo+ICsgICAgICAgICAgICAgICBpZiAocmV0KQ0KPiArICAg
ICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0Ow0KPiArICAgICAgIH0gZWxzZSB7DQo+ICsg
ICAgICAgICAgICAgICByZXQgPSBzbXVfc2VuZF9zbWNfbXNnX3dpdGhfcGFyYW0oc211LA0KPiBT
TVVfTVNHX0Rpc2FibGVTbXVGZWF0dXJlc0xvdywNCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBzbXVfZmVhdHVyZXNfbG93KTsNCj4gKyAgICAgICAg
ICAgICAgIGlmIChyZXQpDQo+ICsgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7DQo+
ICsgICAgICAgICAgICAgICByZXQgPSBzbXVfc2VuZF9zbWNfbXNnX3dpdGhfcGFyYW0oc211LA0K
PiBTTVVfTVNHX0Rpc2FibGVTbXVGZWF0dXJlc0hpZ2gsDQo+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc211X2ZlYXR1cmVzX2hpZ2gpOw0KPiArICAg
ICAgICAgICAgICAgaWYgKHJldCkNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJl
dDsNCj4gKyAgICAgICB9DQo+ICsNCj4gKyAgICAgICByZXR1cm4gMDsNCj4gKw0KPiArfQ0KPiAr
DQo+ICtzdGF0aWMgaW50IHZlZ2EyMF9nZXRfcHBmZWF0dXJlX3N0YXR1cyhzdHJ1Y3Qgc211X2Nv
bnRleHQgKnNtdSwgY2hhcg0KPiArKmJ1Zikgew0KPiArICAgICAgIHN0YXRpYyBjb25zdCBjaGFy
ICpwcGZlYXR1cmVfbmFtZVtdID0gew0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICJEUE1fUFJFRkVUQ0hFUiIsDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkdG
WENMS19EUE0iLA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJVQ0xLX0RQTSIs
DQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlNPQ0NMS19EUE0iLA0KPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICJVVkRfRFBNIiwNCj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAiVkNFX0RQTSIsDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIlVMViIsDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk1QMENMS19E
UE0iLA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJMSU5LX0RQTSIsDQo+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkRDRUZDTEtfRFBNIiwNCj4gKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAiR0ZYQ0xLX0RTIiwNCj4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAiU09DQ0xLX0RTIiwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAiTENMS19EUyIsDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlBQVCIs
DQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlREQyIsDQo+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIlRIRVJNQUwiLA0KPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICJHRlhfUEVSX0NVX0NHIiwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAiUk0iLA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJEQ0VGQ0xLX0RT
IiwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQUNEQyIsDQo+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIlZSMEhPVCIsDQo+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIlZSMUhPVCIsDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IkZXX0NURiIsDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkxFRF9ESVNQTEFZ
IiwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRkFOX0NPTlRST0wiLA0KPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJHRlhfRURDIiwNCj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAiR0ZYT0ZGIiwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAiQ0ciLA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJGQ0xLX0RQ
TSIsDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkZDTEtfRFMiLA0KPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICJNUDFDTEtfRFMiLA0KPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICJNUDBDTEtfRFMiLA0KPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICJYR01JIiwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiRUND
In07DQo+ICsgICAgICAgc3RhdGljIGNvbnN0IGNoYXIgKm91dHB1dF90aXRsZVtdID0gew0KPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJGRUFUVVJFUyIsDQo+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIkJJVE1BU0siLA0KPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICJFTkFCTEVNRU5UIn07DQo+ICsgICAgICAgdWludDY0X3QgZmVhdHVyZXNfZW5h
YmxlZDsNCj4gKyAgICAgICBpbnQgaTsNCj4gKyAgICAgICBpbnQgcmV0ID0gMDsNCj4gKyAgICAg
ICBpbnQgc2l6ZSA9IDA7DQo+ICsNCj4gKyAgICAgICByZXQgPSB2ZWdhMjBfZ2V0X2VuYWJsZWRf
c21jX2ZlYXR1cmVzKHNtdSwgJmZlYXR1cmVzX2VuYWJsZWQpOw0KPiArICAgICAgIGlmIChyZXQp
DQo+ICsgICAgICAgICAgICAgICByZXR1cm4gcmV0Ow0KPiArDQo+ICsgICAgICAgc2l6ZSArPSBz
cHJpbnRmKGJ1ZiArIHNpemUsICJDdXJyZW50IHBwZmVhdHVyZXM6IDB4JTAxNmxseFxuIiwNCj4g
ZmVhdHVyZXNfZW5hYmxlZCk7DQo+ICsgICAgICAgc2l6ZSArPSBzcHJpbnRmKGJ1ZiArIHNpemUs
ICIlLTE5cyAlLTIycyAlc1xuIiwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBv
dXRwdXRfdGl0bGVbMF0sDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0
X3RpdGxlWzFdLA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dF90aXRs
ZVsyXSk7DQo+ICsgICAgICAgZm9yIChpID0gMDsgaSA8IEdOTERfRkVBVFVSRVNfTUFYOyBpKysp
IHsNCj4gKyAgICAgICAgICAgICAgIHNpemUgKz0gc3ByaW50ZihidWYgKyBzaXplLCAiJS0xOXMg
MHglMDE2bGx4ICU2c1xuIiwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHBwZmVhdHVyZV9uYW1lW2ldLA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgMVVMTCA8PCBpLA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgKGZlYXR1cmVzX2VuYWJsZWQgJiAoMVVMTCA8PCBpKSkgPyAiWSIgOiAiTiIpOw0KPiAr
ICAgICAgIH0NCj4gKw0KPiArICAgICAgIHJldHVybiBzaXplOw0KPiArfQ0KPiArDQo+ICtzdGF0
aWMgaW50IHZlZ2EyMF9zZXRfcHBmZWF0dXJlX3N0YXR1cyhzdHJ1Y3Qgc211X2NvbnRleHQgKnNt
dSwNCj4gK3VpbnQ2NF90IG5ld19wcGZlYXR1cmVfbWFza3MpIHsNCj4gKyAgICAgICB1aW50NjRf
dCBmZWF0dXJlc19lbmFibGVkOw0KPiArICAgICAgIHVpbnQ2NF90IGZlYXR1cmVzX3RvX2VuYWJs
ZTsNCj4gKyAgICAgICB1aW50NjRfdCBmZWF0dXJlc190b19kaXNhYmxlOw0KPiArICAgICAgIGlu
dCByZXQgPSAwOw0KPiArDQo+ICsgICAgICAgaWYgKG5ld19wcGZlYXR1cmVfbWFza3MgPj0gKDFV
TEwgPDwgR05MRF9GRUFUVVJFU19NQVgpKQ0KPiArICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5W
QUw7DQo+ICsNCj4gKyAgICAgICByZXQgPSB2ZWdhMjBfZ2V0X2VuYWJsZWRfc21jX2ZlYXR1cmVz
KHNtdSwgJmZlYXR1cmVzX2VuYWJsZWQpOw0KPiArICAgICAgIGlmIChyZXQpDQo+ICsgICAgICAg
ICAgICAgICByZXR1cm4gcmV0Ow0KPiArDQo+ICsgICAgICAgZmVhdHVyZXNfdG9fZGlzYWJsZSA9
DQo+ICsgICAgICAgICAgICAgICBmZWF0dXJlc19lbmFibGVkICYgfm5ld19wcGZlYXR1cmVfbWFz
a3M7DQo+ICsgICAgICAgZmVhdHVyZXNfdG9fZW5hYmxlID0NCj4gKyAgICAgICAgICAgICAgIH5m
ZWF0dXJlc19lbmFibGVkICYgbmV3X3BwZmVhdHVyZV9tYXNrczsNCj4gKw0KPiArICAgICAgIHBy
X2RlYnVnKCJmZWF0dXJlc190b19kaXNhYmxlIDB4JWxseFxuIiwgZmVhdHVyZXNfdG9fZGlzYWJs
ZSk7DQo+ICsgICAgICAgcHJfZGVidWcoImZlYXR1cmVzX3RvX2VuYWJsZSAweCVsbHhcbiIsIGZl
YXR1cmVzX3RvX2VuYWJsZSk7DQo+ICsNCj4gKyAgICAgICBpZiAoZmVhdHVyZXNfdG9fZGlzYWJs
ZSkgew0KPiArICAgICAgICAgICAgICAgcmV0ID0gdmVnYTIwX2VuYWJsZV9zbWNfZmVhdHVyZXMo
c211LCBmYWxzZSwNCj4gZmVhdHVyZXNfdG9fZGlzYWJsZSk7DQo+ICsgICAgICAgICAgICAgICBp
ZiAocmV0KQ0KPiArICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0Ow0KPiArICAgICAg
IH0NCj4gKw0KPiArICAgICAgIGlmIChmZWF0dXJlc190b19lbmFibGUpIHsNCj4gKyAgICAgICAg
ICAgICAgIHJldCA9IHZlZ2EyMF9lbmFibGVfc21jX2ZlYXR1cmVzKHNtdSwgdHJ1ZSwgZmVhdHVy
ZXNfdG9fZW5hYmxlKTsNCj4gKyAgICAgICAgICAgICAgIGlmIChyZXQpDQo+ICsgICAgICAgICAg
ICAgICAgICAgICAgIHJldHVybiByZXQ7DQo+ICsgICAgICAgfQ0KPiArDQo+ICsgICAgICAgcmV0
dXJuIDA7DQo+ICt9DQo+ICsNCj4gIHN0YXRpYyBjb25zdCBzdHJ1Y3QgcHB0YWJsZV9mdW5jcyB2
ZWdhMjBfcHB0X2Z1bmNzID0gew0KPiAgICAgICAgIC5hbGxvY19kcG1fY29udGV4dCA9IHZlZ2Ey
MF9hbGxvY2F0ZV9kcG1fY29udGV4dCwNCj4gICAgICAgICAuc3RvcmVfcG93ZXJwbGF5X3RhYmxl
ID0gdmVnYTIwX3N0b3JlX3Bvd2VycGxheV90YWJsZSwgQEAgLTI0MDQsNg0KPiArMjU1NSw4IEBA
IHN0YXRpYyBjb25zdCBzdHJ1Y3QgcHB0YWJsZV9mdW5jcyB2ZWdhMjBfcHB0X2Z1bmNzID0gew0K
PiAgICAgICAgIC51bmZvcmNlX2RwbV9sZXZlbHMgPSB2ZWdhMjBfdW5mb3JjZV9kcG1fbGV2ZWxz
LA0KPiAgICAgICAgIC51cGxvYWRfZHBtX2xldmVsID0gdmVnYTIwX3VwbG9hZF9kcG1fbGV2ZWws
DQo+ICAgICAgICAgLmdldF9wcm9maWxpbmdfY2xrX21hc2sgPSB2ZWdhMjBfZ2V0X3Byb2ZpbGlu
Z19jbGtfbWFzaywNCj4gKyAgICAgICAuc2V0X3BwZmVhdHVyZV9zdGF0dXMgPSB2ZWdhMjBfc2V0
X3BwZmVhdHVyZV9zdGF0dXMsDQo+ICsgICAgICAgLmdldF9wcGZlYXR1cmVfc3RhdHVzID0gdmVn
YTIwX2dldF9wcGZlYXR1cmVfc3RhdHVzLA0KPiAgfTsNCj4gDQo+ICB2b2lkIHZlZ2EyMF9zZXRf
cHB0X2Z1bmNzKHN0cnVjdCBzbXVfY29udGV4dCAqc211KSBkaWZmIC0tZ2l0DQo+IGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvdmVnYTIwX3BwdC5oDQo+IGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9wb3dlcnBsYXkvdmVnYTIwX3BwdC5oDQo+IGluZGV4IDVhMGQyYWY2MzE3My4uODdmM2E4
MzAzNjQ1IDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS92ZWdh
MjBfcHB0LmgNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvdmVnYTIwX3Bw
dC5oDQo+IEBAIC0zNiw2ICszNiw1MCBAQA0KPiAgI2RlZmluZSBBVkZTX0NVUlZFIDANCj4gICNk
ZWZpbmUgT0Q4X0hPVENVUlZFX1RFTVBFUkFUVVJFIDg1DQo+IA0KPiArI2RlZmluZSBTTVVfRkVB
VFVSRVNfTE9XX01BU0sgICAgICAgIDB4MDAwMDAwMDBGRkZGRkZGRg0KPiArI2RlZmluZSBTTVVf
RkVBVFVSRVNfTE9XX1NISUZUICAgICAgIDANCj4gKyNkZWZpbmUgU01VX0ZFQVRVUkVTX0hJR0hf
TUFTSyAgICAgICAweEZGRkZGRkZGMDAwMDAwMDANCj4gKyNkZWZpbmUgU01VX0ZFQVRVUkVTX0hJ
R0hfU0hJRlQgICAgICAzMg0KPiArDQo+ICtlbnVtIHsNCj4gKyAgICAgICBHTkxEX0RQTV9QUkVG
RVRDSEVSID0gMCwNCj4gKyAgICAgICBHTkxEX0RQTV9HRlhDTEssDQo+ICsgICAgICAgR05MRF9E
UE1fVUNMSywNCj4gKyAgICAgICBHTkxEX0RQTV9TT0NDTEssDQo+ICsgICAgICAgR05MRF9EUE1f
VVZELA0KPiArICAgICAgIEdOTERfRFBNX1ZDRSwNCj4gKyAgICAgICBHTkxEX1VMViwNCj4gKyAg
ICAgICBHTkxEX0RQTV9NUDBDTEssDQo+ICsgICAgICAgR05MRF9EUE1fTElOSywNCj4gKyAgICAg
ICBHTkxEX0RQTV9EQ0VGQ0xLLA0KPiArICAgICAgIEdOTERfRFNfR0ZYQ0xLLA0KPiArICAgICAg
IEdOTERfRFNfU09DQ0xLLA0KPiArICAgICAgIEdOTERfRFNfTENMSywNCj4gKyAgICAgICBHTkxE
X1BQVCwNCj4gKyAgICAgICBHTkxEX1REQywNCj4gKyAgICAgICBHTkxEX1RIRVJNQUwsDQo+ICsg
ICAgICAgR05MRF9HRlhfUEVSX0NVX0NHLA0KPiArICAgICAgIEdOTERfUk0sDQo+ICsgICAgICAg
R05MRF9EU19EQ0VGQ0xLLA0KPiArICAgICAgIEdOTERfQUNEQywNCj4gKyAgICAgICBHTkxEX1ZS
MEhPVCwNCj4gKyAgICAgICBHTkxEX1ZSMUhPVCwNCj4gKyAgICAgICBHTkxEX0ZXX0NURiwNCj4g
KyAgICAgICBHTkxEX0xFRF9ESVNQTEFZLA0KPiArICAgICAgIEdOTERfRkFOX0NPTlRST0wsDQo+
ICsgICAgICAgR05MRF9ESURULA0KPiArICAgICAgIEdOTERfR0ZYT0ZGLA0KPiArICAgICAgIEdO
TERfQ0csDQo+ICsgICAgICAgR05MRF9EUE1fRkNMSywNCj4gKyAgICAgICBHTkxEX0RTX0ZDTEss
DQo+ICsgICAgICAgR05MRF9EU19NUDFDTEssDQo+ICsgICAgICAgR05MRF9EU19NUDBDTEssDQo+
ICsgICAgICAgR05MRF9YR01JLA0KPiArICAgICAgIEdOTERfRUNDLA0KPiArDQo+ICsgICAgICAg
R05MRF9GRUFUVVJFU19NQVgNCj4gK307DQo+ICsNCj4gIHN0cnVjdCB2ZWdhMjBfZHBtX2xldmVs
IHsNCj4gICAgICAgICAgYm9vbCAgICAgICAgICAgIGVuYWJsZWQ7DQo+ICAgICAgICAgIHVpbnQz
Ml90ICAgICAgICB2YWx1ZTsNCj4gLS0NCj4gMi4yMS4wDQo+IA0KPiBfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXw0KPiBhbWQtZ2Z4IG1haWxpbmcgbGlzdA0K
PiBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZw0KPiBodHRwczovL2xpc3RzLmZyZWVkZXNr
dG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZngNCl9fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vYW1kLWdmeA==
