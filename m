Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id C3A25896EE
	for <lists+amd-gfx@lfdr.de>; Mon, 12 Aug 2019 07:38:04 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id EE95C6E48A;
	Mon, 12 Aug 2019 05:38:02 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM01-SN1-obe.outbound.protection.outlook.com
 (mail-eopbgr820055.outbound.protection.outlook.com [40.107.82.55])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 311D46E48A
 for <amd-gfx@lists.freedesktop.org>; Mon, 12 Aug 2019 05:38:00 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=RetUE2R7DCm51+EnflidQXFZuTZfFjyNKH2NrNZIOo4lr7FZ0sodVtF7YY70GB002cRzxpRnATFgGP3f4RHxcrkEaBflrAa1XxTSf5JCjRWSjPtxp2Z+wdyp5+xi9JSrR1VlflnBjk94szglV2gLCsZ3SX+NZCDlyaqW23J7cLnX7JhkgmKk+THELpdF3NYsXhMDKScb4jlxBK6JJxY7QvHHGPSz47Brpu4zQW9YVyNw9FxylWEMQizGTu3iCyfYMdIc3NXibYhz5K/8nzyQGZWIhnlpUqXjdHwFp/yyzOVGlQuJJzDbPTYy0nGZP92WifVu8kwrGBAPrpy7ikNcxQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=n7KYa/Tk6qR3Ccx+26Wqsp4EnGHK2Sl81ovvEFQvu/Q=;
 b=B8y9wMRPhTdOtMFsNIYPxEqQQ8CFEuzYHuD+ev79aAFRdXSfF+Q6V2PpxK53dvCTHU0BpSHvcxano16gvqmrzgZ0pHD+6RagL3SFA6W/Rubr9klh58u+JQBjxqzNqGPSmbbmO/R/WWdYgJhXzGMVpQUjZxo89fJr30AHtZWWmYkMsl9kmfaRErfMv4k47j5xkpENSw2QabOTH/8ewG3fYt9l2RsEnhXLgZAgrZLVQzY0smqGVQjenkRAVXl7bKI54rDV2S39ooG0vSftR2l+Qjc5h8oBWT0bCYl1CQXopH+INyRiidNlFPlsmPD1N87bTxcCxk48ff4DxM1H1z4mpw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from MN2PR12MB3598.namprd12.prod.outlook.com (20.178.244.84) by
 MN2PR12MB4191.namprd12.prod.outlook.com (52.135.48.135) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2157.16; Mon, 12 Aug 2019 05:37:58 +0000
Received: from MN2PR12MB3598.namprd12.prod.outlook.com
 ([fe80::a556:ef17:e8e:2037]) by MN2PR12MB3598.namprd12.prod.outlook.com
 ([fe80::a556:ef17:e8e:2037%7]) with mapi id 15.20.2157.020; Mon, 12 Aug 2019
 05:37:58 +0000
From: "Feng, Kenneth" <Kenneth.Feng@amd.com>
To: "Ma, Le" <Le.Ma@amd.com>, "amd-gfx@lists.freedesktop.org"
 <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH 3/4] drm/amdgpu: add mmhub clock gating for Arcturus
Thread-Topic: [PATCH 3/4] drm/amdgpu: add mmhub clock gating for Arcturus
Thread-Index: AQHVTqVle1wBZir7mk6lMejbHaru66b3Apaw
Date: Mon, 12 Aug 2019 05:37:58 +0000
Message-ID: <MN2PR12MB359848C185DE16CC0A12A97A8ED30@MN2PR12MB3598.namprd12.prod.outlook.com>
References: <1565350016-7071-1-git-send-email-le.ma@amd.com>
 <1565350016-7071-3-git-send-email-le.ma@amd.com>
In-Reply-To: <1565350016-7071-3-git-send-email-le.ma@amd.com>
Accept-Language: zh-CN, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 5c77c295-b589-4d3c-634d-08d71ee73bbd
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:MN2PR12MB4191; 
x-ms-traffictypediagnostic: MN2PR12MB4191:
x-ms-exchange-purlcount: 1
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <MN2PR12MB4191702E11D54A6E543C2B128ED30@MN2PR12MB4191.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:1013;
x-forefront-prvs: 012792EC17
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(136003)(396003)(346002)(39860400002)(376002)(366004)(13464003)(189003)(199004)(305945005)(7736002)(7696005)(186003)(76176011)(316002)(74316002)(2501003)(71190400001)(71200400001)(110136005)(53936002)(8936002)(52536014)(102836004)(26005)(229853002)(86362001)(2906002)(55016002)(6246003)(3846002)(6116002)(81156014)(81166006)(8676002)(99286004)(6306002)(256004)(478600001)(4326008)(6436002)(966005)(5660300002)(53546011)(9686003)(66066001)(14444005)(6506007)(446003)(11346002)(476003)(66946007)(76116006)(66556008)(64756008)(66446008)(66476007)(486006)(33656002)(14454004)(25786009);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MN2PR12MB4191;
 H:MN2PR12MB3598.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: RJUgHIF3EYWzFtNd/hZveL06/eKW3mKN0CtDV3Se4m3UrpkG8fAutp5RaZYRuPXsMX7Y80nNvsL/7LHEqQu3curqyOuQagp4x3mVntwFxRc2nMJ1KyLJtvo6wUZ2dPDCRO5WHzUxA32OrVYgySMXAVfahf+xtZsBjdxOgsaZaACETdGZ2bNDhmEhJ2KKuUAW3f1kyKgZ495O50m5dVgVLVqutaQZgmX5o8D4CKdlPcVUJdtMYuYdjciEEi8tNB++r0tzm9TEoi85QUr8k32wJqQBQpmtwFionWvV3g2YivAPW0+IqYpV9+ot68oSKxB69rgXOH4JpVsWcg6YkXr+W/OKul+6NnOOs1m/WMbaOQmeEjlHvaMQ39ElhOJAHJrSvbi3KmBrw09ICVvcAAAUT4C3+uqdpIDAG1DTAdA4dOA=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 5c77c295-b589-4d3c-634d-08d71ee73bbd
X-MS-Exchange-CrossTenant-originalarrivaltime: 12 Aug 2019 05:37:58.2551 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: fwvCIMQBRWtIb2FjCA51gOD7ZG6iD2mMeLRfhVAlR3DlX2/El9pIEiuIh2IZi3cT
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB4191
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=n7KYa/Tk6qR3Ccx+26Wqsp4EnGHK2Sl81ovvEFQvu/Q=;
 b=l8mOvylTUdS27krb+LeEH83zh8e8nwSqFiE7BZf3XV2XA6eX6aHBOMJr2KbP016bbFOaZn8rHuJNgb+hv+RKHwXPE8rVQ9g6TmwrumzDLH5P6X7VnL7oabeOpqkEklSKaIL+Nlu6OgjtEI+8NCOorYYhpQIkM6k1/jBLorweFNQ=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Kenneth.Feng@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Ma, Le" <Le.Ma@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

UmV2aWV3ZWQtYnk6IEtlbm5ldGggRmVuZyA8a2VubmV0aC5mZW5nQGFtZC5jb20+DQoNCi0tLS0t
T3JpZ2luYWwgTWVzc2FnZS0tLS0tDQpGcm9tOiBhbWQtZ2Z4IFttYWlsdG86YW1kLWdmeC1ib3Vu
Y2VzQGxpc3RzLmZyZWVkZXNrdG9wLm9yZ10gT24gQmVoYWxmIE9mIExlIE1hDQpTZW50OiBGcmlk
YXksIEF1Z3VzdCAwOSwgMjAxOSA3OjI3IFBNDQpUbzogYW1kLWdmeEBsaXN0cy5mcmVlZGVza3Rv
cC5vcmcNCkNjOiBNYSwgTGUgPExlLk1hQGFtZC5jb20+DQpTdWJqZWN0OiBbUEFUQ0ggMy80XSBk
cm0vYW1kZ3B1OiBhZGQgbW1odWIgY2xvY2sgZ2F0aW5nIGZvciBBcmN0dXJ1cw0KDQpbQ0FVVElP
TjogRXh0ZXJuYWwgRW1haWxdDQoNCkFkZCAyIG1taHViIGluc3RhbmNlcyBDRw0KDQpDaGFuZ2Ut
SWQ6IEk3NmFiN2E1MGNkOWE0MGRlMzAyMmY3MzM3ODdiNDJlNGU1YzRkYmY1DQpTaWduZWQtb2Zm
LWJ5OiBMZSBNYSA8bGUubWFAYW1kLmNvbT4NCi0tLQ0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2dtY192OV8wLmMgICB8ICAxMiArLS0NCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9t
bWh1Yl92OV80LmMgfCAxMjYgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysNCiBkcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9tbWh1Yl92OV80LmggfCAgIDMgKw0KIDMgZmlsZXMgY2hh
bmdlZCwgMTM1IGluc2VydGlvbnMoKyksIDYgZGVsZXRpb25zKC0pDQoNCmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjlfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvZ21jX3Y5XzAuYw0KaW5kZXggY2NjYjZlOS4uNDRhYzEyMiAxMDA2NDQNCi0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192OV8wLmMNCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2dtY192OV8wLmMNCkBAIC0xNDY1LDkgKzE0NjUsOSBAQCBzdGF0aWMg
aW50IGdtY192OV8wX3NldF9jbG9ja2dhdGluZ19zdGF0ZSh2b2lkICpoYW5kbGUsDQogICAgICAg
IHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gKHN0cnVjdCBhbWRncHVfZGV2aWNlICopaGFu
ZGxlOw0KDQogICAgICAgIGlmIChhZGV2LT5hc2ljX3R5cGUgPT0gQ0hJUF9BUkNUVVJVUykNCi0g
ICAgICAgICAgICAgICByZXR1cm4gMDsNCi0NCi0gICAgICAgbW1odWJfdjFfMF9zZXRfY2xvY2tn
YXRpbmcoYWRldiwgc3RhdGUpOw0KKyAgICAgICAgICAgICAgIG1taHViX3Y5XzRfc2V0X2Nsb2Nr
Z2F0aW5nKGFkZXYsIHN0YXRlKTsNCisgICAgICAgZWxzZQ0KKyAgICAgICAgICAgICAgIG1taHVi
X3YxXzBfc2V0X2Nsb2NrZ2F0aW5nKGFkZXYsIHN0YXRlKTsNCg0KICAgICAgICBhdGh1Yl92MV8w
X3NldF9jbG9ja2dhdGluZyhhZGV2LCBzdGF0ZSk7DQoNCkBAIC0xNDc5LDkgKzE0NzksOSBAQCBz
dGF0aWMgdm9pZCBnbWNfdjlfMF9nZXRfY2xvY2tnYXRpbmdfc3RhdGUodm9pZCAqaGFuZGxlLCB1
MzIgKmZsYWdzKQ0KICAgICAgICBzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IChzdHJ1Y3Qg
YW1kZ3B1X2RldmljZSAqKWhhbmRsZTsNCg0KICAgICAgICBpZiAoYWRldi0+YXNpY190eXBlID09
IENISVBfQVJDVFVSVVMpDQotICAgICAgICAgICAgICAgcmV0dXJuOw0KLQ0KLSAgICAgICBtbWh1
Yl92MV8wX2dldF9jbG9ja2dhdGluZyhhZGV2LCBmbGFncyk7DQorICAgICAgICAgICAgICAgbW1o
dWJfdjlfNF9nZXRfY2xvY2tnYXRpbmcoYWRldiwgZmxhZ3MpOw0KKyAgICAgICBlbHNlDQorICAg
ICAgICAgICAgICAgbW1odWJfdjFfMF9nZXRfY2xvY2tnYXRpbmcoYWRldiwgZmxhZ3MpOw0KDQog
ICAgICAgIGF0aHViX3YxXzBfZ2V0X2Nsb2NrZ2F0aW5nKGFkZXYsIGZsYWdzKTsgIH0gZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L21taHViX3Y5XzQuYyBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L21taHViX3Y5XzQuYw0KaW5kZXggMzNiMGRlNS4uZTUyZTRkMSAx
MDA2NDQNCi0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L21taHViX3Y5XzQuYw0KKysr
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvbW1odWJfdjlfNC5jDQpAQCAtNTE1LDMgKzUx
NSwxMjkgQEAgdm9pZCBtbWh1Yl92OV80X2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYp
DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpICogTU1IVUJfSU5TVEFOQ0Vf
UkVHSVNURVJfT0ZGU0VUOw0KICAgICAgICB9DQogfQ0KKw0KK3N0YXRpYyB2b2lkIG1taHViX3Y5
XzRfdXBkYXRlX21lZGl1bV9ncmFpbl9jbG9ja19nYXRpbmcoc3RydWN0IGFtZGdwdV9kZXZpY2Ug
KmFkZXYsDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGJvb2wgZW5hYmxlKSB7DQorICAgICAgIHVpbnQzMl90IGRlZiwgZGF0YSwgZGVmMSwg
ZGF0YTE7DQorICAgICAgIGludCBpLCBqOw0KKyAgICAgICBpbnQgZGlzdCA9IG1tREFHQjFfQ05U
TF9NSVNDMiAtIG1tREFHQjBfQ05UTF9NSVNDMjsNCisNCisgICAgICAgZm9yIChpID0gMDsgaSA8
IE1NSFVCX05VTV9JTlNUQU5DRVM7IGkrKykgew0KKyAgICAgICAgICAgICAgIGRlZiA9IGRhdGEg
PSBSUkVHMzJfU09DMTVfT0ZGU0VUKE1NSFVCLCAwLA0KKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIG1tQVRDTDJfMF9BVENfTDJfTUlTQ19DRywNCisgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBpICogDQorIE1NSFVCX0lOU1RBTkNFX1JFR0lTVEVS
X09GRlNFVCk7DQorDQorICAgICAgICAgICAgICAgaWYgKGVuYWJsZSAmJiAoYWRldi0+Y2dfZmxh
Z3MgJiBBTURfQ0dfU1VQUE9SVF9NQ19NR0NHKSkNCisgICAgICAgICAgICAgICAgICAgICAgIGRh
dGEgfD0gQVRDTDJfMF9BVENfTDJfTUlTQ19DR19fRU5BQkxFX01BU0s7DQorICAgICAgICAgICAg
ICAgZWxzZQ0KKyAgICAgICAgICAgICAgICAgICAgICAgZGF0YSAmPSB+QVRDTDJfMF9BVENfTDJf
TUlTQ19DR19fRU5BQkxFX01BU0s7DQorDQorICAgICAgICAgICAgICAgaWYgKGRlZiAhPSBkYXRh
KQ0KKyAgICAgICAgICAgICAgICAgICAgICAgV1JFRzMyX1NPQzE1X09GRlNFVChNTUhVQiwgMCwg
bW1BVENMMl8wX0FUQ19MMl9NSVNDX0NHLA0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBpICogTU1IVUJfSU5TVEFOQ0VfUkVHSVNURVJfT0ZGU0VULCANCisgZGF0YSk7DQorDQorICAg
ICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IDU7IGorKykgew0KKyAgICAgICAgICAgICAgICAg
ICAgICAgZGVmMSA9IGRhdGExID0gUlJFRzMyX1NPQzE1X09GRlNFVChNTUhVQiwgMCwNCisgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtbURBR0IwX0NOVExfTUlTQzIsDQor
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSAqIE1NSFVCX0lOU1RBTkNF
X1JFR0lTVEVSX09GRlNFVCArDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgaiAqIGRpc3QpOw0KKyAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuYWJsZSAmJg0KKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgIChhZGV2LT5jZ19mbGFncyAmIEFNRF9DR19TVVBQT1JU
X01DX01HQ0cpKSB7DQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGExICY9DQor
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB+KERBR0IwX0NOVExfTUlTQzJfX0RJ
U0FCTEVfV1JSRVFfQ0dfTUFTSyB8DQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBEQUdCMF9DTlRMX01JU0MyX19ESVNBQkxFX1dSUkVUX0NHX01BU0sgfA0KKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgREFHQjBfQ05UTF9NSVNDMl9fRElTQUJMRV9SRFJFUV9D
R19NQVNLIHwNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERBR0IwX0NOVExf
TUlTQzJfX0RJU0FCTEVfUkRSRVRfQ0dfTUFTSyB8DQorICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBEQUdCMF9DTlRMX01JU0MyX19ESVNBQkxFX1RMQldSX0NHX01BU0sgfA0KKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgREFHQjBfQ05UTF9NSVNDMl9fRElTQUJM
RV9UTEJSRF9DR19NQVNLKTsNCisgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQorICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGExIHw9DQorICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAoREFHQjBfQ05UTF9NSVNDMl9fRElTQUJMRV9XUlJFUV9DR19NQVNL
IHwNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERBR0IwX0NOVExfTUlTQzJf
X0RJU0FCTEVfV1JSRVRfQ0dfTUFTSyB8DQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBEQUdCMF9DTlRMX01JU0MyX19ESVNBQkxFX1JEUkVRX0NHX01BU0sgfA0KKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgREFHQjBfQ05UTF9NSVNDMl9fRElTQUJMRV9SRFJF
VF9DR19NQVNLIHwNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERBR0IwX0NO
VExfTUlTQzJfX0RJU0FCTEVfVExCV1JfQ0dfTUFTSyB8DQorICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBEQUdCMF9DTlRMX01JU0MyX19ESVNBQkxFX1RMQlJEX0NHX01BU0spOw0K
KyAgICAgICAgICAgICAgICAgICAgICAgfQ0KKw0KKyAgICAgICAgICAgICAgICAgICAgICAgaWYg
KGRlZjEgIT0gZGF0YTEpDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdSRUczMl9T
T0MxNV9PRkZTRVQoTU1IVUIsIDAsDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgbW1EQUdCMF9DTlRMX01JU0MyLA0KKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGkgKiBNTUhVQl9JTlNUQU5DRV9SRUdJU1RFUl9PRkZTRVQgKw0KKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGogKiBkaXN0LCBkYXRhMSk7DQorDQorICAg
ICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSAxICYmIGogPT0gMykNCisgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgYnJlYWs7DQorICAgICAgICAgICAgICAgfQ0KKyAgICAgICB9DQor
fQ0KKw0KK3N0YXRpYyB2b2lkIG1taHViX3Y5XzRfdXBkYXRlX21lZGl1bV9ncmFpbl9saWdodF9z
bGVlcChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCisgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib29sIGVuYWJsZSkgew0KKyAgICAgICB1
aW50MzJfdCBkZWYsIGRhdGE7DQorICAgICAgIGludCBpOw0KKw0KKyAgICAgICBmb3IgKGkgPSAw
OyBpIDwgTU1IVUJfTlVNX0lOU1RBTkNFUzsgaSsrKSB7DQorICAgICAgICAgICAgICAgZGVmID0g
ZGF0YSA9IFJSRUczMl9TT0MxNV9PRkZTRVQoTU1IVUIsIDAsDQorICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgbW1BVENMMl8wX0FUQ19MMl9NSVNDX0NHLA0KKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgKiANCisgTU1IVUJfSU5TVEFOQ0VfUkVH
SVNURVJfT0ZGU0VUKTsNCisNCisgICAgICAgICAgICAgICBpZiAoZW5hYmxlICYmIChhZGV2LT5j
Z19mbGFncyAmIEFNRF9DR19TVVBQT1JUX01DX0xTKSkNCisgICAgICAgICAgICAgICAgICAgICAg
IGRhdGEgfD0gQVRDTDJfMF9BVENfTDJfTUlTQ19DR19fTUVNX0xTX0VOQUJMRV9NQVNLOw0KKyAg
ICAgICAgICAgICAgIGVsc2UNCisgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgJj0gDQorIH5B
VENMMl8wX0FUQ19MMl9NSVNDX0NHX19NRU1fTFNfRU5BQkxFX01BU0s7DQorDQorICAgICAgICAg
ICAgICAgaWYgKGRlZiAhPSBkYXRhKQ0KKyAgICAgICAgICAgICAgICAgICAgICAgV1JFRzMyX1NP
QzE1X09GRlNFVChNTUhVQiwgMCwgbW1BVENMMl8wX0FUQ19MMl9NSVNDX0NHLA0KKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBpICogTU1IVUJfSU5TVEFOQ0VfUkVHSVNURVJfT0ZGU0VU
LCBkYXRhKTsNCisgICAgICAgfQ0KK30NCisNCitpbnQgbW1odWJfdjlfNF9zZXRfY2xvY2tnYXRp
bmcoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQorICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgZW51bSBhbWRfY2xvY2tnYXRpbmdfc3RhdGUgc3RhdGUpIHsNCisgICAgICAgaWYgKGFt
ZGdwdV9zcmlvdl92ZihhZGV2KSkNCisgICAgICAgICAgICAgICByZXR1cm4gMDsNCisNCisgICAg
ICAgc3dpdGNoIChhZGV2LT5hc2ljX3R5cGUpIHsNCisgICAgICAgY2FzZSBDSElQX0FSQ1RVUlVT
Og0KKyAgICAgICAgICAgICAgIG1taHViX3Y5XzRfdXBkYXRlX21lZGl1bV9ncmFpbl9jbG9ja19n
YXRpbmcoYWRldiwNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPT0gQU1E
X0NHX1NUQVRFX0dBVEUgPyB0cnVlIDogZmFsc2UpOw0KKyAgICAgICAgICAgICAgIG1taHViX3Y5
XzRfdXBkYXRlX21lZGl1bV9ncmFpbl9saWdodF9zbGVlcChhZGV2LA0KKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBzdGF0ZSA9PSBBTURfQ0dfU1RBVEVfR0FURSA/IHRydWUgOiBmYWxz
ZSk7DQorICAgICAgICAgICAgICAgYnJlYWs7DQorICAgICAgIGRlZmF1bHQ6DQorICAgICAgICAg
ICAgICAgYnJlYWs7DQorICAgICAgIH0NCisNCisgICAgICAgcmV0dXJuIDA7DQorfQ0KKw0KKy8q
IFRPRE86IGdldCAyIG1taHViIGluc3RhbmNlcyBDRyBzdGF0ZSAqLyB2b2lkIA0KK21taHViX3Y5
XzRfZ2V0X2Nsb2NrZ2F0aW5nKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCB1MzIgKmZsYWdz
KSB7DQorICAgICAgIGludCBkYXRhLCBkYXRhMTsNCisNCisgICAgICAgaWYgKGFtZGdwdV9zcmlv
dl92ZihhZGV2KSkNCisgICAgICAgICAgICAgICAqZmxhZ3MgPSAwOw0KKw0KKyAgICAgICAvKiBB
TURfQ0dfU1VQUE9SVF9NQ19NR0NHICovDQorICAgICAgIGRhdGEgPSBSUkVHMzJfU09DMTUoTU1I
VUIsIDAsIG1tQVRDTDJfMF9BVENfTDJfTUlTQ19DRyk7DQorDQorICAgICAgIGRhdGExID0gUlJF
RzMyX1NPQzE1KE1NSFVCLCAwLCBtbUFUQ0wyXzBfQVRDX0wyX01JU0NfQ0cpOw0KKw0KKyAgICAg
ICBpZiAoKGRhdGEgJiBBVENMMl8wX0FUQ19MMl9NSVNDX0NHX19FTkFCTEVfTUFTSykgJiYNCisg
ICAgICAgICAgICEoZGF0YTEgJiAoREFHQjBfQ05UTF9NSVNDMl9fRElTQUJMRV9XUlJFUV9DR19N
QVNLIHwNCisgICAgICAgICAgICAgICAgICAgICAgREFHQjBfQ05UTF9NSVNDMl9fRElTQUJMRV9X
UlJFVF9DR19NQVNLIHwNCisgICAgICAgICAgICAgICAgICAgICAgREFHQjBfQ05UTF9NSVNDMl9f
RElTQUJMRV9SRFJFUV9DR19NQVNLIHwNCisgICAgICAgICAgICAgICAgICAgICAgREFHQjBfQ05U
TF9NSVNDMl9fRElTQUJMRV9SRFJFVF9DR19NQVNLIHwNCisgICAgICAgICAgICAgICAgICAgICAg
REFHQjBfQ05UTF9NSVNDMl9fRElTQUJMRV9UTEJXUl9DR19NQVNLIHwNCisgICAgICAgICAgICAg
ICAgICAgICAgREFHQjBfQ05UTF9NSVNDMl9fRElTQUJMRV9UTEJSRF9DR19NQVNLKSkpDQorICAg
ICAgICAgICAgICAgKmZsYWdzIHw9IEFNRF9DR19TVVBQT1JUX01DX01HQ0c7DQorDQorICAgICAg
IC8qIEFNRF9DR19TVVBQT1JUX01DX0xTICovDQorICAgICAgIGlmIChkYXRhICYgQVRDTDJfMF9B
VENfTDJfTUlTQ19DR19fTUVNX0xTX0VOQUJMRV9NQVNLKQ0KKyAgICAgICAgICAgICAgICpmbGFn
cyB8PSBBTURfQ0dfU1VQUE9SVF9NQ19MUzsgfQ0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L21taHViX3Y5XzQuaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L21t
aHViX3Y5XzQuaA0KaW5kZXggOWJhM2RkOC4uZDQzNWNmYyAxMDA2NDQNCi0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L21taHViX3Y5XzQuaA0KKysrIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvbW1odWJfdjlfNC5oDQpAQCAtMjksNSArMjksOCBAQCB2b2lkIG1taHViX3Y5XzRf
Z2FydF9kaXNhYmxlKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KTsgIHZvaWQgbW1odWJfdjlf
NF9zZXRfZmF1bHRfZW5hYmxlX2RlZmF1bHQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb2wgdmFsdWUpOyAgdm9p
ZCBtbWh1Yl92OV80X2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpOw0KK2ludCBtbWh1
Yl92OV80X3NldF9jbG9ja2dhdGluZyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCisgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtIGFtZF9jbG9ja2dhdGluZ19zdGF0ZSBzdGF0
ZSk7IHZvaWQgDQorbW1odWJfdjlfNF9nZXRfY2xvY2tnYXRpbmcoc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYsIHUzMiAqZmxhZ3MpOw0KDQogI2VuZGlmDQotLQ0KMi43LjQNCg0KX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18NCmFtZC1nZnggbWFpbGluZyBs
aXN0DQphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZw0KaHR0cHM6Ly9saXN0cy5mcmVlZGVz
a3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4DQpfX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxp
c3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFu
L2xpc3RpbmZvL2FtZC1nZng=
