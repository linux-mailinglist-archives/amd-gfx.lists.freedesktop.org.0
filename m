Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 4E0186E5FC
	for <lists+amd-gfx@lfdr.de>; Fri, 19 Jul 2019 15:00:33 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A81E26E828;
	Fri, 19 Jul 2019 13:00:31 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-ed1-x541.google.com (mail-ed1-x541.google.com
 [IPv6:2a00:1450:4864:20::541])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 07E406E829
 for <amd-gfx@lists.freedesktop.org>; Fri, 19 Jul 2019 13:00:29 +0000 (UTC)
Received: by mail-ed1-x541.google.com with SMTP id w13so34443374eds.4
 for <amd-gfx@lists.freedesktop.org>; Fri, 19 Jul 2019 06:00:29 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:sender:date:from:to:cc:subject:message-id
 :references:mime-version:content-disposition
 :content-transfer-encoding:in-reply-to:user-agent;
 bh=qmIzZNGR8LJDnyjO7Uod9TZfBuVnU7KktJ72kxIBTMk=;
 b=V0WVD7ZlNpwTXeQbI+fZ0XoZMHiKSx/HqRSXkfKHSi6gLzG19jvHSQAm8mzf5tBVXf
 9XUB1VXmvaiLvcAHqjUv2xLOK3HnWgbNtd/UmY0fEIyes77CbbWcAHxmruV2qCkZcRiJ
 15WyRapPDPXZ64FHhT0NAMfLivbgmVpUgl3FYXkrBNrdpF+VRoiS+2Q8dNnmshiWjXzB
 MDck0snuFbBQ8yJUgvlqLPxjrvHsyHr6iI64LzgV+ShGCsfRcaBJz1aWsUCM99WZt2KQ
 4mun779GQc/RdYS9FIGsw+hUyI8pqbSag0N3X5B4B4FKxGF+YKsjMGFJ6wILcHObXMoo
 rpUA==
X-Gm-Message-State: APjAAAWISRSlDBBzrrNdOSUniarIRd15kOFjGYgO/SrHNhpjZtFvUzPa
 6BU+lSkkwxX4ae+Gy5354U8=
X-Google-Smtp-Source: APXvYqwzuUO0dARa+lByE0mVTNEvkGXxLuktslqUdnyxVlEKGnN0KIisZBZcAI17UyKG9o3A9pi9nA==
X-Received: by 2002:a17:906:45cb:: with SMTP id
 z11mr40911090ejq.254.1563541228574; 
 Fri, 19 Jul 2019 06:00:28 -0700 (PDT)
Received: from phenom.ffwll.local ([2a02:168:569e:0:3106:d637:d723:e855])
 by smtp.gmail.com with ESMTPSA id x10sm8672788edd.73.2019.07.19.06.00.26
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Fri, 19 Jul 2019 06:00:27 -0700 (PDT)
Date: Fri, 19 Jul 2019 15:00:25 +0200
From: Daniel Vetter <daniel@ffwll.ch>
To: "Koenig, Christian" <Christian.Koenig@amd.com>
Subject: Re: [PATCH 4/7] drm/radeon: Fill out gem_object->resv
Message-ID: <20190719130025.GN15868@phenom.ffwll.local>
References: <20190625204208.5614-1-daniel.vetter@ffwll.ch>
 <20190625204208.5614-5-daniel.vetter@ffwll.ch>
 <4cfa949e-1a20-149c-0758-e1bd97fd3cf5@amd.com>
 <20190626082312.GI12905@phenom.ffwll.local>
 <20190627073350.GG12905@phenom.ffwll.local>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20190627073350.GG12905@phenom.ffwll.local>
X-Operating-System: Linux phenom 4.19.0-5-amd64 
User-Agent: Mutt/1.10.1 (2018-07-13)
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=ffwll.ch; s=google;
 h=sender:date:from:to:cc:subject:message-id:references:mime-version
 :content-disposition:content-transfer-encoding:in-reply-to
 :user-agent;
 bh=qmIzZNGR8LJDnyjO7Uod9TZfBuVnU7KktJ72kxIBTMk=;
 b=iMnZAgbdhWDe4kdAVTZfJUKPHw6NHdbTvQwoG2E6HBkNosG2UEMCbFaADJsw0AoKUy
 43LxbSaXt/KHjxJtOdmU1SL9cHi+KuqTZsVA8XaazPxeQEGr/eJmWB1wKUNipfctGGBk
 TxOFw89AqXkYuZmafZb9d0m85G8PgbK6FdFBc=
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Zhou, David\(ChunMing\)" <David1.Zhou@amd.com>,
 Daniel Vetter <daniel.vetter@ffwll.ch>,
 DRI Development <dri-devel@lists.freedesktop.org>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>, "Deucher,
 Alexander" <Alexander.Deucher@amd.com>,
 Daniel Vetter <daniel.vetter@intel.com>,
 Emil Velikov <emil.velikov@collabora.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

T24gVGh1LCBKdW4gMjcsIDIwMTkgYXQgMDk6MzM6NTBBTSArMDIwMCwgRGFuaWVsIFZldHRlciB3
cm90ZToKPiBPbiBXZWQsIEp1biAyNiwgMjAxOSBhdCAxMDoyMzoxMkFNICswMjAwLCBEYW5pZWwg
VmV0dGVyIHdyb3RlOgo+ID4gT24gV2VkLCBKdW4gMjYsIDIwMTkgYXQgMDc6MTA6MjFBTSArMDAw
MCwgS29lbmlnLCBDaHJpc3RpYW4gd3JvdGU6Cj4gPiA+IFRob3NlIHBhdGNoZXMgd291bGQgYmVj
b21lIHN1cGVyZmx1b3VzIHdoZW4gbWVyZ2luZyBHZXJkJ3Mgd29yay4KPiA+IAo+ID4gTm90IGVu
dGlyZWx5LCB0aGV5IHN0aWxsIHJlbW92ZSB0aGUgZ2VtX3ByaW1lX3Jlc19vYmouIFNldHRpbmcg
dXAKPiA+IGdlbV9iby5yZXN2IGlzIG9ubHkgb25lIGhhbGYgb2Ygd2hhdCB0aGVzZSBkbyBoZXJl
LiBBbmQgeWVhaCBJIHRoaW5rIHRoYXQKPiA+IHNpbmdsZSBhZGRpdGlvbiBjYW4gYmUgcmVtb3Zl
ZCBhZ2FpbiB3aGVuIEdlcmQncyBzdHVmZiBsYW5kcy4KPiA+ICAKPiA+ID4gQnV0IEknbSBub3Qg
c3VyZSBpZiB0aGF0IGlzIGdvaW5nIHRvIGZseSBzb29uIG9yIG5vdC4KPiA+IAo+ID4gSSB0aGlu
ayByLWIgZnJvbSBUaG9tYXMgWmltbWVybWFubiAob3Igc29tZSBvdGhlciB0dG0rZ2VtIHN0YWtl
aG9sZGVyKSBhbmQKPiA+IHdlJ3JlIGdvb2QgdG8gbGFuZCB0aGVtLiBUaG9tYXMgSGVsbHN0cm9t
IG1lbGxvd2VkIGRvd24gaGlzICJuYWNrIiB0bwo+ID4gIkknbGwgbG9vayBhdCB0aGlzIGluIEF1
Z3VzdCBhZ2FpbiBhbmQgY291cnNlLWNvcnJlY3QgaWYgbmVjZXNzYXJ5Ii4KPiAKPiBKdXN0IHBp
bmdlZCBHZXJkIG9uIHRoaXMsIHNvIHdlIGNhbiBzdGFydCBjb29yZGluYXRpb24uCj4gCj4gYnR3
IHBsYW5uaW5nIHRvIHJldmlldyB0aGlzIGZyb20gYW1kIHNpZGUsIEknZCBsaWtlIHRvIGRpdGNo
Cj4gZ2VtX3ByaW1lX3Jlc19vYmogZXNwZWNpYWxseSB3aXRoIEdlcmQgc2VyaWVzIGl0J3MgcG9p
bnRsZXNzLgoKR2VyZCByZWJhc2VkIGhpcyBzZXJpZXMgb24gdG9wIG9mIHRoaXMsIHNvIHJldmll
dyB3b3VsZCBiZSBuZWF0IHRvIHVuYmxvY2sKZXZlcnl0aGluZy4gSSdkIGxpa2UgdG8gZ2V0IHRo
aXMgYWxsIGxhbmRlZCBmb3IgNS40LgoKVGhhbmtzLCBEYW5pZWwKCj4gLURhbmllbAo+IAo+ID4g
LURhbmllbAo+ID4gCj4gPiA+IAo+ID4gPiBDaHJpc3RpYW4uCj4gPiA+IAo+ID4gPiBBbSAyNS4w
Ni4xOSB1bSAyMjo0MiBzY2hyaWViIERhbmllbCBWZXR0ZXI6Cj4gPiA+ID4gVGhhdCB3YXkgd2Ug
Y2FuIGRpdGNoIG91ciBnZW1fcHJpbWVfcmVzX29iaiBpbXBsZW1lbnRhdGlvbi4gU2luY2UgdHRt
Cj4gPiA+ID4gYWJzb2x1dGVseSBuZWVkcyB0aGUgcmlnaHQgcmVzZXJ2YXRpb24gb2JqZWN0IGFs
bCB0aGUgYm9pbGVycGxhdGUgaXMKPiA+ID4gPiBhbHJlYWR5IHRoZXJlIGFuZCB3ZSBqdXN0IGhh
dmUgdG8gd2lyZSBpdCB1cCBjb3JyZWN0bHkuCj4gPiA+ID4KPiA+ID4gPiBOb3RlIHRoYXQgZ2Vt
L3ByaW1lIGRvZXNuJ3QgY2FyZSB3aGVuIHdlIGRvIHRoaXMsIGFzIGxvbmcgYXMgd2UgZG8gaXQK
PiA+ID4gPiBiZWZvcmUgdGhlIGJvIGlzIHJlZ2lzdGVyZWQgYW5kIHNvbWVvbmUgY2FuIGNhbGwg
dGhlIGhhbmRsZTJmZCBpb2N0bAo+ID4gPiA+IG9uIGl0Lgo+ID4gPiA+Cj4gPiA+ID4gQXNpZGU6
IHR0bV9idWZmZXJfb2JqZWN0LnR0bV9yZXN2IGNvdWxkIHByb2JhYmx5IGJlIGRpdGNoZWQgaW4g
ZmF2b3VyCj4gPiA+ID4gb2YgYWx3YXlzIHBhc3NpbmcgYSBub24tTlVMTCByZXN2IHRvIHR0bV9i
b19pbml0KCkuIEF0IGxlYXN0IGZvciBnZW0KPiA+ID4gPiBkcml2ZXJzIHRoYXQgd291bGQgYXZv
aWQgaGF2aW5nIHR3byBvZiB0aGVzZSwgb24gaW4gdHRtX2J1ZmZlcl9vYmplY3QKPiA+ID4gPiBh
bmQgdGhlIG90aGVyIGluIGRybV9nZW1fb2JqZWN0LCBvbmUganVzdCB0aGVyZSBmb3IgY29uZnVz
aW9uLgo+ID4gPiA+Cj4gPiA+ID4gUmV2aWV3ZWQtYnk6IEVtaWwgVmVsaWtvdiA8ZW1pbC52ZWxp
a292QGNvbGxhYm9yYS5jb20+Cj4gPiA+ID4gU2lnbmVkLW9mZi1ieTogRGFuaWVsIFZldHRlciA8
ZGFuaWVsLnZldHRlckBpbnRlbC5jb20+Cj4gPiA+ID4gQ2M6IEFsZXggRGV1Y2hlciA8YWxleGFu
ZGVyLmRldWNoZXJAYW1kLmNvbT4KPiA+ID4gPiBDYzogIkNocmlzdGlhbiBLw7ZuaWciIDxjaHJp
c3RpYW4ua29lbmlnQGFtZC5jb20+Cj4gPiA+ID4gQ2M6ICJEYXZpZCAoQ2h1bk1pbmcpIFpob3Ui
IDxEYXZpZDEuWmhvdUBhbWQuY29tPgo+ID4gPiA+IENjOiBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNr
dG9wLm9yZwo+ID4gPiA+IC0tLQo+ID4gPiA+ICAgZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRl
b25fZHJ2LmMgICAgfCAyIC0tCj4gPiA+ID4gICBkcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVv
bl9vYmplY3QuYyB8IDEgKwo+ID4gPiA+ICAgZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25f
cHJpbWUuYyAgfCA3IC0tLS0tLS0KPiA+ID4gPiAgIDMgZmlsZXMgY2hhbmdlZCwgMSBpbnNlcnRp
b24oKyksIDkgZGVsZXRpb25zKC0pCj4gPiA+ID4KPiA+ID4gPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fZHJ2LmMgYi9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3Jh
ZGVvbl9kcnYuYwo+ID4gPiA+IGluZGV4IDQ0MDNlNzZlMWFlMC4uYTRhNzhkZmRlZjM3IDEwMDY0
NAo+ID4gPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9uX2Rydi5jCj4gPiA+
ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25fZHJ2LmMKPiA+ID4gPiBAQCAt
MTUyLDcgKzE1Miw2IEBAIHN0cnVjdCBkcm1fZ2VtX29iamVjdCAqcmFkZW9uX2dlbV9wcmltZV9p
bXBvcnRfc2dfdGFibGUoc3RydWN0IGRybV9kZXZpY2UgKmRldiwKPiA+ID4gPiAgIAkJCQkJCQlz
dHJ1Y3Qgc2dfdGFibGUgKnNnKTsKPiA+ID4gPiAgIGludCByYWRlb25fZ2VtX3ByaW1lX3Bpbihz
dHJ1Y3QgZHJtX2dlbV9vYmplY3QgKm9iaik7Cj4gPiA+ID4gICB2b2lkIHJhZGVvbl9nZW1fcHJp
bWVfdW5waW4oc3RydWN0IGRybV9nZW1fb2JqZWN0ICpvYmopOwo+ID4gPiA+IC1zdHJ1Y3QgcmVz
ZXJ2YXRpb25fb2JqZWN0ICpyYWRlb25fZ2VtX3ByaW1lX3Jlc19vYmooc3RydWN0IGRybV9nZW1f
b2JqZWN0ICopOwo+ID4gPiA+ICAgdm9pZCAqcmFkZW9uX2dlbV9wcmltZV92bWFwKHN0cnVjdCBk
cm1fZ2VtX29iamVjdCAqb2JqKTsKPiA+ID4gPiAgIHZvaWQgcmFkZW9uX2dlbV9wcmltZV92dW5t
YXAoc3RydWN0IGRybV9nZW1fb2JqZWN0ICpvYmosIHZvaWQgKnZhZGRyKTsKPiA+ID4gPiAgIAo+
ID4gPiA+IEBAIC01NjYsNyArNTY1LDYgQEAgc3RhdGljIHN0cnVjdCBkcm1fZHJpdmVyIGttc19k
cml2ZXIgPSB7Cj4gPiA+ID4gICAJLmdlbV9wcmltZV9leHBvcnQgPSByYWRlb25fZ2VtX3ByaW1l
X2V4cG9ydCwKPiA+ID4gPiAgIAkuZ2VtX3ByaW1lX3BpbiA9IHJhZGVvbl9nZW1fcHJpbWVfcGlu
LAo+ID4gPiA+ICAgCS5nZW1fcHJpbWVfdW5waW4gPSByYWRlb25fZ2VtX3ByaW1lX3VucGluLAo+
ID4gPiA+IC0JLmdlbV9wcmltZV9yZXNfb2JqID0gcmFkZW9uX2dlbV9wcmltZV9yZXNfb2JqLAo+
ID4gPiA+ICAgCS5nZW1fcHJpbWVfZ2V0X3NnX3RhYmxlID0gcmFkZW9uX2dlbV9wcmltZV9nZXRf
c2dfdGFibGUsCj4gPiA+ID4gICAJLmdlbV9wcmltZV9pbXBvcnRfc2dfdGFibGUgPSByYWRlb25f
Z2VtX3ByaW1lX2ltcG9ydF9zZ190YWJsZSwKPiA+ID4gPiAgIAkuZ2VtX3ByaW1lX3ZtYXAgPSBy
YWRlb25fZ2VtX3ByaW1lX3ZtYXAsCj4gPiA+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9yYWRlb24vcmFkZW9uX29iamVjdC5jIGIvZHJpdmVycy9ncHUvZHJtL3JhZGVvbi9yYWRlb25f
b2JqZWN0LmMKPiA+ID4gPiBpbmRleCAyMWY3M2ZjODZmMzguLjdhMmJhZDg0M2Y4YSAxMDA2NDQK
PiA+ID4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl9vYmplY3QuYwo+ID4g
PiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24vcmFkZW9uX29iamVjdC5jCj4gPiA+ID4g
QEAgLTI2Miw2ICsyNjIsNyBAQCBpbnQgcmFkZW9uX2JvX2NyZWF0ZShzdHJ1Y3QgcmFkZW9uX2Rl
dmljZSAqcmRldiwKPiA+ID4gPiAgIAlyID0gdHRtX2JvX2luaXQoJnJkZXYtPm1tYW4uYmRldiwg
JmJvLT50Ym8sIHNpemUsIHR5cGUsCj4gPiA+ID4gICAJCQkmYm8tPnBsYWNlbWVudCwgcGFnZV9h
bGlnbiwgIWtlcm5lbCwgYWNjX3NpemUsCj4gPiA+ID4gICAJCQlzZywgcmVzdiwgJnJhZGVvbl90
dG1fYm9fZGVzdHJveSk7Cj4gPiA+ID4gKwliby0+Z2VtX2Jhc2UucmVzdiA9IGJvLT50Ym8ucmVz
djsKPiA+ID4gPiAgIAl1cF9yZWFkKCZyZGV2LT5wbS5tY2xrX2xvY2spOwo+ID4gPiA+ICAgCWlm
ICh1bmxpa2VseShyICE9IDApKSB7Cj4gPiA+ID4gICAJCXJldHVybiByOwo+ID4gPiA+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVvbl9wcmltZS5jIGIvZHJpdmVycy9n
cHUvZHJtL3JhZGVvbi9yYWRlb25fcHJpbWUuYwo+ID4gPiA+IGluZGV4IGRlYWZmY2U1MGEyZS4u
OGNlM2U4MDQ1ZDQyIDEwMDY0NAo+ID4gPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9yYWRlb24v
cmFkZW9uX3ByaW1lLmMKPiA+ID4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vcmFkZW9uL3JhZGVv
bl9wcmltZS5jCj4gPiA+ID4gQEAgLTExNywxMyArMTE3LDYgQEAgdm9pZCByYWRlb25fZ2VtX3By
aW1lX3VucGluKHN0cnVjdCBkcm1fZ2VtX29iamVjdCAqb2JqKQo+ID4gPiA+ICAgfQo+ID4gPiA+
ICAgCj4gPiA+ID4gICAKPiA+ID4gPiAtc3RydWN0IHJlc2VydmF0aW9uX29iamVjdCAqcmFkZW9u
X2dlbV9wcmltZV9yZXNfb2JqKHN0cnVjdCBkcm1fZ2VtX29iamVjdCAqb2JqKQo+ID4gPiA+IC17
Cj4gPiA+ID4gLQlzdHJ1Y3QgcmFkZW9uX2JvICpibyA9IGdlbV90b19yYWRlb25fYm8ob2JqKTsK
PiA+ID4gPiAtCj4gPiA+ID4gLQlyZXR1cm4gYm8tPnRiby5yZXN2Owo+ID4gPiA+IC19Cj4gPiA+
ID4gLQo+ID4gPiA+ICAgc3RydWN0IGRtYV9idWYgKnJhZGVvbl9nZW1fcHJpbWVfZXhwb3J0KHN0
cnVjdCBkcm1fZ2VtX29iamVjdCAqZ29iaiwKPiA+ID4gPiAgIAkJCQkJaW50IGZsYWdzKQo+ID4g
PiA+ICAgewo+ID4gPiAKPiA+IAo+ID4gLS0gCj4gPiBEYW5pZWwgVmV0dGVyCj4gPiBTb2Z0d2Fy
ZSBFbmdpbmVlciwgSW50ZWwgQ29ycG9yYXRpb24KPiA+IGh0dHA6Ly9ibG9nLmZmd2xsLmNoCj4g
Cj4gLS0gCj4gRGFuaWVsIFZldHRlcgo+IFNvZnR3YXJlIEVuZ2luZWVyLCBJbnRlbCBDb3Jwb3Jh
dGlvbgo+IGh0dHA6Ly9ibG9nLmZmd2xsLmNoCgotLSAKRGFuaWVsIFZldHRlcgpTb2Z0d2FyZSBF
bmdpbmVlciwgSW50ZWwgQ29ycG9yYXRpb24KaHR0cDovL2Jsb2cuZmZ3bGwuY2gKX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxp
c3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3Rv
cC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4
