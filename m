Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 5DB636524C
	for <lists+amd-gfx@lfdr.de>; Thu, 11 Jul 2019 09:13:47 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 019FE6E034;
	Thu, 11 Jul 2019 07:13:46 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM02-SN1-obe.outbound.protection.outlook.com
 (mail-eopbgr770053.outbound.protection.outlook.com [40.107.77.53])
 by gabe.freedesktop.org (Postfix) with ESMTPS id CDD9F6E034
 for <amd-gfx@lists.freedesktop.org>; Thu, 11 Jul 2019 07:13:44 +0000 (UTC)
Received: from BN8PR12MB3602.namprd12.prod.outlook.com (20.178.212.86) by
 BN8PR12MB3507.namprd12.prod.outlook.com (20.179.67.160) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2052.19; Thu, 11 Jul 2019 07:13:41 +0000
Received: from BN8PR12MB3602.namprd12.prod.outlook.com
 ([fe80::8d31:f3d2:a080:9a9c]) by BN8PR12MB3602.namprd12.prod.outlook.com
 ([fe80::8d31:f3d2:a080:9a9c%5]) with mapi id 15.20.2052.020; Thu, 11 Jul 2019
 07:13:41 +0000
From: "Yuan, Xiaojie" <Xiaojie.Yuan@amd.com>
To: "Zhang, Hawking" <Hawking.Zhang@amd.com>, "amd-gfx@lists.freedesktop.org"
 <amd-gfx@lists.freedesktop.org>, "Clements, John" <John.Clements@amd.com>, 
 "Deucher, Alexander" <Alexander.Deucher@amd.com>
Subject: Re: [PATCH 2/2] drm/amdgpu: support key database loading for navi10
Thread-Topic: [PATCH 2/2] drm/amdgpu: support key database loading for navi10
Thread-Index: AQHVNzh0RHiPNQuBy0+GwB2tBD1aMabFAc6M
Date: Thu, 11 Jul 2019 07:13:41 +0000
Message-ID: <BN8PR12MB3602528BC66FDC530A74E01089F30@BN8PR12MB3602.namprd12.prod.outlook.com>
References: <1562774338-4457-1-git-send-email-Hawking.Zhang@amd.com>,
 <1562774338-4457-2-git-send-email-Hawking.Zhang@amd.com>
In-Reply-To: <1562774338-4457-2-git-send-email-Hawking.Zhang@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 1b85be59-8efa-44f9-8001-08d705cf4dba
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:BN8PR12MB3507; 
x-ms-traffictypediagnostic: BN8PR12MB3507:
x-ms-exchange-purlcount: 1
x-microsoft-antispam-prvs: <BN8PR12MB350737CF4C7DA88F3CE01AA689F30@BN8PR12MB3507.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:1122;
x-forefront-prvs: 0095BCF226
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(136003)(39860400002)(396003)(376002)(366004)(346002)(199004)(189003)(76116006)(74316002)(316002)(66446008)(110136005)(66066001)(64756008)(81166006)(66946007)(476003)(66556008)(305945005)(8676002)(14444005)(11346002)(52536014)(486006)(446003)(8936002)(5660300002)(66476007)(81156014)(25786009)(6636002)(53936002)(14454004)(6116002)(2906002)(6506007)(186003)(99286004)(26005)(71190400001)(76176011)(229853002)(53546011)(478600001)(86362001)(71200400001)(102836004)(6436002)(6246003)(256004)(2501003)(966005)(68736007)(6306002)(7696005)(3846002)(33656002)(9686003)(55016002)(7736002)(130980200001);
 DIR:OUT; SFP:1101; SCL:1; SRVR:BN8PR12MB3507;
 H:BN8PR12MB3602.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: C9uGmozapoi6kiyvt8OeP5fLvWQNiohqDYlYoVBmZC3KxkYcEh5wyrpLsIDaldJQ8pTVgflSwTCGpKyOpi8BUaSAtBiPsvtAn2u0Jg72vvE+72UupYZXFwzcmGtDn0lmgmZ4031oKmyQ2TQrosMYWdvW7Oe2GzQTeDMCmBwRIYsKCSE3cNbpJzU71IzKwnY54OLuRRkthwidcjlvE6KHHdBeS5Wtby1a2E/g3nzcstRUZb7MavorUvBz7/zoJjUDOa5ai9DGfennVXwdd/AFNBv17kShXpq9HbgC/eQRBnMspPmmNgTx9oeAi0Htq1A9scNoWyrPAXjaO9kVPuaEubDoZM/cLHup1STVDHgDFE+ct00cqM8lbDITfp2LwfGE3NkE8z7Qc86bD6Ofy12Hic/oNAbeUL8vA3oplfLuOWk=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 1b85be59-8efa-44f9-8001-08d705cf4dba
X-MS-Exchange-CrossTenant-originalarrivaltime: 11 Jul 2019 07:13:41.4852 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: xiyuan@amd.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BN8PR12MB3507
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=fUxFQ/DUjAli9ArY/w/AuyX3A1fijUMbd1qOhT3MHVk=;
 b=HXshVdA5VuVZdmwG/81+n01SViGYF/u/k7RFDzGmbyWoJs8Uxjrvgb4kaE6DIkqcnp0cm+BQYM1J5F9vIo4wrr6bTEa3rs9lJyDYBa8umPnOcbpW1ADfP4NkHpChVJ80730Hw+wp62PiDkeh4trs9u6rXD4f8iSQlclhk64mwA8=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Xiaojie.Yuan@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

UmV2aWV3ZWQtYnk6IFhpYW9qaWUgWXVhbiA8eGlhb2ppZS55dWFuQGFtZC5jb20+CgpCUiwKWGlh
b2ppZQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpGcm9tOiBhbWQt
Z2Z4IDxhbWQtZ2Z4LWJvdW5jZXNAbGlzdHMuZnJlZWRlc2t0b3Aub3JnPiBvbiBiZWhhbGYgb2Yg
SGF3a2luZyBaaGFuZyA8SGF3a2luZy5aaGFuZ0BhbWQuY29tPgpTZW50OiBXZWRuZXNkYXksIEp1
bHkgMTAsIDIwMTkgMTE6NTggUE0KVG86IGFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnOyBZ
dWFuLCBYaWFvamllOyBDbGVtZW50cywgSm9objsgRGV1Y2hlciwgQWxleGFuZGVyCkNjOiBaaGFu
ZywgSGF3a2luZwpTdWJqZWN0OiBbUEFUQ0ggMi8yXSBkcm0vYW1kZ3B1OiBzdXBwb3J0IGtleSBk
YXRhYmFzZSBsb2FkaW5nIGZvciBuYXZpMTAKClN0YXJ0aW5nIGZyb20gbmF2aTEwLCBkcml2ZXIg
c2hvdWxkIHNlbmQgS2V5IERhdGFiYXNlIExvYWQgY29tbWFuZAp0byBCb290bG9hZGVyIGJlZm9y
ZSBsb2FkaW5nIHN5c19kcnYgYW5kIHNvcwoKQ2hhbmdlLUlkOiBJYjgyZDIxODQwZmI3N2RhMjIx
N2RkOGI4ZjAxMzE3N2U2MWQ3Mjk5MApTaWduZWQtb2ZmLWJ5OiBKb2huIENsZW1lbnRzIDxKb2hu
LkNsZW1lbnRzQGFtZC5jb20+ClNpZ25lZC1vZmYtYnk6IEhhd2tpbmcgWmhhbmcgPEhhd2tpbmcu
WmhhbmdAYW1kLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfcHNw
LmMgICB8IDEwICsrKysrKysKIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9wc3Au
aCAgIHwgIDUgKysrKwogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3Vjb2RlLmMg
fCAgNiArKysrCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdWNvZGUuaCB8ICAz
ICsrCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9wc3BfdjExXzAuYyAgICB8IDQ5ICsrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKy0KIDUgZmlsZXMgY2hhbmdlZCwgNzIgaW5zZXJ0aW9u
cygrKSwgMSBkZWxldGlvbigtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2FtZGdwdV9wc3AuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9wc3Au
YwppbmRleCBlZDU4MGU4Yi4uMzM3OGNiMzggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2FtZGdwdV9wc3AuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9h
bWRncHVfcHNwLmMKQEAgLTc3MCw2ICs3NzAsMTYgQEAgc3RhdGljIGludCBwc3BfaHdfc3RhcnQo
c3RydWN0IHBzcF9jb250ZXh0ICpwc3ApCiAgICAgICAgaW50IHJldDsKCiAgICAgICAgaWYgKCFh
bWRncHVfc3Jpb3ZfdmYoYWRldikgfHwgIWFkZXYtPmluX2dwdV9yZXNldCkgeworCisgICAgICAg
ICAgICAgICBpZiAocHNwLT5rZGJfc3RhcnRfYWRkciAmJgorICAgICAgICAgICAgICAgICAgIChw
c3AtPmZ1bmNzLT5ib290bG9hZGVyX2xvYWRfa2RiICE9IE5VTEwpKSB7CisgICAgICAgICAgICAg
ICAgICAgICAgIHJldCA9IHBzcF9ib290bG9hZGVyX2xvYWRfa2RiKHBzcCk7CisgICAgICAgICAg
ICAgICAgICAgICAgIGlmIChyZXQpIHsKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBE
Uk1fRVJST1IoIlBTUCBsb2FkIGtkYiBmYWlsZWQhXG4iKTsKKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICByZXR1cm4gcmV0OworICAgICAgICAgICAgICAgICAgICAgICB9CisgICAgICAg
ICAgICAgICB9CisKICAgICAgICAgICAgICAgIHJldCA9IHBzcF9ib290bG9hZGVyX2xvYWRfc3lz
ZHJ2KHBzcCk7CiAgICAgICAgICAgICAgICBpZiAocmV0KSB7CiAgICAgICAgICAgICAgICAgICAg
ICAgIERSTV9FUlJPUigiUFNQIGxvYWQgc3lzZHJ2IGZhaWxlZCFcbiIpOwpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3BzcC5oIGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvYW1kZ3B1X3BzcC5oCmluZGV4IDhkZGNlYzEuLjZmMTc0NmIgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9wc3AuaAorKysgYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfcHNwLmgKQEAgLTgyLDYgKzgyLDcgQEAgZW51bSBw
c3BfcmVnX3Byb2dfaWQgewogc3RydWN0IHBzcF9mdW5jcwogewogICAgICAgIGludCAoKmluaXRf
bWljcm9jb2RlKShzdHJ1Y3QgcHNwX2NvbnRleHQgKnBzcCk7CisgICAgICAgaW50ICgqYm9vdGxv
YWRlcl9sb2FkX2tkYikoc3RydWN0IHBzcF9jb250ZXh0ICpwc3ApOwogICAgICAgIGludCAoKmJv
b3Rsb2FkZXJfbG9hZF9zeXNkcnYpKHN0cnVjdCBwc3BfY29udGV4dCAqcHNwKTsKICAgICAgICBp
bnQgKCpib290bG9hZGVyX2xvYWRfc29zKShzdHJ1Y3QgcHNwX2NvbnRleHQgKnBzcCk7CiAgICAg
ICAgaW50ICgqcmluZ19pbml0KShzdHJ1Y3QgcHNwX2NvbnRleHQgKnBzcCwgZW51bSBwc3Bfcmlu
Z190eXBlIHJpbmdfdHlwZSk7CkBAIC0xNjUsOSArMTY2LDExIEBAIHN0cnVjdCBwc3BfY29udGV4
dAogICAgICAgIHVpbnQzMl90ICAgICAgICAgICAgICAgICAgICAgICAgc3lzX2Jpbl9zaXplOwog
ICAgICAgIHVpbnQzMl90ICAgICAgICAgICAgICAgICAgICAgICAgc29zX2Jpbl9zaXplOwogICAg
ICAgIHVpbnQzMl90ICAgICAgICAgICAgICAgICAgICAgICAgdG9jX2Jpbl9zaXplOworICAgICAg
IHVpbnQzMl90ICAgICAgICAgICAgICAgICAgICAgICAga2RiX2Jpbl9zaXplOwogICAgICAgIHVp
bnQ4X3QgICAgICAgICAgICAgICAgICAgICAgICAgKnN5c19zdGFydF9hZGRyOwogICAgICAgIHVp
bnQ4X3QgICAgICAgICAgICAgICAgICAgICAgICAgKnNvc19zdGFydF9hZGRyOwogICAgICAgIHVp
bnQ4X3QgICAgICAgICAgICAgICAgICAgICAgICAgKnRvY19zdGFydF9hZGRyOworICAgICAgIHVp
bnQ4X3QgICAgICAgICAgICAgICAgICAgICAgICAgKmtkYl9zdGFydF9hZGRyOwoKICAgICAgICAv
KiB0bXIgYnVmZmVyICovCiAgICAgICAgc3RydWN0IGFtZGdwdV9ibyAgICAgICAgICAgICAgICAq
dG1yX2JvOwpAQCAtMjI5LDYgKzIzMiw4IEBAIHN0cnVjdCBhbWRncHVfcHNwX2Z1bmNzIHsKICAg
ICAgICAgICAgICAgIChwc3ApLT5mdW5jcy0+Y29tcGFyZV9zcmFtX2RhdGEoKHBzcCksICh1Y29k
ZSksICh0eXBlKSkKICNkZWZpbmUgcHNwX2luaXRfbWljcm9jb2RlKHBzcCkgXAogICAgICAgICAg
ICAgICAgKChwc3ApLT5mdW5jcy0+aW5pdF9taWNyb2NvZGUgPyAocHNwKS0+ZnVuY3MtPmluaXRf
bWljcm9jb2RlKChwc3ApKSA6IDApCisjZGVmaW5lIHBzcF9ib290bG9hZGVyX2xvYWRfa2RiKHBz
cCkgXAorICAgICAgICAgICAgICAgKChwc3ApLT5mdW5jcy0+Ym9vdGxvYWRlcl9sb2FkX2tkYiA/
IChwc3ApLT5mdW5jcy0+Ym9vdGxvYWRlcl9sb2FkX2tkYigocHNwKSkgOiAwKQogI2RlZmluZSBw
c3BfYm9vdGxvYWRlcl9sb2FkX3N5c2Rydihwc3ApIFwKICAgICAgICAgICAgICAgICgocHNwKS0+
ZnVuY3MtPmJvb3Rsb2FkZXJfbG9hZF9zeXNkcnYgPyAocHNwKS0+ZnVuY3MtPmJvb3Rsb2FkZXJf
bG9hZF9zeXNkcnYoKHBzcCkpIDogMCkKICNkZWZpbmUgcHNwX2Jvb3Rsb2FkZXJfbG9hZF9zb3Mo
cHNwKSBcCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdWNv
ZGUuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV91Y29kZS5jCmluZGV4IGJm
N2U4YmEuLjIwNDJiNjAgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV91Y29kZS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV91Y29k
ZS5jCkBAIC0yNjIsNiArMjYyLDEyIEBAIHZvaWQgYW1kZ3B1X3Vjb2RlX3ByaW50X3BzcF9oZHIo
Y29uc3Qgc3RydWN0IGNvbW1vbl9maXJtd2FyZV9oZWFkZXIgKmhkcikKICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGxlMzJfdG9fY3B1KHBzcF9oZHJfdjFfMS0+dG9jX29mZnNldF9i
eXRlcykpOwogICAgICAgICAgICAgICAgICAgICAgICBEUk1fREVCVUcoInRvY19zaXplX2J5dGVz
OiAldVxuIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlMzJfdG9fY3B1KHBz
cF9oZHJfdjFfMS0+dG9jX3NpemVfYnl0ZXMpKTsKKyAgICAgICAgICAgICAgICAgICAgICAgRFJN
X0RFQlVHKCJrZGJfaGVhZGVyX3ZlcnNpb246ICV1XG4iLAorICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgbGUzMl90b19jcHUocHNwX2hkcl92MV8xLT5rZGJfaGVhZGVyX3ZlcnNpb24p
KTsKKyAgICAgICAgICAgICAgICAgICAgICAgRFJNX0RFQlVHKCJrZGJfb2Zmc2V0X2J5dGVzOiAl
dVxuIiwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlMzJfdG9fY3B1KHBzcF9o
ZHJfdjFfMS0+a2RiX29mZnNldF9ieXRlcykpOworICAgICAgICAgICAgICAgICAgICAgICBEUk1f
REVCVUcoImtkYl9zaXplX2J5dGVzOiAldVxuIiwKKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGxlMzJfdG9fY3B1KHBzcF9oZHJfdjFfMS0+a2RiX3NpemVfYnl0ZXMpKTsKICAgICAg
ICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgRFJNX0VSUk9SKCJV
bmtub3duIFBTUCB1Y29kZSB2ZXJzaW9uOiAldS4ldVxuIiwKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV91Y29kZS5oIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1X3Vjb2RlLmgKaW5kZXggZjQ2OTQ0NDUuLmMxZmI2ZGMgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV91Y29kZS5oCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV91Y29kZS5oCkBAIC04NSw2ICs4NSw5IEBAIHN0cnVj
dCBwc3BfZmlybXdhcmVfaGVhZGVyX3YxXzEgewogICAgICAgIHVpbnQzMl90IHRvY19oZWFkZXJf
dmVyc2lvbjsKICAgICAgICB1aW50MzJfdCB0b2Nfb2Zmc2V0X2J5dGVzOwogICAgICAgIHVpbnQz
Ml90IHRvY19zaXplX2J5dGVzOworICAgICAgIHVpbnQzMl90IGtkYl9oZWFkZXJfdmVyc2lvbjsK
KyAgICAgICB1aW50MzJfdCBrZGJfb2Zmc2V0X2J5dGVzOworICAgICAgIHVpbnQzMl90IGtkYl9z
aXplX2J5dGVzOwogfTsKCiAvKiB2ZXJzaW9uX21ham9yPTEsIHZlcnNpb25fbWlub3I9MCAqLwpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvcHNwX3YxMV8wLmMgYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9wc3BfdjExXzAuYwppbmRleCBlNzg0MDkxLi5hYzdmMzUy
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9wc3BfdjExXzAuYworKysg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9wc3BfdjExXzAuYwpAQCAtMTA2LDYgKzEwNiwx
MCBAQCBzdGF0aWMgaW50IHBzcF92MTFfMF9pbml0X21pY3JvY29kZShzdHJ1Y3QgcHNwX2NvbnRl
eHQgKnBzcCkKICAgICAgICAgICAgICAgICAgICAgICAgYWRldi0+cHNwLnRvY19iaW5fc2l6ZSA9
IGxlMzJfdG9fY3B1KHNvc19oZHJfdjFfMS0+dG9jX3NpemVfYnl0ZXMpOwogICAgICAgICAgICAg
ICAgICAgICAgICBhZGV2LT5wc3AudG9jX3N0YXJ0X2FkZHIgPSAodWludDhfdCAqKWFkZXYtPnBz
cC5zeXNfc3RhcnRfYWRkciArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBsZTMyX3RvX2NwdShzb3NfaGRyX3YxXzEtPnRvY19vZmZzZXRfYnl0ZXMpOworCisgICAgICAg
ICAgICAgICAgICAgICAgIGFkZXYtPnBzcC5rZGJfYmluX3NpemUgPSBsZTMyX3RvX2NwdShzb3Nf
aGRyX3YxXzEtPmtkYl9zaXplX2J5dGVzKTsKKyAgICAgICAgICAgICAgICAgICAgICAgYWRldi0+
cHNwLmtkYl9zdGFydF9hZGRyID0gKHVpbnQ4X3QgKilhZGV2LT5wc3Auc3lzX3N0YXJ0X2FkZHIg
KworICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGUzMl90b19jcHUoc29z
X2hkcl92MV8xLT5rZGJfb2Zmc2V0X2J5dGVzKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAg
ICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CkBAIC0xODEsNiArMTg1LDQ4IEBAIHN0YXRp
YyBpbnQgcHNwX3YxMV8wX2luaXRfbWljcm9jb2RlKHN0cnVjdCBwc3BfY29udGV4dCAqcHNwKQog
ICAgICAgIHJldHVybiBlcnI7CiB9Cgorc3RhdGljIGludCBwc3BfdjExXzBfYm9vdGxvYWRlcl9s
b2FkX2tkYihzdHJ1Y3QgcHNwX2NvbnRleHQgKnBzcCkKK3sKKyAgICAgICBpbnQgcmV0OworICAg
ICAgIHVpbnQzMl90IHBzcF9nZnhkcnZfY29tbWFuZF9yZWcgPSAwOworICAgICAgIHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2ID0gcHNwLT5hZGV2OworICAgICAgIHVpbnQzMl90IHNvbF9yZWc7
CisKKyAgICAgICAvKiBDaGVjayB0T1Mgc2lnbiBvZiBsaWZlIHJlZ2lzdGVyIHRvIGNvbmZpcm0g
c3lzIGRyaXZlciBhbmQgc09TCisgICAgICAgICogYXJlIGFscmVhZHkgYmVlbiBsb2FkZWQuCisg
ICAgICAgICovCisgICAgICAgc29sX3JlZyA9IFJSRUczMl9TT0MxNShNUDAsIDAsIG1tTVAwX1NN
Tl9DMlBNU0dfODEpOworICAgICAgIGlmIChzb2xfcmVnKSB7CisgICAgICAgICAgICAgICBwc3At
PnNvc19md192ZXJzaW9uID0gUlJFRzMyX1NPQzE1KE1QMCwgMCwgbW1NUDBfU01OX0MyUE1TR181
OCk7CisgICAgICAgICAgICAgICBkZXZfaW5mbyhhZGV2LT5kZXYsICJzb3MgZncgdmVyc2lvbiA9
IDB4JXguXG4iLCBwc3AtPnNvc19md192ZXJzaW9uKTsKKyAgICAgICAgICAgICAgIHJldHVybiAw
OworICAgICAgIH0KKworICAgICAgIC8qIFdhaXQgZm9yIGJvb3Rsb2FkZXIgdG8gc2lnbmlmeSB0
aGF0IGlzIHJlYWR5IGhhdmluZyBiaXQgMzEgb2YgQzJQTVNHXzM1IHNldCB0byAxICovCisgICAg
ICAgcmV0ID0gcHNwX3dhaXRfZm9yKHBzcCwgU09DMTVfUkVHX09GRlNFVChNUDAsIDAsIG1tTVAw
X1NNTl9DMlBNU0dfMzUpLAorICAgICAgICAgICAgICAgICAgICAgICAgICAweDgwMDAwMDAwLCAw
eDgwMDAwMDAwLCBmYWxzZSk7CisgICAgICAgaWYgKHJldCkKKyAgICAgICAgICAgICAgIHJldHVy
biByZXQ7CisKKyAgICAgICBtZW1zZXQocHNwLT5md19wcmlfYnVmLCAwLCBQU1BfMV9NRUcpOwor
CisgICAgICAgLyogQ29weSBQU1AgS0RCIGJpbmFyeSB0byBtZW1vcnkgKi8KKyAgICAgICBtZW1j
cHkocHNwLT5md19wcmlfYnVmLCBwc3AtPmtkYl9zdGFydF9hZGRyLCBwc3AtPmtkYl9iaW5fc2l6
ZSk7CisKKyAgICAgICAvKiBQcm92aWRlIHRoZSBzeXMgZHJpdmVyIHRvIGJvb3Rsb2FkZXIgKi8K
KyAgICAgICBXUkVHMzJfU09DMTUoTVAwLCAwLCBtbU1QMF9TTU5fQzJQTVNHXzM2LAorICAgICAg
ICAgICAgICAodWludDMyX3QpKHBzcC0+ZndfcHJpX21jX2FkZHIgPj4gMjApKTsKKyAgICAgICBw
c3BfZ2Z4ZHJ2X2NvbW1hbmRfcmVnID0gUFNQX0JMX19MT0FEX0tFWV9EQVRBQkFTRTsKKyAgICAg
ICBXUkVHMzJfU09DMTUoTVAwLCAwLCBtbU1QMF9TTU5fQzJQTVNHXzM1LAorICAgICAgICAgICAg
ICBwc3BfZ2Z4ZHJ2X2NvbW1hbmRfcmVnKTsKKworICAgICAgIC8qIFdhaXQgZm9yIGJvb3Rsb2Fk
ZXIgdG8gc2lnbmlmeSB0aGF0IGlzIHJlYWR5IGhhdmluZyAgYml0IDMxIG9mIEMyUE1TR18zNSBz
ZXQgdG8gMSovCisgICAgICAgcmV0ID0gcHNwX3dhaXRfZm9yKHBzcCwgU09DMTVfUkVHX09GRlNF
VChNUDAsIDAsIG1tTVAwX1NNTl9DMlBNU0dfMzUpLAorICAgICAgICAgICAgICAgICAgICAgICAg
ICAweDgwMDAwMDAwLCAweDgwMDAwMDAwLCBmYWxzZSk7CisKKyAgICAgICByZXR1cm4gcmV0Owor
fQorCiBzdGF0aWMgaW50IHBzcF92MTFfMF9ib290bG9hZGVyX2xvYWRfc3lzZHJ2KHN0cnVjdCBw
c3BfY29udGV4dCAqcHNwKQogewogICAgICAgIGludCByZXQ7CkBAIC0xOTQsNyArMjQwLDcgQEAg
c3RhdGljIGludCBwc3BfdjExXzBfYm9vdGxvYWRlcl9sb2FkX3N5c2RydihzdHJ1Y3QgcHNwX2Nv
bnRleHQgKnBzcCkKICAgICAgICBzb2xfcmVnID0gUlJFRzMyX1NPQzE1KE1QMCwgMCwgbW1NUDBf
U01OX0MyUE1TR184MSk7CiAgICAgICAgaWYgKHNvbF9yZWcpIHsKICAgICAgICAgICAgICAgIHBz
cC0+c29zX2Z3X3ZlcnNpb24gPSBSUkVHMzJfU09DMTUoTVAwLCAwLCBtbU1QMF9TTU5fQzJQTVNH
XzU4KTsKLSAgICAgICAgICAgICAgIHByaW50aygic29zIGZ3IHZlcnNpb24gPSAweCV4LlxuIiwg
cHNwLT5zb3NfZndfdmVyc2lvbik7CisgICAgICAgICAgICAgICBkZXZfaW5mbyhhZGV2LT5kZXYs
ICJzb3MgZncgdmVyc2lvbiA9IDB4JXguXG4iLCBwc3AtPnNvc19md192ZXJzaW9uKTsKICAgICAg
ICAgICAgICAgIHJldHVybiAwOwogICAgICAgIH0KCkBAIC04MjYsNiArODcyLDcgQEAgc3RhdGlj
IGludCBwc3BfdjExXzBfcmxjX2F1dG9sb2FkX3N0YXJ0KHN0cnVjdCBwc3BfY29udGV4dCAqcHNw
KQoKIHN0YXRpYyBjb25zdCBzdHJ1Y3QgcHNwX2Z1bmNzIHBzcF92MTFfMF9mdW5jcyA9IHsKICAg
ICAgICAuaW5pdF9taWNyb2NvZGUgPSBwc3BfdjExXzBfaW5pdF9taWNyb2NvZGUsCisgICAgICAg
LmJvb3Rsb2FkZXJfbG9hZF9rZGIgPSBwc3BfdjExXzBfYm9vdGxvYWRlcl9sb2FkX2tkYiwKICAg
ICAgICAuYm9vdGxvYWRlcl9sb2FkX3N5c2RydiA9IHBzcF92MTFfMF9ib290bG9hZGVyX2xvYWRf
c3lzZHJ2LAogICAgICAgIC5ib290bG9hZGVyX2xvYWRfc29zID0gcHNwX3YxMV8wX2Jvb3Rsb2Fk
ZXJfbG9hZF9zb3MsCiAgICAgICAgLnJpbmdfaW5pdCA9IHBzcF92MTFfMF9yaW5nX2luaXQsCi0t
CjIuNy40CgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwph
bWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczov
L2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZngKX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxp
c3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3Rv
cC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4
