Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 6AC6D48EFF
	for <lists+amd-gfx@lfdr.de>; Mon, 17 Jun 2019 21:28:47 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D8B6E89B45;
	Mon, 17 Jun 2019 19:28:45 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-qk1-x741.google.com (mail-qk1-x741.google.com
 [IPv6:2607:f8b0:4864:20::741])
 by gabe.freedesktop.org (Postfix) with ESMTPS id DD4BE89ABA
 for <amd-gfx@lists.freedesktop.org>; Mon, 17 Jun 2019 19:28:29 +0000 (UTC)
Received: by mail-qk1-x741.google.com with SMTP id s22so6928298qkj.12
 for <amd-gfx@lists.freedesktop.org>; Mon, 17 Jun 2019 12:28:29 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=SqAnw75SqHW9cIOlPBuDDSAgAczoAHmJ5Dptjs+xaI0=;
 b=b67DGha+2k5Pb1lsozJ7sjItu3iyU6jX0cnmEmhEzQ+fH8TblA1PsRGryJ/6Vpdq4S
 8XKxMxpIH40iPVf7bYjCihe/kX3aBbDHzSLYo0xZ0hdw+tpwGf7Qz8lvfC5nhEG2wKLH
 p/V6xbEoFBI6tAizItDMJJyrENdU9CZl43HcpXApGcv3LYwlKJxRxI4QDN7BWUvSJiLL
 d81ReRHI3hpwVBTGR9rR0llwy5q3MOpUUP1t/VDJw9uoXkHtpEMITzhPfO6p52RfiyBL
 1ODJWkPzCtXp9x99taoyVWEojR/B4qMQPJBolslGTisS7+Ffranc5sliveRmbQXb3ppx
 HBxA==
X-Gm-Message-State: APjAAAUklcZzZY8beqY0a9n63xY+5RLEqbAmHS3uCEjzMswBGYY3LuIT
 4LV4IYf9vVfE2MMncc5nobMyct0jVFo=
X-Google-Smtp-Source: APXvYqwuTk/U4Vin2wYqk4TJqceIbeJizBEYNZxcoSJNznnCYq8KADAgBbFhiiD4HGlV+qsPCwrWyw==
X-Received: by 2002:a37:9e85:: with SMTP id
 h127mr70258761qke.120.1560799708727; 
 Mon, 17 Jun 2019 12:28:28 -0700 (PDT)
Received: from localhost.localdomain ([71.219.5.136])
 by smtp.gmail.com with ESMTPSA id p37sm7715622qtc.35.2019.06.17.12.28.27
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Mon, 17 Jun 2019 12:28:28 -0700 (PDT)
From: Alex Deucher <alexdeucher@gmail.com>
X-Google-Original-From: Alex Deucher <alexander.deucher@amd.com>
To: amd-gfx@lists.freedesktop.org
Subject: [PATCH 182/459] drm/amd/powerplay: move Watermarks_t uses into asic
 level
Date: Mon, 17 Jun 2019 14:26:47 -0500
Message-Id: <20190617192704.18038-83-alexander.deucher@amd.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190617192704.18038-1-alexander.deucher@amd.com>
References: <20190617192704.18038-1-alexander.deucher@amd.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=SqAnw75SqHW9cIOlPBuDDSAgAczoAHmJ5Dptjs+xaI0=;
 b=imCMyToaZBHBkBfVvCqRUsaqiLOEtJJgyGNGyYC7Di1BNxhKsM4wxOlvNWhv5AwMyA
 aobp3BcyeWMoP3pyKa4gpQUTFT2oT0UKtb9xP45jvx0Rvb7EbM2bG0dqB/DpTebZV397
 kGWgos5IuQ3dWrEucQAWXW8c1TjNU028XKqfwxj5HCV+ByUHormoZWoC29PhBRivAtnS
 +S0cviGqsvs2J1EgV8HEF731r8kM3SIxIWOf/PcUUIFOYC+rR/Hc5icY39NYNSWamvsS
 VZeMUMFFaPFz/ap+0A9LL1LYpvxJ+IAPrtq1OOXHDS9JI1PzhFJcxJxJ6rLzKfOiW+vY
 SvzA==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Alex Deucher <alexander.deucher@amd.com>, Huang Rui <ray.huang@amd.com>,
 Kevin Wang <kevin1.wang@amd.com>, Hawking Zhang <Hawking.Zhang@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogSHVhbmcgUnVpIDxyYXkuaHVhbmdAYW1kLmNvbT4KClRoaXMgcGF0Y2ggbW92ZXMgdGhl
IHJlc3Qgb2YgV2F0ZXJtYXJrc190IHVzZXMgaW50byBhc2ljIGxldmVsLiBJdCdzIHRvIGF2b2lk
CnRoZSBjb25mbGljdHMgd2l0aCBkaWZmZXJlbnQgYXNpYy4KClNpZ25lZC1vZmYtYnk6IEh1YW5n
IFJ1aSA8cmF5Lmh1YW5nQGFtZC5jb20+ClJldmlld2VkLWJ5OiBLZXZpbiBXYW5nIDxrZXZpbjEu
d2FuZ0BhbWQuY29tPgpSZXZpZXdlZC1ieTogQWxleCBEZXVjaGVyIDxhbGV4YW5kZXIuZGV1Y2hl
ckBhbWQuY29tPgpSZXZpZXdlZC1ieTogSGF3a2luZyBaaGFuZyA8SGF3a2luZy5aaGFuZ0BhbWQu
Y29tPgpTaWduZWQtb2ZmLWJ5OiBBbGV4IERldWNoZXIgPGFsZXhhbmRlci5kZXVjaGVyQGFtZC5j
b20+Ci0tLQogLi4uL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvYW1kZ3B1X3NtdS5oICAgIHwg
IDQgKysKIGRyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3NtdV92MTFfMC5jICAgICB8IDYz
ICstLS0tLS0tLS0tLS0tLS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3ZlZ2Ey
MF9wcHQuYyAgICB8IDYxICsrKysrKysrKysrKysrKysrKwogMyBmaWxlcyBjaGFuZ2VkLCA2NyBp
bnNlcnRpb25zKCspLCA2MSBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL3Bvd2VycGxheS9pbmMvYW1kZ3B1X3NtdS5oIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9w
b3dlcnBsYXkvaW5jL2FtZGdwdV9zbXUuaAppbmRleCA3ZmEwM2VjYTRhMDguLjQ2OWIyYzllNjgw
NSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaW5jL2FtZGdwdV9z
bXUuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvYW1kZ3B1X3NtdS5o
CkBAIC01NzUsNiArNTc1LDggQEAgc3RydWN0IHBwdGFibGVfZnVuY3MgewogCWludCAoKmdldF9j
dXJyZW50X2FjdGl2aXR5X3BlcmNlbnQpKHN0cnVjdCBzbXVfY29udGV4dCAqc211LAogCQkJCQkg
ICAgZW51bSBhbWRfcHBfc2Vuc29ycyBzZW5zb3IsCiAJCQkJCSAgICB1aW50MzJfdCAqdmFsdWUp
OworCWludCAoKnNldF93YXRlcm1hcmtzX3RhYmxlKShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwg
dm9pZCAqd2F0ZXJtYXJrcywKKwkJCQkgICAgc3RydWN0IGRtX3BwX3dtX3NldHNfd2l0aF9jbG9j
a19yYW5nZXNfc29jMTUgKmNsb2NrX3Jhbmdlcyk7CiB9OwogCiBzdHJ1Y3Qgc211X2Z1bmNzCkBA
IC04NjMsNiArODY1LDggQEAgc3RydWN0IHNtdV9mdW5jcwogCSgoc211KS0+cHB0X2Z1bmNzLT5z
ZXRfcHBmZWF0dXJlX3N0YXR1cyA/IChzbXUpLT5wcHRfZnVuY3MtPnNldF9wcGZlYXR1cmVfc3Rh
dHVzKChzbXUpLCAocHBmZWF0dXJlcykpIDogLUVJTlZBTCkKICNkZWZpbmUgc211X2dldF9wcGZl
YXR1cmVfc3RhdHVzKHNtdSwgYnVmKSBcCiAJKChzbXUpLT5wcHRfZnVuY3MtPmdldF9wcGZlYXR1
cmVfc3RhdHVzID8gKHNtdSktPnBwdF9mdW5jcy0+Z2V0X3BwZmVhdHVyZV9zdGF0dXMoKHNtdSks
IChidWYpKSA6IC1FSU5WQUwpCisjZGVmaW5lIHNtdV9zZXRfd2F0ZXJtYXJrc190YWJsZShzbXUs
IHRhYiwgY2xvY2tfcmFuZ2VzKSBcCisJKChzbXUpLT5wcHRfZnVuY3MtPnNldF93YXRlcm1hcmtz
X3RhYmxlID8gKHNtdSktPnBwdF9mdW5jcy0+c2V0X3dhdGVybWFya3NfdGFibGUoKHNtdSksICh0
YWIpLCAoY2xvY2tfcmFuZ2VzKSkgOiAwKQogCiBleHRlcm4gaW50IHNtdV9nZXRfYXRvbV9kYXRh
X3RhYmxlKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCB1aW50MzJfdCB0YWJsZSwKIAkJCQkgICB1
aW50MTZfdCAqc2l6ZSwgdWludDhfdCAqZnJldiwgdWludDhfdCAqY3JldiwKZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3NtdV92MTFfMC5jIGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9wb3dlcnBsYXkvc211X3YxMV8wLmMKaW5kZXggMTAzZThiYzNhN2I5Li40NjIwYmQ1
NzhiY2QgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3NtdV92MTFf
MC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3NtdV92MTFfMC5jCkBAIC0x
NDAxLDY1ICsxNDAxLDYgQEAgc211X3YxMV8wX2Rpc3BsYXlfY2xvY2tfdm9sdGFnZV9yZXF1ZXN0
KHN0cnVjdCBzbXVfY29udGV4dCAqc211LAogCXJldHVybiByZXQ7CiB9CiAKLXN0YXRpYyBpbnQg
c211X3YxMV8wX3NldF93YXRlcm1hcmtzX3RhYmxlKHN0cnVjdCBzbXVfY29udGV4dCAqc211LAot
CQkJCQkgIFdhdGVybWFya3NfdCAqdGFibGUsIHN0cnVjdAotCQkJCQkgIGRtX3BwX3dtX3NldHNf
d2l0aF9jbG9ja19yYW5nZXNfc29jMTUKLQkJCQkJICAqY2xvY2tfcmFuZ2VzKQotewotCWludCBp
OwotCi0JaWYgKCF0YWJsZSB8fCAhY2xvY2tfcmFuZ2VzKQotCQlyZXR1cm4gLUVJTlZBTDsKLQot
CWlmIChjbG9ja19yYW5nZXMtPm51bV93bV9kbWlmX3NldHMgPiA0IHx8Ci0JICAgIGNsb2NrX3Jh
bmdlcy0+bnVtX3dtX21jaWZfc2V0cyA+IDQpCi0gICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5W
QUw7Ci0KLSAgICAgICAgZm9yIChpID0gMDsgaSA8IGNsb2NrX3Jhbmdlcy0+bnVtX3dtX2RtaWZf
c2V0czsgaSsrKSB7Ci0JCXRhYmxlLT5XYXRlcm1hcmtSb3dbMV1baV0uTWluQ2xvY2sgPQotCQkJ
Y3B1X3RvX2xlMTYoKHVpbnQxNl90KQotCQkJKGNsb2NrX3Jhbmdlcy0+d21fZG1pZl9jbG9ja3Nf
cmFuZ2VzW2ldLndtX21pbl9kY2ZjbGtfY2xrX2luX2toeiAvCi0JCQkxMDAwKSk7Ci0JCXRhYmxl
LT5XYXRlcm1hcmtSb3dbMV1baV0uTWF4Q2xvY2sgPQotCQkJY3B1X3RvX2xlMTYoKHVpbnQxNl90
KQotCQkJKGNsb2NrX3Jhbmdlcy0+d21fZG1pZl9jbG9ja3NfcmFuZ2VzW2ldLndtX21heF9kY2Zj
bGtfY2xrX2luX2toeiAvCi0JCQkxMDAwKSk7Ci0JCXRhYmxlLT5XYXRlcm1hcmtSb3dbMV1baV0u
TWluVWNsayA9Ci0JCQljcHVfdG9fbGUxNigodWludDE2X3QpCi0JCQkoY2xvY2tfcmFuZ2VzLT53
bV9kbWlmX2Nsb2Nrc19yYW5nZXNbaV0ud21fbWluX21lbV9jbGtfaW5fa2h6IC8KLQkJCTEwMDAp
KTsKLQkJdGFibGUtPldhdGVybWFya1Jvd1sxXVtpXS5NYXhVY2xrID0KLQkJCWNwdV90b19sZTE2
KCh1aW50MTZfdCkKLQkJCShjbG9ja19yYW5nZXMtPndtX2RtaWZfY2xvY2tzX3Jhbmdlc1tpXS53
bV9tYXhfbWVtX2Nsa19pbl9raHogLwotCQkJMTAwMCkpOwotCQl0YWJsZS0+V2F0ZXJtYXJrUm93
WzFdW2ldLldtU2V0dGluZyA9ICh1aW50OF90KQotCQkJCWNsb2NrX3Jhbmdlcy0+d21fZG1pZl9j
bG9ja3NfcmFuZ2VzW2ldLndtX3NldF9pZDsKLSAgICAgICAgfQotCi0JZm9yIChpID0gMDsgaSA8
IGNsb2NrX3Jhbmdlcy0+bnVtX3dtX21jaWZfc2V0czsgaSsrKSB7Ci0JCXRhYmxlLT5XYXRlcm1h
cmtSb3dbMF1baV0uTWluQ2xvY2sgPQotCQkJY3B1X3RvX2xlMTYoKHVpbnQxNl90KQotCQkJKGNs
b2NrX3Jhbmdlcy0+d21fbWNpZl9jbG9ja3NfcmFuZ2VzW2ldLndtX21pbl9zb2NjbGtfY2xrX2lu
X2toeiAvCi0JCQkxMDAwKSk7Ci0JCXRhYmxlLT5XYXRlcm1hcmtSb3dbMF1baV0uTWF4Q2xvY2sg
PQotCQkJY3B1X3RvX2xlMTYoKHVpbnQxNl90KQotCQkJKGNsb2NrX3Jhbmdlcy0+d21fbWNpZl9j
bG9ja3NfcmFuZ2VzW2ldLndtX21heF9zb2NjbGtfY2xrX2luX2toeiAvCi0JCQkxMDAwKSk7Ci0J
CXRhYmxlLT5XYXRlcm1hcmtSb3dbMF1baV0uTWluVWNsayA9Ci0JCQljcHVfdG9fbGUxNigodWlu
dDE2X3QpCi0JCQkoY2xvY2tfcmFuZ2VzLT53bV9tY2lmX2Nsb2Nrc19yYW5nZXNbaV0ud21fbWlu
X21lbV9jbGtfaW5fa2h6IC8KLQkJCTEwMDApKTsKLQkJdGFibGUtPldhdGVybWFya1Jvd1swXVtp
XS5NYXhVY2xrID0KLQkJCWNwdV90b19sZTE2KCh1aW50MTZfdCkKLQkJCShjbG9ja19yYW5nZXMt
PndtX21jaWZfY2xvY2tzX3Jhbmdlc1tpXS53bV9tYXhfbWVtX2Nsa19pbl9raHogLwotCQkJMTAw
MCkpOwotCQl0YWJsZS0+V2F0ZXJtYXJrUm93WzBdW2ldLldtU2V0dGluZyA9ICh1aW50OF90KQot
CQkJCWNsb2NrX3Jhbmdlcy0+d21fbWNpZl9jbG9ja3NfcmFuZ2VzW2ldLndtX3NldF9pZDsKLSAg
ICAgICAgfQotCi0JcmV0dXJuIDA7Ci19Ci0KIHN0YXRpYyBpbnQKIHNtdV92MTFfMF9zZXRfd2F0
ZXJtYXJrc19mb3JfY2xvY2tfcmFuZ2VzKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCBzdHJ1Y3QK
IAkJCQkJICBkbV9wcF93bV9zZXRzX3dpdGhfY2xvY2tfcmFuZ2VzX3NvYzE1CkBAIC0xNDY3LDEy
ICsxNDA4LDEyIEBAIHNtdV92MTFfMF9zZXRfd2F0ZXJtYXJrc19mb3JfY2xvY2tfcmFuZ2VzKHN0
cnVjdCBzbXVfY29udGV4dCAqc211LCBzdHJ1Y3QKIHsKIAlpbnQgcmV0ID0gMDsKIAlzdHJ1Y3Qg
c211X3RhYmxlICp3YXRlcm1hcmtzID0gJnNtdS0+c211X3RhYmxlLnRhYmxlc1tTTVVfVEFCTEVf
V0FURVJNQVJLU107Ci0JV2F0ZXJtYXJrc190ICp0YWJsZSA9IHdhdGVybWFya3MtPmNwdV9hZGRy
OworCXZvaWQgKnRhYmxlID0gd2F0ZXJtYXJrcy0+Y3B1X2FkZHI7CiAKIAlpZiAoIXNtdS0+ZGlz
YWJsZV93YXRlcm1hcmsgJiYKIAkgICAgc211X2ZlYXR1cmVfaXNfZW5hYmxlZChzbXUsIFNNVV9G
RUFUVVJFX0RQTV9EQ0VGQ0xLX0JJVCkgJiYKIAkgICAgc211X2ZlYXR1cmVfaXNfZW5hYmxlZChz
bXUsIFNNVV9GRUFUVVJFX0RQTV9TT0NDTEtfQklUKSkgewotCQlzbXVfdjExXzBfc2V0X3dhdGVy
bWFya3NfdGFibGUoc211LCB0YWJsZSwgY2xvY2tfcmFuZ2VzKTsKKwkJc211X3NldF93YXRlcm1h
cmtzX3RhYmxlKHNtdSwgdGFibGUsIGNsb2NrX3Jhbmdlcyk7CiAJCXNtdS0+d2F0ZXJtYXJrc19i
aXRtYXAgfD0gV0FURVJNQVJLU19FWElTVDsKIAkJc211LT53YXRlcm1hcmtzX2JpdG1hcCAmPSB+
V0FURVJNQVJLU19MT0FERUQ7CiAJfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9w
b3dlcnBsYXkvdmVnYTIwX3BwdC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvdmVn
YTIwX3BwdC5jCmluZGV4IDc1Yzg2YzRiMmVjZS4uYmEwMTc1YWUyNDdhIDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS92ZWdhMjBfcHB0LmMKKysrIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9wb3dlcnBsYXkvdmVnYTIwX3BwdC5jCkBAIC0zMDM1LDYgKzMwMzUsNjYgQEAg
c3RhdGljIGludCB2ZWdhMjBfZ2V0X2N1cnJlbnRfYWN0aXZpdHlfcGVyY2VudChzdHJ1Y3Qgc211
X2NvbnRleHQgKnNtdSwKIAlyZXR1cm4gMDsKIH0KIAorc3RhdGljIGludCB2ZWdhMjBfc2V0X3dh
dGVybWFya3NfdGFibGUoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsCisJCQkJICAgICAgIHZvaWQg
KndhdGVybWFya3MsIHN0cnVjdAorCQkJCSAgICAgICBkbV9wcF93bV9zZXRzX3dpdGhfY2xvY2tf
cmFuZ2VzX3NvYzE1CisJCQkJICAgICAgICpjbG9ja19yYW5nZXMpCit7CisJaW50IGk7CisJV2F0
ZXJtYXJrc190ICp0YWJsZSA9IHdhdGVybWFya3M7CisKKwlpZiAoIXRhYmxlIHx8ICFjbG9ja19y
YW5nZXMpCisJCXJldHVybiAtRUlOVkFMOworCisJaWYgKGNsb2NrX3Jhbmdlcy0+bnVtX3dtX2Rt
aWZfc2V0cyA+IDQgfHwKKwkgICAgY2xvY2tfcmFuZ2VzLT5udW1fd21fbWNpZl9zZXRzID4gNCkK
KyAgICAgICAgICAgICAgICByZXR1cm4gLUVJTlZBTDsKKworICAgICAgICBmb3IgKGkgPSAwOyBp
IDwgY2xvY2tfcmFuZ2VzLT5udW1fd21fZG1pZl9zZXRzOyBpKyspIHsKKwkJdGFibGUtPldhdGVy
bWFya1Jvd1sxXVtpXS5NaW5DbG9jayA9CisJCQljcHVfdG9fbGUxNigodWludDE2X3QpCisJCQko
Y2xvY2tfcmFuZ2VzLT53bV9kbWlmX2Nsb2Nrc19yYW5nZXNbaV0ud21fbWluX2RjZmNsa19jbGtf
aW5fa2h6IC8KKwkJCTEwMDApKTsKKwkJdGFibGUtPldhdGVybWFya1Jvd1sxXVtpXS5NYXhDbG9j
ayA9CisJCQljcHVfdG9fbGUxNigodWludDE2X3QpCisJCQkoY2xvY2tfcmFuZ2VzLT53bV9kbWlm
X2Nsb2Nrc19yYW5nZXNbaV0ud21fbWF4X2RjZmNsa19jbGtfaW5fa2h6IC8KKwkJCTEwMDApKTsK
KwkJdGFibGUtPldhdGVybWFya1Jvd1sxXVtpXS5NaW5VY2xrID0KKwkJCWNwdV90b19sZTE2KCh1
aW50MTZfdCkKKwkJCShjbG9ja19yYW5nZXMtPndtX2RtaWZfY2xvY2tzX3Jhbmdlc1tpXS53bV9t
aW5fbWVtX2Nsa19pbl9raHogLworCQkJMTAwMCkpOworCQl0YWJsZS0+V2F0ZXJtYXJrUm93WzFd
W2ldLk1heFVjbGsgPQorCQkJY3B1X3RvX2xlMTYoKHVpbnQxNl90KQorCQkJKGNsb2NrX3Jhbmdl
cy0+d21fZG1pZl9jbG9ja3NfcmFuZ2VzW2ldLndtX21heF9tZW1fY2xrX2luX2toeiAvCisJCQkx
MDAwKSk7CisJCXRhYmxlLT5XYXRlcm1hcmtSb3dbMV1baV0uV21TZXR0aW5nID0gKHVpbnQ4X3Qp
CisJCQkJY2xvY2tfcmFuZ2VzLT53bV9kbWlmX2Nsb2Nrc19yYW5nZXNbaV0ud21fc2V0X2lkOwor
ICAgICAgICB9CisKKwlmb3IgKGkgPSAwOyBpIDwgY2xvY2tfcmFuZ2VzLT5udW1fd21fbWNpZl9z
ZXRzOyBpKyspIHsKKwkJdGFibGUtPldhdGVybWFya1Jvd1swXVtpXS5NaW5DbG9jayA9CisJCQlj
cHVfdG9fbGUxNigodWludDE2X3QpCisJCQkoY2xvY2tfcmFuZ2VzLT53bV9tY2lmX2Nsb2Nrc19y
YW5nZXNbaV0ud21fbWluX3NvY2Nsa19jbGtfaW5fa2h6IC8KKwkJCTEwMDApKTsKKwkJdGFibGUt
PldhdGVybWFya1Jvd1swXVtpXS5NYXhDbG9jayA9CisJCQljcHVfdG9fbGUxNigodWludDE2X3Qp
CisJCQkoY2xvY2tfcmFuZ2VzLT53bV9tY2lmX2Nsb2Nrc19yYW5nZXNbaV0ud21fbWF4X3NvY2Ns
a19jbGtfaW5fa2h6IC8KKwkJCTEwMDApKTsKKwkJdGFibGUtPldhdGVybWFya1Jvd1swXVtpXS5N
aW5VY2xrID0KKwkJCWNwdV90b19sZTE2KCh1aW50MTZfdCkKKwkJCShjbG9ja19yYW5nZXMtPndt
X21jaWZfY2xvY2tzX3Jhbmdlc1tpXS53bV9taW5fbWVtX2Nsa19pbl9raHogLworCQkJMTAwMCkp
OworCQl0YWJsZS0+V2F0ZXJtYXJrUm93WzBdW2ldLk1heFVjbGsgPQorCQkJY3B1X3RvX2xlMTYo
KHVpbnQxNl90KQorCQkJKGNsb2NrX3Jhbmdlcy0+d21fbWNpZl9jbG9ja3NfcmFuZ2VzW2ldLndt
X21heF9tZW1fY2xrX2luX2toeiAvCisJCQkxMDAwKSk7CisJCXRhYmxlLT5XYXRlcm1hcmtSb3db
MF1baV0uV21TZXR0aW5nID0gKHVpbnQ4X3QpCisJCQkJY2xvY2tfcmFuZ2VzLT53bV9tY2lmX2Ns
b2Nrc19yYW5nZXNbaV0ud21fc2V0X2lkOworICAgICAgICB9CisKKwlyZXR1cm4gMDsKK30KKwog
c3RhdGljIGNvbnN0IHN0cnVjdCBwcHRhYmxlX2Z1bmNzIHZlZ2EyMF9wcHRfZnVuY3MgPSB7CiAJ
LnRhYmxlc19pbml0ID0gdmVnYTIwX3RhYmxlc19pbml0LAogCS5hbGxvY19kcG1fY29udGV4dCA9
IHZlZ2EyMF9hbGxvY2F0ZV9kcG1fY29udGV4dCwKQEAgLTMwODIsNiArMzE0Miw3IEBAIHN0YXRp
YyBjb25zdCBzdHJ1Y3QgcHB0YWJsZV9mdW5jcyB2ZWdhMjBfcHB0X2Z1bmNzID0gewogCS5nZXRf
ZmFuX3NwZWVkX3BlcmNlbnQgPSB2ZWdhMjBfZ2V0X2Zhbl9zcGVlZF9wZXJjZW50LAogCS5nZXRf
Z3B1X3Bvd2VyPSB2ZWdhMjBfZ2V0X2dwdV9wb3dlciwKIAkuZ2V0X2N1cnJlbnRfYWN0aXZpdHlf
cGVyY2VudCA9IHZlZ2EyMF9nZXRfY3VycmVudF9hY3Rpdml0eV9wZXJjZW50LAorCS5zZXRfd2F0
ZXJtYXJrc190YWJsZSA9IHZlZ2EyMF9zZXRfd2F0ZXJtYXJrc190YWJsZSwKIH07CiAKIHZvaWQg
dmVnYTIwX3NldF9wcHRfZnVuY3Moc3RydWN0IHNtdV9jb250ZXh0ICpzbXUpCi0tIAoyLjIwLjEK
Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmFtZC1nZngg
bWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeA==
