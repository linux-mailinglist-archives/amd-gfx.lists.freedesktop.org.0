Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A2E4FB898C
	for <lists+amd-gfx@lfdr.de>; Fri, 20 Sep 2019 04:50:49 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 30E0E6EEF9;
	Fri, 20 Sep 2019 02:50:48 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM03-CO1-obe.outbound.protection.outlook.com
 (mail-co1nam03on0601.outbound.protection.outlook.com
 [IPv6:2a01:111:f400:fe48::601])
 by gabe.freedesktop.org (Postfix) with ESMTPS id EEC966EEF9
 for <amd-gfx@lists.freedesktop.org>; Fri, 20 Sep 2019 02:50:46 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=CbaFdlXwXly4FyMzHFDYDD6Ya4qCq1sU+IXs1soS/Jl+bTAzFhsNPFmoVF7UPuj/e1ONVOxpamiwSyv+qEprTpiifdICTUCtM2CZMINpy/IjpFQHZbBN7Md5CP/+UHXlG1T41igwU5MZ0GkxZF8Cf18kPpwD/+WGoPxYr2l1+uEdss7xRCliYv258FjoOL2+cvhOP5j7nxFB1DfrgwBhC/o3T1VDtt8S1p3pW0PZef84rjjUc6K/m/S7/9Icl6qpQ42sAbeHfxo160p5DWZvkK2AIGQTNIIkcqyvR4uEtn+RHzsbqeeK8M3kZICicPpXF1yKdUmXFC9Tz/2aJO/TTQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=71yaFg6zxLD3qHjSz+hxMNLCGwCP98Qh+yU2M6tLIHo=;
 b=XZJbt474yW5KPxqHBfKs9wu6Kt3fhFfP22oEx1TGtDY543M6u22aHVryPnBFOcqYCwR6QonT/+iiCtCV8JOAMNKnewD2ZineukMCiPu3wI5p4fAphiXlcDh6OAFTDvIHlZ1BlP4ALqHDHammlMO5Q0BPwf6wkXg6Pz3i5qAppzC738qC9BDdpYd8Zw6QlUGB/tLbFLnVr1WcbzFtuL0rX/XqED4mhOSZtXhsO0qiQ2Bz9IFSxRbIRAloCnk9UKdrwcKczHs2VV/mepVwQ2DOz0mFurLr6lSpb6NpQWY0EjohgFyldIer1ijw0sZNsp1xSjVFCklvLdbTwcmbBseDOA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from MWHPR12MB1406.namprd12.prod.outlook.com (10.169.207.13) by
 MWHPR12MB1392.namprd12.prod.outlook.com (10.169.207.10) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2284.18; Fri, 20 Sep 2019 02:50:42 +0000
Received: from MWHPR12MB1406.namprd12.prod.outlook.com
 ([fe80::f101:efcf:4b19:b68d]) by MWHPR12MB1406.namprd12.prod.outlook.com
 ([fe80::f101:efcf:4b19:b68d%8]) with mapi id 15.20.2263.023; Fri, 20 Sep 2019
 02:50:42 +0000
From: "Zhou, David(ChunMing)" <David1.Zhou@amd.com>
To: =?utf-8?B?TWFyZWsgT2zFocOhaw==?= <maraeo@gmail.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>, "Yan, Alex"
 <Alex.Yan@amd.com>
Subject: RE: [PATCH] drm/amdgpu: remove gfx9 NGG
Thread-Topic: [PATCH] drm/amdgpu: remove gfx9 NGG
Thread-Index: AQHVb1lRWBW0g4XBKkKjUWW0VC7FX6cz3Xfw
Date: Fri, 20 Sep 2019 02:50:41 +0000
Message-ID: <MWHPR12MB14065D8BD05F1FFF5ABEC580B4880@MWHPR12MB1406.namprd12.prod.outlook.com>
References: <20190920021531.3007-1-maraeo@gmail.com>
In-Reply-To: <20190920021531.3007-1-maraeo@gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 0f38c4c4-8bd6-45f4-79db-08d73d7553c4
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600167)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:MWHPR12MB1392; 
x-ms-traffictypediagnostic: MWHPR12MB1392:
x-ms-exchange-purlcount: 1
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <MWHPR12MB13928D21273C2E3C4F7E8F8BB4880@MWHPR12MB1392.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:2399;
x-forefront-prvs: 0166B75B74
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(39860400002)(366004)(346002)(376002)(396003)(136003)(199004)(189003)(13464003)(486006)(102836004)(26005)(7736002)(305945005)(53546011)(74316002)(6506007)(30864003)(476003)(446003)(33656002)(5660300002)(11346002)(8936002)(86362001)(71190400001)(71200400001)(8676002)(81156014)(186003)(478600001)(256004)(14444005)(9686003)(81166006)(25786009)(14454004)(66066001)(966005)(3846002)(6306002)(99286004)(55016002)(110136005)(6116002)(6636002)(7696005)(2501003)(52536014)(76176011)(6246003)(76116006)(2906002)(66476007)(66556008)(66446008)(316002)(64756008)(6436002)(229853002)(66946007);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MWHPR12MB1392;
 H:MWHPR12MB1406.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: PqZrRLybVdUvx/69gW3QT5d9AAj0pXiYHLYGKp3oQJwWa5l3056MQDjfXH537Cj+Y8ZoY4zHV4A8GA5gqQ1qZDytYJn48UFc+SBZH0MlFvHajPXMMRhydbFDPQNmmumTx4z9M3RgPoaS+Kq7O1ETBarO8yhhkNG7jgd8k7deVxhqG6ClCYe1I9cNCxkr0jLXI1VAuFRmKvUgO9bQBzn9ZVuxSivQSWSJw2uEqarfAftdsxPWzy4WzTjJYLIUcIR5KKulGZEfuqyVUZ0p4tnCf9HadDSuFd7M8gG83VnDBaOe7/TrZwEe7NdWXx/GQgqAIZw/OykkhxHyvTGDdr1S6fANYy4GZK84TAPfK5GIh1uHLVdj38FWqn+nlr9ubloIR9TBPmvf3cPc2DBWAW7thr6kISAUHITB7TtOrUCfbOI=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 0f38c4c4-8bd6-45f4-79db-08d73d7553c4
X-MS-Exchange-CrossTenant-originalarrivaltime: 20 Sep 2019 02:50:42.0118 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: ar6r+0xeFIOdxgDCd3yV9nT9DQ3Ah7Mi4tsdqnYH1KeoppfQziVuaiJM4ZEj8P9T
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MWHPR12MB1392
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=71yaFg6zxLD3qHjSz+hxMNLCGwCP98Qh+yU2M6tLIHo=;
 b=UhUuFn+psVKbdz+1ARS2jYRQEQh/Ua0TnTnD9vH4wuO4B6p023Ah7uQRJPf5+I8W5+BKrx78nenWs4bunVJmLWOAdV5TN1PshPHEY7r08DAIBlGg1QQl5OlMhKZr2/Kh0N9nWTa/pcWJIPqbXeTr+lJ6/qHcUJ3vX7KonljgCs4=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=David1.Zhou@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

K0FsZXggWWFuIHRvIGNvbmZpcm0gd2hpY2ggZG9lc24ndCBhZmZlY3QgdXMuDQoNCg0KDQotLS0t
LU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KRnJvbTogYW1kLWdmeCA8YW1kLWdmeC1ib3VuY2VzQGxp
c3RzLmZyZWVkZXNrdG9wLm9yZz4gT24gQmVoYWxmIE9mIE1hcmVrIE9sxaHDoWsNClNlbnQ6IEZy
aWRheSwgU2VwdGVtYmVyIDIwLCAyMDE5IDEwOjE2IEFNDQpUbzogYW1kLWdmeEBsaXN0cy5mcmVl
ZGVza3RvcC5vcmcNClN1YmplY3Q6IFtQQVRDSF0gZHJtL2FtZGdwdTogcmVtb3ZlIGdmeDkgTkdH
DQoNCkZyb206IE1hcmVrIE9sxaHDoWsgPG1hcmVrLm9sc2FrQGFtZC5jb20+DQoNCk5ldmVyIHVz
ZWQuDQoNClNpZ25lZC1vZmYtYnk6IE1hcmVrIE9sxaHDoWsgPG1hcmVrLm9sc2FrQGFtZC5jb20+
DQotLS0NCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHUuaCAgICAgfCAgIDUgLQ0K
IGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kcnYuYyB8ICA0MSAtLS0tLSAgZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dmeC5oIHwgIDI1IC0tLSAgZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2ttcy5jIHwgIDExIC0tDQogZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvZ2Z4X3Y5XzAuYyAgIHwgMTk1IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0K
IDUgZmlsZXMgY2hhbmdlZCwgMjc3IGRlbGV0aW9ucygtKQ0KDQpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1LmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9hbWRncHUuaA0KaW5kZXggNmZmMDJiYjYwMTQwLi44MDExNmU2M2UyMDkgMTAwNjQ0DQotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHUuaA0KKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvYW1kZ3B1LmgNCkBAIC0xNDAsMjUgKzE0MCwyMCBAQCBleHRlcm4gaW50
IGFtZGdwdV9kYzsgIGV4dGVybiBpbnQgYW1kZ3B1X3NjaGVkX2pvYnM7ICBleHRlcm4gaW50IGFt
ZGdwdV9zY2hlZF9od19zdWJtaXNzaW9uOyAgZXh0ZXJuIHVpbnQgYW1kZ3B1X3BjaWVfZ2VuX2Nh
cDsgIGV4dGVybiB1aW50IGFtZGdwdV9wY2llX2xhbmVfY2FwOyAgZXh0ZXJuIHVpbnQgYW1kZ3B1
X2NnX21hc2s7ICBleHRlcm4gdWludCBhbWRncHVfcGdfbWFzazsgIGV4dGVybiB1aW50IGFtZGdw
dV9zZG1hX3BoYXNlX3F1YW50dW07ICBleHRlcm4gY2hhciAqYW1kZ3B1X2Rpc2FibGVfY3U7ICBl
eHRlcm4gY2hhciAqYW1kZ3B1X3ZpcnR1YWxfZGlzcGxheTsgIGV4dGVybiB1aW50IGFtZGdwdV9w
cF9mZWF0dXJlX21hc2s7IC1leHRlcm4gaW50IGFtZGdwdV9uZ2c7IC1leHRlcm4gaW50IGFtZGdw
dV9wcmltX2J1Zl9wZXJfc2U7IC1leHRlcm4gaW50IGFtZGdwdV9wb3NfYnVmX3Blcl9zZTsgLWV4
dGVybiBpbnQgYW1kZ3B1X2NudGxfc2JfYnVmX3Blcl9zZTsgLWV4dGVybiBpbnQgYW1kZ3B1X3Bh
cmFtX2J1Zl9wZXJfc2U7ICBleHRlcm4gaW50IGFtZGdwdV9qb2JfaGFuZ19saW1pdDsgIGV4dGVy
biBpbnQgYW1kZ3B1X2xicHc7ICBleHRlcm4gaW50IGFtZGdwdV9jb21wdXRlX211bHRpcGlwZTsg
IGV4dGVybiBpbnQgYW1kZ3B1X2dwdV9yZWNvdmVyeTsgIGV4dGVybiBpbnQgYW1kZ3B1X2VtdV9t
b2RlOyAgZXh0ZXJuIHVpbnQgYW1kZ3B1X3NtdV9tZW1vcnlfcG9vbF9zaXplOyAgZXh0ZXJuIHVp
bnQgYW1kZ3B1X2RjX2ZlYXR1cmVfbWFzazsgIGV4dGVybiB1aW50IGFtZGdwdV9kbV9hYm1fbGV2
ZWw7ICBleHRlcm4gc3RydWN0IGFtZGdwdV9tZ3B1X2luZm8gbWdwdV9pbmZvOyAgZXh0ZXJuIGlu
dCBhbWRncHVfcmFzX2VuYWJsZTsgZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2FtZGdwdV9kcnYuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kcnYu
Yw0KaW5kZXggYjQ5ZWQzOWMxZmVhLi5jYmU0ZWY0ODEzZjggMTAwNjQ0DQotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZHJ2LmMNCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2FtZGdwdV9kcnYuYw0KQEAgLTExOSwyNSArMTE5LDIwIEBAIGludCBhbWRncHVf
c2NoZWRfam9icyA9IDMyOyAgaW50IGFtZGdwdV9zY2hlZF9od19zdWJtaXNzaW9uID0gMjsgIHVp
bnQgYW1kZ3B1X3BjaWVfZ2VuX2NhcCA9IDA7ICB1aW50IGFtZGdwdV9wY2llX2xhbmVfY2FwID0g
MDsgIHVpbnQgYW1kZ3B1X2NnX21hc2sgPSAweGZmZmZmZmZmOyAgdWludCBhbWRncHVfcGdfbWFz
ayA9IDB4ZmZmZmZmZmY7ICB1aW50IGFtZGdwdV9zZG1hX3BoYXNlX3F1YW50dW0gPSAzMjsgIGNo
YXIgKmFtZGdwdV9kaXNhYmxlX2N1ID0gTlVMTDsgIGNoYXIgKmFtZGdwdV92aXJ0dWFsX2Rpc3Bs
YXkgPSBOVUxMOw0KIC8qIE92ZXJEcml2ZShiaXQgMTQpIGRpc2FibGVkIGJ5IGRlZmF1bHQqLyAg
dWludCBhbWRncHVfcHBfZmVhdHVyZV9tYXNrID0gMHhmZmZmYmZmZjsgLWludCBhbWRncHVfbmdn
ID0gMDsgLWludCBhbWRncHVfcHJpbV9idWZfcGVyX3NlID0gMDsgLWludCBhbWRncHVfcG9zX2J1
Zl9wZXJfc2UgPSAwOyAtaW50IGFtZGdwdV9jbnRsX3NiX2J1Zl9wZXJfc2UgPSAwOyAtaW50IGFt
ZGdwdV9wYXJhbV9idWZfcGVyX3NlID0gMDsgIGludCBhbWRncHVfam9iX2hhbmdfbGltaXQgPSAw
OyAgaW50IGFtZGdwdV9sYnB3ID0gLTE7ICBpbnQgYW1kZ3B1X2NvbXB1dGVfbXVsdGlwaXBlID0g
LTE7ICBpbnQgYW1kZ3B1X2dwdV9yZWNvdmVyeSA9IC0xOyAvKiBhdXRvICovICBpbnQgYW1kZ3B1
X2VtdV9tb2RlID0gMDsgIHVpbnQgYW1kZ3B1X3NtdV9tZW1vcnlfcG9vbF9zaXplID0gMDsNCiAv
KiBGQkMgKGJpdCAwKSBkaXNhYmxlZCBieSBkZWZhdWx0Ki8NCiB1aW50IGFtZGdwdV9kY19mZWF0
dXJlX21hc2sgPSAwOw0KIGludCBhbWRncHVfYXN5bmNfZ2Z4X3JpbmcgPSAxOw0KIGludCBhbWRn
cHVfbWNicCA9IDA7DQpAQCAtNDQzLDU2ICs0MzgsMjAgQEAgbW9kdWxlX3BhcmFtX25hbWVkKGRp
c2FibGVfY3UsIGFtZGdwdV9kaXNhYmxlX2N1LCBjaGFycCwgMDQ0NCk7DQogICogRE9DOiB2aXJ0
dWFsX2Rpc3BsYXkgKGNoYXJwKQ0KICAqIFNldCB0byBlbmFibGUgdmlydHVhbCBkaXNwbGF5IGZl
YXR1cmUuIFRoaXMgZmVhdHVyZSBwcm92aWRlcyBhIHZpcnR1YWwgZGlzcGxheSBoYXJkd2FyZSBv
biBoZWFkbGVzcyBib2FyZHMNCiAgKiBvciBpbiB2aXJ0dWFsaXplZCBlbnZpcm9ubWVudHMuIEl0
IHdpbGwgYmUgc2V0IGxpa2UgeHh4eDp4eDp4eC54LHg7eHh4eDp4eDp4eC54LHguIEl0J3MgdGhl
IHBjaSBhZGRyZXNzIG9mDQogICogdGhlIGRldmljZSwgcGx1cyB0aGUgbnVtYmVyIG9mIGNydGNz
IHRvIGV4cG9zZS4gRS5nLiwgMDAwMDoyNjowMC4wLDQgd291bGQgZW5hYmxlIDQgdmlydHVhbCBj
cnRjcyBvbiB0aGUgcGNpDQogICogZGV2aWNlIGF0IDI2OjAwLjAuIFRoZSBkZWZhdWx0IGlzIE5V
TEwuDQogICovDQogTU9EVUxFX1BBUk1fREVTQyh2aXJ0dWFsX2Rpc3BsYXksDQogCQkgIkVuYWJs
ZSB2aXJ0dWFsIGRpc3BsYXkgZmVhdHVyZSAodGhlIHZpcnR1YWxfZGlzcGxheSB3aWxsIGJlIHNl
dCBsaWtlIHh4eHg6eHg6eHgueCx4O3h4eHg6eHg6eHgueCx4KSIpOyAgbW9kdWxlX3BhcmFtX25h
bWVkKHZpcnR1YWxfZGlzcGxheSwgYW1kZ3B1X3ZpcnR1YWxfZGlzcGxheSwgY2hhcnAsIDA0NDQp
Ow0KIA0KLS8qKg0KLSAqIERPQzogbmdnIChpbnQpDQotICogU2V0IHRvIGVuYWJsZSBOZXh0IEdl
bmVyYXRpb24gR3JhcGhpY3MgKDEgPSBlbmFibGUpLiBUaGUgZGVmYXVsdCBpcyAwIChkaXNhYmxl
ZCkuDQotICovDQotTU9EVUxFX1BBUk1fREVTQyhuZ2csICJOZXh0IEdlbmVyYXRpb24gR3JhcGhp
Y3MgKDEgPSBlbmFibGUsIDAgPSBkaXNhYmxlKGRlZmF1bHQgZGVwZW5kaW5nIG9uIGdmeCkpIik7
IC1tb2R1bGVfcGFyYW1fbmFtZWQobmdnLCBhbWRncHVfbmdnLCBpbnQsIDA0NDQpOw0KLQ0KLS8q
Kg0KLSAqIERPQzogcHJpbV9idWZfcGVyX3NlIChpbnQpDQotICogT3ZlcnJpZGUgdGhlIHNpemUg
b2YgUHJpbWl0aXZlIEJ1ZmZlciBwZXIgU2hhZGVyIEVuZ2luZSBpbiBCeXRlLiBUaGUgZGVmYXVs
dCBpcyAwIChkZXBlbmRpbmcgb24gZ2Z4KS4NCi0gKi8NCi1NT0RVTEVfUEFSTV9ERVNDKHByaW1f
YnVmX3Blcl9zZSwgInRoZSBzaXplIG9mIFByaW1pdGl2ZSBCdWZmZXIgcGVyIFNoYWRlciBFbmdp
bmUgKGRlZmF1bHQgZGVwZW5kaW5nIG9uIGdmeCkiKTsgLW1vZHVsZV9wYXJhbV9uYW1lZChwcmlt
X2J1Zl9wZXJfc2UsIGFtZGdwdV9wcmltX2J1Zl9wZXJfc2UsIGludCwgMDQ0NCk7DQotDQotLyoq
DQotICogRE9DOiBwb3NfYnVmX3Blcl9zZSAoaW50KQ0KLSAqIE92ZXJyaWRlIHRoZSBzaXplIG9m
IFBvc2l0aW9uIEJ1ZmZlciBwZXIgU2hhZGVyIEVuZ2luZSBpbiBCeXRlLiBUaGUgZGVmYXVsdCBp
cyAwIChkZXBlbmRpbmcgb24gZ2Z4KS4NCi0gKi8NCi1NT0RVTEVfUEFSTV9ERVNDKHBvc19idWZf
cGVyX3NlLCAidGhlIHNpemUgb2YgUG9zaXRpb24gQnVmZmVyIHBlciBTaGFkZXIgRW5naW5lIChk
ZWZhdWx0IGRlcGVuZGluZyBvbiBnZngpIik7IC1tb2R1bGVfcGFyYW1fbmFtZWQocG9zX2J1Zl9w
ZXJfc2UsIGFtZGdwdV9wb3NfYnVmX3Blcl9zZSwgaW50LCAwNDQ0KTsNCi0NCi0vKioNCi0gKiBE
T0M6IGNudGxfc2JfYnVmX3Blcl9zZSAoaW50KQ0KLSAqIE92ZXJyaWRlIHRoZSBzaXplIG9mIENv
bnRyb2wgU2lkZWJhbmQgcGVyIFNoYWRlciBFbmdpbmUgaW4gQnl0ZS4gVGhlIGRlZmF1bHQgaXMg
MCAoZGVwZW5kaW5nIG9uIGdmeCkuDQotICovDQotTU9EVUxFX1BBUk1fREVTQyhjbnRsX3NiX2J1
Zl9wZXJfc2UsICJ0aGUgc2l6ZSBvZiBDb250cm9sIFNpZGViYW5kIHBlciBTaGFkZXIgRW5naW5l
IChkZWZhdWx0IGRlcGVuZGluZyBvbiBnZngpIik7IC1tb2R1bGVfcGFyYW1fbmFtZWQoY250bF9z
Yl9idWZfcGVyX3NlLCBhbWRncHVfY250bF9zYl9idWZfcGVyX3NlLCBpbnQsIDA0NDQpOw0KLQ0K
LS8qKg0KLSAqIERPQzogcGFyYW1fYnVmX3Blcl9zZSAoaW50KQ0KLSAqIE92ZXJyaWRlIHRoZSBz
aXplIG9mIE9mZi1DaGlwIFBhcmFtZXRlciBDYWNoZSBwZXIgU2hhZGVyIEVuZ2luZSBpbiBCeXRl
Lg0KLSAqIFRoZSBkZWZhdWx0IGlzIDAgKGRlcGVuZGluZyBvbiBnZngpLg0KLSAqLw0KLU1PRFVM
RV9QQVJNX0RFU0MocGFyYW1fYnVmX3Blcl9zZSwgInRoZSBzaXplIG9mIE9mZi1DaGlwIFBhcmFt
ZXRlciBDYWNoZSBwZXIgU2hhZGVyIEVuZ2luZSAoZGVmYXVsdCBkZXBlbmRpbmcgb24gZ2Z4KSIp
OyAtbW9kdWxlX3BhcmFtX25hbWVkKHBhcmFtX2J1Zl9wZXJfc2UsIGFtZGdwdV9wYXJhbV9idWZf
cGVyX3NlLCBpbnQsIDA0NDQpOw0KLQ0KIC8qKg0KICAqIERPQzogam9iX2hhbmdfbGltaXQgKGlu
dCkNCiAgKiBTZXQgaG93IG11Y2ggdGltZSBhbGxvdyBhIGpvYiBoYW5nIGFuZCBub3QgZHJvcCBp
dC4gVGhlIGRlZmF1bHQgaXMgMC4NCiAgKi8NCiBNT0RVTEVfUEFSTV9ERVNDKGpvYl9oYW5nX2xp
bWl0LCAiaG93IG11Y2ggdGltZSBhbGxvdyBhIGpvYiBoYW5nIGFuZCBub3QgZHJvcCBpdCAoZGVm
YXVsdCAwKSIpOyAgbW9kdWxlX3BhcmFtX25hbWVkKGpvYl9oYW5nX2xpbWl0LCBhbWRncHVfam9i
X2hhbmdfbGltaXQsIGludCAsMDQ0NCk7DQogDQogLyoqDQogICogRE9DOiBsYnB3IChpbnQpDQog
ICogT3ZlcnJpZGUgTG9hZCBCYWxhbmNpbmcgUGVyIFdhdHQgKExCUFcpIHN1cHBvcnQgKDEgPSBl
bmFibGUsIDAgPSBkaXNhYmxlKS4gVGhlIGRlZmF1bHQgaXMgLTEgKGF1dG8sIGVuYWJsZWQpLg0K
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nZnguaCBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nZnguaA0KaW5kZXggNmVkMDU2MGQ3Mjk5
Li41OWM1NDY0Yzk2YmUgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9h
bWRncHVfZ2Z4LmgNCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nZngu
aA0KQEAgLTE5Myw0MiArMTkzLDIwIEBAIHN0cnVjdCBhbWRncHVfZ2Z4X2Z1bmNzIHsNCiAJCQkJ
dWludDMyX3Qgc2l6ZSwgdWludDMyX3QgKmRzdCk7DQogCXZvaWQgKCpyZWFkX3dhdmVfc2dwcnMp
KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCB1aW50MzJfdCBzaW1kLA0KIAkJCQl1aW50MzJf
dCB3YXZlLCB1aW50MzJfdCBzdGFydCwgdWludDMyX3Qgc2l6ZSwNCiAJCQkJdWludDMyX3QgKmRz
dCk7DQogCXZvaWQgKCpzZWxlY3RfbWVfcGlwZV9xKShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRl
diwgdTMyIG1lLCB1MzIgcGlwZSwNCiAJCQkJIHUzMiBxdWV1ZSwgdTMyIHZtaWQpOw0KIAlpbnQg
KCpyYXNfZXJyb3JfaW5qZWN0KShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgdm9pZCAqaW5q
ZWN0X2lmKTsNCiAJaW50ICgqcXVlcnlfcmFzX2Vycm9yX2NvdW50KSAoc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYsIHZvaWQgKnJhc19lcnJvcl9zdGF0dXMpOyAgfTsNCiANCi1zdHJ1Y3QgYW1k
Z3B1X25nZ19idWYgew0KLQlzdHJ1Y3QgYW1kZ3B1X2JvCSpibzsNCi0JdWludDY0X3QJCWdwdV9h
ZGRyOw0KLQl1aW50MzJfdAkJc2l6ZTsNCi0JdWludDMyX3QJCWJvX3NpemU7DQotfTsNCi0NCi1l
bnVtIHsNCi0JTkdHX1BSSU0gPSAwLA0KLQlOR0dfUE9TLA0KLQlOR0dfQ05UTCwNCi0JTkdHX1BB
UkFNLA0KLQlOR0dfQlVGX01BWA0KLX07DQotDQotc3RydWN0IGFtZGdwdV9uZ2cgew0KLQlzdHJ1
Y3QgYW1kZ3B1X25nZ19idWYJYnVmW05HR19CVUZfTUFYXTsNCi0JdWludDMyX3QJCWdkc19yZXNl
cnZlX2FkZHI7DQotCXVpbnQzMl90CQlnZHNfcmVzZXJ2ZV9zaXplOw0KLQlib29sCQkJaW5pdDsN
Ci19Ow0KLQ0KIHN0cnVjdCBzcV93b3JrIHsNCiAJc3RydWN0IHdvcmtfc3RydWN0CXdvcms7DQog
CXVuc2lnbmVkIGloX2RhdGE7DQogfTsNCiANCiBzdHJ1Y3QgYW1kZ3B1X3BmcCB7DQogCXN0cnVj
dCBhbWRncHVfYm8JCSpwZnBfZndfb2JqOw0KIAl1aW50NjRfdAkJCXBmcF9md19ncHVfYWRkcjsN
CiAJdWludDMyX3QJCQkqcGZwX2Z3X3B0cjsNCiB9Ow0KQEAgLTMwMywyMyArMjgxLDIwIEBAIHN0
cnVjdCBhbWRncHVfZ2Z4IHsNCiAJdWludDMyX3QJCQlnZnhfY3VycmVudF9zdGF0dXM7DQogCS8q
IGNlIHJhbSBzaXplKi8NCiAJdW5zaWduZWQJCQljZV9yYW1fc2l6ZTsNCiAJc3RydWN0IGFtZGdw
dV9jdV9pbmZvCQljdV9pbmZvOw0KIAljb25zdCBzdHJ1Y3QgYW1kZ3B1X2dmeF9mdW5jcwkqZnVu
Y3M7DQogDQogCS8qIHJlc2V0IG1hc2sgKi8NCiAJdWludDMyX3QgICAgICAgICAgICAgICAgICAg
ICAgICBncmJtX3NvZnRfcmVzZXQ7DQogCXVpbnQzMl90ICAgICAgICAgICAgICAgICAgICAgICAg
c3JibV9zb2Z0X3Jlc2V0Ow0KIA0KLQkvKiBOR0cgKi8NCi0Jc3RydWN0IGFtZGdwdV9uZ2cJCW5n
ZzsNCi0NCiAJLyogZ2Z4IG9mZiAqLw0KIAlib29sICAgICAgICAgICAgICAgICAgICAgICAgICAg
IGdmeF9vZmZfc3RhdGU7IC8qIHRydWU6IGVuYWJsZWQsIGZhbHNlOiBkaXNhYmxlZCAqLw0KIAlz
dHJ1Y3QgbXV0ZXggICAgICAgICAgICAgICAgICAgIGdmeF9vZmZfbXV0ZXg7DQogCXVpbnQzMl90
ICAgICAgICAgICAgICAgICAgICAgICAgZ2Z4X29mZl9yZXFfY291bnQ7IC8qIGRlZmF1bHQgMSwg
ZW5hYmxlIGdmeCBvZmY6IGRlYyAxLCBkaXNhYmxlIGdmeCBvZmY6IGFkZCAxICovDQogCXN0cnVj
dCBkZWxheWVkX3dvcmsgICAgICAgICAgICAgZ2Z4X29mZl9kZWxheV93b3JrOw0KIA0KIAkvKiBw
aXBlIHJlc2VydmF0aW9uICovDQogCXN0cnVjdCBtdXRleAkJCXBpcGVfcmVzZXJ2ZV9tdXRleDsN
CiAJREVDTEFSRV9CSVRNQVAJCQkocGlwZV9yZXNlcnZlX2JpdG1hcCwgQU1ER1BVX01BWF9DT01Q
VVRFX1FVRVVFUyk7DQogDQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
YW1kZ3B1X2ttcy5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2ttcy5jDQpp
bmRleCA3YzY4OTc0ZmU4ZjIuLjZjYzc5ZDNhNGUyNiAxMDA2NDQNCi0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9rbXMuYw0KKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1X2ttcy5jDQpAQCAtNzYwLDMxICs3NjAsMjAgQEAgc3RhdGljIGludCBhbWRn
cHVfaW5mb19pb2N0bChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB2b2lkICpkYXRhLCBzdHJ1Y3Qg
ZHJtX2ZpbGUNCiAJCWRldl9pbmZvLmNlX3JhbV9zaXplID0gYWRldi0+Z2Z4LmNlX3JhbV9zaXpl
Ow0KIAkJbWVtY3B5KCZkZXZfaW5mby5jdV9hb19iaXRtYXBbMF0sICZhZGV2LT5nZnguY3VfaW5m
by5hb19jdV9iaXRtYXBbMF0sDQogCQkgICAgICAgc2l6ZW9mKGFkZXYtPmdmeC5jdV9pbmZvLmFv
X2N1X2JpdG1hcCkpOw0KIAkJbWVtY3B5KCZkZXZfaW5mby5jdV9iaXRtYXBbMF0sICZhZGV2LT5n
ZnguY3VfaW5mby5iaXRtYXBbMF0sDQogCQkgICAgICAgc2l6ZW9mKGFkZXYtPmdmeC5jdV9pbmZv
LmJpdG1hcCkpOw0KIAkJZGV2X2luZm8udnJhbV90eXBlID0gYWRldi0+Z21jLnZyYW1fdHlwZTsN
CiAJCWRldl9pbmZvLnZyYW1fYml0X3dpZHRoID0gYWRldi0+Z21jLnZyYW1fd2lkdGg7DQogCQlk
ZXZfaW5mby52Y2VfaGFydmVzdF9jb25maWcgPSBhZGV2LT52Y2UuaGFydmVzdF9jb25maWc7DQog
CQlkZXZfaW5mby5nY19kb3VibGVfb2ZmY2hpcF9sZHNfYnVmID0NCiAJCQlhZGV2LT5nZnguY29u
ZmlnLmRvdWJsZV9vZmZjaGlwX2xkc19idWY7DQotDQotCQlpZiAoYW1kZ3B1X25nZykgew0KLQkJ
CWRldl9pbmZvLnByaW1fYnVmX2dwdV9hZGRyID0gYWRldi0+Z2Z4Lm5nZy5idWZbTkdHX1BSSU1d
LmdwdV9hZGRyOw0KLQkJCWRldl9pbmZvLnByaW1fYnVmX3NpemUgPSBhZGV2LT5nZngubmdnLmJ1
ZltOR0dfUFJJTV0uc2l6ZTsNCi0JCQlkZXZfaW5mby5wb3NfYnVmX2dwdV9hZGRyID0gYWRldi0+
Z2Z4Lm5nZy5idWZbTkdHX1BPU10uZ3B1X2FkZHI7DQotCQkJZGV2X2luZm8ucG9zX2J1Zl9zaXpl
ID0gYWRldi0+Z2Z4Lm5nZy5idWZbTkdHX1BPU10uc2l6ZTsNCi0JCQlkZXZfaW5mby5jbnRsX3Ni
X2J1Zl9ncHVfYWRkciA9IGFkZXYtPmdmeC5uZ2cuYnVmW05HR19DTlRMXS5ncHVfYWRkcjsNCi0J
CQlkZXZfaW5mby5jbnRsX3NiX2J1Zl9zaXplID0gYWRldi0+Z2Z4Lm5nZy5idWZbTkdHX0NOVExd
LnNpemU7DQotCQkJZGV2X2luZm8ucGFyYW1fYnVmX2dwdV9hZGRyID0gYWRldi0+Z2Z4Lm5nZy5i
dWZbTkdHX1BBUkFNXS5ncHVfYWRkcjsNCi0JCQlkZXZfaW5mby5wYXJhbV9idWZfc2l6ZSA9IGFk
ZXYtPmdmeC5uZ2cuYnVmW05HR19QQVJBTV0uc2l6ZTsNCi0JCX0NCiAJCWRldl9pbmZvLndhdmVf
ZnJvbnRfc2l6ZSA9IGFkZXYtPmdmeC5jdV9pbmZvLndhdmVfZnJvbnRfc2l6ZTsNCiAJCWRldl9p
bmZvLm51bV9zaGFkZXJfdmlzaWJsZV92Z3BycyA9IGFkZXYtPmdmeC5jb25maWcubWF4X2dwcnM7
DQogCQlkZXZfaW5mby5udW1fY3VfcGVyX3NoID0gYWRldi0+Z2Z4LmNvbmZpZy5tYXhfY3VfcGVy
X3NoOw0KIAkJZGV2X2luZm8ubnVtX3RjY19ibG9ja3MgPSBhZGV2LT5nZnguY29uZmlnLm1heF90
ZXh0dXJlX2NoYW5uZWxfY2FjaGVzOw0KIAkJZGV2X2luZm8uZ3Nfdmd0X3RhYmxlX2RlcHRoID0g
YWRldi0+Z2Z4LmNvbmZpZy5nc192Z3RfdGFibGVfZGVwdGg7DQogCQlkZXZfaW5mby5nc19wcmlt
X2J1ZmZlcl9kZXB0aCA9IGFkZXYtPmdmeC5jb25maWcuZ3NfcHJpbV9idWZmZXJfZGVwdGg7DQog
CQlkZXZfaW5mby5tYXhfZ3Nfd2F2ZXNfcGVyX3ZndCA9IGFkZXYtPmdmeC5jb25maWcubWF4X2dz
X3RocmVhZHM7DQogDQogCQlpZiAoYWRldi0+ZmFtaWx5ID49IEFNREdQVV9GQU1JTFlfTlYpDQog
CQkJZGV2X2luZm8ucGFfc2NfdGlsZV9zdGVlcmluZ19vdmVycmlkZSA9IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjlfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvZ2Z4X3Y5XzAuYw0KaW5kZXggOWExZjkxY2YwZWU4Li4yNjZlZjg3NGYyYTMgMTAw
NjQ0DQotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjlfMC5jDQorKysgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjlfMC5jDQpAQCAtMTk0NiwyMDQgKzE5NDYs
MjAgQEAgc3RhdGljIGludCBnZnhfdjlfMF9ncHVfZWFybHlfaW5pdChzdHJ1Y3QgYW1kZ3B1X2Rl
dmljZSAqYWRldikNCiAJCQkJCU5VTV9TSEFERVJfRU5HSU5FUyk7DQogCWFkZXYtPmdmeC5jb25m
aWcuZ2JfYWRkcl9jb25maWdfZmllbGRzLnBpcGVfaW50ZXJsZWF2ZV9zaXplID0gMSA8PCAoOCAr
DQogCQkJUkVHX0dFVF9GSUVMRCgNCiAJCQkJCWFkZXYtPmdmeC5jb25maWcuZ2JfYWRkcl9jb25m
aWcsDQogCQkJCQlHQl9BRERSX0NPTkZJRywNCiAJCQkJCVBJUEVfSU5URVJMRUFWRV9TSVpFKSk7
DQogDQogCXJldHVybiAwOw0KIH0NCiANCi1zdGF0aWMgaW50IGdmeF92OV8wX25nZ19jcmVhdGVf
YnVmKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KLQkJCQkgICBzdHJ1Y3QgYW1kZ3B1X25n
Z19idWYgKm5nZ19idWYsDQotCQkJCSAgIGludCBzaXplX3NlLA0KLQkJCQkgICBpbnQgZGVmYXVs
dF9zaXplX3NlKQ0KLXsNCi0JaW50IHI7DQotDQotCWlmIChzaXplX3NlIDwgMCkgew0KLQkJZGV2
X2VycihhZGV2LT5kZXYsICJCdWZmZXIgc2l6ZSBpcyBpbnZhbGlkOiAlZFxuIiwgc2l6ZV9zZSk7
DQotCQlyZXR1cm4gLUVJTlZBTDsNCi0JfQ0KLQlzaXplX3NlID0gc2l6ZV9zZSA/IHNpemVfc2Ug
OiBkZWZhdWx0X3NpemVfc2U7DQotDQotCW5nZ19idWYtPnNpemUgPSBzaXplX3NlICogYWRldi0+
Z2Z4LmNvbmZpZy5tYXhfc2hhZGVyX2VuZ2luZXM7DQotCXIgPSBhbWRncHVfYm9fY3JlYXRlX2tl
cm5lbChhZGV2LCBuZ2dfYnVmLT5zaXplLA0KLQkJCQkgICAgUEFHRV9TSVpFLCBBTURHUFVfR0VN
X0RPTUFJTl9WUkFNLA0KLQkJCQkgICAgJm5nZ19idWYtPmJvLA0KLQkJCQkgICAgJm5nZ19idWYt
PmdwdV9hZGRyLA0KLQkJCQkgICAgTlVMTCk7DQotCWlmIChyKSB7DQotCQlkZXZfZXJyKGFkZXYt
PmRldiwgIiglZCkgZmFpbGVkIHRvIGNyZWF0ZSBOR0cgYnVmZmVyXG4iLCByKTsNCi0JCXJldHVy
biByOw0KLQl9DQotCW5nZ19idWYtPmJvX3NpemUgPSBhbWRncHVfYm9fc2l6ZShuZ2dfYnVmLT5i
byk7DQotDQotCXJldHVybiByOw0KLX0NCi0NCi1zdGF0aWMgaW50IGdmeF92OV8wX25nZ19maW5p
KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KSAtew0KLQlpbnQgaTsNCi0NCi0JZm9yIChpID0g
MDsgaSA8IE5HR19CVUZfTUFYOyBpKyspDQotCQlhbWRncHVfYm9fZnJlZV9rZXJuZWwoJmFkZXYt
PmdmeC5uZ2cuYnVmW2ldLmJvLA0KLQkJCQkgICAgICAmYWRldi0+Z2Z4Lm5nZy5idWZbaV0uZ3B1
X2FkZHIsDQotCQkJCSAgICAgIE5VTEwpOw0KLQ0KLQltZW1zZXQoJmFkZXYtPmdmeC5uZ2cuYnVm
WzBdLCAwLA0KLQkJCXNpemVvZihzdHJ1Y3QgYW1kZ3B1X25nZ19idWYpICogTkdHX0JVRl9NQVgp
Ow0KLQ0KLQlhZGV2LT5nZngubmdnLmluaXQgPSBmYWxzZTsNCi0NCi0JcmV0dXJuIDA7DQotfQ0K
LQ0KLXN0YXRpYyBpbnQgZ2Z4X3Y5XzBfbmdnX2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFk
ZXYpIC17DQotCWludCByOw0KLQ0KLQlpZiAoIWFtZGdwdV9uZ2cgfHwgYWRldi0+Z2Z4Lm5nZy5p
bml0ID09IHRydWUpDQotCQlyZXR1cm4gMDsNCi0NCi0JLyogR0RTIHJlc2VydmUgbWVtb3J5OiA2
NCBieXRlcyBhbGlnbm1lbnQgKi8NCi0JYWRldi0+Z2Z4Lm5nZy5nZHNfcmVzZXJ2ZV9zaXplID0g
QUxJR04oNSAqIDQsIDB4NDApOw0KLQlhZGV2LT5nZHMuZ2RzX3NpemUgLT0gYWRldi0+Z2Z4Lm5n
Zy5nZHNfcmVzZXJ2ZV9zaXplOw0KLQlhZGV2LT5nZngubmdnLmdkc19yZXNlcnZlX2FkZHIgPSBS
UkVHMzJfU09DMTUoR0MsIDAsIG1tR0RTX1ZNSUQwX0JBU0UpOw0KLQlhZGV2LT5nZngubmdnLmdk
c19yZXNlcnZlX2FkZHIgKz0gUlJFRzMyX1NPQzE1KEdDLCAwLCBtbUdEU19WTUlEMF9TSVpFKTsN
Ci0NCi0JLyogUHJpbWl0aXZlIEJ1ZmZlciAqLw0KLQlyID0gZ2Z4X3Y5XzBfbmdnX2NyZWF0ZV9i
dWYoYWRldiwgJmFkZXYtPmdmeC5uZ2cuYnVmW05HR19QUklNXSwNCi0JCQkJICAgIGFtZGdwdV9w
cmltX2J1Zl9wZXJfc2UsDQotCQkJCSAgICA2NCAqIDEwMjQpOw0KLQlpZiAocikgew0KLQkJZGV2
X2VycihhZGV2LT5kZXYsICJGYWlsZWQgdG8gY3JlYXRlIFByaW1pdGl2ZSBCdWZmZXJcbiIpOw0K
LQkJZ290byBlcnI7DQotCX0NCi0NCi0JLyogUG9zaXRpb24gQnVmZmVyICovDQotCXIgPSBnZnhf
djlfMF9uZ2dfY3JlYXRlX2J1ZihhZGV2LCAmYWRldi0+Z2Z4Lm5nZy5idWZbTkdHX1BPU10sDQot
CQkJCSAgICBhbWRncHVfcG9zX2J1Zl9wZXJfc2UsDQotCQkJCSAgICAyNTYgKiAxMDI0KTsNCi0J
aWYgKHIpIHsNCi0JCWRldl9lcnIoYWRldi0+ZGV2LCAiRmFpbGVkIHRvIGNyZWF0ZSBQb3NpdGlv
biBCdWZmZXJcbiIpOw0KLQkJZ290byBlcnI7DQotCX0NCi0NCi0JLyogQ29udHJvbCBTaWRlYmFu
ZCAqLw0KLQlyID0gZ2Z4X3Y5XzBfbmdnX2NyZWF0ZV9idWYoYWRldiwgJmFkZXYtPmdmeC5uZ2cu
YnVmW05HR19DTlRMXSwNCi0JCQkJICAgIGFtZGdwdV9jbnRsX3NiX2J1Zl9wZXJfc2UsDQotCQkJ
CSAgICAyNTYpOw0KLQlpZiAocikgew0KLQkJZGV2X2VycihhZGV2LT5kZXYsICJGYWlsZWQgdG8g
Y3JlYXRlIENvbnRyb2wgU2lkZWJhbmQgQnVmZmVyXG4iKTsNCi0JCWdvdG8gZXJyOw0KLQl9DQot
DQotCS8qIFBhcmFtZXRlciBDYWNoZSwgbm90IGNyZWF0ZWQgYnkgZGVmYXVsdCAqLw0KLQlpZiAo
YW1kZ3B1X3BhcmFtX2J1Zl9wZXJfc2UgPD0gMCkNCi0JCWdvdG8gb3V0Ow0KLQ0KLQlyID0gZ2Z4
X3Y5XzBfbmdnX2NyZWF0ZV9idWYoYWRldiwgJmFkZXYtPmdmeC5uZ2cuYnVmW05HR19QQVJBTV0s
DQotCQkJCSAgICBhbWRncHVfcGFyYW1fYnVmX3Blcl9zZSwNCi0JCQkJICAgIDUxMiAqIDEwMjQp
Ow0KLQlpZiAocikgew0KLQkJZGV2X2VycihhZGV2LT5kZXYsICJGYWlsZWQgdG8gY3JlYXRlIFBh
cmFtZXRlciBDYWNoZVxuIik7DQotCQlnb3RvIGVycjsNCi0JfQ0KLQ0KLW91dDoNCi0JYWRldi0+
Z2Z4Lm5nZy5pbml0ID0gdHJ1ZTsNCi0JcmV0dXJuIDA7DQotZXJyOg0KLQlnZnhfdjlfMF9uZ2df
ZmluaShhZGV2KTsNCi0JcmV0dXJuIHI7DQotfQ0KLQ0KLXN0YXRpYyBpbnQgZ2Z4X3Y5XzBfbmdn
X2VuKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KSAtew0KLQlzdHJ1Y3QgYW1kZ3B1X3Jpbmcg
KnJpbmcgPSAmYWRldi0+Z2Z4LmdmeF9yaW5nWzBdOw0KLQlpbnQgcjsNCi0JdTMyIGRhdGEsIGJh
c2U7DQotDQotCWlmICghYW1kZ3B1X25nZykNCi0JCXJldHVybiAwOw0KLQ0KLQkvKiBQcm9ncmFt
IGJ1ZmZlciBzaXplICovDQotCWRhdGEgPSBSRUdfU0VUX0ZJRUxEKDAsIFdEX0JVRl9SRVNPVVJD
RV8xLCBJTkRFWF9CVUZfU0laRSwNCi0JCQkgICAgIGFkZXYtPmdmeC5uZ2cuYnVmW05HR19QUklN
XS5zaXplID4+IDgpOw0KLQlkYXRhID0gUkVHX1NFVF9GSUVMRChkYXRhLCBXRF9CVUZfUkVTT1VS
Q0VfMSwgUE9TX0JVRl9TSVpFLA0KLQkJCSAgICAgYWRldi0+Z2Z4Lm5nZy5idWZbTkdHX1BPU10u
c2l6ZSA+PiA4KTsNCi0JV1JFRzMyX1NPQzE1KEdDLCAwLCBtbVdEX0JVRl9SRVNPVVJDRV8xLCBk
YXRhKTsNCi0NCi0JZGF0YSA9IFJFR19TRVRfRklFTEQoMCwgV0RfQlVGX1JFU09VUkNFXzIsIENO
VExfU0JfQlVGX1NJWkUsDQotCQkJICAgICBhZGV2LT5nZngubmdnLmJ1ZltOR0dfQ05UTF0uc2l6
ZSA+PiA4KTsNCi0JZGF0YSA9IFJFR19TRVRfRklFTEQoZGF0YSwgV0RfQlVGX1JFU09VUkNFXzIs
IFBBUkFNX0JVRl9TSVpFLA0KLQkJCSAgICAgYWRldi0+Z2Z4Lm5nZy5idWZbTkdHX1BBUkFNXS5z
aXplID4+IDEwKTsNCi0JV1JFRzMyX1NPQzE1KEdDLCAwLCBtbVdEX0JVRl9SRVNPVVJDRV8yLCBk
YXRhKTsNCi0NCi0JLyogUHJvZ3JhbSBidWZmZXIgYmFzZSBhZGRyZXNzICovDQotCWJhc2UgPSBs
b3dlcl8zMl9iaXRzKGFkZXYtPmdmeC5uZ2cuYnVmW05HR19QUklNXS5ncHVfYWRkcik7DQotCWRh
dGEgPSBSRUdfU0VUX0ZJRUxEKDAsIFdEX0lOREVYX0JVRl9CQVNFLCBCQVNFLCBiYXNlKTsNCi0J
V1JFRzMyX1NPQzE1KEdDLCAwLCBtbVdEX0lOREVYX0JVRl9CQVNFLCBkYXRhKTsNCi0NCi0JYmFz
ZSA9IHVwcGVyXzMyX2JpdHMoYWRldi0+Z2Z4Lm5nZy5idWZbTkdHX1BSSU1dLmdwdV9hZGRyKTsN
Ci0JZGF0YSA9IFJFR19TRVRfRklFTEQoMCwgV0RfSU5ERVhfQlVGX0JBU0VfSEksIEJBU0VfSEks
IGJhc2UpOw0KLQlXUkVHMzJfU09DMTUoR0MsIDAsIG1tV0RfSU5ERVhfQlVGX0JBU0VfSEksIGRh
dGEpOw0KLQ0KLQliYXNlID0gbG93ZXJfMzJfYml0cyhhZGV2LT5nZngubmdnLmJ1ZltOR0dfUE9T
XS5ncHVfYWRkcik7DQotCWRhdGEgPSBSRUdfU0VUX0ZJRUxEKDAsIFdEX1BPU19CVUZfQkFTRSwg
QkFTRSwgYmFzZSk7DQotCVdSRUczMl9TT0MxNShHQywgMCwgbW1XRF9QT1NfQlVGX0JBU0UsIGRh
dGEpOw0KLQ0KLQliYXNlID0gdXBwZXJfMzJfYml0cyhhZGV2LT5nZngubmdnLmJ1ZltOR0dfUE9T
XS5ncHVfYWRkcik7DQotCWRhdGEgPSBSRUdfU0VUX0ZJRUxEKDAsIFdEX1BPU19CVUZfQkFTRV9I
SSwgQkFTRV9ISSwgYmFzZSk7DQotCVdSRUczMl9TT0MxNShHQywgMCwgbW1XRF9QT1NfQlVGX0JB
U0VfSEksIGRhdGEpOw0KLQ0KLQliYXNlID0gbG93ZXJfMzJfYml0cyhhZGV2LT5nZngubmdnLmJ1
ZltOR0dfQ05UTF0uZ3B1X2FkZHIpOw0KLQlkYXRhID0gUkVHX1NFVF9GSUVMRCgwLCBXRF9DTlRM
X1NCX0JVRl9CQVNFLCBCQVNFLCBiYXNlKTsNCi0JV1JFRzMyX1NPQzE1KEdDLCAwLCBtbVdEX0NO
VExfU0JfQlVGX0JBU0UsIGRhdGEpOw0KLQ0KLQliYXNlID0gdXBwZXJfMzJfYml0cyhhZGV2LT5n
ZngubmdnLmJ1ZltOR0dfQ05UTF0uZ3B1X2FkZHIpOw0KLQlkYXRhID0gUkVHX1NFVF9GSUVMRCgw
LCBXRF9DTlRMX1NCX0JVRl9CQVNFX0hJLCBCQVNFX0hJLCBiYXNlKTsNCi0JV1JFRzMyX1NPQzE1
KEdDLCAwLCBtbVdEX0NOVExfU0JfQlVGX0JBU0VfSEksIGRhdGEpOw0KLQ0KLQkvKiBDbGVhciBH
RFMgcmVzZXJ2ZWQgbWVtb3J5ICovDQotCXIgPSBhbWRncHVfcmluZ19hbGxvYyhyaW5nLCAxNyk7
DQotCWlmIChyKSB7DQotCQlEUk1fRVJST1IoImFtZGdwdTogTkdHIGZhaWxlZCB0byBsb2NrIHJp
bmcgJXMgKCVkKS5cbiIsDQotCQkJICByaW5nLT5uYW1lLCByKTsNCi0JCXJldHVybiByOw0KLQl9
DQotDQotCWdmeF92OV8wX3dyaXRlX2RhdGFfdG9fcmVnKHJpbmcsIDAsIGZhbHNlLA0KLQkJCQkg
ICBTT0MxNV9SRUdfT0ZGU0VUKEdDLCAwLCBtbUdEU19WTUlEMF9TSVpFKSwNCi0JCQkgICAgICAg
ICAgIChhZGV2LT5nZHMuZ2RzX3NpemUgKw0KLQkJCQkgICAgYWRldi0+Z2Z4Lm5nZy5nZHNfcmVz
ZXJ2ZV9zaXplKSk7DQotDQotCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIFBBQ0tFVDMoUEFDS0VU
M19ETUFfREFUQSwgNSkpOw0KLQlhbWRncHVfcmluZ193cml0ZShyaW5nLCAoUEFDS0VUM19ETUFf
REFUQV9DUF9TWU5DIHwNCi0JCQkJUEFDS0VUM19ETUFfREFUQV9EU1RfU0VMKDEpIHwNCi0JCQkJ
UEFDS0VUM19ETUFfREFUQV9TUkNfU0VMKDIpKSk7DQotCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcs
IDApOw0KLQlhbWRncHVfcmluZ193cml0ZShyaW5nLCAwKTsNCi0JYW1kZ3B1X3Jpbmdfd3JpdGUo
cmluZywgYWRldi0+Z2Z4Lm5nZy5nZHNfcmVzZXJ2ZV9hZGRyKTsNCi0JYW1kZ3B1X3Jpbmdfd3Jp
dGUocmluZywgMCk7DQotCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIFBBQ0tFVDNfRE1BX0RBVEFf
Q01EX1JBV19XQUlUIHwNCi0JCQkJYWRldi0+Z2Z4Lm5nZy5nZHNfcmVzZXJ2ZV9zaXplKTsNCi0N
Ci0JZ2Z4X3Y5XzBfd3JpdGVfZGF0YV90b19yZWcocmluZywgMCwgZmFsc2UsDQotCQkJCSAgIFNP
QzE1X1JFR19PRkZTRVQoR0MsIDAsIG1tR0RTX1ZNSUQwX1NJWkUpLCAwKTsNCi0NCi0JYW1kZ3B1
X3JpbmdfY29tbWl0KHJpbmcpOw0KLQ0KLQlyZXR1cm4gMDsNCi19DQotDQogc3RhdGljIGludCBn
ZnhfdjlfMF9jb21wdXRlX3JpbmdfaW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgaW50
IHJpbmdfaWQsDQogCQkJCSAgICAgIGludCBtZWMsIGludCBwaXBlLCBpbnQgcXVldWUpICB7DQog
CWludCByOw0KIAl1bnNpZ25lZCBpcnFfdHlwZTsNCiAJc3RydWN0IGFtZGdwdV9yaW5nICpyaW5n
ID0gJmFkZXYtPmdmeC5jb21wdXRlX3JpbmdbcmluZ19pZF07DQogDQogCXJpbmcgPSAmYWRldi0+
Z2Z4LmNvbXB1dGVfcmluZ1tyaW5nX2lkXTsNCiANCiAJLyogbWVjMCBpcyBtZTEgKi8NCkBAIC0y
Mjk3LDI0ICsyMTEzLDIwIEBAIHN0YXRpYyBpbnQgZ2Z4X3Y5XzBfc3dfaW5pdCh2b2lkICpoYW5k
bGUpDQogCXIgPSBhbWRncHVfZ2Z4X21xZF9zd19pbml0KGFkZXYsIHNpemVvZihzdHJ1Y3Qgdjlf
bXFkX2FsbG9jYXRpb24pKTsNCiAJaWYgKHIpDQogCQlyZXR1cm4gcjsNCiANCiAJYWRldi0+Z2Z4
LmNlX3JhbV9zaXplID0gMHg4MDAwOw0KIA0KIAlyID0gZ2Z4X3Y5XzBfZ3B1X2Vhcmx5X2luaXQo
YWRldik7DQogCWlmIChyKQ0KIAkJcmV0dXJuIHI7DQogDQotCXIgPSBnZnhfdjlfMF9uZ2dfaW5p
dChhZGV2KTsNCi0JaWYgKHIpDQotCQlyZXR1cm4gcjsNCi0NCiAJcmV0dXJuIDA7DQogfQ0KIA0K
IA0KIHN0YXRpYyBpbnQgZ2Z4X3Y5XzBfc3dfZmluaSh2b2lkICpoYW5kbGUpICB7DQogCWludCBp
Ow0KIAlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
KWhhbmRsZTsNCiANCiAJaWYgKGFtZGdwdV9yYXNfaXNfc3VwcG9ydGVkKGFkZXYsIEFNREdQVV9S
QVNfQkxPQ0tfX0dGWCkgJiYgQEAgLTIzMzQsMjEgKzIxNDYsMjAgQEAgc3RhdGljIGludCBnZnhf
djlfMF9zd19maW5pKHZvaWQgKmhhbmRsZSkNCiAJZm9yIChpID0gMDsgaSA8IGFkZXYtPmdmeC5u
dW1fZ2Z4X3JpbmdzOyBpKyspDQogCQlhbWRncHVfcmluZ19maW5pKCZhZGV2LT5nZnguZ2Z4X3Jp
bmdbaV0pOw0KIAlmb3IgKGkgPSAwOyBpIDwgYWRldi0+Z2Z4Lm51bV9jb21wdXRlX3JpbmdzOyBp
KyspDQogCQlhbWRncHVfcmluZ19maW5pKCZhZGV2LT5nZnguY29tcHV0ZV9yaW5nW2ldKTsNCiAN
CiAJYW1kZ3B1X2dmeF9tcWRfc3dfZmluaShhZGV2KTsNCiAJYW1kZ3B1X2dmeF9raXFfZnJlZV9y
aW5nKCZhZGV2LT5nZngua2lxLnJpbmcsICZhZGV2LT5nZngua2lxLmlycSk7DQogCWFtZGdwdV9n
Znhfa2lxX2ZpbmkoYWRldik7DQogDQogCWdmeF92OV8wX21lY19maW5pKGFkZXYpOw0KLQlnZnhf
djlfMF9uZ2dfZmluaShhZGV2KTsNCiAJYW1kZ3B1X2JvX3VucmVmKCZhZGV2LT5nZngucmxjLmNs
ZWFyX3N0YXRlX29iaik7DQogCWlmIChhZGV2LT5hc2ljX3R5cGUgPT0gQ0hJUF9SQVZFTiB8fCBh
ZGV2LT5hc2ljX3R5cGUgPT0gQ0hJUF9SRU5PSVIpIHsNCiAJCWFtZGdwdV9ib19mcmVlX2tlcm5l
bCgmYWRldi0+Z2Z4LnJsYy5jcF90YWJsZV9vYmosDQogCQkJCSZhZGV2LT5nZngucmxjLmNwX3Rh
YmxlX2dwdV9hZGRyLA0KIAkJCQkodm9pZCAqKikmYWRldi0+Z2Z4LnJsYy5jcF90YWJsZV9wdHIp
Ow0KIAl9DQogCWdmeF92OV8wX2ZyZWVfbWljcm9jb2RlKGFkZXYpOw0KIA0KIAlyZXR1cm4gMDsN
CiB9DQpAQCAtMzg2NCwyNiArMzY3NSwyMCBAQCBzdGF0aWMgaW50IGdmeF92OV8wX2h3X2luaXQo
dm9pZCAqaGFuZGxlKQ0KIAkJcmV0dXJuIHI7DQogDQogCXIgPSBhZGV2LT5nZngucmxjLmZ1bmNz
LT5yZXN1bWUoYWRldik7DQogCWlmIChyKQ0KIAkJcmV0dXJuIHI7DQogDQogCXIgPSBnZnhfdjlf
MF9jcF9yZXN1bWUoYWRldik7DQogCWlmIChyKQ0KIAkJcmV0dXJuIHI7DQogDQotCWlmIChhZGV2
LT5hc2ljX3R5cGUgIT0gQ0hJUF9BUkNUVVJVUykgew0KLQkJciA9IGdmeF92OV8wX25nZ19lbihh
ZGV2KTsNCi0JCWlmIChyKQ0KLQkJCXJldHVybiByOw0KLQl9DQotDQogCXJldHVybiByOw0KIH0N
CiANCiBzdGF0aWMgaW50IGdmeF92OV8wX2tjcV9kaXNhYmxlKHN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2KSAgew0KIAlpbnQgciwgaTsNCiAJc3RydWN0IGFtZGdwdV9yaW5nICpraXFfcmluZyA9
ICZhZGV2LT5nZngua2lxLnJpbmc7DQogDQogCXIgPSBhbWRncHVfcmluZ19hbGxvYyhraXFfcmlu
ZywgNiAqIGFkZXYtPmdmeC5udW1fY29tcHV0ZV9yaW5ncyk7DQogCWlmIChyKQ0KLS0NCjIuMTcu
MQ0KDQpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXw0KYW1k
LWdmeCBtYWlsaW5nIGxpc3QNCmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnDQpodHRwczov
L2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZngNCl9fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmFtZC1nZnggbWFpbGluZyBs
aXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0
b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeA==
