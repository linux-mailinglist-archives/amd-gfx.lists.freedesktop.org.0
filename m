Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 0700A1BBD6
	for <lists+amd-gfx@lfdr.de>; Mon, 13 May 2019 19:24:51 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 31A9B6E7C1;
	Mon, 13 May 2019 17:24:49 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-wr1-x443.google.com (mail-wr1-x443.google.com
 [IPv6:2a00:1450:4864:20::443])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C3AF06E7C1
 for <amd-gfx@lists.freedesktop.org>; Mon, 13 May 2019 17:24:47 +0000 (UTC)
Received: by mail-wr1-x443.google.com with SMTP id c5so16165155wrs.11
 for <amd-gfx@lists.freedesktop.org>; Mon, 13 May 2019 10:24:47 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=oKatQGXD6HBYQrHcceF/nvfUDL5prO0fOnC+IMPqRM4=;
 b=kvUXCLxIDRso4jTMXwFo+5Q6oKRHSWIaRdxOyL9+u2/X6CNgDM/KbJ7UJIEB6AQwyE
 0+quE7myPG3mVqrdiSgpNmKYVTF+fr/vtFql5hx4ODE5VMvGJESQvJfyJMDaIs/Y29/Y
 pmCCgU8w4gq3g6V80pmcQHaNjoi0Iofx3z80qrKgsKXJU/sByAhnewrLQ6CA8yXTHa7C
 2myIGioht1j39bTg4o5n3/C+73FnZu4GJQONzcTgZqCwhc1+yB7jQW0RVbMn3w1u48O3
 XGDqdLUhd0FR8SXHzBV/gCC5SC9uPeTcJ7320NLdrKedBRzYBUHHKe52r10nehco3yrP
 MQkQ==
X-Gm-Message-State: APjAAAWcC5FogV5FH+voGQxZ9c9OiBpr3SEjvU00uTvZJucrzUlz59Fg
 9LeTZ+oo5cstKTv6yqo2+AiWKoS69Vy6QRA3N+A4eYiW
X-Google-Smtp-Source: APXvYqwUmp2WwnGUFWuUxiEkaPZ8gRWxRmZoH8D/Jn6wfj+AXDFIan+wjKwVRm7FQcTnst9U9LHXG0QuTKQRFDL/Rls=
X-Received: by 2002:a5d:4b0b:: with SMTP id v11mr17766963wrq.317.1557768286285; 
 Mon, 13 May 2019 10:24:46 -0700 (PDT)
MIME-Version: 1.0
References: <20190513171745.7890-1-leo.liu@amd.com>
 <20190513171745.7890-2-leo.liu@amd.com>
In-Reply-To: <20190513171745.7890-2-leo.liu@amd.com>
From: Alex Deucher <alexdeucher@gmail.com>
Date: Mon, 13 May 2019 13:24:33 -0400
Message-ID: <CADnq5_PuoMDdtWHZZkf4rtNV014O1LCSKZEA-7twZfCyaRyjQw@mail.gmail.com>
Subject: Re: [PATCH 2/2] drm/amdgpu: make VCN DPG pause mode detached from
 general VCN
To: "Liu, Leo" <Leo.Liu@amd.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=oKatQGXD6HBYQrHcceF/nvfUDL5prO0fOnC+IMPqRM4=;
 b=SIJuvTizSpwmiYIvAN2xSqDiF5+P94MlS7utfhBoNktoQgMiEilhPRAdr3CRv0Kkql
 wldHgpL/g8L1RTqGAYwMQTap4Oiv7vhq1cfSyy5vbkVYZoQiitXzj0Uw4YuTueBqpvjU
 Qblcs4gGdkdGGekCcW06KVkyMua2JdNmX16KN1cKx/lhDwUm4l5HHVr8FzEKr1EMr3hN
 0f4dK5tAirdItblGN0bosa4PvPU5Z6JhyFSi52lynx6JSajTM76J0y5xswR+VBfZff/M
 tKL55GhdMHAsyYcektrdupw9k9YFIubmnWMLMo0opSpGTYaZrgszuZSPbiSsGaI6N+Tg
 DjXQ==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

T24gTW9uLCBNYXkgMTMsIDIwMTkgYXQgMToxOSBQTSBMaXUsIExlbyA8TGVvLkxpdUBhbWQuY29t
PiB3cm90ZToKPgo+IEl0IHNob3VsZCBiZSBhdHRhY2hlZCB0byBWQ04gMS4wCj4KPiBTaWduZWQt
b2ZmLWJ5OiBMZW8gTGl1IDxsZW8ubGl1QGFtZC5jb20+Cj4gLS0tCj4gIGRyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV92Y24uYyB8IDEzMCArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQo+
ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdmNuLmggfCAgIDIgKwo+ICBkcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92Y25fdjFfMC5jICAgfCAxMzIgKysrKysrKysrKysrKysr
KysrKysrKystCj4gIDMgZmlsZXMgY2hhbmdlZCwgMTM1IGluc2VydGlvbnMoKyksIDEyOSBkZWxl
dGlvbnMoLSkKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRn
cHVfdmNuLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdmNuLmMKPiBpbmRl
eCBlY2Y2Zjk2ZGYyYWQuLjAxNTQ1ZmY4NzQyNCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHVfdmNuLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfdmNuLmMKPiBAQCAtMjEyLDEzMiArMjEyLDYgQEAgaW50IGFtZGdwdV92Y25f
cmVzdW1lKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQo+ICAgICAgICAgcmV0dXJuIDA7Cj4g
IH0KPgo+IC1zdGF0aWMgaW50IGFtZGdwdV92Y25fcGF1c2VfZHBnX21vZGUoc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYsCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0
cnVjdCBkcGdfcGF1c2Vfc3RhdGUgKm5ld19zdGF0ZSkKPiAtewo+IC0gICAgICAgaW50IHJldF9j
b2RlOwo+IC0gICAgICAgdWludDMyX3QgcmVnX2RhdGEgPSAwOwo+IC0gICAgICAgdWludDMyX3Qg
cmVnX2RhdGEyID0gMDsKPiAtICAgICAgIHN0cnVjdCBhbWRncHVfcmluZyAqcmluZzsKPiAtCj4g
LSAgICAgICAvKiBwYXVzZS91bnBhdXNlIGlmIHN0YXRlIGlzIGNoYW5nZWQgKi8KPiAtICAgICAg
IGlmIChhZGV2LT52Y24ucGF1c2Vfc3RhdGUuZndfYmFzZWQgIT0gbmV3X3N0YXRlLT5md19iYXNl
ZCkgewo+IC0gICAgICAgICAgICAgICBEUk1fREVCVUcoImRwZyBwYXVzZSBzdGF0ZSBjaGFuZ2Vk
ICVkOiVkIC0+ICVkOiVkIiwKPiAtICAgICAgICAgICAgICAgICAgICAgICBhZGV2LT52Y24ucGF1
c2Vfc3RhdGUuZndfYmFzZWQsIGFkZXYtPnZjbi5wYXVzZV9zdGF0ZS5qcGVnLAo+IC0gICAgICAg
ICAgICAgICAgICAgICAgIG5ld19zdGF0ZS0+ZndfYmFzZWQsIG5ld19zdGF0ZS0+anBlZyk7Cj4g
LQo+IC0gICAgICAgICAgICAgICByZWdfZGF0YSA9IFJSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZE
X0RQR19QQVVTRSkgJgo+IC0gICAgICAgICAgICAgICAgICAgICAgICh+VVZEX0RQR19QQVVTRV9f
TkpfUEFVU0VfRFBHX0FDS19NQVNLKTsKPiAtCj4gLSAgICAgICAgICAgICAgIGlmIChuZXdfc3Rh
dGUtPmZ3X2Jhc2VkID09IFZDTl9EUEdfU1RBVEVfX1BBVVNFKSB7Cj4gLSAgICAgICAgICAgICAg
ICAgICAgICAgcmV0X2NvZGUgPSAwOwo+IC0KPiAtICAgICAgICAgICAgICAgICAgICAgICBpZiAo
IShyZWdfZGF0YSAmIFVWRF9EUEdfUEFVU0VfX0pQRUdfUEFVU0VfRFBHX0FDS19NQVNLKSkKPiAt
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNPQzE1X1dBSVRfT05fUlJFRyhVVkQsIDAs
IG1tVVZEX1BPV0VSX1NUQVRVUywKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBVVkRfUE9XRVJfU1RBVFVTX19VVkRfUE9XRVJfU1RBVFVTX1RJTEVT
X09GRiwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBVVkRfUE9XRVJfU1RBVFVTX19VVkRfUE9XRVJfU1RBVFVTX01BU0ssIHJldF9jb2RlKTsKPiAt
Cj4gLSAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXRfY29kZSkgewo+IC0gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgLyogcGF1c2UgRFBHIG5vbi1qcGVnICovCj4gLSAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICByZWdfZGF0YSB8PSBVVkRfRFBHX1BBVVNFX19OSl9QQVVT
RV9EUEdfUkVRX01BU0s7Cj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXUkVHMzJf
U09DMTUoVVZELCAwLCBtbVVWRF9EUEdfUEFVU0UsIHJlZ19kYXRhKTsKPiAtICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIFNPQzE1X1dBSVRfT05fUlJFRyhVVkQsIDAsIG1tVVZEX0RQR19Q
QVVTRSwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBVVkRfRFBHX1BBVVNFX19OSl9QQVVTRV9EUEdfQUNLX01BU0ssCj4gLSAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVVZEX0RQR19QQVVTRV9fTkpfUEFV
U0VfRFBHX0FDS19NQVNLLCByZXRfY29kZSk7Cj4gLQo+IC0gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgLyogUmVzdG9yZSAqLwo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
cmluZyA9ICZhZGV2LT52Y24ucmluZ19lbmNbMF07Cj4gLSAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBXUkVHMzJfU09DMTUoVVZELCAwLCBtbVVWRF9SQl9CQVNFX0xPLCByaW5nLT5ncHVf
YWRkcik7Cj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXUkVHMzJfU09DMTUoVVZE
LCAwLCBtbVVWRF9SQl9CQVNFX0hJLCB1cHBlcl8zMl9iaXRzKHJpbmctPmdwdV9hZGRyKSk7Cj4g
LSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXUkVHMzJfU09DMTUoVVZELCAwLCBtbVVW
RF9SQl9TSVpFLCByaW5nLT5yaW5nX3NpemUgLyA0KTsKPiAtICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIFdSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX1JCX1JQVFIsIGxvd2VyXzMyX2Jp
dHMocmluZy0+d3B0cikpOwo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV1JFRzMy
X1NPQzE1KFVWRCwgMCwgbW1VVkRfUkJfV1BUUiwgbG93ZXJfMzJfYml0cyhyaW5nLT53cHRyKSk7
Cj4gLQo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmluZyA9ICZhZGV2LT52Y24u
cmluZ19lbmNbMV07Cj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXUkVHMzJfU09D
MTUoVVZELCAwLCBtbVVWRF9SQl9CQVNFX0xPMiwgcmluZy0+Z3B1X2FkZHIpOwo+IC0gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgV1JFRzMyX1NPQzE1KFVWRCwgMCwgbW1VVkRfUkJfQkFT
RV9ISTIsIHVwcGVyXzMyX2JpdHMocmluZy0+Z3B1X2FkZHIpKTsKPiAtICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIFdSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX1JCX1NJWkUyLCByaW5n
LT5yaW5nX3NpemUgLyA0KTsKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdSRUcz
Ml9TT0MxNShVVkQsIDAsIG1tVVZEX1JCX1JQVFIyLCBsb3dlcl8zMl9iaXRzKHJpbmctPndwdHIp
KTsKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdSRUczMl9TT0MxNShVVkQsIDAs
IG1tVVZEX1JCX1dQVFIyLCBsb3dlcl8zMl9iaXRzKHJpbmctPndwdHIpKTsKPiAtCj4gLSAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICByaW5nID0gJmFkZXYtPnZjbi5yaW5nX2RlYzsKPiAt
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZE
X1JCQ19SQl9XUFRSLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIFJSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX1NDUkFUQ0gyKSAmIDB4N0ZGRkZG
RkYpOwo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU09DMTVfV0FJVF9PTl9SUkVH
KFVWRCwgMCwgbW1VVkRfUE9XRVJfU1RBVFVTLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIFVWRF9QR0ZTTV9DT05GSUdfX1VWRE1fVVZEVV9QV1Jf
T04sCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
VVZEX1BPV0VSX1NUQVRVU19fVVZEX1BPV0VSX1NUQVRVU19NQVNLLCByZXRfY29kZSk7Cj4gLSAg
ICAgICAgICAgICAgICAgICAgICAgfQo+IC0gICAgICAgICAgICAgICB9IGVsc2Ugewo+IC0gICAg
ICAgICAgICAgICAgICAgICAgIC8qIHVucGF1c2UgZHBnIG5vbi1qcGVnLCBubyBuZWVkIHRvIHdh
aXQgKi8KPiAtICAgICAgICAgICAgICAgICAgICAgICByZWdfZGF0YSAmPSB+VVZEX0RQR19QQVVT
RV9fTkpfUEFVU0VfRFBHX1JFUV9NQVNLOwo+IC0gICAgICAgICAgICAgICAgICAgICAgIFdSRUcz
Ml9TT0MxNShVVkQsIDAsIG1tVVZEX0RQR19QQVVTRSwgcmVnX2RhdGEpOwo+IC0gICAgICAgICAg
ICAgICB9Cj4gLSAgICAgICAgICAgICAgIGFkZXYtPnZjbi5wYXVzZV9zdGF0ZS5md19iYXNlZCA9
IG5ld19zdGF0ZS0+ZndfYmFzZWQ7Cj4gLSAgICAgICB9Cj4gLQo+IC0gICAgICAgLyogcGF1c2Uv
dW5wYXVzZSBpZiBzdGF0ZSBpcyBjaGFuZ2VkICovCj4gLSAgICAgICBpZiAoYWRldi0+dmNuLnBh
dXNlX3N0YXRlLmpwZWcgIT0gbmV3X3N0YXRlLT5qcGVnKSB7Cj4gLSAgICAgICAgICAgICAgIERS
TV9ERUJVRygiZHBnIHBhdXNlIHN0YXRlIGNoYW5nZWQgJWQ6JWQgLT4gJWQ6JWQiLAo+IC0gICAg
ICAgICAgICAgICAgICAgICAgIGFkZXYtPnZjbi5wYXVzZV9zdGF0ZS5md19iYXNlZCwgYWRldi0+
dmNuLnBhdXNlX3N0YXRlLmpwZWcsCj4gLSAgICAgICAgICAgICAgICAgICAgICAgbmV3X3N0YXRl
LT5md19iYXNlZCwgbmV3X3N0YXRlLT5qcGVnKTsKPiAtCj4gLSAgICAgICAgICAgICAgIHJlZ19k
YXRhID0gUlJFRzMyX1NPQzE1KFVWRCwgMCwgbW1VVkRfRFBHX1BBVVNFKSAmCj4gLSAgICAgICAg
ICAgICAgICAgICAgICAgKH5VVkRfRFBHX1BBVVNFX19KUEVHX1BBVVNFX0RQR19BQ0tfTUFTSyk7
Cj4gLQo+IC0gICAgICAgICAgICAgICBpZiAobmV3X3N0YXRlLT5qcGVnID09IFZDTl9EUEdfU1RB
VEVfX1BBVVNFKSB7Cj4gLSAgICAgICAgICAgICAgICAgICAgICAgcmV0X2NvZGUgPSAwOwo+IC0K
PiAtICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWdfZGF0YSAmIFVWRF9EUEdfUEFVU0Vf
X05KX1BBVVNFX0RQR19BQ0tfTUFTSykpCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBTT0MxNV9XQUlUX09OX1JSRUcoVVZELCAwLCBtbVVWRF9QT1dFUl9TVEFUVVMsCj4gLSAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVVZEX1BPV0VSX1NU
QVRVU19fVVZEX1BPV0VSX1NUQVRVU19USUxFU19PRkYsCj4gLSAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVVZEX1BPV0VSX1NUQVRVU19fVVZEX1BPV0VS
X1NUQVRVU19NQVNLLCByZXRfY29kZSk7Cj4gLQo+IC0gICAgICAgICAgICAgICAgICAgICAgIGlm
ICghcmV0X2NvZGUpIHsKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIE1ha2Ug
c3VyZSBKUFJHIFNub29wIGlzIGRpc2FibGVkIGJlZm9yZSBzZW5kaW5nIHRoZSBwYXVzZSAqLwo+
IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnX2RhdGEyID0gUlJFRzMyX1NPQzE1
KFVWRCwgMCwgbW1VVkRfUE9XRVJfU1RBVFVTKTsKPiAtICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHJlZ19kYXRhMiB8PSBVVkRfUE9XRVJfU1RBVFVTX19KUkJDX1NOT09QX0RJU19NQVNL
Owo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV1JFRzMyX1NPQzE1KFVWRCwgMCwg
bW1VVkRfUE9XRVJfU1RBVFVTLCByZWdfZGF0YTIpOwo+IC0KPiAtICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIC8qIHBhdXNlIERQRyBqcGVnICovCj4gLSAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICByZWdfZGF0YSB8PSBVVkRfRFBHX1BBVVNFX19KUEVHX1BBVVNFX0RQR19SRVFf
TUFTSzsKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdSRUczMl9TT0MxNShVVkQs
IDAsIG1tVVZEX0RQR19QQVVTRSwgcmVnX2RhdGEpOwo+IC0gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgU09DMTVfV0FJVF9PTl9SUkVHKFVWRCwgMCwgbW1VVkRfRFBHX1BBVVNFLAo+IC0g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVVZE
X0RQR19QQVVTRV9fSlBFR19QQVVTRV9EUEdfQUNLX01BU0ssCj4gLSAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVVkRfRFBHX1BBVVNFX19KUEVH
X1BBVVNFX0RQR19BQ0tfTUFTSywgcmV0X2NvZGUpOwo+IC0KPiAtICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIC8qIFJlc3RvcmUgKi8KPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHJpbmcgPSAmYWRldi0+dmNuLnJpbmdfanBlZzsKPiAtICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIFdSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX0xNSV9KUkJDX1JCX1ZNSUQsIDAp
Owo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV1JFRzMyX1NPQzE1KFVWRCwgMCwg
bW1VVkRfSlJCQ19SQl9DTlRMLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgVVZEX0pSQkNfUkJfQ05UTF9fUkJfTk9fRkVUQ0hfTUFTSyB8
Cj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBVVkRfSlJCQ19SQl9DTlRMX19SQl9SUFRSX1dSX0VOX01BU0spOwo+IC0gICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgV1JFRzMyX1NPQzE1KFVWRCwgMCwgbW1VVkRfTE1JX0pSQkNfUkJf
NjRCSVRfQkFSX0xPVywKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGxvd2VyXzMyX2JpdHMocmluZy0+Z3B1X2FkZHIpKTsKPiAtICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIFdSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX0xNSV9K
UkJDX1JCXzY0QklUX0JBUl9ISUdILAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgdXBwZXJfMzJfYml0cyhyaW5nLT5ncHVfYWRkcikpOwo+
IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV1JFRzMyX1NPQzE1KFVWRCwgMCwgbW1V
VkRfSlJCQ19SQl9SUFRSLCByaW5nLT53cHRyKTsKPiAtICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIFdSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX0pSQkNfUkJfV1BUUiwgcmluZy0+d3B0
cik7Cj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXUkVHMzJfU09DMTUoVVZELCAw
LCBtbVVWRF9KUkJDX1JCX0NOVEwsCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBVVkRfSlJCQ19SQl9DTlRMX19SQl9SUFRSX1dSX0VOX01B
U0spOwo+IC0KPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpbmcgPSAmYWRldi0+
dmNuLnJpbmdfZGVjOwo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV1JFRzMyX1NP
QzE1KFVWRCwgMCwgbW1VVkRfUkJDX1JCX1dQVFIsCj4gLSAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgUlJFRzMyX1NPQzE1KFVWRCwgMCwgbW1VVkRfU0NS
QVRDSDIpICYgMHg3RkZGRkZGRik7Cj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBT
T0MxNV9XQUlUX09OX1JSRUcoVVZELCAwLCBtbVVWRF9QT1dFUl9TVEFUVVMsCj4gLSAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVVZEX1BHRlNNX0NPTkZJ
R19fVVZETV9VVkRVX1BXUl9PTiwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBVVkRfUE9XRVJfU1RBVFVTX19VVkRfUE9XRVJfU1RBVFVTX01BU0ss
IHJldF9jb2RlKTsKPiAtICAgICAgICAgICAgICAgICAgICAgICB9Cj4gLSAgICAgICAgICAgICAg
IH0gZWxzZSB7Cj4gLSAgICAgICAgICAgICAgICAgICAgICAgLyogdW5wYXVzZSBkcGcganBlZywg
bm8gbmVlZCB0byB3YWl0ICovCj4gLSAgICAgICAgICAgICAgICAgICAgICAgcmVnX2RhdGEgJj0g
flVWRF9EUEdfUEFVU0VfX0pQRUdfUEFVU0VfRFBHX1JFUV9NQVNLOwo+IC0gICAgICAgICAgICAg
ICAgICAgICAgIFdSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX0RQR19QQVVTRSwgcmVnX2RhdGEp
Owo+IC0gICAgICAgICAgICAgICB9Cj4gLSAgICAgICAgICAgICAgIGFkZXYtPnZjbi5wYXVzZV9z
dGF0ZS5qcGVnID0gbmV3X3N0YXRlLT5qcGVnOwo+IC0gICAgICAgfQo+IC0KPiAtICAgICAgIHJl
dHVybiAwOwo+IC19Cj4gLQo+ICBzdGF0aWMgdm9pZCBhbWRncHVfdmNuX2lkbGVfd29ya19oYW5k
bGVyKHN0cnVjdCB3b3JrX3N0cnVjdCAqd29yaykKPiAgewo+ICAgICAgICAgc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYgPQo+IEBAIC0zNjIsNyArMjM2LDcgQEAgc3RhdGljIHZvaWQgYW1kZ3B1
X3Zjbl9pZGxlX3dvcmtfaGFuZGxlcihzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspCj4gICAgICAg
ICAgICAgICAgIGVsc2UKPiAgICAgICAgICAgICAgICAgICAgICAgICBuZXdfc3RhdGUuanBlZyA9
IFZDTl9EUEdfU1RBVEVfX1VOUEFVU0U7Cj4KPiAtICAgICAgICAgICAgICAgYW1kZ3B1X3Zjbl9w
YXVzZV9kcGdfbW9kZShhZGV2LCAmbmV3X3N0YXRlKTsKPiArICAgICAgICAgICAgICAgYWRldi0+
dmNuLnZjbl9wYXVzZV9kcGdfbW9kZShhZGV2LCAmbmV3X3N0YXRlKTsKPiAgICAgICAgIH0KPgo+
ICAgICAgICAgZmVuY2VzICs9IGFtZGdwdV9mZW5jZV9jb3VudF9lbWl0dGVkKCZhZGV2LT52Y24u
cmluZ19qcGVnKTsKPiBAQCAtNDE3LDcgKzI5MSw3IEBAIHZvaWQgYW1kZ3B1X3Zjbl9yaW5nX2Jl
Z2luX3VzZShzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcpCj4gICAgICAgICAgICAgICAgIGVsc2Ug
aWYgKHJpbmctPmZ1bmNzLT50eXBlID09IEFNREdQVV9SSU5HX1RZUEVfVkNOX0pQRUcpCj4gICAg
ICAgICAgICAgICAgICAgICAgICAgbmV3X3N0YXRlLmpwZWcgPSBWQ05fRFBHX1NUQVRFX19QQVVT
RTsKPgo+IC0gICAgICAgICAgICAgICBhbWRncHVfdmNuX3BhdXNlX2RwZ19tb2RlKGFkZXYsICZu
ZXdfc3RhdGUpOwo+ICsgICAgICAgICAgICAgICBhZGV2LT52Y24udmNuX3BhdXNlX2RwZ19tb2Rl
KGFkZXYsICZuZXdfc3RhdGUpOwo+ICAgICAgICAgfQo+ICB9Cj4KPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3Zjbi5oIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1X3Zjbi5oCj4gaW5kZXggZDI5YTVjOTU0NWJkLi5jZWUwZjI2M2QxNTkg
MTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3Zjbi5oCj4g
KysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3Zjbi5oCj4gQEAgLTEwMSw2
ICsxMDEsOCBAQCBzdHJ1Y3QgYW1kZ3B1X3ZjbiB7Cj4gICAgICAgICB1bnNpZ25lZCAgICAgICAg
ICAgICAgICBudW1fZW5jX3JpbmdzOwo+ICAgICAgICAgZW51bSBhbWRfcG93ZXJnYXRpbmdfc3Rh
dGUgY3VyX3N0YXRlOwo+ICAgICAgICAgc3RydWN0IGRwZ19wYXVzZV9zdGF0ZSBwYXVzZV9zdGF0
ZTsKPiArICAgICAgIGludCAoKnZjbl9wYXVzZV9kcGdfbW9kZSkoc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYsCj4gKyAgICAgICAgICAgICAgIHN0cnVjdCBkcGdfcGF1c2Vfc3RhdGUgKm5ld19z
dGF0ZSk7CgpDYW4gcHJvYmFibHkgZHJvcCB0aGUgdmNuIGluIHRoZSBmdW5jdGlvbiBwb2ludGVy
IG5hbWUgc2luY2UgaXQncwphbHJlYWR5IHBhcnQgb2YgdGhlIHZjbiBzdHJ1Y3QuICBFLmcuLApp
bnQgKCpwYXVzZV9kcGdfbW9kZSkoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHN0cnVjdApk
cGdfcGF1c2Vfc3RhdGUgKm5ld19zdGF0ZSk7CgoKRWl0aGVyIHdheSwgc2VyaWVzIGlzOgpSZXZp
ZXdlZC1ieTogQWxleCBEZXVjaGVyIDxhbGV4YW5kZXIuZGV1Y2hlckBhbWQuY29tPgoKPiAgfTsK
Pgo+ICBpbnQgYW1kZ3B1X3Zjbl9zd19pbml0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KTsK
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdmNuX3YxXzAuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3Zjbl92MV8wLmMKPiBpbmRleCBhYzJlNWExZWI1NzYu
LmE1YWI2NzZjYjRhYyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92
Y25fdjFfMC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdmNuX3YxXzAuYwo+
IEBAIC00OSw2ICs0OSw4IEBAIHN0YXRpYyB2b2lkIHZjbl92MV8wX3NldF9qcGVnX3JpbmdfZnVu
Y3Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpOwo+ICBzdGF0aWMgdm9pZCB2Y25fdjFfMF9z
ZXRfaXJxX2Z1bmNzKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KTsKPiAgc3RhdGljIHZvaWQg
dmNuX3YxXzBfanBlZ19yaW5nX3NldF9wYXRjaF9yaW5nKHN0cnVjdCBhbWRncHVfcmluZyAqcmlu
ZywgdWludDMyX3QgcHRyKTsKPiAgc3RhdGljIGludCB2Y25fdjFfMF9zZXRfcG93ZXJnYXRpbmdf
c3RhdGUodm9pZCAqaGFuZGxlLCBlbnVtIGFtZF9wb3dlcmdhdGluZ19zdGF0ZSBzdGF0ZSk7Cj4g
K3N0YXRpYyBpbnQgdmNuX3YxXzBfcGF1c2VfZHBnX21vZGUoc3RydWN0IGFtZGdwdV9kZXZpY2Ug
KmFkZXYsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZHBnX3BhdXNl
X3N0YXRlICpuZXdfc3RhdGUpOwo+Cj4gIC8qKgo+ICAgKiB2Y25fdjFfMF9lYXJseV9pbml0IC0g
c2V0IGZ1bmN0aW9uIHBvaW50ZXJzCj4gQEAgLTE0MCw3ICsxNDIsOSBAQCBzdGF0aWMgaW50IHZj
bl92MV8wX3N3X2luaXQodm9pZCAqaGFuZGxlKQo+ICAgICAgICAgaWYgKHIpCj4gICAgICAgICAg
ICAgICAgIHJldHVybiByOwo+Cj4gLSAgICAgICByZXR1cm4gcjsKPiArICAgICAgIGFkZXYtPnZj
bi52Y25fcGF1c2VfZHBnX21vZGUgPSB2Y25fdjFfMF9wYXVzZV9kcGdfbW9kZTsKPiArCj4gKyAg
ICAgICByZXR1cm4gMDsKPiAgfQo+Cj4gIC8qKgo+IEBAIC0xMjA0LDYgKzEyMDgsMTMyIEBAIHN0
YXRpYyBpbnQgdmNuX3YxXzBfc3RvcChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKPiAgICAg
ICAgIHJldHVybiByOwo+ICB9Cj4KPiArc3RhdGljIGludCB2Y25fdjFfMF9wYXVzZV9kcGdfbW9k
ZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKPiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHN0cnVjdCBkcGdfcGF1c2Vfc3RhdGUgKm5ld19zdGF0ZSkKPiArewo+ICsgICAgICAg
aW50IHJldF9jb2RlOwo+ICsgICAgICAgdWludDMyX3QgcmVnX2RhdGEgPSAwOwo+ICsgICAgICAg
dWludDMyX3QgcmVnX2RhdGEyID0gMDsKPiArICAgICAgIHN0cnVjdCBhbWRncHVfcmluZyAqcmlu
ZzsKPiArCj4gKyAgICAgICAvKiBwYXVzZS91bnBhdXNlIGlmIHN0YXRlIGlzIGNoYW5nZWQgKi8K
PiArICAgICAgIGlmIChhZGV2LT52Y24ucGF1c2Vfc3RhdGUuZndfYmFzZWQgIT0gbmV3X3N0YXRl
LT5md19iYXNlZCkgewo+ICsgICAgICAgICAgICAgICBEUk1fREVCVUcoImRwZyBwYXVzZSBzdGF0
ZSBjaGFuZ2VkICVkOiVkIC0+ICVkOiVkIiwKPiArICAgICAgICAgICAgICAgICAgICAgICBhZGV2
LT52Y24ucGF1c2Vfc3RhdGUuZndfYmFzZWQsIGFkZXYtPnZjbi5wYXVzZV9zdGF0ZS5qcGVnLAo+
ICsgICAgICAgICAgICAgICAgICAgICAgIG5ld19zdGF0ZS0+ZndfYmFzZWQsIG5ld19zdGF0ZS0+
anBlZyk7Cj4gKwo+ICsgICAgICAgICAgICAgICByZWdfZGF0YSA9IFJSRUczMl9TT0MxNShVVkQs
IDAsIG1tVVZEX0RQR19QQVVTRSkgJgo+ICsgICAgICAgICAgICAgICAgICAgICAgICh+VVZEX0RQ
R19QQVVTRV9fTkpfUEFVU0VfRFBHX0FDS19NQVNLKTsKPiArCj4gKyAgICAgICAgICAgICAgIGlm
IChuZXdfc3RhdGUtPmZ3X2Jhc2VkID09IFZDTl9EUEdfU1RBVEVfX1BBVVNFKSB7Cj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgcmV0X2NvZGUgPSAwOwo+ICsKPiArICAgICAgICAgICAgICAgICAg
ICAgICBpZiAoIShyZWdfZGF0YSAmIFVWRF9EUEdfUEFVU0VfX0pQRUdfUEFVU0VfRFBHX0FDS19N
QVNLKSkKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNPQzE1X1dBSVRfT05fUlJF
RyhVVkQsIDAsIG1tVVZEX1BPV0VSX1NUQVRVUywKPiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBVVkRfUE9XRVJfU1RBVFVTX19VVkRfUE9XRVJfU1RB
VFVTX1RJTEVTX09GRiwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBVVkRfUE9XRVJfU1RBVFVTX19VVkRfUE9XRVJfU1RBVFVTX01BU0ssIHJldF9j
b2RlKTsKPiArCj4gKyAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXRfY29kZSkgewo+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogcGF1c2UgRFBHIG5vbi1qcGVnICovCj4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdfZGF0YSB8PSBVVkRfRFBHX1BBVVNF
X19OSl9QQVVTRV9EUEdfUkVRX01BU0s7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBXUkVHMzJfU09DMTUoVVZELCAwLCBtbVVWRF9EUEdfUEFVU0UsIHJlZ19kYXRhKTsKPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNPQzE1X1dBSVRfT05fUlJFRyhVVkQsIDAsIG1t
VVZEX0RQR19QQVVTRSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBVVkRfRFBHX1BBVVNFX19OSl9QQVVTRV9EUEdfQUNLX01BU0ssCj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVVZEX0RQR19QQVVT
RV9fTkpfUEFVU0VfRFBHX0FDS19NQVNLLCByZXRfY29kZSk7Cj4gKwo+ICsgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgLyogUmVzdG9yZSAqLwo+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgcmluZyA9ICZhZGV2LT52Y24ucmluZ19lbmNbMF07Cj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBXUkVHMzJfU09DMTUoVVZELCAwLCBtbVVWRF9SQl9CQVNFX0xPLCBy
aW5nLT5ncHVfYWRkcik7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXUkVHMzJf
U09DMTUoVVZELCAwLCBtbVVWRF9SQl9CQVNFX0hJLCB1cHBlcl8zMl9iaXRzKHJpbmctPmdwdV9h
ZGRyKSk7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXUkVHMzJfU09DMTUoVVZE
LCAwLCBtbVVWRF9SQl9TSVpFLCByaW5nLT5yaW5nX3NpemUgLyA0KTsKPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIFdSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX1JCX1JQVFIsIGxv
d2VyXzMyX2JpdHMocmluZy0+d3B0cikpOwo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgV1JFRzMyX1NPQzE1KFVWRCwgMCwgbW1VVkRfUkJfV1BUUiwgbG93ZXJfMzJfYml0cyhyaW5n
LT53cHRyKSk7Cj4gKwo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmluZyA9ICZh
ZGV2LT52Y24ucmluZ19lbmNbMV07Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBX
UkVHMzJfU09DMTUoVVZELCAwLCBtbVVWRF9SQl9CQVNFX0xPMiwgcmluZy0+Z3B1X2FkZHIpOwo+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV1JFRzMyX1NPQzE1KFVWRCwgMCwgbW1V
VkRfUkJfQkFTRV9ISTIsIHVwcGVyXzMyX2JpdHMocmluZy0+Z3B1X2FkZHIpKTsKPiArICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIFdSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX1JCX1NJ
WkUyLCByaW5nLT5yaW5nX3NpemUgLyA0KTsKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIFdSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX1JCX1JQVFIyLCBsb3dlcl8zMl9iaXRzKHJp
bmctPndwdHIpKTsKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdSRUczMl9TT0Mx
NShVVkQsIDAsIG1tVVZEX1JCX1dQVFIyLCBsb3dlcl8zMl9iaXRzKHJpbmctPndwdHIpKTsKPiAr
Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaW5nID0gJmFkZXYtPnZjbi5yaW5n
X2RlYzsKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdSRUczMl9TT0MxNShVVkQs
IDAsIG1tVVZEX1JCQ19SQl9XUFRSLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIFJSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX1NDUkFUQ0gyKSAm
IDB4N0ZGRkZGRkYpOwo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU09DMTVfV0FJ
VF9PTl9SUkVHKFVWRCwgMCwgbW1VVkRfUE9XRVJfU1RBVFVTLAo+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVWRF9QR0ZTTV9DT05GSUdfX1VWRE1f
VVZEVV9QV1JfT04sCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgVVZEX1BPV0VSX1NUQVRVU19fVVZEX1BPV0VSX1NUQVRVU19NQVNLLCByZXRfY29k
ZSk7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgfQo+ICsgICAgICAgICAgICAgICB9IGVsc2Ug
ewo+ICsgICAgICAgICAgICAgICAgICAgICAgIC8qIHVucGF1c2UgZHBnIG5vbi1qcGVnLCBubyBu
ZWVkIHRvIHdhaXQgKi8KPiArICAgICAgICAgICAgICAgICAgICAgICByZWdfZGF0YSAmPSB+VVZE
X0RQR19QQVVTRV9fTkpfUEFVU0VfRFBHX1JFUV9NQVNLOwo+ICsgICAgICAgICAgICAgICAgICAg
ICAgIFdSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX0RQR19QQVVTRSwgcmVnX2RhdGEpOwo+ICsg
ICAgICAgICAgICAgICB9Cj4gKyAgICAgICAgICAgICAgIGFkZXYtPnZjbi5wYXVzZV9zdGF0ZS5m
d19iYXNlZCA9IG5ld19zdGF0ZS0+ZndfYmFzZWQ7Cj4gKyAgICAgICB9Cj4gKwo+ICsgICAgICAg
LyogcGF1c2UvdW5wYXVzZSBpZiBzdGF0ZSBpcyBjaGFuZ2VkICovCj4gKyAgICAgICBpZiAoYWRl
di0+dmNuLnBhdXNlX3N0YXRlLmpwZWcgIT0gbmV3X3N0YXRlLT5qcGVnKSB7Cj4gKyAgICAgICAg
ICAgICAgIERSTV9ERUJVRygiZHBnIHBhdXNlIHN0YXRlIGNoYW5nZWQgJWQ6JWQgLT4gJWQ6JWQi
LAo+ICsgICAgICAgICAgICAgICAgICAgICAgIGFkZXYtPnZjbi5wYXVzZV9zdGF0ZS5md19iYXNl
ZCwgYWRldi0+dmNuLnBhdXNlX3N0YXRlLmpwZWcsCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
bmV3X3N0YXRlLT5md19iYXNlZCwgbmV3X3N0YXRlLT5qcGVnKTsKPiArCj4gKyAgICAgICAgICAg
ICAgIHJlZ19kYXRhID0gUlJFRzMyX1NPQzE1KFVWRCwgMCwgbW1VVkRfRFBHX1BBVVNFKSAmCj4g
KyAgICAgICAgICAgICAgICAgICAgICAgKH5VVkRfRFBHX1BBVVNFX19KUEVHX1BBVVNFX0RQR19B
Q0tfTUFTSyk7Cj4gKwo+ICsgICAgICAgICAgICAgICBpZiAobmV3X3N0YXRlLT5qcGVnID09IFZD
Tl9EUEdfU1RBVEVfX1BBVVNFKSB7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgcmV0X2NvZGUg
PSAwOwo+ICsKPiArICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWdfZGF0YSAmIFVWRF9E
UEdfUEFVU0VfX05KX1BBVVNFX0RQR19BQ0tfTUFTSykpCj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBTT0MxNV9XQUlUX09OX1JSRUcoVVZELCAwLCBtbVVWRF9QT1dFUl9TVEFUVVMs
Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVVZE
X1BPV0VSX1NUQVRVU19fVVZEX1BPV0VSX1NUQVRVU19USUxFU19PRkYsCj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVVZEX1BPV0VSX1NUQVRVU19f
VVZEX1BPV0VSX1NUQVRVU19NQVNLLCByZXRfY29kZSk7Cj4gKwo+ICsgICAgICAgICAgICAgICAg
ICAgICAgIGlmICghcmV0X2NvZGUpIHsKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IC8qIE1ha2Ugc3VyZSBKUFJHIFNub29wIGlzIGRpc2FibGVkIGJlZm9yZSBzZW5kaW5nIHRoZSBw
YXVzZSAqLwo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnX2RhdGEyID0gUlJF
RzMyX1NPQzE1KFVWRCwgMCwgbW1VVkRfUE9XRVJfU1RBVFVTKTsKPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHJlZ19kYXRhMiB8PSBVVkRfUE9XRVJfU1RBVFVTX19KUkJDX1NOT09Q
X0RJU19NQVNLOwo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV1JFRzMyX1NPQzE1
KFVWRCwgMCwgbW1VVkRfUE9XRVJfU1RBVFVTLCByZWdfZGF0YTIpOwo+ICsKPiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIC8qIHBhdXNlIERQRyBqcGVnICovCj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICByZWdfZGF0YSB8PSBVVkRfRFBHX1BBVVNFX19KUEVHX1BBVVNF
X0RQR19SRVFfTUFTSzsKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdSRUczMl9T
T0MxNShVVkQsIDAsIG1tVVZEX0RQR19QQVVTRSwgcmVnX2RhdGEpOwo+ICsgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgU09DMTVfV0FJVF9PTl9SUkVHKFVWRCwgMCwgbW1VVkRfRFBHX1BB
VVNFLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgVVZEX0RQR19QQVVTRV9fSlBFR19QQVVTRV9EUEdfQUNLX01BU0ssCj4gKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVVkRfRFBHX1BB
VVNFX19KUEVHX1BBVVNFX0RQR19BQ0tfTUFTSywgcmV0X2NvZGUpOwo+ICsKPiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIC8qIFJlc3RvcmUgKi8KPiArICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHJpbmcgPSAmYWRldi0+dmNuLnJpbmdfanBlZzsKPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIFdSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX0xNSV9KUkJDX1JC
X1ZNSUQsIDApOwo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV1JFRzMyX1NPQzE1
KFVWRCwgMCwgbW1VVkRfSlJCQ19SQl9DTlRMLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVVZEX0pSQkNfUkJfQ05UTF9fUkJfTk9fRkVU
Q0hfTUFTSyB8Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBVVkRfSlJCQ19SQl9DTlRMX19SQl9SUFRSX1dSX0VOX01BU0spOwo+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgV1JFRzMyX1NPQzE1KFVWRCwgMCwgbW1VVkRfTE1J
X0pSQkNfUkJfNjRCSVRfQkFSX0xPVywKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGxvd2VyXzMyX2JpdHMocmluZy0+Z3B1X2FkZHIpKTsK
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdSRUczMl9TT0MxNShVVkQsIDAsIG1t
VVZEX0xNSV9KUkJDX1JCXzY0QklUX0JBUl9ISUdILAo+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBwZXJfMzJfYml0cyhyaW5nLT5ncHVf
YWRkcikpOwo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV1JFRzMyX1NPQzE1KFVW
RCwgMCwgbW1VVkRfSlJCQ19SQl9SUFRSLCByaW5nLT53cHRyKTsKPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIFdSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX0pSQkNfUkJfV1BUUiwg
cmluZy0+d3B0cik7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXUkVHMzJfU09D
MTUoVVZELCAwLCBtbVVWRF9KUkJDX1JCX0NOVEwsCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVVkRfSlJCQ19SQl9DTlRMX19SQl9SUFRS
X1dSX0VOX01BU0spOwo+ICsKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpbmcg
PSAmYWRldi0+dmNuLnJpbmdfZGVjOwo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
V1JFRzMyX1NPQzE1KFVWRCwgMCwgbW1VVkRfUkJDX1JCX1dQVFIsCj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUlJFRzMyX1NPQzE1KFVWRCwgMCwg
bW1VVkRfU0NSQVRDSDIpICYgMHg3RkZGRkZGRik7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBTT0MxNV9XQUlUX09OX1JSRUcoVVZELCAwLCBtbVVWRF9QT1dFUl9TVEFUVVMsCj4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVVZEX1BH
RlNNX0NPTkZJR19fVVZETV9VVkRVX1BXUl9PTiwKPiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBVVkRfUE9XRVJfU1RBVFVTX19VVkRfUE9XRVJfU1RB
VFVTX01BU0ssIHJldF9jb2RlKTsKPiArICAgICAgICAgICAgICAgICAgICAgICB9Cj4gKyAgICAg
ICAgICAgICAgIH0gZWxzZSB7Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgLyogdW5wYXVzZSBk
cGcganBlZywgbm8gbmVlZCB0byB3YWl0ICovCj4gKyAgICAgICAgICAgICAgICAgICAgICAgcmVn
X2RhdGEgJj0gflVWRF9EUEdfUEFVU0VfX0pQRUdfUEFVU0VfRFBHX1JFUV9NQVNLOwo+ICsgICAg
ICAgICAgICAgICAgICAgICAgIFdSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX0RQR19QQVVTRSwg
cmVnX2RhdGEpOwo+ICsgICAgICAgICAgICAgICB9Cj4gKyAgICAgICAgICAgICAgIGFkZXYtPnZj
bi5wYXVzZV9zdGF0ZS5qcGVnID0gbmV3X3N0YXRlLT5qcGVnOwo+ICsgICAgICAgfQo+ICsKPiAr
ICAgICAgIHJldHVybiAwOwo+ICt9Cj4gKwo+ICBzdGF0aWMgYm9vbCB2Y25fdjFfMF9pc19pZGxl
KHZvaWQgKmhhbmRsZSkKPiAgewo+ICAgICAgICAgc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYg
PSAoc3RydWN0IGFtZGdwdV9kZXZpY2UgKiloYW5kbGU7Cj4gLS0KPiAyLjE3LjEKPgo+IF9fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCj4gYW1kLWdmeCBtYWls
aW5nIGxpc3QKPiBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwo+IGh0dHBzOi8vbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeApfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQt
Z2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9t
YWlsbWFuL2xpc3RpbmZvL2FtZC1nZng=
