Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 7E020368CEA
	for <lists+amd-gfx@lfdr.de>; Fri, 23 Apr 2021 08:03:45 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 075026E072;
	Fri, 23 Apr 2021 06:03:44 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM12-BN8-obe.outbound.protection.outlook.com
 (mail-bn8nam12on2065.outbound.protection.outlook.com [40.107.237.65])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2AAA66E072
 for <amd-gfx@lists.freedesktop.org>; Fri, 23 Apr 2021 06:03:43 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=BAKb7GJpw3L4z6kjazvSN3jvdeJa34w9jfuySvlg46fuLet69nb9OaDFQWSCMJ9JFY77pc3C0uf/CYSvg9U+EuUL07JNnvcwj0HwokmB/GusBhtnD9asXKs5gYLv1ey5RKGyV4kVBixPb0wAzJ2/OlcB9Zyg/rDH9HlukWwykT2sJl//V3i09iyLoK/cFMJM1WKtqBSfv/3HmzsTAB1PQqn2nVbE1eA/VS7wDcFrGgYhfq27WjrlxtvB9zDi1EmQVohp8DtBunQeq9MJMofFuTEQAEJZKPXsgApOu1mRzvm9bltGuWMyTsrde2kkj+ojL7U22TIyREaR1YrB0e3Zng==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=V3ZRkpvcuSL7UxfK64KZk8/MixU6nULWaClI2+IJnuQ=;
 b=HJVyGLWW+2zV2GfTEAlKpWCrzLjlaV1ex2clvBR5SgIbYmd/lPCg2Gmnmciw/HXeI+6Lmb3GifdqSdHZxULsO8cnvARpxaNMhVmUJKZbKGWg10pKd9u+D1pZ/Fv2r0KigElcRmJ97gpHjapFj1yGU8WxB/hPMxL0dmSyItSmoD06Q8YnxdXOLB1QkSi2arucnwhouzKqxENHFswqPExpVJ7A4Z2j4+7UZ5tADkrdmVrv/jXue3TP+alhvYbChoHePr5SyZbo/KJmQd7BjR+ZOyynC2i8S6yXh1nSsZiHAcMrlDzTtTVtkUbYn1NkGRowGXt/8LzquoigoDZNI2s0pg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=amd.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=V3ZRkpvcuSL7UxfK64KZk8/MixU6nULWaClI2+IJnuQ=;
 b=iEPBAVe4h5LkUXfmz23OkIGK6A8gFXioOZ7ztu0YvRPdwezDjkoXCa5v+vFlbqHWIWn9Y6SZx5OByo4uzpoxfAUyf4bXvkgDdyTY7Mc2PgFw0hHbhGL4ox8povbzRQ3AY/Yep2/BxlnysUS15YYOvONquC/TJIAJAcb7K9bq6rI=
Authentication-Results: lists.freedesktop.org; dkim=none (message not signed)
 header.d=none; lists.freedesktop.org;
 dmarc=none action=none header.from=amd.com;
Received: from BL0PR12MB4948.namprd12.prod.outlook.com (2603:10b6:208:1cc::20)
 by MN2PR12MB3952.namprd12.prod.outlook.com (2603:10b6:208:164::21)
 with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.4065.21; Fri, 23 Apr
 2021 06:03:39 +0000
Received: from BL0PR12MB4948.namprd12.prod.outlook.com
 ([fe80::70f5:99ed:65a1:c033]) by BL0PR12MB4948.namprd12.prod.outlook.com
 ([fe80::70f5:99ed:65a1:c033%7]) with mapi id 15.20.3933.040; Fri, 23 Apr 2021
 06:03:38 +0000
Subject: Re: [PATCH v2 1/2] drm/amdgpu: address remove from fault filter
To: Philip Yang <Philip.Yang@amd.com>, amd-gfx@lists.freedesktop.org
References: <20210423020357.31102-1-Philip.Yang@amd.com>
From: Felix Kuehling <felix.kuehling@amd.com>
Message-ID: <40afb92c-cdb1-a20b-0976-a7e783462e62@amd.com>
Date: Fri, 23 Apr 2021 02:03:34 -0400
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101
 Thunderbird/78.7.1
In-Reply-To: <20210423020357.31102-1-Philip.Yang@amd.com>
Content-Language: en-US
X-Originating-IP: [142.182.183.69]
X-ClientProxiedBy: YQBPR01CA0011.CANPRD01.PROD.OUTLOOK.COM (2603:10b6:c01::19)
 To BL0PR12MB4948.namprd12.prod.outlook.com
 (2603:10b6:208:1cc::20)
MIME-Version: 1.0
X-MS-Exchange-MessageSentRepresentingType: 1
Received: from [192.168.2.100] (142.182.183.69) by
 YQBPR01CA0011.CANPRD01.PROD.OUTLOOK.COM (2603:10b6:c01::19) with Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.4042.21 via Frontend Transport; Fri, 23 Apr 2021 06:03:38 +0000
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-Correlation-Id: 07669aa6-7d7d-4460-461d-08d9061d89ce
X-MS-TrafficTypeDiagnostic: MN2PR12MB3952:
X-MS-Exchange-Transport-Forked: True
X-Microsoft-Antispam-PRVS: <MN2PR12MB3952586A73AEE676BFA72B0D92459@MN2PR12MB3952.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:9508;
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: RxRYLbr5MN0xhOWnEEqK5cYxBlEPWqREfN1ky8p6UjIns4CJIR30cA5KbxaRSGA3ah/qFooeNf35UD7oSwQ/5dYwAX3rjwvvh5IBpMB6gLmaZNNxIzDfAVTb8nhCQ7Gfz9NZrslE4VT0jsAe0zqe9ZXEjEmNA99oZ8uWOfk6M0GaPUIvVHIPTHfkPQTMb25HsP93EEdsDWhcujsMFTTounuaJrj71yYi1sg3IMNmcUNoXxwG2y2jdIiTY1AGhYkojvlaRFakZCPNQjJovU20ytmkCfxW6GqQp+KBGgyIcWPf94QBGq2hcxylv858g8LKrwmjBzOyaO/UGlBcLeXCpHl6nLFZdoIZjjCjfORbKr8hugR3mSXoP1SBqMLv9GIGH36WKoI51KqwpJdDAuMJQRvQckFHSHY/7YBBfkGGMLGg21JM+B9q/PTZl/FtPwpRp8Oz95atlRlEzQifGTeSDWxSmCSHRfAVfFYQzr2Bl7JrlXJZ17fuWXv24SLYHpfAL7WjBk2N9i0S+wBxZdMcEynf5speU2RVW6S+4BXPH/T/Ayu5HUYHSBIbAdPBVMI/ihLbHqHONZ7wkbCfkdht2CIWl1/K6rIhcUSG2ksuvoCVMTDtUfVN5paGrGUvvjMhVGy/qWIf/u5KpdZE0IblplkFJuM6rmcG/2uDW4XOAwpSG1OKhAIZQTqmudxVayz/
X-Forefront-Antispam-Report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:BL0PR12MB4948.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(4636009)(346002)(136003)(376002)(39860400002)(396003)(366004)(5660300002)(31696002)(44832011)(6666004)(956004)(36756003)(8676002)(66476007)(8936002)(31686004)(26005)(66946007)(83380400001)(2616005)(16526019)(38100700002)(2906002)(478600001)(316002)(186003)(16576012)(66556008)(86362001)(6486002)(45980500001)(43740500002);
 DIR:OUT; SFP:1101; 
X-MS-Exchange-AntiSpam-MessageData: =?utf-8?B?SVU0T0hxNzRWdkkyZjFDcmJGc1gzR3U2Tm16U1FRVGxUb3hZdVprMnpockF5?=
 =?utf-8?B?Nk1NOExxSjFXbTdRNlpSWUhXQnZuL0w5S2w1aGNWWXMrR0svVlhrM0pCRXJm?=
 =?utf-8?B?YzZrdTF4cnZMZ1BvNzMwRk5BMS8wUXBBOWkrZndVT1MwbDhRdFZEUjYyNlhT?=
 =?utf-8?B?NWNVcHJheEhESnE2cGFkZnFwZkJFdHJRVUlkNzJ2aW00T2EyWWNBTzE2azVh?=
 =?utf-8?B?N2gvazZyUlluc0RxL3dacmM2Yld1SDM3ZFpQUDJXWmlLUFlNbUd0K1hSSjRH?=
 =?utf-8?B?SnBYWkFPVjN6QndER04zekpOQ0VCR3JScGlBekNnYXUwRjBIQ00vcGpyM1BV?=
 =?utf-8?B?MnoyZ0lEeG1tSVVtTkNqYXFlUnF3bDg0WGZ1eXFmTXh5LzlPMFlEYVVOSnln?=
 =?utf-8?B?TklsYzhmSWtwVmZ4VUh5M2Z4ZzVJZWNBcE5uT2YrbzFiN2dQZmtGZ0FhenR3?=
 =?utf-8?B?SGRnUlFBdWwvTjFzTEI1MGpUT2QySGpNa1NCbXI3YnFyRTVqc2VPZ1ZneWoy?=
 =?utf-8?B?d2Y4RUhKdWhmRzlPOXZ0aDJucHAxREo1cmpvbDEvZFlGb2VManBCSzBld2tn?=
 =?utf-8?B?WDhBc2FlQjc4OTZ1WHpvbUtDbmV5SzN5ZFBsQS9iT1VRMFBUVTAxekF5ckN6?=
 =?utf-8?B?NHFwc2NrTjVSbEljWjBNWHgrT0xIamdUaS96anlIcnFIL1dad3NDU2xrQ3Nk?=
 =?utf-8?B?TzNlUlBwTXhwQjBJdUtxMnhpNmNETjRYM05IVjJHK0tqZkhnbjFWZ2hJY0NI?=
 =?utf-8?B?MGw2ZWhPYkJIZ3dYU3BXdVF1bEZkTW1vZjM3Qm5tVFQzeXJIRCt6RjlibnRI?=
 =?utf-8?B?T0ZHNitCeVF4UkU3cjlnOCtZaFp4aWRTcnpsQ2N4WVVuc0oyY3VZYmo3eTJj?=
 =?utf-8?B?MFJkc0FDWHR2ZENaWmZxZCtvcnJWZzUxRTROTkpaaXRsUndhT1FDbEJ6NjY1?=
 =?utf-8?B?enMyVVBGREswaWFsYURleFN2UnpETUFmUnZHOHREQkZwUjFkSWduUzNFcllk?=
 =?utf-8?B?TWk3dGoraCtLbGlFb3NkckRZcjYwbzBlZVdNdEdaTDB6YngwT0FvSlo3YUdH?=
 =?utf-8?B?UGQ2Q0VEUzRDOTE5NVpQc0pvVjRzUVBaUUoza2V1VGloVVpBUGtDN1N2SVBB?=
 =?utf-8?B?OVM3N25TWnY5SEFyM3Y3WG82cVhLblFqVjhUM2J1cVozUytJcHRWaE1BRHM0?=
 =?utf-8?B?elZrNXBRRU96STN6TU5lcUhVZDN1U0ZmSllDR1JYVEJuR0h4VVFpcGl0dWNS?=
 =?utf-8?B?aGE3dWlmWUN4alV4NXBBZUdDUjZmWWFWR0pyTUZZbkFhcFRTdjl6ajR1b3NZ?=
 =?utf-8?B?bWFHb2VGWHNKQ3ZvMHgvN2R0UWc2c21WcVB0UW1WaEtwSjJqOVA4NlBzQnh1?=
 =?utf-8?B?Zmc3d2k5aFE3WGYxby9GaEZlT1BIdWM1Wm0xTTIrWkNXeExBbnJta29pazBC?=
 =?utf-8?B?N1FVaDNWT3VqUXYvbzEwSDJFQVhVMEtwTDl4VDIyejZ6eTc2VUNqb1pjR1pL?=
 =?utf-8?B?L1E3YmZzemxxU1pXOWRtNmhuNVUxOFZiS1Ara0VHSExzUHBZcGdDV2NyWkQr?=
 =?utf-8?B?amJNaUZWM3VEMGRjV1hQT0lJWTdWVitkZXpmemVkb3FJRURIUytka1BJNjhl?=
 =?utf-8?B?QWRBVG9uZG1ROUtNQ2pKVzdEb2NlalBTazBXUjhlVGFGWmREL3ArandFTEcr?=
 =?utf-8?B?MHpsRGE4eTJVK3FGbW14SGhEbGJ1VVVWamErdk1RUENnV1pRQjdkWUpaZHUx?=
 =?utf-8?Q?JFNCDVXMxCNnS78Dbr2iNOUloQMqNP4di/RzLiT?=
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 07669aa6-7d7d-4460-461d-08d9061d89ce
X-MS-Exchange-CrossTenant-AuthSource: BL0PR12MB4948.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 23 Apr 2021 06:03:38.8338 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: 67Kr1MpjYNHy2hbusIhrc4OdpQ+fLB8CRmGoYqWFxVnvg7p/khKG1d7i8nvwmufHIRQ1PbPz16ZU6BcZ0oyzQw==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB3952
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

QW0gMjAyMS0wNC0yMiB1bSAxMDowMyBwLm0uIHNjaHJpZWIgUGhpbGlwIFlhbmc6Cj4gQWRkIGlu
dGVyZmFjZSB0byByZW1vdmUgYWRkcmVzcyBmcm9tIGZhdWx0IGZpbHRlciByaW5nIGJ5IHJlc2V0
dGluZwo+IGZhdWx0IHJpbmcgZW50cnkgb2YgdGhlIGZhdWx0IGFkZHJlc3MgdGltZXN0YW1wIHRv
IDAsIHRoZW4gZnV0dXJlIHZtCj4gZmF1bHQgb24gdGhlIGFkZHJlc3Mgd2lsbCBiZSBwcm9jZXNz
ZWQgdG8gcmVjb3Zlci4KPgo+IFVzZSBzcGlubG9jayB0byBwcm90ZWN0IGZhdWx0IGhhc2ggcmlu
ZyBhY2Nlc3MgYnkgaW50ZXJydXB0IGhhbmRsZXIgYW5kCj4gaW50ZXJydXB0IHNjaGVkdWxlZCBk
ZWZlcnJlZCB3b3JrIGZvciB2ZzIwLgoKVGhpcyBuZWVkcyBhIGJldHRlciBleHBsYW5hdGlvbi4g
V2hlbiB5b3Ugc2F5IFZlZ2EyMCwgSSB0aGluayB5b3UncmUKcmVmZXJyaW5nIHRvIHRoZSBsYWNr
IG9mIEhXIElIIHJlcm91dGluZy4gSW4gdGhhdCBjYXNlCmFtZGdwdV9nbWNfZmlsdGVyX2ZhdWx0
cyBydW5zIGluIGludGVycnVwdCBjb250ZXh0IGJlZm9yZSBkZWxlZ2F0aW5nIHRoZQpJSCBlbnRy
aWVzIHRvIHRoZSBTVyBJSCByaW5nLgoKT24gR1BVcyB0aGF0IHN1cHBvcnQgSUggcmVyb3V0aW5n
LCBhbWRncHVfZ21jX2ZpbHRlcl9mYXVsdHMgcnVucyBpbiB0aGUKc2FtZSB0aHJlYWQgYXMgdGhl
IHBhZ2UgZmF1bHQgaGFuZGxpbmcsIHNvIHRoZXJlIGlzIG5vIHJpc2sgb2YKY29uY3VycmVudGx5
IGFjY2Vzc2luZyB0aGUgZmF1bHQgcmluZyBhc3N1bWluZyB0aGF0CmFtZGdwdV9nbWNfZmlsdGVy
X2ZhdWx0c19yZW1vdmUgaXMgb25seSBjYWxsZWQgZnJvbSB0aGUgcGFnZSBmYXVsdCBoYW5kbGVy
LgoKQ2hyaXN0aWFuIGhhZCBhbiBpZGVhIHRvIGRvIHRoaXMgd2l0aG91dCBhIGxvY2ssIGJ5IHVz
aW5nIGNtcHhjaGcuIEkKZ3Vlc3MgdGhhdCBpZGVhIGRpZG4ndCB3b3JrIG91dD8KCgo+Cj4gU2ln
bmVkLW9mZi1ieTogUGhpbGlwIFlhbmcgPFBoaWxpcC5ZYW5nQGFtZC5jb20+Cj4gLS0tCj4gIGRy
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nbWMuYyB8IDY2ICsrKysrKysrKysrKysr
KysrKysrKysrLS0KPiAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dtYy5oIHwg
IDMgKysKPiAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3YxMF8wLmMgIHwgIDEgKwo+
ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjlfMC5jICAgfCAgMSArCj4gIDQgZmls
ZXMgY2hhbmdlZCwgNjggaW5zZXJ0aW9ucygrKSwgMyBkZWxldGlvbnMoLSkKPgo+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ21jLmMgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ21jLmMKPiBpbmRleCBjMzllZDllYjA5ODcuLjgwMWVh
MDYyMzQ1MyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
Z21jLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ21jLmMKPiBA
QCAtMzMyLDYgKzMzMiwxNyBAQCB2b2lkIGFtZGdwdV9nbWNfYWdwX2xvY2F0aW9uKHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2LCBzdHJ1Y3QgYW1kZ3B1X2dtYyAqbWMpCj4gIAkJCW1jLT5hZ3Bf
c2l6ZSA+PiAyMCwgbWMtPmFncF9zdGFydCwgbWMtPmFncF9lbmQpOwo+ICB9Cj4gIAo+ICsvKioK
PiArICogZmF1bHRfa2V5IC0gZ2V0IDUyYml0IGhhc2sga2V5IGZyb20gdm0gZmF1bHQgYWRkcmVz
cyBhbmQgcGFzaWQKPiArICoKPiArICogQGFkZHI6IDQ4Yml0IHBoeXNpY2FsIGFkZHJlc3MKPiAr
ICogQHBhc2lkOiA0IGJpdAo+ICsgKi8KPiArc3RhdGljIGlubGluZSB1aW50NjRfdCBmYXVsdF9r
ZXkodWludDY0X3QgYWRkciwgdWludDE2X3QgcGFzaWQpCj4gK3sKPiArCXJldHVybiBhZGRyIDw8
IDQgfCBwYXNpZDsKPiArfQo+ICsKPiAgLyoqCj4gICAqIGFtZGdwdV9nbWNfZmlsdGVyX2ZhdWx0
cyAtIGZpbHRlciBWTSBmYXVsdHMKPiAgICoKPiBAQCAtMzQ5LDE1ICszNjAsMjAgQEAgYm9vbCBh
bWRncHVfZ21jX2ZpbHRlcl9mYXVsdHMoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHVpbnQ2
NF90IGFkZHIsCj4gIHsKPiAgCXN0cnVjdCBhbWRncHVfZ21jICpnbWMgPSAmYWRldi0+Z21jOwo+
ICAKPiAtCXVpbnQ2NF90IHN0YW1wLCBrZXkgPSBhZGRyIDw8IDQgfCBwYXNpZDsKPiArCXVpbnQ2
NF90IHN0YW1wLCBrZXkgPSBmYXVsdF9rZXkoYWRkciwgcGFzaWQpOwo+ICAJc3RydWN0IGFtZGdw
dV9nbWNfZmF1bHQgKmZhdWx0Owo+ICsJdW5zaWduZWQgbG9uZyBmbGFnczsKPiAgCXVpbnQzMl90
IGhhc2g7Cj4gIAo+ICAJLyogSWYgd2UgZG9uJ3QgaGF2ZSBzcGFjZSBsZWZ0IGluIHRoZSByaW5n
IGJ1ZmZlciByZXR1cm4gaW1tZWRpYXRlbHkgKi8KPiAgCXN0YW1wID0gbWF4KHRpbWVzdGFtcCwg
QU1ER1BVX0dNQ19GQVVMVF9USU1FT1VUICsgMSkgLQo+ICAJCUFNREdQVV9HTUNfRkFVTFRfVElN
RU9VVDsKPiAtCWlmIChnbWMtPmZhdWx0X3JpbmdbZ21jLT5sYXN0X2ZhdWx0XS50aW1lc3RhbXAg
Pj0gc3RhbXApCj4gKwo+ICsJc3Bpbl9sb2NrX2lycXNhdmUoJmdtYy0+ZmF1bHRfbG9jaywgZmxh
Z3MpOwo+ICsJaWYgKGdtYy0+ZmF1bHRfcmluZ1tnbWMtPmxhc3RfZmF1bHRdLnRpbWVzdGFtcCA+
PSBzdGFtcCkgewo+ICsJCXNwaW5fdW5sb2NrX2lycXJlc3RvcmUoJmdtYy0+ZmF1bHRfbG9jaywg
ZmxhZ3MpOwo+ICAJCXJldHVybiB0cnVlOwo+ICsJfQo+ICAKPiAgCS8qIFRyeSB0byBmaW5kIHRo
ZSBmYXVsdCBpbiB0aGUgaGFzaCAqLwo+ICAJaGFzaCA9IGhhc2hfNjQoa2V5LCBBTURHUFVfR01D
X0ZBVUxUX0hBU0hfT1JERVIpOwo+IEBAIC0zNjUsOCArMzgxLDEwIEBAIGJvb2wgYW1kZ3B1X2dt
Y19maWx0ZXJfZmF1bHRzKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCB1aW50NjRfdCBhZGRy
LAo+ICAJd2hpbGUgKGZhdWx0LT50aW1lc3RhbXAgPj0gc3RhbXApIHsKPiAgCQl1aW50NjRfdCB0
bXA7Cj4gIAo+IC0JCWlmIChmYXVsdC0+a2V5ID09IGtleSkKPiArCQlpZiAoZmF1bHQtPmtleSA9
PSBrZXkpIHsKPiArCQkJc3Bpbl91bmxvY2tfaXJxcmVzdG9yZSgmZ21jLT5mYXVsdF9sb2NrLCBm
bGFncyk7Cj4gIAkJCXJldHVybiB0cnVlOwo+ICsJCX0KPiAgCj4gIAkJdG1wID0gZmF1bHQtPnRp
bWVzdGFtcDsKPiAgCQlmYXVsdCA9ICZnbWMtPmZhdWx0X3JpbmdbZmF1bHQtPm5leHRdOwo+IEBA
IC0zODQsOSArNDAyLDUxIEBAIGJvb2wgYW1kZ3B1X2dtY19maWx0ZXJfZmF1bHRzKHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2LCB1aW50NjRfdCBhZGRyLAo+ICAJLyogQW5kIHVwZGF0ZSB0aGUg
aGFzaCAqLwo+ICAJZmF1bHQtPm5leHQgPSBnbWMtPmZhdWx0X2hhc2hbaGFzaF0uaWR4Owo+ICAJ
Z21jLT5mYXVsdF9oYXNoW2hhc2hdLmlkeCA9IGdtYy0+bGFzdF9mYXVsdCsrOwo+ICsJc3Bpbl91
bmxvY2tfaXJxcmVzdG9yZSgmZ21jLT5mYXVsdF9sb2NrLCBmbGFncyk7Cj4gIAlyZXR1cm4gZmFs
c2U7Cj4gIH0KPiAgCj4gKy8qKgo+ICsgKiBhbWRncHVfZ21jX2ZpbHRlcl9mYXVsdHNfcmVtb3Zl
IC0gcmVtb3ZlIGFkZHJlc3MgZnJvbSBWTSBmYXVsdHMgZmlsdGVyCj4gKyAqCj4gKyAqIEBhZGV2
OiBhbWRncHUgZGV2aWNlIHN0cnVjdHVyZQo+ICsgKiBAYWRkcjogYWRkcmVzcyBvZiB0aGUgVk0g
ZmF1bHQKPiArICogQHBhc2lkOiBQQVNJRCBvZiB0aGUgcHJvY2VzcyBjYXVzaW5nIHRoZSBmYXVs
dAo+ICsgKgo+ICsgKiBSZW1vdmUgdGhlIGFkZHJlc3MgZnJvbSBmYXVsdCBmaWx0ZXIsIHRoZW4g
ZnV0dXJlIHZtIGZhdWx0IG9uIHRoaXMgYWRkcmVzcwo+ICsgKiB3aWxsIHBhc3MgdG8gcmV0cnkg
ZmF1bHQgaGFuZGxlciB0byByZWNvdmVyLgo+ICsgKi8KPiArdm9pZCBhbWRncHVfZ21jX2ZpbHRl
cl9mYXVsdHNfcmVtb3ZlKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCB1aW50NjRfdCBhZGRy
LAo+ICsJCQkJICAgICB1aW50MTZfdCBwYXNpZCkKPiArewo+ICsJc3RydWN0IGFtZGdwdV9nbWMg
KmdtYyA9ICZhZGV2LT5nbWM7Cj4gKwo+ICsJdWludDY0X3Qga2V5ID0gZmF1bHRfa2V5KGFkZHIs
IHBhc2lkKTsKPiArCXN0cnVjdCBhbWRncHVfZ21jX2ZhdWx0ICpmYXVsdDsKPiArCXVuc2lnbmVk
IGxvbmcgZmxhZ3M7Cj4gKwl1aW50MzJfdCBoYXNoOwo+ICsKPiArCXNwaW5fbG9ja19pcnFzYXZl
KCZnbWMtPmZhdWx0X2xvY2ssIGZsYWdzKTsKPiArCWhhc2ggPSBoYXNoXzY0KGtleSwgQU1ER1BV
X0dNQ19GQVVMVF9IQVNIX09SREVSKTsKPiArCWZhdWx0ID0gJmdtYy0+ZmF1bHRfcmluZ1tnbWMt
PmZhdWx0X2hhc2hbaGFzaF0uaWR4XTsKPiArCXdoaWxlICh0cnVlKSB7Cj4gKwkJdWludDY0X3Qg
dG1wOwo+ICsKPiArCQlpZiAoZmF1bHQtPmtleSA9PSBrZXkpIHsKPiArCQkJZmF1bHQtPnRpbWVz
dGFtcCA9IDA7CgpTZXR0aW5nIHRoZSB0aW1lc3RhbXAgdG8gMCBicmVha3MgdGhlIGNoYWluIG9m
IGludGVycnVwdHMgd2l0aCB0aGUgc2FtZQpoYXNoLiBBcyB5b3UgY2FuIHNlZSBpbiBhbWRncHVf
Z21jX2ZpbHRlcl9mYXVsdHMsIGl0IHVzZXMgYSBjbG9zZWQgaGFzaAphbGdvcml0aG0gdGhhdCBs
b29rcyBmb3IgdGhlIGVudHJ5IHdpdGggdGhlIGNvcnJlY3Qga2V5IHVudGlsIGl0IGhpdHMgYQp0
aW1lIHN0YW1wIHRoYXQncyB0b28gb2xkLiBTbyByZXNldHRpbmcgdGhlIHRpbWVzdGFtcCB3aWxs
IGJyZWFrIHRoYXQKY2hhaW4gYW5kIGVmZmVjdGl2ZWx5IHJlbW92ZSBhbGwgZW50cmllcyB3aXRo
IHRoZSBzYW1lIGhhc2ggdGhhdCBoYXZlCm9sZGVyIHRpbWVzdGFtcHMgdGhhbiB0aGUgb25lIHlv
dSBpbnRlbmRlZCB0byByZW1vdmUuCgpJIHN1Z2dlc3RlZCBpbnZhbGlkYXRpbmcgdGhlIGZhdWx0
LT5rZXkgaW5zdGVhZCwgbGVhdmluZyB0aGUgdGltZXN0YW1wCmFsb25lLiBUaGlzIHdvdWxkIGVm
ZmVjdGl2ZWx5IHJlbW92ZSB0aGUgZW50cnkgZnJvbSB0aGUgaGFzaCBjaGFpbiBidXQKd291bGQg
c3RpbGwgYWxsb3cgYW1kZ3B1X2dtY19maWx0ZXJfZmF1bHQgdG8gZmluZCBvbGRlciBlbnRyaWVz
IHdpdGggdGhlCnNhbWUgaGFzaC4KClJlZ2FyZHMsCsKgIEZlbGl4CgoKPiArCQkJYnJlYWs7Cj4g
KwkJfQo+ICsKPiArCQl0bXAgPSBmYXVsdC0+dGltZXN0YW1wOwo+ICsJCWZhdWx0ID0gJmdtYy0+
ZmF1bHRfcmluZ1tmYXVsdC0+bmV4dF07Cj4gKwo+ICsJCS8qIENoZWNrIGlmIHRoZSBlbnRyeSB3
YXMgcmV1c2VkICovCj4gKwkJaWYgKGZhdWx0LT50aW1lc3RhbXAgPj0gdG1wKQo+ICsJCQlicmVh
azsKPiArCX0KPiArCXNwaW5fdW5sb2NrX2lycXJlc3RvcmUoJmdtYy0+ZmF1bHRfbG9jaywgZmxh
Z3MpOwo+ICt9Cj4gKwo+ICBpbnQgYW1kZ3B1X2dtY19yYXNfbGF0ZV9pbml0KHN0cnVjdCBhbWRn
cHVfZGV2aWNlICphZGV2KQo+ICB7Cj4gIAlpbnQgcjsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dtYy5oIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X2dtYy5oCj4gaW5kZXggOWQxMWMwMmEzOTM4Li4wYWFlM2JkMDFiZjIgMTAwNjQ0
Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dtYy5oCj4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dtYy5oCj4gQEAgLTI0Niw2ICsyNDYs
NyBAQCBzdHJ1Y3QgYW1kZ3B1X2dtYyB7Cj4gIAkJdWludDY0X3QJaWR4OkFNREdQVV9HTUNfRkFV
TFRfUklOR19PUkRFUjsKPiAgCX0gZmF1bHRfaGFzaFtBTURHUFVfR01DX0ZBVUxUX0hBU0hfU0la
RV07Cj4gIAl1aW50NjRfdAkJbGFzdF9mYXVsdDpBTURHUFVfR01DX0ZBVUxUX1JJTkdfT1JERVI7
Cj4gKwlzcGlubG9ja190CQlmYXVsdF9sb2NrOwo+ICAKPiAgCWJvb2wgdG16X2VuYWJsZWQ7Cj4g
IAo+IEBAIC0zMTgsNiArMzE5LDggQEAgdm9pZCBhbWRncHVfZ21jX2FncF9sb2NhdGlvbihzdHJ1
Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKPiAgCQkJICAgICBzdHJ1Y3QgYW1kZ3B1X2dtYyAqbWMp
Owo+ICBib29sIGFtZGdwdV9nbWNfZmlsdGVyX2ZhdWx0cyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldiwgdWludDY0X3QgYWRkciwKPiAgCQkJICAgICAgdWludDE2X3QgcGFzaWQsIHVpbnQ2NF90
IHRpbWVzdGFtcCk7Cj4gK3ZvaWQgYW1kZ3B1X2dtY19maWx0ZXJfZmF1bHRzX3JlbW92ZShzdHJ1
Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgdWludDY0X3QgYWRkciwKPiArCQkJCSAgICAgdWludDE2
X3QgcGFzaWQpOwo+ICBpbnQgYW1kZ3B1X2dtY19yYXNfbGF0ZV9pbml0KHN0cnVjdCBhbWRncHVf
ZGV2aWNlICphZGV2KTsKPiAgdm9pZCBhbWRncHVfZ21jX3Jhc19maW5pKHN0cnVjdCBhbWRncHVf
ZGV2aWNlICphZGV2KTsKPiAgaW50IGFtZGdwdV9nbWNfYWxsb2NhdGVfdm1faW52X2VuZyhzdHJ1
Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2dtY192MTBfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3Yx
MF8wLmMKPiBpbmRleCA0OThiMjhhMzVmNWIuLjc0MTZhZDg3NDY1MiAxMDA2NDQKPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjEwXzAuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2dtY192MTBfMC5jCj4gQEAgLTgzOSw2ICs4MzksNyBAQCBzdGF0aWMg
aW50IGdtY192MTBfMF9zd19pbml0KHZvaWQgKmhhbmRsZSkKPiAgCWFkZXYtPm1taHViLmZ1bmNz
LT5pbml0KGFkZXYpOwo+ICAKPiAgCXNwaW5fbG9ja19pbml0KCZhZGV2LT5nbWMuaW52YWxpZGF0
ZV9sb2NrKTsKPiArCXNwaW5fbG9ja19pbml0KCZhZGV2LT5nbWMuZmF1bHRfbG9jayk7Cj4gIAo+
ICAJaWYgKChhZGV2LT5mbGFncyAmIEFNRF9JU19BUFUpICYmIGFtZGdwdV9lbXVfbW9kZSA9PSAx
KSB7Cj4gIAkJYWRldi0+Z21jLnZyYW1fdHlwZSA9IEFNREdQVV9WUkFNX1RZUEVfRERSNDsKPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3Y5XzAuYyBiL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192OV8wLmMKPiBpbmRleCA0ZGE4YjNkMjhhZjIuLjMy
OTBiMjU5YTM3MiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNf
djlfMC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3Y5XzAuYwo+IEBA
IC0xNDQ0LDYgKzE0NDQsNyBAQCBzdGF0aWMgaW50IGdtY192OV8wX3N3X2luaXQodm9pZCAqaGFu
ZGxlKQo+ICAJYWRldi0+bW1odWIuZnVuY3MtPmluaXQoYWRldik7Cj4gIAo+ICAJc3Bpbl9sb2Nr
X2luaXQoJmFkZXYtPmdtYy5pbnZhbGlkYXRlX2xvY2spOwo+ICsJc3Bpbl9sb2NrX2luaXQoJmFk
ZXYtPmdtYy5mYXVsdF9sb2NrKTsKPiAgCj4gIAlyID0gYW1kZ3B1X2F0b21maXJtd2FyZV9nZXRf
dnJhbV9pbmZvKGFkZXYsCj4gIAkJJnZyYW1fd2lkdGgsICZ2cmFtX3R5cGUsICZ2cmFtX3ZlbmRv
cik7Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmFtZC1n
ZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlz
dHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeAo=
