Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A9BC210365A
	for <lists+amd-gfx@lfdr.de>; Wed, 20 Nov 2019 10:05:00 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E19D26E0DC;
	Wed, 20 Nov 2019 09:04:58 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM05-CO1-obe.outbound.protection.outlook.com
 (mail-eopbgr720087.outbound.protection.outlook.com [40.107.72.87])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D0E0A6E0DC
 for <amd-gfx@lists.freedesktop.org>; Wed, 20 Nov 2019 09:04:57 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=Rv9SgoHPgkT01zpX9oPz66G7r1WLVIGdm2u9LQ9pEjowqZ4fsYPZDsabRSTXyncSVFKAkxgKVViDCVmJpDRowFh8aRJMgRQJRC7JMQcFokc/S4l0L2gKY0heEz3OEoBm9vLr3UhS1zYRynQp0oVaXr4DFAebB98K7Larj3q75mHTVWnsWYEydVWSwIlFKyMCitmC8ebmYo14jYhICk9ZOJ9TS9LZmraYfVFSaNqBSsKzrB40Op2ozlPT1VjGvo5C8pMf9OTvT4+HvmJqHj0z4nYxe87zYjE1Mlc7ALZ84anNC9bCaRDkE6UCjxyM1V+b7iZEjuAHKO7MbSJL1NoXNw==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=qzY9tTEZuAIwjgv63N1ypW9b6bSzKzFRzE7zz8Uusfw=;
 b=GxL7BN3U/lSrqSu41UsSvoPNrtHAw7VkA91hpNZwqipMyOi+noID9F3n/bJEp7pZ4lkTVZaGrAlzSbZM8xSUh46LKLwnIiyEcLAs7Kl5ID3nOv7NIlPDBlpKmrkNVDFt0kvNBPebCjeRTW/i9RFE6oKb8mggjH43LTgISN+/3FVxhhBDKW8c/4YfKtjpc9EocA1GtFzw6uA/xwkDv4jADR9zYPHAz0ZPbYI97sgJ4RTRpqjabF+wFwTLWKx0df6yWZwNyat8k5QRHstqSdX1ISaKmwUVtsBddODsHg5eTzDPPMayybYMB8ecpU3+0d4GzvASXNahBW1Ix0m8l130bw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from DM5PR12MB1418.namprd12.prod.outlook.com (10.168.240.15) by
 DM5PR12MB1898.namprd12.prod.outlook.com (10.175.88.142) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2451.29; Wed, 20 Nov 2019 09:04:56 +0000
Received: from DM5PR12MB1418.namprd12.prod.outlook.com
 ([fe80::b011:48ff:bf60:75a7]) by DM5PR12MB1418.namprd12.prod.outlook.com
 ([fe80::b011:48ff:bf60:75a7%8]) with mapi id 15.20.2451.031; Wed, 20 Nov 2019
 09:04:56 +0000
From: "Zhang, Hawking" <Hawking.Zhang@amd.com>
To: "Yuan, Xiaojie" <Xiaojie.Yuan@amd.com>, "Koenig, Christian"
 <Christian.Koenig@amd.com>, "amd-gfx@lists.freedesktop.org"
 <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH] drm/amdgpu/gfx10: re-init clear state buffer after gpu
 reset
Thread-Topic: [PATCH] drm/amdgpu/gfx10: re-init clear state buffer after gpu
 reset
Thread-Index: AQHVn25hgnJp5nBSs0qXI2gya/dmz6eTvYcwgAABGICAAACtgIAAAfWggAABx4CAAAAksA==
Date: Wed, 20 Nov 2019 09:04:56 +0000
Message-ID: <DM5PR12MB14182D46CB31725D29877954FC4F0@DM5PR12MB1418.namprd12.prod.outlook.com>
References: <20191120064701.2765-1-xiaojie.yuan@amd.com>
 <DM5PR12MB1418A32EB8199ABFFCCAEC04FC4F0@DM5PR12MB1418.namprd12.prod.outlook.com>
 <DM5PR12MB14185B32B9CB4356233E5903FC4F0@DM5PR12MB1418.namprd12.prod.outlook.com>
 <01af7844-2fbe-fd1a-5662-c8a9ec5812f0@gmail.com>,
 <DM5PR12MB141866D265D123D18E289329FC4F0@DM5PR12MB1418.namprd12.prod.outlook.com>
 <MN2PR12MB3087E12C851C8A4B9BD1E6BA894F0@MN2PR12MB3087.namprd12.prod.outlook.com>
In-Reply-To: <MN2PR12MB3087E12C851C8A4B9BD1E6BA894F0@MN2PR12MB3087.namprd12.prod.outlook.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-ht: Tenant
x-ms-office365-filtering-correlation-id: fb103c94-f826-43fe-8505-08d76d98b6b1
x-ms-traffictypediagnostic: DM5PR12MB1898:
x-ms-exchange-purlcount: 1
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <DM5PR12MB18986691B9EA6EA91A401BADFC4F0@DM5PR12MB1898.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:7691;
x-forefront-prvs: 02272225C5
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(396003)(366004)(346002)(376002)(136003)(39860400002)(189003)(199004)(13464003)(26005)(186003)(6116002)(3846002)(14444005)(256004)(486006)(55016002)(2906002)(6246003)(7736002)(66066001)(86362001)(6306002)(9686003)(11346002)(229853002)(2501003)(74316002)(446003)(76176011)(99286004)(476003)(316002)(7696005)(6436002)(305945005)(71200400001)(54906003)(25786009)(110136005)(71190400001)(8676002)(102836004)(81166006)(81156014)(66946007)(8936002)(66556008)(66476007)(76116006)(52536014)(33656002)(64756008)(66446008)(5660300002)(14454004)(6506007)(66574012)(966005)(53546011)(478600001)(4326008)(357404004);
 DIR:OUT; SFP:1101; SCL:1; SRVR:DM5PR12MB1898;
 H:DM5PR12MB1418.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: WUJjmYA7jrqyiRFEieFeBEHwk3QJGmpjJMUbhf4HsNy8atiwTGiHPMNBQX7/RUXMFvkaq/GQ+Ybz6wGjhOfU9EWWrEjXT+EC0DyP2HhsjnbHEQI/7R7kYb0/eE1N4GzB1PhFMi7EGXrA7MYkVIBBFekl057vrtpqRrbWKeaT4145XAFeuk67+dh/Ti6Az3LLs2GKKj1Aov++jAhcwpTctf6S5nqBXpS78IZz9o4n77iUoNYlYBaLi18x/kloUzWenhAt6vAPGtmyK/toxw/rRFFPTW2Jn4TroFwC4bVngFyWU9fx4eIWbp7/+Oq/cWdn000WZCI/qznfeDr72gW4LjpM9iSX0xSRWc5Mk3BiQ4bZDKlRrCXnxzTLDdsn/IvYdhkkkGAgjwKwcv+aW0CWI88948nUHYO+pRmJvyWQduKBMyUJJAGbQVdNTwQWSIyQx2JroIR2XFjvdm8D2TMgSQKS2yf7P/c5H7sbkB50wz8=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: fb103c94-f826-43fe-8505-08d76d98b6b1
X-MS-Exchange-CrossTenant-originalarrivaltime: 20 Nov 2019 09:04:56.2249 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: 5bEDZSvFOjF1inzglLXvoY7ARYA9n9ezTVcF9vuYKk8Z8uh/0H4HF9cXnE5ys6QkAYN8XvvRIoeapJOh3eZQDg==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM5PR12MB1898
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=qzY9tTEZuAIwjgv63N1ypW9b6bSzKzFRzE7zz8Uusfw=;
 b=vj1Pn6KnJOoI3foHmeYHyBphoapl49TDpBELZQejtxJHdGBQZSPW2LZRS24Xqsly2WdbU0F1/73IoWC1/AVLNaLJ0Bt74aAlmx2EviF1dNmWfG1etrmi3ncJAv6to8VThw74pzO8t9Vck0d8aGuIR24y0wUa8FoMB5rONaG+iyE=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Hawking.Zhang@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Long, Gang" <Gang.Long@amd.com>, "Xiao, Jack" <Jack.Xiao@amd.com>, "Ma,
 Le" <Le.Ma@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

SSdtIG9rYXkgd2l0aCB0aGUgcmUtaW5pdGlhbGl6ZSBhbmQgaXQncyBtb3JlIHN0cmFpZ2h0Zm9y
d2FyZCBhcHByb2FjaC4gDQoNClJlZ2FyZHMsDQpIYXdraW5nDQotLS0tLU9yaWdpbmFsIE1lc3Nh
Z2UtLS0tLQ0KRnJvbTogWXVhbiwgWGlhb2ppZSA8WGlhb2ppZS5ZdWFuQGFtZC5jb20+IA0KU2Vu
dDogMjAxOeW5tDEx5pyIMjDml6UgMTc6MDANClRvOiBaaGFuZywgSGF3a2luZyA8SGF3a2luZy5a
aGFuZ0BhbWQuY29tPjsgS29lbmlnLCBDaHJpc3RpYW4gPENocmlzdGlhbi5Lb2VuaWdAYW1kLmNv
bT47IGFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnDQpDYzogTG9uZywgR2FuZyA8R2FuZy5M
b25nQGFtZC5jb20+OyBYaWFvLCBKYWNrIDxKYWNrLlhpYW9AYW1kLmNvbT4NClN1YmplY3Q6IFJl
OiBbUEFUQ0hdIGRybS9hbWRncHUvZ2Z4MTA6IHJlLWluaXQgY2xlYXIgc3RhdGUgYnVmZmVyIGFm
dGVyIGdwdSByZXNldA0KDQpJIGNhbiB0cnkgdGhpcyBhcHByb2FjaCBhcyB3ZWxsLg0KVGhpcyBj
c2IgaXMgc2ltaWxhciB0byB0aGUga2lxIG1xZCB3aGljaCBhcmUgYWxsb2NhdGVkIGluIHZyYW0g
YW5kIG1pZ2h0IGNvcnJ1cHQgYWZ0ZXIgYmFjbyByZXNldC4NCg0KQlIsDQpYaWFvamllDQoNCl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18NCkZyb206IFpoYW5nLCBIYXdr
aW5nIDxIYXdraW5nLlpoYW5nQGFtZC5jb20+DQpTZW50OiBXZWRuZXNkYXksIE5vdmVtYmVyIDIw
LCAyMDE5IDQ6NTQgUE0NClRvOiBLb2VuaWcsIENocmlzdGlhbjsgWXVhbiwgWGlhb2ppZTsgYW1k
LWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcNCkNjOiBMb25nLCBHYW5nOyBYaWFvLCBKYWNrDQpT
dWJqZWN0OiBSRTogW1BBVENIXSBkcm0vYW1kZ3B1L2dmeDEwOiByZS1pbml0IGNsZWFyIHN0YXRl
IGJ1ZmZlciBhZnRlciBncHUgcmVzZXQNCg0KSSB0aGluayB3ZSBzaG91bGQgZXZpY3QgdGhlIGJv
IGFuZCB0aGVuIG1vdmUgaXQgYmFjay4NCg0KUmVnYXJkcywNCkhhd2tpbmcNCg0KLS0tLS1Pcmln
aW5hbCBNZXNzYWdlLS0tLS0NCkZyb206IENocmlzdGlhbiBLw7ZuaWcgPGNrb2VuaWcubGVpY2h0
enVtZXJrZW5AZ21haWwuY29tPg0KU2VudDogMjAxOeW5tDEx5pyIMjDml6UgMTY6NDcNClRvOiBa
aGFuZywgSGF3a2luZyA8SGF3a2luZy5aaGFuZ0BhbWQuY29tPjsgWXVhbiwgWGlhb2ppZSA8WGlh
b2ppZS5ZdWFuQGFtZC5jb20+OyBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZw0KQ2M6IExv
bmcsIEdhbmcgPEdhbmcuTG9uZ0BhbWQuY29tPjsgWGlhbywgSmFjayA8SmFjay5YaWFvQGFtZC5j
b20+DQpTdWJqZWN0OiBSZTogW1BBVENIXSBkcm0vYW1kZ3B1L2dmeDEwOiByZS1pbml0IGNsZWFy
IHN0YXRlIGJ1ZmZlciBhZnRlciBncHUgcmVzZXQNCg0KQSBiYWNvIHJlc2V0IGFsc28gcmVzZXRz
IHRoZSBNQywgZG9lc24ndCBpdD8gbiB0aGlzIGNhc2UgaXQgd291bGQgYmUgZXhwZWN0ZWQgdGhh
dCB0aGUgY29udGVudCBvZiBWUkFNIGlzIGNvcnJ1cHRlZC4NCg0KQ2hyaXN0aWFuLg0KDQpBbSAy
MC4xMS4xOSB1bSAwOTo0NSBzY2hyaWViIFpoYW5nLCBIYXdraW5nOg0KPiBPciBpbiBhbm90aGVy
IHdvcmQsIHdlIGFyZSBzdGlsbCBub3QgY2xlYXIgd2hlbiB0aGUgY29ycnVwdGlvbiBhY3R1YWxs
eSBoYXBwZW5zLCByaWdodD8NCj4NCj4gUmVnYXJkcywNCj4gSGF3a2luZw0KPiAtLS0tLU9yaWdp
bmFsIE1lc3NhZ2UtLS0tLQ0KPiBGcm9tOiBhbWQtZ2Z4IDxhbWQtZ2Z4LWJvdW5jZXNAbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnPiBPbiBCZWhhbGYgT2YgDQo+IFpoYW5nLCBIYXdraW5nDQo+IFNlbnQ6
IDIwMTnlubQxMeaciDIw5pelIDE2OjQ0DQo+IFRvOiBZdWFuLCBYaWFvamllIDxYaWFvamllLll1
YW5AYW1kLmNvbT47IA0KPiBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZw0KPiBDYzogTG9u
ZywgR2FuZyA8R2FuZy5Mb25nQGFtZC5jb20+OyBYaWFvLCBKYWNrIDxKYWNrLlhpYW9AYW1kLmNv
bT4NCj4gU3ViamVjdDogUkU6IFtQQVRDSF0gZHJtL2FtZGdwdS9nZngxMDogcmUtaW5pdCBjbGVh
ciBzdGF0ZSBidWZmZXIgDQo+IGFmdGVyIGdwdSByZXNldA0KPg0KPiBKdXN0IG1ha2Ugc3VyZSBJ
IHVuZGVyc3RhbmQgeW91IGNvcnJlY3RseS4gU28gdW50aWwgZncgdGVhbSByb290IGNhdXNlIHRo
ZSByZWFzb24gb2YgY3NiIGNvcnJ1cHRpb24sIHdlIGtlZXAgdGhlIHdvcmthcm91bmQgaW4gZHJp
dmVyLCBjb3JyZWN0Pw0KPg0KPiBSZWdhcmRzLA0KPiBIYXdraW5nDQo+IC0tLS0tT3JpZ2luYWwg
TWVzc2FnZS0tLS0tDQo+IEZyb206IFl1YW4sIFhpYW9qaWUgPFhpYW9qaWUuWXVhbkBhbWQuY29t
Pg0KPiBTZW50OiAyMDE55bm0MTHmnIgyMOaXpSAxNDo0Nw0KPiBUbzogYW1kLWdmeEBsaXN0cy5m
cmVlZGVza3RvcC5vcmcNCj4gQ2M6IFpoYW5nLCBIYXdraW5nIDxIYXdraW5nLlpoYW5nQGFtZC5j
b20+OyBYaWFvLCBKYWNrIA0KPiA8SmFjay5YaWFvQGFtZC5jb20+OyBMb25nLCBHYW5nIDxHYW5n
LkxvbmdAYW1kLmNvbT47IFl1YW4sIFhpYW9qaWUgDQo+IDxYaWFvamllLll1YW5AYW1kLmNvbT4N
Cj4gU3ViamVjdDogW1BBVENIXSBkcm0vYW1kZ3B1L2dmeDEwOiByZS1pbml0IGNsZWFyIHN0YXRl
IGJ1ZmZlciBhZnRlciANCj4gZ3B1IHJlc2V0DQo+DQo+IFRoaXMgcGF0Y2ggZml4ZXMgMm5kIGJh
Y28gcmVzZXQgZmFpbHVyZSB3aXRoIGdmeG9mZiBlbmFibGVkIG9uIG5hdmkxeC4NCj4NCj4gY2xl
YXIgc3RhdGUgYnVmZmVyIChyZXNpZGVzIGluIHZyYW0pIGlzIGNvcnJ1cHRlZCBhZnRlciAxc3Qg
YmFjbyByZXNldCwgdXBvbiBnZnhvZmYgZXhpdCwgQ1BGIGdldHMgZ2FyYmFnZSBoZWFkZXIgaW4g
Q1NJQiBhbmQgaGFuZ3MuDQo+DQo+IFNpZ25lZC1vZmYtYnk6IFhpYW9qaWUgWXVhbiA8eGlhb2pp
ZS55dWFuQGFtZC5jb20+DQo+IC0tLQ0KPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dm
eF92MTBfMC5jIHwgNDMgKysrKysrKysrKysrKysrKysrKysrKy0tLS0NCj4gICAxIGZpbGUgY2hh
bmdlZCwgMzcgaW5zZXJ0aW9ucygrKSwgNiBkZWxldGlvbnMoLSkNCj4NCj4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92MTBfMC5jDQo+IGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvZ2Z4X3YxMF8wLmMNCj4gaW5kZXggOTI3NGJkNGI2YzY4Li44ZTI0ZWEw
OGNhMzkgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92MTBf
MC5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92MTBfMC5jDQo+IEBA
IC0xNzg5LDI3ICsxNzg5LDUyIEBAIHN0YXRpYyB2b2lkIGdmeF92MTBfMF9lbmFibGVfZ3VpX2lk
bGVfaW50ZXJydXB0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KPiAgICAgICBXUkVHMzJf
U09DMTUoR0MsIDAsIG1tQ1BfSU5UX0NOVExfUklORzAsIHRtcCk7ICB9DQo+DQo+IC1zdGF0aWMg
dm9pZCBnZnhfdjEwXzBfaW5pdF9jc2Ioc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpDQo+ICtz
dGF0aWMgaW50IGdmeF92MTBfMF9pbml0X2NzYihzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikN
Cj4gICB7DQo+ICsgICAgIGludCByOw0KPiArDQo+ICsgICAgIGlmIChhZGV2LT5pbl9ncHVfcmVz
ZXQpIHsNCj4gKyAgICAgICAgICAgICByID0gYW1kZ3B1X2JvX3Jlc2VydmUoYWRldi0+Z2Z4LnJs
Yy5jbGVhcl9zdGF0ZV9vYmosIGZhbHNlKTsNCj4gKyAgICAgICAgICAgICBpZiAocikNCj4gKyAg
ICAgICAgICAgICAgICAgICAgIHJldHVybiByOw0KPiArDQo+ICsgICAgICAgICAgICAgciA9IGFt
ZGdwdV9ib19rbWFwKGFkZXYtPmdmeC5ybGMuY2xlYXJfc3RhdGVfb2JqLA0KPiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAodm9pZCAqKikmYWRldi0+Z2Z4LnJsYy5jc19wdHIpOw0K
PiArICAgICAgICAgICAgIGlmICghcikgew0KPiArICAgICAgICAgICAgICAgICAgICAgYWRldi0+
Z2Z4LnJsYy5mdW5jcy0+Z2V0X2NzYl9idWZmZXIoYWRldiwNCj4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBhZGV2LT5nZngucmxjLmNzX3B0cik7DQo+ICsgICAgICAgICAg
ICAgICAgICAgICBhbWRncHVfYm9fa3VubWFwKGFkZXYtPmdmeC5ybGMuY2xlYXJfc3RhdGVfb2Jq
KTsNCj4gKyAgICAgICAgICAgICB9DQo+ICsNCj4gKyAgICAgICAgICAgICBhbWRncHVfYm9fdW5y
ZXNlcnZlKGFkZXYtPmdmeC5ybGMuY2xlYXJfc3RhdGVfb2JqKTsNCj4gKyAgICAgICAgICAgICBp
ZiAocikNCj4gKyAgICAgICAgICAgICAgICAgICAgIHJldHVybiByOw0KPiArICAgICB9DQo+ICsN
Cj4gICAgICAgLyogY3NpYiAqLw0KPiAgICAgICBXUkVHMzJfU09DMTUoR0MsIDAsIG1tUkxDX0NT
SUJfQUREUl9ISSwNCj4gICAgICAgICAgICAgICAgICAgIGFkZXYtPmdmeC5ybGMuY2xlYXJfc3Rh
dGVfZ3B1X2FkZHIgPj4gMzIpOw0KPiAgICAgICBXUkVHMzJfU09DMTUoR0MsIDAsIG1tUkxDX0NT
SUJfQUREUl9MTywNCj4gICAgICAgICAgICAgICAgICAgIGFkZXYtPmdmeC5ybGMuY2xlYXJfc3Rh
dGVfZ3B1X2FkZHIgJiAweGZmZmZmZmZjKTsNCj4gICAgICAgV1JFRzMyX1NPQzE1KEdDLCAwLCBt
bVJMQ19DU0lCX0xFTkdUSCwNCj4gYWRldi0+Z2Z4LnJsYy5jbGVhcl9zdGF0ZV9zaXplKTsNCj4g
Kw0KPiArICAgICByZXR1cm4gMDsNCj4gICB9DQo+DQo+IC1zdGF0aWMgdm9pZCBnZnhfdjEwXzBf
aW5pdF9wZyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCj4gK3N0YXRpYyBpbnQgZ2Z4X3Yx
MF8wX2luaXRfcGcoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpDQo+ICAgew0KPiAgICAgICBp
bnQgaTsNCj4gKyAgICAgaW50IHI7DQo+DQo+IC0gICAgIGdmeF92MTBfMF9pbml0X2NzYihhZGV2
KTsNCj4gKyAgICAgciA9IGdmeF92MTBfMF9pbml0X2NzYihhZGV2KTsNCj4gKyAgICAgaWYgKHIp
DQo+ICsgICAgICAgICAgICAgcmV0dXJuIHI7DQo+DQo+ICAgICAgIGZvciAoaSA9IDA7IGkgPCBh
ZGV2LT5udW1fdm1odWJzOyBpKyspDQo+ICAgICAgICAgICAgICAgYW1kZ3B1X2dtY19mbHVzaF9n
cHVfdGxiKGFkZXYsIDAsIGksIDApOw0KPg0KPiAgICAgICAvKiBUT0RPOiBpbml0IHBvd2VyIGdh
dGluZyAqLw0KPiAtICAgICByZXR1cm47DQo+ICsgICAgIHJldHVybiAwOw0KPiAgIH0NCj4NCj4g
ICB2b2lkIGdmeF92MTBfMF9ybGNfc3RvcChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikgQEAg
LTE5MTEsNyArMTkzNiwxMCBAQCBzdGF0aWMgaW50IGdmeF92MTBfMF9ybGNfcmVzdW1lKHN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2KQ0KPiAgICAgICAgICAgICAgIHIgPSBnZnhfdjEwXzBfd2Fp
dF9mb3JfcmxjX2F1dG9sb2FkX2NvbXBsZXRlKGFkZXYpOw0KPiAgICAgICAgICAgICAgIGlmIChy
KQ0KPiAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHI7DQo+IC0gICAgICAgICAgICAgZ2Z4
X3YxMF8wX2luaXRfcGcoYWRldik7DQo+ICsNCj4gKyAgICAgICAgICAgICByID0gZ2Z4X3YxMF8w
X2luaXRfcGcoYWRldik7DQo+ICsgICAgICAgICAgICAgaWYgKHIpDQo+ICsgICAgICAgICAgICAg
ICAgICAgICByZXR1cm4gcjsNCj4NCj4gICAgICAgICAgICAgICAvKiBlbmFibGUgUkxDIFNSTSAq
Lw0KPiAgICAgICAgICAgICAgIGdmeF92MTBfMF9ybGNfZW5hYmxlX3NybShhZGV2KTsgQEAgLTE5
MzcsNyArMTk2NSwxMCBAQCANCj4gc3RhdGljIGludCBnZnhfdjEwXzBfcmxjX3Jlc3VtZShzdHJ1
Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
cmV0dXJuIHI7DQo+ICAgICAgICAgICAgICAgfQ0KPg0KPiAtICAgICAgICAgICAgIGdmeF92MTBf
MF9pbml0X3BnKGFkZXYpOw0KPiArICAgICAgICAgICAgIHIgPSBnZnhfdjEwXzBfaW5pdF9wZyhh
ZGV2KTsNCj4gKyAgICAgICAgICAgICBpZiAocikNCj4gKyAgICAgICAgICAgICAgICAgICAgIHJl
dHVybiByOw0KPiArDQo+ICAgICAgICAgICAgICAgYWRldi0+Z2Z4LnJsYy5mdW5jcy0+c3RhcnQo
YWRldik7DQo+DQo+ICAgICAgICAgICAgICAgaWYgKGFkZXYtPmZpcm13YXJlLmxvYWRfdHlwZSA9
PSANCj4gQU1ER1BVX0ZXX0xPQURfUkxDX0JBQ0tET09SX0FVVE8pIHsNCj4gLS0NCj4gMi4yMC4x
DQo+DQo+IF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fDQo+
IGFtZC1nZnggbWFpbGluZyBsaXN0DQo+IGFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnDQo+
IGh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeA0K
PiBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXw0KPiBhbWQt
Z2Z4IG1haWxpbmcgbGlzdA0KPiBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZw0KPiBodHRw
czovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZngNCg0KX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWls
aW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVl
ZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4
