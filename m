Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 6229246FA19
	for <lists+amd-gfx@lfdr.de>; Fri, 10 Dec 2021 06:20:07 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 90B1F10E2A9;
	Fri, 10 Dec 2021 05:20:05 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM11-DM6-obe.outbound.protection.outlook.com
 (mail-dm6nam11on2080.outbound.protection.outlook.com [40.107.223.80])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7FE5810E2AA
 for <amd-gfx@lists.freedesktop.org>; Fri, 10 Dec 2021 05:20:04 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=duL+omxYNx4Ec+a67P88lzElFVBb0oQaZU5sQUACi64IcBMR8jXJGFu4PMI2PqrXeIaywxWT/JNgKIoWYCACeyZ1WRA7GkO+auMk44uauF+26k9Bn+OwlPK+JAND7FfZ8EHKkZBOogwADV8W3CyPEWwiQEHHZXeWIg6CGCvICKJZhcUprZYpvshbKfVJVmK6mjODOHP0vNyZoQsYFyuZ6P4gzk9FxrwKaqcBgzVlw/P2rRqpGtTScenVlVNn3poUye5RYOBTRtIJPthYfgvlCdbHW+jtzZ8K3dSm0Z5NuwLBhzvvTvh75AuIxAuU2xArEfp5owd1BPFUEhnlFj4cvA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=6lk0LYoLY3TGCGhsMa2Pob5SK2gUheskGKAscviGPkw=;
 b=dgW/Teqsh6skN5GACAeJZlsaym/BrvDSvDndDrUZCqi1iaCm2bOMopyg6CuBs2P1XRqtRbeeTuq9/zPcY+U9GGlQ2c5JE+r6FIq5uUkbZZDrLt2FvSZFrJ42tvg7PpyDWnyAl8Qo0O/ReanTipR2MwcFhr0l2hcwMGKm6t3Cg7qnAxtuwInHZhTXzd5B5RYQO2PTQbaDvaqmMLepnQscWKvwwJBc4p9zyeog2cSHOg742tGoDIH/cdzwPSoRc2wzOSy6zkLHMydVlaxxVPsdDAP+eBGPphLohpUf/48NEO4arOKRXn1t9KgzpZYRmtaLYC5JG+z8fLfPB9doEFw0tw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=amd.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=6lk0LYoLY3TGCGhsMa2Pob5SK2gUheskGKAscviGPkw=;
 b=iOjyzQd+XWxDR/Uf/0GWKpPS8RHItpXfdtIuJP/OkObg0Bp33CreVheycnH49ApuS0bmNxtODMlzQgwzNT1yPu6Swrx4zb290i1eh8XGWEAyOL2MHTAiYm6z9yDGa4r5zs1JX+x4DDkG5cItVninT112ToDuT2QNskGO3ShU5HY=
Received: from DM6PR12MB2619.namprd12.prod.outlook.com (20.176.117.82) by
 DM5PR1201MB0124.namprd12.prod.outlook.com (10.174.108.13) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.4755.21; Fri, 10 Dec 2021 05:20:00 +0000
Received: from DM6PR12MB2619.namprd12.prod.outlook.com
 ([fe80::15d0:4c36:2886:bbef]) by DM6PR12MB2619.namprd12.prod.outlook.com
 ([fe80::15d0:4c36:2886:bbef%3]) with mapi id 15.20.4778.015; Fri, 10 Dec 2021
 05:20:00 +0000
From: "Quan, Evan" <Evan.Quan@amd.com>
To: "Lazar, Lijo" <Lijo.Lazar@amd.com>, "amd-gfx@lists.freedesktop.org"
 <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH V4 02/17] drm/amd/pm: do not expose power implementation
 details to amdgpu_pm.c
Thread-Topic: [PATCH V4 02/17] drm/amd/pm: do not expose power implementation
 details to amdgpu_pm.c
Thread-Index: AQHX5/K6z5rBsoT3g0Su/YxT7ozq66wqGB4AgAEJOmA=
Date: Fri, 10 Dec 2021 05:20:00 +0000
Message-ID: <DM6PR12MB2619A1E385175ED9D2A83863E4719@DM6PR12MB2619.namprd12.prod.outlook.com>
References: <20211203030540.1710564-1-evan.quan@amd.com>
 <20211203030540.1710564-2-evan.quan@amd.com>
 <62915ae3-64b6-f2a3-d59d-e72dba1e56d1@amd.com>
In-Reply-To: <62915ae3-64b6-f2a3-d59d-e72dba1e56d1@amd.com>
Accept-Language: en-US, zh-CN
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
msip_labels: MSIP_Label_88914ebd-7e6c-4e12-a031-a9906be2db14_Enabled=true;
 MSIP_Label_88914ebd-7e6c-4e12-a031-a9906be2db14_SetDate=2021-12-10T05:19:56Z; 
 MSIP_Label_88914ebd-7e6c-4e12-a031-a9906be2db14_Method=Standard;
 MSIP_Label_88914ebd-7e6c-4e12-a031-a9906be2db14_Name=AMD Official Use
 Only-AIP 2.0;
 MSIP_Label_88914ebd-7e6c-4e12-a031-a9906be2db14_SiteId=3dd8961f-e488-4e60-8e11-a82d994e183d;
 MSIP_Label_88914ebd-7e6c-4e12-a031-a9906be2db14_ActionId=2bdc0515-8086-4335-8f55-47b6182472fa;
 MSIP_Label_88914ebd-7e6c-4e12-a031-a9906be2db14_ContentBits=1
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=amd.com;
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 8a918f41-af9d-499f-e5dc-08d9bb9cb6d2
x-ms-traffictypediagnostic: DM5PR1201MB0124:EE_
x-microsoft-antispam-prvs: <DM5PR1201MB012408160B48387D674C66BFE4719@DM5PR1201MB0124.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:3383;
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: 7KiCOK8HZTvsqDZWpAQUjsMUYulpk6WJIs9vnplHlXAHtqP4H3Z731ZBk7VrZd1vp0W9eNGhVuury1QlGqSN0/MrRhLuS31WB6ZwjzmNLW4FQWBhNQmRyeElxY/z7Nk7xUlLo48JOA1REOJrAbA0kaCBBJS+JFQhBxuJ7KY6yBJA2bFvbnrburtBlM/f5sqbpJ7Hd7xJDlzJyb7o5eE7itXVZjshwgX59mPJqFVV0zkdiG0IZ0eegFSyhGimKeNNlEVRb8/jt/Mjlc1y3iQwk3MB2wByRq2M5Gkl9cmwyyC9+GDTSWSg3BdmHdUk0GGd+oayMH4KASagDOhPFOkFQf5AymiUkrl5CFLduy6GwnykPjtDHQ2rFmJIS7ba7iygR9aCVo3v5uLjMeKw+4c9siVDonHTiOS1prguA4udSUJI+Dqcmw/xEM65HVQ/sOcx9lcb698mP3PeoxZ+uEcE7z7gqKFoy/YPRYPJh7TC0uZBNbPWMthwXFy4hH0/TfbI9ulCXjrf5jlbB61xjt+VIqBiG2NsFZM9jqHTASYsn9CWMbF4wSJfkpNX/Ze/G1YJ4tVEboK6O5W/2HrpIoqIuLEKpYug7/jHq7Fy5jm5i1OMuBTBiVMOHaqhCmH5LLo1G+krzhJ0RNzBX2isbVZ79J0+LD68aGMS5rzaVPHUDQU4P4zXnoby3uR0UkvR8u4iFkiQjb6Q3Zi4azVThPCAHg==
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:DM6PR12MB2619.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(4636009)(366004)(64756008)(186003)(52536014)(122000001)(316002)(66946007)(38070700005)(66476007)(66556008)(26005)(38100700002)(53546011)(66446008)(76116006)(2906002)(6506007)(4326008)(8676002)(54906003)(55016003)(110136005)(8936002)(508600001)(86362001)(5660300002)(33656002)(30864003)(83380400001)(71200400001)(9686003)(7696005)(579004)(559001);
 DIR:OUT; SFP:1101; 
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?NXhWSjVQaDAyeFo2TDhzbk9UNldBMllHMWltaDQ1WVQ0TTY3VGE1aXlIbzM4?=
 =?utf-8?B?ZDNGSW1rN3hkcG9YVkVzM25JU0VxeHZSVmIzcExFaEF0anJRZTkyR2JtZ2Vo?=
 =?utf-8?B?aXhRKzlrdmtVMm9jV1pVL1pyTkJoZVJINVhtdzYxSDhIZWZsc0lEd0FvUzJR?=
 =?utf-8?B?alV2K3B3SWUwMU5JY1FiQ0FhT1FQUE5BY1dGM29mUzNRb1F2REJoVDVlOHpr?=
 =?utf-8?B?SGF1MFFTNkNPR3ZFZjl3ckMvOXRIZWc1NGJHYm82d2RPZVJSRjRMb2FHMmdy?=
 =?utf-8?B?aDFEUTZyalNIQnB3YmZmWjBYVUZqclBqK0JuaVVvbUJYZTFUdnl1aFMwYzhr?=
 =?utf-8?B?S21DNmRCY1hGdThKWVhja0R1OTFrZ2VWcDhnc0ZXdzFQMEJSY2ttem5OL0dh?=
 =?utf-8?B?WnlvSVQzVDQyNjJjOGZMUzVmc0xyelZLdXljZHNTQ3p6cEUrZFhSd205MVQr?=
 =?utf-8?B?RDY2UmxremhsamZEVjZCQTBsYzdGaGJCYkZVdWd3eEZpVGFxNURpMFZKclhq?=
 =?utf-8?B?KzVBZEpxU2dtSDZGalBrR010TmJ2V2tETHQrUW1ZaXV5OGY4ck5WeVN0VzZt?=
 =?utf-8?B?Mm1nTTlLODhaakd0V3U0SDhxWnJla3gramRCalNtK05ERlZvVXNLRFRyMzNo?=
 =?utf-8?B?clFkUDl6WUxTWjF4ZWxsVXBFYU5LblpQTkpMSDlTMjNSdGtQRUJ2dHNzZm8z?=
 =?utf-8?B?RnFzM2hBMmZkTm1FczRCVWlGSzRlOWFwSURnaWhoNGpOc0Jmd3dGa1crU0dT?=
 =?utf-8?B?SDNnUC9MaW1ORXhMOGNualpFYXN0YlVsREtkL29CcHk0YUlnbnJiblBaUmpk?=
 =?utf-8?B?dmJ0UFV4RFhHK3h0Nmdwc0ZYNHdIaC85MUxnT2xzS3N2UDNiblY3YVdCZFE3?=
 =?utf-8?B?cGVtR25TSlpQMUpJTVdmcHg1by8wdTZTMEtBR3liQ25IWTZVVWNnN1lod3dV?=
 =?utf-8?B?dFFDNy9YWHhsK2NFYURkMlplb1dqNWh3djdtZkxwdFhEQW9waHRaTXc5OGpa?=
 =?utf-8?B?V2VyZ2l5dEFZWFdMajg4NHVRVmQ1bUJZL1lYc0w0S0JzUXlIeFEwQ08vOVla?=
 =?utf-8?B?Mk53U3RVM1JLbXl2ckJodkJIRythbTRvdUp4OUMvQVJIQjRsa0h2MzlidjFi?=
 =?utf-8?B?YjA0Y21FSGVWZ2tnTnFnUnAxTStUUnBXSXd1eU1ZMGlTeHc1a1NLY0VJd0FY?=
 =?utf-8?B?d3QyWEVMOWpjbFEwWEkzUUlVdkNKNUFiQi9RWXYzazZEV05uRXBDOUkxMGl3?=
 =?utf-8?B?YUx5dHR0dk0xMCtaUXNoWkUxQVM1cVpWbXR2dEpmdnpML2pVblF3UCtEZjcv?=
 =?utf-8?B?WldiT25oYzVmL29tbHREd0NBSnllTTh3M1o1NVlJVE9ONTB5ZHJkVWpjWWN4?=
 =?utf-8?B?czU3NWhjbEpGQ1Z3YTJQc0RCNFlnV3ZNRmp4T21zZXhRU2cwcVdqQURwTDFM?=
 =?utf-8?B?TGd3NXhMWDRhSmxtRTd4OHFVYW9xaVIwejc2NlB4N1lleEZLb09IR3lrbHds?=
 =?utf-8?B?SFVOUi9TcjRHRjJpWndIaFpyVzBNWDlZbXJsWjdLd2ZRVW95ckVYd25LcUNU?=
 =?utf-8?B?QjE2R2kvMEk2U1EzR1ZSUDdYTTZLdkppUnBlUmtDRjJaTzZhUCt3d2FXSy9h?=
 =?utf-8?B?K2Z3b29OT0RWUGt1d0JZWWtDeDIvWUZGNWZlYndaYmZlMWI1eEpwTE1BUktN?=
 =?utf-8?B?NkJYNDZZMzFobXNYRmZBcmpKQi91bHVYQkpRdmRRMWpndjRCbzE2azJPRk5l?=
 =?utf-8?B?dW1Cc3FwMGNGaFNwZzZVUGZqOXdqVFUxSWgwNEtjY0FXZkJibG9mT1JkZ0VO?=
 =?utf-8?B?TTkwZStkMzM2RldaVFZiREZRa05wL0VxdUgvdDgwM2dkaHplbEFrSm9aeEZK?=
 =?utf-8?B?N0lYZDlaNk80dXhJZ0VSVWJIdGdnYnVRL0ZxTDRMSDR3aFcwMlA4ZGNxSnZT?=
 =?utf-8?B?MGZYbzhUUXduWnM4aVA2U093YnRoK2pDS0d1UmlpODZjczNOU1BMMlJubGVu?=
 =?utf-8?B?a2pKT3NuRE9Fb3lzcjFrdjRLaFc3MTNnbmR1clNGekc3Y2F4eVN1OVZRdWF4?=
 =?utf-8?B?R2ZjUGFSM1JUN1UwcDV0ck15UjdDUXVxT3d5akx4U2F1dTh6RDM1N2lEQzY3?=
 =?utf-8?Q?Xs18=3D?=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: DM6PR12MB2619.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 8a918f41-af9d-499f-e5dc-08d9bb9cb6d2
X-MS-Exchange-CrossTenant-originalarrivaltime: 10 Dec 2021 05:20:00.4953 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: 8NL4IXVVnui5qZySuoWQ6w093RkDkXFSJIJwdg/sdUklNsK2qVbMBE2ZaR5gh2/e
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM5PR1201MB0124
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Deucher, Alexander" <Alexander.Deucher@amd.com>, "Feng,
 Kenneth" <Kenneth.Feng@amd.com>, "Koenig,
 Christian" <Christian.Koenig@amd.com>
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

W0FNRCBPZmZpY2lhbCBVc2UgT25seV0NCg0KDQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0t
LS0NCj4gRnJvbTogTGF6YXIsIExpam8gPExpam8uTGF6YXJAYW1kLmNvbT4NCj4gU2VudDogVGh1
cnNkYXksIERlY2VtYmVyIDksIDIwMjEgNzo1OCBQTQ0KPiBUbzogUXVhbiwgRXZhbiA8RXZhbi5R
dWFuQGFtZC5jb20+OyBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZw0KPiBDYzogRGV1Y2hl
ciwgQWxleGFuZGVyIDxBbGV4YW5kZXIuRGV1Y2hlckBhbWQuY29tPjsgS29lbmlnLCBDaHJpc3Rp
YW4NCj4gPENocmlzdGlhbi5Lb2VuaWdAYW1kLmNvbT47IEZlbmcsIEtlbm5ldGggPEtlbm5ldGgu
RmVuZ0BhbWQuY29tPg0KPiBTdWJqZWN0OiBSZTogW1BBVENIIFY0IDAyLzE3XSBkcm0vYW1kL3Bt
OiBkbyBub3QgZXhwb3NlIHBvd2VyDQo+IGltcGxlbWVudGF0aW9uIGRldGFpbHMgdG8gYW1kZ3B1
X3BtLmMNCj4gDQo+IA0KPiANCj4gT24gMTIvMy8yMDIxIDg6MzUgQU0sIEV2YW4gUXVhbiB3cm90
ZToNCj4gPiBhbWRncHVfcG0uYyBob2xkcyBhbGwgdGhlIHVzZXIgc3lzZnMvaHdtb24gaW50ZXJm
YWNlcy4gSXQncyBhbm90aGVyDQo+ID4gY2xpZW50IG9mIG91ciBwb3dlciBBUElzLiBJdCdzIG5v
dCBwcm9wZXIgdG8gc3Bpa2UgaW50byBwb3dlcg0KPiA+IGltcGxlbWVudGF0aW9uIGRldGFpbHMg
dGhlcmUuDQo+ID4NCj4gPiBTaWduZWQtb2ZmLWJ5OiBFdmFuIFF1YW4gPGV2YW4ucXVhbkBhbWQu
Y29tPg0KPiA+IENoYW5nZS1JZDogSTM5Nzg1M2RkYjEzZWFjZmNlODQxMzY2ZGUyYTYyMzUzNTQy
MmRmOWENCj4gPiAtLQ0KPiA+IHYxLT52MjoNCj4gPiAgICAtIGRyb3AgdW5uZWVkZWQgInJldHVy
bjsiIGluDQo+IGFtZGdwdV9kcG1fZ2V0X2N1cnJlbnRfcG93ZXJfc3RhdGUoR3VjaHVuKQ0KPiA+
IC0tLQ0KPiA+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9wbS9hbWRncHVfZHBtLmMgICAgICAgfCA0
NTYNCj4gKysrKysrKysrKysrKysrKysrLQ0KPiA+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9wbS9h
bWRncHVfcG0uYyAgICAgICAgfCA1MTkgKysrKysrKystLS0tLS0tLS0tLS0tLQ0KPiA+ICAgZHJp
dmVycy9ncHUvZHJtL2FtZC9wbS9pbmMvYW1kZ3B1X2RwbS5oICAgfCAxNjAgKysrLS0tLQ0KPiA+
ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9wbS9zd3NtdS9hbWRncHVfc211LmMgfCAgIDMgLQ0KPiA+
ICAgNCBmaWxlcyBjaGFuZ2VkLCA3MDcgaW5zZXJ0aW9ucygrKSwgNDMxIGRlbGV0aW9ucygtKQ0K
PiA+DQo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG0vYW1kZ3B1X2RwbS5j
DQo+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wbS9hbWRncHVfZHBtLmMNCj4gPiBpbmRleCA1NGFi
ZGY3MDgwZGUuLjJjNzg5ZWI1ZDA2NiAxMDA2NDQNCj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL3BtL2FtZGdwdV9kcG0uYw0KPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG0vYW1k
Z3B1X2RwbS5jDQo+ID4gQEAgLTE0NTMsNyArMTQ1Myw5IEBAIHN0YXRpYyB2b2lkDQo+IGFtZGdw
dV9kcG1fY2hhbmdlX3Bvd2VyX3N0YXRlX2xvY2tlZChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRl
dikNCj4gPiAgIAlpZiAoZXF1YWwpDQo+ID4gICAJCXJldHVybjsNCj4gPg0KPiA+IC0JYW1kZ3B1
X2RwbV9zZXRfcG93ZXJfc3RhdGUoYWRldik7DQo+ID4gKwlpZiAoYWRldi0+cG93ZXJwbGF5LnBw
X2Z1bmNzLT5zZXRfcG93ZXJfc3RhdGUpDQo+ID4gKwkJYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNz
LT5zZXRfcG93ZXJfc3RhdGUoYWRldi0NCj4gPnBvd2VycGxheS5wcF9oYW5kbGUpOw0KPiA+ICsN
Cj4gPiAgIAlhbWRncHVfZHBtX3Bvc3Rfc2V0X3Bvd2VyX3N0YXRlKGFkZXYpOw0KPiA+DQo+ID4g
ICAJYWRldi0+cG0uZHBtLmN1cnJlbnRfYWN0aXZlX2NydGNzID0gYWRldi0NCj4gPnBtLmRwbS5u
ZXdfYWN0aXZlX2NydGNzOw0KPiA+IEBAIC0xNzA0LDMgKzE3MDYsNDU1IEBAIGludCBhbWRncHVf
ZHBtX2dldF9lY2NfaW5mbyhzdHJ1Y3QNCj4gYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gPg0KPiA+
ICAgCXJldHVybiBzbXVfZ2V0X2VjY19pbmZvKCZhZGV2LT5zbXUsIHVtY19lY2MpOw0KPiA+ICAg
fQ0KPiA+ICsNCj4gPiArc3RydWN0IGFtZF92Y2Vfc3RhdGUgKmFtZGdwdV9kcG1fZ2V0X3ZjZV9j
bG9ja19zdGF0ZShzdHJ1Y3QNCj4gYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gPiArCQkJCQkJICAg
ICB1aW50MzJfdCBpZHgpDQo+ID4gK3sNCj4gPiArCWNvbnN0IHN0cnVjdCBhbWRfcG1fZnVuY3Mg
KnBwX2Z1bmNzID0gYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzOw0KPiA+ICsNCj4gPiArCWlmICgh
cHBfZnVuY3MtPmdldF92Y2VfY2xvY2tfc3RhdGUpDQo+ID4gKwkJcmV0dXJuIE5VTEw7DQo+ID4g
Kw0KPiA+ICsJcmV0dXJuIHBwX2Z1bmNzLT5nZXRfdmNlX2Nsb2NrX3N0YXRlKGFkZXYtPnBvd2Vy
cGxheS5wcF9oYW5kbGUsDQo+ID4gKwkJCQkJICAgICBpZHgpOw0KPiA+ICt9DQo+ID4gKw0KPiA+
ICt2b2lkIGFtZGdwdV9kcG1fZ2V0X2N1cnJlbnRfcG93ZXJfc3RhdGUoc3RydWN0IGFtZGdwdV9k
ZXZpY2UNCj4gKmFkZXYsDQo+ID4gKwkJCQkJZW51bSBhbWRfcG1fc3RhdGVfdHlwZSAqc3RhdGUp
DQo+ID4gK3sNCj4gPiArCWNvbnN0IHN0cnVjdCBhbWRfcG1fZnVuY3MgKnBwX2Z1bmNzID0gYWRl
di0+cG93ZXJwbGF5LnBwX2Z1bmNzOw0KPiA+ICsNCj4gPiArCWlmICghcHBfZnVuY3MtPmdldF9j
dXJyZW50X3Bvd2VyX3N0YXRlKSB7DQo+ID4gKwkJKnN0YXRlID0gYWRldi0+cG0uZHBtLnVzZXJf
c3RhdGU7DQo+ID4gKwkJcmV0dXJuOw0KPiA+ICsJfQ0KPiA+ICsNCj4gPiArCSpzdGF0ZSA9IHBw
X2Z1bmNzLT5nZXRfY3VycmVudF9wb3dlcl9zdGF0ZShhZGV2LQ0KPiA+cG93ZXJwbGF5LnBwX2hh
bmRsZSk7DQo+ID4gKwlpZiAoKnN0YXRlIDwgUE9XRVJfU1RBVEVfVFlQRV9ERUZBVUxUIHx8DQo+
ID4gKwkgICAgKnN0YXRlID4gUE9XRVJfU1RBVEVfVFlQRV9JTlRFUk5BTF8zRFBFUkYpDQo+ID4g
KwkJKnN0YXRlID0gYWRldi0+cG0uZHBtLnVzZXJfc3RhdGU7DQo+ID4gK30NCj4gPiArDQo+ID4g
K3ZvaWQgYW1kZ3B1X2RwbV9zZXRfcG93ZXJfc3RhdGUoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFk
ZXYsDQo+ID4gKwkJCQllbnVtIGFtZF9wbV9zdGF0ZV90eXBlIHN0YXRlKQ0KPiA+ICt7DQo+ID4g
KwlhZGV2LT5wbS5kcG0udXNlcl9zdGF0ZSA9IHN0YXRlOw0KPiA+ICsNCj4gPiArCWlmIChhZGV2
LT5wb3dlcnBsYXkucHBfZnVuY3MtPmRpc3BhdGNoX3Rhc2tzKQ0KPiA+ICsJCWFtZGdwdV9kcG1f
ZGlzcGF0Y2hfdGFzayhhZGV2LA0KPiBBTURfUFBfVEFTS19FTkFCTEVfVVNFUl9TVEFURSwgJnN0
YXRlKTsNCj4gPiArCWVsc2UNCj4gPiArCQlhbWRncHVfcG1fY29tcHV0ZV9jbG9ja3MoYWRldik7
DQo+ID4gK30NCj4gPiArDQo+ID4gK2VudW0gYW1kX2RwbV9mb3JjZWRfbGV2ZWwNCj4gYW1kZ3B1
X2RwbV9nZXRfcGVyZm9ybWFuY2VfbGV2ZWwoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpDQo+
ID4gK3sNCj4gPiArCWNvbnN0IHN0cnVjdCBhbWRfcG1fZnVuY3MgKnBwX2Z1bmNzID0gYWRldi0+
cG93ZXJwbGF5LnBwX2Z1bmNzOw0KPiA+ICsJZW51bSBhbWRfZHBtX2ZvcmNlZF9sZXZlbCBsZXZl
bDsNCj4gPiArDQo+ID4gKwlpZiAocHBfZnVuY3MtPmdldF9wZXJmb3JtYW5jZV9sZXZlbCkNCj4g
PiArCQlsZXZlbCA9IHBwX2Z1bmNzLT5nZXRfcGVyZm9ybWFuY2VfbGV2ZWwoYWRldi0NCj4gPnBv
d2VycGxheS5wcF9oYW5kbGUpOw0KPiA+ICsJZWxzZQ0KPiA+ICsJCWxldmVsID0gYWRldi0+cG0u
ZHBtLmZvcmNlZF9sZXZlbDsNCj4gPiArDQo+ID4gKwlyZXR1cm4gbGV2ZWw7DQo+ID4gK30NCj4g
PiArDQo+ID4gK2ludCBhbWRncHVfZHBtX2ZvcmNlX3BlcmZvcm1hbmNlX2xldmVsKHN0cnVjdCBh
bWRncHVfZGV2aWNlDQo+ICphZGV2LA0KPiA+ICsJCQkJICAgICAgIGVudW0gYW1kX2RwbV9mb3Jj
ZWRfbGV2ZWwgbGV2ZWwpDQo+ID4gK3sNCj4gPiArCWNvbnN0IHN0cnVjdCBhbWRfcG1fZnVuY3Mg
KnBwX2Z1bmNzID0gYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzOw0KPiA+ICsNCj4gPiArCWlmIChw
cF9mdW5jcy0+Zm9yY2VfcGVyZm9ybWFuY2VfbGV2ZWwpIHsNCj4gPiArCQlpZiAoYWRldi0+cG0u
ZHBtLnRoZXJtYWxfYWN0aXZlKQ0KPiA+ICsJCQlyZXR1cm4gLUVJTlZBTDsNCj4gPiArDQo+ID4g
KwkJaWYgKHBwX2Z1bmNzLT5mb3JjZV9wZXJmb3JtYW5jZV9sZXZlbChhZGV2LQ0KPiA+cG93ZXJw
bGF5LnBwX2hhbmRsZSwNCj4gPiArCQkJCQkJICAgICAgbGV2ZWwpKQ0KPiA+ICsJCQlyZXR1cm4g
LUVJTlZBTDsNCj4gPiArCX0NCj4gPiArDQo+ID4gKwlhZGV2LT5wbS5kcG0uZm9yY2VkX2xldmVs
ID0gbGV2ZWw7DQo+ID4gKw0KPiANCj4gSWYgdGhlIGZ1bmN0aW9uIGlzIG5vdCBpbXBsZW1lbnRl
ZCwgd2h5IGNoYW5nZSB0aGUgZm9yY2UgbGV2ZWwgYW5kDQo+IHJldHVybiBzdWNjZXNzPw0KW1F1
YW4sIEV2YW5dIFRoYW5rcyEgV2lsbCB1cGRhdGUgdGhhdC4NCj4gDQo+ID4gKwlyZXR1cm4gMDsN
Cj4gPiArfQ0KPiA+ICsNCj4gPiAraW50IGFtZGdwdV9kcG1fZ2V0X3BwX251bV9zdGF0ZXMoc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ID4gKwkJCQkgc3RydWN0IHBwX3N0YXRlc19pbmZv
ICpzdGF0ZXMpDQo+ID4gK3sNCj4gPiArCWNvbnN0IHN0cnVjdCBhbWRfcG1fZnVuY3MgKnBwX2Z1
bmNzID0gYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzOw0KPiA+ICsNCj4gPiArCWlmICghcHBfZnVu
Y3MtPmdldF9wcF9udW1fc3RhdGVzKQ0KPiA+ICsJCXJldHVybiAtRU9QTk9UU1VQUDsNCj4gPiAr
DQo+ID4gKwlyZXR1cm4gcHBfZnVuY3MtPmdldF9wcF9udW1fc3RhdGVzKGFkZXYtPnBvd2VycGxh
eS5wcF9oYW5kbGUsDQo+IHN0YXRlcyk7DQo+ID4gK30NCj4gPiArDQo+ID4gK2ludCBhbWRncHVf
ZHBtX2Rpc3BhdGNoX3Rhc2soc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ID4gKwkJCSAg
ICAgIGVudW0gYW1kX3BwX3Rhc2sgdGFza19pZCwNCj4gPiArCQkJICAgICAgZW51bSBhbWRfcG1f
c3RhdGVfdHlwZSAqdXNlcl9zdGF0ZSkNCj4gPiArew0KPiA+ICsJY29uc3Qgc3RydWN0IGFtZF9w
bV9mdW5jcyAqcHBfZnVuY3MgPSBhZGV2LT5wb3dlcnBsYXkucHBfZnVuY3M7DQo+ID4gKw0KPiA+
ICsJaWYgKCFwcF9mdW5jcy0+ZGlzcGF0Y2hfdGFza3MpDQo+ID4gKwkJcmV0dXJuIC1FT1BOT1RT
VVBQOw0KPiA+ICsNCj4gPiArCXJldHVybiBwcF9mdW5jcy0+ZGlzcGF0Y2hfdGFza3MoYWRldi0+
cG93ZXJwbGF5LnBwX2hhbmRsZSwNCj4gdGFza19pZCwgdXNlcl9zdGF0ZSk7DQo+ID4gK30NCj4g
PiArDQo+ID4gK2ludCBhbWRncHVfZHBtX2dldF9wcF90YWJsZShzdHJ1Y3QgYW1kZ3B1X2Rldmlj
ZSAqYWRldiwgY2hhcg0KPiAqKnRhYmxlKQ0KPiA+ICt7DQo+ID4gKwljb25zdCBzdHJ1Y3QgYW1k
X3BtX2Z1bmNzICpwcF9mdW5jcyA9IGFkZXYtPnBvd2VycGxheS5wcF9mdW5jczsNCj4gPiArDQo+
ID4gKwlpZiAoIXBwX2Z1bmNzLT5nZXRfcHBfdGFibGUpDQo+ID4gKwkJcmV0dXJuIDA7DQo+ID4g
Kw0KPiA+ICsJcmV0dXJuIHBwX2Z1bmNzLT5nZXRfcHBfdGFibGUoYWRldi0+cG93ZXJwbGF5LnBw
X2hhbmRsZSwgdGFibGUpOw0KPiA+ICt9DQo+ID4gKw0KPiA+ICtpbnQgYW1kZ3B1X2RwbV9zZXRf
ZmluZV9ncmFpbl9jbGtfdm9sKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KPiA+ICsJCQkJ
ICAgICAgdWludDMyX3QgdHlwZSwNCj4gPiArCQkJCSAgICAgIGxvbmcgKmlucHV0LA0KPiA+ICsJ
CQkJICAgICAgdWludDMyX3Qgc2l6ZSkNCj4gPiArew0KPiA+ICsJY29uc3Qgc3RydWN0IGFtZF9w
bV9mdW5jcyAqcHBfZnVuY3MgPSBhZGV2LT5wb3dlcnBsYXkucHBfZnVuY3M7DQo+ID4gKw0KPiA+
ICsJaWYgKCFwcF9mdW5jcy0+c2V0X2ZpbmVfZ3JhaW5fY2xrX3ZvbCkNCj4gPiArCQlyZXR1cm4g
MDsNCj4gPiArDQo+IA0KPiBCZXR0ZXIgZm9yIHRoaXMgYWxzbyB0byByZXR1cm4gLUVPUE5PVFNV
UFAuIFRoZXJlIGFyZSBhIGZldyBvdGhlciBmdW5jcw0KPiBiZWxvdyBhbHNvIHdoaWNoIHJldHVy
bnMgMCwgaW5zdGVhZCB0aGV5IHNob3VsZCByZXR1cm4gRU9QTk9UU1VQUC4gTGV0DQo+IHRoZSBj
YWxsZXIgZGVjaWRlIHdoYXQgdG8gZG8gd2hlbiBub3Qgc3VwcG9ydGVkIGluc3RlYWQgb2YgcmV0
dXJuaW5nDQo+ICdmYWtlIHN1Y2Nlc3MnLg0KW1F1YW4sIEV2YW5dIFllYWgsIEkga25vdyBzb21l
KHRoaXMgYW5kIG90aGVycyBtZW50aW9uZWQgYmVsb3cpIG9mIHRoZW0gc2VlbSB3aXRoIGRpZmZl
cmVudC93ZWlyZCBlcnJvciByZXR1cm4gY29kZS4gQnV0IHVuZm9ydHVuYXRlbHksIHRoYXQncyBo
b3cgdGhlIG9yaWdpbmFsIGxvZ2ljLg0KV2UgbmVlZCB0byBmaXggdGhlbSBpbiBmdXR1cmUuIEJ1
dCBmb3IgdGhpcyBwYXRjaCBzZXJpZXMsIGl0IGlzIG5vdCBpbnRlbmRlZCB0byBicmluZyBhbnkg
cmVhbCBsb2dpYyBjaGFuZ2UuDQo+IA0KPiA+ICsJcmV0dXJuIHBwX2Z1bmNzLT5zZXRfZmluZV9n
cmFpbl9jbGtfdm9sKGFkZXYtDQo+ID5wb3dlcnBsYXkucHBfaGFuZGxlLA0KPiA+ICsJCQkJCQl0
eXBlLA0KPiA+ICsJCQkJCQlpbnB1dCwNCj4gPiArCQkJCQkJc2l6ZSk7DQo+ID4gK30NCj4gPiAr
DQo+ID4gK2ludCBhbWRncHVfZHBtX29kbl9lZGl0X2RwbV90YWJsZShzdHJ1Y3QgYW1kZ3B1X2Rl
dmljZSAqYWRldiwNCj4gPiArCQkJCSAgdWludDMyX3QgdHlwZSwNCj4gPiArCQkJCSAgbG9uZyAq
aW5wdXQsDQo+ID4gKwkJCQkgIHVpbnQzMl90IHNpemUpDQo+ID4gK3sNCj4gPiArCWNvbnN0IHN0
cnVjdCBhbWRfcG1fZnVuY3MgKnBwX2Z1bmNzID0gYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzOw0K
PiA+ICsNCj4gPiArCWlmICghcHBfZnVuY3MtPm9kbl9lZGl0X2RwbV90YWJsZSkNCj4gPiArCQly
ZXR1cm4gMDsNCj4gPiArDQo+ID4gKwlyZXR1cm4gcHBfZnVuY3MtPm9kbl9lZGl0X2RwbV90YWJs
ZShhZGV2LQ0KPiA+cG93ZXJwbGF5LnBwX2hhbmRsZSwNCj4gPiArCQkJCQkgICAgdHlwZSwNCj4g
PiArCQkJCQkgICAgaW5wdXQsDQo+ID4gKwkJCQkJICAgIHNpemUpOw0KPiA+ICt9DQo+ID4gKw0K
PiA+ICtpbnQgYW1kZ3B1X2RwbV9wcmludF9jbG9ja19sZXZlbHMoc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYsDQo+ID4gKwkJCQkgIGVudW0gcHBfY2xvY2tfdHlwZSB0eXBlLA0KPiA+ICsJCQkJ
ICBjaGFyICpidWYpDQo+ID4gK3sNCj4gPiArCWNvbnN0IHN0cnVjdCBhbWRfcG1fZnVuY3MgKnBw
X2Z1bmNzID0gYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzOw0KPiA+ICsNCj4gPiArCWlmICghcHBf
ZnVuY3MtPnByaW50X2Nsb2NrX2xldmVscykNCj4gPiArCQlyZXR1cm4gMDsNCj4gPiArDQo+ID4g
KwlyZXR1cm4gcHBfZnVuY3MtPnByaW50X2Nsb2NrX2xldmVscyhhZGV2LT5wb3dlcnBsYXkucHBf
aGFuZGxlLA0KPiA+ICsJCQkJCSAgICB0eXBlLA0KPiA+ICsJCQkJCSAgICBidWYpOw0KPiA+ICt9
DQo+ID4gKw0KPiA+ICtpbnQgYW1kZ3B1X2RwbV9zZXRfcHBmZWF0dXJlX3N0YXR1cyhzdHJ1Y3Qg
YW1kZ3B1X2RldmljZSAqYWRldiwNCj4gPiArCQkJCSAgICB1aW50NjRfdCBwcGZlYXR1cmVfbWFz
a3MpDQo+ID4gK3sNCj4gPiArCWNvbnN0IHN0cnVjdCBhbWRfcG1fZnVuY3MgKnBwX2Z1bmNzID0g
YWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzOw0KPiA+ICsNCj4gPiArCWlmICghcHBfZnVuY3MtPnNl
dF9wcGZlYXR1cmVfc3RhdHVzKQ0KPiA+ICsJCXJldHVybiAwOw0KPiA+ICsNCj4gPiArCXJldHVy
biBwcF9mdW5jcy0+c2V0X3BwZmVhdHVyZV9zdGF0dXMoYWRldi0NCj4gPnBvd2VycGxheS5wcF9o
YW5kbGUsDQo+ID4gKwkJCQkJICAgICAgcHBmZWF0dXJlX21hc2tzKTsNCj4gPiArfQ0KPiA+ICsN
Cj4gPiAraW50IGFtZGdwdV9kcG1fZ2V0X3BwZmVhdHVyZV9zdGF0dXMoc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYsDQo+IGNoYXIgKmJ1ZikNCj4gPiArew0KPiA+ICsJY29uc3Qgc3RydWN0IGFt
ZF9wbV9mdW5jcyAqcHBfZnVuY3MgPSBhZGV2LT5wb3dlcnBsYXkucHBfZnVuY3M7DQo+ID4gKw0K
PiA+ICsJaWYgKCFwcF9mdW5jcy0+Z2V0X3BwZmVhdHVyZV9zdGF0dXMpDQo+ID4gKwkJcmV0dXJu
IDA7DQo+ID4gKw0KPiA+ICsJcmV0dXJuIHBwX2Z1bmNzLT5nZXRfcHBmZWF0dXJlX3N0YXR1cyhh
ZGV2LQ0KPiA+cG93ZXJwbGF5LnBwX2hhbmRsZSwNCj4gPiArCQkJCQkgICAgICBidWYpOw0KPiA+
ICt9DQo+ID4gKw0KPiA+ICtpbnQgYW1kZ3B1X2RwbV9mb3JjZV9jbG9ja19sZXZlbChzdHJ1Y3Qg
YW1kZ3B1X2RldmljZSAqYWRldiwNCj4gPiArCQkJCSBlbnVtIHBwX2Nsb2NrX3R5cGUgdHlwZSwN
Cj4gPiArCQkJCSB1aW50MzJfdCBtYXNrKQ0KPiA+ICt7DQo+ID4gKwljb25zdCBzdHJ1Y3QgYW1k
X3BtX2Z1bmNzICpwcF9mdW5jcyA9IGFkZXYtPnBvd2VycGxheS5wcF9mdW5jczsNCj4gPiArDQo+
ID4gKwlpZiAoIXBwX2Z1bmNzLT5mb3JjZV9jbG9ja19sZXZlbCkNCj4gPiArCQlyZXR1cm4gMDsN
Cj4gPiArDQo+ID4gKwlyZXR1cm4gcHBfZnVuY3MtPmZvcmNlX2Nsb2NrX2xldmVsKGFkZXYtPnBv
d2VycGxheS5wcF9oYW5kbGUsDQo+ID4gKwkJCQkJICAgdHlwZSwNCj4gPiArCQkJCQkgICBtYXNr
KTsNCj4gPiArfQ0KPiA+ICsNCj4gPiAraW50IGFtZGdwdV9kcG1fZ2V0X3NjbGtfb2Qoc3RydWN0
IGFtZGdwdV9kZXZpY2UgKmFkZXYpDQo+ID4gK3sNCj4gPiArCWNvbnN0IHN0cnVjdCBhbWRfcG1f
ZnVuY3MgKnBwX2Z1bmNzID0gYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzOw0KPiA+ICsNCj4gPiAr
CWlmICghcHBfZnVuY3MtPmdldF9zY2xrX29kKQ0KPiA+ICsJCXJldHVybiAwOw0KPiA+ICsNCj4g
PiArCXJldHVybiBwcF9mdW5jcy0+Z2V0X3NjbGtfb2QoYWRldi0+cG93ZXJwbGF5LnBwX2hhbmRs
ZSk7DQo+ID4gK30NCj4gPiArDQo+ID4gK2ludCBhbWRncHVfZHBtX3NldF9zY2xrX29kKHN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2LCB1aW50MzJfdA0KPiB2YWx1ZSkNCj4gPiArew0KPiA+ICsJ
Y29uc3Qgc3RydWN0IGFtZF9wbV9mdW5jcyAqcHBfZnVuY3MgPSBhZGV2LT5wb3dlcnBsYXkucHBf
ZnVuY3M7DQo+ID4gKw0KPiA+ICsJaWYgKCFwcF9mdW5jcy0+c2V0X3NjbGtfb2QpDQo+ID4gKwkJ
cmV0dXJuIC1FT1BOT1RTVVBQOw0KPiA+ICsNCj4gPiArCXBwX2Z1bmNzLT5zZXRfc2Nsa19vZChh
ZGV2LT5wb3dlcnBsYXkucHBfaGFuZGxlLCB2YWx1ZSk7DQo+ID4gKw0KPiA+ICsJaWYgKGFtZGdw
dV9kcG1fZGlzcGF0Y2hfdGFzayhhZGV2LA0KPiA+ICsJCQkJICAgICBBTURfUFBfVEFTS19SRUFE
SlVTVF9QT1dFUl9TVEFURSwNCj4gPiArCQkJCSAgICAgTlVMTCkgPT0gLUVPUE5PVFNVUFApIHsN
Cj4gPiArCQlhZGV2LT5wbS5kcG0uY3VycmVudF9wcyA9IGFkZXYtPnBtLmRwbS5ib290X3BzOw0K
PiA+ICsJCWFtZGdwdV9wbV9jb21wdXRlX2Nsb2NrcyhhZGV2KTsNCj4gPiArCX0NCj4gPiArDQo+
ID4gKwlyZXR1cm4gMDsNCj4gPiArfQ0KPiA+ICsNCj4gPiAraW50IGFtZGdwdV9kcG1fZ2V0X21j
bGtfb2Qoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpDQo+ID4gK3sNCj4gPiArCWNvbnN0IHN0
cnVjdCBhbWRfcG1fZnVuY3MgKnBwX2Z1bmNzID0gYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzOw0K
PiA+ICsNCj4gPiArCWlmICghcHBfZnVuY3MtPmdldF9tY2xrX29kKQ0KPiA+ICsJCXJldHVybiAw
Ow0KPiA+ICsNCj4gPiArCXJldHVybiBwcF9mdW5jcy0+Z2V0X21jbGtfb2QoYWRldi0+cG93ZXJw
bGF5LnBwX2hhbmRsZSk7DQo+ID4gK30NCj4gPiArDQo+ID4gK2ludCBhbWRncHVfZHBtX3NldF9t
Y2xrX29kKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCB1aW50MzJfdA0KPiB2YWx1ZSkNCj4g
PiArew0KPiA+ICsJY29uc3Qgc3RydWN0IGFtZF9wbV9mdW5jcyAqcHBfZnVuY3MgPSBhZGV2LT5w
b3dlcnBsYXkucHBfZnVuY3M7DQo+ID4gKw0KPiA+ICsJaWYgKCFwcF9mdW5jcy0+c2V0X21jbGtf
b2QpDQo+ID4gKwkJcmV0dXJuIC1FT1BOT1RTVVBQOw0KPiA+ICsNCj4gPiArCXBwX2Z1bmNzLT5z
ZXRfbWNsa19vZChhZGV2LT5wb3dlcnBsYXkucHBfaGFuZGxlLCB2YWx1ZSk7DQo+ID4gKw0KPiA+
ICsJaWYgKGFtZGdwdV9kcG1fZGlzcGF0Y2hfdGFzayhhZGV2LA0KPiA+ICsJCQkJICAgICBBTURf
UFBfVEFTS19SRUFESlVTVF9QT1dFUl9TVEFURSwNCj4gPiArCQkJCSAgICAgTlVMTCkgPT0gLUVP
UE5PVFNVUFApIHsNCj4gPiArCQlhZGV2LT5wbS5kcG0uY3VycmVudF9wcyA9IGFkZXYtPnBtLmRw
bS5ib290X3BzOw0KPiA+ICsJCWFtZGdwdV9wbV9jb21wdXRlX2Nsb2NrcyhhZGV2KTsNCj4gPiAr
CX0NCj4gPiArDQo+ID4gKwlyZXR1cm4gMDsNCj4gPiArfQ0KPiA+ICsNCj4gPiAraW50IGFtZGdw
dV9kcG1fZ2V0X3Bvd2VyX3Byb2ZpbGVfbW9kZShzdHJ1Y3QgYW1kZ3B1X2RldmljZQ0KPiAqYWRl
diwNCj4gPiArCQkJCSAgICAgIGNoYXIgKmJ1ZikNCj4gPiArew0KPiA+ICsJY29uc3Qgc3RydWN0
IGFtZF9wbV9mdW5jcyAqcHBfZnVuY3MgPSBhZGV2LT5wb3dlcnBsYXkucHBfZnVuY3M7DQo+ID4g
Kw0KPiA+ICsJaWYgKCFwcF9mdW5jcy0+Z2V0X3Bvd2VyX3Byb2ZpbGVfbW9kZSkNCj4gPiArCQly
ZXR1cm4gLUVPUE5PVFNVUFA7DQo+ID4gKw0KPiA+ICsJcmV0dXJuIHBwX2Z1bmNzLT5nZXRfcG93
ZXJfcHJvZmlsZV9tb2RlKGFkZXYtDQo+ID5wb3dlcnBsYXkucHBfaGFuZGxlLA0KPiA+ICsJCQkJ
CQlidWYpOw0KPiA+ICt9DQo+ID4gKw0KPiA+ICtpbnQgYW1kZ3B1X2RwbV9zZXRfcG93ZXJfcHJv
ZmlsZV9tb2RlKHN0cnVjdCBhbWRncHVfZGV2aWNlDQo+ICphZGV2LA0KPiA+ICsJCQkJICAgICAg
bG9uZyAqaW5wdXQsIHVpbnQzMl90IHNpemUpDQo+ID4gK3sNCj4gPiArCWNvbnN0IHN0cnVjdCBh
bWRfcG1fZnVuY3MgKnBwX2Z1bmNzID0gYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzOw0KPiA+ICsN
Cj4gPiArCWlmICghcHBfZnVuY3MtPnNldF9wb3dlcl9wcm9maWxlX21vZGUpDQo+ID4gKwkJcmV0
dXJuIDA7DQo+ID4gKw0KPiA+ICsJcmV0dXJuIHBwX2Z1bmNzLT5zZXRfcG93ZXJfcHJvZmlsZV9t
b2RlKGFkZXYtDQo+ID5wb3dlcnBsYXkucHBfaGFuZGxlLA0KPiA+ICsJCQkJCQlpbnB1dCwNCj4g
PiArCQkJCQkJc2l6ZSk7DQo+ID4gK30NCj4gPiArDQo+ID4gK2ludCBhbWRncHVfZHBtX2dldF9n
cHVfbWV0cmljcyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgdm9pZA0KPiAqKnRhYmxlKQ0K
PiA+ICt7DQo+ID4gKwljb25zdCBzdHJ1Y3QgYW1kX3BtX2Z1bmNzICpwcF9mdW5jcyA9IGFkZXYt
PnBvd2VycGxheS5wcF9mdW5jczsNCj4gPiArDQo+ID4gKwlpZiAoIXBwX2Z1bmNzLT5nZXRfZ3B1
X21ldHJpY3MpDQo+ID4gKwkJcmV0dXJuIDA7DQo+ID4gKw0KPiA+ICsJcmV0dXJuIHBwX2Z1bmNz
LT5nZXRfZ3B1X21ldHJpY3MoYWRldi0+cG93ZXJwbGF5LnBwX2hhbmRsZSwNCj4gdGFibGUpOw0K
PiA+ICt9DQo+ID4gKw0KPiA+ICtpbnQgYW1kZ3B1X2RwbV9nZXRfZmFuX2NvbnRyb2xfbW9kZShz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gPiArCQkJCSAgICB1aW50MzJfdCAqZmFuX21v
ZGUpDQo+ID4gK3sNCj4gPiArCWNvbnN0IHN0cnVjdCBhbWRfcG1fZnVuY3MgKnBwX2Z1bmNzID0g
YWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzOw0KPiA+ICsNCj4gPiArCWlmICghcHBfZnVuY3MtPmdl
dF9mYW5fY29udHJvbF9tb2RlKQ0KPiA+ICsJCXJldHVybiAtRU9QTk9UU1VQUDsNCj4gPiArDQo+
ID4gKwkqZmFuX21vZGUgPSBwcF9mdW5jcy0+Z2V0X2Zhbl9jb250cm9sX21vZGUoYWRldi0NCj4g
PnBvd2VycGxheS5wcF9oYW5kbGUpOw0KPiA+ICsNCj4gPiArCXJldHVybiAwOw0KPiA+ICt9DQo+
ID4gKw0KPiA+ICtpbnQgYW1kZ3B1X2RwbV9zZXRfZmFuX3NwZWVkX3B3bShzdHJ1Y3QgYW1kZ3B1
X2RldmljZSAqYWRldiwNCj4gPiArCQkJCSB1aW50MzJfdCBzcGVlZCkNCj4gPiArew0KPiA+ICsJ
Y29uc3Qgc3RydWN0IGFtZF9wbV9mdW5jcyAqcHBfZnVuY3MgPSBhZGV2LT5wb3dlcnBsYXkucHBf
ZnVuY3M7DQo+ID4gKw0KPiA+ICsJaWYgKCFwcF9mdW5jcy0+c2V0X2Zhbl9zcGVlZF9wd20pDQo+
ID4gKwkJcmV0dXJuIC1FSU5WQUw7DQo+IA0KPiBUbyBiZSBjb25zaXN0ZW50LCB1c2UgRU9QTk9U
U1VQUCB3aGVuIHRoZSBmdW5jdGlvbiBpcyBub3QgaW1wbGVtZW50ZWQuDQo+IFRoZSByZXR1cm4g
b2YgRUlOVkFMIGZyb20gYWN0dWFsIGZ1bmN0aW9uIGNhbGwgc2hvdWxkbid0IGJlIG1peGVkIHdp
dGggdGhpcy4NCj4gDQo+ID4gKw0KPiA+ICsJcmV0dXJuIHBwX2Z1bmNzLT5zZXRfZmFuX3NwZWVk
X3B3bShhZGV2LQ0KPiA+cG93ZXJwbGF5LnBwX2hhbmRsZSwgc3BlZWQpOw0KPiA+ICt9DQo+ID4g
Kw0KPiA+ICtpbnQgYW1kZ3B1X2RwbV9nZXRfZmFuX3NwZWVkX3B3bShzdHJ1Y3QgYW1kZ3B1X2Rl
dmljZSAqYWRldiwNCj4gPiArCQkJCSB1aW50MzJfdCAqc3BlZWQpDQo+ID4gK3sNCj4gPiArCWNv
bnN0IHN0cnVjdCBhbWRfcG1fZnVuY3MgKnBwX2Z1bmNzID0gYWRldi0+cG93ZXJwbGF5LnBwX2Z1
bmNzOw0KPiA+ICsNCj4gPiArCWlmICghcHBfZnVuY3MtPmdldF9mYW5fc3BlZWRfcHdtKQ0KPiA+
ICsJCXJldHVybiAtRUlOVkFMOw0KPiA+ICsNCj4gPiArCXJldHVybiBwcF9mdW5jcy0+Z2V0X2Zh
bl9zcGVlZF9wd20oYWRldi0NCj4gPnBvd2VycGxheS5wcF9oYW5kbGUsIHNwZWVkKTsNCj4gPiAr
fQ0KPiA+ICsNCj4gPiAraW50IGFtZGdwdV9kcG1fZ2V0X2Zhbl9zcGVlZF9ycG0oc3RydWN0IGFt
ZGdwdV9kZXZpY2UgKmFkZXYsDQo+ID4gKwkJCQkgdWludDMyX3QgKnNwZWVkKQ0KPiA+ICt7DQo+
ID4gKwljb25zdCBzdHJ1Y3QgYW1kX3BtX2Z1bmNzICpwcF9mdW5jcyA9IGFkZXYtPnBvd2VycGxh
eS5wcF9mdW5jczsNCj4gPiArDQo+ID4gKwlpZiAoIXBwX2Z1bmNzLT5nZXRfZmFuX3NwZWVkX3Jw
bSkNCj4gPiArCQlyZXR1cm4gLUVJTlZBTDsNCj4gPiArDQo+ID4gKwlyZXR1cm4gcHBfZnVuY3Mt
PmdldF9mYW5fc3BlZWRfcnBtKGFkZXYtPnBvd2VycGxheS5wcF9oYW5kbGUsDQo+IHNwZWVkKTsN
Cj4gPiArfQ0KPiA+ICsNCj4gPiAraW50IGFtZGdwdV9kcG1fc2V0X2Zhbl9zcGVlZF9ycG0oc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ID4gKwkJCQkgdWludDMyX3Qgc3BlZWQpDQo+ID4g
K3sNCj4gPiArCWNvbnN0IHN0cnVjdCBhbWRfcG1fZnVuY3MgKnBwX2Z1bmNzID0gYWRldi0+cG93
ZXJwbGF5LnBwX2Z1bmNzOw0KPiA+ICsNCj4gPiArCWlmICghcHBfZnVuY3MtPnNldF9mYW5fc3Bl
ZWRfcnBtKQ0KPiA+ICsJCXJldHVybiAtRUlOVkFMOw0KPiA+ICsNCj4gPiArCXJldHVybiBwcF9m
dW5jcy0+c2V0X2Zhbl9zcGVlZF9ycG0oYWRldi0+cG93ZXJwbGF5LnBwX2hhbmRsZSwNCj4gc3Bl
ZWQpOw0KPiA+ICt9DQo+ID4gKw0KPiA+ICtpbnQgYW1kZ3B1X2RwbV9zZXRfZmFuX2NvbnRyb2xf
bW9kZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gPiArCQkJCSAgICB1aW50MzJfdCBt
b2RlKQ0KPiA+ICt7DQo+ID4gKwljb25zdCBzdHJ1Y3QgYW1kX3BtX2Z1bmNzICpwcF9mdW5jcyA9
IGFkZXYtPnBvd2VycGxheS5wcF9mdW5jczsNCj4gPiArDQo+ID4gKwlpZiAoIXBwX2Z1bmNzLT5z
ZXRfZmFuX2NvbnRyb2xfbW9kZSkNCj4gPiArCQlyZXR1cm4gLUVPUE5PVFNVUFA7DQo+ID4gKw0K
PiA+ICsJcHBfZnVuY3MtPnNldF9mYW5fY29udHJvbF9tb2RlKGFkZXYtPnBvd2VycGxheS5wcF9o
YW5kbGUsDQo+IG1vZGUpOw0KPiA+ICsNCj4gPiArCXJldHVybiAwOw0KPiA+ICt9DQo+ID4gKw0K
PiA+ICtpbnQgYW1kZ3B1X2RwbV9nZXRfcG93ZXJfbGltaXQoc3RydWN0IGFtZGdwdV9kZXZpY2Ug
KmFkZXYsDQo+ID4gKwkJCSAgICAgICB1aW50MzJfdCAqbGltaXQsDQo+ID4gKwkJCSAgICAgICBl
bnVtIHBwX3Bvd2VyX2xpbWl0X2xldmVsIHBwX2xpbWl0X2xldmVsLA0KPiA+ICsJCQkgICAgICAg
ZW51bSBwcF9wb3dlcl90eXBlIHBvd2VyX3R5cGUpDQo+ID4gK3sNCj4gPiArCWNvbnN0IHN0cnVj
dCBhbWRfcG1fZnVuY3MgKnBwX2Z1bmNzID0gYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzOw0KPiA+
ICsNCj4gPiArCWlmICghcHBfZnVuY3MtPmdldF9wb3dlcl9saW1pdCkNCj4gPiArCQlyZXR1cm4g
LUVOT0RBVEE7DQo+ID4gKw0KPiANCj4gQWdhaW4sIHRoaXMgaXMgbWl4aW5nIEFQSSBlcnJvciBj
b2RlIGJhc2VkIG9uIGNhbGxlcidzIHVzYWdlLiBJbg0KPiBzdGFuZGFsb25lIGltcGxlbWVudGF0
b2luLCB0aGlzIHNob3VsZCBhbHNvIGp1c3QgcmV0dXJuIEVPUE5PVFNVUFAuDQo+IGh3bW9uIEFQ
SSBpbXBsZW1lbnRhdGlvbiBjYW4gZGVjaWRlIHdoYXQgdG8gcmV0dXJuIHdoZW4gdGhlcmUgaXMg
bm8gQVBJDQo+IHN1cHBvcnQuDQo+IA0KPiA+ICsJcmV0dXJuIHBwX2Z1bmNzLT5nZXRfcG93ZXJf
bGltaXQoYWRldi0+cG93ZXJwbGF5LnBwX2hhbmRsZSwNCj4gPiArCQkJCQkgbGltaXQsDQo+ID4g
KwkJCQkJIHBwX2xpbWl0X2xldmVsLA0KPiA+ICsJCQkJCSBwb3dlcl90eXBlKTsNCj4gPiArfQ0K
PiA+ICsNCj4gPiAraW50IGFtZGdwdV9kcG1fc2V0X3Bvd2VyX2xpbWl0KHN0cnVjdCBhbWRncHVf
ZGV2aWNlICphZGV2LA0KPiA+ICsJCQkgICAgICAgdWludDMyX3QgbGltaXQpDQo+ID4gK3sNCj4g
PiArCWNvbnN0IHN0cnVjdCBhbWRfcG1fZnVuY3MgKnBwX2Z1bmNzID0gYWRldi0+cG93ZXJwbGF5
LnBwX2Z1bmNzOw0KPiA+ICsNCj4gPiArCWlmICghcHBfZnVuY3MtPnNldF9wb3dlcl9saW1pdCkN
Cj4gPiArCQlyZXR1cm4gLUVJTlZBTDsNCj4gPiArDQo+ID4gKwlyZXR1cm4gcHBfZnVuY3MtPnNl
dF9wb3dlcl9saW1pdChhZGV2LT5wb3dlcnBsYXkucHBfaGFuZGxlLA0KPiBsaW1pdCk7DQo+ID4g
K30NCj4gPiArDQo+ID4gK2ludCBhbWRncHVfZHBtX2lzX2NjbGtfZHBtX3N1cHBvcnRlZChzdHJ1
Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCj4gPiArew0KPiA+ICsJaWYgKCFpc19zdXBwb3J0X3N3
X3NtdShhZGV2KSkNCj4gPiArCQlyZXR1cm4gZmFsc2U7DQo+ID4gKw0KPiA+ICsJcmV0dXJuIGlz
X3N1cHBvcnRfY2Nsa19kcG0oYWRldik7DQo+ID4gK30NCj4gPiArDQo+ID4gK2ludCBhbWRncHVf
ZHBtX2RlYnVnZnNfcHJpbnRfY3VycmVudF9wZXJmb3JtYW5jZV9sZXZlbChzdHJ1Y3QNCj4gYW1k
Z3B1X2RldmljZSAqYWRldiwNCj4gPiArCQkJCQkJICAgICAgIHN0cnVjdCBzZXFfZmlsZSAqbSkN
Cj4gPiArew0KPiA+ICsJY29uc3Qgc3RydWN0IGFtZF9wbV9mdW5jcyAqcHBfZnVuY3MgPSBhZGV2
LT5wb3dlcnBsYXkucHBfZnVuY3M7DQo+ID4gKw0KPiA+ICsJaWYgKCFwcF9mdW5jcy0+ZGVidWdm
c19wcmludF9jdXJyZW50X3BlcmZvcm1hbmNlX2xldmVsKQ0KPiA+ICsJCXJldHVybiAtRU9QTk9U
U1VQUDsNCj4gPiArDQo+ID4gKwlwcF9mdW5jcy0+ZGVidWdmc19wcmludF9jdXJyZW50X3BlcmZv
cm1hbmNlX2xldmVsKGFkZXYtDQo+ID5wb3dlcnBsYXkucHBfaGFuZGxlLA0KPiA+ICsJCQkJCQkJ
ICBtKTsNCj4gPiArDQo+ID4gKwlyZXR1cm4gMDsNCj4gPiArfQ0KPiA+ICsNCj4gPiAraW50IGFt
ZGdwdV9kcG1fZ2V0X3NtdV9wcnZfYnVmX2RldGFpbHMoc3RydWN0IGFtZGdwdV9kZXZpY2UNCj4g
KmFkZXYsDQo+ID4gKwkJCQkgICAgICAgdm9pZCAqKmFkZHIsDQo+ID4gKwkJCQkgICAgICAgc2l6
ZV90ICpzaXplKQ0KPiA+ICt7DQo+ID4gKwljb25zdCBzdHJ1Y3QgYW1kX3BtX2Z1bmNzICpwcF9m
dW5jcyA9IGFkZXYtPnBvd2VycGxheS5wcF9mdW5jczsNCj4gPiArDQo+ID4gKwlpZiAoIXBwX2Z1
bmNzLT5nZXRfc211X3Bydl9idWZfZGV0YWlscykNCj4gPiArCQlyZXR1cm4gLUVOT1NZUzsNCj4g
PiArDQo+ID4gKwlyZXR1cm4gcHBfZnVuY3MtPmdldF9zbXVfcHJ2X2J1Zl9kZXRhaWxzKGFkZXYt
DQo+ID5wb3dlcnBsYXkucHBfaGFuZGxlLA0KPiA+ICsJCQkJCQkgYWRkciwNCj4gPiArCQkJCQkJ
IHNpemUpOw0KPiA+ICt9DQo+ID4gKw0KPiA+ICtpbnQgYW1kZ3B1X2RwbV9pc19vdmVyZHJpdmVf
c3VwcG9ydGVkKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQ0KPiA+ICt7DQo+ID4gKwlzdHJ1
Y3QgcHBfaHdtZ3IgKmh3bWdyID0gYWRldi0+cG93ZXJwbGF5LnBwX2hhbmRsZTsNCj4gPiArDQo+
ID4gKwlpZiAoKGlzX3N1cHBvcnRfc3dfc211KGFkZXYpICYmIGFkZXYtPnNtdS5vZF9lbmFibGVk
KSB8fA0KPiA+ICsJICAgIChpc19zdXBwb3J0X3N3X3NtdShhZGV2KSAmJiBhZGV2LT5zbXUuaXNf
YXB1KSB8fA0KPiA+ICsJCSghaXNfc3VwcG9ydF9zd19zbXUoYWRldikgJiYgaHdtZ3ItPm9kX2Vu
YWJsZWQpKQ0KPiA+ICsJCXJldHVybiB0cnVlOw0KPiA+ICsNCj4gPiArCXJldHVybiBmYWxzZTsN
Cj4gPiArfQ0KPiA+ICsNCj4gPiAraW50IGFtZGdwdV9kcG1fc2V0X3BwX3RhYmxlKHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2LA0KPiA+ICsJCQkgICAgY29uc3QgY2hhciAqYnVmLA0KPiA+ICsJ
CQkgICAgc2l6ZV90IHNpemUpDQo+ID4gK3sNCj4gPiArCWNvbnN0IHN0cnVjdCBhbWRfcG1fZnVu
Y3MgKnBwX2Z1bmNzID0gYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzOw0KPiA+ICsNCj4gPiArCWlm
ICghcHBfZnVuY3MtPnNldF9wcF90YWJsZSkNCj4gPiArCQlyZXR1cm4gLUVPUE5PVFNVUFA7DQo+
ID4gKw0KPiA+ICsJcmV0dXJuIHBwX2Z1bmNzLT5zZXRfcHBfdGFibGUoYWRldi0+cG93ZXJwbGF5
LnBwX2hhbmRsZSwNCj4gPiArCQkJCSAgICAgIGJ1ZiwNCj4gPiArCQkJCSAgICAgIHNpemUpOw0K
PiA+ICt9DQo+ID4gKw0KPiA+ICtpbnQgYW1kZ3B1X2RwbV9nZXRfbnVtX2NwdV9jb3JlcyhzdHJ1
Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCj4gPiArew0KPiA+ICsJcmV0dXJuIGFkZXYtPnNtdS5j
cHVfY29yZV9udW07DQo+ID4gK30NCj4gPiArDQo+ID4gK3ZvaWQgYW1kZ3B1X2RwbV9zdGJfZGVi
dWdfZnNfaW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCj4gPiArew0KPiA+ICsJaWYg
KCFpc19zdXBwb3J0X3N3X3NtdShhZGV2KSkNCj4gPiArCQlyZXR1cm47DQo+ID4gKw0KPiA+ICsJ
YW1kZ3B1X3NtdV9zdGJfZGVidWdfZnNfaW5pdChhZGV2KTsNCj4gPiArfQ0KPiA+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3BtL2FtZGdwdV9wbS5jDQo+IGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9wbS9hbWRncHVfcG0uYw0KPiA+IGluZGV4IDA4MjUzOWM3MGZkNC4uMzM4MmQzMGI1
ZDkwIDEwMDY0NA0KPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG0vYW1kZ3B1X3BtLmMN
Cj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3BtL2FtZGdwdV9wbS5jDQo+ID4gQEAgLTM0
LDcgKzM0LDYgQEANCj4gPiAgICNpbmNsdWRlIDxsaW51eC9ub3NwZWMuaD4NCj4gPiAgICNpbmNs
dWRlIDxsaW51eC9wbV9ydW50aW1lLmg+DQo+ID4gICAjaW5jbHVkZSA8YXNtL3Byb2Nlc3Nvci5o
Pg0KPiA+IC0jaW5jbHVkZSAiaHdtZ3IuaCINCj4gPg0KPiA+ICAgc3RhdGljIGNvbnN0IHN0cnVj
dCBjZ19mbGFnX25hbWUgY2xvY2tzW10gPSB7DQo+ID4gICAJe0FNRF9DR19TVVBQT1JUX0dGWF9G
R0NHLCAiR3JhcGhpY3MgRmluZSBHcmFpbiBDbG9jaw0KPiBHYXRpbmcifSwNCj4gPiBAQCAtMTMy
LDcgKzEzMSw2IEBAIHN0YXRpYyBzc2l6ZV90DQo+IGFtZGdwdV9nZXRfcG93ZXJfZHBtX3N0YXRl
KHN0cnVjdCBkZXZpY2UgKmRldiwNCj4gPiAgIHsNCj4gPiAgIAlzdHJ1Y3QgZHJtX2RldmljZSAq
ZGRldiA9IGRldl9nZXRfZHJ2ZGF0YShkZXYpOw0KPiA+ICAgCXN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2ID0gZHJtX3RvX2FkZXYoZGRldik7DQo+ID4gLQljb25zdCBzdHJ1Y3QgYW1kX3BtX2Z1
bmNzICpwcF9mdW5jcyA9IGFkZXYtPnBvd2VycGxheS5wcF9mdW5jczsNCj4gPiAgIAllbnVtIGFt
ZF9wbV9zdGF0ZV90eXBlIHBtOw0KPiA+ICAgCWludCByZXQ7DQo+ID4NCj4gPiBAQCAtMTQ3LDEx
ICsxNDUsNyBAQCBzdGF0aWMgc3NpemVfdA0KPiBhbWRncHVfZ2V0X3Bvd2VyX2RwbV9zdGF0ZShz
dHJ1Y3QgZGV2aWNlICpkZXYsDQo+ID4gICAJCXJldHVybiByZXQ7DQo+ID4gICAJfQ0KPiA+DQo+
ID4gLQlpZiAocHBfZnVuY3MtPmdldF9jdXJyZW50X3Bvd2VyX3N0YXRlKSB7DQo+ID4gLQkJcG0g
PSBhbWRncHVfZHBtX2dldF9jdXJyZW50X3Bvd2VyX3N0YXRlKGFkZXYpOw0KPiA+IC0JfSBlbHNl
IHsNCj4gPiAtCQlwbSA9IGFkZXYtPnBtLmRwbS51c2VyX3N0YXRlOw0KPiA+IC0JfQ0KPiA+ICsJ
YW1kZ3B1X2RwbV9nZXRfY3VycmVudF9wb3dlcl9zdGF0ZShhZGV2LCAmcG0pOw0KPiA+DQo+ID4g
ICAJcG1fcnVudGltZV9tYXJrX2xhc3RfYnVzeShkZGV2LT5kZXYpOw0KPiA+ICAgCXBtX3J1bnRp
bWVfcHV0X2F1dG9zdXNwZW5kKGRkZXYtPmRldik7DQo+ID4gQEAgLTE5MSwxOSArMTg1LDggQEAg
c3RhdGljIHNzaXplX3QNCj4gYW1kZ3B1X3NldF9wb3dlcl9kcG1fc3RhdGUoc3RydWN0IGRldmlj
ZSAqZGV2LA0KPiA+ICAgCQlyZXR1cm4gcmV0Ow0KPiA+ICAgCX0NCj4gPg0KPiA+IC0JaWYgKGlz
X3N1cHBvcnRfc3dfc211KGFkZXYpKSB7DQo+ID4gLQkJbXV0ZXhfbG9jaygmYWRldi0+cG0ubXV0
ZXgpOw0KPiA+IC0JCWFkZXYtPnBtLmRwbS51c2VyX3N0YXRlID0gc3RhdGU7DQo+ID4gLQkJbXV0
ZXhfdW5sb2NrKCZhZGV2LT5wbS5tdXRleCk7DQo+IA0KPiBIZXJlIHRoZSBjb2RlIGp1c3Qgc2V0
cyB0aGUgc3RhdGUgYW5kIGV4aXRzLiBIb3dldmVyLCB3aGVuIG1vdmVkIHRvDQo+IHJlZmFjdG9y
ZWQgZnVuY3Rpb24sIGl0IGlzIGNhbGxpbmcgcG1fY29tcHV0ZV9jbG9ja3MuDQpbUXVhbiwgRXZh
bl0gVGhhbmtzISBXaWxsIGZpeCB0aGlzLg0KDQpCUg0KRXZhbg0KPiANCj4gPiAtCX0gZWxzZSBp
ZiAoYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzLT5kaXNwYXRjaF90YXNrcykgew0KPiA+IC0JCWFt
ZGdwdV9kcG1fZGlzcGF0Y2hfdGFzayhhZGV2LA0KPiBBTURfUFBfVEFTS19FTkFCTEVfVVNFUl9T
VEFURSwgJnN0YXRlKTsNCj4gPiAtCX0gZWxzZSB7DQo+ID4gLQkJbXV0ZXhfbG9jaygmYWRldi0+
cG0ubXV0ZXgpOw0KPiA+IC0JCWFkZXYtPnBtLmRwbS51c2VyX3N0YXRlID0gc3RhdGU7DQo+ID4g
LQkJbXV0ZXhfdW5sb2NrKCZhZGV2LT5wbS5tdXRleCk7DQo+ID4gKwlhbWRncHVfZHBtX3NldF9w
b3dlcl9zdGF0ZShhZGV2LCBzdGF0ZSk7DQo+ID4NCj4gPiAtCQlhbWRncHVfcG1fY29tcHV0ZV9j
bG9ja3MoYWRldik7DQo+ID4gLQl9DQo+ID4gICAJcG1fcnVudGltZV9tYXJrX2xhc3RfYnVzeShk
ZGV2LT5kZXYpOw0KPiA+ICAgCXBtX3J1bnRpbWVfcHV0X2F1dG9zdXNwZW5kKGRkZXYtPmRldik7
DQo+ID4NCj4gPiBAQCAtMjkwLDEwICsyNzMsNyBAQCBzdGF0aWMgc3NpemVfdA0KPiBhbWRncHVf
Z2V0X3Bvd2VyX2RwbV9mb3JjZV9wZXJmb3JtYW5jZV9sZXZlbChzdHJ1Y3QgZGV2aWNlICpkZXYs
DQo+ID4gICAJCXJldHVybiByZXQ7DQo+ID4gICAJfQ0KPiA+DQo+ID4gLQlpZiAoYWRldi0+cG93
ZXJwbGF5LnBwX2Z1bmNzLT5nZXRfcGVyZm9ybWFuY2VfbGV2ZWwpDQo+ID4gLQkJbGV2ZWwgPSBh
bWRncHVfZHBtX2dldF9wZXJmb3JtYW5jZV9sZXZlbChhZGV2KTsNCj4gPiAtCWVsc2UNCj4gPiAt
CQlsZXZlbCA9IGFkZXYtPnBtLmRwbS5mb3JjZWRfbGV2ZWw7DQo+ID4gKwlsZXZlbCA9IGFtZGdw
dV9kcG1fZ2V0X3BlcmZvcm1hbmNlX2xldmVsKGFkZXYpOw0KPiA+DQo+ID4gICAJcG1fcnVudGlt
ZV9tYXJrX2xhc3RfYnVzeShkZGV2LT5kZXYpOw0KPiA+ICAgCXBtX3J1bnRpbWVfcHV0X2F1dG9z
dXNwZW5kKGRkZXYtPmRldik7DQo+ID4gQEAgLTMxOCw3ICsyOTgsNiBAQCBzdGF0aWMgc3NpemVf
dA0KPiBhbWRncHVfc2V0X3Bvd2VyX2RwbV9mb3JjZV9wZXJmb3JtYW5jZV9sZXZlbChzdHJ1Y3Qg
ZGV2aWNlICpkZXYsDQo+ID4gICB7DQo+ID4gICAJc3RydWN0IGRybV9kZXZpY2UgKmRkZXYgPSBk
ZXZfZ2V0X2RydmRhdGEoZGV2KTsNCj4gPiAgIAlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9
IGRybV90b19hZGV2KGRkZXYpOw0KPiA+IC0JY29uc3Qgc3RydWN0IGFtZF9wbV9mdW5jcyAqcHBf
ZnVuY3MgPSBhZGV2LT5wb3dlcnBsYXkucHBfZnVuY3M7DQo+ID4gICAJZW51bSBhbWRfZHBtX2Zv
cmNlZF9sZXZlbCBsZXZlbDsNCj4gPiAgIAllbnVtIGFtZF9kcG1fZm9yY2VkX2xldmVsIGN1cnJl
bnRfbGV2ZWw7DQo+ID4gICAJaW50IHJldCA9IDA7DQo+ID4gQEAgLTM1OCwxMSArMzM3LDcgQEAg
c3RhdGljIHNzaXplX3QNCj4gYW1kZ3B1X3NldF9wb3dlcl9kcG1fZm9yY2VfcGVyZm9ybWFuY2Vf
bGV2ZWwoc3RydWN0IGRldmljZSAqZGV2LA0KPiA+ICAgCQlyZXR1cm4gcmV0Ow0KPiA+ICAgCX0N
Cj4gPg0KPiA+IC0JaWYgKHBwX2Z1bmNzLT5nZXRfcGVyZm9ybWFuY2VfbGV2ZWwpDQo+ID4gLQkJ
Y3VycmVudF9sZXZlbCA9DQo+IGFtZGdwdV9kcG1fZ2V0X3BlcmZvcm1hbmNlX2xldmVsKGFkZXYp
Ow0KPiA+IC0JZWxzZQ0KPiA+IC0JCWN1cnJlbnRfbGV2ZWwgPSBhZGV2LT5wbS5kcG0uZm9yY2Vk
X2xldmVsOw0KPiA+IC0NCj4gPiArCWN1cnJlbnRfbGV2ZWwgPSBhbWRncHVfZHBtX2dldF9wZXJm
b3JtYW5jZV9sZXZlbChhZGV2KTsNCj4gPiAgIAlpZiAoY3VycmVudF9sZXZlbCA9PSBsZXZlbCkg
ew0KPiA+ICAgCQlwbV9ydW50aW1lX21hcmtfbGFzdF9idXN5KGRkZXYtPmRldik7DQo+ID4gICAJ
CXBtX3J1bnRpbWVfcHV0X2F1dG9zdXNwZW5kKGRkZXYtPmRldik7DQo+ID4gQEAgLTM5MCwyNSAr
MzY1LDEyIEBAIHN0YXRpYyBzc2l6ZV90DQo+IGFtZGdwdV9zZXRfcG93ZXJfZHBtX2ZvcmNlX3Bl
cmZvcm1hbmNlX2xldmVsKHN0cnVjdCBkZXZpY2UgKmRldiwNCj4gPiAgIAkJcmV0dXJuIC1FSU5W
QUw7DQo+ID4gICAJfQ0KPiA+DQo+ID4gLQlpZiAocHBfZnVuY3MtPmZvcmNlX3BlcmZvcm1hbmNl
X2xldmVsKSB7DQo+ID4gLQkJbXV0ZXhfbG9jaygmYWRldi0+cG0ubXV0ZXgpOw0KPiA+IC0JCWlm
IChhZGV2LT5wbS5kcG0udGhlcm1hbF9hY3RpdmUpIHsNCj4gPiAtCQkJbXV0ZXhfdW5sb2NrKCZh
ZGV2LT5wbS5tdXRleCk7DQo+ID4gLQkJCXBtX3J1bnRpbWVfbWFya19sYXN0X2J1c3koZGRldi0+
ZGV2KTsNCj4gPiAtCQkJcG1fcnVudGltZV9wdXRfYXV0b3N1c3BlbmQoZGRldi0+ZGV2KTsNCj4g
PiAtCQkJcmV0dXJuIC1FSU5WQUw7DQo+ID4gLQkJfQ0KPiA+IC0JCXJldCA9IGFtZGdwdV9kcG1f
Zm9yY2VfcGVyZm9ybWFuY2VfbGV2ZWwoYWRldiwgbGV2ZWwpOw0KPiA+IC0JCWlmIChyZXQpIHsN
Cj4gPiAtCQkJbXV0ZXhfdW5sb2NrKCZhZGV2LT5wbS5tdXRleCk7DQo+ID4gLQkJCXBtX3J1bnRp
bWVfbWFya19sYXN0X2J1c3koZGRldi0+ZGV2KTsNCj4gPiAtCQkJcG1fcnVudGltZV9wdXRfYXV0
b3N1c3BlbmQoZGRldi0+ZGV2KTsNCj4gPiAtCQkJcmV0dXJuIC1FSU5WQUw7DQo+ID4gLQkJfSBl
bHNlIHsNCj4gPiAtCQkJYWRldi0+cG0uZHBtLmZvcmNlZF9sZXZlbCA9IGxldmVsOw0KPiA+IC0J
CX0NCj4gPiAtCQltdXRleF91bmxvY2soJmFkZXYtPnBtLm11dGV4KTsNCj4gPiArCWlmIChhbWRn
cHVfZHBtX2ZvcmNlX3BlcmZvcm1hbmNlX2xldmVsKGFkZXYsIGxldmVsKSkgew0KPiA+ICsJCXBt
X3J1bnRpbWVfbWFya19sYXN0X2J1c3koZGRldi0+ZGV2KTsNCj4gPiArCQlwbV9ydW50aW1lX3B1
dF9hdXRvc3VzcGVuZChkZGV2LT5kZXYpOw0KPiA+ICsJCXJldHVybiAtRUlOVkFMOw0KPiA+ICAg
CX0NCj4gPiArDQo+ID4gICAJcG1fcnVudGltZV9tYXJrX2xhc3RfYnVzeShkZGV2LT5kZXYpOw0K
PiA+ICAgCXBtX3J1bnRpbWVfcHV0X2F1dG9zdXNwZW5kKGRkZXYtPmRldik7DQo+ID4NCj4gPiBA
QCAtNDIxLDcgKzM4Myw2IEBAIHN0YXRpYyBzc2l6ZV90IGFtZGdwdV9nZXRfcHBfbnVtX3N0YXRl
cyhzdHJ1Y3QNCj4gZGV2aWNlICpkZXYsDQo+ID4gICB7DQo+ID4gICAJc3RydWN0IGRybV9kZXZp
Y2UgKmRkZXYgPSBkZXZfZ2V0X2RydmRhdGEoZGV2KTsNCj4gPiAgIAlzdHJ1Y3QgYW1kZ3B1X2Rl
dmljZSAqYWRldiA9IGRybV90b19hZGV2KGRkZXYpOw0KPiA+IC0JY29uc3Qgc3RydWN0IGFtZF9w
bV9mdW5jcyAqcHBfZnVuY3MgPSBhZGV2LT5wb3dlcnBsYXkucHBfZnVuY3M7DQo+ID4gICAJc3Ry
dWN0IHBwX3N0YXRlc19pbmZvIGRhdGE7DQo+ID4gICAJdWludDMyX3QgaTsNCj4gPiAgIAlpbnQg
YnVmX2xlbiwgcmV0Ow0KPiA+IEBAIC00MzcsMTEgKzM5OCw4IEBAIHN0YXRpYyBzc2l6ZV90IGFt
ZGdwdV9nZXRfcHBfbnVtX3N0YXRlcyhzdHJ1Y3QNCj4gZGV2aWNlICpkZXYsDQo+ID4gICAJCXJl
dHVybiByZXQ7DQo+ID4gICAJfQ0KPiA+DQo+ID4gLQlpZiAocHBfZnVuY3MtPmdldF9wcF9udW1f
c3RhdGVzKSB7DQo+ID4gLQkJYW1kZ3B1X2RwbV9nZXRfcHBfbnVtX3N0YXRlcyhhZGV2LCAmZGF0
YSk7DQo+ID4gLQl9IGVsc2Ugew0KPiA+ICsJaWYgKGFtZGdwdV9kcG1fZ2V0X3BwX251bV9zdGF0
ZXMoYWRldiwgJmRhdGEpKQ0KPiA+ICAgCQltZW1zZXQoJmRhdGEsIDAsIHNpemVvZihkYXRhKSk7
DQo+ID4gLQl9DQo+ID4NCj4gPiAgIAlwbV9ydW50aW1lX21hcmtfbGFzdF9idXN5KGRkZXYtPmRl
dik7DQo+ID4gICAJcG1fcnVudGltZV9wdXRfYXV0b3N1c3BlbmQoZGRldi0+ZGV2KTsNCj4gPiBA
QCAtNDYzLDcgKzQyMSw2IEBAIHN0YXRpYyBzc2l6ZV90IGFtZGdwdV9nZXRfcHBfY3VyX3N0YXRl
KHN0cnVjdA0KPiBkZXZpY2UgKmRldiwNCj4gPiAgIHsNCj4gPiAgIAlzdHJ1Y3QgZHJtX2Rldmlj
ZSAqZGRldiA9IGRldl9nZXRfZHJ2ZGF0YShkZXYpOw0KPiA+ICAgCXN0cnVjdCBhbWRncHVfZGV2
aWNlICphZGV2ID0gZHJtX3RvX2FkZXYoZGRldik7DQo+ID4gLQljb25zdCBzdHJ1Y3QgYW1kX3Bt
X2Z1bmNzICpwcF9mdW5jcyA9IGFkZXYtPnBvd2VycGxheS5wcF9mdW5jczsNCj4gPiAgIAlzdHJ1
Y3QgcHBfc3RhdGVzX2luZm8gZGF0YSA9IHswfTsNCj4gPiAgIAllbnVtIGFtZF9wbV9zdGF0ZV90
eXBlIHBtID0gMDsNCj4gPiAgIAlpbnQgaSA9IDAsIHJldCA9IDA7DQo+ID4gQEAgLTQ3OSwxNSAr
NDM2LDE2IEBAIHN0YXRpYyBzc2l6ZV90IGFtZGdwdV9nZXRfcHBfY3VyX3N0YXRlKHN0cnVjdA0K
PiBkZXZpY2UgKmRldiwNCj4gPiAgIAkJcmV0dXJuIHJldDsNCj4gPiAgIAl9DQo+ID4NCj4gPiAt
CWlmIChwcF9mdW5jcy0+Z2V0X2N1cnJlbnRfcG93ZXJfc3RhdGUNCj4gPiAtCQkgJiYgcHBfZnVu
Y3MtPmdldF9wcF9udW1fc3RhdGVzKSB7DQo+ID4gLQkJcG0gPSBhbWRncHVfZHBtX2dldF9jdXJy
ZW50X3Bvd2VyX3N0YXRlKGFkZXYpOw0KPiA+IC0JCWFtZGdwdV9kcG1fZ2V0X3BwX251bV9zdGF0
ZXMoYWRldiwgJmRhdGEpOw0KPiA+IC0JfQ0KPiA+ICsJYW1kZ3B1X2RwbV9nZXRfY3VycmVudF9w
b3dlcl9zdGF0ZShhZGV2LCAmcG0pOw0KPiA+ICsNCj4gPiArCXJldCA9IGFtZGdwdV9kcG1fZ2V0
X3BwX251bV9zdGF0ZXMoYWRldiwgJmRhdGEpOw0KPiA+DQo+ID4gICAJcG1fcnVudGltZV9tYXJr
X2xhc3RfYnVzeShkZGV2LT5kZXYpOw0KPiA+ICAgCXBtX3J1bnRpbWVfcHV0X2F1dG9zdXNwZW5k
KGRkZXYtPmRldik7DQo+ID4NCj4gPiArCWlmIChyZXQpDQo+ID4gKwkJcmV0dXJuIHJldDsNCj4g
PiArDQo+ID4gICAJZm9yIChpID0gMDsgaSA8IGRhdGEubnVtczsgaSsrKSB7DQo+ID4gICAJCWlm
IChwbSA9PSBkYXRhLnN0YXRlc1tpXSkNCj4gPiAgIAkJCWJyZWFrOw0KPiA+IEBAIC01MjUsNiAr
NDgzLDcgQEAgc3RhdGljIHNzaXplX3QgYW1kZ3B1X3NldF9wcF9mb3JjZV9zdGF0ZShzdHJ1Y3QN
Cj4gZGV2aWNlICpkZXYsDQo+ID4gICAJc3RydWN0IGRybV9kZXZpY2UgKmRkZXYgPSBkZXZfZ2V0
X2RydmRhdGEoZGV2KTsNCj4gPiAgIAlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IGRybV90
b19hZGV2KGRkZXYpOw0KPiA+ICAgCWVudW0gYW1kX3BtX3N0YXRlX3R5cGUgc3RhdGUgPSAwOw0K
PiA+ICsJc3RydWN0IHBwX3N0YXRlc19pbmZvIGRhdGE7DQo+ID4gICAJdW5zaWduZWQgbG9uZyBp
ZHg7DQo+ID4gICAJaW50IHJldDsNCj4gPg0KPiA+IEBAIC01MzMsNDEgKzQ5Miw0OSBAQCBzdGF0
aWMgc3NpemVfdCBhbWRncHVfc2V0X3BwX2ZvcmNlX3N0YXRlKHN0cnVjdA0KPiBkZXZpY2UgKmRl
diwNCj4gPiAgIAlpZiAoYWRldi0+aW5fc3VzcGVuZCAmJiAhYWRldi0+aW5fcnVucG0pDQo+ID4g
ICAJCXJldHVybiAtRVBFUk07DQo+ID4NCj4gPiAtCWlmIChzdHJsZW4oYnVmKSA9PSAxKQ0KPiA+
IC0JCWFkZXYtPnBwX2ZvcmNlX3N0YXRlX2VuYWJsZWQgPSBmYWxzZTsNCj4gPiAtCWVsc2UgaWYg
KGlzX3N1cHBvcnRfc3dfc211KGFkZXYpKQ0KPiA+IC0JCWFkZXYtPnBwX2ZvcmNlX3N0YXRlX2Vu
YWJsZWQgPSBmYWxzZTsNCj4gPiAtCWVsc2UgaWYgKGFkZXYtPnBvd2VycGxheS5wcF9mdW5jcy0+
ZGlzcGF0Y2hfdGFza3MgJiYNCj4gPiAtCQkJYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzLT5nZXRf
cHBfbnVtX3N0YXRlcykgew0KPiA+IC0JCXN0cnVjdCBwcF9zdGF0ZXNfaW5mbyBkYXRhOw0KPiA+
IC0NCj4gPiAtCQlyZXQgPSBrc3RydG91bChidWYsIDAsICZpZHgpOw0KPiA+IC0JCWlmIChyZXQg
fHwgaWR4ID49IEFSUkFZX1NJWkUoZGF0YS5zdGF0ZXMpKQ0KPiA+IC0JCQlyZXR1cm4gLUVJTlZB
TDsNCj4gPiArCWFkZXYtPnBwX2ZvcmNlX3N0YXRlX2VuYWJsZWQgPSBmYWxzZTsNCj4gPg0KPiA+
IC0JCWlkeCA9IGFycmF5X2luZGV4X25vc3BlYyhpZHgsIEFSUkFZX1NJWkUoZGF0YS5zdGF0ZXMp
KTsNCj4gPiArCWlmIChzdHJsZW4oYnVmKSA9PSAxKQ0KPiA+ICsJCXJldHVybiBjb3VudDsNCj4g
Pg0KPiA+IC0JCWFtZGdwdV9kcG1fZ2V0X3BwX251bV9zdGF0ZXMoYWRldiwgJmRhdGEpOw0KPiA+
IC0JCXN0YXRlID0gZGF0YS5zdGF0ZXNbaWR4XTsNCj4gPiArCXJldCA9IGtzdHJ0b3VsKGJ1Ziwg
MCwgJmlkeCk7DQo+ID4gKwlpZiAocmV0IHx8IGlkeCA+PSBBUlJBWV9TSVpFKGRhdGEuc3RhdGVz
KSkNCj4gPiArCQlyZXR1cm4gLUVJTlZBTDsNCj4gPg0KPiA+IC0JCXJldCA9IHBtX3J1bnRpbWVf
Z2V0X3N5bmMoZGRldi0+ZGV2KTsNCj4gPiAtCQlpZiAocmV0IDwgMCkgew0KPiA+IC0JCQlwbV9y
dW50aW1lX3B1dF9hdXRvc3VzcGVuZChkZGV2LT5kZXYpOw0KPiA+IC0JCQlyZXR1cm4gcmV0Ow0K
PiA+IC0JCX0NCj4gPiArCWlkeCA9IGFycmF5X2luZGV4X25vc3BlYyhpZHgsIEFSUkFZX1NJWkUo
ZGF0YS5zdGF0ZXMpKTsNCj4gPg0KPiA+IC0JCS8qIG9ubHkgc2V0IHVzZXIgc2VsZWN0ZWQgcG93
ZXIgc3RhdGVzICovDQo+ID4gLQkJaWYgKHN0YXRlICE9IFBPV0VSX1NUQVRFX1RZUEVfSU5URVJO
QUxfQk9PVCAmJg0KPiA+IC0JCSAgICBzdGF0ZSAhPSBQT1dFUl9TVEFURV9UWVBFX0RFRkFVTFQp
IHsNCj4gPiAtCQkJYW1kZ3B1X2RwbV9kaXNwYXRjaF90YXNrKGFkZXYsDQo+ID4gLQ0KPiAJQU1E
X1BQX1RBU0tfRU5BQkxFX1VTRVJfU1RBVEUsICZzdGF0ZSk7DQo+ID4gLQkJCWFkZXYtPnBwX2Zv
cmNlX3N0YXRlX2VuYWJsZWQgPSB0cnVlOw0KPiA+IC0JCX0NCj4gPiAtCQlwbV9ydW50aW1lX21h
cmtfbGFzdF9idXN5KGRkZXYtPmRldik7DQo+ID4gKwlyZXQgPSBwbV9ydW50aW1lX2dldF9zeW5j
KGRkZXYtPmRldik7DQo+ID4gKwlpZiAocmV0IDwgMCkgew0KPiA+ICAgCQlwbV9ydW50aW1lX3B1
dF9hdXRvc3VzcGVuZChkZGV2LT5kZXYpOw0KPiA+ICsJCXJldHVybiByZXQ7DQo+ID4gKwl9DQo+
ID4gKw0KPiA+ICsJcmV0ID0gYW1kZ3B1X2RwbV9nZXRfcHBfbnVtX3N0YXRlcyhhZGV2LCAmZGF0
YSk7DQo+ID4gKwlpZiAocmV0KQ0KPiA+ICsJCWdvdG8gZXJyX291dDsNCj4gPiArDQo+ID4gKwlz
dGF0ZSA9IGRhdGEuc3RhdGVzW2lkeF07DQo+ID4gKw0KPiA+ICsJLyogb25seSBzZXQgdXNlciBz
ZWxlY3RlZCBwb3dlciBzdGF0ZXMgKi8NCj4gPiArCWlmIChzdGF0ZSAhPSBQT1dFUl9TVEFURV9U
WVBFX0lOVEVSTkFMX0JPT1QgJiYNCj4gPiArCSAgICBzdGF0ZSAhPSBQT1dFUl9TVEFURV9UWVBF
X0RFRkFVTFQpIHsNCj4gPiArCQlyZXQgPSBhbWRncHVfZHBtX2Rpc3BhdGNoX3Rhc2soYWRldiwN
Cj4gPiArCQkJCUFNRF9QUF9UQVNLX0VOQUJMRV9VU0VSX1NUQVRFLA0KPiAmc3RhdGUpOw0KPiA+
ICsJCWlmIChyZXQpDQo+ID4gKwkJCWdvdG8gZXJyX291dDsNCj4gPiArDQo+ID4gKwkJYWRldi0+
cHBfZm9yY2Vfc3RhdGVfZW5hYmxlZCA9IHRydWU7DQo+ID4gICAJfQ0KPiA+DQo+ID4gKwlwbV9y
dW50aW1lX21hcmtfbGFzdF9idXN5KGRkZXYtPmRldik7DQo+ID4gKwlwbV9ydW50aW1lX3B1dF9h
dXRvc3VzcGVuZChkZGV2LT5kZXYpOw0KPiA+ICsNCj4gPiAgIAlyZXR1cm4gY291bnQ7DQo+ID4g
Kw0KPiA+ICtlcnJfb3V0Og0KPiA+ICsJcG1fcnVudGltZV9tYXJrX2xhc3RfYnVzeShkZGV2LT5k
ZXYpOw0KPiA+ICsJcG1fcnVudGltZV9wdXRfYXV0b3N1c3BlbmQoZGRldi0+ZGV2KTsNCj4gPiAr
CXJldHVybiByZXQ7DQo+ID4gICB9DQo+ID4NCj4gPiAgIC8qKg0KPiA+IEBAIC02MDEsMTcgKzU2
OCwxMyBAQCBzdGF0aWMgc3NpemVfdCBhbWRncHVfZ2V0X3BwX3RhYmxlKHN0cnVjdCBkZXZpY2UN
Cj4gKmRldiwNCj4gPiAgIAkJcmV0dXJuIHJldDsNCj4gPiAgIAl9DQo+ID4NCj4gPiAtCWlmIChh
ZGV2LT5wb3dlcnBsYXkucHBfZnVuY3MtPmdldF9wcF90YWJsZSkgew0KPiA+IC0JCXNpemUgPSBh
bWRncHVfZHBtX2dldF9wcF90YWJsZShhZGV2LCAmdGFibGUpOw0KPiA+IC0JCXBtX3J1bnRpbWVf
bWFya19sYXN0X2J1c3koZGRldi0+ZGV2KTsNCj4gPiAtCQlwbV9ydW50aW1lX3B1dF9hdXRvc3Vz
cGVuZChkZGV2LT5kZXYpOw0KPiA+IC0JCWlmIChzaXplIDwgMCkNCj4gPiAtCQkJcmV0dXJuIHNp
emU7DQo+ID4gLQl9IGVsc2Ugew0KPiA+IC0JCXBtX3J1bnRpbWVfbWFya19sYXN0X2J1c3koZGRl
di0+ZGV2KTsNCj4gPiAtCQlwbV9ydW50aW1lX3B1dF9hdXRvc3VzcGVuZChkZGV2LT5kZXYpOw0K
PiA+IC0JCXJldHVybiAwOw0KPiA+IC0JfQ0KPiA+ICsJc2l6ZSA9IGFtZGdwdV9kcG1fZ2V0X3Bw
X3RhYmxlKGFkZXYsICZ0YWJsZSk7DQo+ID4gKw0KPiA+ICsJcG1fcnVudGltZV9tYXJrX2xhc3Rf
YnVzeShkZGV2LT5kZXYpOw0KPiA+ICsJcG1fcnVudGltZV9wdXRfYXV0b3N1c3BlbmQoZGRldi0+
ZGV2KTsNCj4gPiArDQo+ID4gKwlpZiAoc2l6ZSA8PSAwKQ0KPiA+ICsJCXJldHVybiBzaXplOw0K
PiA+DQo+ID4gICAJaWYgKHNpemUgPj0gUEFHRV9TSVpFKQ0KPiA+ICAgCQlzaXplID0gUEFHRV9T
SVpFIC0gMTsNCj4gPiBAQCAtNjQyLDE1ICs2MDUsMTMgQEAgc3RhdGljIHNzaXplX3QgYW1kZ3B1
X3NldF9wcF90YWJsZShzdHJ1Y3QgZGV2aWNlDQo+ICpkZXYsDQo+ID4gICAJfQ0KPiA+DQo+ID4g
ICAJcmV0ID0gYW1kZ3B1X2RwbV9zZXRfcHBfdGFibGUoYWRldiwgYnVmLCBjb3VudCk7DQo+ID4g
LQlpZiAocmV0KSB7DQo+ID4gLQkJcG1fcnVudGltZV9tYXJrX2xhc3RfYnVzeShkZGV2LT5kZXYp
Ow0KPiA+IC0JCXBtX3J1bnRpbWVfcHV0X2F1dG9zdXNwZW5kKGRkZXYtPmRldik7DQo+ID4gLQkJ
cmV0dXJuIHJldDsNCj4gPiAtCX0NCj4gPg0KPiA+ICAgCXBtX3J1bnRpbWVfbWFya19sYXN0X2J1
c3koZGRldi0+ZGV2KTsNCj4gPiAgIAlwbV9ydW50aW1lX3B1dF9hdXRvc3VzcGVuZChkZGV2LT5k
ZXYpOw0KPiA+DQo+ID4gKwlpZiAocmV0KQ0KPiA+ICsJCXJldHVybiByZXQ7DQo+ID4gKw0KPiA+
ICAgCXJldHVybiBjb3VudDsNCj4gPiAgIH0NCj4gPg0KPiA+IEBAIC04NjYsNDYgKzgyNywzMiBA
QCBzdGF0aWMgc3NpemVfdA0KPiBhbWRncHVfc2V0X3BwX29kX2Nsa192b2x0YWdlKHN0cnVjdCBk
ZXZpY2UgKmRldiwNCj4gPiAgIAkJcmV0dXJuIHJldDsNCj4gPiAgIAl9DQo+ID4NCj4gPiAtCWlm
IChhZGV2LT5wb3dlcnBsYXkucHBfZnVuY3MtPnNldF9maW5lX2dyYWluX2Nsa192b2wpIHsNCj4g
PiAtCQlyZXQgPSBhbWRncHVfZHBtX3NldF9maW5lX2dyYWluX2Nsa192b2woYWRldiwgdHlwZSwN
Cj4gPiAtCQkJCQkJCXBhcmFtZXRlciwNCj4gPiAtCQkJCQkJCXBhcmFtZXRlcl9zaXplKTsNCj4g
PiAtCQlpZiAocmV0KSB7DQo+ID4gLQkJCXBtX3J1bnRpbWVfbWFya19sYXN0X2J1c3koZGRldi0+
ZGV2KTsNCj4gPiAtCQkJcG1fcnVudGltZV9wdXRfYXV0b3N1c3BlbmQoZGRldi0+ZGV2KTsNCj4g
PiAtCQkJcmV0dXJuIC1FSU5WQUw7DQo+ID4gLQkJfQ0KPiA+IC0JfQ0KPiA+ICsJaWYgKGFtZGdw
dV9kcG1fc2V0X2ZpbmVfZ3JhaW5fY2xrX3ZvbChhZGV2LA0KPiA+ICsJCQkJCSAgICAgIHR5cGUs
DQo+ID4gKwkJCQkJICAgICAgcGFyYW1ldGVyLA0KPiA+ICsJCQkJCSAgICAgIHBhcmFtZXRlcl9z
aXplKSkNCj4gPiArCQlnb3RvIGVycl9vdXQ7DQo+ID4NCj4gPiAtCWlmIChhZGV2LT5wb3dlcnBs
YXkucHBfZnVuY3MtPm9kbl9lZGl0X2RwbV90YWJsZSkgew0KPiA+IC0JCXJldCA9IGFtZGdwdV9k
cG1fb2RuX2VkaXRfZHBtX3RhYmxlKGFkZXYsIHR5cGUsDQo+ID4gLQkJCQkJCSAgICBwYXJhbWV0
ZXIsDQo+IHBhcmFtZXRlcl9zaXplKTsNCj4gPiAtCQlpZiAocmV0KSB7DQo+ID4gLQkJCXBtX3J1
bnRpbWVfbWFya19sYXN0X2J1c3koZGRldi0+ZGV2KTsNCj4gPiAtCQkJcG1fcnVudGltZV9wdXRf
YXV0b3N1c3BlbmQoZGRldi0+ZGV2KTsNCj4gPiAtCQkJcmV0dXJuIC1FSU5WQUw7DQo+ID4gLQkJ
fQ0KPiA+IC0JfQ0KPiA+ICsJaWYgKGFtZGdwdV9kcG1fb2RuX2VkaXRfZHBtX3RhYmxlKGFkZXYs
IHR5cGUsDQo+ID4gKwkJCQkJICBwYXJhbWV0ZXIsIHBhcmFtZXRlcl9zaXplKSkNCj4gPiArCQln
b3RvIGVycl9vdXQ7DQo+ID4NCj4gDQo+IFRoaXMgaXMgb25lIGV4YW1wbGUgb2YgcmV0dXJuaW5n
ICdmYWtlIHN1Y2Nlc3MnIGVmZmVjdC4gSWYgdGhlIGZ1bmN0aW9uDQo+IGlzIG5vdCBpbXBsZW1l
bnRlZCBpdCBwcm9jZWVkcy4gVGhlcmUgaXMgbm8gbmVlZCB0byBwcm9jZWVkIGlmIHRoZXJlIGlz
DQo+IG5vIHN1cHBvcnQuDQo+IA0KPiANCj4gVGhhbmtzLA0KPiBMaWpvDQo+IA0KPiA+ICAgCWlm
ICh0eXBlID09IFBQX09EX0NPTU1JVF9EUE1fVEFCTEUpIHsNCj4gPiAtCQlpZiAoYWRldi0+cG93
ZXJwbGF5LnBwX2Z1bmNzLT5kaXNwYXRjaF90YXNrcykgew0KPiA+IC0JCQlhbWRncHVfZHBtX2Rp
c3BhdGNoX3Rhc2soYWRldiwNCj4gPiAtDQo+IEFNRF9QUF9UQVNLX1JFQURKVVNUX1BPV0VSX1NU
QVRFLA0KPiA+IC0JCQkJCQkgTlVMTCk7DQo+ID4gLQkJCXBtX3J1bnRpbWVfbWFya19sYXN0X2J1
c3koZGRldi0+ZGV2KTsNCj4gPiAtCQkJcG1fcnVudGltZV9wdXRfYXV0b3N1c3BlbmQoZGRldi0+
ZGV2KTsNCj4gPiAtCQkJcmV0dXJuIGNvdW50Ow0KPiA+IC0JCX0gZWxzZSB7DQo+ID4gLQkJCXBt
X3J1bnRpbWVfbWFya19sYXN0X2J1c3koZGRldi0+ZGV2KTsNCj4gPiAtCQkJcG1fcnVudGltZV9w
dXRfYXV0b3N1c3BlbmQoZGRldi0+ZGV2KTsNCj4gPiAtCQkJcmV0dXJuIC1FSU5WQUw7DQo+ID4g
LQkJfQ0KPiA+ICsJCWlmIChhbWRncHVfZHBtX2Rpc3BhdGNoX3Rhc2soYWRldiwNCj4gPiArDQo+
IEFNRF9QUF9UQVNLX1JFQURKVVNUX1BPV0VSX1NUQVRFLA0KPiA+ICsJCQkJCSAgICAgTlVMTCkp
DQo+ID4gKwkJCWdvdG8gZXJyX291dDsNCj4gPiAgIAl9DQo+ID4NCj4gPiAgIAlwbV9ydW50aW1l
X21hcmtfbGFzdF9idXN5KGRkZXYtPmRldik7DQo+ID4gICAJcG1fcnVudGltZV9wdXRfYXV0b3N1
c3BlbmQoZGRldi0+ZGV2KTsNCj4gPg0KPiA+ICAgCXJldHVybiBjb3VudDsNCj4gPiArDQo+ID4g
K2Vycl9vdXQ6DQo+ID4gKwlwbV9ydW50aW1lX21hcmtfbGFzdF9idXN5KGRkZXYtPmRldik7DQo+
ID4gKwlwbV9ydW50aW1lX3B1dF9hdXRvc3VzcGVuZChkZGV2LT5kZXYpOw0KPiA+ICsJcmV0dXJu
IC1FSU5WQUw7DQo+ID4gICB9DQo+ID4NCj4gPiAgIHN0YXRpYyBzc2l6ZV90IGFtZGdwdV9nZXRf
cHBfb2RfY2xrX3ZvbHRhZ2Uoc3RydWN0IGRldmljZSAqZGV2LA0KPiA+IEBAIC05MjgsOCArODc1
LDggQEAgc3RhdGljIHNzaXplX3QNCj4gYW1kZ3B1X2dldF9wcF9vZF9jbGtfdm9sdGFnZShzdHJ1
Y3QgZGV2aWNlICpkZXYsDQo+ID4gICAJCXJldHVybiByZXQ7DQo+ID4gICAJfQ0KPiA+DQo+ID4g
LQlpZiAoYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzLT5wcmludF9jbG9ja19sZXZlbHMpIHsNCj4g
PiAtCQlzaXplID0gYW1kZ3B1X2RwbV9wcmludF9jbG9ja19sZXZlbHMoYWRldiwgT0RfU0NMSywg
YnVmKTsNCj4gPiArCXNpemUgPSBhbWRncHVfZHBtX3ByaW50X2Nsb2NrX2xldmVscyhhZGV2LCBP
RF9TQ0xLLCBidWYpOw0KPiA+ICsJaWYgKHNpemUgPiAwKSB7DQo+ID4gICAJCXNpemUgKz0gYW1k
Z3B1X2RwbV9wcmludF9jbG9ja19sZXZlbHMoYWRldiwgT0RfTUNMSywNCj4gYnVmK3NpemUpOw0K
PiA+ICAgCQlzaXplICs9IGFtZGdwdV9kcG1fcHJpbnRfY2xvY2tfbGV2ZWxzKGFkZXYsDQo+IE9E
X1ZERENfQ1VSVkUsIGJ1ZitzaXplKTsNCj4gPiAgIAkJc2l6ZSArPSBhbWRncHVfZHBtX3ByaW50
X2Nsb2NrX2xldmVscyhhZGV2LA0KPiBPRF9WRERHRlhfT0ZGU0VULCBidWYrc2l6ZSk7DQo+ID4g
QEAgLTk4NSwxNyArOTMyLDE0IEBAIHN0YXRpYyBzc2l6ZV90IGFtZGdwdV9zZXRfcHBfZmVhdHVy
ZXMoc3RydWN0DQo+IGRldmljZSAqZGV2LA0KPiA+ICAgCQlyZXR1cm4gcmV0Ow0KPiA+ICAgCX0N
Cj4gPg0KPiA+IC0JaWYgKGFkZXYtPnBvd2VycGxheS5wcF9mdW5jcy0+c2V0X3BwZmVhdHVyZV9z
dGF0dXMpIHsNCj4gPiAtCQlyZXQgPSBhbWRncHVfZHBtX3NldF9wcGZlYXR1cmVfc3RhdHVzKGFk
ZXYsDQo+IGZlYXR1cmVtYXNrKTsNCj4gPiAtCQlpZiAocmV0KSB7DQo+ID4gLQkJCXBtX3J1bnRp
bWVfbWFya19sYXN0X2J1c3koZGRldi0+ZGV2KTsNCj4gPiAtCQkJcG1fcnVudGltZV9wdXRfYXV0
b3N1c3BlbmQoZGRldi0+ZGV2KTsNCj4gPiAtCQkJcmV0dXJuIC1FSU5WQUw7DQo+ID4gLQkJfQ0K
PiA+IC0JfQ0KPiA+ICsJcmV0ID0gYW1kZ3B1X2RwbV9zZXRfcHBmZWF0dXJlX3N0YXR1cyhhZGV2
LCBmZWF0dXJlbWFzayk7DQo+ID4gKw0KPiA+ICAgCXBtX3J1bnRpbWVfbWFya19sYXN0X2J1c3ko
ZGRldi0+ZGV2KTsNCj4gPiAgIAlwbV9ydW50aW1lX3B1dF9hdXRvc3VzcGVuZChkZGV2LT5kZXYp
Ow0KPiA+DQo+ID4gKwlpZiAocmV0KQ0KPiA+ICsJCXJldHVybiAtRUlOVkFMOw0KPiA+ICsNCj4g
PiAgIAlyZXR1cm4gY291bnQ7DQo+ID4gICB9DQo+ID4NCj4gPiBAQCAtMTAxOSw5ICs5NjMsOCBA
QCBzdGF0aWMgc3NpemVfdCBhbWRncHVfZ2V0X3BwX2ZlYXR1cmVzKHN0cnVjdA0KPiBkZXZpY2Ug
KmRldiwNCj4gPiAgIAkJcmV0dXJuIHJldDsNCj4gPiAgIAl9DQo+ID4NCj4gPiAtCWlmIChhZGV2
LT5wb3dlcnBsYXkucHBfZnVuY3MtPmdldF9wcGZlYXR1cmVfc3RhdHVzKQ0KPiA+IC0JCXNpemUg
PSBhbWRncHVfZHBtX2dldF9wcGZlYXR1cmVfc3RhdHVzKGFkZXYsIGJ1Zik7DQo+ID4gLQllbHNl
DQo+ID4gKwlzaXplID0gYW1kZ3B1X2RwbV9nZXRfcHBmZWF0dXJlX3N0YXR1cyhhZGV2LCBidWYp
Ow0KPiA+ICsJaWYgKHNpemUgPD0gMCkNCj4gPiAgIAkJc2l6ZSA9IHN5c2ZzX2VtaXQoYnVmLCAi
XG4iKTsNCj4gPg0KPiA+ICAgCXBtX3J1bnRpbWVfbWFya19sYXN0X2J1c3koZGRldi0+ZGV2KTsN
Cj4gPiBAQCAtMTA4MCw5ICsxMDIzLDggQEAgc3RhdGljIHNzaXplX3QgYW1kZ3B1X2dldF9wcF9k
cG1fY2xvY2soc3RydWN0DQo+IGRldmljZSAqZGV2LA0KPiA+ICAgCQlyZXR1cm4gcmV0Ow0KPiA+
ICAgCX0NCj4gPg0KPiA+IC0JaWYgKGFkZXYtPnBvd2VycGxheS5wcF9mdW5jcy0+cHJpbnRfY2xv
Y2tfbGV2ZWxzKQ0KPiA+IC0JCXNpemUgPSBhbWRncHVfZHBtX3ByaW50X2Nsb2NrX2xldmVscyhh
ZGV2LCB0eXBlLCBidWYpOw0KPiA+IC0JZWxzZQ0KPiA+ICsJc2l6ZSA9IGFtZGdwdV9kcG1fcHJp
bnRfY2xvY2tfbGV2ZWxzKGFkZXYsIHR5cGUsIGJ1Zik7DQo+ID4gKwlpZiAoc2l6ZSA8PSAwKQ0K
PiA+ICAgCQlzaXplID0gc3lzZnNfZW1pdChidWYsICJcbiIpOw0KPiA+DQo+ID4gICAJcG1fcnVu
dGltZV9tYXJrX2xhc3RfYnVzeShkZGV2LT5kZXYpOw0KPiA+IEBAIC0xMTUxLDEwICsxMDkzLDcg
QEAgc3RhdGljIHNzaXplX3QgYW1kZ3B1X3NldF9wcF9kcG1fY2xvY2soc3RydWN0DQo+IGRldmlj
ZSAqZGV2LA0KPiA+ICAgCQlyZXR1cm4gcmV0Ow0KPiA+ICAgCX0NCj4gPg0KPiA+IC0JaWYgKGFk
ZXYtPnBvd2VycGxheS5wcF9mdW5jcy0+Zm9yY2VfY2xvY2tfbGV2ZWwpDQo+ID4gLQkJcmV0ID0g
YW1kZ3B1X2RwbV9mb3JjZV9jbG9ja19sZXZlbChhZGV2LCB0eXBlLCBtYXNrKTsNCj4gPiAtCWVs
c2UNCj4gPiAtCQlyZXQgPSAwOw0KPiA+ICsJcmV0ID0gYW1kZ3B1X2RwbV9mb3JjZV9jbG9ja19s
ZXZlbChhZGV2LCB0eXBlLCBtYXNrKTsNCj4gPg0KPiA+ICAgCXBtX3J1bnRpbWVfbWFya19sYXN0
X2J1c3koZGRldi0+ZGV2KTsNCj4gPiAgIAlwbV9ydW50aW1lX3B1dF9hdXRvc3VzcGVuZChkZGV2
LT5kZXYpOw0KPiA+IEBAIC0xMzA1LDEwICsxMjQ0LDcgQEAgc3RhdGljIHNzaXplX3QgYW1kZ3B1
X2dldF9wcF9zY2xrX29kKHN0cnVjdA0KPiBkZXZpY2UgKmRldiwNCj4gPiAgIAkJcmV0dXJuIHJl
dDsNCj4gPiAgIAl9DQo+ID4NCj4gPiAtCWlmIChpc19zdXBwb3J0X3N3X3NtdShhZGV2KSkNCj4g
PiAtCQl2YWx1ZSA9IDA7DQo+ID4gLQllbHNlIGlmIChhZGV2LT5wb3dlcnBsYXkucHBfZnVuY3Mt
PmdldF9zY2xrX29kKQ0KPiA+IC0JCXZhbHVlID0gYW1kZ3B1X2RwbV9nZXRfc2Nsa19vZChhZGV2
KTsNCj4gPiArCXZhbHVlID0gYW1kZ3B1X2RwbV9nZXRfc2Nsa19vZChhZGV2KTsNCj4gPg0KPiA+
ICAgCXBtX3J1bnRpbWVfbWFya19sYXN0X2J1c3koZGRldi0+ZGV2KTsNCj4gPiAgIAlwbV9ydW50
aW1lX3B1dF9hdXRvc3VzcGVuZChkZGV2LT5kZXYpOw0KPiA+IEBAIC0xMzQyLDE5ICsxMjc4LDcg
QEAgc3RhdGljIHNzaXplX3QgYW1kZ3B1X3NldF9wcF9zY2xrX29kKHN0cnVjdA0KPiBkZXZpY2Ug
KmRldiwNCj4gPiAgIAkJcmV0dXJuIHJldDsNCj4gPiAgIAl9DQo+ID4NCj4gPiAtCWlmIChpc19z
dXBwb3J0X3N3X3NtdShhZGV2KSkgew0KPiA+IC0JCXZhbHVlID0gMDsNCj4gPiAtCX0gZWxzZSB7
DQo+ID4gLQkJaWYgKGFkZXYtPnBvd2VycGxheS5wcF9mdW5jcy0+c2V0X3NjbGtfb2QpDQo+ID4g
LQkJCWFtZGdwdV9kcG1fc2V0X3NjbGtfb2QoYWRldiwgKHVpbnQzMl90KXZhbHVlKTsNCj4gPiAt
DQo+ID4gLQkJaWYgKGFkZXYtPnBvd2VycGxheS5wcF9mdW5jcy0+ZGlzcGF0Y2hfdGFza3MpIHsN
Cj4gPiAtCQkJYW1kZ3B1X2RwbV9kaXNwYXRjaF90YXNrKGFkZXYsDQo+IEFNRF9QUF9UQVNLX1JF
QURKVVNUX1BPV0VSX1NUQVRFLCBOVUxMKTsNCj4gPiAtCQl9IGVsc2Ugew0KPiA+IC0JCQlhZGV2
LT5wbS5kcG0uY3VycmVudF9wcyA9IGFkZXYtDQo+ID5wbS5kcG0uYm9vdF9wczsNCj4gPiAtCQkJ
YW1kZ3B1X3BtX2NvbXB1dGVfY2xvY2tzKGFkZXYpOw0KPiA+IC0JCX0NCj4gPiAtCX0NCj4gPiAr
CWFtZGdwdV9kcG1fc2V0X3NjbGtfb2QoYWRldiwgKHVpbnQzMl90KXZhbHVlKTsNCj4gPg0KPiA+
ICAgCXBtX3J1bnRpbWVfbWFya19sYXN0X2J1c3koZGRldi0+ZGV2KTsNCj4gPiAgIAlwbV9ydW50
aW1lX3B1dF9hdXRvc3VzcGVuZChkZGV2LT5kZXYpOw0KPiA+IEBAIC0xMzgyLDEwICsxMzA2LDcg
QEAgc3RhdGljIHNzaXplX3QgYW1kZ3B1X2dldF9wcF9tY2xrX29kKHN0cnVjdA0KPiBkZXZpY2Ug
KmRldiwNCj4gPiAgIAkJcmV0dXJuIHJldDsNCj4gPiAgIAl9DQo+ID4NCj4gPiAtCWlmIChpc19z
dXBwb3J0X3N3X3NtdShhZGV2KSkNCj4gPiAtCQl2YWx1ZSA9IDA7DQo+ID4gLQllbHNlIGlmIChh
ZGV2LT5wb3dlcnBsYXkucHBfZnVuY3MtPmdldF9tY2xrX29kKQ0KPiA+IC0JCXZhbHVlID0gYW1k
Z3B1X2RwbV9nZXRfbWNsa19vZChhZGV2KTsNCj4gPiArCXZhbHVlID0gYW1kZ3B1X2RwbV9nZXRf
bWNsa19vZChhZGV2KTsNCj4gPg0KPiA+ICAgCXBtX3J1bnRpbWVfbWFya19sYXN0X2J1c3koZGRl
di0+ZGV2KTsNCj4gPiAgIAlwbV9ydW50aW1lX3B1dF9hdXRvc3VzcGVuZChkZGV2LT5kZXYpOw0K
PiA+IEBAIC0xNDE5LDE5ICsxMzQwLDcgQEAgc3RhdGljIHNzaXplX3QgYW1kZ3B1X3NldF9wcF9t
Y2xrX29kKHN0cnVjdA0KPiBkZXZpY2UgKmRldiwNCj4gPiAgIAkJcmV0dXJuIHJldDsNCj4gPiAg
IAl9DQo+ID4NCj4gPiAtCWlmIChpc19zdXBwb3J0X3N3X3NtdShhZGV2KSkgew0KPiA+IC0JCXZh
bHVlID0gMDsNCj4gPiAtCX0gZWxzZSB7DQo+ID4gLQkJaWYgKGFkZXYtPnBvd2VycGxheS5wcF9m
dW5jcy0+c2V0X21jbGtfb2QpDQo+ID4gLQkJCWFtZGdwdV9kcG1fc2V0X21jbGtfb2QoYWRldiwg
KHVpbnQzMl90KXZhbHVlKTsNCj4gPiAtDQo+ID4gLQkJaWYgKGFkZXYtPnBvd2VycGxheS5wcF9m
dW5jcy0+ZGlzcGF0Y2hfdGFza3MpIHsNCj4gPiAtCQkJYW1kZ3B1X2RwbV9kaXNwYXRjaF90YXNr
KGFkZXYsDQo+IEFNRF9QUF9UQVNLX1JFQURKVVNUX1BPV0VSX1NUQVRFLCBOVUxMKTsNCj4gPiAt
CQl9IGVsc2Ugew0KPiA+IC0JCQlhZGV2LT5wbS5kcG0uY3VycmVudF9wcyA9IGFkZXYtDQo+ID5w
bS5kcG0uYm9vdF9wczsNCj4gPiAtCQkJYW1kZ3B1X3BtX2NvbXB1dGVfY2xvY2tzKGFkZXYpOw0K
PiA+IC0JCX0NCj4gPiAtCX0NCj4gPiArCWFtZGdwdV9kcG1fc2V0X21jbGtfb2QoYWRldiwgKHVp
bnQzMl90KXZhbHVlKTsNCj4gPg0KPiA+ICAgCXBtX3J1bnRpbWVfbWFya19sYXN0X2J1c3koZGRl
di0+ZGV2KTsNCj4gPiAgIAlwbV9ydW50aW1lX3B1dF9hdXRvc3VzcGVuZChkZGV2LT5kZXYpOw0K
PiA+IEBAIC0xNDc5LDkgKzEzODgsOCBAQCBzdGF0aWMgc3NpemVfdA0KPiBhbWRncHVfZ2V0X3Bw
X3Bvd2VyX3Byb2ZpbGVfbW9kZShzdHJ1Y3QgZGV2aWNlICpkZXYsDQo+ID4gICAJCXJldHVybiBy
ZXQ7DQo+ID4gICAJfQ0KPiA+DQo+ID4gLQlpZiAoYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzLT5n
ZXRfcG93ZXJfcHJvZmlsZV9tb2RlKQ0KPiA+IC0JCXNpemUgPSBhbWRncHVfZHBtX2dldF9wb3dl
cl9wcm9maWxlX21vZGUoYWRldiwgYnVmKTsNCj4gPiAtCWVsc2UNCj4gPiArCXNpemUgPSBhbWRn
cHVfZHBtX2dldF9wb3dlcl9wcm9maWxlX21vZGUoYWRldiwgYnVmKTsNCj4gPiArCWlmIChzaXpl
IDw9IDApDQo+ID4gICAJCXNpemUgPSBzeXNmc19lbWl0KGJ1ZiwgIlxuIik7DQo+ID4NCj4gPiAg
IAlwbV9ydW50aW1lX21hcmtfbGFzdF9idXN5KGRkZXYtPmRldik7DQo+ID4gQEAgLTE1NDUsOCAr
MTQ1Myw3IEBAIHN0YXRpYyBzc2l6ZV90DQo+IGFtZGdwdV9zZXRfcHBfcG93ZXJfcHJvZmlsZV9t
b2RlKHN0cnVjdCBkZXZpY2UgKmRldiwNCj4gPiAgIAkJcmV0dXJuIHJldDsNCj4gPiAgIAl9DQo+
ID4NCj4gPiAtCWlmIChhZGV2LT5wb3dlcnBsYXkucHBfZnVuY3MtPnNldF9wb3dlcl9wcm9maWxl
X21vZGUpDQo+ID4gLQkJcmV0ID0gYW1kZ3B1X2RwbV9zZXRfcG93ZXJfcHJvZmlsZV9tb2RlKGFk
ZXYsDQo+IHBhcmFtZXRlciwgcGFyYW1ldGVyX3NpemUpOw0KPiA+ICsJcmV0ID0gYW1kZ3B1X2Rw
bV9zZXRfcG93ZXJfcHJvZmlsZV9tb2RlKGFkZXYsIHBhcmFtZXRlciwNCj4gcGFyYW1ldGVyX3Np
emUpOw0KPiA+DQo+ID4gICAJcG1fcnVudGltZV9tYXJrX2xhc3RfYnVzeShkZGV2LT5kZXYpOw0K
PiA+ICAgCXBtX3J1bnRpbWVfcHV0X2F1dG9zdXNwZW5kKGRkZXYtPmRldik7DQo+ID4gQEAgLTE4
MTIsOSArMTcxOSw3IEBAIHN0YXRpYyBzc2l6ZV90IGFtZGdwdV9nZXRfZ3B1X21ldHJpY3Moc3Ry
dWN0DQo+IGRldmljZSAqZGV2LA0KPiA+ICAgCQlyZXR1cm4gcmV0Ow0KPiA+ICAgCX0NCj4gPg0K
PiA+IC0JaWYgKGFkZXYtPnBvd2VycGxheS5wcF9mdW5jcy0+Z2V0X2dwdV9tZXRyaWNzKQ0KPiA+
IC0JCXNpemUgPSBhbWRncHVfZHBtX2dldF9ncHVfbWV0cmljcyhhZGV2LCAmZ3B1X21ldHJpY3Mp
Ow0KPiA+IC0NCj4gPiArCXNpemUgPSBhbWRncHVfZHBtX2dldF9ncHVfbWV0cmljcyhhZGV2LCAm
Z3B1X21ldHJpY3MpOw0KPiA+ICAgCWlmIChzaXplIDw9IDApDQo+ID4gICAJCWdvdG8gb3V0Ow0K
PiA+DQo+ID4gQEAgLTIwNTMsNyArMTk1OCw2IEBAIHN0YXRpYyBpbnQgZGVmYXVsdF9hdHRyX3Vw
ZGF0ZShzdHJ1Y3QNCj4gYW1kZ3B1X2RldmljZSAqYWRldiwgc3RydWN0IGFtZGdwdV9kZXZpY2Vf
DQo+ID4gICB7DQo+ID4gICAJc3RydWN0IGRldmljZV9hdHRyaWJ1dGUgKmRldl9hdHRyID0gJmF0
dHItPmRldl9hdHRyOw0KPiA+ICAgCWNvbnN0IGNoYXIgKmF0dHJfbmFtZSA9IGRldl9hdHRyLT5h
dHRyLm5hbWU7DQo+ID4gLQlzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyID0gYWRldi0+cG93ZXJwbGF5
LnBwX2hhbmRsZTsNCj4gPiAgIAllbnVtIGFtZF9hc2ljX3R5cGUgYXNpY190eXBlID0gYWRldi0+
YXNpY190eXBlOw0KPiA+DQo+ID4gICAJaWYgKCEoYXR0ci0+ZmxhZ3MgJiBtYXNrKSkgew0KPiA+
IEBAIC0yMDc2LDkgKzE5ODAsNyBAQCBzdGF0aWMgaW50IGRlZmF1bHRfYXR0cl91cGRhdGUoc3Ry
dWN0DQo+IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHN0cnVjdCBhbWRncHVfZGV2aWNlXw0KPiA+ICAg
CQkJKnN0YXRlcyA9IEFUVFJfU1RBVEVfVU5TVVBQT1JURUQ7DQo+ID4gICAJfSBlbHNlIGlmIChE
RVZJQ0VfQVRUUl9JUyhwcF9vZF9jbGtfdm9sdGFnZSkpIHsNCj4gPiAgIAkJKnN0YXRlcyA9IEFU
VFJfU1RBVEVfVU5TVVBQT1JURUQ7DQo+ID4gLQkJaWYgKChpc19zdXBwb3J0X3N3X3NtdShhZGV2
KSAmJiBhZGV2LT5zbXUub2RfZW5hYmxlZCkNCj4gfHwNCj4gPiAtCQkgICAgKGlzX3N1cHBvcnRf
c3dfc211KGFkZXYpICYmIGFkZXYtPnNtdS5pc19hcHUpIHx8DQo+ID4gLQkJCSghaXNfc3VwcG9y
dF9zd19zbXUoYWRldikgJiYgaHdtZ3ItDQo+ID5vZF9lbmFibGVkKSkNCj4gPiArCQlpZiAoYW1k
Z3B1X2RwbV9pc19vdmVyZHJpdmVfc3VwcG9ydGVkKGFkZXYpKQ0KPiA+ICAgCQkJKnN0YXRlcyA9
IEFUVFJfU1RBVEVfU1VQUE9SVEVEOw0KPiA+ICAgCX0gZWxzZSBpZiAoREVWSUNFX0FUVFJfSVMo
bWVtX2J1c3lfcGVyY2VudCkpIHsNCj4gPiAgIAkJaWYgKGFkZXYtPmZsYWdzICYgQU1EX0lTX0FQ
VSB8fCBhc2ljX3R5cGUgPT0gQ0hJUF9WRUdBMTApDQo+ID4gQEAgLTIxMDUsOCArMjAwNyw3IEBA
IHN0YXRpYyBpbnQgZGVmYXVsdF9hdHRyX3VwZGF0ZShzdHJ1Y3QNCj4gYW1kZ3B1X2RldmljZSAq
YWRldiwgc3RydWN0IGFtZGdwdV9kZXZpY2VfDQo+ID4gICAJCWlmICghKGFzaWNfdHlwZSA9PSBD
SElQX1ZBTkdPR0ggfHwgYXNpY190eXBlID09DQo+IENISVBfU0lFTk5BX0NJQ0hMSUQpKQ0KPiA+
ICAgCQkJKnN0YXRlcyA9IEFUVFJfU1RBVEVfVU5TVVBQT1JURUQ7DQo+ID4gICAJfSBlbHNlIGlm
IChERVZJQ0VfQVRUUl9JUyhwcF9wb3dlcl9wcm9maWxlX21vZGUpKSB7DQo+ID4gLQkJaWYgKCFh
ZGV2LT5wb3dlcnBsYXkucHBfZnVuY3MtPmdldF9wb3dlcl9wcm9maWxlX21vZGUNCj4gfHwNCj4g
PiAtCQkgICAgYW1kZ3B1X2RwbV9nZXRfcG93ZXJfcHJvZmlsZV9tb2RlKGFkZXYsIE5VTEwpID09
IC0NCj4gRU9QTk9UU1VQUCkNCj4gPiArCQlpZiAoYW1kZ3B1X2RwbV9nZXRfcG93ZXJfcHJvZmls
ZV9tb2RlKGFkZXYsIE5VTEwpID09DQo+IC1FT1BOT1RTVVBQKQ0KPiA+ICAgCQkJKnN0YXRlcyA9
IEFUVFJfU1RBVEVfVU5TVVBQT1JURUQ7DQo+ID4gICAJfQ0KPiA+DQo+ID4gQEAgLTIzODksMTcg
KzIyOTAsMTQgQEAgc3RhdGljIHNzaXplX3QNCj4gYW1kZ3B1X2h3bW9uX2dldF9wd20xX2VuYWJs
ZShzdHJ1Y3QgZGV2aWNlICpkZXYsDQo+ID4gICAJCXJldHVybiByZXQ7DQo+ID4gICAJfQ0KPiA+
DQo+ID4gLQlpZiAoIWFkZXYtPnBvd2VycGxheS5wcF9mdW5jcy0+Z2V0X2Zhbl9jb250cm9sX21v
ZGUpIHsNCj4gPiAtCQlwbV9ydW50aW1lX21hcmtfbGFzdF9idXN5KGFkZXZfdG9fZHJtKGFkZXYp
LT5kZXYpOw0KPiA+IC0JCXBtX3J1bnRpbWVfcHV0X2F1dG9zdXNwZW5kKGFkZXZfdG9fZHJtKGFk
ZXYpLT5kZXYpOw0KPiA+IC0JCXJldHVybiAtRUlOVkFMOw0KPiA+IC0JfQ0KPiA+IC0NCj4gPiAt
CXB3bV9tb2RlID0gYW1kZ3B1X2RwbV9nZXRfZmFuX2NvbnRyb2xfbW9kZShhZGV2KTsNCj4gPiAr
CXJldCA9IGFtZGdwdV9kcG1fZ2V0X2Zhbl9jb250cm9sX21vZGUoYWRldiwgJnB3bV9tb2RlKTsN
Cj4gPg0KPiA+ICAgCXBtX3J1bnRpbWVfbWFya19sYXN0X2J1c3koYWRldl90b19kcm0oYWRldikt
PmRldik7DQo+ID4gICAJcG1fcnVudGltZV9wdXRfYXV0b3N1c3BlbmQoYWRldl90b19kcm0oYWRl
diktPmRldik7DQo+ID4NCj4gPiArCWlmIChyZXQpDQo+ID4gKwkJcmV0dXJuIC1FSU5WQUw7DQo+
ID4gKw0KPiA+ICAgCXJldHVybiBzeXNmc19lbWl0KGJ1ZiwgIiV1XG4iLCBwd21fbW9kZSk7DQo+
ID4gICB9DQo+ID4NCj4gPiBAQCAtMjQyNywxNyArMjMyNSwxNCBAQCBzdGF0aWMgc3NpemVfdA0K
PiBhbWRncHVfaHdtb25fc2V0X3B3bTFfZW5hYmxlKHN0cnVjdCBkZXZpY2UgKmRldiwNCj4gPiAg
IAkJcmV0dXJuIHJldDsNCj4gPiAgIAl9DQo+ID4NCj4gPiAtCWlmICghYWRldi0+cG93ZXJwbGF5
LnBwX2Z1bmNzLT5zZXRfZmFuX2NvbnRyb2xfbW9kZSkgew0KPiA+IC0JCXBtX3J1bnRpbWVfbWFy
a19sYXN0X2J1c3koYWRldl90b19kcm0oYWRldiktPmRldik7DQo+ID4gLQkJcG1fcnVudGltZV9w
dXRfYXV0b3N1c3BlbmQoYWRldl90b19kcm0oYWRldiktPmRldik7DQo+ID4gLQkJcmV0dXJuIC1F
SU5WQUw7DQo+ID4gLQl9DQo+ID4gLQ0KPiA+IC0JYW1kZ3B1X2RwbV9zZXRfZmFuX2NvbnRyb2xf
bW9kZShhZGV2LCB2YWx1ZSk7DQo+ID4gKwlyZXQgPSBhbWRncHVfZHBtX3NldF9mYW5fY29udHJv
bF9tb2RlKGFkZXYsIHZhbHVlKTsNCj4gPg0KPiA+ICAgCXBtX3J1bnRpbWVfbWFya19sYXN0X2J1
c3koYWRldl90b19kcm0oYWRldiktPmRldik7DQo+ID4gICAJcG1fcnVudGltZV9wdXRfYXV0b3N1
c3BlbmQoYWRldl90b19kcm0oYWRldiktPmRldik7DQo+ID4NCj4gPiArCWlmIChyZXQpDQo+ID4g
KwkJcmV0dXJuIC1FSU5WQUw7DQo+ID4gKw0KPiA+ICAgCXJldHVybiBjb3VudDsNCj4gPiAgIH0N
Cj4gPg0KPiA+IEBAIC0yNDY5LDMyICsyMzY0LDI5IEBAIHN0YXRpYyBzc2l6ZV90DQo+IGFtZGdw
dV9od21vbl9zZXRfcHdtMShzdHJ1Y3QgZGV2aWNlICpkZXYsDQo+ID4gICAJaWYgKGFkZXYtPmlu
X3N1c3BlbmQgJiYgIWFkZXYtPmluX3J1bnBtKQ0KPiA+ICAgCQlyZXR1cm4gLUVQRVJNOw0KPiA+
DQo+ID4gKwllcnIgPSBrc3RydG91MzIoYnVmLCAxMCwgJnZhbHVlKTsNCj4gPiArCWlmIChlcnIp
DQo+ID4gKwkJcmV0dXJuIGVycjsNCj4gPiArDQo+ID4gICAJZXJyID0gcG1fcnVudGltZV9nZXRf
c3luYyhhZGV2X3RvX2RybShhZGV2KS0+ZGV2KTsNCj4gPiAgIAlpZiAoZXJyIDwgMCkgew0KPiA+
ICAgCQlwbV9ydW50aW1lX3B1dF9hdXRvc3VzcGVuZChhZGV2X3RvX2RybShhZGV2KS0+ZGV2KTsN
Cj4gPiAgIAkJcmV0dXJuIGVycjsNCj4gPiAgIAl9DQo+ID4NCj4gPiAtCXB3bV9tb2RlID0gYW1k
Z3B1X2RwbV9nZXRfZmFuX2NvbnRyb2xfbW9kZShhZGV2KTsNCj4gPiArCWVyciA9IGFtZGdwdV9k
cG1fZ2V0X2Zhbl9jb250cm9sX21vZGUoYWRldiwgJnB3bV9tb2RlKTsNCj4gPiArCWlmIChlcnIp
DQo+ID4gKwkJZ290byBvdXQ7DQo+ID4gKw0KPiA+ICAgCWlmIChwd21fbW9kZSAhPSBBTURfRkFO
X0NUUkxfTUFOVUFMKSB7DQo+ID4gICAJCXByX2luZm8oIm1hbnVhbCBmYW4gc3BlZWQgY29udHJv
bCBzaG91bGQgYmUgZW5hYmxlZA0KPiBmaXJzdFxuIik7DQo+ID4gLQkJcG1fcnVudGltZV9tYXJr
X2xhc3RfYnVzeShhZGV2X3RvX2RybShhZGV2KS0+ZGV2KTsNCj4gPiAtCQlwbV9ydW50aW1lX3B1
dF9hdXRvc3VzcGVuZChhZGV2X3RvX2RybShhZGV2KS0+ZGV2KTsNCj4gPiAtCQlyZXR1cm4gLUVJ
TlZBTDsNCj4gPiArCQllcnIgPSAtRUlOVkFMOw0KPiA+ICsJCWdvdG8gb3V0Ow0KPiA+ICAgCX0N
Cj4gPg0KPiA+IC0JZXJyID0ga3N0cnRvdTMyKGJ1ZiwgMTAsICZ2YWx1ZSk7DQo+ID4gLQlpZiAo
ZXJyKSB7DQo+ID4gLQkJcG1fcnVudGltZV9tYXJrX2xhc3RfYnVzeShhZGV2X3RvX2RybShhZGV2
KS0+ZGV2KTsNCj4gPiAtCQlwbV9ydW50aW1lX3B1dF9hdXRvc3VzcGVuZChhZGV2X3RvX2RybShh
ZGV2KS0+ZGV2KTsNCj4gPiAtCQlyZXR1cm4gZXJyOw0KPiA+IC0JfQ0KPiA+IC0NCj4gPiAtCWlm
IChhZGV2LT5wb3dlcnBsYXkucHBfZnVuY3MtPnNldF9mYW5fc3BlZWRfcHdtKQ0KPiA+IC0JCWVy
ciA9IGFtZGdwdV9kcG1fc2V0X2Zhbl9zcGVlZF9wd20oYWRldiwgdmFsdWUpOw0KPiA+IC0JZWxz
ZQ0KPiA+IC0JCWVyciA9IC1FSU5WQUw7DQo+ID4gKwllcnIgPSBhbWRncHVfZHBtX3NldF9mYW5f
c3BlZWRfcHdtKGFkZXYsIHZhbHVlKTsNCj4gPg0KPiA+ICtvdXQ6DQo+ID4gICAJcG1fcnVudGlt
ZV9tYXJrX2xhc3RfYnVzeShhZGV2X3RvX2RybShhZGV2KS0+ZGV2KTsNCj4gPiAgIAlwbV9ydW50
aW1lX3B1dF9hdXRvc3VzcGVuZChhZGV2X3RvX2RybShhZGV2KS0+ZGV2KTsNCj4gPg0KPiA+IEBA
IC0yNTIzLDEwICsyNDE1LDcgQEAgc3RhdGljIHNzaXplX3QNCj4gYW1kZ3B1X2h3bW9uX2dldF9w
d20xKHN0cnVjdCBkZXZpY2UgKmRldiwNCj4gPiAgIAkJcmV0dXJuIGVycjsNCj4gPiAgIAl9DQo+
ID4NCj4gPiAtCWlmIChhZGV2LT5wb3dlcnBsYXkucHBfZnVuY3MtPmdldF9mYW5fc3BlZWRfcHdt
KQ0KPiA+IC0JCWVyciA9IGFtZGdwdV9kcG1fZ2V0X2Zhbl9zcGVlZF9wd20oYWRldiwgJnNwZWVk
KTsNCj4gPiAtCWVsc2UNCj4gPiAtCQllcnIgPSAtRUlOVkFMOw0KPiA+ICsJZXJyID0gYW1kZ3B1
X2RwbV9nZXRfZmFuX3NwZWVkX3B3bShhZGV2LCAmc3BlZWQpOw0KPiA+DQo+ID4gICAJcG1fcnVu
dGltZV9tYXJrX2xhc3RfYnVzeShhZGV2X3RvX2RybShhZGV2KS0+ZGV2KTsNCj4gPiAgIAlwbV9y
dW50aW1lX3B1dF9hdXRvc3VzcGVuZChhZGV2X3RvX2RybShhZGV2KS0+ZGV2KTsNCj4gPiBAQCAt
MjU1NiwxMCArMjQ0NSw3IEBAIHN0YXRpYyBzc2l6ZV90DQo+IGFtZGdwdV9od21vbl9nZXRfZmFu
MV9pbnB1dChzdHJ1Y3QgZGV2aWNlICpkZXYsDQo+ID4gICAJCXJldHVybiBlcnI7DQo+ID4gICAJ
fQ0KPiA+DQo+ID4gLQlpZiAoYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzLT5nZXRfZmFuX3NwZWVk
X3JwbSkNCj4gPiAtCQllcnIgPSBhbWRncHVfZHBtX2dldF9mYW5fc3BlZWRfcnBtKGFkZXYsICZz
cGVlZCk7DQo+ID4gLQllbHNlDQo+ID4gLQkJZXJyID0gLUVJTlZBTDsNCj4gPiArCWVyciA9IGFt
ZGdwdV9kcG1fZ2V0X2Zhbl9zcGVlZF9ycG0oYWRldiwgJnNwZWVkKTsNCj4gPg0KPiA+ICAgCXBt
X3J1bnRpbWVfbWFya19sYXN0X2J1c3koYWRldl90b19kcm0oYWRldiktPmRldik7DQo+ID4gICAJ
cG1fcnVudGltZV9wdXRfYXV0b3N1c3BlbmQoYWRldl90b19kcm0oYWRldiktPmRldik7DQo+ID4g
QEAgLTI2NTMsMTAgKzI1MzksNyBAQCBzdGF0aWMgc3NpemVfdA0KPiBhbWRncHVfaHdtb25fZ2V0
X2ZhbjFfdGFyZ2V0KHN0cnVjdCBkZXZpY2UgKmRldiwNCj4gPiAgIAkJcmV0dXJuIGVycjsNCj4g
PiAgIAl9DQo+ID4NCj4gPiAtCWlmIChhZGV2LT5wb3dlcnBsYXkucHBfZnVuY3MtPmdldF9mYW5f
c3BlZWRfcnBtKQ0KPiA+IC0JCWVyciA9IGFtZGdwdV9kcG1fZ2V0X2Zhbl9zcGVlZF9ycG0oYWRl
diwgJnJwbSk7DQo+ID4gLQllbHNlDQo+ID4gLQkJZXJyID0gLUVJTlZBTDsNCj4gPiArCWVyciA9
IGFtZGdwdV9kcG1fZ2V0X2Zhbl9zcGVlZF9ycG0oYWRldiwgJnJwbSk7DQo+ID4NCj4gPiAgIAlw
bV9ydW50aW1lX21hcmtfbGFzdF9idXN5KGFkZXZfdG9fZHJtKGFkZXYpLT5kZXYpOw0KPiA+ICAg
CXBtX3J1bnRpbWVfcHV0X2F1dG9zdXNwZW5kKGFkZXZfdG9fZHJtKGFkZXYpLT5kZXYpOw0KPiA+
IEBAIC0yNjgxLDMyICsyNTY0LDI4IEBAIHN0YXRpYyBzc2l6ZV90DQo+IGFtZGdwdV9od21vbl9z
ZXRfZmFuMV90YXJnZXQoc3RydWN0IGRldmljZSAqZGV2LA0KPiA+ICAgCWlmIChhZGV2LT5pbl9z
dXNwZW5kICYmICFhZGV2LT5pbl9ydW5wbSkNCj4gPiAgIAkJcmV0dXJuIC1FUEVSTTsNCj4gPg0K
PiA+ICsJZXJyID0ga3N0cnRvdTMyKGJ1ZiwgMTAsICZ2YWx1ZSk7DQo+ID4gKwlpZiAoZXJyKQ0K
PiA+ICsJCXJldHVybiBlcnI7DQo+ID4gKw0KPiA+ICAgCWVyciA9IHBtX3J1bnRpbWVfZ2V0X3N5
bmMoYWRldl90b19kcm0oYWRldiktPmRldik7DQo+ID4gICAJaWYgKGVyciA8IDApIHsNCj4gPiAg
IAkJcG1fcnVudGltZV9wdXRfYXV0b3N1c3BlbmQoYWRldl90b19kcm0oYWRldiktPmRldik7DQo+
ID4gICAJCXJldHVybiBlcnI7DQo+ID4gICAJfQ0KPiA+DQo+ID4gLQlwd21fbW9kZSA9IGFtZGdw
dV9kcG1fZ2V0X2Zhbl9jb250cm9sX21vZGUoYWRldik7DQo+ID4gKwllcnIgPSBhbWRncHVfZHBt
X2dldF9mYW5fY29udHJvbF9tb2RlKGFkZXYsICZwd21fbW9kZSk7DQo+ID4gKwlpZiAoZXJyKQ0K
PiA+ICsJCWdvdG8gb3V0Ow0KPiA+DQo+ID4gICAJaWYgKHB3bV9tb2RlICE9IEFNRF9GQU5fQ1RS
TF9NQU5VQUwpIHsNCj4gPiAtCQlwbV9ydW50aW1lX21hcmtfbGFzdF9idXN5KGFkZXZfdG9fZHJt
KGFkZXYpLT5kZXYpOw0KPiA+IC0JCXBtX3J1bnRpbWVfcHV0X2F1dG9zdXNwZW5kKGFkZXZfdG9f
ZHJtKGFkZXYpLT5kZXYpOw0KPiA+IC0JCXJldHVybiAtRU5PREFUQTsNCj4gPiAtCX0NCj4gPiAt
DQo+ID4gLQllcnIgPSBrc3RydG91MzIoYnVmLCAxMCwgJnZhbHVlKTsNCj4gPiAtCWlmIChlcnIp
IHsNCj4gPiAtCQlwbV9ydW50aW1lX21hcmtfbGFzdF9idXN5KGFkZXZfdG9fZHJtKGFkZXYpLT5k
ZXYpOw0KPiA+IC0JCXBtX3J1bnRpbWVfcHV0X2F1dG9zdXNwZW5kKGFkZXZfdG9fZHJtKGFkZXYp
LT5kZXYpOw0KPiA+IC0JCXJldHVybiBlcnI7DQo+ID4gKwkJZXJyID0gLUVOT0RBVEE7DQo+ID4g
KwkJZ290byBvdXQ7DQo+ID4gICAJfQ0KPiA+DQo+ID4gLQlpZiAoYWRldi0+cG93ZXJwbGF5LnBw
X2Z1bmNzLT5zZXRfZmFuX3NwZWVkX3JwbSkNCj4gPiAtCQllcnIgPSBhbWRncHVfZHBtX3NldF9m
YW5fc3BlZWRfcnBtKGFkZXYsIHZhbHVlKTsNCj4gPiAtCWVsc2UNCj4gPiAtCQllcnIgPSAtRUlO
VkFMOw0KPiA+ICsJZXJyID0gYW1kZ3B1X2RwbV9zZXRfZmFuX3NwZWVkX3JwbShhZGV2LCB2YWx1
ZSk7DQo+ID4NCj4gPiArb3V0Og0KPiA+ICAgCXBtX3J1bnRpbWVfbWFya19sYXN0X2J1c3koYWRl
dl90b19kcm0oYWRldiktPmRldik7DQo+ID4gICAJcG1fcnVudGltZV9wdXRfYXV0b3N1c3BlbmQo
YWRldl90b19kcm0oYWRldiktPmRldik7DQo+ID4NCj4gPiBAQCAtMjczNSwxNyArMjYxNCwxNCBA
QCBzdGF0aWMgc3NpemVfdA0KPiBhbWRncHVfaHdtb25fZ2V0X2ZhbjFfZW5hYmxlKHN0cnVjdCBk
ZXZpY2UgKmRldiwNCj4gPiAgIAkJcmV0dXJuIHJldDsNCj4gPiAgIAl9DQo+ID4NCj4gPiAtCWlm
ICghYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzLT5nZXRfZmFuX2NvbnRyb2xfbW9kZSkgew0KPiA+
IC0JCXBtX3J1bnRpbWVfbWFya19sYXN0X2J1c3koYWRldl90b19kcm0oYWRldiktPmRldik7DQo+
ID4gLQkJcG1fcnVudGltZV9wdXRfYXV0b3N1c3BlbmQoYWRldl90b19kcm0oYWRldiktPmRldik7
DQo+ID4gLQkJcmV0dXJuIC1FSU5WQUw7DQo+ID4gLQl9DQo+ID4gLQ0KPiA+IC0JcHdtX21vZGUg
PSBhbWRncHVfZHBtX2dldF9mYW5fY29udHJvbF9tb2RlKGFkZXYpOw0KPiA+ICsJcmV0ID0gYW1k
Z3B1X2RwbV9nZXRfZmFuX2NvbnRyb2xfbW9kZShhZGV2LCAmcHdtX21vZGUpOw0KPiA+DQo+ID4g
ICAJcG1fcnVudGltZV9tYXJrX2xhc3RfYnVzeShhZGV2X3RvX2RybShhZGV2KS0+ZGV2KTsNCj4g
PiAgIAlwbV9ydW50aW1lX3B1dF9hdXRvc3VzcGVuZChhZGV2X3RvX2RybShhZGV2KS0+ZGV2KTsN
Cj4gPg0KPiA+ICsJaWYgKHJldCkNCj4gPiArCQlyZXR1cm4gLUVJTlZBTDsNCj4gPiArDQo+ID4g
ICAJcmV0dXJuIHN5c2ZzX2VtaXQoYnVmLCAiJWlcbiIsIHB3bV9tb2RlID09DQo+IEFNRF9GQU5f
Q1RSTF9BVVRPID8gMCA6IDEpOw0KPiA+ICAgfQ0KPiA+DQo+ID4gQEAgLTI3ODEsMTYgKzI2NTcs
MTQgQEAgc3RhdGljIHNzaXplX3QNCj4gYW1kZ3B1X2h3bW9uX3NldF9mYW4xX2VuYWJsZShzdHJ1
Y3QgZGV2aWNlICpkZXYsDQo+ID4gICAJCXJldHVybiBlcnI7DQo+ID4gICAJfQ0KPiA+DQo+ID4g
LQlpZiAoIWFkZXYtPnBvd2VycGxheS5wcF9mdW5jcy0+c2V0X2Zhbl9jb250cm9sX21vZGUpIHsN
Cj4gPiAtCQlwbV9ydW50aW1lX21hcmtfbGFzdF9idXN5KGFkZXZfdG9fZHJtKGFkZXYpLT5kZXYp
Ow0KPiA+IC0JCXBtX3J1bnRpbWVfcHV0X2F1dG9zdXNwZW5kKGFkZXZfdG9fZHJtKGFkZXYpLT5k
ZXYpOw0KPiA+IC0JCXJldHVybiAtRUlOVkFMOw0KPiA+IC0JfQ0KPiA+IC0JYW1kZ3B1X2RwbV9z
ZXRfZmFuX2NvbnRyb2xfbW9kZShhZGV2LCBwd21fbW9kZSk7DQo+ID4gKwllcnIgPSBhbWRncHVf
ZHBtX3NldF9mYW5fY29udHJvbF9tb2RlKGFkZXYsIHB3bV9tb2RlKTsNCj4gPg0KPiA+ICAgCXBt
X3J1bnRpbWVfbWFya19sYXN0X2J1c3koYWRldl90b19kcm0oYWRldiktPmRldik7DQo+ID4gICAJ
cG1fcnVudGltZV9wdXRfYXV0b3N1c3BlbmQoYWRldl90b19kcm0oYWRldiktPmRldik7DQo+ID4N
Cj4gPiArCWlmIChlcnIpDQo+ID4gKwkJcmV0dXJuIC1FSU5WQUw7DQo+ID4gKw0KPiA+ICAgCXJl
dHVybiBjb3VudDsNCj4gPiAgIH0NCj4gPg0KPiA+IEBAIC0yOTI2LDcgKzI4MDAsNiBAQCBzdGF0
aWMgc3NpemVfdA0KPiBhbWRncHVfaHdtb25fc2hvd19wb3dlcl9jYXBfZ2VuZXJpYyhzdHJ1Y3Qg
ZGV2aWNlICpkZXYsDQo+ID4gICAJCQkJCWVudW0gcHBfcG93ZXJfbGltaXRfbGV2ZWwNCj4gcHBf
bGltaXRfbGV2ZWwpDQo+ID4gICB7DQo+ID4gICAJc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYg
PSBkZXZfZ2V0X2RydmRhdGEoZGV2KTsNCj4gPiAtCWNvbnN0IHN0cnVjdCBhbWRfcG1fZnVuY3Mg
KnBwX2Z1bmNzID0gYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzOw0KPiA+ICAgCWVudW0gcHBfcG93
ZXJfdHlwZSBwb3dlcl90eXBlID0gdG9fc2Vuc29yX2Rldl9hdHRyKGF0dHIpLQ0KPiA+aW5kZXg7
DQo+ID4gICAJdWludDMyX3QgbGltaXQ7DQo+ID4gICAJc3NpemVfdCBzaXplOw0KPiA+IEBAIC0y
OTM3LDE2ICsyODEwLDEzIEBAIHN0YXRpYyBzc2l6ZV90DQo+IGFtZGdwdV9od21vbl9zaG93X3Bv
d2VyX2NhcF9nZW5lcmljKHN0cnVjdCBkZXZpY2UgKmRldiwNCj4gPiAgIAlpZiAoYWRldi0+aW5f
c3VzcGVuZCAmJiAhYWRldi0+aW5fcnVucG0pDQo+ID4gICAJCXJldHVybiAtRVBFUk07DQo+ID4N
Cj4gPiAtCWlmICggIShwcF9mdW5jcyAmJiBwcF9mdW5jcy0+Z2V0X3Bvd2VyX2xpbWl0KSkNCj4g
PiAtCQlyZXR1cm4gLUVOT0RBVEE7DQo+ID4gLQ0KPiA+ICAgCXIgPSBwbV9ydW50aW1lX2dldF9z
eW5jKGFkZXZfdG9fZHJtKGFkZXYpLT5kZXYpOw0KPiA+ICAgCWlmIChyIDwgMCkgew0KPiA+ICAg
CQlwbV9ydW50aW1lX3B1dF9hdXRvc3VzcGVuZChhZGV2X3RvX2RybShhZGV2KS0+ZGV2KTsNCj4g
PiAgIAkJcmV0dXJuIHI7DQo+ID4gICAJfQ0KPiA+DQo+ID4gLQlyID0gcHBfZnVuY3MtPmdldF9w
b3dlcl9saW1pdChhZGV2LT5wb3dlcnBsYXkucHBfaGFuZGxlLCAmbGltaXQsDQo+ID4gKwlyID0g
YW1kZ3B1X2RwbV9nZXRfcG93ZXJfbGltaXQoYWRldiwgJmxpbWl0LA0KPiA+ICAgCQkJCSAgICAg
IHBwX2xpbWl0X2xldmVsLCBwb3dlcl90eXBlKTsNCj4gPg0KPiA+ICAgCWlmICghcikNCj4gPiBA
QCAtMzAwMSw3ICsyODcxLDYgQEAgc3RhdGljIHNzaXplX3QNCj4gYW1kZ3B1X2h3bW9uX3NldF9w
b3dlcl9jYXAoc3RydWN0IGRldmljZSAqZGV2LA0KPiA+ICAgCQlzaXplX3QgY291bnQpDQo+ID4g
ICB7DQo+ID4gICAJc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSBkZXZfZ2V0X2RydmRhdGEo
ZGV2KTsNCj4gPiAtCWNvbnN0IHN0cnVjdCBhbWRfcG1fZnVuY3MgKnBwX2Z1bmNzID0gYWRldi0+
cG93ZXJwbGF5LnBwX2Z1bmNzOw0KPiA+ICAgCWludCBsaW1pdF90eXBlID0gdG9fc2Vuc29yX2Rl
dl9hdHRyKGF0dHIpLT5pbmRleDsNCj4gPiAgIAlpbnQgZXJyOw0KPiA+ICAgCXUzMiB2YWx1ZTsN
Cj4gPiBAQCAtMzAyNywxMCArMjg5Niw3IEBAIHN0YXRpYyBzc2l6ZV90DQo+IGFtZGdwdV9od21v
bl9zZXRfcG93ZXJfY2FwKHN0cnVjdCBkZXZpY2UgKmRldiwNCj4gPiAgIAkJcmV0dXJuIGVycjsN
Cj4gPiAgIAl9DQo+ID4NCj4gPiAtCWlmIChwcF9mdW5jcyAmJiBwcF9mdW5jcy0+c2V0X3Bvd2Vy
X2xpbWl0KQ0KPiA+IC0JCWVyciA9IHBwX2Z1bmNzLT5zZXRfcG93ZXJfbGltaXQoYWRldi0NCj4g
PnBvd2VycGxheS5wcF9oYW5kbGUsIHZhbHVlKTsNCj4gPiAtCWVsc2UNCj4gPiAtCQllcnIgPSAt
RUlOVkFMOw0KPiA+ICsJZXJyID0gYW1kZ3B1X2RwbV9zZXRfcG93ZXJfbGltaXQoYWRldiwgdmFs
dWUpOw0KPiA+DQo+ID4gICAJcG1fcnVudGltZV9tYXJrX2xhc3RfYnVzeShhZGV2X3RvX2RybShh
ZGV2KS0+ZGV2KTsNCj4gPiAgIAlwbV9ydW50aW1lX3B1dF9hdXRvc3VzcGVuZChhZGV2X3RvX2Ry
bShhZGV2KS0+ZGV2KTsNCj4gPiBAQCAtMzMwMyw2ICszMTY5LDcgQEAgc3RhdGljIHVtb2RlX3Qg
aHdtb25fYXR0cmlidXRlc192aXNpYmxlKHN0cnVjdA0KPiBrb2JqZWN0ICprb2JqLA0KPiA+ICAg
CXN0cnVjdCBkZXZpY2UgKmRldiA9IGtvYmpfdG9fZGV2KGtvYmopOw0KPiA+ICAgCXN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2ID0gZGV2X2dldF9kcnZkYXRhKGRldik7DQo+ID4gICAJdW1vZGVf
dCBlZmZlY3RpdmVfbW9kZSA9IGF0dHItPm1vZGU7DQo+ID4gKwl1aW50MzJfdCBzcGVlZCA9IDA7
DQo+ID4NCj4gPiAgIAkvKiB1bmRlciBtdWx0aS12ZiBtb2RlLCB0aGUgaHdtb24gYXR0cmlidXRl
cyBhcmUgYWxsIG5vdCBzdXBwb3J0ZWQNCj4gKi8NCj4gPiAgIAlpZiAoYW1kZ3B1X3NyaW92X3Zm
KGFkZXYpICYmICFhbWRncHVfc3Jpb3ZfaXNfcHBfb25lX3ZmKGFkZXYpKQ0KPiA+IEBAIC0zMzY3
LDIwICszMjM0LDE4IEBAIHN0YXRpYyB1bW9kZV90DQo+IGh3bW9uX2F0dHJpYnV0ZXNfdmlzaWJs
ZShzdHJ1Y3Qga29iamVjdCAqa29iaiwNCj4gPiAgIAkgICAgIGF0dHIgPT0gJnNlbnNvcl9kZXZf
YXR0cl9mYW4xX2VuYWJsZS5kZXZfYXR0ci5hdHRyKSkNCj4gPiAgIAkJcmV0dXJuIDA7DQo+ID4N
Cj4gPiAtCWlmICghaXNfc3VwcG9ydF9zd19zbXUoYWRldikpIHsNCj4gPiAtCQkvKiBtYXNrIGZh
biBhdHRyaWJ1dGVzIGlmIHdlIGhhdmUgbm8gYmluZGluZ3MgZm9yIHRoaXMgYXNpYyB0bw0KPiBl
eHBvc2UgKi8NCj4gPiAtCQlpZiAoKCFhZGV2LT5wb3dlcnBsYXkucHBfZnVuY3MtPmdldF9mYW5f
c3BlZWRfcHdtICYmDQo+ID4gLQkJICAgICBhdHRyID09ICZzZW5zb3JfZGV2X2F0dHJfcHdtMS5k
ZXZfYXR0ci5hdHRyKSB8fCAvKiBjYW4ndA0KPiBxdWVyeSBmYW4gKi8NCj4gPiAtCQkgICAgKCFh
ZGV2LT5wb3dlcnBsYXkucHBfZnVuY3MtPmdldF9mYW5fY29udHJvbF9tb2RlICYmDQo+ID4gLQkJ
ICAgICBhdHRyID09ICZzZW5zb3JfZGV2X2F0dHJfcHdtMV9lbmFibGUuZGV2X2F0dHIuYXR0cikp
DQo+IC8qIGNhbid0IHF1ZXJ5IHN0YXRlICovDQo+ID4gLQkJCWVmZmVjdGl2ZV9tb2RlICY9IH5T
X0lSVUdPOw0KPiA+ICsJLyogbWFzayBmYW4gYXR0cmlidXRlcyBpZiB3ZSBoYXZlIG5vIGJpbmRp
bmdzIGZvciB0aGlzIGFzaWMgdG8gZXhwb3NlDQo+ICovDQo+ID4gKwlpZiAoKChhbWRncHVfZHBt
X2dldF9mYW5fc3BlZWRfcHdtKGFkZXYsICZzcGVlZCkgPT0gLUVJTlZBTCkNCj4gJiYNCj4gPiAr
CSAgICAgIGF0dHIgPT0gJnNlbnNvcl9kZXZfYXR0cl9wd20xLmRldl9hdHRyLmF0dHIpIHx8IC8q
IGNhbid0IHF1ZXJ5DQo+IGZhbiAqLw0KPiA+ICsJICAgICgoYW1kZ3B1X2RwbV9nZXRfZmFuX2Nv
bnRyb2xfbW9kZShhZGV2LCAmc3BlZWQpID09IC0NCj4gRU9QTk9UU1VQUCkgJiYNCj4gPiArCSAg
ICAgYXR0ciA9PSAmc2Vuc29yX2Rldl9hdHRyX3B3bTFfZW5hYmxlLmRldl9hdHRyLmF0dHIpKSAv
KiBjYW4ndA0KPiBxdWVyeSBzdGF0ZSAqLw0KPiA+ICsJCWVmZmVjdGl2ZV9tb2RlICY9IH5TX0lS
VUdPOw0KPiA+DQo+ID4gLQkJaWYgKCghYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzLT5zZXRfZmFu
X3NwZWVkX3B3bSAmJg0KPiA+IC0JCSAgICAgYXR0ciA9PSAmc2Vuc29yX2Rldl9hdHRyX3B3bTEu
ZGV2X2F0dHIuYXR0cikgfHwgLyogY2FuJ3QNCj4gbWFuYWdlIGZhbiAqLw0KPiA+IC0JCSAgICAo
IWFkZXYtPnBvd2VycGxheS5wcF9mdW5jcy0+c2V0X2Zhbl9jb250cm9sX21vZGUgJiYNCj4gPiAt
CQkgICAgIGF0dHIgPT0gJnNlbnNvcl9kZXZfYXR0cl9wd20xX2VuYWJsZS5kZXZfYXR0ci5hdHRy
KSkNCj4gLyogY2FuJ3QgbWFuYWdlIHN0YXRlICovDQo+ID4gLQkJCWVmZmVjdGl2ZV9tb2RlICY9
IH5TX0lXVVNSOw0KPiA+IC0JfQ0KPiA+ICsJaWYgKCgoYW1kZ3B1X2RwbV9zZXRfZmFuX3NwZWVk
X3B3bShhZGV2LCBzcGVlZCkgPT0gLUVJTlZBTCkNCj4gJiYNCj4gPiArCSAgICAgIGF0dHIgPT0g
JnNlbnNvcl9kZXZfYXR0cl9wd20xLmRldl9hdHRyLmF0dHIpIHx8IC8qIGNhbid0DQo+IG1hbmFn
ZSBmYW4gKi8NCj4gPiArCSAgICAgICgoYW1kZ3B1X2RwbV9zZXRfZmFuX2NvbnRyb2xfbW9kZShh
ZGV2LCBzcGVlZCkgPT0gLQ0KPiBFT1BOT1RTVVBQKSAmJg0KPiA+ICsJICAgICAgYXR0ciA9PSAm
c2Vuc29yX2Rldl9hdHRyX3B3bTFfZW5hYmxlLmRldl9hdHRyLmF0dHIpKSAvKiBjYW4ndA0KPiBt
YW5hZ2Ugc3RhdGUgKi8NCj4gPiArCQllZmZlY3RpdmVfbW9kZSAmPSB+U19JV1VTUjsNCj4gPg0K
PiA+ICAgCWlmICgoKGFkZXYtPmZhbWlseSA9PSBBTURHUFVfRkFNSUxZX1NJKSB8fA0KPiA+ICAg
CQkgKChhZGV2LT5mbGFncyAmIEFNRF9JU19BUFUpICYmDQo+ID4gQEAgLTMzOTcsMjIgKzMyNjIs
MjAgQEAgc3RhdGljIHVtb2RlX3QNCj4gaHdtb25fYXR0cmlidXRlc192aXNpYmxlKHN0cnVjdCBr
b2JqZWN0ICprb2JqLA0KPiA+ICAgCSAgICAoYXR0ciA9PSAmc2Vuc29yX2Rldl9hdHRyX3Bvd2Vy
MV9hdmVyYWdlLmRldl9hdHRyLmF0dHIpKQ0KPiA+ICAgCQlyZXR1cm4gMDsNCj4gPg0KPiA+IC0J
aWYgKCFpc19zdXBwb3J0X3N3X3NtdShhZGV2KSkgew0KPiA+IC0JCS8qIGhpZGUgbWF4L21pbiB2
YWx1ZXMgaWYgd2UgY2FuJ3QgYm90aCBxdWVyeSBhbmQgbWFuYWdlDQo+IHRoZSBmYW4gKi8NCj4g
PiAtCQlpZiAoKCFhZGV2LT5wb3dlcnBsYXkucHBfZnVuY3MtPnNldF9mYW5fc3BlZWRfcHdtICYm
DQo+ID4gLQkJICAgICAhYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzLT5nZXRfZmFuX3NwZWVkX3B3
bSkgJiYNCj4gPiAtCQkgICAgICghYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzLT5zZXRfZmFuX3Nw
ZWVkX3JwbSAmJg0KPiA+IC0JCSAgICAgIWFkZXYtPnBvd2VycGxheS5wcF9mdW5jcy0+Z2V0X2Zh
bl9zcGVlZF9ycG0pICYmDQo+ID4gLQkJICAgIChhdHRyID09ICZzZW5zb3JfZGV2X2F0dHJfcHdt
MV9tYXguZGV2X2F0dHIuYXR0ciB8fA0KPiA+IC0JCSAgICAgYXR0ciA9PSAmc2Vuc29yX2Rldl9h
dHRyX3B3bTFfbWluLmRldl9hdHRyLmF0dHIpKQ0KPiA+IC0JCQlyZXR1cm4gMDsNCj4gPiArCS8q
IGhpZGUgbWF4L21pbiB2YWx1ZXMgaWYgd2UgY2FuJ3QgYm90aCBxdWVyeSBhbmQgbWFuYWdlIHRo
ZSBmYW4gKi8NCj4gPiArCWlmICgoKGFtZGdwdV9kcG1fc2V0X2Zhbl9zcGVlZF9wd20oYWRldiwg
c3BlZWQpID09IC1FSU5WQUwpDQo+ICYmDQo+ID4gKwkgICAgICAoYW1kZ3B1X2RwbV9nZXRfZmFu
X3NwZWVkX3B3bShhZGV2LCAmc3BlZWQpID09IC1FSU5WQUwpDQo+ICYmDQo+ID4gKwkgICAgICAo
YW1kZ3B1X2RwbV9zZXRfZmFuX3NwZWVkX3JwbShhZGV2LCBzcGVlZCkgPT0gLUVJTlZBTCkNCj4g
JiYNCj4gPiArCSAgICAgIChhbWRncHVfZHBtX2dldF9mYW5fc3BlZWRfcnBtKGFkZXYsICZzcGVl
ZCkgPT0gLUVJTlZBTCkpDQo+ICYmDQo+ID4gKwkgICAgKGF0dHIgPT0gJnNlbnNvcl9kZXZfYXR0
cl9wd20xX21heC5kZXZfYXR0ci5hdHRyIHx8DQo+ID4gKwkgICAgIGF0dHIgPT0gJnNlbnNvcl9k
ZXZfYXR0cl9wd20xX21pbi5kZXZfYXR0ci5hdHRyKSkNCj4gPiArCQlyZXR1cm4gMDsNCj4gPg0K
PiA+IC0JCWlmICgoIWFkZXYtPnBvd2VycGxheS5wcF9mdW5jcy0+c2V0X2Zhbl9zcGVlZF9ycG0g
JiYNCj4gPiAtCQkgICAgICFhZGV2LT5wb3dlcnBsYXkucHBfZnVuY3MtPmdldF9mYW5fc3BlZWRf
cnBtKSAmJg0KPiA+IC0JCSAgICAoYXR0ciA9PSAmc2Vuc29yX2Rldl9hdHRyX2ZhbjFfbWF4LmRl
dl9hdHRyLmF0dHIgfHwNCj4gPiAtCQkgICAgIGF0dHIgPT0gJnNlbnNvcl9kZXZfYXR0cl9mYW4x
X21pbi5kZXZfYXR0ci5hdHRyKSkNCj4gPiAtCQkJcmV0dXJuIDA7DQo+ID4gLQl9DQo+ID4gKwlp
ZiAoKGFtZGdwdV9kcG1fc2V0X2Zhbl9zcGVlZF9ycG0oYWRldiwgc3BlZWQpID09IC1FSU5WQUwp
DQo+ICYmDQo+ID4gKwkgICAgIChhbWRncHVfZHBtX2dldF9mYW5fc3BlZWRfcnBtKGFkZXYsICZz
cGVlZCkgPT0gLUVJTlZBTCkNCj4gJiYNCj4gPiArCSAgICAgKGF0dHIgPT0gJnNlbnNvcl9kZXZf
YXR0cl9mYW4xX21heC5kZXZfYXR0ci5hdHRyIHx8DQo+ID4gKwkgICAgIGF0dHIgPT0gJnNlbnNv
cl9kZXZfYXR0cl9mYW4xX21pbi5kZXZfYXR0ci5hdHRyKSkNCj4gPiArCQlyZXR1cm4gMDsNCj4g
Pg0KPiA+ICAgCWlmICgoYWRldi0+ZmFtaWx5ID09IEFNREdQVV9GQU1JTFlfU0kgfHwJLyogbm90
IGltcGxlbWVudGVkDQo+IHlldCAqLw0KPiA+ICAgCSAgICAgYWRldi0+ZmFtaWx5ID09IEFNREdQ
VV9GQU1JTFlfS1YpICYmCS8qIG5vdCBpbXBsZW1lbnRlZA0KPiB5ZXQgKi8NCj4gPiBAQCAtMzU0
MiwxNCArMzQwNSwxNSBAQCBzdGF0aWMgdm9pZA0KPiBhbWRncHVfZGVidWdmc19wcmludHNfY3B1
X2luZm8oc3RydWN0IHNlcV9maWxlICptLA0KPiA+ICAgCXVpbnQxNl90ICpwX3ZhbDsNCj4gPiAg
IAl1aW50MzJfdCBzaXplOw0KPiA+ICAgCWludCBpOw0KPiA+ICsJdWludDMyX3QgbnVtX2NwdV9j
b3JlcyA9DQo+IGFtZGdwdV9kcG1fZ2V0X251bV9jcHVfY29yZXMoYWRldik7DQo+ID4NCj4gPiAt
CWlmIChpc19zdXBwb3J0X2NjbGtfZHBtKGFkZXYpKSB7DQo+ID4gLQkJcF92YWwgPSBrY2FsbG9j
KGFkZXYtPnNtdS5jcHVfY29yZV9udW0sIHNpemVvZih1aW50MTZfdCksDQo+ID4gKwlpZiAoYW1k
Z3B1X2RwbV9pc19jY2xrX2RwbV9zdXBwb3J0ZWQoYWRldikpIHsNCj4gPiArCQlwX3ZhbCA9IGtj
YWxsb2MobnVtX2NwdV9jb3Jlcywgc2l6ZW9mKHVpbnQxNl90KSwNCj4gPiAgIAkJCQlHRlBfS0VS
TkVMKTsNCj4gPg0KPiA+ICAgCQlpZiAoIWFtZGdwdV9kcG1fcmVhZF9zZW5zb3IoYWRldiwNCj4g
QU1ER1BVX1BQX1NFTlNPUl9DUFVfQ0xLLA0KPiA+ICAgCQkJCQkgICAgKHZvaWQgKilwX3ZhbCwg
JnNpemUpKSB7DQo+ID4gLQkJCWZvciAoaSA9IDA7IGkgPCBhZGV2LT5zbXUuY3B1X2NvcmVfbnVt
OyBpKyspDQo+ID4gKwkJCWZvciAoaSA9IDA7IGkgPCBudW1fY3B1X2NvcmVzOyBpKyspDQo+ID4g
ICAJCQkJc2VxX3ByaW50ZihtLCAiXHQldSBNSHogKENQVSVkKVxuIiwNCj4gPiAgIAkJCQkJICAg
KihwX3ZhbCArIGkpLCBpKTsNCj4gPiAgIAkJfQ0KPiA+IEBAIC0zNjc3LDI3ICszNTQxLDExIEBA
IHN0YXRpYyBpbnQNCj4gYW1kZ3B1X2RlYnVnZnNfcG1faW5mb19zaG93KHN0cnVjdCBzZXFfZmls
ZSAqbSwgdm9pZCAqdW51c2VkKQ0KPiA+ICAgCQlyZXR1cm4gcjsNCj4gPiAgIAl9DQo+ID4NCj4g
PiAtCWlmICghYWRldi0+cG0uZHBtX2VuYWJsZWQpIHsNCj4gPiAtCQlzZXFfcHJpbnRmKG0sICJk
cG0gbm90IGVuYWJsZWRcbiIpOw0KPiA+IC0JCXBtX3J1bnRpbWVfbWFya19sYXN0X2J1c3koZGV2
LT5kZXYpOw0KPiA+IC0JCXBtX3J1bnRpbWVfcHV0X2F1dG9zdXNwZW5kKGRldi0+ZGV2KTsNCj4g
PiAtCQlyZXR1cm4gMDsNCj4gPiAtCX0NCj4gPiAtDQo+ID4gLQlpZiAoIWlzX3N1cHBvcnRfc3df
c211KGFkZXYpICYmDQo+ID4gLQkgICAgYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzLQ0KPiA+ZGVi
dWdmc19wcmludF9jdXJyZW50X3BlcmZvcm1hbmNlX2xldmVsKSB7DQo+ID4gLQkJbXV0ZXhfbG9j
aygmYWRldi0+cG0ubXV0ZXgpOw0KPiA+IC0JCWlmIChhZGV2LT5wb3dlcnBsYXkucHBfZnVuY3Mt
DQo+ID5kZWJ1Z2ZzX3ByaW50X2N1cnJlbnRfcGVyZm9ybWFuY2VfbGV2ZWwpDQo+ID4gLQkJCWFk
ZXYtPnBvd2VycGxheS5wcF9mdW5jcy0NCj4gPmRlYnVnZnNfcHJpbnRfY3VycmVudF9wZXJmb3Jt
YW5jZV9sZXZlbChhZGV2LCBtKTsNCj4gPiAtCQllbHNlDQo+ID4gLQkJCXNlcV9wcmludGYobSwg
IkRlYnVnZnMgc3VwcG9ydCBub3QgaW1wbGVtZW50ZWQNCj4gZm9yIHRoaXMgYXNpY1xuIik7DQo+
ID4gLQkJbXV0ZXhfdW5sb2NrKCZhZGV2LT5wbS5tdXRleCk7DQo+ID4gLQkJciA9IDA7DQo+ID4g
LQl9IGVsc2Ugew0KPiA+ICsJaWYgKGFtZGdwdV9kcG1fZGVidWdmc19wcmludF9jdXJyZW50X3Bl
cmZvcm1hbmNlX2xldmVsKGFkZXYsDQo+IG0pKSB7DQo+ID4gICAJCXIgPSBhbWRncHVfZGVidWdm
c19wbV9pbmZvX3BwKG0sIGFkZXYpOw0KPiA+ICsJCWlmIChyKQ0KPiA+ICsJCQlnb3RvIG91dDsN
Cj4gPiAgIAl9DQo+ID4gLQlpZiAocikNCj4gPiAtCQlnb3RvIG91dDsNCj4gPg0KPiA+ICAgCWFt
ZGdwdV9kZXZpY2VfaXBfZ2V0X2Nsb2NrZ2F0aW5nX3N0YXRlKGFkZXYsICZmbGFncyk7DQo+ID4N
Cj4gPiBAQCAtMzcyMywyMSArMzU3MSwxOCBAQCBzdGF0aWMgc3NpemVfdA0KPiBhbWRncHVfcG1f
cHJ2X2J1ZmZlcl9yZWFkKHN0cnVjdCBmaWxlICpmLCBjaGFyIF9fdXNlciAqYnVmLA0KPiA+ICAg
CQkJCQkgc2l6ZV90IHNpemUsIGxvZmZfdCAqcG9zKQ0KPiA+ICAgew0KPiA+ICAgCXN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2ID0gZmlsZV9pbm9kZShmKS0+aV9wcml2YXRlOw0KPiA+IC0JY29u
c3Qgc3RydWN0IGFtZF9wbV9mdW5jcyAqcHBfZnVuY3MgPSBhZGV2LT5wb3dlcnBsYXkucHBfZnVu
Y3M7DQo+ID4gLQl2b2lkICpwcF9oYW5kbGUgPSBhZGV2LT5wb3dlcnBsYXkucHBfaGFuZGxlOw0K
PiA+ICAgCXNpemVfdCBzbXVfcHJ2X2J1Zl9zaXplOw0KPiA+ICAgCXZvaWQgKnNtdV9wcnZfYnVm
Ow0KPiA+ICsJaW50IHJldCA9IDA7DQo+ID4NCj4gPiAgIAlpZiAoYW1kZ3B1X2luX3Jlc2V0KGFk
ZXYpKQ0KPiA+ICAgCQlyZXR1cm4gLUVQRVJNOw0KPiA+ICAgCWlmIChhZGV2LT5pbl9zdXNwZW5k
ICYmICFhZGV2LT5pbl9ydW5wbSkNCj4gPiAgIAkJcmV0dXJuIC1FUEVSTTsNCj4gPg0KPiA+IC0J
aWYgKHBwX2Z1bmNzICYmIHBwX2Z1bmNzLT5nZXRfc211X3Bydl9idWZfZGV0YWlscykNCj4gPiAt
CQlwcF9mdW5jcy0+Z2V0X3NtdV9wcnZfYnVmX2RldGFpbHMocHBfaGFuZGxlLA0KPiAmc211X3By
dl9idWYsDQo+ID4gLQkJCQkJCSAgJnNtdV9wcnZfYnVmX3NpemUpOw0KPiA+IC0JZWxzZQ0KPiA+
IC0JCXJldHVybiAtRU5PU1lTOw0KPiA+ICsJcmV0ID0gYW1kZ3B1X2RwbV9nZXRfc211X3Bydl9i
dWZfZGV0YWlscyhhZGV2LCAmc211X3Bydl9idWYsDQo+ICZzbXVfcHJ2X2J1Zl9zaXplKTsNCj4g
PiArCWlmIChyZXQpDQo+ID4gKwkJcmV0dXJuIHJldDsNCj4gPg0KPiA+ICAgCWlmICghc211X3By
dl9idWYgfHwgIXNtdV9wcnZfYnVmX3NpemUpDQo+ID4gICAJCXJldHVybiAtRUlOVkFMOw0KPiA+
IEBAIC0zNzcwLDYgKzM2MTUsNiBAQCB2b2lkIGFtZGdwdV9kZWJ1Z2ZzX3BtX2luaXQoc3RydWN0
DQo+IGFtZGdwdV9kZXZpY2UgKmFkZXYpDQo+ID4NCj4gJmFtZGdwdV9kZWJ1Z2ZzX3BtX3Bydl9i
dWZmZXJfZm9wcywNCj4gPiAgIAkJCQkJIGFkZXYtPnBtLnNtdV9wcnZfYnVmZmVyX3NpemUpOw0K
PiA+DQo+ID4gLQlhbWRncHVfc211X3N0Yl9kZWJ1Z19mc19pbml0KGFkZXYpOw0KPiA+ICsJYW1k
Z3B1X2RwbV9zdGJfZGVidWdfZnNfaW5pdChhZGV2KTsNCj4gPiAgICNlbmRpZg0KPiA+ICAgfQ0K
PiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3BtL2luYy9hbWRncHVfZHBtLmgN
Cj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3BtL2luYy9hbWRncHVfZHBtLmgNCj4gPiBpbmRleCA3
Mjg5ZDM3OWE5ZmIuLjAzOWM0MGIxZDBjYiAxMDA2NDQNCj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL3BtL2luYy9hbWRncHVfZHBtLmgNCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L3BtL2luYy9hbWRncHVfZHBtLmgNCj4gPiBAQCAtMjYyLDkgKzI2Miw2IEBAIGVudW0gYW1kZ3B1
X3BjaWVfZ2VuIHsNCj4gPiAgICNkZWZpbmUgYW1kZ3B1X2RwbV9wcmVfc2V0X3Bvd2VyX3N0YXRl
KGFkZXYpIFwNCj4gPiAgIAkJKChhZGV2KS0+cG93ZXJwbGF5LnBwX2Z1bmNzLQ0KPiA+cHJlX3Nl
dF9wb3dlcl9zdGF0ZSgoYWRldiktPnBvd2VycGxheS5wcF9oYW5kbGUpKQ0KPiA+DQo+ID4gLSNk
ZWZpbmUgYW1kZ3B1X2RwbV9zZXRfcG93ZXJfc3RhdGUoYWRldikgXA0KPiA+IC0JCSgoYWRldikt
PnBvd2VycGxheS5wcF9mdW5jcy0+c2V0X3Bvd2VyX3N0YXRlKChhZGV2KS0NCj4gPnBvd2VycGxh
eS5wcF9oYW5kbGUpKQ0KPiA+IC0NCj4gPiAgICNkZWZpbmUgYW1kZ3B1X2RwbV9wb3N0X3NldF9w
b3dlcl9zdGF0ZShhZGV2KSBcDQo+ID4gICAJCSgoYWRldiktPnBvd2VycGxheS5wcF9mdW5jcy0N
Cj4gPnBvc3Rfc2V0X3Bvd2VyX3N0YXRlKChhZGV2KS0+cG93ZXJwbGF5LnBwX2hhbmRsZSkpDQo+
ID4NCj4gPiBAQCAtMjgwLDEwMCArMjc3LDEzIEBAIGVudW0gYW1kZ3B1X3BjaWVfZ2VuIHsNCj4g
PiAgICNkZWZpbmUgYW1kZ3B1X2RwbV9lbmFibGVfYmFwbShhZGV2LCBlKSBcDQo+ID4gICAJCSgo
YWRldiktPnBvd2VycGxheS5wcF9mdW5jcy0+ZW5hYmxlX2JhcG0oKGFkZXYpLQ0KPiA+cG93ZXJw
bGF5LnBwX2hhbmRsZSwgKGUpKSkNCj4gPg0KPiA+IC0jZGVmaW5lIGFtZGdwdV9kcG1fc2V0X2Zh
bl9jb250cm9sX21vZGUoYWRldiwgbSkgXA0KPiA+IC0JCSgoYWRldiktPnBvd2VycGxheS5wcF9m
dW5jcy0NCj4gPnNldF9mYW5fY29udHJvbF9tb2RlKChhZGV2KS0+cG93ZXJwbGF5LnBwX2hhbmRs
ZSwgKG0pKSkNCj4gPiAtDQo+ID4gLSNkZWZpbmUgYW1kZ3B1X2RwbV9nZXRfZmFuX2NvbnRyb2xf
bW9kZShhZGV2KSBcDQo+ID4gLQkJKChhZGV2KS0+cG93ZXJwbGF5LnBwX2Z1bmNzLQ0KPiA+Z2V0
X2Zhbl9jb250cm9sX21vZGUoKGFkZXYpLT5wb3dlcnBsYXkucHBfaGFuZGxlKSkNCj4gPiAtDQo+
ID4gLSNkZWZpbmUgYW1kZ3B1X2RwbV9zZXRfZmFuX3NwZWVkX3B3bShhZGV2LCBzKSBcDQo+ID4g
LQkJKChhZGV2KS0+cG93ZXJwbGF5LnBwX2Z1bmNzLQ0KPiA+c2V0X2Zhbl9zcGVlZF9wd20oKGFk
ZXYpLT5wb3dlcnBsYXkucHBfaGFuZGxlLCAocykpKQ0KPiA+IC0NCj4gPiAtI2RlZmluZSBhbWRn
cHVfZHBtX2dldF9mYW5fc3BlZWRfcHdtKGFkZXYsIHMpIFwNCj4gPiAtCQkoKGFkZXYpLT5wb3dl
cnBsYXkucHBfZnVuY3MtDQo+ID5nZXRfZmFuX3NwZWVkX3B3bSgoYWRldiktPnBvd2VycGxheS5w
cF9oYW5kbGUsIChzKSkpDQo+ID4gLQ0KPiA+IC0jZGVmaW5lIGFtZGdwdV9kcG1fZ2V0X2Zhbl9z
cGVlZF9ycG0oYWRldiwgcykgXA0KPiA+IC0JCSgoYWRldiktPnBvd2VycGxheS5wcF9mdW5jcy0N
Cj4gPmdldF9mYW5fc3BlZWRfcnBtKSgoYWRldiktPnBvd2VycGxheS5wcF9oYW5kbGUsIChzKSkN
Cj4gPiAtDQo+ID4gLSNkZWZpbmUgYW1kZ3B1X2RwbV9zZXRfZmFuX3NwZWVkX3JwbShhZGV2LCBz
KSBcDQo+ID4gLQkJKChhZGV2KS0+cG93ZXJwbGF5LnBwX2Z1bmNzLQ0KPiA+c2V0X2Zhbl9zcGVl
ZF9ycG0pKChhZGV2KS0+cG93ZXJwbGF5LnBwX2hhbmRsZSwgKHMpKQ0KPiA+IC0NCj4gPiAtI2Rl
ZmluZSBhbWRncHVfZHBtX2ZvcmNlX3BlcmZvcm1hbmNlX2xldmVsKGFkZXYsIGwpIFwNCj4gPiAt
CQkoKGFkZXYpLT5wb3dlcnBsYXkucHBfZnVuY3MtDQo+ID5mb3JjZV9wZXJmb3JtYW5jZV9sZXZl
bCgoYWRldiktPnBvd2VycGxheS5wcF9oYW5kbGUsIChsKSkpDQo+ID4gLQ0KPiA+IC0jZGVmaW5l
IGFtZGdwdV9kcG1fZ2V0X2N1cnJlbnRfcG93ZXJfc3RhdGUoYWRldikgXA0KPiA+IC0JCSgoYWRl
diktPnBvd2VycGxheS5wcF9mdW5jcy0NCj4gPmdldF9jdXJyZW50X3Bvd2VyX3N0YXRlKChhZGV2
KS0+cG93ZXJwbGF5LnBwX2hhbmRsZSkpDQo+ID4gLQ0KPiA+IC0jZGVmaW5lIGFtZGdwdV9kcG1f
Z2V0X3BwX251bV9zdGF0ZXMoYWRldiwgZGF0YSkgXA0KPiA+IC0JCSgoYWRldiktPnBvd2VycGxh
eS5wcF9mdW5jcy0+Z2V0X3BwX251bV9zdGF0ZXMoKGFkZXYpLQ0KPiA+cG93ZXJwbGF5LnBwX2hh
bmRsZSwgZGF0YSkpDQo+ID4gLQ0KPiA+IC0jZGVmaW5lIGFtZGdwdV9kcG1fZ2V0X3BwX3RhYmxl
KGFkZXYsIHRhYmxlKSBcDQo+ID4gLQkJKChhZGV2KS0+cG93ZXJwbGF5LnBwX2Z1bmNzLT5nZXRf
cHBfdGFibGUoKGFkZXYpLQ0KPiA+cG93ZXJwbGF5LnBwX2hhbmRsZSwgdGFibGUpKQ0KPiA+IC0N
Cj4gPiAtI2RlZmluZSBhbWRncHVfZHBtX3NldF9wcF90YWJsZShhZGV2LCBidWYsIHNpemUpIFwN
Cj4gPiAtCQkoKGFkZXYpLT5wb3dlcnBsYXkucHBfZnVuY3MtPnNldF9wcF90YWJsZSgoYWRldikt
DQo+ID5wb3dlcnBsYXkucHBfaGFuZGxlLCBidWYsIHNpemUpKQ0KPiA+IC0NCj4gPiAtI2RlZmlu
ZSBhbWRncHVfZHBtX3ByaW50X2Nsb2NrX2xldmVscyhhZGV2LCB0eXBlLCBidWYpIFwNCj4gPiAt
CQkoKGFkZXYpLT5wb3dlcnBsYXkucHBfZnVuY3MtPnByaW50X2Nsb2NrX2xldmVscygoYWRldikt
DQo+ID5wb3dlcnBsYXkucHBfaGFuZGxlLCB0eXBlLCBidWYpKQ0KPiA+IC0NCj4gPiAtI2RlZmlu
ZSBhbWRncHVfZHBtX2ZvcmNlX2Nsb2NrX2xldmVsKGFkZXYsIHR5cGUsIGxldmVsKSBcDQo+ID4g
LQkJKChhZGV2KS0+cG93ZXJwbGF5LnBwX2Z1bmNzLT5mb3JjZV9jbG9ja19sZXZlbCgoYWRldikt
DQo+ID5wb3dlcnBsYXkucHBfaGFuZGxlLCB0eXBlLCBsZXZlbCkpDQo+ID4gLQ0KPiA+IC0jZGVm
aW5lIGFtZGdwdV9kcG1fZ2V0X3NjbGtfb2QoYWRldikgXA0KPiA+IC0JCSgoYWRldiktPnBvd2Vy
cGxheS5wcF9mdW5jcy0+Z2V0X3NjbGtfb2QoKGFkZXYpLQ0KPiA+cG93ZXJwbGF5LnBwX2hhbmRs
ZSkpDQo+ID4gLQ0KPiA+IC0jZGVmaW5lIGFtZGdwdV9kcG1fc2V0X3NjbGtfb2QoYWRldiwgdmFs
dWUpIFwNCj4gPiAtCQkoKGFkZXYpLT5wb3dlcnBsYXkucHBfZnVuY3MtPnNldF9zY2xrX29kKChh
ZGV2KS0NCj4gPnBvd2VycGxheS5wcF9oYW5kbGUsIHZhbHVlKSkNCj4gPiAtDQo+ID4gLSNkZWZp
bmUgYW1kZ3B1X2RwbV9nZXRfbWNsa19vZChhZGV2KSBcDQo+ID4gLQkJKChhZGV2KS0+cG93ZXJw
bGF5LnBwX2Z1bmNzLT5nZXRfbWNsa19vZCgoYWRldiktDQo+ID5wb3dlcnBsYXkucHBfaGFuZGxl
KSkNCj4gPiAtDQo+ID4gLSNkZWZpbmUgYW1kZ3B1X2RwbV9zZXRfbWNsa19vZChhZGV2LCB2YWx1
ZSkgXA0KPiA+IC0JCSgoYWRldiktPnBvd2VycGxheS5wcF9mdW5jcy0+c2V0X21jbGtfb2QoKGFk
ZXYpLQ0KPiA+cG93ZXJwbGF5LnBwX2hhbmRsZSwgdmFsdWUpKQ0KPiA+IC0NCj4gPiAtI2RlZmlu
ZSBhbWRncHVfZHBtX2Rpc3BhdGNoX3Rhc2soYWRldiwgdGFza19pZCwgdXNlcl9zdGF0ZSkNCj4g
CVwNCj4gPiAtCQkoKGFkZXYpLT5wb3dlcnBsYXkucHBfZnVuY3MtPmRpc3BhdGNoX3Rhc2tzKSgo
YWRldiktDQo+ID5wb3dlcnBsYXkucHBfaGFuZGxlLCAodGFza19pZCksICh1c2VyX3N0YXRlKSkN
Cj4gPiAtDQo+ID4gICAjZGVmaW5lIGFtZGdwdV9kcG1fY2hlY2tfc3RhdGVfZXF1YWwoYWRldiwg
Y3BzLCBycHMsIGVxdWFsKSBcDQo+ID4gICAJCSgoYWRldiktPnBvd2VycGxheS5wcF9mdW5jcy0+
Y2hlY2tfc3RhdGVfZXF1YWwoKGFkZXYpLQ0KPiA+cG93ZXJwbGF5LnBwX2hhbmRsZSwgKGNwcyks
IChycHMpLCAoZXF1YWwpKSkNCj4gPg0KPiA+IC0jZGVmaW5lIGFtZGdwdV9kcG1fZ2V0X3ZjZV9j
bG9ja19zdGF0ZShhZGV2LCBpKQ0KPiAJCVwNCj4gPiAtCQkoKGFkZXYpLT5wb3dlcnBsYXkucHBf
ZnVuY3MtPmdldF92Y2VfY2xvY2tfc3RhdGUoKGFkZXYpLQ0KPiA+cG93ZXJwbGF5LnBwX2hhbmRs
ZSwgKGkpKSkNCj4gPiAtDQo+ID4gLSNkZWZpbmUgYW1kZ3B1X2RwbV9nZXRfcGVyZm9ybWFuY2Vf
bGV2ZWwoYWRldikNCj4gCQlcDQo+ID4gLQkJKChhZGV2KS0+cG93ZXJwbGF5LnBwX2Z1bmNzLQ0K
PiA+Z2V0X3BlcmZvcm1hbmNlX2xldmVsKChhZGV2KS0+cG93ZXJwbGF5LnBwX2hhbmRsZSkpDQo+
ID4gLQ0KPiA+ICAgI2RlZmluZSBhbWRncHVfZHBtX3Jlc2V0X3Bvd2VyX3Byb2ZpbGVfc3RhdGUo
YWRldiwgcmVxdWVzdCkgXA0KPiA+ICAgCQkoKGFkZXYpLT5wb3dlcnBsYXkucHBfZnVuY3MtDQo+
ID5yZXNldF9wb3dlcl9wcm9maWxlX3N0YXRlKFwNCj4gPiAgIAkJCShhZGV2KS0+cG93ZXJwbGF5
LnBwX2hhbmRsZSwgcmVxdWVzdCkpDQo+ID4NCj4gPiAtI2RlZmluZSBhbWRncHVfZHBtX2dldF9w
b3dlcl9wcm9maWxlX21vZGUoYWRldiwgYnVmKSBcDQo+ID4gLQkJKChhZGV2KS0+cG93ZXJwbGF5
LnBwX2Z1bmNzLT5nZXRfcG93ZXJfcHJvZmlsZV9tb2RlKFwNCj4gPiAtCQkJKGFkZXYpLT5wb3dl
cnBsYXkucHBfaGFuZGxlLCBidWYpKQ0KPiA+IC0NCj4gPiAtI2RlZmluZSBhbWRncHVfZHBtX3Nl
dF9wb3dlcl9wcm9maWxlX21vZGUoYWRldiwgcGFyYW1ldGVyLCBzaXplKQ0KPiBcDQo+ID4gLQkJ
KChhZGV2KS0+cG93ZXJwbGF5LnBwX2Z1bmNzLT5zZXRfcG93ZXJfcHJvZmlsZV9tb2RlKFwNCj4g
PiAtCQkJKGFkZXYpLT5wb3dlcnBsYXkucHBfaGFuZGxlLCBwYXJhbWV0ZXIsIHNpemUpKQ0KPiA+
IC0NCj4gPiAtI2RlZmluZSBhbWRncHVfZHBtX3NldF9maW5lX2dyYWluX2Nsa192b2woYWRldiwg
dHlwZSwgcGFyYW1ldGVyLA0KPiBzaXplKSBcDQo+ID4gLQkJKChhZGV2KS0+cG93ZXJwbGF5LnBw
X2Z1bmNzLT5zZXRfZmluZV9ncmFpbl9jbGtfdm9sKFwNCj4gPiAtCQkJKGFkZXYpLT5wb3dlcnBs
YXkucHBfaGFuZGxlLCB0eXBlLCBwYXJhbWV0ZXIsDQo+IHNpemUpKQ0KPiA+IC0NCj4gPiAtI2Rl
ZmluZSBhbWRncHVfZHBtX29kbl9lZGl0X2RwbV90YWJsZShhZGV2LCB0eXBlLCBwYXJhbWV0ZXIs
IHNpemUpDQo+IFwNCj4gPiAtCQkoKGFkZXYpLT5wb3dlcnBsYXkucHBfZnVuY3MtPm9kbl9lZGl0
X2RwbV90YWJsZShcDQo+ID4gLQkJCShhZGV2KS0+cG93ZXJwbGF5LnBwX2hhbmRsZSwgdHlwZSwg
cGFyYW1ldGVyLA0KPiBzaXplKSkNCj4gPiAtDQo+ID4gLSNkZWZpbmUgYW1kZ3B1X2RwbV9nZXRf
cHBmZWF0dXJlX3N0YXR1cyhhZGV2LCBidWYpIFwNCj4gPiAtCQkoKGFkZXYpLT5wb3dlcnBsYXku
cHBfZnVuY3MtPmdldF9wcGZlYXR1cmVfc3RhdHVzKFwNCj4gPiAtCQkJKGFkZXYpLT5wb3dlcnBs
YXkucHBfaGFuZGxlLCAoYnVmKSkpDQo+ID4gLQ0KPiA+IC0jZGVmaW5lIGFtZGdwdV9kcG1fc2V0
X3BwZmVhdHVyZV9zdGF0dXMoYWRldiwgcHBmZWF0dXJlcykgXA0KPiA+IC0JCSgoYWRldiktPnBv
d2VycGxheS5wcF9mdW5jcy0+c2V0X3BwZmVhdHVyZV9zdGF0dXMoXA0KPiA+IC0JCQkoYWRldikt
PnBvd2VycGxheS5wcF9oYW5kbGUsIChwcGZlYXR1cmVzKSkpDQo+ID4gLQ0KPiA+IC0jZGVmaW5l
IGFtZGdwdV9kcG1fZ2V0X2dwdV9tZXRyaWNzKGFkZXYsIHRhYmxlKSBcDQo+ID4gLQkJKChhZGV2
KS0+cG93ZXJwbGF5LnBwX2Z1bmNzLT5nZXRfZ3B1X21ldHJpY3MoKGFkZXYpLQ0KPiA+cG93ZXJw
bGF5LnBwX2hhbmRsZSwgdGFibGUpKQ0KPiA+IC0NCj4gPiAgIHN0cnVjdCBhbWRncHVfZHBtIHsN
Cj4gPiAgIAlzdHJ1Y3QgYW1kZ3B1X3BzICAgICAgICAqcHM7DQo+ID4gICAJLyogbnVtYmVyIG9m
IHZhbGlkIHBvd2VyIHN0YXRlcyAqLw0KPiA+IEBAIC01OTgsNCArNTA4LDc0IEBAIHZvaWQgYW1k
Z3B1X2RwbV9nZnhfc3RhdGVfY2hhbmdlKHN0cnVjdA0KPiBhbWRncHVfZGV2aWNlICphZGV2LA0K
PiA+ICAgCQkJCSBlbnVtIGdmeF9jaGFuZ2Vfc3RhdGUgc3RhdGUpOw0KPiA+ICAgaW50IGFtZGdw
dV9kcG1fZ2V0X2VjY19pbmZvKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KPiA+ICAgCQkJ
ICAgIHZvaWQgKnVtY19lY2MpOw0KPiA+ICtzdHJ1Y3QgYW1kX3ZjZV9zdGF0ZSAqYW1kZ3B1X2Rw
bV9nZXRfdmNlX2Nsb2NrX3N0YXRlKHN0cnVjdA0KPiBhbWRncHVfZGV2aWNlICphZGV2LA0KPiA+
ICsJCQkJCQkgICAgIHVpbnQzMl90IGlkeCk7DQo+ID4gK3ZvaWQgYW1kZ3B1X2RwbV9nZXRfY3Vy
cmVudF9wb3dlcl9zdGF0ZShzdHJ1Y3QgYW1kZ3B1X2RldmljZQ0KPiAqYWRldiwgZW51bSBhbWRf
cG1fc3RhdGVfdHlwZSAqc3RhdGUpOw0KPiA+ICt2b2lkIGFtZGdwdV9kcG1fc2V0X3Bvd2VyX3N0
YXRlKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KPiA+ICsJCQkJZW51bSBhbWRfcG1fc3Rh
dGVfdHlwZSBzdGF0ZSk7DQo+ID4gK2VudW0gYW1kX2RwbV9mb3JjZWRfbGV2ZWwNCj4gYW1kZ3B1
X2RwbV9nZXRfcGVyZm9ybWFuY2VfbGV2ZWwoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpOw0K
PiA+ICtpbnQgYW1kZ3B1X2RwbV9mb3JjZV9wZXJmb3JtYW5jZV9sZXZlbChzdHJ1Y3QgYW1kZ3B1
X2RldmljZQ0KPiAqYWRldiwNCj4gPiArCQkJCSAgICAgICBlbnVtIGFtZF9kcG1fZm9yY2VkX2xl
dmVsIGxldmVsKTsNCj4gPiAraW50IGFtZGdwdV9kcG1fZ2V0X3BwX251bV9zdGF0ZXMoc3RydWN0
IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ID4gKwkJCQkgc3RydWN0IHBwX3N0YXRlc19pbmZvICpz
dGF0ZXMpOw0KPiA+ICtpbnQgYW1kZ3B1X2RwbV9kaXNwYXRjaF90YXNrKHN0cnVjdCBhbWRncHVf
ZGV2aWNlICphZGV2LA0KPiA+ICsJCQkgICAgICBlbnVtIGFtZF9wcF90YXNrIHRhc2tfaWQsDQo+
ID4gKwkJCSAgICAgIGVudW0gYW1kX3BtX3N0YXRlX3R5cGUgKnVzZXJfc3RhdGUpOw0KPiA+ICtp
bnQgYW1kZ3B1X2RwbV9nZXRfcHBfdGFibGUoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIGNo
YXINCj4gKip0YWJsZSk7DQo+ID4gK2ludCBhbWRncHVfZHBtX3NldF9maW5lX2dyYWluX2Nsa192
b2woc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ID4gKwkJCQkgICAgICB1aW50MzJfdCB0
eXBlLA0KPiA+ICsJCQkJICAgICAgbG9uZyAqaW5wdXQsDQo+ID4gKwkJCQkgICAgICB1aW50MzJf
dCBzaXplKTsNCj4gPiAraW50IGFtZGdwdV9kcG1fb2RuX2VkaXRfZHBtX3RhYmxlKHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2LA0KPiA+ICsJCQkJICB1aW50MzJfdCB0eXBlLA0KPiA+ICsJCQkJ
ICBsb25nICppbnB1dCwNCj4gPiArCQkJCSAgdWludDMyX3Qgc2l6ZSk7DQo+ID4gK2ludCBhbWRn
cHVfZHBtX3ByaW50X2Nsb2NrX2xldmVscyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4g
PiArCQkJCSAgZW51bSBwcF9jbG9ja190eXBlIHR5cGUsDQo+ID4gKwkJCQkgIGNoYXIgKmJ1Zik7
DQo+ID4gK2ludCBhbWRncHVfZHBtX3NldF9wcGZlYXR1cmVfc3RhdHVzKHN0cnVjdCBhbWRncHVf
ZGV2aWNlICphZGV2LA0KPiA+ICsJCQkJICAgIHVpbnQ2NF90IHBwZmVhdHVyZV9tYXNrcyk7DQo+
ID4gK2ludCBhbWRncHVfZHBtX2dldF9wcGZlYXR1cmVfc3RhdHVzKHN0cnVjdCBhbWRncHVfZGV2
aWNlICphZGV2LA0KPiBjaGFyICpidWYpOw0KPiA+ICtpbnQgYW1kZ3B1X2RwbV9mb3JjZV9jbG9j
a19sZXZlbChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gPiArCQkJCSBlbnVtIHBwX2Ns
b2NrX3R5cGUgdHlwZSwNCj4gPiArCQkJCSB1aW50MzJfdCBtYXNrKTsNCj4gPiAraW50IGFtZGdw
dV9kcG1fZ2V0X3NjbGtfb2Qoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpOw0KPiA+ICtpbnQg
YW1kZ3B1X2RwbV9zZXRfc2Nsa19vZChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgdWludDMy
X3QNCj4gdmFsdWUpOw0KPiA+ICtpbnQgYW1kZ3B1X2RwbV9nZXRfbWNsa19vZChzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldik7DQo+ID4gK2ludCBhbWRncHVfZHBtX3NldF9tY2xrX29kKHN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2LCB1aW50MzJfdA0KPiB2YWx1ZSk7DQo+ID4gK2ludCBhbWRn
cHVfZHBtX2dldF9wb3dlcl9wcm9maWxlX21vZGUoc3RydWN0IGFtZGdwdV9kZXZpY2UNCj4gKmFk
ZXYsDQo+ID4gKwkJCQkgICAgICBjaGFyICpidWYpOw0KPiA+ICtpbnQgYW1kZ3B1X2RwbV9zZXRf
cG93ZXJfcHJvZmlsZV9tb2RlKHN0cnVjdCBhbWRncHVfZGV2aWNlDQo+ICphZGV2LA0KPiA+ICsJ
CQkJICAgICAgbG9uZyAqaW5wdXQsIHVpbnQzMl90IHNpemUpOw0KPiA+ICtpbnQgYW1kZ3B1X2Rw
bV9nZXRfZ3B1X21ldHJpY3Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHZvaWQNCj4gKip0
YWJsZSk7DQo+ID4gK2ludCBhbWRncHVfZHBtX2dldF9mYW5fY29udHJvbF9tb2RlKHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2LA0KPiA+ICsJCQkJICAgIHVpbnQzMl90ICpmYW5fbW9kZSk7DQo+
ID4gK2ludCBhbWRncHVfZHBtX3NldF9mYW5fc3BlZWRfcHdtKHN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2LA0KPiA+ICsJCQkJIHVpbnQzMl90IHNwZWVkKTsNCj4gPiAraW50IGFtZGdwdV9kcG1f
Z2V0X2Zhbl9zcGVlZF9wd20oc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ID4gKwkJCQkg
dWludDMyX3QgKnNwZWVkKTsNCj4gPiAraW50IGFtZGdwdV9kcG1fZ2V0X2Zhbl9zcGVlZF9ycG0o
c3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ID4gKwkJCQkgdWludDMyX3QgKnNwZWVkKTsN
Cj4gPiAraW50IGFtZGdwdV9kcG1fc2V0X2Zhbl9zcGVlZF9ycG0oc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYsDQo+ID4gKwkJCQkgdWludDMyX3Qgc3BlZWQpOw0KPiA+ICtpbnQgYW1kZ3B1X2Rw
bV9zZXRfZmFuX2NvbnRyb2xfbW9kZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gPiAr
CQkJCSAgICB1aW50MzJfdCBtb2RlKTsNCj4gPiAraW50IGFtZGdwdV9kcG1fZ2V0X3Bvd2VyX2xp
bWl0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KPiA+ICsJCQkgICAgICAgdWludDMyX3Qg
KmxpbWl0LA0KPiA+ICsJCQkgICAgICAgZW51bSBwcF9wb3dlcl9saW1pdF9sZXZlbCBwcF9saW1p
dF9sZXZlbCwNCj4gPiArCQkJICAgICAgIGVudW0gcHBfcG93ZXJfdHlwZSBwb3dlcl90eXBlKTsN
Cj4gPiAraW50IGFtZGdwdV9kcG1fc2V0X3Bvd2VyX2xpbWl0KHN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2LA0KPiA+ICsJCQkgICAgICAgdWludDMyX3QgbGltaXQpOw0KPiA+ICtpbnQgYW1kZ3B1
X2RwbV9pc19jY2xrX2RwbV9zdXBwb3J0ZWQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpOw0K
PiA+ICtpbnQgYW1kZ3B1X2RwbV9kZWJ1Z2ZzX3ByaW50X2N1cnJlbnRfcGVyZm9ybWFuY2VfbGV2
ZWwoc3RydWN0DQo+IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ID4gKwkJCQkJCSAgICAgICBzdHJ1
Y3Qgc2VxX2ZpbGUgKm0pOw0KPiA+ICtpbnQgYW1kZ3B1X2RwbV9nZXRfc211X3Bydl9idWZfZGV0
YWlscyhzdHJ1Y3QgYW1kZ3B1X2RldmljZQ0KPiAqYWRldiwNCj4gPiArCQkJCSAgICAgICB2b2lk
ICoqYWRkciwNCj4gPiArCQkJCSAgICAgICBzaXplX3QgKnNpemUpOw0KPiA+ICtpbnQgYW1kZ3B1
X2RwbV9pc19vdmVyZHJpdmVfc3VwcG9ydGVkKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KTsN
Cj4gPiAraW50IGFtZGdwdV9kcG1fc2V0X3BwX3RhYmxlKHN0cnVjdCBhbWRncHVfZGV2aWNlICph
ZGV2LA0KPiA+ICsJCQkgICAgY29uc3QgY2hhciAqYnVmLA0KPiA+ICsJCQkgICAgc2l6ZV90IHNp
emUpOw0KPiA+ICtpbnQgYW1kZ3B1X2RwbV9nZXRfbnVtX2NwdV9jb3JlcyhzdHJ1Y3QgYW1kZ3B1
X2RldmljZSAqYWRldik7DQo+ID4gK3ZvaWQgYW1kZ3B1X2RwbV9zdGJfZGVidWdfZnNfaW5pdChz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7DQo+ID4gICAjZW5kaWYNCj4gPiBkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wbS9zd3NtdS9hbWRncHVfc211LmMNCj4gYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL3BtL3N3c211L2FtZGdwdV9zbXUuYw0KPiA+IGluZGV4IGQ4Y2Q3YzhjNDQ3
OS4uNTEzNTgzODNmNjcyIDEwMDY0NA0KPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG0v
c3dzbXUvYW1kZ3B1X3NtdS5jDQo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wbS9zd3Nt
dS9hbWRncHVfc211LmMNCj4gPiBAQCAtNDcwLDkgKzQ3MCw2IEBAIGJvb2wgaXNfc3VwcG9ydF9j
Y2xrX2RwbShzdHJ1Y3QgYW1kZ3B1X2RldmljZQ0KPiAqYWRldikNCj4gPiAgIHsNCj4gPiAgIAlz
dHJ1Y3Qgc211X2NvbnRleHQgKnNtdSA9ICZhZGV2LT5zbXU7DQo+ID4NCj4gPiAtCWlmICghaXNf
c3VwcG9ydF9zd19zbXUoYWRldikpDQo+ID4gLQkJcmV0dXJuIGZhbHNlOw0KPiA+IC0NCj4gPiAg
IAlpZiAoIXNtdV9mZWF0dXJlX2lzX2VuYWJsZWQoc211LCBTTVVfRkVBVFVSRV9DQ0xLX0RQTV9C
SVQpKQ0KPiA+ICAgCQlyZXR1cm4gZmFsc2U7DQo+ID4NCj4gPg0K
