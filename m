Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 09D0519AB7D
	for <lists+amd-gfx@lfdr.de>; Wed,  1 Apr 2020 14:17:08 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8527589E06;
	Wed,  1 Apr 2020 12:17:06 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mga02.intel.com (mga02.intel.com [134.134.136.20])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E2D4689E06
 for <amd-gfx@lists.freedesktop.org>; Wed,  1 Apr 2020 12:17:05 +0000 (UTC)
IronPort-SDR: LYpZr+0pO6iYS/4lycvd+lBM5/slkeETgZ0t9rETcnoUjvRv9PmrgPGaysF47KUV4xGen588qI
 VUl6XBe5ixMA==
X-Amp-Result: SKIPPED(no attachment in message)
X-Amp-File-Uploaded: False
Received: from orsmga005.jf.intel.com ([10.7.209.41])
 by orsmga101.jf.intel.com with ESMTP/TLS/ECDHE-RSA-AES256-GCM-SHA384;
 01 Apr 2020 05:17:05 -0700
IronPort-SDR: +QoODEbUD/P+62Su6V2eVogqykizoMDnROnWCIG/w9XiVie7tvakVycrw5iSXyG9fvrhhtOoyu
 GtVPwMl7edqg==
X-ExtLoop1: 1
X-IronPort-AV: E=Sophos;i="5.72,331,1580803200"; d="scan'208";a="422697535"
Received: from unknown (HELO jeevan-desktop.iind.intel.com) ([10.223.74.85])
 by orsmga005.jf.intel.com with ESMTP; 01 Apr 2020 05:17:03 -0700
From: Jeevan B <jeevan.b@intel.com>
To: uma.shankar@intel.com
Subject: [PATCH 5/5] drm/amdgpu: utilize subconnector property for DP through
 DisplayManager
Date: Wed,  1 Apr 2020 17:42:28 +0530
Message-Id: <1585743148-31205-5-git-send-email-jeevan.b@intel.com>
X-Mailer: git-send-email 2.7.4
In-Reply-To: <1585743148-31205-1-git-send-email-jeevan.b@intel.com>
References: <1585743148-31205-1-git-send-email-jeevan.b@intel.com>
MIME-Version: 1.0
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Jeevan B <jeevan.b@intel.com>, Alex Deucher <alexander.deucher@amd.com>,
 =?UTF-8?q?Christian=20K=C3=B6nig?= <christian.koenig@amd.com>,
 amd-gfx@lists.freedesktop.org, David Zhou <David1.Zhou@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

U2luY2UgRFAtc3BlY2lmaWMgaW5mb3JtYXRpb24gaXMgc3RvcmVkIGluIGRyaXZlcidzIHN0cnVj
dHVyZXMsIGV2ZXJ5CmRyaXZlciBuZWVkcyB0byBpbXBsZW1lbnQgc3ViY29ubmVjdG9yIHByb3Bl
cnR5IGJ5IGl0c2VsZi4gRGlzcGxheQpDb3JlIGFscmVhZHkgaGFzIHRoZSBzdWJjb25uZWN0b3Ig
aW5mb3JtYXRpb24sIHdlIG9ubHkgbmVlZCB0bwpleHBvc2UgaXQgdGhyb3VnaCBEUk0gcHJvcGVy
dHkuCgpTaWduZWQtb2ZmLWJ5OiBPbGVnIFZhc2lsZXYgPG9sZWcudmFzaWxldkBpbnRlbC5jb20+
ClRlc3RlZC1ieTogT2xlZyBWYXNpbGV2IDxvbGVnLnZhc2lsZXZAaW50ZWwuY29tPgpDYzogQWxl
eCBEZXVjaGVyIDxhbGV4YW5kZXIuZGV1Y2hlckBhbWQuY29tPgpDYzogQ2hyaXN0aWFuIEvDtm5p
ZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPgpDYzogRGF2aWQgKENodW5NaW5nKSBaaG91IDxE
YXZpZDEuWmhvdUBhbWQuY29tPgpDYzogYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKU2ln
bmVkLW9mZi1ieTogSmVldmFuIEIgPGplZXZhbi5iQGludGVsLmNvbT4KTGluazogaHR0cHM6Ly9w
YXRjaHdvcmsuZnJlZWRlc2t0b3Aub3JnL3BhdGNoL21zZ2lkLzIwMTkwODI5MTE0ODU0LjE1Mzkt
Ny1vbGVnLnZhc2lsZXZAaW50ZWwuY29tCi0tLQogZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5
L2FtZGdwdV9kbS9hbWRncHVfZG0uYyAgfCA0MSArKysrKysrKysrKysrKysrKysrKystCiAuLi4v
YW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2FtZGdwdV9kbV9tc3RfdHlwZXMuYyAgICB8ICAzICsrCiAy
IGZpbGVzIGNoYW5nZWQsIDQzIGluc2VydGlvbnMoKyksIDEgZGVsZXRpb24oLSkKCmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2FtZGdwdV9kbS5jIGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2FtZGdwdV9kbS9hbWRncHVfZG0uYwppbmRleCBk
MzY3NGQ4Li45MWMwZWYyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkv
YW1kZ3B1X2RtL2FtZGdwdV9kbS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9h
bWRncHVfZG0vYW1kZ3B1X2RtLmMKQEAgLTEyMSw2ICsxMjEsNDIgQEAgTU9EVUxFX0ZJUk1XQVJF
KEZJUk1XQVJFX05BVkkxMl9ETUNVKTsKIHN0YXRpYyBpbnQgYW1kZ3B1X2RtX2luaXQoc3RydWN0
IGFtZGdwdV9kZXZpY2UgKmFkZXYpOwogc3RhdGljIHZvaWQgYW1kZ3B1X2RtX2Zpbmkoc3RydWN0
IGFtZGdwdV9kZXZpY2UgKmFkZXYpOwogCitzdGF0aWMgZW51bSBkcm1fbW9kZV9zdWJjb25uZWN0
b3IgZ2V0X3N1YmNvbm5lY3Rvcl90eXBlKHN0cnVjdCBkY19saW5rICpsaW5rKQoreworCXN3aXRj
aCAobGluay0+ZHBjZF9jYXBzLmRvbmdsZV90eXBlKSB7CisJY2FzZSBESVNQTEFZX0RPTkdMRV9O
T05FOgorCQlyZXR1cm4gRFJNX01PREVfU1VCQ09OTkVDVE9SX05hdGl2ZTsKKwljYXNlIERJU1BM
QVlfRE9OR0xFX0RQX1ZHQV9DT05WRVJURVI6CisJCXJldHVybiBEUk1fTU9ERV9TVUJDT05ORUNU
T1JfVkdBOworCWNhc2UgRElTUExBWV9ET05HTEVfRFBfRFZJX0NPTlZFUlRFUjoKKwljYXNlIERJ
U1BMQVlfRE9OR0xFX0RQX0RWSV9ET05HTEU6CisJCXJldHVybiBEUk1fTU9ERV9TVUJDT05ORUNU
T1JfRFZJRDsKKwljYXNlIERJU1BMQVlfRE9OR0xFX0RQX0hETUlfQ09OVkVSVEVSOgorCWNhc2Ug
RElTUExBWV9ET05HTEVfRFBfSERNSV9ET05HTEU6CisJCXJldHVybiBEUk1fTU9ERV9TVUJDT05O
RUNUT1JfSERNSUE7CisJY2FzZSBESVNQTEFZX0RPTkdMRV9EUF9IRE1JX01JU01BVENIRURfRE9O
R0xFOgorCWRlZmF1bHQ6CisJCXJldHVybiBEUk1fTU9ERV9TVUJDT05ORUNUT1JfVW5rbm93bjsK
Kwl9Cit9CisKK3N0YXRpYyB2b2lkIHVwZGF0ZV9zdWJjb25uZWN0b3JfcHJvcGVydHkoc3RydWN0
IGFtZGdwdV9kbV9jb25uZWN0b3IgKmFjb25uZWN0b3IpCit7CisJc3RydWN0IGRjX2xpbmsgKmxp
bmsgPSBhY29ubmVjdG9yLT5kY19saW5rOworCXN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0
b3IgPSAmYWNvbm5lY3Rvci0+YmFzZTsKKwllbnVtIGRybV9tb2RlX3N1YmNvbm5lY3RvciBzdWJj
b25uZWN0b3IgPSBEUk1fTU9ERV9TVUJDT05ORUNUT1JfVW5rbm93bjsKKworCWlmIChjb25uZWN0
b3ItPmNvbm5lY3Rvcl90eXBlICE9IERSTV9NT0RFX0NPTk5FQ1RPUl9EaXNwbGF5UG9ydCkKKwkJ
cmV0dXJuOworCisJaWYgKGFjb25uZWN0b3ItPmRjX3NpbmspCisJCXN1YmNvbm5lY3RvciA9IGdl
dF9zdWJjb25uZWN0b3JfdHlwZShsaW5rKTsKKworCWRybV9vYmplY3RfcHJvcGVydHlfc2V0X3Zh
bHVlKCZjb25uZWN0b3ItPmJhc2UsCisJCQljb25uZWN0b3ItPmRldi0+bW9kZV9jb25maWcuZHBf
c3ViY29ubmVjdG9yX3Byb3BlcnR5LAorCQkJc3ViY29ubmVjdG9yKTsKK30KKwogLyoKICAqIGlu
aXRpYWxpemVzIGRybV9kZXZpY2UgZGlzcGxheSByZWxhdGVkIHN0cnVjdHVyZXMsIGJhc2VkIG9u
IHRoZSBpbmZvcm1hdGlvbgogICogcHJvdmlkZWQgYnkgREFMLiBUaGUgZHJtIHN0cmN1dHVyZXMg
YXJlOiBkcm1fY3J0YywgZHJtX2Nvbm5lY3RvciwKQEAgLTE5MTcsNyArMTk1Myw2IEBAIHZvaWQg
YW1kZ3B1X2RtX3VwZGF0ZV9jb25uZWN0b3JfYWZ0ZXJfZGV0ZWN0KAogCWlmIChhY29ubmVjdG9y
LT5tc3RfbWdyLm1zdF9zdGF0ZSA9PSB0cnVlKQogCQlyZXR1cm47CiAKLQogCXNpbmsgPSBhY29u
bmVjdG9yLT5kY19saW5rLT5sb2NhbF9zaW5rOwogCWlmIChzaW5rKQogCQlkY19zaW5rX3JldGFp
bihzaW5rKTsKQEAgLTIwMzgsNiArMjA3Myw4IEBAIHZvaWQgYW1kZ3B1X2RtX3VwZGF0ZV9jb25u
ZWN0b3JfYWZ0ZXJfZGV0ZWN0KAogCiAJbXV0ZXhfdW5sb2NrKCZkZXYtPm1vZGVfY29uZmlnLm11
dGV4KTsKIAorCXVwZGF0ZV9zdWJjb25uZWN0b3JfcHJvcGVydHkoYWNvbm5lY3Rvcik7CisKIAlp
ZiAoc2luaykKIAkJZGNfc2lua19yZWxlYXNlKHNpbmspOwogfQpAQCAtNDUxOCw2ICs0NTU1LDgg
QEAgYW1kZ3B1X2RtX2Nvbm5lY3Rvcl9kZXRlY3Qoc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5l
Y3RvciwgYm9vbCBmb3JjZSkKIAllbHNlCiAJCWNvbm5lY3RlZCA9IChhY29ubmVjdG9yLT5iYXNl
LmZvcmNlID09IERSTV9GT1JDRV9PTik7CiAKKwl1cGRhdGVfc3ViY29ubmVjdG9yX3Byb3BlcnR5
KGFjb25uZWN0b3IpOworCiAJcmV0dXJuIChjb25uZWN0ZWQgPyBjb25uZWN0b3Jfc3RhdHVzX2Nv
bm5lY3RlZCA6CiAJCQljb25uZWN0b3Jfc3RhdHVzX2Rpc2Nvbm5lY3RlZCk7CiB9CmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2FtZGdwdV9kbV9tc3Rf
dHlwZXMuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1X2Rt
X21zdF90eXBlcy5jCmluZGV4IGU4MjA4ZGYuLmRhYjgxYTYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1X2RtX21zdF90eXBlcy5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1X2RtX21zdF90eXBl
cy5jCkBAIC0yNiw2ICsyNiw3IEBACiAjaW5jbHVkZSA8bGludXgvdmVyc2lvbi5oPgogI2luY2x1
ZGUgPGRybS9kcm1fYXRvbWljX2hlbHBlci5oPgogI2luY2x1ZGUgPGRybS9kcm1fZHBfbXN0X2hl
bHBlci5oPgorI2luY2x1ZGUgPGRybS9kcm1fZHBfaGVscGVyLmg+CiAjaW5jbHVkZSAiZG1fc2Vy
dmljZXMuaCIKICNpbmNsdWRlICJhbWRncHUuaCIKICNpbmNsdWRlICJhbWRncHVfZG0uaCIKQEAg
LTQ4NSw2ICs0ODYsOCBAQCB2b2lkIGFtZGdwdV9kbV9pbml0aWFsaXplX2RwX2Nvbm5lY3Rvcihz
dHJ1Y3QgYW1kZ3B1X2Rpc3BsYXlfbWFuYWdlciAqZG0sCiAJCTE2LAogCQk0LAogCQlhY29ubmVj
dG9yLT5jb25uZWN0b3JfaWQpOworCisJZHJtX21vZGVfYWRkX2RwX3N1YmNvbm5lY3Rvcl9wcm9w
ZXJ0eSgmYWNvbm5lY3Rvci0+YmFzZSk7CiB9CiAKIGludCBkbV9tc3RfZ2V0X3Bibl9kaXZpZGVy
KHN0cnVjdCBkY19saW5rICpsaW5rKQotLSAKMi43LjQKCl9fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vYW1kLWdmeAo=
