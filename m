Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 50B10DFB0D
	for <lists+amd-gfx@lfdr.de>; Tue, 22 Oct 2019 04:03:05 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 4B20B6E08A;
	Tue, 22 Oct 2019 02:03:03 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM03-BY2-obe.outbound.protection.outlook.com
 (mail-eopbgr780087.outbound.protection.outlook.com [40.107.78.87])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 592B16E08A
 for <amd-gfx@lists.freedesktop.org>; Tue, 22 Oct 2019 02:03:01 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=gnPjayBlZNe+EizJWc1LzyTztgK2gLBe83cV2zxeXLQlU8MfxYYkhLf9lhNN7XDSH62qW8inJC66A6reMedbFQpYNec3yiRx8CnorW/PXrXdGuewAQUkktrIZHAu1lfGQ7vva/6ohTgBm5cUx6MB4X7e27sdqnr3+VeLTpo+BSTAI/hWhH3BzE3eQhf42MVDE2niAQtB1FIMafzPrvJvv1ma7Rb6nhC4jS++fqNSiJKsc9Tsvlkd2NNXJU8qMWJhX4ipE15eHDlhn/kABV50jxZHl4PT16lbfTzBgl3OS9FNJCpmrPten+FzYtgdrA8dTdJu3L2J/foykQHswIIGTw==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=GKugKgIOSmLoN3ND6ZE1mNXG3fBAvyqlTwZvjtamSII=;
 b=SYqte8nz+smE7wZPq3vxW7N0IzPJtkwuzUnLMyZcNWgrn+h90OU9Q6nCe92UEfcTdif7nxsCmxpRDQas+PjnxEjODLK4IjszosX7CLcodKgRkxDeW6bbOU9Wx32DMLuzQ82ENzRGFE8gqehQxqXseDYncOOcvb4i8mtw4k6QTk+vNjcOs6KWZvhttgAJ7taOHLnwZFlwDbXuciIklEZHstrNYC1oERNUpWwWg6D9b2z/2w18jIe1STQ3nHbupZKyUNszCEGm0zQIaX7UdONWv/F55/UHCc1Eqt/pqO4R5QsLao6FSNwiik0CnH3eCKyiuMKGkaiLQKfwqGeAChNf8A==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from BL0PR12MB2580.namprd12.prod.outlook.com (52.132.27.147) by
 BL0PR12MB2435.namprd12.prod.outlook.com (52.132.8.145) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2347.19; Tue, 22 Oct 2019 02:02:58 +0000
Received: from BL0PR12MB2580.namprd12.prod.outlook.com
 ([fe80::145c:4149:8b99:c3b4]) by BL0PR12MB2580.namprd12.prod.outlook.com
 ([fe80::145c:4149:8b99:c3b4%6]) with mapi id 15.20.2347.028; Tue, 22 Oct 2019
 02:02:58 +0000
From: "Zeng, Oak" <Oak.Zeng@amd.com>
To: "Kuehling, Felix" <Felix.Kuehling@amd.com>, "Yang, Philip"
 <Philip.Yang@amd.com>, "amd-gfx@lists.freedesktop.org"
 <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH] drm/amdkfd: don't use dqm lock during device
 reset/suspend/resume
Thread-Topic: [PATCH] drm/amdkfd: don't use dqm lock during device
 reset/suspend/resume
Thread-Index: AQHViFMuq9YMscmH4UyKlVOEPH6sbadl2H0AgAALMkA=
Date: Tue, 22 Oct 2019 02:02:58 +0000
Message-ID: <BL0PR12MB2580AD0DAF7CCB42A29F82E980680@BL0PR12MB2580.namprd12.prod.outlook.com>
References: <20191021210436.10571-1-Philip.Yang@amd.com>
 <fbdfee2b-e9f9-598c-14f3-719429b9f374@amd.com>
In-Reply-To: <fbdfee2b-e9f9-598c-14f3-719429b9f374@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [99.228.209.96]
x-ms-publictraffictype: Email
x-ms-office365-filtering-ht: Tenant
x-ms-office365-filtering-correlation-id: 82bcd08b-8a3a-41f2-91fd-08d75693f648
x-ms-traffictypediagnostic: BL0PR12MB2435:
x-ms-exchange-purlcount: 1
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <BL0PR12MB2435947574990AC9A5ABE0CE80680@BL0PR12MB2435.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:8882;
x-forefront-prvs: 01986AE76B
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(396003)(346002)(376002)(366004)(136003)(39860400002)(13464003)(199004)(189003)(99286004)(256004)(966005)(14444005)(25786009)(76176011)(102836004)(6506007)(53546011)(4001150100001)(14454004)(5660300002)(9686003)(55016002)(52536014)(7696005)(66066001)(6306002)(33656002)(7736002)(486006)(305945005)(6436002)(66476007)(76116006)(476003)(74316002)(26005)(11346002)(446003)(6246003)(2906002)(229853002)(66946007)(478600001)(81166006)(8676002)(81156014)(186003)(6116002)(3846002)(110136005)(71190400001)(71200400001)(2501003)(64756008)(66556008)(86362001)(66446008)(8936002)(15650500001)(316002);
 DIR:OUT; SFP:1101; SCL:1; SRVR:BL0PR12MB2435;
 H:BL0PR12MB2580.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: Evl4dudciPUtgkkR8wzJz0ugFkG4vzEtxISLPyOGzk5TLs+FFLHSfQg58F4PHed+kfpM6kk3+CBj7GoCI7Tq6JxD9RiYVDdqq0qoijhIYeTaVRxKEVeomkYVY1GpIfvJsWAKHSj4kAjW79RAab9M/Uq35cXF+MMxIJg3mmJqP/f9Tab76O060e8AoUg10y5tuDEnJahfuax05+RGXoFtPBYMPl+m0Vuj6T5UCH/6cePLitWNw8dw3cSTG/Cq9qQjFF8Q/DApnUDcld09jiV5QBRPcOhgpInbh/KrMGU6RogJ61tYaX/Bsn/DtDaO0aHNeMiT0x/jrQBm2EZ0uKDxfxhuGBBMME9JxZ3XF/rkAWruAgaplNIHFhq5trugHeuNewWRzevGb9lvlB1iHSn6++SMWahOmdaSZ1CJeFCv5cnyTcO2FGT6VE5Hs0kj26mmz17z5WNP1cRcz5AUGi/+q7ZagL0ki52EayNuv5V4KHc=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 82bcd08b-8a3a-41f2-91fd-08d75693f648
X-MS-Exchange-CrossTenant-originalarrivaltime: 22 Oct 2019 02:02:58.7107 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: CPbOSTRnD/QBZbo//MINyExVyIfK1t+sy8BpWw0THc29ITn5+ptSudx3RK8HSLHL
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BL0PR12MB2435
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=GKugKgIOSmLoN3ND6ZE1mNXG3fBAvyqlTwZvjtamSII=;
 b=W1M+yLiEUbOFYC+VxQgLnXVilth5gjsCzL7nuXkEL0goiF4qxb61CjWcHqj6vKWBUyBMPnkiVCFP2fOOEy6CSuqBv7DgawI4b9b7qy1aEQq3ylUqDDq3scUPY553E6hn8tLHKyRnh3OrtErNeqDRbh2zjQ3lz3e+B+5T9hLJ82g=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Oak.Zeng@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

SWYgd2UgZGVjbGluZSB0aGUgcXVldWUgY3JlYXRpb24gcmVxdWVzdCBpbiBzdXNwZW5kIHN0YXRl
IGJ5IHJldHVybmluZyAtRUFHQUlOLCB0aGVuIHRoaXMgYXBwcm9hY2ggd29ya3MgZm9yIGJvdGgg
aHdzIGFuZCBub24taHdzLiBUaGlzIHdheSB0aGUgZHJpdmVyIGlzIGNsZWFuIGJ1dCBhcHBsaWNh
dGlvbiBuZWVkIHRvIHJlLWNyZWF0ZSBxdWV1ZSBsYXRlciB3aGVuIGl0IGdldCBhIEVBR0FJTi4g
Q3VycmVudGx5IGFwcGxpY2F0aW9uIGlzIG5vdCBhd2FyZSBvZiB0aGUgc3VzcGVuZC9yZXN1bWUg
c3RhdGUsIHNvIGl0IGlzIGhhcmQgZm9yIGFwcGxpY2F0aW9uIHRvIGtub3cgd2hlbiB0byByZS1j
cmVhdGUgcXVldWUuDQoNClRoZSBtYWluIGJlbmVmaXQgdG8gYWxsb3dpbmcgY3JlYXRlIHF1ZXVl
IGluIHN1c3BlbmQgc3RhdGUgaXMgdGhhdCBpdCBpcyBlYXNpZXIgZm9yIGFwcGxpY2F0aW9uIHdy
aXRlci4gQnV0IG5vIGFjdHVhbCBwZXJmb3JtYW5jZSBnYWluIGFzIG5vIHRhc2sgd2lsbCBiZSBl
eGVjdXRlZCBpbiBzdXNwZW5kIHN0YXRlLg0KDQpSZWdhcmRzLA0KT2FrDQoNCi0tLS0tT3JpZ2lu
YWwgTWVzc2FnZS0tLS0tDQpGcm9tOiBhbWQtZ2Z4IDxhbWQtZ2Z4LWJvdW5jZXNAbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnPiBPbiBCZWhhbGYgT2YgS3VlaGxpbmcsIEZlbGl4DQpTZW50OiBNb25kYXks
IE9jdG9iZXIgMjEsIDIwMTkgOTowNCBQTQ0KVG86IFlhbmcsIFBoaWxpcCA8UGhpbGlwLllhbmdA
YW1kLmNvbT47IGFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnDQpTdWJqZWN0OiBSZTogW1BB
VENIXSBkcm0vYW1ka2ZkOiBkb24ndCB1c2UgZHFtIGxvY2sgZHVyaW5nIGRldmljZSByZXNldC9z
dXNwZW5kL3Jlc3VtZQ0KDQoNCk9uIDIwMTktMTAtMjEgNTowNCBwLm0uLCBZYW5nLCBQaGlsaXAg
d3JvdGU6DQo+IElmIGRldmljZSByZXNldC9zdXNwZW5kL3Jlc3VtZSBmYWlsZWQgZm9yIHNvbWUg
cmVhc29uLCBkcW0gbG9jayBpcyANCj4gaG9sZCBmb3JldmVyIGFuZCB0aGlzIGNhdXNlcyBkZWFk
bG9jay4gQmVsb3cgaXMgYSBrZXJuZWwgYmFja3RyYWNlIA0KPiB3aGVuIGFwcGxpY2F0aW9uIG9w
ZW4ga2ZkIGFmdGVyIHN1c3BlbmQvcmVzdW1lIGZhaWxlZC4NCj4NCj4gSW5zdGVhZCBvZiBob2xk
aW5nIGRxbSBsb2NrIGluIHByZV9yZXNldCBhbmQgcmVsZWFzaW5nIGRxbSBsb2NrIGluIA0KPiBw
b3N0X3Jlc2V0LCBhZGQgZHFtLT5kZXZpY2Vfc3RvcHBlZCBmbGFnIHdoaWNoIGlzIG1vZGlmaWVk
IGluDQo+IGRxbS0+b3BzLnN0YXJ0IGFuZCBkcW0tPm9wcy5zdG9wLiBUaGUgZmxhZyBkb2Vzbid0
IG5lZWQgbG9jayANCj4gZHFtLT5wcm90ZWN0aW9uDQo+IGJlY2F1c2Ugd3JpdGUvcmVhZCBhcmUg
YWxsIGluc2lkZSBkcW0gbG9jay4NCj4NCj4gRm9yIEhXUyBjYXNlLCBtYXBfcXVldWVzX2Nwc2No
IGFuZCB1bm1hcF9xdWV1ZXNfY3BzY2ggY2hlY2tzIA0KPiBkZXZpY2Vfc3RvcHBlZCBmbGFnIGJl
Zm9yZSBzZW5kaW5nIHRoZSB1cGRhdGVkIHJ1bmxpc3QuDQoNCldoYXQgYWJvdXQgdGhlIG5vbi1I
V1MgY2FzZT8NCg0KSW4gdGhlb3J5IGluIG5vbi1IV1MgY2FzZSBuZXcgcXVldWVzIHNob3VsZCBi
ZSBjcmVhdGVkIGluIGV2aWN0ZWQgc3RhdGUgd2hpbGUgdGhlIGRldmljZSAoYW5kIGFsbCBwcm9j
ZXNzZXMpIGFyZSBzdXNwZW5kZWQuIFNvIHdlIHNob3VsZCBuZXZlciB0cnkgdG8gbWFwIG9yIHVu
bWFwIHF1ZXVlcyB0byBIUURzIGR1cmluZyBzdXNwZW5kLiBCdXQgSSdkIGZlZWwgYmV0dGVyIHdp
dGggYSBXQVJOX09OIGFuZCBlcnJvciByZXR1cm4gaW4gdGhlIHJpZ2h0IHBsYWNlcyB0byBtYWtl
IHN1cmUgd2UncmUgbm90IG1pc3NpbmcgYW55dGhpbmcuIEJhc2ljYWxseSwgd2UgY2FuJ3QgY2Fs
bCBhbnkgb2YgdGhlIGxvYWQvZGVzdHJveV9tcWQgZnVuY3Rpb25zIHdoaWxlIHN1c3BlbmRlZC4N
Cg0KVGhhdCByZW1pbmRzIG1lLCB3ZSBhbHNvIGhhdmUgdG8gYWRkIHNvbWUgY2hlY2tzIGluIHRo
ZSBkZWJ1Z2ZzIGNvZGUgdG8gYXZvaWQgZHVtcGluZyBIUURzIG9mIGEgRFFNIHRoYXQncyBzdG9w
cGVkLg0KDQpMYXN0IGNvbW1lbnQ6IGRxbS0+ZGV2aWNlX3N0b3BwZWQgbXVzdCBiZSBpbml0aWFs
aXplZCBhcyB0cnVlLiBJdCB3aWxsIGdldCBzZXQgdG8gZmFsc2Ugd2hlbiB0aGUgZGV2aWNlIGlz
IGZpcnN0IHN0YXJ0ZWQuIEl0IG1heSBiZSBlYXNpZXIgdG8gcmV2ZXJzZSB0aGUgbG9naWMsIHNv
bWV0aGluZyBsaWtlIGRxbS0+c2NoZWRfcnVubmluZyB0aGF0IGdldHMgaW1wbGljaXRseSBpbml0
aWFsaXplZCBhcyBmYWxzZS4NCg0KUmVnYXJkcywNCiDCoCBGZWxpeA0KDQoNCj4NCj4gQmFja3Ry
YWNlIG9mIGRxbSBsb2NrIGRlYWRsb2NrOg0KPg0KPiBbVGh1IE9jdCAxNyAxNjo0MzozNyAyMDE5
XSBJTkZPOiB0YXNrIHJvY21pbmZvOjMwMjQgYmxvY2tlZCBmb3IgbW9yZSANCj4gdGhhbiAxMjAg
c2Vjb25kcy4NCj4gW1RodSBPY3QgMTcgMTY6NDM6MzcgMjAxOV0gICAgICAgTm90IHRhaW50ZWQN
Cj4gNS4wLjAtcmMxLWtmZC1jb21wdXRlLXJvY20tZGttcy1uby1ucGktMTEzMSAjMSBbVGh1IE9j
dCAxNyAxNjo0MzozNyANCj4gMjAxOV0gImVjaG8gMCA+IC9wcm9jL3N5cy9rZXJuZWwvaHVuZ190
YXNrX3RpbWVvdXRfc2VjcyIgZGlzYWJsZXMgdGhpcyANCj4gbWVzc2FnZS4NCj4gW1RodSBPY3Qg
MTcgMTY6NDM6MzcgMjAxOV0gcm9jbWluZm8gICAgICAgIEQgICAgMCAgMzAyNCAgIDI5NDcNCj4g
MHg4MDAwMDAwMA0KPiBbVGh1IE9jdCAxNyAxNjo0MzozNyAyMDE5XSBDYWxsIFRyYWNlOg0KPiBb
VGh1IE9jdCAxNyAxNjo0MzozNyAyMDE5XSAgPyBfX3NjaGVkdWxlKzB4M2Q5LzB4OGEwIFtUaHUg
T2N0IDE3IA0KPiAxNjo0MzozNyAyMDE5XSAgc2NoZWR1bGUrMHgzMi8weDcwIFtUaHUgT2N0IDE3
IDE2OjQzOjM3IDIwMTldICANCj4gc2NoZWR1bGVfcHJlZW1wdF9kaXNhYmxlZCsweGEvMHgxMA0K
PiBbVGh1IE9jdCAxNyAxNjo0MzozNyAyMDE5XSAgX19tdXRleF9sb2NrLmlzcmEuOSsweDFlMy8w
eDRlMCBbVGh1IE9jdCANCj4gMTcgMTY6NDM6MzcgMjAxOV0gID8gX19jYWxsX3NyY3UrMHgyNjQv
MHgzYjAgW1RodSBPY3QgMTcgMTY6NDM6MzcgDQo+IDIwMTldICA/IHByb2Nlc3NfdGVybWluYXRp
b25fY3BzY2grMHgyNC8weDJmMA0KPiBbYW1kZ3B1XQ0KPiBbVGh1IE9jdCAxNyAxNjo0MzozNyAy
MDE5XSAgcHJvY2Vzc190ZXJtaW5hdGlvbl9jcHNjaCsweDI0LzB4MmYwDQo+IFthbWRncHVdDQo+
IFtUaHUgT2N0IDE3IDE2OjQzOjM3IDIwMTldDQo+IGtmZF9wcm9jZXNzX2RlcXVldWVfZnJvbV9h
bGxfZGV2aWNlcysweDQyLzB4NjAgW2FtZGdwdV0gW1RodSBPY3QgMTcgDQo+IDE2OjQzOjM3IDIw
MTldICBrZmRfcHJvY2Vzc19ub3RpZmllcl9yZWxlYXNlKzB4MWJlLzB4MjIwDQo+IFthbWRncHVd
DQo+IFtUaHUgT2N0IDE3IDE2OjQzOjM3IDIwMTldICBfX21tdV9ub3RpZmllcl9yZWxlYXNlKzB4
M2UvMHhjMCBbVGh1IE9jdCANCj4gMTcgMTY6NDM6MzcgMjAxOV0gIGV4aXRfbW1hcCsweDE2MC8w
eDFhMCBbVGh1IE9jdCAxNyAxNjo0MzozNyAyMDE5XSAgPyANCj4gX19oYW5kbGVfbW1fZmF1bHQr
MHhiYTMvMHgxMjAwIFtUaHUgT2N0IDE3IDE2OjQzOjM3IDIwMTldICA/IA0KPiBleGl0X3JvYnVz
dF9saXN0KzB4NWEvMHgxMTAgW1RodSBPY3QgMTcgMTY6NDM6MzcgMjAxOV0gIA0KPiBtbXB1dCsw
eDRhLzB4MTIwIFtUaHUgT2N0IDE3IDE2OjQzOjM3IDIwMTldICBkb19leGl0KzB4Mjg0LzB4YjIw
IFtUaHUgDQo+IE9jdCAxNyAxNjo0MzozNyAyMDE5XSAgPyBoYW5kbGVfbW1fZmF1bHQrMHhmYS8w
eDIwMCBbVGh1IE9jdCAxNyANCj4gMTY6NDM6MzcgMjAxOV0gIGRvX2dyb3VwX2V4aXQrMHgzYS8w
eGEwIFtUaHUgT2N0IDE3IDE2OjQzOjM3IDIwMTldICANCj4gX194NjRfc3lzX2V4aXRfZ3JvdXAr
MHgxNC8weDIwIFtUaHUgT2N0IDE3IDE2OjQzOjM3IDIwMTldICANCj4gZG9fc3lzY2FsbF82NCsw
eDRmLzB4MTAwIFtUaHUgT2N0IDE3IDE2OjQzOjM3IDIwMTldICANCj4gZW50cnlfU1lTQ0FMTF82
NF9hZnRlcl9od2ZyYW1lKzB4NDQvMHhhOQ0KPg0KPiBTdWdnZXN0ZWQtYnk6IEZlbGl4IEt1ZWhs
aW5nIDxGZWxpeC5LdWVobGluZ0BhbWQuY29tPg0KPiBTaWduZWQtb2ZmLWJ5OiBQaGlsaXAgWWFu
ZyA8UGhpbGlwLllhbmdAYW1kLmNvbT4NCj4gLS0tDQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRrZmQva2ZkX2NoYXJkZXYuYyAgICAgICAgICAgIHwgIDYgKysrLS0tDQo+ICAgZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRrZmQva2ZkX2RldmljZS5jICAgICAgICAgICAgIHwgIDUgLS0tLS0NCj4g
ICAuLi4vZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9kZXZpY2VfcXVldWVfbWFuYWdlci5jICAgfCAx
MyArKysrKysrKysrLS0tDQo+ICAgLi4uL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfZGV2aWNlX3F1
ZXVlX21hbmFnZXIuaCAgIHwgIDEgKw0KPiAgIDQgZmlsZXMgY2hhbmdlZCwgMTQgaW5zZXJ0aW9u
cygrKSwgMTEgZGVsZXRpb25zKC0pDQo+DQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGtmZC9rZmRfY2hhcmRldi5jIA0KPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2Zk
L2tmZF9jaGFyZGV2LmMNCj4gaW5kZXggZDllMzZkYmYxM2Q1Li40MGQ3NWMzOWYwOGUgMTAwNjQ0
DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9jaGFyZGV2LmMNCj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX2NoYXJkZXYuYw0KPiBAQCAtMTIwLDEz
ICsxMjAsMTMgQEAgc3RhdGljIGludCBrZmRfb3BlbihzdHJ1Y3QgaW5vZGUgKmlub2RlLCBzdHJ1
Y3QgZmlsZSAqZmlsZXApDQo+ICAgCQlyZXR1cm4gLUVQRVJNOw0KPiAgIAl9DQo+ICAgDQo+ICsJ
aWYgKGtmZF9pc19sb2NrZWQoKSkNCj4gKwkJcmV0dXJuIC1FQUdBSU47DQo+ICsNCj4gICAJcHJv
Y2VzcyA9IGtmZF9jcmVhdGVfcHJvY2VzcyhmaWxlcCk7DQo+ICAgCWlmIChJU19FUlIocHJvY2Vz
cykpDQo+ICAgCQlyZXR1cm4gUFRSX0VSUihwcm9jZXNzKTsNCj4gICANCj4gLQlpZiAoa2ZkX2lz
X2xvY2tlZCgpKQ0KPiAtCQlyZXR1cm4gLUVBR0FJTjsNCj4gLQ0KPiAgIAlkZXZfZGJnKGtmZF9k
ZXZpY2UsICJwcm9jZXNzICVkIG9wZW5lZCwgY29tcGF0IG1vZGUgKDMyIGJpdCkgLSAlZFxuIiwN
Cj4gICAJCXByb2Nlc3MtPnBhc2lkLCBwcm9jZXNzLT5pc18zMmJpdF91c2VyX21vZGUpOw0KPiAg
IA0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX2RldmljZS5j
IA0KPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9kZXZpY2UuYw0KPiBpbmRleCA4
ZjRiMjRlODQ5NjQuLjRmYTg4MzRjZTdjYiAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRrZmQva2ZkX2RldmljZS5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
a2ZkL2tmZF9kZXZpY2UuYw0KPiBAQCAtNzMwLDkgKzczMCw2IEBAIGludCBrZ2Qya2ZkX3ByZV9y
ZXNldChzdHJ1Y3Qga2ZkX2RldiAqa2ZkKQ0KPiAgIAkJcmV0dXJuIDA7DQo+ICAgCWtnZDJrZmRf
c3VzcGVuZChrZmQpOw0KPiAgIA0KPiAtCS8qIGhvbGQgZHFtLT5sb2NrIHRvIHByZXZlbnQgZnVy
dGhlciBleGVjdXRpb24qLw0KPiAtCWRxbV9sb2NrKGtmZC0+ZHFtKTsNCj4gLQ0KPiAgIAlrZmRf
c2lnbmFsX3Jlc2V0X2V2ZW50KGtmZCk7DQo+ICAgCXJldHVybiAwOw0KPiAgIH0NCj4gQEAgLTc1
MCw4ICs3NDcsNiBAQCBpbnQga2dkMmtmZF9wb3N0X3Jlc2V0KHN0cnVjdCBrZmRfZGV2ICprZmQp
DQo+ICAgCWlmICgha2ZkLT5pbml0X2NvbXBsZXRlKQ0KPiAgIAkJcmV0dXJuIDA7DQo+ICAgDQo+
IC0JZHFtX3VubG9jayhrZmQtPmRxbSk7DQo+IC0NCj4gICAJcmV0ID0ga2ZkX3Jlc3VtZShrZmQp
Ow0KPiAgIAlpZiAocmV0KQ0KPiAgIAkJcmV0dXJuIHJldDsNCj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9kZXZpY2VfcXVldWVfbWFuYWdlci5jIA0KPiBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9kZXZpY2VfcXVldWVfbWFuYWdlci5jDQo+IGlu
ZGV4IDgxZmI1NDVjZjQyYy4uMDRhNDBmYWJlOWQ3IDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGtmZC9rZmRfZGV2aWNlX3F1ZXVlX21hbmFnZXIuYw0KPiArKysgYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfZGV2aWNlX3F1ZXVlX21hbmFnZXIuYw0KPiBAQCAt
OTE1LDcgKzkxNSw4IEBAIHN0YXRpYyBpbnQgc3RhcnRfbm9jcHNjaChzdHJ1Y3QgDQo+IGRldmlj
ZV9xdWV1ZV9tYW5hZ2VyICpkcW0pDQo+ICAgCQ0KPiAgIAlpZiAoZHFtLT5kZXYtPmRldmljZV9p
bmZvLT5hc2ljX2ZhbWlseSA9PSBDSElQX0hBV0FJSSkNCj4gICAJCXJldHVybiBwbV9pbml0KCZk
cW0tPnBhY2tldHMsIGRxbSk7DQo+IC0JDQo+ICsJZHFtLT5kZXZpY2Vfc3RvcHBlZCA9IGZhbHNl
Ow0KPiArDQo+ICAgCXJldHVybiAwOw0KPiAgIH0NCj4gICANCj4gQEAgLTkyMyw3ICs5MjQsOCBA
QCBzdGF0aWMgaW50IHN0b3Bfbm9jcHNjaChzdHJ1Y3QgZGV2aWNlX3F1ZXVlX21hbmFnZXIgKmRx
bSkNCj4gICB7DQo+ICAgCWlmIChkcW0tPmRldi0+ZGV2aWNlX2luZm8tPmFzaWNfZmFtaWx5ID09
IENISVBfSEFXQUlJKQ0KPiAgIAkJcG1fdW5pbml0KCZkcW0tPnBhY2tldHMpOw0KPiAtCQ0KPiAr
CWRxbS0+ZGV2aWNlX3N0b3BwZWQgPSB0cnVlOw0KPiArDQo+ICAgCXJldHVybiAwOw0KPiAgIH0N
Cj4gICANCj4gQEAgLTEwNzQsNiArMTA3Niw3IEBAIHN0YXRpYyBpbnQgc3RhcnRfY3BzY2goc3Ry
dWN0IGRldmljZV9xdWV1ZV9tYW5hZ2VyICpkcW0pDQo+ICAgCWRxbV9sb2NrKGRxbSk7DQo+ICAg
CS8qIGNsZWFyIGhhbmcgc3RhdHVzIHdoZW4gZHJpdmVyIHRyeSB0byBzdGFydCB0aGUgaHcgc2No
ZWR1bGVyICovDQo+ICAgCWRxbS0+aXNfaHdzX2hhbmcgPSBmYWxzZTsNCj4gKwlkcW0tPmRldmlj
ZV9zdG9wcGVkID0gZmFsc2U7DQo+ICAgCWV4ZWN1dGVfcXVldWVzX2Nwc2NoKGRxbSwgS0ZEX1VO
TUFQX1FVRVVFU19GSUxURVJfRFlOQU1JQ19RVUVVRVMsIDApOw0KPiAgIAlkcW1fdW5sb2NrKGRx
bSk7DQo+ICAgDQo+IEBAIC0xMDg5LDYgKzEwOTIsNyBAQCBzdGF0aWMgaW50IHN0b3BfY3BzY2go
c3RydWN0IGRldmljZV9xdWV1ZV9tYW5hZ2VyICpkcW0pDQo+ICAgew0KPiAgIAlkcW1fbG9jayhk
cW0pOw0KPiAgIAl1bm1hcF9xdWV1ZXNfY3BzY2goZHFtLCBLRkRfVU5NQVBfUVVFVUVTX0ZJTFRF
Ul9BTExfUVVFVUVTLCAwKTsNCj4gKwlkcW0tPmRldmljZV9zdG9wcGVkID0gdHJ1ZTsNCj4gICAJ
ZHFtX3VubG9jayhkcW0pOw0KPiAgIA0KPiAgIAlrZmRfZ3R0X3NhX2ZyZWUoZHFtLT5kZXYsIGRx
bS0+ZmVuY2VfbWVtKTsgQEAgLTEyNzUsOSArMTI3OSwxMCBAQCANCj4gc3RhdGljIGludCBtYXBf
cXVldWVzX2Nwc2NoKHN0cnVjdCBkZXZpY2VfcXVldWVfbWFuYWdlciAqZHFtKQ0KPiAgIHsNCj4g
ICAJaW50IHJldHZhbDsNCj4gICANCj4gKwlpZiAoZHFtLT5kZXZpY2Vfc3RvcHBlZCkNCj4gKwkJ
cmV0dXJuIDA7DQo+ICAgCWlmIChkcW0tPnF1ZXVlX2NvdW50IDw9IDAgfHwgZHFtLT5wcm9jZXNz
ZXNfY291bnQgPD0gMCkNCj4gICAJCXJldHVybiAwOw0KPiAtDQo+ICAgCWlmIChkcW0tPmFjdGl2
ZV9ydW5saXN0KQ0KPiAgIAkJcmV0dXJuIDA7DQo+ICAgDQo+IEBAIC0xMjk5LDYgKzEzMDQsOCBA
QCBzdGF0aWMgaW50IHVubWFwX3F1ZXVlc19jcHNjaChzdHJ1Y3QgZGV2aWNlX3F1ZXVlX21hbmFn
ZXIgKmRxbSwNCj4gICB7DQo+ICAgCWludCByZXR2YWwgPSAwOw0KPiAgIA0KPiArCWlmIChkcW0t
PmRldmljZV9zdG9wcGVkKQ0KPiArCQlyZXR1cm4gMDsNCj4gICAJaWYgKGRxbS0+aXNfaHdzX2hh
bmcpDQo+ICAgCQlyZXR1cm4gLUVJTzsNCj4gICAJaWYgKCFkcW0tPmFjdGl2ZV9ydW5saXN0KQ0K
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX2RldmljZV9xdWV1
ZV9tYW5hZ2VyLmggDQo+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX2RldmljZV9x
dWV1ZV9tYW5hZ2VyLmgNCj4gaW5kZXggMmVhZWE2YjA0Y2JlLi40NGVjZGY5OTljYTggMTAwNjQ0
DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9kZXZpY2VfcXVldWVfbWFu
YWdlci5oDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9kZXZpY2VfcXVl
dWVfbWFuYWdlci5oDQo+IEBAIC0yMDEsNiArMjAxLDcgQEAgc3RydWN0IGRldmljZV9xdWV1ZV9t
YW5hZ2VyIHsNCj4gICAJYm9vbAkJCWlzX2h3c19oYW5nOw0KPiAgIAlzdHJ1Y3Qgd29ya19zdHJ1
Y3QJaHdfZXhjZXB0aW9uX3dvcms7DQo+ICAgCXN0cnVjdCBrZmRfbWVtX29iagloaXFfc2RtYV9t
cWQ7DQo+ICsJYm9vbAkJCWRldmljZV9zdG9wcGVkOw0KPiAgIH07DQo+ICAgDQo+ICAgdm9pZCBk
ZXZpY2VfcXVldWVfbWFuYWdlcl9pbml0X2NpaygNCl9fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fDQphbWQtZ2Z4IG1haWxpbmcgbGlzdA0KYW1kLWdmeEBsaXN0
cy5mcmVlZGVza3RvcC5vcmcNCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vYW1kLWdmeA0KX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4
