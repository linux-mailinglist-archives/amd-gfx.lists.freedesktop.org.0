Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id CA103E567F
	for <lists+amd-gfx@lfdr.de>; Sat, 26 Oct 2019 00:30:32 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id EA5526EBB3;
	Fri, 25 Oct 2019 22:30:30 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM05-BY2-obe.outbound.protection.outlook.com
 (mail-eopbgr710070.outbound.protection.outlook.com [40.107.71.70])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E5A3B6EBB3
 for <amd-gfx@lists.freedesktop.org>; Fri, 25 Oct 2019 22:30:28 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=QXIDPP0/aqX8Pt/n2U//iIIUqltxzrDhhi4pwLMZK+l53EEvSX9qpP1Mu6FbEhu0PcMJ9jprBVCM3w/t5Gd7J5laQhyRWo5VsMnkBqsPy+NWKi6WBxrjYL5B/yxpbeC2GV87umidyvsx8GeIvKyBrj9kKAN5FwakUMPUTRTGWMqbUnPTDQzvKxk/q8fGLaVuSsKRiOWgTMYL5vjqMTzmTBio2LbzaY4q0r615c09I8RbyFTsI9lmCetT6cTKIlF6zD75/RjYoYYkOPqfkxL6p2HYSCscx8nBzDfQmAruS2rM53BcJL45WCr7Iz/lJhEHP1UavL2rYGSMT28FD8dOeg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=Fof0/E7D67WQV6XYTRh5c9yxbsnfxFdtInIKla6elro=;
 b=D7nGZV13rxw21sQdrr73Pd3vXkcor8UyPZ75vG2UVj2goMVPgJhYs8dPAIK6ad3BncrvEDziee4Io62srXjxD9pc5PjGNEJc7jv9tPGGnyMEgSLDhtkUPDqTbGYA/6C7w9arznoiPjPcGBYfqRJahV21a2b7neLfGazc92x6czqu3tqOVLyTYTtO19BIDvxH+THlE79Q5NP5DPqkbjLFbId/I8Mj653KbcKncM3d81PA/uoOlPSi6k36B1JMyNWaZVdyG8BYbTHWK3bQbeAQpKEhsGLAOQQaE2Th+NFfoXqhvVE0sqVlXnOrQ2gnfbR1iyG386DioOpzmsjitW/Nfw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from DM6PR12MB3355.namprd12.prod.outlook.com (20.178.198.10) by
 DM6PR12MB4026.namprd12.prod.outlook.com (10.255.175.91) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2387.20; Fri, 25 Oct 2019 22:30:26 +0000
Received: from DM6PR12MB3355.namprd12.prod.outlook.com
 ([fe80::58fb:d29:4e24:b487]) by DM6PR12MB3355.namprd12.prod.outlook.com
 ([fe80::58fb:d29:4e24:b487%6]) with mapi id 15.20.2387.025; Fri, 25 Oct 2019
 22:30:26 +0000
From: "Tuikov, Luben" <Luben.Tuikov@amd.com>
To: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: [PATCH] drm/amdgpu: simplify padding calculations
Thread-Topic: [PATCH] drm/amdgpu: simplify padding calculations
Thread-Index: AQHVisULvYz/N9VAyU2dNn0xqbhFTqdq7J0AgAD6hwCAAArYgA==
Date: Fri, 25 Oct 2019 22:30:26 +0000
Message-ID: <20191025223011.10968-1-luben.tuikov@amd.com>
References: <ed713bfe-2032-b56a-3e29-f61f48aeeb3b@amd.com>
In-Reply-To: <ed713bfe-2032-b56a-3e29-f61f48aeeb3b@amd.com>
Accept-Language: en-CA, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: YTBPR01CA0005.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:b01:14::18) To DM6PR12MB3355.namprd12.prod.outlook.com
 (2603:10b6:5:38::10)
x-ms-exchange-messagesentrepresentingtype: 1
x-mailer: git-send-email 2.23.0.385.gbc12974a89
x-originating-ip: [165.204.55.250]
x-ms-publictraffictype: Email
x-ms-office365-filtering-ht: Tenant
x-ms-office365-filtering-correlation-id: 67f7b917-53bf-4ab6-ddc0-08d7599aee92
x-ms-traffictypediagnostic: DM6PR12MB4026:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <DM6PR12MB40266287BDB70B757B7EDFD999650@DM6PR12MB4026.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:3631;
x-forefront-prvs: 02015246A9
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(376002)(396003)(346002)(136003)(39860400002)(366004)(199004)(189003)(50226002)(102836004)(2501003)(26005)(86362001)(186003)(6436002)(6486002)(305945005)(71200400001)(7736002)(446003)(76176011)(4326008)(256004)(1076003)(52116002)(71190400001)(66066001)(5640700003)(99286004)(6512007)(486006)(5660300002)(25786009)(81156014)(66946007)(478600001)(6916009)(14454004)(2906002)(81166006)(476003)(6506007)(386003)(316002)(6116002)(11346002)(2616005)(3846002)(66556008)(66476007)(66446008)(8676002)(2351001)(64756008)(36756003)(8936002)(54906003);
 DIR:OUT; SFP:1101; SCL:1; SRVR:DM6PR12MB4026;
 H:DM6PR12MB3355.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: nc/wBPmjqVyzTaN6BASJUFxk7UP7tW+bHIAWEAMQPcx4FU6AQzZAXkQ403diDxbC69lwVIv4g/HbLyKdIeS3IFfYS0BNR5M/JvsIhSILuK7nOhixrAuO9s8gkuDJrQn2dHinVLTCggU5gKEAOWXIF37Yp+yTlWeet2dd1H/T8gZF5BbbPZEjpBVBiZ8sy5hEg0lCHwcLcpz5YNogZnSOCk/sN49EjDJrtV3pGm62aCrcY/zvbcp6hJsC7WMYMoHRJAbM3wbGjHJRV5pn4bjTaNc0zbN5E+GiTqLWoTuji+XljdcThx6281qUm7h9+WbNOhVx97J49qC6capDRl8TQsXYK9u6UF27VguJ/CgVTPjuzBHgi59kvm47uQsjVJA9fHX8j36cBgJzpfOuH1vPOqLWg0LoAkeQ6cBK3bxC+2IGp98GaL9QJSIHXgVuJqla
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 67f7b917-53bf-4ab6-ddc0-08d7599aee92
X-MS-Exchange-CrossTenant-originalarrivaltime: 25 Oct 2019 22:30:26.2880 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: 3uOLK+xekUls+dAnizjVqCLiZLniYGefHMn2pihyvWz2kltf54JdR4i1ioFZqc13
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM6PR12MB4026
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=Fof0/E7D67WQV6XYTRh5c9yxbsnfxFdtInIKla6elro=;
 b=SU0z4N7+ckvgLGFG0yCOGGbMsEOUlxabRG7lGnfAY3dYRj4k6fJ5oIk1Zi9DWcJ5epgupVxlQPASU12cPw3FA1/UiCPZ4IHvLe4wQnN8gsoQQ+qE9xepetoiTWu61PD/FeMTUZSwM6/Cu2v/GxuarHuJuYdb5GBwzMlCXuhBhkI=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Luben.Tuikov@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Deucher, Alexander" <Alexander.Deucher@amd.com>, "Tuikov,
 Luben" <Luben.Tuikov@amd.com>, "Koenig, Christian" <Christian.Koenig@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

U2ltcGxpZnkgcGFkZGluZyBjYWxjdWxhdGlvbnMuCgpTaWduZWQtb2ZmLWJ5OiBMdWJlbiBUdWlr
b3YgPGx1YmVuLnR1aWtvdkBhbWQuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2Npa19zZG1hLmMgIHwgIDQgKystLQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92
Ml80LmMgfCAgNCArKy0tCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3YzXzAuYyB8
ICA0ICsrLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjRfMC5jIHwgIDQgKyst
LQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92NV8wLmMgfCAxNyArKysrKysrKysr
KystLS0tLQogNSBmaWxlcyBjaGFuZ2VkLCAyMCBpbnNlcnRpb25zKCspLCAxMyBkZWxldGlvbnMo
LSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9jaWtfc2RtYS5jIGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvY2lrX3NkbWEuYwppbmRleCBjNDUzMDRmMTA0N2Mu
LjFlYTllMThkNmYwOCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvY2lr
X3NkbWEuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9jaWtfc2RtYS5jCkBAIC0y
MjgsNyArMjI4LDcgQEAgc3RhdGljIHZvaWQgY2lrX3NkbWFfcmluZ19lbWl0X2liKHN0cnVjdCBh
bWRncHVfcmluZyAqcmluZywKIAl1MzIgZXh0cmFfYml0cyA9IHZtaWQgJiAweGY7CiAKIAkvKiBJ
QiBwYWNrZXQgbXVzdCBlbmQgb24gYSA4IERXIGJvdW5kYXJ5ICovCi0JY2lrX3NkbWFfcmluZ19p
bnNlcnRfbm9wKHJpbmcsICgxMiAtIChsb3dlcl8zMl9iaXRzKHJpbmctPndwdHIpICYgNykpICUg
OCk7CisJY2lrX3NkbWFfcmluZ19pbnNlcnRfbm9wKHJpbmcsICg0LWxvd2VyXzMyX2JpdHMocmlu
Zy0+d3B0cikpICYgNyk7CiAKIAlhbWRncHVfcmluZ193cml0ZShyaW5nLCBTRE1BX1BBQ0tFVChT
RE1BX09QQ09ERV9JTkRJUkVDVF9CVUZGRVIsIDAsIGV4dHJhX2JpdHMpKTsKIAlhbWRncHVfcmlu
Z193cml0ZShyaW5nLCBpYi0+Z3B1X2FkZHIgJiAweGZmZmZmZmUwKTsgLyogYmFzZSBtdXN0IGJl
IDMyIGJ5dGUgYWxpZ25lZCAqLwpAQCAtODExLDcgKzgxMSw3IEBAIHN0YXRpYyB2b2lkIGNpa19z
ZG1hX3JpbmdfcGFkX2liKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywgc3RydWN0IGFtZGdwdV9p
YiAqaWIpCiAJdTMyIHBhZF9jb3VudDsKIAlpbnQgaTsKIAotCXBhZF9jb3VudCA9ICg4IC0gKGli
LT5sZW5ndGhfZHcgJiAweDcpKSAlIDg7CisJcGFkX2NvdW50ID0gKC1pYi0+bGVuZ3RoX2R3KSAm
IDc7CiAJZm9yIChpID0gMDsgaSA8IHBhZF9jb3VudDsgaSsrKQogCQlpZiAoc2RtYSAmJiBzZG1h
LT5idXJzdF9ub3AgJiYgKGkgPT0gMCkpCiAJCQlpYi0+cHRyW2liLT5sZW5ndGhfZHcrK10gPQpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92Ml80LmMgYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3YyXzQuYwppbmRleCBhMTAxNzU4MzgwMTMuLmQz
NDBmMTc5NDAxYSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92
Ml80LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92Ml80LmMKQEAgLTI1
NSw3ICsyNTUsNyBAQCBzdGF0aWMgdm9pZCBzZG1hX3YyXzRfcmluZ19lbWl0X2liKHN0cnVjdCBh
bWRncHVfcmluZyAqcmluZywKIAl1bnNpZ25lZCB2bWlkID0gQU1ER1BVX0pPQl9HRVRfVk1JRChq
b2IpOwogCiAJLyogSUIgcGFja2V0IG11c3QgZW5kIG9uIGEgOCBEVyBib3VuZGFyeSAqLwotCXNk
bWFfdjJfNF9yaW5nX2luc2VydF9ub3AocmluZywgKDEwIC0gKGxvd2VyXzMyX2JpdHMocmluZy0+
d3B0cikgJiA3KSkgJSA4KTsKKwlzZG1hX3YyXzRfcmluZ19pbnNlcnRfbm9wKHJpbmcsICgyLWxv
d2VyXzMyX2JpdHMocmluZy0+d3B0cikpICYgNyk7CiAKIAlhbWRncHVfcmluZ193cml0ZShyaW5n
LCBTRE1BX1BLVF9IRUFERVJfT1AoU0RNQV9PUF9JTkRJUkVDVCkgfAogCQkJICBTRE1BX1BLVF9J
TkRJUkVDVF9IRUFERVJfVk1JRCh2bWlkICYgMHhmKSk7CkBAIC03NTAsNyArNzUwLDcgQEAgc3Rh
dGljIHZvaWQgc2RtYV92Ml80X3JpbmdfcGFkX2liKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywg
c3RydWN0IGFtZGdwdV9pYiAqaWIKIAl1MzIgcGFkX2NvdW50OwogCWludCBpOwogCi0JcGFkX2Nv
dW50ID0gKDggLSAoaWItPmxlbmd0aF9kdyAmIDB4NykpICUgODsKKwlwYWRfY291bnQgPSAoLWli
LT5sZW5ndGhfZHcpICYgNzsKIAlmb3IgKGkgPSAwOyBpIDwgcGFkX2NvdW50OyBpKyspCiAJCWlm
IChzZG1hICYmIHNkbWEtPmJ1cnN0X25vcCAmJiAoaSA9PSAwKSkKIAkJCWliLT5wdHJbaWItPmxl
bmd0aF9kdysrXSA9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1h
X3YzXzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjNfMC5jCmluZGV4IDVm
NGUyYzYxNjI0MS4uNWMzYzMxMDE4OGI2IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9zZG1hX3YzXzAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1h
X3YzXzAuYwpAQCAtNDI5LDcgKzQyOSw3IEBAIHN0YXRpYyB2b2lkIHNkbWFfdjNfMF9yaW5nX2Vt
aXRfaWIoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLAogCXVuc2lnbmVkIHZtaWQgPSBBTURHUFVf
Sk9CX0dFVF9WTUlEKGpvYik7CiAKIAkvKiBJQiBwYWNrZXQgbXVzdCBlbmQgb24gYSA4IERXIGJv
dW5kYXJ5ICovCi0Jc2RtYV92M18wX3JpbmdfaW5zZXJ0X25vcChyaW5nLCAoMTAgLSAobG93ZXJf
MzJfYml0cyhyaW5nLT53cHRyKSAmIDcpKSAlIDgpOworCXNkbWFfdjNfMF9yaW5nX2luc2VydF9u
b3AocmluZywgKDItbG93ZXJfMzJfYml0cyhyaW5nLT53cHRyKSkgJiA3KTsKIAogCWFtZGdwdV9y
aW5nX3dyaXRlKHJpbmcsIFNETUFfUEtUX0hFQURFUl9PUChTRE1BX09QX0lORElSRUNUKSB8CiAJ
CQkgIFNETUFfUEtUX0lORElSRUNUX0hFQURFUl9WTUlEKHZtaWQgJiAweGYpKTsKQEAgLTEwMjEs
NyArMTAyMSw3IEBAIHN0YXRpYyB2b2lkIHNkbWFfdjNfMF9yaW5nX3BhZF9pYihzdHJ1Y3QgYW1k
Z3B1X3JpbmcgKnJpbmcsIHN0cnVjdCBhbWRncHVfaWIgKmliCiAJdTMyIHBhZF9jb3VudDsKIAlp
bnQgaTsKIAotCXBhZF9jb3VudCA9ICg4IC0gKGliLT5sZW5ndGhfZHcgJiAweDcpKSAlIDg7CisJ
cGFkX2NvdW50ID0gKC1pYi0+bGVuZ3RoX2R3KSAmIDc7CiAJZm9yIChpID0gMDsgaSA8IHBhZF9j
b3VudDsgaSsrKQogCQlpZiAoc2RtYSAmJiBzZG1hLT5idXJzdF9ub3AgJiYgKGkgPT0gMCkpCiAJ
CQlpYi0+cHRyW2liLT5sZW5ndGhfZHcrK10gPQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvc2RtYV92NF8wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1h
X3Y0XzAuYwppbmRleCA0NWJkNTM4YmE5N2UuLjdjNzFjODhlMzhhNCAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92NF8wLmMKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvc2RtYV92NF8wLmMKQEAgLTY5OCw3ICs2OTgsNyBAQCBzdGF0aWMgdm9pZCBz
ZG1hX3Y0XzBfcmluZ19lbWl0X2liKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywKIAl1bnNpZ25l
ZCB2bWlkID0gQU1ER1BVX0pPQl9HRVRfVk1JRChqb2IpOwogCiAJLyogSUIgcGFja2V0IG11c3Qg
ZW5kIG9uIGEgOCBEVyBib3VuZGFyeSAqLwotCXNkbWFfdjRfMF9yaW5nX2luc2VydF9ub3Aocmlu
ZywgKDEwIC0gKGxvd2VyXzMyX2JpdHMocmluZy0+d3B0cikgJiA3KSkgJSA4KTsKKwlzZG1hX3Y0
XzBfcmluZ19pbnNlcnRfbm9wKHJpbmcsICgyLWxvd2VyXzMyX2JpdHMocmluZy0+d3B0cikpICYg
Nyk7CiAKIAlhbWRncHVfcmluZ193cml0ZShyaW5nLCBTRE1BX1BLVF9IRUFERVJfT1AoU0RNQV9P
UF9JTkRJUkVDVCkgfAogCQkJICBTRE1BX1BLVF9JTkRJUkVDVF9IRUFERVJfVk1JRCh2bWlkICYg
MHhmKSk7CkBAIC0xNTgwLDcgKzE1ODAsNyBAQCBzdGF0aWMgdm9pZCBzZG1hX3Y0XzBfcmluZ19w
YWRfaWIoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLCBzdHJ1Y3QgYW1kZ3B1X2liICppYgogCXUz
MiBwYWRfY291bnQ7CiAJaW50IGk7CiAKLQlwYWRfY291bnQgPSAoOCAtIChpYi0+bGVuZ3RoX2R3
ICYgMHg3KSkgJSA4OworCXBhZF9jb3VudCA9ICgtaWItPmxlbmd0aF9kdykgJiA3OwogCWZvciAo
aSA9IDA7IGkgPCBwYWRfY291bnQ7IGkrKykKIAkJaWYgKHNkbWEgJiYgc2RtYS0+YnVyc3Rfbm9w
ICYmIChpID09IDApKQogCQkJaWItPnB0cltpYi0+bGVuZ3RoX2R3KytdID0KZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjVfMC5jIGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvc2RtYV92NV8wLmMKaW5kZXggMGM0MWI0ZmRjNThiLi5kMTE3YmRlM2YyOWEg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjVfMC5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjVfMC5jCkBAIC0zODIsOCArMzgyLDE1
IEBAIHN0YXRpYyB2b2lkIHNkbWFfdjVfMF9yaW5nX2VtaXRfaWIoc3RydWN0IGFtZGdwdV9yaW5n
ICpyaW5nLAogCXVuc2lnbmVkIHZtaWQgPSBBTURHUFVfSk9CX0dFVF9WTUlEKGpvYik7CiAJdWlu
dDY0X3QgY3NhX21jX2FkZHIgPSBhbWRncHVfc2RtYV9nZXRfY3NhX21jX2FkZHIocmluZywgdm1p
ZCk7CiAKLQkvKiBJQiBwYWNrZXQgbXVzdCBlbmQgb24gYSA4IERXIGJvdW5kYXJ5ICovCi0Jc2Rt
YV92NV8wX3JpbmdfaW5zZXJ0X25vcChyaW5nLCAoMTAgLSAobG93ZXJfMzJfYml0cyhyaW5nLT53
cHRyKSAmIDcpKSAlIDgpOworCS8qIEFuIElCIHBhY2tldCBtdXN0IGVuZCBvbiBhIDggRFcgYm91
bmRhcnktLXRoZSBuZXh0IGR3b3JkCisJICogbXVzdCBiZSBvbiBhIDgtZHdvcmQgYm91bmRhcnku
IE91ciBJQiBwYWNrZXQgYmVsb3cgaXMgNgorCSAqIGR3b3JkcyBsb25nLCB0aHVzIGFkZCB4IG51
bWJlciBvZiBOT1BzLCBzdWNoIHRoYXQsIGluCisJICogbW9kdWxhciBhcml0aG1ldGljLAorCSAq
IHdwdHIgKyA2ICsgeCA9IDhrLCBrID49IDAsIHdoaWNoIGluIEMgaXMsCisJICogKHdwdHIgKyA2
ICsgeCkgJSA4ID0gMC4KKwkgKiBUaGUgZXhwcmVzc2lvbiBiZWxvdywgaXMgYSBzb2x1dGlvbiBv
ZiB4LgorCSAqLworCXNkbWFfdjVfMF9yaW5nX2luc2VydF9ub3AocmluZywgKDIgLSBsb3dlcl8z
Ml9iaXRzKHJpbmctPndwdHIpKSAmIDcpOwogCiAJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgU0RN
QV9QS1RfSEVBREVSX09QKFNETUFfT1BfSU5ESVJFQ1QpIHwKIAkJCSAgU0RNQV9QS1RfSU5ESVJF
Q1RfSEVBREVSX1ZNSUQodm1pZCAmIDB4ZikpOwpAQCAtMTA4NiwxMCArMTA5MywxMCBAQCBzdGF0
aWMgdm9pZCBzZG1hX3Y1XzBfdm1fc2V0X3B0ZV9wZGUoc3RydWN0IGFtZGdwdV9pYiAqaWIsCiB9
CiAKIC8qKgotICogc2RtYV92NV8wX3JpbmdfcGFkX2liIC0gcGFkIHRoZSBJQiB0byB0aGUgcmVx
dWlyZWQgbnVtYmVyIG9mIGR3Ci0gKgorICogc2RtYV92NV8wX3JpbmdfcGFkX2liIC0gcGFkIHRo
ZSBJQgogICogQGliOiBpbmRpcmVjdCBidWZmZXIgdG8gZmlsbCB3aXRoIHBhZGRpbmcKICAqCisg
KiBQYWQgdGhlIElCIHdpdGggTk9QcyB0byBhIGJvdW5kYXJ5IG11bHRpcGxlIG9mIDguCiAgKi8K
IHN0YXRpYyB2b2lkIHNkbWFfdjVfMF9yaW5nX3BhZF9pYihzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJp
bmcsIHN0cnVjdCBhbWRncHVfaWIgKmliKQogewpAQCAtMTA5Nyw3ICsxMTA0LDcgQEAgc3RhdGlj
IHZvaWQgc2RtYV92NV8wX3JpbmdfcGFkX2liKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywgc3Ry
dWN0IGFtZGdwdV9pYiAqaWIKIAl1MzIgcGFkX2NvdW50OwogCWludCBpOwogCi0JcGFkX2NvdW50
ID0gKDggLSAoaWItPmxlbmd0aF9kdyAmIDB4NykpICUgODsKKwlwYWRfY291bnQgPSAoLWliLT5s
ZW5ndGhfZHcpICYgMHg3OwogCWZvciAoaSA9IDA7IGkgPCBwYWRfY291bnQ7IGkrKykKIAkJaWYg
KHNkbWEgJiYgc2RtYS0+YnVyc3Rfbm9wICYmIChpID09IDApKQogCQkJaWItPnB0cltpYi0+bGVu
Z3RoX2R3KytdID0KLS0gCjIuMjMuMC4zODUuZ2JjMTI5NzRhODkKCl9fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1n
ZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21h
aWxtYW4vbGlzdGluZm8vYW1kLWdmeA==
