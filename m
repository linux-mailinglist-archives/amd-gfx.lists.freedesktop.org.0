Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 720CB112166
	for <lists+amd-gfx@lfdr.de>; Wed,  4 Dec 2019 03:27:11 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 071196E884;
	Wed,  4 Dec 2019 02:27:10 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM12-MW2-obe.outbound.protection.outlook.com
 (mail-mw2nam12on2072.outbound.protection.outlook.com [40.107.244.72])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E5E156E884
 for <amd-gfx@lists.freedesktop.org>; Wed,  4 Dec 2019 02:27:07 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=FlgNDM+i+sZmGag8jtX/P5nf3MNatsxy7CVkFH9CRXnUUo3nQig4q9ktDkfsC1YTVJXEWDyUBMz78SY/0t35yKGGf41Pr2Kb/5rkqtG2fvND/dhqNZrwVUAU/AaDUVJ4W4pzHaUJLgGydjq3rLx5s263wRUR3HPARS0i+BWsr7bWZYEiiPjxB4YMRZp3yoYVsXE/3C2mPz9MgImgJ82fPyXIRzIk0ut4fwZEoDkHMRXGOJox4n2lNFjNwdXDQykFzixLnZd+ck+aGgfMAE1C1/jBESpZGTWlaeosjsBrxoq9WlAwvKaxUKPzgI0STooTONfWXYDrgKt+kKESexzZTQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=Y4lqzxz15dub7RevPIJ3D0x654dlU61xyGD2rX3Yvas=;
 b=byiCTx8SQKokbtpBQGxrx5URrZGAAZqI7DKDJDI5j+krx6e7rZH7APzwmpMk2waD+MMn+dDSHF+ywSLnI1mB0gig7365oBOnMneRYt0rbXSaR0Ut/yVXzwXe5+POUX2D/kHrESkiqckTpTjAR+Z34ot2XP4WWdDDLDhmHCcRIecDDeQhroHX9ZUtdmOz8FKlxARqUO/OoNeme/c9yx1lbPVH/ciGSyqOVPkfE9EHKRwdWId67+LdcCR+oJ5jDEX1Qn8FjNZJKcEKVSg4hRqJrQn/UnbTaTdlquqnEFfMu9W1hUD12YVVwvm1QkWRs4qZ6Fmvzo1kRGvHv+uvElb3nw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from DM5PR12MB1418.namprd12.prod.outlook.com (10.168.240.15) by
 DM5PR12MB1610.namprd12.prod.outlook.com (10.172.33.140) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2495.18; Wed, 4 Dec 2019 02:27:06 +0000
Received: from DM5PR12MB1418.namprd12.prod.outlook.com
 ([fe80::b011:48ff:bf60:75a7]) by DM5PR12MB1418.namprd12.prod.outlook.com
 ([fe80::b011:48ff:bf60:75a7%8]) with mapi id 15.20.2495.014; Wed, 4 Dec 2019
 02:27:06 +0000
From: "Zhang, Hawking" <Hawking.Zhang@amd.com>
To: "Zhu, James" <James.Zhu@amd.com>, "amd-gfx@lists.freedesktop.org"
 <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH] drm/amdgpu/gfx: Improvement on EDC GPR workarounds
Thread-Topic: [PATCH] drm/amdgpu/gfx: Improvement on EDC GPR workarounds
Thread-Index: AQHVqhqUmMa3DwrccUmIsO55ih4vFqepQEcQ
Date: Wed, 4 Dec 2019 02:27:06 +0000
Message-ID: <DM5PR12MB141805197635D2CB816E5D26FC5D0@DM5PR12MB1418.namprd12.prod.outlook.com>
References: <1575405910-31409-1-git-send-email-James.Zhu@amd.com>
In-Reply-To: <1575405910-31409-1-git-send-email-James.Zhu@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-ht: Tenant
x-ms-office365-filtering-correlation-id: 262f6e7c-b231-4b8d-e15d-08d7786174f4
x-ms-traffictypediagnostic: DM5PR12MB1610:|DM5PR12MB1610:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <DM5PR12MB1610B120A65C1661544CF0BBFC5D0@DM5PR12MB1610.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:4941;
x-forefront-prvs: 0241D5F98C
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(136003)(346002)(376002)(396003)(366004)(39860400002)(13464003)(189003)(199004)(229853002)(81156014)(7736002)(8936002)(8676002)(5660300002)(6246003)(52536014)(478600001)(66946007)(4326008)(305945005)(74316002)(81166006)(64756008)(66476007)(66446008)(33656002)(76116006)(2501003)(66556008)(2906002)(110136005)(86362001)(102836004)(99286004)(53546011)(6506007)(316002)(76176011)(186003)(7696005)(25786009)(6116002)(3846002)(26005)(14454004)(6436002)(71200400001)(55016002)(71190400001)(9686003)(446003)(256004)(11346002);
 DIR:OUT; SFP:1101; SCL:1; SRVR:DM5PR12MB1610;
 H:DM5PR12MB1418.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: 2E5pblYdc9ETJlscy7ZeeZXGlfkivS0oZYwPlbXCtl6WitKLBi4SJcw5jhrKC/i6WXRGj+tnPd1ybe6pSL1Y7NLl2nQZP5FBNmEYHYvsz2tRkviBRxk+Dvu8n3pqCS3joOrzXW8AWzs+8mmPdA9+1kCn12rR5ck3SV09pWpznvKqm9VsJBdAyUyjW2dqEbIxzyFai0rgCu/y7g1ipzUqKDuCdm631GCMVV0NDh5BU1oKkBzAomI6i8VZtRmxeHxyzTHw5T1UM8xCgnkUEEsjlNRRI6Ks9NDdRkJMkV2+eHcf0eiM7MCKkrEoyawkXtS1ScQKaV720g4UPDII116U2acRN2EF2UrKj1+P0yUWzDJg1thONX79Oa41SRymEnIQ94sLC2ZpDboMWC24rw40Xa/ZkW47yzc3j4P/Uf42Rbnt3haIZTD5XXroRk7mIW+0RAUcIoMeY0vVbXBtPdgYTMzCPlc+36J7UPjD/l35kdJEhwFRqi2FCZc5T+xr64vF
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 262f6e7c-b231-4b8d-e15d-08d7786174f4
X-MS-Exchange-CrossTenant-originalarrivaltime: 04 Dec 2019 02:27:06.3671 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: VEJhPyPWHozb9rURPhMAcLbsAhXB7ALvRs3MSmq2a/5s/tFsGTyBjb5QYbntfXNUXqR4VvcgBeL5pVPtjTkDAQ==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM5PR12MB1610
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=Y4lqzxz15dub7RevPIJ3D0x654dlU61xyGD2rX3Yvas=;
 b=g7pysXmSfLjWsebX38mPUqroZvD/3QyDP43gKD/O6ekLcNiJeqReE+JNQ8MN9iAeaj6blxrFl8fm2rGJv8bhT0Zsej+6wcZH4MQv+nvpX8i2/4hWMXCsVmDAEubC8HWvpTbCcn2T0GczhcBGEcovgmTBXOFmtJYaUn/Q5BVhEH4=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Hawking.Zhang@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Clements, John" <John.Clements@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

UmV2aWV3ZWQtYnk6IEhhd2tpbmcgWmhhbmcgPEhhd2tpbmcuWmhhbmdAYW1kLmNvbT4NCg0KUmVn
YXJkcywNCkhhd2tpbmcNCi0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQpGcm9tOiBaaHUsIEph
bWVzIDxKYW1lcy5aaHVAYW1kLmNvbT4gDQpTZW50OiAyMDE55bm0MTLmnIg05pelIDQ6NDUNClRv
OiBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZw0KQ2M6IFpodSwgSmFtZXMgPEphbWVzLlpo
dUBhbWQuY29tPjsgWmhhbmcsIEhhd2tpbmcgPEhhd2tpbmcuWmhhbmdAYW1kLmNvbT4NClN1Ympl
Y3Q6IFtQQVRDSF0gZHJtL2FtZGdwdS9nZng6IEltcHJvdmVtZW50IG9uIEVEQyBHUFIgd29ya2Fy
b3VuZHMNCg0KU1BJIGxpbWl0cyB0b3RhbCBDUyB3YXZlcyBpbiBmbGlnaHQgcGVyIFNFIHRvIG5v
IG1vcmUgdGhhbiAzMiAqIG51bV9jdSBhbmQgd2UgbmVlZCB0byBzdHVmZiA0MCB3YXZlcyBvbiBh
IENVIHRvIGNvbXBsZXRlbHkgY2xlYW4gdGhlIFNHUFIuIFRoaXMgaXMgYWNjb21wbGlzaGVkIGlu
IHRoZSBXUiBieSBjbGVhbmluZyB0aGUgU0UgaW4gdHdvIHN0ZXBzLCBoYWxmIG9mIHRoZSBDVSBw
ZXIgc3RlcC4NCg0KU2lnbmVkLW9mZi1ieTogSmFtZXMgWmh1IDxKYW1lcy5aaHVAYW1kLmNvbT4N
Ci0tLQ0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92OV8wLmMgfCA4MyArKysrKysr
KysrKysrKysrKysrKysrKysrKy0tLS0tLS0tLQ0KIDEgZmlsZSBjaGFuZ2VkLCA2MyBpbnNlcnRp
b25zKCspLCAyMCBkZWxldGlvbnMoLSkNCg0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2dmeF92OV8wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjlf
MC5jDQppbmRleCA2YTI1MWEzLi4xNDdjMDhmIDEwMDY0NA0KLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvZ2Z4X3Y5XzAuYw0KKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
Z2Z4X3Y5XzAuYw0KQEAgLTM5MzgsMjQgKzM5MzgsMzcgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBz
b2MxNV9yZWdfZW50cnkgdmdwcl9pbml0X3JlZ3NbXSA9IHsNCiAgICB7IFNPQzE1X1JFR19FTlRS
WShHQywgMCwgbW1DT01QVVRFX1NUQVRJQ19USFJFQURfTUdNVF9TRTEpLCAweGZmZmZmZmZmIH0s
DQogICAgeyBTT0MxNV9SRUdfRU5UUlkoR0MsIDAsIG1tQ09NUFVURV9TVEFUSUNfVEhSRUFEX01H
TVRfU0UyKSwgMHhmZmZmZmZmZiB9LA0KICAgIHsgU09DMTVfUkVHX0VOVFJZKEdDLCAwLCBtbUNP
TVBVVEVfU1RBVElDX1RIUkVBRF9NR01UX1NFMyksIDB4ZmZmZmZmZmYgfSwNCi0gICB7IFNPQzE1
X1JFR19FTlRSWShHQywgMCwgbW1DT01QVVRFX1JFU09VUkNFX0xJTUlUUyksIDB4MTAwMDAwMCB9
LCAvKiBDVV9HUk9VUF9DT1VOVD0xICovDQotICAgeyBTT0MxNV9SRUdfRU5UUlkoR0MsIDAsIG1t
Q09NUFVURV9OVU1fVEhSRUFEX1gpLCAyNTYqMiB9LA0KLSAgIHsgU09DMTVfUkVHX0VOVFJZKEdD
LCAwLCBtbUNPTVBVVEVfTlVNX1RIUkVBRF9ZKSwgMSB9LA0KKyAgIHsgU09DMTVfUkVHX0VOVFJZ
KEdDLCAwLCBtbUNPTVBVVEVfUkVTT1VSQ0VfTElNSVRTKSwgMHgwMDAwMDAwIH0sDQorICAgeyBT
T0MxNV9SRUdfRU5UUlkoR0MsIDAsIG1tQ09NUFVURV9OVU1fVEhSRUFEX1gpLCAweDQwIH0sDQor
ICAgeyBTT0MxNV9SRUdfRU5UUlkoR0MsIDAsIG1tQ09NUFVURV9OVU1fVEhSRUFEX1kpLCA0IH0s
DQogICAgeyBTT0MxNV9SRUdfRU5UUlkoR0MsIDAsIG1tQ09NUFVURV9OVU1fVEhSRUFEX1opLCAx
IH0sDQotICAgeyBTT0MxNV9SRUdfRU5UUlkoR0MsIDAsIG1tQ09NUFVURV9QR01fUlNSQzEpLCAw
eDEwMDAwN2YgfSwgLyogVkdQUlM9MTUgKDI1NiBsb2dpY2FsIFZHUFJzLCBTR1BSUz0xICgxNiBT
R1BScywgQlVMS1k9MSAqLw0KKyAgIHsgU09DMTVfUkVHX0VOVFJZKEdDLCAwLCBtbUNPTVBVVEVf
UEdNX1JTUkMxKSwgMHgzZiB9LA0KICAgIHsgU09DMTVfUkVHX0VOVFJZKEdDLCAwLCBtbUNPTVBV
VEVfUEdNX1JTUkMyKSwgMHg0MDAwMDAgfSwgIC8qIDY0S0IgTERTICovICB9Ow0KIA0KLXN0YXRp
YyBjb25zdCBzdHJ1Y3Qgc29jMTVfcmVnX2VudHJ5IHNncHJfaW5pdF9yZWdzW10gPSB7DQotICAg
eyBTT0MxNV9SRUdfRU5UUlkoR0MsIDAsIG1tQ09NUFVURV9TVEFUSUNfVEhSRUFEX01HTVRfU0Uw
KSwgMHhmZmZmZmZmZiB9LA0KLSAgIHsgU09DMTVfUkVHX0VOVFJZKEdDLCAwLCBtbUNPTVBVVEVf
U1RBVElDX1RIUkVBRF9NR01UX1NFMSksIDB4ZmZmZmZmZmYgfSwNCi0gICB7IFNPQzE1X1JFR19F
TlRSWShHQywgMCwgbW1DT01QVVRFX1NUQVRJQ19USFJFQURfTUdNVF9TRTIpLCAweGZmZmZmZmZm
IH0sDQotICAgeyBTT0MxNV9SRUdfRU5UUlkoR0MsIDAsIG1tQ09NUFVURV9TVEFUSUNfVEhSRUFE
X01HTVRfU0UzKSwgMHhmZmZmZmZmZiB9LA0KLSAgIHsgU09DMTVfUkVHX0VOVFJZKEdDLCAwLCBt
bUNPTVBVVEVfUkVTT1VSQ0VfTElNSVRTKSwgMHgxMDAwMDAwIH0sIC8qIENVX0dST1VQX0NPVU5U
PTEgKi8NCi0gICB7IFNPQzE1X1JFR19FTlRSWShHQywgMCwgbW1DT01QVVRFX05VTV9USFJFQURf
WCksIDI1NioyIH0sDQotICAgeyBTT0MxNV9SRUdfRU5UUlkoR0MsIDAsIG1tQ09NUFVURV9OVU1f
VEhSRUFEX1kpLCAxIH0sDQorc3RhdGljIGNvbnN0IHN0cnVjdCBzb2MxNV9yZWdfZW50cnkgc2dw
cjFfaW5pdF9yZWdzW10gPSB7DQorICAgeyBTT0MxNV9SRUdfRU5UUlkoR0MsIDAsIG1tQ09NUFVU
RV9TVEFUSUNfVEhSRUFEX01HTVRfU0UwKSwgMHgwMDAwMDBmZiB9LA0KKyAgIHsgU09DMTVfUkVH
X0VOVFJZKEdDLCAwLCBtbUNPTVBVVEVfU1RBVElDX1RIUkVBRF9NR01UX1NFMSksIDB4MDAwMDAw
ZmYgfSwNCisgICB7IFNPQzE1X1JFR19FTlRSWShHQywgMCwgbW1DT01QVVRFX1NUQVRJQ19USFJF
QURfTUdNVF9TRTIpLCAweDAwMDAwMGZmIH0sDQorICAgeyBTT0MxNV9SRUdfRU5UUlkoR0MsIDAs
IG1tQ09NUFVURV9TVEFUSUNfVEhSRUFEX01HTVRfU0UzKSwgMHgwMDAwMDBmZiB9LA0KKyAgIHsg
U09DMTVfUkVHX0VOVFJZKEdDLCAwLCBtbUNPTVBVVEVfUkVTT1VSQ0VfTElNSVRTKSwgMHgwMDAw
MDAwIH0sDQorICAgeyBTT0MxNV9SRUdfRU5UUlkoR0MsIDAsIG1tQ09NUFVURV9OVU1fVEhSRUFE
X1gpLCAweDQwIH0sDQorICAgeyBTT0MxNV9SRUdfRU5UUlkoR0MsIDAsIG1tQ09NUFVURV9OVU1f
VEhSRUFEX1kpLCA4IH0sDQorICAgeyBTT0MxNV9SRUdfRU5UUlkoR0MsIDAsIG1tQ09NUFVURV9O
VU1fVEhSRUFEX1opLCAxIH0sDQorICAgeyBTT0MxNV9SRUdfRU5UUlkoR0MsIDAsIG1tQ09NUFVU
RV9QR01fUlNSQzEpLCAweDI0MCB9LCAvKiAoODAgR1BSUykgKi8NCisgICB7IFNPQzE1X1JFR19F
TlRSWShHQywgMCwgbW1DT01QVVRFX1BHTV9SU1JDMiksIDB4MCB9LCB9Ow0KKw0KK3N0YXRpYyBj
b25zdCBzdHJ1Y3Qgc29jMTVfcmVnX2VudHJ5IHNncHIyX2luaXRfcmVnc1tdID0gew0KKyAgIHsg
U09DMTVfUkVHX0VOVFJZKEdDLCAwLCBtbUNPTVBVVEVfU1RBVElDX1RIUkVBRF9NR01UX1NFMCks
IDB4MDAwMGZmMDAgfSwNCisgICB7IFNPQzE1X1JFR19FTlRSWShHQywgMCwgbW1DT01QVVRFX1NU
QVRJQ19USFJFQURfTUdNVF9TRTEpLCAweDAwMDBmZjAwIH0sDQorICAgeyBTT0MxNV9SRUdfRU5U
UlkoR0MsIDAsIG1tQ09NUFVURV9TVEFUSUNfVEhSRUFEX01HTVRfU0UyKSwgMHgwMDAwZmYwMCB9
LA0KKyAgIHsgU09DMTVfUkVHX0VOVFJZKEdDLCAwLCBtbUNPTVBVVEVfU1RBVElDX1RIUkVBRF9N
R01UX1NFMyksIDB4MDAwMGZmMDAgfSwNCisgICB7IFNPQzE1X1JFR19FTlRSWShHQywgMCwgbW1D
T01QVVRFX1JFU09VUkNFX0xJTUlUUyksIDB4MDAwMDAwMCB9LA0KKyAgIHsgU09DMTVfUkVHX0VO
VFJZKEdDLCAwLCBtbUNPTVBVVEVfTlVNX1RIUkVBRF9YKSwgMHg0MCB9LA0KKyAgIHsgU09DMTVf
UkVHX0VOVFJZKEdDLCAwLCBtbUNPTVBVVEVfTlVNX1RIUkVBRF9ZKSwgOCB9LA0KICAgIHsgU09D
MTVfUkVHX0VOVFJZKEdDLCAwLCBtbUNPTVBVVEVfTlVNX1RIUkVBRF9aKSwgMSB9LA0KLSAgIHsg
U09DMTVfUkVHX0VOVFJZKEdDLCAwLCBtbUNPTVBVVEVfUEdNX1JTUkMxKSwgMHgzNDAgfSwgLyog
U0dQUlM9MTMgKDExMiBHUFJTKSAqLw0KKyAgIHsgU09DMTVfUkVHX0VOVFJZKEdDLCAwLCBtbUNP
TVBVVEVfUEdNX1JTUkMxKSwgMHgyNDAgfSwgLyogKDgwIEdQUlMpIA0KKyAqLw0KICAgIHsgU09D
MTVfUkVHX0VOVFJZKEdDLCAwLCBtbUNPTVBVVEVfUEdNX1JTUkMyKSwgMHgwIH0sICB9Ow0KIA0K
QEAgLTQwNjUsNyArNDA3OCw5IEBAIHN0YXRpYyBpbnQgZ2Z4X3Y5XzBfZG9fZWRjX2dwcl93b3Jr
YXJvdW5kcyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCiAJdG90YWxfc2l6ZSA9DQogCQko
KEFSUkFZX1NJWkUodmdwcl9pbml0X3JlZ3MpICogMykgKyA0ICsgNSArIDIpICogNDsNCiAJdG90
YWxfc2l6ZSArPQ0KLQkJKChBUlJBWV9TSVpFKHNncHJfaW5pdF9yZWdzKSAqIDMpICsgNCArIDUg
KyAyKSAqIDQ7DQorCQkoKEFSUkFZX1NJWkUoc2dwcjFfaW5pdF9yZWdzKSAqIDMpICsgNCArIDUg
KyAyKSAqIDQ7DQorCXRvdGFsX3NpemUgKz0NCisJCSgoQVJSQVlfU0laRShzZ3ByMl9pbml0X3Jl
Z3MpICogMykgKyA0ICsgNSArIDIpICogNDsNCiAJdG90YWxfc2l6ZSA9IEFMSUdOKHRvdGFsX3Np
emUsIDI1Nik7DQogCXZncHJfb2Zmc2V0ID0gdG90YWxfc2l6ZTsNCiAJdG90YWxfc2l6ZSArPSBB
TElHTihzaXplb2Yodmdwcl9pbml0X2NvbXB1dGVfc2hhZGVyKSwgMjU2KTsgQEAgLTQxMDgsNyAr
NDEyMywzNSBAQCBzdGF0aWMgaW50IGdmeF92OV8wX2RvX2VkY19ncHJfd29ya2Fyb3VuZHMoc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpDQogDQogCS8qIHdyaXRlIGRpc3BhdGNoIHBhY2tldCAq
Lw0KIAlpYi5wdHJbaWIubGVuZ3RoX2R3KytdID0gUEFDS0VUMyhQQUNLRVQzX0RJU1BBVENIX0RJ
UkVDVCwgMyk7DQotCWliLnB0cltpYi5sZW5ndGhfZHcrK10gPSAyNTY7IC8qIHggKi8NCisJaWIu
cHRyW2liLmxlbmd0aF9kdysrXSA9IDB4NDAqMjsgLyogeCAqLw0KKwlpYi5wdHJbaWIubGVuZ3Ro
X2R3KytdID0gMTsgLyogeSAqLw0KKwlpYi5wdHJbaWIubGVuZ3RoX2R3KytdID0gMTsgLyogeiAq
Lw0KKwlpYi5wdHJbaWIubGVuZ3RoX2R3KytdID0NCisJCVJFR19TRVRfRklFTEQoMCwgQ09NUFVU
RV9ESVNQQVRDSF9JTklUSUFUT1IsIENPTVBVVEVfU0hBREVSX0VOLCAxKTsNCisNCisJLyogd3Jp
dGUgQ1MgcGFydGlhbCBmbHVzaCBwYWNrZXQgKi8NCisJaWIucHRyW2liLmxlbmd0aF9kdysrXSA9
IFBBQ0tFVDMoUEFDS0VUM19FVkVOVF9XUklURSwgMCk7DQorCWliLnB0cltpYi5sZW5ndGhfZHcr
K10gPSBFVkVOVF9UWVBFKDcpIHwgRVZFTlRfSU5ERVgoNCk7DQorDQorCS8qIFNHUFIxICovDQor
CS8qIHdyaXRlIHRoZSByZWdpc3RlciBzdGF0ZSBmb3IgdGhlIGNvbXB1dGUgZGlzcGF0Y2ggKi8N
CisJZm9yIChpID0gMDsgaSA8IEFSUkFZX1NJWkUoc2dwcjFfaW5pdF9yZWdzKTsgaSsrKSB7DQor
CQlpYi5wdHJbaWIubGVuZ3RoX2R3KytdID0gUEFDS0VUMyhQQUNLRVQzX1NFVF9TSF9SRUcsIDEp
Ow0KKwkJaWIucHRyW2liLmxlbmd0aF9kdysrXSA9IFNPQzE1X1JFR19FTlRSWV9PRkZTRVQoc2dw
cjFfaW5pdF9yZWdzW2ldKQ0KKwkJCQkJCQkJLSBQQUNLRVQzX1NFVF9TSF9SRUdfU1RBUlQ7DQor
CQlpYi5wdHJbaWIubGVuZ3RoX2R3KytdID0gc2dwcjFfaW5pdF9yZWdzW2ldLnJlZ192YWx1ZTsN
CisJfQ0KKwkvKiB3cml0ZSB0aGUgc2hhZGVyIHN0YXJ0IGFkZHJlc3M6IG1tQ09NUFVURV9QR01f
TE8sIG1tQ09NUFVURV9QR01fSEkgKi8NCisJZ3B1X2FkZHIgPSAoaWIuZ3B1X2FkZHIgKyAodTY0
KXNncHJfb2Zmc2V0KSA+PiA4Ow0KKwlpYi5wdHJbaWIubGVuZ3RoX2R3KytdID0gUEFDS0VUMyhQ
QUNLRVQzX1NFVF9TSF9SRUcsIDIpOw0KKwlpYi5wdHJbaWIubGVuZ3RoX2R3KytdID0gU09DMTVf
UkVHX09GRlNFVChHQywgMCwgbW1DT01QVVRFX1BHTV9MTykNCisJCQkJCQkJLSBQQUNLRVQzX1NF
VF9TSF9SRUdfU1RBUlQ7DQorCWliLnB0cltpYi5sZW5ndGhfZHcrK10gPSBsb3dlcl8zMl9iaXRz
KGdwdV9hZGRyKTsNCisJaWIucHRyW2liLmxlbmd0aF9kdysrXSA9IHVwcGVyXzMyX2JpdHMoZ3B1
X2FkZHIpOw0KKw0KKwkvKiB3cml0ZSBkaXNwYXRjaCBwYWNrZXQgKi8NCisJaWIucHRyW2liLmxl
bmd0aF9kdysrXSA9IFBBQ0tFVDMoUEFDS0VUM19ESVNQQVRDSF9ESVJFQ1QsIDMpOw0KKwlpYi5w
dHJbaWIubGVuZ3RoX2R3KytdID0gMHhBMCoyOyAvKiB4ICovDQogCWliLnB0cltpYi5sZW5ndGhf
ZHcrK10gPSAxOyAvKiB5ICovDQogCWliLnB0cltpYi5sZW5ndGhfZHcrK10gPSAxOyAvKiB6ICov
DQogCWliLnB0cltpYi5sZW5ndGhfZHcrK10gPQ0KQEAgLTQxMTgsMTMgKzQxNjEsMTMgQEAgc3Rh
dGljIGludCBnZnhfdjlfMF9kb19lZGNfZ3ByX3dvcmthcm91bmRzKHN0cnVjdCBhbWRncHVfZGV2
aWNlICphZGV2KQ0KIAlpYi5wdHJbaWIubGVuZ3RoX2R3KytdID0gUEFDS0VUMyhQQUNLRVQzX0VW
RU5UX1dSSVRFLCAwKTsNCiAJaWIucHRyW2liLmxlbmd0aF9kdysrXSA9IEVWRU5UX1RZUEUoNykg
fCBFVkVOVF9JTkRFWCg0KTsNCiANCi0JLyogU0dQUiAqLw0KKwkvKiBTR1BSMiAqLw0KIAkvKiB3
cml0ZSB0aGUgcmVnaXN0ZXIgc3RhdGUgZm9yIHRoZSBjb21wdXRlIGRpc3BhdGNoICovDQotCWZv
ciAoaSA9IDA7IGkgPCBBUlJBWV9TSVpFKHNncHJfaW5pdF9yZWdzKTsgaSsrKSB7DQorCWZvciAo
aSA9IDA7IGkgPCBBUlJBWV9TSVpFKHNncHIyX2luaXRfcmVncyk7IGkrKykgew0KIAkJaWIucHRy
W2liLmxlbmd0aF9kdysrXSA9IFBBQ0tFVDMoUEFDS0VUM19TRVRfU0hfUkVHLCAxKTsNCi0JCWli
LnB0cltpYi5sZW5ndGhfZHcrK10gPSBTT0MxNV9SRUdfRU5UUllfT0ZGU0VUKHNncHJfaW5pdF9y
ZWdzW2ldKQ0KKwkJaWIucHRyW2liLmxlbmd0aF9kdysrXSA9IFNPQzE1X1JFR19FTlRSWV9PRkZT
RVQoc2dwcjJfaW5pdF9yZWdzW2ldKQ0KIAkJCQkJCQkJLSBQQUNLRVQzX1NFVF9TSF9SRUdfU1RB
UlQ7DQotCQlpYi5wdHJbaWIubGVuZ3RoX2R3KytdID0gc2dwcl9pbml0X3JlZ3NbaV0ucmVnX3Zh
bHVlOw0KKwkJaWIucHRyW2liLmxlbmd0aF9kdysrXSA9IHNncHIyX2luaXRfcmVnc1tpXS5yZWdf
dmFsdWU7DQogCX0NCiAJLyogd3JpdGUgdGhlIHNoYWRlciBzdGFydCBhZGRyZXNzOiBtbUNPTVBV
VEVfUEdNX0xPLCBtbUNPTVBVVEVfUEdNX0hJICovDQogCWdwdV9hZGRyID0gKGliLmdwdV9hZGRy
ICsgKHU2NClzZ3ByX29mZnNldCkgPj4gODsgQEAgLTQxMzYsNyArNDE3OSw3IEBAIHN0YXRpYyBp
bnQgZ2Z4X3Y5XzBfZG9fZWRjX2dwcl93b3JrYXJvdW5kcyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldikNCiANCiAJLyogd3JpdGUgZGlzcGF0Y2ggcGFja2V0ICovDQogCWliLnB0cltpYi5sZW5n
dGhfZHcrK10gPSBQQUNLRVQzKFBBQ0tFVDNfRElTUEFUQ0hfRElSRUNULCAzKTsNCi0JaWIucHRy
W2liLmxlbmd0aF9kdysrXSA9IDI1NjsgLyogeCAqLw0KKwlpYi5wdHJbaWIubGVuZ3RoX2R3Kytd
ID0gMHhBMCoyOyAvKiB4ICovDQogCWliLnB0cltpYi5sZW5ndGhfZHcrK10gPSAxOyAvKiB5ICov
DQogCWliLnB0cltpYi5sZW5ndGhfZHcrK10gPSAxOyAvKiB6ICovDQogCWliLnB0cltpYi5sZW5n
dGhfZHcrK10gPQ0KLS0NCjIuNy40DQoNCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRl
c2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8v
YW1kLWdmeA==
