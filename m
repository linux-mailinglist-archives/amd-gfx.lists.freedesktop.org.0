Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 249B6B597
	for <lists+amd-gfx@lfdr.de>; Sun, 28 Apr 2019 09:44:18 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 66AF289145;
	Sun, 28 Apr 2019 07:44:16 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM01-BY2-obe.outbound.protection.outlook.com
 (mail-eopbgr810089.outbound.protection.outlook.com [40.107.81.89])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8894D8913E
 for <amd-gfx@lists.freedesktop.org>; Sun, 28 Apr 2019 07:44:13 +0000 (UTC)
Received: from BYAPR12MB3176.namprd12.prod.outlook.com (20.179.92.82) by
 BYAPR12MB2933.namprd12.prod.outlook.com (20.179.91.202) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1835.12; Sun, 28 Apr 2019 07:44:12 +0000
Received: from BYAPR12MB3176.namprd12.prod.outlook.com
 ([fe80::9118:73f2:809c:22c7]) by BYAPR12MB3176.namprd12.prod.outlook.com
 ([fe80::9118:73f2:809c:22c7%4]) with mapi id 15.20.1835.010; Sun, 28 Apr 2019
 07:44:12 +0000
From: "Kuehling, Felix" <Felix.Kuehling@amd.com>
To: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: [PATCH 11/27] drm/amdkfd: Move non-sdma mqd allocation out of init_mqd
Thread-Topic: [PATCH 11/27] drm/amdkfd: Move non-sdma mqd allocation out of
 init_mqd
Thread-Index: AQHU/ZYr0i9p53fyrkKI9ZZ517iPUw==
Date: Sun, 28 Apr 2019 07:44:11 +0000
Message-ID: <20190428074331.30107-12-Felix.Kuehling@amd.com>
References: <20190428074331.30107-1-Felix.Kuehling@amd.com>
In-Reply-To: <20190428074331.30107-1-Felix.Kuehling@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [165.204.55.251]
x-mailer: git-send-email 2.17.1
x-clientproxiedby: YTXPR0101CA0015.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:b00::28) To BYAPR12MB3176.namprd12.prod.outlook.com
 (2603:10b6:a03:133::18)
x-ms-exchange-messagesentrepresentingtype: 1
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: a35fa584-3a05-4901-ea30-08d6cbad4d6d
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600141)(711020)(4605104)(4618075)(2017052603328)(7193020);
 SRVR:BYAPR12MB2933; 
x-ms-traffictypediagnostic: BYAPR12MB2933:
x-microsoft-antispam-prvs: <BYAPR12MB29333ECB3B3016035CE2158B92380@BYAPR12MB2933.namprd12.prod.outlook.com>
x-forefront-prvs: 0021920B5A
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(39860400002)(396003)(136003)(346002)(376002)(366004)(199004)(189003)(50226002)(81156014)(76176011)(54906003)(6512007)(4326008)(81166006)(8676002)(2616005)(3846002)(97736004)(186003)(8936002)(6116002)(6506007)(86362001)(36756003)(305945005)(6486002)(6436002)(7736002)(386003)(5640700003)(14444005)(25786009)(11346002)(26005)(6916009)(1076003)(99286004)(256004)(5660300002)(2351001)(486006)(52116002)(2906002)(73956011)(71200400001)(2501003)(14454004)(53936002)(71190400001)(66476007)(66556008)(68736007)(66066001)(476003)(316002)(72206003)(102836004)(478600001)(64756008)(66946007)(66446008)(446003);
 DIR:OUT; SFP:1101; SCL:1; SRVR:BYAPR12MB2933;
 H:BYAPR12MB3176.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: vhbfrYGtF/On3lSRRKfX9cDyb1FSeYjBKD0sBrBB/rFBcX3IX4kthMVqWeApD7G+Fg0sHqqgVOw+OqKiyC74HING82yar6uOdWO9dFb8d2rtI2HRI6I41gsYRLm4y8BlYYHLCWCPdCeWJYxo0Fp1jMH9oF5wAirKC2cB8tUYIHvL5UC1/3SNIlncLzAAY5W/usguhIv7Y9xVvlNuW/OFxE7ZCioMqLffl1D78/DEYGQ4uttQA1YaBeBW7YeFoXbpIRhyt4kR/7Dn+qjiJp04QfSjrTRHMZVBG/4ESJLjwcydOCDNUJrWw7n4wDVJ6/+ARE+zRfcCTi/oHnbyuomHH0RdN/iGQhrusk4c9wzMeNDgpty8xzoR1W4+1uIYz9N88pEYxokdzW6+m/bdatsKs4T/LoSGRtu4Apt62c4atBk=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: a35fa584-3a05-4901-ea30-08d6cbad4d6d
X-MS-Exchange-CrossTenant-originalarrivaltime: 28 Apr 2019 07:44:11.0785 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BYAPR12MB2933
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amd-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=LamnIRsIbeUBg4r9DgVoIYjMoe3DGydHbCFvFeCS9bQ=;
 b=FooLOPz5xQuELlar0GfB6YcL14PVLT01vkv48OHfeQK6649qDfY8WhDxCC/ff6S5sODXobY8/lWWqp5ZhbK29KzNg+Q+qChzlfbxPHh0soIqzlSeWUMMYErFgd/zmkuyvOB8LIQGL5DajYmcp5d5CQ+rh4urSEwSfqKLLAEryU0=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Felix.Kuehling@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Zeng, Oak" <Oak.Zeng@amd.com>, "Kuehling, Felix" <Felix.Kuehling@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogT2FrIFplbmcgPG96ZW5nQGFtZC5jb20+DQoNClRoaXMgaXMgcHJlcGFyYXRpb24gd29y
ayB0byBpbnRyb2R1Y2UgbW9yZSBtcWQgYWxsb2NhdGlvbg0Kc2NoZW1lDQoNClNpZ25lZC1vZmYt
Ynk6IE9hayBaZW5nIDxvemVuZ0BhbWQuY29tPg0KUmV2aWV3ZWQtYnk6IEZlbGl4IEt1ZWhsaW5n
IDxGZWxpeC5LdWVobGluZ0BhbWQuY29tPg0KU2lnbmVkLW9mZi1ieTogRmVsaXggS3VlaGxpbmcg
PEZlbGl4Lkt1ZWhsaW5nQGFtZC5jb20+DQotLS0NCiAuLi4vZ3B1L2RybS9hbWQvYW1ka2ZkL2tm
ZF9tcWRfbWFuYWdlcl9jaWsuYyAgfCAyMCArKysrKystLQ0KIC4uLi9ncHUvZHJtL2FtZC9hbWRr
ZmQva2ZkX21xZF9tYW5hZ2VyX3Y5LmMgICB8IDUxICsrKysrKysrKysrKy0tLS0tLS0NCiAuLi4v
Z3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9tcWRfbWFuYWdlcl92aS5jICAgfCAxOCArKysrKy0tDQog
MyBmaWxlcyBjaGFuZ2VkLCA2NCBpbnNlcnRpb25zKCspLCAyNSBkZWxldGlvbnMoLSkNCg0KZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9tcWRfbWFuYWdlcl9jaWsu
YyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9tcWRfbWFuYWdlcl9jaWsuYw0KaW5k
ZXggZWVjMTMxYjgwMWIwLi5hMDA0MDIwNzdlMzQgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGtmZC9rZmRfbXFkX21hbmFnZXJfY2lrLmMNCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1ka2ZkL2tmZF9tcWRfbWFuYWdlcl9jaWsuYw0KQEAgLTY2LDYgKzY2LDE5IEBAIHN0
YXRpYyB2b2lkIHVwZGF0ZV9jdV9tYXNrKHN0cnVjdCBtcWRfbWFuYWdlciAqbW0sIHZvaWQgKm1x
ZCwNCiAJCW0tPmNvbXB1dGVfc3RhdGljX3RocmVhZF9tZ210X3NlMyk7DQogfQ0KIA0KK3N0YXRp
YyBzdHJ1Y3Qga2ZkX21lbV9vYmogKmFsbG9jYXRlX21xZChzdHJ1Y3Qga2ZkX2RldiAqa2ZkLA0K
KwkJCQkJc3RydWN0IHF1ZXVlX3Byb3BlcnRpZXMgKnEpDQorew0KKwlzdHJ1Y3Qga2ZkX21lbV9v
YmogKm1xZF9tZW1fb2JqOw0KKw0KKwlpZiAoa2ZkX2d0dF9zYV9hbGxvY2F0ZShrZmQsIHNpemVv
ZihzdHJ1Y3QgY2lrX21xZCksDQorCQkJJm1xZF9tZW1fb2JqKSkNCisJCXJldHVybiBOVUxMOw0K
Kw0KKwlyZXR1cm4gbXFkX21lbV9vYmo7DQorfQ0KKw0KKw0KIHN0YXRpYyBpbnQgaW5pdF9tcWQo
c3RydWN0IG1xZF9tYW5hZ2VyICptbSwgdm9pZCAqKm1xZCwNCiAJCXN0cnVjdCBrZmRfbWVtX29i
aiAqKm1xZF9tZW1fb2JqLCB1aW50NjRfdCAqZ2FydF9hZGRyLA0KIAkJc3RydWN0IHF1ZXVlX3By
b3BlcnRpZXMgKnEpDQpAQCAtNzMsMTEgKzg2LDEwIEBAIHN0YXRpYyBpbnQgaW5pdF9tcWQoc3Ry
dWN0IG1xZF9tYW5hZ2VyICptbSwgdm9pZCAqKm1xZCwNCiAJdWludDY0X3QgYWRkcjsNCiAJc3Ry
dWN0IGNpa19tcWQgKm07DQogCWludCByZXR2YWw7DQorCXN0cnVjdCBrZmRfZGV2ICprZmQgPSBt
bS0+ZGV2Ow0KIA0KLQlyZXR2YWwgPSBrZmRfZ3R0X3NhX2FsbG9jYXRlKG1tLT5kZXYsIHNpemVv
ZihzdHJ1Y3QgY2lrX21xZCksDQotCQkJCQltcWRfbWVtX29iaik7DQotDQotCWlmIChyZXR2YWwg
IT0gMCkNCisJKm1xZF9tZW1fb2JqID0gYWxsb2NhdGVfbXFkKGtmZCwgcSk7DQorCWlmICghKm1x
ZF9tZW1fb2JqKQ0KIAkJcmV0dXJuIC1FTk9NRU07DQogDQogCW0gPSAoc3RydWN0IGNpa19tcWQg
KikgKCptcWRfbWVtX29iaiktPmNwdV9wdHI7DQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRrZmQva2ZkX21xZF9tYW5hZ2VyX3Y5LmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGtmZC9rZmRfbXFkX21hbmFnZXJfdjkuYw0KaW5kZXggMTUyNzRhODgwZWEyLi44ZjgxNjYxODlm
ZDUgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfbXFkX21hbmFn
ZXJfdjkuYw0KKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX21xZF9tYW5hZ2Vy
X3Y5LmMNCkBAIC02NywzOCArNjcsNTMgQEAgc3RhdGljIHZvaWQgdXBkYXRlX2N1X21hc2soc3Ry
dWN0IG1xZF9tYW5hZ2VyICptbSwgdm9pZCAqbXFkLA0KIAkJbS0+Y29tcHV0ZV9zdGF0aWNfdGhy
ZWFkX21nbXRfc2UzKTsNCiB9DQogDQotc3RhdGljIGludCBpbml0X21xZChzdHJ1Y3QgbXFkX21h
bmFnZXIgKm1tLCB2b2lkICoqbXFkLA0KLQkJCXN0cnVjdCBrZmRfbWVtX29iaiAqKm1xZF9tZW1f
b2JqLCB1aW50NjRfdCAqZ2FydF9hZGRyLA0KLQkJCXN0cnVjdCBxdWV1ZV9wcm9wZXJ0aWVzICpx
KQ0KK3N0YXRpYyBzdHJ1Y3Qga2ZkX21lbV9vYmogKmFsbG9jYXRlX21xZChzdHJ1Y3Qga2ZkX2Rl
diAqa2ZkLA0KKwkJc3RydWN0IHF1ZXVlX3Byb3BlcnRpZXMgKnEpDQogew0KIAlpbnQgcmV0dmFs
Ow0KLQl1aW50NjRfdCBhZGRyOw0KLQlzdHJ1Y3QgdjlfbXFkICptOw0KLQlzdHJ1Y3Qga2ZkX2Rl
diAqa2ZkID0gbW0tPmRldjsNCisJc3RydWN0IGtmZF9tZW1fb2JqICptcWRfbWVtX29iaiA9IE5V
TEw7DQogDQotCSptcWRfbWVtX29iaiA9IE5VTEw7DQogCS8qIEZyb20gVjksICBmb3IgQ1dTUiwg
dGhlIGNvbnRyb2wgc3RhY2sgaXMgbG9jYXRlZCBvbiB0aGUgbmV4dCBwYWdlDQogCSAqIGJvdW5k
YXJ5IGFmdGVyIHRoZSBtcWQsIHdlIHdpbGwgdXNlIHRoZSBndHQgYWxsb2NhdGlvbiBmdW5jdGlv
bg0KIAkgKiBpbnN0ZWFkIG9mIHN1Yi1hbGxvY2F0aW9uIGZ1bmN0aW9uLg0KIAkgKi8NCiAJaWYg
KGtmZC0+Y3dzcl9lbmFibGVkICYmIChxLT50eXBlID09IEtGRF9RVUVVRV9UWVBFX0NPTVBVVEUp
KSB7DQotCQkqbXFkX21lbV9vYmogPSBremFsbG9jKHNpemVvZihzdHJ1Y3Qga2ZkX21lbV9vYmop
LCBHRlBfS0VSTkVMKTsNCi0JCWlmICghKm1xZF9tZW1fb2JqKQ0KLQkJCXJldHVybiAtRU5PTUVN
Ow0KKwkJbXFkX21lbV9vYmogPSBremFsbG9jKHNpemVvZihzdHJ1Y3Qga2ZkX21lbV9vYmopLCBH
RlBfTk9JTyk7DQorCQlpZiAoIW1xZF9tZW1fb2JqKQ0KKwkJCXJldHVybiBOVUxMOw0KIAkJcmV0
dmFsID0gYW1kZ3B1X2FtZGtmZF9hbGxvY19ndHRfbWVtKGtmZC0+a2dkLA0KIAkJCUFMSUdOKHEt
PmN0bF9zdGFja19zaXplLCBQQUdFX1NJWkUpICsNCiAJCQkJQUxJR04oc2l6ZW9mKHN0cnVjdCB2
OV9tcWQpLCBQQUdFX1NJWkUpLA0KLQkJCSYoKCptcWRfbWVtX29iaiktPmd0dF9tZW0pLA0KLQkJ
CSYoKCptcWRfbWVtX29iaiktPmdwdV9hZGRyKSwNCi0JCQkodm9pZCAqKSYoKCptcWRfbWVtX29i
aiktPmNwdV9wdHIpLCB0cnVlKTsNCi0JfSBlbHNlDQotCQlyZXR2YWwgPSBrZmRfZ3R0X3NhX2Fs
bG9jYXRlKG1tLT5kZXYsIHNpemVvZihzdHJ1Y3QgdjlfbXFkKSwNCi0JCQkJbXFkX21lbV9vYmop
Ow0KKwkJCSYobXFkX21lbV9vYmotPmd0dF9tZW0pLA0KKwkJCSYobXFkX21lbV9vYmotPmdwdV9h
ZGRyKSwNCisJCQkodm9pZCAqKSYobXFkX21lbV9vYmotPmNwdV9wdHIpLCB0cnVlKTsNCisJfSBl
bHNlIHsNCisJCXJldHZhbCA9IGtmZF9ndHRfc2FfYWxsb2NhdGUoa2ZkLCBzaXplb2Yoc3RydWN0
IHY5X21xZCksDQorCQkJCSZtcWRfbWVtX29iaik7DQorCX0NCisNCiAJaWYgKHJldHZhbCkgew0K
LQkJa2ZyZWUoKm1xZF9tZW1fb2JqKTsNCi0JCXJldHVybiAtRU5PTUVNOw0KKwkJa2ZyZWUobXFk
X21lbV9vYmopOw0KKwkJcmV0dXJuIE5VTEw7DQogCX0NCiANCisJcmV0dXJuIG1xZF9tZW1fb2Jq
Ow0KKw0KK30NCisNCitzdGF0aWMgaW50IGluaXRfbXFkKHN0cnVjdCBtcWRfbWFuYWdlciAqbW0s
IHZvaWQgKiptcWQsDQorCQkJc3RydWN0IGtmZF9tZW1fb2JqICoqbXFkX21lbV9vYmosIHVpbnQ2
NF90ICpnYXJ0X2FkZHIsDQorCQkJc3RydWN0IHF1ZXVlX3Byb3BlcnRpZXMgKnEpDQorew0KKwlp
bnQgcmV0dmFsOw0KKwl1aW50NjRfdCBhZGRyOw0KKwlzdHJ1Y3QgdjlfbXFkICptOw0KKwlzdHJ1
Y3Qga2ZkX2RldiAqa2ZkID0gbW0tPmRldjsNCisNCisJKm1xZF9tZW1fb2JqID0gYWxsb2NhdGVf
bXFkKGtmZCwgcSk7DQorCWlmICghKm1xZF9tZW1fb2JqKQ0KKwkJcmV0dXJuIC1FTk9NRU07DQor
DQogCW0gPSAoc3RydWN0IHY5X21xZCAqKSAoKm1xZF9tZW1fb2JqKS0+Y3B1X3B0cjsNCiAJYWRk
ciA9ICgqbXFkX21lbV9vYmopLT5ncHVfYWRkcjsNCiANCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGtmZC9rZmRfbXFkX21hbmFnZXJfdmkuYyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1ka2ZkL2tmZF9tcWRfbWFuYWdlcl92aS5jDQppbmRleCBhZDlkYzlhNjc4ZjIuLjMyOTZm
ZmJkZTZhYyAxMDA2NDQNCi0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9tcWRf
bWFuYWdlcl92aS5jDQorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfbXFkX21h
bmFnZXJfdmkuYw0KQEAgLTY4LDYgKzY4LDE4IEBAIHN0YXRpYyB2b2lkIHVwZGF0ZV9jdV9tYXNr
KHN0cnVjdCBtcWRfbWFuYWdlciAqbW0sIHZvaWQgKm1xZCwNCiAJCW0tPmNvbXB1dGVfc3RhdGlj
X3RocmVhZF9tZ210X3NlMyk7DQogfQ0KIA0KK3N0YXRpYyBzdHJ1Y3Qga2ZkX21lbV9vYmogKmFs
bG9jYXRlX21xZChzdHJ1Y3Qga2ZkX2RldiAqa2ZkLA0KKwkJCQkJc3RydWN0IHF1ZXVlX3Byb3Bl
cnRpZXMgKnEpDQorew0KKwlzdHJ1Y3Qga2ZkX21lbV9vYmogKm1xZF9tZW1fb2JqOw0KKw0KKwlp
ZiAoa2ZkX2d0dF9zYV9hbGxvY2F0ZShrZmQsIHNpemVvZihzdHJ1Y3QgdmlfbXFkKSwNCisJCQkm
bXFkX21lbV9vYmopKQ0KKwkJcmV0dXJuIE5VTEw7DQorDQorCXJldHVybiBtcWRfbWVtX29iajsN
Cit9DQorDQogc3RhdGljIGludCBpbml0X21xZChzdHJ1Y3QgbXFkX21hbmFnZXIgKm1tLCB2b2lk
ICoqbXFkLA0KIAkJCXN0cnVjdCBrZmRfbWVtX29iaiAqKm1xZF9tZW1fb2JqLCB1aW50NjRfdCAq
Z2FydF9hZGRyLA0KIAkJCXN0cnVjdCBxdWV1ZV9wcm9wZXJ0aWVzICpxKQ0KQEAgLTc1LDEwICs4
NywxMCBAQCBzdGF0aWMgaW50IGluaXRfbXFkKHN0cnVjdCBtcWRfbWFuYWdlciAqbW0sIHZvaWQg
KiptcWQsDQogCWludCByZXR2YWw7DQogCXVpbnQ2NF90IGFkZHI7DQogCXN0cnVjdCB2aV9tcWQg
Km07DQorCXN0cnVjdCBrZmRfZGV2ICprZmQgPSBtbS0+ZGV2Ow0KIA0KLQlyZXR2YWwgPSBrZmRf
Z3R0X3NhX2FsbG9jYXRlKG1tLT5kZXYsIHNpemVvZihzdHJ1Y3QgdmlfbXFkKSwNCi0JCQltcWRf
bWVtX29iaik7DQotCWlmIChyZXR2YWwgIT0gMCkNCisJKm1xZF9tZW1fb2JqID0gYWxsb2NhdGVf
bXFkKGtmZCwgcSk7DQorCWlmICghKm1xZF9tZW1fb2JqKQ0KIAkJcmV0dXJuIC1FTk9NRU07DQog
DQogCW0gPSAoc3RydWN0IHZpX21xZCAqKSAoKm1xZF9tZW1fb2JqKS0+Y3B1X3B0cjsNCi0tIA0K
Mi4xNy4xDQoNCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
CmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBz
Oi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeA==
