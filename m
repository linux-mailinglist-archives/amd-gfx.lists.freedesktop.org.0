Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 15DAD6D5BF
	for <lists+amd-gfx@lfdr.de>; Thu, 18 Jul 2019 22:28:40 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 53BC56E463;
	Thu, 18 Jul 2019 20:28:38 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-qk1-x744.google.com (mail-qk1-x744.google.com
 [IPv6:2607:f8b0:4864:20::744])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 512E66E463
 for <amd-gfx@lists.freedesktop.org>; Thu, 18 Jul 2019 20:28:36 +0000 (UTC)
Received: by mail-qk1-x744.google.com with SMTP id s145so21551570qke.7
 for <amd-gfx@lists.freedesktop.org>; Thu, 18 Jul 2019 13:28:36 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:mime-version
 :content-transfer-encoding;
 bh=h1j3X1gvLiWw+aVhjfbd+TZyIkIQ0RbKbug4H/35eLA=;
 b=ksIqZpTTm+r8XgiJT/CznmuBYlL/wmSB4/GM7cjh+cfpWJCvUiezwgGgEuCp6MpL81
 jkqmdS7tevdr3HA9MgupqgOREMwUrMN0b59I7Jj/8KCYmqfAL8MRC+wjbgwvXzlxaxn8
 M8l0S1riZGFKUZBLO3DwFbBniHW1DCAWrYdhc7xI5hsEzsk9sehY1wslYSdcGjarrpx9
 5eV83A0vUvOoqmEvfJANYeRHq7wEyUa5qGG2lFeuk9UeRLFutTM5ivyAIoHqHstxrgMg
 3q7GLR7Hy92xBXY8nk2TZiKCYlJ8T/PVzTnLm+HN7Jki34nGSBupdxE5jXR+8qRxTEv2
 gE+w==
X-Gm-Message-State: APjAAAUKv85ew8cMoM9QRVru7MGUdTyuGIgfMIN3SyYbCe9ja8Kugr9a
 GHIQBuNRf5tVE13FKBpr9dwpJzRE
X-Google-Smtp-Source: APXvYqwsZNZB3mW5AEcRb7rAGD9m2CwJGGesUj99M27HxxvWg3DLNWg6mmunfNNkt+mlGk5N5NsXdQ==
X-Received: by 2002:a37:bd7:: with SMTP id 206mr32582778qkl.440.1563481715122; 
 Thu, 18 Jul 2019 13:28:35 -0700 (PDT)
Received: from localhost.localdomain ([71.51.160.180])
 by smtp.gmail.com with ESMTPSA id u18sm12433077qkj.98.2019.07.18.13.28.34
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Thu, 18 Jul 2019 13:28:34 -0700 (PDT)
From: Alex Deucher <alexdeucher@gmail.com>
X-Google-Original-From: Alex Deucher <alexander.deucher@amd.com>
To: amd-gfx@lists.freedesktop.org
Subject: [PATCH] drm/amdgpu/smu: move fan rpm query into the asic specific code
Date: Thu, 18 Jul 2019 15:28:27 -0500
Message-Id: <20190718202827.12859-1-alexander.deucher@amd.com>
X-Mailer: git-send-email 2.20.1
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:mime-version
 :content-transfer-encoding;
 bh=h1j3X1gvLiWw+aVhjfbd+TZyIkIQ0RbKbug4H/35eLA=;
 b=cMQh6DCgWxmQPH1pC57BJex4gBq1IpakaD0fG+ITxYx53hORHP12mkl3HSFz8SW1in
 lYMMDOI7ueGmHS03zgvKZPEjeA3S+rAP2x/N/IlHR3FMIxp5RwOdcKxmygHQNAtjdhL+
 lyX7LXQ4pAndxaTgodv92GtIpLtCfwDnaoeascM83mIHLOjDZysL9doIX1foJGeOk0Zw
 EAko99yD1sfYoErGfnsaKoYOfaJdzgfQMxUkVbsGdYwR/tuJMDXnodSrb5JP/XWx0Sgx
 8nYzJgtHTSqg+5v60h+OL18CZ36FVqTAnxRSPniu+DL6sjwEPRiUmUUOnXVgfXFf37HZ
 JwgQ==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Alex Deucher <alexander.deucher@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

T24gdmVnYTIwLCB0aGVyZSBpcyBhbiBTTVUgbWVzc2FnZSB0byBxdWVyeSBpdC4gIE9uIG5hdmks
IGl0J3MgZmV0Y2hlZApmcm9tIHRoZSBtZXRyaWNzIHRhYmxlLgoKU2lnbmVkLW9mZi1ieTogQWxl
eCBEZXVjaGVyIDxhbGV4YW5kZXIuZGV1Y2hlckBhbWQuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV9wbS5jICAgICAgICB8ICA0ICsrLS0KIC4uLi9ncHUvZHJtL2Ft
ZC9wb3dlcnBsYXkvaW5jL2FtZGdwdV9zbXUuaCAgICB8ICA2ICsrKy0tLQogZHJpdmVycy9ncHUv
ZHJtL2FtZC9wb3dlcnBsYXkvbmF2aTEwX3BwdC5jICAgIHwgMTIgKysrKysrLS0tLS0KIGRyaXZl
cnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3NtdV92MTFfMC5jICAgICB8IDE4IC0tLS0tLS0tLS0t
LS0tLS0tCiBkcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS92ZWdhMjBfcHB0LmMgICAgfCAy
MCArKysrKysrKysrKysrKysrKystCiA1IGZpbGVzIGNoYW5nZWQsIDMxIGluc2VydGlvbnMoKyks
IDI5IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2FtZGdwdV9wbS5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3BtLmMKaW5k
ZXggOGI3ZWZkMGE3MDI4Li4wM2NhOGM2OTExNGYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV9wbS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2FtZGdwdV9wbS5jCkBAIC0xNzM0LDcgKzE3MzQsNyBAQCBzdGF0aWMgc3NpemVfdCBhbWRncHVf
aHdtb25fZ2V0X2ZhbjFfaW5wdXQoc3RydWN0IGRldmljZSAqZGV2LAogCQlyZXR1cm4gLUVJTlZB
TDsKIAogCWlmIChpc19zdXBwb3J0X3N3X3NtdShhZGV2KSkgewotCQllcnIgPSBzbXVfZ2V0X2N1
cnJlbnRfcnBtKCZhZGV2LT5zbXUsICZzcGVlZCk7CisJCWVyciA9IHNtdV9nZXRfZmFuX3NwZWVk
X3JwbSgmYWRldi0+c211LCAmc3BlZWQpOwogCQlpZiAoZXJyKQogCQkJcmV0dXJuIGVycjsKIAl9
IGVsc2UgaWYgKGFkZXYtPnBvd2VycGxheS5wcF9mdW5jcy0+Z2V0X2Zhbl9zcGVlZF9ycG0pIHsK
QEAgLTE3OTQsNyArMTc5NCw3IEBAIHN0YXRpYyBzc2l6ZV90IGFtZGdwdV9od21vbl9nZXRfZmFu
MV90YXJnZXQoc3RydWN0IGRldmljZSAqZGV2LAogCQlyZXR1cm4gLUVJTlZBTDsKIAogCWlmIChp
c19zdXBwb3J0X3N3X3NtdShhZGV2KSkgewotCQllcnIgPSBzbXVfZ2V0X2N1cnJlbnRfcnBtKCZh
ZGV2LT5zbXUsICZycG0pOworCQllcnIgPSBzbXVfZ2V0X2Zhbl9zcGVlZF9ycG0oJmFkZXYtPnNt
dSwgJnJwbSk7CiAJCWlmIChlcnIpCiAJCQlyZXR1cm4gZXJyOwogCX0gZWxzZSBpZiAoYWRldi0+
cG93ZXJwbGF5LnBwX2Z1bmNzLT5nZXRfZmFuX3NwZWVkX3JwbSkgewpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaW5jL2FtZGdwdV9zbXUuaCBiL2RyaXZlcnMvZ3B1
L2RybS9hbWQvcG93ZXJwbGF5L2luYy9hbWRncHVfc211LmgKaW5kZXggNTE0ZDMxNTE4ODUzLi44
N2U0NGMzYTJkNzMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2lu
Yy9hbWRncHVfc211LmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaW5jL2Ft
ZGdwdV9zbXUuaApAQCAtNjIzLDYgKzYyMyw3IEBAIHN0cnVjdCBwcHRhYmxlX2Z1bmNzIHsKIAlp
bnQgKCp0YWJsZXNfaW5pdCkoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIHN0cnVjdCBzbXVfdGFi
bGUgKnRhYmxlcyk7CiAJaW50ICgqc2V0X3RoZXJtYWxfZmFuX3RhYmxlKShzdHJ1Y3Qgc211X2Nv
bnRleHQgKnNtdSk7CiAJaW50ICgqZ2V0X2Zhbl9zcGVlZF9wZXJjZW50KShzdHJ1Y3Qgc211X2Nv
bnRleHQgKnNtdSwgdWludDMyX3QgKnNwZWVkKTsKKwlpbnQgKCpnZXRfZmFuX3NwZWVkX3JwbSko
c3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIHVpbnQzMl90ICpzcGVlZCk7CiAJaW50ICgqc2V0X3dh
dGVybWFya3NfdGFibGUpKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCB2b2lkICp3YXRlcm1hcmtz
LAogCQkJCSAgICBzdHJ1Y3QgZG1fcHBfd21fc2V0c193aXRoX2Nsb2NrX3Jhbmdlc19zb2MxNSAq
Y2xvY2tfcmFuZ2VzKTsKIAlpbnQgKCpnZXRfY3VycmVudF9jbGtfZnJlcV9ieV90YWJsZSkoc3Ry
dWN0IHNtdV9jb250ZXh0ICpzbXUsCkBAIC02OTUsNyArNjk2LDYgQEAgc3RydWN0IHNtdV9mdW5j
cwogCWludCAoKnNldF93YXRlcm1hcmtzX2Zvcl9jbG9ja19yYW5nZXMpKHN0cnVjdCBzbXVfY29u
dGV4dCAqc211LAogCQkJCQkgICAgICAgc3RydWN0IGRtX3BwX3dtX3NldHNfd2l0aF9jbG9ja19y
YW5nZXNfc29jMTUgKmNsb2NrX3Jhbmdlcyk7CiAJaW50ICgqY29udl9wb3dlcl9wcm9maWxlX3Rv
X3BwbGliX3dvcmtsb2FkKShpbnQgcG93ZXJfcHJvZmlsZSk7Ci0JaW50ICgqZ2V0X2N1cnJlbnRf
cnBtKShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgdWludDMyX3QgKnNwZWVkKTsKIAl1aW50MzJf
dCAoKmdldF9mYW5fY29udHJvbF9tb2RlKShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSk7CiAJaW50
ICgqc2V0X2Zhbl9jb250cm9sX21vZGUpKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCB1aW50MzJf
dCBtb2RlKTsKIAlpbnQgKCpzZXRfZmFuX3NwZWVkX3BlcmNlbnQpKHN0cnVjdCBzbXVfY29udGV4
dCAqc211LCB1aW50MzJfdCBzcGVlZCk7CkBAIC03NjEsOCArNzYxLDYgQEAgc3RydWN0IHNtdV9m
dW5jcwogCSgoc211KS0+ZnVuY3MtPmluaXRfbWF4X3N1c3RhaW5hYmxlX2Nsb2NrcyA/IChzbXUp
LT5mdW5jcy0+aW5pdF9tYXhfc3VzdGFpbmFibGVfY2xvY2tzKChzbXUpKSA6IDApCiAjZGVmaW5l
IHNtdV9zZXRfZGVmYXVsdF9vZF9zZXR0aW5ncyhzbXUsIGluaXRpYWxpemUpIFwKIAkoKHNtdSkt
PnBwdF9mdW5jcy0+c2V0X2RlZmF1bHRfb2Rfc2V0dGluZ3MgPyAoc211KS0+cHB0X2Z1bmNzLT5z
ZXRfZGVmYXVsdF9vZF9zZXR0aW5ncygoc211KSwgKGluaXRpYWxpemUpKSA6IDApCi0jZGVmaW5l
IHNtdV9nZXRfY3VycmVudF9ycG0oc211LCBzcGVlZCkgXAotCSgoc211KS0+ZnVuY3MtPmdldF9j
dXJyZW50X3JwbSA/IChzbXUpLT5mdW5jcy0+Z2V0X2N1cnJlbnRfcnBtKChzbXUpLCAoc3BlZWQp
KSA6IDApCiAjZGVmaW5lIHNtdV9zZXRfZmFuX3NwZWVkX3JwbShzbXUsIHNwZWVkKSBcCiAJKChz
bXUpLT5mdW5jcy0+c2V0X2Zhbl9zcGVlZF9ycG0gPyAoc211KS0+ZnVuY3MtPnNldF9mYW5fc3Bl
ZWRfcnBtKChzbXUpLCAoc3BlZWQpKSA6IDApCiAjZGVmaW5lIHNtdV9zZW5kX3NtY19tc2coc211
LCBtc2cpIFwKQEAgLTg1MSw2ICs4NDksOCBAQCBzdHJ1Y3Qgc211X2Z1bmNzCiAJKChzbXUpLT5w
cHRfZnVuY3MtPmdldF9mYW5fc3BlZWRfcGVyY2VudCA/IChzbXUpLT5wcHRfZnVuY3MtPmdldF9m
YW5fc3BlZWRfcGVyY2VudCgoc211KSwgKHNwZWVkKSkgOiAwKQogI2RlZmluZSBzbXVfc2V0X2Zh
bl9zcGVlZF9wZXJjZW50KHNtdSwgc3BlZWQpIFwKIAkoKHNtdSktPmZ1bmNzLT5zZXRfZmFuX3Nw
ZWVkX3BlcmNlbnQgPyAoc211KS0+ZnVuY3MtPnNldF9mYW5fc3BlZWRfcGVyY2VudCgoc211KSwg
KHNwZWVkKSkgOiAwKQorI2RlZmluZSBzbXVfZ2V0X2Zhbl9zcGVlZF9ycG0oc211LCBzcGVlZCkg
XAorCSgoc211KS0+cHB0X2Z1bmNzLT5nZXRfZmFuX3NwZWVkX3JwbSA/IChzbXUpLT5wcHRfZnVu
Y3MtPmdldF9mYW5fc3BlZWRfcnBtKChzbXUpLCAoc3BlZWQpKSA6IDApCiAKICNkZWZpbmUgc211
X21zZ19nZXRfaW5kZXgoc211LCBtc2cpIFwKIAkoKHNtdSktPnBwdF9mdW5jcz8gKChzbXUpLT5w
cHRfZnVuY3MtPmdldF9zbXVfbXNnX2luZGV4PyAoc211KS0+cHB0X2Z1bmNzLT5nZXRfc211X21z
Z19pbmRleCgoc211KSwgKG1zZykpIDogLUVJTlZBTCkgOiAtRUlOVkFMKQpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvbmF2aTEwX3BwdC5jIGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9wb3dlcnBsYXkvbmF2aTEwX3BwdC5jCmluZGV4IDgwZGFkZWQzMTk3MC4uMzUyZmFi
MWIzNDQ0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9uYXZpMTBf
cHB0LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvbmF2aTEwX3BwdC5jCkBA
IC05NzQsMTIgKzk3NCwxMyBAQCBzdGF0aWMgYm9vbCBuYXZpMTBfaXNfZHBtX3J1bm5pbmcoc3Ry
dWN0IHNtdV9jb250ZXh0ICpzbXUpCiAJcmV0dXJuICEhKGZlYXR1cmVfZW5hYmxlZCAmIFNNQ19E
UE1fRkVBVFVSRSk7CiB9CiAKLXN0YXRpYyBpbnQgbmF2aTEwX2dldF9mYW5fc3BlZWQoc3RydWN0
IHNtdV9jb250ZXh0ICpzbXUsIHVpbnQxNl90ICp2YWx1ZSkKK3N0YXRpYyBpbnQgbmF2aTEwX2dl
dF9mYW5fc3BlZWRfcnBtKHN0cnVjdCBzbXVfY29udGV4dCAqc211LAorCQkJCSAgICB1aW50MzJf
dCAqc3BlZWQpCiB7CiAJU211TWV0cmljc190IG1ldHJpY3M7CiAJaW50IHJldCA9IDA7CiAKLQlp
ZiAoIXZhbHVlKQorCWlmICghc3BlZWQpCiAJCXJldHVybiAtRUlOVkFMOwogCiAJbWVtc2V0KCZt
ZXRyaWNzLCAwLCBzaXplb2YobWV0cmljcykpOwpAQCAtOTg5LDcgKzk5MCw3IEBAIHN0YXRpYyBp
bnQgbmF2aTEwX2dldF9mYW5fc3BlZWQoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIHVpbnQxNl90
ICp2YWx1ZSkKIAlpZiAocmV0KQogCQlyZXR1cm4gcmV0OwogCi0JKnZhbHVlID0gbWV0cmljcy5D
dXJyRmFuU3BlZWQ7CisJKnNwZWVkID0gbWV0cmljcy5DdXJyRmFuU3BlZWQ7CiAKIAlyZXR1cm4g
cmV0OwogfQpAQCAtOTk5LDEwICsxMDAwLDEwIEBAIHN0YXRpYyBpbnQgbmF2aTEwX2dldF9mYW5f
c3BlZWRfcGVyY2VudChzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwKIHsKIAlpbnQgcmV0ID0gMDsK
IAl1aW50MzJfdCBwZXJjZW50ID0gMDsKLQl1aW50MTZfdCBjdXJyZW50X3JwbTsKKwl1aW50MzJf
dCBjdXJyZW50X3JwbTsKIAlQUFRhYmxlX3QgKnBwdGFibGUgPSBzbXUtPnNtdV90YWJsZS5kcml2
ZXJfcHB0YWJsZTsKIAotCXJldCA9IG5hdmkxMF9nZXRfZmFuX3NwZWVkKHNtdSwgJmN1cnJlbnRf
cnBtKTsKKwlyZXQgPSBuYXZpMTBfZ2V0X2Zhbl9zcGVlZF9ycG0oc211LCAmY3VycmVudF9ycG0p
OwogCWlmIChyZXQpCiAJCXJldHVybiByZXQ7CiAKQEAgLTE2MTcsNiArMTYxOCw3IEBAIHN0YXRp
YyBjb25zdCBzdHJ1Y3QgcHB0YWJsZV9mdW5jcyBuYXZpMTBfcHB0X2Z1bmNzID0gewogCS51bmZv
cmNlX2RwbV9sZXZlbHMgPSBuYXZpMTBfdW5mb3JjZV9kcG1fbGV2ZWxzLAogCS5pc19kcG1fcnVu
bmluZyA9IG5hdmkxMF9pc19kcG1fcnVubmluZywKIAkuZ2V0X2Zhbl9zcGVlZF9wZXJjZW50ID0g
bmF2aTEwX2dldF9mYW5fc3BlZWRfcGVyY2VudCwKKwkuZ2V0X2Zhbl9zcGVlZF9ycG0gPSBuYXZp
MTBfZ2V0X2Zhbl9zcGVlZF9ycG0sCiAJLmdldF9wb3dlcl9wcm9maWxlX21vZGUgPSBuYXZpMTBf
Z2V0X3Bvd2VyX3Byb2ZpbGVfbW9kZSwKIAkuc2V0X3Bvd2VyX3Byb2ZpbGVfbW9kZSA9IG5hdmkx
MF9zZXRfcG93ZXJfcHJvZmlsZV9tb2RlLAogCS5nZXRfcHJvZmlsaW5nX2Nsa19tYXNrID0gbmF2
aTEwX2dldF9wcm9maWxpbmdfY2xrX21hc2ssCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL3Bvd2VycGxheS9zbXVfdjExXzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5
L3NtdV92MTFfMC5jCmluZGV4IDlmM2E4NGZiYjljZi4uYTQxY2UyOWIyM2RjIDEwMDY0NAotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9zbXVfdjExXzAuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL3Bvd2VycGxheS9zbXVfdjExXzAuYwpAQCAtMTQwNSwyMyArMTQwNSw2IEBA
IHN0YXRpYyBpbnQgc211X3YxMV8wX2dmeF9vZmZfY29udHJvbChzdHJ1Y3Qgc211X2NvbnRleHQg
KnNtdSwgYm9vbCBlbmFibGUpCiAJcmV0dXJuIHJldDsKIH0KIAotc3RhdGljIGludCBzbXVfdjEx
XzBfZ2V0X2N1cnJlbnRfcnBtKHN0cnVjdCBzbXVfY29udGV4dCAqc211LAotCQkJCSAgICAgdWlu
dDMyX3QgKmN1cnJlbnRfcnBtKQotewotCWludCByZXQ7Ci0KLQlyZXQgPSBzbXVfc2VuZF9zbWNf
bXNnKHNtdSwgU01VX01TR19HZXRDdXJyZW50UnBtKTsKLQotCWlmIChyZXQpIHsKLQkJcHJfZXJy
KCJBdHRlbXB0IHRvIGdldCBjdXJyZW50IFJQTSBmcm9tIFNNQyBGYWlsZWQhXG4iKTsKLQkJcmV0
dXJuIHJldDsKLQl9Ci0KLQlzbXVfcmVhZF9zbWNfYXJnKHNtdSwgY3VycmVudF9ycG0pOwotCi0J
cmV0dXJuIDA7Ci19Ci0KIHN0YXRpYyB1aW50MzJfdAogc211X3YxMV8wX2dldF9mYW5fY29udHJv
bF9tb2RlKHN0cnVjdCBzbXVfY29udGV4dCAqc211KQogewpAQCAtMTgwNyw3ICsxNzkwLDYgQEAg
c3RhdGljIGNvbnN0IHN0cnVjdCBzbXVfZnVuY3Mgc211X3YxMV8wX2Z1bmNzID0gewogCS5zZXRf
ZGVlcF9zbGVlcF9kY2VmY2xrID0gc211X3YxMV8wX3NldF9kZWVwX3NsZWVwX2RjZWZjbGssCiAJ
LmRpc3BsYXlfY2xvY2tfdm9sdGFnZV9yZXF1ZXN0ID0gc211X3YxMV8wX2Rpc3BsYXlfY2xvY2tf
dm9sdGFnZV9yZXF1ZXN0LAogCS5zZXRfd2F0ZXJtYXJrc19mb3JfY2xvY2tfcmFuZ2VzID0gc211
X3YxMV8wX3NldF93YXRlcm1hcmtzX2Zvcl9jbG9ja19yYW5nZXMsCi0JLmdldF9jdXJyZW50X3Jw
bSA9IHNtdV92MTFfMF9nZXRfY3VycmVudF9ycG0sCiAJLmdldF9mYW5fY29udHJvbF9tb2RlID0g
c211X3YxMV8wX2dldF9mYW5fY29udHJvbF9tb2RlLAogCS5zZXRfZmFuX2NvbnRyb2xfbW9kZSA9
IHNtdV92MTFfMF9zZXRfZmFuX2NvbnRyb2xfbW9kZSwKIAkuc2V0X2Zhbl9zcGVlZF9wZXJjZW50
ID0gc211X3YxMV8wX3NldF9mYW5fc3BlZWRfcGVyY2VudCwKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvcG93ZXJwbGF5L3ZlZ2EyMF9wcHQuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
cG93ZXJwbGF5L3ZlZ2EyMF9wcHQuYwppbmRleCAwODA5NTZlYTA1NzAuLjQzY2Q3NDc5NTQxNyAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvdmVnYTIwX3BwdC5jCisr
KyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3ZlZ2EyMF9wcHQuYwpAQCAtMzAzOSw2
ICszMDM5LDIzIEBAIHN0YXRpYyBpbnQgdmVnYTIwX3NldF90aGVybWFsX2Zhbl90YWJsZShzdHJ1
Y3Qgc211X2NvbnRleHQgKnNtdSkKIAlyZXR1cm4gcmV0OwogfQogCitzdGF0aWMgaW50IHZlZ2Ey
MF9nZXRfZmFuX3NwZWVkX3JwbShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwKKwkJCQkgICAgdWlu
dDMyX3QgKnNwZWVkKQoreworCWludCByZXQ7CisKKwlyZXQgPSBzbXVfc2VuZF9zbWNfbXNnKHNt
dSwgU01VX01TR19HZXRDdXJyZW50UnBtKTsKKworCWlmIChyZXQpIHsKKwkJcHJfZXJyKCJBdHRl
bXB0IHRvIGdldCBjdXJyZW50IFJQTSBmcm9tIFNNQyBGYWlsZWQhXG4iKTsKKwkJcmV0dXJuIHJl
dDsKKwl9CisKKwlzbXVfcmVhZF9zbWNfYXJnKHNtdSwgc3BlZWQpOworCisJcmV0dXJuIDA7Cit9
CisKIHN0YXRpYyBpbnQgdmVnYTIwX2dldF9mYW5fc3BlZWRfcGVyY2VudChzdHJ1Y3Qgc211X2Nv
bnRleHQgKnNtdSwKIAkJCQkJdWludDMyX3QgKnNwZWVkKQogewpAQCAtMzA0Niw3ICszMDYzLDcg
QEAgc3RhdGljIGludCB2ZWdhMjBfZ2V0X2Zhbl9zcGVlZF9wZXJjZW50KHN0cnVjdCBzbXVfY29u
dGV4dCAqc211LAogCXVpbnQzMl90IGN1cnJlbnRfcnBtID0gMCwgcGVyY2VudCA9IDA7CiAJUFBU
YWJsZV90ICpwcHRhYmxlID0gc211LT5zbXVfdGFibGUuZHJpdmVyX3BwdGFibGU7CiAKLQlyZXQg
PSBzbXVfZ2V0X2N1cnJlbnRfcnBtKHNtdSwgJmN1cnJlbnRfcnBtKTsKKwlyZXQgPSB2ZWdhMjBf
Z2V0X2Zhbl9zcGVlZF9ycG0oc211LCAmY3VycmVudF9ycG0pOwogCWlmIChyZXQpCiAJCXJldHVy
biByZXQ7CiAKQEAgLTMzMTcsNiArMzMzNCw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgcHB0YWJs
ZV9mdW5jcyB2ZWdhMjBfcHB0X2Z1bmNzID0gewogCS5pc19kcG1fcnVubmluZyA9IHZlZ2EyMF9p
c19kcG1fcnVubmluZywKIAkuc2V0X3RoZXJtYWxfZmFuX3RhYmxlID0gdmVnYTIwX3NldF90aGVy
bWFsX2Zhbl90YWJsZSwKIAkuZ2V0X2Zhbl9zcGVlZF9wZXJjZW50ID0gdmVnYTIwX2dldF9mYW5f
c3BlZWRfcGVyY2VudCwKKwkuZ2V0X2Zhbl9zcGVlZF9ycG0gPSB2ZWdhMjBfZ2V0X2Zhbl9zcGVl
ZF9ycG0sCiAJLnNldF93YXRlcm1hcmtzX3RhYmxlID0gdmVnYTIwX3NldF93YXRlcm1hcmtzX3Rh
YmxlLAogCS5nZXRfdGhlcm1hbF90ZW1wZXJhdHVyZV9yYW5nZSA9IHZlZ2EyMF9nZXRfdGhlcm1h
bF90ZW1wZXJhdHVyZV9yYW5nZQogfTsKLS0gCjIuMjAuMQoKX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBs
aXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1h
bi9saXN0aW5mby9hbWQtZ2Z4
