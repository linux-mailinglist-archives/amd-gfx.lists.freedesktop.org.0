Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 0CD4AA13E8C
	for <lists+amd-gfx@lfdr.de>; Thu, 16 Jan 2025 16:58:51 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A71C810E9BB;
	Thu, 16 Jan 2025 15:58:49 +0000 (UTC)
Authentication-Results: gabe.freedesktop.org;
	dkim=pass (1024-bit key; unprotected) header.d=amd.com header.i=@amd.com header.b="TrlKL2Ab";
	dkim-atps=neutral
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM12-DM6-obe.outbound.protection.outlook.com
 (mail-dm6nam12on2087.outbound.protection.outlook.com [40.107.243.87])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3454810E9B8
 for <amd-gfx@lists.freedesktop.org>; Thu, 16 Jan 2025 15:58:48 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector10001; d=microsoft.com; cv=none;
 b=g6GBDFUMjRCP/WQZe2lLPOZ+ryGURmSfDam5b52vMYSOeXOjSIzt9KGgU/8SdOz7juctn8s45n2eDWuHGPMY2OddJaR968FHbmKLk0CSMjBcgKGGOMliZ114gnytHe7ePZtkCsYsVmNoSDOwIxhGvuo30Dr9/n1mF3gkLwuFrUSnYmYRExsAwHvQs6kogbER5PZwjq4CtOvQBuoxU1xusMLN3enm3HzdvGk4fNCR9G2M4BiTUKfOcDKQQo/4O17ixAlTOsfLM6YccQmbvKI19KlGpdlZWcVFUNbj7OLHtJVnwSLUY2lJmuqKuNYziuyLJ0yiYqC4O7jYeyx71Pj1UQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector10001;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=ttQEbvYhV8/72otuDRwQ80/r1iUB3kl/1V59KDnb1UI=;
 b=Bdp6PBTiPP9YNDfafqvwuxfo82GwvYGNqA4qki05mQKjgCTYIFR9CE8FS/kNLFyGeGyJFE2ojVhNHplGc8PxgwUKbLTpgJvXqahrspbQcFyeam0jGy72ZyP9KzK8zjULY0ZR9V7eG4wxigHFXCgT3ZaN5ETvgnyCsDBRbgZjRdDCIYjvqYF+a7YWQBJIX2rnm9uOU4/a22OnV82MVeQisQpu1P2/FoAY2zCGphEW1fEMC3frGIo2cQkGPKWRPpDkuwWZPi8Kb8r87v0z0ge7L9VOx1zzT8O0pLuNqwl4IsPB3dhsizane0TlBP4Nys7wHZYCnXD8AFZlB12BFLgKJw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=amd.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=ttQEbvYhV8/72otuDRwQ80/r1iUB3kl/1V59KDnb1UI=;
 b=TrlKL2AbX7CeNh7hKMt69QmJiQt28FLDy1z6AtWPruRUy1iuk20yWzYzVZt1Yo7kcVQAmsWvSWbmtzoKGyXBGseaaoYDjjcp0pCULV2XHqp3XJVf+GsLqVJgZS361CF6nMwcH9FQgbl613zWOczMGdLgnHyL9pXtXdmHVeuoJ1Q=
Received: from DS7PR12MB6071.namprd12.prod.outlook.com (2603:10b6:8:9d::11) by
 SA1PR12MB8917.namprd12.prod.outlook.com (2603:10b6:806:386::20) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.8356.12; Thu, 16 Jan
 2025 15:58:45 +0000
Received: from DS7PR12MB6071.namprd12.prod.outlook.com
 ([fe80::be26:4c33:76bc:e1b]) by DS7PR12MB6071.namprd12.prod.outlook.com
 ([fe80::be26:4c33:76bc:e1b%5]) with mapi id 15.20.8356.010; Thu, 16 Jan 2025
 15:58:44 +0000
From: "Kamal, Asad" <Asad.Kamal@amd.com>
To: Alex Deucher <alexdeucher@gmail.com>, "Lazar, Lijo" <Lijo.Lazar@amd.com>
CC: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>, "Zhang,
 Hawking" <Hawking.Zhang@amd.com>, "Deucher, Alexander"
 <Alexander.Deucher@amd.com>, "Wang, Yang(Kevin)" <KevinYang.Wang@amd.com>
Subject: RE: [PATCH] drm/amd/pm: Add capability flags for SMU v13.0.6
Thread-Topic: [PATCH] drm/amd/pm: Add capability flags for SMU v13.0.6
Thread-Index: AQHbaBJKut793TSVrkCQfkj/NLb96LMZgHaAgAAOZwA=
Date: Thu, 16 Jan 2025 15:58:44 +0000
Message-ID: <DS7PR12MB6071E411534F8812FB887DAD8E1A2@DS7PR12MB6071.namprd12.prod.outlook.com>
References: <20250116122908.1451094-1-lijo.lazar@amd.com>
 <CADnq5_MEEUN5wnUt2Hk17+5prLBKjZCGA5pn=1FLJ9MXbBf+JQ@mail.gmail.com>
In-Reply-To: <CADnq5_MEEUN5wnUt2Hk17+5prLBKjZCGA5pn=1FLJ9MXbBf+JQ@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
msip_labels: MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_ActionId=30512d70-d27c-43c0-8a9b-8d169aa298d6;
 MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_ContentBits=0;
 MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_Enabled=true;
 MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_Method=Standard;
 MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_Name=AMD
 Internal Distribution Only;
 MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_SetDate=2025-01-16T15:58:37Z;
 MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_SiteId=3dd8961f-e488-4e60-8e11-a82d994e183d;
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=amd.com;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: DS7PR12MB6071:EE_|SA1PR12MB8917:EE_
x-ms-office365-filtering-correlation-id: c1ec5b89-5429-4a3c-c757-08dd3646a7e0
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0; ARA:13230040|376014|1800799024|366016|38070700018;
x-microsoft-antispam-message-info: =?utf-8?B?clhFSzZxbHNubUJBczVpN05rYmhtbXdjZWZFdHVKZEswc2RxZVl0cnVYMDNU?=
 =?utf-8?B?TnNueFNyZ3lSSUNqWmJ3YWJsUXVsVVV3UkZIVlozV2lVRFdJUFNhQ0pWRm5M?=
 =?utf-8?B?cHhrV0ZFeUNlNWpLcnFXalN2aXl2S2Y5SFYxT3lNM1FFMGkrRXhmeDdwV2V2?=
 =?utf-8?B?TmhPazkraWp6ejJpVklGbzh4UXV0ekFkdml3SUZtZW1UYlRmeC9LMXNDZ05F?=
 =?utf-8?B?MTR5WnBkRW56N2RkTk5nSTRYMjE2VjB3K2xUOHE5NG5MTDcwS01PcnJNQ3l4?=
 =?utf-8?B?bzV6Rk5PYVVUbzVTQ1dkUklkL1o1QWx6QWNaaEM2OHF4a2xYS0RENmFEMjFp?=
 =?utf-8?B?dVcwMWFwVWlNcWVWUnA3NXN2aS9PbUtvZmVGbnFreTREZU5UN05oWHJEOFl4?=
 =?utf-8?B?ek5QSXYxRVUyUVVmTlhocy9RNFhPOEIvckg3YnhRTXdNZWRhSGRNcUhmWDFl?=
 =?utf-8?B?YmZBUGkvSlF1cHpLZEdxU2pnMmJZclpUcVJDUThkeVA3Ym5scTN2WjRJT0FK?=
 =?utf-8?B?TWdickZFM2oySURJc2l1eXYvQlJBei9MT3B5YTc0WFdFQklJdHpWWDdmcUNQ?=
 =?utf-8?B?WlFBLzNCZVFFOXRsRXV5b2JTbjhzSFhZTCsvbVBkMjNnZTZpUzdQa3NiS0Yx?=
 =?utf-8?B?ZjFsSjNUS1owSExxNFkzcmFydnJBc3ByYmVBOEY2bGdBNGZxSW4vamovbGh1?=
 =?utf-8?B?QnAzcDVtWjZFbE9DVEt3Yk02ME9ZN3laVHpEMUd3MmZ3TThwb29JMmxXNi82?=
 =?utf-8?B?SmRPTktjNDRDejcrNjV0MVBQQXY3TGI4ek95OHRIL2I1cjY4WW5OUVdsK2o4?=
 =?utf-8?B?d0EybC85Y1VjOGxqaFNpZmJqZDd0TTlNU3NYem5mNXZ6M3hyeUo3aFQwdHBU?=
 =?utf-8?B?eUVEZ1l0YXdTeWx6UjZYNkc0M0VYT1AwbTdtbVh1c3E4R0RYN1VTTFNUazJM?=
 =?utf-8?B?bkFXNkpmSStZdExMRlU2bDRtTGxVUk5xNTlCY2VlQy9BY2VPOHJWZGthdDlX?=
 =?utf-8?B?UGY3cHBMeXNyQlRlajBRSGtHT2d5ZXVmbEpjaENFVTdaWDlMTmlhWWplRFZ6?=
 =?utf-8?B?UjNTQnJUa1FDL1NBS1ZqK1J1ZUQ3WjdxczlCNU5BNVNXd0tiS1J6VVlxeDdo?=
 =?utf-8?B?cVhWVnVUWk1zWmxTVWV5SHhMeFZER3U0eVh5TEVOZm85L2l6MlRkVm9vQm5D?=
 =?utf-8?B?NDlEcmdlWDNyMVltZjQ2eitUcWhueVdNTDJucHo2MS9GSUp3cEQzTXh6Vm5j?=
 =?utf-8?B?UU0vU3RsTjJlN1IwWEc1NDdhOS9XbXpBYUZJYlhEdGg1cU1RVmZycURKNmpW?=
 =?utf-8?B?d2ltdFF1Zno1WmpqdUFnQWh5R0ZGRXVid05pNEhPYXo1NzJPUGo0aWFUYmFu?=
 =?utf-8?B?S3N0ME5jeld2Q0NibUhaOHBTQVFIT1dSNW9sTE00RU1IbEJGN2JhUlN1MitZ?=
 =?utf-8?B?blpqYTJKWHM4T0xTN2VBMUZObWNGNGlodjVmNTRWYmNxZG5aR3FROEYwVGpZ?=
 =?utf-8?B?bEduR0I0YmVEU3hUZEljU1JGOUVIT09Cc1c1N1pQMXc0Zkw5cnROL0NkZllD?=
 =?utf-8?B?TkNteGNMMWFncDdZeUFaL0c0RTRyd1hZSURKMW1PWWcyckF6Y21kZWFLT2dr?=
 =?utf-8?B?RlRLbWx5NDdrWThzaHVFd1ZFWjZwWDIvd0FqYnIvNmRWN2pvQThCZXU3YXVa?=
 =?utf-8?B?emkwVjc0SElxSVJxWktRUU0wb2VKOEhMNHY4T3BIc0MzKzl2cmNuSjN1Q08y?=
 =?utf-8?B?MnowUldEM2tSbFJ3YkxYQ0YwNVNkKzhhc2pXcE14QjdkMktkdG0xSElrK0hB?=
 =?utf-8?B?NUJ1Qm94L1hZMmIyR01FbThkRm5aaCswYmZjemFtam5mRHNyMWhPdGszTjFx?=
 =?utf-8?B?L2ZmWkpVbUtFZXdGUkRQWU5PQXhlYm9lTS93a3BhbzArYVQ0Vms0OFZGaVB1?=
 =?utf-8?Q?c0bn0M3bblTTUJIG1J11TZrkMs5NaggE?=
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:DS7PR12MB6071.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(13230040)(376014)(1800799024)(366016)(38070700018); DIR:OUT; SFP:1101; 
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?VkwxRHcrWjNjYzZTdDJMMVhINkRKRy93eUdhY3R1OEJpWm1TbnZWNEFzVTJy?=
 =?utf-8?B?eWVyOFg1Zy83WW00eW9TY0tmOXlmazBEMzBlbm1CRFdNL1ZyU2pPQUNEK0hF?=
 =?utf-8?B?TGpHTWVqNVhqMEJDaDNobkN3YitrSjByZDVhVWJHTnNXUnUxWmw2NHQ1MUVv?=
 =?utf-8?B?NytDbWthdjY0U0I0cW1QWjZPNUl0Mi9mODZSUzZBT1V2bHJSWVVXMXJ1Q2Ey?=
 =?utf-8?B?UnRYWVAzTFU3TlZjdHQ5eUYzRVNhL1o4cEk1TzdEcmFTb0IwaW5iZGxudk8r?=
 =?utf-8?B?SzhVano4TUZQTWU2TTB5VjkvbktkL21OSEc5WUV5VHhmRkxwN25TTVMyNm5p?=
 =?utf-8?B?a2Fjb3hTMEcwQXFOKy9HdCsweFdNREdhR2MyOVo1a3dhMWh3L0ZJWXppVGE4?=
 =?utf-8?B?bUVua3JyN0VUaVEyN2NWYk1lNkhFeFRjTTVYVHRLODI0ZnM2dmxFRm80NE9j?=
 =?utf-8?B?RDVnV2RnK04yNlpobmpMdGRoVVhMWE00K3B6OXhCWDRrSkNoY0U4UCtSaitt?=
 =?utf-8?B?b0Q4ZVhtQjBVcGM5ejliclowaWlzUkhhNGR3d2hqWm1TN1N6Wk5hUnZIa0gv?=
 =?utf-8?B?WmFmWlh1Vy9CVFJrc0U1OUJJY0NOa3BGTGxxVWtSdHQzK2VESEZrdTNjOHBo?=
 =?utf-8?B?NEpnQ3o4aEhuRTVmaE5WckNGT3gvWU9qcFJ3enpYVkhVbWdNcEFXUlJGVEhW?=
 =?utf-8?B?SnFSemhxbk5rSVRtV2RwbUppY0cvamp3REVob3ZqRFdjMWQwNTA1ZTlKN2t5?=
 =?utf-8?B?MWg2UG1lVzhIY3BybmpiZFZzbUFaS1lKZmxncC9BcHNNeGZHcVl2V3gwNWEr?=
 =?utf-8?B?ZWpqRnlJSXBOaTh0dWd2YkErVWhNeE1FVzA2ZFBVU0luUTVFK2NXbUZhY0pQ?=
 =?utf-8?B?Mkd6Vll3OHVwN0oxd1FtWGdYMDBJUFFvdTBPUFloUmJnalcwTlIrVGJCVlZF?=
 =?utf-8?B?am1WcmpCaDNhMXB2aU1Gclh2TXhaTW5XRk5nV1Axc0UreThlVUlKano5Nk94?=
 =?utf-8?B?NElFeEZ6UDRZN1dpQVVwcmVuTSsvU3Ezb2xIK1NxVkJzWTNYOFZWNnRYWFVI?=
 =?utf-8?B?elRDRndwL2JFTFJiN3lmcWd2V2c0eHZIMVJFczYrcCtCUDFjRFExQlpSV3JE?=
 =?utf-8?B?RkJTL1VaT2praUxzVUFRZ3Niblg5Mm5OWjRQZlhVSWRUM2tpQ0djMStBdWZ2?=
 =?utf-8?B?TFh6L1VlTk92R0FpOG1CeFFhVUxJSUp5Vi8wNkJHaHZHQVNQd1VNNjVodkhz?=
 =?utf-8?B?cXZFcEx3SVNQWHdWVVBDMmFwSzVWREVEM2J3RmFYb0FEMkdFZWFRb3lhU25P?=
 =?utf-8?B?cU8vczFzVk81cGVPaVU0SGZFcVdHM3djQkxYYVdwV2hzWEx4bkQ5UTREa2tJ?=
 =?utf-8?B?cGM2QmZldTFMUnUyY2F5TEhsZ1UvWFhwaXErVTBQeUpVR21XWEcwUm55S0sy?=
 =?utf-8?B?d1NjVnhhMFdwd1hNeU5NaUt6V0ZPR0J3aU5YSm53eFNobzlUQnBSQ0h4R2JO?=
 =?utf-8?B?Q293blladUpDeERQc3RUU0o1a0RseHRlaXdnaGkwUWJDalY2aUUydkxTOW9F?=
 =?utf-8?B?T0orNFNFQXRLdy9XR2xXQVZsZFd2VjM4c05qZDR5YWdwSVdhT2lCbHliblVS?=
 =?utf-8?B?ZDYyYlR4SGxSNklPb3p1YmtKdnoxTGxRbEhWRGZzSEo5cTczczRIUFRSd1gx?=
 =?utf-8?B?cDFWRXNNUmpsbHE1RjhKSnd4TC9la1BTKzlNQzAyRzc0VStES3dSdkdLRVFj?=
 =?utf-8?B?eVhyTDFSM24xSjljRFArZXdCb0d0MVN0cWx6UUQ0eFB2MDBuSnBFOWJuWlhE?=
 =?utf-8?B?NG13eTM2VHY2eHR5ZXUwOW9pdlUyemRUTmduc0xEZEZiUXhTdEtuMVFGMy9s?=
 =?utf-8?B?Wm9tbFNwMzhqT3BGK2s4d29YUHljUGhxRXZ5UkwrM2JMSWJ3OEE4K1o1R21a?=
 =?utf-8?B?YjgwWU0wSHhLRW5xWW1BOWhEWGdNZ0IrS2RWNklFTWZGNDlqWFpwZnBsZis0?=
 =?utf-8?B?NjRFaTkrT2FxQzlOdm9Fa3pudCtoZW43SVQraXo1ODRkdW5hK3BXZ0EvR003?=
 =?utf-8?B?UHlDYXJlWHQvOG85c3ZMT3lzYWM2ZVpnMm9RMXFvcmFqNFJZb2dDWXlNTGZh?=
 =?utf-8?Q?Dl7M=3D?=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: DS7PR12MB6071.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: c1ec5b89-5429-4a3c-c757-08dd3646a7e0
X-MS-Exchange-CrossTenant-originalarrivaltime: 16 Jan 2025 15:58:44.8256 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: etX5S0otzbdra7E7EOu1fBKWxHkva7QNV2Rkt0vhnJJFIVQBjsSxDleBk17tAsDn5o+cOAz7gnmwxAImTQoEng==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: SA1PR12MB8917
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

W0FNRCBPZmZpY2lhbCBVc2UgT25seSAtIEFNRCBJbnRlcm5hbCBEaXN0cmlidXRpb24gT25seV0N
Cg0KUmV2aWV3ZWQtYnk6IEFzYWQgS2FtYWwgPGFzYWQua2FtYWxAYW1kLmNvbT4NCg0KVGhhbmtz
ICYgUmVnYXJkcw0KQXNhZA0KDQotLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KRnJvbTogYW1k
LWdmeCA8YW1kLWdmeC1ib3VuY2VzQGxpc3RzLmZyZWVkZXNrdG9wLm9yZz4gT24gQmVoYWxmIE9m
IEFsZXggRGV1Y2hlcg0KU2VudDogVGh1cnNkYXksIEphbnVhcnkgMTYsIDIwMjUgODozNyBQTQ0K
VG86IExhemFyLCBMaWpvIDxMaWpvLkxhemFyQGFtZC5jb20+DQpDYzogYW1kLWdmeEBsaXN0cy5m
cmVlZGVza3RvcC5vcmc7IFpoYW5nLCBIYXdraW5nIDxIYXdraW5nLlpoYW5nQGFtZC5jb20+OyBE
ZXVjaGVyLCBBbGV4YW5kZXIgPEFsZXhhbmRlci5EZXVjaGVyQGFtZC5jb20+OyBLYW1hbCwgQXNh
ZCA8QXNhZC5LYW1hbEBhbWQuY29tPjsgV2FuZywgWWFuZyhLZXZpbikgPEtldmluWWFuZy5XYW5n
QGFtZC5jb20+DQpTdWJqZWN0OiBSZTogW1BBVENIXSBkcm0vYW1kL3BtOiBBZGQgY2FwYWJpbGl0
eSBmbGFncyBmb3IgU01VIHYxMy4wLjYNCg0KT24gVGh1LCBKYW4gMTYsIDIwMjUgYXQgNzoyOeKA
r0FNIExpam8gTGF6YXIgPGxpam8ubGF6YXJAYW1kLmNvbT4gd3JvdGU6DQo+DQo+IEFkZCBjYXBh
YmlsaXR5IGZsYWdzIGZvciBTTVUgdjEzLjAuNiB2YXJpYW50cy4gSW5pdGlhbGl6ZSB0aGUgZmxh
Z3MNCj4gYmFzZWQgb24gZmlybXdhcmUgc3VwcG9ydC4gQXMgdGhlcmUgYXJlIG11bHRpcGxlIElQ
IHZlcnNpb25zDQo+IG1haW50YWluZWQsIGl0IGlzIG1vcmUgbWFuYWdlYWJsZSB3aXRoIG9uZSB0
aW1lIGluaXRpYWxpemF0aW9uIGNhcHMNCj4gZmxhZ3MgYmFzZWQgb24gSVAgdmVyc2lvbiBhbmQg
ZmlybXdhcmUgZmVhdHVyZSBzdXBwb3J0Lg0KPg0KPiBTaWduZWQtb2ZmLWJ5OiBMaWpvIExhemFy
IDxsaWpvLmxhemFyQGFtZC5jb20+DQoNClRoaXMgaXMgYSBuaWNlIGNsZWFudXAuDQpSZXZpZXdl
ZC1ieTogQWxleCBEZXVjaGVyIDxhbGV4YW5kZXIuZGV1Y2hlckBhbWQuY29tPg0KDQo+IC0tLQ0K
PiAgZHJpdmVycy9ncHUvZHJtL2FtZC9wbS9zd3NtdS9pbmMvc211X3YxM18wLmggIHwgICAxICsN
Cj4gIC4uLi9kcm0vYW1kL3BtL3N3c211L3NtdTEzL3NtdV92MTNfMF82X3BwdC5jICB8IDIyNQ0K
PiArKysrKysrKysrKystLS0tLS0NCj4gIDIgZmlsZXMgY2hhbmdlZCwgMTU4IGluc2VydGlvbnMo
KyksIDY4IGRlbGV0aW9ucygtKQ0KPg0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9wbS9zd3NtdS9pbmMvc211X3YxM18wLmgNCj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3BtL3N3
c211L2luYy9zbXVfdjEzXzAuaA0KPiBpbmRleCAzNTZkOTQyMmI0MTEuLjhkNGE5NmUyMzMyNiAx
MDA2NDQNCj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wbS9zd3NtdS9pbmMvc211X3YxM18w
LmgNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wbS9zd3NtdS9pbmMvc211X3YxM18wLmgN
Cj4gQEAgLTEwNyw2ICsxMDcsNyBAQCBzdHJ1Y3Qgc211XzEzXzBfZHBtX2NvbnRleHQgew0KPiAg
ICAgICAgIHN0cnVjdCBzbXVfMTNfMF9kcG1fdGFibGVzICBkcG1fdGFibGVzOw0KPiAgICAgICAg
IHVpbnQzMl90ICAgICAgICAgICAgICAgICAgICB3b3JrbG9hZF9wb2xpY3lfbWFzazsNCj4gICAg
ICAgICB1aW50MzJfdCAgICAgICAgICAgICAgICAgICAgZGNlZl9taW5fZHNfY2xrOw0KPiArICAg
ICAgIHVpbnQ2NF90ICAgICAgICAgICAgICAgICAgICBjYXBzOw0KPiAgfTsNCj4NCj4gIGVudW0g
c211XzEzXzBfcG93ZXJfc3RhdGUgew0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9wbS9zd3NtdS9zbXUxMy9zbXVfdjEzXzBfNl9wcHQuYw0KPiBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvcG0vc3dzbXUvc211MTMvc211X3YxM18wXzZfcHB0LmMNCj4gaW5kZXggYzEyOTU5YTM2ZDc4
Li41NmUyNmZjZDMwNjYgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG0vc3dz
bXUvc211MTMvc211X3YxM18wXzZfcHB0LmMNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9w
bS9zd3NtdS9zbXUxMy9zbXVfdjEzXzBfNl9wcHQuYw0KPiBAQCAtMTAxLDM4ICsxMDEsMjUgQEAg
TU9EVUxFX0ZJUk1XQVJFKCJhbWRncHUvc211XzEzXzBfMTQuYmluIik7DQo+ICAjZGVmaW5lIE1D
QV9CQU5LX0lQSUQoX2lwLCBfaHdpZCwgX3R5cGUpIFwNCj4gICAgICAgICBbQU1ER1BVX01DQV9J
UF8jI19pcF0gPSB7IC5od2lkID0gX2h3aWQsIC5tY2F0eXBlID0gX3R5cGUsIH0NCj4NCj4gLXN0
YXRpYyBpbmxpbmUgYm9vbCBzbXVfdjEzXzBfNl9pc191bmlmaWVkX21ldHJpY3Moc3RydWN0IHNt
dV9jb250ZXh0DQo+ICpzbXUpIC17DQo+IC0gICAgICAgcmV0dXJuIChzbXUtPmFkZXYtPmZsYWdz
ICYgQU1EX0lTX0FQVSkgJiYNCj4gLSAgICAgICAgICAgICAgIHNtdS0+c21jX2Z3X3ZlcnNpb24g
PD0gMHg0NTU2OTAwOw0KPiAtfQ0KPiAtDQo+IC1zdGF0aWMgaW5saW5lIGJvb2wgc211X3YxM18w
XzZfaXNfb3RoZXJfZW5kX2NvdW50X2F2YWlsYWJsZShzdHJ1Y3QNCj4gc211X2NvbnRleHQgKnNt
dSkgLXsNCj4gLSAgICAgICBzd2l0Y2ggKGFtZGdwdV9pcF92ZXJzaW9uKHNtdS0+YWRldiwgTVAx
X0hXSVAsIDApKSB7DQo+IC0gICAgICAgY2FzZSBJUF9WRVJTSU9OKDEzLCAwLCA2KToNCj4gLSAg
ICAgICAgICAgICAgIHJldHVybiBzbXUtPnNtY19md192ZXJzaW9uID49IDB4NTU3NjAwOw0KPiAt
ICAgICAgIGNhc2UgSVBfVkVSU0lPTigxMywgMCwgMTQpOg0KPiAtICAgICAgICAgICAgICAgcmV0
dXJuIHNtdS0+c21jX2Z3X3ZlcnNpb24gPj0gMHgwNTU1MEUwMDsNCj4gLSAgICAgICBkZWZhdWx0
Og0KPiAtICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KPiAtICAgICAgIH0NCj4gLX0NCj4g
LQ0KPiAtc3RhdGljIGlubGluZSBib29sIHNtdV92MTNfMF82X2lzX2Jsd19ob3N0X2xpbWl0X2F2
YWlsYWJsZShzdHJ1Y3QNCj4gc211X2NvbnRleHQgKnNtdSkgLXsNCj4gLSAgICAgICBpZiAoc211
LT5hZGV2LT5mbGFncyAmIEFNRF9JU19BUFUpDQo+IC0gICAgICAgICAgICAgICByZXR1cm4gc211
LT5zbWNfZndfdmVyc2lvbiA+PSAweDA0NTU2RjAwOw0KPiArZW51bSBzbXVfdjEzXzBfNl9jYXBz
IHsNCj4gKyAgICAgICBTTVVfMTNfMF82X0NBUFNfRFBNLA0KPiArICAgICAgIFNNVV8xM18wXzZf
Q0FQU19VTklfTUVUUklDUywNCj4gKyAgICAgICBTTVVfMTNfMF82X0NBUFNfRFBNX1BPTElDWSwN
Cj4gKyAgICAgICBTTVVfMTNfMF82X0NBUFNfT1RIRVJfRU5EX01FVFJJQ1MsDQo+ICsgICAgICAg
U01VXzEzXzBfNl9DQVBTX1NFVF9VQ0xLX01BWCwNCj4gKyAgICAgICBTTVVfMTNfMF82X0NBUFNf
UENJRV9NRVRSSUNTLA0KPiArICAgICAgIFNNVV8xM18wXzZfQ0FQU19IU1RfTElNSVRfTUVUUklD
UywNCj4gKyAgICAgICBTTVVfMTNfMF82X0NBUFNfTUNBX0RFQlVHX01PREUsDQo+ICsgICAgICAg
U01VXzEzXzBfNl9DQVBTX1BFUl9JTlNUX01FVFJJQ1MsDQo+ICsgICAgICAgU01VXzEzXzBfNl9D
QVBTX0NURl9MSU1JVCwNCj4gKyAgICAgICBTTVVfMTNfMF82X0NBUFNfUk1BX01TRywNCj4gKyAg
ICAgICBTTVVfMTNfMF82X0NBUFNfQUNBX1NZTkQsDQo+ICsgICAgICAgU01VXzEzXzBfNl9DQVBT
X1NETUFfUkVTRVQsDQo+ICsgICAgICAgU01VXzEzXzBfNl9DQVBTX0FMTCwNCj4gK307DQo+DQo+
IC0gICAgICAgc3dpdGNoIChhbWRncHVfaXBfdmVyc2lvbihzbXUtPmFkZXYsIE1QMV9IV0lQLCAw
KSkgew0KPiAtICAgICAgIGNhc2UgSVBfVkVSU0lPTigxMywgMCwgNik6DQo+IC0gICAgICAgICAg
ICAgICByZXR1cm4gc211LT5zbWNfZndfdmVyc2lvbiA+PSAweDU1NzkwMDsNCj4gLSAgICAgICBj
YXNlIElQX1ZFUlNJT04oMTMsIDAsIDE0KToNCj4gLSAgICAgICAgICAgICAgIHJldHVybiBzbXUt
PnNtY19md192ZXJzaW9uID49IDB4MDU1NTEwMDA7DQo+IC0gICAgICAgZGVmYXVsdDoNCj4gLSAg
ICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCj4gLSAgICAgICB9DQo+IC19DQo+ICsjZGVmaW5l
IFNNVV9DQVBTX01BU0soeCkgKFVMTCgxKSA8PCB4KSAjZGVmaW5lIFNNVV9DQVBTKHgpDQo+ICtT
TVVfQ0FQU19NQVNLKFNNVV8xM18wXzZfQ0FQU18jI3gpDQo+DQo+ICBzdHJ1Y3QgbWNhX2Jhbmtf
aXBpZCB7DQo+ICAgICAgICAgZW51bSBhbWRncHVfbWNhX2lwIGlwOw0KPiBAQCAtMjk3LDYgKzI4
NCwxMTkgQEAgc3RydWN0IHNtdV92MTNfMF82X2RwbV9tYXAgew0KPiAgICAgICAgIHVpbnQzMl90
ICpmcmVxX3RhYmxlOw0KPiAgfTsNCj4NCj4gK3N0YXRpYyB2b2lkIHNtdV92MTNfMF8xNF9pbml0
X2NhcHMoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUpIHsNCj4gKyAgICAgICBzdHJ1Y3Qgc211XzEz
XzBfZHBtX2NvbnRleHQgKmRwbV9jb250ZXh0ID0gc211LT5zbXVfZHBtLmRwbV9jb250ZXh0Ow0K
PiArICAgICAgIHVpbnQ2NF90IGNhcHMgPSBTTVVfQ0FQUyhEUE0pIHwgU01VX0NBUFMoVU5JX01F
VFJJQ1MpIHwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgU01VX0NBUFMoU0VUX1VDTEtfTUFY
KSB8IFNNVV9DQVBTKERQTV9QT0xJQ1kpIHwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgU01V
X0NBUFMoUENJRV9NRVRSSUNTKSB8IFNNVV9DQVBTKENURl9MSU1JVCkgfA0KPiArICAgICAgICAg
ICAgICAgICAgICAgICBTTVVfQ0FQUyhNQ0FfREVCVUdfTU9ERSkgfCBTTVVfQ0FQUyhSTUFfTVNH
KSB8DQo+ICsgICAgICAgICAgICAgICAgICAgICAgIFNNVV9DQVBTKEFDQV9TWU5EKTsNCj4gKyAg
ICAgICB1aW50MzJfdCBmd192ZXIgPSBzbXUtPnNtY19md192ZXJzaW9uOw0KPiArDQo+ICsgICAg
ICAgaWYgKGZ3X3ZlciA+PSAweDA1NTUwRTAwKQ0KPiArICAgICAgICAgICAgICAgY2FwcyB8PSBT
TVVfQ0FQUyhPVEhFUl9FTkRfTUVUUklDUyk7DQo+ICsgICAgICAgaWYgKGZ3X3ZlciA+PSAweDA1
NTUxMDAwKQ0KPiArICAgICAgICAgICAgICAgY2FwcyB8PSBTTVVfQ0FQUyhIU1RfTElNSVRfTUVU
UklDUyk7DQo+ICsgICAgICAgaWYgKGZ3X3ZlciA+PSAweDA1NTUwQjAwKQ0KPiArICAgICAgICAg
ICAgICAgY2FwcyB8PSBTTVVfQ0FQUyhQRVJfSU5TVF9NRVRSSUNTKTsNCj4gKyAgICAgICBpZiAo
ZndfdmVyID4gMHgwNTU1MGYwMCkNCj4gKyAgICAgICAgICAgICAgIGNhcHMgfD0gU01VX0NBUFMo
U0RNQV9SRVNFVCk7DQo+ICsNCj4gKyAgICAgICBkcG1fY29udGV4dC0+Y2FwcyA9IGNhcHM7DQo+
ICt9DQo+ICsNCj4gK3N0YXRpYyB2b2lkIHNtdV92MTNfMF82X2luaXRfY2FwcyhzdHJ1Y3Qgc211
X2NvbnRleHQgKnNtdSkgew0KPiArICAgICAgIHVpbnQ2NF90IGNhcHMgPSBTTVVfQ0FQUyhEUE0p
IHwgU01VX0NBUFMoVU5JX01FVFJJQ1MpIHwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgU01V
X0NBUFMoU0VUX1VDTEtfTUFYKSB8IFNNVV9DQVBTKERQTV9QT0xJQ1kpIHwNCj4gKyAgICAgICAg
ICAgICAgICAgICAgICAgU01VX0NBUFMoUENJRV9NRVRSSUNTKSB8IFNNVV9DQVBTKE1DQV9ERUJV
R19NT0RFKSB8DQo+ICsgICAgICAgICAgICAgICAgICAgICAgIFNNVV9DQVBTKENURl9MSU1JVCkg
fCBTTVVfQ0FQUyhSTUFfTVNHKSB8DQo+ICsgICAgICAgICAgICAgICAgICAgICAgIFNNVV9DQVBT
KEFDQV9TWU5EKTsNCj4gKyAgICAgICBzdHJ1Y3Qgc211XzEzXzBfZHBtX2NvbnRleHQgKmRwbV9j
b250ZXh0ID0gc211LT5zbXVfZHBtLmRwbV9jb250ZXh0Ow0KPiArICAgICAgIHN0cnVjdCBhbWRn
cHVfZGV2aWNlICphZGV2ID0gc211LT5hZGV2Ow0KPiArICAgICAgIHVpbnQzMl90IGZ3X3ZlciA9
IHNtdS0+c21jX2Z3X3ZlcnNpb247DQo+ICsgICAgICAgdWludDMyX3QgcGdtID0gKGZ3X3ZlciA+
PiAyNCkgJiAweEZGOw0KPiArDQo+ICsgICAgICAgaWYgKGZ3X3ZlciA8IDB4NTUyRjAwKQ0KPiAr
ICAgICAgICAgICAgICAgY2FwcyAmPSB+U01VX0NBUFMoRFBNKTsNCj4gKw0KPiArICAgICAgIGlm
IChhZGV2LT5mbGFncyAmIEFNRF9JU19BUFUpIHsNCj4gKyAgICAgICAgICAgICAgIGNhcHMgJj0g
flNNVV9DQVBTKFBDSUVfTUVUUklDUyk7DQo+ICsgICAgICAgICAgICAgICBjYXBzICY9IH5TTVVf
Q0FQUyhTRVRfVUNMS19NQVgpOw0KPiArICAgICAgICAgICAgICAgY2FwcyAmPSB+U01VX0NBUFMo
RFBNX1BPTElDWSk7DQo+ICsgICAgICAgICAgICAgICBjYXBzICY9IH5TTVVfQ0FQUyhSTUFfTVNH
KTsNCj4gKyAgICAgICAgICAgICAgIGNhcHMgJj0gflNNVV9DQVBTKEFDQV9TWU5EKTsNCj4gKw0K
PiArICAgICAgICAgICAgICAgaWYgKGZ3X3ZlciA8PSAweDQ1NTY5MDApDQo+ICsgICAgICAgICAg
ICAgICAgICAgICAgIGNhcHMgJj0gflNNVV9DQVBTKFVOSV9NRVRSSUNTKTsNCj4gKw0KPiArICAg
ICAgICAgICAgICAgaWYgKGZ3X3ZlciA+PSAweDA0NTU2RjAwKQ0KPiArICAgICAgICAgICAgICAg
ICAgICAgICBjYXBzIHw9IFNNVV9DQVBTKEhTVF9MSU1JVF9NRVRSSUNTKTsNCj4gKyAgICAgICAg
ICAgICAgIGlmIChmd192ZXIgPj0gMHgwNDU1NkEwMCkNCj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgY2FwcyB8PSBTTVVfQ0FQUyhQRVJfSU5TVF9NRVRSSUNTKTsNCj4gKyAgICAgICAgICAgICAg
IGlmIChmd192ZXIgPCAweDU1NDUwMCkNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgY2FwcyAm
PSB+U01VX0NBUFMoQ1RGX0xJTUlUKTsNCj4gKyAgICAgICB9IGVsc2Ugew0KPiArICAgICAgICAg
ICAgICAgaWYgKGZ3X3ZlciA+PSAweDU1NzYwMCkNCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
Y2FwcyB8PSBTTVVfQ0FQUyhPVEhFUl9FTkRfTUVUUklDUyk7DQo+ICsgICAgICAgICAgICAgICBp
ZiAoZndfdmVyIDwgMHgwMDU1NjAwMCkNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgY2FwcyAm
PSB+U01VX0NBUFMoRFBNX1BPTElDWSk7DQo+ICsgICAgICAgICAgICAgICBpZiAoYW1kZ3B1X3Ny
aW92X3ZmKGFkZXYpICYmIChmd192ZXIgPCAweDU1NjYwMCkpDQo+ICsgICAgICAgICAgICAgICAg
ICAgICAgIGNhcHMgJj0gflNNVV9DQVBTKFNFVF9VQ0xLX01BWCk7DQo+ICsgICAgICAgICAgICAg
ICBpZiAoZndfdmVyIDwgMHg1NTYzMDApDQo+ICsgICAgICAgICAgICAgICAgICAgICAgIGNhcHMg
Jj0gflNNVV9DQVBTKFBDSUVfTUVUUklDUyk7DQo+ICsgICAgICAgICAgICAgICBpZiAoZndfdmVy
IDwgMHg1NTQ4MDApDQo+ICsgICAgICAgICAgICAgICAgICAgICAgIGNhcHMgJj0gflNNVV9DQVBT
KE1DQV9ERUJVR19NT0RFKTsNCj4gKyAgICAgICAgICAgICAgIGlmIChmd192ZXIgPj0gMHg1NTZG
MDApDQo+ICsgICAgICAgICAgICAgICAgICAgICAgIGNhcHMgfD0gU01VX0NBUFMoUEVSX0lOU1Rf
TUVUUklDUyk7DQo+ICsgICAgICAgICAgICAgICBpZiAoZndfdmVyIDwgMHg1NTQ1MDApDQo+ICsg
ICAgICAgICAgICAgICAgICAgICAgIGNhcHMgJj0gflNNVV9DQVBTKENURl9MSU1JVCk7DQo+ICsg
ICAgICAgICAgICAgICBpZiAoZndfdmVyIDwgMHgwMDU1NWEwMCkNCj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgY2FwcyAmPSB+U01VX0NBUFMoUk1BX01TRyk7DQo+ICsgICAgICAgICAgICAgICBp
ZiAoZndfdmVyIDwgMHgwMDU1NTYwMCkNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgY2FwcyAm
PSB+U01VX0NBUFMoQUNBX1NZTkQpOw0KPiArICAgICAgICAgICAgICAgaWYgKHBnbSA9PSAwICYm
IGZ3X3ZlciA+PSAweDU1NzkwMCkNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgY2FwcyB8PSBT
TVVfQ0FQUyhIU1RfTElNSVRfTUVUUklDUyk7DQo+ICsgICAgICAgfQ0KPiArICAgICAgIGlmICgo
KHBnbSA9PSA3KSAmJiAoZndfdmVyID4gMHgwNzU1MDcwMCkpIHx8DQo+ICsgICAgICAgICAgICgo
cGdtID09IDApICYmIChmd192ZXIgPiAweDAwNTU3NzAwKSkgfHwNCj4gKyAgICAgICAgICAgKChw
Z20gPT0gNCkgJiYgKGZ3X3ZlciA+IDB4NDU1NmU2YykpKQ0KPiArICAgICAgICAgICAgICAgY2Fw
cyB8PSBTTVVfQ0FQUyhTRE1BX1JFU0VUKTsNCj4gKw0KPiArICAgICAgIGRwbV9jb250ZXh0LT5j
YXBzID0gY2FwczsNCj4gK30NCj4gKw0KPiArc3RhdGljIGlubGluZSBib29sIHNtdV92MTNfMF82
X2NhcHNfc3VwcG9ydGVkKHN0cnVjdCBzbXVfY29udGV4dCAqc211LA0KPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bSBzbXVfdjEzXzBfNl9jYXBzDQo+
ICtjYXBzKSB7DQo+ICsgICAgICAgc3RydWN0IHNtdV8xM18wX2RwbV9jb250ZXh0ICpkcG1fY29u
dGV4dCA9DQo+ICtzbXUtPnNtdV9kcG0uZHBtX2NvbnRleHQ7DQo+ICsNCj4gKyAgICAgICByZXR1
cm4gKGRwbV9jb250ZXh0LT5jYXBzICYgU01VX0NBUFNfTUFTSyhjYXBzKSkgPT0NCj4gK1NNVV9D
QVBTX01BU0soY2Fwcyk7IH0NCj4gKw0KPiArc3RhdGljIHZvaWQgc211X3YxM18wX3hfaW5pdF9j
YXBzKHN0cnVjdCBzbXVfY29udGV4dCAqc211KSB7DQo+ICsgICAgICAgc3dpdGNoIChhbWRncHVf
aXBfdmVyc2lvbihzbXUtPmFkZXYsIE1QMV9IV0lQLCAwKSkgew0KPiArICAgICAgIGNhc2UgSVBf
VkVSU0lPTigxMywgMCwgMTQpOg0KPiArICAgICAgICAgICAgICAgcmV0dXJuIHNtdV92MTNfMF8x
NF9pbml0X2NhcHMoc211KTsNCj4gKyAgICAgICBkZWZhdWx0Og0KPiArICAgICAgICAgICAgICAg
cmV0dXJuIHNtdV92MTNfMF82X2luaXRfY2FwcyhzbXUpOw0KPiArICAgICAgIH0NCj4gK30NCj4g
Kw0KPiArc3RhdGljIGludCBzbXVfdjEzXzBfNl9jaGVja19md192ZXJzaW9uKHN0cnVjdCBzbXVf
Y29udGV4dCAqc211KSB7DQo+ICsgICAgICAgaW50IHI7DQo+ICsNCj4gKyAgICAgICByID0gc211
X3YxM18wX2NoZWNrX2Z3X3ZlcnNpb24oc211KTsNCj4gKyAgICAgICAvKiBJbml0aWFsaXplIGNh
cHMgZmxhZ3Mgb25jZSBmdyB2ZXJzaW9uIGlzIGZldGNoZWQgKi8NCj4gKyAgICAgICBpZiAoIXIp
DQo+ICsgICAgICAgICAgICAgICBzbXVfdjEzXzBfeF9pbml0X2NhcHMoc211KTsNCj4gKw0KPiAr
ICAgICAgIHJldHVybiByOw0KPiArfQ0KPiArDQo+ICBzdGF0aWMgaW50IHNtdV92MTNfMF82X2lu
aXRfbWljcm9jb2RlKHN0cnVjdCBzbXVfY29udGV4dCAqc211KSAgew0KPiAgICAgICAgIGNvbnN0
IHN0cnVjdCBzbWNfZmlybXdhcmVfaGVhZGVyX3YyXzEgKnYyXzE7IEBAIC02MTYsNyArNzE2LDcN
Cj4gQEAgc3RhdGljIGludCBzbXVfdjEzXzBfNl9zZXR1cF9kcml2ZXJfcHB0YWJsZShzdHJ1Y3Qg
c211X2NvbnRleHQgKnNtdSkNCj4gICAgICAgICBNZXRyaWNzVGFibGVBX3QgKm1ldHJpY3NfYSA9
IChNZXRyaWNzVGFibGVBX3QgKilzbXVfdGFibGUtPm1ldHJpY3NfdGFibGU7DQo+ICAgICAgICAg
c3RydWN0IFBQVGFibGVfdCAqcHB0YWJsZSA9DQo+ICAgICAgICAgICAgICAgICAoc3RydWN0IFBQ
VGFibGVfdCAqKXNtdV90YWJsZS0+ZHJpdmVyX3BwdGFibGU7DQo+IC0gICAgICAgYm9vbCBmbGFn
ID0gc211X3YxM18wXzZfaXNfdW5pZmllZF9tZXRyaWNzKHNtdSk7DQo+ICsgICAgICAgYm9vbCBm
bGFnID0gIXNtdV92MTNfMF82X2NhcHNfc3VwcG9ydGVkKHNtdSwNCj4gKyBTTVVfQ0FQUyhVTklf
TUVUUklDUykpOw0KPiAgICAgICAgIGludCByZXQsIGksIHJldHJ5ID0gMTAwOw0KPiAgICAgICAg
IHVpbnQzMl90IHRhYmxlX3ZlcnNpb247DQo+DQo+IEBAIC04MTIsOCArOTEyLDcgQEAgc3RhdGlj
IGludCBzbXVfdjEzXzBfNl9zZXRfZGVmYXVsdF9kcG1fdGFibGUoc3RydWN0IHNtdV9jb250ZXh0
ICpzbXUpDQo+ICAgICAgICAgc211X3YxM18wXzZfc2V0dXBfZHJpdmVyX3BwdGFibGUoc211KTsN
Cj4NCj4gICAgICAgICAvKiBEUE0gcG9saWN5IG5vdCBzdXBwb3J0ZWQgaW4gb2xkZXIgZmlybXdh
cmVzICovDQo+IC0gICAgICAgaWYgKCEoc211LT5hZGV2LT5mbGFncyAmIEFNRF9JU19BUFUpICYm
DQo+IC0gICAgICAgICAgIChzbXUtPnNtY19md192ZXJzaW9uIDwgMHgwMDU1NjAwMCkpIHsNCj4g
KyAgICAgICBpZiAoIXNtdV92MTNfMF82X2NhcHNfc3VwcG9ydGVkKHNtdSwgU01VX0NBUFMoRFBN
X1BPTElDWSkpKSB7DQo+ICAgICAgICAgICAgICAgICBzdHJ1Y3Qgc211X2RwbV9jb250ZXh0ICpz
bXVfZHBtID0gJnNtdS0+c211X2RwbTsNCj4NCj4gICAgICAgICAgICAgICAgIHNtdV9kcG0tPmRw
bV9wb2xpY2llcy0+cG9saWN5X21hc2sgJj0gQEAgLTk5MCw3DQo+ICsxMDg5LDcgQEAgc3RhdGlj
IGludCBzbXVfdjEzXzBfNl9nZXRfc211X21ldHJpY3NfZGF0YShzdHJ1Y3Qgc211X2NvbnRleHQg
KnNtdSwNCj4gICAgICAgICBzdHJ1Y3Qgc211X3RhYmxlX2NvbnRleHQgKnNtdV90YWJsZSA9ICZz
bXUtPnNtdV90YWJsZTsNCj4gICAgICAgICBNZXRyaWNzVGFibGVYX3QgKm1ldHJpY3NfeCA9IChN
ZXRyaWNzVGFibGVYX3QgKilzbXVfdGFibGUtPm1ldHJpY3NfdGFibGU7DQo+ICAgICAgICAgTWV0
cmljc1RhYmxlQV90ICptZXRyaWNzX2EgPSAoTWV0cmljc1RhYmxlQV90ICopc211X3RhYmxlLT5t
ZXRyaWNzX3RhYmxlOw0KPiAtICAgICAgIGJvb2wgZmxhZyA9IHNtdV92MTNfMF82X2lzX3VuaWZp
ZWRfbWV0cmljcyhzbXUpOw0KPiArICAgICAgIGJvb2wgZmxhZyA9ICFzbXVfdjEzXzBfNl9jYXBz
X3N1cHBvcnRlZChzbXUsDQo+ICsgU01VX0NBUFMoVU5JX01FVFJJQ1MpKTsNCj4gICAgICAgICBz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IHNtdS0+YWRldjsNCj4gICAgICAgICBpbnQgcmV0
ID0gMDsNCj4gICAgICAgICBpbnQgeGNjX2lkOw0KPiBAQCAtMTAwMyw3ICsxMTAyLDcgQEAgc3Rh
dGljIGludCBzbXVfdjEzXzBfNl9nZXRfc211X21ldHJpY3NfZGF0YShzdHJ1Y3Qgc211X2NvbnRl
eHQgKnNtdSwNCj4gICAgICAgICBzd2l0Y2ggKG1lbWJlcikgew0KPiAgICAgICAgIGNhc2UgTUVU
UklDU19DVVJSX0dGWENMSzoNCj4gICAgICAgICBjYXNlIE1FVFJJQ1NfQVZFUkFHRV9HRlhDTEs6
DQo+IC0gICAgICAgICAgICAgICBpZiAoc211LT5zbWNfZndfdmVyc2lvbiA+PSAweDU1MkYwMCkg
ew0KPiArICAgICAgICAgICAgICAgaWYgKHNtdV92MTNfMF82X2NhcHNfc3VwcG9ydGVkKHNtdSwg
U01VX0NBUFMoRFBNKSkpIHsNCj4gICAgICAgICAgICAgICAgICAgICAgICAgeGNjX2lkID0gR0VU
X0lOU1QoR0MsIDApOw0KPiAgICAgICAgICAgICAgICAgICAgICAgICAqdmFsdWUgPSBTTVVRMTBf
Uk9VTkQoR0VUX01FVFJJQ19GSUVMRChHZnhjbGtGcmVxdWVuY3ksIGZsYWcpW3hjY19pZF0pOw0K
PiAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCj4gQEAgLTE2OTIsNyArMTc5MSw3IEBAIHN0YXRp
YyBpbnQgc211X3YxM18wXzZfbm90aWZ5X3VubG9hZChzdHJ1Y3QNCj4gc211X2NvbnRleHQgKnNt
dSkgIHN0YXRpYyBpbnQgc211X3YxM18wXzZfbWNhX3NldF9kZWJ1Z19tb2RlKHN0cnVjdA0KPiBz
bXVfY29udGV4dCAqc211LCBib29sIGVuYWJsZSkgIHsNCj4gICAgICAgICAvKiBOT1RFOiB0aGlz
IENsZWFyTWNhT25SZWFkIG1lc3NhZ2UgaXMgb25seSBzdXBwb3J0ZWQgZm9yIHNtdSB2ZXJzaW9u
IDg1LjcyLjAgb3IgaGlnaGVyICovDQo+IC0gICAgICAgaWYgKHNtdS0+c21jX2Z3X3ZlcnNpb24g
PCAweDU1NDgwMCkNCj4gKyAgICAgICBpZiAoIXNtdV92MTNfMF82X2NhcHNfc3VwcG9ydGVkKHNt
dSwNCj4gKyBTTVVfQ0FQUyhNQ0FfREVCVUdfTU9ERSkpKQ0KPiAgICAgICAgICAgICAgICAgcmV0
dXJuIDA7DQo+DQo+ICAgICAgICAgcmV0dXJuIHNtdV9jbW5fc2VuZF9zbWNfbXNnX3dpdGhfcGFy
YW0oc211LA0KPiBTTVVfTVNHX0NsZWFyTWNhT25SZWFkLCBAQCAtMTgzNyw5ICsxOTM2LDggQEAg
c3RhdGljIGludCBzbXVfdjEzXzBfNl9zZXRfc29mdF9mcmVxX2xpbWl0ZWRfcmFuZ2Uoc3RydWN0
IHNtdV9jb250ZXh0ICpzbXUsDQo+ICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXggPT0g
cHN0YXRlX3RhYmxlLT51Y2xrX3BzdGF0ZS5jdXJyLm1heCkNCj4gICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICByZXR1cm4gMDsNCj4gICAgICAgICAgICAgICAgICAgICAgICAgLyogRm9y
IFZGLCBvbmx5IGFsbG93ZWQgaW4gRlcgdmVyc2lvbnMgODUuMTAyIG9yIGdyZWF0ZXIgKi8NCj4g
LSAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFtZGdwdV9zcmlvdl92ZihhZGV2KSAmJg0KPiAt
ICAgICAgICAgICAgICAgICAgICAgICAgICAgKChzbXUtPnNtY19md192ZXJzaW9uIDwgMHg1NTY2
MDApIHx8DQo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGFkZXYtPmZsYWdzICYgQU1E
X0lTX0FQVSkpKQ0KPiArICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNtdV92MTNfMF82X2Nh
cHNfc3VwcG9ydGVkKHNtdSwNCj4gKw0KPiArIFNNVV9DQVBTKFNFVF9VQ0xLX01BWCkpKQ0KPiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtRU9QTk9UU1VQUDsNCj4gICAg
ICAgICAgICAgICAgICAgICAgICAgLyogT25seSBtYXggY2xvY2sgbGltaXRpbmcgaXMgYWxsb3dl
ZCBmb3IgVUNMSyAqLw0KPiAgICAgICAgICAgICAgICAgICAgICAgICByZXQgPSBzbXVfdjEzXzBf
c2V0X3NvZnRfZnJlcV9saW1pdGVkX3JhbmdlKA0KPiBAQCAtMjA0Myw3ICsyMTQxLDcgQEAgc3Rh
dGljIGludCBzbXVfdjEzXzBfNl9nZXRfZW5hYmxlZF9tYXNrKHN0cnVjdA0KPiBzbXVfY29udGV4
dCAqc211LA0KPg0KPiAgICAgICAgIHJldCA9IHNtdV9jbW5fZ2V0X2VuYWJsZWRfbWFzayhzbXUs
IGZlYXR1cmVfbWFzayk7DQo+DQo+IC0gICAgICAgaWYgKHJldCA9PSAtRUlPICYmIHNtdS0+c21j
X2Z3X3ZlcnNpb24gPCAweDU1MkYwMCkgew0KPiArICAgICAgIGlmIChyZXQgPT0gLUVJTyAmJiAh
c211X3YxM18wXzZfY2Fwc19zdXBwb3J0ZWQoc211LA0KPiArIFNNVV9DQVBTKERQTSkpKSB7DQo+
ICAgICAgICAgICAgICAgICAqZmVhdHVyZV9tYXNrID0gMDsNCj4gICAgICAgICAgICAgICAgIHJl
dCA9IDA7DQo+ICAgICAgICAgfQ0KPiBAQCAtMjMzNiwxMSArMjQzNCwxMCBAQCBzdGF0aWMgaW50
DQo+IHNtdV92MTNfMF82X2dldF9jdXJyZW50X3BjaWVfbGlua19zcGVlZChzdHJ1Y3Qgc211X2Nv
bnRleHQgKnNtdSkNCj4NCj4gIHN0YXRpYyBzc2l6ZV90IHNtdV92MTNfMF82X2dldF9ncHVfbWV0
cmljcyhzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwNCj4gdm9pZCAqKnRhYmxlKSAgew0KPiAtICAg
ICAgIGJvb2wgcGVyX2luc3QsIHNtdV8xM18wXzZfcGVyX2luc3QsIHNtdV8xM18wXzE0X3Blcl9p
bnN0LCBhcHVfcGVyX2luc3Q7DQo+ICAgICAgICAgc3RydWN0IHNtdV90YWJsZV9jb250ZXh0ICpz
bXVfdGFibGUgPSAmc211LT5zbXVfdGFibGU7DQo+ICAgICAgICAgc3RydWN0IGdwdV9tZXRyaWNz
X3YxXzcgKmdwdV9tZXRyaWNzID0NCj4gICAgICAgICAgICAgICAgIChzdHJ1Y3QgZ3B1X21ldHJp
Y3NfdjFfNyAqKXNtdV90YWJsZS0+Z3B1X21ldHJpY3NfdGFibGU7DQo+IC0gICAgICAgYm9vbCBm
bGFnID0gc211X3YxM18wXzZfaXNfdW5pZmllZF9tZXRyaWNzKHNtdSk7DQo+ICsgICAgICAgYm9v
bCBmbGFnID0gIXNtdV92MTNfMF82X2NhcHNfc3VwcG9ydGVkKHNtdSwNCj4gKyBTTVVfQ0FQUyhV
TklfTUVUUklDUykpOw0KPiAgICAgICAgIGludCByZXQgPSAwLCB4Y2NfaWQsIGluc3QsIGksIGos
IGssIGlkeDsNCj4gICAgICAgICBzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IHNtdS0+YWRl
djsNCj4gICAgICAgICBNZXRyaWNzVGFibGVYX3QgKm1ldHJpY3NfeDsNCj4gQEAgLTIzNDgsNiAr
MjQ0NSw3IEBAIHN0YXRpYyBzc2l6ZV90IHNtdV92MTNfMF82X2dldF9ncHVfbWV0cmljcyhzdHJ1
Y3Qgc211X2NvbnRleHQgKnNtdSwgdm9pZCAqKnRhYmxlDQo+ICAgICAgICAgc3RydWN0IGFtZGdw
dV94Y3AgKnhjcDsNCj4gICAgICAgICB1MTYgbGlua193aWR0aF9sZXZlbDsNCj4gICAgICAgICB1
MzIgaW5zdF9tYXNrOw0KPiArICAgICAgIGJvb2wgcGVyX2luc3Q7DQo+DQo+ICAgICAgICAgbWV0
cmljc194ID0ga3phbGxvYyhtYXgoc2l6ZW9mKE1ldHJpY3NUYWJsZVhfdCksIHNpemVvZihNZXRy
aWNzVGFibGVBX3QpKSwgR0ZQX0tFUk5FTCk7DQo+ICAgICAgICAgcmV0ID0gc211X3YxM18wXzZf
Z2V0X21ldHJpY3NfdGFibGUoc211LCBtZXRyaWNzX3gsIHRydWUpOyBAQA0KPiAtMjQyMSw3ICsy
NTE5LDcgQEAgc3RhdGljIHNzaXplX3Qgc211X3YxM18wXzZfZ2V0X2dwdV9tZXRyaWNzKHN0cnVj
dCBzbXVfY29udGV4dCAqc211LCB2b2lkICoqdGFibGUNCj4gICAgICAgICAgICAgICAgICAqIHRh
YmxlIGZvciBib3RoIHBmICYgb25lIHZmIGZvciBzbXUgdmVyc2lvbiA4NS45OS4wIG9yIGhpZ2hl
ciBlbHNlIHJlcG9ydCBvbmx5DQo+ICAgICAgICAgICAgICAgICAgKiBmb3IgcGYgZnJvbSByZWdp
c3RlcnMNCj4gICAgICAgICAgICAgICAgICAqLw0KPiAtICAgICAgICAgICAgICAgaWYgKHNtdS0+
c21jX2Z3X3ZlcnNpb24gPj0gMHg1NTYzMDApIHsNCj4gKyAgICAgICAgICAgICAgIGlmIChzbXVf
djEzXzBfNl9jYXBzX3N1cHBvcnRlZChzbXUsDQo+ICsgU01VX0NBUFMoUENJRV9NRVRSSUNTKSkp
IHsNCj4gICAgICAgICAgICAgICAgICAgICAgICAgZ3B1X21ldHJpY3MtPnBjaWVfbGlua193aWR0
aCA9IG1ldHJpY3NfeC0+UENJZUxpbmtXaWR0aDsNCj4gICAgICAgICAgICAgICAgICAgICAgICAg
Z3B1X21ldHJpY3MtPnBjaWVfbGlua19zcGVlZCA9DQo+DQo+IHBjaWVfZ2VuX3RvX3NwZWVkKG1l
dHJpY3NfeC0+UENJZUxpbmtTcGVlZCk7DQo+IEBAIC0yNDUwLDcgKzI1NDgsOCBAQCBzdGF0aWMg
c3NpemVfdCBzbXVfdjEzXzBfNl9nZXRfZ3B1X21ldHJpY3Moc3RydWN0IHNtdV9jb250ZXh0ICpz
bXUsIHZvaWQgKip0YWJsZQ0KPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldHJp
Y3NfeC0+UENJZU5BS1NlbnRDb3VudEFjYzsNCj4gICAgICAgICAgICAgICAgIGdwdV9tZXRyaWNz
LT5wY2llX25ha19yY3ZkX2NvdW50X2FjYyA9DQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgbWV0cmljc194LT5QQ0llTkFLUmVjZWl2ZWRDb3VudEFjYzsNCj4gLSAgICAgICAgICAg
ICAgIGlmIChzbXVfdjEzXzBfNl9pc19vdGhlcl9lbmRfY291bnRfYXZhaWxhYmxlKHNtdSkpDQo+
ICsgICAgICAgICAgICAgICBpZiAoc211X3YxM18wXzZfY2Fwc19zdXBwb3J0ZWQoc211LA0KPiAr
DQo+ICsgU01VX0NBUFMoT1RIRVJfRU5EX01FVFJJQ1MpKSkNCj4gICAgICAgICAgICAgICAgICAg
ICAgICAgZ3B1X21ldHJpY3MtPnBjaWVfbGNfcGVyZl9vdGhlcl9lbmRfcmVjb3ZlcnkgPQ0KPiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldHJpY3NfeC0+UENJZU90aGVyRW5kUmVj
b3ZlcnlBY2M7DQo+DQo+IEBAIC0yNDc1LDE3ICsyNTc0LDcgQEAgc3RhdGljIHNzaXplX3QNCj4g
c211X3YxM18wXzZfZ2V0X2dwdV9tZXRyaWNzKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCB2b2lk
ICoqdGFibGUNCj4NCj4gICAgICAgICBncHVfbWV0cmljcy0+bnVtX3BhcnRpdGlvbiA9IGFkZXYt
PnhjcF9tZ3ItPm51bV94Y3BzOw0KPg0KPiAtICAgICAgIGFwdV9wZXJfaW5zdCA9IChhZGV2LT5m
bGFncyAmIEFNRF9JU19BUFUpICYmIChzbXUtPnNtY19md192ZXJzaW9uID49IDB4MDQ1NTZBMDAp
Ow0KPiAtICAgICAgIHNtdV8xM18wXzZfcGVyX2luc3QgPSAhKGFkZXYtPmZsYWdzICYgQU1EX0lT
X0FQVSkgJiYNCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoYW1kZ3B1X2lwX3Zl
cnNpb24oc211LT5hZGV2LCBNUDFfSFdJUCwgMCkNCj4gLSAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgPT0gSVBfVkVSU0lPTigxMywgMCwgNikpICYmDQo+IC0gICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgKHNtdS0+c21jX2Z3X3ZlcnNpb24gPj0gMHg1NTZGMDApOw0KPiAtICAg
ICAgIHNtdV8xM18wXzE0X3Blcl9pbnN0ID0gIShhZGV2LT5mbGFncyAmIEFNRF9JU19BUFUpICYm
DQo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGFtZGdwdV9pcF92ZXJzaW9uKHNt
dS0+YWRldiwgTVAxX0hXSVAsIDApDQo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ID09IElQX1ZFUlNJT04oMTMsIDAsIDE0KSkgJiYNCj4gLSAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAoc211LT5zbWNfZndfdmVyc2lvbiA+PSAweDA1NTUwQjAwKTsNCj4gLQ0KPiAtICAg
ICAgIHBlcl9pbnN0ID0gYXB1X3Blcl9pbnN0IHx8IHNtdV8xM18wXzZfcGVyX2luc3QgfHwgc211
XzEzXzBfMTRfcGVyX2luc3Q7DQo+ICsgICAgICAgcGVyX2luc3QgPSBzbXVfdjEzXzBfNl9jYXBz
X3N1cHBvcnRlZChzbXUsDQo+ICsgU01VX0NBUFMoUEVSX0lOU1RfTUVUUklDUykpOw0KPg0KPiAg
ICAgICAgIGZvcl9lYWNoX3hjcChhZGV2LT54Y3BfbWdyLCB4Y3AsIGkpIHsNCj4gICAgICAgICAg
ICAgICAgIGFtZGdwdV94Y3BfZ2V0X2luc3RfZGV0YWlscyh4Y3AsIEFNREdQVV9YQ1BfVkNOLA0K
PiAmaW5zdF9tYXNrKTsgQEAgLTI1MTYsNyArMjYwNSw4IEBAIHN0YXRpYyBzc2l6ZV90IHNtdV92
MTNfMF82X2dldF9ncHVfbWV0cmljcyhzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgdm9pZCAqKnRh
YmxlDQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3B1X21ldHJpY3MtPnhjcF9z
dGF0c1tpXS5nZnhfYnVzeV9hY2NbaWR4XSA9DQo+DQo+IFNNVVExMF9ST1VORChtZXRyaWNzX3gt
PkdmeEJ1c3lBY2NbaW5zdF0pOw0KPg0KPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IGlmIChzbXVfdjEzXzBfNl9pc19ibHdfaG9zdF9saW1pdF9hdmFpbGFibGUoc211KSkNCj4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc211X3YxM18wXzZfY2Fwc19zdXBwb3J0
ZWQoDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc211LA0K
PiArIFNNVV9DQVBTKEhTVF9MSU1JVF9NRVRSSUNTKSkpDQo+ICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBncHVfbWV0cmljcy0+eGNwX3N0YXRzW2ldLmdmeF9iZWxvd19o
b3N0X2xpbWl0X2FjY1tpZHhdID0NCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgU01VUTEwX1JPVU5EKG1ldHJpY3NfeC0+R2Z4Y2xrQmVsb3dIb3N0TGlt
aXRBY2MNCj4NCj4gW2luc3RdKTsgQEAgLTI2MjQsNyArMjcxNCw3IEBAIHN0YXRpYyBpbnQgc211
X3YxM18wXzZfZ2V0X3RoZXJtYWxfdGVtcGVyYXR1cmVfcmFuZ2Uoc3RydWN0IHNtdV9jb250ZXh0
ICpzbXUsDQo+ICAgICAgICAgICAgICAgICByZXR1cm4gLUVJTlZBTDsNCj4NCj4gICAgICAgICAv
KkNoZWNrIHNtdSB2ZXJzaW9uLCBHZXRDdGZMaW1pdCBtZXNzYWdlIG9ubHkgc3VwcG9ydGVkIGZv
ciBzbXUgdmVyc2lvbiA4NS42OSBvciBoaWdoZXIgKi8NCj4gLSAgICAgICBpZiAoc211LT5zbWNf
ZndfdmVyc2lvbiA8IDB4NTU0NTAwKQ0KPiArICAgICAgIGlmICghc211X3YxM18wXzZfY2Fwc19z
dXBwb3J0ZWQoc211LCBTTVVfQ0FQUyhDVEZfTElNSVQpKSkNCj4gICAgICAgICAgICAgICAgIHJl
dHVybiAwOw0KPg0KPiAgICAgICAgIC8qIEdldCBTT0MgTWF4IG9wZXJhdGluZyB0ZW1wZXJhdHVy
ZSAqLyBAQCAtMjcyNiwxMSArMjgxNiwxMA0KPiBAQCBzdGF0aWMgaW50IHNtdV92MTNfMF82X3Nt
dV9zZW5kX2hibV9iYWRfcGFnZV9udW0oc3RydWN0IHNtdV9jb250ZXh0DQo+ICpzbXUsDQo+DQo+
ICBzdGF0aWMgaW50IHNtdV92MTNfMF82X3NlbmRfcm1hX3JlYXNvbihzdHJ1Y3Qgc211X2NvbnRl
eHQgKnNtdSkgIHsNCj4gLSAgICAgICBzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IHNtdS0+
YWRldjsNCj4gICAgICAgICBpbnQgcmV0Ow0KPg0KPiAgICAgICAgIC8qIE5PVEU6IHRoZSBtZXNz
YWdlIGlzIG9ubHkgdmFsaWQgb24gZEdQVSB3aXRoIHBtZncgODUuOTAuMCBhbmQgYWJvdmUgKi8N
Cj4gLSAgICAgICBpZiAoKGFkZXYtPmZsYWdzICYgQU1EX0lTX0FQVSkgfHwgc211LT5zbWNfZndf
dmVyc2lvbiA8IDB4MDA1NTVhMDApDQo+ICsgICAgICAgaWYgKCFzbXVfdjEzXzBfNl9jYXBzX3N1
cHBvcnRlZChzbXUsIFNNVV9DQVBTKFJNQV9NU0cpKSkNCj4gICAgICAgICAgICAgICAgIHJldHVy
biAwOw0KPg0KPiAgICAgICAgIHJldCA9IHNtdV9jbW5fc2VuZF9zbWNfbXNnKHNtdSwNCj4gU01V
X01TR19SbWFEdWVUb0JhZFBhZ2VUaHJlc2hvbGQsIE5VTEwpOyBAQCAtMjc1MCwxOCArMjgzOSwx
NyBAQCBzdGF0aWMgaW50IHNtdV92MTNfMF82X3Jlc2V0X3NkbWEoc3RydWN0IHNtdV9jb250ZXh0
ICpzbXUsIHVpbnQzMl90IGluc3RfbWFzaykNCj4gICAgICAgICBzbXVfcHJvZ3JhbSA9IChzbXUt
PnNtY19md192ZXJzaW9uID4+IDI0KSAmIDB4ZmY7DQo+ICAgICAgICAgc3dpdGNoIChhbWRncHVf
aXBfdmVyc2lvbihzbXUtPmFkZXYsIE1QMV9IV0lQLCAwKSkgew0KPiAgICAgICAgIGNhc2UgSVBf
VkVSU0lPTigxMywgMCwgNik6DQo+IC0gICAgICAgICAgICAgICBpZiAoKChzbXVfcHJvZ3JhbSA9
PSA3KSAmJiAoc211LT5zbWNfZndfdmVyc2lvbiA+IDB4MDc1NTA3MDApKSB8fA0KPiAtICAgICAg
ICAgICAgICAgICAgICAgICAoKHNtdV9wcm9ncmFtID09IDApICYmIChzbXUtPnNtY19md192ZXJz
aW9uID4gMHgwMDU1NzcwMCkpKQ0KPiArICAgICAgICAgICAgICAgaWYgKChzbXVfcHJvZ3JhbSA9
PSA3IHx8IHNtdV9wcm9ncmFtID09IDApICYmDQo+ICsgICAgICAgICAgICAgICAgICAgc211X3Yx
M18wXzZfY2Fwc19zdXBwb3J0ZWQoc211LA0KPiArIFNNVV9DQVBTKFNETUFfUkVTRVQpKSkNCj4g
ICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gc211X2Ntbl9zZW5kX3NtY19tc2dfd2l0aF9w
YXJhbShzbXUsDQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU01VX01TR19SZXNl
dFNETUEsIGluc3RfbWFzaywgTlVMTCk7DQo+ICAgICAgICAgICAgICAgICBlbHNlIGlmICgoc211
X3Byb2dyYW0gPT0gNCkgJiYNCj4gLSAgICAgICAgICAgICAgICAgICAgICAgKHNtdS0+c21jX2Z3
X3ZlcnNpb24gPiAweDQ1NTZlNmMpKQ0KPiArICAgICAgICAgICAgICAgICAgICAgICAgc211X3Yx
M18wXzZfY2Fwc19zdXBwb3J0ZWQoc211LA0KPiArIFNNVV9DQVBTKFNETUFfUkVTRVQpKSkNCj4g
ICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gc211X2Ntbl9zZW5kX3NtY19tc2dfd2l0aF9w
YXJhbShzbXUsDQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU01VX01T
R19SZXNldFNETUEyLCBpbnN0X21hc2ssIE5VTEwpOw0KPiAgICAgICAgICAgICAgICAgYnJlYWs7
DQo+ICAgICAgICAgY2FzZSBJUF9WRVJTSU9OKDEzLCAwLCAxNCk6DQo+IC0gICAgICAgICAgICAg
ICBpZiAoKHNtdV9wcm9ncmFtID09IDUpICYmDQo+IC0gICAgICAgICAgICAgICAgICAgICAgIChz
bXUtPnNtY19md192ZXJzaW9uID4gMHgwNTU1MGYwMCkpDQo+ICsgICAgICAgICAgICAgICBpZiAo
c211X3YxM18wXzZfY2Fwc19zdXBwb3J0ZWQoc211LA0KPiArIFNNVV9DQVBTKFNETUFfUkVTRVQp
KSkNCj4gICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gc211X2Ntbl9zZW5kX3NtY19tc2df
d2l0aF9wYXJhbShzbXUsDQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
U01VX01TR19SZXNldFNETUEyLCBpbnN0X21hc2ssIE5VTEwpOw0KPiAgICAgICAgICAgICAgICAg
YnJlYWs7DQo+IEBAIC0zMDg3LDcgKzMxNzUsNyBAQCBzdGF0aWMgYm9vbCBtY2Ffc211X2Jhbmtf
aXNfdmFsaWQoY29uc3Qgc3RydWN0IG1jYV9yYXNfaW5mbyAqbWNhX3Jhcywgc3RydWN0IGFtZA0K
PiAgICAgICAgIGlmIChpbnN0bG8gIT0gMHgwM2IzMDQwMCkNCj4gICAgICAgICAgICAgICAgIHJl
dHVybiBmYWxzZTsNCj4NCj4gLSAgICAgICBpZiAoIShhZGV2LT5mbGFncyAmIEFNRF9JU19BUFUp
ICYmIHNtdS0+c21jX2Z3X3ZlcnNpb24gPj0gMHgwMDU1NTYwMCkgew0KPiArICAgICAgIGlmIChz
bXVfdjEzXzBfNl9jYXBzX3N1cHBvcnRlZChzbXUsIFNNVV9DQVBTKEFDQV9TWU5EKSkpIHsNCj4g
ICAgICAgICAgICAgICAgIGVycmNvZGUgPSBNQ0FfUkVHX19TWU5EX19FUlJPUklORk9STUFUSU9O
KGVudHJ5LT5yZWdzW01DQV9SRUdfSURYX1NZTkRdKTsNCj4gICAgICAgICAgICAgICAgIGVycmNv
ZGUgJj0gMHhmZjsNCj4gICAgICAgICB9IGVsc2Ugew0KPiBAQCAtMzM3Myw5ICszNDYxLDEwIEBA
IHN0YXRpYyBpbnQgYWNhX3NtdV9nZXRfdmFsaWRfYWNhX2Jhbmsoc3RydWN0DQo+IGFtZGdwdV9k
ZXZpY2UgKmFkZXYsDQo+DQo+ICBzdGF0aWMgaW50IGFjYV9zbXVfcGFyc2VfZXJyb3JfY29kZShz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gc3RydWN0IGFjYV9iYW5rICpiYW5rKSAgew0K
PiArICAgICAgIHN0cnVjdCBzbXVfY29udGV4dCAqc211ID0gYWRldi0+cG93ZXJwbGF5LnBwX2hh
bmRsZTsNCj4gICAgICAgICBpbnQgZXJyb3JfY29kZTsNCj4NCj4gLSAgICAgICBpZiAoIShhZGV2
LT5mbGFncyAmIEFNRF9JU19BUFUpICYmIGFkZXYtPnBtLmZ3X3ZlcnNpb24gPj0gMHgwMDU1NTYw
MCkNCj4gKyAgICAgICBpZiAoc211X3YxM18wXzZfY2Fwc19zdXBwb3J0ZWQoc211LCBTTVVfQ0FQ
UyhBQ0FfU1lORCkpKQ0KPiAgICAgICAgICAgICAgICAgZXJyb3JfY29kZSA9IEFDQV9SRUdfX1NZ
TkRfX0VSUk9SSU5GT1JNQVRJT04oYmFuay0+cmVnc1tBQ0FfUkVHX0lEWF9TWU5EXSk7DQo+ICAg
ICAgICAgZWxzZQ0KPiAgICAgICAgICAgICAgICAgZXJyb3JfY29kZSA9DQo+IEFDQV9SRUdfX1NU
QVRVU19fRVJST1JDT0RFKGJhbmstPnJlZ3NbQUNBX1JFR19JRFhfU1RBVFVTXSk7DQo+IEBAIC0z
NDEzLDcgKzM1MDIsNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IHBwdGFibGVfZnVuY3Mgc211X3Yx
M18wXzZfcHB0X2Z1bmNzID0gew0KPiAgICAgICAgIC5maW5pX3Bvd2VyID0gc211X3YxM18wX2Zp
bmlfcG93ZXIsDQo+ICAgICAgICAgLmNoZWNrX2Z3X3N0YXR1cyA9IHNtdV92MTNfMF82X2NoZWNr
X2Z3X3N0YXR1cywNCj4gICAgICAgICAvKiBwcHRhYmxlIHJlbGF0ZWQgKi8NCj4gLSAgICAgICAu
Y2hlY2tfZndfdmVyc2lvbiA9IHNtdV92MTNfMF9jaGVja19md192ZXJzaW9uLA0KPiArICAgICAg
IC5jaGVja19md192ZXJzaW9uID0gc211X3YxM18wXzZfY2hlY2tfZndfdmVyc2lvbiwNCj4gICAg
ICAgICAuc2V0X2RyaXZlcl90YWJsZV9sb2NhdGlvbiA9IHNtdV92MTNfMF9zZXRfZHJpdmVyX3Rh
YmxlX2xvY2F0aW9uLA0KPiAgICAgICAgIC5zZXRfdG9vbF90YWJsZV9sb2NhdGlvbiA9IHNtdV92
MTNfMF9zZXRfdG9vbF90YWJsZV9sb2NhdGlvbiwNCj4gICAgICAgICAubm90aWZ5X21lbW9yeV9w
b29sX2xvY2F0aW9uID0NCj4gc211X3YxM18wX25vdGlmeV9tZW1vcnlfcG9vbF9sb2NhdGlvbiwN
Cj4gLS0NCj4gMi4yNS4xDQo+DQo=
