Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 72A7B7E41A
	for <lists+amd-gfx@lfdr.de>; Thu,  1 Aug 2019 22:30:12 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A38986E7BE;
	Thu,  1 Aug 2019 20:30:10 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-qt1-x844.google.com (mail-qt1-x844.google.com
 [IPv6:2607:f8b0:4864:20::844])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D14BA6E7B5
 for <amd-gfx@lists.freedesktop.org>; Thu,  1 Aug 2019 20:30:08 +0000 (UTC)
Received: by mail-qt1-x844.google.com with SMTP id x22so66741041qtp.12
 for <amd-gfx@lists.freedesktop.org>; Thu, 01 Aug 2019 13:30:08 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=GDtpLSdOXNv+gmW8q14vHebPkyDEHeBy2/gR5rzb6hU=;
 b=R/z8g6RpTrtjGzcPAnJdfAERlrH9CWlmbbr0w6dI3b/FME+YZEQtFBnlG6WxhqKjbH
 yE2ou3c483+LBtqryOIMMUE9QadNuFPNT4N9stMpth9k3cm8sIbg70tGCQ+vhG4+WKSL
 PLMhruwLiAG3/ym3P9VX+tTnYT+LPnbLf5v4CyuVBkXFSjoQAVhGZ6QEDoUrXgzwdl+7
 gCLbE5MbSpE0IhWDpCiNNgrAw0VXBwpyYbd9y/GTY2DuQpxMYdfYWVatJomxP7OYpR/W
 fIrKXd0ZlrB3p9vuSMUPAjE6Noqjg9EhL/vM6SMAyQ4n07QHcO/hwzktN181Uw6hJaMq
 wf4g==
X-Gm-Message-State: APjAAAUirqhxbIy2VF//8c/9gLkNe1JX6QFhbF2QcjKiz/hP8IfKrOeT
 pRNwRDEWGOdnJJHL3jF1EJ2aIUmY
X-Google-Smtp-Source: APXvYqwrgp0RrARhnJfGwaGQ5L/D8cxpADBwRBz5OHX7yLTcMcuQSW9pizs1Rhj0Vu7/kY/yQohRiw==
X-Received: by 2002:ac8:2b62:: with SMTP id 31mr93172620qtv.140.1564691407659; 
 Thu, 01 Aug 2019 13:30:07 -0700 (PDT)
Received: from localhost.localdomain ([71.219.6.100])
 by smtp.gmail.com with ESMTPSA id c20sm25129315qkk.69.2019.08.01.13.30.06
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Thu, 01 Aug 2019 13:30:07 -0700 (PDT)
From: Alex Deucher <alexdeucher@gmail.com>
X-Google-Original-From: Alex Deucher <alexander.deucher@amd.com>
To: amd-gfx@lists.freedesktop.org
Subject: [PATCH 02/36] drm/amdgpu: initialize reg base for navi12
Date: Thu,  1 Aug 2019 15:29:23 -0500
Message-Id: <20190801202957.29791-3-alexander.deucher@amd.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190801202957.29791-1-alexander.deucher@amd.com>
References: <20190801202957.29791-1-alexander.deucher@amd.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=GDtpLSdOXNv+gmW8q14vHebPkyDEHeBy2/gR5rzb6hU=;
 b=LaBoDinTHwBr56cMesOFnkd9uYG3lyY506qK+XcKwE7Q/YwkwTh6hNN/WdnARDGULh
 Xt9Bj7U0dr2i+H0k1ZrLy2LxfGyMvNMxWQExs6uWHN7QqEXD+95Ys9XuYhUCGpouphep
 sOpvB/Z3XmRoEdG8FYA9wQTP4sluF4UuQimuo08j0z4gH8Uj3s0p/G1KBMr6sipKFm0Q
 Pt/0xK4yJYP273xX5zlm+l2/X3Ln+gbs9705yWf24JDcBWUAi07GpyB7M0rJea6aaM95
 +AqzCF5t2V8xSD7txm9M+Tvpkq6nwH+LCUwQQ0I1p0juMtkhftBd5b8taiSe8aHTPROm
 MGMg==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Alex Deucher <alexander.deucher@amd.com>,
 Hawking Zhang <Hawking.Zhang@amd.com>, Xiaojie Yuan <xiaojie.yuan@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogWGlhb2ppZSBZdWFuIDx4aWFvamllLnl1YW5AYW1kLmNvbT4KClNldCB1cCB0aGUgcmVn
aXN0ZXIgb2Zmc2V0IG1hcCBmb3IgbmF2aTEyLgoKU2lnbmVkLW9mZi1ieTogWGlhb2ppZSBZdWFu
IDx4aWFvamllLnl1YW5AYW1kLmNvbT4KUmV2aWV3ZWQtYnk6IEhhd2tpbmcgWmhhbmcgPEhhd2tp
bmcuWmhhbmdAYW1kLmNvbT4KU2lnbmVkLW9mZi1ieTogQWxleCBEZXVjaGVyIDxhbGV4YW5kZXIu
ZGV1Y2hlckBhbWQuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L01ha2VmaWxl
ICAgICAgICAgIHwgIDIgKy0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L25hdmkxMl9yZWdf
aW5pdC5jIHwgNTMgKysrKysrKysrKysrKysrKysrKysKIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L252LmMgICAgICAgICAgICAgIHwgIDMgKysKIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L252LmggICAgICAgICAgICAgIHwgIDEgKwogNCBmaWxlcyBjaGFuZ2VkLCA1OCBpbnNlcnRpb25z
KCspLCAxIGRlbGV0aW9uKC0pCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvbmF2aTEyX3JlZ19pbml0LmMKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9NYWtlZmlsZSBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L01ha2VmaWxl
CmluZGV4IGNjMzhhNjgzNjgyNS4uOGFmYTBiY2ViNDYwIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9NYWtlZmlsZQorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9NYWtlZmlsZQpAQCAtNjcsNyArNjcsNyBAQCBhbWRncHUtJChDT05GSUdfRFJNX0FNREdQVV9T
SSkrPSBzaS5vIGdtY192Nl8wLm8gZ2Z4X3Y2XzAubyBzaV9paC5vIHNpX2RtYS5vIGRjZQogYW1k
Z3B1LXkgKz0gXAogCXZpLm8gbXhncHVfdmkubyBuYmlvX3Y2XzEubyBzb2MxNS5vIGVtdV9zb2Mu
byBteGdwdV9haS5vIG5iaW9fdjdfMC5vIHZlZ2ExMF9yZWdfaW5pdC5vIFwKIAl2ZWdhMjBfcmVn
X2luaXQubyBuYmlvX3Y3XzQubyBuYmlvX3YyXzMubyBudi5vIG5hdmkxMF9yZWdfaW5pdC5vIG5h
dmkxNF9yZWdfaW5pdC5vIFwKLQlhcmN0X3JlZ19pbml0Lm8KKwlhcmN0X3JlZ19pbml0Lm8gbmF2
aTEyX3JlZ19pbml0Lm8KIAogIyBhZGQgREYgYmxvY2sKIGFtZGdwdS15ICs9IFwKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L25hdmkxMl9yZWdfaW5pdC5jIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvbmF2aTEyX3JlZ19pbml0LmMKbmV3IGZpbGUgbW9kZSAxMDA2
NDQKaW5kZXggMDAwMDAwMDAwMDAwLi5jYWRjNzYwM2NhNDEKLS0tIC9kZXYvbnVsbAorKysgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9uYXZpMTJfcmVnX2luaXQuYwpAQCAtMCwwICsxLDUz
IEBACisvKgorICogQ29weXJpZ2h0IDIwMTggQWR2YW5jZWQgTWljcm8gRGV2aWNlcywgSW5jLgor
ICoKKyAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBh
bnkgcGVyc29uIG9idGFpbmluZyBhCisgKiBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29j
aWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLAorICogdG8gZGVhbCBp
biB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGlt
aXRhdGlvbgorICogdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxp
c2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsCisgKiBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhl
IFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUKKyAqIFNvZnR3YXJl
IGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlv
bnM6CisgKgorICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lv
biBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4KKyAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRp
YWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgorICoKKyAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9W
SURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCisg
KiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9G
IE1FUkNIQU5UQUJJTElUWSwKKyAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFO
RCBOT05JTkZSSU5HRU1FTlQuICBJTiBOTyBFVkVOVCBTSEFMTAorICogVEhFIENPUFlSSUdIVCBI
T0xERVIoUykgT1IgQVVUSE9SKFMpIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9S
CisgKiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBU
T1JUIE9SIE9USEVSV0lTRSwKKyAqIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJ
T04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUgorICogT1RIRVIgREVBTElOR1MgSU4g
VEhFIFNPRlRXQVJFLgorICoKKyAqLworI2luY2x1ZGUgImFtZGdwdS5oIgorI2luY2x1ZGUgIm52
LmgiCisKKyNpbmNsdWRlICJzb2MxNV9jb21tb24uaCIKKyNpbmNsdWRlICJzb2MxNV9od19pcC5o
IgorI2luY2x1ZGUgIm5hdmkxMl9pcF9vZmZzZXQuaCIKKworaW50IG5hdmkxMl9yZWdfYmFzZV9p
bml0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQoreworCS8qIEhXIGhhcyBtb3JlIElQIGJs
b2NrcywgIG9ubHkgaW5pdGlhbGl6ZWQgdGhlIGJsb2NrcyBuZWVkZWQgYnkgZHJpdmVyICovCisJ
dWludDMyX3QgaTsKKwlmb3IgKGkgPSAwIDsgaSA8IE1BWF9JTlNUQU5DRSA7ICsraSkgeworCQlh
ZGV2LT5yZWdfb2Zmc2V0W0dDX0hXSVBdW2ldID0gKHVpbnQzMl90ICopKCYoR0NfQkFTRS5pbnN0
YW5jZVtpXSkpOworCQlhZGV2LT5yZWdfb2Zmc2V0W0hEUF9IV0lQXVtpXSA9ICh1aW50MzJfdCAq
KSgmKEhEUF9CQVNFLmluc3RhbmNlW2ldKSk7CisJCWFkZXYtPnJlZ19vZmZzZXRbTU1IVUJfSFdJ
UF1baV0gPSAodWludDMyX3QgKikoJihNTUhVQl9CQVNFLmluc3RhbmNlW2ldKSk7CisJCWFkZXYt
PnJlZ19vZmZzZXRbQVRIVUJfSFdJUF1baV0gPSAodWludDMyX3QgKikoJihBVEhVQl9CQVNFLmlu
c3RhbmNlW2ldKSk7CisJCWFkZXYtPnJlZ19vZmZzZXRbTkJJT19IV0lQXVtpXSA9ICh1aW50MzJf
dCAqKSgmKE5CSUYwX0JBU0UuaW5zdGFuY2VbaV0pKTsKKwkJYWRldi0+cmVnX29mZnNldFtNUDBf
SFdJUF1baV0gPSAodWludDMyX3QgKikoJihNUDBfQkFTRS5pbnN0YW5jZVtpXSkpOworCQlhZGV2
LT5yZWdfb2Zmc2V0W01QMV9IV0lQXVtpXSA9ICh1aW50MzJfdCAqKSgmKE1QMV9CQVNFLmluc3Rh
bmNlW2ldKSk7CisJCWFkZXYtPnJlZ19vZmZzZXRbVkNOX0hXSVBdW2ldID0gKHVpbnQzMl90ICop
KCYoVVZEMF9CQVNFLmluc3RhbmNlW2ldKSk7CisJCWFkZXYtPnJlZ19vZmZzZXRbREZfSFdJUF1b
aV0gPSAodWludDMyX3QgKikoJihERl9CQVNFLmluc3RhbmNlW2ldKSk7CisJCWFkZXYtPnJlZ19v
ZmZzZXRbRENFX0hXSVBdW2ldID0gKHVpbnQzMl90ICopKCYoRE1VX0JBU0UuaW5zdGFuY2VbaV0p
KTsKKwkJYWRldi0+cmVnX29mZnNldFtPU1NTWVNfSFdJUF1baV0gPSAodWludDMyX3QgKikoJihP
U1NTWVNfQkFTRS5pbnN0YW5jZVtpXSkpOworCQlhZGV2LT5yZWdfb2Zmc2V0W1NETUEwX0hXSVBd
W2ldID0gKHVpbnQzMl90ICopKCYoR0NfQkFTRS5pbnN0YW5jZVtpXSkpOworCQlhZGV2LT5yZWdf
b2Zmc2V0W1NETUExX0hXSVBdW2ldID0gKHVpbnQzMl90ICopKCYoR0NfQkFTRS5pbnN0YW5jZVtp
XSkpOworCQlhZGV2LT5yZWdfb2Zmc2V0W1NNVUlPX0hXSVBdW2ldID0gKHVpbnQzMl90ICopKCYo
U01VSU9fQkFTRS5pbnN0YW5jZVtpXSkpOworCQlhZGV2LT5yZWdfb2Zmc2V0W1RITV9IV0lQXVtp
XSA9ICh1aW50MzJfdCAqKSgmKFRITV9CQVNFLmluc3RhbmNlW2ldKSk7CisJCWFkZXYtPnJlZ19v
ZmZzZXRbQ0xLX0hXSVBdW2ldID0gKHVpbnQzMl90ICopKCYoQ0xLX0JBU0UuaW5zdGFuY2VbaV0p
KTsKKwl9CisJcmV0dXJuIDA7Cit9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9udi5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvbnYuYwppbmRleCBiZjRjYmNk
ZWVmNzguLjFlMDg1MmMyOGM5MyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvbnYuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9udi5jCkBAIC0zODUsNiAr
Mzg1LDkgQEAgaW50IG52X3NldF9pcF9ibG9ja3Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYp
CiAJY2FzZSBDSElQX05BVkkxNDoKIAkJbmF2aTE0X3JlZ19iYXNlX2luaXQoYWRldik7CiAJCWJy
ZWFrOworCWNhc2UgQ0hJUF9OQVZJMTI6CisJCW5hdmkxMl9yZWdfYmFzZV9pbml0KGFkZXYpOwor
CQlicmVhazsKIAlkZWZhdWx0OgogCQlyZXR1cm4gLUVJTlZBTDsKIAl9CmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9udi5oIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvbnYuaAppbmRleCAzMzJkNWNkYzMwOGUuLjgyZTZjYjQzMmYzZCAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvbnYuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9udi5oCkBAIC0zMSw0ICszMSw1IEBAIHZvaWQgbnZfZ3JibV9zZWxlY3Qoc3RydWN0IGFt
ZGdwdV9kZXZpY2UgKmFkZXYsCiBpbnQgbnZfc2V0X2lwX2Jsb2NrcyhzdHJ1Y3QgYW1kZ3B1X2Rl
dmljZSAqYWRldik7CiBpbnQgbmF2aTEwX3JlZ19iYXNlX2luaXQoc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYpOwogaW50IG5hdmkxNF9yZWdfYmFzZV9pbml0KHN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2KTsKK2ludCBuYXZpMTJfcmVnX2Jhc2VfaW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldik7CiAjZW5kaWYKLS0gCjIuMjAuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVl
ZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5m
by9hbWQtZ2Z4
