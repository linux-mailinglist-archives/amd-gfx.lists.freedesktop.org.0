Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 2464D8DE34
	for <lists+amd-gfx@lfdr.de>; Wed, 14 Aug 2019 22:01:43 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 2014A6E826;
	Wed, 14 Aug 2019 20:01:41 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-wm1-x342.google.com (mail-wm1-x342.google.com
 [IPv6:2a00:1450:4864:20::342])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E297E6E825
 for <amd-gfx@lists.freedesktop.org>; Wed, 14 Aug 2019 20:01:38 +0000 (UTC)
Received: by mail-wm1-x342.google.com with SMTP id v19so326197wmj.5
 for <amd-gfx@lists.freedesktop.org>; Wed, 14 Aug 2019 13:01:38 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=lM+k1n+yuEz7tAIkjX3iSszTrSdx6dOrbNGFdGKwnJs=;
 b=cZAMHkgHKnyVh/SWgwFayXqlt21XEVvRaXWfSChHIFAlfL1T4ktM2qeso48IFXHrl3
 Fhxn0yqx0aXleWwRmUgOWuTmVFkOxZBwo+FUH//nd6aJZ1m/GVXKfQGJRydj01O/I1c4
 SrZUgkXUnzlf8U8h8A+F7SsmfCdP/lalsHtf5v1noQE8GorVwjzg8D0RyqaLzml7P0pS
 yfazEuikGZ3sg0wO04OKJ3el+9PE8mRi5DXjN1ozx7NaPXdRLgHxYbL+6Mm1iPGYUQXl
 5gyuD6/Z0ZRDslyGEBFUqdw2xumk5aUDxjkJm8w0radqW1qqTyIBPJu7rW3tYC+0iZfC
 r0Vg==
X-Gm-Message-State: APjAAAVdJb0lW3+tBiQdoAxmfsTjZZtgBWCTLUqEAVYHpFf0KRrkPe27
 wFu3emcpFgSm+Mmv2cmcMKaQnJuNulvj9bRGXtNc5fiC
X-Google-Smtp-Source: APXvYqzz9+2zmZVl7GspM5HllluAq4ew1TRn+jqsf4kHwPqhg7zadqpXtLMiStD8mMTCsPCdYbsfEjdhf1yMJuB74dM=
X-Received: by 2002:a05:600c:352:: with SMTP id
 u18mr690031wmd.141.1565812897379; 
 Wed, 14 Aug 2019 13:01:37 -0700 (PDT)
MIME-Version: 1.0
References: <1565812414-26117-1-git-send-email-andrey.grodzovsky@amd.com>
 <1565812414-26117-3-git-send-email-andrey.grodzovsky@amd.com>
In-Reply-To: <1565812414-26117-3-git-send-email-andrey.grodzovsky@amd.com>
From: Alex Deucher <alexdeucher@gmail.com>
Date: Wed, 14 Aug 2019 16:01:25 -0400
Message-ID: <CADnq5_N2K6u3BTiOkFN2DA2J5D_pNj8wsyrZ1ywWvEWx-X8hNw@mail.gmail.com>
Subject: Re: [PATCH 2/3] drm/amd/powerplay: Add support for mode2 ASIC reset.
To: Andrey Grodzovsky <andrey.grodzovsky@amd.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=lM+k1n+yuEz7tAIkjX3iSszTrSdx6dOrbNGFdGKwnJs=;
 b=WCCAaD2JhHepBRueo6DZos2eeqsT2opUU5sAtlntov6aWANRBgt+7ZvmZSkKqbmuDq
 PKO3KMESSvSIixhr0JdGKlhN89vckMzmdR4dQlj6moNElD6p1E5r1KSewRZJapVFK/kn
 BViRnh4B3obTReg2U71mKpk11HXxIFkuaNXmiFbW+1K3D3KHboznAWwYxPTq10TwCdrU
 wZqIzgGXESRsz8VpPF0UHUaY71XGbjYUngu1smzSUMueT8KD54qTMLPvajZMzTIdSrh+
 Kk2meXhHlGUlYXU+3Ml1zC373mOXQix4bmrw1X43nIhhrjcXGu5MceeXHr8qZ1E6VkLX
 QYkA==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Deucher, Alexander" <Alexander.Deucher@amd.com>, "Quan,
 Evan" <evan.quan@amd.com>, amd-gfx list <amd-gfx@lists.freedesktop.org>, "S,
 Shirish" <Shirish.S@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

T24gV2VkLCBBdWcgMTQsIDIwMTkgYXQgMzo1NCBQTSBBbmRyZXkgR3JvZHpvdnNreQo8YW5kcmV5
Lmdyb2R6b3Zza3lAYW1kLmNvbT4gd3JvdGU6Cj4KPiBNb2RlIDIgR1BVIHJlc2V0IHNob3VsZCBi
ZSBkb25lIGJ5IHNlbmRpbmcgbWVzc2FnZSB0byBTTVUuCj4KPiBTaWduZWQtb2ZmLWJ5OiBBbmRy
ZXkgR3JvZHpvdnNreSA8YW5kcmV5Lmdyb2R6b3Zza3lAYW1kLmNvbT4KCkkgdGhpbmsgdGhpcyBz
aG91bGQgYmUgMyBwYXRjaGVzOgoxLiBhZGQgdGhlIHBwX3NtdW1ncl9mdW5jIGNhbGxiYWNrCjIu
IGFkZCB0aGUgc211MTAgaW1wbGVtZW50YXRpb24KMy4gYWRkIHRoZSBhbWRfcG1fZnVuY3MgaW1w
bGVtZW50YXRpb24KCkFsc28gYSBjb3VwbGUgb2YgdHlwb3MgYmVsb3cuCgo+IC0tLQo+ICBkcml2
ZXJzL2dwdS9kcm0vYW1kL2luY2x1ZGUva2dkX3BwX2ludGVyZmFjZS5oICAgIHwgIDEgKwo+ICBk
cml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9hbWRfcG93ZXJwbGF5LmMgICAgIHwgMjEgKysr
KysrKysrKysrKysrKysrKysrCj4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2h3bWdy
L3NtdTEwX2h3bWdyLmMgfCAgNyArKysrKysrCj4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJw
bGF5L2luYy9od21nci5oICAgICAgICAgfCAgOSArKysrKysrKysKPiAgNCBmaWxlcyBjaGFuZ2Vk
LCAzOCBpbnNlcnRpb25zKCspCj4KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9p
bmNsdWRlL2tnZF9wcF9pbnRlcmZhY2UuaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvaW5jbHVkZS9r
Z2RfcHBfaW50ZXJmYWNlLmgKPiBpbmRleCBiYmExMjkxLi45YzQ3N2I0IDEwMDY0NAo+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvaW5jbHVkZS9rZ2RfcHBfaW50ZXJmYWNlLmgKPiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2luY2x1ZGUva2dkX3BwX2ludGVyZmFjZS5oCj4gQEAgLTMxMCw2
ICszMTAsNyBAQCBzdHJ1Y3QgYW1kX3BtX2Z1bmNzIHsKPiAgICAgICAgIGludCAoKnNldF9hc2lj
X2JhY29fc3RhdGUpKHZvaWQgKmhhbmRsZSwgaW50IHN0YXRlKTsKPiAgICAgICAgIGludCAoKmdl
dF9wcGZlYXR1cmVfc3RhdHVzKSh2b2lkICpoYW5kbGUsIGNoYXIgKmJ1Zik7Cj4gICAgICAgICBp
bnQgKCpzZXRfcHBmZWF0dXJlX3N0YXR1cykodm9pZCAqaGFuZGxlLCB1aW50NjRfdCBwcGZlYXR1
cmVfbWFza3MpOwo+ICsgICAgICAgaW50ICgqYXNpY19yZXNldF9tb2RfMikodm9pZCAqaGFuZGxl
KTsKCnR5cG86IG1vZCAtPiBtb2RlCgo+ICB9Owo+Cj4gICNlbmRpZgo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9hbWRfcG93ZXJwbGF5LmMgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL3Bvd2VycGxheS9hbWRfcG93ZXJwbGF5LmMKPiBpbmRleCAyZTNkOWVmNi4uYmVj
Y2E3NiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9hbWRfcG93
ZXJwbGF5LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9hbWRfcG93ZXJw
bGF5LmMKPiBAQCAtMTUwOCw2ICsxNTA4LDI2IEBAIHN0YXRpYyBpbnQgcHBfc2V0X3BwZmVhdHVy
ZV9zdGF0dXModm9pZCAqaGFuZGxlLCB1aW50NjRfdCBwcGZlYXR1cmVfbWFza3MpCj4gICAgICAg
ICByZXR1cm4gcmV0Owo+ICB9Cj4KPiArc3RhdGljIGludCBwcF9hc2ljX3Jlc2V0X21vZGVfMih2
b2lkICpoYW5kbGUpCj4gK3sKPiArICAgICAgIHN0cnVjdCBwcF9od21nciAqaHdtZ3IgPSBoYW5k
bGU7Cj4gKyAgICAgICAgICAgICAgIGludCByZXQgPSAwOwo+ICsKPiArICAgICAgIGlmICghaHdt
Z3IgfHwgIWh3bWdyLT5wbV9lbikKPiArICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7Cj4g
Kwo+ICsgICAgICAgaWYgKGh3bWdyLT5od21ncl9mdW5jLT5hc2ljX3Jlc2V0ID09IE5VTEwpIHsK
PiArICAgICAgICAgICAgICAgcHJfaW5mb19yYXRlbGltaXRlZCgiJXMgd2FzIG5vdCBpbXBsZW1l
bnRlZC5cbiIsIF9fZnVuY19fKTsKPiArICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7Cj4g
KyAgICAgICB9Cj4gKwo+ICsgICAgICAgbXV0ZXhfbG9jaygmaHdtZ3ItPnNtdV9sb2NrKTsKPiAr
ICAgICAgIHJldCA9IGh3bWdyLT5od21ncl9mdW5jLT5hc2ljX3Jlc2V0KGh3bWdyLCBTTVVfQVND
SV9SRVNFVF9NT0RFXzIpOwo+ICsgICAgICAgbXV0ZXhfdW5sb2NrKCZod21nci0+c211X2xvY2sp
Owo+ICsKPiArICAgICAgIHJldHVybiByZXQ7Cj4gK30KPiArCj4gIHN0YXRpYyBjb25zdCBzdHJ1
Y3QgYW1kX3BtX2Z1bmNzIHBwX2RwbV9mdW5jcyA9IHsKPiAgICAgICAgIC5sb2FkX2Zpcm13YXJl
ID0gcHBfZHBtX2xvYWRfZncsCj4gICAgICAgICAud2FpdF9mb3JfZndfbG9hZGluZ19jb21wbGV0
ZSA9IHBwX2RwbV9md19sb2FkaW5nX2NvbXBsZXRlLAo+IEBAIC0xNTY0LDQgKzE1ODQsNSBAQCBz
dGF0aWMgY29uc3Qgc3RydWN0IGFtZF9wbV9mdW5jcyBwcF9kcG1fZnVuY3MgPSB7Cj4gICAgICAg
ICAuc2V0X2FzaWNfYmFjb19zdGF0ZSA9IHBwX3NldF9hc2ljX2JhY29fc3RhdGUsCj4gICAgICAg
ICAuZ2V0X3BwZmVhdHVyZV9zdGF0dXMgPSBwcF9nZXRfcHBmZWF0dXJlX3N0YXR1cywKPiAgICAg
ICAgIC5zZXRfcHBmZWF0dXJlX3N0YXR1cyA9IHBwX3NldF9wcGZlYXR1cmVfc3RhdHVzLAo+ICsg
ICAgICAgLmFzaWNfcmVzZXRfbW9kXzIgPSBwcF9hc2ljX3Jlc2V0X21vZGVfMiwKPiAgfTsKPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaHdtZ3Ivc211MTBfaHdt
Z3IuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2h3bWdyL3NtdTEwX2h3bWdyLmMK
PiBpbmRleCAxOGU3ODBmLi4xMTE1NzYxIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9h
bWQvcG93ZXJwbGF5L2h3bWdyL3NtdTEwX2h3bWdyLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
YW1kL3Bvd2VycGxheS9od21nci9zbXUxMF9od21nci5jCj4gQEAgLTEzMTEsNiArMTMxMSwxMiBA
QCBzdGF0aWMgaW50IHNtdTEwX3NldF9wb3dlcl9wcm9maWxlX21vZGUoc3RydWN0IHBwX2h3bWdy
ICpod21nciwgbG9uZyAqaW5wdXQsIHVpbgo+ICAgICAgICAgcmV0dXJuIDA7Cj4gIH0KPgo+ICtz
dGF0aWMgaW50IHNtdTEwX2FzaWNfcmVzZXQoc3RydWN0IHBwX2h3bWdyICpod21nciwgZW51bSBT
TVVfQVNJQ19SRVNFVF9NT0RFIG1vZGUpCj4gK3sKPiArICAgICAgIHJldHVybiBzbXVtX3NlbmRf
bXNnX3RvX3NtY193aXRoX3BhcmFtZXRlcihod21nciwKPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQUFNNQ19NU0dfRGV2aWNlRHJpdmVyUmVzZXQs
Cj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9k
ZSk7Cj4gK30KPgo+ICBzdGF0aWMgY29uc3Qgc3RydWN0IHBwX2h3bWdyX2Z1bmMgc211MTBfaHdt
Z3JfZnVuY3MgPSB7Cj4gICAgICAgICAuYmFja2VuZF9pbml0ID0gc211MTBfaHdtZ3JfYmFja2Vu
ZF9pbml0LAo+IEBAIC0xMzU1LDYgKzEzNjEsNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IHBwX2h3
bWdyX2Z1bmMgc211MTBfaHdtZ3JfZnVuY3MgPSB7Cj4gICAgICAgICAuc2V0X2hhcmRfbWluX2Zj
bGtfYnlfZnJlcSA9IHNtdTEwX3NldF9oYXJkX21pbl9mY2xrX2J5X2ZyZXEsCj4gICAgICAgICAu
Z2V0X3Bvd2VyX3Byb2ZpbGVfbW9kZSA9IHNtdTEwX2dldF9wb3dlcl9wcm9maWxlX21vZGUsCj4g
ICAgICAgICAuc2V0X3Bvd2VyX3Byb2ZpbGVfbW9kZSA9IHNtdTEwX3NldF9wb3dlcl9wcm9maWxl
X21vZGUsCj4gKyAgICAgICAuYXNpY19yZXNldCA9IHNtdTEwX2FzaWNfcmVzZXQsCj4gIH07Cj4K
PiAgaW50IHNtdTEwX2luaXRfZnVuY3Rpb25fcG9pbnRlcnMoc3RydWN0IHBwX2h3bWdyICpod21n
cikKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaW5jL2h3bWdy
LmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvaHdtZ3IuaAo+IGluZGV4IDA3
ZmQ2NGEuLmQ1ODM1NjggMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBs
YXkvaW5jL2h3bWdyLmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMv
aHdtZ3IuaAo+IEBAIC0xODksNiArMTg5LDE0IEBAIHN0cnVjdCBwaG1fdmNlX2Nsb2NrX3ZvbHRh
Z2VfZGVwZW5kZW5jeV90YWJsZSB7Cj4gICAgICAgICBzdHJ1Y3QgcGhtX3ZjZV9jbG9ja192b2x0
YWdlX2RlcGVuZGVuY3lfcmVjb3JkIGVudHJpZXNbMV07Cj4gIH07Cj4KPiArCj4gK2VudW0gU01V
X0FTSUNfUkVTRVRfTU9ERQo+ICt7Cj4gKyAgICBTTVVfQVNDSV9SRVNFVF9NT0RFXzAsCj4gKyAg
ICBTTVVfQVNDSV9SRVNFVF9NT0RFXzEsCj4gKyAgICBTTVVfQVNDSV9SRVNFVF9NT0RFXzIsCgp0
eXBvOiBBU0NJIC0+IEFTSUMKCj4gK307Cj4gKwo+ICBzdHJ1Y3QgcHBfc211bWdyX2Z1bmMgewo+
ICAgICAgICAgY2hhciAqbmFtZTsKPiAgICAgICAgIGludCAoKnNtdV9pbml0KShzdHJ1Y3QgcHBf
aHdtZ3IgICpod21ncik7Cj4gQEAgLTM0NSw2ICszNTMsNyBAQCBzdHJ1Y3QgcHBfaHdtZ3JfZnVu
YyB7Cj4gICAgICAgICBpbnQgKCpnZXRfcHBmZWF0dXJlX3N0YXR1cykoc3RydWN0IHBwX2h3bWdy
ICpod21nciwgY2hhciAqYnVmKTsKPiAgICAgICAgIGludCAoKnNldF9wcGZlYXR1cmVfc3RhdHVz
KShzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyLCB1aW50NjRfdCBwcGZlYXR1cmVfbWFza3MpOwo+ICAg
ICAgICAgaW50ICgqc2V0X21wMV9zdGF0ZSkoc3RydWN0IHBwX2h3bWdyICpod21nciwgZW51bSBw
cF9tcDFfc3RhdGUgbXAxX3N0YXRlKTsKPiArICAgICAgIGludCAoKmFzaWNfcmVzZXQpKHN0cnVj
dCBwcF9od21nciAqaHdtZ3IsIGVudW0gU01VX0FTSUNfUkVTRVRfTU9ERSBtb2RlKTsKPiAgfTsK
Pgo+ICBzdHJ1Y3QgcHBfdGFibGVfZnVuYyB7Cj4gLS0KPiAyLjcuNAo+Cj4gX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KPiBhbWQtZ2Z4IG1haWxpbmcgbGlz
dAo+IGFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCj4gaHR0cHM6Ly9saXN0cy5mcmVlZGVz
a3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4Cl9fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vYW1kLWdmeA==
