Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 418ECAEB93F
	for <lists+amd-gfx@lfdr.de>; Fri, 27 Jun 2025 15:51:46 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AFD4910EA31;
	Fri, 27 Jun 2025 13:51:43 +0000 (UTC)
Authentication-Results: gabe.freedesktop.org;
	dkim=pass (1024-bit key; unprotected) header.d=amd.com header.i=@amd.com header.b="2OTaajNZ";
	dkim-atps=neutral
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM11-CO1-obe.outbound.protection.outlook.com
 (mail-co1nam11on2062.outbound.protection.outlook.com [40.107.220.62])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B217F10E323
 for <amd-gfx@lists.freedesktop.org>; Fri, 27 Jun 2025 13:51:42 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector10001; d=microsoft.com; cv=none;
 b=dFq7N3/Xdr3TgnZMJJlsPLY1s7HIDJUfk5l90Ztl0kGTrZZp8ep20jOrRgJvx/PulvOVGAJki72wtzzAs8cGR2EGH0eSjSqAAosetWnNaUiBxUVc9STJE1s0l4hdn2c8nVWiyZFwJdgiwi4fuaK4NyCqFRoUhsZ7XhEnZcsp93uWE78hybJIH52Ou5tfl+3ctZAFy005cCPGFMWc9nmF9HyJVNKChyDdPR4BcHTQaWl7Y1vkd6Uoxuzo+0FU6/mrtv3LUMjyEsxo2ye01PklA1dQmE9dFpOFQq6zYuYEJnTM9SdGa9WxO1xsq9vsqJaFbGRIdJpWHRWCKMGxAjaaIQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector10001;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=cSsWcjYgYYn0CwoEkEzmfJGGqP0vA09vn+YarCFCxDU=;
 b=dZZXwMUeGOGXoyEWGb5Es6b5NPbM9n5yDwpbSChzBiBz+pz99UbuZg5P7fZmVQWAXSjYB7RSqp1WjKR/2dfa1RGSXvv9KaEnw8hs7iPElg5CO9Ly+ulDd0wd6YmkjmBQc/1Qwv9U5Z33aOkoGMnLvGWer+kPANtLADwB461no0Z7h5wdVAYIoEi+QW1OU9akNZiIf/Dlmw4l/2TWrLrpLejepnytaQyK0zonK/mi2yECMDeXlyEwydmXz78iNpegypa1HUBYjJsW88879+6fRfHIFqsgNbDuhTMR9XJkR36OzFd9vCTlaN7WdRbHsCHMzR9w8VPPDwC8RydaBGUP4Q==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=amd.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=cSsWcjYgYYn0CwoEkEzmfJGGqP0vA09vn+YarCFCxDU=;
 b=2OTaajNZmncw5BoZuNowvX3q/hQp28nhy7MVhrZKydKHHHkZgDVfASK95CKRCe9/+iq6N4cULCichNLB23lAdxzwz60jZ+qDlYle0piKRTA8w+MuK6/VziRJzeQr8jCZIscCqkXebW9r4tn1g/OmPQr3rGvqXJFk8kX0/pjN764=
Received: from DS7PR12MB6005.namprd12.prod.outlook.com (2603:10b6:8:7c::17) by
 MN2PR12MB4304.namprd12.prod.outlook.com (2603:10b6:208:1d0::12) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.8857.31; Fri, 27 Jun
 2025 13:51:39 +0000
Received: from DS7PR12MB6005.namprd12.prod.outlook.com
 ([fe80::4dc0:f34c:9e7e:ccb]) by DS7PR12MB6005.namprd12.prod.outlook.com
 ([fe80::4dc0:f34c:9e7e:ccb%4]) with mapi id 15.20.8880.021; Fri, 27 Jun 2025
 13:51:39 +0000
From: "Liang, Prike" <Prike.Liang@amd.com>
To: "Koenig, Christian" <Christian.Koenig@amd.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
CC: "Deucher, Alexander" <Alexander.Deucher@amd.com>
Subject: RE: [PATCH v4 04/11] drm/amdgpu: validate userq buffer virtual
 address and size
Thread-Topic: [PATCH v4 04/11] drm/amdgpu: validate userq buffer virtual
 address and size
Thread-Index: AQHb5ORmfI0/cctM/kC+bwrUZXVp+LQTg06AgAOGYhA=
Date: Fri, 27 Jun 2025 13:51:39 +0000
Message-ID: <DS7PR12MB6005BD07952DF27735E0459DFB45A@DS7PR12MB6005.namprd12.prod.outlook.com>
References: <20250624084535.1178476-1-Prike.Liang@amd.com>
 <20250624084535.1178476-4-Prike.Liang@amd.com>
 <eeed45e4-3b24-4f53-883a-cffc70914570@amd.com>
In-Reply-To: <eeed45e4-3b24-4f53-883a-cffc70914570@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
msip_labels: MSIP_Label_f265efc6-e181-49d6-80f4-fae95cf838a0_Enabled=True;
 MSIP_Label_f265efc6-e181-49d6-80f4-fae95cf838a0_SiteId=3dd8961f-e488-4e60-8e11-a82d994e183d;
 MSIP_Label_f265efc6-e181-49d6-80f4-fae95cf838a0_SetDate=2025-06-27T13:45:31.0000000Z;
 MSIP_Label_f265efc6-e181-49d6-80f4-fae95cf838a0_Name=Open
 Source; MSIP_Label_f265efc6-e181-49d6-80f4-fae95cf838a0_ContentBits=3;
 MSIP_Label_f265efc6-e181-49d6-80f4-fae95cf838a0_Method=Privileged
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=amd.com;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: DS7PR12MB6005:EE_|MN2PR12MB4304:EE_
x-ms-office365-filtering-correlation-id: 22c62863-ffa9-4c53-69b0-08ddb581bdeb
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0;
 ARA:13230040|376014|1800799024|366016|7053199007|38070700018; 
x-microsoft-antispam-message-info: =?utf-8?B?NGhhZ2MvRHVuaWJQVHFvWHZJVHpHQTl5cnoxUXhLc1ZZYUJHWmtHRTRKbFlr?=
 =?utf-8?B?QzZVM29Zb2w5emdFTE9zZUd0K2pVUjlQbmtsclk3T2xrb1ZFclNNeDNvZGM1?=
 =?utf-8?B?S2FnNXV1VzFqbnlhNnFySkZNTjJkU3MzYmxUUlJrQ3VwS1RjMXQ3YUt4Szk0?=
 =?utf-8?B?REJQaEJGV3NxSFR4Z2RLZlNnTTN3WFNoNzhKandzSXIxNmdWYlBHOWtycERH?=
 =?utf-8?B?UUFjKzc3aWZLOVlMenlRbS9HQ3dycEhPZnFLYUx4d2dWaTZKVXR4WnRpYnBx?=
 =?utf-8?B?QXhRL2FjcDNMcnpsL2hmRnMxZWxoaU1BWlhYdk9BbnRaclF2ekJ6UGw0ZzBL?=
 =?utf-8?B?VnYzbkpXRnRncVM0L2Y1Qk9kZnpQZ1c3YnFDNUJJYTNGM3Z2UzNyaGZZNFF1?=
 =?utf-8?B?Q0RqbjROTVZiM21GdW5PRU4vUk9tZktEMUVTRGFKSG5XQU5MUDV3SyttSlU2?=
 =?utf-8?B?Mm1NTEdFaGVITjE5eUc0U1ZleDRYRTdTYU5kRzRwR1ZYL09NWkV2VitwQlBO?=
 =?utf-8?B?MjlVNjdRUHppYnZDeDNJZUVtL2xJVjRsemRTV0c2NzRibWpxaGJva2t3YjZV?=
 =?utf-8?B?NXVHUFJWNXI0NWE2QXgvbTRDdjBFRFJYMnk0V09QNWY2RGNDNm5SZllMTWRL?=
 =?utf-8?B?cDBVZjNFS09qMDZKQ0t0bWx4ZHZQOUo1UHNpRVZDQktFT08wRjB1aGI3TFVX?=
 =?utf-8?B?SUpwYzJ0bUFTajRzVDlHYUFVTUJwZGlQMWFsL1J6ejk5amJpREhZNDllMEVs?=
 =?utf-8?B?S2JNYVA3aXBXLzZWRWRWNkt6VEJPU2lsSmxWTTEwU3kxRFNIUFFTMENpNUtM?=
 =?utf-8?B?aXZsYmg1Q3NWbkJOSGxPQjRhUTlKd2xjR1FFT0U1d0VyVVVEOTk0eGQ0VzJW?=
 =?utf-8?B?S0poTnpjMFJYMzZtQUkrTDc2alpTdDA2WlBXWGNYNnhQK05KdDUwbkV6QVFo?=
 =?utf-8?B?Nk1vVXRaNjBTZ1orLzNIQmIxbzd1U0xEMVhJKytVeHN2QWthQmJyaENWVTdB?=
 =?utf-8?B?bnlKNHM3aVMvdmNTTFhaYmdOei9KTGczOVhKWFgxdG8zZ24vZTNLanRIMVlC?=
 =?utf-8?B?OFlHa2FkUk5EZFR2VnNQNGRKb1BEb2w3djI0K3FOOHkrZ1B3eWgxV2lBeVJQ?=
 =?utf-8?B?TmVCK1k0UFZ6Sk9IcnBLV0JpazlGR1BUZ2s5aTJEQUhsdU9xMzBLUUdLNndH?=
 =?utf-8?B?dndiWm5HYzJkMDdIZVUrSU9SOUd0dGlNdnk1SDdXdHFQVDVOU216bVdRRkd5?=
 =?utf-8?B?WTZrN3RISy9yQytHNmlJRmM5VDFTVVBUOHlERzJGZGVDUFFKdHU4SHg4R250?=
 =?utf-8?B?b1c4cW5kdzRvVy9ZR3BiQkN4Q2swMXhvNDZQaEFGdFhteExDTmZoYVFOZk55?=
 =?utf-8?B?T2RaUVdvQ3h6YlVPMWw2WnhlcDQ5RWhBTkxuU01NSVEwM1YwcEdrYVJaV1pL?=
 =?utf-8?B?QkFGaExqKzc0UExBTi9LWEVZdmFOVGp0cUJKZVJoVTJGajV2aWVSQzJ2ckgz?=
 =?utf-8?B?QWFYTkVIall1dWFkRTFZNVVySXp3VE5yZWh3cjZqNFBBZjhZSFpZc2FaSWcv?=
 =?utf-8?B?UEs2RFpnNTk1SDdoRUY2eFVKQ1B4TU1CWVBvZk0vSDhSclMwd3dwQ1JuQWIw?=
 =?utf-8?B?VFgra0piMWJ3SHlhcG9ZeEc5QzFJSVp0SVU2cE5BcC9uMGZENlpOUXoyS003?=
 =?utf-8?B?T0dNbzRBMTlPWThYbklvQkZrR2Vxb3A3eUw0SFMyZld3VXNKZnhuK3g3U0Y4?=
 =?utf-8?B?YVYrdDBiUDBLbzNYWHhNREdYR1Z4Vm0vcTNta0pRZUhJcWNCblRZeGpLbGlO?=
 =?utf-8?B?SkxqTlh3UmVJUWpQUkZuOGJpRFVQQUJWMWd4d0QrWHdMY3dwenVsbytIMTIz?=
 =?utf-8?B?R2lBdDY1SEJraGJKZUtqelRIS0I5NXR2MStwek90eG1XSm1DOG5mVkhQRnFE?=
 =?utf-8?B?TTkxZENwRFpSUXlBQ2ovczYrWlc0U01pWjBvMGNUL2Q4VG0zam41VVJyQXRG?=
 =?utf-8?Q?ZVb92hfkfZeMP/gNxEJ/AzHTGJKLRM=3D?=
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:DS7PR12MB6005.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(13230040)(376014)(1800799024)(366016)(7053199007)(38070700018); DIR:OUT;
 SFP:1101; 
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?bWQvMWh6RUtzNlZrMG1uU1cxRG16TDkyZ2JXNlE3eTk5ckxrb2NtZzY2VlRC?=
 =?utf-8?B?dmJsM0VZVHM1UEVDOXBMODFMakwwWFlCZTVTRC91VDlEdlRVTlp5b0lRQnE5?=
 =?utf-8?B?aVU4MkZxS2gvS3FlUHd1cGk5a1NUc1lLWk81NnRYTzFQVTFwSCtRS3gyc2Rs?=
 =?utf-8?B?U09sMFdhMlZMTXBCSWFUZHI5dkxWTXk0ajFzVlBocXFDOVZhZDVzdENubjRE?=
 =?utf-8?B?S1ZTT2kvV2xNMUphYnlQTU9FT0JNNGRBNzhGNktTVWQraTZqQUJKcXVUdFF1?=
 =?utf-8?B?VmRNQW84OVlwanM4K256TkVNVDhoOW5pM2dBa1NvaVVnTzJERmJTcVhvR1Y4?=
 =?utf-8?B?R2dXVEhDczdVdnJ1WTdBOFlDZVlmbTd5RFVaN2pWdmtBTkxpdUdVMzJvSEtr?=
 =?utf-8?B?ak5TcVFOUjc4VjR2TzVDR0czN3ZWWERVVU9HVE02VnFma1Z6TXBTMnhWUWRZ?=
 =?utf-8?B?WjJ5WFdvK24xV205WUx5SlhBZDIyZzUveityN2dCTWJ1QWNLQllaR1d2WWtk?=
 =?utf-8?B?TzE2WURFUjRrOXg5VXAvSHN2MDhkVk9MSUxGckl3R2VlRzcxZzNUMDZ2NE8r?=
 =?utf-8?B?NGpsbjZKSVZhdEdWdWdZdjZzQUJ5R2RsWGtKazV5UnJDOWF0aGR2dEFjSmRZ?=
 =?utf-8?B?RUg0NEJKY2cyalE0MDFYZW9YV1pwenRrMWpxYktHOG9JeWwrRDdsOFlERVR0?=
 =?utf-8?B?aEFEQXkzOFp2ZExyNVJNb2diR0ZnUkVrUlNVV2xnaVJJNDFtTGFtUDZNdlZr?=
 =?utf-8?B?ZmhSRHNyR3lUQnZaWjRpM0twaW5aQmJVcnRkWm9OcVlTMWdGTjU4cHJRTkY1?=
 =?utf-8?B?RHRVMWVJVlA3SGxWbUFnTU9RcW1peDNuamw4M1Z4N0tOenFzclJQRHF2alZS?=
 =?utf-8?B?cERMa2FwZmQxZlkxS3FGc1ZSWlpOTXNJd05jQ29VTExjVFI3aktvakFHd0Zj?=
 =?utf-8?B?RWxzSEY2ZERYbW9Pd3hiVEQwUzB6dndpcDh2WXg1aFpuVlRaWFBnSEk3Zlp0?=
 =?utf-8?B?Ky9rM3RBSVRYQmxXNzZxZTlaNEV3RXY0dzladGFKbVFkaWxVWSt3YnJXaE9R?=
 =?utf-8?B?ZWhlbDBWU3Vvc0JpcENkRGkzNHV5MnFWbElxTEh1M0Q2ZVhjOWxJTCtJMllK?=
 =?utf-8?B?QnE4MGZSWmZITVJiUXhlUTVNRjFwR0F2WndmWkJscjcyWGdudHBJa1Z6Ykpy?=
 =?utf-8?B?b3FnSmtIbmpqblNxMGJSd0xBQnhLaERobWNYVFM1OER1anJjczhCeFR6c1k3?=
 =?utf-8?B?U01EUlJnNUVjaCtzQytYK3ZYQjdyRDBBUFlwcGJsb3ZDOWljbzBCSzFia2N0?=
 =?utf-8?B?ZVRqSHJaOGNUNVczK3Y3YmFnZlc2QmMrNDFJRC9lQ3FBdHF6clowWGs3ekI0?=
 =?utf-8?B?ZWRsb1VYdWNZb1psNkM3Si9qdnZzV2FZYUVZR0gxN0dCWFJIckRzcFJ3WWhy?=
 =?utf-8?B?T3RPaVFnMVFPcEVKa0ljTnFwczBvTHh1ZFhESkpheHVESDVoUGtEMXFWVXdU?=
 =?utf-8?B?UzVYZE52ZUFEeGk1VE9uOW1tRTdsakhHa2ZiQmFpYm5wNk1xUUljOEVqWmVP?=
 =?utf-8?B?L0pFcWduNGs4WURsWEkwaTlDWnROMDgzamV3VDVyQUVBNDNzbWo0SUZEMldt?=
 =?utf-8?B?NFlzTzdVY0hKWER3aVRSYnIwZm10NkRyZkFKS05HK2JGNDArSmM4Z1p0K2ZB?=
 =?utf-8?B?VGFDYnhZdzNZV3ZMM3VBaytqVTJueHBsS0ZkOVZ0NHJoSkg3L3NiWDVwcEtQ?=
 =?utf-8?B?dlNJaG11T2l4SWFhWHJGYkNoYkt5QnFncW1xL3hkaFM4VjRWd3JycFEyRWFX?=
 =?utf-8?B?YmpTN1dTQjl6ek5Da3VyNWtjdTVwNk5QQ1lldEFGSnBvbnNUUkR2aUNhci85?=
 =?utf-8?B?THhXMnRqUFcwSFpJSVFGZE5lYzF4RU9ucTM0QVVNNDZnNDZneVl6ZDZ2eTh6?=
 =?utf-8?B?Qys4YVhpUnplSDJ4elFKd3dXejJFMmREaWZqdldzTFBnRyt5aGJsYnJkeFVQ?=
 =?utf-8?B?akF1clZxei9IVDBBT1BGZHkyODh0Q1BkTGdTT25pQ1dxaExocjYzM0lWYkxC?=
 =?utf-8?B?cEdoL2FkSDdja3FueDB0T0dQTng2djl3ZjBjeHNhY3E5OE41WHJ5RG9JTEZF?=
 =?utf-8?Q?wVeo=3D?=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: DS7PR12MB6005.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 22c62863-ffa9-4c53-69b0-08ddb581bdeb
X-MS-Exchange-CrossTenant-originalarrivaltime: 27 Jun 2025 13:51:39.7802 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: 6Mh5/dTnPuy4jKXA6X89InWo23SztVUJ+lKkOh2Er4y29+P1XzfjE2Mm38kSfoVb
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB4304
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

W1B1YmxpY10NCg0KUmVnYXJkcywNCiAgICAgIFByaWtlDQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNz
YWdlLS0tLS0NCj4gRnJvbTogS29lbmlnLCBDaHJpc3RpYW4gPENocmlzdGlhbi5Lb2VuaWdAYW1k
LmNvbT4NCj4gU2VudDogV2VkbmVzZGF5LCBKdW5lIDI1LCAyMDI1IDM6NTYgUE0NCj4gVG86IExp
YW5nLCBQcmlrZSA8UHJpa2UuTGlhbmdAYW1kLmNvbT47IGFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0
b3Aub3JnDQo+IENjOiBEZXVjaGVyLCBBbGV4YW5kZXIgPEFsZXhhbmRlci5EZXVjaGVyQGFtZC5j
b20+DQo+IFN1YmplY3Q6IFJlOiBbUEFUQ0ggdjQgMDQvMTFdIGRybS9hbWRncHU6IHZhbGlkYXRl
IHVzZXJxIGJ1ZmZlciB2aXJ0dWFsIGFkZHJlc3MNCj4gYW5kIHNpemUNCj4NCj4gT24gMjQuMDYu
MjUgMTA6NDUsIFByaWtlIExpYW5nIHdyb3RlOg0KPiA+IEl0IG5lZWRzIHRvIHZhbGlkYXRlIHRo
ZSB1c2VycSBvYmplY3QgdmlydHVhbCBhZGRyZXNzIHdoZXRoZXIgaXQgaXMNCj4gPiB2YWxpZGF0
ZWQgaW4gdm0gbWFwcGluZy4NCj4gPg0KPiA+IFNpZ25lZC1vZmYtYnk6IFByaWtlIExpYW5nIDxQ
cmlrZS5MaWFuZ0BhbWQuY29tPg0KPiA+IC0tLQ0KPiA+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfdXNlcnEuYyAgfCA0NA0KPiA+ICsrKysrKysrKysrKysrKysrKysrKysgIGRy
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV91c2VycS5oICB8DQo+ID4gMiArICBkcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9tZXNfdXNlcnF1ZXVlLmMgfCAyNSArKysrKysrKysrKysN
Cj4gPiAgMyBmaWxlcyBjaGFuZ2VkLCA3MSBpbnNlcnRpb25zKCspDQo+ID4NCj4gPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3VzZXJxLmMNCj4gPiBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV91c2VycS5jDQo+ID4gaW5kZXggYWNhZWE0
NDE2ZWQyLi5hMjBmN2NjYmU5OGUgMTAwNjQ0DQo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1X3VzZXJxLmMNCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfdXNlcnEuYw0KPiA+IEBAIC0zMSw2ICszMSw4IEBADQo+ID4gICNpbmNsdWRl
ICJhbWRncHVfdXNlcnEuaCINCj4gPiAgI2luY2x1ZGUgImFtZGdwdV91c2VycV9mZW5jZS5oIg0K
PiA+DQo+ID4gKyNkZWZpbmUgYW1kZ3B1X3VzZXJxX3ZhX2FsaWduKHZhKSAodmEgJiBBTURHUFVf
R01DX0hPTEVfTUFTSykgPj4NCj4gPiArQU1ER1BVX0dQVV9QQUdFX1NISUZUDQo+DQo+IFRoYXQg
ZG9lc24ndCBzZWVtIHRvIG1ha2Ugc2Vuc2UgdG8gbWUuIFdoeSBpcyB0aGF0IG5lZWRlZD8NClRo
aXMgd2lsbCBoZWxwIGZvciBhbGlnbmluZyB0aGUgdXNlcnEgb2JqZWN0IFZBIGFuZCB0aGVuIHRv
IGJlIHVzZWQgZm9yIGNvbXBhcmluZyB3aXRoIHRoZSBWQSByYW5nZSB0byB2YWxpZGF0ZSB0aGUg
dXNlcnEgaW5wdXQgdXNlcnEgVkEgd2hldGhlciBpdCBpcyByZXNpZGVudCBpbiBhIHZhbGlkIG1h
cHBpbmcuDQoNCj4gQ2hyaXN0aWFuDQo+DQo+ID4gKw0KPiA+ICB1MzIgYW1kZ3B1X3VzZXJxX2dl
dF9zdXBwb3J0ZWRfaXBfbWFzayhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikgIHsNCj4gPiAg
ICAgaW50IGk7DQo+ID4gQEAgLTQ0LDYgKzQ2LDM2IEBAIHUzMiBhbWRncHVfdXNlcnFfZ2V0X3N1
cHBvcnRlZF9pcF9tYXNrKHN0cnVjdA0KPiBhbWRncHVfZGV2aWNlICphZGV2KQ0KPiA+ICAgICBy
ZXR1cm4gdXNlcnFfaXBfbWFzazsNCj4gPiAgfQ0KPiA+DQo+ID4gK2ludCBhbWRncHVfdXNlcnFf
aW5wdXRfdmFfdmFsaWRhdGUoc3RydWN0IGFtZGdwdV92bSAqdm0sIHU2NCBhZGRyLA0KPiA+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICB1NjQgZXhwZWN0ZWRfc2l6ZSkNCj4gPiArew0KPiA+
ICsgICBzdHJ1Y3QgYW1kZ3B1X2JvX3ZhX21hcHBpbmcgKnZhX21hcDsNCj4gPiArICAgdTY0IHVz
ZXJfYWRkcjsNCj4gPiArICAgdTY0IHNpemU7DQo+ID4gKyAgIGludCByOw0KPiA+ICsNCj4gPiAr
ICAgdXNlcl9hZGRyID0gYW1kZ3B1X3VzZXJxX3ZhX2FsaWduKGFkZHIpOw0KPiA+ICsgICBzaXpl
ID0gZXhwZWN0ZWRfc2l6ZSA+PiBBTURHUFVfR1BVX1BBR0VfU0hJRlQ7DQo+ID4gKw0KPiA+ICsg
ICByID0gYW1kZ3B1X2JvX3Jlc2VydmUodm0tPnJvb3QuYm8sIGZhbHNlKTsNCj4gPiArICAgaWYg
KHIpDQo+ID4gKyAgICAgICAgICAgcmV0dXJuIHI7DQo+ID4gKw0KPiA+ICsgICB2YV9tYXAgPSBh
bWRncHVfdm1fYm9fbG9va3VwX21hcHBpbmcodm0sIHVzZXJfYWRkcik7DQo+ID4gKyAgIGlmICgh
dmFfbWFwKQ0KPiA+ICsgICAgICAgICAgIGdvdG8gb3V0X2VycjsNCj4gPiArICAgLyogT25seSB2
YWxpZGF0ZSB0aGUgdXNlcnEgd2hldGhlciByZXNpZGVudCBpbiB0aGUgVk0gbWFwcGluZyByYW5n
ZSAqLw0KPiA+ICsgICBpZiAodXNlcl9hZGRyID49IHZhX21hcC0+c3RhcnQgJiYNCj4gPiArICAg
ICAgIChzaXplICE9IDAgJiYgdXNlcl9hZGRyICsgc2l6ZSAtIDEgPD0gdmFfbWFwLT5sYXN0KSkg
ew0KPiA+ICsgICAgICAgICAgIGFtZGdwdV9ib191bnJlc2VydmUodm0tPnJvb3QuYm8pOw0KPiA+
ICsgICAgICAgICAgIHJldHVybiAwOw0KPiA+ICsgICB9DQo+ID4gKw0KPiA+ICtvdXRfZXJyOg0K
PiA+ICsgICBhbWRncHVfYm9fdW5yZXNlcnZlKHZtLT5yb290LmJvKTsNCj4gPiArICAgcmV0dXJu
IC1FSU5WQUw7DQo+ID4gK30NCj4gPiArDQo+ID4gIHN0YXRpYyBpbnQNCj4gPiAgYW1kZ3B1X3Vz
ZXJxX3VubWFwX2hlbHBlcihzdHJ1Y3QgYW1kZ3B1X3VzZXJxX21nciAqdXFfbWdyLA0KPiA+ICAg
ICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgYW1kZ3B1X3VzZXJtb2RlX3F1ZXVlICpxdWV1ZSkg
QEAgLTM5MSw2DQo+ICs0MjMsMTQgQEANCj4gPiBhbWRncHVfdXNlcnFfY3JlYXRlKHN0cnVjdCBk
cm1fZmlsZSAqZmlscCwgdW5pb24gZHJtX2FtZGdwdV91c2VycSAqYXJncykNCj4gPiAgICAgICAg
ICAgICByID0gLUVJTlZBTDsNCj4gPiAgICAgICAgICAgICBnb3RvIHVubG9jazsNCj4gPiAgICAg
fQ0KPiA+ICsgICAvKiBWYWxpZGF0ZSB0aGUgdXNlcnEgdmlydHVhbCBhZGRyZXNzLiovDQo+ID4g
KyAgIGlmIChhbWRncHVfdXNlcnFfaW5wdXRfdmFfdmFsaWRhdGUoJmZwcml2LT52bSwgYXJncy0+
aW4ucXVldWVfdmEsIGFyZ3MtDQo+ID5pbi5xdWV1ZV9zaXplKSB8fA0KPiA+ICsgICAgICAgYW1k
Z3B1X3VzZXJxX2lucHV0X3ZhX3ZhbGlkYXRlKCZmcHJpdi0+dm0sIGFyZ3MtPmluLnJwdHJfdmEs
DQo+IFBBR0VfU0laRSkgfHwNCj4gPiArICAgICAgIGFtZGdwdV91c2VycV9pbnB1dF92YV92YWxp
ZGF0ZSgmZnByaXYtPnZtLCBhcmdzLT5pbi53cHRyX3ZhLA0KPiBQQUdFX1NJWkUpKSB7DQo+ID4g
KyAgICAgICAgICAgZHJtX2ZpbGVfZXJyKHVxX21nci0+ZmlsZSwgIlVzZXJtb2RlIHF1ZXVlIGlu
cHV0IHZpcnQgYWRkcmVzcyBpcw0KPiBpbnZhbGlkXG4iKTsNCj4gPiArICAgICAgICAgICByID0g
LUVJTlZBTDsNCj4gPiArICAgICAgICAgICBnb3RvIHVubG9jazsNCj4gPiArICAgfQ0KPiA+DQo+
ID4gICAgIHF1ZXVlID0ga3phbGxvYyhzaXplb2Yoc3RydWN0IGFtZGdwdV91c2VybW9kZV9xdWV1
ZSksIEdGUF9LRVJORUwpOw0KPiA+ICAgICBpZiAoIXF1ZXVlKSB7DQo+ID4gQEAgLTUwMCw2ICs1
NDAsMTAgQEAgc3RhdGljIGludCBhbWRncHVfdXNlcnFfaW5wdXRfYXJnc192YWxpZGF0ZShzdHJ1
Y3QNCj4gZHJtX2RldmljZSAqZGV2LA0KPiA+ICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1F
SU5WQUw7DQo+ID4gICAgICAgICAgICAgfQ0KPiA+DQo+ID4gKyAgICAgICAgICAgLyogQXMgdGhl
IHF1ZXVlX3ZhIGFuZCB3cHRyX3ZhIGV0YyBhcmUgdGhlIHVzZXEgY3B1IGFjY2VzcyBhZGRyZXNz
DQo+IGFuZCB0aGV5DQo+ID4gKyAgICAgICAgICAgICogYXJlIGFsc28gY29tZSBmcm9tIHRoZSB1
c2VyIHNwYWNlIElPQ1RMIHJlcXVlc3QsIHNvIHRoZXkgbWF5DQo+IG5lZWQgYSBhY2Nlc3Nfb2so
KQ0KPiA+ICsgICAgICAgICAgICAqIGNoZWNrIGJlZm9yZSB0cnlpbmcgYWNjZXNzaW5nIHRoZW0u
DQo+ID4gKyAgICAgICAgICAgICovDQo+ID4gICAgICAgICAgICAgaWYgKGFyZ3MtPmluLnF1ZXVl
X3ZhID09IEFNREdQVV9CT19JTlZBTElEX09GRlNFVCB8fA0KPiA+ICAgICAgICAgICAgICAgICBh
cmdzLT5pbi5xdWV1ZV92YSA9PSAwIHx8DQo+ID4gICAgICAgICAgICAgICAgIGFyZ3MtPmluLnF1
ZXVlX3NpemUgPT0gMCkgew0KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfdXNlcnEuaA0KPiA+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1k
Z3B1X3VzZXJxLmgNCj4gPiBpbmRleCBlYzA0MGMyZmQ2YzkuLjcwNDkzNWNhMGMzNiAxMDA2NDQN
Cj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdXNlcnEuaA0KPiA+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV91c2VycS5oDQo+ID4gQEAg
LTEzMiw0ICsxMzIsNiBAQCBpbnQNCj4gPiBhbWRncHVfdXNlcnFfc3RvcF9zY2hlZF9mb3JfZW5m
b3JjZV9pc29sYXRpb24oc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+IGludCBhbWRncHVf
dXNlcnFfc3RhcnRfc2NoZWRfZm9yX2VuZm9yY2VfaXNvbGF0aW9uKHN0cnVjdCBhbWRncHVfZGV2
aWNlICphZGV2LA0KPiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgdTMyIGlkeCk7DQo+ID4NCj4gPiAraW50IGFtZGdwdV91c2VycV9pbnB1dF92YV92YWxp
ZGF0ZShzdHJ1Y3QgYW1kZ3B1X3ZtICp2bSwgdTY0IGFkZHIsDQo+ID4gKyAgICAgICAgICAgICAg
ICAgICB1NjQgZXhwZWN0ZWRfc2l6ZSk7DQo+ID4gICNlbmRpZg0KPiA+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9tZXNfdXNlcnF1ZXVlLmMNCj4gPiBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L21lc191c2VycXVldWUuYw0KPiA+IGluZGV4IGRiYWNkZmNiNmY3
Yi4uNDYxNWQzZmJhNTMwIDEwMDY0NA0KPiA+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L21lc191c2VycXVldWUuYw0KPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L21lc191c2VycXVldWUuYw0KPiA+IEBAIC0yMDYsNiArMjA2LDcgQEAgc3RhdGljIGludCBtZXNf
dXNlcnFfbXFkX2NyZWF0ZShzdHJ1Y3QNCj4gYW1kZ3B1X3VzZXJxX21nciAqdXFfbWdyLA0KPiA+
ICAgICBzdHJ1Y3QgYW1kZ3B1X21xZCAqbXFkX2h3X2RlZmF1bHQgPSAmYWRldi0+bXFkc1txdWV1
ZS0+cXVldWVfdHlwZV07DQo+ID4gICAgIHN0cnVjdCBkcm1fYW1kZ3B1X3VzZXJxX2luICptcWRf
dXNlciA9IGFyZ3NfaW47DQo+ID4gICAgIHN0cnVjdCBhbWRncHVfbXFkX3Byb3AgKnVzZXJxX3By
b3BzOw0KPiA+ICsgICBzdHJ1Y3QgYW1kZ3B1X2dmeF9zaGFkb3dfaW5mbyBzaGFkb3dfaW5mbzsN
Cj4gPiAgICAgaW50IHI7DQo+ID4NCj4gPiAgICAgLyogU3RydWN0dXJlIHRvIGluaXRpYWxpemUg
TVFEIGZvciB1c2VycXVldWUgdXNpbmcgZ2VuZXJpYyBNUUQgaW5pdA0KPiA+IGZ1bmN0aW9uICov
IEBAIC0yMzEsNiArMjMyLDggQEAgc3RhdGljIGludCBtZXNfdXNlcnFfbXFkX2NyZWF0ZShzdHJ1
Y3QNCj4gYW1kZ3B1X3VzZXJxX21nciAqdXFfbWdyLA0KPiA+ICAgICB1c2VycV9wcm9wcy0+ZG9v
cmJlbGxfaW5kZXggPSBxdWV1ZS0+ZG9vcmJlbGxfaW5kZXg7DQo+ID4gICAgIHVzZXJxX3Byb3Bz
LT5mZW5jZV9hZGRyZXNzID0gcXVldWUtPmZlbmNlX2Rydi0+Z3B1X2FkZHI7DQo+ID4NCj4gPiAr
ICAgaWYgKGFkZXYtPmdmeC5mdW5jcy0+Z2V0X2dmeF9zaGFkb3dfaW5mbykNCj4gPiArICAgICAg
ICAgICBhZGV2LT5nZnguZnVuY3MtPmdldF9nZnhfc2hhZG93X2luZm8oYWRldiwgJnNoYWRvd19p
bmZvLCB0cnVlKTsNCj4gPiAgICAgaWYgKHF1ZXVlLT5xdWV1ZV90eXBlID09IEFNREdQVV9IV19J
UF9DT01QVVRFKSB7DQo+ID4gICAgICAgICAgICAgc3RydWN0IGRybV9hbWRncHVfdXNlcnFfbXFk
X2NvbXB1dGVfZ2Z4MTEgKmNvbXB1dGVfbXFkOw0KPiA+DQo+ID4gQEAgLTI0Nyw2ICsyNTAsMTMg
QEAgc3RhdGljIGludCBtZXNfdXNlcnFfbXFkX2NyZWF0ZShzdHJ1Y3QNCj4gYW1kZ3B1X3VzZXJx
X21nciAqdXFfbWdyLA0KPiA+ICAgICAgICAgICAgICAgICAgICAgZ290byBmcmVlX21xZDsNCj4g
PiAgICAgICAgICAgICB9DQo+ID4NCj4gPiArICAgICAgICAgICBpZiAoYW1kZ3B1X3VzZXJxX2lu
cHV0X3ZhX3ZhbGlkYXRlKHF1ZXVlLT52bSwgY29tcHV0ZV9tcWQtDQo+ID5lb3BfdmEsDQo+ID4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4X3QodTMyLCBQQUdFX1NJWkUs
DQo+IEFNREdQVV9HUFVfUEFHRV9TSVpFKSkpIHsNCj4gPiArICAgICAgICAgICAgICAgICAgIGRy
bV9maWxlX2Vycih1cV9tZ3ItPmZpbGUsICJFT1AgVkEgaXMgaW52YWxpZFxuIik7DQo+ID4gKyAg
ICAgICAgICAgICAgICAgICByID0gLUVJTlZBTDsNCj4gPiArICAgICAgICAgICAgICAgICAgIGdv
dG8gZnJlZV9tcWQ7DQo+ID4gKyAgICAgICAgICAgfQ0KPiA+ICsNCj4gPiAgICAgICAgICAgICB1
c2VycV9wcm9wcy0+ZW9wX2dwdV9hZGRyID0gY29tcHV0ZV9tcWQtPmVvcF92YTsNCj4gPiAgICAg
ICAgICAgICB1c2VycV9wcm9wcy0+aHFkX3BpcGVfcHJpb3JpdHkgPQ0KPiBBTURHUFVfR0ZYX1BJ
UEVfUFJJT19OT1JNQUw7DQo+ID4gICAgICAgICAgICAgdXNlcnFfcHJvcHMtPmhxZF9xdWV1ZV9w
cmlvcml0eSA9DQo+ID4gQU1ER1BVX0dGWF9RVUVVRV9QUklPUklUWV9NSU5JTVVNOw0KPiA+IEBA
IC0yNzQsNiArMjg0LDE0IEBAIHN0YXRpYyBpbnQgbWVzX3VzZXJxX21xZF9jcmVhdGUoc3RydWN0
DQo+IGFtZGdwdV91c2VycV9tZ3IgKnVxX21nciwNCj4gPiAgICAgICAgICAgICB1c2VycV9wcm9w
cy0+Y3NhX2FkZHIgPSBtcWRfZ2Z4X3YxMS0+Y3NhX3ZhOw0KPiA+ICAgICAgICAgICAgIHVzZXJx
X3Byb3BzLT50bXpfcXVldWUgPQ0KPiA+ICAgICAgICAgICAgICAgICAgICAgbXFkX3VzZXItPmZs
YWdzICYNCj4gQU1ER1BVX1VTRVJRX0NSRUFURV9GTEFHU19RVUVVRV9TRUNVUkU7DQo+ID4gKw0K
PiA+ICsgICAgICAgICAgIGlmIChhbWRncHVfdXNlcnFfaW5wdXRfdmFfdmFsaWRhdGUocXVldWUt
PnZtLCBtcWRfZ2Z4X3YxMS0NCj4gPnNoYWRvd192YSwNCj4gPiArICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBzaGFkb3dfaW5mby5zaGFkb3dfc2l6ZSkpIHsNCj4gPiArICAgICAg
ICAgICAgICAgICAgIGRybV9maWxlX2Vycih1cV9tZ3ItPmZpbGUsICJzaGFkb3cgVkEgaXMgaW52
YWxpZFxuIik7DQo+ID4gKyAgICAgICAgICAgICAgICAgICByID0gLUVJTlZBTDsNCj4gPiArICAg
ICAgICAgICAgICAgICAgIGdvdG8gZnJlZV9tcWQ7DQo+ID4gKyAgICAgICAgICAgfQ0KPiA+ICsN
Cj4gPiAgICAgICAgICAgICBrZnJlZShtcWRfZ2Z4X3YxMSk7DQo+ID4gICAgIH0gZWxzZSBpZiAo
cXVldWUtPnF1ZXVlX3R5cGUgPT0gQU1ER1BVX0hXX0lQX0RNQSkgew0KPiA+ICAgICAgICAgICAg
IHN0cnVjdCBkcm1fYW1kZ3B1X3VzZXJxX21xZF9zZG1hX2dmeDExICptcWRfc2RtYV92MTE7IEBA
DQo+IC0yOTEsNg0KPiA+ICszMDksMTMgQEAgc3RhdGljIGludCBtZXNfdXNlcnFfbXFkX2NyZWF0
ZShzdHJ1Y3QgYW1kZ3B1X3VzZXJxX21ncg0KPiAqdXFfbWdyLA0KPiA+ICAgICAgICAgICAgICAg
ICAgICAgZ290byBmcmVlX21xZDsNCj4gPiAgICAgICAgICAgICB9DQo+ID4NCj4gPiArICAgICAg
ICAgICBpZiAoYW1kZ3B1X3VzZXJxX2lucHV0X3ZhX3ZhbGlkYXRlKHF1ZXVlLT52bSwgbXFkX3Nk
bWFfdjExLQ0KPiA+Y3NhX3ZhLA0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHNoYWRvd19pbmZvLmNzYV9zaXplKSkgew0KPiA+ICsgICAgICAgICAgICAgICAgICAgZHJt
X2ZpbGVfZXJyKHVxX21nci0+ZmlsZSwgIkNTQSBWQSBpcyBpbnZhbGlkXG4iKTsNCj4gPiArICAg
ICAgICAgICAgICAgICAgIHIgPSAtRUlOVkFMOw0KPiA+ICsgICAgICAgICAgICAgICAgICAgZ290
byBmcmVlX21xZDsNCj4gPiArICAgICAgICAgICB9DQo+ID4gKw0KPiA+ICAgICAgICAgICAgIHVz
ZXJxX3Byb3BzLT5jc2FfYWRkciA9IG1xZF9zZG1hX3YxMS0+Y3NhX3ZhOw0KPiA+ICAgICAgICAg
ICAgIGtmcmVlKG1xZF9zZG1hX3YxMSk7DQo+ID4gICAgIH0NCg0K
