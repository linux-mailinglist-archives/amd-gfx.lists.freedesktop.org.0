Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 1F1A8B510BB
	for <lists+amd-gfx@lfdr.de>; Wed, 10 Sep 2025 10:12:18 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 779DB10E2C7;
	Wed, 10 Sep 2025 08:12:16 +0000 (UTC)
Authentication-Results: gabe.freedesktop.org;
	dkim=pass (1024-bit key; unprotected) header.d=amd.com header.i=@amd.com header.b="WnNpLLKT";
	dkim-atps=neutral
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM12-BN8-obe.outbound.protection.outlook.com
 (mail-bn8nam12on2078.outbound.protection.outlook.com [40.107.237.78])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7617C10E2C7
 for <amd-gfx@lists.freedesktop.org>; Wed, 10 Sep 2025 08:12:15 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector10001; d=microsoft.com; cv=none;
 b=anchba/IkdBlEmuOQbMDndqADNA+0n5Kv1AUEg97684WWTHP5NWeqC4mXrsgLo2KqVMpDee5sVCLVHTeLWd3cRnG4u2OfY5OcsFD0av+vrJq3H+10mB1RI/D4DKm/Pnm8AeNybbKKYXaanV57FjA/kVt/gSPl2duE5QcDiawfI+Mk5ux6cpiwfIdzYTMiS4tsQqHKl+vJR01QB4LtLlXvDNqltP0gcMQkUpaZpkjBpS6f6NCod6CjrPg5LqJ4H1wj8tKp2WiMSyMSclB4DwB+Pw8vqIW5z3GenJk9HkF3MIYt0ElFgIcF+isejPVi7JouFgA0g03LQxX3nL69BOqCA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector10001;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=KCroVKFaxogaKivr6nKm/cd0T0c5JWB2J9ztr9nvDTE=;
 b=uiFtm58OEK8EAnqzhhKuI8m2X6T43qVKJ9Hs7S08dCx5xerjjTfWgj5DencIlLZhLm9L8oyF5akRuKaFGZhal3mA78E+jaEfbw349pLsTktRTQD/fdf+gCWn3COZPGLgoibW4z/3fBKQJEn4/PYB7BGkFQN3JgAPg0gNIuaRcR5a8SwnUU/FX4UxmzPc8dResQ7xg4jHxARd1WgH0UVS+IDD4M1G9W/8bSO+gNoPsi5rpfSuR5YwQkIUFZuJPwySs4wqi4rf0Skn9/Li/I7zAVW2FwwXr9QHjd122G8VCqpe7djMTMLap8Sa1AG+HyXt43F57egRIGmpzlbUOjc0qQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=amd.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=KCroVKFaxogaKivr6nKm/cd0T0c5JWB2J9ztr9nvDTE=;
 b=WnNpLLKTo2WjtdmuwE6Qf5rH1VM61ovDgSVgZCcnDuZGv++aMXpaghw2yofFXnDybErTP0uf3WxQwlgtS9wyTvXncalqGOHDmu5Q1ZTawtML7Y9wINbkgUi8VvqyjnXvbX9Vul4lcCf0MvPCb6xx88q5gDI5psq2laKqGL3JurI=
Received: from DM4PR12MB5152.namprd12.prod.outlook.com (2603:10b6:5:393::16)
 by MN2PR12MB4376.namprd12.prod.outlook.com (2603:10b6:208:26c::16) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.9094.18; Wed, 10 Sep
 2025 08:12:13 +0000
Received: from DM4PR12MB5152.namprd12.prod.outlook.com
 ([fe80::d4b5:6a30:96d5:e3ed]) by DM4PR12MB5152.namprd12.prod.outlook.com
 ([fe80::d4b5:6a30:96d5:e3ed%7]) with mapi id 15.20.9094.021; Wed, 10 Sep 2025
 08:12:13 +0000
From: "Zhang, Jesse(Jie)" <Jesse.Zhang@amd.com>
To: Alex Deucher <alexdeucher@gmail.com>
CC: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>, "Deucher, 
 Alexander" <Alexander.Deucher@amd.com>, "Koenig, Christian"
 <Christian.Koenig@amd.com>
Subject: RE: [PATCH 3/3] drm/amdgpu: Implement user queue reset functionality
Thread-Topic: [PATCH 3/3] drm/amdgpu: Implement user queue reset functionality
Thread-Index: AQHcHhQXNYN0CVd7RUWjCfmYuIVonbSLXzUAgAC0VZA=
Date: Wed, 10 Sep 2025 08:12:12 +0000
Message-ID: <DM4PR12MB51528E795709BC702D2009E9E30EA@DM4PR12MB5152.namprd12.prod.outlook.com>
References: <20250905032026.3256999-1-Jesse.Zhang@amd.com>
 <20250905032026.3256999-3-Jesse.Zhang@amd.com>
 <CADnq5_PkUxWvtx2p0WrncvJzWtpayvdo3xznikHjGOqz9CQ_TQ@mail.gmail.com>
In-Reply-To: <CADnq5_PkUxWvtx2p0WrncvJzWtpayvdo3xznikHjGOqz9CQ_TQ@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
msip_labels: MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_Enabled=True;
 MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_SiteId=3dd8961f-e488-4e60-8e11-a82d994e183d;
 MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_SetDate=2025-09-10T07:52:25.0000000Z;
 MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_Name=AMD
 Internal Distribution
 Only; MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_ContentBits=3;
 MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_Method=Standard
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=amd.com;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: DM4PR12MB5152:EE_|MN2PR12MB4376:EE_
x-ms-office365-filtering-correlation-id: 10eb37bc-180d-41d9-1453-08ddf041bf58
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0; ARA:13230040|366016|1800799024|376014|38070700021;
x-microsoft-antispam-message-info: =?utf-8?B?YTZPTXVrelIzRG15Mm9BMzhhUURheDAzUnFZOXFMNzBZRGZTM1BjMkF1ajh0?=
 =?utf-8?B?QlZ3Uis4MlFPUkd1TVBjNFRCNnFRRVo4NXorMGVLSVdObXdrR2c2M1lXTmx3?=
 =?utf-8?B?Yy9DT2l3OStTdXFOcW5DLy90Yno5SnBqWHBqOXJkOU5QRXp3Z3JGZkFENy9a?=
 =?utf-8?B?NFVmTGxkcXorZnF4TkxTTnlBdCtVSlFZYWJyTW1jblYwVFc1U1UxVzZCV29S?=
 =?utf-8?B?TUR0NHowWlBvTzcyeFdCRXJoQk9DcVcxZDkrS0x6cW96S1hmQXBldlZoQzVx?=
 =?utf-8?B?UDB5QnExcjhMVWZsc2tWWFdISVZrL0NtREJzaVBJKzRKLzBpQ3c0Mm9CSlk4?=
 =?utf-8?B?VWVYZy9rMU16RnFReEY3c1dTSFZBa3JtTm9rMVVISURCUUYwa0xGNTlTMFA2?=
 =?utf-8?B?VUp5WkNyRy91Y1FnTXZ5czVNaVdzbzB4Y3JPbVpYMk1ZVzNVTmV4N2ZyUkov?=
 =?utf-8?B?bUV1bTdBbzJ1N2FydWc1VHJnajQ2Nk8wLytEbDJmbzBhQXpITW05MnV2bCsw?=
 =?utf-8?B?ZnFDUjFCc200VkcvSGRiMEtIdU5tYXBNK2pwNXZ2NHFRMDVDeCtDcmZ0eng5?=
 =?utf-8?B?ZS9QbFRad3VkVUdRdFljTytnZUhkZDYwQmZsL0NBN2ROMFNid1VYK1ZoT0x6?=
 =?utf-8?B?bFVBaTFwdkpka1VUTnRZYW5xeTQwRS9BVjVuQzFXVHhkV0plS09BZ0x2Z2Nx?=
 =?utf-8?B?Vm9zMmFtK2xjZzdSc01oWXk0cTIzR1dOaVArVlNHVnVJL0oyOXppUG9rMDlK?=
 =?utf-8?B?ZFVaV0lheVRrS3BiVDh4bkpVQisrczJNQS94eWJUeFpUQ3pCVlVKMDB3UStN?=
 =?utf-8?B?TFhXSkYwaUx1Tkl1L0pYdTVkRHJiUW5hR0ZPL21WL21meWpIbGFiVEdMYzJQ?=
 =?utf-8?B?T3FUUkR6b3lNZVNYOWd6alR3MEc0Q3dKaHNUWEtXcERHdEJTQUszUGY0SWpi?=
 =?utf-8?B?d1poV1gvZ2sxRHBNOVVDWno1MFhqOVNQY0hwK1F5QUF1VHFCU0o4Mnl1d3dN?=
 =?utf-8?B?TlEvUkxYVStBbTJXZ2NPYjg0WVN1Z2dsS2crUi9EazZ1WEl3d0dHNnJvNmpW?=
 =?utf-8?B?RUtSSThPOTlUaVBFZ3NRMXVwUWc0K21JajlsRldqTGVNK2ZiRkNCSFJQMXZE?=
 =?utf-8?B?eVpCclpxQVBQeTkvMW1QdWdBTGtTVDZub3p5M1M3NklaS09YbWhwYXV1SDdZ?=
 =?utf-8?B?Z1NDRHVBYTcvS2ZSSmJTODdvaGJpTU1PZDNKQXc2Y0JlTU1OYm9tK2hMWmx6?=
 =?utf-8?B?VDczN2FRREMwMG9GZDFzQXpLY0JTWVphTWRnMDVSNDduVnBPNEVkTXN2T2Uy?=
 =?utf-8?B?UXIrRmYrTXZVdWRJNzVoUnhXcjM2WEMwYTZCWHkyeXhzS1BFQnBUdUw3U0NC?=
 =?utf-8?B?YVA1S1U5REdIWTExd0JyZ1RSd1d1WWwwQ2F2ZG5kQ3k2OFdsL2RZQXlDaGFW?=
 =?utf-8?B?QjdDWE9RSVpFTEdJQjlvU2l0a3kwOG5XaGNUdkhUdDlXOWpIdUZSQkVLejdK?=
 =?utf-8?B?dUR3b3Q3cDdKeXU1Ykd3VlhNblhZdUpxbExwYmUxcFNjZytmZFRjK1V6aS94?=
 =?utf-8?B?N2JaaGk4OWlvVm5HWVBJendwS29DVlEwV0ZkcWdHT0dYNFhlOTU0L1FyZnlW?=
 =?utf-8?B?cEVzS2hhdUpoY25saVVtTUdITXovazJnYm9wYzE4OUJiNUhRb0hCR3U0UTJw?=
 =?utf-8?B?a0hnWjFONnRKTmRlaUNscUhlZmQ1Ny9haUliKzlkRit5eG1CbCtVS1JnNTJr?=
 =?utf-8?B?YTZwYng2bmY4QU5IdEhKQ1pBUE9FYTNrY3RSZU9rMHZQOCtqMkZsSi9yc09V?=
 =?utf-8?B?YU1jaDJVMFgwR0F3N2FGdnRSK0d4NGx0NXFsMHpZL0E3Y1BtQ09GdWhnTW1h?=
 =?utf-8?B?b2F4akppNGJINUpLUW91YTFUQ2pMdk9qSGVBNHhhREZhOXcrRno3YVRGRWF1?=
 =?utf-8?B?RnJBTEZKYTJ2T3BlZE1zNDZxQWx5UHNPd0ZlamczcWpQdGVIOWhra2FocXRk?=
 =?utf-8?Q?G4vXTKfOwndcpYNGetkJ+5jo47WM7w=3D?=
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:DM4PR12MB5152.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(13230040)(366016)(1800799024)(376014)(38070700021); DIR:OUT; SFP:1101; 
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?UDJGbXNtZFVhcE5hTUxHSFRqTTNrVUpiR0ZQMXJCRUJYQ05FWVptZ0xzR3Ru?=
 =?utf-8?B?VUd4ODZMaVJVR3hyK0JUcmg2TWhYWTNYcDBlUmpPVXdvZCs5S0xhWXpLVzlv?=
 =?utf-8?B?bWRxUlIxZGhsUFpuUkM2cll3QmlKL3dvZWd1WjVMSW1iNUlFREs3ZnkydmhC?=
 =?utf-8?B?c29VTGZ6UlVFcytLNEtaUDlpVVZJVjZMeFV3RzNjZ0s5M1pidmtkUHMvL3pG?=
 =?utf-8?B?Z01tMzdoSEkzYVhPdXZWNXo4N3cwOFZkTy9rNWlKSFZqREdpNFY4TklPdXlU?=
 =?utf-8?B?bS90WXU3aVA5Ly9meWRXVDVhUUpwZVArUUc5d0pQUUFxbm1acjJDTGpNRjJ3?=
 =?utf-8?B?SWFpT2NsRzdTR2dMZjRocW1kZ1Fyc3N1S1NtRHNJWkROd3F5SnJEc29weTZw?=
 =?utf-8?B?bjJzRVNyNDRFSVczWTErdm42REliUDk2aXYxaEN1cGRVTC9nTkpQc0tZaThX?=
 =?utf-8?B?WlZQOE9yVm1JVDRnNEJIVVV2encyaEdod2NldzNjV0pYMmVDdkRHOUVRaW94?=
 =?utf-8?B?aHV5RmIwN1E0MU1UZ3JWVkF6SkZnZkNGTFJmYWxCUHNCRjFncWNlTGZsRXky?=
 =?utf-8?B?aXBhNld4Q0FwVHJvd1liZDBleTdVV1NYQVlvaGE1QU12TmhaV1hJUGdiUkhM?=
 =?utf-8?B?NDhtampNVFlmS0lQZlFUR1FxNjV2bkh5dWxobnlxVjBqOVhBM2pWYlpXYW4r?=
 =?utf-8?B?cnNTS0doOVUvVFFyRWV4dUNTVEpFQmpDS3QzdjAwWlFiTzFwRmVyNGRyUExM?=
 =?utf-8?B?U0NtMmpmeUxkaXZFNUhhdFc2VjhFOWovMmFPUTdYbkJCQ04zUDJ4aE5PTy9z?=
 =?utf-8?B?bUVqYnFHWjZQRENISjN0N01CZHROZXdSMXoySXdDZ1dINStQZjVWbU81TkMr?=
 =?utf-8?B?K05namhQc1RVeFlXZkV5ZzNqUElLS0Y1NXNrMEs4ODFQblpvZXJzckRYTXpR?=
 =?utf-8?B?T2JEK3Q3bHZVSDh4b1BCdUlIUnd4bWhaWVlvbWgrSUFRY3VVUlUyc0dGTDFz?=
 =?utf-8?B?anNud3JURjR4VEsrb2l1Skl4b25XdVRHS0JaWGp1ZGtFU0pIdmY2bTRVc0NT?=
 =?utf-8?B?TmZzT1FEWE9RRHczOVM2bEZtM3lldUpOUGVISDNIOFZsT2JJS1FZcFdidnRp?=
 =?utf-8?B?cDk0ei9iS0RBSVJIc2IxRUVmUC9ycC80Mi9FN3lsSW1ORHVXdmNYOEhFT3Ez?=
 =?utf-8?B?dnZMYUhYNWwxODJIRSsvdnZ1SHhGa0pOY2tQWjV1Y251eWxMS1FIS2dxYkNx?=
 =?utf-8?B?dHVZZlo1b3dJWVdOZ2pmcVY5Q2d6ODJBbWlHaW5paTNQY2dFalJUYmNuZkZl?=
 =?utf-8?B?bHJWRDNaaHpjUmlMYTA1dHAwVENWRlI0dDhHcEFFSUoxSDAyUW1QVDBtOFZi?=
 =?utf-8?B?YVBENXh3RkVVVU00WkZwb1BlVEhZOFRtQUNNUTUrSUR2VlQvQWtEMmR5MVlN?=
 =?utf-8?B?TEtlY1p3eUd1Y3RCQTJOZmFnWURWc0orVlM4MmYzR1B1K3lKb1J3NzBOejVL?=
 =?utf-8?B?SXp3VTJIUFE4N1M5N0ZQY3VWcUZJY2s0OGpqdGR6QnVkM3Ewb0JPZVZydHJj?=
 =?utf-8?B?ZzNnMGxIcGhNQlNsTVNDKytQZUc1eTd3V2w2WS9tWkcxN2VlWG1XWUVtUldY?=
 =?utf-8?B?Y0lETE4xdHBXQSt6WmwyRDdnRHhlNWhWTWxrN25KUEtUUGtWTjRXdTlBR01v?=
 =?utf-8?B?b1ByZmdKVTN1MFFKRmdwd2FLTVlUN0xuS21EVTJFdTZPbjdacWR1MGh5ZWtj?=
 =?utf-8?B?LzJwOERQVTl2M3N1NWRrL3BUNng0TXJ5Vnczd3lKd1gwcjRNM0RBd1BQYTdG?=
 =?utf-8?B?U2ZWWXk2YXpDY3I0eUxMTnRNSUwyaW92UmJzMTVrNHhGSDRha3A5OUZUN0pT?=
 =?utf-8?B?RHVjNUhWRUZqdmk2QVNIVk01UCtjRis4NHJOSnRVNFZ6RHJUaXFISjVvczdY?=
 =?utf-8?B?cFppbHlHV2c2MWVzOXkvMldBeXdhMFJ2bTBhKzZ5OFdlM1FETE9HQzVaUnFy?=
 =?utf-8?B?RndvWmlZRVVsNXM4OWh3MDlIYjZkWGNOcTBzZDEyQzh0bGtGY1lzNGV1MTBC?=
 =?utf-8?B?ZzY4Nlg1VExFcmdadk4yN1pTRjZRQUNieXFqQ0RUQk9uNzVqeXdQc21kVWc4?=
 =?utf-8?Q?U4E8=3D?=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: DM4PR12MB5152.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 10eb37bc-180d-41d9-1453-08ddf041bf58
X-MS-Exchange-CrossTenant-originalarrivaltime: 10 Sep 2025 08:12:13.0168 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: EyvXseKq+qSIzDoRFqQ891QSkqTMa74oM3GkDt6VA0IlSXpgWLHDziwU4ukBSAWQHNWXQs5BqAGnB0s9+LSX+Q==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB4376
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

W0FNRCBPZmZpY2lhbCBVc2UgT25seSAtIEFNRCBJbnRlcm5hbCBEaXN0cmlidXRpb24gT25seV0N
Cg0KLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZyb206IEFsZXggRGV1Y2hlciA8YWxleGRl
dWNoZXJAZ21haWwuY29tPg0KU2VudDogV2VkbmVzZGF5LCBTZXB0ZW1iZXIgMTAsIDIwMjUgNTow
NyBBTQ0KVG86IFpoYW5nLCBKZXNzZShKaWUpIDxKZXNzZS5aaGFuZ0BhbWQuY29tPg0KQ2M6IGFt
ZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnOyBEZXVjaGVyLCBBbGV4YW5kZXIgPEFsZXhhbmRl
ci5EZXVjaGVyQGFtZC5jb20+OyBLb2VuaWcsIENocmlzdGlhbiA8Q2hyaXN0aWFuLktvZW5pZ0Bh
bWQuY29tPg0KU3ViamVjdDogUmU6IFtQQVRDSCAzLzNdIGRybS9hbWRncHU6IEltcGxlbWVudCB1
c2VyIHF1ZXVlIHJlc2V0IGZ1bmN0aW9uYWxpdHkNCg0KT24gVGh1LCBTZXAgNCwgMjAyNSBhdCAx
MToyMOKAr1BNIEplc3NlLlpoYW5nIDxKZXNzZS5aaGFuZ0BhbWQuY29tPiB3cm90ZToNCj4NCj4g
VGhpcyBwYXRjaCBhZGRzIHJvYnVzdCByZXNldCBoYW5kbGluZyBmb3IgdXNlciBxdWV1ZXMgKHVz
ZXJxKSB0bw0KPiBpbXByb3ZlIHJlY292ZXJ5IGZyb20gcXVldWUgZmFpbHVyZXMuIFRoZSBrZXkg
Y29tcG9uZW50cyBpbmNsdWRlOg0KPg0KPiAxLiBRdWV1ZSBkZXRlY3Rpb24gYW5kIHJlc2V0IGxv
Z2ljOg0KPiAgICAtIGFtZGdwdV91c2VycV9kZXRlY3RfYW5kX3Jlc2V0X3F1ZXVlcygpIGlkZW50
aWZpZXMgZmFpbGVkIHF1ZXVlcw0KPiAgICAtIFBlci1JUCBkZXRlY3RfYW5kX3Jlc2V0IGNhbGxi
YWNrcyBmb3IgdGFyZ2V0ZWQgcmVjb3ZlcnkNCj4gICAgLSBGYWxscyBiYWNrIHRvIGZ1bGwgR1BV
IHJlc2V0IHdoZW4gbmVlZGVkDQo+DQo+IDIuIFJlc2V0IGluZnJhc3RydWN0dXJlOg0KPiAgICAt
IEFkZHMgdXNlcnFfcmVzZXRfd29yayB3b3JrcXVldWUgZm9yIGFzeW5jIHJlc2V0IGhhbmRsaW5n
DQo+ICAgIC0gSW1wbGVtZW50cyBwcmUvcG9zdCByZXNldCBoYW5kbGVycyBmb3IgcXVldWUgc3Rh
dGUgbWFuYWdlbWVudA0KPiAgICAtIEludGVncmF0ZXMgd2l0aCBleGlzdGluZyBHUFUgcmVzZXQg
ZnJhbWV3b3JrDQo+DQo+IDMuIEVycm9yIGhhbmRsaW5nIGltcHJvdmVtZW50czoNCj4gICAgLSBF
bmhhbmNlZCBzdGF0ZSB0cmFja2luZyB3aXRoIEhVTkcgc3RhdGUNCj4gICAgLSBBdXRvbWF0aWMg
cmVzZXQgdHJpZ2dlcmluZyBvbiBjcml0aWNhbCBmYWlsdXJlcw0KPiAgICAtIFZSQU0gbG9zcyBo
YW5kbGluZyBkdXJpbmcgcmVjb3ZlcnkNCj4NCj4gNC4gSW50ZWdyYXRpb24gcG9pbnRzOg0KPiAg
ICAtIEFkZGVkIHRvIGRldmljZSBpbml0L3Jlc2V0IHBhdGhzDQo+ICAgIC0gQ2FsbGVkIGR1cmlu
ZyBxdWV1ZSBkZXN0cm95LCBzdXNwZW5kLCBhbmQgaXNvbGF0aW9uIGV2ZW50cw0KPiAgICAtIEhh
bmRsZXMgYm90aCBpbmRpdmlkdWFsIHF1ZXVlIGFuZCBmdWxsIEdQVSByZXNldHMNCj4NCj4gVGhl
IHJlc2V0IGZ1bmN0aW9uYWxpdHkgd29ya3Mgd2l0aCBib3RoIGdmeC9jb21wdXRlIGFuZCBzZG1h
IHF1ZXVlcywNCj4gcHJvdmlkaW5nIGJldHRlciByZXNpbGllbmNlIGFnYWluc3QgcXVldWUgZmFp
bHVyZXMgd2hpbGUgbWluaW1pemluZw0KPiBkaXNydXB0aW9uIHRvIHVuYWZmZWN0ZWQgcXVldWVz
Lg0KPg0KPiB2MjogYWRkIGRldGVjdGlvbiBhbmQgcmVzZXQgY2FsbHMgd2hlbiBwcmVlbXB0aW9u
L3VubWFwZWQgZmFpbHMuDQo+ICAgICBhZGQgYSBwZXIgZGV2aWNlIHVzZXJxIGNvdW50ZXIgZm9y
IGVhY2ggdXNlciBxdWV1ZSB0eXBlLihBbGV4KQ0KPiB2MzogbWFrZSBzdXJlIHdlIGhvbGQgdGhl
IGFkZXYtPnVzZXJxX211dGV4IHdoZW4gd2UgY2FsbCBhbWRncHVfdXNlcnFfZGV0ZWN0X2FuZF9y
ZXNldF9xdWV1ZXMuIChBbGV4KQ0KPiAgICB3YXJuIGlmIHRoZSBhZGV2LT51c2VycV9tdXRleCBp
cyBub3QgaGVsZC4NCj4gdjQ6IG1ha2Ugc3VyZSB3ZSBoYXZlIGFsbCBvZiB0aGUgdXFtLT51c2Vy
cV9tdXRleCBoZWxkLg0KPiAgICB3YXJuIGlmIHRoZSB1cW0tPnVzZXJxX211dGV4IGlzIG5vdCBo
ZWxkLg0KPg0KPiBTaWduZWQtb2ZmLWJ5OiBBbGV4IERldWNoZXIgPGFsZXhhbmRlci5kZXVjaGVy
QGFtZC5jb20+DQo+IFNpZ25lZC1vZmYtYnk6IEplc3NlIFpoYW5nIDxKZXNzZS5aaGFuZ0BhbWQu
Y29tPg0KDQo+VGhlIGxvY2tpbmcgc3RpbGwgbG9va3Mgd3JvbmcuICBXaGVuIHdlIGNhbGwgZGV0
ZWN0X2FuZF9yZXNldCgpLCBhbGwgb2YgdGhlIHVxbS0+dXNlcnFfbXV0ZXggbmVlZCB0byBiZSBo
ZWxkIGFzIHRoYXQgZnVuY3Rpb24gYWZmZWN0cyBhbGwgdXNlcnMgcXVldWVzIG9mIGEgcGFydGlj
dWxhciB0eXBlIChnZngsIGNvbXB1dGUsIHNkbWEsIGV0Yy4pLiAgSXQgbWF5IGVuZCB1cCBnZXR0
aW5nIGNhbGxlZCBmb3Igb25lIHByb2Nlc3MgYW5kIGRldGVjdGluZyBhIGh1bmcgcXVldWUgZm9y
IGFub3RoZXIgcHJvY2Vzcy4gIEknbSBub3Qgc3VyZSBpZiBpdCdzIGZlYXNpYmxlIHRvIGxvY2sg
YWxsIG9mIHRoZSB1cW0gbXV0ZXhlcyBmb3IgYWxsIG9mIHRoZSBjYXNlcyB3aGVyZSB3ZSBlbmQg
dXAgaW4gZGV0ZWN0X2FuZF9yZXNldCgpLg0KPlRoYXQncyB3aHkgSSB0aGluayBpdCBtaWdodCBi
ZSBlYXNpZXIgdG8ganVzdCBzd2l0Y2ggb3ZlciB0byB0aGUgZ2xvYmFsIGFkZXYtPnVzZXJxX211
dGV4IGZvciBldmVyeXRoaW5nIGFuZCBnZXQgcmlkIG9mIHRoZSBwZXIgdXFtIG11dGV4LiAgSXQg
d2lsbCBzZXJpYWxpemUgYWxsIHVzZXJxIGhhbmRsaW5nIGluIHRoZSBrZXJuZWwsIGJ1dCB0aGF0
J3MgcHJvYmFibHkgZmluZS4gIFRoZSBrZXJuZWwgaGFuZGxpbmcgaXMgbm90IHJlYWxseSBwZXJm
b3JtYW5jZSBjcml0aWNhbC4NCg0KVGhhbmtzIEFsZXguIEkgdHJ5IHRvIGxvY2sgIGFsbCBvZiB0
aGUgdXFtLT51c2VycV9tdXRleCB0aGlzIHBhdGNoLCBsaWtlIHRoaXM6DQoNCmFtZGdwdV91c2Vy
cV9kZXRlY3RfYW5kX3Jlc2V0X3F1ZXVlcyhzdHJ1Y3QgYW1kZ3B1X3VzZXJxX21nciAqdXFfbWdy
KQ0Kew0KICAgLi4NCiAgICAgICAvKiB3YXJuaW5nIGlmIGdsb2JhbCBtdXRleCBvciBjdXJyZW50
IHByb2Nlc3MgbXV0ZXggaXMgbm90IGhlbGQgKi8NCiAgICAgICBXQVJOX09OKCFtdXRleF9pc19s
b2NrZWQoJmFkZXYtPnVzZXJxX211dGV4KSB8fCAhbXV0ZXhfaXNfbG9ja2VkKCZ1cV9tZ3ItPnVz
ZXJxX211dGV4KSk7DQogICAgICAgLyogbWFrZSBzdXJlIGFsbCBwcm9jZXNzIGxvY2tzIGFyZSBo
ZWxkICovDQogICAgICAgbGlzdF9mb3JfZWFjaF9lbnRyeV9zYWZlKHVxbSwgdG1wLCAmYWRldi0+
dXNlcnFfbWdyX2xpc3QsIGxpc3QpIHsNCiAgICAgICAgICAgICAgIGlmICh1cW0gIT0gdXFfbWdy
KQ0KICAgICAgICAgICAgICAgICAgICAgICBtdXRleF9sb2NrKCZ1cW0tPnVzZXJxX211dGV4KTsN
CiAgICAgICB9DQoNCkFuZCAgc3dpdGNoIG92ZXIgdG8gdGhlIGdsb2JhbCBsb2NrIGluIGEgc2Vw
YXJhdGUgcGF0Y2gNCg0KPiBBIGZldyBvdGhlciBjb21tZW50cyBpbmxpbmUgYmVsb3cuDQoNCj4g
LS0tDQo+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHUuaCAgICAgICAgICAgfCAg
IDEgKw0KPiAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RldmljZS5jICAgIHwg
ICA4ICsNCj4gIC4uLi9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZXZpY3Rpb25fZmVuY2UuYyAgICB8
ICAgMyAtDQo+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdXNlcnEuYyAgICAg
fCAyMTkgKysrKysrKysrKysrKysrKy0tDQo+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9h
bWRncHVfdXNlcnEuaCAgICAgfCAgIDggKw0KPiAgNSBmaWxlcyBjaGFuZ2VkLCAyMjMgaW5zZXJ0
aW9ucygrKSwgMTYgZGVsZXRpb25zKC0pDQo+DQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHUuaA0KPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdS5oDQo+IGluZGV4IDE3ODQ4Y2U2NWQxZi4uNzA3YTFmYjRhMDYxIDEwMDY0NA0KPiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHUuaA0KPiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9hbWRncHUuaA0KPiBAQCAtMTMxMCw2ICsxMzEwLDcgQEAgc3RydWN0
IGFtZGdwdV9kZXZpY2Ugew0KPiAgICAgICAgIHN0cnVjdCBsaXN0X2hlYWQgICAgICAgICAgICAg
ICAgdXNlcnFfbWdyX2xpc3Q7DQo+ICAgICAgICAgc3RydWN0IG11dGV4ICAgICAgICAgICAgICAg
ICAgICB1c2VycV9tdXRleDsNCj4gICAgICAgICBib29sICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHVzZXJxX2hhbHRfZm9yX2VuZm9yY2VfaXNvbGF0aW9uOw0KPiArICAgICAgIHN0cnVjdCB3
b3JrX3N0cnVjdCAgICAgICAgICAgICAgdXNlcnFfcmVzZXRfd29yazsNCj4gICAgICAgICBzdHJ1
Y3QgYW1kZ3B1X3VpZCAqdWlkX2luZm87DQo+DQo+ICAgICAgICAgLyogS0ZEDQo+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMNCj4gYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMNCj4gaW5kZXggYmRmYjgwMzc3
ZTZhLi44MmYwMWM3YTA2ZWEgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2FtZGdwdV9kZXZpY2UuYw0KPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9h
bWRncHVfZGV2aWNlLmMNCj4gQEAgLTQ1MzQsNiArNDUzNCw3IEBAIGludCBhbWRncHVfZGV2aWNl
X2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ICAgICAgICAgfQ0KPg0KPiAgICAg
ICAgIElOSVRfV09SSygmYWRldi0+eGdtaV9yZXNldF93b3JrLA0KPiBhbWRncHVfZGV2aWNlX3hn
bWlfcmVzZXRfZnVuYyk7DQo+ICsgICAgICAgSU5JVF9XT1JLKCZhZGV2LT51c2VycV9yZXNldF93
b3JrLCBhbWRncHVfdXNlcnFfcmVzZXRfd29yayk7DQo+DQo+ICAgICAgICAgYWRldi0+Z2Z4Lmdm
eF9vZmZfcmVxX2NvdW50ID0gMTsNCj4gICAgICAgICBhZGV2LT5nZnguZ2Z4X29mZl9yZXNpZGVu
Y3kgPSAwOyBAQCAtNTk1MSw2ICs1OTUyLDEwIEBAIGludA0KPiBhbWRncHVfZGV2aWNlX3JlaW5p
dF9hZnRlcl9yZXNldChzdHJ1Y3QgYW1kZ3B1X3Jlc2V0X2NvbnRleHQgKnJlc2V0X2NvbnRleHQp
DQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIpDQo+ICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvIG91dDsNCj4NCj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICByID0gYW1kZ3B1X3VzZXJxX3Bvc3RfcmVzZXQodG1wX2FkZXYs
IHZyYW1fbG9zdCk7DQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIpDQo+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvIG91dDsNCj4gKw0K
Pg0KPiBkcm1fY2xpZW50X2Rldl9yZXN1bWUoYWRldl90b19kcm0odG1wX2FkZXYpLCBmYWxzZSk7
DQo+DQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoNCj4gQEAgLTYxNzMsNiAr
NjE3OCw3IEBAIHN0YXRpYyBpbmxpbmUgdm9pZCBhbWRncHVfZGV2aWNlX3N0b3BfcGVuZGluZ19y
ZXNldHMoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpDQo+ICAgICAgICAgaWYgKCFhbWRncHVf
c3Jpb3ZfdmYoYWRldikpDQo+ICAgICAgICAgICAgICAgICBjYW5jZWxfd29yaygmYWRldi0+cmVz
ZXRfd29yayk7ICAjZW5kaWYNCj4gKyAgICAgICBjYW5jZWxfd29yaygmYWRldi0+dXNlcnFfcmVz
ZXRfd29yayk7DQo+DQo+ICAgICAgICAgaWYgKGFkZXYtPmtmZC5kZXYpDQo+ICAgICAgICAgICAg
ICAgICBjYW5jZWxfd29yaygmYWRldi0+a2ZkLnJlc2V0X3dvcmspOw0KPiBAQCAtNjI5Myw2ICs2
Mjk5LDggQEAgc3RhdGljIHZvaWQgYW1kZ3B1X2RldmljZV9oYWx0X2FjdGl2aXRpZXMoc3RydWN0
IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ICAgICAgICAgICAgICAgICAgICAgYW1kZ3B1X2Rldmlj
ZV9pcF9uZWVkX2Z1bGxfcmVzZXQodG1wX2FkZXYpKQ0KPiAgICAgICAgICAgICAgICAgICAgICAg
ICBhbWRncHVfcmFzX3N1c3BlbmQodG1wX2FkZXYpOw0KPg0KPiArICAgICAgICAgICAgICAgYW1k
Z3B1X3VzZXJxX3ByZV9yZXNldCh0bXBfYWRldik7DQo+ICsNCj4gICAgICAgICAgICAgICAgIGZv
ciAoaSA9IDA7IGkgPCBBTURHUFVfTUFYX1JJTkdTOyArK2kpIHsNCj4gICAgICAgICAgICAgICAg
ICAgICAgICAgc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nID0gdG1wX2FkZXYtPnJpbmdzW2ldOw0K
Pg0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2V2aWN0
aW9uX2ZlbmNlLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZXZpY3Rpb25f
ZmVuY2UuYw0KPiBpbmRleCAyM2Q3ZDBiMGQ2MjUuLjQ0NzFlNGMzODhhZCAxMDA2NDQNCj4gLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2V2aWN0aW9uX2ZlbmNlLmMNCj4g
KysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2V2aWN0aW9uX2ZlbmNlLmMN
Cj4gQEAgLTEwNyw3ICsxMDcsNiBAQCBhbWRncHVfZXZpY3Rpb25fZmVuY2Vfc3VzcGVuZF93b3Jr
ZXIoc3RydWN0IHdvcmtfc3RydWN0ICp3b3JrKQ0KPiAgICAgICAgIHN0cnVjdCBhbWRncHVfdXNl
cnFfbWdyICp1cV9tZ3IgPSAmZnByaXYtPnVzZXJxX21ncjsNCj4gICAgICAgICBzdHJ1Y3QgYW1k
Z3B1X2V2aWN0aW9uX2ZlbmNlICpldl9mZW5jZTsNCj4NCj4gLSAgICAgICBtdXRleF9sb2NrKCZ1
cV9tZ3ItPnVzZXJxX211dGV4KTsNCj4gICAgICAgICBzcGluX2xvY2soJmV2Zl9tZ3ItPmV2X2Zl
bmNlX2xvY2spOw0KPiAgICAgICAgIGV2X2ZlbmNlID0gZXZmX21nci0+ZXZfZmVuY2U7DQo+ICAg
ICAgICAgaWYgKGV2X2ZlbmNlKQ0KPiBAQCAtMTE4LDEzICsxMTcsMTEgQEAgYW1kZ3B1X2V2aWN0
aW9uX2ZlbmNlX3N1c3BlbmRfd29ya2VyKHN0cnVjdCB3b3JrX3N0cnVjdCAqd29yaykNCj4NCj4g
ICAgICAgICBhbWRncHVfdXNlcnFfZXZpY3QodXFfbWdyLCBldl9mZW5jZSk7DQo+DQo+IC0gICAg
ICAgbXV0ZXhfdW5sb2NrKCZ1cV9tZ3ItPnVzZXJxX211dGV4KTsNCj4gICAgICAgICBkbWFfZmVu
Y2VfcHV0KCZldl9mZW5jZS0+YmFzZSk7DQo+ICAgICAgICAgcmV0dXJuOw0KPg0KPiAgdW5sb2Nr
Og0KPiAgICAgICAgIHNwaW5fdW5sb2NrKCZldmZfbWdyLT5ldl9mZW5jZV9sb2NrKTsNCj4gLSAg
ICAgICBtdXRleF91bmxvY2soJnVxX21nci0+dXNlcnFfbXV0ZXgpOw0KPiAgfQ0KPg0KPiAgc3Rh
dGljIGJvb2wgYW1kZ3B1X2V2aWN0aW9uX2ZlbmNlX2VuYWJsZV9zaWduYWxpbmcoc3RydWN0IGRt
YV9mZW5jZSAqZikNCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV91c2VycS5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3VzZXJxLmMN
Cj4gaW5kZXggNzc3MmRlMTZmMTJiLi41NjZhMjZjMDUyNjIgMTAwNjQ0DQo+IC0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV91c2VycS5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV91c2VycS5jDQo+IEBAIC0yNSw4ICsyNSwxMCBAQA0KPiAg
I2luY2x1ZGUgPGRybS9kcm1fYXV0aC5oPg0KPiAgI2luY2x1ZGUgPGRybS9kcm1fZXhlYy5oPg0K
PiAgI2luY2x1ZGUgPGxpbnV4L3BtX3J1bnRpbWUuaD4NCj4gKyNpbmNsdWRlIDxkcm0vZHJtX2Ry
di5oPg0KPg0KPiAgI2luY2x1ZGUgImFtZGdwdS5oIg0KPiArI2luY2x1ZGUgImFtZGdwdV9yZXNl
dC5oIg0KPiAgI2luY2x1ZGUgImFtZGdwdV92bS5oIg0KPiAgI2luY2x1ZGUgImFtZGdwdV91c2Vy
cS5oIg0KPiAgI2luY2x1ZGUgImFtZGdwdV91c2VycV9mZW5jZS5oIg0KPiBAQCAtNDQsNiArNDYs
NjcgQEAgdTMyIGFtZGdwdV91c2VycV9nZXRfc3VwcG9ydGVkX2lwX21hc2soc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYpDQo+ICAgICAgICAgcmV0dXJuIHVzZXJxX2lwX21hc2s7DQo+ICB9DQo+
DQo+ICtzdGF0aWMgdm9pZCBhbWRncHVfdXNlcnFfZ3B1X3Jlc2V0KHN0cnVjdCBhbWRncHVfZGV2
aWNlICphZGV2KQ0KPiArew0KPiArICAgICAgIGlmIChhbWRncHVfZGV2aWNlX3Nob3VsZF9yZWNv
dmVyX2dwdShhZGV2KSkgew0KPiArICAgICAgICAgICAgICAgYW1kZ3B1X3Jlc2V0X2RvbWFpbl9z
Y2hlZHVsZShhZGV2LT5yZXNldF9kb21haW4sDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICZhZGV2LT51c2VycV9yZXNldF93b3JrKTsNCj4gKyAgICAgICAg
ICAgICAgIC8qIFdhaXQgZm9yIHRoZSByZXNldCBqb2IgdG8gY29tcGxldGUgKi8NCj4gKyAgICAg
ICAgICAgICAgIGZsdXNoX3dvcmsoJmFkZXYtPnVzZXJxX3Jlc2V0X3dvcmspOw0KPiArICAgICAg
IH0NCj4gK30NCj4gKw0KPiArc3RhdGljIGludA0KPiArYW1kZ3B1X3VzZXJxX2RldGVjdF9hbmRf
cmVzZXRfcXVldWVzKHN0cnVjdCBhbWRncHVfdXNlcnFfbWdyICp1cV9tZ3IpDQo+ICt7DQo+ICsg
ICAgICAgc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSB1cV9tZ3ItPmFkZXY7DQo+ICsgICAg
ICAgY29uc3Qgc3RydWN0IGFtZGdwdV91c2VycV9mdW5jcyAqdXNlcnFfZ2Z4X2Z1bmNzID0NCj4g
KyAgICAgICAgICAgICAgICAgICAgICAgYWRldi0+dXNlcnFfZnVuY3NbQU1ER1BVX1JJTkdfVFlQ
RV9HRlhdOw0KPiArICAgICAgIGNvbnN0IHN0cnVjdCBhbWRncHVfdXNlcnFfZnVuY3MgKnVzZXJx
X2NvbXB1dGVfZnVuY3MgPQ0KPiArICAgICAgICAgICAgICAgICAgICAgICBhZGV2LT51c2VycV9m
dW5jc1tBTURHUFVfUklOR19UWVBFX0NPTVBVVEVdOw0KPiArICAgICAgIGNvbnN0IHN0cnVjdCBh
bWRncHVfdXNlcnFfZnVuY3MgKnVzZXJxX3NkbWFfZnVuY3MgPQ0KPiArICAgICAgICAgICAgICAg
ICAgICAgICBhZGV2LT51c2VycV9mdW5jc1tBTURHUFVfUklOR19UWVBFX1NETUFdOw0KPiArICAg
ICAgIGJvb2wgZ3B1X3Jlc2V0ID0gZmFsc2U7DQo+ICsgICAgICAgaW50IHIgPSAwOw0KPiArDQo+
ICsgICAgICAgLyogd2FybmluZyBpZiBnbG9iYWwgbXV0ZXggb3IgcHJvY2VzcyBtdXRleCBpcyBu
b3QgaGVsZCAqLw0KPiArICAgICAgIFdBUk5fT04oIW11dGV4X2lzX2xvY2tlZCgmYWRldi0+dXNl
cnFfbXV0ZXgpIHx8ICFtdXRleF9pc19sb2NrZWQoJnVxX21nci0+dXNlcnFfbXV0ZXgpKTsNCj4g
Kw0KPiArICAgICAgIGlmICh1bmxpa2VseShhZGV2LT5kZWJ1Z19kaXNhYmxlX2dwdV9yaW5nX3Jl
c2V0KSkgew0KPiArICAgICAgICAgICAgICAgZGV2X2VycihhZGV2LT5kZXYsICJ1c2VycSByZXNl
dCBkaXNhYmxlZCBieSBkZWJ1ZyBtYXNrXG4iKTsNCj4gKyAgICAgICB9IGVsc2UgaWYgKGFtZGdw
dV9ncHVfcmVjb3ZlcnkpIHsNCj4gKyAgICAgICAgICAgICAgIGlmICgoYXRvbWljX3JlYWQoJnVx
X21nci0+dXNlcnFfY29tcHV0ZV9jb3VudCkgPiAwKSAmJiB1c2VycV9jb21wdXRlX2Z1bmNzLT5k
ZXRlY3RfYW5kX3Jlc2V0KSB7DQo+ICsgICAgICAgICAgICAgICAgICAgICAgIHIgPSB1c2VycV9j
b21wdXRlX2Z1bmNzLT5kZXRlY3RfYW5kX3Jlc2V0KGFkZXYsIEFNREdQVV9SSU5HX1RZUEVfQ09N
UFVURSk7DQo+ICsgICAgICAgICAgICAgICAgICAgICAgIGlmIChyKSB7DQo+ICsgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgZ3B1X3Jlc2V0ID0gdHJ1ZTsNCj4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBnb3RvIGdwdV9yZXNldDsNCj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgfQ0KPiArICAgICAgICAgICAgICAgfQ0KPiArDQo+ICsgICAgICAgICAgICAgICBpZiAoKGF0
b21pY19yZWFkKCZ1cV9tZ3ItPnVzZXJxX2dmeF9jb3VudCkgPiAwKSAmJiB1c2VycV9nZnhfZnVu
Y3MtPmRldGVjdF9hbmRfcmVzZXQpIHsNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgciA9IHVz
ZXJxX2dmeF9mdW5jcy0+ZGV0ZWN0X2FuZF9yZXNldChhZGV2LCBBTURHUFVfUklOR19UWVBFX0dG
WCk7DQo+ICsgICAgICAgICAgICAgICAgICAgICAgIGlmIChyKSB7DQo+ICsgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgZ3B1X3Jlc2V0ID0gdHJ1ZTsNCj4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBnb3RvIGdwdV9yZXNldDsNCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
fQ0KPiArICAgICAgICAgICAgICAgfQ0KPiArDQo+ICsgICAgICAgICAgICAgICBpZiAoKGF0b21p
Y19yZWFkKCZ1cV9tZ3ItPnVzZXJxX3NkbWFfY291bnQpID4gMCkgJiYgdXNlcnFfc2RtYV9mdW5j
cy0+ZGV0ZWN0X2FuZF9yZXNldCkgew0KPiArICAgICAgICAgICAgICAgICAgICAgICByID0gdXNl
cnFfc2RtYV9mdW5jcy0+ZGV0ZWN0X2FuZF9yZXNldChhZGV2LCBBTURHUFVfUklOR19UWVBFX1NE
TUEpOw0KPiArICAgICAgICAgICAgICAgICAgICAgICBpZiAocikgew0KPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGdwdV9yZXNldCA9IHRydWU7DQo+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgZ290byBncHVfcmVzZXQ7DQo+ICsgICAgICAgICAgICAgICAgICAgICAg
IH0NCj4gKyAgICAgICAgICAgICAgIH0NCj4gKyAgICAgICB9DQo+ICsNCj4gK2dwdV9yZXNldDoN
Cj4gKyAgICAgICBpZiAoZ3B1X3Jlc2V0KQ0KPiArICAgICAgICAgICAgICAgYW1kZ3B1X3VzZXJx
X2dwdV9yZXNldChhZGV2KTsNCj4gKw0KPiArICAgICAgIHJldHVybiByOw0KPiArfQ0KPiArDQo+
ICBzdGF0aWMgaW50DQo+ICBhbWRncHVfdXNlcnFfcHJlZW1wdF9oZWxwZXIoc3RydWN0IGFtZGdw
dV91c2VycV9tZ3IgKnVxX21nciwNCj4gICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3Qg
YW1kZ3B1X3VzZXJtb2RlX3F1ZXVlICpxdWV1ZSkNCj4gQEAgLTUxLDE3ICsxMTQsMjIgQEAgYW1k
Z3B1X3VzZXJxX3ByZWVtcHRfaGVscGVyKHN0cnVjdCBhbWRncHVfdXNlcnFfbWdyICp1cV9tZ3Is
DQo+ICAgICAgICAgc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSB1cV9tZ3ItPmFkZXY7DQo+
ICAgICAgICAgY29uc3Qgc3RydWN0IGFtZGdwdV91c2VycV9mdW5jcyAqdXNlcnFfZnVuY3MgPQ0K
PiAgICAgICAgICAgICAgICAgYWRldi0+dXNlcnFfZnVuY3NbcXVldWUtPnF1ZXVlX3R5cGVdOw0K
PiArICAgICAgIGJvb2wgZm91bmRfaHVuZ19xdWV1ZSA9IGZhbHNlOw0KPiAgICAgICAgIGludCBy
ID0gMDsNCj4NCj4gICAgICAgICBpZiAocXVldWUtPnN0YXRlID09IEFNREdQVV9VU0VSUV9TVEFU
RV9NQVBQRUQpIHsNCj4gICAgICAgICAgICAgICAgIHIgPSB1c2VycV9mdW5jcy0+cHJlZW1wdCh1
cV9tZ3IsIHF1ZXVlKTsNCj4gICAgICAgICAgICAgICAgIGlmIChyKSB7DQo+ICAgICAgICAgICAg
ICAgICAgICAgICAgIHF1ZXVlLT5zdGF0ZSA9IEFNREdQVV9VU0VSUV9TVEFURV9IVU5HOw0KPiAr
ICAgICAgICAgICAgICAgICAgICAgICBmb3VuZF9odW5nX3F1ZXVlID0gdHJ1ZTsNCj4gICAgICAg
ICAgICAgICAgIH0gZWxzZSB7DQo+ICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlLT5zdGF0
ZSA9IEFNREdQVV9VU0VSUV9TVEFURV9QUkVFTVBURUQ7DQo+ICAgICAgICAgICAgICAgICB9DQo+
ICAgICAgICAgfQ0KPg0KPiArICAgICAgIGlmIChmb3VuZF9odW5nX3F1ZXVlKQ0KPiArICAgICAg
ICAgICAgICAgYW1kZ3B1X3VzZXJxX2RldGVjdF9hbmRfcmVzZXRfcXVldWVzKHVxX21ncik7DQo+
ICsNCj4gICAgICAgICByZXR1cm4gcjsNCj4gIH0NCj4NCj4gQEAgLTkzLDE2ICsxNjEsMjMgQEAg
YW1kZ3B1X3VzZXJxX3VubWFwX2hlbHBlcihzdHJ1Y3QgYW1kZ3B1X3VzZXJxX21nciAqdXFfbWdy
LA0KPiAgICAgICAgIHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gdXFfbWdyLT5hZGV2Ow0K
PiAgICAgICAgIGNvbnN0IHN0cnVjdCBhbWRncHVfdXNlcnFfZnVuY3MgKnVzZXJxX2Z1bmNzID0N
Cj4gICAgICAgICAgICAgICAgIGFkZXYtPnVzZXJxX2Z1bmNzW3F1ZXVlLT5xdWV1ZV90eXBlXTsN
Cj4gKyAgICAgICBib29sIGZvdW5kX2h1bmdfcXVldWUgPSBmYWxzZTsNCj4gICAgICAgICBpbnQg
ciA9IDA7DQo+DQo+ICAgICAgICAgaWYgKChxdWV1ZS0+c3RhdGUgPT0gQU1ER1BVX1VTRVJRX1NU
QVRFX01BUFBFRCkgfHwNCj4gICAgICAgICAgICAgICAgIChxdWV1ZS0+c3RhdGUgPT0gQU1ER1BV
X1VTRVJRX1NUQVRFX1BSRUVNUFRFRCkpIHsNCj4gICAgICAgICAgICAgICAgIHIgPSB1c2VycV9m
dW5jcy0+dW5tYXAodXFfbWdyLCBxdWV1ZSk7DQo+IC0gICAgICAgICAgICAgICBpZiAocikNCj4g
KyAgICAgICAgICAgICAgIGlmIChyKSB7DQo+ICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVl
LT5zdGF0ZSA9IEFNREdQVV9VU0VSUV9TVEFURV9IVU5HOw0KPiAtICAgICAgICAgICAgICAgZWxz
ZQ0KPiArICAgICAgICAgICAgICAgICAgICAgICBmb3VuZF9odW5nX3F1ZXVlID0gdHJ1ZTsNCj4g
KyAgICAgICAgICAgICAgIH0gZWxzZSB7DQo+ICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVl
LT5zdGF0ZSA9IEFNREdQVV9VU0VSUV9TVEFURV9VTk1BUFBFRDsNCj4gKyAgICAgICAgICAgICAg
IH0NCj4gICAgICAgICB9DQo+ICsNCj4gKyAgICAgICBpZiAoZm91bmRfaHVuZ19xdWV1ZSkNCj4g
KyAgICAgICAgICAgICAgIGFtZGdwdV91c2VycV9kZXRlY3RfYW5kX3Jlc2V0X3F1ZXVlcyh1cV9t
Z3IpOw0KPiArDQo+ICAgICAgICAgcmV0dXJuIHI7DQo+ICB9DQo+DQo+IEBAIC0xMTMsMTYgKzE4
OCwyMiBAQCBhbWRncHVfdXNlcnFfbWFwX2hlbHBlcihzdHJ1Y3QgYW1kZ3B1X3VzZXJxX21nciAq
dXFfbWdyLA0KPiAgICAgICAgIHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gdXFfbWdyLT5h
ZGV2Ow0KPiAgICAgICAgIGNvbnN0IHN0cnVjdCBhbWRncHVfdXNlcnFfZnVuY3MgKnVzZXJxX2Z1
bmNzID0NCj4gICAgICAgICAgICAgICAgIGFkZXYtPnVzZXJxX2Z1bmNzW3F1ZXVlLT5xdWV1ZV90
eXBlXTsNCj4gKyAgICAgICBib29sIGdwdV9yZXNldCA9IGZhbHNlOw0KPiAgICAgICAgIGludCBy
ID0gMDsNCj4NCj4gICAgICAgICBpZiAocXVldWUtPnN0YXRlID09IEFNREdQVV9VU0VSUV9TVEFU
RV9VTk1BUFBFRCkgew0KPiAgICAgICAgICAgICAgICAgciA9IHVzZXJxX2Z1bmNzLT5tYXAodXFf
bWdyLCBxdWV1ZSk7DQo+ICAgICAgICAgICAgICAgICBpZiAocikgew0KPiAgICAgICAgICAgICAg
ICAgICAgICAgICBxdWV1ZS0+c3RhdGUgPSBBTURHUFVfVVNFUlFfU1RBVEVfSFVORzsNCj4gKyAg
ICAgICAgICAgICAgICAgICAgICAgZ3B1X3Jlc2V0ID0gdHJ1ZTsNCj4gICAgICAgICAgICAgICAg
IH0gZWxzZSB7DQo+ICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlLT5zdGF0ZSA9IEFNREdQ
VV9VU0VSUV9TVEFURV9NQVBQRUQ7DQo+ICAgICAgICAgICAgICAgICB9DQo+ICAgICAgICAgfQ0K
PiArDQo+ICsgICAgICAgaWYgKGdwdV9yZXNldCkNCj4gKyAgICAgICAgICAgICAgIGFtZGdwdV91
c2VycV9ncHVfcmVzZXQoYWRldik7DQo+ICsNCj4gICAgICAgICByZXR1cm4gcjsNCj4gIH0NCj4N
Cj4gQEAgLTM0NiwxMiArNDI3LDE0IEBAIGFtZGdwdV91c2VycV9kZXN0cm95KHN0cnVjdCBkcm1f
ZmlsZSAqZmlscCwgaW50IHF1ZXVlX2lkKQ0KPiAgICAgICAgIGludCByID0gMDsNCj4NCj4gICAg
ICAgICBjYW5jZWxfZGVsYXllZF93b3JrX3N5bmMoJnVxX21nci0+cmVzdW1lX3dvcmspOw0KPiAr
ICAgICAgIG11dGV4X2xvY2soJmFkZXYtPnVzZXJxX211dGV4KTsNCj4gICAgICAgICBtdXRleF9s
b2NrKCZ1cV9tZ3ItPnVzZXJxX211dGV4KTsNCj4NCj4gICAgICAgICBxdWV1ZSA9IGFtZGdwdV91
c2VycV9maW5kKHVxX21nciwgcXVldWVfaWQpOw0KPiAgICAgICAgIGlmICghcXVldWUpIHsNCj4g
ICAgICAgICAgICAgICAgIGRybV9kYmdfZHJpdmVyKGFkZXZfdG9fZHJtKHVxX21nci0+YWRldiks
ICJJbnZhbGlkIHF1ZXVlIGlkIHRvIGRlc3Ryb3lcbiIpOw0KPiAgICAgICAgICAgICAgICAgbXV0
ZXhfdW5sb2NrKCZ1cV9tZ3ItPnVzZXJxX211dGV4KTsNCj4gKyAgICAgICAgICAgICAgIG11dGV4
X3VubG9jaygmYWRldi0+dXNlcnFfbXV0ZXgpOw0KPiAgICAgICAgICAgICAgICAgcmV0dXJuIC1F
SU5WQUw7DQo+ICAgICAgICAgfQ0KPiAgICAgICAgIGFtZGdwdV91c2VycV93YWl0X2Zvcl9sYXN0
X2ZlbmNlKHVxX21nciwgcXVldWUpOw0KPiBAQCAtMzYxLDYgKzQ0NCwxOCBAQCBhbWRncHVfdXNl
cnFfZGVzdHJveShzdHJ1Y3QgZHJtX2ZpbGUgKmZpbHAsIGludCBxdWV1ZV9pZCkNCj4gICAgICAg
ICAgICAgICAgIGFtZGdwdV9ib191bnJlc2VydmUocXVldWUtPmRiX29iai5vYmopOw0KPiAgICAg
ICAgIH0NCj4gICAgICAgICBhbWRncHVfYm9fdW5yZWYoJnF1ZXVlLT5kYl9vYmoub2JqKTsNCj4g
KyAgICAgICBzd2l0Y2ggKHF1ZXVlLT5xdWV1ZV90eXBlKSB7DQo+ICsgICAgICAgY2FzZSBBTURH
UFVfUklOR19UWVBFX0dGWDoNCj4gKyAgICAgICAgICAgICAgIGF0b21pY19kZWMoJnVxX21nci0+
dXNlcnFfZ2Z4X2NvdW50KTsNCj4gKyAgICAgICBicmVhazsNCj4gKyAgICAgICBjYXNlIEFNREdQ
VV9SSU5HX1RZUEVfQ09NUFVURToNCj4gKyAgICAgICAgICAgICAgIGF0b21pY19kZWMoJnVxX21n
ci0+dXNlcnFfY29tcHV0ZV9jb3VudCk7DQo+ICsgICAgICAgYnJlYWs7DQo+ICsgICAgICAgY2Fz
ZSBBTURHUFVfUklOR19UWVBFX1NETUE6DQo+ICsgICAgICAgICAgICAgICBhdG9taWNfZGVjKCZ1
cV9tZ3ItPnVzZXJxX3NkbWFfY291bnQpOw0KPiArICAgICAgIGJyZWFrOw0KPiArICAgICAgIH0N
Cg0KbWF5YmUgY2xlYW5lciB0byBkbyBzb21ldGhpbmcgbGlrZToNCmF0b21pY19kZWMoJnVxX21n
ci0+dXNlcnFfY291bnRbcXVldWUtPnF1ZXVlX3R5cGVdKTsNCg0KPiArICAgICAgIGFtZGdwdV91
c2VycV9kZXRlY3RfYW5kX3Jlc2V0X3F1ZXVlcyh1cV9tZ3IpOw0KPg0KPiAgI2lmIGRlZmluZWQo
Q09ORklHX0RFQlVHX0ZTKQ0KPiAgICAgICAgIGRlYnVnZnNfcmVtb3ZlX3JlY3Vyc2l2ZShxdWV1
ZS0+ZGVidWdmc19xdWV1ZSk7DQo+IEBAIC0zNjgsNiArNDYzLDcgQEAgYW1kZ3B1X3VzZXJxX2Rl
c3Ryb3koc3RydWN0IGRybV9maWxlICpmaWxwLCBpbnQgcXVldWVfaWQpDQo+ICAgICAgICAgciA9
IGFtZGdwdV91c2VycV91bm1hcF9oZWxwZXIodXFfbWdyLCBxdWV1ZSk7DQo+ICAgICAgICAgYW1k
Z3B1X3VzZXJxX2NsZWFudXAodXFfbWdyLCBxdWV1ZSwgcXVldWVfaWQpOw0KPiAgICAgICAgIG11
dGV4X3VubG9jaygmdXFfbWdyLT51c2VycV9tdXRleCk7DQo+ICsgICAgICAgbXV0ZXhfdW5sb2Nr
KCZhZGV2LT51c2VycV9tdXRleCk7DQo+DQo+ICAgICAgICAgcG1fcnVudGltZV9tYXJrX2xhc3Rf
YnVzeShhZGV2X3RvX2RybShhZGV2KS0+ZGV2KTsNCj4gICAgICAgICBwbV9ydW50aW1lX3B1dF9h
dXRvc3VzcGVuZChhZGV2X3RvX2RybShhZGV2KS0+ZGV2KTsNCj4gQEAgLTU3Niw2ICs2NzIsMTkg
QEAgYW1kZ3B1X3VzZXJxX2NyZWF0ZShzdHJ1Y3QgZHJtX2ZpbGUgKmZpbHAsIHVuaW9uIGRybV9h
bWRncHVfdXNlcnEgKmFyZ3MpDQo+ICAgICAgICAga2ZyZWUocXVldWVfbmFtZSk7DQo+DQo+ICAg
ICAgICAgYXJncy0+b3V0LnF1ZXVlX2lkID0gcWlkOw0KPiArICAgICAgIHN3aXRjaCAocXVldWUt
PnF1ZXVlX3R5cGUpIHsNCj4gKyAgICAgICBjYXNlIEFNREdQVV9SSU5HX1RZUEVfR0ZYOg0KPiAr
ICAgICAgICAgICAgICAgYXRvbWljX2luYygmdXFfbWdyLT51c2VycV9nZnhfY291bnQpOw0KPiAr
ICAgICAgIGJyZWFrOw0KPiArICAgICAgIGNhc2UgQU1ER1BVX1JJTkdfVFlQRV9DT01QVVRFOg0K
PiArICAgICAgICAgICAgICAgYXRvbWljX2luYygmdXFfbWdyLT51c2VycV9jb21wdXRlX2NvdW50
KTsNCj4gKyAgICAgICBicmVhazsNCj4gKyAgICAgICBjYXNlIEFNREdQVV9SSU5HX1RZUEVfU0RN
QToNCj4gKyAgICAgICAgICAgICAgIGF0b21pY19pbmMoJnVxX21nci0+dXNlcnFfc2RtYV9jb3Vu
dCk7DQo+ICsgICAgICAgYnJlYWs7DQo+ICsgICAgICAgZGVmYXVsdDoNCj4gKyAgICAgICBicmVh
azsNCj4gKyAgICAgICB9DQoNCj5TYW1lIGNvbW1lbnQgYXMgYWJvdmU6DQo+IGF0b21pY19pbmMo
JnVxX21nci0+dXNlcnFfY291bnRbcXVldWUtPnF1ZXVlX3R5cGVdKTsNCg0KVGhhbmtzIEFsZXgs
IHdpbGwgZml4IGl0Lg0KDQo+DQo+ICB1bmxvY2s6DQo+ICAgICAgICAgbXV0ZXhfdW5sb2NrKCZ1
cV9tZ3ItPnVzZXJxX211dGV4KTsNCj4gQEAgLTc4OSw2ICs4OTgsNyBAQCBhbWRncHVfdXNlcnFf
ZXZpY3RfYWxsKHN0cnVjdCBhbWRncHVfdXNlcnFfbWdyICp1cV9tZ3IpDQo+ICAgICAgICAgaW50
IHF1ZXVlX2lkOw0KPiAgICAgICAgIGludCByZXQgPSAwLCByOw0KPg0KPiArICAgICAgIGFtZGdw
dV91c2VycV9kZXRlY3RfYW5kX3Jlc2V0X3F1ZXVlcyh1cV9tZ3IpOw0KDQo+IFNob3VsZCB0aGlz
IGNvbWUgYWZ0ZXIgdGhlIHByZWVtcHRpb24gb3IgYmVmb3JlPw0KDQpZZXMsIHdlIG5lZWQgdG8g
Y2FsbCBpdCBpbiB0d28gY2FzZXMuDQpDYXNlIDE6IEJlZm9yZSBwcmVlbXB0aW9uL3VubWFwcGlu
Zw0KQ2FzZSAyOiBpZiBwcmVlbXB0aW9uL3VubWFwcGluZyBmYWlscy4NCg0KUmVnYXJkcw0KSmVz
c2UNCg0KDQo+ICAgICAgICAgLyogVHJ5IHRvIHVubWFwIGFsbCB0aGUgcXVldWVzIGluIHRoaXMg
cHJvY2VzcyBjdHggKi8NCj4gICAgICAgICBpZHJfZm9yX2VhY2hfZW50cnkoJnVxX21nci0+dXNl
cnFfaWRyLCBxdWV1ZSwgcXVldWVfaWQpIHsNCj4gICAgICAgICAgICAgICAgIHIgPSBhbWRncHVf
dXNlcnFfcHJlZW1wdF9oZWxwZXIodXFfbWdyLCBxdWV1ZSk7DQo+IEBAIC04MDEsNiArOTExLDIz
IEBAIGFtZGdwdV91c2VycV9ldmljdF9hbGwoc3RydWN0IGFtZGdwdV91c2VycV9tZ3IgKnVxX21n
cikNCj4gICAgICAgICByZXR1cm4gcmV0Ow0KPiAgfQ0KPg0KPiArdm9pZCBhbWRncHVfdXNlcnFf
cmVzZXRfd29yayhzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspDQo+ICt7DQo+ICsgICAgICAgc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSBjb250YWluZXJfb2Yod29yaywgc3RydWN0IGFtZGdw
dV9kZXZpY2UsDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgdXNlcnFfcmVzZXRfd29yayk7DQo+ICsgICAgICAgc3RydWN0IGFtZGdwdV9yZXNldF9j
b250ZXh0IHJlc2V0X2NvbnRleHQ7DQo+ICsNCj4gKyAgICAgICBtZW1zZXQoJnJlc2V0X2NvbnRl
eHQsIDAsIHNpemVvZihyZXNldF9jb250ZXh0KSk7DQo+ICsNCj4gKyAgICAgICByZXNldF9jb250
ZXh0Lm1ldGhvZCA9IEFNRF9SRVNFVF9NRVRIT0RfTk9ORTsNCj4gKyAgICAgICByZXNldF9jb250
ZXh0LnJlc2V0X3JlcV9kZXYgPSBhZGV2Ow0KPiArICAgICAgIHJlc2V0X2NvbnRleHQuc3JjID0g
QU1ER1BVX1JFU0VUX1NSQ19VU0VSUTsNCj4gKyAgICAgICBzZXRfYml0KEFNREdQVV9ORUVEX0ZV
TExfUkVTRVQsICZyZXNldF9jb250ZXh0LmZsYWdzKTsNCj4gKyAgICAgICAvKnNldF9iaXQoQU1E
R1BVX1NLSVBfQ09SRURVTVAsICZyZXNldF9jb250ZXh0LmZsYWdzKTsqLw0KPiArDQo+ICsgICAg
ICAgYW1kZ3B1X2RldmljZV9ncHVfcmVjb3ZlcihhZGV2LCBOVUxMLCAmcmVzZXRfY29udGV4dCk7
DQo+ICt9DQo+ICsNCj4gIHN0YXRpYyBpbnQNCj4gIGFtZGdwdV91c2VycV93YWl0X2Zvcl9zaWdu
YWwoc3RydWN0IGFtZGdwdV91c2VycV9tZ3IgKnVxX21ncikNCj4gIHsNCj4gQEAgLTgyNywzMSAr
OTU0LDMzIEBAIHZvaWQNCj4gIGFtZGdwdV91c2VycV9ldmljdChzdHJ1Y3QgYW1kZ3B1X3VzZXJx
X21nciAqdXFfbWdyLA0KPiAgICAgICAgICAgICAgICAgICAgc3RydWN0IGFtZGdwdV9ldmljdGlv
bl9mZW5jZSAqZXZfZmVuY2UpDQo+ICB7DQo+IC0gICAgICAgaW50IHJldDsNCj4gICAgICAgICBz
dHJ1Y3QgYW1kZ3B1X2Zwcml2ICpmcHJpdiA9IHVxX21ncl90b19mcHJpdih1cV9tZ3IpOw0KPiAg
ICAgICAgIHN0cnVjdCBhbWRncHVfZXZpY3Rpb25fZmVuY2VfbWdyICpldmZfbWdyID0gJmZwcml2
LT5ldmZfbWdyOw0KPiArICAgICAgIHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gdXFfbWdy
LT5hZGV2Ow0KPiArICAgICAgIGludCByZXQ7DQo+DQo+ICsgICAgICAgbXV0ZXhfbG9jaygmYWRl
di0+dXNlcnFfbXV0ZXgpOw0KPiArICAgICAgIG11dGV4X2xvY2soJnVxX21nci0+dXNlcnFfbXV0
ZXgpOw0KPiAgICAgICAgIC8qIFdhaXQgZm9yIGFueSBwZW5kaW5nIHVzZXJxdWV1ZSBmZW5jZSB3
b3JrIHRvIGZpbmlzaCAqLw0KPiAgICAgICAgIHJldCA9IGFtZGdwdV91c2VycV93YWl0X2Zvcl9z
aWduYWwodXFfbWdyKTsNCj4gLSAgICAgICBpZiAocmV0KSB7DQo+IC0gICAgICAgICAgICAgICBk
cm1fZmlsZV9lcnIodXFfbWdyLT5maWxlLCAiTm90IGV2aWN0aW5nIHVzZXJxdWV1ZSwgdGltZW91
dCB3YWl0aW5nIGZvciB3b3JrXG4iKTsNCj4gLSAgICAgICAgICAgICAgIHJldHVybjsNCj4gLSAg
ICAgICB9DQo+ICsgICAgICAgaWYgKHJldCkNCj4gKyAgICAgICAgICAgICAgIGRldl9lcnIoYWRl
di0+ZGV2LCAiTm90IGV2aWN0aW5nIHVzZXJxdWV1ZSwgdGltZW91dCB3YWl0aW5nIGZvciB3b3Jr
XG4iKTsNCj4NCj4gICAgICAgICByZXQgPSBhbWRncHVfdXNlcnFfZXZpY3RfYWxsKHVxX21ncik7
DQo+IC0gICAgICAgaWYgKHJldCkgew0KPiAtICAgICAgICAgICAgICAgZHJtX2ZpbGVfZXJyKHVx
X21nci0+ZmlsZSwgIkZhaWxlZCB0byBldmljdCB1c2VycXVldWVcbiIpOw0KPiAtICAgICAgICAg
ICAgICAgcmV0dXJuOw0KPiAtICAgICAgIH0NCj4gKyAgICAgICBpZiAocmV0KQ0KPiArICAgICAg
ICAgICAgICAgZGV2X2VycihhZGV2LT5kZXYsICJGYWlsZWQgdG8gZXZpY3QgdXNlcnF1ZXVlXG4i
KTsNCj4NCj4gICAgICAgICAvKiBTaWduYWwgY3VycmVudCBldmljdGlvbiBmZW5jZSAqLw0KPiAg
ICAgICAgIGFtZGdwdV9ldmljdGlvbl9mZW5jZV9zaWduYWwoZXZmX21nciwgZXZfZmVuY2UpOw0K
Pg0KPiAgICAgICAgIGlmIChldmZfbWdyLT5mZF9jbG9zaW5nKSB7DQo+ICAgICAgICAgICAgICAg
ICBjYW5jZWxfZGVsYXllZF93b3JrX3N5bmMoJnVxX21nci0+cmVzdW1lX3dvcmspOw0KPiArICAg
ICAgICAgICAgICAgbXV0ZXhfdW5sb2NrKCZhZGV2LT51c2VycV9tdXRleCk7DQo+ICsgICAgICAg
ICAgICAgICBtdXRleF91bmxvY2soJnVxX21nci0+dXNlcnFfbXV0ZXgpOw0KPiAgICAgICAgICAg
ICAgICAgcmV0dXJuOw0KPiAgICAgICAgIH0NCj4gLQ0KPiArICAgICAgIG11dGV4X3VubG9jaygm
YWRldi0+dXNlcnFfbXV0ZXgpOw0KPiArICAgICAgIG11dGV4X3VubG9jaygmdXFfbWdyLT51c2Vy
cV9tdXRleCk7DQo+ICAgICAgICAgLyogU2NoZWR1bGUgYSByZXN1bWUgd29yayAqLw0KPiAgICAg
ICAgIHNjaGVkdWxlX2RlbGF5ZWRfd29yaygmdXFfbWdyLT5yZXN1bWVfd29yaywgMCk7DQo+ICB9
DQo+IEBAIC04NjYsNiArOTk1LDkgQEAgaW50IGFtZGdwdV91c2VycV9tZ3JfaW5pdChzdHJ1Y3Qg
YW1kZ3B1X3VzZXJxX21nciAqdXNlcnFfbWdyLCBzdHJ1Y3QgZHJtX2ZpbGUgKmYNCj4NCj4gICAg
ICAgICBtdXRleF9sb2NrKCZhZGV2LT51c2VycV9tdXRleCk7DQo+ICAgICAgICAgbGlzdF9hZGQo
JnVzZXJxX21nci0+bGlzdCwgJmFkZXYtPnVzZXJxX21ncl9saXN0KTsNCj4gKyAgICAgICBhdG9t
aWNfc2V0KCZ1c2VycV9tZ3ItPnVzZXJxX2dmeF9jb3VudCwgMCk7DQo+ICsgICAgICAgYXRvbWlj
X3NldCgmdXNlcnFfbWdyLT51c2VycV9jb21wdXRlX2NvdW50LCAwKTsNCj4gKyAgICAgICBhdG9t
aWNfc2V0KCZ1c2VycV9tZ3ItPnVzZXJxX3NkbWFfY291bnQsIDApOw0KPiAgICAgICAgIG11dGV4
X3VubG9jaygmYWRldi0+dXNlcnFfbXV0ZXgpOw0KPg0KPiAgICAgICAgIElOSVRfREVMQVlFRF9X
T1JLKCZ1c2VycV9tZ3ItPnJlc3VtZV93b3JrLCBhbWRncHVfdXNlcnFfcmVzdG9yZV93b3JrZXIp
Ow0KPiBAQCAtODgzLDYgKzEwMTUsNyBAQCB2b2lkIGFtZGdwdV91c2VycV9tZ3JfZmluaShzdHJ1
Y3QgYW1kZ3B1X3VzZXJxX21nciAqdXNlcnFfbWdyKQ0KPg0KPiAgICAgICAgIG11dGV4X2xvY2so
JmFkZXYtPnVzZXJxX211dGV4KTsNCj4gICAgICAgICBtdXRleF9sb2NrKCZ1c2VycV9tZ3ItPnVz
ZXJxX211dGV4KTsNCj4gKyAgICAgICBhbWRncHVfdXNlcnFfZGV0ZWN0X2FuZF9yZXNldF9xdWV1
ZXModXNlcnFfbWdyKTsNCj4gICAgICAgICBpZHJfZm9yX2VhY2hfZW50cnkoJnVzZXJxX21nci0+
dXNlcnFfaWRyLCBxdWV1ZSwgcXVldWVfaWQpIHsNCj4gICAgICAgICAgICAgICAgIGFtZGdwdV91
c2VycV93YWl0X2Zvcl9sYXN0X2ZlbmNlKHVzZXJxX21nciwgcXVldWUpOw0KPiAgICAgICAgICAg
ICAgICAgYW1kZ3B1X3VzZXJxX3VubWFwX2hlbHBlcih1c2VycV9tZ3IsIHF1ZXVlKTsNCj4gQEAg
LTkxNiw2ICsxMDQ5LDcgQEAgaW50IGFtZGdwdV91c2VycV9zdXNwZW5kKHN0cnVjdCBhbWRncHVf
ZGV2aWNlICphZGV2KQ0KPiAgICAgICAgIGxpc3RfZm9yX2VhY2hfZW50cnlfc2FmZSh1cW0sIHRt
cCwgJmFkZXYtPnVzZXJxX21ncl9saXN0LCBsaXN0KSB7DQo+ICAgICAgICAgICAgICAgICBjYW5j
ZWxfZGVsYXllZF93b3JrX3N5bmMoJnVxbS0+cmVzdW1lX3dvcmspOw0KPiAgICAgICAgICAgICAg
ICAgbXV0ZXhfbG9jaygmdXFtLT51c2VycV9tdXRleCk7DQo+ICsgICAgICAgICAgICAgICBhbWRn
cHVfdXNlcnFfZGV0ZWN0X2FuZF9yZXNldF9xdWV1ZXModXFtKTsNCj4gICAgICAgICAgICAgICAg
IGlkcl9mb3JfZWFjaF9lbnRyeSgmdXFtLT51c2VycV9pZHIsIHF1ZXVlLCBxdWV1ZV9pZCkgew0K
PiAgICAgICAgICAgICAgICAgICAgICAgICByID0gYW1kZ3B1X3VzZXJxX3VubWFwX2hlbHBlcih1
cW0sIHF1ZXVlKTsNCj4gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIpDQo+IEBAIC05NzIs
MTMgKzExMDYsMTUgQEAgaW50IGFtZGdwdV91c2VycV9zdG9wX3NjaGVkX2Zvcl9lbmZvcmNlX2lz
b2xhdGlvbihzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gICAgICAgICBsaXN0X2Zvcl9l
YWNoX2VudHJ5X3NhZmUodXFtLCB0bXAsICZhZGV2LT51c2VycV9tZ3JfbGlzdCwgbGlzdCkgew0K
PiAgICAgICAgICAgICAgICAgY2FuY2VsX2RlbGF5ZWRfd29ya19zeW5jKCZ1cW0tPnJlc3VtZV93
b3JrKTsNCj4gICAgICAgICAgICAgICAgIG11dGV4X2xvY2soJnVxbS0+dXNlcnFfbXV0ZXgpOw0K
PiArICAgICAgICAgICAgICAgYW1kZ3B1X3VzZXJxX2RldGVjdF9hbmRfcmVzZXRfcXVldWVzKHVx
bSk7DQo+ICAgICAgICAgICAgICAgICBpZHJfZm9yX2VhY2hfZW50cnkoJnVxbS0+dXNlcnFfaWRy
LCBxdWV1ZSwgcXVldWVfaWQpIHsNCj4gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgocXVl
dWUtPnF1ZXVlX3R5cGUgPT0gQU1ER1BVX0hXX0lQX0dGWCkgfHwNCj4gICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAocXVldWUtPnF1ZXVlX3R5cGUgPT0gQU1ER1BVX0hXX0lQX0NPTVBVVEUp
KSAmJg0KPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHF1ZXVlLT54Y3BfaWQgPT0gaWR4
KSkgew0KPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIgPSBhbWRncHVfdXNlcnFf
cHJlZW1wdF9oZWxwZXIodXFtLCBxdWV1ZSk7DQo+IC0gICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgaWYgKHIpDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIpIHsN
Cj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IHI7DQo+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KPiAgICAgICAgICAgICAgICAgICAgICAg
ICB9DQo+ICAgICAgICAgICAgICAgICB9DQo+ICAgICAgICAgICAgICAgICBtdXRleF91bmxvY2so
JnVxbS0+dXNlcnFfbXV0ZXgpOw0KPiBAQCAtMTAyMCwzICsxMTU2LDYwIEBAIGludCBhbWRncHVf
dXNlcnFfc3RhcnRfc2NoZWRfZm9yX2VuZm9yY2VfaXNvbGF0aW9uKHN0cnVjdCBhbWRncHVfZGV2
aWNlICphZGV2LA0KPiAgICAgICAgIG11dGV4X3VubG9jaygmYWRldi0+dXNlcnFfbXV0ZXgpOw0K
PiAgICAgICAgIHJldHVybiByZXQ7DQo+ICB9DQo+ICsNCj4gK3ZvaWQgYW1kZ3B1X3VzZXJxX3By
ZV9yZXNldChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCj4gK3sNCj4gKyAgICAgICBjb25z
dCBzdHJ1Y3QgYW1kZ3B1X3VzZXJxX2Z1bmNzICp1c2VycV9mdW5jczsNCj4gKyAgICAgICBzdHJ1
Y3QgYW1kZ3B1X3VzZXJtb2RlX3F1ZXVlICpxdWV1ZTsNCj4gKyAgICAgICBzdHJ1Y3QgYW1kZ3B1
X3VzZXJxX21nciAqdXFtLCAqdG1wOw0KPiArICAgICAgIGludCBxdWV1ZV9pZDsNCj4gKw0KPiAr
ICAgICAgIGxpc3RfZm9yX2VhY2hfZW50cnlfc2FmZSh1cW0sIHRtcCwgJmFkZXYtPnVzZXJxX21n
cl9saXN0LCBsaXN0KSB7DQo+ICsgICAgICAgICAgICAgICBjYW5jZWxfZGVsYXllZF93b3JrX3N5
bmMoJnVxbS0+cmVzdW1lX3dvcmspOw0KPiArICAgICAgICAgICAgICAgaWRyX2Zvcl9lYWNoX2Vu
dHJ5KCZ1cW0tPnVzZXJxX2lkciwgcXVldWUsIHF1ZXVlX2lkKSB7DQo+ICsgICAgICAgICAgICAg
ICAgICAgICAgIGlmIChxdWV1ZS0+c3RhdGUgPT0gQU1ER1BVX1VTRVJRX1NUQVRFX01BUFBFRCkg
ew0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtZGdwdV91c2VycV93YWl0X2Zv
cl9sYXN0X2ZlbmNlKHVxbSwgcXVldWUpOw0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHVzZXJxX2Z1bmNzID0gYWRldi0+dXNlcnFfZnVuY3NbcXVldWUtPnF1ZXVlX3R5cGVdOw0K
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJxX2Z1bmNzLT51bm1hcCh1cW0s
IHF1ZXVlKTsNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBqdXN0IG1hcmsg
YWxsIHF1ZXVlcyBhcyBodW5nIGF0IHRoaXMgcG9pbnQuDQo+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICogaWYgdW5tYXAgc3VjY2VlZHMsIHdlIGNvdWxkIG1hcCBhZ2Fpbg0KPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGluIGFtZGdwdV91c2VycV9wb3N0X3Jl
c2V0KCkgaWYgdnJhbSBpcyBub3QgbG9zdA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAqLw0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlLT5zdGF0ZSA9
IEFNREdQVV9VU0VSUV9TVEFURV9IVU5HOw0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGFtZGdwdV91c2VycV9mZW5jZV9kcml2ZXJfZm9yY2VfY29tcGxldGlvbihxdWV1ZSk7DQo+
ICsgICAgICAgICAgICAgICAgICAgICAgIH0NCj4gKyAgICAgICAgICAgICAgIH0NCj4gKyAgICAg
ICB9DQo+ICt9DQo+ICsNCj4gK2ludCBhbWRncHVfdXNlcnFfcG9zdF9yZXNldChzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldiwgYm9vbCB2cmFtX2xvc3QpDQo+ICt7DQo+ICsgICAgICAgLyogaWYg
YW55IHF1ZXVlIHN0YXRlIGlzIEFNREdQVV9VU0VSUV9TVEFURV9VTk1BUFBFRA0KPiArICAgICAg
ICAqIGF0IHRoaXMgcG9pbnQsIHdlIHNob3VsZCBiZSBhYmxlIHRvIG1hcCBpdCBhZ2Fpbg0KPiAr
ICAgICAgICAqIGFuZCBjb250aW51ZSBpZiB2cmFtIGlzIG5vdCBsb3N0Lg0KPiArICAgICAgICAq
Lw0KPiArICAgICAgIHN0cnVjdCBhbWRncHVfdXNlcnFfbWdyICp1cW07DQo+ICsgICAgICAgc3Ry
dWN0IGFtZGdwdV91c2VybW9kZV9xdWV1ZSAqcXVldWU7DQo+ICsgICAgICAgY29uc3Qgc3RydWN0
IGFtZGdwdV91c2VycV9mdW5jcyAqdXNlcnFfZnVuY3M7DQo+ICsgICAgICAgaW50IHF1ZXVlX2lk
LCByID0gMDsNCj4gKw0KPiArICAgICAgIGxpc3RfZm9yX2VhY2hfZW50cnkodXFtLCAmYWRldi0+
dXNlcnFfbWdyX2xpc3QsIGxpc3QpIHsNCj4gKyAgICAgICAgICAgICAgIGlkcl9mb3JfZWFjaF9l
bnRyeSgmdXFtLT51c2VycV9pZHIsIHF1ZXVlLCBxdWV1ZV9pZCkgew0KPiArICAgICAgICAgICAg
ICAgICAgICAgICBpZiAocXVldWUtPnN0YXRlID09IEFNREdQVV9VU0VSUV9TVEFURV9IVU5HICYm
ICF2cmFtX2xvc3QpIHsNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VycV9m
dW5jcyA9IGFkZXYtPnVzZXJxX2Z1bmNzW3F1ZXVlLT5xdWV1ZV90eXBlXTsNCj4gKw0KPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIgPSB1c2VycV9mdW5jcy0+bWFwKHVxbSwgcXVl
dWUpOyAgLy8gUmUtbWFwIHF1ZXVlDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
aWYgKHIpIHsNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldl9l
cnIoYWRldi0+ZGV2LCAiRmFpbGVkIHRvIHJlbWFwIHF1ZXVlICVkXG4iLCBxdWV1ZV9pZCk7DQo+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsNCj4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQo+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgcXVldWUtPnN0YXRlID0gQU1ER1BVX1VTRVJRX1NUQVRFX01BUFBFRDsNCj4gKyAg
ICAgICAgICAgICAgICAgICAgICAgfQ0KPiArICAgICAgICAgICAgICAgfQ0KPiArDQo+ICsgICAg
ICAgICAgICAgICAvKiBSZXN0YXJ0IHJlc3VtZSB3b3JrIGFmdGVyIHJlc2V0ICovDQo+ICsgICAg
ICAgICAgICAgICAvL3F1ZXVlX2RlbGF5ZWRfd29yayhzeXN0ZW1fd3EsICZ1cW0tPnJlc3VtZV93
b3JrLCBtc2Vjc190b19qaWZmaWVzKDEwMCkpOw0KPiArICAgICAgIH0NCj4gKw0KPiArICAgICAg
IHJldHVybiByOw0KPiArfQ0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X3VzZXJxLmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdXNl
cnEuaA0KPiBpbmRleCAxYmQ4NGY0Y2NlNzguLjM5MWM1MTBiMDI1YiAxMDA2NDQNCj4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3VzZXJxLmgNCj4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3VzZXJxLmgNCj4gQEAgLTk0LDYgKzk0LDkgQEAg
c3RydWN0IGFtZGdwdV91c2VycV9tZ3Igew0KPiAgICAgICAgIHN0cnVjdCBkZWxheWVkX3dvcmsg
ICAgICAgICAgICAgcmVzdW1lX3dvcms7DQo+ICAgICAgICAgc3RydWN0IGxpc3RfaGVhZCAgICAg
ICAgICAgICAgICBsaXN0Ow0KPiAgICAgICAgIHN0cnVjdCBkcm1fZmlsZSAgICAgICAgICAgICAg
ICAgKmZpbGU7DQo+ICsgICAgICAgYXRvbWljX3QgICAgICAgICAgICAgICAgICAgICAgICB1c2Vy
cV9nZnhfY291bnQ7DQo+ICsgICAgICAgYXRvbWljX3QgICAgICAgICAgICAgICAgICAgICAgICB1
c2VycV9jb21wdXRlX2NvdW50Ow0KPiArICAgICAgIGF0b21pY190ICAgICAgICAgICAgICAgICAg
ICAgICAgdXNlcnFfc2RtYV9jb3VudDsNCj4gIH07DQo+DQo+ICBzdHJ1Y3QgYW1kZ3B1X2RiX2lu
Zm8gew0KPiBAQCAtMTM5LDQgKzE0Miw5IEBAIGludCBhbWRncHVfdXNlcnFfc3RvcF9zY2hlZF9m
b3JfZW5mb3JjZV9pc29sYXRpb24oc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ICBpbnQg
YW1kZ3B1X3VzZXJxX3N0YXJ0X3NjaGVkX2Zvcl9lbmZvcmNlX2lzb2xhdGlvbihzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldiwNCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgdTMyIGlkeCk7DQo+DQo+ICt2b2lkIGFtZGdwdV91c2VycV9yZXNldF93
b3JrKHN0cnVjdCB3b3JrX3N0cnVjdCAqd29yayk7DQo+ICsNCj4gK3ZvaWQgYW1kZ3B1X3VzZXJx
X3ByZV9yZXNldChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7DQo+ICtpbnQgYW1kZ3B1X3Vz
ZXJxX3Bvc3RfcmVzZXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIGJvb2wgdnJhbV9sb3N0
KTsNCj4gKw0KPiAgI2VuZGlmDQo+IC0tDQo+IDIuNDkuMA0KPg0K
