Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 7F07648F53
	for <lists+amd-gfx@lfdr.de>; Mon, 17 Jun 2019 21:31:46 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0910E89BFC;
	Mon, 17 Jun 2019 19:31:43 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-qk1-x742.google.com (mail-qk1-x742.google.com
 [IPv6:2607:f8b0:4864:20::742])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 22C7489C05
 for <amd-gfx@lists.freedesktop.org>; Mon, 17 Jun 2019 19:31:41 +0000 (UTC)
Received: by mail-qk1-x742.google.com with SMTP id a27so6951882qkk.5
 for <amd-gfx@lists.freedesktop.org>; Mon, 17 Jun 2019 12:31:41 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=Ar5K4A+8Shmdmc+0pFE73zYgNPXcAq7NsskecV2JxrQ=;
 b=IdaEtLB6VsBeGS2jxw6o1+kCXvJ7WXVb12ptlpriQniljFdtOaE3UAAVZwNj5LqcFu
 F+surhd54eBoNVTj96d5kjSwpIV3WKBbSnXfagDXxvtpJjQUk2l53KCA6CdSz4gvvfDj
 t3QuvjE5SBU+5JsAZaRSUotirbOCUt+YQ//5v8ZJot5mGVIhROc+lkPZLnxWFw11UStc
 HVsaq/jJD3f7Nns0jVaZR7WbA2EyF5Buwv4mzMojcTDBc9DsZ4kds3jelRXKeKhRXM8B
 Q2kmVrws0rXmg1AjyClaJ8MpDsOwHne/Ae/2gXz88Ct8XabWp1VEZe0WKTGqOIcEwF+Z
 MZfA==
X-Gm-Message-State: APjAAAWA/X9UYhjUQFqX074sRN3Bo0+hW9RxyP2i92/M20X8/+KLx3Pw
 3MPsIla+yIkAVVEz8YFqifzqVssJHcw=
X-Google-Smtp-Source: APXvYqw35iagW0gA3L7qdYt7VcYjTRi52ctTcqmdJ35yjmkTJEsXA/xFxZyL782ScpM2GsYQPcQC3w==
X-Received: by 2002:a05:620a:136d:: with SMTP id
 d13mr65773992qkl.22.1560799899158; 
 Mon, 17 Jun 2019 12:31:39 -0700 (PDT)
Received: from localhost.localdomain ([71.219.5.136])
 by smtp.gmail.com with ESMTPSA id u2sm7474875qtj.97.2019.06.17.12.31.38
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Mon, 17 Jun 2019 12:31:38 -0700 (PDT)
From: Alex Deucher <alexdeucher@gmail.com>
X-Google-Original-From: Alex Deucher <alexander.deucher@amd.com>
To: amd-gfx@lists.freedesktop.org
Subject: [PATCH 229/459] drm/amd/powerplay: add function print_clk_levels for
 navi10
Date: Mon, 17 Jun 2019 14:29:56 -0500
Message-Id: <20190617193106.18231-30-alexander.deucher@amd.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190617193106.18231-1-alexander.deucher@amd.com>
References: <20190617193106.18231-1-alexander.deucher@amd.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=Ar5K4A+8Shmdmc+0pFE73zYgNPXcAq7NsskecV2JxrQ=;
 b=Jhz4YfrySbCS8GqSavn4n/16G5yOLOt6K4ZYWTSO1kbTrG6biQeJbD2K6iRrJ60/Li
 fdnUbEohqGjDgSAupFz1kHlA9/JD3SXmShypTuNrVA684wnyjrqERUlb1cvQqpWB+vyA
 xLnvhxet/YSZpo66Doy4swTo2MCLucMxnXXXgj+GwK5YL5/W24xyp1HigZ/OgLgBzXZc
 JsC2nCBkaq4LrpaGunpHpHOwlc6Ej286T8HN+mj1rqcYCwxZTiXwcYMs8DiUvsVOfTUD
 Q+ywUcM44z8ZxGmBS5z4ce617anOFZHj1CHWjlJR52jnnr+iEaxefsEHknJzrZmxv8wb
 yTXw==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Alex Deucher <alexander.deucher@amd.com>, Kevin Wang <kevin1.wang@amd.com>,
 Huang Rui <ray.huang@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogS2V2aW4gV2FuZyA8a2V2aW4xLndhbmdAYW1kLmNvbT4KCmFkZCBzeXNmcyBpbnRlcmZh
Y2Ugb2YgcHJpbnRfY2xrX2xldmVscyBzeXNmcyBmb3IgbmF2aTEwLgoKU2lnbmVkLW9mZi1ieTog
S2V2aW4gV2FuZyA8a2V2aW4xLndhbmdAYW1kLmNvbT4KUmV2aWV3ZWQtYnk6IEh1YW5nIFJ1aSA8
cmF5Lmh1YW5nQGFtZC5jb20+ClNpZ25lZC1vZmYtYnk6IEFsZXggRGV1Y2hlciA8YWxleGFuZGVy
LmRldWNoZXJAYW1kLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
cG0uYyAgICAgICAgfCAyNCArKysrKy0tLS0tCiAuLi4vZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2lu
Yy9hbWRncHVfc211LmggICAgfCAxMyArKysrLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJw
bGF5L25hdmkxMF9wcHQuYyAgICB8IDQ0ICsrKysrKysrKysrKysrKysrKysKIGRyaXZlcnMvZ3B1
L2RybS9hbWQvcG93ZXJwbGF5L3ZlZ2EyMF9wcHQuYyAgICB8IDIyICsrKysrLS0tLS0KIDQgZmls
ZXMgY2hhbmdlZCwgNzcgaW5zZXJ0aW9ucygrKSwgMjYgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3BtLmMgYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHVfcG0uYwppbmRleCAwMDljOGNhNDkyMTEuLjUyYjM5ODkxODcx
NCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3BtLmMKKysr
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3BtLmMKQEAgLTcyNiwxMCArNzI2
LDEwIEBAIHN0YXRpYyBzc2l6ZV90IGFtZGdwdV9nZXRfcHBfb2RfY2xrX3ZvbHRhZ2Uoc3RydWN0
IGRldmljZSAqZGV2LAogCXVpbnQzMl90IHNpemUgPSAwOwogCiAJaWYgKGlzX3N1cHBvcnRfc3df
c211KGFkZXYpKSB7Ci0JCXNpemUgPSBzbXVfcHJpbnRfY2xrX2xldmVscygmYWRldi0+c211LCBP
RF9TQ0xLLCBidWYpOwotCQlzaXplICs9IHNtdV9wcmludF9jbGtfbGV2ZWxzKCZhZGV2LT5zbXUs
IE9EX01DTEssIGJ1ZitzaXplKTsKLQkJc2l6ZSArPSBzbXVfcHJpbnRfY2xrX2xldmVscygmYWRl
di0+c211LCBPRF9WRERDX0NVUlZFLCBidWYrc2l6ZSk7Ci0JCXNpemUgKz0gc211X3ByaW50X2Ns
a19sZXZlbHMoJmFkZXYtPnNtdSwgT0RfUkFOR0UsIGJ1ZitzaXplKTsKKwkJc2l6ZSA9IHNtdV9w
cmludF9jbGtfbGV2ZWxzKCZhZGV2LT5zbXUsIFNNVV9PRF9TQ0xLLCBidWYpOworCQlzaXplICs9
IHNtdV9wcmludF9jbGtfbGV2ZWxzKCZhZGV2LT5zbXUsIFNNVV9PRF9NQ0xLLCBidWYrc2l6ZSk7
CisJCXNpemUgKz0gc211X3ByaW50X2Nsa19sZXZlbHMoJmFkZXYtPnNtdSwgU01VX09EX1ZERENf
Q1VSVkUsIGJ1ZitzaXplKTsKKwkJc2l6ZSArPSBzbXVfcHJpbnRfY2xrX2xldmVscygmYWRldi0+
c211LCBTTVVfT0RfUkFOR0UsIGJ1ZitzaXplKTsKIAkJcmV0dXJuIHNpemU7CiAJfSBlbHNlIGlm
IChhZGV2LT5wb3dlcnBsYXkucHBfZnVuY3MtPnByaW50X2Nsb2NrX2xldmVscykgewogCQlzaXpl
ID0gYW1kZ3B1X2RwbV9wcmludF9jbG9ja19sZXZlbHMoYWRldiwgT0RfU0NMSywgYnVmKTsKQEAg
LTg0MCw3ICs4NDAsNyBAQCBzdGF0aWMgc3NpemVfdCBhbWRncHVfZ2V0X3BwX2RwbV9zY2xrKHN0
cnVjdCBkZXZpY2UgKmRldiwKIAkJcmV0dXJuIGFkZXYtPnZpcnQub3BzLT5nZXRfcHBfY2xrKGFk
ZXYsIFBQX1NDTEssIGJ1Zik7CiAKIAlpZiAoaXNfc3VwcG9ydF9zd19zbXUoYWRldikpCi0JCXJl
dHVybiBzbXVfcHJpbnRfY2xrX2xldmVscygmYWRldi0+c211LCBQUF9TQ0xLLCBidWYpOworCQly
ZXR1cm4gc211X3ByaW50X2Nsa19sZXZlbHMoJmFkZXYtPnNtdSwgU01VX1NDTEssIGJ1Zik7CiAJ
ZWxzZSBpZiAoYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzLT5wcmludF9jbG9ja19sZXZlbHMpCiAJ
CXJldHVybiBhbWRncHVfZHBtX3ByaW50X2Nsb2NrX2xldmVscyhhZGV2LCBQUF9TQ0xLLCBidWYp
OwogCWVsc2UKQEAgLTkyMyw3ICs5MjMsNyBAQCBzdGF0aWMgc3NpemVfdCBhbWRncHVfZ2V0X3Bw
X2RwbV9tY2xrKHN0cnVjdCBkZXZpY2UgKmRldiwKIAkJcmV0dXJuIGFkZXYtPnZpcnQub3BzLT5n
ZXRfcHBfY2xrKGFkZXYsUFBfTUNMSyxidWYpOwogCiAJaWYgKGlzX3N1cHBvcnRfc3dfc211KGFk
ZXYpKQotCQlyZXR1cm4gc211X3ByaW50X2Nsa19sZXZlbHMoJmFkZXYtPnNtdSwgUFBfTUNMSywg
YnVmKTsKKwkJcmV0dXJuIHNtdV9wcmludF9jbGtfbGV2ZWxzKCZhZGV2LT5zbXUsIFNNVV9NQ0xL
LCBidWYpOwogCWVsc2UgaWYgKGFkZXYtPnBvd2VycGxheS5wcF9mdW5jcy0+cHJpbnRfY2xvY2tf
bGV2ZWxzKQogCQlyZXR1cm4gYW1kZ3B1X2RwbV9wcmludF9jbG9ja19sZXZlbHMoYWRldiwgUFBf
TUNMSywgYnVmKTsKIAllbHNlCkBAIC05NjYsNyArOTY2LDcgQEAgc3RhdGljIHNzaXplX3QgYW1k
Z3B1X2dldF9wcF9kcG1fc29jY2xrKHN0cnVjdCBkZXZpY2UgKmRldiwKIAlzdHJ1Y3QgYW1kZ3B1
X2RldmljZSAqYWRldiA9IGRkZXYtPmRldl9wcml2YXRlOwogCiAJaWYgKGlzX3N1cHBvcnRfc3df
c211KGFkZXYpKQotCQlyZXR1cm4gc211X3ByaW50X2Nsa19sZXZlbHMoJmFkZXYtPnNtdSwgUFBf
U09DQ0xLLCBidWYpOworCQlyZXR1cm4gc211X3ByaW50X2Nsa19sZXZlbHMoJmFkZXYtPnNtdSwg
U01VX1NPQ0NMSywgYnVmKTsKIAllbHNlIGlmIChhZGV2LT5wb3dlcnBsYXkucHBfZnVuY3MtPnBy
aW50X2Nsb2NrX2xldmVscykKIAkJcmV0dXJuIGFtZGdwdV9kcG1fcHJpbnRfY2xvY2tfbGV2ZWxz
KGFkZXYsIFBQX1NPQ0NMSywgYnVmKTsKIAllbHNlCkBAIC0xMDA2LDcgKzEwMDYsNyBAQCBzdGF0
aWMgc3NpemVfdCBhbWRncHVfZ2V0X3BwX2RwbV9mY2xrKHN0cnVjdCBkZXZpY2UgKmRldiwKIAlz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IGRkZXYtPmRldl9wcml2YXRlOwogCiAJaWYgKGlz
X3N1cHBvcnRfc3dfc211KGFkZXYpKQotCQlyZXR1cm4gc211X3ByaW50X2Nsa19sZXZlbHMoJmFk
ZXYtPnNtdSwgUFBfRkNMSywgYnVmKTsKKwkJcmV0dXJuIHNtdV9wcmludF9jbGtfbGV2ZWxzKCZh
ZGV2LT5zbXUsIFNNVV9GQ0xLLCBidWYpOwogCWVsc2UgaWYgKGFkZXYtPnBvd2VycGxheS5wcF9m
dW5jcy0+cHJpbnRfY2xvY2tfbGV2ZWxzKQogCQlyZXR1cm4gYW1kZ3B1X2RwbV9wcmludF9jbG9j
a19sZXZlbHMoYWRldiwgUFBfRkNMSywgYnVmKTsKIAllbHNlCkBAIC0xMDQ2LDcgKzEwNDYsNyBA
QCBzdGF0aWMgc3NpemVfdCBhbWRncHVfZ2V0X3BwX2RwbV9kY2VmY2xrKHN0cnVjdCBkZXZpY2Ug
KmRldiwKIAlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IGRkZXYtPmRldl9wcml2YXRlOwog
CiAJaWYgKGlzX3N1cHBvcnRfc3dfc211KGFkZXYpKQotCQlyZXR1cm4gc211X3ByaW50X2Nsa19s
ZXZlbHMoJmFkZXYtPnNtdSwgUFBfRENFRkNMSywgYnVmKTsKKwkJcmV0dXJuIHNtdV9wcmludF9j
bGtfbGV2ZWxzKCZhZGV2LT5zbXUsIFNNVV9EQ0VGQ0xLLCBidWYpOwogCWVsc2UgaWYgKGFkZXYt
PnBvd2VycGxheS5wcF9mdW5jcy0+cHJpbnRfY2xvY2tfbGV2ZWxzKQogCQlyZXR1cm4gYW1kZ3B1
X2RwbV9wcmludF9jbG9ja19sZXZlbHMoYWRldiwgUFBfRENFRkNMSywgYnVmKTsKIAllbHNlCkBA
IC0xMDg2LDcgKzEwODYsNyBAQCBzdGF0aWMgc3NpemVfdCBhbWRncHVfZ2V0X3BwX2RwbV9wY2ll
KHN0cnVjdCBkZXZpY2UgKmRldiwKIAlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IGRkZXYt
PmRldl9wcml2YXRlOwogCiAJaWYgKGlzX3N1cHBvcnRfc3dfc211KGFkZXYpKQotCQlyZXR1cm4g
c211X3ByaW50X2Nsa19sZXZlbHMoJmFkZXYtPnNtdSwgUFBfUENJRSwgYnVmKTsKKwkJcmV0dXJu
IHNtdV9wcmludF9jbGtfbGV2ZWxzKCZhZGV2LT5zbXUsIFNNVV9QQ0lFLCBidWYpOwogCWVsc2Ug
aWYgKGFkZXYtPnBvd2VycGxheS5wcF9mdW5jcy0+cHJpbnRfY2xvY2tfbGV2ZWxzKQogCQlyZXR1
cm4gYW1kZ3B1X2RwbV9wcmludF9jbG9ja19sZXZlbHMoYWRldiwgUFBfUENJRSwgYnVmKTsKIAll
bHNlCkBAIC0xMTI3LDcgKzExMjcsNyBAQCBzdGF0aWMgc3NpemVfdCBhbWRncHVfZ2V0X3BwX3Nj
bGtfb2Qoc3RydWN0IGRldmljZSAqZGV2LAogCXVpbnQzMl90IHZhbHVlID0gMDsKIAogCWlmIChp
c19zdXBwb3J0X3N3X3NtdShhZGV2KSkKLQkJdmFsdWUgPSBzbXVfZ2V0X29kX3BlcmNlbnRhZ2Uo
JihhZGV2LT5zbXUpLCBPRF9TQ0xLKTsKKwkJdmFsdWUgPSBzbXVfZ2V0X29kX3BlcmNlbnRhZ2Uo
JihhZGV2LT5zbXUpLCBTTVVfT0RfU0NMSyk7CiAJZWxzZSBpZiAoYWRldi0+cG93ZXJwbGF5LnBw
X2Z1bmNzLT5nZXRfc2Nsa19vZCkKIAkJdmFsdWUgPSBhbWRncHVfZHBtX2dldF9zY2xrX29kKGFk
ZXYpOwogCkBAIC0xMTc4LDcgKzExNzgsNyBAQCBzdGF0aWMgc3NpemVfdCBhbWRncHVfZ2V0X3Bw
X21jbGtfb2Qoc3RydWN0IGRldmljZSAqZGV2LAogCXVpbnQzMl90IHZhbHVlID0gMDsKIAogCWlm
IChpc19zdXBwb3J0X3N3X3NtdShhZGV2KSkKLQkJdmFsdWUgPSBzbXVfZ2V0X29kX3BlcmNlbnRh
Z2UoJihhZGV2LT5zbXUpLCBPRF9NQ0xLKTsKKwkJdmFsdWUgPSBzbXVfZ2V0X29kX3BlcmNlbnRh
Z2UoJihhZGV2LT5zbXUpLCBTTVVfT0RfTUNMSyk7CiAJZWxzZSBpZiAoYWRldi0+cG93ZXJwbGF5
LnBwX2Z1bmNzLT5nZXRfbWNsa19vZCkKIAkJdmFsdWUgPSBhbWRncHVfZHBtX2dldF9tY2xrX29k
KGFkZXYpOwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMv
YW1kZ3B1X3NtdS5oIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaW5jL2FtZGdwdV9z
bXUuaAppbmRleCAxMmFiMWVlNTM1ODguLjE2ZDZmNTUzYmE3ZiAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaW5jL2FtZGdwdV9zbXUuaAorKysgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvYW1kZ3B1X3NtdS5oCkBAIC0yNDQsNiArMjQ0LDEzIEBA
IGVudW0gc211X2Nsa190eXBlCiAJU01VX1BJWENMSywKIAlTTVVfUEhZQ0xLLAogCVNNVV9GQ0xL
LAorCVNNVV9TQ0xLLAorCVNNVV9NQ0xLLAorCVNNVV9QQ0lFLAorCVNNVV9PRF9TQ0xLLAorCVNN
VV9PRF9NQ0xLLAorCVNNVV9PRF9WRERDX0NVUlZFLAorCVNNVV9PRF9SQU5HRSwKIAlTTVVfQ0xL
X0NPVU5ULAogfTsKIApAQCAtNTMxLDcgKzUzOCw3IEBAIHN0cnVjdCBwcHRhYmxlX2Z1bmNzIHsK
IAlpbnQgKCpzZXRfZGVmYXVsdF9kcG1fdGFibGUpKHN0cnVjdCBzbXVfY29udGV4dCAqc211KTsK
IAlpbnQgKCpzZXRfcG93ZXJfc3RhdGUpKHN0cnVjdCBzbXVfY29udGV4dCAqc211KTsKIAlpbnQg
KCpwb3B1bGF0ZV91bWRfc3RhdGVfY2xrKShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSk7Ci0JaW50
ICgqcHJpbnRfY2xrX2xldmVscykoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGVudW0gcHBfY2xv
Y2tfdHlwZSB0eXBlLCBjaGFyICpidWYpOworCWludCAoKnByaW50X2Nsa19sZXZlbHMpKHN0cnVj
dCBzbXVfY29udGV4dCAqc211LCBlbnVtIHNtdV9jbGtfdHlwZSBjbGtfdHlwZSwgY2hhciAqYnVm
KTsKIAlpbnQgKCpmb3JjZV9jbGtfbGV2ZWxzKShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgZW51
bSBwcF9jbG9ja190eXBlIHR5cGUsIHVpbnQzMl90IG1hc2spOwogCWludCAoKnNldF9kZWZhdWx0
X29kOF9zZXR0aW5ncykoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUpOwogCWludCAoKnVwZGF0ZV9z
cGVjaWZpZWRfb2Q4X3ZhbHVlKShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwKQEAgLTc2Nyw4ICs3
NzQsOCBAQCBzdHJ1Y3Qgc211X2Z1bmNzCiAJKChzbXUpLT5mdW5jcy0+c2V0X3Bvd2VyX2xpbWl0
ID8gKHNtdSktPmZ1bmNzLT5zZXRfcG93ZXJfbGltaXQoKHNtdSksIChsaW1pdCkpIDogMCkKICNk
ZWZpbmUgc211X2dldF9jdXJyZW50X2Nsa19mcmVxKHNtdSwgY2xrX2lkLCB2YWx1ZSkgXAogCSgo
c211KS0+ZnVuY3MtPmdldF9jdXJyZW50X2Nsa19mcmVxPyAoc211KS0+ZnVuY3MtPmdldF9jdXJy
ZW50X2Nsa19mcmVxKChzbXUpLCAoY2xrX2lkKSwgKHZhbHVlKSkgOiAwKQotI2RlZmluZSBzbXVf
cHJpbnRfY2xrX2xldmVscyhzbXUsIHR5cGUsIGJ1ZikgXAotCSgoc211KS0+cHB0X2Z1bmNzLT5w
cmludF9jbGtfbGV2ZWxzID8gKHNtdSktPnBwdF9mdW5jcy0+cHJpbnRfY2xrX2xldmVscygoc211
KSwgKHR5cGUpLCAoYnVmKSkgOiAwKQorI2RlZmluZSBzbXVfcHJpbnRfY2xrX2xldmVscyhzbXUs
IGNsa190eXBlLCBidWYpIFwKKwkoKHNtdSktPnBwdF9mdW5jcy0+cHJpbnRfY2xrX2xldmVscyA/
IChzbXUpLT5wcHRfZnVuY3MtPnByaW50X2Nsa19sZXZlbHMoKHNtdSksIChjbGtfdHlwZSksIChi
dWYpKSA6IDApCiAjZGVmaW5lIHNtdV9mb3JjZV9jbGtfbGV2ZWxzKHNtdSwgdHlwZSwgbGV2ZWwp
IFwKIAkoKHNtdSktPnBwdF9mdW5jcy0+Zm9yY2VfY2xrX2xldmVscyA/IChzbXUpLT5wcHRfZnVu
Y3MtPmZvcmNlX2Nsa19sZXZlbHMoKHNtdSksICh0eXBlKSwgKGxldmVsKSkgOiAwKQogI2RlZmlu
ZSBzbXVfZ2V0X29kX3BlcmNlbnRhZ2Uoc211LCB0eXBlKSBcCmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL3Bvd2VycGxheS9uYXZpMTBfcHB0LmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L3Bvd2VycGxheS9uYXZpMTBfcHB0LmMKaW5kZXggNzg4YmRmNmRmYWM3Li41ODYzZmE2OTFhOTEg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L25hdmkxMF9wcHQuYwor
KysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9uYXZpMTBfcHB0LmMKQEAgLTEwNSw4
ICsxMDUsMTEgQEAgc3RhdGljIGludCBuYXZpMTBfbWVzc2FnZV9tYXBbU01VX01TR19NQVhfQ09V
TlRdID0gewogCiBzdGF0aWMgaW50IG5hdmkxMF9jbGtfbWFwW1NNVV9DTEtfQ09VTlRdID0gewog
CUNMS19NQVAoR0ZYQ0xLLCBQUENMS19HRlhDTEspLAorCUNMS19NQVAoU0NMSywJUFBDTEtfR0ZY
Q0xLKSwKIAlDTEtfTUFQKFNPQ0NMSywgUFBDTEtfU09DQ0xLKSwKKwlDTEtfTUFQKEZDTEssIFBQ
Q0xLX1NPQ0NMSyksCiAJQ0xLX01BUChVQ0xLLCBQUENMS19VQ0xLKSwKKwlDTEtfTUFQKE1DTEss
IFBQQ0xLX1VDTEspLAogCUNMS19NQVAoRENMSywgUFBDTEtfRENMSyksCiAJQ0xLX01BUChWQ0xL
LCBQUENMS19WQ0xLKSwKIAlDTEtfTUFQKERDRUZDTEssIFBQQ0xLX0RDRUZDTEspLApAQCAtNTIz
LDYgKzUyNiw0NiBAQCBzdGF0aWMgaW50IG5hdmkxMF9nZXRfY3VycmVudF9jbGtfZnJlcV9ieV90
YWJsZShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwKIAlyZXR1cm4gcmV0OwogfQogCitzdGF0aWMg
aW50IG5hdmkxMF9wcmludF9jbGtfbGV2ZWxzKHN0cnVjdCBzbXVfY29udGV4dCAqc211LAorCQkJ
ZW51bSBzbXVfY2xrX3R5cGUgY2xrX3R5cGUsIGNoYXIgKmJ1ZikKK3sKKwlpbnQgaSwgc2l6ZSA9
IDAsIHJldCA9IDA7CisJdWludDMyX3QgY3VyX3ZhbHVlID0gMCwgdmFsdWUgPSAwLCBjb3VudCA9
IDA7CisKKwlzd2l0Y2ggKGNsa190eXBlKSB7CisJY2FzZSBTTVVfR0ZYQ0xLOgorCWNhc2UgU01V
X1NDTEs6CisJY2FzZSBTTVVfU09DQ0xLOgorCWNhc2UgU01VX01DTEs6CisJY2FzZSBTTVVfVUNM
SzoKKwljYXNlIFNNVV9GQ0xLOgorCWNhc2UgU01VX0RDRUZDTEs6CisJCXJldCA9IHNtdV9nZXRf
Y3VycmVudF9jbGtfZnJlcShzbXUsIGNsa190eXBlLCAmY3VyX3ZhbHVlKTsKKwkJaWYgKHJldCkK
KwkJCXJldHVybiBzaXplOworCisJCXNpemUgKz0gc3ByaW50ZihidWYsICJjdXJyZW50IGNsazog
JXVNaHpcbiIsIGN1cl92YWx1ZSk7CisKKwkJcmV0ID0gc211X2dldF9kcG1fbGV2ZWxfY291bnQo
c211LCBjbGtfdHlwZSwgJmNvdW50KTsKKwkJaWYgKHJldCkKKwkJCXJldHVybiBzaXplOworCisJ
CWZvciAoaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7CisJCQlyZXQgPSBzbXVfZ2V0X2RwbV9mcmVx
X2J5X2luZGV4KHNtdSwgY2xrX3R5cGUsIGksICZ2YWx1ZSk7CisJCQlpZiAocmV0KQorCQkJCXJl
dHVybiBzaXplOworCisJCQlzaXplICs9IHNwcmludGYoYnVmICsgc2l6ZSwgIiVkOiAldU1oeiAl
c1xuIiwgaSwgdmFsdWUsCisJCQkJCWN1cl92YWx1ZSA9PSB2YWx1ZSA/ICIqIiA6ICIiKTsKKwkJ
fQorCQlicmVhazsKKwlkZWZhdWx0OgorCQlicmVhazsKKwl9CisKKwlyZXR1cm4gc2l6ZTsKK30K
Kwogc3RhdGljIGNvbnN0IHN0cnVjdCBwcHRhYmxlX2Z1bmNzIG5hdmkxMF9wcHRfZnVuY3MgPSB7
CiAJLnRhYmxlc19pbml0ID0gbmF2aTEwX3RhYmxlc19pbml0LAogCS5hbGxvY19kcG1fY29udGV4
dCA9IG5hdmkxMF9hbGxvY2F0ZV9kcG1fY29udGV4dCwKQEAgLTUzOCw2ICs1ODEsNyBAQCBzdGF0
aWMgY29uc3Qgc3RydWN0IHBwdGFibGVfZnVuY3MgbmF2aTEwX3BwdF9mdW5jcyA9IHsKIAkuc2V0
X2RlZmF1bHRfZHBtX3RhYmxlID0gbmF2aTEwX3NldF9kZWZhdWx0X2RwbV90YWJsZSwKIAkuZHBt
X3NldF91dmRfZW5hYmxlID0gbmF2aTEwX2RwbV9zZXRfdXZkX2VuYWJsZSwKIAkuZ2V0X2N1cnJl
bnRfY2xrX2ZyZXFfYnlfdGFibGUgPSBuYXZpMTBfZ2V0X2N1cnJlbnRfY2xrX2ZyZXFfYnlfdGFi
bGUsCisJLnByaW50X2Nsa19sZXZlbHMgPSBuYXZpMTBfcHJpbnRfY2xrX2xldmVscywKIH07CiAK
IHZvaWQgbmF2aTEwX3NldF9wcHRfZnVuY3Moc3RydWN0IHNtdV9jb250ZXh0ICpzbXUpCmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS92ZWdhMjBfcHB0LmMgYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS92ZWdhMjBfcHB0LmMKaW5kZXggZTlmMDIzMGZjMjc0
Li5hNjg4MDFkMDVjYzEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5
L3ZlZ2EyMF9wcHQuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS92ZWdhMjBf
cHB0LmMKQEAgLTg5Miw3ICs4OTIsNyBAQCBzdGF0aWMgaW50IHZlZ2EyMF9nZXRfY2xrX3RhYmxl
KHN0cnVjdCBzbXVfY29udGV4dCAqc211LAogfQogCiBzdGF0aWMgaW50IHZlZ2EyMF9wcmludF9j
bGtfbGV2ZWxzKHN0cnVjdCBzbXVfY29udGV4dCAqc211LAotCQkJZW51bSBwcF9jbG9ja190eXBl
IHR5cGUsIGNoYXIgKmJ1ZikKKwkJCWVudW0gc211X2Nsa190eXBlIHR5cGUsIGNoYXIgKmJ1ZikK
IHsKIAlpbnQgaSwgbm93LCBzaXplID0gMDsKIAlpbnQgcmV0ID0gMDsKQEAgLTkxMiw3ICs5MTIs
NyBAQCBzdGF0aWMgaW50IHZlZ2EyMF9wcmludF9jbGtfbGV2ZWxzKHN0cnVjdCBzbXVfY29udGV4
dCAqc211LAogCWRwbV90YWJsZSA9IHNtdV9kcG0tPmRwbV9jb250ZXh0OwogCiAJc3dpdGNoICh0
eXBlKSB7Ci0JY2FzZSBQUF9TQ0xLOgorCWNhc2UgU01VX1NDTEs6CiAJCXJldCA9IHNtdV9nZXRf
Y3VycmVudF9jbGtfZnJlcShzbXUsIFNNVV9HRlhDTEssICZub3cpOwogCQlpZiAocmV0KSB7CiAJ
CQlwcl9lcnIoIkF0dGVtcHQgdG8gZ2V0IGN1cnJlbnQgZ2Z4IGNsayBGYWlsZWQhIik7CkBAIC05
MzMsNyArOTMzLDcgQEAgc3RhdGljIGludCB2ZWdhMjBfcHJpbnRfY2xrX2xldmVscyhzdHJ1Y3Qg
c211X2NvbnRleHQgKnNtdSwKIAkJCQkJPyAiKiIgOiAiIik7CiAJCWJyZWFrOwogCi0JY2FzZSBQ
UF9NQ0xLOgorCWNhc2UgU01VX01DTEs6CiAJCXJldCA9IHNtdV9nZXRfY3VycmVudF9jbGtfZnJl
cShzbXUsIFNNVV9VQ0xLLCAmbm93KTsKIAkJaWYgKHJldCkgewogCQkJcHJfZXJyKCJBdHRlbXB0
IHRvIGdldCBjdXJyZW50IG1jbGsgRmFpbGVkISIpOwpAQCAtOTU0LDcgKzk1NCw3IEBAIHN0YXRp
YyBpbnQgdmVnYTIwX3ByaW50X2Nsa19sZXZlbHMoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsCiAJ
CQkJPyAiKiIgOiAiIik7CiAJCWJyZWFrOwogCi0JY2FzZSBQUF9TT0NDTEs6CisJY2FzZSBTTVVf
U09DQ0xLOgogCQlyZXQgPSBzbXVfZ2V0X2N1cnJlbnRfY2xrX2ZyZXEoc211LCBQUENMS19TT0ND
TEssICZub3cpOwogCQlpZiAocmV0KSB7CiAJCQlwcl9lcnIoIkF0dGVtcHQgdG8gZ2V0IGN1cnJl
bnQgc29jY2xrIEZhaWxlZCEiKTsKQEAgLTk3NSw3ICs5NzUsNyBAQCBzdGF0aWMgaW50IHZlZ2Ey
MF9wcmludF9jbGtfbGV2ZWxzKHN0cnVjdCBzbXVfY29udGV4dCAqc211LAogCQkJCT8gIioiIDog
IiIpOwogCQlicmVhazsKIAotCWNhc2UgUFBfRkNMSzoKKwljYXNlIFNNVV9GQ0xLOgogCQlyZXQg
PSBzbXVfZ2V0X2N1cnJlbnRfY2xrX2ZyZXEoc211LCBQUENMS19GQ0xLLCAmbm93KTsKIAkJaWYg
KHJldCkgewogCQkJcHJfZXJyKCJBdHRlbXB0IHRvIGdldCBjdXJyZW50IGZjbGsgRmFpbGVkISIp
OwpAQCAtOTkwLDcgKzk5MCw3IEBAIHN0YXRpYyBpbnQgdmVnYTIwX3ByaW50X2Nsa19sZXZlbHMo
c3RydWN0IHNtdV9jb250ZXh0ICpzbXUsCiAJCQkJPyAiKiIgOiAiIik7CiAJCWJyZWFrOwogCi0J
Y2FzZSBQUF9EQ0VGQ0xLOgorCWNhc2UgU01VX0RDRUZDTEs6CiAJCXJldCA9IHNtdV9nZXRfY3Vy
cmVudF9jbGtfZnJlcShzbXUsIFBQQ0xLX0RDRUZDTEssICZub3cpOwogCQlpZiAocmV0KSB7CiAJ
CQlwcl9lcnIoIkF0dGVtcHQgdG8gZ2V0IGN1cnJlbnQgZGNlZmNsayBGYWlsZWQhIik7CkBAIC0x
MDEwLDcgKzEwMTAsNyBAQCBzdGF0aWMgaW50IHZlZ2EyMF9wcmludF9jbGtfbGV2ZWxzKHN0cnVj
dCBzbXVfY29udGV4dCAqc211LAogCQkJCShjbG9ja3MuZGF0YVtpXS5jbG9ja3NfaW5fa2h6ID09
IG5vdyAqIDEwKSA/ICIqIiA6ICIiKTsKIAkJYnJlYWs7CiAKLQljYXNlIFBQX1BDSUU6CisJY2Fz
ZSBTTVVfUENJRToKIAkJZ2VuX3NwZWVkID0gKFJSRUczMl9QQ0lFKHNtblBDSUVfTENfU1BFRURf
Q05UTCkgJgogCQkJICAgICBQU1dVU1AwX1BDSUVfTENfU1BFRURfQ05UTF9fTENfQ1VSUkVOVF9E
QVRBX1JBVEVfTUFTSykKIAkJCT4+IFBTV1VTUDBfUENJRV9MQ19TUEVFRF9DTlRMX19MQ19DVVJS
RU5UX0RBVEFfUkFURV9fU0hJRlQ7CkBAIC0xMDM1LDcgKzEwMzUsNyBAQCBzdGF0aWMgaW50IHZl
Z2EyMF9wcmludF9jbGtfbGV2ZWxzKHN0cnVjdCBzbXVfY29udGV4dCAqc211LAogCQkJCQkiKiIg
OiAiIik7CiAJCWJyZWFrOwogCi0JY2FzZSBPRF9TQ0xLOgorCWNhc2UgU01VX09EX1NDTEs6CiAJ
CWlmIChvZDhfc2V0dGluZ3MtPm9kOF9zZXR0aW5nc19hcnJheVtPRDhfU0VUVElOR19HRlhDTEtf
Rk1JTl0uZmVhdHVyZV9pZCAmJgogCQkgICAgb2Q4X3NldHRpbmdzLT5vZDhfc2V0dGluZ3NfYXJy
YXlbT0Q4X1NFVFRJTkdfR0ZYQ0xLX0ZNQVhdLmZlYXR1cmVfaWQpIHsKIAkJCXNpemUgPSBzcHJp
bnRmKGJ1ZiwgIiVzOlxuIiwgIk9EX1NDTEsiKTsKQEAgLTEwNDcsNyArMTA0Nyw3IEBAIHN0YXRp
YyBpbnQgdmVnYTIwX3ByaW50X2Nsa19sZXZlbHMoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsCiAK
IAkJYnJlYWs7CiAKLQljYXNlIE9EX01DTEs6CisJY2FzZSBTTVVfT0RfTUNMSzoKIAkJaWYgKG9k
OF9zZXR0aW5ncy0+b2Q4X3NldHRpbmdzX2FycmF5W09EOF9TRVRUSU5HX1VDTEtfRk1BWF0uZmVh
dHVyZV9pZCkgewogCQkJc2l6ZSA9IHNwcmludGYoYnVmLCAiJXM6XG4iLCAiT0RfTUNMSyIpOwog
CQkJc2l6ZSArPSBzcHJpbnRmKGJ1ZiArIHNpemUsICIxOiAlMTB1TWh6XG4iLApAQCAtMTA1Niw3
ICsxMDU2LDcgQEAgc3RhdGljIGludCB2ZWdhMjBfcHJpbnRfY2xrX2xldmVscyhzdHJ1Y3Qgc211
X2NvbnRleHQgKnNtdSwKIAogCQlicmVhazsKIAotCWNhc2UgT0RfVkREQ19DVVJWRToKKwljYXNl
IFNNVV9PRF9WRERDX0NVUlZFOgogCQlpZiAob2Q4X3NldHRpbmdzLT5vZDhfc2V0dGluZ3NfYXJy
YXlbT0Q4X1NFVFRJTkdfR0ZYQ0xLX0ZSRVExXS5mZWF0dXJlX2lkICYmCiAJCSAgICBvZDhfc2V0
dGluZ3MtPm9kOF9zZXR0aW5nc19hcnJheVtPRDhfU0VUVElOR19HRlhDTEtfRlJFUTJdLmZlYXR1
cmVfaWQgJiYKIAkJICAgIG9kOF9zZXR0aW5ncy0+b2Q4X3NldHRpbmdzX2FycmF5W09EOF9TRVRU
SU5HX0dGWENMS19GUkVRM10uZmVhdHVyZV9pZCAmJgpAQCAtMTA3Nyw3ICsxMDc3LDcgQEAgc3Rh
dGljIGludCB2ZWdhMjBfcHJpbnRfY2xrX2xldmVscyhzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwK
IAogCQlicmVhazsKIAotCWNhc2UgT0RfUkFOR0U6CisJY2FzZSBTTVVfT0RfUkFOR0U6CiAJCXNp
emUgPSBzcHJpbnRmKGJ1ZiwgIiVzOlxuIiwgIk9EX1JBTkdFIik7CiAKIAkJaWYgKG9kOF9zZXR0
aW5ncy0+b2Q4X3NldHRpbmdzX2FycmF5W09EOF9TRVRUSU5HX0dGWENMS19GTUlOXS5mZWF0dXJl
X2lkICYmCi0tIAoyLjIwLjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Au
b3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdm
eA==
