Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id C89339AA62
	for <lists+amd-gfx@lfdr.de>; Fri, 23 Aug 2019 10:32:09 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 55A436EC26;
	Fri, 23 Aug 2019 08:32:08 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM02-BL2-obe.outbound.protection.outlook.com
 (mail-eopbgr750074.outbound.protection.outlook.com [40.107.75.74])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C875E6EC26
 for <amd-gfx@lists.freedesktop.org>; Fri, 23 Aug 2019 08:32:06 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=ZHZloS4OHFOynIupOEWT73zsLUnm+x25Q2jlyHPbP0qiFCG0f3gdIB2wTJJIztou9bX5wH3IgKdI+ceTrkqojDI9pjAUYEXV4Xnnj2oJnMqTHRKyHiKXlzAK4kNF5BunT/kdY/usWe+X3xnJY57SgT9lVWSE3ycFjdW+UvEP8nETwDgM9/6QMhswXl6srnjpm+HAGNJ3mobZ0FQNo+9IGd/zL3dSFqUy3vR20eJDijlarF1FGBq30jHcsHZHyxjcqt3AjvKIVTFtsOm0j6APzsRgBrl+jQPKIJschJa5GYIImB6KIOkMoEDe7Hzy2dZmylQOlQZqE00j/VjUWGDLKQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=jg8txsf9BYX30xuYf8tZiBkv8mMJH68n3IoxfwuGwOA=;
 b=CIsRAXUEi7H2DDlNx5tICX+CVrrjRwwnRHJwbcmcVl0X01JTVJlbfGsVAW0V296DKjnrjgUVuWcfyMISdO701PN5wZs5s0EV/hSPCINemvnH1tl08UEVf78xRtcE0rfVgS/7z9BJTh1wFpkJhvFE6XFZQ869ChAr3zgdwvSqCA1VE59gKhqMU4mazfyDuM6LuBE4e1UgQm8BBSVPm2Wcyu7rpcKiEykwgm4dHInVWaKNDkKkgtHycgW85Sgl5/9J48W91BoSRDDgAbc0+2QziuGvC/YYPRlbWwaGbeW75HpVTBIvpX1+n8TlFV42v7mflR3S0vLTafB277tFKj2w8Q==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from MN2PR12MB3933.namprd12.prod.outlook.com (10.255.238.94) by
 MN2PR12MB3727.namprd12.prod.outlook.com (10.255.236.80) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2178.16; Fri, 23 Aug 2019 08:32:04 +0000
Received: from MN2PR12MB3933.namprd12.prod.outlook.com
 ([fe80::a97f:16f2:ddb4:87f9]) by MN2PR12MB3933.namprd12.prod.outlook.com
 ([fe80::a97f:16f2:ddb4:87f9%6]) with mapi id 15.20.2178.020; Fri, 23 Aug 2019
 08:32:04 +0000
From: "Liu, Monk" <Monk.Liu@amd.com>
To: "Koenig, Christian" <Christian.Koenig@amd.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH] drm/amdgpu: introduce vram lost paramter for reset
 function
Thread-Topic: [PATCH] drm/amdgpu: introduce vram lost paramter for reset
 function
Thread-Index: AQHVWWOpc5FkLOh9aUC6LM7DmqEIl6cIZkIAgAAAguA=
Date: Fri, 23 Aug 2019 08:32:04 +0000
Message-ID: <MN2PR12MB393366D270445A63B053DA3184A40@MN2PR12MB3933.namprd12.prod.outlook.com>
References: <1566531249-1396-1-git-send-email-Monk.Liu@amd.com>
 <15d22497-cf4d-0d15-236c-5bc2b65eb656@gmail.com>
In-Reply-To: <15d22497-cf4d-0d15-236c-5bc2b65eb656@gmail.com>
Accept-Language: en-US, zh-CN
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 4b49dc8d-85d8-468c-7e52-08d727a4607b
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600166)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:MN2PR12MB3727; 
x-ms-traffictypediagnostic: MN2PR12MB3727:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <MN2PR12MB3727E4B1075B8AC1875BF47084A40@MN2PR12MB3727.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:8273;
x-forefront-prvs: 0138CD935C
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(376002)(346002)(39860400002)(366004)(136003)(396003)(199004)(189003)(13464003)(81156014)(256004)(305945005)(14444005)(33656002)(25786009)(74316002)(6246003)(7736002)(53936002)(478600001)(14454004)(229853002)(55016002)(76116006)(66556008)(66476007)(64756008)(66446008)(66946007)(486006)(52536014)(6436002)(9686003)(86362001)(5660300002)(476003)(11346002)(76176011)(7696005)(2501003)(446003)(66066001)(3846002)(6116002)(26005)(186003)(8936002)(102836004)(66574012)(71200400001)(53546011)(71190400001)(316002)(6506007)(110136005)(81166006)(99286004)(8676002)(2906002)(21314003);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MN2PR12MB3727;
 H:MN2PR12MB3933.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: nMxsXiRQ0f1+OHaG7Zq9Tgehs7BAlKPYdJNoLg+qE3Mo0ucdCwjia7+1q3CV9w6pJ0ALHLqEm5cKclcEl74/0T70B4ULJipltV1N+Byg6/RCFXt5NPJ3Uh2E3A5bFIRxRgGgY3LucD4+xIKVs0L04XdgZy+swVbFgfVkgN12gPYSbHxX+zTEzJvvJSp8OqK3Jj7sUrwB0aLRNirobeKq1ZsFzUdbVPubo/879PjdVhDChG069XiEoZUDtAx3Enjy78s3tK64iwczM96tBtgEGCGLFXiMcBTku3fBbl175us5tbNTBHGIU6hCeJeCt0EUQX5DHr+CndJxXfCw+HIqawGnjZx4zTCQjbIwVvWluSNzpuDj9iEf40CzZN4egjYe+AeclOpog0RunjKa09Wnx5cqQtu+CkUTOsqzwTmOykk=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 4b49dc8d-85d8-468c-7e52-08d727a4607b
X-MS-Exchange-CrossTenant-originalarrivaltime: 23 Aug 2019 08:32:04.1281 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: axGVQ3ug4BqH+5NY3xI7AZsfTFVBCloL2VRUJXzO2ZIk+6Af3TEQvnMoIABH+pJt
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB3727
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=jg8txsf9BYX30xuYf8tZiBkv8mMJH68n3IoxfwuGwOA=;
 b=CW7mm5UynEbkA76hS7ABdYEUf1Z9liFCnJWOZKezIKaVjaxvB0Q9qeTMzyplCGmGUWwt5npZNJ0gCzlVE3k8fEGObGeA6Zv2gaSsBNbgI+IpDUvuyINszT6M5aiEXcOBgbpd4BZrt5W3zLDvnlYwp38E+pZ5l/KoCTnctnjlrnA=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Monk.Liu@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

Pj4gT24gdGhlIG90aGVyIGhhbmQgd291bGRuJ3QgaXQgYmUgc2ltcGxlciB0byBqdXN0IGluY3Jl
bWVudCB2cmFtX2xvc3RfY291bnRlcj8NCkluIHdoZXJlID8gaWYgeW91IG1lYW4gaW4gYW1kZ3B1
X2RldmljZV9yZWNvdmVyIHJvdXRpbmUgSSB3b24ndCBkbyB0aGF0IHNpbmNlIHRoZSByZXNldCgp
IGNhbiBkbyBhbnkga2luZCBvZiByZXNldCBsaWtlOg0KMSkgUEYgRkxSDQoyKSBtb2RlMS8yIHJl
c2V0DQozKSBtYWdpYyByZXNldCB0aHJvdWdoIGNvbmZpZyBzcGFjZQ0KNCkgQkFDTyByZXNldA0K
DQpQRiBGTFIgd29uJ3QgY2F1c2UgVlJBTSBsb3N0LCBtb2RlXzEvMiBpcyBub3QgY2xlYXIgdG8g
bWUsIG9ubHkgQkFDTyByZXNldCBpcyBkZWZpbml0ZWx5IGEgdnJhbSBsb3N0IHJlc2V0IA0KDQpJ
ZiB5b3UgaW5jcmVhc2UgdGhlIGNvdW50ZXIgaW4gZ2VuZXJhbCBmdW5jdGlvbiB0aGF0IHdpbGwg
YmUgbm90IGFjY3VyYXRlIA0KX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXw0K
TW9uayBMaXV8R1BVIFZpcnR1YWxpemF0aW9uIFRlYW0gfEFNRA0KDQoNCi0tLS0tT3JpZ2luYWwg
TWVzc2FnZS0tLS0tDQpGcm9tOiBDaHJpc3RpYW4gS8O2bmlnIDxja29lbmlnLmxlaWNodHp1bWVy
a2VuQGdtYWlsLmNvbT4gDQpTZW50OiBGcmlkYXksIEF1Z3VzdCAyMywgMjAxOSA0OjI3IFBNDQpU
bzogTGl1LCBNb25rIDxNb25rLkxpdUBhbWQuY29tPjsgYW1kLWdmeEBsaXN0cy5mcmVlZGVza3Rv
cC5vcmcNClN1YmplY3Q6IFJlOiBbUEFUQ0hdIGRybS9hbWRncHU6IGludHJvZHVjZSB2cmFtIGxv
c3QgcGFyYW10ZXIgZm9yIHJlc2V0IGZ1bmN0aW9uDQoNCkFtIDIzLjA4LjE5IHVtIDA1OjM0IHNj
aHJpZWIgTW9uayBMaXU6DQo+IGZvciBTT0MxNS92ZWdhMTAgdGhlIEJBQ08gcmVzZXQgd291bGQg
aW50cm9kdWNlIHZyYW0gbG9zdCBpbiB0aGUgaGlnaCANCj4gZW5kIGFkZHJlc3MgcmFuZ2UgYW5k
IGN1cnJlbnQga21kJ3MgdnJhbSBsb3N0IGNoZWNraW5nIGNhbm5vdCBjYXRjaCBpdCANCj4gc2lu
Y2UgaXQgb25seSBjaGVjayB2aXNpYmxlIGZyYW1lIGJ1ZmZlcg0KPg0KPiBUT0RPOg0KPiB0byBj
b25maXJtIGlmIG1vZGUxLzIgcmVzZXQgd291bGQgaW50cm9kdWNlIHZyYW0gbG9zdA0KDQpMb29r
cyBnb29kIGluIGdlbmVyYWwsIGJ1dCBJIHdvdWxkIG1ha2UgdGhlIHZhbHVlIG1hbmRhdG9yeSBv
ciBtYXliZSB1c2UgYSBzcGVjaWFsIHJldHVybiBjb2RlIGluc3RlYWQuDQoNCk9uIHRoZSBvdGhl
ciBoYW5kIHdvdWxkbid0IGl0IGJlIHNpbXBsZXIgdG8ganVzdCBpbmNyZW1lbnQgdnJhbV9sb3N0
X2NvdW50ZXI/DQoNCkNocmlzdGlhbi4NCg0KPg0KPiBTaWduZWQtb2ZmLWJ5OiBNb25rIExpdSA8
TW9uay5MaXVAYW1kLmNvbT4NCj4gLS0tDQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
YW1kZ3B1LmggICAgICAgIHwgIDQgKystLQ0KPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2FtZGdwdV9kZXZpY2UuYyB8IDEyICsrKysrKystLS0tLQ0KPiAgIGRyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2Npay5jICAgICAgICAgICB8ICAyICstDQo+ICAgZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvbnYuYyAgICAgICAgICAgIHwgMTAgKysrKysrKy0tLQ0KPiAgIGRyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L3NpLmMgICAgICAgICAgICB8ICAyICstDQo+ICAgZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvc29jMTUuYyAgICAgICAgIHwgIDQgKysrLQ0KPiAgIGRyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L3ZpLmMgICAgICAgICAgICB8ICAyICstDQo+ICAgNyBmaWxlcyBjaGFu
Z2VkLCAyMiBpbnNlcnRpb25zKCspLCAxNCBkZWxldGlvbnMoLSkNCj4NCj4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdS5oIA0KPiBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdS5oDQo+IGluZGV4IGY2YWU1NjUuLjFmZTM3NTYgMTAwNjQ0DQo+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdS5oDQo+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdS5oDQo+IEBAIC01NTIsNyArNTUyLDcgQEAgc3Ry
dWN0IGFtZGdwdV9hc2ljX2Z1bmNzIHsNCj4gICAJaW50ICgqcmVhZF9yZWdpc3Rlcikoc3RydWN0
IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHUzMiBzZV9udW0sDQo+ICAgCQkJICAgICB1MzIgc2hfbnVt
LCB1MzIgcmVnX29mZnNldCwgdTMyICp2YWx1ZSk7DQo+ICAgCXZvaWQgKCpzZXRfdmdhX3N0YXRl
KShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgYm9vbCBzdGF0ZSk7DQo+IC0JaW50ICgqcmVz
ZXQpKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KTsNCj4gKwlpbnQgKCpyZXNldCkoc3RydWN0
IGFtZGdwdV9kZXZpY2UgKmFkZXYsIGJvb2wgKmxvc3QpOw0KPiAgIAllbnVtIGFtZF9yZXNldF9t
ZXRob2QgKCpyZXNldF9tZXRob2QpKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KTsNCj4gICAJ
LyogZ2V0IHRoZSByZWZlcmVuY2UgY2xvY2sgKi8NCj4gICAJdTMyICgqZ2V0X3hjbGspKHN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2KTsgQEAgLTExMzYsNyArMTEzNiw3IEBAIA0KPiBpbnQgZW11
X3NvY19hc2ljX2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpOw0KPiAgICAqIEFTSUNz
IG1hY3JvLg0KPiAgICAqLw0KPiAgICNkZWZpbmUgYW1kZ3B1X2FzaWNfc2V0X3ZnYV9zdGF0ZShh
ZGV2LCBzdGF0ZSkgDQo+IChhZGV2KS0+YXNpY19mdW5jcy0+c2V0X3ZnYV9zdGF0ZSgoYWRldiks
IChzdGF0ZSkpIC0jZGVmaW5lIA0KPiBhbWRncHVfYXNpY19yZXNldChhZGV2KSAoYWRldiktPmFz
aWNfZnVuY3MtPnJlc2V0KChhZGV2KSkNCj4gKyNkZWZpbmUgYW1kZ3B1X2FzaWNfcmVzZXQoYWRl
diwgbG9zdCkgDQo+ICsoYWRldiktPmFzaWNfZnVuY3MtPnJlc2V0KChhZGV2KSwgKGxvc3QpKQ0K
PiAgICNkZWZpbmUgYW1kZ3B1X2FzaWNfcmVzZXRfbWV0aG9kKGFkZXYpIChhZGV2KS0+YXNpY19m
dW5jcy0+cmVzZXRfbWV0aG9kKChhZGV2KSkNCj4gICAjZGVmaW5lIGFtZGdwdV9hc2ljX2dldF94
Y2xrKGFkZXYpIChhZGV2KS0+YXNpY19mdW5jcy0+Z2V0X3hjbGsoKGFkZXYpKQ0KPiAgICNkZWZp
bmUgYW1kZ3B1X2FzaWNfc2V0X3V2ZF9jbG9ja3MoYWRldiwgdiwgZCkgDQo+IChhZGV2KS0+YXNp
Y19mdW5jcy0+c2V0X3V2ZF9jbG9ja3MoKGFkZXYpLCAodiksIChkKSkgZGlmZiAtLWdpdCANCj4g
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMgDQo+IGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RldmljZS5jDQo+IGluZGV4IDAyYjNlN2QuLjg2
NjhjYjggMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9k
ZXZpY2UuYw0KPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2aWNl
LmMNCj4gQEAgLTI1NDYsNyArMjU0Niw3IEBAIHN0YXRpYyB2b2lkIGFtZGdwdV9kZXZpY2VfeGdt
aV9yZXNldF9mdW5jKHN0cnVjdCB3b3JrX3N0cnVjdCAqX193b3JrKQ0KPiAgIAlzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldiA9DQo+ICAgCQljb250YWluZXJfb2YoX193b3JrLCBzdHJ1Y3QgYW1k
Z3B1X2RldmljZSwgeGdtaV9yZXNldF93b3JrKTsNCj4gICANCj4gLQlhZGV2LT5hc2ljX3Jlc2V0
X3JlcyA9ICBhbWRncHVfYXNpY19yZXNldChhZGV2KTsNCj4gKwlhZGV2LT5hc2ljX3Jlc2V0X3Jl
cyA9ICBhbWRncHVfYXNpY19yZXNldChhZGV2LCBOVUxMKTsNCj4gICAJaWYgKGFkZXYtPmFzaWNf
cmVzZXRfcmVzKQ0KPiAgIAkJRFJNX1dBUk4oIkFTSUMgcmVzZXQgZmFpbGVkIHdpdGggZXJyb3Is
ICVkIGZvciBkcm0gZGV2LCAlcyIsDQo+ICAgCQkJIGFkZXYtPmFzaWNfcmVzZXRfcmVzLCBhZGV2
LT5kZGV2LT51bmlxdWUpOyBAQCAtMjc1MSw3ICsyNzUxLDcgQEAgDQo+IGludCBhbWRncHVfZGV2
aWNlX2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ICAgCSAqICBFLmcuLCBkcml2
ZXIgd2FzIG5vdCBjbGVhbmx5IHVubG9hZGVkIHByZXZpb3VzbHksIGV0Yy4NCj4gICAJICovDQo+
ICAgCWlmICghYW1kZ3B1X3NyaW92X3ZmKGFkZXYpICYmIGFtZGdwdV9hc2ljX25lZWRfcmVzZXRf
b25faW5pdChhZGV2KSkgew0KPiAtCQlyID0gYW1kZ3B1X2FzaWNfcmVzZXQoYWRldik7DQo+ICsJ
CXIgPSBhbWRncHVfYXNpY19yZXNldChhZGV2LCBOVUxMKTsNCj4gICAJCWlmIChyKSB7DQo+ICAg
CQkJZGV2X2VycihhZGV2LT5kZXYsICJhc2ljIHJlc2V0IG9uIGluaXQgZmFpbGVkXG4iKTsNCj4g
ICAJCQlnb3RvIGZhaWxlZDsNCj4gQEAgLTMwODQsNyArMzA4NCw3IEBAIGludCBhbWRncHVfZGV2
aWNlX3N1c3BlbmQoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgYm9vbCBzdXNwZW5kLCBib29sIGZi
Y29uKQ0KPiAgIAkJcGNpX2Rpc2FibGVfZGV2aWNlKGRldi0+cGRldik7DQo+ICAgCQlwY2lfc2V0
X3Bvd2VyX3N0YXRlKGRldi0+cGRldiwgUENJX0QzaG90KTsNCj4gICAJfSBlbHNlIHsNCj4gLQkJ
ciA9IGFtZGdwdV9hc2ljX3Jlc2V0KGFkZXYpOw0KPiArCQlyID0gYW1kZ3B1X2FzaWNfcmVzZXQo
YWRldiwgTlVMTCk7DQo+ICAgCQlpZiAocikNCj4gICAJCQlEUk1fRVJST1IoImFtZGdwdSBhc2lj
IHJlc2V0IGZhaWxlZFxuIik7DQo+ICAgCX0NCj4gQEAgLTM2MDQsNyArMzYwNCw3IEBAIHN0YXRp
YyBpbnQgYW1kZ3B1X2RvX2FzaWNfcmVzZXQoc3RydWN0IGFtZGdwdV9oaXZlX2luZm8gKmhpdmUs
DQo+ICAgCQkJCWlmICghcXVldWVfd29yayhzeXN0ZW1faGlnaHByaV93cSwgJnRtcF9hZGV2LT54
Z21pX3Jlc2V0X3dvcmspKQ0KPiAgIAkJCQkJciA9IC1FQUxSRUFEWTsNCj4gICAJCQl9IGVsc2UN
Cj4gLQkJCQlyID0gYW1kZ3B1X2FzaWNfcmVzZXQodG1wX2FkZXYpOw0KPiArCQkJCXIgPSBhbWRn
cHVfYXNpY19yZXNldCh0bXBfYWRldiwgJnZyYW1fbG9zdCk7DQo+ICAgDQo+ICAgCQkJaWYgKHIp
IHsNCj4gICAJCQkJRFJNX0VSUk9SKCJBU0lDIHJlc2V0IGZhaWxlZCB3aXRoIGVycm9yLCAlZCBm
b3IgZHJtIGRldiwgJXMiLCBAQCANCj4gLTM2NDUsNyArMzY0NSw5IEBAIHN0YXRpYyBpbnQgYW1k
Z3B1X2RvX2FzaWNfcmVzZXQoc3RydWN0IGFtZGdwdV9oaXZlX2luZm8gKmhpdmUsDQo+ICAgCQkJ
CWlmIChyKQ0KPiAgIAkJCQkJZ290byBvdXQ7DQo+ICAgDQo+IC0JCQkJdnJhbV9sb3N0ID0gYW1k
Z3B1X2RldmljZV9jaGVja192cmFtX2xvc3QodG1wX2FkZXYpOw0KPiArCQkJCWlmICghdnJhbV9s
b3N0KQ0KPiArCQkJCQl2cmFtX2xvc3QgPSBhbWRncHVfZGV2aWNlX2NoZWNrX3ZyYW1fbG9zdCh0
bXBfYWRldik7DQo+ICsNCj4gICAJCQkJaWYgKHZyYW1fbG9zdCkgew0KPiAgIAkJCQkJRFJNX0lO
Rk8oIlZSQU0gaXMgbG9zdCBkdWUgdG8gR1BVIHJlc2V0IVxuIik7DQo+ICAgCQkJCQlhdG9taWNf
aW5jKCZ0bXBfYWRldi0+dnJhbV9sb3N0X2NvdW50ZXIpOw0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvY2lrLmMgDQo+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvY2lrLmMNCj4gaW5kZXggN2I2M2Q3YS4uMGYyNWI4MiAxMDA2NDQNCj4gLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvY2lrLmMNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvY2lrLmMNCj4gQEAgLTEyNzcsNyArMTI3Nyw3IEBAIHN0YXRpYyBpbnQgY2lrX2dwdV9w
Y2lfY29uZmlnX3Jlc2V0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQ0KPiAgICAqIHRvIHJl
c2V0IHRoZW0uDQo+ICAgICogUmV0dXJucyAwIGZvciBzdWNjZXNzLg0KPiAgICAqLw0KPiAtc3Rh
dGljIGludCBjaWtfYXNpY19yZXNldChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCj4gK3N0
YXRpYyBpbnQgY2lrX2FzaWNfcmVzZXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIGJvb2wg
KnZyYW1sb3N0KQ0KPiAgIHsNCj4gICAJaW50IHI7DQo+ICAgDQo+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9udi5jIA0KPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L252LmMgaW5kZXggYTNkOTlmMi4uNTNkZTdhNiAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvbnYuYw0KPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9udi5jDQo+IEBAIC0zMDEsNyArMzAxLDcgQEAgbnZfYXNpY19yZXNldF9tZXRob2Qoc3RydWN0
IGFtZGdwdV9kZXZpY2UgKmFkZXYpDQo+ICAgCQlyZXR1cm4gQU1EX1JFU0VUX01FVEhPRF9NT0RF
MTsNCj4gICB9DQo+ICAgDQo+IC1zdGF0aWMgaW50IG52X2FzaWNfcmVzZXQoc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYpDQo+ICtzdGF0aWMgaW50IG52X2FzaWNfcmVzZXQoc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYsIGJvb2wgKnZyYW1sb3N0KQ0KPiAgIHsNCj4gICANCj4gICAJLyogRklY
TUU6IGl0IGRvZXNuJ3Qgd29yayBzaW5jZSB2ZWdhMTAgKi8gQEAgLTMxNSwxMCArMzE1LDE0IEBA
IA0KPiBzdGF0aWMgaW50IG52X2FzaWNfcmVzZXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYp
DQo+ICAgCWludCByZXQgPSAwOw0KPiAgIAlzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSA9ICZhZGV2
LT5zbXU7DQo+ICAgDQo+IC0JaWYgKG52X2FzaWNfcmVzZXRfbWV0aG9kKGFkZXYpID09IEFNRF9S
RVNFVF9NRVRIT0RfQkFDTykNCj4gKwlpZiAobnZfYXNpY19yZXNldF9tZXRob2QoYWRldikgPT0g
QU1EX1JFU0VUX01FVEhPRF9CQUNPKSB7DQo+ICsJCWlmICh2cmFtbG9zdCkNCj4gKwkJCSp2cmFt
bG9zdCA9IHRydWU7DQo+ICAgCQlyZXQgPSBzbXVfYmFjb19yZXNldChzbXUpOw0KPiAtCWVsc2UN
Cj4gKwl9DQo+ICsJZWxzZSB7DQo+ICAgCQlyZXQgPSBudl9hc2ljX21vZGUxX3Jlc2V0KGFkZXYp
Ow0KPiArCX0NCj4gICANCj4gICAJcmV0dXJuIHJldDsNCj4gICB9DQo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zaS5jIA0KPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L3NpLmMgaW5kZXggOTA0MzYxNC4uZjMyNDA5OSAxMDA2NDQNCj4gLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvc2kuYw0KPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9zaS5jDQo+IEBAIC0xMTgwLDcgKzExODAsNyBAQCBzdGF0aWMgYm9vbCBzaV9yZWFkX2Jp
b3NfZnJvbV9yb20oc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ICAgfQ0KPiAgIA0KPiAg
IC8veHh4OiBub3QgaW1wbGVtZW50ZWQNCj4gLXN0YXRpYyBpbnQgc2lfYXNpY19yZXNldChzdHJ1
Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCj4gK3N0YXRpYyBpbnQgc2lfYXNpY19yZXNldChzdHJ1
Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgYm9vbCAqdnJhbWxvc3QpDQo+ICAgew0KPiAgIAlyZXR1
cm4gMDsNCj4gICB9DQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9z
b2MxNS5jIA0KPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NvYzE1LmMNCj4gaW5kZXgg
ZmUyMjEyZGYuLjEyYjI5NjYgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L3NvYzE1LmMNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc29jMTUuYw0K
PiBAQCAtNTUzLDEwICs1NTMsMTIgQEAgc29jMTVfYXNpY19yZXNldF9tZXRob2Qoc3RydWN0IGFt
ZGdwdV9kZXZpY2UgKmFkZXYpDQo+ICAgCQlyZXR1cm4gQU1EX1JFU0VUX01FVEhPRF9NT0RFMTsN
Cj4gICB9DQo+ICAgDQo+IC1zdGF0aWMgaW50IHNvYzE1X2FzaWNfcmVzZXQoc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYpDQo+ICtzdGF0aWMgaW50IHNvYzE1X2FzaWNfcmVzZXQoc3RydWN0IGFt
ZGdwdV9kZXZpY2UgKmFkZXYsIGJvb2wgDQo+ICsqdnJhbWxvc3QpDQo+ICAgew0KPiAgIAlzd2l0
Y2ggKHNvYzE1X2FzaWNfcmVzZXRfbWV0aG9kKGFkZXYpKSB7DQo+ICAgCQljYXNlIEFNRF9SRVNF
VF9NRVRIT0RfQkFDTzoNCj4gKwkJCWlmICh2cmFtbG9zdCkNCj4gKwkJCQkqdnJhbWxvc3QgPSB0
cnVlOw0KPiAgIAkJCXJldHVybiBzb2MxNV9hc2ljX2JhY29fcmVzZXQoYWRldik7DQo+ICAgCQlj
YXNlIEFNRF9SRVNFVF9NRVRIT0RfTU9ERTI6DQo+ICAgCQkJcmV0dXJuIHNvYzE1X21vZGUyX3Jl
c2V0KGFkZXYpOw0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdmku
YyANCj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92aS5jIGluZGV4IDU2Yzg4MmIuLjhl
Y2ViMDAgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3ZpLmMNCj4g
KysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdmkuYw0KPiBAQCAtNjk2LDcgKzY5Niw3
IEBAIHN0YXRpYyBpbnQgdmlfZ3B1X3BjaV9jb25maWdfcmVzZXQoc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYpDQo+ICAgICogdG8gcmVzZXQgdGhlbS4NCj4gICAgKiBSZXR1cm5zIDAgZm9yIHN1
Y2Nlc3MuDQo+ICAgICovDQo+IC1zdGF0aWMgaW50IHZpX2FzaWNfcmVzZXQoc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYpDQo+ICtzdGF0aWMgaW50IHZpX2FzaWNfcmVzZXQoc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYsIGJvb2wgKnZyYW1sb3N0KQ0KPiAgIHsNCj4gICAJaW50IHI7DQo+ICAg
DQoNCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmFtZC1n
ZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlz
dHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeA==
