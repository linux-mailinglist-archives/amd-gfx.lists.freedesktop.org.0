Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A5C4D1101BD
	for <lists+amd-gfx@lfdr.de>; Tue,  3 Dec 2019 17:02:43 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 30BA46E49A;
	Tue,  3 Dec 2019 16:02:42 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-wm1-x343.google.com (mail-wm1-x343.google.com
 [IPv6:2a00:1450:4864:20::343])
 by gabe.freedesktop.org (Postfix) with ESMTPS id DD6676E49A
 for <amd-gfx@lists.freedesktop.org>; Tue,  3 Dec 2019 16:02:39 +0000 (UTC)
Received: by mail-wm1-x343.google.com with SMTP id q9so2423679wmj.5
 for <amd-gfx@lists.freedesktop.org>; Tue, 03 Dec 2019 08:02:39 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=bD44FpVH2Q2yBh4UDZxoXYyOP6KZ3sLDvDv0F31bAx8=;
 b=U0Spl0Z5RG3lLf0arrNpnDwOM5LZPgbymhj+gA581HodLgu5mHkKHsS1H3B1vbmoML
 /KfhPe8FNjnLuIbfc/UZU2KOnHcRHc1aXNr4OE2LA2nkYnp++VQIyrFinpBB0ieiwjeX
 8yHlSZ8GOk0R37kRo09RYbBOzlvaVG/NybH7g6SwheIXuV0i8A2VCYkZLBokMhZFqM47
 B5R+gkhbuoKZXHD2UUlDfBOJ36ZqEIHZHyNAVPJ4pT1dA/6I7h8vfoUyIuMFLQq/LFDY
 IgEo78YWyjAE0r/koZZKGVwnXq+c0qKjO0IxVaqYjOKkGmmEkBnDlelY4Db5jewQ7gyV
 MNmg==
X-Gm-Message-State: APjAAAUVWN1G3813g+LV+aSS/m252Xl5O+RsvQreDc50YNhQYCD7969/
 XUYG794lWI96H6k2RUHob/DkVGP1Xgu78DEy0Mhes5AM
X-Google-Smtp-Source: APXvYqyKKObOusTPra/TaWowzKe/pGufa51eufhKWSjj79mc4JR9xOukP4tqOXYfc+wYsOCGn9bLuN3Ek7hl3+BBtzI=
X-Received: by 2002:a05:600c:2254:: with SMTP id
 a20mr34959476wmm.97.1575388958107; 
 Tue, 03 Dec 2019 08:02:38 -0800 (PST)
MIME-Version: 1.0
References: <20190829060533.32315-1-Kenny.Ho@amd.com>
 <20190829060533.32315-17-Kenny.Ho@amd.com>
 <04abdc58-ae30-a13d-e7dc-f1020a1400b9@amd.com>
 <CAOWid-cC3mqHomBMwVC0Fs02sybP4GO+T=8_=cEepD=a-Tb+7w@mail.gmail.com>
 <CY4PR12MB176798E58351FC1F3416F658F9430@CY4PR12MB1767.namprd12.prod.outlook.com>
In-Reply-To: <CY4PR12MB176798E58351FC1F3416F658F9430@CY4PR12MB1767.namprd12.prod.outlook.com>
From: Kenny Ho <y2kenny@gmail.com>
Date: Tue, 3 Dec 2019 11:02:26 -0500
Message-ID: <CAOWid-e5Ytk9T+O20JsxoDvqgTmyo28zaELT7PVYBSq4xK35Ww@mail.gmail.com>
Subject: Re: [PATCH RFC v4 16/16] drm/amdgpu: Integrate with DRM cgroup
To: "Greathouse, Joseph" <Joseph.Greathouse@amd.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=bD44FpVH2Q2yBh4UDZxoXYyOP6KZ3sLDvDv0F31bAx8=;
 b=ZoPy2CrShXd5/h4LQTzBgWqQhKF/y1PGU4i+jiqiwFLIrVhbUBCrZ5bWNYxp9n/Mfv
 uyMB3f/Hwm5RRlKuD805HyBQ/UMnR18cACGtNpOosFItHm82Qco/0W97Md0hEZWTcmZJ
 UXlD2PJw2DJh1h5sQjCKGzbFCTB+NVAGXJTV6ewQFwMg5yNcEbvNO1DHiRHoquCmyQo7
 /tTS1KqFnKgVtFPy62Iss59ldwJ5wtb1Ce837oKYgOGlRdPVo/Gi2mO2bhR4RjeFMY2Q
 xW/Y1615ZUaIJMlgUV0aowQnwwHLBeN6726OOn9pn0i44IMc2W9AocgreQAX1JUQIjyW
 oHCQ==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Ho, Kenny" <Kenny.Ho@amd.com>, "Kuehling, Felix" <Felix.Kuehling@amd.com>,
 "jsparks@cray.com" <jsparks@cray.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>,
 "lkaplan@cray.com" <lkaplan@cray.com>, "Deucher,
 Alexander" <Alexander.Deucher@amd.com>, "Koenig,
 Christian" <Christian.Koenig@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

SGV5IEpvZSwKCkkgZG9uJ3QgaGF2ZSBhbGwgdGhlIGFuc3dlcnMgcmlnaHQgbm93IGJ1dCBvbmUg
dGhpbmcgSSB3YW50IHRvIG1lbnRpb24KaXMgdGhhdCwgd2l0aCBjZ3JvdXAsIHRoZXJlJ3MgYWx3
YXlzIGEgcG9zc2liaWxpdHkgZm9yIGEgdXNlcgpjb25maWd1cmF0aW9uIHRoYXQgbGVhZCB0byB1
bmRlciByZXNvdXJjZSBmb3IgdGhlIGFwcGxpY2F0aW9uLiAgWW91cgpjb21tZW50cyBjZXJ0YWlu
bHkgaGlnaGxpZ2h0IHRoZSBuZWVkcyB0byBtYWtlIHVuZGVyLXJlc291cmNlCnNpdHVhdGlvbiBv
YnZpb3VzIHRvIGRlYnVnLiAgKEkgd2FudCB0byB3cml0ZSB0aGlzIGRvd24gc28gSSBkb24ndApm
b3JnZXQgYWxzby4uLiA6KSBJIHNob3VsZCBwcm9iYWJseSBoYXZlIHNvbWUgZG1lc2cgZm9yIHNp
dHVhdGlvbiBsaWtlCnRoaXMuKSAgVGhhbmtzIQoKUmVnYXJkcywKS2VubnkKCk9uIE1vbiwgRGVj
IDIsIDIwMTkgYXQgNTowNSBQTSBHcmVhdGhvdXNlLCBKb3NlcGgKPEpvc2VwaC5HcmVhdGhvdXNl
QGFtZC5jb20+IHdyb3RlOgo+Cj4gPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQo+ID4gRnJv
bTogS2VubnkgSG8gPHkya2VubnlAZ21haWwuY29tPgo+ID4gU2VudDogRnJpZGF5LCBOb3ZlbWJl
ciAyOSwgMjAxOSAxMjowMCBBTQo+ID4KPiA+IFJlZHVjaW5nIGF1ZGllbmNlIHNpbmNlIHRoaXMg
aXMgQU1EIHNwZWNpZmljLgo+ID4KPiA+IE9uIFR1ZSwgT2N0IDgsIDIwMTkgYXQgMzoxMSBQTSBL
dWVobGluZywgRmVsaXggPEZlbGl4Lkt1ZWhsaW5nQGFtZC5jb20+IHdyb3RlOgo+ID4gPgo+ID4g
PiBPbiAyMDE5LTA4LTI5IDI6MDUgYS5tLiwgS2VubnkgSG8gd3JvdGU6Cj4gPiA+ID4gVGhlIG51
bWJlciBvZiBsb2dpY2FsIGdwdSAobGdwdSkgaXMgZGVmaW5lZCB0byBiZSB0aGUgbnVtYmVyIG9m
Cj4gPiA+ID4gY29tcHV0ZSB1bml0IChDVSkgZm9yIGEgZGV2aWNlLiAgVGhlIGxncHUgYWxsb2Nh
dGlvbiBsaW1pdCBvbmx5Cj4gPiA+ID4gYXBwbGllcyB0byBjb21wdXRlIHdvcmtsb2FkIGZvciB0
aGUgbW9tZW50IChlbmZvcmNlZCB2aWEga2ZkIHF1ZXVlCj4gPiA+ID4gY3JlYXRpb24uKSAgQW55
IGN1X21hc2sgdXBkYXRlIGlzIHZhbGlkYXRlZCBhZ2FpbnN0IHRoZSBhdmFpbGFiaWxpdHkKPiA+
ID4gPiBvZiB0aGUgY29tcHV0ZSB1bml0IGFzIGRlZmluZWQgYnkgdGhlIGRybWNnIHRoZSBrZmQg
cHJvY2VzcyBiZWxvbmdzIHRvLgo+ID4gPgo+ID4gPiBUaGVyZSBpcyBzb21ldGhpbmcgbWlzc2lu
ZyBoZXJlLiBUaGVyZSBpcyBhbiBBUEkgZm9yIHRoZSBhcHBsaWNhdGlvbgo+ID4gPiB0byBzcGVj
aWZ5IGEgQ1UgbWFzay4gUmlnaHQgbm93IGl0IGxvb2tzIGxpa2UgdGhlCj4gPiA+IGFwcGxpY2F0
aW9uLXNwZWNpZmllZCBhbmQgQ0dyb3VwLXNwZWNpZmllZCBDVSBtYXNrcyB3b3VsZCBjbG9iYmVy
IGVhY2gKPiA+ID4gb3RoZXIuIEluc3RlYWQgdGhlIHR3byBzaG91bGQgYmUgbWVyZ2VkLgo+ID4g
Pgo+ID4gPiBUaGUgQ0dyb3VwLXNwZWNpZmllZCBtYXNrIHNob3VsZCBzcGVjaWZ5IGEgc3Vic2V0
IG9mIENVcyBhdmFpbGFibGUgZm9yCj4gPiA+IGFwcGxpY2F0aW9uLXNwZWNpZmllZCBDVSBtYXNr
cy4gV2hlbiB0aGUgY2dyb3VwIENVIG1hc2sgY2hhbmdlcywgeW91J2QKPiA+ID4gbmVlZCB0byB0
YWtlIGFueSBhcHBsaWNhdGlvbi1zcGVjaWZpZWQgQ1UgbWFza3MgaW50byBhY2NvdW50IGJlZm9y
ZQo+ID4gPiB1cGRhdGluZyB0aGUgaGFyZHdhcmUuCj4gPiBUaGUgaWRlYSBiZWhpbmQgdGhlIGN1
cnJlbnQgaW1wbGVtZW50YXRpb24gaXMgdG8gZ2l2ZSBzeXNhZG1pbiBwcmlvcml0eSBvdmVyIHVz
ZXIgYXBwbGljYXRpb24gKGFzIHRoYXQgaXMgdGhlIGRlZmluaXRpb24gb2YgY29udHJvbAo+ID4g
Z3JvdXAuKSAgTWFzayBzcGVjaWZpZWQgYnkgYXBwbGljYXRvaW4vdXNlciBpcyB2YWxpZGF0ZWQg
YnkgcHFtX2RybWNnX2xncHVfdmFsaWRhdGUgYW5kIHJlamVjdGVkIHdpdGggRUFDQ0VTIGlmIHRo
ZXkgYXJlIG5vdAo+ID4gY29tcGF0aWJsZS4gIFRoZSBhbHRlcm5hdGl2ZSBpcyB0byBpZ25vcmUg
dGhlIGRpZmZlcmVuY2UgYW5kIGhhdmUgdGhlIGtlcm5lbCBndWVzcy9yZWRpc3RyaWJ1dGUgdGhl
IGFzc2lnbm1lbnQgYnV0IEkgYW0gbm90IHN1cmUgaWYgdGhpcwo+ID4gaXMgYSBnb29kIGFwcHJv
YWNoIHNpbmNlIHRoZXJlIGlzIG5vdCBlbm91Z2ggaW5mb3JtYXRpb24gdG8gYWxsb3cgdGhlIGtl
cm5lbCB0byBndWVzcyB0aGUgdXNlcidzIGludGVudGlvbiBjb3JyZWN0bHkgY29uc2lzdGVudGx5
LiAgKFRoaXMKPiA+IGlzIGJhc2Ugb24gbXVsdGlwbGUgY29udmVyc2F0aW9ucyB3aXRoIHlvdSBh
bmQgSm9lIHRoYXQsIGxlZCBtZSB0byBiZWxpZXZlLCB0aGVyZSBhcmUgc2l0dWF0aW9uIHdoZXJl
IHNwcmVhZGluZyBDVSBhc3NpZ25tZW50IGFjcm9zcwo+ID4gbXVsdGlwbGUgU0UgaXMgYSBnb29k
IHRoaW5nIGJ1dCBub3QgYWx3YXlzLikKPiA+Cj4gPiBJZiB0aGUgY2dyb3VwLXNwZWNpZmllZCBt
YXNrIGlzIGNoYW5nZWQgYWZ0ZXIgdGhlIGFwcGxpY2F0aW9uIGhhcyBzZXQgdGhlIG1hc2ssIHRo
ZSBpbnRlcnNlY3Rpb24gb2YgdGhlIHR3byBtYXNrcyB3aWxsIGJlIHNldCBpbnN0ZWFkLiAgSXQK
PiA+IGlzIHBvc3NpYmxlIHRvIGhhdmUgbm8gaW50ZXJzZWN0aW9uIGFuZCBpbiB0aGlzIGNhc2Ug
bm8gQ1UgaXMgbWFkZSBhdmFpbGFibGUgdG8gdGhlIGFwcGxpY2F0aW9uIChqdXN0IGxpa2UgdGhl
IHBvc3NpYmlsaXR5IGZvciBtZW1jZ3JvdXAgdG8KPiA+IHN0YXJ2ZSB0aGUgYW1vdW50IG9mIG1l
bW9yeSBuZWVkZWQgYnkgYW4gYXBwbGljYXRpb24uKQo+Cj4gSSBkb24ndCBkaXNhZ3JlZSB3aXRo
IGZvcmNpbmcgYSB1c2VyIHRvIHdvcmsgd2l0aGluIGFuIGxncHUncyBhbGxvY2F0aW9uLiBCdXQg
dGhlcmUncyB0d28gbWlub3IgcHJvYmxlbXMgaGVyZToKPgo+IDEpIHdlIHdpbGwgbmVlZCBhIHdh
eSBmb3IgdGhlIHByb2Nlc3MgdG8gcXVlcnkgd2hhdCB0aGUgbGdwdSdzIGJpdG1hcCBsb29rcyBs
aWtlLiBZb3UgYW5kIEZlbGl4IGFyZSBzb21ld2hhdCBkaXNjdXNzaW5nIHRoaXMgYmVsb3csIGJ1
dCBJIGRvbid0IHRoaW5rIHRoZSBLRkQncyAibnVtYmVyIG9mIENVcyIgdG9wb2xvZ3kgaW5mb3Jt
YXRpb24gaXMgc3VmZmljaWVudC4gSSBjYW4ga25vdyBJIGhhdmUgMzIgQ1VzLCBidXQgSSBkb24n
dCBrbm93IHdoaWNoIDMyIGJpdHMgaW4gdGhlIGJpdG1hc2sgYXJlIHR1cm5lZCBvbi4gQnV0IHlv
dXIgY29kZSBpbiBwcW1fZHJtY2dfbGdwdV92YWxpZGF0ZSgpIHJlcXVpcmVzIGEgc3Vic2V0IHdo
ZW4gc2V0dGluZyAgQ1UgbWFzayBvbiBhbiBsZ3B1LiBBIHVzZXIgbmVlZHMgdG8ga25vdyB3aGF0
IGJpdHMgYXJlIG9uIGluIHRoZSBMR1BVIGZvciB0aGlzIHRvIHdvcmsuCj4gMikgRXZlbiBpZiB3
ZSBoYXZlIGEgcXVlcnkgQVBJLCBkbyB3ZSBoYXZlIGFuIGVhc3kgd2F5IHRvIHByZXZlbnQgYSBk
YXRhIHJhY2U/IERvIHdlIGNhcmU/IEZvciBpbnN0YW5jZSwgaWYgSSBxdWVyeSB0aGUgZXhpc3Rp
bmcgbGdwdSBiaXRtYXAsIHRoZW4gdHJ5IHRvIHNldCBhIENVIG1hc2sgb24gYSBzdWJzZXQgb2Yg
dGhhdCwgaXQncyBwb3NzaWJsZSB0aGF0IHRoZSBsZ3B1IHdpbGwgY2hhbmdlIGJldHdlZW4gdGhl
IHF1ZXJ5IGFuZCBzZXQuIFRoYXQgd291bGQgbWFrZSB0aGUgc2V0dGluZyBmYWlsLCBtYXliZSB0
aGF0J3MgZ29vZCBlbm91Z2ggKHlvdSBjYW4ganVzdCB0cnkgaW4gYSBsb29wIHVudGlsIGl0IHN1
Y2NlZWRzPykKPgo+IERvIGVtcHR5IENVIG1hc2tzIGFjdHVhbGx5IHdvcms/IFRoaXMgc2VlbXMg
bGlrZSBzb21ldGhpbmcgd2Ugd291bGQgd2FudCB0byBhdm9pZC4gVGhpcyBjb3VsZCBoYXBwZW4g
bm90IGluZnJlcXVlbnRseSBpZiBzb21lb25lIGRvZXMgc29tZXRoaW5nIGxpa2U6Cj4gKiBsZ3B1
IHdpdGggaGFsZiB0aGUgQ1VzIGVuYWJsZWQKPiAqIFVzZXIgc2V0cyBhIG1hc2sgdG8gdXNlIGhh
bGYgb2YgdGhvc2UgQ1VzCj4gKiBsZ3B1IGlzIGNoYW5nZWQgdG8gZW5hYmxlIHRoZSBvdGhlciBo
YWxmIG9mIHRoZSBDVVMgLS0+IG5vdyB0aGUgdXNlcidzIG1hc2sgaXMgZnVsbHkgZGVzdHJveWVk
IGFuZCBldmVyeXRoaW5nIGRpZXMuIDpcCj4KPiA+ID4gVGhlIEtGRCB0b3BvbG9neSBBUElzIHJl
cG9ydCB0aGUgbnVtYmVyIG9mIGF2YWlsYWJsZSBDVXMgdG8gdGhlCj4gPiA+IGFwcGxpY2F0aW9u
LiBDR3JvdXBzIHdvdWxkIGNoYW5nZSB0aGF0IG51bWJlciBhdCBydW50aW1lIGFuZAo+ID4gPiBh
cHBsaWNhdGlvbnMgd291bGQgbm90IGV4cGVjdCB0aGF0LiBJIHRoaW5rIHRoZSBiZXN0IHdheSB0
byBkZWFsIHdpdGgKPiA+ID4gdGhhdCB3b3VsZCBiZSB0byBoYXZlIG11bHRpcGxlIGJpdHMgaW4g
dGhlIGFwcGxpY2F0aW9uLXNwZWNpZmllZCBDVQo+ID4gPiBtYXNrIG1hcCB0byB0aGUgc2FtZSBD
VS4gSG93IHRvIGRvIHRoYXQgaW4gYSBmYWlyIHdheSBpcyBub3Qgb2J2aW91cy4KPiA+ID4gSSBn
dWVzcyBhIG1vcmUgY29hcnNlLWdyYWluIGRpdmlzaW9uIG9mIHRoZSBHUFUgaW50byBMR1BVcyB3
b3VsZCBtYWtlCj4gPiA+IHRoaXMgc29tZXdoYXQgZWFzaWVyLgo+ID4gQW5vdGhlciBwb3NzaWJp
bGl0eSBpcyB0byBhZGQgbmFtZXNwYWNlIHRvIHRoZSB0b3BvbG9neSBzeXNmcyBzdWNoIHRoYXQg
dGhlIGNvcnJlY3QgbnVtYmVyIG9mIENVcyBjaGFuZ2VzIGFjY29yZGluZ2x5LiAgQWx0aG91Z2gg
dGhhdAo+ID4gd291bGRuJ3QgZ2l2ZSB0aGUgdXNlciB0aGUgYXZhaWxhYmxlIG1hc2sgdGhhdCBp
cyBtYWRlIGF2YWlsYWJsZSBieSB0aGlzIGltcGxlbWVudGF0aW9uIHZpYSB0aGUgY2dyb3VwIHN5
c2ZzLiAgQW5vdGhlciBwb3NzaWJpbGl0eSBpcyB0bwo+ID4gbW9kaWZ5IHRoZSB0aHVuayBzaW1p
bGFyIHRvIHdoYXQgd2FzIGRvbmUgZm9yIGRldmljZSBjZ3JvdXAgKGRldmljZQo+ID4gcmUtbWFw
cGluZy4pCj4KPiBJJ2Qgdm90ZSBmb3IgYSBzZXQgb2YgbWFzayBxdWVyeSBBUElzIGluIHRoZSBU
aHVuay4gT25lIGZvciB0aGUgcHJvY2VzcydzIGN1cnJlbnQgQ1UgbWFzaywgYW5kIG9uZSBmb3Ig
YSBxdWV1ZSdzIGN1cnJlbnQgQ1UgbWFzay4gV2UgaGF2ZSBhIHNldHRlciBBUEkgYWxyZWFkeS4g
U2luY2UgdGhlIEtGRCB0b3BvbG9neSBpbmZvcm1hdGlvbiBpcyBhbHNvIG1pcnJvcmVkIGluIHN5
c2ZzLCBJIHdvdWxkIHdvcnJ5IHRoYXQgYSBwcm9jZXNzIHdvdWxkIHNlZSBkaWZmZXJlbnQgS0ZE
IHRvcG9sb2d5IGluZm9ybWF0aW9uIGlmIGl0J3MgcXVlcnlpbmcgdGhlIFRodW5rICh3aGljaCB3
b3VsZCBzaG93IHRoZSBsZ3B1J3MgbnVtYmVyIG9mIENVUzAgdnMuIGlmIGl0J3MgcmVhZGluZyBz
eXNmcyAod2hpY2ggd291bGQgc2hvdyB0aGUgR1BVJ3MgbnVtYmVyIG9mIENVcykuCj4KPiBBcyBt
ZW50aW9uZWQgYWJvdmUsIHRoZSBLRkQgIm51bSBDVXMiIGlzIGluc3VmZmljaWVudCBmb3Iga25v
d2luZyBob3cgdG8gc2V0IHRoZSBDVSBiaXRtYXNrLCBzbyBJIGRvbid0IHRoaW5rIHdlIHNob3Vs
ZCByZWx5IG9uIGl0IGluIHRoaXMgY2FzZS4gSU1PLCBLRkQgdG9wb2xvZ3kgc2hvdWxkIGRlc2Ny
aWJlIHRoZSByZWFsIGhhcmR3YXJlIHJlZ2FyZGxlc3Mgb2YgaG93IGNncm91cHMgaXMgbGltaXRp
bmcgdGhpbmdzLiBJJ20gd2lsbGluZyB0byBiZSB0b2xkIHRoaXMgaXMgYSBiYWQgaWRlYSwgdGhv
dWdoLgo+Cj4gPiA+IEhvdyBpcyB0aGlzIHByb2JsZW0gaGFuZGxlZCBmb3IgQ1BVIGNvcmVzIGFu
ZCB0aGUgaW50ZXJhY3Rpb24gd2l0aCBDUFUKPiA+ID4gcHRocmVhZF9zZXRhZmZpbml0eV9ucD8K
PiA+IFBlciB0aGUgZG9jdW1lbnRhdGlvbiBvZiBwdGhyZWFkX3NldGFmZmluaXR5X25wLCAiSWYg
dGhlIGNhbGwgaXMgc3VjY2Vzc2Z1bCwgYW5kIHRoZSB0aHJlYWQgaXMgbm90IGN1cnJlbnRseSBy
dW5uaW5nIG9uIG9uZSBvZiB0aGUgQ1BVcwo+ID4gaW4gY3B1c2V0LCB0aGVuIGl0IGlzIG1pZ3Jh
dGVkIHRvIG9uZSBvZiB0aG9zZSBDUFVzLiIKPiA+IGh0dHA6Ly9tYW43Lm9yZy9saW51eC9tYW4t
cGFnZXMvbWFuMy9wdGhyZWFkX3NldGFmZmluaXR5X25wLjMuaHRtbAo+ID4KPiA+IFJlZ2FyZHMs
Cj4gPiBLZW5ueQo+ID4KPiA+Cj4gPgo+ID4gPiBSZWdhcmRzLAo+ID4gPiAgICBGZWxpeAo+ID4g
Pgo+ID4gPgo+ID4gPiA+Cj4gPiA+ID4gQ2hhbmdlLUlkOiBJNjlhNTc0NTJjNTQ5MTczYTFjZDYy
M2MzMGRjNTcxOTViM2I2NTYzZQo+ID4gPiA+IFNpZ25lZC1vZmYtYnk6IEtlbm55IEhvIDxLZW5u
eS5Ib0BhbWQuY29tPgo+ID4gPiA+IC0tLQo+ID4gPiA+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1X2FtZGtmZC5oICAgIHwgICA0ICsKPiA+ID4gPiAgIGRyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV9kcnYuYyAgICAgICB8ICAyMSArKysKPiA+ID4gPiAgIGRyaXZl
cnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9jaGFyZGV2LmMgICAgICB8ICAgNiArCj4gPiA+ID4g
ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfcHJpdi5oICAgICAgICAgfCAgIDMgKwo+
ID4gPiA+ICAgLi4uL2FtZC9hbWRrZmQva2ZkX3Byb2Nlc3NfcXVldWVfbWFuYWdlci5jICAgIHwg
MTQwICsrKysrKysrKysrKysrKysrKwo+ID4gPiA+ICAgNSBmaWxlcyBjaGFuZ2VkLCAxNzQgaW5z
ZXJ0aW9ucygrKQo+ID4gPiA+Cj4gPiA+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmQuaAo+ID4gPiA+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1X2FtZGtmZC5oCj4gPiA+ID4gaW5kZXggNTVjYjFiMjA5NGZkLi4zNjk5MTUz
MzcyMTMgMTAwNjQ0Cj4gPiA+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1k
Z3B1X2FtZGtmZC5oCj4gPiA+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1k
Z3B1X2FtZGtmZC5oCj4gPiA+ID4gQEAgLTE5OCw2ICsxOTgsMTAgQEAgdWludDhfdCBhbWRncHVf
YW1ka2ZkX2dldF94Z21pX2hvcHNfY291bnQoc3RydWN0IGtnZF9kZXYgKmRzdCwgc3RydWN0IGtn
ZF9kZXYgKnMKPiA+ID4gPiAgICAgICAgICAgICAgIHZhbGlkOyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXAo+ID4gPiA+ICAgICAgIH0pCj4gPiA+ID4K
PiA+ID4gPiAraW50IGFtZGdwdV9hbWRrZmRfdXBkYXRlX2N1X21hc2tfZm9yX3Byb2Nlc3Moc3Ry
dWN0IHRhc2tfc3RydWN0ICp0YXNrLAo+ID4gPiA+ICsgICAgICAgICAgICAgc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYsIHVuc2lnbmVkIGxvbmcgKmxncHVfYml0bWFwLAo+ID4gPiA+ICsgICAg
ICAgICAgICAgdW5zaWduZWQgaW50IG5iaXRzKTsKPiA+ID4gPiArCj4gPiA+ID4gICAvKiBHUFVW
TSBBUEkgKi8KPiA+ID4gPiAgIGludCBhbWRncHVfYW1ka2ZkX2dwdXZtX2NyZWF0ZV9wcm9jZXNz
X3ZtKHN0cnVjdCBrZ2RfZGV2ICprZ2QsIHVuc2lnbmVkIGludCBwYXNpZCwKPiA+ID4gPiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgKip2bSwgdm9pZAo+ID4gPiA+
ICoqcHJvY2Vzc19pbmZvLCBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
YW1kZ3B1X2Rydi5jCj4gPiA+ID4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
ZHJ2LmMKPiA+ID4gPiBpbmRleCAxNjNhNGZiZjA2MTEuLjhhYmVmZmRkMmU1YiAxMDA2NDQKPiA+
ID4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZHJ2LmMKPiA+ID4g
PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZHJ2LmMKPiA+ID4gPiBA
QCAtMTM5OCw5ICsxMzk4LDI5IEBAIGFtZGdwdV9nZXRfY3J0Y19zY2Fub3V0X3Bvc2l0aW9uKHN0
cnVjdCBkcm1fZGV2aWNlICpkZXYsIHVuc2lnbmVkIGludCBwaXBlLAo+ID4gPiA+ICAgc3RhdGlj
IHZvaWQgYW1kZ3B1X2RybWNnX2N1c3RvbV9pbml0KHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCj4g
PiA+ID4gICAgICAgc3RydWN0IGRybWNnX3Byb3BzICpwcm9wcykKPiA+ID4gPiAgIHsKPiA+ID4g
PiArICAgICBzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IGRldi0+ZGV2X3ByaXZhdGU7Cj4g
PiA+ID4gKwo+ID4gPiA+ICsgICAgIHByb3BzLT5sZ3B1X2NhcGFjaXR5ID0gYWRldi0+Z2Z4LmN1
X2luZm8ubnVtYmVyOwo+ID4gPiA+ICsKPiA+ID4gPiAgICAgICBwcm9wcy0+bGltaXRfZW5mb3Jj
ZWQgPSB0cnVlOwo+ID4gPiA+ICAgfQo+ID4gPiA+Cj4gPiA+ID4gK3N0YXRpYyB2b2lkIGFtZGdw
dV9kcm1jZ19saW1pdF91cGRhdGVkKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsCj4gPiA+ID4gKyAg
ICAgICAgICAgICBzdHJ1Y3QgdGFza19zdHJ1Y3QgKnRhc2ssIHN0cnVjdCBkcm1jZ19kZXZpY2Vf
cmVzb3VyY2UgKmRkciwKPiA+ID4gPiArICAgICAgICAgICAgIGVudW0gZHJtY2dfcmVzX3R5cGUg
cmVzX3R5cGUpIHsKPiA+ID4gPiArICAgICBzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IGRl
di0+ZGV2X3ByaXZhdGU7Cj4gPiA+ID4gKwo+ID4gPiA+ICsgICAgIHN3aXRjaCAocmVzX3R5cGUp
IHsKPiA+ID4gPiArICAgICBjYXNlIERSTUNHX1RZUEVfTEdQVToKPiA+ID4gPiArICAgICAgICAg
ICAgIGFtZGdwdV9hbWRrZmRfdXBkYXRlX2N1X21hc2tfZm9yX3Byb2Nlc3ModGFzaywgYWRldiwK
PiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAgZGRyLT5sZ3B1X2FsbG9jYXRlZCwgZGV2
LT5kcm1jZ19wcm9wcy5sZ3B1X2NhcGFjaXR5KTsKPiA+ID4gPiArICAgICAgICAgICAgIGJyZWFr
Owo+ID4gPiA+ICsgICAgIGRlZmF1bHQ6Cj4gPiA+ID4gKyAgICAgICAgICAgICBicmVhazsKPiA+
ID4gPiArICAgICB9Cj4gPiA+ID4gK30KPiA+ID4gPiArCj4gPiA+ID4gICBzdGF0aWMgc3RydWN0
IGRybV9kcml2ZXIga21zX2RyaXZlciA9IHsKPiA+ID4gPiAgICAgICAuZHJpdmVyX2ZlYXR1cmVz
ID0KPiA+ID4gPiAgICAgICAgICAgRFJJVkVSX1VTRV9BR1AgfCBEUklWRVJfQVRPTUlDIHwgQEAg
LTE0MzgsNiArMTQ1OCw3IEBACj4gPiA+ID4gc3RhdGljIHN0cnVjdCBkcm1fZHJpdmVyIGttc19k
cml2ZXIgPSB7Cj4gPiA+ID4gICAgICAgLmdlbV9wcmltZV9tbWFwID0gYW1kZ3B1X2dlbV9wcmlt
ZV9tbWFwLAo+ID4gPiA+Cj4gPiA+ID4gICAgICAgLmRybWNnX2N1c3RvbV9pbml0ID0gYW1kZ3B1
X2RybWNnX2N1c3RvbV9pbml0LAo+ID4gPiA+ICsgICAgIC5kcm1jZ19saW1pdF91cGRhdGVkID0g
YW1kZ3B1X2RybWNnX2xpbWl0X3VwZGF0ZWQsCj4gPiA+ID4KPiA+ID4gPiAgICAgICAubmFtZSA9
IERSSVZFUl9OQU1FLAo+ID4gPiA+ICAgICAgIC5kZXNjID0gRFJJVkVSX0RFU0MsCj4gPiA+ID4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9jaGFyZGV2LmMKPiA+
ID4gPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9jaGFyZGV2LmMKPiA+ID4gPiBp
bmRleCAxMzhjNzA0NTRlMmIuLmZhNzY1YjgwM2Y5NyAxMDA2NDQKPiA+ID4gPiAtLS0gYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfY2hhcmRldi5jCj4gPiA+ID4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX2NoYXJkZXYuYwo+ID4gPiA+IEBAIC00NTAsNiArNDUw
LDEyIEBAIHN0YXRpYyBpbnQga2ZkX2lvY3RsX3NldF9jdV9tYXNrKHN0cnVjdCBmaWxlICpmaWxw
LCBzdHJ1Y3Qga2ZkX3Byb2Nlc3MgKnAsCj4gPiA+ID4gICAgICAgICAgICAgICByZXR1cm4gLUVG
QVVMVDsKPiA+ID4gPiAgICAgICB9Cj4gPiA+ID4KPiA+ID4gPiArICAgICBpZiAoIXBxbV9kcm1j
Z19sZ3B1X3ZhbGlkYXRlKHAsIGFyZ3MtPnF1ZXVlX2lkLCBwcm9wZXJ0aWVzLmN1X21hc2ssIGN1
X21hc2tfc2l6ZSkpIHsKPiA+ID4gPiArICAgICAgICAgICAgIHByX2RlYnVnKCJDVSBtYXNrIG5v
dCBwZXJtaXR0ZWQgYnkgRFJNIENncm91cCIpOwo+ID4gPiA+ICsgICAgICAgICAgICAga2ZyZWUo
cHJvcGVydGllcy5jdV9tYXNrKTsKPiA+ID4gPiArICAgICAgICAgICAgIHJldHVybiAtRUFDQ0VT
Owo+ID4gPiA+ICsgICAgIH0KPiA+ID4gPiArCj4gPiA+ID4gICAgICAgbXV0ZXhfbG9jaygmcC0+
bXV0ZXgpOwo+ID4gPiA+Cj4gPiA+ID4gICAgICAgcmV0dmFsID0gcHFtX3NldF9jdV9tYXNrKCZw
LT5wcW0sIGFyZ3MtPnF1ZXVlX2lkLAo+ID4gPiA+ICZwcm9wZXJ0aWVzKTsgZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9wcml2LmgKPiA+ID4gPiBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9wcml2LmgKPiA+ID4gPiBpbmRleCA4YjBlZWU1YjM1MjEu
Ljg4ODgxYmVjNzU1MCAxMDA2NDQKPiA+ID4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGtmZC9rZmRfcHJpdi5oCj4gPiA+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQv
a2ZkX3ByaXYuaAo+ID4gPiA+IEBAIC0xMDM4LDYgKzEwMzgsOSBAQCBpbnQgcHFtX2dldF93YXZl
X3N0YXRlKHN0cnVjdCBwcm9jZXNzX3F1ZXVlX21hbmFnZXIgKnBxbSwKPiA+ID4gPiAgICAgICAg
ICAgICAgICAgICAgICB1MzIgKmN0bF9zdGFja191c2VkX3NpemUsCj4gPiA+ID4gICAgICAgICAg
ICAgICAgICAgICAgdTMyICpzYXZlX2FyZWFfdXNlZF9zaXplKTsKPiA+ID4gPgo+ID4gPiA+ICti
b29sIHBxbV9kcm1jZ19sZ3B1X3ZhbGlkYXRlKHN0cnVjdCBrZmRfcHJvY2VzcyAqcCwgaW50IHFp
ZCwgdTMyICpjdV9tYXNrLAo+ID4gPiA+ICsgICAgICAgICAgICAgdW5zaWduZWQgaW50IGN1X21h
c2tfc2l6ZSk7Cj4gPiA+ID4gKwo+ID4gPiA+ICAgaW50IGFtZGtmZF9mZW5jZV93YWl0X3RpbWVv
dXQodW5zaWduZWQgaW50ICpmZW5jZV9hZGRyLAo+ID4gPiA+ICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHVuc2lnbmVkIGludCBmZW5jZV92YWx1ZSwKPiA+ID4gPiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICB1bnNpZ25lZCBpbnQgdGltZW91dF9tcyk7IGRpZmYgLS1naXQKPiA+
ID4gPiBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9wcm9jZXNzX3F1ZXVlX21hbmFn
ZXIuYwo+ID4gPiA+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX3Byb2Nlc3NfcXVl
dWVfbWFuYWdlci5jCj4gPiA+ID4gaW5kZXggN2U2YzNlZTgyZjViLi5hODk2ZGUyOTAzMDcgMTAw
NjQ0Cj4gPiA+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX3Byb2Nlc3Nf
cXVldWVfbWFuYWdlci5jCj4gPiA+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQv
a2ZkX3Byb2Nlc3NfcXVldWVfbWFuYWdlci5jCj4gPiA+ID4gQEAgLTIzLDkgKzIzLDExIEBACj4g
PiA+ID4KPiA+ID4gPiAgICNpbmNsdWRlIDxsaW51eC9zbGFiLmg+Cj4gPiA+ID4gICAjaW5jbHVk
ZSA8bGludXgvbGlzdC5oPgo+ID4gPiA+ICsjaW5jbHVkZSA8bGludXgvY2dyb3VwX2RybS5oPgo+
ID4gPiA+ICAgI2luY2x1ZGUgImtmZF9kZXZpY2VfcXVldWVfbWFuYWdlci5oIgo+ID4gPiA+ICAg
I2luY2x1ZGUgImtmZF9wcml2LmgiCj4gPiA+ID4gICAjaW5jbHVkZSAia2ZkX2tlcm5lbF9xdWV1
ZS5oIgo+ID4gPiA+ICsjaW5jbHVkZSAiYW1kZ3B1LmgiCj4gPiA+ID4gICAjaW5jbHVkZSAiYW1k
Z3B1X2FtZGtmZC5oIgo+ID4gPiA+Cj4gPiA+ID4gICBzdGF0aWMgaW5saW5lIHN0cnVjdCBwcm9j
ZXNzX3F1ZXVlX25vZGUgKmdldF9xdWV1ZV9ieV9xaWQoIEBACj4gPiA+ID4gLTE2Nyw2ICsxNjks
NyBAQCBzdGF0aWMgaW50IGNyZWF0ZV9jcF9xdWV1ZShzdHJ1Y3QgcHJvY2Vzc19xdWV1ZV9tYW5h
Z2VyICpwcW0sCj4gPiA+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHF1
ZXVlX3Byb3BlcnRpZXMgKnFfcHJvcGVydGllcywKPiA+ID4gPiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBzdHJ1Y3QgZmlsZSAqZiwgdW5zaWduZWQgaW50IHFpZCkKPiA+ID4gPiAgIHsK
PiA+ID4gPiArICAgICBzdHJ1Y3QgZHJtY2cgKmRybWNnOwo+ID4gPiA+ICAgICAgIGludCByZXR2
YWw7Cj4gPiA+ID4KPiA+ID4gPiAgICAgICAvKiBEb29yYmVsbCBpbml0aWFsaXplZCBpbiB1c2Vy
IHNwYWNlKi8gQEAgLTE4MCw2ICsxODMsMzYgQEAKPiA+ID4gPiBzdGF0aWMgaW50IGNyZWF0ZV9j
cF9xdWV1ZShzdHJ1Y3QgcHJvY2Vzc19xdWV1ZV9tYW5hZ2VyICpwcW0sCj4gPiA+ID4gICAgICAg
aWYgKHJldHZhbCAhPSAwKQo+ID4gPiA+ICAgICAgICAgICAgICAgcmV0dXJuIHJldHZhbDsKPiA+
ID4gPgo+ID4gPiA+ICsKPiA+ID4gPiArICAgICBkcm1jZyA9IGRybWNnX2dldChwcW0tPnByb2Nl
c3MtPmxlYWRfdGhyZWFkKTsKPiA+ID4gPiArICAgICBpZiAoZHJtY2cpIHsKPiA+ID4gPiArICAg
ICAgICAgICAgIHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2Owo+ID4gPiA+ICsgICAgICAgICAg
ICAgc3RydWN0IGRybWNnX2RldmljZV9yZXNvdXJjZSAqZGRyOwo+ID4gPiA+ICsgICAgICAgICAg
ICAgaW50IG1hc2tfc2l6ZTsKPiA+ID4gPiArICAgICAgICAgICAgIHUzMiAqbWFzazsKPiA+ID4g
PiArCj4gPiA+ID4gKyAgICAgICAgICAgICBhZGV2ID0gKHN0cnVjdCBhbWRncHVfZGV2aWNlICop
IGRldi0+a2dkOwo+ID4gPiA+ICsKPiA+ID4gPiArICAgICAgICAgICAgIG1hc2tfc2l6ZSA9IGFk
ZXYtPmRkZXYtPmRybWNnX3Byb3BzLmxncHVfY2FwYWNpdHk7Cj4gPiA+ID4gKyAgICAgICAgICAg
ICBtYXNrID0ga3phbGxvYyhzaXplb2YodTMyKSAqIHJvdW5kX3VwKG1hc2tfc2l6ZSwgMzIpLAo+
ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdGUF9LRVJORUwpOwo+ID4gPiA+
ICsKPiA+ID4gPiArICAgICAgICAgICAgIGlmICghbWFzaykgewo+ID4gPiA+ICsgICAgICAgICAg
ICAgICAgICAgICBkcm1jZ19wdXQoZHJtY2cpOwo+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAg
ICB1bmluaXRfcXVldWUoKnEpOwo+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICByZXR1cm4g
LUVOT01FTTsKPiA+ID4gPiArICAgICAgICAgICAgIH0KPiA+ID4gPiArCj4gPiA+ID4gKyAgICAg
ICAgICAgICBkZHIgPQo+ID4gPiA+ICsgZHJtY2ctPmRldl9yZXNvdXJjZXNbYWRldi0+ZGRldi0+
cHJpbWFyeS0+aW5kZXhdOwo+ID4gPiA+ICsKPiA+ID4gPiArICAgICAgICAgICAgIGJpdG1hcF90
b19hcnIzMihtYXNrLCBkZHItPmxncHVfYWxsb2NhdGVkLCBtYXNrX3NpemUpOwo+ID4gPiA+ICsK
PiA+ID4gPiArICAgICAgICAgICAgICgqcSktPnByb3BlcnRpZXMuY3VfbWFza19jb3VudCA9IG1h
c2tfc2l6ZTsKPiA+ID4gPiArICAgICAgICAgICAgICgqcSktPnByb3BlcnRpZXMuY3VfbWFzayA9
IG1hc2s7Cj4gPiA+ID4gKwo+ID4gPiA+ICsgICAgICAgICAgICAgZHJtY2dfcHV0KGRybWNnKTsK
PiA+ID4gPiArICAgICB9Cj4gPiA+ID4gKwo+ID4gPiA+ICAgICAgICgqcSktPmRldmljZSA9IGRl
djsKPiA+ID4gPiAgICAgICAoKnEpLT5wcm9jZXNzID0gcHFtLT5wcm9jZXNzOwo+ID4gPiA+Cj4g
PiA+ID4gQEAgLTQ5NSw2ICs1MjgsMTEzIEBAIGludCBwcW1fZ2V0X3dhdmVfc3RhdGUoc3RydWN0
IHByb2Nlc3NfcXVldWVfbWFuYWdlciAqcHFtLAo+ID4gPiA+ICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZV9hcmVhX3VzZWRfc2l6ZSk7Cj4g
PiA+ID4gICB9Cj4gPiA+ID4KPiA+ID4gPiArYm9vbCBwcW1fZHJtY2dfbGdwdV92YWxpZGF0ZShz
dHJ1Y3Qga2ZkX3Byb2Nlc3MgKnAsIGludCBxaWQsIHUzMiAqY3VfbWFzaywKPiA+ID4gPiArICAg
ICAgICAgICAgIHVuc2lnbmVkIGludCBjdV9tYXNrX3NpemUpIHsKPiA+ID4gPiArICAgICBERUNM
QVJFX0JJVE1BUChjdXJyX21hc2ssIE1BWF9EUk1DR19MR1BVX0NBUEFDSVRZKTsKPiA+ID4gPiAr
ICAgICBzdHJ1Y3QgZHJtY2dfZGV2aWNlX3Jlc291cmNlICpkZHI7Cj4gPiA+ID4gKyAgICAgc3Ry
dWN0IHByb2Nlc3NfcXVldWVfbm9kZSAqcHFuOwo+ID4gPiA+ICsgICAgIHN0cnVjdCBhbWRncHVf
ZGV2aWNlICphZGV2Owo+ID4gPiA+ICsgICAgIHN0cnVjdCBkcm1jZyAqZHJtY2c7Cj4gPiA+ID4g
KyAgICAgYm9vbCByZXN1bHQ7Cj4gPiA+ID4gKwo+ID4gPiA+ICsgICAgIGlmIChjdV9tYXNrX3Np
emUgPiBNQVhfRFJNQ0dfTEdQVV9DQVBBQ0lUWSkKPiA+ID4gPiArICAgICAgICAgICAgIHJldHVy
biBmYWxzZTsKPiA+ID4gPiArCj4gPiA+ID4gKyAgICAgYml0bWFwX2Zyb21fYXJyMzIoY3Vycl9t
YXNrLCBjdV9tYXNrLCBjdV9tYXNrX3NpemUpOwo+ID4gPiA+ICsKPiA+ID4gPiArICAgICBwcW4g
PSBnZXRfcXVldWVfYnlfcWlkKCZwLT5wcW0sIHFpZCk7Cj4gPiA+ID4gKyAgICAgaWYgKCFwcW4p
Cj4gPiA+ID4gKyAgICAgICAgICAgICByZXR1cm4gZmFsc2U7Cj4gPiA+ID4gKwo+ID4gPiA+ICsg
ICAgIGFkZXYgPSAoc3RydWN0IGFtZGdwdV9kZXZpY2UgKilwcW4tPnEtPmRldmljZS0+a2dkOwo+
ID4gPiA+ICsKPiA+ID4gPiArICAgICBkcm1jZyA9IGRybWNnX2dldChwLT5sZWFkX3RocmVhZCk7
Cj4gPiA+ID4gKyAgICAgZGRyID0gZHJtY2ctPmRldl9yZXNvdXJjZXNbYWRldi0+ZGRldi0+cHJp
bWFyeS0+aW5kZXhdOwo+ID4gPiA+ICsKPiA+ID4gPiArICAgICBpZiAoYml0bWFwX3N1YnNldChj
dXJyX21hc2ssIGRkci0+bGdwdV9hbGxvY2F0ZWQsCj4gPiA+ID4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgTUFYX0RSTUNHX0xHUFVfQ0FQQUNJVFkpKQo+ID4gPiA+ICsgICAgICAgICAg
ICAgcmVzdWx0ID0gdHJ1ZTsKPiA+ID4gPiArICAgICBlbHNlCj4gPiA+ID4gKyAgICAgICAgICAg
ICByZXN1bHQgPSBmYWxzZTsKPiA+ID4gPiArCj4gPiA+ID4gKyAgICAgZHJtY2dfcHV0KGRybWNn
KTsKPiA+ID4gPiArCj4gPiA+ID4gKyAgICAgcmV0dXJuIHJlc3VsdDsKPiA+ID4gPiArfQo+ID4g
PiA+ICsKPiA+ID4gPiAraW50IGFtZGdwdV9hbWRrZmRfdXBkYXRlX2N1X21hc2tfZm9yX3Byb2Nl
c3Moc3RydWN0IHRhc2tfc3RydWN0ICp0YXNrLAo+ID4gPiA+ICsgICAgICAgICAgICAgc3RydWN0
IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHVuc2lnbmVkIGxvbmcgKmxncHVfYm0sCj4gPiA+ID4gKyAg
ICAgICAgICAgICB1bnNpZ25lZCBpbnQgbGdwdV9ibV9zaXplKSB7Cj4gPiA+ID4gKyAgICAgc3Ry
dWN0IGtmZF9kZXYgKmtkZXYgPSBhZGV2LT5rZmQuZGV2Owo+ID4gPiA+ICsgICAgIHN0cnVjdCBw
cm9jZXNzX3F1ZXVlX25vZGUgKnBxbjsKPiA+ID4gPiArICAgICBzdHJ1Y3Qga2ZkX3Byb2Nlc3Mg
KmtmZHByb2M7Cj4gPiA+ID4gKyAgICAgc2l6ZV90IHNpemVfaW5fYnl0ZXM7Cj4gPiA+ID4gKyAg
ICAgdTMyICpjdV9tYXNrOwo+ID4gPiA+ICsgICAgIGludCByYyA9IDA7Cj4gPiA+ID4gKwo+ID4g
PiA+ICsgICAgIGlmICgobGdwdV9ibV9zaXplICUgMzIpICE9IDApIHsKPiA+ID4gPiArICAgICAg
ICAgICAgIHByX3dhcm4oImxncHVfYm1fc2l6ZSAlZCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzIi
LAo+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxncHVfYm1fc2l6ZSk7Cj4g
PiA+ID4gKyAgICAgICAgICAgICByZXR1cm4gLUVJTlZBTDsKPiA+ID4gPiArICAgICB9Cj4gPiA+
ID4gKwo+ID4gPiA+ICsgICAgIGtmZHByb2MgPSBrZmRfZ2V0X3Byb2Nlc3ModGFzayk7Cj4gPiA+
ID4gKwo+ID4gPiA+ICsgICAgIGlmIChJU19FUlIoa2ZkcHJvYykpCj4gPiA+ID4gKyAgICAgICAg
ICAgICByZXR1cm4gLUVTUkNIOwo+ID4gPiA+ICsKPiA+ID4gPiArICAgICBzaXplX2luX2J5dGVz
ID0gc2l6ZW9mKHUzMikgKiByb3VuZF91cChsZ3B1X2JtX3NpemUsIDMyKTsKPiA+ID4gPiArCj4g
PiA+ID4gKyAgICAgbXV0ZXhfbG9jaygma2ZkcHJvYy0+bXV0ZXgpOwo+ID4gPiA+ICsgICAgIGxp
c3RfZm9yX2VhY2hfZW50cnkocHFuLCAma2ZkcHJvYy0+cHFtLnF1ZXVlcywgcHJvY2Vzc19xdWV1
ZV9saXN0KSB7Cj4gPiA+ID4gKyAgICAgICAgICAgICBpZiAocHFuLT5xICYmIHBxbi0+cS0+ZGV2
aWNlID09IGtkZXYpIHsKPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgLyogdXBkYXRlIGN1
X21hc2sgYWNjb3JkaW5nbHkgKi8KPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgY3VfbWFz
ayA9IGt6YWxsb2Moc2l6ZV9pbl9ieXRlcywgR0ZQX0tFUk5FTCk7Cj4gPiA+ID4gKyAgICAgICAg
ICAgICAgICAgICAgIGlmICghY3VfbWFzaykgewo+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHJjID0gLUVOT01FTTsKPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBicmVhazsKPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgfQo+ID4gPiA+ICsKPiA+
ID4gPiArICAgICAgICAgICAgICAgICAgICAgaWYgKHBxbi0+cS0+cHJvcGVydGllcy5jdV9tYXNr
KSB7Cj4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgREVDTEFSRV9CSVRNQVAo
Y3Vycl9tYXNrLAo+ID4gPiA+ICsKPiA+ID4gPiArIE1BWF9EUk1DR19MR1BVX0NBUEFDSVRZKTsK
PiA+ID4gPiArCj4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBxbi0+
cS0+cHJvcGVydGllcy5jdV9tYXNrX2NvdW50ID4KPiA+ID4gPiArICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgbGdwdV9ibV9zaXplKSB7Cj4gPiA+ID4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYyA9IC1FSU5WQUw7Cj4gPiA+ID4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZnJlZShjdV9tYXNrKTsKPiA+ID4g
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwo+ID4gPiA+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KPiA+ID4gPiArCj4gPiA+ID4gKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgYml0bWFwX2Zyb21fYXJyMzIoY3Vycl9tYXNrLAo+ID4gPiA+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcW4tPnEtPnBy
b3BlcnRpZXMuY3VfbWFzaywKPiA+ID4gPiArCj4gPiA+ID4gKyBwcW4tPnEtPnByb3BlcnRpZXMu
Y3VfbWFza19jb3VudCk7Cj4gPiA+ID4gKwo+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGJpdG1hcF9hbmQoY3Vycl9tYXNrLCBjdXJyX21hc2ssIGxncHVfYm0sCj4gPiA+ID4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxncHVfYm1fc2l6
ZSk7Cj4gPiA+ID4gKwo+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdG1h
cF90b19hcnIzMihjdV9tYXNrLCBjdXJyX21hc2ssCj4gPiA+ID4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxncHVfYm1fc2l6ZSk7Cj4gPiA+ID4gKwo+ID4g
PiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtmcmVlKGN1cnJfbWFzayk7Cj4gPiA+
ID4gKyAgICAgICAgICAgICAgICAgICAgIH0gZWxzZQo+ID4gPiA+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIGJpdG1hcF90b19hcnIzMihjdV9tYXNrLCBsZ3B1X2JtLAo+ID4gPiA+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZ3B1X2JtX3NpemUp
Owo+ID4gPiA+ICsKPiA+ID4gPiArICAgICAgICAgICAgICAgICAgICAgcHFuLT5xLT5wcm9wZXJ0
aWVzLmN1X21hc2sgPSBjdV9tYXNrOwo+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICBwcW4t
PnEtPnByb3BlcnRpZXMuY3VfbWFza19jb3VudCA9Cj4gPiA+ID4gKyBsZ3B1X2JtX3NpemU7Cj4g
PiA+ID4gKwo+ID4gPiA+ICsgICAgICAgICAgICAgICAgICAgICByYyA9IHBxbi0+cS0+ZGV2aWNl
LT5kcW0tPm9wcy51cGRhdGVfcXVldWUoCj4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBwcW4tPnEtPmRldmljZS0+ZHFtLCBwcW4tPnEpOwo+ID4gPiA+ICsgICAg
ICAgICAgICAgfQo+ID4gPiA+ICsgICAgIH0KPiA+ID4gPiArICAgICBtdXRleF91bmxvY2soJmtm
ZHByb2MtPm11dGV4KTsKPiA+ID4gPiArCj4gPiA+ID4gKyAgICAgcmV0dXJuIHJjOwo+ID4gPiA+
ICt9Cj4gPiA+ID4gKwo+ID4gPiA+ICAgI2lmIGRlZmluZWQoQ09ORklHX0RFQlVHX0ZTKQo+ID4g
PiA+Cj4gPiA+ID4gICBpbnQgcHFtX2RlYnVnZnNfbXFkcyhzdHJ1Y3Qgc2VxX2ZpbGUgKm0sIHZv
aWQgKmRhdGEpCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
CmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBz
Oi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeA==
