Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id E2172A992C
	for <lists+amd-gfx@lfdr.de>; Thu,  5 Sep 2019 06:04:03 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 89ACB89C53;
	Thu,  5 Sep 2019 04:04:02 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM02-SN1-obe.outbound.protection.outlook.com
 (mail-eopbgr770045.outbound.protection.outlook.com [40.107.77.45])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E1FFD89CBC
 for <amd-gfx@lists.freedesktop.org>; Thu,  5 Sep 2019 04:04:00 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=PBccNHUUDWoZ2ehMKLu78VD80UU5T05cQdC7tvFIzxDPKZkXJMoMboEpIPHHpFe3d88deJqwdxGXhQInOpTvD2K1btnuhsvXiVQNh1GFHZfRurL3agA4v/oSm42K2YK1tvx5IpcdeS/Ox7evE0ao52K4TlumrO8vw7rjFNDd8MEBz0bm31nfzIVrTVVVyT0m4X9A5+iyMAO/DYLRXnhXcQhfrY6LVyl8ITYz8Erhg6wK9W51+GbtMtU1pLKXvQOE/4pzx2wAjWtOq3NPxP+SO5F9n4mlw5U5C3Lz3zUmwp2Aap31A7nef3L490M0JZyyjmr/icJX3D6j0D/ENQ7Snw==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=iKLbssgTkbGyydSa8x0XTFCSIlDTeTLegK2lqetp1zQ=;
 b=k9eYwJxCLMrZrJqqIj+iWWgI9WWTdK/klwtrcirA4VqC23SSvumgq1YGTGRoM+vPtez0LmbucE8k7a52BOX0EicHdie5VM0Mf3C+TiXer6+X+bYDEpzCRNaFOEuz0w9RjPGLIm3PhU1tLdTv9UFP+cn2a76DZn8b2eUHnguw8jdDGVNd/57qFrOCJiackm0DAKiYsnc/8fHfexObR5FoVuPm+cCSNl2F5VpZi0OFvpT8gU5tTQ573J10L1/aZJHSo0FZl+jP8vjkJSlMG4sbY+TY0ghQx2iGIR/2+PqlFsiD7oCFsXIV1ruUhIQC5iSp+9dFDRfxHUAplL/Hfw+nxA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from MN2PR12MB3054.namprd12.prod.outlook.com (20.178.244.79) by
 MN2PR12MB3807.namprd12.prod.outlook.com (10.255.237.24) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2241.15; Thu, 5 Sep 2019 04:03:59 +0000
Received: from MN2PR12MB3054.namprd12.prod.outlook.com
 ([fe80::f8cf:7a84:723c:27d0]) by MN2PR12MB3054.namprd12.prod.outlook.com
 ([fe80::f8cf:7a84:723c:27d0%3]) with mapi id 15.20.2220.022; Thu, 5 Sep 2019
 04:03:59 +0000
From: "Zhou1, Tao" <Tao.Zhou1@amd.com>
To: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>,
 "Grodzovsky, Andrey" <Andrey.Grodzovsky@amd.com>, "Chen, Guchun"
 <Guchun.Chen@amd.com>, "Li, Dennis" <Dennis.Li@amd.com>, "Zhang, Hawking"
 <Hawking.Zhang@amd.com>, "Clements, John" <John.Clements@amd.com>
Subject: [PATCH 3/4] drm/amdgpu: save umc error records
Thread-Topic: [PATCH 3/4] drm/amdgpu: save umc error records
Thread-Index: AQHVY57xcPKkMN83fk6CQ2/TG09CrA==
Date: Thu, 5 Sep 2019 04:03:59 +0000
Message-ID: <20190905040324.18741-3-tao.zhou1@amd.com>
References: <20190905040324.18741-1-tao.zhou1@amd.com>
In-Reply-To: <20190905040324.18741-1-tao.zhou1@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: HK0PR03CA0030.apcprd03.prod.outlook.com
 (2603:1096:203:2f::18) To MN2PR12MB3054.namprd12.prod.outlook.com
 (2603:10b6:208:d1::15)
x-ms-exchange-messagesentrepresentingtype: 1
x-mailer: git-send-email 2.17.1
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 9f8d7382-9f7b-46d5-7428-08d731b61417
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600166)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:MN2PR12MB3807; 
x-ms-traffictypediagnostic: MN2PR12MB3807:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <MN2PR12MB38073B0DDA6CD2215818DD8DB0BB0@MN2PR12MB3807.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:480;
x-forefront-prvs: 015114592F
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(366004)(136003)(346002)(376002)(396003)(39860400002)(199004)(189003)(66556008)(2501003)(6512007)(446003)(26005)(11346002)(6436002)(3846002)(2906002)(256004)(53936002)(2616005)(66476007)(64756008)(66446008)(66946007)(6486002)(6116002)(71200400001)(71190400001)(316002)(305945005)(110136005)(102836004)(7736002)(1076003)(6506007)(50226002)(386003)(8676002)(81166006)(6636002)(81156014)(86362001)(478600001)(36756003)(99286004)(486006)(186003)(25786009)(476003)(4326008)(5660300002)(8936002)(52116002)(14454004)(76176011)(66066001)(921003)(1121003);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MN2PR12MB3807;
 H:MN2PR12MB3054.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: 1xzss/dUAj/0oQH4ONtKzDaBBjQYTTVw+B9XCWvPtpHpUfoSuICNdoJXJ6BD7ZHh3cdDS3Lnunew6cL6w3nPMFV8JuEm+I1lQhYeLNr8UlMM+fKUZi096xWqmU1KHsL1zdd0249GfhbLHhsCyE6GNvjBtBPIaq5FLn20RIDrDe86vQEi6/1K0b0VZcF2PN6Y0k04GtDr+pRqrRI7gyipJylkt1NMcAoUqGxRvuP1jRUi0NFHAaGSDHGT/r8Zv8RrVefUSlBho85xLTIf8bHv952pfQbGKTH87m4EbG9Llg7wIqCnWmKIvTzaL22TSY1siPo2b4LtF6jvwBBMiHZPuLAnYz5DUYnTVl7gJwEad5FCqlGN+Q9d9qsV/CHqcm2VpMZc2JCvA9DA0RBv9rwN2PGp16QIwnYozTAtvAwaDuc=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 9f8d7382-9f7b-46d5-7428-08d731b61417
X-MS-Exchange-CrossTenant-originalarrivaltime: 05 Sep 2019 04:03:59.1792 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: R73iYvOfc7mSfsuYC7YGdG2cONQru+3T1zwdEEfhVC5JIoXJVK7dN5s/2LMahHJQ
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB3807
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=iKLbssgTkbGyydSa8x0XTFCSIlDTeTLegK2lqetp1zQ=;
 b=xY7LqGZzQDEBJT3hLoYI5dizTMsNbeidq6sa2lmQw/nldFabDsFwAVIcsZl5gQjczn9Whk/E/SG9XRvTwjbqccIz+EVAwQ32CznQ3BBc0YyP54qymAYkgkUBR05HzCAAmgsSL1fM3kUMz3Tc1cR5YKPUOClblByXiC6g8hI9QhU=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Tao.Zhou1@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Zhou1, Tao" <Tao.Zhou1@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

c2F2ZSB1bWMgZXJyb3IgcmVjb3JkcyB0byByYXMgYmFkIHBhZ2UgYXJyYXkKCnYyOiBhZGQgYmFk
IHBhZ2VzIGJlZm9yZSBncHUgcmVzZXQKdjM6IGFkZCBOVUxMIGNoZWNrIGZvciBhZGV2LT51bWMu
ZnVuY3MKClNpZ25lZC1vZmYtYnk6IFRhbyBaaG91IDx0YW8uemhvdTFAYW1kLmNvbT4KU2lnbmVk
LW9mZi1ieTogQW5kcmV5IEdyb2R6b3Zza3kgPGFuZHJleS5ncm9kem92c2t5QGFtZC5jb20+ClJl
dmlld2VkLWJ5OiBHdWNodW4gQ2hlbiA8Z3VjaHVuLmNoZW5AYW1kLmNvbT4KLS0tCiBkcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfcmFzLmggfCAgMiArLQogZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvZ21jX3Y5XzAuYyAgIHwgNDAgKysrKysrKysrKysrKysrKysrKy0tLS0tLQog
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdW1jX3Y2XzEuYyAgIHwgMzkgKysrKysrKysrKysr
KysrKysrKy0tLS0tCiAzIGZpbGVzIGNoYW5nZWQsIDY0IGluc2VydGlvbnMoKyksIDE3IGRlbGV0
aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9y
YXMuaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9yYXMuaAppbmRleCBiYzFk
NDU5NzE2MDcuLjk2MjEwZTE4MTkxZSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1X3Jhcy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdw
dV9yYXMuaApAQCAtMzQ3LDcgKzM0Nyw3IEBAIHN0cnVjdCByYXNfZXJyX2RhdGEgewogCXVuc2ln
bmVkIGxvbmcgdWVfY291bnQ7CiAJdW5zaWduZWQgbG9uZyBjZV9jb3VudDsKIAl1bnNpZ25lZCBs
b25nIGVycl9hZGRyX2NudDsKLQl1aW50NjRfdCAqZXJyX2FkZHI7CisJc3RydWN0IGVlcHJvbV90
YWJsZV9yZWNvcmQgKmVycl9hZGRyOwogfTsKIAogc3RydWN0IHJhc19lcnJfaGFuZGxlcl9kYXRh
IHsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192OV8wLmMgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjlfMC5jCmluZGV4IDlkMTU2NzlkZjZlMC4u
YmViNmM4NGFiOWUyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNf
djlfMC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192OV8wLmMKQEAgLTI0
MywyMSArMjQzLDQzIEBAIHN0YXRpYyBpbnQgZ21jX3Y5XzBfcHJvY2Vzc19yYXNfZGF0YV9jYihz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKIAkJc3RydWN0IHJhc19lcnJfZGF0YSAqZXJyX2Rh
dGEsCiAJCXN0cnVjdCBhbWRncHVfaXZfZW50cnkgKmVudHJ5KQogewotCWlmICghYW1kZ3B1X3Jh
c19pc19zdXBwb3J0ZWQoYWRldiwgQU1ER1BVX1JBU19CTE9DS19fR0ZYKSkgewotCQlrZ2Qya2Zk
X3NldF9zcmFtX2VjY19mbGFnKGFkZXYtPmtmZC5kZXYpOwotCQlpZiAoYWRldi0+dW1jLmZ1bmNz
LT5xdWVyeV9yYXNfZXJyb3JfY291bnQpCi0JCQlhZGV2LT51bWMuZnVuY3MtPnF1ZXJ5X3Jhc19l
cnJvcl9jb3VudChhZGV2LCBlcnJfZGF0YSk7CisJaWYgKGFtZGdwdV9yYXNfaXNfc3VwcG9ydGVk
KGFkZXYsIEFNREdQVV9SQVNfQkxPQ0tfX0dGWCkpCisJCXJldHVybiBBTURHUFVfUkFTX1NVQ0NF
U1M7CisKKwlrZ2Qya2ZkX3NldF9zcmFtX2VjY19mbGFnKGFkZXYtPmtmZC5kZXYpOworCWlmIChh
ZGV2LT51bWMuZnVuY3MgJiYKKwkgICAgYWRldi0+dW1jLmZ1bmNzLT5xdWVyeV9yYXNfZXJyb3Jf
Y291bnQpCisJICAgIGFkZXYtPnVtYy5mdW5jcy0+cXVlcnlfcmFzX2Vycm9yX2NvdW50KGFkZXYs
IGVycl9kYXRhKTsKKworCWlmIChhZGV2LT51bWMuZnVuY3MgJiYKKwkgICAgYWRldi0+dW1jLmZ1
bmNzLT5xdWVyeV9yYXNfZXJyb3JfYWRkcmVzcyAmJgorCSAgICBhZGV2LT51bWMubWF4X3Jhc19l
cnJfY250X3Blcl9xdWVyeSkgeworCQllcnJfZGF0YS0+ZXJyX2FkZHIgPQorCQkJa2NhbGxvYyhh
ZGV2LT51bWMubWF4X3Jhc19lcnJfY250X3Blcl9xdWVyeSwKKwkJCQlzaXplb2Yoc3RydWN0IGVl
cHJvbV90YWJsZV9yZWNvcmQpLCBHRlBfS0VSTkVMKTsKKwkJLyogc3RpbGwgY2FsbCBxdWVyeV9y
YXNfZXJyb3JfYWRkcmVzcyB0byBjbGVhciBlcnJvciBzdGF0dXMKKwkJICogZXZlbiBOT01FTSBl
cnJvciBpcyBlbmNvdW50ZXJlZAorCQkgKi8KKwkJaWYoIWVycl9kYXRhLT5lcnJfYWRkcikKKwkJ
CURSTV9XQVJOKCJGYWlsZWQgdG8gYWxsb2MgbWVtb3J5IGZvciB1bWMgZXJyb3IgYWRkcmVzcyBy
ZWNvcmQhXG4iKTsKKwogCQkvKiB1bWMgcXVlcnlfcmFzX2Vycm9yX2FkZHJlc3MgaXMgYWxzbyBy
ZXNwb25zaWJsZSBmb3IgY2xlYXJpbmcKIAkJICogZXJyb3Igc3RhdHVzCiAJCSAqLwotCQlpZiAo
YWRldi0+dW1jLmZ1bmNzLT5xdWVyeV9yYXNfZXJyb3JfYWRkcmVzcykKLQkJCWFkZXYtPnVtYy5m
dW5jcy0+cXVlcnlfcmFzX2Vycm9yX2FkZHJlc3MoYWRldiwgZXJyX2RhdGEpOworCQlhZGV2LT51
bWMuZnVuY3MtPnF1ZXJ5X3Jhc19lcnJvcl9hZGRyZXNzKGFkZXYsIGVycl9kYXRhKTsKKwl9CisK
KwkvKiBvbmx5IHVuY29ycmVjdGFibGUgZXJyb3IgbmVlZHMgZ3B1IHJlc2V0ICovCisJaWYgKGVy
cl9kYXRhLT51ZV9jb3VudCkgeworCQlpZiAoZXJyX2RhdGEtPmVycl9hZGRyX2NudCAmJgorCQkg
ICAgYW1kZ3B1X3Jhc19hZGRfYmFkX3BhZ2VzKGFkZXYsIGVycl9kYXRhLT5lcnJfYWRkciwKKwkJ
CQkJCWVycl9kYXRhLT5lcnJfYWRkcl9jbnQpKQorCQkJRFJNX1dBUk4oIkZhaWxlZCB0byBhZGQg
cmFzIGJhZCBwYWdlIVxuIik7CiAKLQkJLyogb25seSB1bmNvcnJlY3RhYmxlIGVycm9yIG5lZWRz
IGdwdSByZXNldCAqLwotCQlpZiAoZXJyX2RhdGEtPnVlX2NvdW50KQotCQkJYW1kZ3B1X3Jhc19y
ZXNldF9ncHUoYWRldiwgMCk7CisJCWFtZGdwdV9yYXNfcmVzZXRfZ3B1KGFkZXYsIDApOwogCX0K
IAorCWtmcmVlKGVycl9kYXRhLT5lcnJfYWRkcik7CiAJcmV0dXJuIEFNREdQVV9SQVNfU1VDQ0VT
UzsKIH0KIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdW1jX3Y2XzEu
YyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3VtY192Nl8xLmMKaW5kZXggODUwMmU3MzZm
NzIxLi4wOWUzMTZhMjJmMWEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L3VtY192Nl8xLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdW1jX3Y2XzEuYwpA
QCAtNzUsNiArNzUsMTcgQEAgc3RhdGljIHZvaWQgdW1jX3Y2XzFfZGlzYWJsZV91bWNfaW5kZXhf
bW9kZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKIAkJCVJTTVVfVU1DX0lOREVYX01PREVf
RU4sIDApOwogfQogCitzdGF0aWMgdWludDMyX3QgdW1jX3Y2XzFfZ2V0X3VtY19pbnN0KHN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2KQoreworCXVpbnQzMl90IHJzbXVfdW1jX2luZGV4OworCisJ
cnNtdV91bWNfaW5kZXggPSBSUkVHMzJfU09DMTUoUlNNVSwgMCwKKwkJCQltbVJTTVVfVU1DX0lO
REVYX1JFR0lTVEVSX05CSUZfVkcyMF9HUFUpOworCXJldHVybiBSRUdfR0VUX0ZJRUxEKHJzbXVf
dW1jX2luZGV4LAorCQkJCVJTTVVfVU1DX0lOREVYX1JFR0lTVEVSX05CSUZfVkcyMF9HUFUsCisJ
CQkJUlNNVV9VTUNfSU5ERVhfSU5TVEFOQ0UpOworfQorCiBzdGF0aWMgdm9pZCB1bWNfdjZfMV9x
dWVyeV9jb3JyZWN0YWJsZV9lcnJvcl9jb3VudChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwK
IAkJCQkJCSAgIHVpbnQzMl90IHVtY19yZWdfb2Zmc2V0LAogCQkJCQkJICAgdW5zaWduZWQgbG9u
ZyAqZXJyb3JfY291bnQpCkBAIC0xNjUsNyArMTc2LDggQEAgc3RhdGljIHZvaWQgdW1jX3Y2XzFf
cXVlcnlfZXJyb3JfYWRkcmVzcyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKIAkJCQkJIHVp
bnQzMl90IHVtY19yZWdfb2Zmc2V0LCB1aW50MzJfdCBjaGFubmVsX2luZGV4KQogewogCXVpbnQz
Ml90IGxzYiwgbWNfdW1jX3N0YXR1c19hZGRyOwotCXVpbnQ2NF90IG1jX3VtY19zdGF0dXMsIGVy
cl9hZGRyOworCXVpbnQ2NF90IG1jX3VtY19zdGF0dXMsIGVycl9hZGRyLCByZXRpcmVkX3BhZ2U7
CisJc3RydWN0IGVlcHJvbV90YWJsZV9yZWNvcmQgKmVycl9yZWM7CiAKIAltY191bWNfc3RhdHVz
X2FkZHIgPQogCQlTT0MxNV9SRUdfT0ZGU0VUKFVNQywgMCwgbW1NQ0FfVU1DX1VNQzBfTUNVTUNf
U1RBVFVTVDApOwpAQCAtMTc3LDYgKzE4OSw3IEBAIHN0YXRpYyB2b2lkIHVtY192Nl8xX3F1ZXJ5
X2Vycm9yX2FkZHJlc3Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCiAJCXJldHVybjsKIAl9
CiAKKwllcnJfcmVjID0gJmVycl9kYXRhLT5lcnJfYWRkcltlcnJfZGF0YS0+ZXJyX2FkZHJfY250
XTsKIAltY191bWNfc3RhdHVzID0gUlJFRzY0X1VNQyhtY191bWNfc3RhdHVzX2FkZHIgKyB1bWNf
cmVnX29mZnNldCk7CiAKIAkvKiBjYWxjdWxhdGUgZXJyb3IgYWRkcmVzcyBpZiB1ZS9jZSBlcnJv
ciBpcyBkZXRlY3RlZCAqLwpAQCAtMTkxLDEyICsyMDQsMjQgQEAgc3RhdGljIHZvaWQgdW1jX3Y2
XzFfcXVlcnlfZXJyb3JfYWRkcmVzcyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKIAkJZXJy
X2FkZHIgJj0gfigoMHgxVUxMIDw8IGxzYikgLSAxKTsKIAogCQkvKiB0cmFuc2xhdGUgdW1jIGNo
YW5uZWwgYWRkcmVzcyB0byBzb2MgcGEsIDMgcGFydHMgYXJlIGluY2x1ZGVkICovCi0JCWVycl9k
YXRhLT5lcnJfYWRkcltlcnJfZGF0YS0+ZXJyX2FkZHJfY250XSA9Ci0JCQkJCQlBRERSX09GXzhL
Ql9CTE9DSyhlcnJfYWRkcikgfAotCQkJCQkJQUREUl9PRl8yNTZCX0JMT0NLKGNoYW5uZWxfaW5k
ZXgpIHwKLQkJCQkJCU9GRlNFVF9JTl8yNTZCX0JMT0NLKGVycl9hZGRyKTsKLQotCQllcnJfZGF0
YS0+ZXJyX2FkZHJfY250Kys7CisJCXJldGlyZWRfcGFnZSA9IEFERFJfT0ZfOEtCX0JMT0NLKGVy
cl9hZGRyKSB8CisJCQkJQUREUl9PRl8yNTZCX0JMT0NLKGNoYW5uZWxfaW5kZXgpIHwKKwkJCQlP
RkZTRVRfSU5fMjU2Ql9CTE9DSyhlcnJfYWRkcik7CisKKwkJLyogd2Ugb25seSBzYXZlIHVlIGVy
cm9yIGluZm9ybWF0aW9uIGN1cnJlbnRseSwgY2UgaXMgc2tpcHBlZCAqLworCQlpZiAoUkVHX0dF
VF9GSUVMRChtY191bWNfc3RhdHVzLCBNQ0FfVU1DX1VNQzBfTUNVTUNfU1RBVFVTVDAsIFVFQ0Mp
CisJCQkJPT0gMSkgeworCQkJZXJyX3JlYy0+YWRkcmVzcyA9IGVycl9hZGRyOworCQkJLyogcGFn
ZSBmcmFtZSBhZGRyZXNzIGlzIHNhdmVkICovCisJCQllcnJfcmVjLT5yZXRpcmVkX3BhZ2UgPSBy
ZXRpcmVkX3BhZ2UgPj4gUEFHRV9TSElGVDsKKwkJCWVycl9yZWMtPnRzID0gKHVpbnQ2NF90KWt0
aW1lX2dldF9yZWFsX3NlY29uZHMoKTsKKwkJCWVycl9yZWMtPmVycl90eXBlID0gQU1ER1BVX1JB
U19FRVBST01fRVJSX05PTl9SRUNPVkVSQUJMRTsKKwkJCWVycl9yZWMtPmN1ID0gMDsKKwkJCWVy
cl9yZWMtPm1lbV9jaGFubmVsID0gY2hhbm5lbF9pbmRleDsKKwkJCWVycl9yZWMtPm1jdW1jX2lk
ID0gdW1jX3Y2XzFfZ2V0X3VtY19pbnN0KGFkZXYpOworCisJCQllcnJfZGF0YS0+ZXJyX2FkZHJf
Y250Kys7CisJCX0KIAl9CiAKIAkvKiBjbGVhciB1bWMgc3RhdHVzICovCi0tIAoyLjE3LjEKCl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmFtZC1nZnggbWFp
bGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeA==
