Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id D03414C3E3
	for <lists+amd-gfx@lfdr.de>; Thu, 20 Jun 2019 01:01:01 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 846F96E47E;
	Wed, 19 Jun 2019 23:01:00 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM05-CO1-obe.outbound.protection.outlook.com
 (mail-eopbgr720072.outbound.protection.outlook.com [40.107.72.72])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 554616E487
 for <amd-gfx@lists.freedesktop.org>; Wed, 19 Jun 2019 23:00:59 +0000 (UTC)
Received: from CH2PR12MB3831.namprd12.prod.outlook.com (52.132.245.141) by
 CH2SPR01MB0005.namprd12.prod.outlook.com (10.255.155.138) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1987.14; Wed, 19 Jun 2019 23:00:56 +0000
Received: from CH2PR12MB3831.namprd12.prod.outlook.com
 ([fe80::3459:726f:43e7:a64c]) by CH2PR12MB3831.namprd12.prod.outlook.com
 ([fe80::3459:726f:43e7:a64c%4]) with mapi id 15.20.1987.014; Wed, 19 Jun 2019
 23:00:56 +0000
From: "Kim, Jonathan" <Jonathan.Kim@amd.com>
To: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>,
 "Kuehling, Felix" <Felix.Kuehling@amd.com>
Subject: RE: [PATCH 1/2] drm/amdgpu: update df_v3_6 for xgmi perfmons
Thread-Topic: [PATCH 1/2] drm/amdgpu: update df_v3_6 for xgmi perfmons
Thread-Index: AQHVJvFUw57Y/VqlBEKvd4ntXoeQC6ajl6TA
Date: Wed, 19 Jun 2019 23:00:56 +0000
Message-ID: <CH2PR12MB38312B58D2A270465C9697FA85E50@CH2PR12MB3831.namprd12.prod.outlook.com>
References: <20190619224943.130022-1-jonathan.kim@amd.com>
In-Reply-To: <20190619224943.130022-1-jonathan.kim@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [165.204.55.251]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: c056a099-38b4-489a-d2f3-08d6f509fce5
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:CH2SPR01MB0005; 
x-ms-traffictypediagnostic: CH2SPR01MB0005:
x-microsoft-antispam-prvs: <CH2SPR01MB0005CB18F906334548A8ECF485E50@CH2SPR01MB0005.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:3968;
x-forefront-prvs: 0073BFEF03
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(346002)(39860400002)(396003)(376002)(136003)(366004)(13464003)(189003)(199004)(8676002)(5660300002)(64756008)(66476007)(72206003)(66446008)(74316002)(256004)(446003)(14444005)(7696005)(53546011)(229853002)(11346002)(305945005)(30864003)(6636002)(2501003)(6506007)(186003)(26005)(102836004)(25786009)(476003)(76176011)(6436002)(486006)(55016002)(81156014)(68736007)(9686003)(81166006)(6116002)(6246003)(14454004)(3846002)(66066001)(86362001)(99286004)(8936002)(110136005)(2906002)(53936002)(53946003)(76116006)(73956011)(478600001)(52536014)(7736002)(33656002)(66556008)(71200400001)(15650500001)(316002)(66946007)(71190400001)(579004);
 DIR:OUT; SFP:1101; SCL:1; SRVR:CH2SPR01MB0005;
 H:CH2PR12MB3831.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: PwFTVNIJg0kVwzPsPreRijHwbkBKOQD1Fw2zbTBurr7Ys5u9khvRMHobW3et7pelgKxhVepVtXNYyhktk2a7SPWd/TocHOVWKX03Z8AkSrFL4R3rD9KHNTFKGG89PqO4X90iu4pb2AZNgim9EjgBZr2gCHJvgiEPy9zMW5Sm9O3lGuUDal5mUzCKF0xqHkjzoY8UWRFPhKPpHlZ9iFy46DVlJmXG00vp5eaExSW5aaFaj+1UeOvvAp7/HfLgw4GNvE37AFSFM55u3ux2maKwj6brDPc1PEZG6Yxf27EvT82DzgWA2Lges2q/WZpjNWQma6+c3ry8sXfIhrFvN1scHmVG7H/ObjKFDGT5VvKfPKb/ZHiuZlyUYoS1Xw06KRBgmCqO0SMeekxFt92P7MXx6vi3XJutFERquiHXjG7w518=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: c056a099-38b4-489a-d2f3-08d6f509fce5
X-MS-Exchange-CrossTenant-originalarrivaltime: 19 Jun 2019 23:00:56.4285 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: jokim@amd.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: CH2SPR01MB0005
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=M9KP5TiGajIN4nTrq6gAY2wfJ2CFYWOrG7Zfl1/92Dg=;
 b=sm0CVqG4UvM4Qd/goM7CWmpXpO6qWodVXXRZxblebPzSRTHWJuBrLUANs29aZsSs7hmH+tK42CXNMrRtDqNTa95I6KwhRCnMByV2xVy49TuJ8+TdNS/fDKoQtTKmykWCiB4Umh/d86owWhCBjDrtjD7s0wC+rozsslN2oot58b0=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Jonathan.Kim@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

SGkgRmVsaXggLSBQYXRjaCAxIGFzIHByb21pc2VkIGZvciByZXZpZXcuDQoNCkpvbg0KDQotLS0t
LU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KRnJvbTogS2ltLCBKb25hdGhhbiA8Sm9uYXRoYW4uS2lt
QGFtZC5jb20+IA0KU2VudDogV2VkbmVzZGF5LCBKdW5lIDE5LCAyMDE5IDY6NTAgUE0NClRvOiBh
bWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZw0KQ2M6IEtpbSwgSm9uYXRoYW4gPEpvbmF0aGFu
LktpbUBhbWQuY29tPjsgS2ltLCBKb25hdGhhbiA8Sm9uYXRoYW4uS2ltQGFtZC5jb20+DQpTdWJq
ZWN0OiBbUEFUQ0ggMS8yXSBkcm0vYW1kZ3B1OiB1cGRhdGUgZGZfdjNfNiBmb3IgeGdtaSBwZXJm
bW9ucw0KDQp2NDogZml4ZWQga3phbGxvYyBlcnJvciBjaGVjayBhbmQgbW9kaWZpZWQgZGYgZnVu
YyBpbml0IHRvIHJldHVybiBlcnJvciBjb2RlDQoNCnYzOiBmaXhlZCBjbGVhbnVwIGJ5IGFkZGlu
ZyBmaW5pIHRvIGZyZWUgdXAgYWRldiBkZiBjb25maWcgY291bnRlcnMNCg0KdjI6IHNpbXBsaWZp
ZWQgYnkgcmVtb3ZpbmcgeGdtaSByZWZlcmVuY2VzIGluIGZ1bmN0aW9uIG5hbWVzIGFuZCBtb3Zp
bmcgdG8gZ2VuZXJpYyBkZiBmdW5jdGlvbiBuYW1lcy4gIGZpeGVkIGlzc3VlIGJ5IHJlbW92aW5n
IGhhcmRjb2RlZCBjYWtlIHR4IGRhdGEgZXZlbnRzLiBzdHJlYW1saW5lZCBlcnJvciBoYW5kbGlu
ZyBieSBoYXZpbmcgIGRmX3YzXzZfcG1jX2dldF9jdHJsIHJldHVybiBlcnJvciBjb2RlLg0KDQph
ZGQgcG11IGF0dHJpYnV0ZSBncm91cHMgYW5kIHN0cnVjdHVyZXMgZm9yIHBlcmYgZXZlbnRzLg0K
YWRkIHN5c2ZzIHRvIHRyYWNrIGF2YWlsYWJsZSBkZiBwZXJmbW9uIGNvdW50ZXJzIGZpeCBvdmVy
ZmxvdyBoYW5kbGluZyBpbiBwZXJmbW9uIGNvdW50ZXIgcmVhZHMuDQoNCkNoYW5nZS1JZDogSTYx
ZjczMWMwMDY2YjE3ODM0NjU2Yzc0NmU3ZWZlMDM4YzRmNjJhY2YNClNpZ25lZC1vZmYtYnk6IEpv
bmF0aGFuIEtpbSA8Sm9uYXRoYW4uS2ltQGFtZC5jb20+DQotLS0NCiBkcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHUuaCAgfCAgMTkgKy0NCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9kZl92MV83LmMgfCAgIDMgKy0NCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9kZl92M182
LmMgfCA0NjYgKysrKysrKysrKysrKy0tLS0tLS0tLS0tLS0tICBkcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9kZl92M182LmggfCAgMTkgKy0NCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9z
b2MxNS5jICAgfCAgIDggKw0KIDUgZmlsZXMgY2hhbmdlZCwgMjU0IGluc2VydGlvbnMoKyksIDI2
MSBkZWxldGlvbnMoLSkNCg0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2FtZGdwdS5oIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1LmgNCmluZGV4IGQz
NTVlOWEwOWFkMS4uNTc4MGUxNTdmZDcyIDEwMDY0NA0KLS0tIGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1LmgNCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdw
dS5oDQpAQCAtNjgxLDcgKzY4MSw4IEBAIHN0cnVjdCBhbWRncHVfbmJpb19mdW5jcyB7ICB9Ow0K
IA0KIHN0cnVjdCBhbWRncHVfZGZfZnVuY3Mgew0KLQl2b2lkICgqaW5pdCkoc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYpOw0KKwlpbnQgKCppbml0KShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRl
dik7DQorCXZvaWQgKCpmaW5pKShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7DQogCXZvaWQg
KCplbmFibGVfYnJvYWRjYXN0X21vZGUpKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KIAkJ
CQkgICAgICBib29sIGVuYWJsZSk7DQogCXUzMiAoKmdldF9mYl9jaGFubmVsX251bWJlcikoc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpOyBAQCAtOTYyLDYgKzk2Myw3IEBAIHN0cnVjdCBhbWRn
cHVfZGV2aWNlIHsNCiAJbG9uZwkJCQljb21wdXRlX3RpbWVvdXQ7DQogDQogCXVpbnQ2NF90CQkJ
dW5pcXVlX2lkOw0KKwl1aW50NjRfdAkJCSpkZl9wZXJmbW9uX2NvbmZpZ19hc3NpZ25fbWFzazsN
CiB9Ow0KIA0KIHN0YXRpYyBpbmxpbmUgc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFtZGdwdV90dG1f
YWRldihzdHJ1Y3QgdHRtX2JvX2RldmljZSAqYmRldikgQEAgLTEyMDEsNCArMTIwMywxOSBAQCBz
dGF0aWMgaW5saW5lIGludCBhbWRncHVfZG1fZGlzcGxheV9yZXN1bWUoc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYpIHsgcmV0dXJuICAjZW5kaWYNCiANCiAjaW5jbHVkZSAiYW1kZ3B1X29iamVj
dC5oIg0KKw0KKy8qIHVzZWQgYnkgZGZfdjNfNi5jIGFuZCBhbWRncHVfcG11LmMgKi8NCisjZGVm
aW5lIEFNREdQVV9QTVVfQVRUUihfbmFtZSwgX29iamVjdCkJCQkJXA0KK3N0YXRpYyBzc2l6ZV90
CQkJCQkJCQlcDQorX25hbWUjI19zaG93KHN0cnVjdCBkZXZpY2UgKmRldiwJCQkJCVwNCisJCQkg
ICAgICAgc3RydWN0IGRldmljZV9hdHRyaWJ1dGUgKmF0dHIsCQlcDQorCQkJICAgICAgIGNoYXIg
KnBhZ2UpCQkJCVwNCit7CQkJCQkJCQkJXA0KKwlCVUlMRF9CVUdfT04oc2l6ZW9mKF9vYmplY3Qp
ID49IFBBR0VfU0laRSAtIDEpOwkJCVwNCisJcmV0dXJuIHNwcmludGYocGFnZSwgX29iamVjdCAi
XG4iKTsJCQkJXA0KK30JCQkJCQkJCQlcDQorCQkJCQkJCQkJXA0KK3N0YXRpYyBzdHJ1Y3QgZGV2
aWNlX2F0dHJpYnV0ZSBwbXVfYXR0cl8jI19uYW1lID0gX19BVFRSX1JPKF9uYW1lKQ0KKw0KICNl
bmRpZg0KKw0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2RmX3YxXzcu
YyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2RmX3YxXzcuYw0KaW5kZXggOTkzNTM3MWRi
N2NlLi5jYzk2NGQ1MmRlZTQgMTAwNjQ0DQotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9kZl92MV83LmMNCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2RmX3YxXzcuYw0K
QEAgLTI5LDggKzI5LDkgQEANCiANCiBzdGF0aWMgdTMyIGRmX3YxXzdfY2hhbm5lbF9udW1iZXJb
XSA9IHsxLCAyLCAwLCA0LCAwLCA4LCAwLCAxNiwgMn07DQogDQotc3RhdGljIHZvaWQgZGZfdjFf
N19pbml0IChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCitzdGF0aWMgaW50IGRmX3YxXzdf
aW5pdCAoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpDQogew0KKwlyZXR1cm4gMDsNCiB9DQog
DQogc3RhdGljIHZvaWQgZGZfdjFfN19lbmFibGVfYnJvYWRjYXN0X21vZGUoc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYsIGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9k
Zl92M182LmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9kZl92M182LmMNCmluZGV4IDhj
MDliZjk5NGFjZC4uY2FlNjZiYzU5OTg2IDEwMDY0NA0KLS0tIGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvZGZfdjNfNi5jDQorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9kZl92
M182LmMNCkBAIC0zMCw4ICszMCwxMTggQEANCiBzdGF0aWMgdTMyIGRmX3YzXzZfY2hhbm5lbF9u
dW1iZXJbXSA9IHsxLCAyLCAwLCA0LCAwLCA4LCAwLA0KIAkJCQkgICAgICAgMTYsIDMyLCAwLCAw
LCAwLCAyLCA0LCA4fTsNCiANCi1zdGF0aWMgdm9pZCBkZl92M182X2luaXQoc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYpDQorLyogaW5pdCBkZiBmb3JtYXQgYXR0cnMgKi8NCitBTURHUFVfUE1V
X0FUVFIoZXZlbnQsCQkiY29uZmlnOjAtNyIpOw0KK0FNREdQVV9QTVVfQVRUUihpbnN0YW5jZSwJ
ImNvbmZpZzo4LTE1Iik7DQorQU1ER1BVX1BNVV9BVFRSKHVtYXNrLAkJImNvbmZpZzoxNi0yMyIp
Ow0KKw0KKy8qIGRmIGZvcm1hdCBhdHRyaWJ1dGVzICAqLw0KK3N0YXRpYyBzdHJ1Y3QgYXR0cmli
dXRlICpkZl92M182X2Zvcm1hdF9hdHRyc1tdID0gew0KKwkmcG11X2F0dHJfZXZlbnQuYXR0ciwN
CisJJnBtdV9hdHRyX2luc3RhbmNlLmF0dHIsDQorCSZwbXVfYXR0cl91bWFzay5hdHRyLA0KKwlO
VUxMDQorfTsNCisNCisvKiBkZiBmb3JtYXQgYXR0cmlidXRlIGdyb3VwICovDQorc3RhdGljIHN0
cnVjdCBhdHRyaWJ1dGVfZ3JvdXAgZGZfdjNfNl9mb3JtYXRfYXR0cl9ncm91cCA9IHsNCisJLm5h
bWUgPSAiZm9ybWF0IiwNCisJLmF0dHJzID0gZGZfdjNfNl9mb3JtYXRfYXR0cnMsDQorfTsNCisN
CisvKiBkZiBldmVudCBhdHRycyAqLw0KK0FNREdQVV9QTVVfQVRUUihjYWtlMF9wY3NvdXRfdHhk
YXRhLA0KKwkJICAgICAgImV2ZW50PTB4NyxpbnN0YW5jZT0weDQ2LHVtYXNrPTB4MiIpOw0KK0FN
REdQVV9QTVVfQVRUUihjYWtlMV9wY3NvdXRfdHhkYXRhLA0KKwkJICAgICAgImV2ZW50PTB4Nyxp
bnN0YW5jZT0weDQ3LHVtYXNrPTB4MiIpOw0KK0FNREdQVV9QTVVfQVRUUihjYWtlMF9wY3NvdXRf
dHhtZXRhLA0KKwkJICAgICAgImV2ZW50PTB4NyxpbnN0YW5jZT0weDQ2LHVtYXNrPTB4NCIpOw0K
K0FNREdQVV9QTVVfQVRUUihjYWtlMV9wY3NvdXRfdHhtZXRhLA0KKwkJICAgICAgImV2ZW50PTB4
NyxpbnN0YW5jZT0weDQ3LHVtYXNrPTB4NCIpOw0KK0FNREdQVV9QTVVfQVRUUihjYWtlMF9mdGlp
bnN0YXRfcmVxYWxsb2MsDQorCQkgICAgICAiZXZlbnQ9MHhiLGluc3RhbmNlPTB4NDYsdW1hc2s9
MHg0Iik7DQorQU1ER1BVX1BNVV9BVFRSKGNha2UxX2Z0aWluc3RhdF9yZXFhbGxvYywNCisJCSAg
ICAgICJldmVudD0weGIsaW5zdGFuY2U9MHg0Nyx1bWFzaz0weDQiKTsNCitBTURHUFVfUE1VX0FU
VFIoY2FrZTBfZnRpaW5zdGF0X3JzcGFsbG9jLA0KKwkJICAgICAgImV2ZW50PTB4YixpbnN0YW5j
ZT0weDQ2LHVtYXNrPTB4OCIpOw0KK0FNREdQVV9QTVVfQVRUUihjYWtlMV9mdGlpbnN0YXRfcnNw
YWxsb2MsDQorCQkgICAgICAiZXZlbnQ9MHhiLGluc3RhbmNlPTB4NDcsdW1hc2s9MHg4Iik7DQor
DQorLyogZGYgZXZlbnQgYXR0cmlidXRlcyAgKi8NCitzdGF0aWMgc3RydWN0IGF0dHJpYnV0ZSAq
ZGZfdjNfNl9ldmVudF9hdHRyc1tdID0gew0KKwkmcG11X2F0dHJfY2FrZTBfcGNzb3V0X3R4ZGF0
YS5hdHRyLA0KKwkmcG11X2F0dHJfY2FrZTFfcGNzb3V0X3R4ZGF0YS5hdHRyLA0KKwkmcG11X2F0
dHJfY2FrZTBfcGNzb3V0X3R4bWV0YS5hdHRyLA0KKwkmcG11X2F0dHJfY2FrZTFfcGNzb3V0X3R4
bWV0YS5hdHRyLA0KKwkmcG11X2F0dHJfY2FrZTBfZnRpaW5zdGF0X3JlcWFsbG9jLmF0dHIsDQor
CSZwbXVfYXR0cl9jYWtlMV9mdGlpbnN0YXRfcmVxYWxsb2MuYXR0ciwNCisJJnBtdV9hdHRyX2Nh
a2UwX2Z0aWluc3RhdF9yc3BhbGxvYy5hdHRyLA0KKwkmcG11X2F0dHJfY2FrZTFfZnRpaW5zdGF0
X3JzcGFsbG9jLmF0dHIsDQorCU5VTEwNCit9Ow0KKw0KKy8qIGRmIGV2ZW50IGF0dHJpYnV0ZSBn
cm91cCAqLw0KK3N0YXRpYyBzdHJ1Y3QgYXR0cmlidXRlX2dyb3VwIGRmX3YzXzZfZXZlbnRfYXR0
cl9ncm91cCA9IHsNCisJLm5hbWUgPSAiZXZlbnRzIiwNCisJLmF0dHJzID0gZGZfdjNfNl9ldmVu
dF9hdHRycw0KK307DQorDQorLyogZGYgZXZlbnQgYXR0ciBncm91cHMgICovDQorY29uc3Qgc3Ry
dWN0IGF0dHJpYnV0ZV9ncm91cCAqZGZfdjNfNl9hdHRyX2dyb3Vwc1tdID0gew0KKwkJJmRmX3Yz
XzZfZm9ybWF0X2F0dHJfZ3JvdXAsDQorCQkmZGZfdjNfNl9ldmVudF9hdHRyX2dyb3VwLA0KKwkJ
TlVMTA0KK307DQorDQorLyogZ2V0IHRoZSBudW1iZXIgb2YgZGYgY291bnRlcnMgYXZhaWxhYmxl
ICovIHN0YXRpYyBzc2l6ZV90IA0KK2RmX3YzXzZfZ2V0X2RmX2NudHJfYXZhaWwoc3RydWN0IGRl
dmljZSAqZGV2LA0KKwkJc3RydWN0IGRldmljZV9hdHRyaWJ1dGUgKmF0dHIsDQorCQljaGFyICpi
dWYpDQorew0KKwlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldjsNCisJc3RydWN0IGRybV9kZXZp
Y2UgKmRkZXY7DQorCWludCBpLCBjb3VudDsNCisNCisJZGRldiA9IGRldl9nZXRfZHJ2ZGF0YShk
ZXYpOw0KKwlhZGV2ID0gZGRldi0+ZGV2X3ByaXZhdGU7DQorCWNvdW50ID0gMDsNCisNCisJZm9y
IChpID0gMDsgaSA8IERGX1YzXzZfTUFYX0NPVU5URVJTOyBpKyspIHsNCisJCWlmIChhZGV2LT5k
Zl9wZXJmbW9uX2NvbmZpZ19hc3NpZ25fbWFza1tpXSA9PSAwKQ0KKwkJCWNvdW50Kys7DQorCX0N
CisNCisJcmV0dXJuIHNucHJpbnRmKGJ1ZiwgUEFHRV9TSVpFLAkiJWlcbiIsIGNvdW50KTsNCit9
DQorDQorLyogZGV2aWNlIGF0dHIgZm9yIGF2YWlsYWJsZSBwZXJmbW9uIGNvdW50ZXJzICovIHN0
YXRpYyANCitERVZJQ0VfQVRUUihkZl9jbnRyX2F2YWlsLCBTX0lSVUdPLCBkZl92M182X2dldF9k
Zl9jbnRyX2F2YWlsLCBOVUxMKTsNCisNCisvKiBpbml0IHBlcmZtb25zICovDQorc3RhdGljIGlu
dCBkZl92M182X2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpIHsNCisJaW50IGksIHJl
dDsNCisNCisJcmV0ID0gZGV2aWNlX2NyZWF0ZV9maWxlKGFkZXYtPmRldiwgJmRldl9hdHRyX2Rm
X2NudHJfYXZhaWwpOw0KKwlpZiAocmV0KQ0KKwkJRFJNX0VSUk9SKCJmYWlsZWQgdG8gY3JlYXRl
IGZpbGUgZm9yIGF2YWlsYWJsZSBkZiBjb3VudGVyc1xuIik7DQorDQorCWFkZXYtPmRmX3BlcmZt
b25fY29uZmlnX2Fzc2lnbl9tYXNrID0NCisJCWt6YWxsb2Moc2l6ZW9mKHVpbnQ2NF90KSAqIERG
X1YzXzZfTUFYX0NPVU5URVJTLCBHRlBfS0VSTkVMKTsNCisNCisJaWYgKCFhZGV2LT5kZl9wZXJm
bW9uX2NvbmZpZ19hc3NpZ25fbWFzaykNCisJCXJldHVybiAtRU5PTUVNOw0KKw0KKwlmb3IgKGkg
PSAwOyBpIDwgREZfVjNfNl9NQVhfQ09VTlRFUlM7IGkrKykNCisJCWFkZXYtPmRmX3BlcmZtb25f
Y29uZmlnX2Fzc2lnbl9tYXNrW2ldID0gMDsNCisNCisJcmV0dXJuIDA7DQorfQ0KKw0KK3N0YXRp
YyB2b2lkIGRmX3YzXzZfZmluaShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCiB7DQorCWtm
cmVlKGFkZXYtPmRmX3BlcmZtb25fY29uZmlnX2Fzc2lnbl9tYXNrKTsNCisJYWRldi0+ZGZfcGVy
Zm1vbl9jb25maWdfYXNzaWduX21hc2sgPSBOVUxMOw0KIH0NCiANCiBzdGF0aWMgdm9pZCBkZl92
M182X2VuYWJsZV9icm9hZGNhc3RfbW9kZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgQEAg
LTEwNSwyOCArMjE1LDE5IEBAIHN0YXRpYyB2b2lkIGRmX3YzXzZfZ2V0X2Nsb2NrZ2F0aW5nX3N0
YXRlKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KIAkJKmZsYWdzIHw9IEFNRF9DR19TVVBQ
T1JUX0RGX01HQ0c7DQogfQ0KIA0KLS8qIGhvbGQgY291bnRlciBhc3NpZ25tZW50IHBlciBncHUg
c3RydWN0ICovIC1zdHJ1Y3QgZGZfdjNfNl9ldmVudF9tYXNrIHsNCi0JCXN0cnVjdCBhbWRncHVf
ZGV2aWNlIGdwdTsNCi0JCXVpbnQ2NF90IGNvbmZpZ19hc3NpZ25fbWFza1tBTURHUFVfREZfTUFY
X0NPVU5URVJTXTsNCi19Ow0KLQ0KIC8qIGdldCBhc3NpZ25lZCBkZiBwZXJmbW9uIGN0ciBhcyBp
bnQgKi8gLXN0YXRpYyB2b2lkIGRmX3YzXzZfcG1jX2NvbmZpZ18yX2NudHIoc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYsDQotCQkJCSAgICAgIHVpbnQ2NF90IGNvbmZpZywNCi0JCQkJICAgICAg
aW50ICpjb3VudGVyKQ0KK3N0YXRpYyBpbnQgZGZfdjNfNl9wbWNfY29uZmlnXzJfY250cihzdHJ1
Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCisJCQkJICAgICAgdWludDY0X3QgY29uZmlnKQ0KIHsN
Ci0Jc3RydWN0IGRmX3YzXzZfZXZlbnRfbWFzayAqbWFzazsNCiAJaW50IGk7DQogDQotCW1hc2sg
PSBjb250YWluZXJfb2YoYWRldiwgc3RydWN0IGRmX3YzXzZfZXZlbnRfbWFzaywgZ3B1KTsNCi0N
Ci0JZm9yIChpID0gMDsgaSA8IEFNREdQVV9ERl9NQVhfQ09VTlRFUlM7IGkrKykgew0KLQkJaWYg
KChjb25maWcgJiAweDBGRkZGRkZVTCkgPT0gbWFzay0+Y29uZmlnX2Fzc2lnbl9tYXNrW2ldKSB7
DQotCQkJKmNvdW50ZXIgPSBpOw0KLQkJCXJldHVybjsNCi0JCX0NCisJZm9yIChpID0gMDsgaSA8
IERGX1YzXzZfTUFYX0NPVU5URVJTOyBpKyspIHsNCisJCWlmICgoY29uZmlnICYgMHgwRkZGRkZG
VUwpID09DQorCQkJCQlhZGV2LT5kZl9wZXJmbW9uX2NvbmZpZ19hc3NpZ25fbWFza1tpXSkNCisJ
CQlyZXR1cm4gaTsNCiAJfQ0KKw0KKwlyZXR1cm4gLUVJTlZBTDsNCiB9DQogDQogLyogZ2V0IGFk
ZHJlc3MgYmFzZWQgb24gY291bnRlciBhc3NpZ25tZW50ICovIEBAIC0xMzYsMTAgKzIzNyw3IEBA
IHN0YXRpYyB2b2lkIGRmX3YzXzZfcG1jX2dldF9hZGRyKHN0cnVjdCBhbWRncHVfZGV2aWNlICph
ZGV2LA0KIAkJCQkgdWludDMyX3QgKmxvX2Jhc2VfYWRkciwNCiAJCQkJIHVpbnQzMl90ICpoaV9i
YXNlX2FkZHIpDQogew0KLQ0KLQlpbnQgdGFyZ2V0X2NudHIgPSAtMTsNCi0NCi0JZGZfdjNfNl9w
bWNfY29uZmlnXzJfY250cihhZGV2LCBjb25maWcsICZ0YXJnZXRfY250cik7DQorCWludCB0YXJn
ZXRfY250ciA9IGRmX3YzXzZfcG1jX2NvbmZpZ18yX2NudHIoYWRldiwgY29uZmlnKTsNCiANCiAJ
aWYgKHRhcmdldF9jbnRyIDwgMCkNCiAJCXJldHVybjsNCkBAIC0xNzcsNDAgKzI3NSwzOCBAQCBz
dGF0aWMgdm9pZCBkZl92M182X3BtY19nZXRfcmVhZF9zZXR0aW5ncyhzdHJ1Y3QgYW1kZ3B1X2Rl
dmljZSAqYWRldiwgIH0NCiANCiAvKiBnZXQgY29udHJvbCBjb3VudGVyIHNldHRpbmdzIGkuZS4g
YWRkcmVzcyBhbmQgdmFsdWVzIHRvIHNldCAqLyAtc3RhdGljIHZvaWQgZGZfdjNfNl9wbWNfZ2V0
X2N0cmxfc2V0dGluZ3Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQorc3RhdGljIGludCBk
Zl92M182X3BtY19nZXRfY3RybF9zZXR0aW5ncyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwN
CiAJCQkJCSAgdWludDY0X3QgY29uZmlnLA0KIAkJCQkJICB1aW50MzJfdCAqbG9fYmFzZV9hZGRy
LA0KIAkJCQkJICB1aW50MzJfdCAqaGlfYmFzZV9hZGRyLA0KIAkJCQkJICB1aW50MzJfdCAqbG9f
dmFsLA0KIAkJCQkJICB1aW50MzJfdCAqaGlfdmFsKQ0KIHsNCi0NCi0JdWludDMyX3QgZXZlbnRz
ZWwsIGluc3RhbmNlLCB1bml0bWFzazsNCi0JdWludDMyX3QgZXNfNV8wLCBlc18xM18wLCBlc18x
M182LCBlc18xM18xMiwgZXNfMTFfOCwgZXNfN18wOw0KLQ0KIAlkZl92M182X3BtY19nZXRfYWRk
cihhZGV2LCBjb25maWcsIDEsIGxvX2Jhc2VfYWRkciwgaGlfYmFzZV9hZGRyKTsNCiANCi0JaWYg
KGxvX3ZhbCA9PSBOVUxMIHx8IGhpX3ZhbCA9PSBOVUxMKQ0KLQkJcmV0dXJuOw0KLQ0KIAlpZiAo
KCpsb19iYXNlX2FkZHIgPT0gMCkgfHwgKCpoaV9iYXNlX2FkZHIgPT0gMCkpIHsNCi0JCURSTV9F
UlJPUigiREYgUE1DIGFkZHJlc3Npbmcgbm90IHJldHJpZXZlZCEgTG86ICV4LCBIaTogJXgiLA0K
KwkJRFJNX0VSUk9SKCJbREYgUE1DXSBhZGRyZXNzaW5nIG5vdCByZXRyaWV2ZWQhIExvOiAleCwg
SGk6ICV4IiwNCiAJCQkJKmxvX2Jhc2VfYWRkciwgKmhpX2Jhc2VfYWRkcik7DQotCQlyZXR1cm47
DQorCQlyZXR1cm4gLUVOWElPOw0KIAl9DQogDQotCWV2ZW50c2VsID0gR0VUX0VWRU5UKGNvbmZp
Zyk7DQotCWluc3RhbmNlID0gR0VUX0lOU1RBTkNFKGNvbmZpZyk7DQotCXVuaXRtYXNrID0gR0VU
X1VOSVRNQVNLKGNvbmZpZyk7DQotDQotCWVzXzVfMCA9IGV2ZW50c2VsICYgMHgzRlVMOw0KLQll
c18xM182ID0gaW5zdGFuY2U7DQotCWVzXzEzXzAgPSAoZXNfMTNfNiA8PCA2KSArIGVzXzVfMDsN
Ci0JZXNfMTNfMTIgPSAoZXNfMTNfMCAmIDB4MDMwMDBVTCkgPj4gMTI7DQotCWVzXzExXzggPSAo
ZXNfMTNfMCAmIDB4MEYwMFVMKSA+PiA4Ow0KLQllc183XzAgPSBlc18xM18wICYgMHgwRkZVTDsN
Ci0JKmxvX3ZhbCA9IChlc183XzAgJiAweEZGVUwpIHwgKCh1bml0bWFzayAmIDB4MEZVTCkgPDwg
OCk7DQotCSpoaV92YWwgPSAoZXNfMTFfOCB8ICgoZXNfMTNfMTIpPDwoMjkpKSk7DQorCWlmIChs
b192YWwgJiYgaGlfdmFsKSB7DQorCQl1aW50MzJfdCBldmVudHNlbCwgaW5zdGFuY2UsIHVuaXRt
YXNrOw0KKwkJdWludDMyX3QgaW5zdGFuY2VfMTAsIGluc3RhbmNlXzU0MzIsIGluc3RhbmNlXzc2
Ow0KKw0KKwkJZXZlbnRzZWwgPSBERl9WM182X0dFVF9FVkVOVChjb25maWcpICYgMHgzZjsNCisJ
CXVuaXRtYXNrID0gREZfVjNfNl9HRVRfVU5JVE1BU0soY29uZmlnKSAmIDB4ZjsNCisJCWluc3Rh
bmNlID0gREZfVjNfNl9HRVRfSU5TVEFOQ0UoY29uZmlnKTsNCisNCisJCWluc3RhbmNlXzEwID0g
aW5zdGFuY2UgJiAweDM7DQorCQlpbnN0YW5jZV81NDMyID0gKGluc3RhbmNlID4+IDIpICYgMHhm
Ow0KKwkJaW5zdGFuY2VfNzYgPSAoaW5zdGFuY2UgPj4gNikgJiAweDM7DQorDQorCQkqbG9fdmFs
ID0gKHVuaXRtYXNrIDw8IDgpIHwgKGluc3RhbmNlXzEwIDw8IDYpIHwgZXZlbnRzZWw7DQorCQkq
aGlfdmFsID0gKGluc3RhbmNlXzc2IDw8IDI5KSB8IGluc3RhbmNlXzU0MzI7DQorCX0NCisNCisJ
cmV0dXJuIDA7DQogfQ0KIA0KIC8qIGFzc2lnbiBkZiBwZXJmb3JtYW5jZSBjb3VudGVycyBmb3Ig
cmVhZCAqLyBAQCAtMjE4LDI2ICszMTQsMjEgQEAgc3RhdGljIGludCBkZl92M182X3BtY19hc3Np
Z25fY250cihzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCiAJCQkJICAgdWludDY0X3QgY29u
ZmlnLA0KIAkJCQkgICBpbnQgKmlzX2Fzc2lnbmVkKQ0KIHsNCi0NCi0Jc3RydWN0IGRmX3YzXzZf
ZXZlbnRfbWFzayAqbWFzazsNCiAJaW50IGksIHRhcmdldF9jbnRyOw0KIA0KLQl0YXJnZXRfY250
ciA9IC0xOw0KLQ0KIAkqaXNfYXNzaWduZWQgPSAwOw0KIA0KLQlkZl92M182X3BtY19jb25maWdf
Ml9jbnRyKGFkZXYsIGNvbmZpZywgJnRhcmdldF9jbnRyKTsNCisJdGFyZ2V0X2NudHIgPSBkZl92
M182X3BtY19jb25maWdfMl9jbnRyKGFkZXYsIGNvbmZpZyk7DQogDQogCWlmICh0YXJnZXRfY250
ciA+PSAwKSB7DQogCQkqaXNfYXNzaWduZWQgPSAxOw0KIAkJcmV0dXJuIDA7DQogCX0NCiANCi0J
bWFzayA9IGNvbnRhaW5lcl9vZihhZGV2LCBzdHJ1Y3QgZGZfdjNfNl9ldmVudF9tYXNrLCBncHUp
Ow0KLQ0KLQlmb3IgKGkgPSAwOyBpIDwgQU1ER1BVX0RGX01BWF9DT1VOVEVSUzsgaSsrKSB7DQot
CQlpZiAobWFzay0+Y29uZmlnX2Fzc2lnbl9tYXNrW2ldID09IDBVTEwpIHsNCi0JCQltYXNrLT5j
b25maWdfYXNzaWduX21hc2tbaV0gPSBjb25maWcgJiAweDBGRkZGRkZVTDsNCisJZm9yIChpID0g
MDsgaSA8IERGX1YzXzZfTUFYX0NPVU5URVJTOyBpKyspIHsNCisJCWlmIChhZGV2LT5kZl9wZXJm
bW9uX2NvbmZpZ19hc3NpZ25fbWFza1tpXSA9PSAwVSkgew0KKwkJCWFkZXYtPmRmX3BlcmZtb25f
Y29uZmlnX2Fzc2lnbl9tYXNrW2ldID0NCisJCQkJCQkJY29uZmlnICYgMHgwRkZGRkZGVUw7DQog
CQkJcmV0dXJuIDA7DQogCQl9DQogCX0NCkBAIC0yNDksNjYgKzM0MCwxNyBAQCBzdGF0aWMgaW50
IGRmX3YzXzZfcG1jX2Fzc2lnbl9jbnRyKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCAgc3Rh
dGljIHZvaWQgZGZfdjNfNl9wbWNfcmVsZWFzZV9jbnRyKHN0cnVjdCBhbWRncHVfZGV2aWNlICph
ZGV2LA0KIAkJCQkgICAgIHVpbnQ2NF90IGNvbmZpZykNCiB7DQotDQotCXN0cnVjdCBkZl92M182
X2V2ZW50X21hc2sgKm1hc2s7DQotCWludCB0YXJnZXRfY250cjsNCi0NCi0JdGFyZ2V0X2NudHIg
PSAtMTsNCi0NCi0JZGZfdjNfNl9wbWNfY29uZmlnXzJfY250cihhZGV2LCBjb25maWcsICZ0YXJn
ZXRfY250cik7DQotDQotCW1hc2sgPSBjb250YWluZXJfb2YoYWRldiwgc3RydWN0IGRmX3YzXzZf
ZXZlbnRfbWFzaywgZ3B1KTsNCisJaW50IHRhcmdldF9jbnRyID0gZGZfdjNfNl9wbWNfY29uZmln
XzJfY250cihhZGV2LCBjb25maWcpOw0KIA0KIAlpZiAodGFyZ2V0X2NudHIgPj0gMCkNCi0JCW1h
c2stPmNvbmZpZ19hc3NpZ25fbWFza1t0YXJnZXRfY250cl0gPSAwVUxMOw0KLQ0KKwkJYWRldi0+
ZGZfcGVyZm1vbl9jb25maWdfYXNzaWduX21hc2tbdGFyZ2V0X2NudHJdID0gMFVMTDsNCiB9DQog
DQotLyoNCi0gKiBnZXQgeGdtaSBsaW5rIGNvdW50ZXJzIHZpYSBwcm9ncmFtbWFibGUgZGF0YSBm
YWJyaWMgKGRmKSBjb3VudGVycyAobWF4IDQpDQotICogdXNpbmcgY2FrZSB0eCBldmVudC4NCi0g
Kg0KLSAqIEBhZGV2IC0+IGFtZGdwdSBkZXZpY2UNCi0gKiBAaW5zdGFuY2UtPiBjdXJyZW50bHkg
Y2FrZSBoYXMgMiBsaW5rcyB0byBwb2xsIG9uIHZlZ2EyMA0KLSAqIEBjb3VudCAtPiBjb3VudGVy
cyB0byBwYXNzDQotICoNCi0gKi8NCiANCi1zdGF0aWMgdm9pZCBkZl92M182X2dldF94Z21pX2xp
bmtfY250cihzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCi0JCQkJICAgICAgIGludCBpbnN0
YW5jZSwNCi0JCQkJICAgICAgIHVpbnQ2NF90ICpjb3VudCkNCi17DQotCXVpbnQzMl90IGxvX2Jh
c2VfYWRkciwgaGlfYmFzZV9hZGRyLCBsb192YWwsIGhpX3ZhbDsNCi0JdWludDY0X3QgY29uZmln
Ow0KLQ0KLQljb25maWcgPSBHRVRfSU5TVEFOQ0VfQ09ORklHKGluc3RhbmNlKTsNCi0NCi0JZGZf
djNfNl9wbWNfZ2V0X3JlYWRfc2V0dGluZ3MoYWRldiwgY29uZmlnLCAmbG9fYmFzZV9hZGRyLA0K
LQkJCQkgICAgICAmaGlfYmFzZV9hZGRyKTsNCi0NCi0JaWYgKChsb19iYXNlX2FkZHIgPT0gMCkg
fHwgKGhpX2Jhc2VfYWRkciA9PSAwKSkNCi0JCXJldHVybjsNCi0NCi0JbG9fdmFsID0gUlJFRzMy
X1BDSUUobG9fYmFzZV9hZGRyKTsNCi0JaGlfdmFsID0gUlJFRzMyX1BDSUUoaGlfYmFzZV9hZGRy
KTsNCi0NCi0JKmNvdW50ICA9ICgoaGlfdmFsIHwgMFVMTCkgPDwgMzIpIHwgKGxvX3ZhbCB8IDBV
TEwpOw0KLX0NCi0NCi0vKg0KLSAqIHJlc2V0IHhnbWkgbGluayBjb3VudGVycw0KLSAqDQotICog
QGFkZXYgLT4gYW1kZ3B1IGRldmljZQ0KLSAqIEBpbnN0YW5jZS0+IGN1cnJlbnRseSBjYWtlIGhh
cyAyIGxpbmtzIHRvIHBvbGwgb24gdmVnYTIwDQotICoNCi0gKi8NCi1zdGF0aWMgdm9pZCBkZl92
M182X3Jlc2V0X3hnbWlfbGlua19jbnRyKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KLQkJ
CQkJIGludCBpbnN0YW5jZSkNCitzdGF0aWMgdm9pZCBkZl92M182X3Jlc2V0X3BlcmZtb25fY250
cihzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCisJCQkJCSB1aW50NjRfdCBjb25maWcpDQog
ew0KIAl1aW50MzJfdCBsb19iYXNlX2FkZHIsIGhpX2Jhc2VfYWRkcjsNCi0JdWludDY0X3QgY29u
ZmlnOw0KLQ0KLQljb25maWcgPSAwVUxMIHwgKDB4N1VMTCkgfCAoKDB4NDZVTEwgKyBpbnN0YW5j
ZSkgPDwgOCkgfCAoMHgyIDw8IDE2KTsNCiANCiAJZGZfdjNfNl9wbWNfZ2V0X3JlYWRfc2V0dGlu
Z3MoYWRldiwgY29uZmlnLCAmbG9fYmFzZV9hZGRyLA0KIAkJCQkgICAgICAmaGlfYmFzZV9hZGRy
KTsNCkBAIC0zMjAsMTg1ICszNjIsMTA2IEBAIHN0YXRpYyB2b2lkIGRmX3YzXzZfcmVzZXRfeGdt
aV9saW5rX2NudHIoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQogCVdSRUczMl9QQ0lFKGhp
X2Jhc2VfYWRkciwgMFVMKTsNCiB9DQogDQotLyoNCi0gKiBhZGQgeGdtaSBsaW5rIGNvdW50ZXJz
DQotICoNCi0gKiBAYWRldiAtPiBhbWRncHUgZGV2aWNlDQotICogQGluc3RhbmNlLT4gY3VycmVu
dGx5IGNha2UgaGFzIDIgbGlua3MgdG8gcG9sbCBvbiB2ZWdhMjANCi0gKg0KLSAqLw0KIA0KLXN0
YXRpYyBpbnQgZGZfdjNfNl9hZGRfeGdtaV9saW5rX2NudHIoc3RydWN0IGFtZGdwdV9kZXZpY2Ug
KmFkZXYsDQotCQkJCSAgICAgIGludCBpbnN0YW5jZSkNCitzdGF0aWMgaW50IGRmX3YzXzZfYWRk
X3BlcmZtb25fY250cihzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCisJCQkJICAgICAgdWlu
dDY0X3QgY29uZmlnKQ0KIHsNCiAJdWludDMyX3QgbG9fYmFzZV9hZGRyLCBoaV9iYXNlX2FkZHIs
IGxvX3ZhbCwgaGlfdmFsOw0KLQl1aW50NjRfdCBjb25maWc7DQogCWludCByZXQsIGlzX2Fzc2ln
bmVkOw0KIA0KLQlpZiAoaW5zdGFuY2UgPCAwIHx8IGluc3RhbmNlID4gMSkNCi0JCXJldHVybiAt
RUlOVkFMOw0KLQ0KLQljb25maWcgPSBHRVRfSU5TVEFOQ0VfQ09ORklHKGluc3RhbmNlKTsNCi0N
CiAJcmV0ID0gZGZfdjNfNl9wbWNfYXNzaWduX2NudHIoYWRldiwgY29uZmlnLCAmaXNfYXNzaWdu
ZWQpOw0KIA0KIAlpZiAocmV0IHx8IGlzX2Fzc2lnbmVkKQ0KIAkJcmV0dXJuIHJldDsNCiANCi0J
ZGZfdjNfNl9wbWNfZ2V0X2N0cmxfc2V0dGluZ3MoYWRldiwNCisJcmV0ID0gZGZfdjNfNl9wbWNf
Z2V0X2N0cmxfc2V0dGluZ3MoYWRldiwNCiAJCQljb25maWcsDQogCQkJJmxvX2Jhc2VfYWRkciwN
CiAJCQkmaGlfYmFzZV9hZGRyLA0KIAkJCSZsb192YWwsDQogCQkJJmhpX3ZhbCk7DQogDQorCWlm
IChyZXQpDQorCQlyZXR1cm4gcmV0Ow0KKw0KKwlEUk1fREVCVUdfRFJJVkVSKCJjb25maWc9JWxs
eCBhZGRyPSUwOHg6JTA4eCB2YWw9JTA4eDolMDh4IiwNCisJCQljb25maWcsIGxvX2Jhc2VfYWRk
ciwgaGlfYmFzZV9hZGRyLCBsb192YWwsIGhpX3ZhbCk7DQorDQogCVdSRUczMl9QQ0lFKGxvX2Jh
c2VfYWRkciwgbG9fdmFsKTsNCiAJV1JFRzMyX1BDSUUoaGlfYmFzZV9hZGRyLCBoaV92YWwpOw0K
IA0KIAlyZXR1cm4gcmV0Ow0KIH0NCiANCi0NCi0vKg0KLSAqIHN0YXJ0IHhnbWkgbGluayBjb3Vu
dGVycw0KLSAqDQotICogQGFkZXYgLT4gYW1kZ3B1IGRldmljZQ0KLSAqIEBpbnN0YW5jZS0+IGN1
cnJlbnRseSBjYWtlIGhhcyAyIGxpbmtzIHRvIHBvbGwgb24gdmVnYTIwDQotICogQGlzX2VuYWJs
ZSAtPiBlaXRoZXIgcmVzdW1lIG9yIGFzc2lnbiBldmVudCB2aWEgZGYgcGVyZm1vbg0KLSAqDQot
ICovDQotDQotc3RhdGljIGludCBkZl92M182X3N0YXJ0X3hnbWlfbGlua19jbnRyKHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2LA0KLQkJCQkJaW50IGluc3RhbmNlLA0KLQkJCQkJaW50IGlzX2Vu
YWJsZSkNCitzdGF0aWMgaW50IGRmX3YzXzZfcG1jX3N0YXJ0KHN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2LCB1aW50NjRfdCBjb25maWcsDQorCQkJICAgICBpbnQgaXNfZW5hYmxlKQ0KIHsNCiAJ
dWludDMyX3QgbG9fYmFzZV9hZGRyLCBoaV9iYXNlX2FkZHIsIGxvX3ZhbDsNCi0JdWludDY0X3Qg
Y29uZmlnOw0KLQlpbnQgcmV0Ow0KLQ0KLQlpZiAoaW5zdGFuY2UgPCAwIHx8IGluc3RhbmNlID4g
MSkNCi0JCXJldHVybiAtRUlOVkFMOw0KKwlpbnQgcmV0ID0gMDsNCiANCi0JaWYgKGlzX2VuYWJs
ZSkgew0KLQ0KLQkJcmV0ID0gZGZfdjNfNl9hZGRfeGdtaV9saW5rX2NudHIoYWRldiwgaW5zdGFu
Y2UpOw0KLQ0KLQkJaWYgKHJldCkNCi0JCQlyZXR1cm4gcmV0Ow0KKwlzd2l0Y2ggKGFkZXYtPmFz
aWNfdHlwZSkgew0KKwljYXNlIENISVBfVkVHQTIwOg0KIA0KLQl9IGVsc2Ugew0KKwkJZGZfdjNf
Nl9yZXNldF9wZXJmbW9uX2NudHIoYWRldiwgY29uZmlnKTsNCiANCi0JCWNvbmZpZyA9IEdFVF9J
TlNUQU5DRV9DT05GSUcoaW5zdGFuY2UpOw0KKwkJaWYgKGlzX2VuYWJsZSkgew0KKwkJCXJldCA9
IGRmX3YzXzZfYWRkX3BlcmZtb25fY250cihhZGV2LCBjb25maWcpOw0KKwkJfSBlbHNlIHsNCisJ
CQlyZXQgPSBkZl92M182X3BtY19nZXRfY3RybF9zZXR0aW5ncyhhZGV2LA0KKwkJCQkJY29uZmln
LA0KKwkJCQkJJmxvX2Jhc2VfYWRkciwNCisJCQkJCSZoaV9iYXNlX2FkZHIsDQorCQkJCQlOVUxM
LA0KKwkJCQkJTlVMTCk7DQogDQotCQlkZl92M182X3BtY19nZXRfY3RybF9zZXR0aW5ncyhhZGV2
LA0KLQkJCQljb25maWcsDQotCQkJCSZsb19iYXNlX2FkZHIsDQotCQkJCSZoaV9iYXNlX2FkZHIs
DQotCQkJCU5VTEwsDQotCQkJCU5VTEwpOw0KKwkJCWlmIChyZXQpDQorCQkJCXJldHVybiByZXQ7
DQogDQotCQlpZiAobG9fYmFzZV9hZGRyID09IDApDQotCQkJcmV0dXJuIC1FSU5WQUw7DQorCQkJ
bG9fdmFsID0gUlJFRzMyX1BDSUUobG9fYmFzZV9hZGRyKTsNCiANCi0JCWxvX3ZhbCA9IFJSRUcz
Ml9QQ0lFKGxvX2Jhc2VfYWRkcik7DQorCQkJRFJNX0RFQlVHX0RSSVZFUigiY29uZmlnPSVsbHgg
YWRkcj0lMDh4OiUwOHggdmFsPSUwOHgiLA0KKwkJCQljb25maWcsIGxvX2Jhc2VfYWRkciwgaGlf
YmFzZV9hZGRyLCBsb192YWwpOw0KIA0KLQkJV1JFRzMyX1BDSUUobG9fYmFzZV9hZGRyLCBsb192
YWwgfCAoMVVMTCA8PCAyMikpOw0KKwkJCVdSRUczMl9QQ0lFKGxvX2Jhc2VfYWRkciwgbG9fdmFs
IHwgKDFVTEwgPDwgMjIpKTsNCisJCX0NCiANCi0JCXJldCA9IDA7DQorCQlicmVhazsNCisJZGVm
YXVsdDoNCisJCWJyZWFrOw0KIAl9DQogDQogCXJldHVybiByZXQ7DQotDQogfQ0KIA0KLS8qDQot
ICogc3RhcnQgeGdtaSBsaW5rIGNvdW50ZXJzDQotICoNCi0gKiBAYWRldiAtPiBhbWRncHUgZGV2
aWNlDQotICogQGluc3RhbmNlLT4gY3VycmVudGx5IGNha2UgaGFzIDIgbGlua3MgdG8gcG9sbCBv
biB2ZWdhMjANCi0gKiBAaXNfZW5hYmxlIC0+IGVpdGhlciBwYXVzZSBvciB1bmFzc2lnbiBldmVu
dCB2aWEgZGYgcGVyZm1vbg0KLSAqDQotICovDQotDQotc3RhdGljIGludCBkZl92M182X3N0b3Bf
eGdtaV9saW5rX2NudHIoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQotCQkJCSAgICAgICBp
bnQgaW5zdGFuY2UsDQotCQkJCSAgICAgICBpbnQgaXNfZGlzYWJsZSkNCitzdGF0aWMgaW50IGRm
X3YzXzZfcG1jX3N0b3Aoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHVpbnQ2NF90IGNvbmZp
ZywNCisJCQkgICAgaW50IGlzX2Rpc2FibGUpDQogew0KLQ0KIAl1aW50MzJfdCBsb19iYXNlX2Fk
ZHIsIGhpX2Jhc2VfYWRkciwgbG9fdmFsOw0KLQl1aW50NjRfdCBjb25maWc7DQotDQotCWNvbmZp
ZyA9IEdFVF9JTlNUQU5DRV9DT05GSUcoaW5zdGFuY2UpOw0KLQ0KLQlpZiAoaXNfZGlzYWJsZSkg
ew0KLQkJZGZfdjNfNl9yZXNldF94Z21pX2xpbmtfY250cihhZGV2LCBpbnN0YW5jZSk7DQotCQlk
Zl92M182X3BtY19yZWxlYXNlX2NudHIoYWRldiwgY29uZmlnKTsNCi0JfSBlbHNlIHsNCi0NCi0J
CWRmX3YzXzZfcG1jX2dldF9jdHJsX3NldHRpbmdzKGFkZXYsDQotCQkJCWNvbmZpZywNCi0JCQkJ
JmxvX2Jhc2VfYWRkciwNCi0JCQkJJmhpX2Jhc2VfYWRkciwNCi0JCQkJTlVMTCwNCi0JCQkJTlVM
TCk7DQotDQotCQlpZiAoKGxvX2Jhc2VfYWRkciA9PSAwKSB8fCAoaGlfYmFzZV9hZGRyID09IDAp
KQ0KLQkJCXJldHVybiAtRUlOVkFMOw0KLQ0KLQkJbG9fdmFsID0gUlJFRzMyX1BDSUUobG9fYmFz
ZV9hZGRyKTsNCi0NCi0JCVdSRUczMl9QQ0lFKGxvX2Jhc2VfYWRkciwgbG9fdmFsICYgfigxVUxM
IDw8IDIyKSk7DQotCX0NCi0NCi0JcmV0dXJuIDA7DQotfQ0KLQ0KLXN0YXRpYyBpbnQgZGZfdjNf
Nl9wbWNfc3RhcnQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHVpbnQ2NF90IGNvbmZpZywN
Ci0JCQkgICAgIGludCBpc19lbmFibGUpDQotew0KLQlpbnQgeGdtaV90eF9saW5rLCByZXQgPSAw
Ow0KKwlpbnQgcmV0ID0gMDsNCiANCiAJc3dpdGNoIChhZGV2LT5hc2ljX3R5cGUpIHsNCiAJY2Fz
ZSBDSElQX1ZFR0EyMDoNCi0JCXhnbWlfdHhfbGluayA9IElTX0RGX1hHTUlfMF9UWChjb25maWcp
ID8gMA0KLQkJCQkJOiAoSVNfREZfWEdNSV8xX1RYKGNvbmZpZykgPyAxIDogLTEpOw0KLQ0KLQkJ
aWYgKHhnbWlfdHhfbGluayA+PSAwKQ0KLQkJCXJldCA9IGRmX3YzXzZfc3RhcnRfeGdtaV9saW5r
X2NudHIoYWRldiwgeGdtaV90eF9saW5rLA0KLQkJCQkJCSAgICAgIGlzX2VuYWJsZSk7DQorCQly
ZXQgPSBkZl92M182X3BtY19nZXRfY3RybF9zZXR0aW5ncyhhZGV2LA0KKwkJCWNvbmZpZywNCisJ
CQkmbG9fYmFzZV9hZGRyLA0KKwkJCSZoaV9iYXNlX2FkZHIsDQorCQkJTlVMTCwNCisJCQlOVUxM
KTsNCiANCiAJCWlmIChyZXQpDQogCQkJcmV0dXJuIHJldDsNCiANCi0JCXJldCA9IDA7DQotCQli
cmVhazsNCi0JZGVmYXVsdDoNCi0JCWJyZWFrOw0KLQl9DQorCQlsb192YWwgPSBSUkVHMzJfUENJ
RShsb19iYXNlX2FkZHIpOw0KIA0KLQlyZXR1cm4gcmV0Ow0KLX0NCisJCURSTV9ERUJVR19EUklW
RVIoImNvbmZpZz0lbGx4IGFkZHI9JTA4eDolMDh4IHZhbD0lMDh4IiwNCisJCQkJY29uZmlnLCBs
b19iYXNlX2FkZHIsIGhpX2Jhc2VfYWRkciwgbG9fdmFsKTsNCiANCi1zdGF0aWMgaW50IGRmX3Yz
XzZfcG1jX3N0b3Aoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHVpbnQ2NF90IGNvbmZpZywN
Ci0JCQkgICAgaW50IGlzX2Rpc2FibGUpDQotew0KLQlpbnQgeGdtaV90eF9saW5rLCByZXQgPSAw
Ow0KKwkJV1JFRzMyX1BDSUUobG9fYmFzZV9hZGRyLCBsb192YWwgJiB+KDFVTEwgPDwgMjIpKTsN
CiANCi0Jc3dpdGNoIChhZGV2LT5hc2ljX3R5cGUpIHsNCi0JY2FzZSBDSElQX1ZFR0EyMDoNCi0J
CQl4Z21pX3R4X2xpbmsgPSBJU19ERl9YR01JXzBfVFgoY29uZmlnKSA/IDANCi0JCQkJOiAoSVNf
REZfWEdNSV8xX1RYKGNvbmZpZykgPyAxIDogLTEpOw0KLQ0KLQkJCWlmICh4Z21pX3R4X2xpbmsg
Pj0gMCkgew0KLQkJCQlyZXQgPSBkZl92M182X3N0b3BfeGdtaV9saW5rX2NudHIoYWRldiwNCi0J
CQkJCQkJCSAgeGdtaV90eF9saW5rLA0KLQkJCQkJCQkJICBpc19kaXNhYmxlKTsNCi0JCQkJaWYg
KHJldCkNCi0JCQkJCXJldHVybiByZXQ7DQotCQkJfQ0KLQ0KLQkJCXJldCA9IDA7DQotCQkJYnJl
YWs7DQorCQlpZiAoaXNfZGlzYWJsZSkNCisJCQlkZl92M182X3BtY19yZWxlYXNlX2NudHIoYWRl
diwgY29uZmlnKTsNCisNCisJCWJyZWFrOw0KIAlkZWZhdWx0Og0KIAkJYnJlYWs7DQogCX0NCkBA
IC01MTAsMjggKzQ3MywzOSBAQCBzdGF0aWMgdm9pZCBkZl92M182X3BtY19nZXRfY291bnQoc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQogCQkJCSAgdWludDY0X3QgY29uZmlnLA0KIAkJCQkg
IHVpbnQ2NF90ICpjb3VudCkNCiB7DQotDQotCWludCB4Z21pX3R4X2xpbms7DQorCXVpbnQzMl90
IGxvX2Jhc2VfYWRkciwgaGlfYmFzZV9hZGRyLCBsb192YWwsIGhpX3ZhbDsNCisJKmNvdW50ID0g
MDsNCiANCiAJc3dpdGNoIChhZGV2LT5hc2ljX3R5cGUpIHsNCiAJY2FzZSBDSElQX1ZFR0EyMDoN
Ci0JCXhnbWlfdHhfbGluayA9IElTX0RGX1hHTUlfMF9UWChjb25maWcpID8gMA0KLQkJCQkJOiAo
SVNfREZfWEdNSV8xX1RYKGNvbmZpZykgPyAxIDogLTEpOw0KIA0KLQkJaWYgKHhnbWlfdHhfbGlu
ayA+PSAwKSB7DQotCQkJZGZfdjNfNl9yZXNldF94Z21pX2xpbmtfY250cihhZGV2LCB4Z21pX3R4
X2xpbmspOw0KLQkJCWRmX3YzXzZfZ2V0X3hnbWlfbGlua19jbnRyKGFkZXYsIHhnbWlfdHhfbGlu
aywgY291bnQpOw0KLQkJfQ0KKwkJZGZfdjNfNl9wbWNfZ2V0X3JlYWRfc2V0dGluZ3MoYWRldiwg
Y29uZmlnLCAmbG9fYmFzZV9hZGRyLA0KKwkJCQkgICAgICAmaGlfYmFzZV9hZGRyKTsNCisNCisJ
CWlmICgobG9fYmFzZV9hZGRyID09IDApIHx8IChoaV9iYXNlX2FkZHIgPT0gMCkpDQorCQkJcmV0
dXJuOw0KKw0KKwkJbG9fdmFsID0gUlJFRzMyX1BDSUUobG9fYmFzZV9hZGRyKTsNCisJCWhpX3Zh
bCA9IFJSRUczMl9QQ0lFKGhpX2Jhc2VfYWRkcik7DQorDQorCQkqY291bnQgID0gKChoaV92YWwg
fCAwVUxMKSA8PCAzMikgfCAobG9fdmFsIHwgMFVMTCk7DQorDQorCQlpZiAoKmNvdW50ID49IERG
X1YzXzZfUEVSRk1PTl9PVkVSRkxPVykNCisJCQkqY291bnQgPSAwOw0KKw0KKwkJRFJNX0RFQlVH
X0RSSVZFUigiY29uZmlnPSVsbHggYWRkcj0lMDh4OiUwOHggdmFsPSUwOHg6JTA4eCIsDQorCQkJ
Y29uZmlnLCBsb19iYXNlX2FkZHIsIGhpX2Jhc2VfYWRkciwgbG9fdmFsLCBoaV92YWwpOw0KIA0K
IAkJYnJlYWs7DQorDQogCWRlZmF1bHQ6DQogCQlicmVhazsNCiAJfQ0KLQ0KIH0NCiANCiBjb25z
dCBzdHJ1Y3QgYW1kZ3B1X2RmX2Z1bmNzIGRmX3YzXzZfZnVuY3MgPSB7DQogCS5pbml0ID0gZGZf
djNfNl9pbml0LA0KKwkuZmluaSA9IGRmX3YzXzZfZmluaSwNCiAJLmVuYWJsZV9icm9hZGNhc3Rf
bW9kZSA9IGRmX3YzXzZfZW5hYmxlX2Jyb2FkY2FzdF9tb2RlLA0KIAkuZ2V0X2ZiX2NoYW5uZWxf
bnVtYmVyID0gZGZfdjNfNl9nZXRfZmJfY2hhbm5lbF9udW1iZXIsDQogCS5nZXRfaGJtX2NoYW5u
ZWxfbnVtYmVyID0gZGZfdjNfNl9nZXRfaGJtX2NoYW5uZWxfbnVtYmVyLCBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZGZfdjNfNi5oIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvZGZfdjNfNi5oDQppbmRleCBmY2ZmZDgwNzc2NGQuLjc2OTk4NTQxYmMzMCAxMDA2
NDQNCi0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2RmX3YzXzYuaA0KKysrIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZGZfdjNfNi5oDQpAQCAtMzYsMjIgKzM2LDE1IEBAIGVu
dW0gREZfVjNfNl9NR0NHIHsNCiB9Ow0KIA0KIC8qIERlZmluZWQgaW4gZ2xvYmFsX2ZlYXR1cmVz
LmggYXMgRlRJX1BFUkZNT05fVklTSUJMRSAqLw0KLSNkZWZpbmUgQU1ER1BVX0RGX01BWF9DT1VO
VEVSUwkJNA0KKyNkZWZpbmUgREZfVjNfNl9NQVhfQ09VTlRFUlMJCTQNCiANCiAvKiBnZXQgZmxh
Z3MgZnJvbSBkZiBwZXJmbW9uIGNvbmZpZyAqLw0KLSNkZWZpbmUgR0VUX0VWRU5UKHgpCQkJKHgg
JiAweEZGVUwpDQotI2RlZmluZSBHRVRfSU5TVEFOQ0UoeCkJCQkoKHggPj4gOCkgJiAweEZGVUwp
DQotI2RlZmluZSBHRVRfVU5JVE1BU0soeCkJCQkoKHggPj4gMTYpICYgMHhGRlVMKQ0KLSNkZWZp
bmUgR0VUX0lOU1RBTkNFX0NPTkZJRyh4KQkJKDBVTEwgfCAoMHgwN1VMTCkgXA0KLQkJCQkJfCAo
KDB4MDQ2VUxMICsgeCkgPDwgOCkgXA0KLQkJCQkJfCAoMHgwMiA8PCAxNikpDQotDQotLyogZGYg
ZXZlbnQgY29uZiBtYWNyb3MgKi8NCi0jZGVmaW5lIElTX0RGX1hHTUlfMF9UWCh4KSAoR0VUX0VW
RU5UKHgpID09IDB4NyBcDQotCQkmJiBHRVRfSU5TVEFOQ0UoeCkgPT0gMHg0NiAmJiBHRVRfVU5J
VE1BU0soeCkgPT0gMHgyKQ0KLSNkZWZpbmUgSVNfREZfWEdNSV8xX1RYKHgpIChHRVRfRVZFTlQo
eCkgPT0gMHg3IFwNCi0JCSYmIEdFVF9JTlNUQU5DRSh4KSA9PSAweDQ3ICYmIEdFVF9VTklUTUFT
Syh4KSA9PSAweDIpDQorI2RlZmluZSBERl9WM182X0dFVF9FVkVOVCh4KQkJKHggJiAweEZGVUwp
DQorI2RlZmluZSBERl9WM182X0dFVF9JTlNUQU5DRSh4KQkJKCh4ID4+IDgpICYgMHhGRlVMKQ0K
KyNkZWZpbmUgREZfVjNfNl9HRVRfVU5JVE1BU0soeCkJCSgoeCA+PiAxNikgJiAweEZGVUwpDQor
I2RlZmluZSBERl9WM182X1BFUkZNT05fT1ZFUkZMT1cJMHhGRkZGRkZGRkZGRkZVTEwNCiANCitl
eHRlcm4gY29uc3Qgc3RydWN0IGF0dHJpYnV0ZV9ncm91cCAqZGZfdjNfNl9hdHRyX2dyb3Vwc1td
Ow0KIGV4dGVybiBjb25zdCBzdHJ1Y3QgYW1kZ3B1X2RmX2Z1bmNzIGRmX3YzXzZfZnVuY3M7DQog
DQogI2VuZGlmDQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc29jMTUu
YyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NvYzE1LmMNCmluZGV4IDc4YmQ0ZmMwN2Jh
Yi4uNTUxYzc3NzQ5YjJkIDEwMDY0NA0KLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
c29jMTUuYw0KKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc29jMTUuYw0KQEAgLTEw
NjYsNiArMTA2Niw3IEBAIHN0YXRpYyB2b2lkIHNvYzE1X2Rvb3JiZWxsX3JhbmdlX2luaXQoc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpICBzdGF0aWMgaW50IHNvYzE1X2NvbW1vbl9od19pbml0
KHZvaWQgKmhhbmRsZSkgIHsNCiAJc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSAoc3RydWN0
IGFtZGdwdV9kZXZpY2UgKiloYW5kbGU7DQorCWludCByZXQ7DQogDQogCS8qIGVuYWJsZSBwY2ll
IGdlbjIvMyBsaW5rICovDQogCXNvYzE1X3BjaWVfZ2VuM19lbmFibGUoYWRldik7DQpAQCAtMTA3
OSw2ICsxMDgwLDExIEBAIHN0YXRpYyBpbnQgc29jMTVfY29tbW9uX2h3X2luaXQodm9pZCAqaGFu
ZGxlKQ0KIAkgKi8NCiAJaWYgKGFkZXYtPm5iaW9fZnVuY3MtPnJlbWFwX2hkcF9yZWdpc3RlcnMp
DQogCQlhZGV2LT5uYmlvX2Z1bmNzLT5yZW1hcF9oZHBfcmVnaXN0ZXJzKGFkZXYpOw0KKw0KKwly
ZXQgPSBhZGV2LT5kZl9mdW5jcy0+aW5pdChhZGV2KTsNCisJaWYgKHJldCkNCisJCXJldHVybiBy
ZXQ7DQorDQogCS8qIGVuYWJsZSB0aGUgZG9vcmJlbGwgYXBlcnR1cmUgKi8NCiAJc29jMTVfZW5h
YmxlX2Rvb3JiZWxsX2FwZXJ0dXJlKGFkZXYsIHRydWUpOw0KIAkvKiBIVyBkb29yYmVsbCByb3V0
aW5nIHBvbGljeTogZG9vcmJlbGwgd3JpdGluZyBub3QgQEAgLTExMDAsNiArMTEwNiw4IEBAIHN0
YXRpYyBpbnQgc29jMTVfY29tbW9uX2h3X2Zpbmkodm9pZCAqaGFuZGxlKQ0KIAlpZiAoYW1kZ3B1
X3NyaW92X3ZmKGFkZXYpKQ0KIAkJeGdwdV9haV9tYWlsYm94X3B1dF9pcnEoYWRldik7DQogDQor
CWFkZXYtPmRmX2Z1bmNzLT5maW5pKGFkZXYpOw0KKw0KIAlyZXR1cm4gMDsNCiB9DQogDQotLQ0K
Mi4xNy4xDQoNCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
CmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBz
Oi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeA==
