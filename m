Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 3110B114482
	for <lists+amd-gfx@lfdr.de>; Thu,  5 Dec 2019 17:11:18 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AC96D6F8A6;
	Thu,  5 Dec 2019 16:11:16 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM12-MW2-obe.outbound.protection.outlook.com
 (mail-mw2nam12on2041.outbound.protection.outlook.com [40.107.244.41])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8F3016F8A6
 for <amd-gfx@lists.freedesktop.org>; Thu,  5 Dec 2019 16:11:14 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=YeTdbhMUhwMdXlJ38GfO0JcSh4hvxZFh05OuDVLJZ5+/K/706bg1JIv3IRGuLsELeXGkfsRtXgjz/9Ca1vUt4ClkpjXk37U7CaZPDd0lDLBeM71pO4P20MgsCJiBti/oyEpFXIgHjbEmegUqky8lEPj1TQuQekSiPFi6Evs3l2Sy7yW2nxXc9XRBv1cq25TqYUhJLTqpAbLOGGh7avb7yv6NWkp5IuNTXGFeko1Vv2JeqBbxu2MGX7wUEWRZhyLIpmVEdFiXBAZcVSTTwByQ7n3WvPp4CtXKd6W6S0QP2u6Fd54aAkcSNDaSJaY13RlMQzWmPxBpcf7iCqS7C9DQDw==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=lxXYWT+++xMHKAvy8jyrDZQp58QW3/M3Xl6u4DWKQ10=;
 b=XgSX9grtDHGnkDNyHko/ot0bzdayuAxBggEhIB2oij0Ypb2Aw0e8e28HFpeT6RZ0sbt6KP/Y1+wUY68lUlhhNzyji4Vsu86R8N08KRmrsU6sRvN1qEIxJRJ6edLagbmGkIjgiHhfaR7GvcWdbJD3pTmPVZKJJxaB0AoUg1Epp2dQdgUGW7XTEKBM/VvuUg8wyh0KuqgUZPABN7+7V8St5jPbgZucfKxPWK1Fog4d9huAA7kJC60TZyhMF18g8+5iF2VUetDzkWMnYPSk3o5OXbPNOsuVKRqMvA6slbcK7u9QVnjrTVZdy0LLbSrXZ+9AxbHMt6SVCK7eZyCVTx7hKg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from DM5PR12MB2376.namprd12.prod.outlook.com (52.132.143.139) by
 DM5PR12MB1788.namprd12.prod.outlook.com (10.175.86.147) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2516.14; Thu, 5 Dec 2019 16:11:07 +0000
Received: from DM5PR12MB2376.namprd12.prod.outlook.com
 ([fe80::b8ee:257d:3a23:ae8a]) by DM5PR12MB2376.namprd12.prod.outlook.com
 ([fe80::b8ee:257d:3a23:ae8a%7]) with mapi id 15.20.2516.014; Thu, 5 Dec 2019
 16:11:07 +0000
Subject: Re: [PATCH v3] drm/scheduler: rework entity creation
To: Nirmoy Das <nirmoy.aiemd@gmail.com>, alexander.deucher@amd.com,
 kenny.ho@amd.com, christian.koenig@amd.com
References: <20191205160139.15975-1-nirmoy.das@amd.com>
From: Nirmoy <nirmodas@amd.com>
Message-ID: <fbad74e2-d30d-f68d-2776-85820e797ad6@amd.com>
Date: Thu, 5 Dec 2019 17:11:01 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101
 Thunderbird/68.1.0
In-Reply-To: <20191205160139.15975-1-nirmoy.das@amd.com>
Content-Language: en-US
X-ClientProxiedBy: AM0PR01CA0126.eurprd01.prod.exchangelabs.com
 (2603:10a6:208:168::31) To DM5PR12MB2376.namprd12.prod.outlook.com
 (2603:10b6:4:b9::11)
MIME-Version: 1.0
X-Originating-IP: [2003:c5:8f4c:b00:cd77:8bff:f597:420f]
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-HT: Tenant
X-MS-Office365-Filtering-Correlation-Id: 65980a6b-0e65-41f9-9673-08d7799dbc23
X-MS-TrafficTypeDiagnostic: DM5PR12MB1788:|DM5PR12MB1788:
X-MS-Exchange-Transport-Forked: True
X-Microsoft-Antispam-PRVS: <DM5PR12MB1788D38CACF44355584B732D8B5C0@DM5PR12MB1788.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:6790;
X-Forefront-PRVS: 02426D11FE
X-Forefront-Antispam-Report: SFV:NSPM;
 SFS:(10009020)(4636009)(346002)(366004)(376002)(136003)(39860400002)(396003)(189003)(199004)(6636002)(2906002)(36756003)(65956001)(81156014)(81166006)(6666004)(478600001)(8936002)(6486002)(230700001)(8676002)(316002)(76176011)(14454004)(52116002)(58126008)(31686004)(99286004)(4326008)(229853002)(23676004)(186003)(6512007)(6506007)(53546011)(31696002)(66556008)(11346002)(2616005)(305945005)(25786009)(14444005)(66946007)(66476007)(50466002)(30864003)(5660300002);
 DIR:OUT; SFP:1101; SCL:1; SRVR:DM5PR12MB1788;
 H:DM5PR12MB2376.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: 0G27L0y+fZCyaZk0RQC1ymaj72I0/zDb7yK+W9Jis/aazTRzh1IsHFahtaE1QbrPv3vcwKpGoGyIdJT45SmnOQ9wNSKGVfelf+peF8h55juI4FCYiKR9LaJ/aYAIMt2OVVBHtceapjONAOYqFHmUFIQoYEm0UPpV1cTABMiWmxVyLjHN+gi0hyF5wtFUP5C3Ahl91tkuNV4+YlklZhYayGNGIwSxphw16AryzthmKeTQMNDbcGtLk0bFy/9LNjo6jxSNLqlyju0NUrwlyJBhuFysimUpeGjSTlY+IvQ5S/uKGUcPDb/o3wnFWUKhhMppbEp+S33bLG/I/d1IqlHqofxlV9gI+25eUxu8zROBxaG3oQ7Va0LONWeCi0YLAlGS23+Na2/qEMJNrwVMC2+ImVIGk+ib3mLfLnAXNUVR9YTr4jzbg15cSksNqW0jIh3G
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 65980a6b-0e65-41f9-9673-08d7799dbc23
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 05 Dec 2019 16:11:07.1578 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: YXPftXv7ubS5IE8A0qyqDYcpxjYJdE8fj6m4Fd4zqe3y2WgtSentUks3mGWJv0H0zYopKA4H4YBiQgTiYNUn4g==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM5PR12MB1788
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=lxXYWT+++xMHKAvy8jyrDZQp58QW3/M3Xl6u4DWKQ10=;
 b=4YQyGgSbxEsDl7plIBSDgsyPCTCD+1sqlPVyoK2xP1yANKFNobmOcQmdLx5hkOpScC5f0Dem1cjmWv4zlEQ3YYU8YDJtjGj2a40BJgv0I0muqGGRYKDYJCQCsbd96sBnlr1owSggAD9tnWe+EysUG18uCcwRe0Cb8ifTo68Ue+E=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Nirmoy.Das@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: nirmoy.das@amd.com, amd-gfx@lists.freedesktop.org
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

UGxlYXNlIGlnbm9yZSB0aGlzIG9uZSBhcyBJIGZvcmdvdCB0byBhZGQgdGhlIFJldmlld2VkLWJ5
CgoKUmVnYXJkcywKCk5pcm1veQoKT24gMTIvNS8xOSA1OjAxIFBNLCBOaXJtb3kgRGFzIHdyb3Rl
Ogo+IEVudGl0eSBjdXJyZW50bHkga2VlcHMgYSBjb3B5IG9mIHJ1bl9xdWV1ZSBsaXN0IGFuZCBt
b2RpZnkgaXQgaW4KPiBkcm1fc2NoZWRfZW50aXR5X3NldF9wcmlvcml0eSgpLiBFbnRpdGllcyBz
aG91bGRuJ3QgbW9kaWZ5IHJ1bl9xdWV1ZQo+IGxpc3QuIFVzZSBkcm1fZ3B1X3NjaGVkdWxlciBs
aXN0IGluc3RlYWQgb2YgZHJtX3NjaGVkX3JxIGxpc3QKPiBpbiBkcm1fc2NoZWRfZW50aXR5IHN0
cnVjdC4gSW4gdGhpcyB3YXkgd2UgY2FuIHNlbGVjdCBhIHJ1bnF1ZXVlIGJhc2VkCj4gb24gZW50
aXR5L2N0eCdzIHByaW9yaXR5IGZvciBhICBkcm0gc2NoZWR1bGVyLgo+Cj4gU2lnbmVkLW9mZi1i
eTogTmlybW95IERhcyA8bmlybW95LmRhc0BhbWQuY29tPgo+IC0tLQo+ICAgZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2N0eC5jICB8ICA3ICsrLQo+ICAgZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvYW1kZ3B1X3R0bS5jICB8ICA4ICsrLQo+ICAgZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1X3V2ZC5jICB8ICA3ICsrLQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1X3ZjZS5jICB8ICA3ICsrLQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X3ZtLmMgICB8IDE0ICsrKy0tCj4gICBkcml2ZXJzL2dwdS9kcm0vZXRuYXZpdi9l
dG5hdml2X2Rydi5jICAgIHwgIDcgKystCj4gICBkcml2ZXJzL2dwdS9kcm0vbGltYS9saW1hX3Nj
aGVkLmMgICAgICAgIHwgIDUgKy0KPiAgIGRyaXZlcnMvZ3B1L2RybS9wYW5mcm9zdC9wYW5mcm9z
dF9qb2IuYyAgfCAgOCArKy0KPiAgIGRyaXZlcnMvZ3B1L2RybS9zY2hlZHVsZXIvc2NoZWRfZW50
aXR5LmMgfCA3NCArKysrKysrKysrLS0tLS0tLS0tLS0tLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS92
M2QvdjNkX2Rydi5jICAgICAgICAgICAgfCAgOCArKy0KPiAgIGluY2x1ZGUvZHJtL2dwdV9zY2hl
ZHVsZXIuaCAgICAgICAgICAgICAgfCAgOCArKy0KPiAgIDExIGZpbGVzIGNoYW5nZWQsIDc4IGlu
c2VydGlvbnMoKyksIDc1IGRlbGV0aW9ucygtKQo+Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9jdHguYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2FtZGdwdV9jdHguYwo+IGluZGV4IGEwZDNkN2I3NTZlYi4uMWQ2ODUwYWY5OTA4IDEwMDY0NAo+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9jdHguYwo+ICsrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9jdHguYwo+IEBAIC0xMjIsNyArMTIyLDcg
QEAgc3RhdGljIGludCBhbWRncHVfY3R4X2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYs
Cj4gICAKPiAgIAlmb3IgKGkgPSAwOyBpIDwgQU1ER1BVX0hXX0lQX05VTTsgKytpKSB7Cj4gICAJ
CXN0cnVjdCBhbWRncHVfcmluZyAqcmluZ3NbQU1ER1BVX01BWF9SSU5HU107Cj4gLQkJc3RydWN0
IGRybV9zY2hlZF9ycSAqcnFzW0FNREdQVV9NQVhfUklOR1NdOwo+ICsJCXN0cnVjdCBkcm1fZ3B1
X3NjaGVkdWxlciAqc2NoZWRfbGlzdFtBTURHUFVfTUFYX1JJTkdTXTsKPiAgIAkJdW5zaWduZWQg
bnVtX3JpbmdzID0gMDsKPiAgIAkJdW5zaWduZWQgbnVtX3JxcyA9IDA7Cj4gICAKPiBAQCAtMTgx
LDEyICsxODEsMTMgQEAgc3RhdGljIGludCBhbWRncHVfY3R4X2luaXQoc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYsCj4gICAJCQlpZiAoIXJpbmdzW2pdLT5hZGV2KQo+ICAgCQkJCWNvbnRpbnVl
Owo+ICAgCj4gLQkJCXJxc1tudW1fcnFzKytdID0gJnJpbmdzW2pdLT5zY2hlZC5zY2hlZF9ycVtw
cmlvcml0eV07Cj4gKwkJCXNjaGVkX2xpc3RbbnVtX3JxcysrXSA9ICZyaW5nc1tqXS0+c2NoZWQ7
Cj4gICAJCX0KPiAgIAo+ICAgCQlmb3IgKGogPSAwOyBqIDwgYW1kZ3B1X2N0eF9udW1fZW50aXRp
ZXNbaV07ICsraikKPiAgIAkJCXIgPSBkcm1fc2NoZWRfZW50aXR5X2luaXQoJmN0eC0+ZW50aXRp
ZXNbaV1bal0uZW50aXR5LAo+IC0JCQkJCQkgIHJxcywgbnVtX3JxcywgJmN0eC0+Z3VpbHR5KTsK
PiArCQkJCQkJICBwcmlvcml0eSwgc2NoZWRfbGlzdCwKPiArCQkJCQkJICBudW1fcnFzLCAmY3R4
LT5ndWlsdHkpOwo+ICAgCQlpZiAocikKPiAgIAkJCWdvdG8gZXJyb3JfY2xlYW51cF9lbnRpdGll
czsKPiAgIAl9Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdw
dV90dG0uYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0uYwo+IGluZGV4
IDE5ZmZlMDBkOTA3Mi4uMmI2ZTM1ODkzOTE4IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0uYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2FtZGdwdV90dG0uYwo+IEBAIC0xOTU3LDExICsxOTU3LDEzIEBAIHZvaWQgYW1kZ3B1X3R0
bV9zZXRfYnVmZmVyX2Z1bmNzX3N0YXR1cyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgYm9v
bCBlbmFibGUpCj4gICAKPiAgIAlpZiAoZW5hYmxlKSB7Cj4gICAJCXN0cnVjdCBhbWRncHVfcmlu
ZyAqcmluZzsKPiAtCQlzdHJ1Y3QgZHJtX3NjaGVkX3JxICpycTsKPiArCQlzdHJ1Y3QgZHJtX2dw
dV9zY2hlZHVsZXIgKnNjaGVkOwo+ICAgCj4gICAJCXJpbmcgPSBhZGV2LT5tbWFuLmJ1ZmZlcl9m
dW5jc19yaW5nOwo+IC0JCXJxID0gJnJpbmctPnNjaGVkLnNjaGVkX3JxW0RSTV9TQ0hFRF9QUklP
UklUWV9LRVJORUxdOwo+IC0JCXIgPSBkcm1fc2NoZWRfZW50aXR5X2luaXQoJmFkZXYtPm1tYW4u
ZW50aXR5LCAmcnEsIDEsIE5VTEwpOwo+ICsJCXNjaGVkID0gJnJpbmctPnNjaGVkOwo+ICsJCXIg
PSBkcm1fc2NoZWRfZW50aXR5X2luaXQoJmFkZXYtPm1tYW4uZW50aXR5LAo+ICsJCQkJICAgICAg
ICAgIERSTV9TQ0hFRF9QUklPUklUWV9LRVJORUwsICZzY2hlZCwKPiArCQkJCQkgIDEsIE5VTEwp
Owo+ICAgCQlpZiAocikgewo+ICAgCQkJRFJNX0VSUk9SKCJGYWlsZWQgc2V0dGluZyB1cCBUVE0g
Qk8gbW92ZSBlbnRpdHkgKCVkKVxuIiwKPiAgIAkJCQkgIHIpOwo+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdXZkLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9hbWRncHVfdXZkLmMKPiBpbmRleCBlMzI0YmZlNmM1OGYuLmExYTExMGY1NTEzZCAx
MDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdXZkLmMKPiAr
KysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdXZkLmMKPiBAQCAtMzMwLDEy
ICszMzAsMTMgQEAgaW50IGFtZGdwdV91dmRfc3dfZmluaShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldikKPiAgIGludCBhbWRncHVfdXZkX2VudGl0eV9pbml0KHN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2KQo+ICAgewo+ICAgCXN0cnVjdCBhbWRncHVfcmluZyAqcmluZzsKPiAtCXN0cnVjdCBk
cm1fc2NoZWRfcnEgKnJxOwo+ICsJc3RydWN0IGRybV9ncHVfc2NoZWR1bGVyICpzY2hlZDsKPiAg
IAlpbnQgcjsKPiAgIAo+ICAgCXJpbmcgPSAmYWRldi0+dXZkLmluc3RbMF0ucmluZzsKPiAtCXJx
ID0gJnJpbmctPnNjaGVkLnNjaGVkX3JxW0RSTV9TQ0hFRF9QUklPUklUWV9OT1JNQUxdOwo+IC0J
ciA9IGRybV9zY2hlZF9lbnRpdHlfaW5pdCgmYWRldi0+dXZkLmVudGl0eSwgJnJxLCAxLCBOVUxM
KTsKPiArCXNjaGVkID0gJnJpbmctPnNjaGVkOwo+ICsJciA9IGRybV9zY2hlZF9lbnRpdHlfaW5p
dCgmYWRldi0+dXZkLmVudGl0eSwgRFJNX1NDSEVEX1BSSU9SSVRZX05PUk1BTCwKPiArCQkJCSAg
JnNjaGVkLCAxLCBOVUxMKTsKPiAgIAlpZiAocikgewo+ICAgCQlEUk1fRVJST1IoIkZhaWxlZCBz
ZXR0aW5nIHVwIFVWRCBrZXJuZWwgZW50aXR5LlxuIik7Cj4gICAJCXJldHVybiByOwo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdmNlLmMgYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdmNlLmMKPiBpbmRleCA0NmI1OTBhZjJmZDIuLmNl
YjBkYmY2ODVmMSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRn
cHVfdmNlLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdmNlLmMK
PiBAQCAtMjQwLDEyICsyNDAsMTMgQEAgaW50IGFtZGdwdV92Y2Vfc3dfZmluaShzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldikKPiAgIGludCBhbWRncHVfdmNlX2VudGl0eV9pbml0KHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2KQo+ICAgewo+ICAgCXN0cnVjdCBhbWRncHVfcmluZyAqcmluZzsK
PiAtCXN0cnVjdCBkcm1fc2NoZWRfcnEgKnJxOwo+ICsJc3RydWN0IGRybV9ncHVfc2NoZWR1bGVy
ICpzY2hlZDsKPiAgIAlpbnQgcjsKPiAgIAo+ICAgCXJpbmcgPSAmYWRldi0+dmNlLnJpbmdbMF07
Cj4gLQlycSA9ICZyaW5nLT5zY2hlZC5zY2hlZF9ycVtEUk1fU0NIRURfUFJJT1JJVFlfTk9STUFM
XTsKPiAtCXIgPSBkcm1fc2NoZWRfZW50aXR5X2luaXQoJmFkZXYtPnZjZS5lbnRpdHksICZycSwg
MSwgTlVMTCk7Cj4gKwlzY2hlZCA9ICZyaW5nLT5zY2hlZDsKPiArCXIgPSBkcm1fc2NoZWRfZW50
aXR5X2luaXQoJmFkZXYtPnZjZS5lbnRpdHksIERSTV9TQ0hFRF9QUklPUklUWV9OT1JNQUwsCj4g
KwkJCQkgICZzY2hlZCwgMSwgTlVMTCk7Cj4gICAJaWYgKHIgIT0gMCkgewo+ICAgCQlEUk1fRVJS
T1IoIkZhaWxlZCBzZXR0aW5nIHVwIFZDRSBydW4gcXVldWUuXG4iKTsKPiAgIAkJcmV0dXJuIHI7
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92bS5jIGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtLmMKPiBpbmRleCBhOTRjNGZhYTVh
ZjEuLjVlNzhkYjMwYzcyMiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9hbWRncHVfdm0uYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92
bS5jCj4gQEAgLTI2ODcsNiArMjY4Nyw3IEBAIGludCBhbWRncHVfdm1faW5pdChzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldiwgc3RydWN0IGFtZGdwdV92bSAqdm0sCj4gICB7Cj4gICAJc3RydWN0
IGFtZGdwdV9ib19wYXJhbSBicDsKPiAgIAlzdHJ1Y3QgYW1kZ3B1X2JvICpyb290Owo+ICsJc3Ry
dWN0IGRybV9ncHVfc2NoZWR1bGVyICpzY2hlZF9saXN0W0FNREdQVV9NQVhfUklOR1NdOwo+ICAg
CWludCByLCBpOwo+ICAgCj4gICAJdm0tPnZhID0gUkJfUk9PVF9DQUNIRUQ7Cj4gQEAgLTI3MDAs
MTQgKzI3MDEsMTkgQEAgaW50IGFtZGdwdV92bV9pbml0KHN0cnVjdCBhbWRncHVfZGV2aWNlICph
ZGV2LCBzdHJ1Y3QgYW1kZ3B1X3ZtICp2bSwKPiAgIAlzcGluX2xvY2tfaW5pdCgmdm0tPmludmFs
aWRhdGVkX2xvY2spOwo+ICAgCUlOSVRfTElTVF9IRUFEKCZ2bS0+ZnJlZWQpOwo+ICAgCj4gKwlm
b3IgKGkgPSAwOyBpIDwgYWRldi0+dm1fbWFuYWdlci52bV9wdGVfbnVtX3JxczsgaSsrKQo+ICsJ
CXNjaGVkX2xpc3RbaV0gPSBhZGV2LT52bV9tYW5hZ2VyLnZtX3B0ZV9ycXNbaV0tPnNjaGVkOwo+
ICsKPiAgIAkvKiBjcmVhdGUgc2NoZWR1bGVyIGVudGl0aWVzIGZvciBwYWdlIHRhYmxlIHVwZGF0
ZXMgKi8KPiAtCXIgPSBkcm1fc2NoZWRfZW50aXR5X2luaXQoJnZtLT5kaXJlY3QsIGFkZXYtPnZt
X21hbmFnZXIudm1fcHRlX3JxcywKPiAtCQkJCSAgYWRldi0+dm1fbWFuYWdlci52bV9wdGVfbnVt
X3JxcywgTlVMTCk7Cj4gKwlyID0gZHJtX3NjaGVkX2VudGl0eV9pbml0KCZ2bS0+ZGlyZWN0LCBE
Uk1fU0NIRURfUFJJT1JJVFlfTk9STUFMLAo+ICsJCQkJICBzY2hlZF9saXN0LCBhZGV2LT52bV9t
YW5hZ2VyLnZtX3B0ZV9udW1fcnFzLAo+ICsJCQkJICBOVUxMKTsKPiAgIAlpZiAocikKPiAgIAkJ
cmV0dXJuIHI7Cj4gICAKPiAtCXIgPSBkcm1fc2NoZWRfZW50aXR5X2luaXQoJnZtLT5kZWxheWVk
LCBhZGV2LT52bV9tYW5hZ2VyLnZtX3B0ZV9ycXMsCj4gLQkJCQkgIGFkZXYtPnZtX21hbmFnZXIu
dm1fcHRlX251bV9ycXMsIE5VTEwpOwo+ICsJciA9IGRybV9zY2hlZF9lbnRpdHlfaW5pdCgmdm0t
PmRlbGF5ZWQsIERSTV9TQ0hFRF9QUklPUklUWV9OT1JNQUwsCj4gKwkJCQkgIHNjaGVkX2xpc3Qs
IGFkZXYtPnZtX21hbmFnZXIudm1fcHRlX251bV9ycXMsCj4gKwkJCQkgIE5VTEwpOwo+ICAgCWlm
IChyKQo+ICAgCQlnb3RvIGVycm9yX2ZyZWVfZGlyZWN0Owo+ICAgCj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9ldG5hdml2L2V0bmF2aXZfZHJ2LmMgYi9kcml2ZXJzL2dwdS9kcm0vZXRu
YXZpdi9ldG5hdml2X2Rydi5jCj4gaW5kZXggMWY5YzAxYmU0MGQ3Li43NmVjZGY4YmQzMWMgMTAw
NjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2V0bmF2aXYvZXRuYXZpdl9kcnYuYwo+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9ldG5hdml2L2V0bmF2aXZfZHJ2LmMKPiBAQCAtNjUsMTIgKzY1LDEz
IEBAIHN0YXRpYyBpbnQgZXRuYXZpdl9vcGVuKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIHN0cnVj
dCBkcm1fZmlsZSAqZmlsZSkKPiAgIAo+ICAgCWZvciAoaSA9IDA7IGkgPCBFVE5BX01BWF9QSVBF
UzsgaSsrKSB7Cj4gICAJCXN0cnVjdCBldG5hdml2X2dwdSAqZ3B1ID0gcHJpdi0+Z3B1W2ldOwo+
IC0JCXN0cnVjdCBkcm1fc2NoZWRfcnEgKnJxOwo+ICsJCXN0cnVjdCBkcm1fZ3B1X3NjaGVkdWxl
ciAqc2NoZWQ7Cj4gICAKPiAgIAkJaWYgKGdwdSkgewo+IC0JCQlycSA9ICZncHUtPnNjaGVkLnNj
aGVkX3JxW0RSTV9TQ0hFRF9QUklPUklUWV9OT1JNQUxdOwo+ICsJCQlzY2hlZCA9ICZncHUtPnNj
aGVkOwo+ICAgCQkJZHJtX3NjaGVkX2VudGl0eV9pbml0KCZjdHgtPnNjaGVkX2VudGl0eVtpXSwK
PiAtCQkJCQkgICAgICAmcnEsIDEsIE5VTEwpOwo+ICsJCQkJCSAgICAgIERSTV9TQ0hFRF9QUklP
UklUWV9OT1JNQUwsICZzY2hlZCwKPiArCQkJCQkgICAgICAxLCBOVUxMKTsKPiAgIAkJCX0KPiAg
IAl9Cj4gICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2xpbWEvbGltYV9zY2hlZC5j
IGIvZHJpdmVycy9ncHUvZHJtL2xpbWEvbGltYV9zY2hlZC5jCj4gaW5kZXggZjUyMmM1Zjk5NzI5
Li5mYzgzNjJlNDE0OWIgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2xpbWEvbGltYV9z
Y2hlZC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2xpbWEvbGltYV9zY2hlZC5jCj4gQEAgLTE1
OSw5ICsxNTksMTAgQEAgaW50IGxpbWFfc2NoZWRfY29udGV4dF9pbml0KHN0cnVjdCBsaW1hX3Nj
aGVkX3BpcGUgKnBpcGUsCj4gICAJCQkgICAgc3RydWN0IGxpbWFfc2NoZWRfY29udGV4dCAqY29u
dGV4dCwKPiAgIAkJCSAgICBhdG9taWNfdCAqZ3VpbHR5KQo+ICAgewo+IC0Jc3RydWN0IGRybV9z
Y2hlZF9ycSAqcnEgPSBwaXBlLT5iYXNlLnNjaGVkX3JxICsgRFJNX1NDSEVEX1BSSU9SSVRZX05P
Uk1BTDsKPiArCXN0cnVjdCBkcm1fZ3B1X3NjaGVkdWxlciAqc2NoZWQgPSAmcGlwZS0+YmFzZTsK
PiAgIAo+IC0JcmV0dXJuIGRybV9zY2hlZF9lbnRpdHlfaW5pdCgmY29udGV4dC0+YmFzZSwgJnJx
LCAxLCBndWlsdHkpOwo+ICsJcmV0dXJuIGRybV9zY2hlZF9lbnRpdHlfaW5pdCgmY29udGV4dC0+
YmFzZSwgRFJNX1NDSEVEX1BSSU9SSVRZX05PUk1BTCwKPiArCQkJCSAgICAgJnNjaGVkLCAxLCBn
dWlsdHkpOwo+ICAgfQo+ICAgCj4gICB2b2lkIGxpbWFfc2NoZWRfY29udGV4dF9maW5pKHN0cnVj
dCBsaW1hX3NjaGVkX3BpcGUgKnBpcGUsCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9w
YW5mcm9zdC9wYW5mcm9zdF9qb2IuYyBiL2RyaXZlcnMvZ3B1L2RybS9wYW5mcm9zdC9wYW5mcm9z
dF9qb2IuYwo+IGluZGV4IGQ0MTFlYjZjOGViOS4uNGY5YWU1YTEyMDkwIDEwMDY0NAo+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9wYW5mcm9zdC9wYW5mcm9zdF9qb2IuYwo+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9wYW5mcm9zdC9wYW5mcm9zdF9qb2IuYwo+IEBAIC01NDIsMTIgKzU0MiwxNCBAQCBp
bnQgcGFuZnJvc3Rfam9iX29wZW4oc3RydWN0IHBhbmZyb3N0X2ZpbGVfcHJpdiAqcGFuZnJvc3Rf
cHJpdikKPiAgIHsKPiAgIAlzdHJ1Y3QgcGFuZnJvc3RfZGV2aWNlICpwZmRldiA9IHBhbmZyb3N0
X3ByaXYtPnBmZGV2Owo+ICAgCXN0cnVjdCBwYW5mcm9zdF9qb2Jfc2xvdCAqanMgPSBwZmRldi0+
anM7Cj4gLQlzdHJ1Y3QgZHJtX3NjaGVkX3JxICpycTsKPiArCXN0cnVjdCBkcm1fZ3B1X3NjaGVk
dWxlciAqc2NoZWQ7Cj4gICAJaW50IHJldCwgaTsKPiAgIAo+ICAgCWZvciAoaSA9IDA7IGkgPCBO
VU1fSk9CX1NMT1RTOyBpKyspIHsKPiAtCQlycSA9ICZqcy0+cXVldWVbaV0uc2NoZWQuc2NoZWRf
cnFbRFJNX1NDSEVEX1BSSU9SSVRZX05PUk1BTF07Cj4gLQkJcmV0ID0gZHJtX3NjaGVkX2VudGl0
eV9pbml0KCZwYW5mcm9zdF9wcml2LT5zY2hlZF9lbnRpdHlbaV0sICZycSwgMSwgTlVMTCk7Cj4g
KwkJc2NoZWQgPSAmanMtPnF1ZXVlW2ldLnNjaGVkOwo+ICsJCXJldCA9IGRybV9zY2hlZF9lbnRp
dHlfaW5pdCgmcGFuZnJvc3RfcHJpdi0+c2NoZWRfZW50aXR5W2ldLAo+ICsJCQkJCSAgICBEUk1f
U0NIRURfUFJJT1JJVFlfTk9STUFMLCAmc2NoZWQsCj4gKwkJCQkJICAgIDEsIE5VTEwsIERSTV9T
Q0hFRF9QUklPUklUWV9OT1JNQUwpOwo+ICAgCQlpZiAoV0FSTl9PTihyZXQpKQo+ICAgCQkJcmV0
dXJuIHJldDsKPiAgIAl9Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9zY2hlZHVsZXIv
c2NoZWRfZW50aXR5LmMgYi9kcml2ZXJzL2dwdS9kcm0vc2NoZWR1bGVyL3NjaGVkX2VudGl0eS5j
Cj4gaW5kZXggNDYxYTdhODEyOWY0Li5mOWI2Y2UyOWM1OGYgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL3NjaGVkdWxlci9zY2hlZF9lbnRpdHkuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9zY2hlZHVsZXIvc2NoZWRfZW50aXR5LmMKPiBAQCAtMzgsOSArMzgsMTAgQEAKPiAgICAqIHN1
Ym1pdCB0byBIVyByaW5nLgo+ICAgICoKPiAgICAqIEBlbnRpdHk6IHNjaGVkdWxlciBlbnRpdHkg
dG8gaW5pdAo+IC0gKiBAcnFfbGlzdDogdGhlIGxpc3Qgb2YgcnVuIHF1ZXVlIG9uIHdoaWNoIGpv
YnMgZnJvbSB0aGlzCj4gKyAqIEBwcmlvcml0eTogcHJpb3JpdHkgb2YgdGhlIGVudGl0eQo+ICsg
KiBAc2NoZWRfbGlzdDogdGhlIGxpc3Qgb2YgZHJtIHNjaGVkcyBvbiB3aGljaCBqb2JzIGZyb20g
dGhpcwo+ICAgICogICAgICAgICAgIGVudGl0eSBjYW4gYmUgc3VibWl0dGVkCj4gLSAqIEBudW1f
cnFfbGlzdDogbnVtYmVyIG9mIHJ1biBxdWV1ZSBpbiBycV9saXN0Cj4gKyAqIEBudW1fc2NoZWRf
bGlzdDogbnVtYmVyIG9mIGRybSBzY2hlZCBpbiBzY2hlZF9saXN0Cj4gICAgKiBAZ3VpbHR5OiBh
dG9taWNfdCBzZXQgdG8gMSB3aGVuIGEgam9iIG9uIHRoaXMgcXVldWUKPiAgICAqICAgICAgICAg
IGlzIGZvdW5kIHRvIGJlIGd1aWx0eSBjYXVzaW5nIGEgdGltZW91dAo+ICAgICoKPiBAQCAtNTAs
MzIgKzUxLDM1IEBACj4gICAgKiBSZXR1cm5zIDAgb24gc3VjY2VzcyBvciBhIG5lZ2F0aXZlIGVy
cm9yIGNvZGUgb24gZmFpbHVyZS4KPiAgICAqLwo+ICAgaW50IGRybV9zY2hlZF9lbnRpdHlfaW5p
dChzdHJ1Y3QgZHJtX3NjaGVkX2VudGl0eSAqZW50aXR5LAo+IC0JCQkgIHN0cnVjdCBkcm1fc2No
ZWRfcnEgKipycV9saXN0LAo+IC0JCQkgIHVuc2lnbmVkIGludCBudW1fcnFfbGlzdCwKPiArCQkJ
ICBlbnVtIGRybV9zY2hlZF9wcmlvcml0eSBwcmlvcml0eSwKPiArCQkJICBzdHJ1Y3QgZHJtX2dw
dV9zY2hlZHVsZXIgKipzY2hlZF9saXN0LAo+ICsJCQkgIHVuc2lnbmVkIGludCBudW1fc2NoZWRf
bGlzdCwKPiAgIAkJCSAgYXRvbWljX3QgKmd1aWx0eSkKPiAgIHsKPiAgIAlpbnQgaTsKPiAgIAo+
IC0JaWYgKCEoZW50aXR5ICYmIHJxX2xpc3QgJiYgKG51bV9ycV9saXN0ID09IDAgfHwgcnFfbGlz
dFswXSkpKQo+ICsJaWYgKCEoZW50aXR5ICYmIHNjaGVkX2xpc3QgJiYgKG51bV9zY2hlZF9saXN0
ID09IDAgfHwgc2NoZWRfbGlzdFswXSkpKQo+ICAgCQlyZXR1cm4gLUVJTlZBTDsKPiAgIAo+ICAg
CW1lbXNldChlbnRpdHksIDAsIHNpemVvZihzdHJ1Y3QgZHJtX3NjaGVkX2VudGl0eSkpOwo+ICAg
CUlOSVRfTElTVF9IRUFEKCZlbnRpdHktPmxpc3QpOwo+ICAgCWVudGl0eS0+cnEgPSBOVUxMOwo+
ICAgCWVudGl0eS0+Z3VpbHR5ID0gZ3VpbHR5Owo+IC0JZW50aXR5LT5udW1fcnFfbGlzdCA9IG51
bV9ycV9saXN0Owo+IC0JZW50aXR5LT5ycV9saXN0ID0ga2NhbGxvYyhudW1fcnFfbGlzdCwgc2l6
ZW9mKHN0cnVjdCBkcm1fc2NoZWRfcnEgKiksCj4gLQkJCQlHRlBfS0VSTkVMKTsKPiAtCWlmICgh
ZW50aXR5LT5ycV9saXN0KQo+ICsJZW50aXR5LT5udW1fc2NoZWRfbGlzdCA9IG51bV9zY2hlZF9s
aXN0Owo+ICsJZW50aXR5LT5wcmlvcml0eSA9IHByaW9yaXR5Owo+ICsJZW50aXR5LT5zY2hlZF9s
aXN0ID0gIGtjYWxsb2MobnVtX3NjaGVkX2xpc3QsCj4gKwkJCQkgICAgICBzaXplb2Yoc3RydWN0
IGRybV9ncHVfc2NoZWR1bGVyICopLCBHRlBfS0VSTkVMKTsKPiArCj4gKwlpZighZW50aXR5LT5z
Y2hlZF9saXN0KQo+ICAgCQlyZXR1cm4gLUVOT01FTTsKPiAgIAo+ICAgCWluaXRfY29tcGxldGlv
bigmZW50aXR5LT5lbnRpdHlfaWRsZSk7Cj4gICAKPiAtCWZvciAoaSA9IDA7IGkgPCBudW1fcnFf
bGlzdDsgKytpKQo+IC0JCWVudGl0eS0+cnFfbGlzdFtpXSA9IHJxX2xpc3RbaV07Cj4gKwlmb3Ig
KGkgPSAwOyBpIDwgbnVtX3NjaGVkX2xpc3Q7IGkrKykKPiArCQllbnRpdHktPnNjaGVkX2xpc3Rb
aV0gPSBzY2hlZF9saXN0W2ldOwo+ICAgCj4gLQlpZiAobnVtX3JxX2xpc3QpCj4gLQkJZW50aXR5
LT5ycSA9IHJxX2xpc3RbMF07Cj4gKwlpZiAobnVtX3NjaGVkX2xpc3QpCj4gKwkJZW50aXR5LT5y
cSA9ICZlbnRpdHktPnNjaGVkX2xpc3RbMF0tPnNjaGVkX3JxW2VudGl0eS0+cHJpb3JpdHldOwo+
ICAgCj4gICAJZW50aXR5LT5sYXN0X3NjaGVkdWxlZCA9IE5VTEw7Cj4gICAKPiBAQCAtMTM5LDEw
ICsxNDMsMTAgQEAgZHJtX3NjaGVkX2VudGl0eV9nZXRfZnJlZV9zY2hlZChzdHJ1Y3QgZHJtX3Nj
aGVkX2VudGl0eSAqZW50aXR5KQo+ICAgCXVuc2lnbmVkIGludCBtaW5fam9icyA9IFVJTlRfTUFY
LCBudW1fam9iczsKPiAgIAlpbnQgaTsKPiAgIAo+IC0JZm9yIChpID0gMDsgaSA8IGVudGl0eS0+
bnVtX3JxX2xpc3Q7ICsraSkgewo+IC0JCXN0cnVjdCBkcm1fZ3B1X3NjaGVkdWxlciAqc2NoZWQg
PSBlbnRpdHktPnJxX2xpc3RbaV0tPnNjaGVkOwo+ICsJZm9yIChpID0gMDsgaSA8IGVudGl0eS0+
bnVtX3NjaGVkX2xpc3Q7ICsraSkgewo+ICsJCXN0cnVjdCBkcm1fZ3B1X3NjaGVkdWxlciAqc2No
ZWQgPSBlbnRpdHktPnNjaGVkX2xpc3RbaV07Cj4gICAKPiAtCQlpZiAoIWVudGl0eS0+cnFfbGlz
dFtpXS0+c2NoZWQtPnJlYWR5KSB7Cj4gKwkJaWYgKCFlbnRpdHktPnNjaGVkX2xpc3RbaV0tPnJl
YWR5KSB7Cj4gICAJCQlEUk1fV0FSTigic2NoZWQlcyBpcyBub3QgcmVhZHksIHNraXBwaW5nIiwg
c2NoZWQtPm5hbWUpOwo+ICAgCQkJY29udGludWU7Cj4gICAJCX0KPiBAQCAtMTUwLDcgKzE1NCw3
IEBAIGRybV9zY2hlZF9lbnRpdHlfZ2V0X2ZyZWVfc2NoZWQoc3RydWN0IGRybV9zY2hlZF9lbnRp
dHkgKmVudGl0eSkKPiAgIAkJbnVtX2pvYnMgPSBhdG9taWNfcmVhZCgmc2NoZWQtPm51bV9qb2Jz
KTsKPiAgIAkJaWYgKG51bV9qb2JzIDwgbWluX2pvYnMpIHsKPiAgIAkJCW1pbl9qb2JzID0gbnVt
X2pvYnM7Cj4gLQkJCXJxID0gZW50aXR5LT5ycV9saXN0W2ldOwo+ICsJCQlycSA9ICZlbnRpdHkt
PnNjaGVkX2xpc3RbaV0tPnNjaGVkX3JxW2VudGl0eS0+cHJpb3JpdHldOwo+ICAgCQl9Cj4gICAJ
fQo+ICAgCj4gQEAgLTMwOCw3ICszMTIsNyBAQCB2b2lkIGRybV9zY2hlZF9lbnRpdHlfZmluaShz
dHJ1Y3QgZHJtX3NjaGVkX2VudGl0eSAqZW50aXR5KQo+ICAgCj4gICAJZG1hX2ZlbmNlX3B1dChl
bnRpdHktPmxhc3Rfc2NoZWR1bGVkKTsKPiAgIAllbnRpdHktPmxhc3Rfc2NoZWR1bGVkID0gTlVM
TDsKPiAtCWtmcmVlKGVudGl0eS0+cnFfbGlzdCk7Cj4gKwlrZnJlZShlbnRpdHktPnNjaGVkX2xp
c3QpOwo+ICAgfQo+ICAgRVhQT1JUX1NZTUJPTChkcm1fc2NoZWRfZW50aXR5X2ZpbmkpOwo+ICAg
Cj4gQEAgLTM1MywxNSArMzU3LDYgQEAgc3RhdGljIHZvaWQgZHJtX3NjaGVkX2VudGl0eV93YWtl
dXAoc3RydWN0IGRtYV9mZW5jZSAqZiwKPiAgIAlkcm1fc2NoZWRfd2FrZXVwKGVudGl0eS0+cnEt
PnNjaGVkKTsKPiAgIH0KPiAgIAo+IC0vKioKPiAtICogZHJtX3NjaGVkX2VudGl0eV9zZXRfcnFf
cHJpb3JpdHkgLSBoZWxwZXIgZm9yIGRybV9zY2hlZF9lbnRpdHlfc2V0X3ByaW9yaXR5Cj4gLSAq
Lwo+IC1zdGF0aWMgdm9pZCBkcm1fc2NoZWRfZW50aXR5X3NldF9ycV9wcmlvcml0eShzdHJ1Y3Qg
ZHJtX3NjaGVkX3JxICoqcnEsCj4gLQkJCQkJICAgICBlbnVtIGRybV9zY2hlZF9wcmlvcml0eSBw
cmlvcml0eSkKPiAtewo+IC0JKnJxID0gJigqcnEpLT5zY2hlZC0+c2NoZWRfcnFbcHJpb3JpdHld
Owo+IC19Cj4gLQo+ICAgLyoqCj4gICAgKiBkcm1fc2NoZWRfZW50aXR5X3NldF9wcmlvcml0eSAt
IFNldHMgcHJpb3JpdHkgb2YgdGhlIGVudGl0eQo+ICAgICoKPiBAQCAtMzczLDE5ICszNjgsOCBA
QCBzdGF0aWMgdm9pZCBkcm1fc2NoZWRfZW50aXR5X3NldF9ycV9wcmlvcml0eShzdHJ1Y3QgZHJt
X3NjaGVkX3JxICoqcnEsCj4gICB2b2lkIGRybV9zY2hlZF9lbnRpdHlfc2V0X3ByaW9yaXR5KHN0
cnVjdCBkcm1fc2NoZWRfZW50aXR5ICplbnRpdHksCj4gICAJCQkJICAgZW51bSBkcm1fc2NoZWRf
cHJpb3JpdHkgcHJpb3JpdHkpCj4gICB7Cj4gLQl1bnNpZ25lZCBpbnQgaTsKPiAtCj4gICAJc3Bp
bl9sb2NrKCZlbnRpdHktPnJxX2xvY2spOwo+IC0KPiAtCWZvciAoaSA9IDA7IGkgPCBlbnRpdHkt
Pm51bV9ycV9saXN0OyArK2kpCj4gLQkJZHJtX3NjaGVkX2VudGl0eV9zZXRfcnFfcHJpb3JpdHko
JmVudGl0eS0+cnFfbGlzdFtpXSwgcHJpb3JpdHkpOwo+IC0KPiAtCWlmIChlbnRpdHktPnJxKSB7
Cj4gLQkJZHJtX3NjaGVkX3JxX3JlbW92ZV9lbnRpdHkoZW50aXR5LT5ycSwgZW50aXR5KTsKPiAt
CQlkcm1fc2NoZWRfZW50aXR5X3NldF9ycV9wcmlvcml0eSgmZW50aXR5LT5ycSwgcHJpb3JpdHkp
Owo+IC0JCWRybV9zY2hlZF9ycV9hZGRfZW50aXR5KGVudGl0eS0+cnEsIGVudGl0eSk7Cj4gLQl9
Cj4gLQo+ICsJZW50aXR5LT5wcmlvcml0eSA9IHByaW9yaXR5Owo+ICAgCXNwaW5fdW5sb2NrKCZl
bnRpdHktPnJxX2xvY2spOwo+ICAgfQo+ICAgRVhQT1JUX1NZTUJPTChkcm1fc2NoZWRfZW50aXR5
X3NldF9wcmlvcml0eSk7Cj4gQEAgLTQ5MCwyMCArNDc0LDIwIEBAIHZvaWQgZHJtX3NjaGVkX2Vu
dGl0eV9zZWxlY3RfcnEoc3RydWN0IGRybV9zY2hlZF9lbnRpdHkgKmVudGl0eSkKPiAgIAlzdHJ1
Y3QgZG1hX2ZlbmNlICpmZW5jZTsKPiAgIAlzdHJ1Y3QgZHJtX3NjaGVkX3JxICpycTsKPiAgIAo+
IC0JaWYgKHNwc2NfcXVldWVfY291bnQoJmVudGl0eS0+am9iX3F1ZXVlKSB8fCBlbnRpdHktPm51
bV9ycV9saXN0IDw9IDEpCj4gKwlpZiAoc3BzY19xdWV1ZV9jb3VudCgmZW50aXR5LT5qb2JfcXVl
dWUpIHx8IGVudGl0eS0+bnVtX3NjaGVkX2xpc3QgPD0gMSkKPiAgIAkJcmV0dXJuOwo+ICAgCj4g
ICAJZmVuY2UgPSBSRUFEX09OQ0UoZW50aXR5LT5sYXN0X3NjaGVkdWxlZCk7Cj4gICAJaWYgKGZl
bmNlICYmICFkbWFfZmVuY2VfaXNfc2lnbmFsZWQoZmVuY2UpKQo+ICAgCQlyZXR1cm47Cj4gICAK
PiArCXNwaW5fbG9jaygmZW50aXR5LT5ycV9sb2NrKTsKPiAgIAlycSA9IGRybV9zY2hlZF9lbnRp
dHlfZ2V0X2ZyZWVfc2NoZWQoZW50aXR5KTsKPiAtCWlmIChycSA9PSBlbnRpdHktPnJxKQo+IC0J
CXJldHVybjsKPiArCWlmIChycSAhPSBlbnRpdHktPnJxKSB7Cj4gKwkJZHJtX3NjaGVkX3JxX3Jl
bW92ZV9lbnRpdHkoZW50aXR5LT5ycSwgZW50aXR5KTsKPiArCQllbnRpdHktPnJxID0gcnE7Cj4g
Kwl9Cj4gICAKPiAtCXNwaW5fbG9jaygmZW50aXR5LT5ycV9sb2NrKTsKPiAtCWRybV9zY2hlZF9y
cV9yZW1vdmVfZW50aXR5KGVudGl0eS0+cnEsIGVudGl0eSk7Cj4gLQllbnRpdHktPnJxID0gcnE7
Cj4gICAJc3Bpbl91bmxvY2soJmVudGl0eS0+cnFfbG9jayk7Cj4gICB9Cj4gICAKPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL3YzZC92M2RfZHJ2LmMgYi9kcml2ZXJzL2dwdS9kcm0vdjNk
L3YzZF9kcnYuYwo+IGluZGV4IDFhMDc0NjJiNDUyOC4uZWFhOGU5NjgyMzczIDEwMDY0NAo+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS92M2QvdjNkX2Rydi5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L3YzZC92M2RfZHJ2LmMKPiBAQCAtMTQwLDcgKzE0MCw3IEBAIHYzZF9vcGVuKHN0cnVjdCBkcm1f
ZGV2aWNlICpkZXYsIHN0cnVjdCBkcm1fZmlsZSAqZmlsZSkKPiAgIHsKPiAgIAlzdHJ1Y3QgdjNk
X2RldiAqdjNkID0gdG9fdjNkX2RldihkZXYpOwo+ICAgCXN0cnVjdCB2M2RfZmlsZV9wcml2ICp2
M2RfcHJpdjsKPiAtCXN0cnVjdCBkcm1fc2NoZWRfcnEgKnJxOwo+ICsJc3RydWN0IGRybV9ncHVf
c2NoZWR1bGVyICpzY2hlZDsKPiAgIAlpbnQgaTsKPiAgIAo+ICAgCXYzZF9wcml2ID0ga3phbGxv
YyhzaXplb2YoKnYzZF9wcml2KSwgR0ZQX0tFUk5FTCk7Cj4gQEAgLTE1MCw4ICsxNTAsMTAgQEAg
djNkX29wZW4oc3RydWN0IGRybV9kZXZpY2UgKmRldiwgc3RydWN0IGRybV9maWxlICpmaWxlKQo+
ICAgCXYzZF9wcml2LT52M2QgPSB2M2Q7Cj4gICAKPiAgIAlmb3IgKGkgPSAwOyBpIDwgVjNEX01B
WF9RVUVVRVM7IGkrKykgewo+IC0JCXJxID0gJnYzZC0+cXVldWVbaV0uc2NoZWQuc2NoZWRfcnFb
RFJNX1NDSEVEX1BSSU9SSVRZX05PUk1BTF07Cj4gLQkJZHJtX3NjaGVkX2VudGl0eV9pbml0KCZ2
M2RfcHJpdi0+c2NoZWRfZW50aXR5W2ldLCAmcnEsIDEsIE5VTEwpOwo+ICsJCXNjaGVkID0gJnYz
ZC0+cXVldWVbaV0uc2NoZWQ7Cj4gKwkJZHJtX3NjaGVkX2VudGl0eV9pbml0KCZ2M2RfcHJpdi0+
c2NoZWRfZW50aXR5W2ldLAo+ICsJCQkJICAgICAgRFJNX1NDSEVEX1BSSU9SSVRZX05PUk1BTCwg
JnNjaGVkLAo+ICsJCQkJICAgICAgMSwgTlVMTCk7Cj4gICAJfQo+ICAgCj4gICAJZmlsZS0+ZHJp
dmVyX3ByaXYgPSB2M2RfcHJpdjsKPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9kcm0vZ3B1X3NjaGVk
dWxlci5oIGIvaW5jbHVkZS9kcm0vZ3B1X3NjaGVkdWxlci5oCj4gaW5kZXggNjg0NjkyYThlZDc2
Li45NmExYTFiNzUyNmUgMTAwNjQ0Cj4gLS0tIGEvaW5jbHVkZS9kcm0vZ3B1X3NjaGVkdWxlci5o
Cj4gKysrIGIvaW5jbHVkZS9kcm0vZ3B1X3NjaGVkdWxlci5oCj4gQEAgLTgxLDggKzgxLDkgQEAg
ZW51bSBkcm1fc2NoZWRfcHJpb3JpdHkgewo+ICAgc3RydWN0IGRybV9zY2hlZF9lbnRpdHkgewo+
ICAgCXN0cnVjdCBsaXN0X2hlYWQJCWxpc3Q7Cj4gICAJc3RydWN0IGRybV9zY2hlZF9ycQkJKnJx
Owo+IC0Jc3RydWN0IGRybV9zY2hlZF9ycQkJKipycV9saXN0Owo+IC0JdW5zaWduZWQgaW50ICAg
ICAgICAgICAgICAgICAgICBudW1fcnFfbGlzdDsKPiArCXVuc2lnbmVkIGludCAgICAgICAgICAg
ICAgICAgICAgbnVtX3NjaGVkX2xpc3Q7Cj4gKwlzdHJ1Y3QgZHJtX2dwdV9zY2hlZHVsZXIgICAg
ICAgICoqc2NoZWRfbGlzdDsKPiArCWVudW0gZHJtX3NjaGVkX3ByaW9yaXR5ICAgICAgICAgcHJp
b3JpdHk7Cj4gICAJc3BpbmxvY2tfdAkJCXJxX2xvY2s7Cj4gICAKPiAgIAlzdHJ1Y3Qgc3BzY19x
dWV1ZQkJam9iX3F1ZXVlOwo+IEBAIC0zMTIsNyArMzEzLDggQEAgdm9pZCBkcm1fc2NoZWRfcnFf
cmVtb3ZlX2VudGl0eShzdHJ1Y3QgZHJtX3NjaGVkX3JxICpycSwKPiAgIAkJCQlzdHJ1Y3QgZHJt
X3NjaGVkX2VudGl0eSAqZW50aXR5KTsKPiAgIAo+ICAgaW50IGRybV9zY2hlZF9lbnRpdHlfaW5p
dChzdHJ1Y3QgZHJtX3NjaGVkX2VudGl0eSAqZW50aXR5LAo+IC0JCQkgIHN0cnVjdCBkcm1fc2No
ZWRfcnEgKipycV9saXN0LAo+ICsJCQkgIGVudW0gZHJtX3NjaGVkX3ByaW9yaXR5IHByaW9yaXR5
LAo+ICsJCQkgIHN0cnVjdCBkcm1fZ3B1X3NjaGVkdWxlciAqKnNjaGVkX2xpc3QsCj4gICAJCQkg
IHVuc2lnbmVkIGludCBudW1fcnFfbGlzdCwKPiAgIAkJCSAgYXRvbWljX3QgKmd1aWx0eSk7Cj4g
ICBsb25nIGRybV9zY2hlZF9lbnRpdHlfZmx1c2goc3RydWN0IGRybV9zY2hlZF9lbnRpdHkgKmVu
dGl0eSwgbG9uZyB0aW1lb3V0KTsKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3Rv
cC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQt
Z2Z4
