Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 6F0A2BB6AF
	for <lists+amd-gfx@lfdr.de>; Mon, 23 Sep 2019 16:28:02 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 6D8686E92F;
	Mon, 23 Sep 2019 14:28:00 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM01-BN3-obe.outbound.protection.outlook.com
 (mail-eopbgr740040.outbound.protection.outlook.com [40.107.74.40])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 433036E92F
 for <amd-gfx@lists.freedesktop.org>; Mon, 23 Sep 2019 14:27:59 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=eUD5ytmUn3FeB5nZvaAcJZ8m4OldJ23G1stxBw76q8Zu7EXWBaIbldwWSyNoE2xAbkwx6QWlPnSK9MWwnuhAFFaOWjbrxc91NbURcg+l821ik7sB1pYXlpy39HwwWZm9QsMM+p0hf++EAh3XZIZqb2T4ujN1pahsZbUFq6a9d/UwPU70hoMTAChKD7OHQFpv+x54yYf73WaW0G/jA1c8nDOfFgNvjw/iEgJrvF5B+yVEj8ZawYXJGUATJx88xz/qdOYpsuZzHmBrZxmfg47JKLnQEe2Pbixk3SxUzm83g62i+ks+mPNrB+kTS2yFDUDCNvfekeVtZ472HHubMBuMBA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=xFtR/8u/NLdLoDBglPew/33nz5fiWIc99dM+WgBgrTs=;
 b=Tj+omYmFyDklPC99HMUV/dMDbROwsyxgnDdJhjB6gh/tWI928gfbLr+mIG502jTa8ZZSNvI2T+buNnVTcSV2Ns+7OorSiked2rTfDlABoSf8m+Z3SuEZNJahl9VYEtSuStcg+WxpLZYE+YsnCwthtg6jVLPnDy/5i00BkEzWfyK27KfZn2VmAB+lo+/lM0zsLh7eTUodHa6Es/hnpkaFp7/qgcWhIktSwBLB6cyBfAZKKq6Jq+Z6StR1sJ2IQDQTF4JXdr9VxO0Y56huWkpCYbqRsUMWGVLkmXnMWwH9l4knessJ/jfiY9VcGJKIMvE41Gi2iEf+hZAr5M+Kt5k+0g==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from DM6PR12MB3241.namprd12.prod.outlook.com (20.179.105.153) by
 DM6PR12MB3434.namprd12.prod.outlook.com (20.178.198.205) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2284.23; Mon, 23 Sep 2019 14:27:56 +0000
Received: from DM6PR12MB3241.namprd12.prod.outlook.com
 ([fe80::78b5:3af4:e88d:25fd]) by DM6PR12MB3241.namprd12.prod.outlook.com
 ([fe80::78b5:3af4:e88d:25fd%7]) with mapi id 15.20.2284.023; Mon, 23 Sep 2019
 14:27:56 +0000
From: "Liu, Shaoyun" <Shaoyun.Liu@amd.com>
To: "Zhao, Yong" <Yong.Zhao@amd.com>, "amd-gfx@lists.freedesktop.org"
 <amd-gfx@lists.freedesktop.org>
Subject: Re: [PATCH 2/2] drm/amdkfd: Use better name for sdma queue non HWS
 path
Thread-Topic: [PATCH 2/2] drm/amdkfd: Use better name for sdma queue non HWS
 path
Thread-Index: AQHVccLzs9g6guDHmk+gHpy4Lceemac5UqYA
Date: Mon, 23 Sep 2019 14:27:56 +0000
Message-ID: <e4c54eb2-0ee0-8b74-d1d5-5a2680f891e9@amd.com>
References: <20190923035634.13152-1-Yong.Zhao@amd.com>
 <20190923035634.13152-2-Yong.Zhao@amd.com>
In-Reply-To: <20190923035634.13152-2-Yong.Zhao@amd.com>
Accept-Language: en-CA, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [165.204.55.251]
user-agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
x-clientproxiedby: YTXPR0101CA0007.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:b00::20) To DM6PR12MB3241.namprd12.prod.outlook.com
 (2603:10b6:5:186::25)
x-ms-exchange-messagesentrepresentingtype: 1
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 44238b35-046a-4ccf-1f6e-08d7403239e2
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(5600167)(711020)(4605104)(1401327)(4618075)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(2017052603328)(7193020);
 SRVR:DM6PR12MB3434; 
x-ms-traffictypediagnostic: DM6PR12MB3434:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <DM6PR12MB3434B1EC842FF2801E024B65F4850@DM6PR12MB3434.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:2089;
x-forefront-prvs: 0169092318
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(346002)(376002)(136003)(366004)(39860400002)(396003)(199004)(189003)(81156014)(81166006)(8676002)(229853002)(6512007)(6486002)(65956001)(65806001)(66066001)(66476007)(66556008)(64756008)(66446008)(6436002)(7736002)(99286004)(31686004)(2906002)(478600001)(76176011)(53546011)(386003)(6506007)(256004)(14444005)(2501003)(52116002)(36756003)(3846002)(486006)(71190400001)(86362001)(11346002)(31696002)(446003)(71200400001)(476003)(2616005)(25786009)(305945005)(6246003)(30864003)(102836004)(26005)(186003)(6116002)(316002)(5660300002)(66946007)(110136005)(8936002)(58126008)(14454004)(21314003)(569006);
 DIR:OUT; SFP:1101; SCL:1; SRVR:DM6PR12MB3434;
 H:DM6PR12MB3241.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: VSjkKkB/vItJsItgCrQSjgpTYKyle5J5SAqVlatyzUqS2pEmDqg6aDJowQF3ScN5TgEAY+11kVis5i/+3tSNhqaMdpkdsKxIcOe1hd+yXlq6+wruJX6Zx8bzXpos9AnQxsuBj25oCSjDOmc2qCyH+Il0d2z9AB/kmtOEe1tbc3L0jx2oV+SOlrEL1HMg20RKnWVADTt1+YApzPHuGbJf3/Xt9d8XD6M24auIXCz+crnW8Jww89IEAN0X4+hMsQjtB4OgChY2iz6BHRtcmuo7O/fkDx18Gsy7cemXs7nM/06Ir5Y+pTc3OD9J5PO12A7Bm3MoXHFlNDWUzdJl/AhgG6MvAOLGku3KoH5RJcDfdGnV0+V+P4HfB0RQlhaVUqWbUquy+Svy85tkKE8f9unfkdq241Ph7CC0cL3a8d0J5lQ=
Content-ID: <9093DEF987CC934191504F6E9F728FFA@namprd12.prod.outlook.com>
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 44238b35-046a-4ccf-1f6e-08d7403239e2
X-MS-Exchange-CrossTenant-originalarrivaltime: 23 Sep 2019 14:27:56.4344 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: lCZq9m04RNPgFAnha07dtYt+QyJtEEuz9BqJ3aM5Oa3qX3jH0NrApaAmOT+UFZXNGn/s+Qp1zeZXsfxf6etG6A==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM6PR12MB3434
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=xFtR/8u/NLdLoDBglPew/33nz5fiWIc99dM+WgBgrTs=;
 b=2Jl13cdoKWN3w5dOrfK99xFcDLpvotGehnZgCXEzh71UI6Ksey5Je6I8Kw28JDDKLNJOJW647GkygZgrk3sjglKKD7P9R/iWCpkCLvUl1u0vKiDD4ptWuKAb0Q4oETBocExnLc0I0qzpxFSxjmCbGgIHNSz7lLJ/A7b/mFCdlpE=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Shaoyun.Liu@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

UHJvYmFibHkgcmVuYW1lIHRvIHNkbWFfcmxjIHRvIGF2b2lkIHRoZcKgIGNvbmZ1c2lvbiBvZsKg
IHJsYyB1c2VkIGluIA0Kb3RoZXIgYW1kZ3B1IGRyaXZlciAuDQoNClJlZ2FyZHMNCg0Kc2hhb3l1
bi5saXUNCg0KT24gMjAxOS0wOS0yMiAxMTo1NiBwLm0uLCBaaGFvLCBZb25nIHdyb3RlOg0KPiBU
aGUgb2xkIG5hbWUgaXMgcHJvbmUgdG8gY29uZnVzaW9uLiBUaGUgcmVnaXN0ZXIgb2Zmc2V0IGlz
IGZvciBhIFJMQyBxdWV1ZQ0KPiByYXRoZXIgdGhhbiBhIFNETUEgZW5naW5lLiBUaGUgdmFsdWUg
aXMgbm90IGEgYmFzZSBhZGRyZXNzLCBidXQgYQ0KPiByZWdpc3RlciBvZmZzZXQuDQo+DQo+IENo
YW5nZS1JZDogSTU1ZmI4MzVmMjEwNTM5MjM0NGIxYzE3MzIzYmI1NWMwM2Y5Mjc4MzYNCj4gU2ln
bmVkLW9mZi1ieTogWW9uZyBaaGFvIDxZb25nLlpoYW9AYW1kLmNvbT4NCj4gLS0tDQo+ICAgLi4u
L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmRfYXJjdHVydXMuYyAgIHwgODUgKysrKysrKysr
LS0tLS0tLS0tDQo+ICAgLi4uL2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmRfZ2Z4X3YxMC5j
ICAgIHwgOTAgKysrKysrKysrLS0tLS0tLS0tLQ0KPiAgIC4uLi9ncHUvZHJtL2FtZC9hbWRncHUv
YW1kZ3B1X2FtZGtmZF9nZnhfdjcuYyB8IDEwICstLQ0KPiAgIC4uLi9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X2FtZGtmZF9nZnhfdjguYyB8IDEwICstLQ0KPiAgIC4uLi9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1X2FtZGtmZF9nZnhfdjkuYyB8IDg2ICsrKysrKysrKy0tLS0tLS0tLQ0KPiAg
IDUgZmlsZXMgY2hhbmdlZCwgMTM3IGluc2VydGlvbnMoKyksIDE0NCBkZWxldGlvbnMoLSkNCj4N
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmRf
YXJjdHVydXMuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmRfYXJj
dHVydXMuYw0KPiBpbmRleCBjOWNlMTUxNjk1NmUuLmQyYzA2NjZjMjc5OCAxMDA2NDQNCj4gLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZF9hcmN0dXJ1cy5jDQo+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmRfYXJjdHVydXMu
Yw0KPiBAQCAtNzAsMTEgKzcwLDExIEBAIHN0YXRpYyBpbmxpbmUgc3RydWN0IHY5X3NkbWFfbXFk
ICpnZXRfc2RtYV9tcWQodm9pZCAqbXFkKQ0KPiAgIAlyZXR1cm4gKHN0cnVjdCB2OV9zZG1hX21x
ZCAqKW1xZDsNCj4gICB9DQo+ICAgDQo+IC1zdGF0aWMgdWludDMyX3QgZ2V0X3NkbWFfYmFzZV9h
ZGRyKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KPiArc3RhdGljIHVpbnQzMl90IGdldF9y
bGNfcmVnX29mZnNldChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gICAJCQkJdW5zaWdu
ZWQgaW50IGVuZ2luZV9pZCwNCj4gICAJCQkJdW5zaWduZWQgaW50IHF1ZXVlX2lkKQ0KPiAgIHsN
Cj4gLQl1aW50MzJfdCBiYXNlWzhdID0gew0KPiArCXVpbnQzMl90IHNkbWFfZW5naW5lX3JlZ19i
YXNlWzhdID0gew0KPiAgIAkJU09DMTVfUkVHX09GRlNFVChTRE1BMCwgMCwNCj4gICAJCQkJIG1t
U0RNQTBfUkxDMF9SQl9DTlRMKSAtIG1tU0RNQTBfUkxDMF9SQl9DTlRMLA0KPiAgIAkJU09DMTVf
UkVHX09GRlNFVChTRE1BMSwgMCwNCj4gQEAgLTkyLDEyICs5MiwxMSBAQCBzdGF0aWMgdWludDMy
X3QgZ2V0X3NkbWFfYmFzZV9hZGRyKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KPiAgIAkJ
U09DMTVfUkVHX09GRlNFVChTRE1BNywgMCwNCj4gICAJCQkJIG1tU0RNQTdfUkxDMF9SQl9DTlRM
KSAtIG1tU0RNQTdfUkxDMF9SQl9DTlRMDQo+ICAgCX07DQo+IC0JdWludDMyX3QgcmV0dmFsOw0K
PiAgIA0KPiAtCXJldHZhbCA9IGJhc2VbZW5naW5lX2lkXSArIHF1ZXVlX2lkICogKG1tU0RNQTBf
UkxDMV9SQl9DTlRMIC0NCj4gLQkJCQkJICAgICAgIG1tU0RNQTBfUkxDMF9SQl9DTlRMKTsNCj4g
Kwl1aW50MzJfdCByZXR2YWwgPSBzZG1hX2VuZ2luZV9yZWdfYmFzZVtlbmdpbmVfaWRdDQo+ICsJ
CSsgcXVldWVfaWQgKiAobW1TRE1BMF9STEMxX1JCX0NOVEwgLSBtbVNETUEwX1JMQzBfUkJfQ05U
TCk7DQo+ICAgDQo+IC0JcHJfZGVidWcoInNkbWEgYmFzZSBhZGRyZXNzOiAweCV4XG4iLCByZXR2
YWwpOw0KPiArCXByX2RlYnVnKCJSTEMgcmVnaXN0ZXIgb2Zmc2V0OiAweCV4XG4iLCByZXR2YWwp
Ow0KPiAgIA0KPiAgIAlyZXR1cm4gcmV0dmFsOw0KPiAgIH0NCj4gQEAgLTEwNywyMiArMTA2LDIy
IEBAIHN0YXRpYyBpbnQga2dkX2hxZF9zZG1hX2xvYWQoc3RydWN0IGtnZF9kZXYgKmtnZCwgdm9p
ZCAqbXFkLA0KPiAgIHsNCj4gICAJc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSBnZXRfYW1k
Z3B1X2RldmljZShrZ2QpOw0KPiAgIAlzdHJ1Y3Qgdjlfc2RtYV9tcWQgKm07DQo+IC0JdWludDMy
X3Qgc2RtYV9iYXNlX2FkZHI7DQo+ICsJdWludDMyX3QgcmxjX3JlZ19vZmZzZXQ7DQo+ICAgCXVu
c2lnbmVkIGxvbmcgZW5kX2ppZmZpZXM7DQo+ICAgCXVpbnQzMl90IGRhdGE7DQo+ICAgCXVpbnQ2
NF90IGRhdGE2NDsNCj4gICAJdWludDY0X3QgX191c2VyICp3cHRyNjQgPSAodWludDY0X3QgX191
c2VyICopd3B0cjsNCj4gICANCj4gICAJbSA9IGdldF9zZG1hX21xZChtcWQpOw0KPiAtCXNkbWFf
YmFzZV9hZGRyID0gZ2V0X3NkbWFfYmFzZV9hZGRyKGFkZXYsIG0tPnNkbWFfZW5naW5lX2lkLA0K
PiArCXJsY19yZWdfb2Zmc2V0ID0gZ2V0X3JsY19yZWdfb2Zmc2V0KGFkZXYsIG0tPnNkbWFfZW5n
aW5lX2lkLA0KPiAgIAkJCQkJICAgIG0tPnNkbWFfcXVldWVfaWQpOw0KPiAgIA0KPiAtCVdSRUcz
MihzZG1hX2Jhc2VfYWRkciArIG1tU0RNQTBfUkxDMF9SQl9DTlRMLA0KPiArCVdSRUczMihybGNf
cmVnX29mZnNldCArIG1tU0RNQTBfUkxDMF9SQl9DTlRMLA0KPiAgIAkJbS0+c2RtYXhfcmxjeF9y
Yl9jbnRsICYgKH5TRE1BMF9STEMwX1JCX0NOVExfX1JCX0VOQUJMRV9NQVNLKSk7DQo+ICAgDQo+
ICAgCWVuZF9qaWZmaWVzID0gbXNlY3NfdG9famlmZmllcygyMDAwKSArIGppZmZpZXM7DQo+ICAg
CXdoaWxlICh0cnVlKSB7DQo+IC0JCWRhdGEgPSBSUkVHMzIoc2RtYV9iYXNlX2FkZHIgKyBtbVNE
TUEwX1JMQzBfQ09OVEVYVF9TVEFUVVMpOw0KPiArCQlkYXRhID0gUlJFRzMyKHJsY19yZWdfb2Zm
c2V0ICsgbW1TRE1BMF9STEMwX0NPTlRFWFRfU1RBVFVTKTsNCj4gICAJCWlmIChkYXRhICYgU0RN
QTBfUkxDMF9DT05URVhUX1NUQVRVU19fSURMRV9NQVNLKQ0KPiAgIAkJCWJyZWFrOw0KPiAgIAkJ
aWYgKHRpbWVfYWZ0ZXIoamlmZmllcywgZW5kX2ppZmZpZXMpKQ0KPiBAQCAtMTMwLDQxICsxMjks
NDEgQEAgc3RhdGljIGludCBrZ2RfaHFkX3NkbWFfbG9hZChzdHJ1Y3Qga2dkX2RldiAqa2dkLCB2
b2lkICptcWQsDQo+ICAgCQl1c2xlZXBfcmFuZ2UoNTAwLCAxMDAwKTsNCj4gICAJfQ0KPiAgIA0K
PiAtCVdSRUczMihzZG1hX2Jhc2VfYWRkciArIG1tU0RNQTBfUkxDMF9ET09SQkVMTF9PRkZTRVQs
DQo+ICsJV1JFRzMyKHJsY19yZWdfb2Zmc2V0ICsgbW1TRE1BMF9STEMwX0RPT1JCRUxMX09GRlNF
VCwNCj4gICAJICAgICAgIG0tPnNkbWF4X3JsY3hfZG9vcmJlbGxfb2Zmc2V0KTsNCj4gICANCj4g
ICAJZGF0YSA9IFJFR19TRVRfRklFTEQobS0+c2RtYXhfcmxjeF9kb29yYmVsbCwgU0RNQTBfUkxD
MF9ET09SQkVMTCwNCj4gICAJCQkgICAgIEVOQUJMRSwgMSk7DQo+IC0JV1JFRzMyKHNkbWFfYmFz
ZV9hZGRyICsgbW1TRE1BMF9STEMwX0RPT1JCRUxMLCBkYXRhKTsNCj4gLQlXUkVHMzIoc2RtYV9i
YXNlX2FkZHIgKyBtbVNETUEwX1JMQzBfUkJfUlBUUiwgbS0+c2RtYXhfcmxjeF9yYl9ycHRyKTsN
Cj4gLQlXUkVHMzIoc2RtYV9iYXNlX2FkZHIgKyBtbVNETUEwX1JMQzBfUkJfUlBUUl9ISSwNCj4g
KwlXUkVHMzIocmxjX3JlZ19vZmZzZXQgKyBtbVNETUEwX1JMQzBfRE9PUkJFTEwsIGRhdGEpOw0K
PiArCVdSRUczMihybGNfcmVnX29mZnNldCArIG1tU0RNQTBfUkxDMF9SQl9SUFRSLCBtLT5zZG1h
eF9ybGN4X3JiX3JwdHIpOw0KPiArCVdSRUczMihybGNfcmVnX29mZnNldCArIG1tU0RNQTBfUkxD
MF9SQl9SUFRSX0hJLA0KPiAgIAkJCQltLT5zZG1heF9ybGN4X3JiX3JwdHJfaGkpOw0KPiAgIA0K
PiAtCVdSRUczMihzZG1hX2Jhc2VfYWRkciArIG1tU0RNQTBfUkxDMF9NSU5PUl9QVFJfVVBEQVRF
LCAxKTsNCj4gKwlXUkVHMzIocmxjX3JlZ19vZmZzZXQgKyBtbVNETUEwX1JMQzBfTUlOT1JfUFRS
X1VQREFURSwgMSk7DQo+ICAgCWlmIChyZWFkX3VzZXJfd3B0cihtbSwgd3B0cjY0LCBkYXRhNjQp
KSB7DQo+IC0JCVdSRUczMihzZG1hX2Jhc2VfYWRkciArIG1tU0RNQTBfUkxDMF9SQl9XUFRSLA0K
PiArCQlXUkVHMzIocmxjX3JlZ19vZmZzZXQgKyBtbVNETUEwX1JMQzBfUkJfV1BUUiwNCj4gICAJ
CSAgICAgICBsb3dlcl8zMl9iaXRzKGRhdGE2NCkpOw0KPiAtCQlXUkVHMzIoc2RtYV9iYXNlX2Fk
ZHIgKyBtbVNETUEwX1JMQzBfUkJfV1BUUl9ISSwNCj4gKwkJV1JFRzMyKHJsY19yZWdfb2Zmc2V0
ICsgbW1TRE1BMF9STEMwX1JCX1dQVFJfSEksDQo+ICAgCQkgICAgICAgdXBwZXJfMzJfYml0cyhk
YXRhNjQpKTsNCj4gICAJfSBlbHNlIHsNCj4gLQkJV1JFRzMyKHNkbWFfYmFzZV9hZGRyICsgbW1T
RE1BMF9STEMwX1JCX1dQVFIsDQo+ICsJCVdSRUczMihybGNfcmVnX29mZnNldCArIG1tU0RNQTBf
UkxDMF9SQl9XUFRSLA0KPiAgIAkJICAgICAgIG0tPnNkbWF4X3JsY3hfcmJfcnB0cik7DQo+IC0J
CVdSRUczMihzZG1hX2Jhc2VfYWRkciArIG1tU0RNQTBfUkxDMF9SQl9XUFRSX0hJLA0KPiArCQlX
UkVHMzIocmxjX3JlZ19vZmZzZXQgKyBtbVNETUEwX1JMQzBfUkJfV1BUUl9ISSwNCj4gICAJCSAg
ICAgICBtLT5zZG1heF9ybGN4X3JiX3JwdHJfaGkpOw0KPiAgIAl9DQo+IC0JV1JFRzMyKHNkbWFf
YmFzZV9hZGRyICsgbW1TRE1BMF9STEMwX01JTk9SX1BUUl9VUERBVEUsIDApOw0KPiArCVdSRUcz
MihybGNfcmVnX29mZnNldCArIG1tU0RNQTBfUkxDMF9NSU5PUl9QVFJfVVBEQVRFLCAwKTsNCj4g
ICANCj4gLQlXUkVHMzIoc2RtYV9iYXNlX2FkZHIgKyBtbVNETUEwX1JMQzBfUkJfQkFTRSwgbS0+
c2RtYXhfcmxjeF9yYl9iYXNlKTsNCj4gLQlXUkVHMzIoc2RtYV9iYXNlX2FkZHIgKyBtbVNETUEw
X1JMQzBfUkJfQkFTRV9ISSwNCj4gKwlXUkVHMzIocmxjX3JlZ19vZmZzZXQgKyBtbVNETUEwX1JM
QzBfUkJfQkFTRSwgbS0+c2RtYXhfcmxjeF9yYl9iYXNlKTsNCj4gKwlXUkVHMzIocmxjX3JlZ19v
ZmZzZXQgKyBtbVNETUEwX1JMQzBfUkJfQkFTRV9ISSwNCj4gICAJCQltLT5zZG1heF9ybGN4X3Ji
X2Jhc2VfaGkpOw0KPiAtCVdSRUczMihzZG1hX2Jhc2VfYWRkciArIG1tU0RNQTBfUkxDMF9SQl9S
UFRSX0FERFJfTE8sDQo+ICsJV1JFRzMyKHJsY19yZWdfb2Zmc2V0ICsgbW1TRE1BMF9STEMwX1JC
X1JQVFJfQUREUl9MTywNCj4gICAJCQltLT5zZG1heF9ybGN4X3JiX3JwdHJfYWRkcl9sbyk7DQo+
IC0JV1JFRzMyKHNkbWFfYmFzZV9hZGRyICsgbW1TRE1BMF9STEMwX1JCX1JQVFJfQUREUl9ISSwN
Cj4gKwlXUkVHMzIocmxjX3JlZ19vZmZzZXQgKyBtbVNETUEwX1JMQzBfUkJfUlBUUl9BRERSX0hJ
LA0KPiAgIAkJCW0tPnNkbWF4X3JsY3hfcmJfcnB0cl9hZGRyX2hpKTsNCj4gICANCj4gICAJZGF0
YSA9IFJFR19TRVRfRklFTEQobS0+c2RtYXhfcmxjeF9yYl9jbnRsLCBTRE1BMF9STEMwX1JCX0NO
VEwsDQo+ICAgCQkJICAgICBSQl9FTkFCTEUsIDEpOw0KPiAtCVdSRUczMihzZG1hX2Jhc2VfYWRk
ciArIG1tU0RNQTBfUkxDMF9SQl9DTlRMLCBkYXRhKTsNCj4gKwlXUkVHMzIocmxjX3JlZ19vZmZz
ZXQgKyBtbVNETUEwX1JMQzBfUkJfQ05UTCwgZGF0YSk7DQo+ICAgDQo+ICAgCXJldHVybiAwOw0K
PiAgIH0NCj4gQEAgLTE3NCw3ICsxNzMsNyBAQCBzdGF0aWMgaW50IGtnZF9ocWRfc2RtYV9kdW1w
KHN0cnVjdCBrZ2RfZGV2ICprZ2QsDQo+ICAgCQkJICAgICB1aW50MzJfdCAoKipkdW1wKVsyXSwg
dWludDMyX3QgKm5fcmVncykNCj4gICB7DQo+ICAgCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2
ID0gZ2V0X2FtZGdwdV9kZXZpY2Uoa2dkKTsNCj4gLQl1aW50MzJfdCBzZG1hX2Jhc2VfYWRkciA9
IGdldF9zZG1hX2Jhc2VfYWRkcihhZGV2LCBlbmdpbmVfaWQsIHF1ZXVlX2lkKTsNCj4gKwl1aW50
MzJfdCBybGNfcmVnX29mZnNldCA9IGdldF9ybGNfcmVnX29mZnNldChhZGV2LCBlbmdpbmVfaWQs
IHF1ZXVlX2lkKTsNCj4gICAJdWludDMyX3QgaSA9IDAsIHJlZzsNCj4gICAjdW5kZWYgSFFEX05f
UkVHUw0KPiAgICNkZWZpbmUgSFFEX05fUkVHUyAoMTkrNis3KzEwKQ0KPiBAQCAtMTg0LDE1ICsx
ODMsMTUgQEAgc3RhdGljIGludCBrZ2RfaHFkX3NkbWFfZHVtcChzdHJ1Y3Qga2dkX2RldiAqa2dk
LA0KPiAgIAkJcmV0dXJuIC1FTk9NRU07DQo+ICAgDQo+ICAgCWZvciAocmVnID0gbW1TRE1BMF9S
TEMwX1JCX0NOVEw7IHJlZyA8PSBtbVNETUEwX1JMQzBfRE9PUkJFTEw7IHJlZysrKQ0KPiAtCQlE
VU1QX1JFRyhzZG1hX2Jhc2VfYWRkciArIHJlZyk7DQo+ICsJCURVTVBfUkVHKHJsY19yZWdfb2Zm
c2V0ICsgcmVnKTsNCj4gICAJZm9yIChyZWcgPSBtbVNETUEwX1JMQzBfU1RBVFVTOyByZWcgPD0g
bW1TRE1BMF9STEMwX0NTQV9BRERSX0hJOyByZWcrKykNCj4gLQkJRFVNUF9SRUcoc2RtYV9iYXNl
X2FkZHIgKyByZWcpOw0KPiArCQlEVU1QX1JFRyhybGNfcmVnX29mZnNldCArIHJlZyk7DQo+ICAg
CWZvciAocmVnID0gbW1TRE1BMF9STEMwX0lCX1NVQl9SRU1BSU47DQo+ICAgCSAgICAgcmVnIDw9
IG1tU0RNQTBfUkxDMF9NSU5PUl9QVFJfVVBEQVRFOyByZWcrKykNCj4gLQkJRFVNUF9SRUcoc2Rt
YV9iYXNlX2FkZHIgKyByZWcpOw0KPiArCQlEVU1QX1JFRyhybGNfcmVnX29mZnNldCArIHJlZyk7
DQo+ICAgCWZvciAocmVnID0gbW1TRE1BMF9STEMwX01JRENNRF9EQVRBMDsNCj4gICAJICAgICBy
ZWcgPD0gbW1TRE1BMF9STEMwX01JRENNRF9DTlRMOyByZWcrKykNCj4gLQkJRFVNUF9SRUcoc2Rt
YV9iYXNlX2FkZHIgKyByZWcpOw0KPiArCQlEVU1QX1JFRyhybGNfcmVnX29mZnNldCArIHJlZyk7
DQo+ICAgDQo+ICAgCVdBUk5fT05fT05DRShpICE9IEhRRF9OX1JFR1MpOw0KPiAgIAkqbl9yZWdz
ID0gaTsNCj4gQEAgLTIwNCwxNCArMjAzLDE0IEBAIHN0YXRpYyBib29sIGtnZF9ocWRfc2RtYV9p
c19vY2N1cGllZChzdHJ1Y3Qga2dkX2RldiAqa2dkLCB2b2lkICptcWQpDQo+ICAgew0KPiAgIAlz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IGdldF9hbWRncHVfZGV2aWNlKGtnZCk7DQo+ICAg
CXN0cnVjdCB2OV9zZG1hX21xZCAqbTsNCj4gLQl1aW50MzJfdCBzZG1hX2Jhc2VfYWRkcjsNCj4g
Kwl1aW50MzJfdCBybGNfcmVnX29mZnNldDsNCj4gICAJdWludDMyX3Qgc2RtYV9ybGNfcmJfY250
bDsNCj4gICANCj4gICAJbSA9IGdldF9zZG1hX21xZChtcWQpOw0KPiAtCXNkbWFfYmFzZV9hZGRy
ID0gZ2V0X3NkbWFfYmFzZV9hZGRyKGFkZXYsIG0tPnNkbWFfZW5naW5lX2lkLA0KPiArCXJsY19y
ZWdfb2Zmc2V0ID0gZ2V0X3JsY19yZWdfb2Zmc2V0KGFkZXYsIG0tPnNkbWFfZW5naW5lX2lkLA0K
PiAgIAkJCQkJICAgIG0tPnNkbWFfcXVldWVfaWQpOw0KPiAgIA0KPiAtCXNkbWFfcmxjX3JiX2Nu
dGwgPSBSUkVHMzIoc2RtYV9iYXNlX2FkZHIgKyBtbVNETUEwX1JMQzBfUkJfQ05UTCk7DQo+ICsJ
c2RtYV9ybGNfcmJfY250bCA9IFJSRUczMihybGNfcmVnX29mZnNldCArIG1tU0RNQTBfUkxDMF9S
Ql9DTlRMKTsNCj4gICANCj4gICAJaWYgKHNkbWFfcmxjX3JiX2NudGwgJiBTRE1BMF9STEMwX1JC
X0NOVExfX1JCX0VOQUJMRV9NQVNLKQ0KPiAgIAkJcmV0dXJuIHRydWU7DQo+IEBAIC0yMjQsMjAg
KzIyMywyMCBAQCBzdGF0aWMgaW50IGtnZF9ocWRfc2RtYV9kZXN0cm95KHN0cnVjdCBrZ2RfZGV2
ICprZ2QsIHZvaWQgKm1xZCwNCj4gICB7DQo+ICAgCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2
ID0gZ2V0X2FtZGdwdV9kZXZpY2Uoa2dkKTsNCj4gICAJc3RydWN0IHY5X3NkbWFfbXFkICptOw0K
PiAtCXVpbnQzMl90IHNkbWFfYmFzZV9hZGRyOw0KPiArCXVpbnQzMl90IHJsY19yZWdfb2Zmc2V0
Ow0KPiAgIAl1aW50MzJfdCB0ZW1wOw0KPiAgIAl1bnNpZ25lZCBsb25nIGVuZF9qaWZmaWVzID0g
KHV0aW1lb3V0ICogSFogLyAxMDAwKSArIGppZmZpZXM7DQo+ICAgDQo+ICAgCW0gPSBnZXRfc2Rt
YV9tcWQobXFkKTsNCj4gLQlzZG1hX2Jhc2VfYWRkciA9IGdldF9zZG1hX2Jhc2VfYWRkcihhZGV2
LCBtLT5zZG1hX2VuZ2luZV9pZCwNCj4gKwlybGNfcmVnX29mZnNldCA9IGdldF9ybGNfcmVnX29m
ZnNldChhZGV2LCBtLT5zZG1hX2VuZ2luZV9pZCwNCj4gICAJCQkJCSAgICBtLT5zZG1hX3F1ZXVl
X2lkKTsNCj4gICANCj4gLQl0ZW1wID0gUlJFRzMyKHNkbWFfYmFzZV9hZGRyICsgbW1TRE1BMF9S
TEMwX1JCX0NOVEwpOw0KPiArCXRlbXAgPSBSUkVHMzIocmxjX3JlZ19vZmZzZXQgKyBtbVNETUEw
X1JMQzBfUkJfQ05UTCk7DQo+ICAgCXRlbXAgPSB0ZW1wICYgflNETUEwX1JMQzBfUkJfQ05UTF9f
UkJfRU5BQkxFX01BU0s7DQo+IC0JV1JFRzMyKHNkbWFfYmFzZV9hZGRyICsgbW1TRE1BMF9STEMw
X1JCX0NOVEwsIHRlbXApOw0KPiArCVdSRUczMihybGNfcmVnX29mZnNldCArIG1tU0RNQTBfUkxD
MF9SQl9DTlRMLCB0ZW1wKTsNCj4gICANCj4gICAJd2hpbGUgKHRydWUpIHsNCj4gLQkJdGVtcCA9
IFJSRUczMihzZG1hX2Jhc2VfYWRkciArIG1tU0RNQTBfUkxDMF9DT05URVhUX1NUQVRVUyk7DQo+
ICsJCXRlbXAgPSBSUkVHMzIocmxjX3JlZ19vZmZzZXQgKyBtbVNETUEwX1JMQzBfQ09OVEVYVF9T
VEFUVVMpOw0KPiAgIAkJaWYgKHRlbXAgJiBTRE1BMF9STEMwX0NPTlRFWFRfU1RBVFVTX19JRExF
X01BU0spDQo+ICAgCQkJYnJlYWs7DQo+ICAgCQlpZiAodGltZV9hZnRlcihqaWZmaWVzLCBlbmRf
amlmZmllcykpDQo+IEBAIC0yNDUsMTQgKzI0NCwxNCBAQCBzdGF0aWMgaW50IGtnZF9ocWRfc2Rt
YV9kZXN0cm95KHN0cnVjdCBrZ2RfZGV2ICprZ2QsIHZvaWQgKm1xZCwNCj4gICAJCXVzbGVlcF9y
YW5nZSg1MDAsIDEwMDApOw0KPiAgIAl9DQo+ICAgDQo+IC0JV1JFRzMyKHNkbWFfYmFzZV9hZGRy
ICsgbW1TRE1BMF9STEMwX0RPT1JCRUxMLCAwKTsNCj4gLQlXUkVHMzIoc2RtYV9iYXNlX2FkZHIg
KyBtbVNETUEwX1JMQzBfUkJfQ05UTCwNCj4gLQkJUlJFRzMyKHNkbWFfYmFzZV9hZGRyICsgbW1T
RE1BMF9STEMwX1JCX0NOVEwpIHwNCj4gKwlXUkVHMzIocmxjX3JlZ19vZmZzZXQgKyBtbVNETUEw
X1JMQzBfRE9PUkJFTEwsIDApOw0KPiArCVdSRUczMihybGNfcmVnX29mZnNldCArIG1tU0RNQTBf
UkxDMF9SQl9DTlRMLA0KPiArCQlSUkVHMzIocmxjX3JlZ19vZmZzZXQgKyBtbVNETUEwX1JMQzBf
UkJfQ05UTCkgfA0KPiAgIAkJU0RNQTBfUkxDMF9SQl9DTlRMX19SQl9FTkFCTEVfTUFTSyk7DQo+
ICAgDQo+IC0JbS0+c2RtYXhfcmxjeF9yYl9ycHRyID0gUlJFRzMyKHNkbWFfYmFzZV9hZGRyICsg
bW1TRE1BMF9STEMwX1JCX1JQVFIpOw0KPiArCW0tPnNkbWF4X3JsY3hfcmJfcnB0ciA9IFJSRUcz
MihybGNfcmVnX29mZnNldCArIG1tU0RNQTBfUkxDMF9SQl9SUFRSKTsNCj4gICAJbS0+c2RtYXhf
cmxjeF9yYl9ycHRyX2hpID0NCj4gLQkJUlJFRzMyKHNkbWFfYmFzZV9hZGRyICsgbW1TRE1BMF9S
TEMwX1JCX1JQVFJfSEkpOw0KPiArCQlSUkVHMzIocmxjX3JlZ19vZmZzZXQgKyBtbVNETUEwX1JM
QzBfUkJfUlBUUl9ISSk7DQo+ICAgDQo+ICAgCXJldHVybiAwOw0KPiAgIH0NCj4gZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmRfZ2Z4X3YxMC5jIGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZF9nZnhfdjEwLmMNCj4gaW5k
ZXggYTQzMjVkYjhkMDkzLi5lZTUyMGFkOTA3MTcgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmRfZ2Z4X3YxMC5jDQo+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmRfZ2Z4X3YxMC5jDQo+IEBAIC0zMDcsMTEg
KzMwNywxMSBAQCBzdGF0aWMgaW50IGtnZF9pbml0X2ludGVycnVwdHMoc3RydWN0IGtnZF9kZXYg
KmtnZCwgdWludDMyX3QgcGlwZV9pZCkNCj4gICAJcmV0dXJuIDA7DQo+ICAgfQ0KPiAgIA0KPiAt
c3RhdGljIHVpbnQzMl90IGdldF9zZG1hX2Jhc2VfYWRkcihzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldiwNCj4gK3N0YXRpYyB1aW50MzJfdCBnZXRfcmxjX3JlZ19vZmZzZXQoc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYsDQo+ICAgCQkJCXVuc2lnbmVkIGludCBlbmdpbmVfaWQsDQo+ICAgCQkJ
CXVuc2lnbmVkIGludCBxdWV1ZV9pZCkNCj4gICB7DQo+IC0JdWludDMyX3QgYmFzZVsyXSA9IHsN
Cj4gKwl1aW50MzJfdCBzZG1hX2VuZ2luZV9yZWdfYmFzZVsyXSA9IHsNCj4gICAJCVNPQzE1X1JF
R19PRkZTRVQoU0RNQTAsIDAsDQo+ICAgCQkJCSBtbVNETUEwX1JMQzBfUkJfQ05UTCkgLSBtbVNE
TUEwX1JMQzBfUkJfQ05UTCwNCj4gICAJCS8qIE9uIGdmeDEwLCBtbVNETUExX3h4eCByZWdpc3Rl
cnMgYXJlIGRlZmluZWQgTk9UIGJhc2VkDQo+IEBAIC0zMjMsMTIgKzMyMywxMSBAQCBzdGF0aWMg
dWludDMyX3QgZ2V0X3NkbWFfYmFzZV9hZGRyKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0K
PiAgIAkJU09DMTVfUkVHX09GRlNFVChTRE1BMSwgMCwNCj4gICAJCQkJIG1tU0RNQTFfUkxDMF9S
Ql9DTlRMKSAtIG1tU0RNQTBfUkxDMF9SQl9DTlRMDQo+ICAgCX07DQo+IC0JdWludDMyX3QgcmV0
dmFsOw0KPiAgIA0KPiAtCXJldHZhbCA9IGJhc2VbZW5naW5lX2lkXSArIHF1ZXVlX2lkICogKG1t
U0RNQTBfUkxDMV9SQl9DTlRMIC0NCj4gLQkJCQkJICAgICAgIG1tU0RNQTBfUkxDMF9SQl9DTlRM
KTsNCj4gKwl1aW50MzJfdCByZXR2YWwgPSBzZG1hX2VuZ2luZV9yZWdfYmFzZVtlbmdpbmVfaWRd
DQo+ICsJCSsgcXVldWVfaWQgKiAobW1TRE1BMF9STEMxX1JCX0NOVEwgLSBtbVNETUEwX1JMQzBf
UkJfQ05UTCk7DQo+ICAgDQo+IC0JcHJfZGVidWcoInNkbWEgYmFzZSBhZGRyZXNzOiAweCV4XG4i
LCByZXR2YWwpOw0KPiArCXByX2RlYnVnKCJSTEMgcmVnaXN0ZXIgb2Zmc2V0OiAweCV4XG4iLCBy
ZXR2YWwpOw0KPiAgIA0KPiAgIAlyZXR1cm4gcmV0dmFsOw0KPiAgIH0NCj4gQEAgLTQ4OSwyMyAr
NDg4LDIzIEBAIHN0YXRpYyBpbnQga2dkX2hxZF9zZG1hX2xvYWQoc3RydWN0IGtnZF9kZXYgKmtn
ZCwgdm9pZCAqbXFkLA0KPiAgIHsNCj4gICAJc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSBn
ZXRfYW1kZ3B1X2RldmljZShrZ2QpOw0KPiAgIAlzdHJ1Y3QgdjEwX3NkbWFfbXFkICptOw0KPiAt
CXVpbnQzMl90IHNkbWFfYmFzZV9hZGRyOw0KPiArCXVpbnQzMl90IHJsY19yZWdfb2Zmc2V0Ow0K
PiAgIAl1bnNpZ25lZCBsb25nIGVuZF9qaWZmaWVzOw0KPiAgIAl1aW50MzJfdCBkYXRhOw0KPiAg
IAl1aW50NjRfdCBkYXRhNjQ7DQo+ICAgCXVpbnQ2NF90IF9fdXNlciAqd3B0cjY0ID0gKHVpbnQ2
NF90IF9fdXNlciAqKXdwdHI7DQo+ICAgDQo+ICAgCW0gPSBnZXRfc2RtYV9tcWQobXFkKTsNCj4g
LQlzZG1hX2Jhc2VfYWRkciA9IGdldF9zZG1hX2Jhc2VfYWRkcihhZGV2LCBtLT5zZG1hX2VuZ2lu
ZV9pZCwNCj4gKwlybGNfcmVnX29mZnNldCA9IGdldF9ybGNfcmVnX29mZnNldChhZGV2LCBtLT5z
ZG1hX2VuZ2luZV9pZCwNCj4gICAJCQkJCSAgICBtLT5zZG1hX3F1ZXVlX2lkKTsNCj4gLQlwcl9k
ZWJ1Zygic2RtYSBsb2FkIGJhc2UgYWRkciAleCBmb3IgZW5naW5lICVkLCBxdWV1ZSAlZFxuIiwg
c2RtYV9iYXNlX2FkZHIsIG0tPnNkbWFfZW5naW5lX2lkLCBtLT5zZG1hX3F1ZXVlX2lkKTsNCj4g
Kwlwcl9kZWJ1Zygic2RtYSBsb2FkIGJhc2UgYWRkciAweCV4IGZvciBlbmdpbmUgJWQsIHF1ZXVl
ICVkXG4iLCBybGNfcmVnX29mZnNldCwgbS0+c2RtYV9lbmdpbmVfaWQsIG0tPnNkbWFfcXVldWVf
aWQpOw0KPiAgIA0KPiAtCVdSRUczMihzZG1hX2Jhc2VfYWRkciArIG1tU0RNQTBfUkxDMF9SQl9D
TlRMLA0KPiArCVdSRUczMihybGNfcmVnX29mZnNldCArIG1tU0RNQTBfUkxDMF9SQl9DTlRMLA0K
PiAgIAkJbS0+c2RtYXhfcmxjeF9yYl9jbnRsICYgKH5TRE1BMF9STEMwX1JCX0NOVExfX1JCX0VO
QUJMRV9NQVNLKSk7DQo+ICAgDQo+ICAgCWVuZF9qaWZmaWVzID0gbXNlY3NfdG9famlmZmllcygy
MDAwKSArIGppZmZpZXM7DQo+ICAgCXdoaWxlICh0cnVlKSB7DQo+IC0JCWRhdGEgPSBSUkVHMzIo
c2RtYV9iYXNlX2FkZHIgKyBtbVNETUEwX1JMQzBfQ09OVEVYVF9TVEFUVVMpOw0KPiArCQlkYXRh
ID0gUlJFRzMyKHJsY19yZWdfb2Zmc2V0ICsgbW1TRE1BMF9STEMwX0NPTlRFWFRfU1RBVFVTKTsN
Cj4gICAJCWlmIChkYXRhICYgU0RNQTBfUkxDMF9DT05URVhUX1NUQVRVU19fSURMRV9NQVNLKQ0K
PiAgIAkJCWJyZWFrOw0KPiAgIAkJaWYgKHRpbWVfYWZ0ZXIoamlmZmllcywgZW5kX2ppZmZpZXMp
KQ0KPiBAQCAtNTEzLDQxICs1MTIsNDEgQEAgc3RhdGljIGludCBrZ2RfaHFkX3NkbWFfbG9hZChz
dHJ1Y3Qga2dkX2RldiAqa2dkLCB2b2lkICptcWQsDQo+ICAgCQl1c2xlZXBfcmFuZ2UoNTAwLCAx
MDAwKTsNCj4gICAJfQ0KPiAgIA0KPiAtCVdSRUczMihzZG1hX2Jhc2VfYWRkciArIG1tU0RNQTBf
UkxDMF9ET09SQkVMTF9PRkZTRVQsDQo+ICsJV1JFRzMyKHJsY19yZWdfb2Zmc2V0ICsgbW1TRE1B
MF9STEMwX0RPT1JCRUxMX09GRlNFVCwNCj4gICAJICAgICAgIG0tPnNkbWF4X3JsY3hfZG9vcmJl
bGxfb2Zmc2V0KTsNCj4gICANCj4gICAJZGF0YSA9IFJFR19TRVRfRklFTEQobS0+c2RtYXhfcmxj
eF9kb29yYmVsbCwgU0RNQTBfUkxDMF9ET09SQkVMTCwNCj4gICAJCQkgICAgIEVOQUJMRSwgMSk7
DQo+IC0JV1JFRzMyKHNkbWFfYmFzZV9hZGRyICsgbW1TRE1BMF9STEMwX0RPT1JCRUxMLCBkYXRh
KTsNCj4gLQlXUkVHMzIoc2RtYV9iYXNlX2FkZHIgKyBtbVNETUEwX1JMQzBfUkJfUlBUUiwgbS0+
c2RtYXhfcmxjeF9yYl9ycHRyKTsNCj4gLQlXUkVHMzIoc2RtYV9iYXNlX2FkZHIgKyBtbVNETUEw
X1JMQzBfUkJfUlBUUl9ISSwNCj4gKwlXUkVHMzIocmxjX3JlZ19vZmZzZXQgKyBtbVNETUEwX1JM
QzBfRE9PUkJFTEwsIGRhdGEpOw0KPiArCVdSRUczMihybGNfcmVnX29mZnNldCArIG1tU0RNQTBf
UkxDMF9SQl9SUFRSLCBtLT5zZG1heF9ybGN4X3JiX3JwdHIpOw0KPiArCVdSRUczMihybGNfcmVn
X29mZnNldCArIG1tU0RNQTBfUkxDMF9SQl9SUFRSX0hJLA0KPiAgIAkJCQltLT5zZG1heF9ybGN4
X3JiX3JwdHJfaGkpOw0KPiAgIA0KPiAtCVdSRUczMihzZG1hX2Jhc2VfYWRkciArIG1tU0RNQTBf
UkxDMF9NSU5PUl9QVFJfVVBEQVRFLCAxKTsNCj4gKwlXUkVHMzIocmxjX3JlZ19vZmZzZXQgKyBt
bVNETUEwX1JMQzBfTUlOT1JfUFRSX1VQREFURSwgMSk7DQo+ICAgCWlmIChyZWFkX3VzZXJfd3B0
cihtbSwgd3B0cjY0LCBkYXRhNjQpKSB7DQo+IC0JCVdSRUczMihzZG1hX2Jhc2VfYWRkciArIG1t
U0RNQTBfUkxDMF9SQl9XUFRSLA0KPiArCQlXUkVHMzIocmxjX3JlZ19vZmZzZXQgKyBtbVNETUEw
X1JMQzBfUkJfV1BUUiwNCj4gICAJCSAgICAgICBsb3dlcl8zMl9iaXRzKGRhdGE2NCkpOw0KPiAt
CQlXUkVHMzIoc2RtYV9iYXNlX2FkZHIgKyBtbVNETUEwX1JMQzBfUkJfV1BUUl9ISSwNCj4gKwkJ
V1JFRzMyKHJsY19yZWdfb2Zmc2V0ICsgbW1TRE1BMF9STEMwX1JCX1dQVFJfSEksDQo+ICAgCQkg
ICAgICAgdXBwZXJfMzJfYml0cyhkYXRhNjQpKTsNCj4gICAJfSBlbHNlIHsNCj4gLQkJV1JFRzMy
KHNkbWFfYmFzZV9hZGRyICsgbW1TRE1BMF9STEMwX1JCX1dQVFIsDQo+ICsJCVdSRUczMihybGNf
cmVnX29mZnNldCArIG1tU0RNQTBfUkxDMF9SQl9XUFRSLA0KPiAgIAkJICAgICAgIG0tPnNkbWF4
X3JsY3hfcmJfcnB0cik7DQo+IC0JCVdSRUczMihzZG1hX2Jhc2VfYWRkciArIG1tU0RNQTBfUkxD
MF9SQl9XUFRSX0hJLA0KPiArCQlXUkVHMzIocmxjX3JlZ19vZmZzZXQgKyBtbVNETUEwX1JMQzBf
UkJfV1BUUl9ISSwNCj4gICAJCSAgICAgICBtLT5zZG1heF9ybGN4X3JiX3JwdHJfaGkpOw0KPiAg
IAl9DQo+IC0JV1JFRzMyKHNkbWFfYmFzZV9hZGRyICsgbW1TRE1BMF9STEMwX01JTk9SX1BUUl9V
UERBVEUsIDApOw0KPiArCVdSRUczMihybGNfcmVnX29mZnNldCArIG1tU0RNQTBfUkxDMF9NSU5P
Ul9QVFJfVVBEQVRFLCAwKTsNCj4gICANCj4gLQlXUkVHMzIoc2RtYV9iYXNlX2FkZHIgKyBtbVNE
TUEwX1JMQzBfUkJfQkFTRSwgbS0+c2RtYXhfcmxjeF9yYl9iYXNlKTsNCj4gLQlXUkVHMzIoc2Rt
YV9iYXNlX2FkZHIgKyBtbVNETUEwX1JMQzBfUkJfQkFTRV9ISSwNCj4gKwlXUkVHMzIocmxjX3Jl
Z19vZmZzZXQgKyBtbVNETUEwX1JMQzBfUkJfQkFTRSwgbS0+c2RtYXhfcmxjeF9yYl9iYXNlKTsN
Cj4gKwlXUkVHMzIocmxjX3JlZ19vZmZzZXQgKyBtbVNETUEwX1JMQzBfUkJfQkFTRV9ISSwNCj4g
ICAJCQltLT5zZG1heF9ybGN4X3JiX2Jhc2VfaGkpOw0KPiAtCVdSRUczMihzZG1hX2Jhc2VfYWRk
ciArIG1tU0RNQTBfUkxDMF9SQl9SUFRSX0FERFJfTE8sDQo+ICsJV1JFRzMyKHJsY19yZWdfb2Zm
c2V0ICsgbW1TRE1BMF9STEMwX1JCX1JQVFJfQUREUl9MTywNCj4gICAJCQltLT5zZG1heF9ybGN4
X3JiX3JwdHJfYWRkcl9sbyk7DQo+IC0JV1JFRzMyKHNkbWFfYmFzZV9hZGRyICsgbW1TRE1BMF9S
TEMwX1JCX1JQVFJfQUREUl9ISSwNCj4gKwlXUkVHMzIocmxjX3JlZ19vZmZzZXQgKyBtbVNETUEw
X1JMQzBfUkJfUlBUUl9BRERSX0hJLA0KPiAgIAkJCW0tPnNkbWF4X3JsY3hfcmJfcnB0cl9hZGRy
X2hpKTsNCj4gICANCj4gICAJZGF0YSA9IFJFR19TRVRfRklFTEQobS0+c2RtYXhfcmxjeF9yYl9j
bnRsLCBTRE1BMF9STEMwX1JCX0NOVEwsDQo+ICAgCQkJICAgICBSQl9FTkFCTEUsIDEpOw0KPiAt
CVdSRUczMihzZG1hX2Jhc2VfYWRkciArIG1tU0RNQTBfUkxDMF9SQl9DTlRMLCBkYXRhKTsNCj4g
KwlXUkVHMzIocmxjX3JlZ19vZmZzZXQgKyBtbVNETUEwX1JMQzBfUkJfQ05UTCwgZGF0YSk7DQo+
ICAgDQo+ICAgCXJldHVybiAwOw0KPiAgIH0NCj4gQEAgLTU1NywyOCArNTU2LDI1IEBAIHN0YXRp
YyBpbnQga2dkX2hxZF9zZG1hX2R1bXAoc3RydWN0IGtnZF9kZXYgKmtnZCwNCj4gICAJCQkgICAg
IHVpbnQzMl90ICgqKmR1bXApWzJdLCB1aW50MzJfdCAqbl9yZWdzKQ0KPiAgIHsNCj4gICAJc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSBnZXRfYW1kZ3B1X2RldmljZShrZ2QpOw0KPiAtCXVp
bnQzMl90IHNkbWFfYmFzZV9hZGRyID0gZ2V0X3NkbWFfYmFzZV9hZGRyKGFkZXYsIGVuZ2luZV9p
ZCwgcXVldWVfaWQpOw0KPiArCXVpbnQzMl90IHJsY19yZWdfb2Zmc2V0ID0gZ2V0X3JsY19yZWdf
b2Zmc2V0KGFkZXYsIGVuZ2luZV9pZCwgcXVldWVfaWQpOw0KPiAgIAl1aW50MzJfdCBpID0gMCwg
cmVnOw0KPiAgICN1bmRlZiBIUURfTl9SRUdTDQo+ICAgI2RlZmluZSBIUURfTl9SRUdTICgxOSs2
KzcrMTApDQo+ICAgDQo+IC0JcHJfZGVidWcoInNkbWEgZHVtcCBlbmdpbmUgaWQgJWQgcXVldWVf
aWQgJWRcbiIsIGVuZ2luZV9pZCwgcXVldWVfaWQpOw0KPiAtCXByX2RlYnVnKCJzZG1hIGJhc2Ug
YWRkciAleFxuIiwgc2RtYV9iYXNlX2FkZHIpOw0KPiAtDQo+ICAgCSpkdW1wID0ga21hbGxvYyhI
UURfTl9SRUdTKjIqc2l6ZW9mKHVpbnQzMl90KSwgR0ZQX0tFUk5FTCk7DQo+ICAgCWlmICgqZHVt
cCA9PSBOVUxMKQ0KPiAgIAkJcmV0dXJuIC1FTk9NRU07DQo+ICAgDQo+ICAgCWZvciAocmVnID0g
bW1TRE1BMF9STEMwX1JCX0NOVEw7IHJlZyA8PSBtbVNETUEwX1JMQzBfRE9PUkJFTEw7IHJlZysr
KQ0KPiAtCQlEVU1QX1JFRyhzZG1hX2Jhc2VfYWRkciArIHJlZyk7DQo+ICsJCURVTVBfUkVHKHJs
Y19yZWdfb2Zmc2V0ICsgcmVnKTsNCj4gICAJZm9yIChyZWcgPSBtbVNETUEwX1JMQzBfU1RBVFVT
OyByZWcgPD0gbW1TRE1BMF9STEMwX0NTQV9BRERSX0hJOyByZWcrKykNCj4gLQkJRFVNUF9SRUco
c2RtYV9iYXNlX2FkZHIgKyByZWcpOw0KPiArCQlEVU1QX1JFRyhybGNfcmVnX29mZnNldCArIHJl
Zyk7DQo+ICAgCWZvciAocmVnID0gbW1TRE1BMF9STEMwX0lCX1NVQl9SRU1BSU47DQo+ICAgCSAg
ICAgcmVnIDw9IG1tU0RNQTBfUkxDMF9NSU5PUl9QVFJfVVBEQVRFOyByZWcrKykNCj4gLQkJRFVN
UF9SRUcoc2RtYV9iYXNlX2FkZHIgKyByZWcpOw0KPiArCQlEVU1QX1JFRyhybGNfcmVnX29mZnNl
dCArIHJlZyk7DQo+ICAgCWZvciAocmVnID0gbW1TRE1BMF9STEMwX01JRENNRF9EQVRBMDsNCj4g
ICAJICAgICByZWcgPD0gbW1TRE1BMF9STEMwX01JRENNRF9DTlRMOyByZWcrKykNCj4gLQkJRFVN
UF9SRUcoc2RtYV9iYXNlX2FkZHIgKyByZWcpOw0KPiArCQlEVU1QX1JFRyhybGNfcmVnX29mZnNl
dCArIHJlZyk7DQo+ICAgDQo+ICAgCVdBUk5fT05fT05DRShpICE9IEhRRF9OX1JFR1MpOw0KPiAg
IAkqbl9yZWdzID0gaTsNCj4gQEAgLTYxMiwxNCArNjA4LDE0IEBAIHN0YXRpYyBib29sIGtnZF9o
cWRfc2RtYV9pc19vY2N1cGllZChzdHJ1Y3Qga2dkX2RldiAqa2dkLCB2b2lkICptcWQpDQo+ICAg
ew0KPiAgIAlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IGdldF9hbWRncHVfZGV2aWNlKGtn
ZCk7DQo+ICAgCXN0cnVjdCB2MTBfc2RtYV9tcWQgKm07DQo+IC0JdWludDMyX3Qgc2RtYV9iYXNl
X2FkZHI7DQo+ICsJdWludDMyX3QgcmxjX3JlZ19vZmZzZXQ7DQo+ICAgCXVpbnQzMl90IHNkbWFf
cmxjX3JiX2NudGw7DQo+ICAgDQo+ICAgCW0gPSBnZXRfc2RtYV9tcWQobXFkKTsNCj4gLQlzZG1h
X2Jhc2VfYWRkciA9IGdldF9zZG1hX2Jhc2VfYWRkcihhZGV2LCBtLT5zZG1hX2VuZ2luZV9pZCwN
Cj4gKwlybGNfcmVnX29mZnNldCA9IGdldF9ybGNfcmVnX29mZnNldChhZGV2LCBtLT5zZG1hX2Vu
Z2luZV9pZCwNCj4gICAJCQkJCSAgICBtLT5zZG1hX3F1ZXVlX2lkKTsNCj4gICANCj4gLQlzZG1h
X3JsY19yYl9jbnRsID0gUlJFRzMyKHNkbWFfYmFzZV9hZGRyICsgbW1TRE1BMF9STEMwX1JCX0NO
VEwpOw0KPiArCXNkbWFfcmxjX3JiX2NudGwgPSBSUkVHMzIocmxjX3JlZ19vZmZzZXQgKyBtbVNE
TUEwX1JMQzBfUkJfQ05UTCk7DQo+ICAgDQo+ICAgCWlmIChzZG1hX3JsY19yYl9jbnRsICYgU0RN
QTBfUkxDMF9SQl9DTlRMX19SQl9FTkFCTEVfTUFTSykNCj4gICAJCXJldHVybiB0cnVlOw0KPiBA
QCAtNzQwLDIwICs3MzYsMjAgQEAgc3RhdGljIGludCBrZ2RfaHFkX3NkbWFfZGVzdHJveShzdHJ1
Y3Qga2dkX2RldiAqa2dkLCB2b2lkICptcWQsDQo+ICAgew0KPiAgIAlzdHJ1Y3QgYW1kZ3B1X2Rl
dmljZSAqYWRldiA9IGdldF9hbWRncHVfZGV2aWNlKGtnZCk7DQo+ICAgCXN0cnVjdCB2MTBfc2Rt
YV9tcWQgKm07DQo+IC0JdWludDMyX3Qgc2RtYV9iYXNlX2FkZHI7DQo+ICsJdWludDMyX3Qgcmxj
X3JlZ19vZmZzZXQ7DQo+ICAgCXVpbnQzMl90IHRlbXA7DQo+ICAgCXVuc2lnbmVkIGxvbmcgZW5k
X2ppZmZpZXMgPSAodXRpbWVvdXQgKiBIWiAvIDEwMDApICsgamlmZmllczsNCj4gICANCj4gICAJ
bSA9IGdldF9zZG1hX21xZChtcWQpOw0KPiAtCXNkbWFfYmFzZV9hZGRyID0gZ2V0X3NkbWFfYmFz
ZV9hZGRyKGFkZXYsIG0tPnNkbWFfZW5naW5lX2lkLA0KPiArCXJsY19yZWdfb2Zmc2V0ID0gZ2V0
X3JsY19yZWdfb2Zmc2V0KGFkZXYsIG0tPnNkbWFfZW5naW5lX2lkLA0KPiAgIAkJCQkJICAgIG0t
PnNkbWFfcXVldWVfaWQpOw0KPiAgIA0KPiAtCXRlbXAgPSBSUkVHMzIoc2RtYV9iYXNlX2FkZHIg
KyBtbVNETUEwX1JMQzBfUkJfQ05UTCk7DQo+ICsJdGVtcCA9IFJSRUczMihybGNfcmVnX29mZnNl
dCArIG1tU0RNQTBfUkxDMF9SQl9DTlRMKTsNCj4gICAJdGVtcCA9IHRlbXAgJiB+U0RNQTBfUkxD
MF9SQl9DTlRMX19SQl9FTkFCTEVfTUFTSzsNCj4gLQlXUkVHMzIoc2RtYV9iYXNlX2FkZHIgKyBt
bVNETUEwX1JMQzBfUkJfQ05UTCwgdGVtcCk7DQo+ICsJV1JFRzMyKHJsY19yZWdfb2Zmc2V0ICsg
bW1TRE1BMF9STEMwX1JCX0NOVEwsIHRlbXApOw0KPiAgIA0KPiAgIAl3aGlsZSAodHJ1ZSkgew0K
PiAtCQl0ZW1wID0gUlJFRzMyKHNkbWFfYmFzZV9hZGRyICsgbW1TRE1BMF9STEMwX0NPTlRFWFRf
U1RBVFVTKTsNCj4gKwkJdGVtcCA9IFJSRUczMihybGNfcmVnX29mZnNldCArIG1tU0RNQTBfUkxD
MF9DT05URVhUX1NUQVRVUyk7DQo+ICAgCQlpZiAodGVtcCAmIFNETUEwX1JMQzBfQ09OVEVYVF9T
VEFUVVNfX0lETEVfTUFTSykNCj4gICAJCQlicmVhazsNCj4gICAJCWlmICh0aW1lX2FmdGVyKGpp
ZmZpZXMsIGVuZF9qaWZmaWVzKSkNCj4gQEAgLTc2MSwxNCArNzU3LDE0IEBAIHN0YXRpYyBpbnQg
a2dkX2hxZF9zZG1hX2Rlc3Ryb3koc3RydWN0IGtnZF9kZXYgKmtnZCwgdm9pZCAqbXFkLA0KPiAg
IAkJdXNsZWVwX3JhbmdlKDUwMCwgMTAwMCk7DQo+ICAgCX0NCj4gICANCj4gLQlXUkVHMzIoc2Rt
YV9iYXNlX2FkZHIgKyBtbVNETUEwX1JMQzBfRE9PUkJFTEwsIDApOw0KPiAtCVdSRUczMihzZG1h
X2Jhc2VfYWRkciArIG1tU0RNQTBfUkxDMF9SQl9DTlRMLA0KPiAtCQlSUkVHMzIoc2RtYV9iYXNl
X2FkZHIgKyBtbVNETUEwX1JMQzBfUkJfQ05UTCkgfA0KPiArCVdSRUczMihybGNfcmVnX29mZnNl
dCArIG1tU0RNQTBfUkxDMF9ET09SQkVMTCwgMCk7DQo+ICsJV1JFRzMyKHJsY19yZWdfb2Zmc2V0
ICsgbW1TRE1BMF9STEMwX1JCX0NOVEwsDQo+ICsJCVJSRUczMihybGNfcmVnX29mZnNldCArIG1t
U0RNQTBfUkxDMF9SQl9DTlRMKSB8DQo+ICAgCQlTRE1BMF9STEMwX1JCX0NOVExfX1JCX0VOQUJM
RV9NQVNLKTsNCj4gICANCj4gLQltLT5zZG1heF9ybGN4X3JiX3JwdHIgPSBSUkVHMzIoc2RtYV9i
YXNlX2FkZHIgKyBtbVNETUEwX1JMQzBfUkJfUlBUUik7DQo+ICsJbS0+c2RtYXhfcmxjeF9yYl9y
cHRyID0gUlJFRzMyKHJsY19yZWdfb2Zmc2V0ICsgbW1TRE1BMF9STEMwX1JCX1JQVFIpOw0KPiAg
IAltLT5zZG1heF9ybGN4X3JiX3JwdHJfaGkgPQ0KPiAtCQlSUkVHMzIoc2RtYV9iYXNlX2FkZHIg
KyBtbVNETUEwX1JMQzBfUkJfUlBUUl9ISSk7DQo+ICsJCVJSRUczMihybGNfcmVnX29mZnNldCAr
IG1tU0RNQTBfUkxDMF9SQl9SUFRSX0hJKTsNCj4gICANCj4gICAJcmV0dXJuIDA7DQo+ICAgfQ0K
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZF9n
ZnhfdjcuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmRfZ2Z4X3Y3
LmMNCj4gaW5kZXggYzZhYmNmNzJlODIyLi5kMDUxN2I3YWUwODkgMTAwNjQ0DQo+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmRfZ2Z4X3Y3LmMNCj4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZF9nZnhfdjcuYw0KPiBAQCAt
MzAzLDE0ICszMDMsMTQgQEAgc3RhdGljIGludCBrZ2RfaW5pdF9pbnRlcnJ1cHRzKHN0cnVjdCBr
Z2RfZGV2ICprZ2QsIHVpbnQzMl90IHBpcGVfaWQpDQo+ICAgCXJldHVybiAwOw0KPiAgIH0NCj4g
ICANCj4gLXN0YXRpYyBpbmxpbmUgdWludDMyX3QgZ2V0X3NkbWFfYmFzZV9hZGRyKHN0cnVjdCBj
aWtfc2RtYV9ybGNfcmVnaXN0ZXJzICptKQ0KPiArc3RhdGljIGlubGluZSB1aW50MzJfdCBnZXRf
cmxjX3JlZ19vZmZzZXQoc3RydWN0IGNpa19zZG1hX3JsY19yZWdpc3RlcnMgKm0pDQo+ICAgew0K
PiAgIAl1aW50MzJfdCByZXR2YWw7DQo+ICAgDQo+ICAgCXJldHZhbCA9IG0tPnNkbWFfZW5naW5l
X2lkICogU0RNQTFfUkVHSVNURVJfT0ZGU0VUICsNCj4gICAJCQltLT5zZG1hX3F1ZXVlX2lkICog
S0ZEX0NJS19TRE1BX1FVRVVFX09GRlNFVDsNCj4gICANCj4gLQlwcl9kZWJ1Zygic2RtYSBiYXNl
IGFkZHJlc3M6IDB4JXhcbiIsIHJldHZhbCk7DQo+ICsJcHJfZGVidWcoIlJMQyByZWdpc3RlciBv
ZmZzZXQ6IDB4JXhcbiIsIHJldHZhbCk7DQo+ICAgDQo+ICAgCXJldHVybiByZXR2YWw7DQo+ICAg
fQ0KPiBAQCAtNDE3LDcgKzQxNyw3IEBAIHN0YXRpYyBpbnQga2dkX2hxZF9zZG1hX2xvYWQoc3Ry
dWN0IGtnZF9kZXYgKmtnZCwgdm9pZCAqbXFkLA0KPiAgIAl1aW50MzJfdCBkYXRhOw0KPiAgIA0K
PiAgIAltID0gZ2V0X3NkbWFfbXFkKG1xZCk7DQo+IC0Jc2RtYV9iYXNlX2FkZHIgPSBnZXRfc2Rt
YV9iYXNlX2FkZHIobSk7DQo+ICsJc2RtYV9iYXNlX2FkZHIgPSBnZXRfcmxjX3JlZ19vZmZzZXQo
bSk7DQo+ICAgDQo+ICAgCVdSRUczMihzZG1hX2Jhc2VfYWRkciArIG1tU0RNQTBfUkxDMF9SQl9D
TlRMLA0KPiAgIAkJbS0+c2RtYV9ybGNfcmJfY250bCAmICh+U0RNQTBfUkxDMF9SQl9DTlRMX19S
Ql9FTkFCTEVfTUFTSykpOw0KPiBAQCAtNTI4LDcgKzUyOCw3IEBAIHN0YXRpYyBib29sIGtnZF9o
cWRfc2RtYV9pc19vY2N1cGllZChzdHJ1Y3Qga2dkX2RldiAqa2dkLCB2b2lkICptcWQpDQo+ICAg
CXVpbnQzMl90IHNkbWFfcmxjX3JiX2NudGw7DQo+ICAgDQo+ICAgCW0gPSBnZXRfc2RtYV9tcWQo
bXFkKTsNCj4gLQlzZG1hX2Jhc2VfYWRkciA9IGdldF9zZG1hX2Jhc2VfYWRkcihtKTsNCj4gKwlz
ZG1hX2Jhc2VfYWRkciA9IGdldF9ybGNfcmVnX29mZnNldChtKTsNCj4gICANCj4gICAJc2RtYV9y
bGNfcmJfY250bCA9IFJSRUczMihzZG1hX2Jhc2VfYWRkciArIG1tU0RNQTBfUkxDMF9SQl9DTlRM
KTsNCj4gICANCj4gQEAgLTY1MCw3ICs2NTAsNyBAQCBzdGF0aWMgaW50IGtnZF9ocWRfc2RtYV9k
ZXN0cm95KHN0cnVjdCBrZ2RfZGV2ICprZ2QsIHZvaWQgKm1xZCwNCj4gICAJdW5zaWduZWQgbG9u
ZyBlbmRfamlmZmllcyA9ICh1dGltZW91dCAqIEhaIC8gMTAwMCkgKyBqaWZmaWVzOw0KPiAgIA0K
PiAgIAltID0gZ2V0X3NkbWFfbXFkKG1xZCk7DQo+IC0Jc2RtYV9iYXNlX2FkZHIgPSBnZXRfc2Rt
YV9iYXNlX2FkZHIobSk7DQo+ICsJc2RtYV9iYXNlX2FkZHIgPSBnZXRfcmxjX3JlZ19vZmZzZXQo
bSk7DQo+ICAgDQo+ICAgCXRlbXAgPSBSUkVHMzIoc2RtYV9iYXNlX2FkZHIgKyBtbVNETUEwX1JM
QzBfUkJfQ05UTCk7DQo+ICAgCXRlbXAgPSB0ZW1wICYgflNETUEwX1JMQzBfUkJfQ05UTF9fUkJf
RU5BQkxFX01BU0s7DQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9h
bWRncHVfYW1ka2ZkX2dmeF92OC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1
X2FtZGtmZF9nZnhfdjguYw0KPiBpbmRleCA0ZThiNGU5NDk5MjYuLjM3MzUwMWFiZGI2YiAxMDA2
NDQNCj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZF9nZnhf
djguYw0KPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYW1ka2ZkX2dm
eF92OC5jDQo+IEBAIC0yNjAsMTMgKzI2MCwxMyBAQCBzdGF0aWMgaW50IGtnZF9pbml0X2ludGVy
cnVwdHMoc3RydWN0IGtnZF9kZXYgKmtnZCwgdWludDMyX3QgcGlwZV9pZCkNCj4gICAJcmV0dXJu
IDA7DQo+ICAgfQ0KPiAgIA0KPiAtc3RhdGljIGlubGluZSB1aW50MzJfdCBnZXRfc2RtYV9iYXNl
X2FkZHIoc3RydWN0IHZpX3NkbWFfbXFkICptKQ0KPiArc3RhdGljIGlubGluZSB1aW50MzJfdCBn
ZXRfcmxjX3JlZ19vZmZzZXQoc3RydWN0IHZpX3NkbWFfbXFkICptKQ0KPiAgIHsNCj4gICAJdWlu
dDMyX3QgcmV0dmFsOw0KPiAgIA0KPiAgIAlyZXR2YWwgPSBtLT5zZG1hX2VuZ2luZV9pZCAqIFNE
TUExX1JFR0lTVEVSX09GRlNFVCArDQo+ICAgCQltLT5zZG1hX3F1ZXVlX2lkICogS0ZEX1ZJX1NE
TUFfUVVFVUVfT0ZGU0VUOw0KPiAtCXByX2RlYnVnKCJzZG1hIGJhc2UgYWRkcmVzczogMHgleFxu
IiwgcmV0dmFsKTsNCj4gKwlwcl9kZWJ1ZygiUkxDIHJlZ2lzdGVyIG9mZnNldDogMHgleFxuIiwg
cmV0dmFsKTsNCj4gICANCj4gICAJcmV0dXJuIHJldHZhbDsNCj4gICB9DQo+IEBAIC00MDIsNyAr
NDAyLDcgQEAgc3RhdGljIGludCBrZ2RfaHFkX3NkbWFfbG9hZChzdHJ1Y3Qga2dkX2RldiAqa2dk
LCB2b2lkICptcWQsDQo+ICAgCXVpbnQzMl90IGRhdGE7DQo+ICAgDQo+ICAgCW0gPSBnZXRfc2Rt
YV9tcWQobXFkKTsNCj4gLQlzZG1hX2Jhc2VfYWRkciA9IGdldF9zZG1hX2Jhc2VfYWRkcihtKTsN
Cj4gKwlzZG1hX2Jhc2VfYWRkciA9IGdldF9ybGNfcmVnX29mZnNldChtKTsNCj4gICAJV1JFRzMy
KHNkbWFfYmFzZV9hZGRyICsgbW1TRE1BMF9STEMwX1JCX0NOVEwsDQo+ICAgCQltLT5zZG1heF9y
bGN4X3JiX2NudGwgJiAoflNETUEwX1JMQzBfUkJfQ05UTF9fUkJfRU5BQkxFX01BU0spKTsNCj4g
ICANCj4gQEAgLTUyMSw3ICs1MjEsNyBAQCBzdGF0aWMgYm9vbCBrZ2RfaHFkX3NkbWFfaXNfb2Nj
dXBpZWQoc3RydWN0IGtnZF9kZXYgKmtnZCwgdm9pZCAqbXFkKQ0KPiAgIAl1aW50MzJfdCBzZG1h
X3JsY19yYl9jbnRsOw0KPiAgIA0KPiAgIAltID0gZ2V0X3NkbWFfbXFkKG1xZCk7DQo+IC0Jc2Rt
YV9iYXNlX2FkZHIgPSBnZXRfc2RtYV9iYXNlX2FkZHIobSk7DQo+ICsJc2RtYV9iYXNlX2FkZHIg
PSBnZXRfcmxjX3JlZ19vZmZzZXQobSk7DQo+ICAgDQo+ICAgCXNkbWFfcmxjX3JiX2NudGwgPSBS
UkVHMzIoc2RtYV9iYXNlX2FkZHIgKyBtbVNETUEwX1JMQzBfUkJfQ05UTCk7DQo+ICAgDQo+IEBA
IC02NDYsNyArNjQ2LDcgQEAgc3RhdGljIGludCBrZ2RfaHFkX3NkbWFfZGVzdHJveShzdHJ1Y3Qg
a2dkX2RldiAqa2dkLCB2b2lkICptcWQsDQo+ICAgCXVuc2lnbmVkIGxvbmcgZW5kX2ppZmZpZXMg
PSAodXRpbWVvdXQgKiBIWiAvIDEwMDApICsgamlmZmllczsNCj4gICANCj4gICAJbSA9IGdldF9z
ZG1hX21xZChtcWQpOw0KPiAtCXNkbWFfYmFzZV9hZGRyID0gZ2V0X3NkbWFfYmFzZV9hZGRyKG0p
Ow0KPiArCXNkbWFfYmFzZV9hZGRyID0gZ2V0X3JsY19yZWdfb2Zmc2V0KG0pOw0KPiAgIA0KPiAg
IAl0ZW1wID0gUlJFRzMyKHNkbWFfYmFzZV9hZGRyICsgbW1TRE1BMF9STEMwX1JCX0NOVEwpOw0K
PiAgIAl0ZW1wID0gdGVtcCAmIH5TRE1BMF9STEMwX1JCX0NOVExfX1JCX0VOQUJMRV9NQVNLOw0K
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZF9n
ZnhfdjkuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmRfZ2Z4X3Y5
LmMNCj4gaW5kZXggNTU0MzdmMTYwYTcyLi4yZGQ1YmM2NzYwMjkgMTAwNjQ0DQo+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmRfZ2Z4X3Y5LmMNCj4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZF9nZnhfdjkuYw0KPiBAQCAt
MjI2LDIyICsyMjYsMjAgQEAgaW50IGtnZF9nZnhfdjlfaW5pdF9pbnRlcnJ1cHRzKHN0cnVjdCBr
Z2RfZGV2ICprZ2QsIHVpbnQzMl90IHBpcGVfaWQpDQo+ICAgCXJldHVybiAwOw0KPiAgIH0NCj4g
ICANCj4gLXN0YXRpYyB1aW50MzJfdCBnZXRfc2RtYV9iYXNlX2FkZHIoc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYsDQo+ICtzdGF0aWMgdWludDMyX3QgZ2V0X3JsY19yZWdfb2Zmc2V0KHN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2LA0KPiAgIAkJCQl1bnNpZ25lZCBpbnQgZW5naW5lX2lkLA0K
PiAgIAkJCQl1bnNpZ25lZCBpbnQgcXVldWVfaWQpDQo+ICAgew0KPiAtCXVpbnQzMl90IGJhc2Vb
Ml0gPSB7DQo+ICsJdWludDMyX3Qgc2RtYV9lbmdpbmVfcmVnX2Jhc2VbMl0gPSB7DQo+ICAgCQlT
T0MxNV9SRUdfT0ZGU0VUKFNETUEwLCAwLA0KPiAgIAkJCQkgbW1TRE1BMF9STEMwX1JCX0NOVEwp
IC0gbW1TRE1BMF9STEMwX1JCX0NOVEwsDQo+ICAgCQlTT0MxNV9SRUdfT0ZGU0VUKFNETUExLCAw
LA0KPiAgIAkJCQkgbW1TRE1BMV9STEMwX1JCX0NOVEwpIC0gbW1TRE1BMV9STEMwX1JCX0NOVEwN
Cj4gICAJfTsNCj4gLQl1aW50MzJfdCByZXR2YWw7DQo+ICsJdWludDMyX3QgcmV0dmFsID0gc2Rt
YV9lbmdpbmVfcmVnX2Jhc2VbZW5naW5lX2lkXQ0KPiArCQkrIHF1ZXVlX2lkICogKG1tU0RNQTBf
UkxDMV9SQl9DTlRMIC0gbW1TRE1BMF9STEMwX1JCX0NOVEwpOw0KPiAgIA0KPiAtCXJldHZhbCA9
IGJhc2VbZW5naW5lX2lkXSArIHF1ZXVlX2lkICogKG1tU0RNQTBfUkxDMV9SQl9DTlRMIC0NCj4g
LQkJCQkJICAgICAgIG1tU0RNQTBfUkxDMF9SQl9DTlRMKTsNCj4gLQ0KPiAtCXByX2RlYnVnKCJz
ZG1hIGJhc2UgYWRkcmVzczogMHgleFxuIiwgcmV0dmFsKTsNCj4gKwlwcl9kZWJ1ZygiUkxDIHJl
Z2lzdGVyIG9mZnNldDogMHgleFxuIiwgcmV0dmFsKTsNCj4gICANCj4gICAJcmV0dXJuIHJldHZh
bDsNCj4gICB9DQo+IEBAIC0zODgsMjIgKzM4NiwyMiBAQCBzdGF0aWMgaW50IGtnZF9ocWRfc2Rt
YV9sb2FkKHN0cnVjdCBrZ2RfZGV2ICprZ2QsIHZvaWQgKm1xZCwNCj4gICB7DQo+ICAgCXN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2ID0gZ2V0X2FtZGdwdV9kZXZpY2Uoa2dkKTsNCj4gICAJc3Ry
dWN0IHY5X3NkbWFfbXFkICptOw0KPiAtCXVpbnQzMl90IHNkbWFfYmFzZV9hZGRyOw0KPiArCXVp
bnQzMl90IHJsY19yZWdfb2Zmc2V0Ow0KPiAgIAl1bnNpZ25lZCBsb25nIGVuZF9qaWZmaWVzOw0K
PiAgIAl1aW50MzJfdCBkYXRhOw0KPiAgIAl1aW50NjRfdCBkYXRhNjQ7DQo+ICAgCXVpbnQ2NF90
IF9fdXNlciAqd3B0cjY0ID0gKHVpbnQ2NF90IF9fdXNlciAqKXdwdHI7DQo+ICAgDQo+ICAgCW0g
PSBnZXRfc2RtYV9tcWQobXFkKTsNCj4gLQlzZG1hX2Jhc2VfYWRkciA9IGdldF9zZG1hX2Jhc2Vf
YWRkcihhZGV2LCBtLT5zZG1hX2VuZ2luZV9pZCwNCj4gKwlybGNfcmVnX29mZnNldCA9IGdldF9y
bGNfcmVnX29mZnNldChhZGV2LCBtLT5zZG1hX2VuZ2luZV9pZCwNCj4gICAJCQkJCSAgICBtLT5z
ZG1hX3F1ZXVlX2lkKTsNCj4gICANCj4gLQlXUkVHMzIoc2RtYV9iYXNlX2FkZHIgKyBtbVNETUEw
X1JMQzBfUkJfQ05UTCwNCj4gKwlXUkVHMzIocmxjX3JlZ19vZmZzZXQgKyBtbVNETUEwX1JMQzBf
UkJfQ05UTCwNCj4gICAJCW0tPnNkbWF4X3JsY3hfcmJfY250bCAmICh+U0RNQTBfUkxDMF9SQl9D
TlRMX19SQl9FTkFCTEVfTUFTSykpOw0KPiAgIA0KPiAgIAllbmRfamlmZmllcyA9IG1zZWNzX3Rv
X2ppZmZpZXMoMjAwMCkgKyBqaWZmaWVzOw0KPiAgIAl3aGlsZSAodHJ1ZSkgew0KPiAtCQlkYXRh
ID0gUlJFRzMyKHNkbWFfYmFzZV9hZGRyICsgbW1TRE1BMF9STEMwX0NPTlRFWFRfU1RBVFVTKTsN
Cj4gKwkJZGF0YSA9IFJSRUczMihybGNfcmVnX29mZnNldCArIG1tU0RNQTBfUkxDMF9DT05URVhU
X1NUQVRVUyk7DQo+ICAgCQlpZiAoZGF0YSAmIFNETUEwX1JMQzBfQ09OVEVYVF9TVEFUVVNfX0lE
TEVfTUFTSykNCj4gICAJCQlicmVhazsNCj4gICAJCWlmICh0aW1lX2FmdGVyKGppZmZpZXMsIGVu
ZF9qaWZmaWVzKSkNCj4gQEAgLTQxMSw0MSArNDA5LDQxIEBAIHN0YXRpYyBpbnQga2dkX2hxZF9z
ZG1hX2xvYWQoc3RydWN0IGtnZF9kZXYgKmtnZCwgdm9pZCAqbXFkLA0KPiAgIAkJdXNsZWVwX3Jh
bmdlKDUwMCwgMTAwMCk7DQo+ICAgCX0NCj4gICANCj4gLQlXUkVHMzIoc2RtYV9iYXNlX2FkZHIg
KyBtbVNETUEwX1JMQzBfRE9PUkJFTExfT0ZGU0VULA0KPiArCVdSRUczMihybGNfcmVnX29mZnNl
dCArIG1tU0RNQTBfUkxDMF9ET09SQkVMTF9PRkZTRVQsDQo+ICAgCSAgICAgICBtLT5zZG1heF9y
bGN4X2Rvb3JiZWxsX29mZnNldCk7DQo+ICAgDQo+ICAgCWRhdGEgPSBSRUdfU0VUX0ZJRUxEKG0t
PnNkbWF4X3JsY3hfZG9vcmJlbGwsIFNETUEwX1JMQzBfRE9PUkJFTEwsDQo+ICAgCQkJICAgICBF
TkFCTEUsIDEpOw0KPiAtCVdSRUczMihzZG1hX2Jhc2VfYWRkciArIG1tU0RNQTBfUkxDMF9ET09S
QkVMTCwgZGF0YSk7DQo+IC0JV1JFRzMyKHNkbWFfYmFzZV9hZGRyICsgbW1TRE1BMF9STEMwX1JC
X1JQVFIsIG0tPnNkbWF4X3JsY3hfcmJfcnB0cik7DQo+IC0JV1JFRzMyKHNkbWFfYmFzZV9hZGRy
ICsgbW1TRE1BMF9STEMwX1JCX1JQVFJfSEksDQo+ICsJV1JFRzMyKHJsY19yZWdfb2Zmc2V0ICsg
bW1TRE1BMF9STEMwX0RPT1JCRUxMLCBkYXRhKTsNCj4gKwlXUkVHMzIocmxjX3JlZ19vZmZzZXQg
KyBtbVNETUEwX1JMQzBfUkJfUlBUUiwgbS0+c2RtYXhfcmxjeF9yYl9ycHRyKTsNCj4gKwlXUkVH
MzIocmxjX3JlZ19vZmZzZXQgKyBtbVNETUEwX1JMQzBfUkJfUlBUUl9ISSwNCj4gICAJCQkJbS0+
c2RtYXhfcmxjeF9yYl9ycHRyX2hpKTsNCj4gICANCj4gLQlXUkVHMzIoc2RtYV9iYXNlX2FkZHIg
KyBtbVNETUEwX1JMQzBfTUlOT1JfUFRSX1VQREFURSwgMSk7DQo+ICsJV1JFRzMyKHJsY19yZWdf
b2Zmc2V0ICsgbW1TRE1BMF9STEMwX01JTk9SX1BUUl9VUERBVEUsIDEpOw0KPiAgIAlpZiAocmVh
ZF91c2VyX3dwdHIobW0sIHdwdHI2NCwgZGF0YTY0KSkgew0KPiAtCQlXUkVHMzIoc2RtYV9iYXNl
X2FkZHIgKyBtbVNETUEwX1JMQzBfUkJfV1BUUiwNCj4gKwkJV1JFRzMyKHJsY19yZWdfb2Zmc2V0
ICsgbW1TRE1BMF9STEMwX1JCX1dQVFIsDQo+ICAgCQkgICAgICAgbG93ZXJfMzJfYml0cyhkYXRh
NjQpKTsNCj4gLQkJV1JFRzMyKHNkbWFfYmFzZV9hZGRyICsgbW1TRE1BMF9STEMwX1JCX1dQVFJf
SEksDQo+ICsJCVdSRUczMihybGNfcmVnX29mZnNldCArIG1tU0RNQTBfUkxDMF9SQl9XUFRSX0hJ
LA0KPiAgIAkJICAgICAgIHVwcGVyXzMyX2JpdHMoZGF0YTY0KSk7DQo+ICAgCX0gZWxzZSB7DQo+
IC0JCVdSRUczMihzZG1hX2Jhc2VfYWRkciArIG1tU0RNQTBfUkxDMF9SQl9XUFRSLA0KPiArCQlX
UkVHMzIocmxjX3JlZ19vZmZzZXQgKyBtbVNETUEwX1JMQzBfUkJfV1BUUiwNCj4gICAJCSAgICAg
ICBtLT5zZG1heF9ybGN4X3JiX3JwdHIpOw0KPiAtCQlXUkVHMzIoc2RtYV9iYXNlX2FkZHIgKyBt
bVNETUEwX1JMQzBfUkJfV1BUUl9ISSwNCj4gKwkJV1JFRzMyKHJsY19yZWdfb2Zmc2V0ICsgbW1T
RE1BMF9STEMwX1JCX1dQVFJfSEksDQo+ICAgCQkgICAgICAgbS0+c2RtYXhfcmxjeF9yYl9ycHRy
X2hpKTsNCj4gICAJfQ0KPiAtCVdSRUczMihzZG1hX2Jhc2VfYWRkciArIG1tU0RNQTBfUkxDMF9N
SU5PUl9QVFJfVVBEQVRFLCAwKTsNCj4gKwlXUkVHMzIocmxjX3JlZ19vZmZzZXQgKyBtbVNETUEw
X1JMQzBfTUlOT1JfUFRSX1VQREFURSwgMCk7DQo+ICAgDQo+IC0JV1JFRzMyKHNkbWFfYmFzZV9h
ZGRyICsgbW1TRE1BMF9STEMwX1JCX0JBU0UsIG0tPnNkbWF4X3JsY3hfcmJfYmFzZSk7DQo+IC0J
V1JFRzMyKHNkbWFfYmFzZV9hZGRyICsgbW1TRE1BMF9STEMwX1JCX0JBU0VfSEksDQo+ICsJV1JF
RzMyKHJsY19yZWdfb2Zmc2V0ICsgbW1TRE1BMF9STEMwX1JCX0JBU0UsIG0tPnNkbWF4X3JsY3hf
cmJfYmFzZSk7DQo+ICsJV1JFRzMyKHJsY19yZWdfb2Zmc2V0ICsgbW1TRE1BMF9STEMwX1JCX0JB
U0VfSEksDQo+ICAgCQkJbS0+c2RtYXhfcmxjeF9yYl9iYXNlX2hpKTsNCj4gLQlXUkVHMzIoc2Rt
YV9iYXNlX2FkZHIgKyBtbVNETUEwX1JMQzBfUkJfUlBUUl9BRERSX0xPLA0KPiArCVdSRUczMihy
bGNfcmVnX29mZnNldCArIG1tU0RNQTBfUkxDMF9SQl9SUFRSX0FERFJfTE8sDQo+ICAgCQkJbS0+
c2RtYXhfcmxjeF9yYl9ycHRyX2FkZHJfbG8pOw0KPiAtCVdSRUczMihzZG1hX2Jhc2VfYWRkciAr
IG1tU0RNQTBfUkxDMF9SQl9SUFRSX0FERFJfSEksDQo+ICsJV1JFRzMyKHJsY19yZWdfb2Zmc2V0
ICsgbW1TRE1BMF9STEMwX1JCX1JQVFJfQUREUl9ISSwNCj4gICAJCQltLT5zZG1heF9ybGN4X3Ji
X3JwdHJfYWRkcl9oaSk7DQo+ICAgDQo+ICAgCWRhdGEgPSBSRUdfU0VUX0ZJRUxEKG0tPnNkbWF4
X3JsY3hfcmJfY250bCwgU0RNQTBfUkxDMF9SQl9DTlRMLA0KPiAgIAkJCSAgICAgUkJfRU5BQkxF
LCAxKTsNCj4gLQlXUkVHMzIoc2RtYV9iYXNlX2FkZHIgKyBtbVNETUEwX1JMQzBfUkJfQ05UTCwg
ZGF0YSk7DQo+ICsJV1JFRzMyKHJsY19yZWdfb2Zmc2V0ICsgbW1TRE1BMF9STEMwX1JCX0NOVEws
IGRhdGEpOw0KPiAgIA0KPiAgIAlyZXR1cm4gMDsNCj4gICB9DQo+IEBAIC00NTUsNyArNDUzLDcg
QEAgc3RhdGljIGludCBrZ2RfaHFkX3NkbWFfZHVtcChzdHJ1Y3Qga2dkX2RldiAqa2dkLA0KPiAg
IAkJCSAgICAgdWludDMyX3QgKCoqZHVtcClbMl0sIHVpbnQzMl90ICpuX3JlZ3MpDQo+ICAgew0K
PiAgIAlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IGdldF9hbWRncHVfZGV2aWNlKGtnZCk7
DQo+IC0JdWludDMyX3Qgc2RtYV9iYXNlX2FkZHIgPSBnZXRfc2RtYV9iYXNlX2FkZHIoYWRldiwg
ZW5naW5lX2lkLCBxdWV1ZV9pZCk7DQo+ICsJdWludDMyX3QgcmxjX3JlZ19vZmZzZXQgPSBnZXRf
cmxjX3JlZ19vZmZzZXQoYWRldiwgZW5naW5lX2lkLCBxdWV1ZV9pZCk7DQo+ICAgCXVpbnQzMl90
IGkgPSAwLCByZWc7DQo+ICAgI3VuZGVmIEhRRF9OX1JFR1MNCj4gICAjZGVmaW5lIEhRRF9OX1JF
R1MgKDE5KzYrNysxMCkNCj4gQEAgLTQ2NSwxNSArNDYzLDE1IEBAIHN0YXRpYyBpbnQga2dkX2hx
ZF9zZG1hX2R1bXAoc3RydWN0IGtnZF9kZXYgKmtnZCwNCj4gICAJCXJldHVybiAtRU5PTUVNOw0K
PiAgIA0KPiAgIAlmb3IgKHJlZyA9IG1tU0RNQTBfUkxDMF9SQl9DTlRMOyByZWcgPD0gbW1TRE1B
MF9STEMwX0RPT1JCRUxMOyByZWcrKykNCj4gLQkJRFVNUF9SRUcoc2RtYV9iYXNlX2FkZHIgKyBy
ZWcpOw0KPiArCQlEVU1QX1JFRyhybGNfcmVnX29mZnNldCArIHJlZyk7DQo+ICAgCWZvciAocmVn
ID0gbW1TRE1BMF9STEMwX1NUQVRVUzsgcmVnIDw9IG1tU0RNQTBfUkxDMF9DU0FfQUREUl9ISTsg
cmVnKyspDQo+IC0JCURVTVBfUkVHKHNkbWFfYmFzZV9hZGRyICsgcmVnKTsNCj4gKwkJRFVNUF9S
RUcocmxjX3JlZ19vZmZzZXQgKyByZWcpOw0KPiAgIAlmb3IgKHJlZyA9IG1tU0RNQTBfUkxDMF9J
Ql9TVUJfUkVNQUlOOw0KPiAgIAkgICAgIHJlZyA8PSBtbVNETUEwX1JMQzBfTUlOT1JfUFRSX1VQ
REFURTsgcmVnKyspDQo+IC0JCURVTVBfUkVHKHNkbWFfYmFzZV9hZGRyICsgcmVnKTsNCj4gKwkJ
RFVNUF9SRUcocmxjX3JlZ19vZmZzZXQgKyByZWcpOw0KPiAgIAlmb3IgKHJlZyA9IG1tU0RNQTBf
UkxDMF9NSURDTURfREFUQTA7DQo+ICAgCSAgICAgcmVnIDw9IG1tU0RNQTBfUkxDMF9NSURDTURf
Q05UTDsgcmVnKyspDQo+IC0JCURVTVBfUkVHKHNkbWFfYmFzZV9hZGRyICsgcmVnKTsNCj4gKwkJ
RFVNUF9SRUcocmxjX3JlZ19vZmZzZXQgKyByZWcpOw0KPiAgIA0KPiAgIAlXQVJOX09OX09OQ0Uo
aSAhPSBIUURfTl9SRUdTKTsNCj4gICAJKm5fcmVncyA9IGk7DQo+IEBAIC01MDcsMTQgKzUwNSwx
NCBAQCBzdGF0aWMgYm9vbCBrZ2RfaHFkX3NkbWFfaXNfb2NjdXBpZWQoc3RydWN0IGtnZF9kZXYg
KmtnZCwgdm9pZCAqbXFkKQ0KPiAgIHsNCj4gICAJc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYg
PSBnZXRfYW1kZ3B1X2RldmljZShrZ2QpOw0KPiAgIAlzdHJ1Y3Qgdjlfc2RtYV9tcWQgKm07DQo+
IC0JdWludDMyX3Qgc2RtYV9iYXNlX2FkZHI7DQo+ICsJdWludDMyX3QgcmxjX3JlZ19vZmZzZXQ7
DQo+ICAgCXVpbnQzMl90IHNkbWFfcmxjX3JiX2NudGw7DQo+ICAgDQo+ICAgCW0gPSBnZXRfc2Rt
YV9tcWQobXFkKTsNCj4gLQlzZG1hX2Jhc2VfYWRkciA9IGdldF9zZG1hX2Jhc2VfYWRkcihhZGV2
LCBtLT5zZG1hX2VuZ2luZV9pZCwNCj4gKwlybGNfcmVnX29mZnNldCA9IGdldF9ybGNfcmVnX29m
ZnNldChhZGV2LCBtLT5zZG1hX2VuZ2luZV9pZCwNCj4gICAJCQkJCSAgICBtLT5zZG1hX3F1ZXVl
X2lkKTsNCj4gICANCj4gLQlzZG1hX3JsY19yYl9jbnRsID0gUlJFRzMyKHNkbWFfYmFzZV9hZGRy
ICsgbW1TRE1BMF9STEMwX1JCX0NOVEwpOw0KPiArCXNkbWFfcmxjX3JiX2NudGwgPSBSUkVHMzIo
cmxjX3JlZ19vZmZzZXQgKyBtbVNETUEwX1JMQzBfUkJfQ05UTCk7DQo+ICAgDQo+ICAgCWlmIChz
ZG1hX3JsY19yYl9jbnRsICYgU0RNQTBfUkxDMF9SQl9DTlRMX19SQl9FTkFCTEVfTUFTSykNCj4g
ICAJCXJldHVybiB0cnVlOw0KPiBAQCAtNTc3LDIwICs1NzUsMjAgQEAgc3RhdGljIGludCBrZ2Rf
aHFkX3NkbWFfZGVzdHJveShzdHJ1Y3Qga2dkX2RldiAqa2dkLCB2b2lkICptcWQsDQo+ICAgew0K
PiAgIAlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IGdldF9hbWRncHVfZGV2aWNlKGtnZCk7
DQo+ICAgCXN0cnVjdCB2OV9zZG1hX21xZCAqbTsNCj4gLQl1aW50MzJfdCBzZG1hX2Jhc2VfYWRk
cjsNCj4gKwl1aW50MzJfdCBybGNfcmVnX29mZnNldDsNCj4gICAJdWludDMyX3QgdGVtcDsNCj4g
ICAJdW5zaWduZWQgbG9uZyBlbmRfamlmZmllcyA9ICh1dGltZW91dCAqIEhaIC8gMTAwMCkgKyBq
aWZmaWVzOw0KPiAgIA0KPiAgIAltID0gZ2V0X3NkbWFfbXFkKG1xZCk7DQo+IC0Jc2RtYV9iYXNl
X2FkZHIgPSBnZXRfc2RtYV9iYXNlX2FkZHIoYWRldiwgbS0+c2RtYV9lbmdpbmVfaWQsDQo+ICsJ
cmxjX3JlZ19vZmZzZXQgPSBnZXRfcmxjX3JlZ19vZmZzZXQoYWRldiwgbS0+c2RtYV9lbmdpbmVf
aWQsDQo+ICAgCQkJCQkgICAgbS0+c2RtYV9xdWV1ZV9pZCk7DQo+ICAgDQo+IC0JdGVtcCA9IFJS
RUczMihzZG1hX2Jhc2VfYWRkciArIG1tU0RNQTBfUkxDMF9SQl9DTlRMKTsNCj4gKwl0ZW1wID0g
UlJFRzMyKHJsY19yZWdfb2Zmc2V0ICsgbW1TRE1BMF9STEMwX1JCX0NOVEwpOw0KPiAgIAl0ZW1w
ID0gdGVtcCAmIH5TRE1BMF9STEMwX1JCX0NOVExfX1JCX0VOQUJMRV9NQVNLOw0KPiAtCVdSRUcz
MihzZG1hX2Jhc2VfYWRkciArIG1tU0RNQTBfUkxDMF9SQl9DTlRMLCB0ZW1wKTsNCj4gKwlXUkVH
MzIocmxjX3JlZ19vZmZzZXQgKyBtbVNETUEwX1JMQzBfUkJfQ05UTCwgdGVtcCk7DQo+ICAgDQo+
ICAgCXdoaWxlICh0cnVlKSB7DQo+IC0JCXRlbXAgPSBSUkVHMzIoc2RtYV9iYXNlX2FkZHIgKyBt
bVNETUEwX1JMQzBfQ09OVEVYVF9TVEFUVVMpOw0KPiArCQl0ZW1wID0gUlJFRzMyKHJsY19yZWdf
b2Zmc2V0ICsgbW1TRE1BMF9STEMwX0NPTlRFWFRfU1RBVFVTKTsNCj4gICAJCWlmICh0ZW1wICYg
U0RNQTBfUkxDMF9DT05URVhUX1NUQVRVU19fSURMRV9NQVNLKQ0KPiAgIAkJCWJyZWFrOw0KPiAg
IAkJaWYgKHRpbWVfYWZ0ZXIoamlmZmllcywgZW5kX2ppZmZpZXMpKQ0KPiBAQCAtNTk4LDE0ICs1
OTYsMTQgQEAgc3RhdGljIGludCBrZ2RfaHFkX3NkbWFfZGVzdHJveShzdHJ1Y3Qga2dkX2RldiAq
a2dkLCB2b2lkICptcWQsDQo+ICAgCQl1c2xlZXBfcmFuZ2UoNTAwLCAxMDAwKTsNCj4gICAJfQ0K
PiAgIA0KPiAtCVdSRUczMihzZG1hX2Jhc2VfYWRkciArIG1tU0RNQTBfUkxDMF9ET09SQkVMTCwg
MCk7DQo+IC0JV1JFRzMyKHNkbWFfYmFzZV9hZGRyICsgbW1TRE1BMF9STEMwX1JCX0NOVEwsDQo+
IC0JCVJSRUczMihzZG1hX2Jhc2VfYWRkciArIG1tU0RNQTBfUkxDMF9SQl9DTlRMKSB8DQo+ICsJ
V1JFRzMyKHJsY19yZWdfb2Zmc2V0ICsgbW1TRE1BMF9STEMwX0RPT1JCRUxMLCAwKTsNCj4gKwlX
UkVHMzIocmxjX3JlZ19vZmZzZXQgKyBtbVNETUEwX1JMQzBfUkJfQ05UTCwNCj4gKwkJUlJFRzMy
KHJsY19yZWdfb2Zmc2V0ICsgbW1TRE1BMF9STEMwX1JCX0NOVEwpIHwNCj4gICAJCVNETUEwX1JM
QzBfUkJfQ05UTF9fUkJfRU5BQkxFX01BU0spOw0KPiAgIA0KPiAtCW0tPnNkbWF4X3JsY3hfcmJf
cnB0ciA9IFJSRUczMihzZG1hX2Jhc2VfYWRkciArIG1tU0RNQTBfUkxDMF9SQl9SUFRSKTsNCj4g
KwltLT5zZG1heF9ybGN4X3JiX3JwdHIgPSBSUkVHMzIocmxjX3JlZ19vZmZzZXQgKyBtbVNETUEw
X1JMQzBfUkJfUlBUUik7DQo+ICAgCW0tPnNkbWF4X3JsY3hfcmJfcnB0cl9oaSA9DQo+IC0JCVJS
RUczMihzZG1hX2Jhc2VfYWRkciArIG1tU0RNQTBfUkxDMF9SQl9SUFRSX0hJKTsNCj4gKwkJUlJF
RzMyKHJsY19yZWdfb2Zmc2V0ICsgbW1TRE1BMF9STEMwX1JCX1JQVFJfSEkpOw0KPiAgIA0KPiAg
IAlyZXR1cm4gMDsNCj4gICB9DQpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9w
Lm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1n
Zng=
