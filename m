Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 55E9937C34
	for <lists+amd-gfx@lfdr.de>; Thu,  6 Jun 2019 20:25:23 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id EAB00894EA;
	Thu,  6 Jun 2019 18:25:21 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM03-CO1-obe.outbound.protection.outlook.com
 (mail-eopbgr790059.outbound.protection.outlook.com [40.107.79.59])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E9031894EA
 for <amd-gfx@lists.freedesktop.org>; Thu,  6 Jun 2019 18:25:20 +0000 (UTC)
Received: from BL0PR12MB2580.namprd12.prod.outlook.com (52.132.27.147) by
 BL0PR12MB2579.namprd12.prod.outlook.com (52.132.27.146) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1943.22; Thu, 6 Jun 2019 18:25:17 +0000
Received: from BL0PR12MB2580.namprd12.prod.outlook.com
 ([fe80::24a0:610c:5b5c:9b9b]) by BL0PR12MB2580.namprd12.prod.outlook.com
 ([fe80::24a0:610c:5b5c:9b9b%5]) with mapi id 15.20.1943.023; Thu, 6 Jun 2019
 18:25:17 +0000
From: "Zeng, Oak" <Oak.Zeng@amd.com>
To: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: [PATCH 5/6] drm/amdkfd: Fix a circular lock dependency
Thread-Topic: [PATCH 5/6] drm/amdkfd: Fix a circular lock dependency
Thread-Index: AQHVHJUwqnre6e6KoU+2YLrTko5hlQ==
Date: Thu, 6 Jun 2019 18:25:17 +0000
Message-ID: <1559845507-3052-2-git-send-email-Oak.Zeng@amd.com>
References: <1559845507-3052-1-git-send-email-Oak.Zeng@amd.com>
In-Reply-To: <1559845507-3052-1-git-send-email-Oak.Zeng@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: YTXPR0101CA0015.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:b00::28) To BL0PR12MB2580.namprd12.prod.outlook.com
 (2603:10b6:207:3e::19)
x-mailer: git-send-email 2.7.4
x-ms-exchange-messagesentrepresentingtype: 1
x-originating-ip: [165.204.55.250]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: df75fdf9-d6d3-42f8-0bef-08d6eaac5323
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:BL0PR12MB2579; 
x-ms-traffictypediagnostic: BL0PR12MB2579:
x-microsoft-antispam-prvs: <BL0PR12MB2579E08F3FB76C31902005DE80170@BL0PR12MB2579.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:7691;
x-forefront-prvs: 00603B7EEF
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(376002)(396003)(136003)(366004)(39850400004)(346002)(199004)(189003)(2906002)(6116002)(3846002)(11346002)(86362001)(6486002)(2501003)(478600001)(446003)(66476007)(6916009)(6436002)(64756008)(66556008)(66946007)(36756003)(73956011)(476003)(2616005)(66446008)(53936002)(5640700003)(486006)(99286004)(6512007)(4326008)(102836004)(5660300002)(186003)(71190400001)(71200400001)(6506007)(386003)(14454004)(72206003)(26005)(66066001)(50226002)(52116002)(8676002)(25786009)(14444005)(256004)(2351001)(5024004)(54906003)(81156014)(81166006)(76176011)(305945005)(8936002)(68736007)(7736002)(316002);
 DIR:OUT; SFP:1101; SCL:1; SRVR:BL0PR12MB2579;
 H:BL0PR12MB2580.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: 9va8IMyKh/ZqGKsjRNEEjVL3q7NinwOigcPI04IzAxKNv2hnuwI3m6LyUBWE0/VZskDK/yNcV1FafHsJOhzZI+ce6P36l1EqUSJr7Y3Q6owjr0KxJwrc1/4sU4waOlPWCBXjyd7JaCZJQ4PfkFgmvaxlRRGzdY5jrZYjxUSH927bBI88NuE522yVt36pXbkt63Py686CnjNLWbjCjJxIl37FZN/YE7rekGSzKKiGCdmKPw5g8Tr7hA42MV2eRf1COnEHOlup0f+0JkPNWIQiGmBw+kA8/X0BXeuGuBahLcyLu9EzvG9LDn0/MsJ/INWcg0+QQwrEcqB6lG74KhF/ZoNrow0/cKAYhvUybAB/1Ge5azH35AzybYFPC7JJ2ajeVQ/WWxv4L17N6rZZhU/mrxwXIRx4M9y3jxjNzOtRn6o=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: df75fdf9-d6d3-42f8-0bef-08d6eaac5323
X-MS-Exchange-CrossTenant-originalarrivaltime: 06 Jun 2019 18:25:17.2152 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: ozeng@amd.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BL0PR12MB2579
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=Jk5XYA5vUMAm7XAtJz4xDAbLDxnuFK6C00Vj1H7x2/c=;
 b=EGAlkyeIEqEbBZxbhvl5PA2gi7JVEYFwNl7U/fwaVmDzkvRzGrsX4BqHAXN9iZfUqvzOBdMIsANkfbLmRd5QTYcMsHsYOIK8n4W5jymd78AGbYeDvv8dzMRb0oQNovo4LtqiROVoyn6nJ0BjRZcHJRHNrzyn7CLKDjZG4rPqfac=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Oak.Zeng@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Zhao, Yong" <Yong.Zhao@amd.com>, "Kuehling,
 Felix" <Felix.Kuehling@amd.com>, "Freehill, Chris" <Chris.Freehill@amd.com>,
 "Zeng, Oak" <Oak.Zeng@amd.com>, "Liu, Alex" <Alex.Liu@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

VGhlIGlkZWEgdG8gYnJlYWsgdGhlIGNpcmN1bGFyIGxvY2sgZGVwZW5kZW5jeSBpcyB0byBtb3Zl
IGFsbG9jYXRlX21xZA0Kb3V0IG9mIGRxbSBsb2NrIHByb3RlY3Rpb24uIFNlZSBjYWxsc3RhY2sg
IzEgYmVsb3cuDQoNClsgICA1OS41MTAxNDldIFtkcm1dIEluaXRpYWxpemVkIGFtZGdwdSAzLjMw
LjAgMjAxNTAxMDEgZm9yIDAwMDA6MDQ6MDAuMCBvbiBtaW5vciAwDQoNClsgIDUxMy42MDQwMzRd
ID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQ0K
WyAgNTEzLjYwNDIwNV0gV0FSTklORzogcG9zc2libGUgY2lyY3VsYXIgbG9ja2luZyBkZXBlbmRl
bmN5IGRldGVjdGVkDQpbICA1MTMuNjA0Mzc1XSA0LjE4LjAta2ZkLXJvb3QgIzIgVGFpbnRlZDog
RyAgICAgICAgVw0KWyAgNTEzLjYwNDUzMF0gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQpbICA1MTMuNjA0Njk5XSBrc3dhcGQwLzYxMSBpcyB0
cnlpbmcgdG8gYWNxdWlyZSBsb2NrOg0KWyAgNTEzLjYwNDg0MF0gMDAwMDAwMDBkMjU0MDIyZSAo
JmRxbS0+bG9ja19oaWRkZW4peysuKy59LCBhdDogZXZpY3RfcHJvY2Vzc19xdWV1ZXNfbm9jcHNj
aCsweDI2LzB4MTQwIFthbWRncHVdDQpbICA1MTMuNjA1MTUwXQ0KICAgICAgICAgICAgICAgYnV0
IHRhc2sgaXMgYWxyZWFkeSBob2xkaW5nIGxvY2s6DQpbICA1MTMuNjA1MzA3XSAwMDAwMDAwMDk2
MTU0N2ZjICgmYW5vbl92bWEtPnJ3c2VtKXsrKysrfSwgYXQ6IHBhZ2VfbG9ja19hbm9uX3ZtYV9y
ZWFkKzB4ZTQvMHgyNTANClsgIDUxMy42MDU1NDBdDQogICAgICAgICAgICAgICB3aGljaCBsb2Nr
IGFscmVhZHkgZGVwZW5kcyBvbiB0aGUgbmV3IGxvY2suDQoNClsgIDUxMy42MDU3NDddDQogICAg
ICAgICAgICAgICB0aGUgZXhpc3RpbmcgZGVwZW5kZW5jeSBjaGFpbiAoaW4gcmV2ZXJzZSBvcmRl
cikgaXM6DQpbICA1MTMuNjA1OTQ0XQ0KICAgICAgICAgICAgICAgLT4gIzQgKCZhbm9uX3ZtYS0+
cndzZW0peysrKyt9Og0KWyAgNTEzLjYwNjEwNl0gICAgICAgIF9fdm1hX2FkanVzdCsweDE0Ny8w
eDdmMA0KWyAgNTEzLjYwNjIzMV0gICAgICAgIF9fc3BsaXRfdm1hKzB4MTc5LzB4MTkwDQpbICA1
MTMuNjA2MzUzXSAgICAgICAgbXByb3RlY3RfZml4dXArMHgyMTcvMHgyNjANClsgIDUxMy42MDY1
NTNdICAgICAgICBkb19tcHJvdGVjdF9wa2V5KzB4MjExLzB4MzgwDQpbICA1MTMuNjA2NzUyXSAg
ICAgICAgX194NjRfc3lzX21wcm90ZWN0KzB4MWIvMHgyMA0KWyAgNTEzLjYwNjk1NF0gICAgICAg
IGRvX3N5c2NhbGxfNjQrMHg1MC8weDFhMA0KWyAgNTEzLjYwNzE0OV0gICAgICAgIGVudHJ5X1NZ
U0NBTExfNjRfYWZ0ZXJfaHdmcmFtZSsweDQ5LzB4YmUNClsgIDUxMy42MDczODBdDQogICAgICAg
ICAgICAgICAtPiAjMyAoJm1hcHBpbmctPmlfbW1hcF9yd3NlbSl7KysrK306DQpbICA1MTMuNjA3
Njc4XSAgICAgICAgcm1hcF93YWxrX2ZpbGUrMHgxZjAvMHgyODANClsgIDUxMy42MDc4ODddICAg
ICAgICBwYWdlX3JlZmVyZW5jZWQrMHhkZC8weDE4MA0KWyAgNTEzLjYwODA4MV0gICAgICAgIHNo
cmlua19wYWdlX2xpc3QrMHg4NTMvMHhjYjANClsgIDUxMy42MDgyNzldICAgICAgICBzaHJpbmtf
aW5hY3RpdmVfbGlzdCsweDMzYi8weDcwMA0KWyAgNTEzLjYwODQ4M10gICAgICAgIHNocmlua19u
b2RlX21lbWNnKzB4MzdhLzB4N2YwDQpbICA1MTMuNjA4NjgyXSAgICAgICAgc2hyaW5rX25vZGUr
MHhkOC8weDQ5MA0KWyAgNTEzLjYwODg2OV0gICAgICAgIGJhbGFuY2VfcGdkYXQrMHgxOGIvMHgz
YjANClsgIDUxMy42MDkwNjJdICAgICAgICBrc3dhcGQrMHgyMDMvMHg1YzANClsgIDUxMy42MDky
NDFdICAgICAgICBrdGhyZWFkKzB4MTAwLzB4MTQwDQpbICA1MTMuNjA5NDIwXSAgICAgICAgcmV0
X2Zyb21fZm9yaysweDI0LzB4MzANClsgIDUxMy42MDk2MDddDQogICAgICAgICAgICAgICAtPiAj
MiAoZnNfcmVjbGFpbSl7Ky4rLn06DQpbICA1MTMuNjA5ODgzXSAgICAgICAga21lbV9jYWNoZV9h
bGxvY190cmFjZSsweDM0LzB4MmUwDQpbICA1MTMuNjEwMDkzXSAgICAgICAgcmVzZXJ2YXRpb25f
b2JqZWN0X3Jlc2VydmVfc2hhcmVkKzB4MTM5LzB4MzAwDQpbICA1MTMuNjEwMzI2XSAgICAgICAg
dHRtX2JvX2luaXRfcmVzZXJ2ZWQrMHgyOTEvMHg0ODAgW3R0bV0NClsgIDUxMy42MTA1NjddICAg
ICAgICBhbWRncHVfYm9fZG9fY3JlYXRlKzB4MWQyLzB4NjUwIFthbWRncHVdDQpbICA1MTMuNjEw
ODExXSAgICAgICAgYW1kZ3B1X2JvX2NyZWF0ZSsweDQwLzB4MWYwIFthbWRncHVdDQpbICA1MTMu
NjExMDQxXSAgICAgICAgYW1kZ3B1X2JvX2NyZWF0ZV9yZXNlcnZlZCsweDI0OS8weDJkMCBbYW1k
Z3B1XQ0KWyAgNTEzLjYxMTI5MF0gICAgICAgIGFtZGdwdV9ib19jcmVhdGVfa2VybmVsKzB4MTIv
MHg3MCBbYW1kZ3B1XQ0KWyAgNTEzLjYxMTU4NF0gICAgICAgIGFtZGdwdV90dG1faW5pdCsweDJj
Yi8weDU2MCBbYW1kZ3B1XQ0KWyAgNTEzLjYxMTgyM10gICAgICAgIGdtY192OV8wX3N3X2luaXQr
MHg0MDAvMHg3NTAgW2FtZGdwdV0NClsgIDUxMy42MTI0OTFdICAgICAgICBhbWRncHVfZGV2aWNl
X2luaXQrMHgxNGViLzB4MTk5MCBbYW1kZ3B1XQ0KWyAgNTEzLjYxMjczMF0gICAgICAgIGFtZGdw
dV9kcml2ZXJfbG9hZF9rbXMrMHg3OC8weDI5MCBbYW1kZ3B1XQ0KWyAgNTEzLjYxMjk1OF0gICAg
ICAgIGRybV9kZXZfcmVnaXN0ZXIrMHgxMTEvMHgxYTANClsgIDUxMy42MTMxNzFdICAgICAgICBh
bWRncHVfcGNpX3Byb2JlKzB4MTFjLzB4MWUwIFthbWRncHVdDQpbICA1MTMuNjEzMzg5XSAgICAg
ICAgbG9jYWxfcGNpX3Byb2JlKzB4M2YvMHg5MA0KWyAgNTEzLjYxMzU4MV0gICAgICAgIHBjaV9k
ZXZpY2VfcHJvYmUrMHgxMDIvMHgxYzANClsgIDUxMy42MTM3NzldICAgICAgICBkcml2ZXJfcHJv
YmVfZGV2aWNlKzB4MmE3LzB4NDgwDQpbICA1MTMuNjEzOTg0XSAgICAgICAgX19kcml2ZXJfYXR0
YWNoKzB4MTBhLzB4MTEwDQpbICA1MTMuNjE0MTc5XSAgICAgICAgYnVzX2Zvcl9lYWNoX2Rldisw
eDY3LzB4YzANClsgIDUxMy42MTQzNzJdICAgICAgICBidXNfYWRkX2RyaXZlcisweDFlYi8weDI2
MA0KWyAgNTEzLjYxNDU2NV0gICAgICAgIGRyaXZlcl9yZWdpc3RlcisweDViLzB4ZTANClsgIDUx
My42MTQ3NTZdICAgICAgICBkb19vbmVfaW5pdGNhbGwrMHhhYy8weDM1Nw0KWyAgNTEzLjYxNDk1
Ml0gICAgICAgIGRvX2luaXRfbW9kdWxlKzB4NWIvMHgyMTMNClsgIDUxMy42MTUxNDVdICAgICAg
ICBsb2FkX21vZHVsZSsweDI1NDIvMHgyZDMwDQpbICA1MTMuNjE1MzM3XSAgICAgICAgX19kb19z
eXNfZmluaXRfbW9kdWxlKzB4ZDIvMHgxMDANClsgIDUxMy42MTU1NDFdICAgICAgICBkb19zeXNj
YWxsXzY0KzB4NTAvMHgxYTANClsgIDUxMy42MTU3MzFdICAgICAgICBlbnRyeV9TWVNDQUxMXzY0
X2FmdGVyX2h3ZnJhbWUrMHg0OS8weGJlDQpbICA1MTMuNjE1OTYzXQ0KICAgICAgICAgICAgICAg
LT4gIzEgKHJlc2VydmF0aW9uX3d3X2NsYXNzX211dGV4KXsrLisufToNClsgIDUxMy42MTYyOTNd
ICAgICAgICBhbWRncHVfYW1ka2ZkX2FsbG9jX2d0dF9tZW0rMHhjZi8weDJjMCBbYW1kZ3B1XQ0K
WyAgNTEzLjYxNjU1NF0gICAgICAgIGluaXRfbXFkKzB4MjIzLzB4MjYwIFthbWRncHVdDQpbICA1
MTMuNjE2Nzc5XSAgICAgICAgY3JlYXRlX3F1ZXVlX25vY3BzY2grMHg0ZDkvMHg2MDAgW2FtZGdw
dV0NClsgIDUxMy42MTcwMzFdICAgICAgICBwcW1fY3JlYXRlX3F1ZXVlKzB4MzdjLzB4NTIwIFth
bWRncHVdDQpbICA1MTMuNjE3MjcwXSAgICAgICAga2ZkX2lvY3RsX2NyZWF0ZV9xdWV1ZSsweDJm
OS8weDY1MCBbYW1kZ3B1XQ0KWyAgNTEzLjYxNzUyMl0gICAgICAgIGtmZF9pb2N0bCsweDIwMi8w
eDM1MCBbYW1kZ3B1XQ0KWyAgNTEzLjYxNzcyNF0gICAgICAgIGRvX3Zmc19pb2N0bCsweDlmLzB4
NmMwDQpbICA1MTMuNjE3OTE0XSAgICAgICAga3N5c19pb2N0bCsweDY2LzB4NzANClsgIDUxMy42
MTgwOTVdICAgICAgICBfX3g2NF9zeXNfaW9jdGwrMHgxNi8weDIwDQpbICA1MTMuNjE4Mjg2XSAg
ICAgICAgZG9fc3lzY2FsbF82NCsweDUwLzB4MWEwDQpbICA1MTMuNjE4NDc2XSAgICAgICAgZW50
cnlfU1lTQ0FMTF82NF9hZnRlcl9od2ZyYW1lKzB4NDkvMHhiZQ0KWyAgNTEzLjYxODY5NV0NCiAg
ICAgICAgICAgICAgIC0+ICMwICgmZHFtLT5sb2NrX2hpZGRlbil7Ky4rLn06DQpbICA1MTMuNjE4
OTg0XSAgICAgICAgX19tdXRleF9sb2NrKzB4OTgvMHg5NzANClsgIDUxMy42MTkxOTddICAgICAg
ICBldmljdF9wcm9jZXNzX3F1ZXVlc19ub2Nwc2NoKzB4MjYvMHgxNDAgW2FtZGdwdV0NClsgIDUx
My42MTk0NTldICAgICAgICBrZmRfcHJvY2Vzc19ldmljdF9xdWV1ZXMrMHgzYi8weGIwIFthbWRn
cHVdDQpbICA1MTMuNjE5NzEwXSAgICAgICAga2dkMmtmZF9xdWllc2NlX21tKzB4MWMvMHg0MCBb
YW1kZ3B1XQ0KWyAgNTEzLjYyMDEwM10gICAgICAgIGFtZGdwdV9hbWRrZmRfZXZpY3RfdXNlcnB0
cisweDM4LzB4NzAgW2FtZGdwdV0NClsgIDUxMy42MjAzNjNdICAgICAgICBhbWRncHVfbW5faW52
YWxpZGF0ZV9yYW5nZV9zdGFydF9oc2ErMHhhNi8weGMwIFthbWRncHVdDQpbICA1MTMuNjIwNjE0
XSAgICAgICAgX19tbXVfbm90aWZpZXJfaW52YWxpZGF0ZV9yYW5nZV9zdGFydCsweDcwLzB4YjAN
ClsgIDUxMy42MjA4NTFdICAgICAgICB0cnlfdG9fdW5tYXBfb25lKzB4N2ZjLzB4OGYwDQpbICA1
MTMuNjIxMDQ5XSAgICAgICAgcm1hcF93YWxrX2Fub24rMHgxMjEvMHgyOTANClsgIDUxMy42MjEy
NDJdICAgICAgICB0cnlfdG9fdW5tYXArMHg5My8weGYwDQpbICA1MTMuNjIxNDI4XSAgICAgICAg
c2hyaW5rX3BhZ2VfbGlzdCsweDYwNi8weGNiMA0KWyAgNTEzLjYyMTYyNV0gICAgICAgIHNocmlu
a19pbmFjdGl2ZV9saXN0KzB4MzNiLzB4NzAwDQpbICA1MTMuNjIxODM1XSAgICAgICAgc2hyaW5r
X25vZGVfbWVtY2crMHgzN2EvMHg3ZjANClsgIDUxMy42MjIwMzRdICAgICAgICBzaHJpbmtfbm9k
ZSsweGQ4LzB4NDkwDQpbICA1MTMuNjIyMjE5XSAgICAgICAgYmFsYW5jZV9wZ2RhdCsweDE4Yi8w
eDNiMA0KWyAgNTEzLjYyMjQxMF0gICAgICAgIGtzd2FwZCsweDIwMy8weDVjMA0KWyAgNTEzLjYy
MjU4OV0gICAgICAgIGt0aHJlYWQrMHgxMDAvMHgxNDANClsgIDUxMy42MjI3NjldICAgICAgICBy
ZXRfZnJvbV9mb3JrKzB4MjQvMHgzMA0KWyAgNTEzLjYyMjk1N10NCiAgICAgICAgICAgICAgIG90
aGVyIGluZm8gdGhhdCBtaWdodCBoZWxwIHVzIGRlYnVnIHRoaXM6DQoNClsgIDUxMy42MjMzNTRd
IENoYWluIGV4aXN0cyBvZjoNCiAgICAgICAgICAgICAgICAgJmRxbS0+bG9ja19oaWRkZW4gLS0+
ICZtYXBwaW5nLT5pX21tYXBfcndzZW0gLS0+ICZhbm9uX3ZtYS0+cndzZW0NCg0KWyAgNTEzLjYy
MzkwMF0gIFBvc3NpYmxlIHVuc2FmZSBsb2NraW5nIHNjZW5hcmlvOg0KDQpbICA1MTMuNjI0MTg5
XSAgICAgICAgQ1BVMCAgICAgICAgICAgICAgICAgICAgQ1BVMQ0KWyAgNTEzLjYyNDM5N10gICAg
ICAgIC0tLS0gICAgICAgICAgICAgICAgICAgIC0tLS0NClsgIDUxMy42MjQ1OTRdICAgbG9jaygm
YW5vbl92bWEtPnJ3c2VtKTsNClsgIDUxMy42MjQ3NzFdICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBsb2NrKCZtYXBwaW5nLT5pX21tYXBfcndzZW0pOw0KWyAgNTEzLjYyNTAyMF0gICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2soJmFub25fdm1hLT5yd3NlbSk7DQpbICA1
MTMuNjI1MjUzXSAgIGxvY2soJmRxbS0+bG9ja19oaWRkZW4pOw0KWyAgNTEzLjYyNTQzM10NCiAg
ICAgICAgICAgICAgICAqKiogREVBRExPQ0sgKioqDQoNClsgIDUxMy42MjU3ODNdIDMgbG9ja3Mg
aGVsZCBieSBrc3dhcGQwLzYxMToNClsgIDUxMy42MjU5NjddICAjMDogMDAwMDAwMDBmMTRlZGY4
NCAoZnNfcmVjbGFpbSl7Ky4rLn0sIGF0OiBfX2ZzX3JlY2xhaW1fYWNxdWlyZSsweDUvMHgzMA0K
WyAgNTEzLjYyNjMwOV0gICMxOiAwMDAwMDAwMDk2MTU0N2ZjICgmYW5vbl92bWEtPnJ3c2VtKXsr
KysrfSwgYXQ6IHBhZ2VfbG9ja19hbm9uX3ZtYV9yZWFkKzB4ZTQvMHgyNTANClsgIDUxMy42MjY2
NzFdICAjMjogMDAwMDAwMDA2N2I1Y2QxMiAoc3JjdSl7Li4uLn0sIGF0OiBfX21tdV9ub3RpZmll
cl9pbnZhbGlkYXRlX3JhbmdlX3N0YXJ0KzB4NS8weGIwDQpbICA1MTMuNjI3MDM3XQ0KICAgICAg
ICAgICAgICAgc3RhY2sgYmFja3RyYWNlOg0KWyAgNTEzLjYyNzI5Ml0gQ1BVOiAwIFBJRDogNjEx
IENvbW06IGtzd2FwZDAgVGFpbnRlZDogRyAgICAgICAgVyAgICAgICAgIDQuMTguMC1rZmQtcm9v
dCAjMg0KWyAgNTEzLjYyNzYzMl0gSGFyZHdhcmUgbmFtZTogaW5ub3RlayBHbWJIIFZpcnR1YWxC
b3gvVmlydHVhbEJveCwgQklPUyBWaXJ0dWFsQm94IDEyLzAxLzIwMDYNClsgIDUxMy42Mjc5OTBd
IENhbGwgVHJhY2U6DQpbICA1MTMuNjI4MTQzXSAgZHVtcF9zdGFjaysweDdjLzB4YmINClsgIDUx
My42MjgzMTVdICBwcmludF9jaXJjdWxhcl9idWcuaXNyYS4zNysweDIxYi8weDIyOA0KWyAgNTEz
LjYyODU4MV0gIF9fbG9ja19hY3F1aXJlKzB4ZjdkLzB4MTQ3MA0KWyAgNTEzLjYyODc4Ml0gID8g
dW53aW5kX25leHRfZnJhbWUrMHg2Yy8weDRmMA0KWyAgNTEzLjYyODk3NF0gID8gbG9ja19hY3F1
aXJlKzB4ZWMvMHgxZTANClsgIDUxMy42MjkxNTRdICBsb2NrX2FjcXVpcmUrMHhlYy8weDFlMA0K
WyAgNTEzLjYyOTM1N10gID8gZXZpY3RfcHJvY2Vzc19xdWV1ZXNfbm9jcHNjaCsweDI2LzB4MTQw
IFthbWRncHVdDQpbICA1MTMuNjI5NTg3XSAgX19tdXRleF9sb2NrKzB4OTgvMHg5NzANClsgIDUx
My42Mjk3OTBdICA/IGV2aWN0X3Byb2Nlc3NfcXVldWVzX25vY3BzY2grMHgyNi8weDE0MCBbYW1k
Z3B1XQ0KWyAgNTEzLjYzMDA0N10gID8gZXZpY3RfcHJvY2Vzc19xdWV1ZXNfbm9jcHNjaCsweDI2
LzB4MTQwIFthbWRncHVdDQpbICA1MTMuNjMwMzA5XSAgPyBldmljdF9wcm9jZXNzX3F1ZXVlc19u
b2Nwc2NoKzB4MjYvMHgxNDAgW2FtZGdwdV0NClsgIDUxMy42MzA1NjJdICBldmljdF9wcm9jZXNz
X3F1ZXVlc19ub2Nwc2NoKzB4MjYvMHgxNDAgW2FtZGdwdV0NClsgIDUxMy42MzA4MTZdICBrZmRf
cHJvY2Vzc19ldmljdF9xdWV1ZXMrMHgzYi8weGIwIFthbWRncHVdDQpbICA1MTMuNjMxMDU3XSAg
a2dkMmtmZF9xdWllc2NlX21tKzB4MWMvMHg0MCBbYW1kZ3B1XQ0KWyAgNTEzLjYzMTI4OF0gIGFt
ZGdwdV9hbWRrZmRfZXZpY3RfdXNlcnB0cisweDM4LzB4NzAgW2FtZGdwdV0NClsgIDUxMy42MzE1
MzZdICBhbWRncHVfbW5faW52YWxpZGF0ZV9yYW5nZV9zdGFydF9oc2ErMHhhNi8weGMwIFthbWRn
cHVdDQpbICA1MTMuNjMyMDc2XSAgX19tbXVfbm90aWZpZXJfaW52YWxpZGF0ZV9yYW5nZV9zdGFy
dCsweDcwLzB4YjANClsgIDUxMy42MzIyOTldICB0cnlfdG9fdW5tYXBfb25lKzB4N2ZjLzB4OGYw
DQpbICA1MTMuNjMyNDg3XSAgPyBwYWdlX2xvY2tfYW5vbl92bWFfcmVhZCsweDY4LzB4MjUwDQpb
ICA1MTMuNjMyNjkwXSAgcm1hcF93YWxrX2Fub24rMHgxMjEvMHgyOTANClsgIDUxMy42MzI4NzVd
ICB0cnlfdG9fdW5tYXArMHg5My8weGYwDQpbICA1MTMuNjMzMDUwXSAgPyBwYWdlX3JlbW92ZV9y
bWFwKzB4MzMwLzB4MzMwDQpbICA1MTMuNjMzMjM5XSAgPyByY3VfcmVhZF91bmxvY2srMHg2MC8w
eDYwDQpbICA1MTMuNjMzNDIyXSAgPyBwYWdlX2dldF9hbm9uX3ZtYSsweDE2MC8weDE2MA0KWyAg
NTEzLjYzMzYxM10gIHNocmlua19wYWdlX2xpc3QrMHg2MDYvMHhjYjANClsgIDUxMy42MzM4MDBd
ICBzaHJpbmtfaW5hY3RpdmVfbGlzdCsweDMzYi8weDcwMA0KWyAgNTEzLjYzMzk5N10gIHNocmlu
a19ub2RlX21lbWNnKzB4MzdhLzB4N2YwDQpbICA1MTMuNjM0MTg2XSAgPyBzaHJpbmtfbm9kZSsw
eGQ4LzB4NDkwDQpbICA1MTMuNjM0MzYzXSAgc2hyaW5rX25vZGUrMHhkOC8weDQ5MA0KWyAgNTEz
LjYzNDUzN10gIGJhbGFuY2VfcGdkYXQrMHgxOGIvMHgzYjANClsgIDUxMy42MzQ3MThdICBrc3dh
cGQrMHgyMDMvMHg1YzANClsgIDUxMy42MzQ4ODddICA/IHdhaXRfd29rZW4rMHhiMC8weGIwDQpb
ICA1MTMuNjM1MDYyXSAga3RocmVhZCsweDEwMC8weDE0MA0KWyAgNTEzLjYzNTIzMV0gID8gYmFs
YW5jZV9wZ2RhdCsweDNiMC8weDNiMA0KWyAgNTEzLjYzNTQxNF0gID8ga3RocmVhZF9kZWxheWVk
X3dvcmtfdGltZXJfZm4rMHg4MC8weDgwDQpbICA1MTMuNjM1NjI2XSAgcmV0X2Zyb21fZm9yaysw
eDI0LzB4MzANClsgIDUxMy42MzYwNDJdIEV2aWN0aW5nIFBBU0lEIDMyNzY4IHF1ZXVlcw0KWyAg
NTEzLjkzNjIzNl0gUmVzdG9yaW5nIFBBU0lEIDMyNzY4IHF1ZXVlcw0KWyAgNTI0LjcwODkxMl0g
RXZpY3RpbmcgUEFTSUQgMzI3NjggcXVldWVzDQpbICA1MjQuOTk5ODc1XSBSZXN0b3JpbmcgUEFT
SUQgMzI3NjggcXVldWVzDQoNCkNoYW5nZS1JZDogSTMzNGM4YzkzMjliZTEyZTQ2OGVhN2FhYmM4
Nzg4NDJlYzAwM2JkOGUNClNpZ25lZC1vZmYtYnk6IE9hayBaZW5nIDxPYWsuWmVuZ0BhbWQuY29t
Pg0KLS0tDQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX2RldmljZV9xdWV1ZV9tYW5h
Z2VyLmMgfCAxOSArKysrKysrKysrLS0tLS0tLS0tDQogMSBmaWxlIGNoYW5nZWQsIDEwIGluc2Vy
dGlvbnMoKyksIDkgZGVsZXRpb25zKC0pDQoNCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGtmZC9rZmRfZGV2aWNlX3F1ZXVlX21hbmFnZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1ka2ZkL2tmZF9kZXZpY2VfcXVldWVfbWFuYWdlci5jDQppbmRleCAxMGQ0ZjRmLi4xNjY2
MzZjIDEwMDY0NA0KLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX2RldmljZV9x
dWV1ZV9tYW5hZ2VyLmMNCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9kZXZp
Y2VfcXVldWVfbWFuYWdlci5jDQpAQCAtMjc0LDYgKzI3NCwxMiBAQCBzdGF0aWMgaW50IGNyZWF0
ZV9xdWV1ZV9ub2Nwc2NoKHN0cnVjdCBkZXZpY2VfcXVldWVfbWFuYWdlciAqZHFtLA0KIA0KIAlw
cmludF9xdWV1ZShxKTsNCiANCisJbXFkX21nciA9IGRxbS0+bXFkX21ncnNbZ2V0X21xZF90eXBl
X2Zyb21fcXVldWVfdHlwZSgNCisJCQlxLT5wcm9wZXJ0aWVzLnR5cGUpXTsNCisJcS0+bXFkX21l
bV9vYmogPSBtcWRfbWdyLT5hbGxvY2F0ZV9tcWQobXFkX21nci0+ZGV2LCAmcS0+cHJvcGVydGll
cyk7DQorCWlmICghcS0+bXFkX21lbV9vYmopDQorCQlyZXR1cm4gLUVOT01FTTsNCisNCiAJZHFt
X2xvY2soZHFtKTsNCiANCiAJaWYgKGRxbS0+dG90YWxfcXVldWVfY291bnQgPj0gbWF4X251bV9v
Zl9xdWV1ZXNfcGVyX2RldmljZSkgew0KQEAgLTI5OSw4ICszMDUsNiBAQCBzdGF0aWMgaW50IGNy
ZWF0ZV9xdWV1ZV9ub2Nwc2NoKHN0cnVjdCBkZXZpY2VfcXVldWVfbWFuYWdlciAqZHFtLA0KIAlx
LT5wcm9wZXJ0aWVzLnRiYV9hZGRyID0gcXBkLT50YmFfYWRkcjsNCiAJcS0+cHJvcGVydGllcy50
bWFfYWRkciA9IHFwZC0+dG1hX2FkZHI7DQogDQotCW1xZF9tZ3IgPSBkcW0tPm1xZF9tZ3JzW2dl
dF9tcWRfdHlwZV9mcm9tX3F1ZXVlX3R5cGUoDQotCQkJcS0+cHJvcGVydGllcy50eXBlKV07DQog
CWlmIChxLT5wcm9wZXJ0aWVzLnR5cGUgPT0gS0ZEX1FVRVVFX1RZUEVfQ09NUFVURSkgew0KIAkJ
cmV0dmFsID0gYWxsb2NhdGVfaHFkKGRxbSwgcSk7DQogCQlpZiAocmV0dmFsKQ0KQEAgLTMxOSw5
ICszMjMsNiBAQCBzdGF0aWMgaW50IGNyZWF0ZV9xdWV1ZV9ub2Nwc2NoKHN0cnVjdCBkZXZpY2Vf
cXVldWVfbWFuYWdlciAqZHFtLA0KIAlpZiAocmV0dmFsKQ0KIAkJZ290byBvdXRfZGVhbGxvY2F0
ZV9ocWQ7DQogDQotCXEtPm1xZF9tZW1fb2JqID0gbXFkX21nci0+YWxsb2NhdGVfbXFkKG1xZF9t
Z3ItPmRldiwgJnEtPnByb3BlcnRpZXMpOw0KLQlpZiAoIXEtPm1xZF9tZW1fb2JqKQ0KLQkJZ290
byBvdXRfZGVhbGxvY2F0ZV9kb29yYmVsbDsNCiAJbXFkX21nci0+aW5pdF9tcWQobXFkX21nciwg
JnEtPm1xZCwgcS0+bXFkX21lbV9vYmosDQogCQkJCSZxLT5nYXJ0X21xZF9hZGRyLCAmcS0+cHJv
cGVydGllcyk7DQogCWlmIChxLT5wcm9wZXJ0aWVzLmlzX2FjdGl2ZSkgew0KQEAgLTMzMyw3ICsz
MzQsNyBAQCBzdGF0aWMgaW50IGNyZWF0ZV9xdWV1ZV9ub2Nwc2NoKHN0cnVjdCBkZXZpY2VfcXVl
dWVfbWFuYWdlciAqZHFtLA0KIAkJCXJldHZhbCA9IG1xZF9tZ3ItPmxvYWRfbXFkKG1xZF9tZ3Is
IHEtPm1xZCwgcS0+cGlwZSwNCiAJCQkJCXEtPnF1ZXVlLCAmcS0+cHJvcGVydGllcywgY3VycmVu
dC0+bW0pOw0KIAkJaWYgKHJldHZhbCkNCi0JCQlnb3RvIG91dF9mcmVlX21xZDsNCisJCQlnb3Rv
IG91dF9kZWFsbG9jYXRlX2Rvb3JiZWxsOw0KIAl9DQogDQogCWxpc3RfYWRkKCZxLT5saXN0LCAm
cXBkLT5xdWV1ZXNfbGlzdCk7DQpAQCAtMzUzLDEwICszNTQsOSBAQCBzdGF0aWMgaW50IGNyZWF0
ZV9xdWV1ZV9ub2Nwc2NoKHN0cnVjdCBkZXZpY2VfcXVldWVfbWFuYWdlciAqZHFtLA0KIAlkcW0t
PnRvdGFsX3F1ZXVlX2NvdW50Kys7DQogCXByX2RlYnVnKCJUb3RhbCBvZiAlZCBxdWV1ZXMgYXJl
IGFjY291bnRhYmxlIHNvIGZhclxuIiwNCiAJCQlkcW0tPnRvdGFsX3F1ZXVlX2NvdW50KTsNCi0J
Z290byBvdXRfdW5sb2NrOw0KKwlkcW1fdW5sb2NrKGRxbSk7DQorCXJldHVybiByZXR2YWw7DQog
DQotb3V0X2ZyZWVfbXFkOg0KLQltcWRfbWdyLT5mcmVlX21xZChtcWRfbWdyLCBxLT5tcWQsIHEt
Pm1xZF9tZW1fb2JqKTsNCiBvdXRfZGVhbGxvY2F0ZV9kb29yYmVsbDoNCiAJZGVhbGxvY2F0ZV9k
b29yYmVsbChxcGQsIHEpOw0KIG91dF9kZWFsbG9jYXRlX2hxZDoNCkBAIC0zNzAsNiArMzcwLDcg
QEAgc3RhdGljIGludCBjcmVhdGVfcXVldWVfbm9jcHNjaChzdHJ1Y3QgZGV2aWNlX3F1ZXVlX21h
bmFnZXIgKmRxbSwNCiAJCWRlYWxsb2NhdGVfdm1pZChkcW0sIHFwZCwgcSk7DQogb3V0X3VubG9j
azoNCiAJZHFtX3VubG9jayhkcW0pOw0KKwltcWRfbWdyLT5mcmVlX21xZChtcWRfbWdyLCBxLT5t
cWQsIHEtPm1xZF9tZW1fb2JqKTsNCiAJcmV0dXJuIHJldHZhbDsNCiB9DQogDQotLSANCjIuNy40
DQoNCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmFtZC1n
ZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlz
dHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeA==
