Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 4DDEE3A419A
	for <lists+amd-gfx@lfdr.de>; Fri, 11 Jun 2021 14:03:09 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 09A9C6EE7F;
	Fri, 11 Jun 2021 12:03:06 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-wm1-x333.google.com (mail-wm1-x333.google.com
 [IPv6:2a00:1450:4864:20::333])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E7A1F6EE7F;
 Fri, 11 Jun 2021 12:03:04 +0000 (UTC)
Received: by mail-wm1-x333.google.com with SMTP id
 l18-20020a1ced120000b029014c1adff1edso8510492wmh.4; 
 Fri, 11 Jun 2021 05:03:04 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:subject:date:message-id:in-reply-to:references:mime-version
 :content-transfer-encoding;
 bh=elKEAajOWarew9HukDqn77zp0r5BdekuHi3PJYLH9hE=;
 b=eKvIP5Mwx1pKqwwmgjbaRopaImqSls5aNmEvtdMOlYMuDvfNp/N3mENQy7au3Gdv2D
 OfK3YCjOLuPKbZUAm/4w5qBKqv9DMtP88h+f+1xZS1pQbscgacY0a0AKLwC1+k+DWZQ1
 mzhJKikqMrScjAMKywudPbMMAYssy6mcF9wsV6hb8UGBvT3InPI/dLnK6s7TId5N4Qgo
 tjs7KxBlfGphR+zTYOlN7/nVg9EcQB3wtkz9g6Dgh0GJbn6jOHHquMoYA298YJvlL3/A
 EMRF+fD3YxCj9/pwTk1yGOAm81P5dgSmpHoiKGcq/nIVB0TeN6RHBkIFcfXoEiuG/hsL
 L8ew==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=elKEAajOWarew9HukDqn77zp0r5BdekuHi3PJYLH9hE=;
 b=PDeTBsPXTbrnOm7K9JOio1bLwv1uHa+HpCuujFV2x9pzgIqTa0McTg1T9EJXQIF5Yu
 IvS3ePSS1ieb1aDF3NW0nwXn8QIGso7xEeChO/WUoX55nh20FLMi/sKxcDdLgJyz9guM
 zgD6a/LdLZqMu73CL/WGsVBIirbDD6R1byUNuHhMkUJ3Hfz7zo0WlniAiL0zLZSnQFfs
 IAYWeDpCbYRP5Nxzlm+ZYd6IOx1g5iskrDK9JPrsuzQk/7OuEpy1CAh/j34UPP43XLdJ
 mYBBNWKMJNRKK3LpYcBuHm/Yh1tMWW57fQK/TgRd/NdyQGSi9DfSs41dJyDYrFPhTWY6
 Wgww==
X-Gm-Message-State: AOAM531lsFM9ssysPK9B48NjzgWrCSAC1rtdvDyhp5WjHHazokxiq+yD
 69ceW5+PhzqKEwRBemkMpgQ=
X-Google-Smtp-Source: ABdhPJxjZQnpjVtIgNRaxVTlWQBZj6BzKT+6PIlLweyrZgY+ygby+nu0oArQcpnG+tlE++/hG5NP7A==
X-Received: by 2002:a05:600c:4148:: with SMTP id
 h8mr19751988wmm.176.1623412983637; 
 Fri, 11 Jun 2021 05:03:03 -0700 (PDT)
Received: from abel.fritz.box ([2a02:908:1252:fb60:657d:4ae8:def3:d96a])
 by smtp.gmail.com with ESMTPSA id f13sm6898361wrt.86.2021.06.11.05.03.03
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Fri, 11 Jun 2021 05:03:03 -0700 (PDT)
From: "=?UTF-8?q?Christian=20K=C3=B6nig?=" <ckoenig.leichtzumerken@gmail.com>
X-Google-Original-From: =?UTF-8?q?Christian=20K=C3=B6nig?=
 <christian.koenig@amd.com>
To: daniel@ffwll.ch, dri-devel@lists.freedesktop.org,
 amd-gfx@lists.freedesktop.org
Subject: [PATCH 3/5] dma-buf: add dma_fence_chain_alloc/free v2
Date: Fri, 11 Jun 2021 14:02:59 +0200
Message-Id: <20210611120301.10595-3-christian.koenig@amd.com>
X-Mailer: git-send-email 2.25.1
In-Reply-To: <20210611120301.10595-1-christian.koenig@amd.com>
References: <20210611120301.10595-1-christian.koenig@amd.com>
MIME-Version: 1.0
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

QWRkIGEgY29tbW9uIGFsbG9jYXRpb24gaGVscGVyLiBDbGVhbmluZyB1cCB0aGUgbWl4IG9mIGt6
YWxsb2Mva21hbGxvYwphbmQgc29tZSB1bnVzZWQgY29kZSBpbiB0aGUgc2VsZnRlc3QuCgp2Mjog
cG9saXNoIGtlcm5lbCBkb2MgYSBiaXQKClNpZ25lZC1vZmYtYnk6IENocmlzdGlhbiBLw7ZuaWcg
PGNocmlzdGlhbi5rb2VuaWdAYW1kLmNvbT4KUmV2aWV3ZWQtYnk6IERhbmllbCBWZXR0ZXIgPGRh
bmllbC52ZXR0ZXJAZmZ3bGwuY2g+Ci0tLQogZHJpdmVycy9kbWEtYnVmL3N0LWRtYS1mZW5jZS1j
aGFpbi5jICAgICAgICAgIHwgMTYgKysrKy0tLS0tLS0tLQogZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1X2NzLmMgICAgICAgIHwgIDQgKystLQogZHJpdmVycy9ncHUvZHJtL2RybV9z
eW5jb2JqLmMgICAgICAgICAgICAgICAgIHwgIDYgKystLS0KIC4uLi9ncHUvZHJtL2k5MTUvZ2Vt
L2k5MTVfZ2VtX2V4ZWNidWZmZXIuYyAgICB8ICA2ICsrLS0tCiBkcml2ZXJzL2dwdS9kcm0vbXNt
L21zbV9nZW1fc3VibWl0LmMgICAgICAgICAgfCAgNiArKy0tLQogaW5jbHVkZS9saW51eC9kbWEt
ZmVuY2UtY2hhaW4uaCAgICAgICAgICAgICAgIHwgMjMgKysrKysrKysrKysrKysrKysrKwogNiBm
aWxlcyBjaGFuZ2VkLCAzNiBpbnNlcnRpb25zKCspLCAyNSBkZWxldGlvbnMoLSkKCmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2RtYS1idWYvc3QtZG1hLWZlbmNlLWNoYWluLmMgYi9kcml2ZXJzL2RtYS1i
dWYvc3QtZG1hLWZlbmNlLWNoYWluLmMKaW5kZXggOTUyNWY3ZjU2MTE5Li44Y2UxZWE1OWQzMWIg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZG1hLWJ1Zi9zdC1kbWEtZmVuY2UtY2hhaW4uYworKysgYi9k
cml2ZXJzL2RtYS1idWYvc3QtZG1hLWZlbmNlLWNoYWluLmMKQEAgLTU4LDI4ICs1OCwyMCBAQCBz
dGF0aWMgc3RydWN0IGRtYV9mZW5jZSAqbW9ja19mZW5jZSh2b2lkKQogCXJldHVybiAmZi0+YmFz
ZTsKIH0KIAotc3RhdGljIGlubGluZSBzdHJ1Y3QgbW9ja19jaGFpbiB7Ci0Jc3RydWN0IGRtYV9m
ZW5jZV9jaGFpbiBiYXNlOwotfSAqdG9fbW9ja19jaGFpbihzdHJ1Y3QgZG1hX2ZlbmNlICpmKSB7
Ci0JcmV0dXJuIGNvbnRhaW5lcl9vZihmLCBzdHJ1Y3QgbW9ja19jaGFpbiwgYmFzZS5iYXNlKTsK
LX0KLQogc3RhdGljIHN0cnVjdCBkbWFfZmVuY2UgKm1vY2tfY2hhaW4oc3RydWN0IGRtYV9mZW5j
ZSAqcHJldiwKIAkJCQkgICAgc3RydWN0IGRtYV9mZW5jZSAqZmVuY2UsCiAJCQkJICAgIHU2NCBz
ZXFubykKIHsKLQlzdHJ1Y3QgbW9ja19jaGFpbiAqZjsKKwlzdHJ1Y3QgZG1hX2ZlbmNlX2NoYWlu
ICpmOwogCi0JZiA9IGttYWxsb2Moc2l6ZW9mKCpmKSwgR0ZQX0tFUk5FTCk7CisJZiA9IGRtYV9m
ZW5jZV9jaGFpbl9hbGxvYygpOwogCWlmICghZikKIAkJcmV0dXJuIE5VTEw7CiAKLQlkbWFfZmVu
Y2VfY2hhaW5faW5pdCgmZi0+YmFzZSwKLQkJCSAgICAgZG1hX2ZlbmNlX2dldChwcmV2KSwKLQkJ
CSAgICAgZG1hX2ZlbmNlX2dldChmZW5jZSksCisJZG1hX2ZlbmNlX2NoYWluX2luaXQoZiwgZG1h
X2ZlbmNlX2dldChwcmV2KSwgZG1hX2ZlbmNlX2dldChmZW5jZSksCiAJCQkgICAgIHNlcW5vKTsK
IAotCXJldHVybiAmZi0+YmFzZS5iYXNlOworCXJldHVybiAmZi0+YmFzZTsKIH0KIAogc3RhdGlj
IGludCBzYW5pdHljaGVjayh2b2lkICphcmcpCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfY3MuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdw
dV9jcy5jCmluZGV4IDkwMTM2ZjlkZWRkNi4uMzI1ZTgyNjIxNDY3IDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfY3MuYworKysgYi9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfY3MuYwpAQCAtMTEyNCw3ICsxMTI0LDcgQEAgc3RhdGljIGludCBh
bWRncHVfY3NfcHJvY2Vzc19zeW5jb2JqX3RpbWVsaW5lX291dF9kZXAoc3RydWN0IGFtZGdwdV9j
c19wYXJzZXIgKnAKIAogCQlkZXAtPmNoYWluID0gTlVMTDsKIAkJaWYgKHN5bmNvYmpfZGVwc1tp
XS5wb2ludCkgewotCQkJZGVwLT5jaGFpbiA9IGttYWxsb2Moc2l6ZW9mKCpkZXAtPmNoYWluKSwg
R0ZQX0tFUk5FTCk7CisJCQlkZXAtPmNoYWluID0gZG1hX2ZlbmNlX2NoYWluX2FsbG9jKCk7CiAJ
CQlpZiAoIWRlcC0+Y2hhaW4pCiAJCQkJcmV0dXJuIC1FTk9NRU07CiAJCX0KQEAgLTExMzIsNyAr
MTEzMiw3IEBAIHN0YXRpYyBpbnQgYW1kZ3B1X2NzX3Byb2Nlc3Nfc3luY29ial90aW1lbGluZV9v
dXRfZGVwKHN0cnVjdCBhbWRncHVfY3NfcGFyc2VyICpwCiAJCWRlcC0+c3luY29iaiA9IGRybV9z
eW5jb2JqX2ZpbmQocC0+ZmlscCwKIAkJCQkJCXN5bmNvYmpfZGVwc1tpXS5oYW5kbGUpOwogCQlp
ZiAoIWRlcC0+c3luY29iaikgewotCQkJa2ZyZWUoZGVwLT5jaGFpbik7CisJCQlkbWFfZmVuY2Vf
Y2hhaW5fZnJlZShkZXAtPmNoYWluKTsKIAkJCXJldHVybiAtRUlOVkFMOwogCQl9CiAJCWRlcC0+
cG9pbnQgPSBzeW5jb2JqX2RlcHNbaV0ucG9pbnQ7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vZHJtX3N5bmNvYmouYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fc3luY29iai5jCmluZGV4IGZk
ZDJlYzg3Y2RkMS4uMWM1YjllZjZkYTM3IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZHJt
X3N5bmNvYmouYworKysgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX3N5bmNvYmouYwpAQCAtODYxLDcg
Kzg2MSw3IEBAIHN0YXRpYyBpbnQgZHJtX3N5bmNvYmpfdHJhbnNmZXJfdG9fdGltZWxpbmUoc3Ry
dWN0IGRybV9maWxlICpmaWxlX3ByaXZhdGUsCiAJCQkJICAgICAmZmVuY2UpOwogCWlmIChyZXQp
CiAJCWdvdG8gZXJyOwotCWNoYWluID0ga3phbGxvYyhzaXplb2Yoc3RydWN0IGRtYV9mZW5jZV9j
aGFpbiksIEdGUF9LRVJORUwpOworCWNoYWluID0gZG1hX2ZlbmNlX2NoYWluX2FsbG9jKCk7CiAJ
aWYgKCFjaGFpbikgewogCQlyZXQgPSAtRU5PTUVNOwogCQlnb3RvIGVycjE7CkBAIC0xNDAyLDEw
ICsxNDAyLDEwIEBAIGRybV9zeW5jb2JqX3RpbWVsaW5lX3NpZ25hbF9pb2N0bChzdHJ1Y3QgZHJt
X2RldmljZSAqZGV2LCB2b2lkICpkYXRhLAogCQlnb3RvIGVycl9wb2ludHM7CiAJfQogCWZvciAo
aSA9IDA7IGkgPCBhcmdzLT5jb3VudF9oYW5kbGVzOyBpKyspIHsKLQkJY2hhaW5zW2ldID0ga3ph
bGxvYyhzaXplb2Yoc3RydWN0IGRtYV9mZW5jZV9jaGFpbiksIEdGUF9LRVJORUwpOworCQljaGFp
bnNbaV0gPSBkbWFfZmVuY2VfY2hhaW5fYWxsb2MoKTsKIAkJaWYgKCFjaGFpbnNbaV0pIHsKIAkJ
CWZvciAoaiA9IDA7IGogPCBpOyBqKyspCi0JCQkJa2ZyZWUoY2hhaW5zW2pdKTsKKwkJCQlkbWFf
ZmVuY2VfY2hhaW5fZnJlZShjaGFpbnNbal0pOwogCQkJcmV0ID0gLUVOT01FTTsKIAkJCWdvdG8g
ZXJyX2NoYWluczsKIAkJfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5
MTVfZ2VtX2V4ZWNidWZmZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9l
eGVjYnVmZmVyLmMKaW5kZXggNjY3ODkxMTFhMjRiLi5hMjJjYjg2NzMwYjMgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9pOTE1L2dlbS9pOTE1X2dlbV9leGVjYnVmZmVyLmMKKysrIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2V4ZWNidWZmZXIuYwpAQCAtMjk4Myw3ICsy
OTgzLDcgQEAgX19mcmVlX2ZlbmNlX2FycmF5KHN0cnVjdCBlYl9mZW5jZSAqZmVuY2VzLCB1bnNp
Z25lZCBpbnQgbikKIAl3aGlsZSAobi0tKSB7CiAJCWRybV9zeW5jb2JqX3B1dChwdHJfbWFza19i
aXRzKGZlbmNlc1tuXS5zeW5jb2JqLCAyKSk7CiAJCWRtYV9mZW5jZV9wdXQoZmVuY2VzW25dLmRt
YV9mZW5jZSk7Ci0JCWtmcmVlKGZlbmNlc1tuXS5jaGFpbl9mZW5jZSk7CisJCWRtYV9mZW5jZV9j
aGFpbl9mcmVlKGZlbmNlc1tuXS5jaGFpbl9mZW5jZSk7CiAJfQogCWt2ZnJlZShmZW5jZXMpOwog
fQpAQCAtMzA5Nyw5ICszMDk3LDcgQEAgYWRkX3RpbWVsaW5lX2ZlbmNlX2FycmF5KHN0cnVjdCBp
OTE1X2V4ZWNidWZmZXIgKmViLAogCQkJCXJldHVybiAtRUlOVkFMOwogCQkJfQogCi0JCQlmLT5j
aGFpbl9mZW5jZSA9Ci0JCQkJa21hbGxvYyhzaXplb2YoKmYtPmNoYWluX2ZlbmNlKSwKLQkJCQkJ
R0ZQX0tFUk5FTCk7CisJCQlmLT5jaGFpbl9mZW5jZSA9IGRtYV9mZW5jZV9jaGFpbl9hbGxvYygp
OwogCQkJaWYgKCFmLT5jaGFpbl9mZW5jZSkgewogCQkJCWRybV9zeW5jb2JqX3B1dChzeW5jb2Jq
KTsKIAkJCQlkbWFfZmVuY2VfcHV0KGZlbmNlKTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9tc20vbXNtX2dlbV9zdWJtaXQuYyBiL2RyaXZlcnMvZ3B1L2RybS9tc20vbXNtX2dlbV9zdWJt
aXQuYwppbmRleCA1NDgwODUyYmRlZGEuLjZmZjZkZjZjNDc5MSAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL21zbS9tc21fZ2VtX3N1Ym1pdC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9tc20v
bXNtX2dlbV9zdWJtaXQuYwpAQCAtNTg2LDkgKzU4Niw3IEBAIHN0YXRpYyBzdHJ1Y3QgbXNtX3N1
Ym1pdF9wb3N0X2RlcCAqbXNtX3BhcnNlX3Bvc3RfZGVwcyhzdHJ1Y3QgZHJtX2RldmljZSAqZGV2
LAogCQkJCWJyZWFrOwogCQkJfQogCi0JCQlwb3N0X2RlcHNbaV0uY2hhaW4gPQotCQkJCWttYWxs
b2Moc2l6ZW9mKCpwb3N0X2RlcHNbaV0uY2hhaW4pLAotCQkJCSAgICAgICAgR0ZQX0tFUk5FTCk7
CisJCQlwb3N0X2RlcHNbaV0uY2hhaW4gPSBkbWFfZmVuY2VfY2hhaW5fYWxsb2MoKTsKIAkJCWlm
ICghcG9zdF9kZXBzW2ldLmNoYWluKSB7CiAJCQkJcmV0ID0gLUVOT01FTTsKIAkJCQlicmVhazsK
QEAgLTYwNSw3ICs2MDMsNyBAQCBzdGF0aWMgc3RydWN0IG1zbV9zdWJtaXRfcG9zdF9kZXAgKm1z
bV9wYXJzZV9wb3N0X2RlcHMoc3RydWN0IGRybV9kZXZpY2UgKmRldiwKIAogCWlmIChyZXQpIHsK
IAkJZm9yIChqID0gMDsgaiA8PSBpOyArK2opIHsKLQkJCWtmcmVlKHBvc3RfZGVwc1tqXS5jaGFp
bik7CisJCQlkbWFfZmVuY2VfY2hhaW5fZnJlZShwb3N0X2RlcHNbal0uY2hhaW4pOwogCQkJaWYg
KHBvc3RfZGVwc1tqXS5zeW5jb2JqKQogCQkJCWRybV9zeW5jb2JqX3B1dChwb3N0X2RlcHNbal0u
c3luY29iaik7CiAJCX0KZGlmZiAtLWdpdCBhL2luY2x1ZGUvbGludXgvZG1hLWZlbmNlLWNoYWlu
LmggYi9pbmNsdWRlL2xpbnV4L2RtYS1mZW5jZS1jaGFpbi5oCmluZGV4IGM2ZWIzYWE0NTY2OC4u
N2VjMzZkODUwMzYzIDEwMDY0NAotLS0gYS9pbmNsdWRlL2xpbnV4L2RtYS1mZW5jZS1jaGFpbi5o
CisrKyBiL2luY2x1ZGUvbGludXgvZG1hLWZlbmNlLWNoYWluLmgKQEAgLTEyLDYgKzEyLDcgQEAK
IAogI2luY2x1ZGUgPGxpbnV4L2RtYS1mZW5jZS5oPgogI2luY2x1ZGUgPGxpbnV4L2lycV93b3Jr
Lmg+CisjaW5jbHVkZSA8bGludXgvc2xhYi5oPgogCiAvKioKICAqIHN0cnVjdCBkbWFfZmVuY2Vf
Y2hhaW4gLSBmZW5jZSB0byByZXByZXNlbnQgYW4gbm9kZSBvZiBhIGZlbmNlIGNoYWluCkBAIC02
Niw2ICs2NywyOCBAQCB0b19kbWFfZmVuY2VfY2hhaW4oc3RydWN0IGRtYV9mZW5jZSAqZmVuY2Up
CiAJcmV0dXJuIGNvbnRhaW5lcl9vZihmZW5jZSwgc3RydWN0IGRtYV9mZW5jZV9jaGFpbiwgYmFz
ZSk7CiB9CiAKKy8qKgorICogZG1hX2ZlbmNlX2NoYWluX2FsbG9jCisgKgorICogUmV0dXJucyBh
IG5ldyBkbWFfZmVuY2VfY2hhaW4gb2JqZWN0IG9yIE5VTEwgb24gZmFpbHVyZS4KKyAqLworc3Rh
dGljIGlubGluZSBzdHJ1Y3QgZG1hX2ZlbmNlX2NoYWluICpkbWFfZmVuY2VfY2hhaW5fYWxsb2Mo
dm9pZCkKK3sKKwlyZXR1cm4ga21hbGxvYyhzaXplb2Yoc3RydWN0IGRtYV9mZW5jZV9jaGFpbiks
IEdGUF9LRVJORUwpOworfTsKKworLyoqCisgKiBkbWFfZmVuY2VfY2hhaW5fZnJlZQorICogQGNo
YWluOiBjaGFpbiBub2RlIHRvIGZyZWUKKyAqCisgKiBGcmVlcyB1cCBhbiBhbGxvY2F0ZWQgYnV0
IG5vdCB1c2VkIGRtYV9mZW5jZV9jaGFpbiBub2RlLiBUaGlzIGRvZXNuJ3QgbmVlZAorICogYW4g
UkNVIGdyYWNlIHBlcmlvZCBzaW5jZSB0aGUgZmVuY2Ugd2FzIG5ldmVyIGluaXRpYWxpemVkIG5v
ciBwdWJsaXNoZWQuCisgKi8KK3N0YXRpYyBpbmxpbmUgdm9pZCBkbWFfZmVuY2VfY2hhaW5fZnJl
ZShzdHJ1Y3QgZG1hX2ZlbmNlX2NoYWluICpjaGFpbikKK3sKKwlrZnJlZShjaGFpbik7Cit9Owor
CiAvKioKICAqIGRtYV9mZW5jZV9jaGFpbl9mb3JfZWFjaCAtIGl0ZXJhdGUgb3ZlciBhbGwgZmVu
Y2VzIGluIGNoYWluCiAgKiBAaXRlcjogY3VycmVudCBmZW5jZQotLSAKMi4yNS4xCgpfX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcg
bGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNr
dG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZngK
