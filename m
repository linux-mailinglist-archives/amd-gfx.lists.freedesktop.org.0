Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id DC88A4D1DB
	for <lists+amd-gfx@lfdr.de>; Thu, 20 Jun 2019 17:17:06 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 655566E59D;
	Thu, 20 Jun 2019 15:17:05 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM04-CO1-obe.outbound.protection.outlook.com
 (mail-eopbgr690047.outbound.protection.outlook.com [40.107.69.47])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0F62C6E59D
 for <amd-gfx@lists.freedesktop.org>; Thu, 20 Jun 2019 15:17:04 +0000 (UTC)
Received: from CH2PR12MB3831.namprd12.prod.outlook.com (52.132.245.141) by
 CH2PR12MB3974.namprd12.prod.outlook.com (52.132.247.13) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1987.12; Thu, 20 Jun 2019 15:17:02 +0000
Received: from CH2PR12MB3831.namprd12.prod.outlook.com
 ([fe80::3459:726f:43e7:a64c]) by CH2PR12MB3831.namprd12.prod.outlook.com
 ([fe80::3459:726f:43e7:a64c%4]) with mapi id 15.20.1987.014; Thu, 20 Jun 2019
 15:17:02 +0000
From: "Kim, Jonathan" <Jonathan.Kim@amd.com>
To: Alex Deucher <alexdeucher@gmail.com>
Subject: RE: [PATCH 1/2] drm/amdgpu: update df_v3_6 for xgmi perfmons
Thread-Topic: [PATCH 1/2] drm/amdgpu: update df_v3_6 for xgmi perfmons
Thread-Index: AQHVJwKQQHmqSIL4IUytMthKTBpOhaakkAUAgAAX0NA=
Date: Thu, 20 Jun 2019 15:17:01 +0000
Message-ID: <CH2PR12MB3831025F398694E334ADC51185E40@CH2PR12MB3831.namprd12.prod.outlook.com>
References: <20190620005313.56371-1-jonathan.kim@amd.com>
 <CADnq5_O81Mmf=4N+EL8P6ARrbhAo8wXRVKZB78N5Dj7e6+upLw@mail.gmail.com>
In-Reply-To: <CADnq5_O81Mmf=4N+EL8P6ARrbhAo8wXRVKZB78N5Dj7e6+upLw@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [2607:fea8:520:117:cd80:1a9:b515:4adc]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 9cc6a1b7-5fab-4218-7d0b-08d6f59258a3
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:CH2PR12MB3974; 
x-ms-traffictypediagnostic: CH2PR12MB3974:
x-ms-exchange-purlcount: 1
x-microsoft-antispam-prvs: <CH2PR12MB3974B3F2E4F182D5159FBDA385E40@CH2PR12MB3974.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:6430;
x-forefront-prvs: 0074BBE012
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(979002)(396003)(376002)(136003)(39860400002)(346002)(366004)(13464003)(189003)(199004)(6436002)(7696005)(8676002)(71190400001)(64756008)(478600001)(53936002)(30864003)(33656002)(6116002)(66946007)(68736007)(256004)(186003)(55016002)(14444005)(15650500001)(76116006)(52536014)(71200400001)(8936002)(446003)(2906002)(74316002)(5660300002)(11346002)(53946003)(316002)(486006)(966005)(81156014)(4326008)(46003)(7736002)(6506007)(81166006)(99286004)(6306002)(73956011)(305945005)(102836004)(476003)(66476007)(66446008)(9686003)(1411001)(6246003)(76176011)(6916009)(86362001)(25786009)(14454004)(53546011)(72206003)(66556008)(229853002)(559001)(579004)(969003)(989001)(999001)(1009001)(1019001);
 DIR:OUT; SFP:1101; SCL:1; SRVR:CH2PR12MB3974;
 H:CH2PR12MB3831.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: T34r+LsK4z8PPmwR+nI7wgrkjr5He7fZTWTlTT7y22UDpGohRGWmgmJ1zZ+L9VUUbxIbjTlV2/UNjWjGS1xxZXYBiMEil6sCLTtMHXQSaf5x9o/qiTNc5ZNksaAFip0xKrJhdYO+XRXb0netKLh/1MnfAko2B9dSHZszCXPnJODXHQ88E4Rm8v7Q3fsN+t0CCS5yzWnlcPaV8JUauVZLVv3PSN60uxAXNmADCHfLGz0UGZMeFXUZKAQZ+9zGZ6Kc9cnqXY9+VLwp1P4TZZcBGwMTf+I+mdS2qvO2q3leYrGvvvPtmEDtTQFVBwRWrSPS0gel1oofoT97Cz/kfuW+hAoZQjYZXztVCmcGXqxVv3iJVRw0oN2pl+C6UATBL46oL83zCCqxvYDtUjQW5XjtUuKetpyoDkUvVjD88mrLzRM=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 9cc6a1b7-5fab-4218-7d0b-08d6f59258a3
X-MS-Exchange-CrossTenant-originalarrivaltime: 20 Jun 2019 15:17:01.9014 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: jokim@amd.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: CH2PR12MB3974
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=xBSXKnK7TY95aT4EjgBq7L/ZGnCdUi8JS9bFV1iop+Q=;
 b=H2TokhfaLSN69N+vFR3F2DQlkeiA4OUIUGSIb4J90pQCbMYo5AG1vDtxwC7tRqATf1hZG3LlRE/rZie9iu2oBmRJ+kNKWsEXc+9ELI9+0Ruu5Xtl4MynSIl3cxX4nrBU2Y2LtDv0zgDMTGnDMRLZO0OpXmbbyPWaFnJoXyHS7Rk=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Jonathan.Kim@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

U29ycnkgZm9yIHRoZSBtaXNzIEFsZXguICBJIGFsc28gZGlkIGFuIGVhcmx5LW1lcmdlIGJ5IG1p
c3Rha2UgYmVmb3JlIEZlbGl4IGhhZCBhIGNoYW5jZSB0byByZXZpZXcgc29tZSBzaW1wbGlmaWNh
dGlvbnMuDQoNCkkganVzdCBzZW50IG91dCBhIHBvc3QgbWVyZ2UgZml4IHBhdGNoIGZvciByZXZp
ZXcgdG8gYWRkcmVzcyBjb21tZW50cy4NCg0KVGhhbmtzLA0KDQpKb24NCg0KLS0tLS1PcmlnaW5h
bCBNZXNzYWdlLS0tLS0NCkZyb206IEFsZXggRGV1Y2hlciA8YWxleGRldWNoZXJAZ21haWwuY29t
PiANClNlbnQ6IFRodXJzZGF5LCBKdW5lIDIwLCAyMDE5IDk6NTAgQU0NClRvOiBLaW0sIEpvbmF0
aGFuIDxKb25hdGhhbi5LaW1AYW1kLmNvbT4NCkNjOiBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9w
Lm9yZw0KU3ViamVjdDogUmU6IFtQQVRDSCAxLzJdIGRybS9hbWRncHU6IHVwZGF0ZSBkZl92M182
IGZvciB4Z21pIHBlcmZtb25zDQoNCltDQVVUSU9OOiBFeHRlcm5hbCBFbWFpbF0NCg0KT24gV2Vk
LCBKdW4gMTksIDIwMTkgYXQgODo1MyBQTSBLaW0sIEpvbmF0aGFuIDxKb25hdGhhbi5LaW1AYW1k
LmNvbT4gd3JvdGU6DQo+DQo+IHY0OiBmaXhlZCBremFsbG9jIGVycm9yIGNoZWNrIGFuZCBtb2Rp
ZmllZCBkZiBmdW5jIGluaXQgdG8gcmV0dXJuIA0KPiBlcnJvciBjb2RlDQo+DQo+IHYzOiBmaXhl
ZCBjbGVhbnVwIGJ5IGFkZGluZyBmaW5pIHRvIGZyZWUgdXAgYWRldiBkZiBjb25maWcgY291bnRl
cnMNCj4NCj4gdjI6IHNpbXBsaWZpZWQgYnkgcmVtb3ZpbmcgeGdtaSByZWZlcmVuY2VzIGluIGZ1
bmN0aW9uIG5hbWVzIGFuZCANCj4gbW92aW5nIHRvIGdlbmVyaWMgZGYgZnVuY3Rpb24gbmFtZXMu
ICBmaXhlZCBpc3N1ZSBieSByZW1vdmluZyANCj4gaGFyZGNvZGVkIGNha2UgdHggZGF0YSBldmVu
dHMuIHN0cmVhbWxpbmVkIGVycm9yIGhhbmRsaW5nIGJ5IGhhdmluZyAgDQo+IGRmX3YzXzZfcG1j
X2dldF9jdHJsIHJldHVybiBlcnJvciBjb2RlLg0KPg0KPiBhZGQgcG11IGF0dHJpYnV0ZSBncm91
cHMgYW5kIHN0cnVjdHVyZXMgZm9yIHBlcmYgZXZlbnRzLg0KPiBhZGQgc3lzZnMgdG8gdHJhY2sg
YXZhaWxhYmxlIGRmIHBlcmZtb24gY291bnRlcnMgZml4IG92ZXJmbG93IGhhbmRsaW5nIA0KPiBp
biBwZXJmbW9uIGNvdW50ZXIgcmVhZHMuDQo+DQo+IENoYW5nZS1JZDogSTYxZjczMWMwMDY2YjE3
ODM0NjU2Yzc0NmU3ZWZlMDM4YzRmNjJhY2YNCj4gU2lnbmVkLW9mZi1ieTogSm9uYXRoYW4gS2lt
IDxKb25hdGhhbi5LaW1AYW1kLmNvbT4NCj4gLS0tDQo+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHUuaCAgfCAgMTcgKyAgDQo+IGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Rm
X3YzXzYuYyB8IDQ0OSArKysrKysrKysrKystLS0tLS0tLS0tLS0tLS0gIA0KPiBkcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9kZl92M182LmggfCAgMTkgKy0NCj4gIGRyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L3NvYzE1LmMgICB8ICAgNCArDQo+ICA0IGZpbGVzIGNoYW5nZWQsIDIzMSBpbnNl
cnRpb25zKCspLCAyNTggZGVsZXRpb25zKC0pDQo+DQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9hbWRncHUuaCANCj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9hbWRncHUuaA0KPiBpbmRleCBkMzU1ZTlhMDlhZDEuLjkxY2ZjYzdiZTVjMSAxMDA2NDQNCj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1LmgNCj4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1LmgNCj4gQEAgLTczMiw2ICs3MzIsNyBAQCBzdHJ1
Y3QgYW1kX3Bvd2VycGxheSB7ICB9Ow0KPg0KPiAgI2RlZmluZSBBTURHUFVfUkVTRVRfTUFHSUNf
TlVNIDY0DQo+ICsjZGVmaW5lIEFNREdQVV9NQVhfREZfUEVSRk1PTlMgMTYNCj4gIHN0cnVjdCBh
bWRncHVfZGV2aWNlIHsNCj4gICAgICAgICBzdHJ1Y3QgZGV2aWNlICAgICAgICAgICAgICAgICAg
ICpkZXY7DQo+ICAgICAgICAgc3RydWN0IGRybV9kZXZpY2UgICAgICAgICAgICAgICAqZGRldjsN
Cj4gQEAgLTk2Miw2ICs5NjMsNyBAQCBzdHJ1Y3QgYW1kZ3B1X2RldmljZSB7DQo+ICAgICAgICAg
bG9uZyAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlX3RpbWVvdXQ7DQo+DQo+ICAg
ICAgICAgdWludDY0X3QgICAgICAgICAgICAgICAgICAgICAgICB1bmlxdWVfaWQ7DQo+ICsgICAg
ICAgdWludDY0X3QgICAgICAgIGRmX3BlcmZtb25fY29uZmlnX2Fzc2lnbl9tYXNrW0FNREdQVV9N
QVhfREZfUEVSRk1PTlNdOw0KPiAgfTsNCj4NCj4gIHN0YXRpYyBpbmxpbmUgc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFtZGdwdV90dG1fYWRldihzdHJ1Y3QgDQo+IHR0bV9ib19kZXZpY2UgKmJkZXYp
IEBAIC0xMjAxLDQgKzEyMDMsMTkgQEAgc3RhdGljIGlubGluZSBpbnQgDQo+IGFtZGdwdV9kbV9k
aXNwbGF5X3Jlc3VtZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikgeyByZXR1cm4gICNlbmRp
Zg0KPg0KPiAgI2luY2x1ZGUgImFtZGdwdV9vYmplY3QuaCINCj4gKw0KPiArLyogdXNlZCBieSBk
Zl92M182LmMgYW5kIGFtZGdwdV9wbXUuYyAqLw0KPiArI2RlZmluZSBBTURHUFVfUE1VX0FUVFIo
X25hbWUsIF9vYmplY3QpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcDQo+ICtzdGF0
aWMgc3NpemVfdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIFwNCj4gK19uYW1lIyNfc2hvdyhzdHJ1Y3QgZGV2aWNlICpkZXYsICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXA0KPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgc3RydWN0IGRldmljZV9hdHRyaWJ1dGUgKmF0dHIsICAgICAgICAgICBcDQo+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyICpwYWdlKSAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIFwNCj4gK3sgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXA0KPiArICAgICAgIEJVSUxEX0JVR19P
TihzaXplb2YoX29iamVjdCkgPj0gUEFHRV9TSVpFIC0gMSk7ICAgICAgICAgICAgICAgICBcDQo+
ICsgICAgICAgcmV0dXJuIHNwcmludGYocGFnZSwgX29iamVjdCAiXG4iKTsgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIFwNCj4gK30gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXA0KPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAN
Cj4gK1wgc3RhdGljIHN0cnVjdCBkZXZpY2VfYXR0cmlidXRlIHBtdV9hdHRyXyMjX25hbWUgPSBf
X0FUVFJfUk8oX25hbWUpDQo+ICsNCj4gICNlbmRpZg0KPiArDQo+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9kZl92M182LmMgDQo+IGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvZGZfdjNfNi5jDQo+IGluZGV4IDhjMDliZjk5NGFjZC4uMTJlM2U2NzAxM2Q5IDEw
MDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9kZl92M182LmMNCj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZGZfdjNfNi5jDQo+IEBAIC0zMCw4ICszMCwx
MDQgQEANCj4gIHN0YXRpYyB1MzIgZGZfdjNfNl9jaGFubmVsX251bWJlcltdID0gezEsIDIsIDAs
IDQsIDAsIDgsIDAsDQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE2
LCAzMiwgMCwgMCwgMCwgMiwgNCwgOH07DQo+DQo+ICsvKiBpbml0IGRmIGZvcm1hdCBhdHRycyAq
Lw0KPiArQU1ER1BVX1BNVV9BVFRSKGV2ZW50LCAgICAgICAgICJjb25maWc6MC03Iik7DQo+ICtB
TURHUFVfUE1VX0FUVFIoaW5zdGFuY2UsICAgICAgImNvbmZpZzo4LTE1Iik7DQo+ICtBTURHUFVf
UE1VX0FUVFIodW1hc2ssICAgICAgICAgImNvbmZpZzoxNi0yMyIpOw0KPiArDQo+ICsvKiBkZiBm
b3JtYXQgYXR0cmlidXRlcyAgKi8NCj4gK3N0YXRpYyBzdHJ1Y3QgYXR0cmlidXRlICpkZl92M182
X2Zvcm1hdF9hdHRyc1tdID0gew0KPiArICAgICAgICZwbXVfYXR0cl9ldmVudC5hdHRyLA0KPiAr
ICAgICAgICZwbXVfYXR0cl9pbnN0YW5jZS5hdHRyLA0KPiArICAgICAgICZwbXVfYXR0cl91bWFz
ay5hdHRyLA0KPiArICAgICAgIE5VTEwNCj4gK307DQo+ICsNCj4gKy8qIGRmIGZvcm1hdCBhdHRy
aWJ1dGUgZ3JvdXAgKi8NCj4gK3N0YXRpYyBzdHJ1Y3QgYXR0cmlidXRlX2dyb3VwIGRmX3YzXzZf
Zm9ybWF0X2F0dHJfZ3JvdXAgPSB7DQo+ICsgICAgICAgLm5hbWUgPSAiZm9ybWF0IiwNCj4gKyAg
ICAgICAuYXR0cnMgPSBkZl92M182X2Zvcm1hdF9hdHRycywgfTsNCj4gKw0KPiArLyogZGYgZXZl
bnQgYXR0cnMgKi8NCj4gK0FNREdQVV9QTVVfQVRUUihjYWtlMF9wY3NvdXRfdHhkYXRhLA0KPiAr
ICAgICAgICAgICAgICAgICAgICAgImV2ZW50PTB4NyxpbnN0YW5jZT0weDQ2LHVtYXNrPTB4MiIp
Ow0KPiArQU1ER1BVX1BNVV9BVFRSKGNha2UxX3Bjc291dF90eGRhdGEsDQo+ICsgICAgICAgICAg
ICAgICAgICAgICAiZXZlbnQ9MHg3LGluc3RhbmNlPTB4NDcsdW1hc2s9MHgyIik7DQo+ICtBTURH
UFVfUE1VX0FUVFIoY2FrZTBfcGNzb3V0X3R4bWV0YSwNCj4gKyAgICAgICAgICAgICAgICAgICAg
ICJldmVudD0weDcsaW5zdGFuY2U9MHg0Nix1bWFzaz0weDQiKTsNCj4gK0FNREdQVV9QTVVfQVRU
UihjYWtlMV9wY3NvdXRfdHhtZXRhLA0KPiArICAgICAgICAgICAgICAgICAgICAgImV2ZW50PTB4
NyxpbnN0YW5jZT0weDQ3LHVtYXNrPTB4NCIpOw0KPiArQU1ER1BVX1BNVV9BVFRSKGNha2UwX2Z0
aWluc3RhdF9yZXFhbGxvYywNCj4gKyAgICAgICAgICAgICAgICAgICAgICJldmVudD0weGIsaW5z
dGFuY2U9MHg0Nix1bWFzaz0weDQiKTsNCj4gK0FNREdQVV9QTVVfQVRUUihjYWtlMV9mdGlpbnN0
YXRfcmVxYWxsb2MsDQo+ICsgICAgICAgICAgICAgICAgICAgICAiZXZlbnQ9MHhiLGluc3RhbmNl
PTB4NDcsdW1hc2s9MHg0Iik7DQo+ICtBTURHUFVfUE1VX0FUVFIoY2FrZTBfZnRpaW5zdGF0X3Jz
cGFsbG9jLA0KPiArICAgICAgICAgICAgICAgICAgICAgImV2ZW50PTB4YixpbnN0YW5jZT0weDQ2
LHVtYXNrPTB4OCIpOw0KPiArQU1ER1BVX1BNVV9BVFRSKGNha2UxX2Z0aWluc3RhdF9yc3BhbGxv
YywNCj4gKyAgICAgICAgICAgICAgICAgICAgICJldmVudD0weGIsaW5zdGFuY2U9MHg0Nyx1bWFz
az0weDgiKTsNCj4gKw0KPiArLyogZGYgZXZlbnQgYXR0cmlidXRlcyAgKi8NCj4gK3N0YXRpYyBz
dHJ1Y3QgYXR0cmlidXRlICpkZl92M182X2V2ZW50X2F0dHJzW10gPSB7DQo+ICsgICAgICAgJnBt
dV9hdHRyX2Nha2UwX3Bjc291dF90eGRhdGEuYXR0ciwNCj4gKyAgICAgICAmcG11X2F0dHJfY2Fr
ZTFfcGNzb3V0X3R4ZGF0YS5hdHRyLA0KPiArICAgICAgICZwbXVfYXR0cl9jYWtlMF9wY3NvdXRf
dHhtZXRhLmF0dHIsDQo+ICsgICAgICAgJnBtdV9hdHRyX2Nha2UxX3Bjc291dF90eG1ldGEuYXR0
ciwNCj4gKyAgICAgICAmcG11X2F0dHJfY2FrZTBfZnRpaW5zdGF0X3JlcWFsbG9jLmF0dHIsDQo+
ICsgICAgICAgJnBtdV9hdHRyX2Nha2UxX2Z0aWluc3RhdF9yZXFhbGxvYy5hdHRyLA0KPiArICAg
ICAgICZwbXVfYXR0cl9jYWtlMF9mdGlpbnN0YXRfcnNwYWxsb2MuYXR0ciwNCj4gKyAgICAgICAm
cG11X2F0dHJfY2FrZTFfZnRpaW5zdGF0X3JzcGFsbG9jLmF0dHIsDQo+ICsgICAgICAgTlVMTA0K
PiArfTsNCj4gKw0KPiArLyogZGYgZXZlbnQgYXR0cmlidXRlIGdyb3VwICovDQo+ICtzdGF0aWMg
c3RydWN0IGF0dHJpYnV0ZV9ncm91cCBkZl92M182X2V2ZW50X2F0dHJfZ3JvdXAgPSB7DQo+ICsg
ICAgICAgLm5hbWUgPSAiZXZlbnRzIiwNCj4gKyAgICAgICAuYXR0cnMgPSBkZl92M182X2V2ZW50
X2F0dHJzDQo+ICt9Ow0KPiArDQo+ICsvKiBkZiBldmVudCBhdHRyIGdyb3VwcyAgKi8NCj4gK2Nv
bnN0IHN0cnVjdCBhdHRyaWJ1dGVfZ3JvdXAgKmRmX3YzXzZfYXR0cl9ncm91cHNbXSA9IHsNCj4g
KyAgICAgICAgICAgICAgICZkZl92M182X2Zvcm1hdF9hdHRyX2dyb3VwLA0KPiArICAgICAgICAg
ICAgICAgJmRmX3YzXzZfZXZlbnRfYXR0cl9ncm91cCwNCj4gKyAgICAgICAgICAgICAgIE5VTEwN
Cj4gK307DQo+ICsNCj4gKy8qIGdldCB0aGUgbnVtYmVyIG9mIGRmIGNvdW50ZXJzIGF2YWlsYWJs
ZSAqLyBzdGF0aWMgc3NpemVfdCANCj4gK2RmX3YzXzZfZ2V0X2RmX2NudHJfYXZhaWwoc3RydWN0
IGRldmljZSAqZGV2LA0KPiArICAgICAgICAgICAgICAgc3RydWN0IGRldmljZV9hdHRyaWJ1dGUg
KmF0dHIsDQo+ICsgICAgICAgICAgICAgICBjaGFyICpidWYpDQo+ICt7DQo+ICsgICAgICAgc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXY7DQo+ICsgICAgICAgc3RydWN0IGRybV9kZXZpY2UgKmRk
ZXY7DQo+ICsgICAgICAgaW50IGksIGNvdW50Ow0KPiArDQo+ICsgICAgICAgZGRldiA9IGRldl9n
ZXRfZHJ2ZGF0YShkZXYpOw0KPiArICAgICAgIGFkZXYgPSBkZGV2LT5kZXZfcHJpdmF0ZTsNCj4g
KyAgICAgICBjb3VudCA9IDA7DQo+ICsNCj4gKyAgICAgICBmb3IgKGkgPSAwOyBpIDwgREZfVjNf
Nl9NQVhfQ09VTlRFUlM7IGkrKykgew0KPiArICAgICAgICAgICAgICAgaWYgKGFkZXYtPmRmX3Bl
cmZtb25fY29uZmlnX2Fzc2lnbl9tYXNrW2ldID09IDApDQo+ICsgICAgICAgICAgICAgICAgICAg
ICAgIGNvdW50Kys7DQo+ICsgICAgICAgfQ0KPiArDQo+ICsgICAgICAgcmV0dXJuIHNucHJpbnRm
KGJ1ZiwgUEFHRV9TSVpFLCAiJWlcbiIsIGNvdW50KTsgfQ0KPiArDQo+ICsvKiBkZXZpY2UgYXR0
ciBmb3IgYXZhaWxhYmxlIHBlcmZtb24gY291bnRlcnMgKi8gc3RhdGljIA0KPiArREVWSUNFX0FU
VFIoZGZfY250cl9hdmFpbCwgU19JUlVHTywgZGZfdjNfNl9nZXRfZGZfY250cl9hdmFpbCwgTlVM
TCk7DQo+ICsNCj4gKy8qIGluaXQgcGVyZm1vbnMgKi8NCj4gIHN0YXRpYyB2b2lkIGRmX3YzXzZf
aW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikgIHsNCj4gKyAgICAgICBpbnQgaSwgcmV0
Ow0KPiArDQo+ICsgICAgICAgcmV0ID0gZGV2aWNlX2NyZWF0ZV9maWxlKGFkZXYtPmRldiwgJmRl
dl9hdHRyX2RmX2NudHJfYXZhaWwpOw0KPiArICAgICAgIGlmIChyZXQpDQo+ICsgICAgICAgICAg
ICAgICBEUk1fRVJST1IoImZhaWxlZCB0byBjcmVhdGUgZmlsZSBmb3IgYXZhaWxhYmxlIGRmIA0K
PiArIGNvdW50ZXJzXG4iKTsNCj4gKw0KPiArICAgICAgIGZvciAoaSA9IDA7IGkgPCBBTURHUFVf
TUFYX0RGX1BFUkZNT05TOyBpKyspDQo+ICsgICAgICAgICAgICAgICBhZGV2LT5kZl9wZXJmbW9u
X2NvbmZpZ19hc3NpZ25fbWFza1tpXSA9IDA7DQo+ICB9DQoNCllvdSBuZXZlciBhZGRyZXNzZWQg
bXkgY29tbWVudHMgYWJvdXQgZGYgaW5pdCBmcm9tIGJlZm9yZS4gIGRmX2luaXQgZ2V0cyBjYWxs
ZWQgZnJvbSBod19pbml0LCBzbyB5b3Ugc2hvdWxkbid0IGNyZWF0ZSBmaWxlcy4gIE1vdmUgZGYg
aW5pdCB0byBiZWluZyBjYWxsZWQgZnJvbSBzb2MxNSBzd19pbml0L2ZpbmkgYW5kIHByb2JhYmx5
IHJlbmFtZSB0aGUgZGYgY2FsbGJhY2tzIHRvIHN3X2luaXQgYW5kIHN3X2Zpbmkgc28gd2Uga25v
dyBub3QgdG8gYWRkIGh3IHN0YXRlIHRvIHRob3NlIGZ1bmN0aW9ucy4gIEFzIGlzIG5vdywgd2Un
bGwgZW5kIHVwIG5lZWRsZXNzbHkgY3JlYXRpbmcgYW5kIGRlc3RvcnlpbmcgZmlsZXMgb24gc3Vz
cGVuZC9yZXN1bWUuDQoNCkFsZXgNCg0KDQo+DQo+ICBzdGF0aWMgdm9pZCBkZl92M182X2VuYWJs
ZV9icm9hZGNhc3RfbW9kZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgDQo+IEBAIC0xMDUs
MjggKzIwMSwxOSBAQCBzdGF0aWMgdm9pZCBkZl92M182X2dldF9jbG9ja2dhdGluZ19zdGF0ZShz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gICAgICAgICAgICAgICAgICpmbGFncyB8PSBB
TURfQ0dfU1VQUE9SVF9ERl9NR0NHOyAgfQ0KPg0KPiAtLyogaG9sZCBjb3VudGVyIGFzc2lnbm1l
bnQgcGVyIGdwdSBzdHJ1Y3QgKi8gLXN0cnVjdCANCj4gZGZfdjNfNl9ldmVudF9tYXNrIHsNCj4g
LSAgICAgICAgICAgICAgIHN0cnVjdCBhbWRncHVfZGV2aWNlIGdwdTsNCj4gLSAgICAgICAgICAg
ICAgIHVpbnQ2NF90IGNvbmZpZ19hc3NpZ25fbWFza1tBTURHUFVfREZfTUFYX0NPVU5URVJTXTsN
Cj4gLX07DQo+IC0NCj4gIC8qIGdldCBhc3NpZ25lZCBkZiBwZXJmbW9uIGN0ciBhcyBpbnQgKi8g
LXN0YXRpYyB2b2lkIA0KPiBkZl92M182X3BtY19jb25maWdfMl9jbnRyKHN0cnVjdCBhbWRncHVf
ZGV2aWNlICphZGV2LA0KPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVp
bnQ2NF90IGNvbmZpZywNCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBp
bnQgKmNvdW50ZXIpDQo+ICtzdGF0aWMgaW50IGRmX3YzXzZfcG1jX2NvbmZpZ18yX2NudHIoc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgdWludDY0X3QgY29uZmlnKQ0KPiAgew0KPiAtICAgICAgIHN0cnVjdCBkZl92M182
X2V2ZW50X21hc2sgKm1hc2s7DQo+ICAgICAgICAgaW50IGk7DQo+DQo+IC0gICAgICAgbWFzayA9
IGNvbnRhaW5lcl9vZihhZGV2LCBzdHJ1Y3QgZGZfdjNfNl9ldmVudF9tYXNrLCBncHUpOw0KPiAt
DQo+IC0gICAgICAgZm9yIChpID0gMDsgaSA8IEFNREdQVV9ERl9NQVhfQ09VTlRFUlM7IGkrKykg
ew0KPiAtICAgICAgICAgICAgICAgaWYgKChjb25maWcgJiAweDBGRkZGRkZVTCkgPT0gbWFzay0+
Y29uZmlnX2Fzc2lnbl9tYXNrW2ldKSB7DQo+IC0gICAgICAgICAgICAgICAgICAgICAgICpjb3Vu
dGVyID0gaTsNCj4gLSAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KPiAtICAgICAgICAg
ICAgICAgfQ0KPiArICAgICAgIGZvciAoaSA9IDA7IGkgPCBERl9WM182X01BWF9DT1VOVEVSUzsg
aSsrKSB7DQo+ICsgICAgICAgICAgICAgICBpZiAoKGNvbmZpZyAmIDB4MEZGRkZGRlVMKSA9PQ0K
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRldi0+ZGZfcGVyZm1v
bl9jb25maWdfYXNzaWduX21hc2tbaV0pDQo+ICsgICAgICAgICAgICAgICAgICAgICAgIHJldHVy
biBpOw0KPiAgICAgICAgIH0NCj4gKw0KPiArICAgICAgIHJldHVybiAtRUlOVkFMOw0KPiAgfQ0K
Pg0KPiAgLyogZ2V0IGFkZHJlc3MgYmFzZWQgb24gY291bnRlciBhc3NpZ25tZW50ICovIEBAIC0x
MzYsMTAgKzIyMyw3IEBAIA0KPiBzdGF0aWMgdm9pZCBkZl92M182X3BtY19nZXRfYWRkcihzdHJ1
Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgdWludDMyX3QgKmxvX2Jhc2VfYWRkciwNCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgdWludDMyX3QgKmhpX2Jhc2VfYWRkcikgIHsNCj4gLQ0KPiAtICAgICAgIGludCB0YXJn
ZXRfY250ciA9IC0xOw0KPiAtDQo+IC0gICAgICAgZGZfdjNfNl9wbWNfY29uZmlnXzJfY250cihh
ZGV2LCBjb25maWcsICZ0YXJnZXRfY250cik7DQo+ICsgICAgICAgaW50IHRhcmdldF9jbnRyID0g
ZGZfdjNfNl9wbWNfY29uZmlnXzJfY250cihhZGV2LCBjb25maWcpOw0KPg0KPiAgICAgICAgIGlm
ICh0YXJnZXRfY250ciA8IDApDQo+ICAgICAgICAgICAgICAgICByZXR1cm47DQo+IEBAIC0xNzcs
NDAgKzI2MSwzOCBAQCBzdGF0aWMgdm9pZCBkZl92M182X3BtY19nZXRfcmVhZF9zZXR0aW5ncyhz
dHJ1Y3QgDQo+IGFtZGdwdV9kZXZpY2UgKmFkZXYsICB9DQo+DQo+ICAvKiBnZXQgY29udHJvbCBj
b3VudGVyIHNldHRpbmdzIGkuZS4gYWRkcmVzcyBhbmQgdmFsdWVzIHRvIHNldCAqLyANCj4gLXN0
YXRpYyB2b2lkIGRmX3YzXzZfcG1jX2dldF9jdHJsX3NldHRpbmdzKHN0cnVjdCBhbWRncHVfZGV2
aWNlICphZGV2LA0KPiArc3RhdGljIGludCBkZl92M182X3BtY19nZXRfY3RybF9zZXR0aW5ncyhz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgdWludDY0X3QgY29uZmlnLA0KPiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICB1aW50MzJfdCAqbG9fYmFzZV9hZGRyLA0KPiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MzJfdCAqaGlfYmFzZV9hZGRyLA0K
PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MzJfdCAqbG9f
dmFsLA0KPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MzJf
dCAqaGlfdmFsKSAgew0KPiAtDQo+IC0gICAgICAgdWludDMyX3QgZXZlbnRzZWwsIGluc3RhbmNl
LCB1bml0bWFzazsNCj4gLSAgICAgICB1aW50MzJfdCBlc181XzAsIGVzXzEzXzAsIGVzXzEzXzYs
IGVzXzEzXzEyLCBlc18xMV84LCBlc183XzA7DQo+IC0NCj4gICAgICAgICBkZl92M182X3BtY19n
ZXRfYWRkcihhZGV2LCBjb25maWcsIDEsIGxvX2Jhc2VfYWRkciwgDQo+IGhpX2Jhc2VfYWRkcik7
DQo+DQo+IC0gICAgICAgaWYgKGxvX3ZhbCA9PSBOVUxMIHx8IGhpX3ZhbCA9PSBOVUxMKQ0KPiAt
ICAgICAgICAgICAgICAgcmV0dXJuOw0KPiAtDQo+ICAgICAgICAgaWYgKCgqbG9fYmFzZV9hZGRy
ID09IDApIHx8ICgqaGlfYmFzZV9hZGRyID09IDApKSB7DQo+IC0gICAgICAgICAgICAgICBEUk1f
RVJST1IoIkRGIFBNQyBhZGRyZXNzaW5nIG5vdCByZXRyaWV2ZWQhIExvOiAleCwgSGk6ICV4IiwN
Cj4gKyAgICAgICAgICAgICAgIERSTV9FUlJPUigiW0RGIFBNQ10gYWRkcmVzc2luZyBub3QgcmV0
cmlldmVkISBMbzogJXgsIA0KPiArIEhpOiAleCIsDQo+ICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgKmxvX2Jhc2VfYWRkciwgKmhpX2Jhc2VfYWRkcik7DQo+IC0gICAgICAgICAgICAg
ICByZXR1cm47DQo+ICsgICAgICAgICAgICAgICByZXR1cm4gLUVOWElPOw0KPiArICAgICAgIH0N
Cj4gKw0KPiArICAgICAgIGlmIChsb192YWwgJiYgaGlfdmFsKSB7DQo+ICsgICAgICAgICAgICAg
ICB1aW50MzJfdCBldmVudHNlbCwgaW5zdGFuY2UsIHVuaXRtYXNrOw0KPiArICAgICAgICAgICAg
ICAgdWludDMyX3QgaW5zdGFuY2VfMTAsIGluc3RhbmNlXzU0MzIsIGluc3RhbmNlXzc2Ow0KPiAr
DQo+ICsgICAgICAgICAgICAgICBldmVudHNlbCA9IERGX1YzXzZfR0VUX0VWRU5UKGNvbmZpZykg
JiAweDNmOw0KPiArICAgICAgICAgICAgICAgdW5pdG1hc2sgPSBERl9WM182X0dFVF9VTklUTUFT
Syhjb25maWcpICYgMHhmOw0KPiArICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBERl9WM182X0dF
VF9JTlNUQU5DRShjb25maWcpOw0KPiArDQo+ICsgICAgICAgICAgICAgICBpbnN0YW5jZV8xMCA9
IGluc3RhbmNlICYgMHgzOw0KPiArICAgICAgICAgICAgICAgaW5zdGFuY2VfNTQzMiA9IChpbnN0
YW5jZSA+PiAyKSAmIDB4ZjsNCj4gKyAgICAgICAgICAgICAgIGluc3RhbmNlXzc2ID0gKGluc3Rh
bmNlID4+IDYpICYgMHgzOw0KPiArDQo+ICsgICAgICAgICAgICAgICAqbG9fdmFsID0gKHVuaXRt
YXNrIDw8IDgpIHwgKGluc3RhbmNlXzEwIDw8IDYpIHwgZXZlbnRzZWw7DQo+ICsgICAgICAgICAg
ICAgICAqaGlfdmFsID0gKGluc3RhbmNlXzc2IDw8IDI5KSB8IGluc3RhbmNlXzU0MzI7DQo+ICAg
ICAgICAgfQ0KPg0KPiAtICAgICAgIGV2ZW50c2VsID0gR0VUX0VWRU5UKGNvbmZpZyk7DQo+IC0g
ICAgICAgaW5zdGFuY2UgPSBHRVRfSU5TVEFOQ0UoY29uZmlnKTsNCj4gLSAgICAgICB1bml0bWFz
ayA9IEdFVF9VTklUTUFTSyhjb25maWcpOw0KPiAtDQo+IC0gICAgICAgZXNfNV8wID0gZXZlbnRz
ZWwgJiAweDNGVUw7DQo+IC0gICAgICAgZXNfMTNfNiA9IGluc3RhbmNlOw0KPiAtICAgICAgIGVz
XzEzXzAgPSAoZXNfMTNfNiA8PCA2KSArIGVzXzVfMDsNCj4gLSAgICAgICBlc18xM18xMiA9IChl
c18xM18wICYgMHgwMzAwMFVMKSA+PiAxMjsNCj4gLSAgICAgICBlc18xMV84ID0gKGVzXzEzXzAg
JiAweDBGMDBVTCkgPj4gODsNCj4gLSAgICAgICBlc183XzAgPSBlc18xM18wICYgMHgwRkZVTDsN
Cj4gLSAgICAgICAqbG9fdmFsID0gKGVzXzdfMCAmIDB4RkZVTCkgfCAoKHVuaXRtYXNrICYgMHgw
RlVMKSA8PCA4KTsNCj4gLSAgICAgICAqaGlfdmFsID0gKGVzXzExXzggfCAoKGVzXzEzXzEyKTw8
KDI5KSkpOw0KPiArICAgICAgIHJldHVybiAwOw0KPiAgfQ0KPg0KPiAgLyogYXNzaWduIGRmIHBl
cmZvcm1hbmNlIGNvdW50ZXJzIGZvciByZWFkICovIEBAIC0yMTgsMjYgKzMwMCwyMSBAQCANCj4g
c3RhdGljIGludCBkZl92M182X3BtY19hc3NpZ25fY250cihzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldiwNCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50NjRfdCBjb25m
aWcsDQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ICppc19hc3NpZ25l
ZCkgIHsNCj4gLQ0KPiAtICAgICAgIHN0cnVjdCBkZl92M182X2V2ZW50X21hc2sgKm1hc2s7DQo+
ICAgICAgICAgaW50IGksIHRhcmdldF9jbnRyOw0KPg0KPiAtICAgICAgIHRhcmdldF9jbnRyID0g
LTE7DQo+IC0NCj4gICAgICAgICAqaXNfYXNzaWduZWQgPSAwOw0KPg0KPiAtICAgICAgIGRmX3Yz
XzZfcG1jX2NvbmZpZ18yX2NudHIoYWRldiwgY29uZmlnLCAmdGFyZ2V0X2NudHIpOw0KPiArICAg
ICAgIHRhcmdldF9jbnRyID0gZGZfdjNfNl9wbWNfY29uZmlnXzJfY250cihhZGV2LCBjb25maWcp
Ow0KPg0KPiAgICAgICAgIGlmICh0YXJnZXRfY250ciA+PSAwKSB7DQo+ICAgICAgICAgICAgICAg
ICAqaXNfYXNzaWduZWQgPSAxOw0KPiAgICAgICAgICAgICAgICAgcmV0dXJuIDA7DQo+ICAgICAg
ICAgfQ0KPg0KPiAtICAgICAgIG1hc2sgPSBjb250YWluZXJfb2YoYWRldiwgc3RydWN0IGRmX3Yz
XzZfZXZlbnRfbWFzaywgZ3B1KTsNCj4gLQ0KPiAtICAgICAgIGZvciAoaSA9IDA7IGkgPCBBTURH
UFVfREZfTUFYX0NPVU5URVJTOyBpKyspIHsNCj4gLSAgICAgICAgICAgICAgIGlmIChtYXNrLT5j
b25maWdfYXNzaWduX21hc2tbaV0gPT0gMFVMTCkgew0KPiAtICAgICAgICAgICAgICAgICAgICAg
ICBtYXNrLT5jb25maWdfYXNzaWduX21hc2tbaV0gPSBjb25maWcgJiAweDBGRkZGRkZVTDsNCj4g
KyAgICAgICBmb3IgKGkgPSAwOyBpIDwgREZfVjNfNl9NQVhfQ09VTlRFUlM7IGkrKykgew0KPiAr
ICAgICAgICAgICAgICAgaWYgKGFkZXYtPmRmX3BlcmZtb25fY29uZmlnX2Fzc2lnbl9tYXNrW2ld
ID09IDBVKSB7DQo+ICsgICAgICAgICAgICAgICAgICAgICAgIGFkZXYtPmRmX3BlcmZtb25fY29u
ZmlnX2Fzc2lnbl9tYXNrW2ldID0NCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBjb25maWcgJiANCj4gKyAweDBGRkZGRkZVTDsNCj4gICAg
ICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7DQo+ICAgICAgICAgICAgICAgICB9DQo+ICAg
ICAgICAgfQ0KPiBAQCAtMjQ5LDY2ICszMjYsMTcgQEAgc3RhdGljIGludCBkZl92M182X3BtY19h
c3NpZ25fY250cihzdHJ1Y3QgDQo+IGFtZGdwdV9kZXZpY2UgKmFkZXYsICBzdGF0aWMgdm9pZCBk
Zl92M182X3BtY19yZWxlYXNlX2NudHIoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50NjRfdCBjb25maWcpICB7DQo+
IC0NCj4gLSAgICAgICBzdHJ1Y3QgZGZfdjNfNl9ldmVudF9tYXNrICptYXNrOw0KPiAtICAgICAg
IGludCB0YXJnZXRfY250cjsNCj4gLQ0KPiAtICAgICAgIHRhcmdldF9jbnRyID0gLTE7DQo+IC0N
Cj4gLSAgICAgICBkZl92M182X3BtY19jb25maWdfMl9jbnRyKGFkZXYsIGNvbmZpZywgJnRhcmdl
dF9jbnRyKTsNCj4gLQ0KPiAtICAgICAgIG1hc2sgPSBjb250YWluZXJfb2YoYWRldiwgc3RydWN0
IGRmX3YzXzZfZXZlbnRfbWFzaywgZ3B1KTsNCj4gKyAgICAgICBpbnQgdGFyZ2V0X2NudHIgPSBk
Zl92M182X3BtY19jb25maWdfMl9jbnRyKGFkZXYsIGNvbmZpZyk7DQo+DQo+ICAgICAgICAgaWYg
KHRhcmdldF9jbnRyID49IDApDQo+IC0gICAgICAgICAgICAgICBtYXNrLT5jb25maWdfYXNzaWdu
X21hc2tbdGFyZ2V0X2NudHJdID0gMFVMTDsNCj4gLQ0KPiArICAgICAgICAgICAgICAgYWRldi0+
ZGZfcGVyZm1vbl9jb25maWdfYXNzaWduX21hc2tbdGFyZ2V0X2NudHJdID0gDQo+ICsgMFVMTDsN
Cj4gIH0NCj4NCj4gLS8qDQo+IC0gKiBnZXQgeGdtaSBsaW5rIGNvdW50ZXJzIHZpYSBwcm9ncmFt
bWFibGUgZGF0YSBmYWJyaWMgKGRmKSBjb3VudGVycyANCj4gKG1heCA0KQ0KPiAtICogdXNpbmcg
Y2FrZSB0eCBldmVudC4NCj4gLSAqDQo+IC0gKiBAYWRldiAtPiBhbWRncHUgZGV2aWNlDQo+IC0g
KiBAaW5zdGFuY2UtPiBjdXJyZW50bHkgY2FrZSBoYXMgMiBsaW5rcyB0byBwb2xsIG9uIHZlZ2Ey
MA0KPiAtICogQGNvdW50IC0+IGNvdW50ZXJzIHRvIHBhc3MNCj4gLSAqDQo+IC0gKi8NCj4gLQ0K
PiAtc3RhdGljIHZvaWQgZGZfdjNfNl9nZXRfeGdtaV9saW5rX2NudHIoc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYsDQo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlu
dCBpbnN0YW5jZSwNCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWlu
dDY0X3QgKmNvdW50KQ0KPiAtew0KPiAtICAgICAgIHVpbnQzMl90IGxvX2Jhc2VfYWRkciwgaGlf
YmFzZV9hZGRyLCBsb192YWwsIGhpX3ZhbDsNCj4gLSAgICAgICB1aW50NjRfdCBjb25maWc7DQo+
IC0NCj4gLSAgICAgICBjb25maWcgPSBHRVRfSU5TVEFOQ0VfQ09ORklHKGluc3RhbmNlKTsNCj4g
LQ0KPiAtICAgICAgIGRmX3YzXzZfcG1jX2dldF9yZWFkX3NldHRpbmdzKGFkZXYsIGNvbmZpZywg
JmxvX2Jhc2VfYWRkciwNCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAm
aGlfYmFzZV9hZGRyKTsNCj4gLQ0KPiAtICAgICAgIGlmICgobG9fYmFzZV9hZGRyID09IDApIHx8
IChoaV9iYXNlX2FkZHIgPT0gMCkpDQo+IC0gICAgICAgICAgICAgICByZXR1cm47DQo+IC0NCj4g
LSAgICAgICBsb192YWwgPSBSUkVHMzJfUENJRShsb19iYXNlX2FkZHIpOw0KPiAtICAgICAgIGhp
X3ZhbCA9IFJSRUczMl9QQ0lFKGhpX2Jhc2VfYWRkcik7DQo+DQo+IC0gICAgICAgKmNvdW50ICA9
ICgoaGlfdmFsIHwgMFVMTCkgPDwgMzIpIHwgKGxvX3ZhbCB8IDBVTEwpOw0KPiAtfQ0KPiAtDQo+
IC0vKg0KPiAtICogcmVzZXQgeGdtaSBsaW5rIGNvdW50ZXJzDQo+IC0gKg0KPiAtICogQGFkZXYg
LT4gYW1kZ3B1IGRldmljZQ0KPiAtICogQGluc3RhbmNlLT4gY3VycmVudGx5IGNha2UgaGFzIDIg
bGlua3MgdG8gcG9sbCBvbiB2ZWdhMjANCj4gLSAqDQo+IC0gKi8NCj4gLXN0YXRpYyB2b2lkIGRm
X3YzXzZfcmVzZXRfeGdtaV9saW5rX2NudHIoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+
IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50IGluc3RhbmNlKQ0K
PiArc3RhdGljIHZvaWQgZGZfdjNfNl9yZXNldF9wZXJmbW9uX2NudHIoc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYsDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
dWludDY0X3QgY29uZmlnKQ0KPiAgew0KPiAgICAgICAgIHVpbnQzMl90IGxvX2Jhc2VfYWRkciwg
aGlfYmFzZV9hZGRyOw0KPiAtICAgICAgIHVpbnQ2NF90IGNvbmZpZzsNCj4gLQ0KPiAtICAgICAg
IGNvbmZpZyA9IDBVTEwgfCAoMHg3VUxMKSB8ICgoMHg0NlVMTCArIGluc3RhbmNlKSA8PCA4KSB8
ICgweDIgPDwgMTYpOw0KPg0KPiAgICAgICAgIGRmX3YzXzZfcG1jX2dldF9yZWFkX3NldHRpbmdz
KGFkZXYsIGNvbmZpZywgJmxvX2Jhc2VfYWRkciwNCj4gICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAmaGlfYmFzZV9hZGRyKTsgQEAgLTMyMCwxODUgDQo+ICszNDgsMTA2IEBA
IHN0YXRpYyB2b2lkIGRmX3YzXzZfcmVzZXRfeGdtaV9saW5rX2NudHIoc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYsDQo+ICAgICAgICAgV1JFRzMyX1BDSUUoaGlfYmFzZV9hZGRyLCAwVUwpOyAg
fQ0KPg0KPiAtLyoNCj4gLSAqIGFkZCB4Z21pIGxpbmsgY291bnRlcnMNCj4gLSAqDQo+IC0gKiBA
YWRldiAtPiBhbWRncHUgZGV2aWNlDQo+IC0gKiBAaW5zdGFuY2UtPiBjdXJyZW50bHkgY2FrZSBo
YXMgMiBsaW5rcyB0byBwb2xsIG9uIHZlZ2EyMA0KPiAtICoNCj4gLSAqLw0KPg0KPiAtc3RhdGlj
IGludCBkZl92M182X2FkZF94Z21pX2xpbmtfY250cihzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRl
diwNCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQgaW5zdGFuY2Up
DQo+ICtzdGF0aWMgaW50IGRmX3YzXzZfYWRkX3BlcmZtb25fY250cihzdHJ1Y3QgYW1kZ3B1X2Rl
dmljZSAqYWRldiwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50
NjRfdCBjb25maWcpDQo+ICB7DQo+ICAgICAgICAgdWludDMyX3QgbG9fYmFzZV9hZGRyLCBoaV9i
YXNlX2FkZHIsIGxvX3ZhbCwgaGlfdmFsOw0KPiAtICAgICAgIHVpbnQ2NF90IGNvbmZpZzsNCj4g
ICAgICAgICBpbnQgcmV0LCBpc19hc3NpZ25lZDsNCj4NCj4gLSAgICAgICBpZiAoaW5zdGFuY2Ug
PCAwIHx8IGluc3RhbmNlID4gMSkNCj4gLSAgICAgICAgICAgICAgIHJldHVybiAtRUlOVkFMOw0K
PiAtDQo+IC0gICAgICAgY29uZmlnID0gR0VUX0lOU1RBTkNFX0NPTkZJRyhpbnN0YW5jZSk7DQo+
IC0NCj4gICAgICAgICByZXQgPSBkZl92M182X3BtY19hc3NpZ25fY250cihhZGV2LCBjb25maWcs
ICZpc19hc3NpZ25lZCk7DQo+DQo+ICAgICAgICAgaWYgKHJldCB8fCBpc19hc3NpZ25lZCkNCj4g
ICAgICAgICAgICAgICAgIHJldHVybiByZXQ7DQo+DQo+IC0gICAgICAgZGZfdjNfNl9wbWNfZ2V0
X2N0cmxfc2V0dGluZ3MoYWRldiwNCj4gKyAgICAgICByZXQgPSBkZl92M182X3BtY19nZXRfY3Ry
bF9zZXR0aW5ncyhhZGV2LA0KPiAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWcsDQo+ICAg
ICAgICAgICAgICAgICAgICAgICAgICZsb19iYXNlX2FkZHIsDQo+ICAgICAgICAgICAgICAgICAg
ICAgICAgICZoaV9iYXNlX2FkZHIsDQo+ICAgICAgICAgICAgICAgICAgICAgICAgICZsb192YWws
DQo+ICAgICAgICAgICAgICAgICAgICAgICAgICZoaV92YWwpOw0KPg0KPiArICAgICAgIGlmIChy
ZXQpDQo+ICsgICAgICAgICAgICAgICByZXR1cm4gcmV0Ow0KPiArDQo+ICsgICAgICAgRFJNX0RF
QlVHX0RSSVZFUigiY29uZmlnPSVsbHggYWRkcj0lMDh4OiUwOHggdmFsPSUwOHg6JTA4eCIsDQo+
ICsgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZywgbG9fYmFzZV9hZGRyLCBoaV9iYXNlX2Fk
ZHIsIGxvX3ZhbCwgDQo+ICsgaGlfdmFsKTsNCj4gKw0KPiAgICAgICAgIFdSRUczMl9QQ0lFKGxv
X2Jhc2VfYWRkciwgbG9fdmFsKTsNCj4gICAgICAgICBXUkVHMzJfUENJRShoaV9iYXNlX2FkZHIs
IGhpX3ZhbCk7DQo+DQo+ICAgICAgICAgcmV0dXJuIHJldDsNCj4gIH0NCj4NCj4gLQ0KPiAtLyoN
Cj4gLSAqIHN0YXJ0IHhnbWkgbGluayBjb3VudGVycw0KPiAtICoNCj4gLSAqIEBhZGV2IC0+IGFt
ZGdwdSBkZXZpY2UNCj4gLSAqIEBpbnN0YW5jZS0+IGN1cnJlbnRseSBjYWtlIGhhcyAyIGxpbmtz
IHRvIHBvbGwgb24gdmVnYTIwDQo+IC0gKiBAaXNfZW5hYmxlIC0+IGVpdGhlciByZXN1bWUgb3Ig
YXNzaWduIGV2ZW50IHZpYSBkZiBwZXJmbW9uDQo+IC0gKg0KPiAtICovDQo+IC0NCj4gLXN0YXRp
YyBpbnQgZGZfdjNfNl9zdGFydF94Z21pX2xpbmtfY250cihzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldiwNCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludCBpbnN0
YW5jZSwNCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludCBpc19l
bmFibGUpDQo+ICtzdGF0aWMgaW50IGRmX3YzXzZfcG1jX3N0YXJ0KHN0cnVjdCBhbWRncHVfZGV2
aWNlICphZGV2LCB1aW50NjRfdCBjb25maWcsDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgaW50IGlzX2VuYWJsZSkNCj4gIHsNCj4gICAgICAgICB1aW50MzJfdCBsb19iYXNlX2FkZHIs
IGhpX2Jhc2VfYWRkciwgbG9fdmFsOw0KPiAtICAgICAgIHVpbnQ2NF90IGNvbmZpZzsNCj4gLSAg
ICAgICBpbnQgcmV0Ow0KPiAtDQo+IC0gICAgICAgaWYgKGluc3RhbmNlIDwgMCB8fCBpbnN0YW5j
ZSA+IDEpDQo+IC0gICAgICAgICAgICAgICByZXR1cm4gLUVJTlZBTDsNCj4gLQ0KPiAtICAgICAg
IGlmIChpc19lbmFibGUpIHsNCj4gKyAgICAgICBpbnQgcmV0ID0gMDsNCj4NCj4gLSAgICAgICAg
ICAgICAgIHJldCA9IGRmX3YzXzZfYWRkX3hnbWlfbGlua19jbnRyKGFkZXYsIGluc3RhbmNlKTsN
Cj4gLQ0KPiAtICAgICAgICAgICAgICAgaWYgKHJldCkNCj4gLSAgICAgICAgICAgICAgICAgICAg
ICAgcmV0dXJuIHJldDsNCj4gKyAgICAgICBzd2l0Y2ggKGFkZXYtPmFzaWNfdHlwZSkgew0KPiAr
ICAgICAgIGNhc2UgQ0hJUF9WRUdBMjA6DQo+DQo+IC0gICAgICAgfSBlbHNlIHsNCj4gKyAgICAg
ICAgICAgICAgIGRmX3YzXzZfcmVzZXRfcGVyZm1vbl9jbnRyKGFkZXYsIGNvbmZpZyk7DQo+DQo+
IC0gICAgICAgICAgICAgICBjb25maWcgPSBHRVRfSU5TVEFOQ0VfQ09ORklHKGluc3RhbmNlKTsN
Cj4gKyAgICAgICAgICAgICAgIGlmIChpc19lbmFibGUpIHsNCj4gKyAgICAgICAgICAgICAgICAg
ICAgICAgcmV0ID0gZGZfdjNfNl9hZGRfcGVyZm1vbl9jbnRyKGFkZXYsIGNvbmZpZyk7DQo+ICsg
ICAgICAgICAgICAgICB9IGVsc2Ugew0KPiArICAgICAgICAgICAgICAgICAgICAgICByZXQgPSBk
Zl92M182X3BtY19nZXRfY3RybF9zZXR0aW5ncyhhZGV2LA0KPiArICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgY29uZmlnLA0KPiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgJmxvX2Jhc2VfYWRkciwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICZoaV9iYXNlX2FkZHIsDQo+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBOVUxMLA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgTlVMTCk7DQo+DQo+IC0gICAgICAgICAgICAgICBkZl92M182X3BtY19nZXRfY3Ry
bF9zZXR0aW5ncyhhZGV2LA0KPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZp
ZywNCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmbG9fYmFzZV9hZGRyLA0KPiAt
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZoaV9iYXNlX2FkZHIsDQo+IC0gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgTlVMTCwNCj4gLSAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBOVUxMKTsNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldCkNCj4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0Ow0KPg0KPiAtICAgICAgICAg
ICAgICAgaWYgKGxvX2Jhc2VfYWRkciA9PSAwKQ0KPiAtICAgICAgICAgICAgICAgICAgICAgICBy
ZXR1cm4gLUVJTlZBTDsNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgbG9fdmFsID0gUlJFRzMy
X1BDSUUobG9fYmFzZV9hZGRyKTsNCj4NCj4gLSAgICAgICAgICAgICAgIGxvX3ZhbCA9IFJSRUcz
Ml9QQ0lFKGxvX2Jhc2VfYWRkcik7DQo+ICsgICAgICAgICAgICAgICAgICAgICAgIERSTV9ERUJV
R19EUklWRVIoImNvbmZpZz0lbGx4IGFkZHI9JTA4eDolMDh4IHZhbD0lMDh4IiwNCj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWcsIGxvX2Jhc2VfYWRkciwgaGlfYmFzZV9h
ZGRyLCANCj4gKyBsb192YWwpOw0KPg0KPiAtICAgICAgICAgICAgICAgV1JFRzMyX1BDSUUobG9f
YmFzZV9hZGRyLCBsb192YWwgfCAoMVVMTCA8PCAyMikpOw0KPiArICAgICAgICAgICAgICAgICAg
ICAgICBXUkVHMzJfUENJRShsb19iYXNlX2FkZHIsIGxvX3ZhbCB8ICgxVUxMIDw8IDIyKSk7DQo+
ICsgICAgICAgICAgICAgICB9DQo+DQo+IC0gICAgICAgICAgICAgICByZXQgPSAwOw0KPiArICAg
ICAgICAgICAgICAgYnJlYWs7DQo+ICsgICAgICAgZGVmYXVsdDoNCj4gKyAgICAgICAgICAgICAg
IGJyZWFrOw0KPiAgICAgICAgIH0NCj4NCj4gICAgICAgICByZXR1cm4gcmV0Ow0KPiAtDQo+ICB9
DQo+DQo+IC0vKg0KPiAtICogc3RhcnQgeGdtaSBsaW5rIGNvdW50ZXJzDQo+IC0gKg0KPiAtICog
QGFkZXYgLT4gYW1kZ3B1IGRldmljZQ0KPiAtICogQGluc3RhbmNlLT4gY3VycmVudGx5IGNha2Ug
aGFzIDIgbGlua3MgdG8gcG9sbCBvbiB2ZWdhMjANCj4gLSAqIEBpc19lbmFibGUgLT4gZWl0aGVy
IHBhdXNlIG9yIHVuYXNzaWduIGV2ZW50IHZpYSBkZiBwZXJmbW9uDQo+IC0gKg0KPiAtICovDQo+
IC0NCj4gLXN0YXRpYyBpbnQgZGZfdjNfNl9zdG9wX3hnbWlfbGlua19jbnRyKHN0cnVjdCBhbWRn
cHVfZGV2aWNlICphZGV2LA0KPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBpbnQgaW5zdGFuY2UsDQo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IGludCBpc19kaXNhYmxlKQ0KPiArc3RhdGljIGludCBkZl92M182X3BtY19zdG9wKHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2LCB1aW50NjRfdCBjb25maWcsDQo+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICBpbnQgaXNfZGlzYWJsZSkNCj4gIHsNCj4gLQ0KPiAgICAgICAgIHVpbnQzMl90
IGxvX2Jhc2VfYWRkciwgaGlfYmFzZV9hZGRyLCBsb192YWw7DQo+IC0gICAgICAgdWludDY0X3Qg
Y29uZmlnOw0KPiAtDQo+IC0gICAgICAgY29uZmlnID0gR0VUX0lOU1RBTkNFX0NPTkZJRyhpbnN0
YW5jZSk7DQo+IC0NCj4gLSAgICAgICBpZiAoaXNfZGlzYWJsZSkgew0KPiAtICAgICAgICAgICAg
ICAgZGZfdjNfNl9yZXNldF94Z21pX2xpbmtfY250cihhZGV2LCBpbnN0YW5jZSk7DQo+IC0gICAg
ICAgICAgICAgICBkZl92M182X3BtY19yZWxlYXNlX2NudHIoYWRldiwgY29uZmlnKTsNCj4gLSAg
ICAgICB9IGVsc2Ugew0KPiAtDQo+IC0gICAgICAgICAgICAgICBkZl92M182X3BtY19nZXRfY3Ry
bF9zZXR0aW5ncyhhZGV2LA0KPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZp
ZywNCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmbG9fYmFzZV9hZGRyLA0KPiAt
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZoaV9iYXNlX2FkZHIsDQo+IC0gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgTlVMTCwNCj4gLSAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBOVUxMKTsNCj4gLQ0KPiAtICAgICAgICAgICAgICAgaWYgKChsb19iYXNlX2FkZHIg
PT0gMCkgfHwgKGhpX2Jhc2VfYWRkciA9PSAwKSkNCj4gLSAgICAgICAgICAgICAgICAgICAgICAg
cmV0dXJuIC1FSU5WQUw7DQo+IC0NCj4gLSAgICAgICAgICAgICAgIGxvX3ZhbCA9IFJSRUczMl9Q
Q0lFKGxvX2Jhc2VfYWRkcik7DQo+IC0NCj4gLSAgICAgICAgICAgICAgIFdSRUczMl9QQ0lFKGxv
X2Jhc2VfYWRkciwgbG9fdmFsICYgfigxVUxMIDw8IDIyKSk7DQo+IC0gICAgICAgfQ0KPiAtDQo+
IC0gICAgICAgcmV0dXJuIDA7DQo+IC19DQo+IC0NCj4gLXN0YXRpYyBpbnQgZGZfdjNfNl9wbWNf
c3RhcnQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHVpbnQ2NF90IGNvbmZpZywNCj4gLSAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQgaXNfZW5hYmxlKQ0KPiAtew0KPiAtICAgICAg
IGludCB4Z21pX3R4X2xpbmssIHJldCA9IDA7DQo+ICsgICAgICAgaW50IHJldCA9IDA7DQo+DQo+
ICAgICAgICAgc3dpdGNoIChhZGV2LT5hc2ljX3R5cGUpIHsNCj4gICAgICAgICBjYXNlIENISVBf
VkVHQTIwOg0KPiAtICAgICAgICAgICAgICAgeGdtaV90eF9saW5rID0gSVNfREZfWEdNSV8wX1RY
KGNvbmZpZykgPyAwDQo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6
IChJU19ERl9YR01JXzFfVFgoY29uZmlnKSA/IDEgOiAtMSk7DQo+IC0NCj4gLSAgICAgICAgICAg
ICAgIGlmICh4Z21pX3R4X2xpbmsgPj0gMCkNCj4gLSAgICAgICAgICAgICAgICAgICAgICAgcmV0
ID0gZGZfdjNfNl9zdGFydF94Z21pX2xpbmtfY250cihhZGV2LCB4Z21pX3R4X2xpbmssDQo+IC0g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzX2Vu
YWJsZSk7DQo+ICsgICAgICAgICAgICAgICByZXQgPSBkZl92M182X3BtY19nZXRfY3RybF9zZXR0
aW5ncyhhZGV2LA0KPiArICAgICAgICAgICAgICAgICAgICAgICBjb25maWcsDQo+ICsgICAgICAg
ICAgICAgICAgICAgICAgICZsb19iYXNlX2FkZHIsDQo+ICsgICAgICAgICAgICAgICAgICAgICAg
ICZoaV9iYXNlX2FkZHIsDQo+ICsgICAgICAgICAgICAgICAgICAgICAgIE5VTEwsDQo+ICsgICAg
ICAgICAgICAgICAgICAgICAgIE5VTEwpOw0KPg0KPiAgICAgICAgICAgICAgICAgaWYgKHJldCkN
Cj4gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDsNCj4NCj4gLSAgICAgICAgICAg
ICAgIHJldCA9IDA7DQo+IC0gICAgICAgICAgICAgICBicmVhazsNCj4gLSAgICAgICBkZWZhdWx0
Og0KPiAtICAgICAgICAgICAgICAgYnJlYWs7DQo+IC0gICAgICAgfQ0KPiArICAgICAgICAgICAg
ICAgbG9fdmFsID0gUlJFRzMyX1BDSUUobG9fYmFzZV9hZGRyKTsNCj4NCj4gLSAgICAgICByZXR1
cm4gcmV0Ow0KPiAtfQ0KPiArICAgICAgICAgICAgICAgRFJNX0RFQlVHX0RSSVZFUigiY29uZmln
PSVsbHggYWRkcj0lMDh4OiUwOHggdmFsPSUwOHgiLA0KPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGNvbmZpZywgbG9fYmFzZV9hZGRyLCBoaV9iYXNlX2FkZHIsIA0KPiArIGxvX3Zh
bCk7DQo+DQo+IC1zdGF0aWMgaW50IGRmX3YzXzZfcG1jX3N0b3Aoc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYsIHVpbnQ2NF90IGNvbmZpZywNCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAg
IGludCBpc19kaXNhYmxlKQ0KPiAtew0KPiAtICAgICAgIGludCB4Z21pX3R4X2xpbmssIHJldCA9
IDA7DQo+ICsgICAgICAgICAgICAgICBXUkVHMzJfUENJRShsb19iYXNlX2FkZHIsIGxvX3ZhbCAm
IH4oMVVMTCA8PCAyMikpOw0KPg0KPiAtICAgICAgIHN3aXRjaCAoYWRldi0+YXNpY190eXBlKSB7
DQo+IC0gICAgICAgY2FzZSBDSElQX1ZFR0EyMDoNCj4gLSAgICAgICAgICAgICAgICAgICAgICAg
eGdtaV90eF9saW5rID0gSVNfREZfWEdNSV8wX1RYKGNvbmZpZykgPyAwDQo+IC0gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgOiAoSVNfREZfWEdNSV8xX1RYKGNvbmZpZykgPyAxIDogLTEp
Ow0KPiAtDQo+IC0gICAgICAgICAgICAgICAgICAgICAgIGlmICh4Z21pX3R4X2xpbmsgPj0gMCkg
ew0KPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IGRmX3YzXzZfc3RvcF94
Z21pX2xpbmtfY250cihhZGV2LA0KPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4Z21pX3R4X2xpbmssDQo+IC0gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IGlzX2Rpc2FibGUpOw0KPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXQp
DQo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0Ow0K
PiAtICAgICAgICAgICAgICAgICAgICAgICB9DQo+IC0NCj4gLSAgICAgICAgICAgICAgICAgICAg
ICAgcmV0ID0gMDsNCj4gLSAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQo+ICsgICAgICAg
ICAgICAgICBpZiAoaXNfZGlzYWJsZSkNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgZGZfdjNf
Nl9wbWNfcmVsZWFzZV9jbnRyKGFkZXYsIGNvbmZpZyk7DQo+ICsNCj4gKyAgICAgICAgICAgICAg
IGJyZWFrOw0KPiAgICAgICAgIGRlZmF1bHQ6DQo+ICAgICAgICAgICAgICAgICBicmVhazsNCj4g
ICAgICAgICB9DQo+IEBAIC01MTAsMjQgKzQ1OSwzNCBAQCBzdGF0aWMgdm9pZCBkZl92M182X3Bt
Y19nZXRfY291bnQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICB1aW50NjRfdCBjb25maWcsDQo+ICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICB1aW50NjRfdCAqY291bnQpICB7DQo+IC0NCj4gLSAgICAgICBpbnQg
eGdtaV90eF9saW5rOw0KPiArICAgICAgIHVpbnQzMl90IGxvX2Jhc2VfYWRkciwgaGlfYmFzZV9h
ZGRyLCBsb192YWwsIGhpX3ZhbDsNCj4gKyAgICAgICAqY291bnQgPSAwOw0KPg0KPiAgICAgICAg
IHN3aXRjaCAoYWRldi0+YXNpY190eXBlKSB7DQo+ICAgICAgICAgY2FzZSBDSElQX1ZFR0EyMDoN
Cj4gLSAgICAgICAgICAgICAgIHhnbWlfdHhfbGluayA9IElTX0RGX1hHTUlfMF9UWChjb25maWcp
ID8gMA0KPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoSVNfREZf
WEdNSV8xX1RYKGNvbmZpZykgPyAxIDogLTEpOw0KPg0KPiAtICAgICAgICAgICAgICAgaWYgKHhn
bWlfdHhfbGluayA+PSAwKSB7DQo+IC0gICAgICAgICAgICAgICAgICAgICAgIGRmX3YzXzZfcmVz
ZXRfeGdtaV9saW5rX2NudHIoYWRldiwgeGdtaV90eF9saW5rKTsNCj4gLSAgICAgICAgICAgICAg
ICAgICAgICAgZGZfdjNfNl9nZXRfeGdtaV9saW5rX2NudHIoYWRldiwgeGdtaV90eF9saW5rLCBj
b3VudCk7DQo+IC0gICAgICAgICAgICAgICB9DQo+ICsgICAgICAgICAgICAgICBkZl92M182X3Bt
Y19nZXRfcmVhZF9zZXR0aW5ncyhhZGV2LCBjb25maWcsICZsb19iYXNlX2FkZHIsDQo+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJmhpX2Jhc2VfYWRkcik7DQo+ICsNCj4g
KyAgICAgICAgICAgICAgIGlmICgobG9fYmFzZV9hZGRyID09IDApIHx8IChoaV9iYXNlX2FkZHIg
PT0gMCkpDQo+ICsgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCj4gKw0KPiArICAgICAg
ICAgICAgICAgbG9fdmFsID0gUlJFRzMyX1BDSUUobG9fYmFzZV9hZGRyKTsNCj4gKyAgICAgICAg
ICAgICAgIGhpX3ZhbCA9IFJSRUczMl9QQ0lFKGhpX2Jhc2VfYWRkcik7DQo+ICsNCj4gKyAgICAg
ICAgICAgICAgICpjb3VudCAgPSAoKGhpX3ZhbCB8IDBVTEwpIDw8IDMyKSB8IChsb192YWwgfCAw
VUxMKTsNCj4gKw0KPiArICAgICAgICAgICAgICAgaWYgKCpjb3VudCA+PSBERl9WM182X1BFUkZN
T05fT1ZFUkZMT1cpDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICpjb3VudCA9IDA7DQo+ICsN
Cj4gKyAgICAgICAgICAgICAgIERSTV9ERUJVR19EUklWRVIoImNvbmZpZz0lbGx4IGFkZHI9JTA4
eDolMDh4IHZhbD0lMDh4OiUwOHgiLA0KPiArICAgICAgICAgICAgICAgICAgICAgICBjb25maWcs
IGxvX2Jhc2VfYWRkciwgaGlfYmFzZV9hZGRyLCBsb192YWwsIA0KPiArIGhpX3ZhbCk7DQo+DQo+
ICAgICAgICAgICAgICAgICBicmVhazsNCj4gKw0KPiAgICAgICAgIGRlZmF1bHQ6DQo+ICAgICAg
ICAgICAgICAgICBicmVhazsNCj4gICAgICAgICB9DQo+IC0NCj4gIH0NCj4NCj4gIGNvbnN0IHN0
cnVjdCBhbWRncHVfZGZfZnVuY3MgZGZfdjNfNl9mdW5jcyA9IHsgZGlmZiAtLWdpdCANCj4gYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9kZl92M182LmggDQo+IGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvZGZfdjNfNi5oDQo+IGluZGV4IGZjZmZkODA3NzY0ZC4uNzY5OTg1NDFiYzMw
IDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9kZl92M182LmgNCj4g
KysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZGZfdjNfNi5oDQo+IEBAIC0zNiwyMiAr
MzYsMTUgQEAgZW51bSBERl9WM182X01HQ0cgeyAgfTsNCj4NCj4gIC8qIERlZmluZWQgaW4gZ2xv
YmFsX2ZlYXR1cmVzLmggYXMgRlRJX1BFUkZNT05fVklTSUJMRSAqLw0KPiAtI2RlZmluZSBBTURH
UFVfREZfTUFYX0NPVU5URVJTICAgICAgICAgNA0KPiArI2RlZmluZSBERl9WM182X01BWF9DT1VO
VEVSUyAgICAgICAgICAgNA0KPg0KPiAgLyogZ2V0IGZsYWdzIGZyb20gZGYgcGVyZm1vbiBjb25m
aWcgKi8NCj4gLSNkZWZpbmUgR0VUX0VWRU5UKHgpICAgICAgICAgICAgICAgICAgICh4ICYgMHhG
RlVMKQ0KPiAtI2RlZmluZSBHRVRfSU5TVEFOQ0UoeCkgICAgICAgICAgICAgICAgICAgICAgICAo
KHggPj4gOCkgJiAweEZGVUwpDQo+IC0jZGVmaW5lIEdFVF9VTklUTUFTSyh4KSAgICAgICAgICAg
ICAgICAgICAgICAgICgoeCA+PiAxNikgJiAweEZGVUwpDQo+IC0jZGVmaW5lIEdFVF9JTlNUQU5D
RV9DT05GSUcoeCkgICAgICAgICAoMFVMTCB8ICgweDA3VUxMKSBcDQo+IC0gICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICB8ICgoMHgwNDZVTEwgKyB4KSA8PCA4KSBcDQo+IC0g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8ICgweDAyIDw8IDE2KSkNCj4g
LQ0KPiAtLyogZGYgZXZlbnQgY29uZiBtYWNyb3MgKi8NCj4gLSNkZWZpbmUgSVNfREZfWEdNSV8w
X1RYKHgpIChHRVRfRVZFTlQoeCkgPT0gMHg3IFwNCj4gLSAgICAgICAgICAgICAgICYmIEdFVF9J
TlNUQU5DRSh4KSA9PSAweDQ2ICYmIEdFVF9VTklUTUFTSyh4KSA9PSAweDIpDQo+IC0jZGVmaW5l
IElTX0RGX1hHTUlfMV9UWCh4KSAoR0VUX0VWRU5UKHgpID09IDB4NyBcDQo+IC0gICAgICAgICAg
ICAgICAmJiBHRVRfSU5TVEFOQ0UoeCkgPT0gMHg0NyAmJiBHRVRfVU5JVE1BU0soeCkgPT0gMHgy
KQ0KPiArI2RlZmluZSBERl9WM182X0dFVF9FVkVOVCh4KSAgICAgICAgICAgKHggJiAweEZGVUwp
DQo+ICsjZGVmaW5lIERGX1YzXzZfR0VUX0lOU1RBTkNFKHgpICAgICAgICAgICAgICAgICgoeCA+
PiA4KSAmIDB4RkZVTCkNCj4gKyNkZWZpbmUgREZfVjNfNl9HRVRfVU5JVE1BU0soeCkgICAgICAg
ICAgICAgICAgKCh4ID4+IDE2KSAmIDB4RkZVTCkNCj4gKyNkZWZpbmUgREZfVjNfNl9QRVJGTU9O
X09WRVJGTE9XICAgICAgIDB4RkZGRkZGRkZGRkZGVUxMDQo+DQo+ICtleHRlcm4gY29uc3Qgc3Ry
dWN0IGF0dHJpYnV0ZV9ncm91cCAqZGZfdjNfNl9hdHRyX2dyb3Vwc1tdOw0KPiAgZXh0ZXJuIGNv
bnN0IHN0cnVjdCBhbWRncHVfZGZfZnVuY3MgZGZfdjNfNl9mdW5jczsNCj4NCj4gICNlbmRpZg0K
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc29jMTUuYyANCj4gYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zb2MxNS5jDQo+IGluZGV4IDc4YmQ0ZmMwN2JhYi4u
N2ZlZTI0ZWE3ODYzIDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9z
b2MxNS5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NvYzE1LmMNCj4gQEAg
LTEwNjYsNiArMTA2Niw3IEBAIHN0YXRpYyB2b2lkIHNvYzE1X2Rvb3JiZWxsX3JhbmdlX2luaXQo
c3RydWN0IA0KPiBhbWRncHVfZGV2aWNlICphZGV2KSAgc3RhdGljIGludCBzb2MxNV9jb21tb25f
aHdfaW5pdCh2b2lkICpoYW5kbGUpICB7DQo+ICAgICAgICAgc3RydWN0IGFtZGdwdV9kZXZpY2Ug
KmFkZXYgPSAoc3RydWN0IGFtZGdwdV9kZXZpY2UgKiloYW5kbGU7DQo+ICsgICAgICAgaW50IHJl
dDsNCj4NCj4gICAgICAgICAvKiBlbmFibGUgcGNpZSBnZW4yLzMgbGluayAqLw0KPiAgICAgICAg
IHNvYzE1X3BjaWVfZ2VuM19lbmFibGUoYWRldik7DQo+IEBAIC0xMDc5LDYgKzEwODAsOSBAQCBz
dGF0aWMgaW50IHNvYzE1X2NvbW1vbl9od19pbml0KHZvaWQgKmhhbmRsZSkNCj4gICAgICAgICAg
Ki8NCj4gICAgICAgICBpZiAoYWRldi0+bmJpb19mdW5jcy0+cmVtYXBfaGRwX3JlZ2lzdGVycykN
Cj4gICAgICAgICAgICAgICAgIGFkZXYtPm5iaW9fZnVuY3MtPnJlbWFwX2hkcF9yZWdpc3RlcnMo
YWRldik7DQo+ICsNCj4gKyAgICAgICBhZGV2LT5kZl9mdW5jcy0+aW5pdChhZGV2KTsNCj4gKw0K
PiAgICAgICAgIC8qIGVuYWJsZSB0aGUgZG9vcmJlbGwgYXBlcnR1cmUgKi8NCj4gICAgICAgICBz
b2MxNV9lbmFibGVfZG9vcmJlbGxfYXBlcnR1cmUoYWRldiwgdHJ1ZSk7DQo+ICAgICAgICAgLyog
SFcgZG9vcmJlbGwgcm91dGluZyBwb2xpY3k6IGRvb3JiZWxsIHdyaXRpbmcgbm90DQo+IC0tDQo+
IDIuMTcuMQ0KPg0KPiBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXw0KPiBhbWQtZ2Z4IG1haWxpbmcgbGlzdA0KPiBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9w
Lm9yZw0KPiBodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2Ft
ZC1nZngNCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmFt
ZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8v
bGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeA==
