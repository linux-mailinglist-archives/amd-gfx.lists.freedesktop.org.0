Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 46FAB1B3933
	for <lists+amd-gfx@lfdr.de>; Wed, 22 Apr 2020 09:40:37 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 5D34A6E9E6;
	Wed, 22 Apr 2020 07:40:35 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-wr1-x442.google.com (mail-wr1-x442.google.com
 [IPv6:2a00:1450:4864:20::442])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 013876E9E6
 for <amd-gfx@lists.freedesktop.org>; Wed, 22 Apr 2020 07:40:33 +0000 (UTC)
Received: by mail-wr1-x442.google.com with SMTP id f13so1115213wrm.13
 for <amd-gfx@lists.freedesktop.org>; Wed, 22 Apr 2020 00:40:33 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=reply-to:subject:to:cc:references:from:message-id:date:user-agent
 :mime-version:in-reply-to:content-transfer-encoding:content-language;
 bh=yTqEVpLwxaiVPE8BlO34t9wYMFgMUyTuhDiOyNv8eLY=;
 b=jA2ap/nE9R/6mRVWK9JNY2oh362fMsWt86XDZ2fYjfLJEKRcEEpXVfhSblDiP7dD5d
 +gf1rb0zEadm2w31G6yB5F7xFhcxf+X2Kiq3HR2U02mcC4mi+9ZqZ6pPS448B4/bHgSP
 1vYHYLw4p1ZJ9xBYXa2qs/g4cmHPEuRE4FMNratLjc2KT79kwqIpbsJBp262PFQj1XCo
 cQd9Q2J105gy4niFasnk41+tu9sogLZR6spOFC2JfEUnNbaRbcibVFv5NzuxWKrVFB8X
 rQ1h5HqSEVidAV09r7AffzDS+FwOH7yJYE6fs6b7MXzB30jkqFg58R6FKeezJI+jmiW9
 X4zw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:reply-to:subject:to:cc:references:from
 :message-id:date:user-agent:mime-version:in-reply-to
 :content-transfer-encoding:content-language;
 bh=yTqEVpLwxaiVPE8BlO34t9wYMFgMUyTuhDiOyNv8eLY=;
 b=Uqe6+fq2LBpkt7UInHzRoqvtZlibYVn/SzhUKlABpD9Og/lK/IbDG4T7oxe8ch99zC
 DKoxTgIg/uimOrHhXjnpBX8qyx6hKKAojqPW/urAW5W/1Gly4uqFlJRP/vu8Eazc/t75
 ZpUt9hOdwZ1wP26YrWtAlfP1Rg6jVyk5bwoP7satMPVEbyb/68dNk5zQWAaPtWS3tYc9
 8xocIVjU7jhM6Z2HvUGPyCgkysT0YppFqWbNuVweH1cAncmtMQumxeORniOPl/fMdmbO
 eIuubdByh9BcayZaK1l2L5izg1fGAaYLWqKIjP9FtGZ/wEm9VTt+FKLtdGrNcAugtxCp
 Fmyw==
X-Gm-Message-State: AGi0Puassu9CAK2SCxKInFmI3jw1VbxIRAbmf7qQ26PUv34sGXVeZeL8
 kDSP7MGK8mPrMAuUUAzuV0ETij8V
X-Google-Smtp-Source: APiQypKJbxmok/T8HBrWmEKw8l3MKhohS3g6Laz2ZlasY0kc++VqLR6+QYrajyaGd5ZB0CimQ1+FTQ==
X-Received: by 2002:a5d:4e02:: with SMTP id p2mr28829844wrt.302.1587541232206; 
 Wed, 22 Apr 2020 00:40:32 -0700 (PDT)
Received: from ?IPv6:2a02:908:1252:fb60:be8a:bd56:1f94:86e7?
 ([2a02:908:1252:fb60:be8a:bd56:1f94:86e7])
 by smtp.gmail.com with ESMTPSA id l15sm6422411wmi.48.2020.04.22.00.40.26
 (version=TLS1_2 cipher=ECDHE-ECDSA-AES128-GCM-SHA256 bits=128/128);
 Wed, 22 Apr 2020 00:40:31 -0700 (PDT)
Subject: Re: [PATCH] drm/amdgpu: refine kiq access register
To: "Tao, Yintian" <Yintian.Tao@amd.com>,
 "Koenig, Christian" <Christian.Koenig@amd.com>, "Liu, Monk"
 <Monk.Liu@amd.com>, "Liu, Shaoyun" <Shaoyun.Liu@amd.com>,
 "Kuehling, Felix" <Felix.Kuehling@amd.com>
References: <20200422044228.20986-1-yttao@amd.com>
 <MN2PR12MB30395480417314B7398BA427E5D20@MN2PR12MB3039.namprd12.prod.outlook.com>
 <9ce5395a-aebf-f205-5237-5fd4c40a6449@amd.com>
 <MN2PR12MB30390C748BC1840A884EC445E5D20@MN2PR12MB3039.namprd12.prod.outlook.com>
From: =?UTF-8?Q?Christian_K=c3=b6nig?= <ckoenig.leichtzumerken@gmail.com>
Message-ID: <21d25270-181b-af96-35b6-bf5fa04e14eb@gmail.com>
Date: Wed, 22 Apr 2020 09:40:25 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.9.0
MIME-Version: 1.0
In-Reply-To: <MN2PR12MB30390C748BC1840A884EC445E5D20@MN2PR12MB3039.namprd12.prod.outlook.com>
Content-Language: en-US
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Reply-To: christian.koenig@amd.com
Cc: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="gbk"; Format="flowed"
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

QW0gMjIuMDQuMjAgdW0gMDk6MzUgc2NocmllYiBUYW8sIFlpbnRpYW46Cj4gSGkgIENocmlzdGlh
bgo+Cj4KPj4gQlVHX09OKGluX2ludGVycnVwdCgpKTsKPiBUaGF0IHdvbid0IHdvcmsgbGlrZSB0
aGlzLiBUaGUgS0lRIGlzIGFsc28gdXNlZCBpbiBpbnRlcnJ1cHQgY29udGV4dCBpbiB0aGUgZHJp
dmVyLCB0aGF0J3Mgd2h5IHdlIHVzZWQgc3Bpbl9sb2NrX2lycXNhdmUoKS4KPiBbeXR0YW9dOiBB
Y2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgZHJtLW5leHQgY29kZSwgSSBoYXZlIG5vdCBmaW5kIHdo
ZXJlIHRvIGFjY2VzcyByZWdpc3RlciB0aHJvdWdoIEtJUS4KPiAJCUFuZCB5b3UgbmVlZCB0byB3
YWl0IGZvciB0aGUgZnJlZSBraXEgcmluZyBidWZmZXIgc3BhY2UgaWYgdGhlcmUgaXMgbm8gZnJl
ZSBraXEgcmluZyBidWZmZXIsIGhlcmUsIHlvdSB3YWl0IGF0IGludGVycnVwdCBjb250ZXh0IGlz
IGlsbGVnYWwuCgpXYWl0aW5nIGluIGF0b21pYyBjb250ZXh0IGlzIGlsbGVnYWwgYXMgd2VsbCwg
YnV0IHdlIGRvbid0IGhhdmUgbXVjaCAKb3RoZXIgY2hvaWNlLgoKV2UganVzdCBuZWVkIHRvIG1h
a2Ugc3VyZSB0aGF0IHdhaXRpbmcgbmV2ZXIgaGFwcGVucyBieSBtYWtpbmcgdGhlIApidWZmZXJz
IGxhcmdlIGVub3VnaCBhbmQgaWYgaXQgc3RpbGwgaGFwcGVucyBwcmludCBhbmQgZXJyb3IuCgo+
IEFuZCBJIHdvdWxkIGVpdGhlciBzYXkgdGhhdCB3ZSBzaG91bGQgdXNlIHRoZSB0cmljayB3aXRo
IHRoZSBOT1AgdG8gcmVzZXJ2ZSBzcGFjZSBvbiB0aGUgcmluZyBidWZmZXIgb3IgY2FsbCBhbWRn
cHVfZGV2aWNlX3diX2dldCgpIGZvciBlYWNoIHJlYWQuIGFtZGdwdV9kZXZpY2Vfd2JfZ2V0KCkg
YWxzbyB1c2VzIGZpbmRfZmlyc3RfemVyb19iaXQoKSBhbmQgc2hvdWxkIHdvcmsgZXF1YWxseSB3
ZWxsLgo+IFt5dHRhb106IHNvcnJ5LCBjYW4geW91IGdpdmUgbWUgbW9yZSBkZXRhaWxzIGFib3V0
IGhvdyB0byB1c2UgTk9QIHRvIHJlc2VydmUgc3BhY2U/IEkgd2lsbCB1c2UgYW1kZ3B1X2Rldmlj
ZV93Yl9nZXQoKSBmb3IgdGhlIHJlYWQgb3BlcmF0aW9uLgoKV2UgY291bGQgdXNlIHRoZSBOT1Ag
UE00IGNvbW1hbmQgYXMgRmVsaXggc3VnZ2VzdGVkLCB0aGlzIGNvbW1hbmQgaGFzIGEgCmhlYWRl
citsZW5ndGggYW5kIHNheXMgdGhhdCB0aGUgbmV4dCBYIGR3IHNob3VsZCBiZSBpZ25vcmUgb24g
dGhlIHJpbmcgCmJ1ZmZlci4KCkJ1dCBJIHRoaW5rIHVzaW5nIGFtZGdwdV9kZXZpY2Vfd2JfZ2V0
KCkgaXMgYmV0dGVyIGFueXdheS4KClJlZ2FyZHMsCkNocmlzdGlhbi4KCj4KPgo+Cj4gLS0tLS1P
cmlnaW5hbCBNZXNzYWdlLS0tLS0KPiBGcm9tOiBLb2VuaWcsIENocmlzdGlhbiA8Q2hyaXN0aWFu
LktvZW5pZ0BhbWQuY29tPgo+IFNlbnQ6IDIwMjDE6jTUwjIyyNUgMTU6MjMKPiBUbzogVGFvLCBZ
aW50aWFuIDxZaW50aWFuLlRhb0BhbWQuY29tPjsgTGl1LCBNb25rIDxNb25rLkxpdUBhbWQuY29t
PjsgTGl1LCBTaGFveXVuIDxTaGFveXVuLkxpdUBhbWQuY29tPjsgS3VlaGxpbmcsIEZlbGl4IDxG
ZWxpeC5LdWVobGluZ0BhbWQuY29tPgo+IENjOiBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9y
Zwo+IFN1YmplY3Q6IFJlOiBbUEFUQ0hdIGRybS9hbWRncHU6IHJlZmluZSBraXEgYWNjZXNzIHJl
Z2lzdGVyCj4KPj4gQlVHX09OKGluX2ludGVycnVwdCgpKTsKPiBUaGF0IHdvbid0IHdvcmsgbGlr
ZSB0aGlzLiBUaGUgS0lRIGlzIGFsc28gdXNlZCBpbiBpbnRlcnJ1cHQgY29udGV4dCBpbiB0aGUg
ZHJpdmVyLCB0aGF0J3Mgd2h5IHdlIHVzZWQgc3Bpbl9sb2NrX2lycXNhdmUoKS4KPgo+IEFuZCBJ
IHdvdWxkIGVpdGhlciBzYXkgdGhhdCB3ZSBzaG91bGQgdXNlIHRoZSB0cmljayB3aXRoIHRoZSBO
T1AgdG8gcmVzZXJ2ZSBzcGFjZSBvbiB0aGUgcmluZyBidWZmZXIgb3IgY2FsbCBhbWRncHVfZGV2
aWNlX3diX2dldCgpIGZvciBlYWNoIHJlYWQuIGFtZGdwdV9kZXZpY2Vfd2JfZ2V0KCkgYWxzbyB1
c2VzIGZpbmRfZmlyc3RfemVyb19iaXQoKSBhbmQgc2hvdWxkIHdvcmsgZXF1YWxseSB3ZWxsLgo+
Cj4gWW91IGFsc28gZG9uJ3QgbmVlZCB0byB3b3JyeSB0byBtdWNoIGFib3V0IG92ZXJmbG93aW5n
IHRoZSB3YiBhcmVhLgo+IFNpbmNlIHdlIHJ1biBpbiBhbiBhdG9taWMgY29udGV4dCB3ZSBjYW4g
aGF2ZSBhdCBtb3N0IHRoZSBudW1iZXIgb2YgQ1BVIGluIHRoZSBzeXN0ZW0gKyBpbnRlcnJ1cHQg
Y29udGV4dCBoZXJlLgo+Cj4gUmVnYXJkcywKPiBDaHJpc3RpYW4uCj4KPiBBbSAyMi4wNC4yMCB1
bSAwOToxMSBzY2hyaWViIFRhbywgWWludGlhbjoKPj4gQWRkIEZlbGl4IGFuZCBTaGFveXVuCj4+
Cj4+IC0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tCj4+IEZyb206IFlpbnRpYW4gVGFvIDx5dHRh
b0BhbWQuY29tPgo+PiBTZW50OiAyMDIwxOo01MIyMsjVIDEyOjQyCj4+IFRvOiBLb2VuaWcsIENo
cmlzdGlhbiA8Q2hyaXN0aWFuLktvZW5pZ0BhbWQuY29tPjsgTGl1LCBNb25rCj4+IDxNb25rLkxp
dUBhbWQuY29tPgo+PiBDYzogYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmc7IFRhbywgWWlu
dGlhbiA8WWludGlhbi5UYW9AYW1kLmNvbT4KPj4gU3ViamVjdDogW1BBVENIXSBkcm0vYW1kZ3B1
OiByZWZpbmUga2lxIGFjY2VzcyByZWdpc3Rlcgo+Pgo+PiBBY2NvcmRpbmcgdG8gdGhlIGN1cnJl
bnQga2lxIGFjY2VzcyByZWdpc3RlciBtZXRob2QsIHRoZXJlIHdpbGwgYmUgcmFjZSBjb25kaXRp
b24gd2hlbiB1c2luZyBLSVEgdG8gcmVhZCByZWdpc3RlciBpZiBtdWx0aXBsZSBjbGllbnRzIHdh
bnQgdG8gcmVhZCBhdCBzYW1lIHRpbWUganVzdCBsaWtlIHRoZSBleHBhbXBsZSBiZWxvdzoKPj4g
MS4gY2xpZW50LUEgc3RhcnQgdG8gcmVhZCBSRUctMCB0aHJvZ3VoIEtJUSAyLiBjbGllbnQtQSBw
b2xsIHRoZSBzZXFuby0wIDMuIGNsaWVudC1CIHN0YXJ0IHRvIHJlYWQgUkVHLTEgdGhyb3VnaCBL
SVEgNC4gY2xpZW50LUIgcG9sbCB0aGUgc2Vxbm8tMSA1LiB0aGUga2lxIGNvbXBsZXRlIHRoZXNl
IHR3byByZWFkIG9wZXJhdGlvbiA2LiBjbGllbnQtQSB0byByZWFkIHRoZSByZWdpc3RlciBhdCB0
aGUgd2IgYnVmZmVyIGFuZAo+PiAgICAgIGdldCBSRUctMSB2YWx1ZQo+Pgo+PiBBbmQgaWYgdGhl
cmUgYXJlIG11bHRpcGxlIGNsaWVudHMgdG8gZnJlcXVlbnRseSB3cml0ZSByZWdpc3RlcnMgdGhy
b3VnaCBLSVEgd2hpY2ggbWF5IHJhaXNlIHRoZSBLSVEgcmluZyBidWZmZXIgb3ZlcndyaXR0ZW4g
cHJvYmxlbS4KPj4KPj4gVGhlcmVmb3JlLCBhbGxvY2F0ZSBmaXhlZCBudW1iZXIgd2Igc2xvdCBm
b3IgcnJlZyB1c2UgYW5kIGxpbWl0IHRoZSBzdWJtaXQgbnVtYmVyIHdoaWNoIGRlcGVuZHMgb24g
dGhlIGtpcSByaW5nX3NpemUgaW4gb3JkZXIgdG8gcHJldmVudCB0aGUgb3ZlcndyaXR0ZW4gcHJv
YmxlbS4KPj4KPj4gU2lnbmVkLW9mZi1ieTogWWludGlhbiBUYW8gPHl0dGFvQGFtZC5jb20+Cj4+
IC0tLQo+PiAgICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHUuaCAgICAgICAgICAg
fCAgIDcgKy0KPj4gICAgLi4uL2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmRfZ2Z4X3YxMC5j
ICAgIHwgIDEyICstCj4+ICAgIC4uLi9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZF9n
ZnhfdjkuYyB8ICAxMiArLQo+PiAgICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
Z2Z4LmMgICAgICAgfCAxMjkgKysrKysrKysrKysrKysrKy0tCj4+ICAgIGRyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV9nZnguaCAgICAgICB8ICAgNiArLQo+PiAgICBkcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfcmluZy5oICAgICAgfCAgIDYgKy0KPj4gICAgZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZpcnQuYyAgICAgIHwgIDEzICstCj4+ICAgIGRy
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92MTBfMC5jICAgICAgICB8ICAgOCArLQo+PiAg
ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjhfMC5jICAgICAgICAgfCAgIDggKy0K
Pj4gICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3Y5XzAuYyAgICAgICAgIHwgIDM0
ICsrKy0tCj4+ICAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192MTBfMC5jICAgICAg
ICB8ICAxMiArLQo+PiAgICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjlfMC5jICAg
ICAgICAgfCAgMTIgKy0KPj4gICAgMTIgZmlsZXMgY2hhbmdlZCwgMjExIGluc2VydGlvbnMoKyks
IDQ4IGRlbGV0aW9ucygtKQo+Pgo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1LmgKPj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHUuaAo+
PiBpbmRleCA0ZTFkNGNmZTdhOWYuLjQ1MzBlMGRlNDI1NyAxMDA2NDQKPj4gLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1LmgKPj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1LmgKPj4gQEAgLTUyNiw3ICs1MjYsNyBAQCBzdGF0aWMgaW5saW5lIHZv
aWQgYW1kZ3B1X3NldF9pYl92YWx1ZShzdHJ1Y3QgYW1kZ3B1X2NzX3BhcnNlciAqcCwKPj4gICAg
LyoKPj4gICAgICogV3JpdGViYWNrCj4+ICAgICAqLwo+PiAtI2RlZmluZSBBTURHUFVfTUFYX1dC
IDEyOAkvKiBSZXNlcnZlIGF0IG1vc3QgMTI4IFdCIHNsb3RzIGZvciBhbWRncHUtb3duZWQgcmlu
Z3MuICovCj4+ICsjZGVmaW5lIEFNREdQVV9NQVhfV0IgMjU2CS8qIFJlc2VydmUgYXQgbW9zdCAy
NTYgV0Igc2xvdHMgZm9yIGFtZGdwdS1vd25lZCByaW5ncy4gKi8KPj4gICAgCj4+ICAgIHN0cnVj
dCBhbWRncHVfd2Igewo+PiAgICAJc3RydWN0IGFtZGdwdV9ibwkqd2Jfb2JqOwo+PiBAQCAtMTAy
OCw2ICsxMDI4LDExIEBAIGJvb2wgYW1kZ3B1X2RldmljZV9oYXNfZGNfc3VwcG9ydChzdHJ1Y3QK
Pj4gYW1kZ3B1X2RldmljZSAqYWRldik7Cj4+ICAgIAo+PiAgICBpbnQgZW11X3NvY19hc2ljX2lu
aXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpOwo+PiAgICAKPj4gK2ludCBhbWRncHVfZ2Z4
X2tpcV9sb2NrKHN0cnVjdCBhbWRncHVfa2lxICpraXEsIGJvb2wgcmVhZCk7IHZvaWQKPj4gK2Ft
ZGdwdV9nZnhfa2lxX3VubG9jayhzdHJ1Y3QgYW1kZ3B1X2tpcSAqa2lxKTsKPj4gKwo+PiArdm9p
ZCBhbWRncHVfZ2Z4X2tpcV9jb25zdW1lKHN0cnVjdCBhbWRncHVfa2lxICpraXEsIHVpbnQzMl90
ICpvZmZzKTsKPj4gK3ZvaWQgYW1kZ3B1X2dmeF9raXFfcmVzdG9yZShzdHJ1Y3QgYW1kZ3B1X2tp
cSAqa2lxLCB1aW50MzJfdCAqb2Zmcyk7Cj4+ICAgIC8qCj4+ICAgICAqIFJlZ2lzdGVycyByZWFk
ICYgd3JpdGUgZnVuY3Rpb25zLgo+PiAgICAgKi8KPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmRfZ2Z4X3YxMC5jCj4+IGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZF9nZnhfdjEwLmMKPj4gaW5kZXggNjkxYzg5NzA1
YmNkLi4wMzRjOWY0MTY0OTkgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2FtZGdwdV9hbWRrZmRfZ2Z4X3YxMC5jCj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2FtZGdwdV9hbWRrZmRfZ2Z4X3YxMC5jCj4+IEBAIC0zMDksNiArMzA5LDcgQEAgc3Rh
dGljIGludCBrZ2RfaGlxX21xZF9sb2FkKHN0cnVjdCBrZ2RfZGV2ICprZ2QsIHZvaWQgKm1xZCwK
Pj4gICAgCQkJICAgIHVpbnQzMl90IGRvb3JiZWxsX29mZikKPj4gICAgewo+PiAgICAJc3RydWN0
IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSBnZXRfYW1kZ3B1X2RldmljZShrZ2QpOwo+PiArCXN0cnVj
dCBhbWRncHVfa2lxICpraXEgPSAmYWRldi0+Z2Z4LmtpcTsKPj4gICAgCXN0cnVjdCBhbWRncHVf
cmluZyAqa2lxX3JpbmcgPSAmYWRldi0+Z2Z4LmtpcS5yaW5nOwo+PiAgICAJc3RydWN0IHYxMF9j
b21wdXRlX21xZCAqbTsKPj4gICAgCXVpbnQzMl90IG1lYywgcGlwZTsKPj4gQEAgLTMyNCwxMyAr
MzI1LDE5IEBAIHN0YXRpYyBpbnQga2dkX2hpcV9tcWRfbG9hZChzdHJ1Y3Qga2dkX2RldiAqa2dk
LCB2b2lkICptcWQsCj4+ICAgIAlwcl9kZWJ1Zygia2ZkOiBzZXQgSElRLCBtZWM6JWQsIHBpcGU6
JWQsIHF1ZXVlOiVkLlxuIiwKPj4gICAgCQkgbWVjLCBwaXBlLCBxdWV1ZV9pZCk7Cj4+ICAgIAo+
PiAtCXNwaW5fbG9jaygmYWRldi0+Z2Z4LmtpcS5yaW5nX2xvY2spOwo+PiArCXIgPSBhbWRncHVf
Z2Z4X2tpcV9sb2NrKGtpcSwgZmFsc2UpOwo+PiArCWlmIChyKSB7Cj4+ICsJCXByX2VycigiZmFp
bGVkIHRvIGxvY2sga2lxXG4iKTsKPj4gKwkJZ290byBvdXRfdW5sb2NrOwo+PiArCX0KPj4gKwo+
PiAgICAJciA9IGFtZGdwdV9yaW5nX2FsbG9jKGtpcV9yaW5nLCA3KTsKPj4gICAgCWlmIChyKSB7
Cj4+ICAgIAkJcHJfZXJyKCJGYWlsZWQgdG8gYWxsb2MgS0lRICglZCkuXG4iLCByKTsKPj4gICAg
CQlnb3RvIG91dF91bmxvY2s7Cj4+ICAgIAl9Cj4+ICAgIAo+PiArCWFtZGdwdV9nZnhfa2lxX2Nv
bnN1bWUoa2lxLCBOVUxMKTsKPj4gICAgCWFtZGdwdV9yaW5nX3dyaXRlKGtpcV9yaW5nLCBQQUNL
RVQzKFBBQ0tFVDNfTUFQX1FVRVVFUywgNSkpOwo+PiAgICAJYW1kZ3B1X3Jpbmdfd3JpdGUoa2lx
X3JpbmcsCj4+ICAgIAkJCSAgUEFDS0VUM19NQVBfUVVFVUVTX1FVRVVFX1NFTCgwKSB8IC8qIFF1
ZXVlX1NlbCAqLyBAQCAtMzUwLDggKzM1Nyw5IEBAIHN0YXRpYyBpbnQga2dkX2hpcV9tcWRfbG9h
ZChzdHJ1Y3Qga2dkX2RldiAqa2dkLCB2b2lkICptcWQsCj4+ICAgIAlhbWRncHVfcmluZ193cml0
ZShraXFfcmluZywgbS0+Y3BfaHFkX3BxX3dwdHJfcG9sbF9hZGRyX2hpKTsKPj4gICAgCWFtZGdw
dV9yaW5nX2NvbW1pdChraXFfcmluZyk7Cj4+ICAgIAo+PiArCWFtZGdwdV9nZnhfa2lxX3Jlc3Rv
cmUoa2lxLCBOVUxMKTsKPj4gICAgb3V0X3VubG9jazoKPj4gLQlzcGluX3VubG9jaygmYWRldi0+
Z2Z4LmtpcS5yaW5nX2xvY2spOwo+PiArCWFtZGdwdV9nZnhfa2lxX3VubG9jaygmYWRldi0+Z2Z4
LmtpcSk7Cj4+ICAgIAlyZWxlYXNlX3F1ZXVlKGtnZCk7Cj4+ICAgIAo+PiAgICAJcmV0dXJuIHI7
Cj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYW1ka2Zk
X2dmeF92OS5jCj4+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZF9n
ZnhfdjkuYwo+PiBpbmRleCBkZjg0MWMyYWM1ZTcuLmYyNDNkOTk5MGNlZCAxMDA2NDQKPj4gLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZF9nZnhfdjkuYwo+PiAr
KysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYW1ka2ZkX2dmeF92OS5jCj4+
IEBAIC0zMDcsNiArMzA3LDcgQEAgaW50IGtnZF9nZnhfdjlfaGlxX21xZF9sb2FkKHN0cnVjdCBr
Z2RfZGV2ICprZ2QsIHZvaWQgKm1xZCwKPj4gICAgCQkJICAgIHVpbnQzMl90IGRvb3JiZWxsX29m
ZikKPj4gICAgewo+PiAgICAJc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSBnZXRfYW1kZ3B1
X2RldmljZShrZ2QpOwo+PiArCXN0cnVjdCBhbWRncHVfa2lxICpraXEgPSAmYWRldi0+Z2Z4Lmtp
cTsKPj4gICAgCXN0cnVjdCBhbWRncHVfcmluZyAqa2lxX3JpbmcgPSAmYWRldi0+Z2Z4LmtpcS5y
aW5nOwo+PiAgICAJc3RydWN0IHY5X21xZCAqbTsKPj4gICAgCXVpbnQzMl90IG1lYywgcGlwZTsK
Pj4gQEAgLTMyMiwxMyArMzIzLDE5IEBAIGludCBrZ2RfZ2Z4X3Y5X2hpcV9tcWRfbG9hZChzdHJ1
Y3Qga2dkX2RldiAqa2dkLCB2b2lkICptcWQsCj4+ICAgIAlwcl9kZWJ1Zygia2ZkOiBzZXQgSElR
LCBtZWM6JWQsIHBpcGU6JWQsIHF1ZXVlOiVkLlxuIiwKPj4gICAgCQkgbWVjLCBwaXBlLCBxdWV1
ZV9pZCk7Cj4+ICAgIAo+PiAtCXNwaW5fbG9jaygmYWRldi0+Z2Z4LmtpcS5yaW5nX2xvY2spOwo+
PiArCXIgPSBhbWRncHVfZ2Z4X2tpcV9sb2NrKGtpcSwgZmFsc2UpOwo+PiArCWlmIChyKSB7Cj4+
ICsJCXByX2VycigiZmFpbGVkIHRvIGxvY2sga2lxXG4iKTsKPj4gKwkJZ290byBvdXRfdW5sb2Nr
Owo+PiArCX0KPj4gKwo+PiAgICAJciA9IGFtZGdwdV9yaW5nX2FsbG9jKGtpcV9yaW5nLCA3KTsK
Pj4gICAgCWlmIChyKSB7Cj4+ICAgIAkJcHJfZXJyKCJGYWlsZWQgdG8gYWxsb2MgS0lRICglZCku
XG4iLCByKTsKPj4gICAgCQlnb3RvIG91dF91bmxvY2s7Cj4+ICAgIAl9Cj4+ICAgIAo+PiArCWFt
ZGdwdV9nZnhfa2lxX2NvbnN1bWUoa2lxLCBOVUxMKTsKPj4gICAgCWFtZGdwdV9yaW5nX3dyaXRl
KGtpcV9yaW5nLCBQQUNLRVQzKFBBQ0tFVDNfTUFQX1FVRVVFUywgNSkpOwo+PiAgICAJYW1kZ3B1
X3Jpbmdfd3JpdGUoa2lxX3JpbmcsCj4+ICAgIAkJCSAgUEFDS0VUM19NQVBfUVVFVUVTX1FVRVVF
X1NFTCgwKSB8IC8qIFF1ZXVlX1NlbCAqLyBAQCAtMzQ4LDggKzM1NSw5IEBAIGludCBrZ2RfZ2Z4
X3Y5X2hpcV9tcWRfbG9hZChzdHJ1Y3Qga2dkX2RldiAqa2dkLCB2b2lkICptcWQsCj4+ICAgIAlh
bWRncHVfcmluZ193cml0ZShraXFfcmluZywgbS0+Y3BfaHFkX3BxX3dwdHJfcG9sbF9hZGRyX2hp
KTsKPj4gICAgCWFtZGdwdV9yaW5nX2NvbW1pdChraXFfcmluZyk7Cj4+ICAgIAo+PiArCWFtZGdw
dV9nZnhfa2lxX3Jlc3RvcmUoa2lxLCBOVUxMKTsKPj4gICAgb3V0X3VubG9jazoKPj4gLQlzcGlu
X3VubG9jaygmYWRldi0+Z2Z4LmtpcS5yaW5nX2xvY2spOwo+PiArCWFtZGdwdV9nZnhfa2lxX3Vu
bG9jaygmYWRldi0+Z2Z4LmtpcSk7Cj4+ICAgIAlyZWxlYXNlX3F1ZXVlKGtnZCk7Cj4+ICAgIAo+
PiAgICAJcmV0dXJuIHI7Cj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9hbWRncHVfZ2Z4LmMKPj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ2Z4
LmMKPj4gaW5kZXggZWE1NzZiNDI2MGE0Li5jNmIxYzc3YjVlYWMgMTAwNjQ0Cj4+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nZnguYwo+PiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ2Z4LmMKPj4gQEAgLTI5NSwyMyArMjk1LDk5IEBAIHN0
YXRpYyBpbnQgYW1kZ3B1X2dmeF9raXFfYWNxdWlyZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRl
diwKPj4gICAgCXJldHVybiAtRUlOVkFMOwo+PiAgICB9Cj4+ICAgIAo+PiArdm9pZCBhbWRncHVf
Z2Z4X2tpcV9yZWdfb2Zmc19nZXQoc3RydWN0IGFtZGdwdV9raXEgKmtpcSwKPj4gKwkJCQkgdWlu
dDMyX3QgKm9mZnNldCkKPj4gK3sKPj4gKwl1aW50MzJfdCB0bXAgPSAwOwo+PiArCj4+ICsJdG1w
ID0gZmluZF9maXJzdF96ZXJvX2JpdChraXEtPnVzZWQsCj4+ICsJCQkJICAgICAga2lxLT5udW1f
c2xvdCk7Cj4+ICsJaWYgKHRtcCA8IGtpcS0+bnVtX3Nsb3QpIHsKPj4gKwkJX19zZXRfYml0KHRt
cCwga2lxLT51c2VkKTsKPj4gKwkJKm9mZnNldCA9IGtpcS0+cmVnX3ZhbF9vZmZzW3RtcF07Cj4+
ICsJfQo+PiArfQo+PiArCj4+ICt2b2lkIGFtZGdwdV9nZnhfa2lxX3JlZ19vZmZzX2ZyZWUoc3Ry
dWN0IGFtZGdwdV9raXEgKmtpcSwKPj4gKwkJCQkgdWludDMyX3Qgb2Zmc2V0KQo+PiArewo+PiAr
CXVpbnQzMl90IHRtcCA9IDA7Cj4+ICsKPj4gKwl0bXAgPSAob2Zmc2V0IC0ga2lxLT5yZWdfdmFs
X29mZnNbMF0pID4+IDM7Cj4+ICsJaWYgKHRtcCA8IGtpcS0+bnVtX3Nsb3QpCj4+ICsJCV9fY2xl
YXJfYml0KHRtcCwga2lxLT51c2VkKTsKPj4gK30KPj4gKwo+PiAraW50IGFtZGdwdV9nZnhfa2lx
X2xvY2soc3RydWN0IGFtZGdwdV9raXEgKmtpcSwgYm9vbCByZWFkKSB7Cj4+ICsJaW50IHJldHJ5
ID0gTUFYX0tJUV9SRUdfVFJZOwo+PiArCj4+ICsJQlVHX09OKGluX2ludGVycnVwdCgpKTsKPj4g
Kwl3aGlsZSAocmV0cnktLSA+IDApIHsKPj4gKwkJc3Bpbl9sb2NrKCZraXEtPnJpbmdfbG9jayk7
Cj4+ICsJCWlmICgoYXRvbWljNjRfcmVhZCgma2lxLT5zdWJtaXRfYXZhaWwpID4gMCkgJiYKPj4g
KwkJICAgIChyZWFkID8gZmluZF9maXJzdF96ZXJvX2JpdChraXEtPnVzZWQsIGtpcS0+bnVtX3Ns
b3QpIDwKPj4gKwkJICAgICBraXEtPm51bV9zbG90IDogMSkpIHsKPj4gKwkJCQlicmVhazsKPj4g
KwkJfSBlbHNlIHsKPj4gKwkJCXNwaW5fdW5sb2NrKCZraXEtPnJpbmdfbG9jayk7Cj4+ICsJCQlt
c2xlZXAoMik7Cj4+ICsJCQljb250aW51ZTsKPj4gKwkJfQo+PiArCj4+ICsJfQo+PiArCj4+ICsJ
aWYgKHJldHJ5ID4gMCkKPj4gKwkJcmV0dXJuIDA7Cj4+ICsJZWxzZQo+PiArCQlyZXR1cm4gLUVU
SU1FOwo+PiArfQo+PiArCj4+ICt2b2lkIGFtZGdwdV9nZnhfa2lxX3VubG9jayhzdHJ1Y3QgYW1k
Z3B1X2tpcSAqa2lxKSB7Cj4+ICsJc3Bpbl91bmxvY2soJmtpcS0+cmluZ19sb2NrKTsKPj4gK30K
Pj4gKwo+PiArdm9pZCBhbWRncHVfZ2Z4X2tpcV9jb25zdW1lKHN0cnVjdCBhbWRncHVfa2lxICpr
aXEsIHVpbnQzMl90ICpvZmZzKSB7Cj4+ICsJYXRvbWljNjRfZGVjKCZraXEtPnN1Ym1pdF9hdmFp
bCk7Cj4+ICsJaWYgKG9mZnMpCj4+ICsJCWFtZGdwdV9nZnhfa2lxX3JlZ19vZmZzX2dldChraXEs
IG9mZnMpOwo+PiArCj4+ICt9Cj4+ICsKPj4gK3ZvaWQgYW1kZ3B1X2dmeF9raXFfcmVzdG9yZShz
dHJ1Y3QgYW1kZ3B1X2tpcSAqa2lxLCB1aW50MzJfdCAqb2Zmcykgewo+PiArCWF0b21pYzY0X2lu
Yygma2lxLT5zdWJtaXRfYXZhaWwpOwo+PiArCWlmIChvZmZzKQo+PiArCQlhbWRncHVfZ2Z4X2tp
cV9yZWdfb2Zmc19mcmVlKGtpcSwgKm9mZnMpOyB9Cj4+ICsKPj4gICAgaW50IGFtZGdwdV9nZnhf
a2lxX2luaXRfcmluZyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKPj4gICAgCQkJICAgICBz
dHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsCj4+ICAgIAkJCSAgICAgc3RydWN0IGFtZGdwdV9pcnFf
c3JjICppcnEpCj4+ICAgIHsKPj4gICAgCXN0cnVjdCBhbWRncHVfa2lxICpraXEgPSAmYWRldi0+
Z2Z4LmtpcTsKPj4gLQlpbnQgciA9IDA7Cj4+ICsJaW50IHIgPSAwLCBpLCBqOwo+PiAgICAKPj4g
ICAgCXNwaW5fbG9ja19pbml0KCZraXEtPnJpbmdfbG9jayk7Cj4+ICAgIAo+PiAtCXIgPSBhbWRn
cHVfZGV2aWNlX3diX2dldChhZGV2LCAma2lxLT5yZWdfdmFsX29mZnMpOwo+PiAtCWlmIChyKQo+
PiAtCQlyZXR1cm4gcjsKPj4gKwlmb3IgKGkgPSAwOyBpIDwgTUFYX0tJUV9SUkVHX05VTTsgaSsr
KSB7Cj4+ICsJCXIgPSBhbWRncHVfZGV2aWNlX3diX2dldChhZGV2LCAma2lxLT5yZWdfdmFsX29m
ZnNbaV0pOwo+PiArCQlpZiAocikgewo+PiArCQkJZm9yIChqID0gMDsgaiA8IGk7IGorKykKPj4g
KwkJCQlhbWRncHVfZGV2aWNlX3diX2ZyZWUoYWRldiwga2lxLT5yZWdfdmFsX29mZnNbal0pOwo+
PiArCQkJcmV0dXJuIHI7Cj4+ICsJCX0KPj4gKwl9Cj4+ICAgIAo+PiAgICAJcmluZy0+YWRldiA9
IE5VTEw7Cj4+ICAgIAlyaW5nLT5yaW5nX29iaiA9IE5VTEw7Cj4+ICAgIAlyaW5nLT51c2VfZG9v
cmJlbGwgPSB0cnVlOwo+PiAgICAJcmluZy0+ZG9vcmJlbGxfaW5kZXggPSBhZGV2LT5kb29yYmVs
bF9pbmRleC5raXE7Cj4+ICsJa2lxLT5udW1fc2xvdCA9IE1BWF9LSVFfUlJFR19OVU07Cj4+ICsJ
bWVtc2V0KCZraXEtPnVzZWQsIDAsIHNpemVvZihraXEtPnVzZWQpKTsKPj4gKwo+PiAgICAKPj4g
ICAgCXIgPSBhbWRncHVfZ2Z4X2tpcV9hY3F1aXJlKGFkZXYsIHJpbmcpOwo+PiAgICAJaWYgKHIp
Cj4+IEBAIC0zMjUsMTMgKzQwMSwyMCBAQCBpbnQgYW1kZ3B1X2dmeF9raXFfaW5pdF9yaW5nKHN0
cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LAo+PiAgICAJCQkgICAgIEFNREdQVV9SSU5HX1BSSU9f
REVGQVVMVCk7Cj4+ICAgIAlpZiAocikKPj4gICAgCQlkZXZfd2FybihhZGV2LT5kZXYsICIoJWQp
IGZhaWxlZCB0byBpbml0IGtpcSByaW5nXG4iLCByKTsKPj4gKwllbHNlCj4+ICsJCWF0b21pYzY0
X3NldCgma2lxLT5zdWJtaXRfYXZhaWwsIHJpbmctPnJpbmdfc2l6ZSAvIDQgLwo+PiArCQkJICAg
ICAocmluZy0+ZnVuY3MtPmFsaWduX21hc2sgKyAxKSk7Cj4+ICAgIAo+PiAgICAJcmV0dXJuIHI7
Cj4+ICAgIH0KPj4gICAgCj4+ICAgIHZvaWQgYW1kZ3B1X2dmeF9raXFfZnJlZV9yaW5nKHN0cnVj
dCBhbWRncHVfcmluZyAqcmluZykgIHsKPj4gLQlhbWRncHVfZGV2aWNlX3diX2ZyZWUocmluZy0+
YWRldiwgcmluZy0+YWRldi0+Z2Z4LmtpcS5yZWdfdmFsX29mZnMpOwo+PiArCXN0cnVjdCBhbWRn
cHVfa2lxICpraXEgPSAmcmluZy0+YWRldi0+Z2Z4LmtpcTsKPj4gKwlpbnQgaSA9IDA7Cj4+ICsK
Pj4gKwlmb3IgKGkgPSAwOyBpIDwgTUFYX0tJUV9SUkVHX05VTTsgaSsrKQo+PiArCQlhbWRncHVf
ZGV2aWNlX3diX2ZyZWUocmluZy0+YWRldiwga2lxLT5yZWdfdmFsX29mZnNbaV0pOwo+PiAgICAJ
YW1kZ3B1X3JpbmdfZmluaShyaW5nKTsKPj4gICAgfQo+PiAgICAKPj4gQEAgLTY3MSwxOSArNzU0
LDI0IEBAIGludCBhbWRncHVfZ2Z4X2NwX2VjY19lcnJvcl9pcnEoc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYsICB1aW50MzJfdCBhbWRncHVfa2lxX3JyZWcoc3RydWN0IGFtZGdwdV9kZXZpY2Ug
KmFkZXYsIHVpbnQzMl90IHJlZykgIHsKPj4gICAgCXNpZ25lZCBsb25nIHIsIGNudCA9IDA7Cj4+
IC0JdW5zaWduZWQgbG9uZyBmbGFnczsKPj4gLQl1aW50MzJfdCBzZXE7Cj4+ICsJdWludDMyX3Qg
c2VxLCByZWdfdmFsX29mZnMgPSAwLCB2YWx1ZSA9IDA7Cj4+ICAgIAlzdHJ1Y3QgYW1kZ3B1X2tp
cSAqa2lxID0gJmFkZXYtPmdmeC5raXE7Cj4+ICAgIAlzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcg
PSAma2lxLT5yaW5nOwo+PiAgICAKPj4gICAgCUJVR19PTighcmluZy0+ZnVuY3MtPmVtaXRfcnJl
Zyk7Cj4+ICAgIAo+PiAtCXNwaW5fbG9ja19pcnFzYXZlKCZraXEtPnJpbmdfbG9jaywgZmxhZ3Mp
Owo+PiArCXIgPSBhbWRncHVfZ2Z4X2tpcV9sb2NrKGtpcSwgdHJ1ZSk7Cj4+ICsJaWYgKHIpIHsK
Pj4gKwkJcHJfZXJyKCJmYWlsZWQgdG8gbG9jayBraXFcbiIpOwo+PiArCQlnb3RvIGtpcV9yZWFk
X2V4aXQ7Cj4+ICsJfQo+PiArCj4+ICsJYW1kZ3B1X2dmeF9raXFfY29uc3VtZShraXEsICZyZWdf
dmFsX29mZnMpOwo+PiAgICAJYW1kZ3B1X3JpbmdfYWxsb2MocmluZywgMzIpOwo+PiAtCWFtZGdw
dV9yaW5nX2VtaXRfcnJlZyhyaW5nLCByZWcpOwo+PiArCWFtZGdwdV9yaW5nX2VtaXRfcnJlZyhy
aW5nLCByZWcsIHJlZ192YWxfb2Zmcyk7Cj4+ICAgIAlhbWRncHVfZmVuY2VfZW1pdF9wb2xsaW5n
KHJpbmcsICZzZXEpOwo+PiAgICAJYW1kZ3B1X3JpbmdfY29tbWl0KHJpbmcpOwo+PiAtCXNwaW5f
dW5sb2NrX2lycXJlc3RvcmUoJmtpcS0+cmluZ19sb2NrLCBmbGFncyk7Cj4+ICsJYW1kZ3B1X2dm
eF9raXFfdW5sb2NrKGtpcSk7Cj4+ICAgIAo+PiAgICAJciA9IGFtZGdwdV9mZW5jZV93YWl0X3Bv
bGxpbmcocmluZywgc2VxLCBNQVhfS0lRX1JFR19XQUlUKTsKPj4gICAgCj4+IEBAIC03MDcsOSAr
Nzk1LDE0IEBAIHVpbnQzMl90IGFtZGdwdV9raXFfcnJlZyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldiwgdWludDMyX3QgcmVnKQo+PiAgICAJaWYgKGNudCA+IE1BWF9LSVFfUkVHX1RSWSkKPj4g
ICAgCQlnb3RvIGZhaWxlZF9raXFfcmVhZDsKPj4gICAgCj4+IC0JcmV0dXJuIGFkZXYtPndiLndi
W2tpcS0+cmVnX3ZhbF9vZmZzXTsKPj4gKwltYigpOwo+PiArCXZhbHVlID0gYWRldi0+d2Iud2Jb
cmVnX3ZhbF9vZmZzXTsKPj4gKwlhbWRncHVfZ2Z4X2tpcV9yZXN0b3JlKGtpcSwgJnJlZ192YWxf
b2Zmcyk7Cj4+ICsJcmV0dXJuIHZhbHVlOwo+PiAgICAKPj4gICAgZmFpbGVkX2tpcV9yZWFkOgo+
PiArCWFtZGdwdV9nZnhfa2lxX3Jlc3RvcmUoa2lxLCAmcmVnX3ZhbF9vZmZzKTsKPj4gK2tpcV9y
ZWFkX2V4aXQ6Cj4+ICAgIAlwcl9lcnIoImZhaWxlZCB0byByZWFkIHJlZzoleFxuIiwgcmVnKTsK
Pj4gICAgCXJldHVybiB+MDsKPj4gICAgfQo+PiBAQCAtNzE3LDE5ICs4MTAsMjQgQEAgdWludDMy
X3QgYW1kZ3B1X2tpcV9ycmVnKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCB1aW50MzJfdCBy
ZWcpICB2b2lkIGFtZGdwdV9raXFfd3JlZyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgdWlu
dDMyX3QgcmVnLCB1aW50MzJfdCB2KSAgewo+PiAgICAJc2lnbmVkIGxvbmcgciwgY250ID0gMDsK
Pj4gLQl1bnNpZ25lZCBsb25nIGZsYWdzOwo+PiAgICAJdWludDMyX3Qgc2VxOwo+PiAgICAJc3Ry
dWN0IGFtZGdwdV9raXEgKmtpcSA9ICZhZGV2LT5nZngua2lxOwo+PiAgICAJc3RydWN0IGFtZGdw
dV9yaW5nICpyaW5nID0gJmtpcS0+cmluZzsKPj4gICAgCj4+ICAgIAlCVUdfT04oIXJpbmctPmZ1
bmNzLT5lbWl0X3dyZWcpOwo+PiAgICAKPj4gLQlzcGluX2xvY2tfaXJxc2F2ZSgma2lxLT5yaW5n
X2xvY2ssIGZsYWdzKTsKPj4gKwlyID0gYW1kZ3B1X2dmeF9raXFfbG9jayhraXEsIGZhbHNlKTsK
Pj4gKwlpZiAocikgewo+PiArCQlwcl9lcnIoImZhaWxlZCB0byBsb2NrIGtpcVxuIik7Cj4+ICsJ
CWdvdG8ga2lxX3dyaXRlX2V4aXQ7Cj4+ICsJfQo+PiArCj4+ICsJYW1kZ3B1X2dmeF9raXFfY29u
c3VtZShraXEsIE5VTEwpOwo+PiAgICAJYW1kZ3B1X3JpbmdfYWxsb2MocmluZywgMzIpOwo+PiAg
ICAJYW1kZ3B1X3JpbmdfZW1pdF93cmVnKHJpbmcsIHJlZywgdik7Cj4+ICAgIAlhbWRncHVfZmVu
Y2VfZW1pdF9wb2xsaW5nKHJpbmcsICZzZXEpOwo+PiAgICAJYW1kZ3B1X3JpbmdfY29tbWl0KHJp
bmcpOwo+PiAtCXNwaW5fdW5sb2NrX2lycXJlc3RvcmUoJmtpcS0+cmluZ19sb2NrLCBmbGFncyk7
Cj4+ICsJYW1kZ3B1X2dmeF9raXFfdW5sb2NrKGtpcSk7Cj4+ICAgIAo+PiAgICAJciA9IGFtZGdw
dV9mZW5jZV93YWl0X3BvbGxpbmcocmluZywgc2VxLCBNQVhfS0lRX1JFR19XQUlUKTsKPj4gICAg
Cj4+IEBAIC03NTQsOCArODUyLDExIEBAIHZvaWQgYW1kZ3B1X2tpcV93cmVnKHN0cnVjdCBhbWRn
cHVfZGV2aWNlICphZGV2LCB1aW50MzJfdCByZWcsIHVpbnQzMl90IHYpCj4+ICAgIAlpZiAoY250
ID4gTUFYX0tJUV9SRUdfVFJZKQo+PiAgICAJCWdvdG8gZmFpbGVkX2tpcV93cml0ZTsKPj4gICAg
Cj4+ICsJYW1kZ3B1X2dmeF9raXFfcmVzdG9yZShraXEsIE5VTEwpOwo+PiAgICAJcmV0dXJuOwo+
PiAgICAKPj4gICAgZmFpbGVkX2tpcV93cml0ZToKPj4gKwlhbWRncHVfZ2Z4X2tpcV9yZXN0b3Jl
KGtpcSwgTlVMTCk7Cj4+ICtraXFfd3JpdGVfZXhpdDoKPj4gICAgCXByX2VycigiZmFpbGVkIHRv
IHdyaXRlIHJlZzoleFxuIiwgcmVnKTsgIH0gZGlmZiAtLWdpdAo+PiBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV9nZnguaAo+PiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2FtZGdwdV9nZnguaAo+PiBpbmRleCA2MzQ3NDY4MjkwMjQuLmJiMDU1OTRjMjdlMCAxMDA2NDQK
Pj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dmeC5oCj4+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nZnguaAo+PiBAQCAtOTYsNiArOTYs
NyBAQCBzdHJ1Y3Qga2lxX3BtNF9mdW5jcyB7Cj4+ICAgIAlpbnQgaW52YWxpZGF0ZV90bGJzX3Np
emU7Cj4+ICAgIH07Cj4+ICAgIAo+PiArI2RlZmluZSBNQVhfS0lRX1JSRUdfTlVNIDY0Cj4+ICAg
IHN0cnVjdCBhbWRncHVfa2lxIHsKPj4gICAgCXU2NAkJCWVvcF9ncHVfYWRkcjsKPj4gICAgCXN0
cnVjdCBhbWRncHVfYm8JKmVvcF9vYmo7Cj4+IEBAIC0xMDMsNyArMTA0LDEwIEBAIHN0cnVjdCBh
bWRncHVfa2lxIHsKPj4gICAgCXN0cnVjdCBhbWRncHVfcmluZwlyaW5nOwo+PiAgICAJc3RydWN0
IGFtZGdwdV9pcnFfc3JjCWlycTsKPj4gICAgCWNvbnN0IHN0cnVjdCBraXFfcG00X2Z1bmNzICpw
bWY7Cj4+IC0JdWludDMyX3QJCQlyZWdfdmFsX29mZnM7Cj4+ICsJdWludDMyX3QJCXJlZ192YWxf
b2Zmc1tNQVhfS0lRX1JSRUdfTlVNXTsKPj4gKwlhdG9taWM2NF90CQlzdWJtaXRfYXZhaWw7Cj4+
ICsJdWludDMyX3QJCW51bV9zbG90Owo+PiArCXVuc2lnbmVkIGxvbmcJCXVzZWRbRElWX1JPVU5E
X1VQKE1BWF9LSVFfUlJFR19OVU0sIEJJVFNfUEVSX0xPTkcpXTsKPj4gICAgfTsKPj4gICAgCj4+
ICAgIC8qCj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
cmluZy5oCj4+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3JpbmcuaAo+PiBp
bmRleCBmNjE2NjRlZTQ5NDAuLmIwZWE0ZjY3YTZlMSAxMDA2NDQKPj4gLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3JpbmcuaAo+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfcmluZy5oCj4+IEBAIC0xODEsNyArMTgxLDggQEAgc3RydWN0IGFt
ZGdwdV9yaW5nX2Z1bmNzIHsKPj4gICAgCXZvaWQgKCplbmRfdXNlKShzdHJ1Y3QgYW1kZ3B1X3Jp
bmcgKnJpbmcpOwo+PiAgICAJdm9pZCAoKmVtaXRfc3dpdGNoX2J1ZmZlcikgKHN0cnVjdCBhbWRn
cHVfcmluZyAqcmluZyk7Cj4+ICAgIAl2b2lkICgqZW1pdF9jbnR4Y250bCkgKHN0cnVjdCBhbWRn
cHVfcmluZyAqcmluZywgdWludDMyX3QgZmxhZ3MpOwo+PiAtCXZvaWQgKCplbWl0X3JyZWcpKHN0
cnVjdCBhbWRncHVfcmluZyAqcmluZywgdWludDMyX3QgcmVnKTsKPj4gKwl2b2lkICgqZW1pdF9y
cmVnKShzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsIHVpbnQzMl90IHJlZywKPj4gKwkJCSAgdWlu
dDMyX3QgcmVnX3ZhbF9vZmZzKTsKPj4gICAgCXZvaWQgKCplbWl0X3dyZWcpKHN0cnVjdCBhbWRn
cHVfcmluZyAqcmluZywgdWludDMyX3QgcmVnLCB1aW50MzJfdCB2YWwpOwo+PiAgICAJdm9pZCAo
KmVtaXRfcmVnX3dhaXQpKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywgdWludDMyX3QgcmVnLAo+
PiAgICAJCQkgICAgICB1aW50MzJfdCB2YWwsIHVpbnQzMl90IG1hc2spOyBAQCAtMjY1LDcgKzI2
Niw3IEBAIHN0cnVjdAo+PiBhbWRncHVfcmluZyB7ICAjZGVmaW5lIGFtZGdwdV9yaW5nX2VtaXRf
aGRwX2ZsdXNoKHIpIChyKS0+ZnVuY3MtPmVtaXRfaGRwX2ZsdXNoKChyKSkgICNkZWZpbmUgYW1k
Z3B1X3JpbmdfZW1pdF9zd2l0Y2hfYnVmZmVyKHIpIChyKS0+ZnVuY3MtPmVtaXRfc3dpdGNoX2J1
ZmZlcigocikpCj4+ICAgICNkZWZpbmUgYW1kZ3B1X3JpbmdfZW1pdF9jbnR4Y250bChyLCBkKQo+
PiAociktPmZ1bmNzLT5lbWl0X2NudHhjbnRsKChyKSwgKGQpKSAtI2RlZmluZSBhbWRncHVfcmlu
Z19lbWl0X3JyZWcociwKPj4gZCkgKHIpLT5mdW5jcy0+ZW1pdF9ycmVnKChyKSwgKGQpKQo+PiAr
I2RlZmluZSBhbWRncHVfcmluZ19lbWl0X3JyZWcociwgZCwgbykgKHIpLT5mdW5jcy0+ZW1pdF9y
cmVnKChyKSwKPj4gKyhkKSwKPj4gKyhvKSkKPj4gICAgI2RlZmluZSBhbWRncHVfcmluZ19lbWl0
X3dyZWcociwgZCwgdikgKHIpLT5mdW5jcy0+ZW1pdF93cmVnKChyKSwgKGQpLCAodikpICAjZGVm
aW5lIGFtZGdwdV9yaW5nX2VtaXRfcmVnX3dhaXQociwgZCwgdiwgbSkgKHIpLT5mdW5jcy0+ZW1p
dF9yZWdfd2FpdCgociksIChkKSwgKHYpLCAobSkpICAjZGVmaW5lIGFtZGdwdV9yaW5nX2VtaXRf
cmVnX3dyaXRlX3JlZ193YWl0KHIsIGQwLCBkMSwgdiwgbSkgKHIpLT5mdW5jcy0+ZW1pdF9yZWdf
d3JpdGVfcmVnX3dhaXQoKHIpLCAoZDApLCAoZDEpLCAodiksIChtKSkgQEAgLTMwOCw2ICszMDks
NyBAQCBzdGF0aWMgaW5saW5lIHZvaWQgYW1kZ3B1X3Jpbmdfd3JpdGUoc3RydWN0IGFtZGdwdV9y
aW5nICpyaW5nLCB1aW50MzJfdCB2KSAgewo+PiAgICAJaWYgKHJpbmctPmNvdW50X2R3IDw9IDAp
Cj4+ICAgIAkJRFJNX0VSUk9SKCJhbWRncHU6IHdyaXRpbmcgbW9yZSBkd29yZHMgdG8gdGhlIHJp
bmcgdGhhbgo+PiBleHBlY3RlZCFcbiIpOwo+PiArCj4+ICAgIAlyaW5nLT5yaW5nW3JpbmctPndw
dHIrKyAmIHJpbmctPmJ1Zl9tYXNrXSA9IHY7Cj4+ICAgIAlyaW5nLT53cHRyICY9IHJpbmctPnB0
cl9tYXNrOwo+PiAgICAJcmluZy0+Y291bnRfZHctLTsKPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92aXJ0LmMKPj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9hbWRncHVfdmlydC5jCj4+IGluZGV4IDhjMTAwODRmNDRlZi4uZGQ1NGVhODAyYTlh
IDEwMDY0NAo+PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdmlydC5j
Cj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92aXJ0LmMKPj4gQEAg
LTU2LDEzICs1NiwxOSBAQCB2b2lkIGFtZGdwdV92aXJ0X2tpcV9yZWdfd3JpdGVfcmVnX3dhaXQo
c3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCj4+ICAgIAl1bnNpZ25lZCBsb25nIGZsYWdzOwo+
PiAgICAJdWludDMyX3Qgc2VxOwo+PiAgICAKPj4gLQlzcGluX2xvY2tfaXJxc2F2ZSgma2lxLT5y
aW5nX2xvY2ssIGZsYWdzKTsKPj4gKwlyID0gYW1kZ3B1X2dmeF9raXFfbG9jayhraXEsIGZhbHNl
KTsKPj4gKwlpZiAocikgewo+PiArCQlwcl9lcnIoImZhaWxlZCB0byBsb2NrIGtpcVxuIik7Cj4+
ICsJCWdvdG8gZmFpbGVkX2V4aXQ7Cj4+ICsJfQo+PiArCj4+ICsJYW1kZ3B1X2dmeF9raXFfY29u
c3VtZShraXEsIE5VTEwpOwo+PiAgICAJYW1kZ3B1X3JpbmdfYWxsb2MocmluZywgMzIpOwo+PiAg
ICAJYW1kZ3B1X3JpbmdfZW1pdF9yZWdfd3JpdGVfcmVnX3dhaXQocmluZywgcmVnMCwgcmVnMSwK
Pj4gICAgCQkJCQkgICAgcmVmLCBtYXNrKTsKPj4gICAgCWFtZGdwdV9mZW5jZV9lbWl0X3BvbGxp
bmcocmluZywgJnNlcSk7Cj4+ICAgIAlhbWRncHVfcmluZ19jb21taXQocmluZyk7Cj4+IC0Jc3Bp
bl91bmxvY2tfaXJxcmVzdG9yZSgma2lxLT5yaW5nX2xvY2ssIGZsYWdzKTsKPj4gKwlhbWRncHVf
Z2Z4X2tpcV91bmxvY2soa2lxKTsKPj4gICAgCj4+ICAgIAlyID0gYW1kZ3B1X2ZlbmNlX3dhaXRf
cG9sbGluZyhyaW5nLCBzZXEsIE1BWF9LSVFfUkVHX1dBSVQpOwo+PiAgICAKPj4gQEAgLTgwLDkg
Kzg2LDEyIEBAIHZvaWQgYW1kZ3B1X3ZpcnRfa2lxX3JlZ193cml0ZV9yZWdfd2FpdChzdHJ1Y3Qg
YW1kZ3B1X2RldmljZSAqYWRldiwKPj4gICAgCWlmIChjbnQgPiBNQVhfS0lRX1JFR19UUlkpCj4+
ICAgIAkJZ290byBmYWlsZWRfa2lxOwo+PiAgICAKPj4gKwlhbWRncHVfZ2Z4X2tpcV9yZXN0b3Jl
KGtpcSwgTlVMTCk7Cj4+ICAgIAlyZXR1cm47Cj4+ICAgIAo+PiAgICBmYWlsZWRfa2lxOgo+PiAr
CWFtZGdwdV9nZnhfa2lxX3Jlc3RvcmUoa2lxLCBOVUxMKTsKPj4gK2ZhaWxlZF9leGl0Ogo+PiAg
ICAJcHJfZXJyKCJmYWlsZWQgdG8gd3JpdGUgcmVnICV4IHdhaXQgcmVnICV4XG4iLCByZWcwLCBy
ZWcxKTsgIH0KPj4gICAgCj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9nZnhfdjEwXzAuYwo+PiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92MTBfMC5j
Cj4+IGluZGV4IDBhMDNlMmFkNWQ5NS4uNzg1M2RiYzNjOGJkIDEwMDY0NAo+PiAtLS0gYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjEwXzAuYwo+PiArKysgYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9nZnhfdjEwXzAuYwo+PiBAQCAtNzU5NCwxMCArNzU5NCwxMCBAQCBzdGF0
aWMgdm9pZCBnZnhfdjEwXzBfcmluZ19lbWl0X2ZyYW1lX2NudGwoc3RydWN0IGFtZGdwdV9yaW5n
ICpyaW5nLCBib29sIHN0YXJ0LAo+PiAgICAJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgdiB8IEZS
QU1FX0NNRChzdGFydCA/IDAgOiAxKSk7ICB9Cj4+ICAgIAo+PiAtc3RhdGljIHZvaWQgZ2Z4X3Yx
MF8wX3JpbmdfZW1pdF9ycmVnKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywKPj4gdWludDMyX3Qg
cmVnKQo+PiArc3RhdGljIHZvaWQgZ2Z4X3YxMF8wX3JpbmdfZW1pdF9ycmVnKHN0cnVjdCBhbWRn
cHVfcmluZyAqcmluZywgdWludDMyX3QgcmVnLAo+PiArCQkJCSAgICAgdWludDMyX3QgcmVnX3Zh
bF9vZmZzKQo+PiAgICB7Cj4+ICAgIAlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IHJpbmct
PmFkZXY7Cj4+IC0Jc3RydWN0IGFtZGdwdV9raXEgKmtpcSA9ICZhZGV2LT5nZngua2lxOwo+PiAg
ICAKPj4gICAgCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIFBBQ0tFVDMoUEFDS0VUM19DT1BZX0RB
VEEsIDQpKTsKPj4gICAgCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIDAgfAkvKiBzcmM6IHJlZ2lz
dGVyKi8KPj4gQEAgLTc2MDYsOSArNzYwNiw5IEBAIHN0YXRpYyB2b2lkIGdmeF92MTBfMF9yaW5n
X2VtaXRfcnJlZyhzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsIHVpbnQzMl90IHJlZykKPj4gICAg
CWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIHJlZyk7Cj4+ICAgIAlhbWRncHVfcmluZ193cml0ZShy
aW5nLCAwKTsKPj4gICAgCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIGxvd2VyXzMyX2JpdHMoYWRl
di0+d2IuZ3B1X2FkZHIgKwo+PiAtCQkJCWtpcS0+cmVnX3ZhbF9vZmZzICogNCkpOwo+PiArCQkJ
CXJlZ192YWxfb2ZmcyAqIDQpKTsKPj4gICAgCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIHVwcGVy
XzMyX2JpdHMoYWRldi0+d2IuZ3B1X2FkZHIgKwo+PiAtCQkJCWtpcS0+cmVnX3ZhbF9vZmZzICog
NCkpOwo+PiArCQkJCXJlZ192YWxfb2ZmcyAqIDQpKTsKPj4gICAgfQo+PiAgICAKPj4gICAgc3Rh
dGljIHZvaWQgZ2Z4X3YxMF8wX3JpbmdfZW1pdF93cmVnKHN0cnVjdCBhbWRncHVfcmluZyAqcmlu
ZywKPj4gdWludDMyX3QgcmVnLCBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvZ2Z4X3Y4XzAuYwo+PiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92OF8wLmMK
Pj4gaW5kZXggZmM2YzJmMmJjNzZjLi5iZGJkOTJkNGZlNDUgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92OF8wLmMKPj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvZ2Z4X3Y4XzAuYwo+PiBAQCAtNjM4MywxMCArNjM4MywxMCBAQCBzdGF0aWMg
dm9pZCBnZnhfdjhfMF9yaW5nX2VtaXRfcGF0Y2hfY29uZF9leGVjKHN0cnVjdCBhbWRncHVfcmlu
ZyAqcmluZywgdW5zaWduZQo+PiAgICAJCXJpbmctPnJpbmdbb2Zmc2V0XSA9IChyaW5nLT5yaW5n
X3NpemUgPj4gMikgLSBvZmZzZXQgKyBjdXI7ICB9Cj4+ICAgIAo+PiAtc3RhdGljIHZvaWQgZ2Z4
X3Y4XzBfcmluZ19lbWl0X3JyZWcoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLAo+PiB1aW50MzJf
dCByZWcpCj4+ICtzdGF0aWMgdm9pZCBnZnhfdjhfMF9yaW5nX2VtaXRfcnJlZyhzdHJ1Y3QgYW1k
Z3B1X3JpbmcgKnJpbmcsIHVpbnQzMl90IHJlZywKPj4gKwkJCQkgICAgdWludDMyX3QgcmVnX3Zh
bF9vZmZzKQo+PiAgICB7Cj4+ICAgIAlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IHJpbmct
PmFkZXY7Cj4+IC0Jc3RydWN0IGFtZGdwdV9raXEgKmtpcSA9ICZhZGV2LT5nZngua2lxOwo+PiAg
ICAKPj4gICAgCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIFBBQ0tFVDMoUEFDS0VUM19DT1BZX0RB
VEEsIDQpKTsKPj4gICAgCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIDAgfAkvKiBzcmM6IHJlZ2lz
dGVyKi8KPj4gQEAgLTYzOTUsOSArNjM5NSw5IEBAIHN0YXRpYyB2b2lkIGdmeF92OF8wX3Jpbmdf
ZW1pdF9ycmVnKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywgdWludDMyX3QgcmVnKQo+PiAgICAJ
YW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgcmVnKTsKPj4gICAgCWFtZGdwdV9yaW5nX3dyaXRlKHJp
bmcsIDApOwo+PiAgICAJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgbG93ZXJfMzJfYml0cyhhZGV2
LT53Yi5ncHVfYWRkciArCj4+IC0JCQkJa2lxLT5yZWdfdmFsX29mZnMgKiA0KSk7Cj4+ICsJCQkJ
cmVnX3ZhbF9vZmZzICogNCkpOwo+PiAgICAJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgdXBwZXJf
MzJfYml0cyhhZGV2LT53Yi5ncHVfYWRkciArCj4+IC0JCQkJa2lxLT5yZWdfdmFsX29mZnMgKiA0
KSk7Cj4+ICsJCQkJcmVnX3ZhbF9vZmZzICogNCkpOwo+PiAgICB9Cj4+ICAgIAo+PiAgICBzdGF0
aWMgdm9pZCBnZnhfdjhfMF9yaW5nX2VtaXRfd3JlZyhzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcs
Cj4+IHVpbnQzMl90IHJlZywgZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2dmeF92OV8wLmMKPj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjlfMC5jCj4+
IGluZGV4IDg0ZmNmODQyMzE2ZC4uZjdkZDEwMzY5ODZlIDEwMDY0NAo+PiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjlfMC5jCj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2dmeF92OV8wLmMKPj4gQEAgLTQwNDIsMTQgKzQwNDIsMjAgQEAgc3RhdGljIGlu
dCBnZnhfdjlfMF9zb2Z0X3Jlc2V0KHZvaWQgKmhhbmRsZSkgIHN0YXRpYyB1aW50NjRfdCBnZnhf
djlfMF9raXFfcmVhZF9jbG9jayhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikgIHsKPj4gICAg
CXNpZ25lZCBsb25nIHIsIGNudCA9IDA7Cj4+IC0JdW5zaWduZWQgbG9uZyBmbGFnczsKPj4gLQl1
aW50MzJfdCBzZXE7Cj4+ICsJdWludDMyX3Qgc2VxLCByZWdfdmFsX29mZnM7Cj4+ICsJdWludDY0
X3QgdmFsdWUgPSAwOwo+PiAgICAJc3RydWN0IGFtZGdwdV9raXEgKmtpcSA9ICZhZGV2LT5nZngu
a2lxOwo+PiAgICAJc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nID0gJmtpcS0+cmluZzsKPj4gICAg
Cj4+ICAgIAlCVUdfT04oIXJpbmctPmZ1bmNzLT5lbWl0X3JyZWcpOwo+PiAgICAKPj4gLQlzcGlu
X2xvY2tfaXJxc2F2ZSgma2lxLT5yaW5nX2xvY2ssIGZsYWdzKTsKPj4gKwlyID0gYW1kZ3B1X2dm
eF9raXFfbG9jayhraXEsIHRydWUpOwo+PiArCWlmIChyKSB7Cj4+ICsJCXByX2VycigiZmFpbGVk
IHRvIGxvY2sga2lxXG4iKTsKPj4gKwkJZ290byBmYWlsZWRfa2lxX2V4aXQ7Cj4+ICsJfQo+PiAr
Cj4+ICsJYW1kZ3B1X2dmeF9raXFfY29uc3VtZShraXEsICZyZWdfdmFsX29mZnMpOwo+PiAgICAJ
YW1kZ3B1X3JpbmdfYWxsb2MocmluZywgMzIpOwo+PiAgICAJYW1kZ3B1X3Jpbmdfd3JpdGUocmlu
ZywgUEFDS0VUMyhQQUNLRVQzX0NPUFlfREFUQSwgNCkpOwo+PiAgICAJYW1kZ3B1X3Jpbmdfd3Jp
dGUocmluZywgOSB8CS8qIHNyYzogcmVnaXN0ZXIqLwo+PiBAQCAtNDA1OSwxMiArNDA2NSwxMiBA
QCBzdGF0aWMgdWludDY0X3QgZ2Z4X3Y5XzBfa2lxX3JlYWRfY2xvY2soc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYpCj4+ICAgIAlhbWRncHVfcmluZ193cml0ZShyaW5nLCAwKTsKPj4gICAgCWFt
ZGdwdV9yaW5nX3dyaXRlKHJpbmcsIDApOwo+PiAgICAJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywg
bG93ZXJfMzJfYml0cyhhZGV2LT53Yi5ncHVfYWRkciArCj4+IC0JCQkJa2lxLT5yZWdfdmFsX29m
ZnMgKiA0KSk7Cj4+ICsJCQkJcmVnX3ZhbF9vZmZzICogNCkpOwo+PiAgICAJYW1kZ3B1X3Jpbmdf
d3JpdGUocmluZywgdXBwZXJfMzJfYml0cyhhZGV2LT53Yi5ncHVfYWRkciArCj4+IC0JCQkJa2lx
LT5yZWdfdmFsX29mZnMgKiA0KSk7Cj4+ICsJCQkJcmVnX3ZhbF9vZmZzICogNCkpOwo+PiAgICAJ
YW1kZ3B1X2ZlbmNlX2VtaXRfcG9sbGluZyhyaW5nLCAmc2VxKTsKPj4gICAgCWFtZGdwdV9yaW5n
X2NvbW1pdChyaW5nKTsKPj4gLQlzcGluX3VubG9ja19pcnFyZXN0b3JlKCZraXEtPnJpbmdfbG9j
aywgZmxhZ3MpOwo+PiArCWFtZGdwdV9nZnhfa2lxX3VubG9jayhraXEpOwo+PiAgICAKPj4gICAg
CXIgPSBhbWRncHVfZmVuY2Vfd2FpdF9wb2xsaW5nKHJpbmcsIHNlcSwgTUFYX0tJUV9SRUdfV0FJ
VCk7Cj4+ICAgIAo+PiBAQCAtNDA4OCwxMCArNDA5NCwxNCBAQCBzdGF0aWMgdWludDY0X3QgZ2Z4
X3Y5XzBfa2lxX3JlYWRfY2xvY2soc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCj4+ICAgIAlp
ZiAoY250ID4gTUFYX0tJUV9SRUdfVFJZKQo+PiAgICAJCWdvdG8gZmFpbGVkX2tpcV9yZWFkOwo+
PiAgICAKPj4gLQlyZXR1cm4gKHVpbnQ2NF90KWFkZXYtPndiLndiW2tpcS0+cmVnX3ZhbF9vZmZz
XSB8Cj4+IC0JCSh1aW50NjRfdClhZGV2LT53Yi53YltraXEtPnJlZ192YWxfb2ZmcyArIDEgXSA8
PCAzMlVMTDsKPj4gKwl2YWx1ZSA9ICh1aW50NjRfdClhZGV2LT53Yi53YltyZWdfdmFsX29mZnNd
IHwKPj4gKwkJKHVpbnQ2NF90KWFkZXYtPndiLndiW3JlZ192YWxfb2ZmcyArIDEgXSA8PCAzMlVM
TDsKPj4gICAgCj4+ICsJYW1kZ3B1X2dmeF9raXFfcmVzdG9yZShraXEsICZyZWdfdmFsX29mZnMp
Owo+PiArCXJldHVybiB2YWx1ZTsKPj4gICAgZmFpbGVkX2tpcV9yZWFkOgo+PiArCWFtZGdwdV9n
Znhfa2lxX3Jlc3RvcmUoa2lxLCAmcmVnX3ZhbF9vZmZzKTsKPj4gK2ZhaWxlZF9raXFfZXhpdDoK
Pj4gICAgCXByX2VycigiZmFpbGVkIHRvIHJlYWQgZ3B1IGNsb2NrXG4iKTsKPj4gICAgCXJldHVy
biB+MDsKPj4gICAgfQo+PiBAQCAtNTQ4MiwxMCArNTQ5MiwxMCBAQCBzdGF0aWMgdm9pZCBnZnhf
djlfMF9yaW5nX2VtaXRfcGF0Y2hfY29uZF9leGVjKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywg
dW5zaWduZQo+PiAgICAJCXJpbmctPnJpbmdbb2Zmc2V0XSA9IChyaW5nLT5yaW5nX3NpemU+PjIp
IC0gb2Zmc2V0ICsgY3VyOyAgfQo+PiAgICAKPj4gLXN0YXRpYyB2b2lkIGdmeF92OV8wX3Jpbmdf
ZW1pdF9ycmVnKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywKPj4gdWludDMyX3QgcmVnKQo+PiAr
c3RhdGljIHZvaWQgZ2Z4X3Y5XzBfcmluZ19lbWl0X3JyZWcoc3RydWN0IGFtZGdwdV9yaW5nICpy
aW5nLCB1aW50MzJfdCByZWcsCj4+ICsJCQkJICAgIHVpbnQzMl90IHJlZ192YWxfb2ZmcykKPj4g
ICAgewo+PiAgICAJc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSByaW5nLT5hZGV2Owo+PiAt
CXN0cnVjdCBhbWRncHVfa2lxICpraXEgPSAmYWRldi0+Z2Z4LmtpcTsKPj4gICAgCj4+ICAgIAlh
bWRncHVfcmluZ193cml0ZShyaW5nLCBQQUNLRVQzKFBBQ0tFVDNfQ09QWV9EQVRBLCA0KSk7Cj4+
ICAgIAlhbWRncHVfcmluZ193cml0ZShyaW5nLCAwIHwJLyogc3JjOiByZWdpc3RlciovCj4+IEBA
IC01NDk0LDkgKzU1MDQsOSBAQCBzdGF0aWMgdm9pZCBnZnhfdjlfMF9yaW5nX2VtaXRfcnJlZyhz
dHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsIHVpbnQzMl90IHJlZykKPj4gICAgCWFtZGdwdV9yaW5n
X3dyaXRlKHJpbmcsIHJlZyk7Cj4+ICAgIAlhbWRncHVfcmluZ193cml0ZShyaW5nLCAwKTsKPj4g
ICAgCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIGxvd2VyXzMyX2JpdHMoYWRldi0+d2IuZ3B1X2Fk
ZHIgKwo+PiAtCQkJCWtpcS0+cmVnX3ZhbF9vZmZzICogNCkpOwo+PiArCQkJCXJlZ192YWxfb2Zm
cyAqIDQpKTsKPj4gICAgCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIHVwcGVyXzMyX2JpdHMoYWRl
di0+d2IuZ3B1X2FkZHIgKwo+PiAtCQkJCWtpcS0+cmVnX3ZhbF9vZmZzICogNCkpOwo+PiArCQkJ
CXJlZ192YWxfb2ZmcyAqIDQpKTsKPj4gICAgfQo+PiAgICAKPj4gICAgc3RhdGljIHZvaWQgZ2Z4
X3Y5XzBfcmluZ19lbWl0X3dyZWcoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLAo+PiB1aW50MzJf
dCByZWcsIGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjEwXzAu
Ywo+PiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192MTBfMC5jCj4+IGluZGV4IDMw
Yjc1ZDc5ZWZkYi4uNmI0ZGMwZWQ0ZmZmIDEwMDY0NAo+PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9nbWNfdjEwXzAuYwo+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9nbWNfdjEwXzAuYwo+PiBAQCAtNDIyLDIwICs0MjIsMjggQEAgc3RhdGljIGludCBnbWNfdjEw
XzBfZmx1c2hfZ3B1X3RsYl9wYXNpZChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKPj4gICAg
CXN0cnVjdCBhbWRncHVfa2lxICpraXEgPSAmYWRldi0+Z2Z4LmtpcTsKPj4gICAgCj4+ICAgIAlp
ZiAoYW1kZ3B1X2VtdV9tb2RlID09IDAgJiYgcmluZy0+c2NoZWQucmVhZHkpIHsKPj4gLQkJc3Bp
bl9sb2NrKCZhZGV2LT5nZngua2lxLnJpbmdfbG9jayk7Cj4+ICsJCXIgPSBhbWRncHVfZ2Z4X2tp
cV9sb2NrKGtpcSwgZmFsc2UpOwo+PiArCQlpZiAocikgewo+PiArCQkJcHJfZXJyKCJmYWlsZWQg
dG8gbG9jayBraXFcbiIpOwo+PiArCQkJcmV0dXJuIC1FVElNRTsKPj4gKwkJfQo+PiArCj4+ICAg
IAkJLyogMiBkd29yZHMgZmx1c2ggKyA4IGR3b3JkcyBmZW5jZSAqLwo+PiAgICAJCWFtZGdwdV9y
aW5nX2FsbG9jKHJpbmcsIGtpcS0+cG1mLT5pbnZhbGlkYXRlX3RsYnNfc2l6ZSArIDgpOwo+PiAr
CQlhbWRncHVfZ2Z4X2tpcV9jb25zdW1lKGtpcSwgTlVMTCk7Cj4+ICAgIAkJa2lxLT5wbWYtPmtp
cV9pbnZhbGlkYXRlX3RsYnMocmluZywKPj4gICAgCQkJCQlwYXNpZCwgZmx1c2hfdHlwZSwgYWxs
X2h1Yik7Cj4+ICAgIAkJYW1kZ3B1X2ZlbmNlX2VtaXRfcG9sbGluZyhyaW5nLCAmc2VxKTsKPj4g
ICAgCQlhbWRncHVfcmluZ19jb21taXQocmluZyk7Cj4+IC0JCXNwaW5fdW5sb2NrKCZhZGV2LT5n
Zngua2lxLnJpbmdfbG9jayk7Cj4+ICsJCWFtZGdwdV9nZnhfa2lxX3VubG9jayhraXEpOwo+PiAg
ICAJCXIgPSBhbWRncHVfZmVuY2Vfd2FpdF9wb2xsaW5nKHJpbmcsIHNlcSwgYWRldi0+dXNlY190
aW1lb3V0KTsKPj4gICAgCQlpZiAociA8IDEpIHsKPj4gICAgCQkJRFJNX0VSUk9SKCJ3YWl0IGZv
ciBraXEgZmVuY2UgZXJyb3I6ICVsZC5cbiIsIHIpOwo+PiArCQkJYW1kZ3B1X2dmeF9raXFfcmVz
dG9yZShraXEsIGZhbHNlKTsKPj4gICAgCQkJcmV0dXJuIC1FVElNRTsKPj4gICAgCQl9Cj4+ICAg
IAo+PiArCQlhbWRncHVfZ2Z4X2tpcV9yZXN0b3JlKGtpcSwgTlVMTCk7Cj4+ICAgIAkJcmV0dXJu
IDA7Cj4+ICAgIAl9Cj4+ICAgIAo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvZ21jX3Y5XzAuYwo+PiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192OV8w
LmMKPj4gaW5kZXggZmVjZGJjNDcxOTgzLi42MjM4NzAyYzgwYjQgMTAwNjQ0Cj4+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192OV8wLmMKPj4gKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvZ21jX3Y5XzAuYwo+PiBAQCAtNjEzLDcgKzYxMywxMyBAQCBzdGF0aWMg
aW50IGdtY192OV8wX2ZsdXNoX2dwdV90bGJfcGFzaWQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFk
ZXYsCj4+ICAgIAkJaWYgKHZlZ2EyMF94Z21pX3dhKQo+PiAgICAJCQluZHcgKz0ga2lxLT5wbWYt
PmludmFsaWRhdGVfdGxic19zaXplOwo+PiAgICAKPj4gLQkJc3Bpbl9sb2NrKCZhZGV2LT5nZngu
a2lxLnJpbmdfbG9jayk7Cj4+ICsJCXIgPSBhbWRncHVfZ2Z4X2tpcV9sb2NrKGtpcSwgZmFsc2Up
Owo+PiArCQlpZiAocikgewo+PiArCQkJcHJfZXJyKCJmYWlsZWQgdG8gbG9jayBraXFcbiIpOwo+
PiArCQkJcmV0dXJuIC1FVElNRTsKPj4gKwkJfQo+PiArCj4+ICsJCWFtZGdwdV9nZnhfa2lxX2Nv
bnN1bWUoa2lxLCBOVUxMKTsKPj4gICAgCQkvKiAyIGR3b3JkcyBmbHVzaCArIDggZHdvcmRzIGZl
bmNlICovCj4+ICAgIAkJYW1kZ3B1X3JpbmdfYWxsb2MocmluZywgbmR3KTsKPj4gICAgCQlpZiAo
dmVnYTIwX3hnbWlfd2EpCj4+IEBAIC02MjMsMTMgKzYyOSwxNSBAQCBzdGF0aWMgaW50IGdtY192
OV8wX2ZsdXNoX2dwdV90bGJfcGFzaWQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCj4+ICAg
IAkJCQkJcGFzaWQsIGZsdXNoX3R5cGUsIGFsbF9odWIpOwo+PiAgICAJCWFtZGdwdV9mZW5jZV9l
bWl0X3BvbGxpbmcocmluZywgJnNlcSk7Cj4+ICAgIAkJYW1kZ3B1X3JpbmdfY29tbWl0KHJpbmcp
Owo+PiAtCQlzcGluX3VubG9jaygmYWRldi0+Z2Z4LmtpcS5yaW5nX2xvY2spOwo+PiArCQlhbWRn
cHVfZ2Z4X2tpcV91bmxvY2soa2lxKTsKPj4gICAgCQlyID0gYW1kZ3B1X2ZlbmNlX3dhaXRfcG9s
bGluZyhyaW5nLCBzZXEsIGFkZXYtPnVzZWNfdGltZW91dCk7Cj4+ICAgIAkJaWYgKHIgPCAxKSB7
Cj4+ICAgIAkJCURSTV9FUlJPUigid2FpdCBmb3Iga2lxIGZlbmNlIGVycm9yOiAlbGQuXG4iLCBy
KTsKPj4gKwkJCWFtZGdwdV9nZnhfa2lxX3Jlc3RvcmUoa2lxLCBOVUxMKTsKPj4gICAgCQkJcmV0
dXJuIC1FVElNRTsKPj4gICAgCQl9Cj4+ICAgIAo+PiArCQlhbWRncHVfZ2Z4X2tpcV9yZXN0b3Jl
KGtpcSwgTlVMTCk7Cj4+ICAgIAkJcmV0dXJuIDA7Cj4+ICAgIAl9Cj4+ICAgIAo+PiAtLQo+PiAy
LjE3LjEKPj4KPiBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
Xwo+IGFtZC1nZnggbWFpbGluZyBsaXN0Cj4gYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcK
PiBodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZngK
Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmFtZC1nZngg
bWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeAo=
