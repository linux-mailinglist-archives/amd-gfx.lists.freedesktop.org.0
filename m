Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 6C49C105BEC
	for <lists+amd-gfx@lfdr.de>; Thu, 21 Nov 2019 22:26:59 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 147B86EEB7;
	Thu, 21 Nov 2019 21:26:55 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM05-CO1-obe.outbound.protection.outlook.com
 (mail-eopbgr720044.outbound.protection.outlook.com [40.107.72.44])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A34866E1B3
 for <amd-gfx@lists.freedesktop.org>; Thu, 21 Nov 2019 21:26:53 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=UXwYh1IKCdS9cNStdIlpSTgcs+67RvCqHoJSoe57KlCUaoUCzz7TPCze9/V1F6Cc6glamkan0UqmP2GP3LLO1M82qz+9AdSjH1BT+iuwi/WI+d4TNlKqIVi5+aMT/f047C+u6rdxgvnh2eTVliLZzsLSOozPATJzRcPj8zAqmLihAxrGCgp7rBC6+vU6DytRRwgzNnDCM7XLJlYHjKx1pnlmaS61KZwyldGjOUmn9ABUsfKpQ3i++VsyrKHtlM0Bbyraaz4a5E8j0Nng5ZVIpK42igmBR4RNfTpJ/j30MgAAI5GpcCrmeCicNBFdJOWPNWNSk66sABaOthPbaxf1pQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=w7+ucKFbPQ2/oKMWqqYhhmujsk7k0r8M9aqLt41Hpho=;
 b=HilpvL93Aw4j+RbEJXP7TSrXIi6+/iAi6yDewC8hRPByV5OEkkHCi0BACxyTTCPbuozsTscYPHt4rlqdVXXeJ2K+Pnu4Hq20FVw9yfLPREqq1QxyUPWMxYuL5+4DyVKWkjYINL7nx7vslmf3nFNn49H6w19XxxgDuAar6VLizTXrzL86CiDMM9g8LWVx1OmP4voCI1AyQxPXC2qBC+FF7FsAi/XQXFkJ/N/K3K7AJ/rK0XP9D+9bLl6yjKgvp7O1zfosEocdxBWneYEvxSNIawhfAPIjmNFz3e2l5SnSwCbMm1SFYgEiJzagARLdVa1eILL5t6zayYPkIoWcna3NzQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from DM6PR12MB2778.namprd12.prod.outlook.com (20.176.114.145) by
 DM6PR12MB2682.namprd12.prod.outlook.com (20.176.118.13) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2474.19; Thu, 21 Nov 2019 21:26:51 +0000
Received: from DM6PR12MB2778.namprd12.prod.outlook.com
 ([fe80::304d:db58:2aa:d69e]) by DM6PR12MB2778.namprd12.prod.outlook.com
 ([fe80::304d:db58:2aa:d69e%6]) with mapi id 15.20.2451.031; Thu, 21 Nov 2019
 21:26:51 +0000
From: Yong Zhao <Yong.Zhao@amd.com>
To: amd-gfx@lists.freedesktop.org
Subject: [PATCH 2/2] drm/amdkfd: Move pm_create_runlist_ib() out of
 pm_send_runlist()
Date: Thu, 21 Nov 2019 16:26:39 -0500
Message-Id: <20191121212639.4057-2-Yong.Zhao@amd.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20191121212639.4057-1-Yong.Zhao@amd.com>
References: <20191121212639.4057-1-Yong.Zhao@amd.com>
X-ClientProxiedBy: YTOPR0101CA0058.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:b00:14::35) To DM6PR12MB2778.namprd12.prod.outlook.com
 (2603:10b6:5:50::17)
MIME-Version: 1.0
X-Mailer: git-send-email 2.17.1
X-Originating-IP: [165.204.55.251]
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-HT: Tenant
X-MS-Office365-Filtering-Correlation-Id: 96e5e023-7d09-4f3d-c55a-08d76ec98646
X-MS-TrafficTypeDiagnostic: DM6PR12MB2682:|DM6PR12MB2682:
X-MS-Exchange-Transport-Forked: True
X-Microsoft-Antispam-PRVS: <DM6PR12MB26822A188ED8DABB68DB1D0AF04E0@DM6PR12MB2682.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:1201;
X-Forefront-PRVS: 0228DDDDD7
X-Forefront-Antispam-Report: SFV:NSPM;
 SFS:(10009020)(4636009)(366004)(136003)(39860400002)(346002)(376002)(396003)(189003)(199004)(6506007)(478600001)(14444005)(47776003)(6666004)(7736002)(305945005)(66066001)(16586007)(5660300002)(186003)(86362001)(4326008)(2906002)(52116002)(51416003)(76176011)(99286004)(36756003)(26005)(386003)(316002)(2361001)(3846002)(48376002)(446003)(11346002)(2616005)(66946007)(66556008)(66476007)(8936002)(6486002)(81166006)(81156014)(8676002)(6436002)(6916009)(6512007)(2351001)(25786009)(6116002)(14454004)(50466002)(1076003)(50226002);
 DIR:OUT; SFP:1101; SCL:1; SRVR:DM6PR12MB2682;
 H:DM6PR12MB2778.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: kkHFF5Hr3gN+yV3mliZPv8KAySgAdnDtRHBs+H1FZBRodNnivsIkW5hmkpYGXdJ8SBS8UsDRA7uWDx5LrUAq8tkhyuKKDUlUYXmhaFuOF4Hssi5me/JkXc2H+dr0AYGtPfP1X9hOOr4qm29upYXgFPAyBXpn+rGSXveY16iQb363k4rCowSi3hHDBwB/Gw1PDCByOuJWA6ZdH8TtaAv1GsdysdMr5HKqsDw9s58yRENHGYf3zGVcS9+3QNnldu00M7gm6nWm4TmQwk2uP3XejA8AxpqoWnWHNIVBbORRbwBq0d0L+MYnXUDKey2GvpE+rg5BRfBd9a9uzetLR4zi5UeJAJNKR94RrJQVjJZxexJLmZJDaHLt6aLRbSxmL6UqJmhU7YkzB+MEOVaUIlJYA8jS4KWBYyqJw7w/mi7c/cjkHjGvcU0WdUga7KFMJ3uI
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 96e5e023-7d09-4f3d-c55a-08d76ec98646
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 21 Nov 2019 21:26:51.8830 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: VXfFz26znYkllsDVqAeQ4px/Q5QsT0fsGE+TOw9ay0V6OtS5DriYkdoZN4AL9RG+
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM6PR12MB2682
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=w7+ucKFbPQ2/oKMWqqYhhmujsk7k0r8M9aqLt41Hpho=;
 b=S7JawJNs9seg7sGbW2cjkKHoJaTih6Qta+hKTsiVKOido/G7IIsWJz68yvInCjgo9Y4yIQUsIhPBJQ2xfBUfs02FLSozvHw2P3HCRhs1JmC4gwoz77eyXDT7wrLsYa5kWLLhnnON1GC96WEd0Zn8kXmKaK8urDzI2HLRbs3BxAg=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Yong.Zhao@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Yong Zhao <Yong.Zhao@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

VGhpcyBpcyBjb25zaXN0ZW50IHdpdGggdGhlIGNhbGxpbmcgc2VxdWVuY2UgaW4gdW5tYXBfcXVl
dWVzX2Nwc2NoKCkuCgpDaGFuZ2UtSWQ6IEllYjY3MTQ0MjJjODEyZDRmNmViYmVjZTM0ZTMzOTg3
MTQ3MWU0YjVlClNpZ25lZC1vZmYtYnk6IFlvbmcgWmhhbyA8WW9uZy5aaGFvQGFtZC5jb20+Ci0t
LQogLi4uL2RybS9hbWQvYW1ka2ZkL2tmZF9kZXZpY2VfcXVldWVfbWFuYWdlci5jIHwgMTggKysr
KysrKysrKysrKysrLS0KIC4uLi9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX3BhY2tldF9tYW5hZ2Vy
LmMgICB8IDIwICsrKysrLS0tLS0tLS0tLS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2Zk
L2tmZF9wcml2LmggICAgICAgICB8ICA3ICsrKysrKy0KIDMgZmlsZXMgY2hhbmdlZCwgMjcgaW5z
ZXJ0aW9ucygrKSwgMTggZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRrZmQva2ZkX2RldmljZV9xdWV1ZV9tYW5hZ2VyLmMgYi9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGtmZC9rZmRfZGV2aWNlX3F1ZXVlX21hbmFnZXIuYwppbmRleCA1MTBmMmQxYmI4YmIu
LmZkN2Q5MDEzNmI5NCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2Zk
X2RldmljZV9xdWV1ZV9tYW5hZ2VyLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQv
a2ZkX2RldmljZV9xdWV1ZV9tYW5hZ2VyLmMKQEAgLTEzMDIsNiArMTMwMiw4IEBAIHN0YXRpYyBp
bnQgdW5tYXBfc2RtYV9xdWV1ZXMoc3RydWN0IGRldmljZV9xdWV1ZV9tYW5hZ2VyICpkcW0pCiBz
dGF0aWMgaW50IG1hcF9xdWV1ZXNfY3BzY2goc3RydWN0IGRldmljZV9xdWV1ZV9tYW5hZ2VyICpk
cW0pCiB7CiAJaW50IHJldHZhbDsKKwl1aW50NjRfdCBybF9pYl9ncHVfYWRkcjsKKwlzaXplX3Qg
cmxfaWJfc2l6ZTsKIAogCWlmICghZHFtLT5zY2hlZF9ydW5uaW5nKQogCQlyZXR1cm4gMDsKQEAg
LTEzMTAsMTUgKzEzMTIsMjcgQEAgc3RhdGljIGludCBtYXBfcXVldWVzX2Nwc2NoKHN0cnVjdCBk
ZXZpY2VfcXVldWVfbWFuYWdlciAqZHFtKQogCWlmIChkcW0tPmFjdGl2ZV9ydW5saXN0KQogCQly
ZXR1cm4gMDsKIAotCXJldHZhbCA9IHBtX3NlbmRfcnVubGlzdCgmZHFtLT5wYWNrZXRzLCAmZHFt
LT5xdWV1ZXMpOworCXJldHZhbCA9IHBtX2NyZWF0ZV9ydW5saXN0X2liKCZkcW0tPnBhY2tldHMs
ICZkcW0tPnF1ZXVlcywKKwkJCQkmcmxfaWJfZ3B1X2FkZHIsICZybF9pYl9zaXplKTsKKwlpZiAo
cmV0dmFsKQorCQlnb3RvIGZhaWxfY3JlYXRlX3J1bmxpc3RfaWI7CisKKwlwcl9kZWJ1ZygicnVu
bGlzdCBJQiBhZGRyZXNzOiAweCVsbFhcbiIsIHJsX2liX2dwdV9hZGRyKTsKKworCXJldHZhbCA9
IHBtX3NlbmRfcnVubGlzdCgmZHFtLT5wYWNrZXRzLCAmZHFtLT5xdWV1ZXMsCisJCQlybF9pYl9n
cHVfYWRkciwgcmxfaWJfc2l6ZSk7CiAJcHJfZGVidWcoIiVzIHNlbnQgcnVubGlzdFxuIiwgX19m
dW5jX18pOwogCWlmIChyZXR2YWwpIHsKIAkJcHJfZXJyKCJmYWlsZWQgdG8gZXhlY3V0ZSBydW5s
aXN0XG4iKTsKLQkJcmV0dXJuIHJldHZhbDsKKwkJZ290byBmYWlsX2NyZWF0ZV9ydW5saXN0X2li
OwogCX0KIAlkcW0tPmFjdGl2ZV9ydW5saXN0ID0gdHJ1ZTsKIAogCXJldHVybiByZXR2YWw7CisK
K2ZhaWxfY3JlYXRlX3J1bmxpc3RfaWI6CisJcG1fZGVzdHJveV9ydW5saXN0X2liKCZkcW0tPnBh
Y2tldHMpOworCXJldHVybiByZXR2YWw7CiB9CiAKIC8qIGRxbS0+bG9jayBtdXRleCBoYXMgdG8g
YmUgbG9ja2VkIGJlZm9yZSBjYWxsaW5nIHRoaXMgZnVuY3Rpb24gKi8KZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9wYWNrZXRfbWFuYWdlci5jIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRrZmQva2ZkX3BhY2tldF9tYW5hZ2VyLmMKaW5kZXggNGE5NDMzMjU3NDI4
Li42ZWM1NGU5ZjkzOTIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tm
ZF9wYWNrZXRfbWFuYWdlci5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9w
YWNrZXRfbWFuYWdlci5jCkBAIC0xMTYsNyArMTE2LDcgQEAgc3RhdGljIGludCBwbV9hbGxvY2F0
ZV9ydW5saXN0X2liKHN0cnVjdCBwYWNrZXRfbWFuYWdlciAqcG0sCiAJcmV0dXJuIHJldHZhbDsK
IH0KIAotc3RhdGljIGludCBwbV9jcmVhdGVfcnVubGlzdF9pYihzdHJ1Y3QgcGFja2V0X21hbmFn
ZXIgKnBtLAoraW50IHBtX2NyZWF0ZV9ydW5saXN0X2liKHN0cnVjdCBwYWNrZXRfbWFuYWdlciAq
cG0sCiAJCQkJc3RydWN0IGxpc3RfaGVhZCAqcXVldWVzLAogCQkJCXVpbnQ2NF90ICpybF9ncHVf
YWRkciwKIAkJCQlzaXplX3QgKnJsX3NpemVfYnl0ZXMpCkBAIC0xNDksNyArMTQ5LDYgQEAgc3Rh
dGljIGludCBwbV9jcmVhdGVfcnVubGlzdF9pYihzdHJ1Y3QgcGFja2V0X21hbmFnZXIgKnBtLAog
CQkvKiBidWlsZCBtYXAgcHJvY2VzcyBwYWNrZXQgKi8KIAkJaWYgKHByb2NjZXNzZXNfbWFwcGVk
ID49IHBtLT5kcW0tPnByb2Nlc3Nlc19jb3VudCkgewogCQkJcHJfZGVidWcoIk5vdCBlbm91Z2gg
c3BhY2UgbGVmdCBpbiBydW5saXN0IElCXG4iKTsKLQkJCXBtX2Rlc3Ryb3lfcnVubGlzdF9pYihw
bSk7CiAJCQlyZXR1cm4gLUVOT01FTTsKIAkJfQogCkBAIC0yOTksMjAgKzI5OCwxMyBAQCBpbnQg
cG1fc2VuZF9zZXRfcmVzb3VyY2VzKHN0cnVjdCBwYWNrZXRfbWFuYWdlciAqcG0sCiAJcmV0dXJu
IHJldHZhbDsKIH0KIAotaW50IHBtX3NlbmRfcnVubGlzdChzdHJ1Y3QgcGFja2V0X21hbmFnZXIg
KnBtLCBzdHJ1Y3QgbGlzdF9oZWFkICpkcW1fcXVldWVzKQoraW50IHBtX3NlbmRfcnVubGlzdChz
dHJ1Y3QgcGFja2V0X21hbmFnZXIgKnBtLCBzdHJ1Y3QgbGlzdF9oZWFkICpkcW1fcXVldWVzLAor
CQkJdWludDY0X3QgcmxfaWJfZ3B1X2FkZHIsIHNpemVfdCBybF9pYl9zaXplKQogewotCXVpbnQ2
NF90IHJsX2dwdV9pYl9hZGRyOwogCXVpbnQzMl90ICpybF9idWZmZXI7Ci0Jc2l6ZV90IHJsX2li
X3NpemUsIHBhY2tldF9zaXplX2R3b3JkczsKKwlzaXplX3QgcGFja2V0X3NpemVfZHdvcmRzOwog
CWludCByZXR2YWw7CiAKLQlyZXR2YWwgPSBwbV9jcmVhdGVfcnVubGlzdF9pYihwbSwgZHFtX3F1
ZXVlcywgJnJsX2dwdV9pYl9hZGRyLAotCQkJCQkmcmxfaWJfc2l6ZSk7Ci0JaWYgKHJldHZhbCkK
LQkJZ290byBmYWlsX2NyZWF0ZV9ydW5saXN0X2liOwotCi0JcHJfZGVidWcoInJ1bmxpc3QgSUIg
YWRkcmVzczogMHglbGxYXG4iLCBybF9ncHVfaWJfYWRkcik7Ci0KIAlwYWNrZXRfc2l6ZV9kd29y
ZHMgPSBwbS0+cG1mLT5ydW5saXN0X3NpemUgLyBzaXplb2YodWludDMyX3QpOwogCW11dGV4X2xv
Y2soJnBtLT5sb2NrKTsKIApAQCAtMzIxLDcgKzMxMyw3IEBAIGludCBwbV9zZW5kX3J1bmxpc3Qo
c3RydWN0IHBhY2tldF9tYW5hZ2VyICpwbSwgc3RydWN0IGxpc3RfaGVhZCAqZHFtX3F1ZXVlcykK
IAlpZiAocmV0dmFsKQogCQlnb3RvIGZhaWxfYWNxdWlyZV9wYWNrZXRfYnVmZmVyOwogCi0JcmV0
dmFsID0gcG0tPnBtZi0+cnVubGlzdChwbSwgcmxfYnVmZmVyLCBybF9ncHVfaWJfYWRkciwKKwly
ZXR2YWwgPSBwbS0+cG1mLT5ydW5saXN0KHBtLCBybF9idWZmZXIsIHJsX2liX2dwdV9hZGRyLAog
CQkJCQlybF9pYl9zaXplIC8gc2l6ZW9mKHVpbnQzMl90KSwgZmFsc2UpOwogCWlmIChyZXR2YWwp
CiAJCWdvdG8gZmFpbF9jcmVhdGVfcnVubGlzdDsKQEAgLTMzNiw4ICszMjgsNiBAQCBpbnQgcG1f
c2VuZF9ydW5saXN0KHN0cnVjdCBwYWNrZXRfbWFuYWdlciAqcG0sIHN0cnVjdCBsaXN0X2hlYWQg
KmRxbV9xdWV1ZXMpCiAJa3Ffcm9sbGJhY2tfcGFja2V0KHBtLT5wcml2X3F1ZXVlKTsKIGZhaWxf
YWNxdWlyZV9wYWNrZXRfYnVmZmVyOgogCW11dGV4X3VubG9jaygmcG0tPmxvY2spOwotZmFpbF9j
cmVhdGVfcnVubGlzdF9pYjoKLQlwbV9kZXN0cm95X3J1bmxpc3RfaWIocG0pOwogCXJldHVybiBy
ZXR2YWw7CiB9CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9w
cml2LmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfcHJpdi5oCmluZGV4IDM4OWNk
YTdjOGYxYS4uNmFjY2I2MDViOWYwIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGtmZC9rZmRfcHJpdi5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9wcml2
LmgKQEAgLTk4MCw3ICs5ODAsOCBAQCBpbnQgcG1faW5pdChzdHJ1Y3QgcGFja2V0X21hbmFnZXIg
KnBtLCBzdHJ1Y3QgZGV2aWNlX3F1ZXVlX21hbmFnZXIgKmRxbSk7CiB2b2lkIHBtX3VuaW5pdChz
dHJ1Y3QgcGFja2V0X21hbmFnZXIgKnBtKTsKIGludCBwbV9zZW5kX3NldF9yZXNvdXJjZXMoc3Ry
dWN0IHBhY2tldF9tYW5hZ2VyICpwbSwKIAkJCQlzdHJ1Y3Qgc2NoZWR1bGluZ19yZXNvdXJjZXMg
KnJlcyk7Ci1pbnQgcG1fc2VuZF9ydW5saXN0KHN0cnVjdCBwYWNrZXRfbWFuYWdlciAqcG0sIHN0
cnVjdCBsaXN0X2hlYWQgKmRxbV9xdWV1ZXMpOworaW50IHBtX3NlbmRfcnVubGlzdChzdHJ1Y3Qg
cGFja2V0X21hbmFnZXIgKnBtLCBzdHJ1Y3QgbGlzdF9oZWFkICpkcW1fcXVldWVzLAorCQl1aW50
NjRfdCBybF9pYl9ncHVfYWRkciwgc2l6ZV90IHJsX2liX3NpemUpOwogaW50IHBtX3NlbmRfcXVl
cnlfc3RhdHVzKHN0cnVjdCBwYWNrZXRfbWFuYWdlciAqcG0sIHVpbnQ2NF90IGZlbmNlX2FkZHJl
c3MsCiAJCQkJdWludDMyX3QgZmVuY2VfdmFsdWUpOwogCkBAIC05ODksNiArOTkwLDEwIEBAIGlu
dCBwbV9zZW5kX3VubWFwX3F1ZXVlKHN0cnVjdCBwYWNrZXRfbWFuYWdlciAqcG0sIGVudW0ga2Zk
X3F1ZXVlX3R5cGUgdHlwZSwKIAkJCXVpbnQzMl90IGZpbHRlcl9wYXJhbSwgYm9vbCByZXNldCwK
IAkJCXVuc2lnbmVkIGludCBzZG1hX2VuZ2luZSk7CiAKK2ludCBwbV9jcmVhdGVfcnVubGlzdF9p
YihzdHJ1Y3QgcGFja2V0X21hbmFnZXIgKnBtLAorCQkJCXN0cnVjdCBsaXN0X2hlYWQgKnF1ZXVl
cywKKwkJCQl1aW50NjRfdCAqcmxfZ3B1X2FkZHIsCisJCQkJc2l6ZV90ICpybF9zaXplX2J5dGVz
KTsKIHZvaWQgcG1fZGVzdHJveV9ydW5saXN0X2liKHN0cnVjdCBwYWNrZXRfbWFuYWdlciAqcG0p
OwogCiAvKiBGb2xsb3dpbmcgUE0gZnVuY3MgY2FuIGJlIHNoYXJlZCBhbW9uZyBWSSBhbmQgQUkg
Ki8KLS0gCjIuMTcuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KYW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcK
aHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4
