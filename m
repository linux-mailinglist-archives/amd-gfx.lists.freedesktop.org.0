Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id C948149057
	for <lists+amd-gfx@lfdr.de>; Mon, 17 Jun 2019 21:50:14 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 67C956E049;
	Mon, 17 Jun 2019 19:50:12 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-qt1-x843.google.com (mail-qt1-x843.google.com
 [IPv6:2607:f8b0:4864:20::843])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A9F186E047
 for <amd-gfx@lists.freedesktop.org>; Mon, 17 Jun 2019 19:50:09 +0000 (UTC)
Received: by mail-qt1-x843.google.com with SMTP id i34so7023018qta.6
 for <amd-gfx@lists.freedesktop.org>; Mon, 17 Jun 2019 12:50:09 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=06bIfL0LXqCHn+PXXZPnwe4MdcDWIk1rf5ZfbFahbDo=;
 b=sOKjmkm1xVUbOX2G4RuS2MKMWRlvxm2xqV13fDi3eQ3GbEyXgybef+wHKDv4ghqEe0
 MwDN0c027asCWWlIl0fO3yQX8HtKn9XOMKUvAcP4AfuEebT5JU2ceytiFLNiLX0q7eVp
 8mGEOV3txCiiYE8gEf0ISX3Nj9ms+PGfZg70tJpy7YLzi7fTRzQLhaHvmxQjx3PnY3nG
 ZdqXfkMloeT/Hwju3G4eLvRbN6gAvRcwIHrCETxGeEijBfylw8W8zwzjUqlZALakFcfH
 oGC7/EFP9RAJZ1LIIo3pgtWCkER2glwubdnA4PT3fIcuW6msdbx4eGg29hwP2g8+gE79
 ZH0A==
X-Gm-Message-State: APjAAAVjxme17JZt30BwyxcrFJDnkqdudhIXrKTjcoQJ0VUOJnTHDSdX
 IeGR7PaQK90Q5kIPwEDKcdMW3etkeEWBPg==
X-Google-Smtp-Source: APXvYqzZBf2REHDH3IKQYgef8TatC6uYq5cz0ORyD728zW5+N96aEl+ADRkM7fnxrfwyZbj5cNpvkw==
X-Received: by 2002:ac8:29a4:: with SMTP id 33mr93132436qts.1.1560801007750;
 Mon, 17 Jun 2019 12:50:07 -0700 (PDT)
Received: from localhost.localdomain ([71.219.5.136])
 by smtp.gmail.com with ESMTPSA id a51sm7520252qta.85.2019.06.17.12.50.06
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Mon, 17 Jun 2019 12:50:07 -0700 (PDT)
From: Alex Deucher <alexdeucher@gmail.com>
X-Google-Original-From: Alex Deucher <alexander.deucher@amd.com>
To: amd-gfx@lists.freedesktop.org
Subject: [PATCH 412/459] drm/amd/display: Add support for extended DSC DPCD
 caps
Date: Mon, 17 Jun 2019 14:49:01 -0500
Message-Id: <20190617194948.18667-13-alexander.deucher@amd.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190617194948.18667-1-alexander.deucher@amd.com>
References: <20190617194948.18667-1-alexander.deucher@amd.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=06bIfL0LXqCHn+PXXZPnwe4MdcDWIk1rf5ZfbFahbDo=;
 b=k90ZW3BE2hx/J1ODmxscT3dHmFrOJgQ4Cqi6begK6vmNTTpK6LyVkOC68JShKPVzPY
 XuQ4PNaI4ieo/5Qo8DxAg+XYk2MeX35WKCD4ofLcQvjB7D903eF/RlQ17DJ6BvdeV09/
 B//4boI+ZtjZVQgISTwKRX6KaqXHdi7rHM5fOjHoyitRBT+GFZt1sxKhfPg0Ch9pMN1s
 PriLW1DnhJCNCmG2zsBNN8c8upfew45hiFkQPOLoeBD7rm5iC4Sf2ns9nnxHltGHLtCS
 RD0tA0DyH1POiowUrWqizIMR/ydIu9qQ2L+CW+/YK1znSR2O0h36Mqu39WmXPhlghHeh
 9LRg==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Alex Deucher <alexander.deucher@amd.com>,
 Bhawanpreet Lakha <BhawanpreetLakha@amd.com>,
 Wenjing Liu <Wenjing.Liu@amd.com>, Nikola Cornij <nikola.cornij@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogTmlrb2xhIENvcm5paiA8bmlrb2xhLmNvcm5pakBhbWQuY29tPgoKW3doeV0KQSBmZXcg
b2YgdGhlIG5ldyBEU0MgRFBDRCBjYXBzIHdlcmUgaW50cm9kdWNlZCBieSBhIERQIDEuNGEgU0NS
IGluIG9yZGVyCnRvIGdpdmUgRFNDIGJyYW5jaCBkZWNvZGVycyBhIGNoYW5jZSB0byBleHBvc2Ug
dGhlaXIgbWF4aW11bSB0aHJvdWdocHV0CmFuZCBtYXhpbXVtIGxpbmUgd2lkdGggbGltaXRhdGlv
bnMuCgpTaWduZWQtb2ZmLWJ5OiBOaWtvbGEgQ29ybmlqIDxuaWtvbGEuY29ybmlqQGFtZC5jb20+
ClJldmlld2VkLWJ5OiBXZW5qaW5nIExpdSA8V2VuamluZy5MaXVAYW1kLmNvbT4KQWNrZWQtYnk6
IEJoYXdhbnByZWV0IExha2hhIDxCaGF3YW5wcmVldCBMYWtoYUBhbWQuY29tPgpTaWduZWQtb2Zm
LWJ5OiBBbGV4IERldWNoZXIgPGFsZXhhbmRlci5kZXVjaGVyQGFtZC5jb20+Ci0tLQogLi4uL2dw
dS9kcm0vYW1kL2Rpc3BsYXkvZGMvY29yZS9kY19saW5rX2RwLmMgIHwgIDUwICsrKy0tLQogZHJp
dmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjX2RzYy5oICAgICAgIHwgICAzICstCiBkcml2
ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNfdHlwZXMuaCAgICAgfCAgIDUgKwogZHJpdmVy
cy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RzYy9kY19kc2MuYyAgIHwgMTE4ICsrKysrKysrLS0t
LQogLi4uL2RybS9hbWQvZGlzcGxheS9pbmNsdWRlL2RwY2Rfc3RydWN0cy5oICAgIHwgMTY4ICsr
KysrKysrKysrKysrKysrKwogaW5jbHVkZS9kcm0vZHJtX2RwX2hlbHBlci5oICAgICAgICAgICAg
ICAgICAgIHwgICA1ICsKIDYgZmlsZXMgY2hhbmdlZCwgMjg5IGluc2VydGlvbnMoKyksIDYwIGRl
bGV0aW9ucygtKQogY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxh
eS9pbmNsdWRlL2RwY2Rfc3RydWN0cy5oCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9kaXNwbGF5L2RjL2NvcmUvZGNfbGlua19kcC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNw
bGF5L2RjL2NvcmUvZGNfbGlua19kcC5jCmluZGV4IGVmZmMzNjc0NTY3MS4uMDE3Zjg4YzlmMmU0
IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvY29yZS9kY19saW5r
X2RwLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2NvcmUvZGNfbGlua19k
cC5jCkBAIC0yMzgzLDggKzIzODMsOCBAQCBzdGF0aWMgYm9vbCByZXRyaWV2ZV9saW5rX2NhcChz
dHJ1Y3QgZGNfbGluayAqbGluaykKIAlpbnQgaTsKIAlzdHJ1Y3QgZHBfc2lua19od19md19yZXZp
c2lvbiBkcF9od19md19yZXZpc2lvbjsKICNpZmRlZiBDT05GSUdfRFJNX0FNRF9EQ19EU0NfU1VQ
UE9SVAotCXVpbnQ4X3QgZHNjX2RhdGFbMTZdOwotCXN0cnVjdCBkc2NfZGVjX2RwY2RfY2FwcyAq
ZHNjX2NhcHM7CisJdWludDhfdCBkc2NfZGF0YVsxNl07IC8qIERQX0RTQ19CSVRTX1BFUl9QSVhF
TF9JTkMgLSBEUF9EU0NfU1VQUE9SVCArIDEgPT0gMTYgKi8KKwlzdHJ1Y3QgZHNjX2RlY19kcGNk
X2NhcHMgKmRzY19kZWNfY2FwczsKICNlbmRpZgogCiAJbWVtc2V0KGRwY2RfZGF0YSwgJ1wwJywg
c2l6ZW9mKGRwY2RfZGF0YSkpOwpAQCAtMjU1OCw4ICsyNTU4LDggQEAgc3RhdGljIGJvb2wgcmV0
cmlldmVfbGlua19jYXAoc3RydWN0IGRjX2xpbmsgKmxpbmspCiAJCXNpemVvZihkcF9od19md19y
ZXZpc2lvbi5pZWVlX2Z3X3JldikpOwogCiAjaWZkZWYgQ09ORklHX0RSTV9BTURfRENfRFNDX1NV
UFBPUlQKLQlkc2NfY2FwcyA9ICZsaW5rLT5kcGNkX2NhcHMuZHNjX3NpbmtfY2FwczsKLQltZW1z
ZXQoZHNjX2NhcHMsICdcMCcsIHNpemVvZigqZHNjX2NhcHMpKTsKKwlkc2NfZGVjX2NhcHMgPSAm
bGluay0+ZHBjZF9jYXBzLmRzY19zaW5rX2NhcHM7CisJbWVtc2V0KGRzY19kZWNfY2FwcywgJ1ww
Jywgc2l6ZW9mKCpkc2NfZGVjX2NhcHMpKTsKIAltZW1zZXQoJmxpbmstPmRwY2RfY2Fwcy5kc2Nf
c2lua19jYXBzLCAnXDAnLAogCQkJc2l6ZW9mKGxpbmstPmRwY2RfY2Fwcy5kc2Nfc2lua19jYXBz
KSk7CiAJbWVtc2V0KCZsaW5rLT5kcGNkX2NhcHMuZmVjX2NhcCwgJ1wwJywgc2l6ZW9mKGxpbmst
PmRwY2RfY2Fwcy5mZWNfY2FwKSk7CkBAIC0yNTcxLDcgKzI1NzEsNyBAQCBzdGF0aWMgYm9vbCBy
ZXRyaWV2ZV9saW5rX2NhcChzdHJ1Y3QgZGNfbGluayAqbGluaykKIAkJCQlkc2NfZGF0YSwKIAkJ
CQlzaXplb2YoZHNjX2RhdGEpKTsKIAkJaWYgKHN0YXR1cyA9PSBEQ19PSykgewotCQkJRENfTE9H
X0RTQygiRFNDIGNhcGFiaWxpdHkgcmVhZCBhdCBsaW5rICVkOiIsCisJCQlEQ19MT0dfRFNDKCJE
U0MgRFBDRCBjYXBhYmlsaXR5IHJlYWQgYXQgbGluayAlZDoiLAogCQkJCQlsaW5rLT5saW5rX2lu
ZGV4KTsKIAkJCURDX0xPR19EU0MoIlx0JTAyeCAlMDJ4ICUwMnggJTAyeCIsCiAJCQkJCWRzY19k
YXRhWzBdLCBkc2NfZGF0YVsxXSwKQEAgLTI1OTAsMzcgKzI1OTAsNDMgQEAgc3RhdGljIGJvb2wg
cmV0cmlldmVfbGlua19jYXAoc3RydWN0IGRjX2xpbmsgKmxpbmspCiAJCQlyZXR1cm4gZmFsc2U7
CiAJCX0KIAotCQlpZiAoZGNfZHNjX3BhcnNlX2RzY19kcGNkKGRzY19kYXRhLAotCQkJCWRzY19j
YXBzKSkgewotCQkJRENfTE9HX0RTQygiRFNDIGNhcGFiaWxpdHkgcGFyc2VkIGF0IGxpbmsgJWQ6
IiwKKwkJaWYgKGRjX2RzY19wYXJzZV9kc2NfZHBjZChkc2NfZGF0YSwgTlVMTCwKKwkJCQlkc2Nf
ZGVjX2NhcHMpKSB7CisJCQlEQ19MT0dfRFNDKCJEU0MgRFBDRCBjYXBhYmlsaXRpZXMgcGFyc2Vk
IGF0IGxpbmsgJWQ6IiwKIAkJCQkJbGluay0+bGlua19pbmRleCk7CiAJCQlEQ19MT0dfRFNDKCJc
dGlzX2RzY19zdXBwb3J0ZWQ6XHQlZCIsCi0JCQkJCWRzY19jYXBzLT5pc19kc2Nfc3VwcG9ydGVk
KTsKLQkJCURDX0xPR19EU0MoIlx0ZHNjX3ZlcnNpb246XHQlZCIsIGRzY19jYXBzLT5kc2NfdmVy
c2lvbik7CisJCQkJCWRzY19kZWNfY2Fwcy0+aXNfZHNjX3N1cHBvcnRlZCk7CisJCQlEQ19MT0df
RFNDKCJcdGRzY192ZXJzaW9uOlx0JWQiLCBkc2NfZGVjX2NhcHMtPmRzY192ZXJzaW9uKTsKIAkJ
CURDX0xPR19EU0MoIlx0cmNfYnVmZmVyX3NpemU6XHQlZCIsCi0JCQkJCWRzY19jYXBzLT5yY19i
dWZmZXJfc2l6ZSk7CisJCQkJCWRzY19kZWNfY2Fwcy0+cmNfYnVmZmVyX3NpemUpOwogCQkJRENf
TE9HX0RTQygiXHRzbGljZV9jYXBzMTpcdDB4JXgyMCIsCi0JCQkJCWRzY19jYXBzLT5zbGljZV9j
YXBzMS5yYXcpOworCQkJCQlkc2NfZGVjX2NhcHMtPnNsaWNlX2NhcHMxLnJhdyk7CiAJCQlEQ19M
T0dfRFNDKCJcdHNsaWNlX2NhcHMyOlx0MHgleDIwIiwKLQkJCQkJZHNjX2NhcHMtPnNsaWNlX2Nh
cHMyLnJhdyk7CisJCQkJCWRzY19kZWNfY2Fwcy0+c2xpY2VfY2FwczIucmF3KTsKIAkJCURDX0xP
R19EU0MoIlx0bGJfYml0X2RlcHRoOlx0JWQiLAotCQkJCQlkc2NfY2Fwcy0+bGJfYml0X2RlcHRo
KTsKKwkJCQkJZHNjX2RlY19jYXBzLT5sYl9iaXRfZGVwdGgpOwogCQkJRENfTE9HX0RTQygiXHRp
c19ibG9ja19wcmVkX3N1cHBvcnRlZDpcdCVkIiwKLQkJCQkJZHNjX2NhcHMtPmlzX2Jsb2NrX3By
ZWRfc3VwcG9ydGVkKTsKKwkJCQkJZHNjX2RlY19jYXBzLT5pc19ibG9ja19wcmVkX3N1cHBvcnRl
ZCk7CiAJCQlEQ19MT0dfRFNDKCJcdGVkcF9tYXhfYml0c19wZXJfcGl4ZWw6XHQlZCIsCi0JCQkJ
CWRzY19jYXBzLT5lZHBfbWF4X2JpdHNfcGVyX3BpeGVsKTsKKwkJCQkJZHNjX2RlY19jYXBzLT5l
ZHBfbWF4X2JpdHNfcGVyX3BpeGVsKTsKIAkJCURDX0xPR19EU0MoIlx0Y29sb3JfZm9ybWF0czpc
dCVkIiwKLQkJCQkJZHNjX2NhcHMtPmNvbG9yX2Zvcm1hdHMucmF3KTsKKwkJCQkJZHNjX2RlY19j
YXBzLT5jb2xvcl9mb3JtYXRzLnJhdyk7CiAJCQlEQ19MT0dfRFNDKCJcdGNvbG9yX2RlcHRoOlx0
JWQiLAotCQkJCQlkc2NfY2Fwcy0+Y29sb3JfZGVwdGgucmF3KTsKKwkJCQkJZHNjX2RlY19jYXBz
LT5jb2xvcl9kZXB0aC5yYXcpOwogCQkJRENfTE9HX0RTQygiXHR0aHJvdWdocHV0X21vZGVfMF9t
cHM6XHQlZCIsCi0JCQkJCWRzY19jYXBzLT50aHJvdWdocHV0X21vZGVfMF9tcHMpOworCQkJCQlk
c2NfZGVjX2NhcHMtPnRocm91Z2hwdXRfbW9kZV8wX21wcyk7CiAJCQlEQ19MT0dfRFNDKCJcdHRo
cm91Z2hwdXRfbW9kZV8xX21wczpcdCVkIiwKLQkJCQkJZHNjX2NhcHMtPnRocm91Z2hwdXRfbW9k
ZV8xX21wcyk7CisJCQkJCWRzY19kZWNfY2Fwcy0+dGhyb3VnaHB1dF9tb2RlXzFfbXBzKTsKIAkJ
CURDX0xPR19EU0MoIlx0bWF4X3NsaWNlX3dpZHRoOlx0JWQiLAotCQkJCQlkc2NfY2Fwcy0+bWF4
X3NsaWNlX3dpZHRoKTsKKwkJCQkJZHNjX2RlY19jYXBzLT5tYXhfc2xpY2Vfd2lkdGgpOwogCQkJ
RENfTE9HX0RTQygiXHRicHBfaW5jcmVtZW50X2RpdjpcdCVkIiwKLQkJCQkJZHNjX2NhcHMtPmJw
cF9pbmNyZW1lbnRfZGl2KTsKKwkJCQkJZHNjX2RlY19jYXBzLT5icHBfaW5jcmVtZW50X2Rpdik7
CisJCQlEQ19MT0dfRFNDKCJcdGJyYW5jaF9vdmVyYWxsX3Rocm91Z2hwdXRfMF9tcHM6XHQlZCIs
CisJCQkJCWRzY19kZWNfY2Fwcy0+YnJhbmNoX292ZXJhbGxfdGhyb3VnaHB1dF8wX21wcyk7CisJ
CQlEQ19MT0dfRFNDKCJcdGJyYW5jaF9vdmVyYWxsX3Rocm91Z2hwdXRfMV9tcHM6XHQlZCIsCisJ
CQkJCWRzY19kZWNfY2Fwcy0+YnJhbmNoX292ZXJhbGxfdGhyb3VnaHB1dF8xX21wcyk7CisJCQlE
Q19MT0dfRFNDKCJcdGJyYW5jaF9tYXhfbGluZV93aWR0aDpcdCVkIiwKKwkJCQkJZHNjX2RlY19j
YXBzLT5icmFuY2hfbWF4X2xpbmVfd2lkdGgpOwogCQl9IGVsc2UgewogCQkJLyogU29tZSBzaW5r
cyByZXR1cm4gYm9ndXMgRFNDIERQQ0QgZGF0YQogCQkJICogd2hlbiB0aGV5IGRvbid0IHN1cHBv
cnQgRFNDLgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjX2Rz
Yy5oIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjX2RzYy5oCmluZGV4IGJlMGY3
YjA5MDg2YS4uNmRlM2JjOTE2MmVhIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rp
c3BsYXkvZGMvZGNfZHNjLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2Rj
X2RzYy5oCkBAIC0zNCw3ICszNCw4IEBAIHN0cnVjdCBkY19kc2NfYndfcmFuZ2UgewogfTsKIAog
Ci1ib29sIGRjX2RzY19wYXJzZV9kc2NfZHBjZChjb25zdCB1aW50OF90ICpkcGNkX2RzY19kYXRh
LAorYm9vbCBkY19kc2NfcGFyc2VfZHNjX2RwY2QoY29uc3QgdWludDhfdCAqZHBjZF9kc2NfYmFz
aWNfZGF0YSwKKwkJY29uc3QgdWludDhfdCAqZHBjZF9kc2NfZXh0X2RhdGEsCiAJCXN0cnVjdCBk
c2NfZGVjX2RwY2RfY2FwcyAqZHNjX3NpbmtfY2Fwcyk7CiAKIGJvb2wgZGNfZHNjX2NvbXB1dGVf
YmFuZHdpZHRoX3JhbmdlKApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5
L2RjL2RjX3R5cGVzLmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNfdHlwZXMu
aAppbmRleCBiN2UyYzZmNzY3YWEuLjU5ODRiZTNjZGYwYyAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjX3R5cGVzLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9kaXNwbGF5L2RjL2RjX3R5cGVzLmgKQEAgLTc3Myw2ICs3NzMsMTEgQEAgc3RydWN0IGRzY19k
ZWNfZHBjZF9jYXBzIHsKIAlpbnQzMl90IHRocm91Z2hwdXRfbW9kZV8xX21wczsgLyogSW4gTVBz
ICovCiAJaW50MzJfdCBtYXhfc2xpY2Vfd2lkdGg7CiAJdWludDMyX3QgYnBwX2luY3JlbWVudF9k
aXY7IC8qIGJwcCBpbmNyZW1lbnQgZGl2aXNvciwgZS5nLiBpZiAxNiwgaXQncyAxLzE2dGggb2Yg
YSBiaXQgKi8KKworCS8qIEV4dGVuZGVkIERTQyBjYXBzICovCisJdWludDMyX3QgYnJhbmNoX292
ZXJhbGxfdGhyb3VnaHB1dF8wX21wczsgLyogSW4gTVBzICovCisJdWludDMyX3QgYnJhbmNoX292
ZXJhbGxfdGhyb3VnaHB1dF8xX21wczsgLyogSW4gTVBzICovCisJdWludDMyX3QgYnJhbmNoX21h
eF9saW5lX3dpZHRoOwogfTsKICNlbmRpZgogI2VuZGlmIC8qIERDX1RZUEVTX0hfICovCmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZHNjL2RjX2RzYy5jIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RzYy9kY19kc2MuYwppbmRleCBmMDlmMjM3MDdh
OTQuLjk0YTYyM2RjMzdmNCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5
L2RjL2RzYy9kY19kc2MuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZHNj
L2RjX2RzYy5jCkBAIC0yNTIsNyArMjUyLDcgQEAgc3RydWN0IGRjX2RzY19wb2xpY3kgewogCWlu
dCBtaW5fdGFyZ2V0X2JwcDsgLy8gTWluaW11bSB0YXJnZXQgYml0cyBwZXIgcGl4ZWwKIH07CiAK
LXN0YXRpYyBpbmxpbmUgdWludDMyX3QgZHNjX3JvdW5kX3VwKHVpbnQzMl90IHZhbHVlKQorc3Rh
dGljIGlubGluZSB1aW50MzJfdCBkc2NfZGl2X2J5XzEwX3JvdW5kX3VwKHVpbnQzMl90IHZhbHVl
KQogewogCXJldHVybiAodmFsdWUgKyA5KSAvIDEwOwogfQpAQCAtMzA0LDcgKzMwNCw3IEBAIHN0
YXRpYyB2b2lkIGdldF9kc2NfYmFuZHdpZHRoX3JhbmdlKAogCXJhbmdlLT5zdHJlYW1fa2JwcyA9
IGRjX2JhbmR3aWR0aF9pbl9rYnBzX2Zyb21fdGltaW5nKHRpbWluZyk7CiAKIAkvKiBtYXggZHNj
IHRhcmdldCBicHAgKi8KLQlyYW5nZS0+bWF4X2ticHMgPSBkc2Nfcm91bmRfdXAobWF4X2JwcCAq
IHRpbWluZy0+cGl4X2Nsa18xMDBoeik7CisJcmFuZ2UtPm1heF9rYnBzID0gZHNjX2Rpdl9ieV8x
MF9yb3VuZF91cChtYXhfYnBwICogdGltaW5nLT5waXhfY2xrXzEwMGh6KTsKIAlyYW5nZS0+bWF4
X3RhcmdldF9icHBfeDE2ID0gbWF4X2JwcCAqIDE2OwogCWlmIChyYW5nZS0+bWF4X2ticHMgPiBy
YW5nZS0+c3RyZWFtX2ticHMpIHsKIAkJLyogbWF4IGRzYyB0YXJnZXQgYnBwIGlzIGNhcHBlZCB0
byBuYXRpdmUgYmFuZHdpZHRoICovCkBAIC0zMTMsNyArMzEzLDcgQEAgc3RhdGljIHZvaWQgZ2V0
X2RzY19iYW5kd2lkdGhfcmFuZ2UoCiAJfQogCiAJLyogbWluIGRzYyB0YXJnZXQgYnBwICovCi0J
cmFuZ2UtPm1pbl9rYnBzID0gZHNjX3JvdW5kX3VwKG1pbl9icHAgKiB0aW1pbmctPnBpeF9jbGtf
MTAwaHopOworCXJhbmdlLT5taW5fa2JwcyA9IGRzY19kaXZfYnlfMTBfcm91bmRfdXAobWluX2Jw
cCAqIHRpbWluZy0+cGl4X2Nsa18xMDBoeik7CiAJcmFuZ2UtPm1pbl90YXJnZXRfYnBwX3gxNiA9
IG1pbl9icHAgKiAxNjsKIAlpZiAocmFuZ2UtPm1pbl9rYnBzID4gcmFuZ2UtPm1heF9rYnBzKSB7
CiAJCS8qIG1pbiBkc2MgdGFyZ2V0IGJwcCBpcyBjYXBwZWQgdG8gbWF4IGRzYyBiYW5kd2lkdGgq
LwpAQCAtNTMyLDE2ICs1MzIsMjMgQEAgc3RhdGljIGJvb2wgc2V0dXBfZHNjX2NvbmZpZygKIAlp
bnQgcGljX3dpZHRoOwogCWludCBzbGljZV93aWR0aDsKIAlpbnQgdGFyZ2V0X2JwcDsKLQlpbnQg
c2lua19wZXJfc2xpY2VfdGhyb3VnaHB1dDsKKwlpbnQgc2lua19wZXJfc2xpY2VfdGhyb3VnaHB1
dF9tcHM7CisJaW50IGJyYW5jaF9tYXhfdGhyb3VnaHB1dF9tcHMgPSAwOwogCWJvb2wgaXNfZHNj
X3Bvc3NpYmxlID0gZmFsc2U7CiAJaW50IG51bV9zbGljZXNfdjsKIAlpbnQgcGljX2hlaWdodDsK
IAogCW1lbXNldChkc2NfY2ZnLCAwLCBzaXplb2Yoc3RydWN0IGRjX2RzY19jb25maWcpKTsKIAor
CXBpY193aWR0aCA9IHRpbWluZy0+aF9hZGRyZXNzYWJsZSArIHRpbWluZy0+aF9ib3JkZXJfbGVm
dCArIHRpbWluZy0+aF9ib3JkZXJfcmlnaHQ7CisJcGljX2hlaWdodCA9IHRpbWluZy0+dl9hZGRy
ZXNzYWJsZSArIHRpbWluZy0+dl9ib3JkZXJfdG9wICsgdGltaW5nLT52X2JvcmRlcl9ib3R0b207
CisKIAlpZiAoIWRzY19zaW5rX2NhcHMtPmlzX2RzY19zdXBwb3J0ZWQpCiAJCWdvdG8gZG9uZTsK
IAorCWlmIChkc2Nfc2lua19jYXBzLT5icmFuY2hfbWF4X2xpbmVfd2lkdGggJiYgZHNjX3Npbmtf
Y2Fwcy0+YnJhbmNoX21heF9saW5lX3dpZHRoIDwgcGljX3dpZHRoKQorCQlnb3RvIGRvbmU7CisK
IAkvLyBJbnRlcnNlY3QgZGVjb2RlciB3aXRoIGVuY29kZXIgRFNDIGNhcHMgYW5kIHZhbGlkYXRl
IERTQyBzZXR0aW5ncwogCWlzX2RzY19wb3NzaWJsZSA9IGludGVyc2VjdF9kc2NfY2Fwcyhkc2Nf
c2lua19jYXBzLCBkc2NfZW5jX2NhcHMsIHRpbWluZy0+cGl4ZWxfZW5jb2RpbmcsICZkc2NfY29t
bW9uX2NhcHMpOwogCWlmICghaXNfZHNjX3Bvc3NpYmxlKQpAQCAtNTU0LDM5ICs1NjEsNDYgQEAg
c3RhdGljIGJvb2wgc2V0dXBfZHNjX2NvbmZpZygKIAlpZiAoIWlzX2RzY19wb3NzaWJsZSkKIAkJ
Z290byBkb25lOwogCi0Jc2lua19wZXJfc2xpY2VfdGhyb3VnaHB1dCA9IDA7CisJc2lua19wZXJf
c2xpY2VfdGhyb3VnaHB1dF9tcHMgPSAwOwogCiAJLy8gVmFsaWRhdGUgYXZhaWxhYmxlIERTQyBz
ZXR0aW5ncyBhZ2FpbnN0IHRoZSBtb2RlIHRpbWluZwogCi0JLy8gQ29sb3IgZm9ybWF0CisJLy8g
VmFsaWRhdGUgY29sb3IgZm9ybWF0IChhbmQgcGljayB1cCB0aGUgdGhyb3VnaHB1dCB2YWx1ZXMp
CiAJZHNjX2NmZy0+eWNiY3I0MjJfc2ltcGxlID0gZmFsc2U7CiAJc3dpdGNoICh0aW1pbmctPnBp
eGVsX2VuY29kaW5nKQl7CiAJY2FzZSBQSVhFTF9FTkNPRElOR19SR0I6CiAJCWlzX2RzY19wb3Nz
aWJsZSA9IChib29sKWRzY19jb21tb25fY2Fwcy5jb2xvcl9mb3JtYXRzLmJpdHMuUkdCOwotCQlz
aW5rX3Blcl9zbGljZV90aHJvdWdocHV0ID0gZHNjX3NpbmtfY2Fwcy0+dGhyb3VnaHB1dF9tb2Rl
XzBfbXBzOworCQlzaW5rX3Blcl9zbGljZV90aHJvdWdocHV0X21wcyA9IGRzY19zaW5rX2NhcHMt
PnRocm91Z2hwdXRfbW9kZV8wX21wczsKKwkJYnJhbmNoX21heF90aHJvdWdocHV0X21wcyA9IGRz
Y19zaW5rX2NhcHMtPmJyYW5jaF9vdmVyYWxsX3Rocm91Z2hwdXRfMF9tcHM7CiAJCWJyZWFrOwog
CWNhc2UgUElYRUxfRU5DT0RJTkdfWUNCQ1I0NDQ6CiAJCWlzX2RzY19wb3NzaWJsZSA9IChib29s
KWRzY19jb21tb25fY2Fwcy5jb2xvcl9mb3JtYXRzLmJpdHMuWUNCQ1JfNDQ0OwotCQlzaW5rX3Bl
cl9zbGljZV90aHJvdWdocHV0ID0gZHNjX3NpbmtfY2Fwcy0+dGhyb3VnaHB1dF9tb2RlXzBfbXBz
OwotCQlicmVhazsKLQljYXNlIFBJWEVMX0VOQ09ESU5HX1lDQkNSNDIyOiB7Ci0JCQlpc19kc2Nf
cG9zc2libGUgPSAoYm9vbClkc2NfY29tbW9uX2NhcHMuY29sb3JfZm9ybWF0cy5iaXRzLllDQkNS
X05BVElWRV80MjI7Ci0JCQlzaW5rX3Blcl9zbGljZV90aHJvdWdocHV0ID0gZHNjX3NpbmtfY2Fw
cy0+dGhyb3VnaHB1dF9tb2RlXzFfbXBzOwotCQkJaWYgKCFpc19kc2NfcG9zc2libGUpIHsKLQkJ
CQlpc19kc2NfcG9zc2libGUgPSAoYm9vbClkc2NfY29tbW9uX2NhcHMuY29sb3JfZm9ybWF0cy5i
aXRzLllDQkNSX1NJTVBMRV80MjI7Ci0JCQkJZHNjX2NmZy0+eWNiY3I0MjJfc2ltcGxlID0gaXNf
ZHNjX3Bvc3NpYmxlOwotCQkJCXNpbmtfcGVyX3NsaWNlX3Rocm91Z2hwdXQgPSBkc2Nfc2lua19j
YXBzLT50aHJvdWdocHV0X21vZGVfMF9tcHM7Ci0JCQl9CisJCXNpbmtfcGVyX3NsaWNlX3Rocm91
Z2hwdXRfbXBzID0gZHNjX3NpbmtfY2Fwcy0+dGhyb3VnaHB1dF9tb2RlXzBfbXBzOworCQlicmFu
Y2hfbWF4X3Rocm91Z2hwdXRfbXBzID0gZHNjX3NpbmtfY2Fwcy0+YnJhbmNoX292ZXJhbGxfdGhy
b3VnaHB1dF8wX21wczsKKwkJYnJlYWs7CisJY2FzZSBQSVhFTF9FTkNPRElOR19ZQ0JDUjQyMjoK
KwkJaXNfZHNjX3Bvc3NpYmxlID0gKGJvb2wpZHNjX2NvbW1vbl9jYXBzLmNvbG9yX2Zvcm1hdHMu
Yml0cy5ZQ0JDUl9OQVRJVkVfNDIyOworCQlzaW5rX3Blcl9zbGljZV90aHJvdWdocHV0X21wcyA9
IGRzY19zaW5rX2NhcHMtPnRocm91Z2hwdXRfbW9kZV8xX21wczsKKwkJYnJhbmNoX21heF90aHJv
dWdocHV0X21wcyA9IGRzY19zaW5rX2NhcHMtPmJyYW5jaF9vdmVyYWxsX3Rocm91Z2hwdXRfMV9t
cHM7CisJCWlmICghaXNfZHNjX3Bvc3NpYmxlKSB7CisJCQlpc19kc2NfcG9zc2libGUgPSAoYm9v
bClkc2NfY29tbW9uX2NhcHMuY29sb3JfZm9ybWF0cy5iaXRzLllDQkNSX1NJTVBMRV80MjI7CisJ
CQlkc2NfY2ZnLT55Y2JjcjQyMl9zaW1wbGUgPSBpc19kc2NfcG9zc2libGU7CisJCQlzaW5rX3Bl
cl9zbGljZV90aHJvdWdocHV0X21wcyA9IGRzY19zaW5rX2NhcHMtPnRocm91Z2hwdXRfbW9kZV8w
X21wczsKIAkJfQogCQlicmVhazsKIAljYXNlIFBJWEVMX0VOQ09ESU5HX1lDQkNSNDIwOgogCQlp
c19kc2NfcG9zc2libGUgPSAoYm9vbClkc2NfY29tbW9uX2NhcHMuY29sb3JfZm9ybWF0cy5iaXRz
LllDQkNSX05BVElWRV80MjA7Ci0JCXNpbmtfcGVyX3NsaWNlX3Rocm91Z2hwdXQgPSBkc2Nfc2lu
a19jYXBzLT50aHJvdWdocHV0X21vZGVfMV9tcHM7CisJCXNpbmtfcGVyX3NsaWNlX3Rocm91Z2hw
dXRfbXBzID0gZHNjX3NpbmtfY2Fwcy0+dGhyb3VnaHB1dF9tb2RlXzFfbXBzOworCQlicmFuY2hf
bWF4X3Rocm91Z2hwdXRfbXBzID0gZHNjX3NpbmtfY2Fwcy0+YnJhbmNoX292ZXJhbGxfdGhyb3Vn
aHB1dF8xX21wczsKIAkJYnJlYWs7CiAJZGVmYXVsdDoKIAkJaXNfZHNjX3Bvc3NpYmxlID0gZmFs
c2U7CiAJfQogCisJLy8gVmFsaWRhdGUgYnJhbmNoJ3MgbWF4aW11bSB0aHJvdWdocHV0CisJaWYg
KGJyYW5jaF9tYXhfdGhyb3VnaHB1dF9tcHMgJiYgZHNjX2Rpdl9ieV8xMF9yb3VuZF91cCh0aW1p
bmctPnBpeF9jbGtfMTAwaHopID4gYnJhbmNoX21heF90aHJvdWdocHV0X21wcyAqIDEwMDApCisJ
CWlzX2RzY19wb3NzaWJsZSA9IGZhbHNlOworCiAJaWYgKCFpc19kc2NfcG9zc2libGUpCiAJCWdv
dG8gZG9uZTsKIApAQCAtNjExLDcgKzYyNSw2IEBAIHN0YXRpYyBib29sIHNldHVwX2RzY19jb25m
aWcoCiAJLy8gRFNDIHNsaWNpbmcKIAltYXhfc2xpY2VzX2ggPSBnZXRfbWF4X2RzY19zbGljZXMo
ZHNjX2NvbW1vbl9jYXBzLnNsaWNlX2NhcHMpOwogCi0JcGljX3dpZHRoID0gdGltaW5nLT5oX2Fk
ZHJlc3NhYmxlICsgdGltaW5nLT5oX2JvcmRlcl9sZWZ0ICsgdGltaW5nLT5oX2JvcmRlcl9yaWdo
dDsKIAl3aGlsZSAobWF4X3NsaWNlc19oID4gMCkgewogCQlpZiAocGljX3dpZHRoICUgbWF4X3Ns
aWNlc19oID09IDApCiAJCQlicmVhazsKQEAgLTYzMCw3ICs2NDMsOCBAQCBzdGF0aWMgYm9vbCBz
ZXR1cF9kc2NfY29uZmlnKAogCW1pbl9zbGljZXNfaCA9IGZpdF9udW1fc2xpY2VzX3VwKGRzY19j
b21tb25fY2Fwcy5zbGljZV9jYXBzLCBtaW5fc2xpY2VzX2gpOwogCiAJd2hpbGUgKG1pbl9zbGlj
ZXNfaCA8PSBtYXhfc2xpY2VzX2gpIHsKLQkJaWYgKGRzY19yb3VuZF91cCh0aW1pbmctPnBpeF9j
bGtfMTAwaHopIC8gKG1pbl9zbGljZXNfaCkgPD0gc2lua19wZXJfc2xpY2VfdGhyb3VnaHB1dCAq
IDEwMDApCisJCWludCBwaXhfY2xrX3Blcl9zbGljZV9raHogPSBkc2NfZGl2X2J5XzEwX3JvdW5k
X3VwKHRpbWluZy0+cGl4X2Nsa18xMDBoeikgLyBtaW5fc2xpY2VzX2g7CisJCWlmIChwaXhfY2xr
X3Blcl9zbGljZV9raHogPD0gc2lua19wZXJfc2xpY2VfdGhyb3VnaHB1dF9tcHMgKiAxMDAwKQog
CQkJYnJlYWs7CiAKIAkJbWluX3NsaWNlc19oID0gaW5jX251bV9zbGljZXMoZHNjX2NvbW1vbl9j
YXBzLnNsaWNlX2NhcHMsIG1pbl9zbGljZXNfaCk7CkBAIC02NzMsNyArNjg3LDYgQEAgc3RhdGlj
IGJvb2wgc2V0dXBfZHNjX2NvbmZpZygKIAogCS8vIFZlcnRpY2FsIG51bWJlciBvZiBzbGljZXM6
IHN0YXJ0IGZyb20gcG9saWN5IGFuZCBwaWNrIHRoZSBmaXJzdCBvbmUgdGhhdCBoZWlnaHQgaXMg
ZGl2aXNpYmxlIGJ5LgogCS8vIEZvciA0OjI6MCBtYWtlIHN1cmUgdGhlIHNsaWNlIGhlaWdodCBp
cyBkaXZpc2libGUgYnkgMiBhcyB3ZWxsLgotCXBpY19oZWlnaHQgPSB0aW1pbmctPnZfYWRkcmVz
c2FibGUgKyB0aW1pbmctPnZfYm9yZGVyX3RvcCArIHRpbWluZy0+dl9ib3JkZXJfYm90dG9tOwog
CW51bV9zbGljZXNfdiA9IGRzY19wb2xpY3kubnVtX3NsaWNlc192OwogCWlmIChudW1fc2xpY2Vz
X3YgPCAxKQogCQludW1fc2xpY2VzX3YgPSAxOwpAQCAtNzEwLDQxICs3MjMsNDEgQEAgc3RhdGlj
IGJvb2wgc2V0dXBfZHNjX2NvbmZpZygKIAlyZXR1cm4gaXNfZHNjX3Bvc3NpYmxlOwogfQogCi1i
b29sIGRjX2RzY19wYXJzZV9kc2NfZHBjZChjb25zdCB1aW50OF90ICpkcGNkX2RzY19kYXRhLCBz
dHJ1Y3QgZHNjX2RlY19kcGNkX2NhcHMgKmRzY19zaW5rX2NhcHMpCitib29sIGRjX2RzY19wYXJz
ZV9kc2NfZHBjZChjb25zdCB1aW50OF90ICpkcGNkX2RzY19iYXNpY19kYXRhLCBjb25zdCB1aW50
OF90ICpkcGNkX2RzY19leHRfZGF0YSwgc3RydWN0IGRzY19kZWNfZHBjZF9jYXBzICpkc2Nfc2lu
a19jYXBzKQogewotCWRzY19zaW5rX2NhcHMtPmlzX2RzY19zdXBwb3J0ZWQgPSAoZHBjZF9kc2Nf
ZGF0YVtEUF9EU0NfU1VQUE9SVCAtIERQX0RTQ19TVVBQT1JUXSAmIERQX0RTQ19ERUNPTVBSRVNT
SU9OX0lTX1NVUFBPUlRFRCkgIT0gMDsKKwlkc2Nfc2lua19jYXBzLT5pc19kc2Nfc3VwcG9ydGVk
ID0gKGRwY2RfZHNjX2Jhc2ljX2RhdGFbRFBfRFNDX1NVUFBPUlQgLSBEUF9EU0NfU1VQUE9SVF0g
JiBEUF9EU0NfREVDT01QUkVTU0lPTl9JU19TVVBQT1JURUQpICE9IDA7CiAJaWYgKCFkc2Nfc2lu
a19jYXBzLT5pc19kc2Nfc3VwcG9ydGVkKQogCQlyZXR1cm4gdHJ1ZTsKIAotCWRzY19zaW5rX2Nh
cHMtPmRzY192ZXJzaW9uID0gZHBjZF9kc2NfZGF0YVtEUF9EU0NfUkVWIC0gRFBfRFNDX1NVUFBP
UlRdOworCWRzY19zaW5rX2NhcHMtPmRzY192ZXJzaW9uID0gZHBjZF9kc2NfYmFzaWNfZGF0YVtE
UF9EU0NfUkVWIC0gRFBfRFNDX1NVUFBPUlRdOwogCiAJewogCQlpbnQgYnVmZl9ibG9ja19zaXpl
OwogCQlpbnQgYnVmZl9zaXplOwogCi0JCWlmICghZHNjX2J1ZmZfYmxvY2tfc2l6ZV9mcm9tX2Rw
Y2QoZHBjZF9kc2NfZGF0YVtEUF9EU0NfUkNfQlVGX0JMS19TSVpFIC0gRFBfRFNDX1NVUFBPUlRd
LCAmYnVmZl9ibG9ja19zaXplKSkKKwkJaWYgKCFkc2NfYnVmZl9ibG9ja19zaXplX2Zyb21fZHBj
ZChkcGNkX2RzY19iYXNpY19kYXRhW0RQX0RTQ19SQ19CVUZfQkxLX1NJWkUgLSBEUF9EU0NfU1VQ
UE9SVF0sICZidWZmX2Jsb2NrX3NpemUpKQogCQkJcmV0dXJuIGZhbHNlOwogCi0JCWJ1ZmZfc2l6
ZSA9IGRwY2RfZHNjX2RhdGFbRFBfRFNDX1JDX0JVRl9TSVpFIC0gRFBfRFNDX1NVUFBPUlRdICsg
MTsKKwkJYnVmZl9zaXplID0gZHBjZF9kc2NfYmFzaWNfZGF0YVtEUF9EU0NfUkNfQlVGX1NJWkUg
LSBEUF9EU0NfU1VQUE9SVF0gKyAxOwogCQlkc2Nfc2lua19jYXBzLT5yY19idWZmZXJfc2l6ZSA9
IGJ1ZmZfc2l6ZSAqIGJ1ZmZfYmxvY2tfc2l6ZTsKIAl9CiAKLQlkc2Nfc2lua19jYXBzLT5zbGlj
ZV9jYXBzMS5yYXcgPSBkcGNkX2RzY19kYXRhW0RQX0RTQ19TTElDRV9DQVBfMSAtIERQX0RTQ19T
VVBQT1JUXTsKLQlpZiAoIWRzY19saW5lX2J1ZmZfZGVwdGhfZnJvbV9kcGNkKGRwY2RfZHNjX2Rh
dGFbRFBfRFNDX0xJTkVfQlVGX0JJVF9ERVBUSCAtIERQX0RTQ19TVVBQT1JUXSwgJmRzY19zaW5r
X2NhcHMtPmxiX2JpdF9kZXB0aCkpCisJZHNjX3NpbmtfY2Fwcy0+c2xpY2VfY2FwczEucmF3ID0g
ZHBjZF9kc2NfYmFzaWNfZGF0YVtEUF9EU0NfU0xJQ0VfQ0FQXzEgLSBEUF9EU0NfU1VQUE9SVF07
CisJaWYgKCFkc2NfbGluZV9idWZmX2RlcHRoX2Zyb21fZHBjZChkcGNkX2RzY19iYXNpY19kYXRh
W0RQX0RTQ19MSU5FX0JVRl9CSVRfREVQVEggLSBEUF9EU0NfU1VQUE9SVF0sICZkc2Nfc2lua19j
YXBzLT5sYl9iaXRfZGVwdGgpKQogCQlyZXR1cm4gZmFsc2U7CiAKIAlkc2Nfc2lua19jYXBzLT5p
c19ibG9ja19wcmVkX3N1cHBvcnRlZCA9Ci0JCShkcGNkX2RzY19kYXRhW0RQX0RTQ19CTEtfUFJF
RElDVElPTl9TVVBQT1JUIC0gRFBfRFNDX1NVUFBPUlRdICYgRFBfRFNDX0JMS19QUkVESUNUSU9O
X0lTX1NVUFBPUlRFRCkgIT0gMDsKKwkJKGRwY2RfZHNjX2Jhc2ljX2RhdGFbRFBfRFNDX0JMS19Q
UkVESUNUSU9OX1NVUFBPUlQgLSBEUF9EU0NfU1VQUE9SVF0gJiBEUF9EU0NfQkxLX1BSRURJQ1RJ
T05fSVNfU1VQUE9SVEVEKSAhPSAwOwogCiAJZHNjX3NpbmtfY2Fwcy0+ZWRwX21heF9iaXRzX3Bl
cl9waXhlbCA9Ci0JCWRwY2RfZHNjX2RhdGFbRFBfRFNDX01BWF9CSVRTX1BFUl9QSVhFTF9MT1cg
LSBEUF9EU0NfU1VQUE9SVF0gfAotCQlkcGNkX2RzY19kYXRhW0RQX0RTQ19NQVhfQklUU19QRVJf
UElYRUxfSEkgLSBEUF9EU0NfU1VQUE9SVF0gPDwgODsKKwkJZHBjZF9kc2NfYmFzaWNfZGF0YVtE
UF9EU0NfTUFYX0JJVFNfUEVSX1BJWEVMX0xPVyAtIERQX0RTQ19TVVBQT1JUXSB8CisJCWRwY2Rf
ZHNjX2Jhc2ljX2RhdGFbRFBfRFNDX01BWF9CSVRTX1BFUl9QSVhFTF9ISSAtIERQX0RTQ19TVVBQ
T1JUXSA8PCA4OwogCi0JZHNjX3NpbmtfY2Fwcy0+Y29sb3JfZm9ybWF0cy5yYXcgPSBkcGNkX2Rz
Y19kYXRhW0RQX0RTQ19ERUNfQ09MT1JfRk9STUFUX0NBUCAtIERQX0RTQ19TVVBQT1JUXTsKLQlk
c2Nfc2lua19jYXBzLT5jb2xvcl9kZXB0aC5yYXcgPSBkcGNkX2RzY19kYXRhW0RQX0RTQ19ERUNf
Q09MT1JfREVQVEhfQ0FQIC0gRFBfRFNDX1NVUFBPUlRdOworCWRzY19zaW5rX2NhcHMtPmNvbG9y
X2Zvcm1hdHMucmF3ID0gZHBjZF9kc2NfYmFzaWNfZGF0YVtEUF9EU0NfREVDX0NPTE9SX0ZPUk1B
VF9DQVAgLSBEUF9EU0NfU1VQUE9SVF07CisJZHNjX3NpbmtfY2Fwcy0+Y29sb3JfZGVwdGgucmF3
ID0gZHBjZF9kc2NfYmFzaWNfZGF0YVtEUF9EU0NfREVDX0NPTE9SX0RFUFRIX0NBUCAtIERQX0RT
Q19TVVBQT1JUXTsKIAogCXsKLQkJaW50IGRwY2RfdGhyb3VnaHB1dCA9IGRwY2RfZHNjX2RhdGFb
RFBfRFNDX1BFQUtfVEhST1VHSFBVVCAtIERQX0RTQ19TVVBQT1JUXTsKKwkJaW50IGRwY2RfdGhy
b3VnaHB1dCA9IGRwY2RfZHNjX2Jhc2ljX2RhdGFbRFBfRFNDX1BFQUtfVEhST1VHSFBVVCAtIERQ
X0RTQ19TVVBQT1JUXTsKIAogCQlpZiAoIWRzY190aHJvdWdocHV0X2Zyb21fZHBjZChkcGNkX3Ro
cm91Z2hwdXQgJiBEUF9EU0NfVEhST1VHSFBVVF9NT0RFXzBfTUFTSywgJmRzY19zaW5rX2NhcHMt
PnRocm91Z2hwdXRfbW9kZV8wX21wcykpCiAJCQlyZXR1cm4gZmFsc2U7CkBAIC03NTQsMTIgKzc2
Nyw0MyBAQCBib29sIGRjX2RzY19wYXJzZV9kc2NfZHBjZChjb25zdCB1aW50OF90ICpkcGNkX2Rz
Y19kYXRhLCBzdHJ1Y3QgZHNjX2RlY19kcGNkX2NhcAogCQkJcmV0dXJuIGZhbHNlOwogCX0KIAot
CWRzY19zaW5rX2NhcHMtPm1heF9zbGljZV93aWR0aCA9IGRwY2RfZHNjX2RhdGFbRFBfRFNDX01B
WF9TTElDRV9XSURUSCAtIERQX0RTQ19TVVBQT1JUXSAqIDMyMDsKLQlkc2Nfc2lua19jYXBzLT5z
bGljZV9jYXBzMi5yYXcgPSBkcGNkX2RzY19kYXRhW0RQX0RTQ19TTElDRV9DQVBfMiAtIERQX0RT
Q19TVVBQT1JUXTsKKwlkc2Nfc2lua19jYXBzLT5tYXhfc2xpY2Vfd2lkdGggPSBkcGNkX2RzY19i
YXNpY19kYXRhW0RQX0RTQ19NQVhfU0xJQ0VfV0lEVEggLSBEUF9EU0NfU1VQUE9SVF0gKiAzMjA7
CisJZHNjX3NpbmtfY2Fwcy0+c2xpY2VfY2FwczIucmF3ID0gZHBjZF9kc2NfYmFzaWNfZGF0YVtE
UF9EU0NfU0xJQ0VfQ0FQXzIgLSBEUF9EU0NfU1VQUE9SVF07CiAKLQlpZiAoIWRzY19icHBfaW5j
cmVtZW50X2Rpdl9mcm9tX2RwY2QoZHBjZF9kc2NfZGF0YVtEUF9EU0NfQklUU19QRVJfUElYRUxf
SU5DIC0gRFBfRFNDX1NVUFBPUlRdLCAmZHNjX3NpbmtfY2Fwcy0+YnBwX2luY3JlbWVudF9kaXYp
KQorCWlmICghZHNjX2JwcF9pbmNyZW1lbnRfZGl2X2Zyb21fZHBjZChkcGNkX2RzY19iYXNpY19k
YXRhW0RQX0RTQ19CSVRTX1BFUl9QSVhFTF9JTkMgLSBEUF9EU0NfU1VQUE9SVF0sICZkc2Nfc2lu
a19jYXBzLT5icHBfaW5jcmVtZW50X2RpdikpCiAJCXJldHVybiBmYWxzZTsKIAorCS8qIEV4dGVu
ZGVkIGNhcHMgKi8KKwlpZiAoZHBjZF9kc2NfZXh0X2RhdGEgPT0gTlVMTCkgeyAvLyBFeHRlbmRl
ZCBEUENEIERTQyBkYXRhIGNhbiBiZSBudWxsLCBlLmcuIGJlY2F1c2UgaXQgZG9lc24ndCBhcHBs
eSB0byBTU1QKKwkJZHNjX3NpbmtfY2Fwcy0+YnJhbmNoX292ZXJhbGxfdGhyb3VnaHB1dF8wX21w
cyA9IDA7CisJCWRzY19zaW5rX2NhcHMtPmJyYW5jaF9vdmVyYWxsX3Rocm91Z2hwdXRfMV9tcHMg
PSAwOworCQlkc2Nfc2lua19jYXBzLT5icmFuY2hfbWF4X2xpbmVfd2lkdGggPSAwOworCQlyZXR1
cm4gdHJ1ZTsKKwl9CisKKwlkc2Nfc2lua19jYXBzLT5icmFuY2hfb3ZlcmFsbF90aHJvdWdocHV0
XzBfbXBzID0gZHBjZF9kc2NfZXh0X2RhdGFbRFBfRFNDX0JSQU5DSF9PVkVSQUxMX1RIUk9VR0hQ
VVRfMCAtIERQX0RTQ19CUkFOQ0hfT1ZFUkFMTF9USFJPVUdIUFVUXzBdOworCWlmIChkc2Nfc2lu
a19jYXBzLT5icmFuY2hfb3ZlcmFsbF90aHJvdWdocHV0XzBfbXBzID09IDApCisJCWRzY19zaW5r
X2NhcHMtPmJyYW5jaF9vdmVyYWxsX3Rocm91Z2hwdXRfMF9tcHMgPSAwOworCWVsc2UgaWYgKGRz
Y19zaW5rX2NhcHMtPmJyYW5jaF9vdmVyYWxsX3Rocm91Z2hwdXRfMF9tcHMgPT0gMSkKKwkJZHNj
X3NpbmtfY2Fwcy0+YnJhbmNoX292ZXJhbGxfdGhyb3VnaHB1dF8wX21wcyA9IDY4MDsKKwllbHNl
IHsKKwkJZHNjX3NpbmtfY2Fwcy0+YnJhbmNoX292ZXJhbGxfdGhyb3VnaHB1dF8wX21wcyAqPSA1
MDsKKwkJZHNjX3NpbmtfY2Fwcy0+YnJhbmNoX292ZXJhbGxfdGhyb3VnaHB1dF8wX21wcyArPSA2
MDA7CisJfQorCisJZHNjX3NpbmtfY2Fwcy0+YnJhbmNoX292ZXJhbGxfdGhyb3VnaHB1dF8xX21w
cyA9IGRwY2RfZHNjX2V4dF9kYXRhW0RQX0RTQ19CUkFOQ0hfT1ZFUkFMTF9USFJPVUdIUFVUXzEg
LSBEUF9EU0NfQlJBTkNIX09WRVJBTExfVEhST1VHSFBVVF8wXTsKKwlpZiAoZHNjX3NpbmtfY2Fw
cy0+YnJhbmNoX292ZXJhbGxfdGhyb3VnaHB1dF8xX21wcyA9PSAwKQorCQlkc2Nfc2lua19jYXBz
LT5icmFuY2hfb3ZlcmFsbF90aHJvdWdocHV0XzFfbXBzID0gMDsKKwllbHNlIGlmIChkc2Nfc2lu
a19jYXBzLT5icmFuY2hfb3ZlcmFsbF90aHJvdWdocHV0XzFfbXBzID09IDEpCisJCWRzY19zaW5r
X2NhcHMtPmJyYW5jaF9vdmVyYWxsX3Rocm91Z2hwdXRfMV9tcHMgPSA2ODA7CisJZWxzZSB7CisJ
CWRzY19zaW5rX2NhcHMtPmJyYW5jaF9vdmVyYWxsX3Rocm91Z2hwdXRfMV9tcHMgKj0gNTA7CisJ
CWRzY19zaW5rX2NhcHMtPmJyYW5jaF9vdmVyYWxsX3Rocm91Z2hwdXRfMV9tcHMgKz0gNjAwOwor
CX0KKworCWRzY19zaW5rX2NhcHMtPmJyYW5jaF9tYXhfbGluZV93aWR0aCA9IGRwY2RfZHNjX2V4
dF9kYXRhW0RQX0RTQ19CUkFOQ0hfTUFYX0xJTkVfV0lEVEggLSBEUF9EU0NfQlJBTkNIX09WRVJB
TExfVEhST1VHSFBVVF8wXSAqIDMyMDsKKwlBU1NFUlQoZHNjX3NpbmtfY2Fwcy0+YnJhbmNoX21h
eF9saW5lX3dpZHRoID09IDAgfHwgZHNjX3NpbmtfY2Fwcy0+YnJhbmNoX21heF9saW5lX3dpZHRo
ID49IDUxMjApOworCiAJcmV0dXJuIHRydWU7CiB9CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvZGlzcGxheS9pbmNsdWRlL2RwY2Rfc3RydWN0cy5oIGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9kaXNwbGF5L2luY2x1ZGUvZHBjZF9zdHJ1Y3RzLmgKbmV3IGZpbGUgbW9kZSAxMDA2NDQK
aW5kZXggMDAwMDAwMDAwMDAwLi42ZjQxN2UwNDgwZTYKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvaW5jbHVkZS9kcGNkX3N0cnVjdHMuaApAQCAtMCwwICsx
LDE2OCBAQAorLyoKKyAqIGRwY2Rfc3RydWN0cy5oCisgKgorICogIENyZWF0ZWQgb246IE9jdCAz
MSwgMjAxOAorICogICAgICBBdXRob3I6IGpsZWkKKyAqLworCisjaWZuZGVmIERBTF9JTkNMVURF
X0RQQ0RfU1RSVUNUU19IXworI2RlZmluZSBEQUxfSU5DTFVERV9EUENEX1NUUlVDVFNfSF8KKwor
c3RydWN0IGRwY2RfcmVjZWl2ZV9wb3J0MF9jYXAwMSB7CisJdW5pb24geworCQlzdHJ1Y3Qgewor
CQkJLy8gQnl0ZSAwCisJCQl1bnNpZ25lZCBjaGFyIHJlc2VydmVkMAkJCQk6MTsgLy8gQml0MAor
CQkJdW5zaWduZWQgY2hhciBsb2NhbF9lZGlkX3ByZXNlbnQJCToxOworCQkJdW5zaWduZWQgY2hh
ciBhc3NvY2lhdGVkX3RvX3ByZWNlZGluZ19wb3J0CToxOworCQkJdW5zaWduZWQgY2hhciBoYmxh
bmtfZXhwYW5zaW9uX2NhcGFibGUJCToxOworCQkJdW5zaWduZWQgY2hhciBidWZmZXJfc2l6ZV91
bml0CQkJOjE7IC8vIEJpdDQKKwkJCXVuc2lnbmVkIGNoYXIgYnVmZmVyX3NpemVfcGVyX3BvcnQJ
CToxOworCQkJdW5zaWduZWQgY2hhciByZXNlcnZlZDEJCQkJOjI7CisKKwkJCS8vIEJ5dGUgMQor
CQkJdW5zaWduZWQgY2hhciBidWZmZXJfc2l6ZQkJCTo4OworCQl9IGZpZWxkczsKKwkJdW5zaWdu
ZWQgY2hhciByYXdbMl07CisJfTsKK307CisKKyNpZmRlZiBDT05GSUdfRFJNX0FNRF9EQ19EU0Nf
U1VQUE9SVAorCitzdHJ1Y3QgZHBjZF9kc2NfYmFzaWNfY2FwYWJpbGl0aWVzIHsKKwl1bmlvbiB7
CisJCXN0cnVjdCB7CisJCQkvLyBCeXRlIDAKKwkJCXN0cnVjdCB7CisKKwkJCQl1bnNpZ25lZCBj
aGFyIGRzY19zdXBwb3J0CQkJCToxOyAvLyBCaXQwCisJCQkJdW5zaWduZWQgY2hhciByZXNlcnZl
ZAkJCQkJOjc7CisJCQl9IGRzY19zdXBwb3J0OworCisJCQkvLyBCeXRlIDEKKwkJCXN0cnVjdCB7
CisJCQkJdW5zaWduZWQgY2hhciBkc2NfdmVyc2lvbl9tYWpvcgk6NDsKKwkJCQl1bnNpZ25lZCBj
aGFyIGRzY192ZXJzaW9uX21pbm9yCTo0OworCQkJfSBkc2NfYWxnb3JpdGhtX3JldmlzaW9uOwor
CisJCQkvLyBCeXRlIDIKKwkJCXN0cnVjdCB7CisJCQkJdW5zaWduZWQgY2hhciByY19ibG9ja19i
dWZmZXJfc2l6ZQk6MjsKKwkJCQl1bnNpZ25lZCBjaGFyIHJlc2VydmVkCTo2OworCQkJfSBkc2Nf
cmNfYnVmZmVyX2Jsb2NrX3NpemU7CisKKwkJCS8vIEJ5dGUgMworCQkJdW5zaWduZWQgY2hhciBk
c2NfcmNfYnVmZmVyX3NpemU7CisKKwkJCS8vIEJ5dGUgNAorCQkJc3RydWN0IHsKKwkJCQl1bnNp
Z25lZCBjaGFyIG9uZV9zbGljZV9wZXJfZHBfZHNjX3NpbmtfZGV2aWNlCQk6MTsgLy8gQml0MAor
CQkJCXVuc2lnbmVkIGNoYXIgdHdvX3NsaWNlc19wZXJfZHBfZHNjX3NpbmtfZGV2aWNlCQk6MTsK
KwkJCQl1bnNpZ25lZCBjaGFyIHJlc2VydmVkCQkJCQk6MTsKKwkJCQl1bnNpZ25lZCBjaGFyIGZv
dXJfc2xpY2VzX3Blcl9kcF9kc2Nfc2lua19kZXZpY2UJOjE7CisJCQkJdW5zaWduZWQgY2hhciBz
aXhfc2xpY2VzX3Blcl9kcF9kc2Nfc2lua19kZXZpY2UJCToxOyAvLyBCaXQgNAorCQkJCXVuc2ln
bmVkIGNoYXIgZWlnaHRfc2xpY2VzX3Blcl9kcF9kc2Nfc2lua19kZXZpY2UJOjE7CisJCQkJdW5z
aWduZWQgY2hhciB0ZW5fc2xpY2VzX3Blcl9kcF9kc2Nfc2lua19kZXZpY2UJCToxOworCQkJCXVu
c2lnbmVkIGNoYXIgdHdlbHZlX3NsaWNlc19wZXJfZHBfZHNjX3NpbmtfZGV2aWNlCToxOworCQkJ
fSBkc2Nfc2xpY2VfY2FwYWJpbGl0aWVzXzE7CisKKwkJCS8vIEJ5dGUgNQorCQkJc3RydWN0IHsK
KwkJCQl1bnNpZ25lZCBjaGFyIGxpbmVfYnVmZmVyX2JpdF9kZXB0aAk6NDsKKwkJCQl1bnNpZ25l
ZCBjaGFyIHJlc2VydmVkCQkJOjQ7CisJCQl9IGRzY19saW5lX2J1ZmZlcl9iaXRfZGVwdGg7CisK
KwkJCS8vIEJ5dGUgNgorCQkJc3RydWN0IHsKKwkJCQl1bnNpZ25lZCBjaGFyIGJsb2NrX3ByZWRp
Y3Rpb25fc3VwcG9ydAk6MTsKKwkJCQl1bnNpZ25lZCBjaGFyIHJlc2VydmVkCQkJOjc7CisJCQl9
IGRzY19ibG9ja19wcmVkaWN0aW9uX3N1cHBvcnQ7CisKKwkJCS8vIEJ5dGUgNyw4CisJCQlzdHJ1
Y3QgeworCQkJCXVuc2lnbmVkIGNoYXIgbWF4aW11bV9iaXRzX3Blcl9waXhlbF9zdXBwb3J0ZWRf
YnlfdGhlX2RlY29tcHJlc3Nvcl9sb3cJOjc7CisJCQkJdW5zaWduZWQgY2hhciBtYXhpbXVtX2Jp
dHNfcGVyX3BpeGVsX3N1cHBvcnRlZF9ieV90aGVfZGVjb21wcmVzc29yX2hpZ2gJOjc7CisJCQl9
IG1heGltdW1fYml0c19wZXJfcGl4ZWxfc3VwcG9ydGVkX2J5X3RoZV9kZWNvbXByZXNzb3I7CisK
KwkJCS8vIEJ5dGUgOQorCQkJc3RydWN0IHsKKwkJCQl1bnNpZ25lZCBjaGFyIHJnYl9zdXBwb3J0
CQkJOjE7IC8vIEJpdDAKKwkJCQl1bnNpZ25lZCBjaGFyIHlfY2JfY3JfNDQ0X3N1cHBvcnQJCTox
OworCQkJCXVuc2lnbmVkIGNoYXIgeV9jYl9jcl9zaW1wbGVfNDIyX3N1cHBvcnQJOjE7CisJCQkJ
dW5zaWduZWQgY2hhciB5X2NiX2NyX25hdGl2ZV80MjJfc3VwcG9ydAk6MTsKKwkJCQl1bnNpZ25l
ZCBjaGFyIHlfY2JfY3JfbmF0aXZlXzQyMF9zdXBwb3J0CToxOyAvLyBCaXQgNAorCQkJCXVuc2ln
bmVkIGNoYXIgcmVzZXJ2ZWQJCQkJOjM7CisJCQl9IGRzY19kZWNvZGVyX2NvbG9yX2Zvcm1hdF9j
YXBhYmlsaXRpZXM7CisKKwkJCS8vIEJ5dGUgMTAKKwkJCXN0cnVjdCB7CisJCQkJdW5zaWduZWQg
Y2hhciByZXNlcnZlZDAJCQkJOjE7IC8vIEJpdDAKKwkJCQl1bnNpZ25lZCBjaGFyIGVpZ2h0X2Jp
dHNfcGVyX2NvbG9yX3N1cHBvcnQJOjE7CisJCQkJdW5zaWduZWQgY2hhciB0ZW5fYml0c19wZXJf
Y29sb3Jfc3VwcG9ydAk6MTsKKwkJCQl1bnNpZ25lZCBjaGFyIHR3ZWx2ZV9iaXRzX3Blcl9jb2xv
cl9zdXBwb3J0CToxOworCQkJCXVuc2lnbmVkIGNoYXIgcmVzZXJ2ZWQxCQkJCTo0OyAvLyBCaXQg
NAorCQkJfSBkc2NfZGVjb2Rlcl9jb2xvcl9kZXB0aF9jYXBhYmlsaXRpZXM7CisKKwkJCS8vIEJ5
dGUgMTEKKwkJCXN0cnVjdCB7CisJCQkJdW5zaWduZWQgY2hhciB0aHJvdWdocHV0X21vZGVfMAkJ
CTo0OworCQkJCXVuc2lnbmVkIGNoYXIgdGhyb3VnaHB1dF9tb2RlXzEJCQk6NDsKKwkJCX0gcGVh
a19kc2NfdGhyb3VnaHB1dF9kc2Nfc2luazsKKworCQkJLy8gQnl0ZSAxMgorCQkJdW5zaWduZWQg
Y2hhciBkc2NfbWF4aW11bV9zbGljZV93aWR0aDsKKworCQkJLy8gQnl0ZSAxMworCQkJc3RydWN0
IHsKKwkJCQl1bnNpZ25lZCBjaGFyIHNpeHRlZW5fc2xpY2VzX3Blcl9kc2Nfc2lua19kZXZpY2UJ
OjE7CisJCQkJdW5zaWduZWQgY2hhciB0d2VudHlfc2xpY2VzX3Blcl9kc2Nfc2lua19kZXZpY2UJ
CToxOworCQkJCXVuc2lnbmVkIGNoYXIgdHdlbnR5Zm91cl9zbGljZXNfcGVyX2RzY19zaW5rX2Rl
dmljZQk6MTsKKwkJCQl1bnNpZ25lZCBjaGFyIHJlc2VydmVkCQkJCQk6NTsKKwkJCX0gZHNjX3Ns
aWNlX2NhcGFiaWxpdGllc18yOworCisJCQkvLyBCeXRlIDE0CisJCQl1bnNpZ25lZCBjaGFyIHJl
c2VydmVkOworCisJCQkvLyBCeXRlIDE1CisJCQlzdHJ1Y3QgeworCQkJCXVuc2lnbmVkIGNoYXIg
aW5jcmVtZW50X29mX2JpdHNfcGVyX3BpeGVsX3N1cHBvcnRlZAk6MzsKKwkJCQl1bnNpZ25lZCBj
aGFyIHJlc2VydmVkCQkJCQk6NTsKKwkJCX0gYml0c19wZXJfcGl4ZWxfaW5jcmVtZW50OworCQl9
IGZpZWxkczsKKwkJdW5zaWduZWQgY2hhciByYXdbMTZdOworCX07Cit9OworCitzdHJ1Y3QgZHBj
ZF9kc2NfZXh0X2NhcGFiaWxpdGllcyB7CisJdW5pb24geworCQlzdHJ1Y3QgeworCQkJdW5zaWdu
ZWQgY2hhciBicmFuY2hfb3ZlcmFsbF90aHJvdWdocHV0XzA7IC8vIEJ5dGUgMAorCQkJdW5zaWdu
ZWQgY2hhciBicmFuY2hfb3ZlcmFsbF90aHJvdWdocHV0XzE7IC8vIEJ5dGUgMQorCQkJdW5zaWdu
ZWQgY2hhciBicmFuY2hfbWF4X2xpbmVfd2lkdGg7IC8vIEJ5dGUgMgorCQl9IGZpZWxkczsKKwkJ
dW5zaWduZWQgY2hhciByYXdbM107CisJfTsKK307CisKK3N0cnVjdCBkcGNkX2RzY19jYXBhYmls
aXRpZXMgeworCXN0cnVjdCBkcGNkX2RzY19iYXNpY19jYXBhYmlsaXRpZXMgZHNjX2Jhc2ljX2Nh
cHM7CisJc3RydWN0IGRwY2RfZHNjX2V4dF9jYXBhYmlsaXRpZXMgZHNjX2V4dF9jYXBzOworfTsK
Kworc3RydWN0IGRwY2RfZmVjX2NhcGFiaWxpdHkgeworCXVuaW9uIHsKKwkJc3RydWN0IHsKKwkJ
CS8vIEJ5dGUgMAorCQkJdW5zaWduZWQgY2hhciBmZWNfY2FwYWJsZQkJCQk6MTsgLy8gQml0MAor
CQkJdW5zaWduZWQgY2hhciB1bmNvcnJlY3RlZF9ibG9ja19lcnJvcl9jb3VudF9jYXBhYmxlCTox
OworCQkJdW5zaWduZWQgY2hhciBjb3JyZWN0ZWRfYmxvY2tfZXJyb3JfY291bnRfY2FwYWJsZQk6
MTsKKwkJCXVuc2lnbmVkIGNoYXIgYml0X2Vycm9yX2NvdW50X2NhcGFibGUJCQk6MTsKKwkJCXVu
c2lnbmVkIGNoYXIgcmVzZXJ2ZWQJCQkJCTo0OyAvLyBCaXQ0CisJCX0gZmllbGRzOworCQl1bnNp
Z25lZCBjaGFyIHJhd1sxXTsKKwl9OworfTsKKworI2VuZGlmCisKKyNlbmRpZiAvKiBEQUxfSU5D
TFVERV9EUENEX1NUUlVDVFNfSF8gKi8KZGlmZiAtLWdpdCBhL2luY2x1ZGUvZHJtL2RybV9kcF9o
ZWxwZXIuaCBiL2luY2x1ZGUvZHJtL2RybV9kcF9oZWxwZXIuaAppbmRleCBhNWFhOTNiOTk2MWEu
LjQ5Nzc0ZjRhYTJhOCAxMDA2NDQKLS0tIGEvaW5jbHVkZS9kcm0vZHJtX2RwX2hlbHBlci5oCisr
KyBiL2luY2x1ZGUvZHJtL2RybV9kcF9oZWxwZXIuaApAQCAtMzU2LDYgKzM1NiwxMSBAQAogIyBk
ZWZpbmUgRFBfRkVDX0NPUlJfQkxLX0VSUk9SX0NPVU5UX0NBUCAgICAoMSA8PCAyKQogIyBkZWZp
bmUgRFBfRkVDX0JJVF9FUlJPUl9DT1VOVF9DQVAJICAgICgxIDw8IDMpCiAKKy8qIERQIEV4dGVu
ZGVkIERTQyBDYXBhYmlsaXRpZXMgKi8KKyNkZWZpbmUgRFBfRFNDX0JSQU5DSF9PVkVSQUxMX1RI
Uk9VR0hQVVRfMCAgMHgwYTAgICAvKiBEUCAxLjRhIFNDUiAqLworI2RlZmluZSBEUF9EU0NfQlJB
TkNIX09WRVJBTExfVEhST1VHSFBVVF8xICAweDBhMQorI2RlZmluZSBEUF9EU0NfQlJBTkNIX01B
WF9MSU5FX1dJRFRIICAgICAgICAweDBhMgorCiAvKiBsaW5rIGNvbmZpZ3VyYXRpb24gKi8KICNk
ZWZpbmUJRFBfTElOS19CV19TRVQJCSAgICAgICAgICAgIDB4MTAwCiAjIGRlZmluZSBEUF9MSU5L
X1JBVEVfVEFCTEUJCSAgICAweDAwICAgIC8qIGVEUCAxLjQgKi8KLS0gCjIuMjAuMQoKX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5n
IGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVz
a3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4
