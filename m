Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id C2598153CFB
	for <lists+amd-gfx@lfdr.de>; Thu,  6 Feb 2020 03:37:00 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 4BE746F9A5;
	Thu,  6 Feb 2020 02:36:59 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM10-DM6-obe.outbound.protection.outlook.com
 (mail-dm6nam10on2050.outbound.protection.outlook.com [40.107.93.50])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 6CB6E6F9A5
 for <amd-gfx@lists.freedesktop.org>; Thu,  6 Feb 2020 02:36:58 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=IWAB6ysN9RdyT7iAnb9mIss8EO4N9geJ+BN1Ov89uqpHt25KmliZtQz9G6LmuUC8ELRzETq7fRItcGxLvGH7GUIFn4kOn1cRDQdlBygAsurOpldyLIWPC6tyf/M8lwn6wUXdhorKfoFPmDbljAWvueTQbl6FNdJ8xPnIsgcWslATCSHCkly8UoHCPFPEAqaMB+P/MnMgqeFZzcUf7aB2KDjtjbLphzRlJm6czrEr5jDtNFIEGd0aslq3Nl8KWkEDqAn2GDqTn79UfQB0tyb+AD7Qb7kYFzCVYNFE6+RsF8PBoS5ZfVP0y7xjq9n24z5Y73n0EdnyrcqUgGBkZ3Qw3w==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=JvcdtHaImk6SV4UjD3DdMqku7kNerFX9xXhY3qbJKuU=;
 b=hemZPd/i9/idu/GQEgwML/45cz/hUiSXb6brxWFIu70ED9+2mvzDC3iEhfTd/WpTTCB7cj5ZtRLaUcanUQXe8YIgRK9+qoIg/qNFPxlhF/S3P1AdHg4rlU/P6frv6PgD/m7LnHiLn4U7TFMXSXnOyaFzPfEtRiQsSciNoank7RbPr7rXgMmK0DqLhqaHs5Wl1wVb+SMlq95wNlPGZfZxdqb0hxvf4P0fgnOVrOM1tJ1fKJpywRXqo31mJsPoCzDV0dTkfuYLedeZBZ8Q8WjFp7VGaFBCGfD1nAWzI430Z1rgE2o13w3vsIYqseiV0Duor73X0rAJOJ5yHUlICNpaNA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=JvcdtHaImk6SV4UjD3DdMqku7kNerFX9xXhY3qbJKuU=;
 b=ynv02pejWYYvdPcJ576yh1jhVnTyQkWiY6KKIt7GqrOoOg0oVeRHHK0iF769kGgA3VYf7MzPyZJfZAP7ju1vgjCylO3dlMqHCo5ZHnatc7jWwPwRc9fPo3I1e/w51VS4V46Zq5tVaxQVK2ryrdegfZEuvzyyebiRZbSnX2Y6VVc=
Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Yong.Zhao@amd.com; 
Received: from CH2PR12MB3926.namprd12.prod.outlook.com (52.132.245.30) by
 CH2PR12MB4246.namprd12.prod.outlook.com (20.180.6.210) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2707.21; Thu, 6 Feb 2020 02:36:55 +0000
Received: from CH2PR12MB3926.namprd12.prod.outlook.com
 ([fe80::81de:623c:a226:a92d]) by CH2PR12MB3926.namprd12.prod.outlook.com
 ([fe80::81de:623c:a226:a92d%4]) with mapi id 15.20.2686.031; Thu, 6 Feb 2020
 02:36:55 +0000
Subject: Re: [PATCH 5/6] drm/amdkfd: Only count active sdma queues
From: Yong Zhao <yong.zhao@amd.com>
To: Yong Zhao <Yong.Zhao@amd.com>, amd-gfx list <amd-gfx@lists.freedesktop.org>
References: <20200205232832.26226-1-Yong.Zhao@amd.com>
 <20200205232832.26226-5-Yong.Zhao@amd.com>
 <9092619f-7f01-693c-4eb2-3c6bb0ed7e82@amd.com>
Message-ID: <372f6f5d-dd3f-2d78-db98-f269daf2f47f@amd.com>
Date: Wed, 5 Feb 2020 21:36:53 -0500
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101
 Thunderbird/68.2.2
In-Reply-To: <9092619f-7f01-693c-4eb2-3c6bb0ed7e82@amd.com>
Content-Language: en-US
X-ClientProxiedBy: YTOPR0101CA0026.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:b00:15::39) To CH2PR12MB3926.namprd12.prod.outlook.com
 (2603:10b6:610:27::30)
MIME-Version: 1.0
Received: from [172.27.227.155] (165.204.55.251) by
 YTOPR0101CA0026.CANPRD01.PROD.OUTLOOK.COM (2603:10b6:b00:15::39) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2707.21 via Frontend
 Transport; Thu, 6 Feb 2020 02:36:55 +0000
X-Originating-IP: [165.204.55.251]
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-HT: Tenant
X-MS-Office365-Filtering-Correlation-Id: 719e0f91-d70b-4aa5-6931-08d7aaad6e2d
X-MS-TrafficTypeDiagnostic: CH2PR12MB4246:|CH2PR12MB4246:
X-MS-Exchange-Transport-Forked: True
X-Microsoft-Antispam-PRVS: <CH2PR12MB42469DE4C2D8325FF6A51DBEF01D0@CH2PR12MB4246.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:9508;
X-Forefront-PRVS: 0305463112
X-Forefront-Antispam-Report: SFV:NSPM;
 SFS:(10009020)(4636009)(366004)(199004)(189003)(44832011)(6486002)(66946007)(31696002)(81166006)(81156014)(8676002)(8936002)(86362001)(36756003)(186003)(16526019)(31686004)(110136005)(16576012)(956004)(53546011)(2616005)(26005)(498600001)(5660300002)(66556008)(66476007)(2906002)(52116002);
 DIR:OUT; SFP:1101; SCL:1; SRVR:CH2PR12MB4246;
 H:CH2PR12MB3926.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: 95N3d6P4qhX3brPdiqWbDD0ZlIFuQ0/et1Y+mYfPCTXSqraL+Te+Rd9qVpqt7v69/eWWslhzATuuHoluUoHNgKNZk59V0xC94VcsbyFpO4zAhwBs2yS9m1QVT5ZBE85JuDL+lDLa3XZ0TAqd+Dk/yEBuotIaUsx+NxHyBa3eztlbE2bCHXyrecjJ+CwpTq2GZF66FHY3/NqNnEjOsdRYmnrHLuJmnf1OiWRzAWEapc6CMlsiiygCXWLNxoTntRfyfJP6GlOY3ls7m1GRkeY1W5Dgp1rXktSa2fB8ZeqfqLZnrwVRO+GpPNiL5mB3TugN2wyY+Q0vSiPowarJ3fjvWS6coTAAmBL2fHkGQ8YAy2/TX3/RxFKCd3/T5vplUwoGm7krA6NFjb5y9d+WmLaj8w2tG4WyHDyt3v9GRgK6NC+nLgjKGvQ20+UqdHcYAATH
X-MS-Exchange-AntiSpam-MessageData: 6L5Wr7/iiXEUR1uHZVd3B4o9CJpGGd4nWI9OCm0jKEFnm+mYHSVm3r0abnYuEY95rLKB9gNVYGTa4Wfe8p3BwtRqsxqoE+OHOPpeII6iHnl2qDNW6Mq7DdYxiJU17fpRn3q8ygzc9bbgvg2YwQF4Ug==
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 719e0f91-d70b-4aa5-6931-08d7aaad6e2d
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 06 Feb 2020 02:36:55.1927 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: zEBsxRJnDM9feln63bXppvLgTp99uP4J1zSlMwGixODWtmI1vTqvMmQB7eoTEms8
X-MS-Exchange-Transport-CrossTenantHeadersStamped: CH2PR12MB4246
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

UGxlYXNlIGRpc3JlZ2FyZCB0aGUgcGF0Y2ggNSBhbmQgNiwgYXMgSSBoYXZlIGEgbmV3IHZlcnNp
b24gZm9yIHRoZW0uCgpZb25nCgpPbiAyMDIwLTAyLTA1IDY6MzkgcC5tLiwgWW9uZyBaaGFvIHdy
b3RlOgo+IE9uZSBtaW5vciBmaXggYWRkZWQuCj4KPiBZb25nCj4KPiBPbiAyMDIwLTAyLTA1IDY6
MjggcC5tLiwgWW9uZyBaaGFvIHdyb3RlOgo+PiBUaGUgc2RtYV9xdWV1ZV9jb3VudCB3YXMgb25s
eSB1c2VkIGZvciBpbmZlcnJpbmcgd2hldGhlciB3ZSBzaG91bGQKPj4gdW5tYXAgU0RNQSBxdWV1
ZXMgdW5kZXIgSFdTIG1vZGUuIEluIGNvbnRyYXN0LCBXZSBtYXBwZWQgYWN0aXZlIHF1ZXVlcwo+
PiByYXRoZXIgdGhhbiBhbGwgaW4gbWFwX3F1ZXVlc19jcHNjaCgpLiBJbiBvcmRlciB0byBtYXRj
aCB0aGUgbWFwIGFuZCAKPj4gdW5tYXAKPj4gZm9yIFNETUEgcXVldWVzLCB3ZSBzaG91bGQganVz
dCBjb3VudCBhY3RpdmUgU0RNQSBxdWV1ZXMuIE1lYW53aGlsZSwKPj4gcmVuYW1lIHNkbWFfcXVl
dWVfY291bnQgdG8gYWN0aXZlX3NkbWFfcXVldWVfY291bnQgdG8gcmVmbGVjdCB0aGUgbmV3Cj4+
IHVzYWdlLgo+Pgo+PiBDaGFuZ2UtSWQ6IEk5ZjFjMzMwNWRhZDA0NGEzYzc3OWVjMDczMGZjZjc1
NTQwNTBkZThiCj4+IFNpZ25lZC1vZmYtYnk6IFlvbmcgWmhhbyA8WW9uZy5aaGFvQGFtZC5jb20+
Cj4+IC0tLQo+PiDCoCAuLi4vZHJtL2FtZC9hbWRrZmQva2ZkX2RldmljZV9xdWV1ZV9tYW5hZ2Vy
LmMgfCA1NCArKysrKysrKy0tLS0tLS0tLS0tCj4+IMKgIC4uLi9kcm0vYW1kL2FtZGtmZC9rZmRf
ZGV2aWNlX3F1ZXVlX21hbmFnZXIuaCB8wqAgNSArLQo+PiDCoCAuLi4vYW1kL2FtZGtmZC9rZmRf
cHJvY2Vzc19xdWV1ZV9tYW5hZ2VyLmPCoMKgwqAgfCAxNiArKystLS0KPj4gwqAgMyBmaWxlcyBj
aGFuZ2VkLCAzMSBpbnNlcnRpb25zKCspLCA0NCBkZWxldGlvbnMoLSkKPj4KPj4gZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9kZXZpY2VfcXVldWVfbWFuYWdlci5j
IAo+PiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9kZXZpY2VfcXVldWVfbWFuYWdl
ci5jCj4+IGluZGV4IDA2NDEwOGNmNDkzYi4uY2Y3N2I4NjYwNTRhIDEwMDY0NAo+PiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfZGV2aWNlX3F1ZXVlX21hbmFnZXIuYwo+PiAr
KysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfZGV2aWNlX3F1ZXVlX21hbmFnZXIu
Ywo+PiBAQCAtMTM4LDYgKzEzOCwxMCBAQCB2b2lkIGluY3JlbWVudF9xdWV1ZV9jb3VudChzdHJ1
Y3QgCj4+IGRldmljZV9xdWV1ZV9tYW5hZ2VyICpkcW0sCj4+IMKgwqDCoMKgwqAgZHFtLT5hY3Rp
dmVfcXVldWVfY291bnQrKzsKPj4gwqDCoMKgwqDCoCBpZiAodHlwZSA9PSBLRkRfUVVFVUVfVFlQ
RV9DT01QVVRFIHx8IHR5cGUgPT0gS0ZEX1FVRVVFX1RZUEVfRElRKQo+PiDCoMKgwqDCoMKgwqDC
oMKgwqAgZHFtLT5hY3RpdmVfY3BfcXVldWVfY291bnQrKzsKPj4gK8KgwqDCoCBlbHNlIGlmICh0
eXBlID09IEtGRF9RVUVVRV9UWVBFX1NETUEpCj4+ICvCoMKgwqDCoMKgwqDCoCBkcW0tPmFjdGl2
ZV9zZG1hX3F1ZXVlX2NvdW50Kys7Cj4+ICvCoMKgwqAgZWxzZSBpZiAodHlwZSA9PSBLRkRfUVVF
VUVfVFlQRV9TRE1BX1hHTUkpCj4+ICvCoMKgwqDCoMKgwqDCoCBkcW0tPmFjdGl2ZV94Z21pX3Nk
bWFfcXVldWVfY291bnQrKzsKPj4gwqAgfQo+PiDCoCDCoCB2b2lkIGRlY3JlbWVudF9xdWV1ZV9j
b3VudChzdHJ1Y3QgZGV2aWNlX3F1ZXVlX21hbmFnZXIgKmRxbSwKPj4gQEAgLTE0Niw2ICsxNTAs
MTAgQEAgdm9pZCBkZWNyZW1lbnRfcXVldWVfY291bnQoc3RydWN0IAo+PiBkZXZpY2VfcXVldWVf
bWFuYWdlciAqZHFtLAo+PiDCoMKgwqDCoMKgIGRxbS0+YWN0aXZlX3F1ZXVlX2NvdW50LS07Cj4+
IMKgwqDCoMKgwqAgaWYgKHR5cGUgPT0gS0ZEX1FVRVVFX1RZUEVfQ09NUFVURSB8fCB0eXBlID09
IEtGRF9RVUVVRV9UWVBFX0RJUSkKPj4gwqDCoMKgwqDCoMKgwqDCoMKgIGRxbS0+YWN0aXZlX2Nw
X3F1ZXVlX2NvdW50LS07Cj4+ICvCoMKgwqAgZWxzZSBpZiAodHlwZSA9PSBLRkRfUVVFVUVfVFlQ
RV9TRE1BKQo+PiArwqDCoMKgwqDCoMKgwqAgZHFtLT5hY3RpdmVfc2RtYV9xdWV1ZV9jb3VudC0t
Owo+PiArwqDCoMKgIGVsc2UgaWYgKHR5cGUgPT0gS0ZEX1FVRVVFX1RZUEVfU0RNQV9YR01JKQo+
PiArwqDCoMKgwqDCoMKgwqAgZHFtLT5hY3RpdmVfeGdtaV9zZG1hX3F1ZXVlX2NvdW50LS07Cj4+
IMKgIH0KPj4gwqAgwqAgc3RhdGljIGludCBhbGxvY2F0ZV9kb29yYmVsbChzdHJ1Y3QgcWNtX3By
b2Nlc3NfZGV2aWNlICpxcGQsIAo+PiBzdHJ1Y3QgcXVldWUgKnEpCj4+IEBAIC0zNzcsMTEgKzM4
NSw2IEBAIHN0YXRpYyBpbnQgY3JlYXRlX3F1ZXVlX25vY3BzY2goc3RydWN0IAo+PiBkZXZpY2Vf
cXVldWVfbWFuYWdlciAqZHFtLAo+PiDCoMKgwqDCoMKgIGlmIChxLT5wcm9wZXJ0aWVzLmlzX2Fj
dGl2ZSkKPj4gwqDCoMKgwqDCoMKgwqDCoMKgIGluY3JlbWVudF9xdWV1ZV9jb3VudChkcW0sIHEt
PnByb3BlcnRpZXMudHlwZSk7Cj4+IMKgIC3CoMKgwqAgaWYgKHEtPnByb3BlcnRpZXMudHlwZSA9
PSBLRkRfUVVFVUVfVFlQRV9TRE1BKQo+PiAtwqDCoMKgwqDCoMKgwqAgZHFtLT5zZG1hX3F1ZXVl
X2NvdW50Kys7Cj4+IC3CoMKgwqAgZWxzZSBpZiAocS0+cHJvcGVydGllcy50eXBlID09IEtGRF9R
VUVVRV9UWVBFX1NETUFfWEdNSSkKPj4gLcKgwqDCoMKgwqDCoMKgIGRxbS0+eGdtaV9zZG1hX3F1
ZXVlX2NvdW50Kys7Cj4+IC0KPj4gwqDCoMKgwqDCoCAvKgo+PiDCoMKgwqDCoMKgwqAgKiBVbmNv
bmRpdGlvbmFsbHkgaW5jcmVtZW50IHRoaXMgY291bnRlciwgcmVnYXJkbGVzcyBvZiB0aGUgCj4+
IHF1ZXVlJ3MKPj4gwqDCoMKgwqDCoMKgICogdHlwZSBvciB3aGV0aGVyIHRoZSBxdWV1ZSBpcyBh
Y3RpdmUuCj4+IEBAIC00NjIsMTUgKzQ2NSwxMyBAQCBzdGF0aWMgaW50IGRlc3Ryb3lfcXVldWVf
bm9jcHNjaF9sb2NrZWQoc3RydWN0IAo+PiBkZXZpY2VfcXVldWVfbWFuYWdlciAqZHFtLAo+PiDC
oMKgwqDCoMKgIG1xZF9tZ3IgPSBkcW0tPm1xZF9tZ3JzW2dldF9tcWRfdHlwZV9mcm9tX3F1ZXVl
X3R5cGUoCj4+IMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIHEtPnByb3BlcnRpZXMudHlwZSld
Owo+PiDCoCAtwqDCoMKgIGlmIChxLT5wcm9wZXJ0aWVzLnR5cGUgPT0gS0ZEX1FVRVVFX1RZUEVf
Q09NUFVURSkgewo+PiArwqDCoMKgIGlmIChxLT5wcm9wZXJ0aWVzLnR5cGUgPT0gS0ZEX1FVRVVF
X1RZUEVfQ09NUFVURSkKPj4gwqDCoMKgwqDCoMKgwqDCoMKgIGRlYWxsb2NhdGVfaHFkKGRxbSwg
cSk7Cj4+IC3CoMKgwqAgfSBlbHNlIGlmIChxLT5wcm9wZXJ0aWVzLnR5cGUgPT0gS0ZEX1FVRVVF
X1RZUEVfU0RNQSkgewo+PiAtwqDCoMKgwqDCoMKgwqAgZHFtLT5zZG1hX3F1ZXVlX2NvdW50LS07
Cj4+ICvCoMKgwqAgZWxzZSBpZiAocS0+cHJvcGVydGllcy50eXBlID09IEtGRF9RVUVVRV9UWVBF
X1NETUEpCj4+IMKgwqDCoMKgwqDCoMKgwqDCoCBkZWFsbG9jYXRlX3NkbWFfcXVldWUoZHFtLCBx
KTsKPj4gLcKgwqDCoCB9IGVsc2UgaWYgKHEtPnByb3BlcnRpZXMudHlwZSA9PSBLRkRfUVVFVUVf
VFlQRV9TRE1BX1hHTUkpIHsKPj4gLcKgwqDCoMKgwqDCoMKgIGRxbS0+eGdtaV9zZG1hX3F1ZXVl
X2NvdW50LS07Cj4+ICvCoMKgwqAgZWxzZSBpZiAocS0+cHJvcGVydGllcy50eXBlID09IEtGRF9R
VUVVRV9UWVBFX1NETUFfWEdNSSkKPj4gwqDCoMKgwqDCoMKgwqDCoMKgIGRlYWxsb2NhdGVfc2Rt
YV9xdWV1ZShkcW0sIHEpOwo+PiAtwqDCoMKgIH0gZWxzZSB7Cj4+ICvCoMKgwqAgZWxzZSB7Cj4+
IMKgwqDCoMKgwqDCoMKgwqDCoCBwcl9kZWJ1ZygicS0+cHJvcGVydGllcy50eXBlICVkIGlzIGlu
dmFsaWRcbiIsCj4+IMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgcS0+cHJvcGVy
dGllcy50eXBlKTsKPj4gwqDCoMKgwqDCoMKgwqDCoMKgIHJldHVybiAtRUlOVkFMOwo+PiBAQCAt
OTE2LDggKzkxNyw4IEBAIHN0YXRpYyBpbnQgaW5pdGlhbGl6ZV9ub2Nwc2NoKHN0cnVjdCAKPj4g
ZGV2aWNlX3F1ZXVlX21hbmFnZXIgKmRxbSkKPj4gwqDCoMKgwqDCoCBtdXRleF9pbml0KCZkcW0t
PmxvY2tfaGlkZGVuKTsKPj4gwqDCoMKgwqDCoCBJTklUX0xJU1RfSEVBRCgmZHFtLT5xdWV1ZXMp
Owo+PiDCoMKgwqDCoMKgIGRxbS0+YWN0aXZlX3F1ZXVlX2NvdW50ID0gZHFtLT5uZXh0X3BpcGVf
dG9fYWxsb2NhdGUgPSAwOwo+PiAtwqDCoMKgIGRxbS0+c2RtYV9xdWV1ZV9jb3VudCA9IDA7Cj4+
IC3CoMKgwqAgZHFtLT54Z21pX3NkbWFfcXVldWVfY291bnQgPSAwOwo+PiArwqDCoMKgIGRxbS0+
YWN0aXZlX3NkbWFfcXVldWVfY291bnQgPSAwOwo+PiArwqDCoMKgIGRxbS0+YWN0aXZlX3hnbWlf
c2RtYV9xdWV1ZV9jb3VudCA9IDA7Cj4+IMKgIMKgwqDCoMKgwqAgZm9yIChwaXBlID0gMDsgcGlw
ZSA8IGdldF9waXBlc19wZXJfbWVjKGRxbSk7IHBpcGUrKykgewo+PiDCoMKgwqDCoMKgwqDCoMKg
wqAgaW50IHBpcGVfb2Zmc2V0ID0gcGlwZSAqIGdldF9xdWV1ZXNfcGVyX3BpcGUoZHFtKTsKPj4g
QEAgLTEwODEsOCArMTA4Miw4IEBAIHN0YXRpYyBpbnQgaW5pdGlhbGl6ZV9jcHNjaChzdHJ1Y3Qg
Cj4+IGRldmljZV9xdWV1ZV9tYW5hZ2VyICpkcW0pCj4+IMKgwqDCoMKgwqAgbXV0ZXhfaW5pdCgm
ZHFtLT5sb2NrX2hpZGRlbik7Cj4+IMKgwqDCoMKgwqAgSU5JVF9MSVNUX0hFQUQoJmRxbS0+cXVl
dWVzKTsKPj4gwqDCoMKgwqDCoCBkcW0tPmFjdGl2ZV9xdWV1ZV9jb3VudCA9IGRxbS0+cHJvY2Vz
c2VzX2NvdW50ID0gMDsKPj4gLcKgwqDCoCBkcW0tPnNkbWFfcXVldWVfY291bnQgPSAwOwo+PiAt
wqDCoMKgIGRxbS0+eGdtaV9zZG1hX3F1ZXVlX2NvdW50ID0gMDsKPj4gK8KgwqDCoCBkcW0tPmFj
dGl2ZV9zZG1hX3F1ZXVlX2NvdW50ID0gMDsKPj4gK8KgwqDCoCBkcW0tPmFjdGl2ZV94Z21pX3Nk
bWFfcXVldWVfY291bnQgPSAwOwo+PiDCoMKgwqDCoMKgIGRxbS0+YWN0aXZlX3J1bmxpc3QgPSBm
YWxzZTsKPj4gwqDCoMKgwqDCoCBkcW0tPnNkbWFfYml0bWFwID0gfjBVTEwgPj4gKDY0IC0gZ2V0
X251bV9zZG1hX3F1ZXVlcyhkcW0pKTsKPj4gwqDCoMKgwqDCoCBkcW0tPnhnbWlfc2RtYV9iaXRt
YXAgPSB+MFVMTCA+PiAoNjQgLSAKPj4gZ2V0X251bV94Z21pX3NkbWFfcXVldWVzKGRxbSkpOwo+
PiBAQCAtMTI1NCwxMSArMTI1NSw2IEBAIHN0YXRpYyBpbnQgY3JlYXRlX3F1ZXVlX2Nwc2NoKHN0
cnVjdCAKPj4gZGV2aWNlX3F1ZXVlX21hbmFnZXIgKmRxbSwgc3RydWN0IHF1ZXVlICpxLAo+PiDC
oMKgwqDCoMKgIGxpc3RfYWRkKCZxLT5saXN0LCAmcXBkLT5xdWV1ZXNfbGlzdCk7Cj4+IMKgwqDC
oMKgwqAgcXBkLT5xdWV1ZV9jb3VudCsrOwo+PiDCoCAtwqDCoMKgIGlmIChxLT5wcm9wZXJ0aWVz
LnR5cGUgPT0gS0ZEX1FVRVVFX1RZUEVfU0RNQSkKPj4gLcKgwqDCoMKgwqDCoMKgIGRxbS0+c2Rt
YV9xdWV1ZV9jb3VudCsrOwo+PiAtwqDCoMKgIGVsc2UgaWYgKHEtPnByb3BlcnRpZXMudHlwZSA9
PSBLRkRfUVVFVUVfVFlQRV9TRE1BX1hHTUkpCj4+IC3CoMKgwqDCoMKgwqDCoCBkcW0tPnhnbWlf
c2RtYV9xdWV1ZV9jb3VudCsrOwo+PiAtCj4+IMKgwqDCoMKgwqAgaWYgKHEtPnByb3BlcnRpZXMu
aXNfYWN0aXZlKSB7Cj4+IMKgwqDCoMKgwqDCoMKgwqDCoCBpbmNyZW1lbnRfcXVldWVfY291bnQo
ZHFtLCBxLT5wcm9wZXJ0aWVzLnR5cGUpOwo+PiDCoCBAQCAtMTM2Nyw5ICsxMzYzLDkgQEAgc3Rh
dGljIGludCB1bm1hcF9xdWV1ZXNfY3BzY2goc3RydWN0IAo+PiBkZXZpY2VfcXVldWVfbWFuYWdl
ciAqZHFtLAo+PiDCoMKgwqDCoMKgwqDCoMKgwqAgcmV0dXJuIHJldHZhbDsKPj4gwqAgwqDCoMKg
wqDCoCBwcl9kZWJ1ZygiQmVmb3JlIGRlc3Ryb3lpbmcgcXVldWVzLCBzZG1hIHF1ZXVlIGNvdW50
IGlzIDogJXUsIAo+PiB4Z21pIHNkbWEgcXVldWUgY291bnQgaXMgOiAldVxuIiwKPj4gLcKgwqDC
oMKgwqDCoMKgIGRxbS0+c2RtYV9xdWV1ZV9jb3VudCwgZHFtLT54Z21pX3NkbWFfcXVldWVfY291
bnQpOwo+PiArwqDCoMKgwqDCoMKgwqAgZHFtLT5hY3RpdmVfc2RtYV9xdWV1ZV9jb3VudCwgCj4+
IGRxbS0+YWN0aXZlX3hnbWlfc2RtYV9xdWV1ZV9jb3VudCk7Cj4+IMKgIC3CoMKgwqAgaWYgKGRx
bS0+c2RtYV9xdWV1ZV9jb3VudCA+IDAgfHwgZHFtLT54Z21pX3NkbWFfcXVldWVfY291bnQpCj4+
ICvCoMKgwqAgaWYgKGRxbS0+YWN0aXZlX3NkbWFfcXVldWVfY291bnQgPiAwIHx8IAo+PiBkcW0t
PmFjdGl2ZV94Z21pX3NkbWFfcXVldWVfY291bnQpCj4+IMKgwqDCoMKgwqDCoMKgwqDCoCB1bm1h
cF9zZG1hX3F1ZXVlcyhkcW0pOwo+PiDCoCDCoMKgwqDCoMKgIHJldHZhbCA9IHBtX3NlbmRfdW5t
YXBfcXVldWUoJmRxbS0+cGFja2V0cywgCj4+IEtGRF9RVUVVRV9UWVBFX0NPTVBVVEUsCj4+IEBA
IC0xNDQ0LDEzICsxNDQwLDEwIEBAIHN0YXRpYyBpbnQgZGVzdHJveV9xdWV1ZV9jcHNjaChzdHJ1
Y3QgCj4+IGRldmljZV9xdWV1ZV9tYW5hZ2VyICpkcW0sCj4+IMKgIMKgwqDCoMKgwqAgZGVhbGxv
Y2F0ZV9kb29yYmVsbChxcGQsIHEpOwo+PiDCoCAtwqDCoMKgIGlmIChxLT5wcm9wZXJ0aWVzLnR5
cGUgPT0gS0ZEX1FVRVVFX1RZUEVfU0RNQSkgewo+PiAtwqDCoMKgwqDCoMKgwqAgZHFtLT5zZG1h
X3F1ZXVlX2NvdW50LS07Cj4+ICvCoMKgwqAgaWYgKHEtPnByb3BlcnRpZXMudHlwZSA9PSBLRkRf
UVVFVUVfVFlQRV9TRE1BKQo+PiDCoMKgwqDCoMKgwqDCoMKgwqAgZGVhbGxvY2F0ZV9zZG1hX3F1
ZXVlKGRxbSwgcSk7Cj4+IC3CoMKgwqAgfSBlbHNlIGlmIChxLT5wcm9wZXJ0aWVzLnR5cGUgPT0g
S0ZEX1FVRVVFX1RZUEVfU0RNQV9YR01JKSB7Cj4+IC3CoMKgwqDCoMKgwqDCoCBkcW0tPnhnbWlf
c2RtYV9xdWV1ZV9jb3VudC0tOwo+PiArwqDCoMKgIGVsc2UgaWYgKHEtPnByb3BlcnRpZXMudHlw
ZSA9PSBLRkRfUVVFVUVfVFlQRV9TRE1BX1hHTUkpCj4+IMKgwqDCoMKgwqDCoMKgwqDCoCBkZWFs
bG9jYXRlX3NkbWFfcXVldWUoZHFtLCBxKTsKPj4gLcKgwqDCoCB9Cj4+IMKgIMKgwqDCoMKgwqAg
bGlzdF9kZWwoJnEtPmxpc3QpOwo+PiDCoMKgwqDCoMKgIHFwZC0+cXVldWVfY291bnQtLTsKPj4g
QEAgLTE2NzMsMTMgKzE2NjYsMTAgQEAgc3RhdGljIGludCBwcm9jZXNzX3Rlcm1pbmF0aW9uX2Nw
c2NoKHN0cnVjdCAKPj4gZGV2aWNlX3F1ZXVlX21hbmFnZXIgKmRxbSwKPj4gwqAgwqDCoMKgwqDC
oCAvKiBDbGVhciBhbGwgdXNlciBtb2RlIHF1ZXVlcyAqLwo+PiDCoMKgwqDCoMKgIGxpc3RfZm9y
X2VhY2hfZW50cnkocSwgJnFwZC0+cXVldWVzX2xpc3QsIGxpc3QpIHsKPj4gLcKgwqDCoMKgwqDC
oMKgIGlmIChxLT5wcm9wZXJ0aWVzLnR5cGUgPT0gS0ZEX1FVRVVFX1RZUEVfU0RNQSkgewo+PiAt
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBkcW0tPnNkbWFfcXVldWVfY291bnQtLTsKPj4gK8KgwqDC
oMKgwqDCoMKgIGlmIChxLT5wcm9wZXJ0aWVzLnR5cGUgPT0gS0ZEX1FVRVVFX1RZUEVfU0RNQSkK
Pj4gwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgZGVhbGxvY2F0ZV9zZG1hX3F1ZXVlKGRxbSwg
cSk7Cj4+IC3CoMKgwqDCoMKgwqDCoCB9IGVsc2UgaWYgKHEtPnByb3BlcnRpZXMudHlwZSA9PSBL
RkRfUVVFVUVfVFlQRV9TRE1BX1hHTUkpIHsKPj4gLcKgwqDCoMKgwqDCoMKgwqDCoMKgwqAgZHFt
LT54Z21pX3NkbWFfcXVldWVfY291bnQtLTsKPj4gK8KgwqDCoMKgwqDCoMKgIGVsc2UgaWYgKHEt
PnByb3BlcnRpZXMudHlwZSA9PSBLRkRfUVVFVUVfVFlQRV9TRE1BX1hHTUkpCj4+IMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgIGRlYWxsb2NhdGVfc2RtYV9xdWV1ZShkcW0sIHEpOwo+PiAtwqDC
oMKgwqDCoMKgwqAgfQo+PiDCoCDCoMKgwqDCoMKgwqDCoMKgwqAgaWYgKHEtPnByb3BlcnRpZXMu
aXNfYWN0aXZlKQo+PiDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBkZWNyZW1lbnRfcXVldWVf
Y291bnQoZHFtLCBxLT5wcm9wZXJ0aWVzLnR5cGUpOwo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRrZmQva2ZkX2RldmljZV9xdWV1ZV9tYW5hZ2VyLmggCj4+IGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX2RldmljZV9xdWV1ZV9tYW5hZ2VyLmgKPj4gaW5kZXgg
MDVlMGFmYzA0Y2Q5Li42MjQ3MmExODZkNGYgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1ka2ZkL2tmZF9kZXZpY2VfcXVldWVfbWFuYWdlci5oCj4+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9kZXZpY2VfcXVldWVfbWFuYWdlci5oCj4+IEBAIC0xODIs
OCArMTgyLDkgQEAgc3RydWN0IGRldmljZV9xdWV1ZV9tYW5hZ2VyIHsKPj4gwqDCoMKgwqDCoCB1
bnNpZ25lZCBpbnTCoMKgwqDCoMKgwqDCoCBwcm9jZXNzZXNfY291bnQ7Cj4+IMKgwqDCoMKgwqAg
dW5zaWduZWQgaW50wqDCoMKgwqDCoMKgwqAgYWN0aXZlX3F1ZXVlX2NvdW50Owo+PiDCoMKgwqDC
oMKgIHVuc2lnbmVkIGludMKgwqDCoMKgwqDCoMKgIGFjdGl2ZV9jcF9xdWV1ZV9jb3VudDsKPj4g
LcKgwqDCoCB1bnNpZ25lZCBpbnTCoMKgwqDCoMKgwqDCoCBzZG1hX3F1ZXVlX2NvdW50Owo+PiAt
wqDCoMKgIHVuc2lnbmVkIGludMKgwqDCoMKgwqDCoMKgIHhnbWlfc2RtYV9xdWV1ZV9jb3VudDsK
Pj4gK8KgwqDCoCB1bnNpZ25lZCBpbnTCoMKgwqDCoMKgwqDCoCBjcF9xdWV1ZV9jb3VudDsKPiBb
eXpdIEkgaGF2ZSBkZWxldGVkIHRoaXMgaXRlbSBhcyBpdCBpcyBhY3R1YWxseSBub3QgbmVlZGVk
Lgo+PiArwqDCoMKgIHVuc2lnbmVkIGludCBhY3RpdmVfc2RtYV9xdWV1ZV9jb3VudDsKPj4gK8Kg
wqDCoCB1bnNpZ25lZCBpbnTCoMKgwqDCoMKgwqDCoCBhY3RpdmVfeGdtaV9zZG1hX3F1ZXVlX2Nv
dW50Owo+PiDCoMKgwqDCoMKgIHVuc2lnbmVkIGludMKgwqDCoMKgwqDCoMKgIHRvdGFsX3F1ZXVl
X2NvdW50Owo+PiDCoMKgwqDCoMKgIHVuc2lnbmVkIGludMKgwqDCoMKgwqDCoMKgIG5leHRfcGlw
ZV90b19hbGxvY2F0ZTsKPj4gwqDCoMKgwqDCoCB1bnNpZ25lZCBpbnTCoMKgwqDCoMKgwqDCoCAq
YWxsb2NhdGVkX3F1ZXVlczsKPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
a2ZkL2tmZF9wcm9jZXNzX3F1ZXVlX21hbmFnZXIuYyAKPj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGtmZC9rZmRfcHJvY2Vzc19xdWV1ZV9tYW5hZ2VyLmMKPj4gaW5kZXggYzYwNGEyZWRlM2Y1
Li45NDFiNTg3NmYxOWYgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2Zk
L2tmZF9wcm9jZXNzX3F1ZXVlX21hbmFnZXIuYwo+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGtmZC9rZmRfcHJvY2Vzc19xdWV1ZV9tYW5hZ2VyLmMKPj4gQEAgLTI0MSwxNiArMjQxLDEy
IEBAIGludCBwcW1fY3JlYXRlX3F1ZXVlKHN0cnVjdCAKPj4gcHJvY2Vzc19xdWV1ZV9tYW5hZ2Vy
ICpwcW0sCj4+IMKgwqDCoMKgwqAgc3dpdGNoICh0eXBlKSB7Cj4+IMKgwqDCoMKgwqAgY2FzZSBL
RkRfUVVFVUVfVFlQRV9TRE1BOgo+PiDCoMKgwqDCoMKgIGNhc2UgS0ZEX1FVRVVFX1RZUEVfU0RN
QV9YR01JOgo+PiAtwqDCoMKgwqDCoMKgwqAgaWYgKCh0eXBlID09IEtGRF9RVUVVRV9UWVBFX1NE
TUEgJiYgZGV2LT5kcW0tPnNkbWFfcXVldWVfY291bnQKPj4gLcKgwqDCoMKgwqDCoMKgwqDCoMKg
wqAgPj0gZ2V0X251bV9zZG1hX3F1ZXVlcyhkZXYtPmRxbSkpIHx8Cj4+IC3CoMKgwqDCoMKgwqDC
oMKgwqDCoMKgICh0eXBlID09IEtGRF9RVUVVRV9UWVBFX1NETUFfWEdNSSAmJgo+PiAtwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoCBkZXYtPmRxbS0+eGdtaV9zZG1hX3F1ZXVlX2NvdW50Cj4+IC3CoMKg
wqDCoMKgwqDCoMKgwqDCoMKgID49IGdldF9udW1feGdtaV9zZG1hX3F1ZXVlcyhkZXYtPmRxbSkp
KSB7Cj4+IC3CoMKgwqDCoMKgwqDCoMKgwqDCoMKgIHByX2RlYnVnKCJPdmVyLXN1YnNjcmlwdGlv
biBpcyBub3QgYWxsb3dlZCBmb3IgU0RNQS5cbiIpOwo+PiAtwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oCByZXR2YWwgPSAtRVBFUk07Cj4+IC3CoMKgwqDCoMKgwqDCoMKgwqDCoMKgIGdvdG8gZXJyX2Ny
ZWF0ZV9xdWV1ZTsKPj4gLcKgwqDCoMKgwqDCoMKgIH0KPj4gLQo+PiArwqDCoMKgwqDCoMKgwqAg
LyogU0RNQSBxdWV1ZXMgYXJlIGFsd2F5cyBhbGxvY2F0ZWQgc3RhdGljYWxseSBubyBtYXR0ZXIK
Pj4gK8KgwqDCoMKgwqDCoMKgwqAgKiB3aGljaCBzY2hlZHVsZXIgbW9kZSBpcyB1c2VkLiBXZSBh
bHNvIGRvIG5vdCBuZWVkIHRvCj4+ICvCoMKgwqDCoMKgwqDCoMKgICogY2hlY2sgd2hldGhlciBh
IFNETUEgcXVldWUgY2FuIGJlIGFsbG9jYXRlZCBoZXJlLCBiZWNhdXNlCj4+ICvCoMKgwqDCoMKg
wqDCoMKgICogYWxsb2NhdGVfc2RtYV9xdWV1ZSgpIGluIGNyZWF0ZV9xdWV1ZSgpIGhhcyB0aGUK
Pj4gK8KgwqDCoMKgwqDCoMKgwqAgKiBjb3JyZXNwb25kaW5nIGNoZWNrIGxvZ2ljIHRoZXJlLgo+
PiArwqDCoMKgwqDCoMKgwqDCoCAqLwo+PiDCoMKgwqDCoMKgwqDCoMKgwqAgcmV0dmFsID0gaW5p
dF91c2VyX3F1ZXVlKHBxbSwgZGV2LCAmcSwgcHJvcGVydGllcywgZiwgKnFpZCk7Cj4+IMKgwqDC
oMKgwqDCoMKgwqDCoCBpZiAocmV0dmFsICE9IDApCj4+IMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgIGdvdG8gZXJyX2NyZWF0ZV9xdWV1ZTsKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVl
ZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5m
by9hbWQtZ2Z4Cg==
