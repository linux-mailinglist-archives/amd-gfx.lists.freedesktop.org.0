Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 4D72083D253
	for <lists+amd-gfx@lfdr.de>; Fri, 26 Jan 2024 03:00:20 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D68B910E00C;
	Fri, 26 Jan 2024 01:59:47 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM04-DM6-obe.outbound.protection.outlook.com
 (mail-dm6nam04on2069.outbound.protection.outlook.com [40.107.102.69])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 54E3210E00C
 for <amd-gfx@lists.freedesktop.org>; Fri, 26 Jan 2024 01:59:43 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=Ef/0aDMNdB5lEtzEoSRgF4aGE9zEAhOi/lWANB+oZoGcnQaSp7BSOU8rm8GIYpA6wT06lsqGU/cdq9tBlRSE4NqbbIejB07DNgA7QHfzxEBgQfila5MB5YFlm0NW7QycmELe8LxilR4T3Mhe9t5cz6tYYoM/rXE6lGUHgTuOyBexvlBIHfcj6qpjGj3YeK2CDRcaaQzWG8HyjJycxtgdZ6FiB2hA8XHAr1jy7F7s+yJqLQ99hiX+JQhDu9o5WiWlGoTKRXX43aU3Q8krAtNJqpdJN1qwIwC0P8gHe/saozkJ9OSJ7ORFZWAlKnefV/Z9Qigr/GNV6JkeLFjaB+7pZQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=SKndMFZd1pn1mBUvRwZu3g7Jo62aHf+umDFG48YPFds=;
 b=dY8+gfJ9/lA/NCcsaZJE/Jez3Ozk/q/d/kii4a7tIKWhMlwdI+DKCWNJSTwzoRWNknYxP9RKtLgg301mbb9gJupMcjXwbPMK3CjhzY7XrOibrT0tKQpexjiwgZl6ipwQwbatpJKy6ULEOWgMrV2padM9Guz78EGSRNuIMhQc15o0/WHthkbcsghGXTnSzt3KlPhbZiGLL3RibGULoQDSTlI+vtEdgPicFN5iOH6aV1eWFJjsw9ZgTAhDjUMoccHD/fmOoPlCCexAY2/KxPfXpDIeKUaLdTQaRMFmAg3bR8FwG0ROo4pSw0NUU0/7nNqlIULuEXXsv88STGkklUYctw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=amd.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=SKndMFZd1pn1mBUvRwZu3g7Jo62aHf+umDFG48YPFds=;
 b=rczgFWE2DmYMppuSrJg6Uvl4IkX0G5BBBhDA9AbrD/hom3qwHOaxsroMfmUm/Dhdwvl8toprTByiRlmjiewhui5Q9jUK/MBIIInrHOULq4ZKjvaNDRLs7KiXXJezFv0bt2adqASFfvQLdCiKcO5TVa5536dbPIrCkxxQ8nt0VKg=
Received: from MW6PR12MB8898.namprd12.prod.outlook.com (2603:10b6:303:246::8)
 by DS0PR12MB9039.namprd12.prod.outlook.com (2603:10b6:8:de::21) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.7202.37; Fri, 26 Jan
 2024 01:59:39 +0000
Received: from MW6PR12MB8898.namprd12.prod.outlook.com
 ([fe80::2481:719a:5a7a:d6ad]) by MW6PR12MB8898.namprd12.prod.outlook.com
 ([fe80::2481:719a:5a7a:d6ad%3]) with mapi id 15.20.7202.035; Fri, 26 Jan 2024
 01:59:39 +0000
From: "Yu, Lang" <Lang.Yu@amd.com>
To: "Kuehling, Felix" <Felix.Kuehling@amd.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH v2] drm/amdkfd: reserve the BO before validating it
Thread-Topic: [PATCH v2] drm/amdkfd: reserve the BO before validating it
Thread-Index: AQHaTRKjQLwVg2gkgkGeAv7pxTku2rDpgdIAgAHW4xA=
Date: Fri, 26 Jan 2024 01:59:39 +0000
Message-ID: <MW6PR12MB8898D40BC526B6915B6FA71FFB792@MW6PR12MB8898.namprd12.prod.outlook.com>
References: <20240122090843.1540732-1-Lang.Yu@amd.com>
 <b1660947-5ee8-4b6f-a760-fb82d3d09399@amd.com>
In-Reply-To: <b1660947-5ee8-4b6f-a760-fb82d3d09399@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
msip_labels: MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_ActionId=7106b3f9-5517-40c7-99ab-d9ecf8e21778;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_ContentBits=0;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_Enabled=true;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_Method=Standard;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_Name=General;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_SetDate=2024-01-26T01:46:05Z;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_SiteId=3dd8961f-e488-4e60-8e11-a82d994e183d;
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=amd.com;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: MW6PR12MB8898:EE_|DS0PR12MB9039:EE_
x-ms-office365-filtering-correlation-id: 77437f34-cabb-4121-7710-08dc1e127497
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: 1tKq+Ir1tEsNidnGTAfaBwMmRN7MIAeqq5k/kVnwzAW97Lj/O00EdzVLA6lZzcDSvlb/AHfGbId0xGDF42yn5ixKho10OWy8D/wr1PMeV39gSyrgl0y71xDE84R6a/gVYqRtSBCd5KvZNQtYpDJwanJm5QwpOJzIxh8FLfmVXZgcoy4WT5iSHB1j/JDXYnwZB3AWQkIoG5QAJBHCQSoNDaEOzHT4sbf3j+2d74hSTuUZTpzrV4qUm+JjTDjO7RlrZkYSSdLf8fMHuN+pwl3FoYMF3jNnDJ6k2bBZ2dSikX7pI0FXYMZfRb70dMfz57GPHmXecZEqRb4UrXYlG9vtOP5xRO4J861lgzWhe+L0esFhqDHEc6PjaU7hj7TrAQE3vHUSMsoskwx7QLsMAUYj2vq85psYs0m00g+N1V7DEgnwZ4uDsVHPOprh1DT7JxA+LuPjUycOi43RKURdHZXpfhoK2/2zRH9NMSALm4L0CXrVrIzVxcNdb2FqxRXM7kFhtMNGUfb56VTNvvXlVjIu8Var4mEYEoCox0SCBuWSu2j+hmdx/LTUKoP5QsFgBbvMloX3rXhV3N8E/TM3cWYWD2xqNNT0SuCupIpBU3mW/5uttUFd6OhHSUWEVYuayyyv/3xyOLrqXJhUbchfVz+AjbMJOudTcz2FlGpVQ5PXAUI=
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:MW6PR12MB8898.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(13230031)(346002)(39860400002)(136003)(396003)(376002)(366004)(230173577357003)(230273577357003)(230922051799003)(1800799012)(451199024)(64100799003)(186009)(9686003)(83380400001)(41300700001)(64756008)(26005)(38100700002)(76116006)(66946007)(7696005)(4326008)(66446008)(5660300002)(8676002)(122000001)(8936002)(66556008)(478600001)(316002)(71200400001)(6506007)(66476007)(110136005)(2906002)(52536014)(86362001)(33656002)(38070700009)(55016003);
 DIR:OUT; SFP:1101; 
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?cnFnc1Rxd1k1b2k1aUNVdnVVV0tRMVZiN05mQjBWMnBKbVFXVUNQTXlQZmNH?=
 =?utf-8?B?cnlsOFJsWHVvcWRuRk1MUlpZMmlFQXl0RnJuaTcweVFhNUNreStrWlRmamVo?=
 =?utf-8?B?R2trQlVsUVpIZ0hjNkFvZDFCK3VHa2IvS0VTR3ZydktxZXJpRDlIeFhuSDBw?=
 =?utf-8?B?bFB5ZVlJdEdKLzVZUndoZEpQcFF1OGhDZVFIQ3JSa1FPS0RRWXdkMmIvZlJM?=
 =?utf-8?B?ZDNyWEcydUQ1TVBkRk84T3pYTXo2YWpONmorc2ZLem1FbWtITmhzUkNtWDd6?=
 =?utf-8?B?Si9tOGtQZUUrTm95NzhsWTFLUnJxcDdibE54OTdzWVozWU84NUlYcUxhQ3hN?=
 =?utf-8?B?RlVaWkp4L1g2ZGE2MkRoRG0vY2dUZW5GSjQweDJzVmk0VzFleGpFc2RXcHdQ?=
 =?utf-8?B?ckwyVHlYOVF4c3hHRndQbzlhWkxxeG9CMUdIZFk1SnYxamlrYjBqRFI0T2ZD?=
 =?utf-8?B?Smd6S3Vhb0R2NGluVHVqTnI1ZUNFT2hUUzUyY0YrN04vZzUvTGJySDJmVXhl?=
 =?utf-8?B?dlJKbytnaWhrL1hJcWRETWY1dEVoQkRLcXJINzFhRkRyRlQ3UEdlZFBkSTFH?=
 =?utf-8?B?N20yTFJKN0laOVBmLzkwRzYvaExDelk2Y2xQYmQwUzBibTJiRHlYZmZmR3oz?=
 =?utf-8?B?NERFRVdUWGkvM1NnR1Jzd29ySk1kaVVEdEwxRjJZMHhNREt2YTZFL0RQNGc3?=
 =?utf-8?B?S2drdC91bzJ6TytuS0xjMXA3UHVKOGl0MmwzdFRINFlER1owS2V4VHZwZjhT?=
 =?utf-8?B?RWpXbWR4d2NwKytzU1p3dHBHc01HcXBsL3dPdlRBOXMrYXFNS3dKSDIrc1ZQ?=
 =?utf-8?B?K3JLbUlxWVFEbDFUbzdCZGFady9rZEEwYjN6b2pQT1F1RmxoOWIvb1k1aVNZ?=
 =?utf-8?B?NDJzNFNzWFlDWURZVzByNXpYVUZTeXQxb1NhOGtlZHYxTDRiMGxTaFk3ZUFu?=
 =?utf-8?B?c3ZOdDJsRXNUOFBZaFB2bGU3ODNySloxc1pvaDFBSktXRHN2MWQ2UXcyWndr?=
 =?utf-8?B?WnIyTWV3Z0dJS0ozQy9Qci9La1NlQmZsSkdxZWlURG9wVWtjZUZKTGlONWlW?=
 =?utf-8?B?MnFvTGhBNTJycmhoNTV5UFIzKzNvV0U1S0EzZ2pYQ1hTTjV4RkZLbFNST0NX?=
 =?utf-8?B?cmwwSGNUUmRuaGZyMUZRd0o0eUlxRGZDU2pLVzRJQVNnelJYMTNUVjNCR1ly?=
 =?utf-8?B?NUdUaEJNdkl0UGttd0gyZ0lUTjdjQStQVmlxWnNmWnMycjJuQ0xRSDBkSm9U?=
 =?utf-8?B?SEhKd2U3VG9aRldJWGR5d3BpaG1wZEM4ZlhlVUxQSTRxQVhLNVg1czZ6TVZ4?=
 =?utf-8?B?TUtYbFVjalNhMFlEb2tBVm9BODZqSW1qbU4zY3NQV3F5czRaT3dGT0NNano4?=
 =?utf-8?B?TlBFUlZZNmRyZkdoeUViYWVudnRheHF0VzlCYmtJOVVDd2Y3aG9uTUZmeEVX?=
 =?utf-8?B?NmVCZWRndFhvWE1GRDR0R2loYlN6bmVhOWFwVGs4NlRHNlVuL3V6cWY0dWlC?=
 =?utf-8?B?L2F1MlpPRUNoazQ1Mkpmd0FWZjlHamFUMUFQYzVaMnJrODhMU09xaGhKbHIy?=
 =?utf-8?B?QldUVGtQQmp0UVMzWWk2WW9rallTMkNicG5rdExjY0MwZmVWeHpQbzhPZU1k?=
 =?utf-8?B?QlV3L1p3VVNVZytLeng3NlBXRVVXZ3haQUdaYmpkbzNSSzNod3FGZHhFS1Z1?=
 =?utf-8?B?akRKV082NmNvSHVycHZ2MUZ3bzRrN3dPcUtxNk5QbHRxRmRYcWpNRXVZVm4z?=
 =?utf-8?B?UkIxZUlRRXFXdDBKRGlVTU5nZUVXOCtFdlFqcEk0c3hGcnM2UEllYW9qQno0?=
 =?utf-8?B?VDQ2MFZrSytYNEx0bUNnT0EwRHllcWF6TjM3TnVVcWVMQklNbnRIWW80OGJE?=
 =?utf-8?B?eC9zamJieFluck1DL2hNY3FiVjFveUovNTVRS2Y2Mm5tc254QjZjVm5lSjcr?=
 =?utf-8?B?eGJZUElUM0cvNDJhdkdDbytxVkhQYnh2VzZYT3ZCWmwwNHdRZjhpYmxCbTRG?=
 =?utf-8?B?aG9Xc0FyMVBMZktJZUdKLzBvWHNHRXJ0MjRKS0g3d1VkZ1dRSFd6a2tEeWYw?=
 =?utf-8?B?S1RUT3ZNaDVBT25wSm8rT0hENVBmV2kxZTFmTmlxTnQrU3BsZ05Gc1B0KzNl?=
 =?utf-8?Q?ZSK0=3D?=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: MW6PR12MB8898.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 77437f34-cabb-4121-7710-08dc1e127497
X-MS-Exchange-CrossTenant-originalarrivaltime: 26 Jan 2024 01:59:39.3791 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: eDtRZLYbf3zwI36qu1U/jkSy6Jb00Pic2H1lNZ/a+SffKWM9DHjB61AjVJY1CeXY/EEdyZna+4oBnHO+RPd75g==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DS0PR12MB9039
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Francis, David" <David.Francis@amd.com>
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

W0FNRCBPZmZpY2lhbCBVc2UgT25seSAtIEdlbmVyYWxdDQoNCj4tLS0tLU9yaWdpbmFsIE1lc3Nh
Z2UtLS0tLQ0KPkZyb206IEt1ZWhsaW5nLCBGZWxpeCA8RmVsaXguS3VlaGxpbmdAYW1kLmNvbT4N
Cj5TZW50OiBUaHVyc2RheSwgSmFudWFyeSAyNSwgMjAyNCA1OjQxIEFNDQo+VG86IFl1LCBMYW5n
IDxMYW5nLll1QGFtZC5jb20+OyBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZw0KPkNjOiBG
cmFuY2lzLCBEYXZpZCA8RGF2aWQuRnJhbmNpc0BhbWQuY29tPg0KPlN1YmplY3Q6IFJlOiBbUEFU
Q0ggdjJdIGRybS9hbWRrZmQ6IHJlc2VydmUgdGhlIEJPIGJlZm9yZSB2YWxpZGF0aW5nIGl0DQo+
DQo+T24gMjAyNC0wMS0yMiA0OjA4LCBMYW5nIFl1IHdyb3RlOg0KPj4gRml4ZXM6IDQxMGYwODUx
NmUwZiAoImRybS9hbWRrZmQ6IE1vdmUgZG1hIHVubWFwcGluZyBhZnRlciBUTEIgZmx1c2giKQ0K
Pj4NCj4+IHYyOg0KPj4gQXZvaWQgdW5tYXBwaW5nIGF0dGFjaG1lbnQgdHdpY2Ugd2hlbiBFUkVT
VEFSVFNZUy4NCj4+DQo+PiBbICAgNDEuNzA4NzExXSBXQVJOSU5HOiBDUFU6IDAgUElEOiAxNDYz
IGF0DQo+ZHJpdmVycy9ncHUvZHJtL3R0bS90dG1fYm8uYzo4NDYgdHRtX2JvX3ZhbGlkYXRlKzB4
MTQ2LzB4MWIwIFt0dG1dDQo+PiBbICAgNDEuNzA4OTg5XSBDYWxsIFRyYWNlOg0KPj4gWyAgIDQx
LjcwODk5Ml0gIDxUQVNLPg0KPj4gWyAgIDQxLjcwODk5Nl0gID8gc2hvd19yZWdzKzB4NmMvMHg4
MA0KPj4gWyAgIDQxLjcwOTAwMF0gID8gdHRtX2JvX3ZhbGlkYXRlKzB4MTQ2LzB4MWIwIFt0dG1d
DQo+PiBbICAgNDEuNzA5MDA4XSAgPyBfX3dhcm4rMHg5My8weDE5MA0KPj4gWyAgIDQxLjcwOTAx
NF0gID8gdHRtX2JvX3ZhbGlkYXRlKzB4MTQ2LzB4MWIwIFt0dG1dDQo+PiBbICAgNDEuNzA5MDI0
XSAgPyByZXBvcnRfYnVnKzB4MWY5LzB4MjEwDQo+PiBbICAgNDEuNzA5MDM1XSAgPyBoYW5kbGVf
YnVnKzB4NDYvMHg4MA0KPj4gWyAgIDQxLjcwOTA0MV0gID8gZXhjX2ludmFsaWRfb3ArMHgxZC8w
eDgwDQo+PiBbICAgNDEuNzA5MDQ4XSAgPyBhc21fZXhjX2ludmFsaWRfb3ArMHgxZi8weDMwDQo+
PiBbICAgNDEuNzA5MDU3XSAgPyBhbWRncHVfYW1ka2ZkX2dwdXZtX2RtYXVubWFwX21lbSsweDJj
LzB4ODANCj5bYW1kZ3B1XQ0KPj4gWyAgIDQxLjcwOTE4NV0gID8gdHRtX2JvX3ZhbGlkYXRlKzB4
MTQ2LzB4MWIwIFt0dG1dDQo+PiBbICAgNDEuNzA5MTk3XSAgPyBhbWRncHVfYW1ka2ZkX2dwdXZt
X2RtYXVubWFwX21lbSsweDJjLzB4ODANCj5bYW1kZ3B1XQ0KPj4gWyAgIDQxLjcwOTMzN10gID8g
c3Jzb19hbGlhc19yZXR1cm5fdGh1bmsrMHg1LzB4N2YNCj4+IFsgICA0MS43MDkzNDZdICBrZmRf
bWVtX2RtYXVubWFwX2F0dGFjaG1lbnQrMHg5ZS8weDFlMCBbYW1kZ3B1XQ0KPj4gWyAgIDQxLjcw
OTQ2N10gIGFtZGdwdV9hbWRrZmRfZ3B1dm1fZG1hdW5tYXBfbWVtKzB4NTYvMHg4MA0KPlthbWRn
cHVdDQo+PiBbICAgNDEuNzA5NTg2XSAga2ZkX2lvY3RsX3VubWFwX21lbW9yeV9mcm9tX2dwdSsw
eDFiNy8weDMwMCBbYW1kZ3B1XQ0KPj4gWyAgIDQxLjcwOTcxMF0gIGtmZF9pb2N0bCsweDFlYy8w
eDY1MCBbYW1kZ3B1XQ0KPj4gWyAgIDQxLjcwOTgyMl0gID8gX19wZnhfa2ZkX2lvY3RsX3VubWFw
X21lbW9yeV9mcm9tX2dwdSsweDEwLzB4MTANCj5bYW1kZ3B1XQ0KPj4gWyAgIDQxLjcwOTk0NV0g
ID8gc3Jzb19hbGlhc19yZXR1cm5fdGh1bmsrMHg1LzB4N2YNCj4+IFsgICA0MS43MDk5NDldICA/
IHRvbW95b19maWxlX2lvY3RsKzB4MjAvMHgzMA0KPj4gWyAgIDQxLjcwOTk1OV0gIF9feDY0X3N5
c19pb2N0bCsweDljLzB4ZDANCj4+IFsgICA0MS43MDk5NjddICBkb19zeXNjYWxsXzY0KzB4M2Yv
MHg5MA0KPj4gWyAgIDQxLjcwOTk3M10gIGVudHJ5X1NZU0NBTExfNjRfYWZ0ZXJfaHdmcmFtZSsw
eDZlLzB4ZDgNCj4+DQo+PiBTaWduZWQtb2ZmLWJ5OiBMYW5nIFl1IDxMYW5nLll1QGFtZC5jb20+
DQo+PiAtLS0NCj4+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZC5o
ICAgIHwgIDIgKy0NCj4+ICAgLi4uL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYW1ka2ZkX2dw
dXZtLmMgIHwgMjgNCj4rKysrKysrKysrKysrKysrKy0tDQo+PiAgIGRyaXZlcnMvZ3B1L2RybS9h
bWQvYW1ka2ZkL2tmZF9jaGFyZGV2LmMgICAgICB8ICA0ICsrLQ0KPj4gICAzIGZpbGVzIGNoYW5n
ZWQsIDI5IGluc2VydGlvbnMoKyksIDUgZGVsZXRpb25zKC0pDQo+Pg0KPj4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmQuaA0KPj4gYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYW1ka2ZkLmgNCj4+IGluZGV4IDU4NGEwY2VhNTU3
Mi4uNDE4NTQ0MTdlNDg3IDEwMDY0NA0KPj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X2FtZGtmZC5oDQo+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9h
bWRncHVfYW1ka2ZkLmgNCj4+IEBAIC0zMTEsNyArMzExLDcgQEAgaW50DQo+YW1kZ3B1X2FtZGtm
ZF9ncHV2bV9tYXBfbWVtb3J5X3RvX2dwdShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4+
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cnVjdCBrZ2RfbWVtICpt
ZW0sIHZvaWQNCj4qZHJtX3ByaXYpOw0KPj4gICBpbnQgYW1kZ3B1X2FtZGtmZF9ncHV2bV91bm1h
cF9tZW1vcnlfZnJvbV9ncHUoDQo+PiAgICAgICAgICAgICAgc3RydWN0IGFtZGdwdV9kZXZpY2Ug
KmFkZXYsIHN0cnVjdCBrZ2RfbWVtICptZW0sIHZvaWQNCj4qZHJtX3ByaXYpOw0KPj4gLXZvaWQg
YW1kZ3B1X2FtZGtmZF9ncHV2bV9kbWF1bm1hcF9tZW0oc3RydWN0IGtnZF9tZW0gKm1lbSwgdm9p
ZA0KPj4gKmRybV9wcml2KTsNCj4+ICtpbnQgYW1kZ3B1X2FtZGtmZF9ncHV2bV9kbWF1bm1hcF9t
ZW0oc3RydWN0IGtnZF9tZW0gKm1lbSwgdm9pZA0KPj4gKypkcm1fcHJpdik7DQo+PiAgIGludCBh
bWRncHVfYW1ka2ZkX2dwdXZtX3N5bmNfbWVtb3J5KA0KPj4gICAgICAgICAgICAgIHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2LCBzdHJ1Y3Qga2dkX21lbSAqbWVtLCBib29sIGludHIpOw0KPj4g
ICBpbnQgYW1kZ3B1X2FtZGtmZF9ncHV2bV9tYXBfZ3R0X2JvX3RvX2tlcm5lbChzdHJ1Y3Qga2dk
X21lbSAqbWVtLA0KPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV9hbWRrZmRfZ3B1dm0uYw0KPj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRn
cHVfYW1ka2ZkX2dwdXZtLmMNCj4+IGluZGV4IDZmM2E0Y2IyYTllZi4uN2EwNTBkNDZmYTRkIDEw
MDY0NA0KPj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZF9n
cHV2bS5jDQo+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYW1ka2Zk
X2dwdXZtLmMNCj4+IEBAIC0yMDg4LDIxICsyMDg4LDQzIEBAIGludA0KPmFtZGdwdV9hbWRrZmRf
Z3B1dm1fbWFwX21lbW9yeV90b19ncHUoDQo+PiAgICAgIHJldHVybiByZXQ7DQo+PiAgIH0NCj4+
DQo+PiAtdm9pZCBhbWRncHVfYW1ka2ZkX2dwdXZtX2RtYXVubWFwX21lbShzdHJ1Y3Qga2dkX21l
bSAqbWVtLCB2b2lkDQo+PiAqZHJtX3ByaXYpDQo+PiAraW50IGFtZGdwdV9hbWRrZmRfZ3B1dm1f
ZG1hdW5tYXBfbWVtKHN0cnVjdCBrZ2RfbWVtICptZW0sIHZvaWQNCj4+ICsqZHJtX3ByaXYpDQo+
PiAgIHsNCj4+ICAgICAgc3RydWN0IGtmZF9tZW1fYXR0YWNobWVudCAqZW50cnk7DQo+PiAgICAg
IHN0cnVjdCBhbWRncHVfdm0gKnZtOw0KPj4gKyAgICBib29sIHJlc2VydmVkID0gZmFsc2U7DQo+
PiArICAgIGludCByZXQgPSAwOw0KPj4NCj4+ICAgICAgdm0gPSBkcm1fcHJpdl90b192bShkcm1f
cHJpdik7DQo+Pg0KPj4gICAgICBtdXRleF9sb2NrKCZtZW0tPmxvY2spOw0KPj4NCj4+ICAgICAg
bGlzdF9mb3JfZWFjaF9lbnRyeShlbnRyeSwgJm1lbS0+YXR0YWNobWVudHMsIGxpc3QpIHsNCj4+
IC0gICAgICAgICAgICBpZiAoZW50cnktPmJvX3ZhLT5iYXNlLnZtID09IHZtKQ0KPj4gLSAgICAg
ICAgICAgICAgICAgICAga2ZkX21lbV9kbWF1bm1hcF9hdHRhY2htZW50KG1lbSwgZW50cnkpOw0K
Pj4gKyAgICAgICAgICAgIGlmIChlbnRyeS0+Ym9fdmEtPmJhc2Uudm0gIT0gdm0pDQo+PiArICAg
ICAgICAgICAgICAgICAgICBjb250aW51ZTsNCj4+ICsgICAgICAgICAgICBpZiAoZW50cnktPnR5
cGUgPT0gS0ZEX01FTV9BVFRfU0hBUkVEIHx8DQo+PiArICAgICAgICAgICAgICAgIGVudHJ5LT50
eXBlID09IEtGRF9NRU1fQVRUX0RNQUJVRikNCj4+ICsgICAgICAgICAgICAgICAgICAgIGNvbnRp
bnVlOw0KPj4gKyAgICAgICAgICAgIGlmICghZW50cnktPmJvX3ZhLT5iYXNlLmJvLT50Ym8udHRt
LT5zZykNCj4+ICsgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KPg0KPllvdSdyZSBnb2lu
ZyB0byBncmVhdCBsZW5ndGhzIHRvIGF2b2lkIHRoZSByZXNlcnZhdGlvbiB3aGVuIGl0J3Mgbm90
IG5lZWRlZCBieQ0KPmtmZF9tZW1fZG1hdW5tYXBfYXR0YWNobWVudC4gSG93ZXZlciwgdGhpcyBm
ZWVscyBhIGJpdCBmcmFnaWxlLiBBbnkgY2hhbmdlcw0KPmluIHRoZSBrZmRfbWVtX2RtYXVubWFw
XyogZnVuY3Rpb25zIGNvdWxkIGJyZWFrIHRoaXMuDQo+DQo+PiArDQo+PiArICAgICAgICAgICAg
aWYgKCFyZXNlcnZlZCkgew0KPj4gKyAgICAgICAgICAgICAgICAgICAgcmV0ID0gYW1kZ3B1X2Jv
X3Jlc2VydmUobWVtLT5ibywgdHJ1ZSk7DQo+PiArICAgICAgICAgICAgICAgICAgICBpZiAocmV0
KQ0KPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICBnb3RvIG91dDsNCj4+ICsgICAgICAg
ICAgICAgICAgICAgIHJlc2VydmVkID0gdHJ1ZTsNCj4+ICsgICAgICAgICAgICB9DQo+PiArDQo+
PiArICAgICAgICAgICAga2ZkX21lbV9kbWF1bm1hcF9hdHRhY2htZW50KG1lbSwgZW50cnkpOw0K
Pj4gICAgICB9DQo+Pg0KPj4gKyAgICBpZiAocmVzZXJ2ZWQpDQo+PiArICAgICAgICAgICAgYW1k
Z3B1X2JvX3VucmVzZXJ2ZShtZW0tPmJvKTsNCj4+ICsNCj4+ICtvdXQ6DQo+PiAgICAgIG11dGV4
X3VubG9jaygmbWVtLT5sb2NrKTsNCj4+ICsNCj4+ICsgICAgcmV0dXJuIHJldDsNCj4+ICAgfQ0K
Pj4NCj4+ICAgaW50IGFtZGdwdV9hbWRrZmRfZ3B1dm1fdW5tYXBfbWVtb3J5X2Zyb21fZ3B1KA0K
Pj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9jaGFyZGV2LmMN
Cj4+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX2NoYXJkZXYuYw0KPj4gaW5kZXgg
Y2U0YzUyZWMzNGQ4Li44MGU5MGZkZWYyOTEgMTAwNjQ0DQo+PiAtLS0gYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGtmZC9rZmRfY2hhcmRldi5jDQo+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGtmZC9rZmRfY2hhcmRldi5jDQo+PiBAQCAtMTQ0Miw3ICsxNDQyLDkgQEAgc3RhdGljIGlu
dCBrZmRfaW9jdGxfdW5tYXBfbWVtb3J5X2Zyb21fZ3B1KHN0cnVjdA0KPmZpbGUgKmZpbGVwLA0K
Pj4gICAgICAgICAgICAgICAgICAgICAga2ZkX2ZsdXNoX3RsYihwZWVyX3BkZCwgVExCX0ZMVVNI
X0hFQVZZV0VJR0hUKTsNCj4+DQo+PiAgICAgICAgICAgICAgLyogUmVtb3ZlIGRtYSBtYXBwaW5n
IGFmdGVyIHRsYiBmbHVzaCB0byBhdm9pZCBJT19QQUdFX0ZBVUxUDQo+Ki8NCj4+IC0gICAgICAg
ICAgICBhbWRncHVfYW1ka2ZkX2dwdXZtX2RtYXVubWFwX21lbShtZW0sIHBlZXJfcGRkLQ0KPj5k
cm1fcHJpdik7DQo+PiArICAgICAgICAgICAgZXJyID0gYW1kZ3B1X2FtZGtmZF9ncHV2bV9kbWF1
bm1hcF9tZW0obWVtLA0KPnBlZXJfcGRkLT5kcm1fcHJpdik7DQo+PiArICAgICAgICAgICAgaWYg
KGVycikNCj4+ICsgICAgICAgICAgICAgICAgICAgIGdvdG8gc3luY19tZW1vcnlfZmFpbGVkOw0K
Pg0KPlRoaXMgaGFuZGxlcyB0aGUgY2FzZSB0aGF0IHRoZSBzeXN0ZW0gY2FsbCBnb3QgaW50ZXJy
dXB0ZWQuIEJ1dCB5b3UncmUgbm90IGhhbmRsaW5nDQo+dGhlIHJlc3RhcnQgY29ycmVjdGx5LiBX
aGVuIHRoZSBpb2N0bCBpcyByZXN0YXJ0ZWQsIHlvdSBkb24ndCBrbm93IGhvdyBtYW55DQo+ZG1h
dW5tYXBzIGFyZSBhbHJlYWR5IGRvbmUuIFNvIHlvdSdkIG5lZWQgdG8gbWFrZSBzdXJlIHRoYXQg
cmVwZWF0aW5nIHRoZQ0KPmRtYXVubWFwIGlzIHNhZmUgaW4gYWxsIGNhc2VzLiBPciB3aGF0IERh
dmlkIHRyaWVkIGVhcmxpZXIsIGZpbmQgYSB3YXkgdG8gdHJhY2sgdGhlDQo+dW5tYXBwaW5nIHNv
IHlvdSBvbmx5IHRyeSB0byBkbWF1bm1hcCBvbiBHUFVzIHdoZXJlIGl0J3MgYWN0dWFsbHkgZG1h
bWFwcGVkLg0KDQpGcm9tIHByZXZpb3VzIGRpc2N1c3Npb24sIG5vIG9uZSBsaWtlcyBhZGQgYW5v
dGhlciB2YXJpYWJsZSB0byB0cmFjayB0aGUgdW5tYXBwaW5ncy4gU28gSSdtIGF2b2lkaW5nIGFk
ZGluZyBhbm90aGVyIHZhcmlhYmxlLg0KDQpBY3R1YWxseSwgYWxsIG1lbW9yeSBhdHRhY2htZW50
cyB1c2Ugc2dfdGFibGUsIHR0bS0+c2cgaXMgTlVMTD8gY2FuIGJlIHVzZWQgYXMgYW4gaW5kaWNh
dG9yIHRvIHNlZSB3aGV0aGVyIGFuIGF0dGFjaG1lbnQgaXMgYWxyZWFkeSB1bm1hcHBlZC4NClRo
YXQgYWxyZWFkeSB1bm1hcHBlZCB3aWxsIG5vdCBiZSByZXBlYXRlZC4NCg0KUmVnYXJkcywNCkxh
bmcNCg0KPlJlZ2FyZHMsDQo+ICAgRmVsaXgNCj4NCj4NCj4+ICAgICAgfQ0KPj4NCj4+ICAgICAg
bXV0ZXhfdW5sb2NrKCZwLT5tdXRleCk7DQo=
