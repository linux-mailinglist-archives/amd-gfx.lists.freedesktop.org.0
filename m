Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 01D3027544
	for <lists+amd-gfx@lfdr.de>; Thu, 23 May 2019 06:50:04 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1681389B30;
	Thu, 23 May 2019 04:50:03 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM05-DM3-obe.outbound.protection.outlook.com
 (mail-eopbgr730046.outbound.protection.outlook.com [40.107.73.46])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8730C89B30
 for <amd-gfx@lists.freedesktop.org>; Thu, 23 May 2019 04:50:01 +0000 (UTC)
Received: from MWHPR12MB1326.namprd12.prod.outlook.com (10.169.205.19) by
 MWHPR12MB1375.namprd12.prod.outlook.com (10.169.205.10) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1900.17; Thu, 23 May 2019 04:49:58 +0000
Received: from MWHPR12MB1326.namprd12.prod.outlook.com
 ([fe80::178:6b1e:9e4c:1a14]) by MWHPR12MB1326.namprd12.prod.outlook.com
 ([fe80::178:6b1e:9e4c:1a14%10]) with mapi id 15.20.1900.020; Thu, 23 May 2019
 04:49:58 +0000
From: "Deng, Emily" <Emily.Deng@amd.com>
To: "Quan, Evan" <Evan.Quan@amd.com>, "amd-gfx@lists.freedesktop.org"
 <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH v2] drm/amdgpu: Need to set the baco cap before baco reset
Thread-Topic: [PATCH v2] drm/amdgpu: Need to set the baco cap before baco reset
Thread-Index: AQHVERdmP+90F+GeVkCkiuF1l4EVQaZ4EfOAgAAQxNA=
Date: Thu, 23 May 2019 04:49:58 +0000
Message-ID: <MWHPR12MB132650C10D6DF577D66706448F010@MWHPR12MB1326.namprd12.prod.outlook.com>
References: <1558582017-7545-1-git-send-email-Emily.Deng@amd.com>
 <MN2PR12MB33444847ACDEA3838E1B55D1E4010@MN2PR12MB3344.namprd12.prod.outlook.com>
In-Reply-To: <MN2PR12MB33444847ACDEA3838E1B55D1E4010@MN2PR12MB3344.namprd12.prod.outlook.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 39b354dc-6ac4-452e-51d3-08d6df3a1be6
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600141)(711020)(4605104)(4618075)(2017052603328)(7193020);
 SRVR:MWHPR12MB1375; 
x-ms-traffictypediagnostic: MWHPR12MB1375:
x-ms-exchange-purlcount: 1
x-microsoft-antispam-prvs: <MWHPR12MB137583A22F34F05572BA34848F010@MWHPR12MB1375.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:7691;
x-forefront-prvs: 00462943DE
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(346002)(376002)(396003)(366004)(136003)(39860400002)(13464003)(199004)(189003)(66476007)(66556008)(64756008)(66446008)(66946007)(186003)(25786009)(33656002)(73956011)(76176011)(76116006)(74316002)(26005)(316002)(55016002)(7696005)(9686003)(110136005)(6306002)(6506007)(53546011)(6246003)(6436002)(68736007)(53936002)(99286004)(102836004)(66066001)(2906002)(305945005)(71200400001)(71190400001)(72206003)(229853002)(8936002)(7736002)(8676002)(14444005)(5660300002)(11346002)(6116002)(446003)(966005)(256004)(52536014)(478600001)(3846002)(486006)(476003)(2501003)(86362001)(14454004)(81166006)(81156014);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MWHPR12MB1375;
 H:MWHPR12MB1326.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: M1vvPSHHqE1jkluhEX1yXw3ak68eB0rNvamytHSNasfoK/VyQQqcZjc0m5DwaEVMxBTt78pLfM94Lg242ZO4yrfF7WPquRln9buis/wZC/1cyMZdDQQdDyGF844mLlPup1A8DHdAKWf4laAl+fZAZVDM+fubhep0JCo+Ny+WnkjcUvkET668TI7prYypMsdfRAqSjYf6W7YqEe/KLx5yoKprdSd0HM42ltzJfGX+FZAXOiSzjCkG1Fk5lqSiQd6H2ho7bpl++iAUu9dEZbs6FY0IDc8e94pvWIEE0MsnGsqZhhSki6J0FphP/EbKXw63C98dXP5DQN2uHtX44PphtxzireZ73yGoLSaryADHBTobxpHkBQnI7TvYJkXn8QC8LkRmcHtS6L6xVN8ajUZ6l2gxGZerNKj0UpTWowya0lc=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 39b354dc-6ac4-452e-51d3-08d6df3a1be6
X-MS-Exchange-CrossTenant-originalarrivaltime: 23 May 2019 04:49:58.6038 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MWHPR12MB1375
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=iDWnTCrSalR7BpHqdFFWcDLjUMJ0vpNBERyY8E7TEJQ=;
 b=qJmyLLHKbi5CCfk2DoS7oDWXsBRJtqNR9ZnVmy0wa2V/0VNjGB1hVRVfRVn+k+dX5TaszLpDwEfER7ljZusEchBDQEk0x9uL3q8P8bmxYRRPDm05FfwcXXM4z7bPsjVat6CJtHm4U7j5atGGvLNr3CNcV2poPKJ8buR129ou+Co=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Emily.Deng@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

SGkgRXZhbiwNCiAgICAgSWYgZG9u4oCZdCBjYWxsIHNldF9hc2ljX2JhY29fY2Fw77yMIHRoZW4g
Y291bGRuJ3QgZW5hYmxlIGJhY28sIHNvIG5lZWQgdG8gbW9kaWZ5IGFtZGdwdV9zcmlvdl92ZiB0
byBsaW1pdCB0byBwYXNzdGhyb3VnaC4gQW5kIHRoZSBjb21tZW50IGlzIGluIHRoZSBwYXRjaCwg
YnV0IGRvbid0IGtub3cgd2h5IGl0IGxvc3Qgd2hlbiB1c2luZyAiIGdpdCBzZW5kLWVtYWlsIi4N
CiAgICAgQW5kIGFzIHlvdSBnYXZlIHRoZSByZXZpZXdlZC1ieSwgSSBhbHJlYWR5IHB1c2hlZCB0
aGUgcGF0Y2ggdG8gdGhlIGRybS1uZXh0Lg0KDQpCZXN0IHdpc2hlcw0KRW1pbHkgRGVuZw0KDQoN
Cg0KPi0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQo+RnJvbTogUXVhbiwgRXZhbiA8RXZhbi5R
dWFuQGFtZC5jb20+DQo+U2VudDogVGh1cnNkYXksIE1heSAyMywgMjAxOSAxMTo0NiBBTQ0KPlRv
OiBEZW5nLCBFbWlseSA8RW1pbHkuRGVuZ0BhbWQuY29tPjsgYW1kLWdmeEBsaXN0cy5mcmVlZGVz
a3RvcC5vcmcNCj5DYzogRGVuZywgRW1pbHkgPEVtaWx5LkRlbmdAYW1kLmNvbT4NCj5TdWJqZWN0
OiBSRTogW1BBVENIIHYyXSBkcm0vYW1kZ3B1OiBOZWVkIHRvIHNldCB0aGUgYmFjbyBjYXAgYmVm
b3JlIGJhY28NCj5yZXNldA0KPg0KPkkgd291bGQgYWN0dWFsbHkgZXhwZWN0IHRoZSBmb2xsb3dp
bmdzDQo+DQo+ICAgICAgIGlmICghYW1kZ3B1X3NyaW92X3ZmKGFkZXYpICYmIGFtZGdwdV9hc2lj
X25lZWRfcmVzZXRfb25faW5pdChhZGV2KSkNCj57ICAgICAgICAgLS0+IG5vIHRvdWNoIGZvciB0
aGlzDQo+KyAgICAgICAgICAgIGlmIChhbWRncHVfcGFzc3Rocm91Z2goYWRldikgJiYgYWRldi0+
cG93ZXJwbGF5LnBwX2Z1bmNzICYmDQo+YWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzLT5zZXRfYXNp
Y19iYWNvX2NhcCkgew0KPisgICAgICAgICAgICAgICAgICAgICAgIHIgPSBhZGV2LT5wb3dlcnBs
YXkucHBfZnVuY3MtPnNldF9hc2ljX2JhY29fY2FwKGFkZXYtDQo+PnBvd2VycGxheS5wcF9oYW5k
bGUpOw0KPisgICAgICAgICAgICAgICAgICAgICAgIGlmIChyKSB7DQo+KyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBkZXZfZXJyKGFkZXYtPmRldiwgInNldCBiYWNvIGNhcGFiaWxpdHkg
ZmFpbGVkXG4iKTsNCj4rICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8gZmFpbGVk
Ow0KPisgICAgICAgICAgICAgICAgICAgICAgIH0NCj4rICAgICAgICAgICAgICAgfQ0KPisNCj4N
Cj5BbmQgYnR3IHRoZSBjb21taXQgZGVzY3JpcHRpb24gd2FzIGxvc3QgY29tcGFyZWQgd2l0aCB2
MS4NCj4NCj5SZWdhcmRzLA0KPkV2YW4NCj4+IC0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQo+
PiBGcm9tOiBhbWQtZ2Z4IDxhbWQtZ2Z4LWJvdW5jZXNAbGlzdHMuZnJlZWRlc2t0b3Aub3JnPiBP
biBCZWhhbGYgT2YNCj4+IEVtaWx5IERlbmcNCj4+IFNlbnQ6IFRodXJzZGF5LCBNYXkgMjMsIDIw
MTkgMTE6MjcgQU0NCj4+IFRvOiBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZw0KPj4gQ2M6
IERlbmcsIEVtaWx5IDxFbWlseS5EZW5nQGFtZC5jb20+DQo+PiBTdWJqZWN0OiBbUEFUQ0ggdjJd
IGRybS9hbWRncHU6IE5lZWQgdG8gc2V0IHRoZSBiYWNvIGNhcCBiZWZvcmUgYmFjbw0KPj4gcmVz
ZXQNCj4+DQo+PiBbQ0FVVElPTjogRXh0ZXJuYWwgRW1haWxdDQo+Pg0KPj4gU2lnbmVkLW9mZi1i
eTogRW1pbHkgRGVuZyA8RW1pbHkuRGVuZ0BhbWQuY29tPg0KPj4gLS0tDQo+PiAgZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RldmljZS5jICAgICAgICAgfCAxMCArKysrKysrKyst
DQo+PiAgZHJpdmVycy9ncHUvZHJtL2FtZC9pbmNsdWRlL2tnZF9wcF9pbnRlcmZhY2UuaCAgICAg
fCAgMSArDQo+PiAgZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvYW1kX3Bvd2VycGxheS5j
ICAgICAgfCAxNg0KPj4gKysrKysrKysrKysrKysrKw0KPj4gIGRyaXZlcnMvZ3B1L2RybS9hbWQv
cG93ZXJwbGF5L2h3bWdyL3ZlZ2ExMF9od21nci5jIHwgIDEgKw0KPj4gIC4uLi9hbWQvcG93ZXJw
bGF5L2h3bWdyL3ZlZ2ExMF9wcm9jZXNzcHB0YWJsZXMuYyAgIHwgMjINCj4+ICsrKysrKysrKysr
KysrKysrKysrKysNCj4+ICAuLi4vYW1kL3Bvd2VycGxheS9od21nci92ZWdhMTBfcHJvY2Vzc3Bw
dGFibGVzLmggICB8ICAxICsNCj4+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMv
aHdtZ3IuaCAgICAgICAgICB8ICAxICsNCj4+ICA3IGZpbGVzIGNoYW5nZWQsIDUxIGluc2VydGlv
bnMoKyksIDEgZGVsZXRpb24oLSkNCj4+DQo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvYW1kZ3B1X2RldmljZS5jDQo+PiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2FtZGdwdV9kZXZpY2UuYw0KPj4gaW5kZXggZDYyODZlZC4uNTI4ODc2MyAxMDA2NDQNCj4+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kZXZpY2UuYw0KPj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RldmljZS5jDQo+PiBAQCAtMjYw
NSw3ICsyNjA1LDE1IEBAIGludCBhbWRncHVfZGV2aWNlX2luaXQoc3RydWN0IGFtZGdwdV9kZXZp
Y2UNCj4+ICphZGV2LA0KPj4gICAgICAgICAvKiBjaGVjayBpZiB3ZSBuZWVkIHRvIHJlc2V0IHRo
ZSBhc2ljDQo+PiAgICAgICAgICAqICBFLmcuLCBkcml2ZXIgd2FzIG5vdCBjbGVhbmx5IHVubG9h
ZGVkIHByZXZpb3VzbHksIGV0Yy4NCj4+ICAgICAgICAgICovDQo+PiAtICAgICAgIGlmICghYW1k
Z3B1X3NyaW92X3ZmKGFkZXYpICYmDQo+PiBhbWRncHVfYXNpY19uZWVkX3Jlc2V0X29uX2luaXQo
YWRldikpIHsNCj4+ICsgICAgICAgaWYgKGFtZGdwdV9wYXNzdGhyb3VnaChhZGV2KSAmJg0KPj4g
YW1kZ3B1X2FzaWNfbmVlZF9yZXNldF9vbl9pbml0KGFkZXYpKSB7DQo+PiArICAgICAgICAgICAg
ICAgaWYgKGFkZXYtPnBvd2VycGxheS5wcF9mdW5jcyAmJg0KPj4gKyBhZGV2LT5wb3dlcnBsYXku
cHBfZnVuY3MtDQo+PiA+c2V0X2FzaWNfYmFjb19jYXApIHsNCj4+ICsgICAgICAgICAgICAgICAg
ICAgICAgIHIgPQ0KPj4gKyBhZGV2LT5wb3dlcnBsYXkucHBfZnVuY3MtPnNldF9hc2ljX2JhY29f
Y2FwKGFkZXYtDQo+PiA+cG93ZXJwbGF5LnBwX2hhbmRsZSk7DQo+PiArICAgICAgICAgICAgICAg
ICAgICAgICBpZiAocikgew0KPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXZf
ZXJyKGFkZXYtPmRldiwgInNldCBiYWNvIGNhcGFiaWxpdHkgZmFpbGVkXG4iKTsNCj4+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgZ290byBmYWlsZWQ7DQo+PiArICAgICAgICAgICAg
ICAgICAgICAgICB9DQo+PiArICAgICAgICAgICAgICAgfQ0KPj4gKw0KPj4gICAgICAgICAgICAg
ICAgIHIgPSBhbWRncHVfYXNpY19yZXNldChhZGV2KTsNCj4+ICAgICAgICAgICAgICAgICBpZiAo
cikgew0KPj4gICAgICAgICAgICAgICAgICAgICAgICAgZGV2X2VycihhZGV2LT5kZXYsICJhc2lj
IHJlc2V0IG9uIGluaXQNCj4+IGZhaWxlZFxuIik7IGRpZmYgLS1naXQNCj4+IGEvZHJpdmVycy9n
cHUvZHJtL2FtZC9pbmNsdWRlL2tnZF9wcF9pbnRlcmZhY2UuaA0KPj4gYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2luY2x1ZGUva2dkX3BwX2ludGVyZmFjZS5oDQo+PiBpbmRleCAyYjU3OWJhLi4wZGNj
MThkIDEwMDY0NA0KPj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9pbmNsdWRlL2tnZF9wcF9p
bnRlcmZhY2UuaA0KPj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9pbmNsdWRlL2tnZF9wcF9p
bnRlcmZhY2UuaA0KPj4gQEAgLTI4NSw2ICsyODUsNyBAQCBzdHJ1Y3QgYW1kX3BtX2Z1bmNzIHsN
Cj4+ICAgICAgICAgaW50ICgqc2V0X2hhcmRfbWluX2ZjbGtfYnlfZnJlcSkodm9pZCAqaGFuZGxl
LCB1aW50MzJfdCBjbG9jayk7DQo+PiAgICAgICAgIGludCAoKnNldF9taW5fZGVlcF9zbGVlcF9k
Y2VmY2xrKSh2b2lkICpoYW5kbGUsIHVpbnQzMl90IGNsb2NrKTsNCj4+ICAgICAgICAgaW50ICgq
Z2V0X2FzaWNfYmFjb19jYXBhYmlsaXR5KSh2b2lkICpoYW5kbGUsIGJvb2wgKmNhcCk7DQo+PiAr
ICAgICAgIGludCAoKnNldF9hc2ljX2JhY29fY2FwKSh2b2lkICpoYW5kbGUpOw0KPj4gICAgICAg
ICBpbnQgKCpnZXRfYXNpY19iYWNvX3N0YXRlKSh2b2lkICpoYW5kbGUsIGludCAqc3RhdGUpOw0K
Pj4gICAgICAgICBpbnQgKCpzZXRfYXNpY19iYWNvX3N0YXRlKSh2b2lkICpoYW5kbGUsIGludCBz
dGF0ZSk7DQo+PiAgICAgICAgIGludCAoKmdldF9wcGZlYXR1cmVfc3RhdHVzKSh2b2lkICpoYW5k
bGUsIGNoYXIgKmJ1Zik7IGRpZmYNCj4+IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dl
cnBsYXkvYW1kX3Bvd2VycGxheS5jDQo+PiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5
L2FtZF9wb3dlcnBsYXkuYw0KPj4gaW5kZXggYmVhMTU4Ny4uOTg1Njc2MCAxMDA2NDQNCj4+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2FtZF9wb3dlcnBsYXkuYw0KPj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvYW1kX3Bvd2VycGxheS5jDQo+PiBAQCAt
MTQwNCw2ICsxNDA0LDIxIEBAIHN0YXRpYyBpbnQgcHBfc2V0X2FjdGl2ZV9kaXNwbGF5X2NvdW50
KHZvaWQNCj4+ICpoYW5kbGUsIHVpbnQzMl90IGNvdW50KQ0KPj4gICAgICAgICByZXR1cm4gcmV0
Ow0KPj4gIH0NCj4+DQo+PiArc3RhdGljIGludCBwcF9zZXRfYXNpY19iYWNvX2NhcCh2b2lkICpo
YW5kbGUpIHsNCj4+ICsgICAgICAgc3RydWN0IHBwX2h3bWdyICpod21nciA9IGhhbmRsZTsNCj4+
ICsNCj4+ICsgICAgICAgaWYgKCFod21ncikNCj4+ICsgICAgICAgICAgICAgICByZXR1cm4gLUVJ
TlZBTDsNCj4+ICsNCj4+ICsgICAgICAgaWYgKCFod21nci0+cG1fZW4gfHwgIWh3bWdyLT5od21n
cl9mdW5jLT5zZXRfYXNpY19iYWNvX2NhcCkNCj4+ICsgICAgICAgICAgICAgICByZXR1cm4gMDsN
Cj4+ICsNCj4+ICsgICAgICAgaHdtZ3ItPmh3bWdyX2Z1bmMtPnNldF9hc2ljX2JhY29fY2FwKGh3
bWdyKTsNCj4+ICsNCj4+ICsgICAgICAgcmV0dXJuIDA7DQo+PiArfQ0KPj4gKw0KPj4gIHN0YXRp
YyBpbnQgcHBfZ2V0X2FzaWNfYmFjb19jYXBhYmlsaXR5KHZvaWQgKmhhbmRsZSwgYm9vbCAqY2Fw
KSAgew0KPj4gICAgICAgICBzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyID0gaGFuZGxlOyBAQCAtMTU0
Niw2ICsxNTYxLDcgQEAgc3RhdGljDQo+PiBjb25zdCBzdHJ1Y3QgYW1kX3BtX2Z1bmNzIHBwX2Rw
bV9mdW5jcyA9IHsNCj4+ICAgICAgICAgLnNldF9oYXJkX21pbl9kY2VmY2xrX2J5X2ZyZXEgPSBw
cF9zZXRfaGFyZF9taW5fZGNlZmNsa19ieV9mcmVxLA0KPj4gICAgICAgICAuc2V0X2hhcmRfbWlu
X2ZjbGtfYnlfZnJlcSA9IHBwX3NldF9oYXJkX21pbl9mY2xrX2J5X2ZyZXEsDQo+PiAgICAgICAg
IC5nZXRfYXNpY19iYWNvX2NhcGFiaWxpdHkgPSBwcF9nZXRfYXNpY19iYWNvX2NhcGFiaWxpdHks
DQo+PiArICAgICAgIC5zZXRfYXNpY19iYWNvX2NhcCA9IHBwX3NldF9hc2ljX2JhY29fY2FwLA0K
Pj4gICAgICAgICAuZ2V0X2FzaWNfYmFjb19zdGF0ZSA9IHBwX2dldF9hc2ljX2JhY29fc3RhdGUs
DQo+PiAgICAgICAgIC5zZXRfYXNpY19iYWNvX3N0YXRlID0gcHBfc2V0X2FzaWNfYmFjb19zdGF0
ZSwNCj4+ICAgICAgICAgLmdldF9wcGZlYXR1cmVfc3RhdHVzID0gcHBfZ2V0X3BwZmVhdHVyZV9z
dGF0dXMsIGRpZmYgLS1naXQNCj4+IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaHdt
Z3IvdmVnYTEwX2h3bWdyLmMNCj4+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaHdt
Z3IvdmVnYTEwX2h3bWdyLmMNCj4+IGluZGV4IGVkNmM2MzguLjhkYzIzZWIgMTAwNjQ0DQo+PiAt
LS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9od21nci92ZWdhMTBfaHdtZ3IuYw0K
Pj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaHdtZ3IvdmVnYTEwX2h3bWdy
LmMNCj4+IEBAIC01MTcxLDYgKzUxNzEsNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IHBwX2h3bWdy
X2Z1bmMNCj4+IHZlZ2ExMF9od21ncl9mdW5jcyA9IHsNCj4+ICAgICAgICAgLm9kbl9lZGl0X2Rw
bV90YWJsZSA9IHZlZ2ExMF9vZG5fZWRpdF9kcG1fdGFibGUsDQo+PiAgICAgICAgIC5nZXRfcGVy
Zm9ybWFuY2VfbGV2ZWwgPSB2ZWdhMTBfZ2V0X3BlcmZvcm1hbmNlX2xldmVsLA0KPj4gICAgICAg
ICAuZ2V0X2FzaWNfYmFjb19jYXBhYmlsaXR5ID0gc211OV9iYWNvX2dldF9jYXBhYmlsaXR5LA0K
Pj4gKyAgICAgICAuc2V0X2FzaWNfYmFjb19jYXAgPSB2ZWdhMTBfYmFjb19zZXRfY2FwLA0KPj4g
ICAgICAgICAuZ2V0X2FzaWNfYmFjb19zdGF0ZSA9IHNtdTlfYmFjb19nZXRfc3RhdGUsDQo+PiAg
ICAgICAgIC5zZXRfYXNpY19iYWNvX3N0YXRlID0gdmVnYTEwX2JhY29fc2V0X3N0YXRlLA0KPj4g
ICAgICAgICAuZW5hYmxlX21ncHVfZmFuX2Jvb3N0ID0gdmVnYTEwX2VuYWJsZV9tZ3B1X2Zhbl9i
b29zdCwgZGlmZg0KPj4gLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9od21n
ci92ZWdhMTBfcHJvY2Vzc3BwdGFibGVzLmMNCj4+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dl
cnBsYXkvaHdtZ3IvdmVnYTEwX3Byb2Nlc3NwcHRhYmxlcy5jDQo+PiBpbmRleCBiNjc2N2Q3Li44
ZmRlYjIzIDEwMDY0NA0KPj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaHdt
Z3IvdmVnYTEwX3Byb2Nlc3NwcHRhYmxlcy5jDQo+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L3Bvd2VycGxheS9od21nci92ZWdhMTBfcHJvY2Vzc3BwdGFibGVzLmMNCj4+IEBAIC0xMzcxLDMg
KzEzNzEsMjUgQEAgaW50IHZlZ2ExMF9nZXRfcG93ZXJwbGF5X3RhYmxlX2VudHJ5KHN0cnVjdA0K
Pj4gcHBfaHdtZ3IgKmh3bWdyLA0KPj4NCj4+ICAgICAgICAgcmV0dXJuIHJlc3VsdDsNCj4+ICB9
DQo+PiArDQo+PiAraW50IHZlZ2ExMF9iYWNvX3NldF9jYXAoc3RydWN0IHBwX2h3bWdyICpod21n
cikgew0KPj4gKyAgICAgICBpbnQgcmVzdWx0ID0gMDsNCj4+ICsgICAgICAgY29uc3QgQVRPTV9W
ZWdhMTBfUE9XRVJQTEFZVEFCTEUgKnBvd2VycGxheV90YWJsZTsNCj4+ICsNCj4+ICsgICAgICAg
cG93ZXJwbGF5X3RhYmxlID0gZ2V0X3Bvd2VycGxheV90YWJsZShod21ncik7DQo+PiArDQo+PiAr
ICAgICAgIFBQX0FTU0VSVF9XSVRIX0NPREUoKHBvd2VycGxheV90YWJsZSAhPSBOVUxMKSwNCj4+
ICsgICAgICAgICAgICAgICAiTWlzc2luZyBQb3dlclBsYXkgVGFibGUhIiwgcmV0dXJuIC0xKTsN
Cj4+ICsNCj4+ICsgICAgICAgcmVzdWx0ID0gY2hlY2tfcG93ZXJwbGF5X3RhYmxlcyhod21nciwg
cG93ZXJwbGF5X3RhYmxlKTsNCj4+ICsNCj4+ICsgICAgICAgUFBfQVNTRVJUX1dJVEhfQ09ERSgo
cmVzdWx0ID09IDApLA0KPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICJjaGVja19wb3dl
cnBsYXlfdGFibGVzIGZhaWxlZCIsIHJldHVybg0KPj4gKyByZXN1bHQpOw0KPj4gKw0KPj4gKyAg
ICAgICBzZXRfaHdfY2FwKA0KPj4gKyAgICAgICAgICAgICAgICAgICAgICAgaHdtZ3IsDQo+PiAr
ICAgICAgICAgICAgICAgICAgICAgICAwICE9DQo+PiArIChsZTMyX3RvX2NwdShwb3dlcnBsYXlf
dGFibGUtPnVsUGxhdGZvcm1DYXBzKSAmDQo+PiBBVE9NX1ZFR0ExMF9QUF9QTEFURk9STV9DQVBf
QkFDTyksDQo+PiArICAgICAgICAgICAgICAgICAgICAgICBQSE1fUGxhdGZvcm1DYXBzX0JBQ08p
Ow0KPj4gKyAgICAgICByZXR1cm4gcmVzdWx0Ow0KPj4gK30NCj4+IFwgTm8gbmV3bGluZSBhdCBl
bmQgb2YgZmlsZQ0KPj4gZGlmZiAtLWdpdA0KPj4gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2Vy
cGxheS9od21nci92ZWdhMTBfcHJvY2Vzc3BwdGFibGVzLmgNCj4+IGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9wb3dlcnBsYXkvaHdtZ3IvdmVnYTEwX3Byb2Nlc3NwcHRhYmxlcy5oDQo+PiBpbmRleCBk
ODNlZDJhLi5kYTVmYmVjIDEwMDY0NA0KPj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dl
cnBsYXkvaHdtZ3IvdmVnYTEwX3Byb2Nlc3NwcHRhYmxlcy5oDQo+PiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL3Bvd2VycGxheS9od21nci92ZWdhMTBfcHJvY2Vzc3BwdGFibGVzLmgNCj4+IEBA
IC01OSw0ICs1OSw1IEBAIGV4dGVybiBpbnQNCj4+IHZlZ2ExMF9nZXRfbnVtYmVyX29mX3Bvd2Vy
cGxheV90YWJsZV9lbnRyaWVzKHN0cnVjdCBwcF9od21ncg0KPipod21ncik7DQo+PiBleHRlcm4g
aW50IHZlZ2ExMF9nZXRfcG93ZXJwbGF5X3RhYmxlX2VudHJ5KHN0cnVjdCBwcF9od21nciAqaHdt
Z3IsDQo+PiB1aW50MzJfdCBlbnRyeV9pbmRleCwNCj4+ICAgICAgICAgICAgICAgICBzdHJ1Y3Qg
cHBfcG93ZXJfc3RhdGUgKnBvd2VyX3N0YXRlLCBpbnQNCj4+ICgqY2FsbF9iYWNrX2Z1bmMpKHN0
cnVjdCBwcF9od21nciAqLCB2b2lkICosDQo+PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHN0cnVjdCBwcF9wb3dlcl9zdGF0ZSAqLCB2b2lkICosDQo+PiB1aW50MzJfdCkpOw0KPj4g
K2V4dGVybiBpbnQgdmVnYTEwX2JhY29fc2V0X2NhcChzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyKTsN
Cj4+ICAjZW5kaWYNCj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxh
eS9pbmMvaHdtZ3IuaA0KPj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvaHdt
Z3IuaA0KPj4gaW5kZXggYmFjM2Q4NS4uMTQ0ODBhZSAxMDA2NDQNCj4+IC0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvcG93ZXJwbGF5L2luYy9od21nci5oDQo+PiArKysgYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL3Bvd2VycGxheS9pbmMvaHdtZ3IuaA0KPj4gQEAgLTMzOSw2ICszMzksNyBAQCBzdHJ1
Y3QgcHBfaHdtZ3JfZnVuYyB7DQo+PiAgICAgICAgIGludCAoKnNldF9oYXJkX21pbl9kY2VmY2xr
X2J5X2ZyZXEpKHN0cnVjdCBwcF9od21nciAqaHdtZ3IsDQo+PiB1aW50MzJfdCBjbG9jayk7DQo+
PiAgICAgICAgIGludCAoKnNldF9oYXJkX21pbl9mY2xrX2J5X2ZyZXEpKHN0cnVjdCBwcF9od21n
ciAqaHdtZ3IsDQo+PiB1aW50MzJfdCBjbG9jayk7DQo+PiAgICAgICAgIGludCAoKmdldF9hc2lj
X2JhY29fY2FwYWJpbGl0eSkoc3RydWN0IHBwX2h3bWdyICpod21nciwgYm9vbA0KPj4gKmNhcCk7
DQo+PiArICAgICAgIGludCAoKnNldF9hc2ljX2JhY29fY2FwKShzdHJ1Y3QgcHBfaHdtZ3IgKmh3
bWdyKTsNCj4+ICAgICAgICAgaW50ICgqZ2V0X2FzaWNfYmFjb19zdGF0ZSkoc3RydWN0IHBwX2h3
bWdyICpod21nciwgZW51bQ0KPj4gQkFDT19TVEFURSAqc3RhdGUpOw0KPj4gICAgICAgICBpbnQg
KCpzZXRfYXNpY19iYWNvX3N0YXRlKShzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyLCBlbnVtDQo+PiBC
QUNPX1NUQVRFIHN0YXRlKTsNCj4+ICAgICAgICAgaW50ICgqZ2V0X3BwZmVhdHVyZV9zdGF0dXMp
KHN0cnVjdCBwcF9od21nciAqaHdtZ3IsIGNoYXINCj4+ICpidWYpOw0KPj4gLS0NCj4+IDIuNy40
DQo+Pg0KPj4gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18N
Cj4+IGFtZC1nZnggbWFpbGluZyBsaXN0DQo+PiBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9y
Zw0KPj4gaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQt
Z2Z4DQpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwphbWQt
Z2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xp
c3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZng=
