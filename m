Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 090ECA5E56
	for <lists+amd-gfx@lfdr.de>; Tue,  3 Sep 2019 02:02:15 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 80CFC89935;
	Tue,  3 Sep 2019 00:02:13 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM03-DM3-obe.outbound.protection.outlook.com
 (mail-eopbgr800055.outbound.protection.outlook.com [40.107.80.55])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0760989935
 for <amd-gfx@lists.freedesktop.org>; Tue,  3 Sep 2019 00:02:12 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=aZy4fTPk7+Qvk8/IZ4zmSHt72HsXUUdu1nPv8gGL3ICRZqDT+5JlWaybKrjZOgye029NDio0FMvMmH6V+v98IIg9rN9pYi9IuuHffQHCCTz/kYJvO8dsLUTgfYbuFxQezr/3ig2gJ8GKSODFtWvS0mSybYjt1Qmh6qvxbFhnVJPbmcfoNW4ieWtBW16G1OCCIrBIoSwsAlgBUxayoiOv1xr1bYe+dGlnMhiBmWfZCSaMKPfhF5/0nRb1C6jaztncQmv8qMJSuDKlaQwml96dV4/ayPcJJ3c0PNydPz5PXY++iexhBhQjG2YSSyKLlaNhzH1f2KxWsJzXmG/b2xeMPA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=nPSkg2FG2BK4/LtNVJzQ3Xtq0KlNnlLJhVUuCWvOCtw=;
 b=YvndAJoxJ3FeIHPtROv20DR0A1xh6nIIFawkKVplJcp3D0o122A3noq6jGUMQA2a8tJzfDmPq47/0JLwmyLsA9rBPYAi4tT+2jpt2xFOZP1cFIMxD3PDwmF7qZiTiLS3SrCcEA1U35KjefncQg1BPRXEAOUGsXUrPMwIxg4iEm2rwxxkDHFCBorQ97Yguie7y8lK1g1wMBKyscwso8s1auQ58K3+MyhbApus6BGBXMsDmsV0U15roNC3JEPkrr4zWzwsXvYTWNni6DqzMRbBJNkE75I00Q1gJZwm9zGCeAHQgZHh7s+anXzCFjFPenHtJRCRB9VHkhr9+1gkrQAcVQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from DM5PR12MB1418.namprd12.prod.outlook.com (10.168.240.15) by
 DM5PR12MB1818.namprd12.prod.outlook.com (10.175.92.13) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2199.21; Tue, 3 Sep 2019 00:02:10 +0000
Received: from DM5PR12MB1418.namprd12.prod.outlook.com
 ([fe80::7c63:a72:e42d:c97d]) by DM5PR12MB1418.namprd12.prod.outlook.com
 ([fe80::7c63:a72:e42d:c97d%7]) with mapi id 15.20.2220.021; Tue, 3 Sep 2019
 00:02:10 +0000
From: "Zhang, Hawking" <Hawking.Zhang@amd.com>
To: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>, "Zhou1,
 Tao" <Tao.Zhou1@amd.com>, "Chen, Guchun" <Guchun.Chen@amd.com>, "Deucher,
 Alexander" <Alexander.Deucher@amd.com>
Subject: [PATCH 05/10] drm/amdgpu/mmhub: switch to amdgpu_mmhub_ras_late_init
 helper function
Thread-Topic: [PATCH 05/10] drm/amdgpu/mmhub: switch to
 amdgpu_mmhub_ras_late_init helper function
Thread-Index: AQHVYerVedgh7cd46kyEpJ0hxzvBeg==
Date: Tue, 3 Sep 2019 00:02:10 +0000
Message-ID: <1567468894-11852-5-git-send-email-Hawking.Zhang@amd.com>
References: <1567468894-11852-1-git-send-email-Hawking.Zhang@amd.com>
In-Reply-To: <1567468894-11852-1-git-send-email-Hawking.Zhang@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: HK0P153CA0022.APCP153.PROD.OUTLOOK.COM
 (2603:1096:203:18::34) To DM5PR12MB1418.namprd12.prod.outlook.com
 (2603:10b6:3:7a::15)
x-originating-ip: [180.167.199.189]
x-ms-exchange-messagesentrepresentingtype: 1
x-mailer: git-send-email 2.7.4
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: c944240d-db36-4f62-abe5-08d73001f78d
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600166)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:DM5PR12MB1818; 
x-ms-traffictypediagnostic: DM5PR12MB1818:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <DM5PR12MB1818006360C5007283354768FCB90@DM5PR12MB1818.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:6108;
x-forefront-prvs: 01494FA7F7
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(346002)(376002)(366004)(396003)(136003)(39860400002)(199004)(189003)(99286004)(66446008)(36756003)(2501003)(478600001)(316002)(256004)(66946007)(14444005)(5660300002)(66476007)(53936002)(81166006)(26005)(8676002)(71200400001)(102836004)(81156014)(71190400001)(6486002)(66556008)(50226002)(186003)(8936002)(66066001)(25786009)(3846002)(6116002)(76176011)(6512007)(6506007)(386003)(4326008)(86362001)(486006)(446003)(2616005)(305945005)(52116002)(7736002)(11346002)(476003)(110136005)(2906002)(14454004)(6636002)(64756008)(6436002);
 DIR:OUT; SFP:1101; SCL:1; SRVR:DM5PR12MB1818;
 H:DM5PR12MB1418.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: gXjKx+qhpp4iuisTM64/opF59u+nWA+nKLyEpvfeyTfIgINRqUYmUE40WSZ2YSQxKn3PB/t6BrhYIO1b6INrywH+psa3QfWjjPsd6J3//HLEfDzVqJJxzfnbQYsvVTizsq0dN7oSoEuPwC86TXBJ136ft0HblIPCruIBjjLYyV7KM67PG7j1eALBCX1sCIUmmCxkDfZXcMzcoYjJyk+/6IcsvMJ4c4xw/SuFL1k80t6RbMdSI/7Z3xjNUPqbYvvrOFVgvRYmRFsi2q6MY4+DClpNvxY+p7dGzm0LQZ6dkTStLRa5Xydbhrqc6e/9AuiBTeTqVzBmqvZftFInov/wr4cZ2AfszueaCtWjpMLe64Lr6HycrsLWx3s3Y2XNOnyh5fe0pCvG1MsrbIr9TW+Bzla7M1ncjEHufCfUXpz/0kA=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: c944240d-db36-4f62-abe5-08d73001f78d
X-MS-Exchange-CrossTenant-originalarrivaltime: 03 Sep 2019 00:02:10.5130 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: 6nsD4PkcUGkpzC4qGI07qVSpyuEnxPiYloR8FVWnxb4WerLpS+1v2URM8MQx3GAGRWTgjaRIFqx3kgZ++nMZIg==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM5PR12MB1818
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=nPSkg2FG2BK4/LtNVJzQ3Xtq0KlNnlLJhVUuCWvOCtw=;
 b=R9tL4tbg9VCItsmsuaighCzIKXILWZm66PeLqLj4/eIxzGLjDN1lmjoSSdBk0X7uxEE34tsamVclD2FzAR/kPeMjHZ51Krk3unYFqudG04j6MCI8gefiUaZte1TjnmSXOCZ4Q5Y48XWeEvhmhgEv3xZY8e6iyuvO0aU4DHQbRb4=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Hawking.Zhang@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Zhang, Hawking" <Hawking.Zhang@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

YW1kZ3B1X21taHViX3Jhc19sYXRlX2luaXQgaXMgdXNlZCB0byBpbml0IG1taHViIHNwZWNmaWMK
cmFzIGRlYnVnZnMvc3lzZnMgbm9kZSBhbmQgbW1odWIgc3BlY2lmaWMgaW50ZXJydXB0IGhhbmRs
ZXIuCkl0IGNhbiBiZSBzaGFyZWQgYW1vbmcgbW1odWIgZ2VuZXJhdGlvbnMKClNpZ25lZC1vZmYt
Ynk6IEhhd2tpbmcgWmhhbmcgPEhhd2tpbmcuWmhhbmdAYW1kLmNvbT4KLS0tCiBkcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9NYWtlZmlsZSAgICAgICB8ICAyICstCiBkcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfbW1odWIuYyB8IDU2ICsrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysKIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9tbWh1Yi5oIHwgIDIgKysK
IGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L21taHViX3YxXzAuYyAgIHwgMzIgKy0tLS0tLS0t
LS0tLS0tLS0tCiA0IGZpbGVzIGNoYW5nZWQsIDYwIGluc2VydGlvbnMoKyksIDMyIGRlbGV0aW9u
cygtKQogY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdw
dV9tbWh1Yi5jCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvTWFrZWZp
bGUgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9NYWtlZmlsZQppbmRleCA0MmUyYzFmLi42
MmE5YjA1IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9NYWtlZmlsZQor
KysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9NYWtlZmlsZQpAQCAtNTMsNyArNTMsNyBA
QCBhbWRncHUteSArPSBhbWRncHVfZGV2aWNlLm8gYW1kZ3B1X2ttcy5vIFwKIAlhbWRncHVfdWNv
ZGUubyBhbWRncHVfYm9fbGlzdC5vIGFtZGdwdV9jdHgubyBhbWRncHVfc3luYy5vIFwKIAlhbWRn
cHVfZ3R0X21nci5vIGFtZGdwdV92cmFtX21nci5vIGFtZGdwdV92aXJ0Lm8gYW1kZ3B1X2F0b21m
aXJtd2FyZS5vIFwKIAlhbWRncHVfdmZfZXJyb3IubyBhbWRncHVfc2NoZWQubyBhbWRncHVfZGVi
dWdmcy5vIGFtZGdwdV9pZHMubyBcCi0JYW1kZ3B1X2dtYy5vIGFtZGdwdV94Z21pLm8gYW1kZ3B1
X2NzYS5vIGFtZGdwdV9yYXMubyBhbWRncHVfdm1fY3B1Lm8gXAorCWFtZGdwdV9nbWMubyBhbWRn
cHVfbW1odWIubyBhbWRncHVfeGdtaS5vIGFtZGdwdV9jc2EubyBhbWRncHVfcmFzLm8gYW1kZ3B1
X3ZtX2NwdS5vIFwKIAlhbWRncHVfdm1fc2RtYS5vIGFtZGdwdV9wbXUubyBhbWRncHVfZGlzY292
ZXJ5Lm8gYW1kZ3B1X3Jhc19lZXByb20ubyBzbXVfdjExXzBfaTJjLm8KIAogYW1kZ3B1LSQoQ09O
RklHX1BFUkZfRVZFTlRTKSArPSBhbWRncHVfcG11Lm8KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9tbWh1Yi5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X21taHViLmMKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMC4uOTll
ZjZiMQotLS0gL2Rldi9udWxsCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdw
dV9tbWh1Yi5jCkBAIC0wLDAgKzEsNTYgQEAKKy8qCisgKiBDb3B5cmlnaHQgMjAxOSBBZHZhbmNl
ZCBNaWNybyBEZXZpY2VzLCBJbmMuCisgKgorICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRl
ZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEKKyAqIGNvcHkgb2Yg
dGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNv
ZnR3YXJlIiksCisgKiB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9u
LCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uCisgKiB0aGUgcmlnaHRzIHRvIHVzZSwgY29w
eSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwKKyAqIGFu
ZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0
byB3aG9tIHRoZQorICogU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRv
IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKKyAqCisgKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5v
dGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbgorICog
YWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuCisgKgor
ICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0Yg
QU5ZIEtJTkQsIEVYUFJFU1MgT1IKKyAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlU
RUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLAorICogRklUTkVTUyBGT1Ig
QSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gIElOIE5PIEVWRU5UIFNI
QUxMCisgKiBUSEUgQ09QWVJJR0hUIEhPTERFUihTKSBPUiBBVVRIT1IoUykgQkUgTElBQkxFIEZP
UiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IKKyAqIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBB
TiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLAorICogQVJJU0lORyBGUk9N
LCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9S
CisgKiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuCisgKgorICovCisKKyNpbmNsdWRl
ICJhbWRncHUuaCIKKyNpbmNsdWRlICJhbWRncHVfcmFzLmgiCisKK2ludCBhbWRncHVfbW1odWJf
cmFzX2xhdGVfaW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKK3sKKwlpbnQgcjsKKwlz
dHJ1Y3QgcmFzX2loX2lmIGloX2luZm8gPSB7CisJCS5jYiA9IE5VTEwsCisJfTsKKwlzdHJ1Y3Qg
cmFzX2ZzX2lmIGZzX2luZm8gPSB7CisJCS5zeXNmc19uYW1lID0gIm1taHViX2Vycl9jb3VudCIs
CisJCS5kZWJ1Z2ZzX25hbWUgPSAibW1odWJfZXJyX2luamVjdCIsCisJfTsKKworCWlmICghYWRl
di0+Z21jLm1taHViX3Jhc19pZikgeworCQlhZGV2LT5nbWMubW1odWJfcmFzX2lmID0ga21hbGxv
YyhzaXplb2Yoc3RydWN0IHJhc19jb21tb25faWYpLCBHRlBfS0VSTkVMKTsKKwkJaWYgKCFhZGV2
LT5nbWMubW1odWJfcmFzX2lmKQorCQkJcmV0dXJuIC1FTk9NRU07CisJCWFkZXYtPmdtYy5tbWh1
Yl9yYXNfaWYtPmJsb2NrID0gQU1ER1BVX1JBU19CTE9DS19fTU1IVUI7CisJCWFkZXYtPmdtYy5t
bWh1Yl9yYXNfaWYtPnR5cGUgPSBBTURHUFVfUkFTX0VSUk9SX19NVUxUSV9VTkNPUlJFQ1RBQkxF
OworCQlhZGV2LT5nbWMubW1odWJfcmFzX2lmLT5zdWJfYmxvY2tfaW5kZXggPSAwOworCQlzdHJj
cHkoYWRldi0+Z21jLm1taHViX3Jhc19pZi0+bmFtZSwgIm1taHViIik7CisJfQorCWloX2luZm8u
aGVhZCA9IGZzX2luZm8uaGVhZCA9ICphZGV2LT5nbWMubW1odWJfcmFzX2lmOworCXIgPSBhbWRn
cHVfcmFzX2xhdGVfaW5pdChhZGV2LCBhZGV2LT5nbWMubW1odWJfcmFzX2lmLAorCQkJCSAmZnNf
aW5mbywgJmloX2luZm8pOworCWlmIChyIHx8ICFhbWRncHVfcmFzX2lzX3N1cHBvcnRlZChhZGV2
LCBhZGV2LT5nbWMubW1odWJfcmFzX2lmLT5ibG9jaykpIHsKKwkJa2ZyZWUoYWRldi0+Z21jLm1t
aHViX3Jhc19pZik7CisJCWFkZXYtPmdtYy5tbWh1Yl9yYXNfaWYgPSBOVUxMOworCX0KKworCXJl
dHVybiByOworfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1
X21taHViLmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfbW1odWIuaAppbmRl
eCBkZjA0YzcxLi42ODVlNTRlIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9hbWRncHVfbW1odWIuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
bW1odWIuaApAQCAtMjgsNSArMjgsNyBAQCBzdHJ1Y3QgYW1kZ3B1X21taHViX2Z1bmNzIHsKIAkJ
CQkJdm9pZCAqcmFzX2Vycm9yX3N0YXR1cyk7CiB9OwogCitpbnQgYW1kZ3B1X21taHViX3Jhc19s
YXRlX2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpOworCiAjZW5kaWYKIApkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvbW1odWJfdjFfMC5jIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvbW1odWJfdjFfMC5jCmluZGV4IDk5MTZhMzMuLmI5ZDZjMGIgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L21taHViX3YxXzAuYworKysgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9tbWh1Yl92MV8wLmMKQEAgLTYxNiwzNyArNjE2LDcg
QEAgc3RhdGljIHZvaWQgbW1odWJfdjFfMF9xdWVyeV9yYXNfZXJyb3JfY291bnQoc3RydWN0IGFt
ZGdwdV9kZXZpY2UgKmFkZXYsCiAJfQogfQogCi1zdGF0aWMgaW50IG1taHViX3YxXzBfcmFzX2xh
dGVfaW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKLXsKLQlpbnQgcjsKLQlzdHJ1Y3Qg
cmFzX2loX2lmIG1taHViX2loX2luZm8gPSB7Ci0JCS5jYiA9IE5VTEwsCi0JfTsKLQlzdHJ1Y3Qg
cmFzX2ZzX2lmIG1taHViX2ZzX2luZm8gPSB7Ci0JCS5zeXNmc19uYW1lID0gIm1taHViX2Vycl9j
b3VudCIsCi0JCS5kZWJ1Z2ZzX25hbWUgPSAibW1odWJfZXJyX2luamVjdCIsCi0JfTsKLQotCWlm
ICghYWRldi0+Z21jLm1taHViX3Jhc19pZikgewotCQlhZGV2LT5nbWMubW1odWJfcmFzX2lmID0g
a21hbGxvYyhzaXplb2Yoc3RydWN0IHJhc19jb21tb25faWYpLCBHRlBfS0VSTkVMKTsKLQkJaWYg
KCFhZGV2LT5nbWMubW1odWJfcmFzX2lmKQotCQkJcmV0dXJuIC1FTk9NRU07Ci0JCWFkZXYtPmdt
Yy5tbWh1Yl9yYXNfaWYtPmJsb2NrID0gQU1ER1BVX1JBU19CTE9DS19fTU1IVUI7Ci0JCWFkZXYt
PmdtYy5tbWh1Yl9yYXNfaWYtPnR5cGUgPSBBTURHUFVfUkFTX0VSUk9SX19NVUxUSV9VTkNPUlJF
Q1RBQkxFOwotCQlhZGV2LT5nbWMubW1odWJfcmFzX2lmLT5zdWJfYmxvY2tfaW5kZXggPSAwOwot
CQlzdHJjcHkoYWRldi0+Z21jLm1taHViX3Jhc19pZi0+bmFtZSwgIm1taHViIik7Ci0JfQotCW1t
aHViX2loX2luZm8uaGVhZCA9IG1taHViX2ZzX2luZm8uaGVhZCA9ICphZGV2LT5nbWMubW1odWJf
cmFzX2lmOwotCXIgPSBhbWRncHVfcmFzX2xhdGVfaW5pdChhZGV2LCBhZGV2LT5nbWMubW1odWJf
cmFzX2lmLAotCQkJCSAmbW1odWJfZnNfaW5mbywgJm1taHViX2loX2luZm8pOwotCWlmIChyIHx8
ICFhbWRncHVfcmFzX2lzX3N1cHBvcnRlZChhZGV2LCBhZGV2LT5nbWMubW1odWJfcmFzX2lmLT5i
bG9jaykpIHsKLQkJa2ZyZWUoYWRldi0+Z21jLm1taHViX3Jhc19pZik7Ci0JCWFkZXYtPmdtYy5t
bWh1Yl9yYXNfaWYgPSBOVUxMOwotCX0KLQlyZXR1cm4gcjsKLX0KLQogY29uc3Qgc3RydWN0IGFt
ZGdwdV9tbWh1Yl9mdW5jcyBtbWh1Yl92MV8wX2Z1bmNzID0gewotCS5yYXNfbGF0ZV9pbml0ID0g
bW1odWJfdjFfMF9yYXNfbGF0ZV9pbml0LAorCS5yYXNfbGF0ZV9pbml0ID0gYW1kZ3B1X21taHVi
X3Jhc19sYXRlX2luaXQsCiAJLnF1ZXJ5X3Jhc19lcnJvcl9jb3VudCA9IG1taHViX3YxXzBfcXVl
cnlfcmFzX2Vycm9yX2NvdW50LAogfTsKLS0gCjIuNy40CgpfX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxp
c3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFu
L2xpc3RpbmZvL2FtZC1nZng=
