Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 7BE81D1A7D
	for <lists+amd-gfx@lfdr.de>; Wed,  9 Oct 2019 23:06:31 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A90766EA61;
	Wed,  9 Oct 2019 21:06:27 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM01-BN3-obe.outbound.protection.outlook.com
 (mail-eopbgr740041.outbound.protection.outlook.com [40.107.74.41])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 9492D6EA5A
 for <amd-gfx@lists.freedesktop.org>; Wed,  9 Oct 2019 21:06:25 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=KFvTQFbD8DsKI23jb5ywvFd8slt1iXm/aN3Mko+av2+s5eXDJACeS42kL7bcPyx9Jm3b83z4Z+Iel95nlez6/wjcddlZgmcXHQGYE+cXbguwiS0Vva2D7sea0ZNMQtB3kPoQ+x8BghsXrnTd30QVTTwiLV196n2oQ5yY5BlQTpEPGjadFS/m03CHlScIRyzGYl9BAuONkJeSlQ2ODUE+I1BaWoSXPuNbVOWwdyPVkJseZLQtYs59+Qn22h4UMZSNGqZAtUNhU2QwMtDodI0zjsw4j3FHNFlDL04sUzVTju23nqye7azG1zvMJThhYoA3FM+/V55QQX6wtPokmKtaYQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=h/EbUHr59QFEWdORGLKUoiIVUonvxHbsa7MR4QpN6yg=;
 b=gd8NFqYUBymtmPiT92FZtvsQza/GWqJNZ2c60xf8rvF9C+p3f+ZU4aFGWmofshA6SliB4kZFtP0RXgQ/brttRWcNXlxihpCHo+RLFpd22YlDHyULLy6Z9nZvye8e9KUuHIVBcD2bWTIU+/PyoLRfABBLmOVVojNVOhidi+sZR5Gn4sTJ4u4Bmz1EqWfH9g7ZrO6Okif4HXelN2iLnkPEtphZd96UU/6YJesXzLzf/sjrjIzvYyM+W4cUIlQASmGtwxP+lpgfFPPSGkvaZ2eg513QGQ0CeYyCd0h4VSQR9RKN9l+K0m/21r2vhNPLNLj9XRAN/nmoiDfcOVfxrzXDAw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=none (sender ip is
 165.204.84.17) smtp.rcpttodomain=lists.freedesktop.org smtp.mailfrom=amd.com; 
 dmarc=permerror action=none header.from=amd.com; dkim=none (message not
 signed); arc=none
Received: from MWHPR1201CA0002.namprd12.prod.outlook.com
 (2603:10b6:301:4a::12) by MN2PR12MB3918.namprd12.prod.outlook.com
 (2603:10b6:208:162::23) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2327.24; Wed, 9 Oct
 2019 21:06:23 +0000
Received: from DM3NAM03FT052.eop-NAM03.prod.protection.outlook.com
 (2a01:111:f400:7e49::207) by MWHPR1201CA0002.outlook.office365.com
 (2603:10b6:301:4a::12) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384) id 15.20.2347.16 via Frontend
 Transport; Wed, 9 Oct 2019 21:06:23 +0000
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
Received: from SATLEXCHOV02.amd.com (165.204.84.17) by
 DM3NAM03FT052.mail.protection.outlook.com (10.152.83.107) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384) id
 15.20.2327.20 via Frontend Transport; Wed, 9 Oct 2019 21:06:23 +0000
Received: from blakha.amd.com (10.180.168.240) by SATLEXCHOV02.amd.com
 (10.181.40.72) with Microsoft SMTP Server id 14.3.389.1; Wed, 9 Oct 2019
 16:06:21 -0500
From: Bhawanpreet Lakha <Bhawanpreet.Lakha@amd.com>
To: <amd-gfx@lists.freedesktop.org>
Subject: [PATCH 05/26] drm/amd/display: Add renoir hw_seq
Date: Wed, 9 Oct 2019 17:05:52 -0400
Message-ID: <20191009210613.17929-6-Bhawanpreet.Lakha@amd.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20191009210613.17929-1-Bhawanpreet.Lakha@amd.com>
References: <20191009210613.17929-1-Bhawanpreet.Lakha@amd.com>
MIME-Version: 1.0
X-EOPAttributedMessage: 0
X-MS-Office365-Filtering-HT: Tenant
X-Forefront-Antispam-Report: CIP:165.204.84.17; IPV:NLI; CTRY:US; EFV:NLI;
 SFV:NSPM;
 SFS:(10009020)(4636009)(396003)(39860400002)(346002)(376002)(136003)(428003)(189003)(199004)(30864003)(81166006)(1076003)(8936002)(476003)(81156014)(478600001)(4326008)(70206006)(486006)(70586007)(53416004)(126002)(8676002)(305945005)(47776003)(86362001)(6666004)(2616005)(50466002)(6916009)(50226002)(356004)(336012)(11346002)(186003)(51416003)(426003)(76176011)(446003)(2906002)(5660300002)(26005)(14444005)(54906003)(36756003)(316002)(48376002)(16586007)(2351001)(7696005);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MN2PR12MB3918; H:SATLEXCHOV02.amd.com; FPR:;
 SPF:None; LANG:en; PTR:InfoDomainNonexistent; MX:1; A:1; 
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-Correlation-Id: e4f78901-2b15-4b6d-72c4-08d74cfc8a56
X-MS-TrafficTypeDiagnostic: MN2PR12MB3918:
X-Microsoft-Antispam-PRVS: <MN2PR12MB3918FE3DA26CE36B641773D1F9950@MN2PR12MB3918.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:6790;
X-Forefront-PRVS: 018577E36E
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: i8IRALz0Te+59jsXeCWeyNBTx27PqzGNWXKIRJ1azS3ZJjGtN+sdcyeCJfYAhDEAnZBvHJLKPWWp63by9kHQAiHN4BB0U0O6PTzJRypz21Gl4X+pU/OpC/RKMe7Uy+nnssxo0yjYAYurHHH4kEQfPhHsRGAYVQS6bKFIUDzEDnX8nhzVH4JEHJQ3SU/9M/URGhi0pZ6WL3/rBPVFB6YhWoG75BZhTr+uKXkCCh3ATp/lG6JzVolWMYgw0tQPNIMH6pqR7L+tqNQckONipiF9LOMa2YMftUwDiHV8b0eLx/Kgb62FJq/8RDfbdb3V0C0f+pVpF1eKrYF4Y/DbD9x6HL9eLHkBkv0niul4TrG0R5DkJHBDKhh4ka70FM822XCZbxGfijVlYvtVKcKPp9DU/1x0e7zAlm5qDI2uAwpZKvY=
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 09 Oct 2019 21:06:23.1554 (UTC)
X-MS-Exchange-CrossTenant-Network-Message-Id: e4f78901-2b15-4b6d-72c4-08d74cfc8a56
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-OriginalAttributedTenantConnectingIp: TenantId=3dd8961f-e488-4e60-8e11-a82d994e183d; Ip=[165.204.84.17];
 Helo=[SATLEXCHOV02.amd.com]
X-MS-Exchange-CrossTenant-FromEntityHeader: HybridOnPrem
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB3918
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=h/EbUHr59QFEWdORGLKUoiIVUonvxHbsa7MR4QpN6yg=;
 b=2R2ApRF/2COGr3ELCqZnO6w6lfWuYQL6wRqejL9KWZMQzFibO8Do9bMFlpWVHoFZ3Ib80Ynu/J3/kiFtRl8AbqA5ZYYaLm0A/nm0SfbD1gDaabv9dL5KblSgeNoea/7uZsWR9Enq7KeaBAjaFHKHlZ/1ALRKRffEVJalgX4M56A=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is
 165.204.84.17)
 smtp.mailfrom=amd.com; lists.freedesktop.org; dkim=none (message not signed)
 header.d=none;lists.freedesktop.org; dmarc=permerror action=none
 header.from=amd.com;
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: sunpeng.li@amd.com, Bhawanpreet Lakha <Bhawanpreet.Lakha@amd.com>,
 harry.wentland@amd.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

VGhpcyBjaGFuZ2UgYWRkcyByZW5vaXIgaHdfc2VxLCBuZWVkZWQgdG8gZG8gcmVub2lyCnNwZWNp
ZmljIGh3IHByb2dyYW1pbmcKClNpZ25lZC1vZmYtYnk6IEJoYXdhbnByZWV0IExha2hhIDxCaGF3
YW5wcmVldC5MYWtoYUBhbWQuY29tPgotLS0KIC4uLi9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2Rj
ZS9kY2VfaHdzZXEuaCAgICB8ICAgMSArCiAuLi4vYW1kL2Rpc3BsYXkvZGMvZGNuMTAvZGNuMTBf
aHdfc2VxdWVuY2VyLmMgfCAgIDQgKwogZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2Rj
bjIxL01ha2VmaWxlIHwgICAyICstCiAuLi4vZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIxL2RjbjIx
X2h3c2VxLmMgICAgfCAxMjIgKysrKysrKysrKysrKysrKysrCiAuLi4vZHJtL2FtZC9kaXNwbGF5
L2RjL2RjbjIxL2RjbjIxX2h3c2VxLmggICAgfCAgMzMgKysrKysKIC4uLi9kcm0vYW1kL2Rpc3Bs
YXkvZGMvZGNuMjEvZGNuMjFfcmVzb3VyY2UuYyB8IDExOCArKysrKysrKysrKysrLS0tLQogLi4u
L2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvaW5jL2h3X3NlcXVlbmNlci5oIHwgICAzICsKIDcgZmls
ZXMgY2hhbmdlZCwgMjU1IGluc2VydGlvbnMoKyksIDI4IGRlbGV0aW9ucygtKQogY3JlYXRlIG1v
ZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24yMS9kY24yMV9od3Nl
cS5jCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2Rj
bjIxL2RjbjIxX2h3c2VxLmgKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3Bs
YXkvZGMvZGNlL2RjZV9od3NlcS5oIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2Rj
ZS9kY2VfaHdzZXEuaAppbmRleCBhYzA0ZDc3MDU4ZjAuLjMyZDE0NWEwZDZmYyAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjZS9kY2VfaHdzZXEuaAorKysgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNlL2RjZV9od3NlcS5oCkBAIC02NzksNiAr
Njc5LDcgQEAgc3RydWN0IGRjZV9od3NlcV9yZWdpc3RlcnMgewogCUhXU19TRigsIERPTUFJTjE3
X1BHX1NUQVRVUywgRE9NQUlOMTdfUEdGU01fUFdSX1NUQVRVUywgbWFza19zaCksIFwKIAlIV1Nf
U0YoLCBET01BSU4xOF9QR19TVEFUVVMsIERPTUFJTjE4X1BHRlNNX1BXUl9TVEFUVVMsIG1hc2tf
c2gpLCBcCiAJSFdTX1NGKCwgRENfSVBfUkVRVUVTVF9DTlRMLCBJUF9SRVFVRVNUX0VOLCBtYXNr
X3NoKSwgXAorCUhXU0VRX0xWVE1BX01BU0tfU0hfTElTVChtYXNrX3NoKSwgXAogCUhXU19TRigs
IExWVE1BX1BXUlNFUV9DTlRMLCBMVlRNQV9CTE9OLCBtYXNrX3NoKSwgXAogCUhXU19TRigsIExW
VE1BX1BXUlNFUV9TVEFURSwgTFZUTUFfUFdSU0VRX1RBUkdFVF9TVEFURV9SLCBtYXNrX3NoKQog
I2VuZGlmCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMTAv
ZGNuMTBfaHdfc2VxdWVuY2VyLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNu
MTAvZGNuMTBfaHdfc2VxdWVuY2VyLmMKaW5kZXggMzJiZjZjZjA5Njc3Li5kZjFiZThhZGE2NmQg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24xMC9kY24xMF9o
d19zZXF1ZW5jZXIuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMTAv
ZGNuMTBfaHdfc2VxdWVuY2VyLmMKQEAgLTY3MCw2ICs2NzAsMTAgQEAgc3RhdGljIHZvaWQgZGNu
MTBfYmlvc19nb2xkZW5faW5pdChzdHJ1Y3QgZGMgKmRjKQogCWludCBpOwogCWJvb2wgYWxsb3df
c2VsZl9mcmVzaF9mb3JjZV9lbmFibGUgPSB0cnVlOwogCisjaWYgZGVmaW5lZChDT05GSUdfRFJN
X0FNRF9EQ19EQ04yXzEpCisJaWYgKGRjLT5od3NzLnMwaTNfZ29sZGVuX2luaXRfd2EgJiYgZGMt
Pmh3c3MuczBpM19nb2xkZW5faW5pdF93YShkYykpCisJCXJldHVybjsKKyNlbmRpZgogCWlmIChk
Yy0+cmVzX3Bvb2wtPmh1YmJ1Yi0+ZnVuY3MtPmlzX2FsbG93X3NlbGZfcmVmcmVzaF9lbmFibGVk
KQogCQlhbGxvd19zZWxmX2ZyZXNoX2ZvcmNlX2VuYWJsZSA9CiAJCQkJZGMtPnJlc19wb29sLT5o
dWJidWItPmZ1bmNzLT5pc19hbGxvd19zZWxmX3JlZnJlc2hfZW5hYmxlZChkYy0+cmVzX3Bvb2wt
Pmh1YmJ1Yik7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNu
MjEvTWFrZWZpbGUgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjEvTWFrZWZp
bGUKaW5kZXggYjJiMzkwOTBmYjU3Li41YjhmNDJhZTIzMzQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24yMS9NYWtlZmlsZQorKysgYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjEvTWFrZWZpbGUKQEAgLTEsNyArMSw3IEBACiAjCiAjIE1h
a2VmaWxlIGZvciBEQ04yMS4KIAotRENOMjEgPSBkY24yMV9odWJwLm8gZGNuMjFfaHViYnViLm8g
ZGNuMjFfcmVzb3VyY2UubworRENOMjEgPSBkY24yMV9odWJwLm8gZGNuMjFfaHViYnViLm8gZGNu
MjFfcmVzb3VyY2UubyBkY24yMV9od3NlcS5vCiAKIENGTEFHU19kY24yMV9yZXNvdXJjZS5vIDo9
IC1taGFyZC1mbG9hdCAtbXNzZSAtbXByZWZlcnJlZC1zdGFjay1ib3VuZGFyeT00CiAKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24yMS9kY24yMV9od3NlcS5j
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIxL2RjbjIxX2h3c2VxLmMKbmV3
IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAwLi5iMjUyMTVjYWRmODUKLS0tIC9k
ZXYvbnVsbAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjEvZGNuMjFf
aHdzZXEuYwpAQCAtMCwwICsxLDEyMiBAQAorLyoKKyAqIENvcHlyaWdodCAyMDE2IEFkdmFuY2Vk
IE1pY3JvIERldmljZXMsIEluYy4KKyAqCisgKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVk
LCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYQorICogY29weSBvZiB0
aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29m
dHdhcmUiKSwKKyAqIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24s
IGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24KKyAqIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5
LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLAorICogYW5k
L29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRv
IHdob20gdGhlCisgKiBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8g
dGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgorICoKKyAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90
aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluCisgKiBh
bGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KKyAqCisg
KiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBB
TlkgS0lORCwgRVhQUkVTUyBPUgorICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRF
RCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCisgKiBGSVRORVNTIEZPUiBB
IFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiAgSU4gTk8gRVZFTlQgU0hB
TEwKKyAqIFRIRSBDT1BZUklHSFQgSE9MREVSKFMpIE9SIEFVVEhPUihTKSBCRSBMSUFCTEUgRk9S
IEFOWSBDTEFJTSwgREFNQUdFUyBPUgorICogT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFO
IEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsCisgKiBBUklTSU5HIEZST00s
IE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IK
KyAqIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS4KKyAqCisgKiBBdXRob3JzOiBBTUQK
KyAqCisgKi8KKworI2luY2x1ZGUgImRtX3NlcnZpY2VzLmgiCisjaW5jbHVkZSAiZG1faGVscGVy
cy5oIgorI2luY2x1ZGUgImNvcmVfdHlwZXMuaCIKKyNpbmNsdWRlICJyZXNvdXJjZS5oIgorI2lu
Y2x1ZGUgImRjZS9kY2VfaHdzZXEuaCIKKyNpbmNsdWRlICJkY24yMC9kY24yMF9od3NlcS5oIgor
I2luY2x1ZGUgInZtaWQuaCIKKyNpbmNsdWRlICJyZWdfaGVscGVyLmgiCisjaW5jbHVkZSAiaHcv
Y2xrX21nci5oIgorCisKKyNkZWZpbmUgRENfTE9HR0VSX0lOSVQobG9nZ2VyKQorCisjZGVmaW5l
IENUWCBcCisJaHdzLT5jdHgKKyNkZWZpbmUgUkVHKHJlZylcCisJaHdzLT5yZWdzLT5yZWcKKwor
I3VuZGVmIEZOCisjZGVmaW5lIEZOKHJlZ19uYW1lLCBmaWVsZF9uYW1lKSBcCisJaHdzLT5zaGlm
dHMtPmZpZWxkX25hbWUsIGh3cy0+bWFza3MtPmZpZWxkX25hbWUKKworLyogVGVtcG9yYXJ5IHJl
YWQgc2V0dGluZ3MsIGZ1dHVyZSB3aWxsIGdldCB2YWx1ZXMgZnJvbSBrbWQgZGlyZWN0bHkgKi8K
K3N0YXRpYyB2b2lkIG1taHViX3VwZGF0ZV9wYWdlX3RhYmxlX2NvbmZpZyhzdHJ1Y3QgZGNuX2h1
YmJ1Yl9waHlzX2FkZHJfY29uZmlnICpjb25maWcsCisJCXN0cnVjdCBkY2VfaHdzZXEgKmh3cykK
K3sKKwl1aW50MzJfdCBwYWdlX3RhYmxlX2Jhc2VfaGk7CisJdWludDMyX3QgcGFnZV90YWJsZV9i
YXNlX2xvOworCisJUkVHX0dFVChWTV9DT05URVhUMF9QQUdFX1RBQkxFX0JBU0VfQUREUl9ISTMy
LAorCQkJUEFHRV9ESVJFQ1RPUllfRU5UUllfSEkzMiwgJnBhZ2VfdGFibGVfYmFzZV9oaSk7CisJ
UkVHX0dFVChWTV9DT05URVhUMF9QQUdFX1RBQkxFX0JBU0VfQUREUl9MTzMyLAorCQkJUEFHRV9E
SVJFQ1RPUllfRU5UUllfTE8zMiwgJnBhZ2VfdGFibGVfYmFzZV9sbyk7CisKKwljb25maWctPmdh
cnRfY29uZmlnLnBhZ2VfdGFibGVfYmFzZV9hZGRyID0gKCh1aW50NjRfdClwYWdlX3RhYmxlX2Jh
c2VfaGkgPDwgMzIpIHwgcGFnZV90YWJsZV9iYXNlX2xvOworCit9CisKK3N0YXRpYyBpbnQgZGNu
MjFfaW5pdF9zeXNfY3R4KHN0cnVjdCBkY2VfaHdzZXEgKmh3cywgc3RydWN0IGRjICpkYywgc3Ry
dWN0IGRjX3BoeV9hZGRyX3NwYWNlX2NvbmZpZyAqcGFfY29uZmlnKQoreworCXN0cnVjdCBkY25f
aHViYnViX3BoeXNfYWRkcl9jb25maWcgY29uZmlnOworCisJY29uZmlnLnN5c3RlbV9hcGVydHVy
ZS5mYl90b3AgPSBwYV9jb25maWctPnN5c3RlbV9hcGVydHVyZS5mYl90b3A7CisJY29uZmlnLnN5
c3RlbV9hcGVydHVyZS5mYl9vZmZzZXQgPSBwYV9jb25maWctPnN5c3RlbV9hcGVydHVyZS5mYl9v
ZmZzZXQ7CisJY29uZmlnLnN5c3RlbV9hcGVydHVyZS5mYl9iYXNlID0gcGFfY29uZmlnLT5zeXN0
ZW1fYXBlcnR1cmUuZmJfYmFzZTsKKwljb25maWcuc3lzdGVtX2FwZXJ0dXJlLmFncF90b3AgPSBw
YV9jb25maWctPnN5c3RlbV9hcGVydHVyZS5hZ3BfdG9wOworCWNvbmZpZy5zeXN0ZW1fYXBlcnR1
cmUuYWdwX2JvdCA9IHBhX2NvbmZpZy0+c3lzdGVtX2FwZXJ0dXJlLmFncF9ib3Q7CisJY29uZmln
LnN5c3RlbV9hcGVydHVyZS5hZ3BfYmFzZSA9IHBhX2NvbmZpZy0+c3lzdGVtX2FwZXJ0dXJlLmFn
cF9iYXNlOworCWNvbmZpZy5nYXJ0X2NvbmZpZy5wYWdlX3RhYmxlX3N0YXJ0X2FkZHIgPSBwYV9j
b25maWctPmdhcnRfY29uZmlnLnBhZ2VfdGFibGVfc3RhcnRfYWRkcjsKKwljb25maWcuZ2FydF9j
b25maWcucGFnZV90YWJsZV9lbmRfYWRkciA9IHBhX2NvbmZpZy0+Z2FydF9jb25maWcucGFnZV90
YWJsZV9lbmRfYWRkcjsKKwljb25maWcuZ2FydF9jb25maWcucGFnZV90YWJsZV9iYXNlX2FkZHIg
PSBwYV9jb25maWctPmdhcnRfY29uZmlnLnBhZ2VfdGFibGVfYmFzZV9hZGRyOworCisJbW1odWJf
dXBkYXRlX3BhZ2VfdGFibGVfY29uZmlnKCZjb25maWcsIGh3cyk7CisKKwlyZXR1cm4gZGMtPnJl
c19wb29sLT5odWJidWItPmZ1bmNzLT5pbml0X2RjaHViX3N5c19jdHgoZGMtPnJlc19wb29sLT5o
dWJidWIsICZjb25maWcpOworfQorCisvLyB3b3JrIGFyb3VuZCBmb3IgUmVub2lyIHMwaTMsIGlm
IHJlZ2lzdGVyIGlzIHByb2dyYW1tZWQsIGJ5cGFzcyBnb2xkZW4gaW5pdC4KKworc3RhdGljIGJv
b2wgZGNuMjFfczBpM19nb2xkZW5faW5pdF93YShzdHJ1Y3QgZGMgKmRjKQoreworCXN0cnVjdCBk
Y2VfaHdzZXEgKmh3cyA9IGRjLT5od3NlcTsKKwl1aW50MzJfdCB2YWx1ZSA9IDA7CisKKwl2YWx1
ZSA9IFJFR19SRUFEKE1JQ1JPU0VDT05EX1RJTUVfQkFTRV9ESVYpOworCisJcmV0dXJuIHZhbHVl
ICE9IDB4MDAxMjA0NjQ7Cit9CisKK3ZvaWQgZGNuMjFfZXhpdF9vcHRpbWl6ZWRfcHdyX3N0YXRl
KAorCQljb25zdCBzdHJ1Y3QgZGMgKmRjLAorCQlzdHJ1Y3QgZGNfc3RhdGUgKmNvbnRleHQpCit7
CisJZGMtPmNsa19tZ3ItPmZ1bmNzLT51cGRhdGVfY2xvY2tzKAorCQkJZGMtPmNsa19tZ3IsCisJ
CQljb250ZXh0LAorCQkJZmFsc2UpOworfQorCit2b2lkIGRjbjIxX29wdGltaXplX3B3cl9zdGF0
ZSgKKwkJY29uc3Qgc3RydWN0IGRjICpkYywKKwkJc3RydWN0IGRjX3N0YXRlICpjb250ZXh0KQor
eworCWRjLT5jbGtfbWdyLT5mdW5jcy0+dXBkYXRlX2Nsb2NrcygKKwkJCWRjLT5jbGtfbWdyLAor
CQkJY29udGV4dCwKKwkJCXRydWUpOworfQorCit2b2lkIGRjbjIxX2h3X3NlcXVlbmNlcl9jb25z
dHJ1Y3Qoc3RydWN0IGRjICpkYykKK3sKKwlkY24yMF9od19zZXF1ZW5jZXJfY29uc3RydWN0KGRj
KTsKKwlkYy0+aHdzcy5pbml0X3N5c19jdHggPSBkY24yMV9pbml0X3N5c19jdHg7CisJZGMtPmh3
c3MuczBpM19nb2xkZW5faW5pdF93YSA9IGRjbjIxX3MwaTNfZ29sZGVuX2luaXRfd2E7CisJZGMt
Pmh3c3Mub3B0aW1pemVfcHdyX3N0YXRlID0gZGNuMjFfb3B0aW1pemVfcHdyX3N0YXRlOworCWRj
LT5od3NzLmV4aXRfb3B0aW1pemVkX3B3cl9zdGF0ZSA9IGRjbjIxX2V4aXRfb3B0aW1pemVkX3B3
cl9zdGF0ZTsKK30KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9k
Y24yMS9kY24yMV9od3NlcS5oIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIx
L2RjbjIxX2h3c2VxLmgKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAwLi5i
ZTY3YjYyZTZmYjEKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3Bs
YXkvZGMvZGNuMjEvZGNuMjFfaHdzZXEuaApAQCAtMCwwICsxLDMzIEBACisvKgorKiBDb3B5cmln
aHQgMjAxNiBBZHZhbmNlZCBNaWNybyBEZXZpY2VzLCBJbmMuCisgKgorICogUGVybWlzc2lvbiBp
cyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5n
IGEKKyAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9u
IGZpbGVzICh0aGUgIlNvZnR3YXJlIiksCisgKiB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRo
b3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uCisgKiB0aGUgcmln
aHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3Vi
bGljZW5zZSwKKyAqIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBw
ZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZQorICogU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRv
IHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKKyAqCisgKiBUaGUgYWJv
dmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBp
bmNsdWRlZCBpbgorICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUg
U29mdHdhcmUuCisgKgorICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhP
VVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKKyAqIElNUExJRUQsIElOQ0xVRElO
RyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLAor
ICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4g
IElOIE5PIEVWRU5UIFNIQUxMCisgKiBUSEUgQ09QWVJJR0hUIEhPTERFUihTKSBPUiBBVVRIT1Io
UykgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IKKyAqIE9USEVSIExJQUJJTElU
WSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLAor
ICogQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FS
RSBPUiBUSEUgVVNFIE9SCisgKiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuCisgKgor
ICogQXV0aG9yczogQU1ECisgKgorICovCisKKyNpZm5kZWYgX19EQ19IV1NTX0RDTjIxX0hfXwor
I2RlZmluZSBfX0RDX0hXU1NfRENOMjFfSF9fCisKK3N0cnVjdCBkYzsKKwordm9pZCBkY24yMV9o
d19zZXF1ZW5jZXJfY29uc3RydWN0KHN0cnVjdCBkYyAqZGMpOworCisjZW5kaWYgLyogX19EQ19I
V1NTX0RDTjIxX0hfXyAqLwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5
L2RjL2RjbjIxL2RjbjIxX3Jlc291cmNlLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkv
ZGMvZGNuMjEvZGNuMjFfcmVzb3VyY2UuYwppbmRleCA1NDk1Y2Q2NzBmNjYuLjE0NGI0NzYxYmI2
ZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIxL2RjbjIx
X3Jlc291cmNlLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIxL2Rj
bjIxX3Jlc291cmNlLmMKQEAgLTIzLDggKzIzLDYgQEAKICAqCiAgKi8KIAotI2luY2x1ZGUgPGxp
bnV4L3NsYWIuaD4KLQogI2luY2x1ZGUgImRtX3NlcnZpY2VzLmgiCiAjaW5jbHVkZSAiZGMuaCIK
IApAQCAtNDIsNyArNDAsNyBAQAogI2luY2x1ZGUgImlycS9kY24yMS9pcnFfc2VydmljZV9kY24y
MS5oIgogI2luY2x1ZGUgImRjbjIwL2RjbjIwX2RwcC5oIgogI2luY2x1ZGUgImRjbjIwL2RjbjIw
X29wdGMuaCIKLSNpbmNsdWRlICJkY24yMC9kY24yMF9od3NlcS5oIgorI2luY2x1ZGUgImRjbjIx
L2RjbjIxX2h3c2VxLmgiCiAjaW5jbHVkZSAiZGNlMTEwL2RjZTExMF9od19zZXF1ZW5jZXIuaCIK
ICNpbmNsdWRlICJkY24yMC9kY24yMF9vcHAuaCIKICNpbmNsdWRlICJkY24yMC9kY24yMF9kc2Mu
aCIKQEAgLTM1MCw2ICszNDgsMzAgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBiaW9zX3JlZ2lzdGVy
cyBiaW9zX3JlZ3MgPSB7CiAJCU5CSU9fU1IoQklPU19TQ1JBVENIXzYpCiB9OwogCitzdGF0aWMg
Y29uc3Qgc3RydWN0IGRjZV9kbWN1X3JlZ2lzdGVycyBkbWN1X3JlZ3MgPSB7CisJCURNQ1VfRENO
MTBfUkVHX0xJU1QoKQorfTsKKworc3RhdGljIGNvbnN0IHN0cnVjdCBkY2VfZG1jdV9zaGlmdCBk
bWN1X3NoaWZ0ID0geworCQlETUNVX01BU0tfU0hfTElTVF9EQ04xMChfX1NISUZUKQorfTsKKwor
c3RhdGljIGNvbnN0IHN0cnVjdCBkY2VfZG1jdV9tYXNrIGRtY3VfbWFzayA9IHsKKwkJRE1DVV9N
QVNLX1NIX0xJU1RfRENOMTAoX01BU0spCit9OworCitzdGF0aWMgY29uc3Qgc3RydWN0IGRjZV9h
Ym1fcmVnaXN0ZXJzIGFibV9yZWdzID0geworCQlBQk1fRENOMjBfUkVHX0xJU1QoKQorfTsKKwor
c3RhdGljIGNvbnN0IHN0cnVjdCBkY2VfYWJtX3NoaWZ0IGFibV9zaGlmdCA9IHsKKwkJQUJNX01B
U0tfU0hfTElTVF9EQ04yMChfX1NISUZUKQorfTsKKworc3RhdGljIGNvbnN0IHN0cnVjdCBkY2Vf
YWJtX21hc2sgYWJtX21hc2sgPSB7CisJCUFCTV9NQVNLX1NIX0xJU1RfRENOMjAoX01BU0spCit9
OworCiAjaWZkZWYgQ09ORklHX0RSTV9BTURfRENfRE1VQgogc3RhdGljIGNvbnN0IHN0cnVjdCBk
Y24yMV9kbWN1Yl9yZWdpc3RlcnMgZG1jdWJfcmVncyA9IHsKIAkJRE1DVUJfUkVHX0xJU1RfRENO
KCkKQEAgLTE0MzksNiArMTQ2MSwxOSBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IHJlc291cmNlX2Ny
ZWF0ZV9mdW5jcyByZXNfY3JlYXRlX21heGltdXNfZnVuY3MgPSB7CiAJLmNyZWF0ZV9od3NlcSA9
IGRjbjIxX2h3c2VxX2NyZWF0ZSwKIH07CiAKKyNkZWZpbmUgQ1RYIGN0eAorCisjZGVmaW5lIFJF
RyhyZWdfbmFtZSkgXAorCShEQ05fQkFTRS5pbnN0YW5jZVswXS5zZWdtZW50W21tICMjIHJlZ19u
YW1lICMjIF9CQVNFX0lEWF0gKyBtbSAjIyByZWdfbmFtZSkKKworc3RhdGljIHVpbnQzMl90IHJl
YWRfcGlwZV9mdXNlcyhzdHJ1Y3QgZGNfY29udGV4dCAqY3R4KQoreworCXVpbnQzMl90IHZhbHVl
ID0gUkVHX1JFQUQoQ0NfRENfUElQRV9ESVMpOworCS8qIFJWMSBzdXBwb3J0IG1heCA0IHBpcGVz
ICovCisJdmFsdWUgPSB2YWx1ZSAmIDB4ZjsKKwlyZXR1cm4gdmFsdWU7Cit9CisKIHN0YXRpYyBz
dHJ1Y3QgcmVzb3VyY2VfZnVuY3MgZGNuMjFfcmVzX3Bvb2xfZnVuY3MgPSB7CiAJLmRlc3Ryb3kg
PSBkY24yMV9kZXN0cm95X3Jlc291cmNlX3Bvb2wsCiAJLmxpbmtfZW5jX2NyZWF0ZSA9IGRjbjIw
X2xpbmtfZW5jb2Rlcl9jcmVhdGUsCkBAIC0xNDU4LDkgKzE0OTMsMTAgQEAgc3RhdGljIGJvb2wg
Y29uc3RydWN0KAogCXN0cnVjdCBkYyAqZGMsCiAJc3RydWN0IGRjbjIxX3Jlc291cmNlX3Bvb2wg
KnBvb2wpCiB7Ci0JaW50IGk7CisJaW50IGksIGo7CiAJc3RydWN0IGRjX2NvbnRleHQgKmN0eCA9
IGRjLT5jdHg7CiAJc3RydWN0IGlycV9zZXJ2aWNlX2luaXRfZGF0YSBpbml0X2RhdGE7CisJdWlu
dDMyX3QgcGlwZV9mdXNlcyA9IHJlYWRfcGlwZV9mdXNlcyhjdHgpOwogCiAJY3R4LT5kY19iaW9z
LT5yZWdzID0gJmJpb3NfcmVnczsKIApAQCAtMTQ3OCw3ICsxNTE0LDkgQEAgc3RhdGljIGJvb2wg
Y29uc3RydWN0KAogCSAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqLwogCXBvb2wtPmJhc2UudW5kZXJsYXlfcGlwZV9pbmRleCA9IE5PX1VOREVSTEFZX1BJ
UEU7CiAKLQlwb29sLT5iYXNlLnBpcGVfY291bnQgPSA0OworCS8qIG1heCBwaXBlIG51bSBmb3Ig
QVNJQyBiZWZvcmUgY2hlY2sgcGlwZSBmdXNlcyAqLworCXBvb2wtPmJhc2UucGlwZV9jb3VudCA9
IHBvb2wtPmJhc2UucmVzX2NhcC0+bnVtX3RpbWluZ19nZW5lcmF0b3I7CisKIAlkYy0+Y2Fwcy5t
YXhfZG93bnNjYWxlX3JhdGlvID0gMjAwOwogCWRjLT5jYXBzLmkyY19zcGVlZF9pbl9raHogPSAx
MDA7CiAJZGMtPmNhcHMubWF4X2N1cnNvcl9zaXplID0gMjU2OwpAQCAtMTUzOCw2ICsxNTc2LDI2
IEBAIHN0YXRpYyBib29sIGNvbnN0cnVjdCgKIAkJZ290byBjcmVhdGVfZmFpbDsKIAl9CiAKKwlw
b29sLT5iYXNlLmRtY3UgPSBkY24yMF9kbWN1X2NyZWF0ZShjdHgsCisJCQkmZG1jdV9yZWdzLAor
CQkJJmRtY3Vfc2hpZnQsCisJCQkmZG1jdV9tYXNrKTsKKwlpZiAocG9vbC0+YmFzZS5kbWN1ID09
IE5VTEwpIHsKKwkJZG1fZXJyb3IoIkRDOiBmYWlsZWQgdG8gY3JlYXRlIGRtY3UhXG4iKTsKKwkJ
QlJFQUtfVE9fREVCVUdHRVIoKTsKKwkJZ290byBjcmVhdGVfZmFpbDsKKwl9CisKKwlwb29sLT5i
YXNlLmFibSA9IGRjZV9hYm1fY3JlYXRlKGN0eCwKKwkJCSZhYm1fcmVncywKKwkJCSZhYm1fc2hp
ZnQsCisJCQkmYWJtX21hc2spOworCWlmIChwb29sLT5iYXNlLmFibSA9PSBOVUxMKSB7CisJCWRt
X2Vycm9yKCJEQzogZmFpbGVkIHRvIGNyZWF0ZSBhYm0hXG4iKTsKKwkJQlJFQUtfVE9fREVCVUdH
RVIoKTsKKwkJZ290byBjcmVhdGVfZmFpbDsKKwl9CisKICNpZmRlZiBDT05GSUdfRFJNX0FNRF9E
Q19ETVVCCiAJcG9vbC0+YmFzZS5kbWN1YiA9IGRjbjIxX2RtY3ViX2NyZWF0ZShjdHgsCiAJCQkm
ZG1jdWJfcmVncywKQEAgLTE1NTksOCArMTYxNywxNSBAQCBzdGF0aWMgYm9vbCBjb25zdHJ1Y3Qo
CiAJaWYgKCFwb29sLT5iYXNlLmlycXMpCiAJCWdvdG8gY3JlYXRlX2ZhaWw7CiAKKwlqID0gMDsK
IAkvKiBtZW0gaW5wdXQgLT4gaXBwIC0+IGRwcCAtPiBvcHAgLT4gVEcgKi8KIAlmb3IgKGkgPSAw
OyBpIDwgcG9vbC0+YmFzZS5waXBlX2NvdW50OyBpKyspIHsKKwkJLyogaWYgcGlwZSBpcyBkaXNh
YmxlZCwgc2tpcCBpbnN0YW5jZSBvZiBIVyBwaXBlLAorCQkgKiBpLmUsIHNraXAgQVNJQyByZWdp
c3RlciBpbnN0YW5jZQorCQkgKi8KKwkJaWYgKChwaXBlX2Z1c2VzICYgKDEgPDwgaSkpICE9IDAp
CisJCQljb250aW51ZTsKKwogCQlwb29sLT5iYXNlLmh1YnBzW2ldID0gZGNuMjFfaHVicF9jcmVh
dGUoY3R4LCBpKTsKIAkJaWYgKHBvb2wtPmJhc2UuaHVicHNbaV0gPT0gTlVMTCkgewogCQkJQlJF
QUtfVE9fREVCVUdHRVIoKTsKQEAgLTE1ODQsNiArMTY0OSwyMyBAQCBzdGF0aWMgYm9vbCBjb25z
dHJ1Y3QoCiAJCQkJIkRDOiBmYWlsZWQgdG8gY3JlYXRlIGRwcHMhXG4iKTsKIAkJCWdvdG8gY3Jl
YXRlX2ZhaWw7CiAJCX0KKworCQlwb29sLT5iYXNlLm9wcHNbaV0gPSBkY24yMV9vcHBfY3JlYXRl
KGN0eCwgaSk7CisJCWlmIChwb29sLT5iYXNlLm9wcHNbaV0gPT0gTlVMTCkgeworCQkJQlJFQUtf
VE9fREVCVUdHRVIoKTsKKwkJCWRtX2Vycm9yKAorCQkJCSJEQzogZmFpbGVkIHRvIGNyZWF0ZSBv
dXRwdXQgcGl4ZWwgcHJvY2Vzc29yIVxuIik7CisJCQlnb3RvIGNyZWF0ZV9mYWlsOworCQl9CisK
KwkJcG9vbC0+YmFzZS50aW1pbmdfZ2VuZXJhdG9yc1tpXSA9IGRjbjIxX3RpbWluZ19nZW5lcmF0
b3JfY3JlYXRlKAorCQkJCWN0eCwgaSk7CisJCWlmIChwb29sLT5iYXNlLnRpbWluZ19nZW5lcmF0
b3JzW2ldID09IE5VTEwpIHsKKwkJCUJSRUFLX1RPX0RFQlVHR0VSKCk7CisJCQlkbV9lcnJvcigi
REM6IGZhaWxlZCB0byBjcmVhdGUgdGchXG4iKTsKKwkJCWdvdG8gY3JlYXRlX2ZhaWw7CisJCX0K
KwkJaisrOwogCX0KIAogCWZvciAoaSA9IDA7IGkgPCBwb29sLT5iYXNlLnJlc19jYXAtPm51bV9k
ZGM7IGkrKykgewpAQCAtMTYwNCwyNyArMTY4Niw5IEBAIHN0YXRpYyBib29sIGNvbnN0cnVjdCgK
IAkJcG9vbC0+YmFzZS5zd19pMmNzW2ldID0gTlVMTDsKIAl9CiAKLQlmb3IgKGkgPSAwOyBpIDwg
cG9vbC0+YmFzZS5yZXNfY2FwLT5udW1fb3BwOyBpKyspIHsKLQkJcG9vbC0+YmFzZS5vcHBzW2ld
ID0gZGNuMjFfb3BwX2NyZWF0ZShjdHgsIGkpOwotCQlpZiAocG9vbC0+YmFzZS5vcHBzW2ldID09
IE5VTEwpIHsKLQkJCUJSRUFLX1RPX0RFQlVHR0VSKCk7Ci0JCQlkbV9lcnJvcigKLQkJCQkiREM6
IGZhaWxlZCB0byBjcmVhdGUgb3V0cHV0IHBpeGVsIHByb2Nlc3NvciFcbiIpOwotCQkJZ290byBj
cmVhdGVfZmFpbDsKLQkJfQotCX0KLQotCWZvciAoaSA9IDA7IGkgPCBwb29sLT5iYXNlLnJlc19j
YXAtPm51bV90aW1pbmdfZ2VuZXJhdG9yOyBpKyspIHsKLQkJcG9vbC0+YmFzZS50aW1pbmdfZ2Vu
ZXJhdG9yc1tpXSA9IGRjbjIxX3RpbWluZ19nZW5lcmF0b3JfY3JlYXRlKAotCQkJCWN0eCwgaSk7
Ci0JCWlmIChwb29sLT5iYXNlLnRpbWluZ19nZW5lcmF0b3JzW2ldID09IE5VTEwpIHsKLQkJCUJS
RUFLX1RPX0RFQlVHR0VSKCk7Ci0JCQlkbV9lcnJvcigiREM6IGZhaWxlZCB0byBjcmVhdGUgdGch
XG4iKTsKLQkJCWdvdG8gY3JlYXRlX2ZhaWw7Ci0JCX0KLQl9Ci0KLQlwb29sLT5iYXNlLnRpbWlu
Z19nZW5lcmF0b3JfY291bnQgPSBpOworCXBvb2wtPmJhc2UudGltaW5nX2dlbmVyYXRvcl9jb3Vu
dCA9IGo7CisJcG9vbC0+YmFzZS5waXBlX2NvdW50ID0gajsKKwlwb29sLT5iYXNlLm1wY2NfY291
bnQgPSBqOwogCiAJcG9vbC0+YmFzZS5tcGMgPSBkY24yMV9tcGNfY3JlYXRlKGN0eCk7CiAJaWYg
KHBvb2wtPmJhc2UubXBjID09IE5VTEwpIHsKQEAgLTE2NjcsNyArMTczMSw3IEBAIHN0YXRpYyBi
b29sIGNvbnN0cnVjdCgKIAkJCSZyZXNfY3JlYXRlX2Z1bmNzIDogJnJlc19jcmVhdGVfbWF4aW11
c19mdW5jcykpKQogCQkJZ290byBjcmVhdGVfZmFpbDsKIAotCWRjbjIwX2h3X3NlcXVlbmNlcl9j
b25zdHJ1Y3QoZGMpOworCWRjbjIxX2h3X3NlcXVlbmNlcl9jb25zdHJ1Y3QoZGMpOwogCiAJZGMt
PmNhcHMubWF4X3BsYW5lcyA9ICBwb29sLT5iYXNlLnBpcGVfY291bnQ7CiAKZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9pbmMvaHdfc2VxdWVuY2VyLmggYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvaW5jL2h3X3NlcXVlbmNlci5oCmluZGV4IGU3NzVk
N2FhMDYyZi4uZDM5YzFlMTFkZWY1IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rp
c3BsYXkvZGMvaW5jL2h3X3NlcXVlbmNlci5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlz
cGxheS9kYy9pbmMvaHdfc2VxdWVuY2VyLmgKQEAgLTM0OSw2ICszNDksOSBAQCBzdHJ1Y3QgaHdf
c2VxdWVuY2VyX2Z1bmNzIHsKIAkJCWVudW0gZGNfY2xvY2tfdHlwZSBjbG9ja190eXBlLAogCQkJ
c3RydWN0IGRjX2Nsb2NrX2NvbmZpZyAqY2xvY2tfY2ZnKTsKIAorI2lmIGRlZmluZWQoQ09ORklH
X0RSTV9BTURfRENfRENOMl8xKQorCWJvb2wgKCpzMGkzX2dvbGRlbl9pbml0X3dhKShzdHJ1Y3Qg
ZGMgKmRjKTsKKyNlbmRpZgogfTsKIAogdm9pZCBjb2xvcl9zcGFjZV90b19ibGFja19jb2xvcigK
LS0gCjIuMTcuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X18KYW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0
cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4
