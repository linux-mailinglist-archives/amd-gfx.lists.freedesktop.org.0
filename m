Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 2B06DE4065
	for <lists+amd-gfx@lfdr.de>; Fri, 25 Oct 2019 01:45:05 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id F09F66E85B;
	Thu, 24 Oct 2019 23:45:02 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM04-CO1-obe.outbound.protection.outlook.com
 (mail-eopbgr690055.outbound.protection.outlook.com [40.107.69.55])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E79676E85B
 for <amd-gfx@lists.freedesktop.org>; Thu, 24 Oct 2019 23:45:01 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=DsiXMyIWrKhzJnEywHoGNXuMq/ytWKXOrtekQetclyR2+ChesYGaaZ3WfDOIFS7YzEWUahQVzUNcjg+FGN1jvQK9NsGuQ0+4ihUjyWAmXlPbYPKICyPd7CtV5kiXJyFHB5NR90D6Pv+E6fUKqrIYIHm7QXrX8lrrDL0O3Pxsg4L9Gn7ACXoSBdoU7b2FF7lqpt+2ke/xvBUCOp2lE58tNPmhnOhD2Iu+jLQlSHvjX+/uVn4hQkgsAUwpzi2OMNKrL940lUkhtyXWwy7DnpWfWYTHuI6Mnnmf9Km8OKqOfc5acWnPlCS1i0rvrg75JSq+2VHbRrtk830M9PxUAXloqQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=/0UO24CVLSLBtnllKCIPqOZvaAWL24c2tPC1nXixMaQ=;
 b=jqrKg/P8OvQJ20fbJxp+VlxviavG5sAUIEJojNrDhBjzftRwmeHrdJ0MntEViSi0J0tSbmzOdoCUkMdZf+qOxEJZn/XXZBKxANKudgx007XIIhoA7CXenxkS8ghFOp7rBB5gxm8oOt2Ronly7WtUaPiNIUihaBQN8owXfqqD8Qwb/fLO7jAE80fomOxT4QBbidvpWHIIqm1YZ5ETN5n/Oc9Oe8DzWF6XVM99VzvAUj7OZIZjz/33nja+7N9oK+Hfu2LZ+vtk57sA7MBUZ5p6cfsKGwtTkg/DA3t4Q5Dcv2BLc5gpcOHUEM9PvMXmzTdZBti/T9zftxSq9QeRinh3sg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from DM6PR12MB3355.namprd12.prod.outlook.com (20.178.198.10) by
 DM6PR12MB3324.namprd12.prod.outlook.com (20.178.31.154) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2387.22; Thu, 24 Oct 2019 23:44:59 +0000
Received: from DM6PR12MB3355.namprd12.prod.outlook.com
 ([fe80::6006:422c:ecdf:e550]) by DM6PR12MB3355.namprd12.prod.outlook.com
 ([fe80::6006:422c:ecdf:e550%6]) with mapi id 15.20.2367.027; Thu, 24 Oct 2019
 23:44:59 +0000
From: "Tuikov, Luben" <Luben.Tuikov@amd.com>
To: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: [PATCH] drm/amdgpu: simplify padding calculations
Thread-Topic: [PATCH] drm/amdgpu: simplify padding calculations
Thread-Index: AQHVisULvYz/N9VAyU2dNn0xqbhFTg==
Date: Thu, 24 Oct 2019 23:44:59 +0000
Message-ID: <20191024234444.4375-1-luben.tuikov@amd.com>
Accept-Language: en-CA, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: YTOPR0101CA0019.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:b00:15::32) To DM6PR12MB3355.namprd12.prod.outlook.com
 (2603:10b6:5:38::10)
x-ms-exchange-messagesentrepresentingtype: 1
x-mailer: git-send-email 2.23.0.385.gbc12974a89
x-originating-ip: [165.204.55.250]
x-ms-publictraffictype: Email
x-ms-office365-filtering-ht: Tenant
x-ms-office365-filtering-correlation-id: d3068801-5bec-4bb4-e313-08d758dc2e69
x-ms-traffictypediagnostic: DM6PR12MB3324:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <DM6PR12MB3324275DC2BB52F510E47B8C996A0@DM6PR12MB3324.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:3276;
x-forefront-prvs: 0200DDA8BE
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(346002)(366004)(376002)(136003)(39860400002)(396003)(199004)(189003)(486006)(478600001)(14454004)(6486002)(66066001)(71190400001)(3846002)(1076003)(6116002)(8676002)(71200400001)(81166006)(6436002)(5640700003)(50226002)(36756003)(81156014)(86362001)(25786009)(8936002)(4326008)(2906002)(2501003)(102836004)(6506007)(316002)(6916009)(386003)(476003)(305945005)(2616005)(54906003)(7736002)(52116002)(2351001)(6512007)(99286004)(256004)(26005)(5660300002)(64756008)(186003)(66476007)(66446008)(66556008)(66946007);
 DIR:OUT; SFP:1101; SCL:1; SRVR:DM6PR12MB3324;
 H:DM6PR12MB3355.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: CoToCpGS/vku+0pcDYDy0CWiurEaG7dM7VZV01KADu55yfqHcHimHN4h7fjeL3gj7A0dz97VKa0G1RvxQAIlHLsuNUoRYUO7L9pNPUd0KmPMpvF6pbmvkhDbxNLj4e9lVMbSFUX6sBY+kQAw8bi30EDLwalpVha+ulYDm/ZxOFAsiefpdu1/PkmTovqvbn2LpFa4h7Jo2YsS9Ab+7nYn301c1JeL9bHjr4389SfcIViFHjHzuEpQZVjDTf2PlHkMBnv12BSrZaYwlIKbR5I4uXTJEHNlPzw2NSiRs26EeFdgT9CsGv7NbWHQXMNl/iUqA8cm728RcJfAAHXNKUoj+A5ZHZaYwo6nBHGFor2TQvCzP+rG4dSl2HAdZZRtoVyq0k7qa8dLvoo7naeQTW88CpSFS1JrXiNBOmMIEA68gL/h9nC4xtZcvoOLzyzJmI5h
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: d3068801-5bec-4bb4-e313-08d758dc2e69
X-MS-Exchange-CrossTenant-originalarrivaltime: 24 Oct 2019 23:44:59.2264 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: scf2q8qc0Jv2rr21ZLRHGvd/fKmiBjbiSfveuEoHj853S4F/xzJhJRn6fZKUWWui
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM6PR12MB3324
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=/0UO24CVLSLBtnllKCIPqOZvaAWL24c2tPC1nXixMaQ=;
 b=qLC0EwPib0poZBEfPoP/Fa1j3TDEUiHnB6z2wJ3rOoqkeFu54qfWjWOmmP2fi0fhR8E0RHdt4Qyo9zEyh5qzRm50ILxXO41IQahAeUt2QwJbkEXmntsGqK13wXGlkUdjMPG6ARTBVKOPk6kIAKqkqugsmmT8+u2QavCuNJj5Aec=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Luben.Tuikov@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Deucher, Alexander" <Alexander.Deucher@amd.com>, "Tuikov,
 Luben" <Luben.Tuikov@amd.com>, "Koenig, Christian" <Christian.Koenig@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

U2ltcGxpZnkgcGFkZGluZyBjYWxjdWxhdGlvbnMuCgpTaWduZWQtb2ZmLWJ5OiBMdWJlbiBUdWlr
b3YgPGx1YmVuLnR1aWtvdkBhbWQuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2Npa19zZG1hLmMgIHwgIDQgKystLQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92
Ml80LmMgfCAgNCArKy0tCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3YzXzAuYyB8
ICA0ICsrLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjRfMC5jIHwgIDQgKyst
LQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92NV8wLmMgfCAxNCArKysrKysrKyst
LS0tLQogNSBmaWxlcyBjaGFuZ2VkLCAxNyBpbnNlcnRpb25zKCspLCAxMyBkZWxldGlvbnMoLSkK
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9jaWtfc2RtYS5jIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvY2lrX3NkbWEuYwppbmRleCBjNDUzMDRmMTA0N2MuLjFl
YTllMThkNmYwOCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvY2lrX3Nk
bWEuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9jaWtfc2RtYS5jCkBAIC0yMjgs
NyArMjI4LDcgQEAgc3RhdGljIHZvaWQgY2lrX3NkbWFfcmluZ19lbWl0X2liKHN0cnVjdCBhbWRn
cHVfcmluZyAqcmluZywKIAl1MzIgZXh0cmFfYml0cyA9IHZtaWQgJiAweGY7CiAKIAkvKiBJQiBw
YWNrZXQgbXVzdCBlbmQgb24gYSA4IERXIGJvdW5kYXJ5ICovCi0JY2lrX3NkbWFfcmluZ19pbnNl
cnRfbm9wKHJpbmcsICgxMiAtIChsb3dlcl8zMl9iaXRzKHJpbmctPndwdHIpICYgNykpICUgOCk7
CisJY2lrX3NkbWFfcmluZ19pbnNlcnRfbm9wKHJpbmcsICg0LWxvd2VyXzMyX2JpdHMocmluZy0+
d3B0cikpICYgNyk7CiAKIAlhbWRncHVfcmluZ193cml0ZShyaW5nLCBTRE1BX1BBQ0tFVChTRE1B
X09QQ09ERV9JTkRJUkVDVF9CVUZGRVIsIDAsIGV4dHJhX2JpdHMpKTsKIAlhbWRncHVfcmluZ193
cml0ZShyaW5nLCBpYi0+Z3B1X2FkZHIgJiAweGZmZmZmZmUwKTsgLyogYmFzZSBtdXN0IGJlIDMy
IGJ5dGUgYWxpZ25lZCAqLwpAQCAtODExLDcgKzgxMSw3IEBAIHN0YXRpYyB2b2lkIGNpa19zZG1h
X3JpbmdfcGFkX2liKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywgc3RydWN0IGFtZGdwdV9pYiAq
aWIpCiAJdTMyIHBhZF9jb3VudDsKIAlpbnQgaTsKIAotCXBhZF9jb3VudCA9ICg4IC0gKGliLT5s
ZW5ndGhfZHcgJiAweDcpKSAlIDg7CisJcGFkX2NvdW50ID0gKC1pYi0+bGVuZ3RoX2R3KSAmIDc7
CiAJZm9yIChpID0gMDsgaSA8IHBhZF9jb3VudDsgaSsrKQogCQlpZiAoc2RtYSAmJiBzZG1hLT5i
dXJzdF9ub3AgJiYgKGkgPT0gMCkpCiAJCQlpYi0+cHRyW2liLT5sZW5ndGhfZHcrK10gPQpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92Ml80LmMgYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3YyXzQuYwppbmRleCBhMTAxNzU4MzgwMTMuLmQzNDBm
MTc5NDAxYSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92Ml80
LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92Ml80LmMKQEAgLTI1NSw3
ICsyNTUsNyBAQCBzdGF0aWMgdm9pZCBzZG1hX3YyXzRfcmluZ19lbWl0X2liKHN0cnVjdCBhbWRn
cHVfcmluZyAqcmluZywKIAl1bnNpZ25lZCB2bWlkID0gQU1ER1BVX0pPQl9HRVRfVk1JRChqb2Ip
OwogCiAJLyogSUIgcGFja2V0IG11c3QgZW5kIG9uIGEgOCBEVyBib3VuZGFyeSAqLwotCXNkbWFf
djJfNF9yaW5nX2luc2VydF9ub3AocmluZywgKDEwIC0gKGxvd2VyXzMyX2JpdHMocmluZy0+d3B0
cikgJiA3KSkgJSA4KTsKKwlzZG1hX3YyXzRfcmluZ19pbnNlcnRfbm9wKHJpbmcsICgyLWxvd2Vy
XzMyX2JpdHMocmluZy0+d3B0cikpICYgNyk7CiAKIAlhbWRncHVfcmluZ193cml0ZShyaW5nLCBT
RE1BX1BLVF9IRUFERVJfT1AoU0RNQV9PUF9JTkRJUkVDVCkgfAogCQkJICBTRE1BX1BLVF9JTkRJ
UkVDVF9IRUFERVJfVk1JRCh2bWlkICYgMHhmKSk7CkBAIC03NTAsNyArNzUwLDcgQEAgc3RhdGlj
IHZvaWQgc2RtYV92Ml80X3JpbmdfcGFkX2liKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywgc3Ry
dWN0IGFtZGdwdV9pYiAqaWIKIAl1MzIgcGFkX2NvdW50OwogCWludCBpOwogCi0JcGFkX2NvdW50
ID0gKDggLSAoaWItPmxlbmd0aF9kdyAmIDB4NykpICUgODsKKwlwYWRfY291bnQgPSAoLWliLT5s
ZW5ndGhfZHcpICYgNzsKIAlmb3IgKGkgPSAwOyBpIDwgcGFkX2NvdW50OyBpKyspCiAJCWlmIChz
ZG1hICYmIHNkbWEtPmJ1cnN0X25vcCAmJiAoaSA9PSAwKSkKIAkJCWliLT5wdHJbaWItPmxlbmd0
aF9kdysrXSA9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3Yz
XzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjNfMC5jCmluZGV4IDVmNGUy
YzYxNjI0MS4uNWMzYzMxMDE4OGI2IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9zZG1hX3YzXzAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3Yz
XzAuYwpAQCAtNDI5LDcgKzQyOSw3IEBAIHN0YXRpYyB2b2lkIHNkbWFfdjNfMF9yaW5nX2VtaXRf
aWIoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLAogCXVuc2lnbmVkIHZtaWQgPSBBTURHUFVfSk9C
X0dFVF9WTUlEKGpvYik7CiAKIAkvKiBJQiBwYWNrZXQgbXVzdCBlbmQgb24gYSA4IERXIGJvdW5k
YXJ5ICovCi0Jc2RtYV92M18wX3JpbmdfaW5zZXJ0X25vcChyaW5nLCAoMTAgLSAobG93ZXJfMzJf
Yml0cyhyaW5nLT53cHRyKSAmIDcpKSAlIDgpOworCXNkbWFfdjNfMF9yaW5nX2luc2VydF9ub3Ao
cmluZywgKDItbG93ZXJfMzJfYml0cyhyaW5nLT53cHRyKSkgJiA3KTsKIAogCWFtZGdwdV9yaW5n
X3dyaXRlKHJpbmcsIFNETUFfUEtUX0hFQURFUl9PUChTRE1BX09QX0lORElSRUNUKSB8CiAJCQkg
IFNETUFfUEtUX0lORElSRUNUX0hFQURFUl9WTUlEKHZtaWQgJiAweGYpKTsKQEAgLTEwMjEsNyAr
MTAyMSw3IEBAIHN0YXRpYyB2b2lkIHNkbWFfdjNfMF9yaW5nX3BhZF9pYihzdHJ1Y3QgYW1kZ3B1
X3JpbmcgKnJpbmcsIHN0cnVjdCBhbWRncHVfaWIgKmliCiAJdTMyIHBhZF9jb3VudDsKIAlpbnQg
aTsKIAotCXBhZF9jb3VudCA9ICg4IC0gKGliLT5sZW5ndGhfZHcgJiAweDcpKSAlIDg7CisJcGFk
X2NvdW50ID0gKC1pYi0+bGVuZ3RoX2R3KSAmIDc7CiAJZm9yIChpID0gMDsgaSA8IHBhZF9jb3Vu
dDsgaSsrKQogCQlpZiAoc2RtYSAmJiBzZG1hLT5idXJzdF9ub3AgJiYgKGkgPT0gMCkpCiAJCQlp
Yi0+cHRyW2liLT5sZW5ndGhfZHcrK10gPQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvc2RtYV92NF8wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3Y0
XzAuYwppbmRleCA0NWJkNTM4YmE5N2UuLjdjNzFjODhlMzhhNCAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92NF8wLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvc2RtYV92NF8wLmMKQEAgLTY5OCw3ICs2OTgsNyBAQCBzdGF0aWMgdm9pZCBzZG1h
X3Y0XzBfcmluZ19lbWl0X2liKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywKIAl1bnNpZ25lZCB2
bWlkID0gQU1ER1BVX0pPQl9HRVRfVk1JRChqb2IpOwogCiAJLyogSUIgcGFja2V0IG11c3QgZW5k
IG9uIGEgOCBEVyBib3VuZGFyeSAqLwotCXNkbWFfdjRfMF9yaW5nX2luc2VydF9ub3AocmluZywg
KDEwIC0gKGxvd2VyXzMyX2JpdHMocmluZy0+d3B0cikgJiA3KSkgJSA4KTsKKwlzZG1hX3Y0XzBf
cmluZ19pbnNlcnRfbm9wKHJpbmcsICgyLWxvd2VyXzMyX2JpdHMocmluZy0+d3B0cikpICYgNyk7
CiAKIAlhbWRncHVfcmluZ193cml0ZShyaW5nLCBTRE1BX1BLVF9IRUFERVJfT1AoU0RNQV9PUF9J
TkRJUkVDVCkgfAogCQkJICBTRE1BX1BLVF9JTkRJUkVDVF9IRUFERVJfVk1JRCh2bWlkICYgMHhm
KSk7CkBAIC0xNTgwLDcgKzE1ODAsNyBAQCBzdGF0aWMgdm9pZCBzZG1hX3Y0XzBfcmluZ19wYWRf
aWIoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLCBzdHJ1Y3QgYW1kZ3B1X2liICppYgogCXUzMiBw
YWRfY291bnQ7CiAJaW50IGk7CiAKLQlwYWRfY291bnQgPSAoOCAtIChpYi0+bGVuZ3RoX2R3ICYg
MHg3KSkgJSA4OworCXBhZF9jb3VudCA9ICgtaWItPmxlbmd0aF9kdykgJiA3OwogCWZvciAoaSA9
IDA7IGkgPCBwYWRfY291bnQ7IGkrKykKIAkJaWYgKHNkbWEgJiYgc2RtYS0+YnVyc3Rfbm9wICYm
IChpID09IDApKQogCQkJaWItPnB0cltpYi0+bGVuZ3RoX2R3KytdID0KZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjVfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvc2RtYV92NV8wLmMKaW5kZXggMGM0MWI0ZmRjNThiLi42N2VkZTllNGRmMDEgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjVfMC5jCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjVfMC5jCkBAIC0zODIsOCArMzgyLDEyIEBA
IHN0YXRpYyB2b2lkIHNkbWFfdjVfMF9yaW5nX2VtaXRfaWIoc3RydWN0IGFtZGdwdV9yaW5nICpy
aW5nLAogCXVuc2lnbmVkIHZtaWQgPSBBTURHUFVfSk9CX0dFVF9WTUlEKGpvYik7CiAJdWludDY0
X3QgY3NhX21jX2FkZHIgPSBhbWRncHVfc2RtYV9nZXRfY3NhX21jX2FkZHIocmluZywgdm1pZCk7
CiAKLQkvKiBJQiBwYWNrZXQgbXVzdCBlbmQgb24gYSA4IERXIGJvdW5kYXJ5ICovCi0Jc2RtYV92
NV8wX3JpbmdfaW5zZXJ0X25vcChyaW5nLCAoMTAgLSAobG93ZXJfMzJfYml0cyhyaW5nLT53cHRy
KSAmIDcpKSAlIDgpOworCS8qIEFuIElCIHBhY2tldCBtdXN0IGVuZCBvbiBhIDggRFcgYm91bmRh
cnktLXRoZSBuZXh0IGR3b3JkIG11c3QKKwkgKiBiZSBvbiBhIDgtZHdvcmQgYm91bmRhcnkuIE91
ciBJQiBiZWxvdyBpcyA2IGR3b3JkcyBsb25nLAorCSAqIHRodXMgYWRkIHggbnVtYmVyIG9mIE5P
UHMsIHN1Y2ggdGhhdAorCSAqIHdwdHIgKyA2ICsgeCA9IDhrLCBrID49IDAuCisJICovCisJc2Rt
YV92NV8wX3JpbmdfaW5zZXJ0X25vcChyaW5nLCAoMi1sb3dlcl8zMl9iaXRzKHJpbmctPndwdHIp
KSAmIDcpOwogCiAJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgU0RNQV9QS1RfSEVBREVSX09QKFNE
TUFfT1BfSU5ESVJFQ1QpIHwKIAkJCSAgU0RNQV9QS1RfSU5ESVJFQ1RfSEVBREVSX1ZNSUQodm1p
ZCAmIDB4ZikpOwpAQCAtMTA4NiwxMCArMTA5MCwxMCBAQCBzdGF0aWMgdm9pZCBzZG1hX3Y1XzBf
dm1fc2V0X3B0ZV9wZGUoc3RydWN0IGFtZGdwdV9pYiAqaWIsCiB9CiAKIC8qKgotICogc2RtYV92
NV8wX3JpbmdfcGFkX2liIC0gcGFkIHRoZSBJQiB0byB0aGUgcmVxdWlyZWQgbnVtYmVyIG9mIGR3
Ci0gKgorICogc2RtYV92NV8wX3JpbmdfcGFkX2liIC0gcGFkIHRoZSBJQgogICogQGliOiBpbmRp
cmVjdCBidWZmZXIgdG8gZmlsbCB3aXRoIHBhZGRpbmcKICAqCisgKiBQYWQgdGhlIElCIHdpdGgg
Tk9QcyB0byBhIGJvdW5kYXJ5IG11bHRpcGxlIG9mIDguCiAgKi8KIHN0YXRpYyB2b2lkIHNkbWFf
djVfMF9yaW5nX3BhZF9pYihzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsIHN0cnVjdCBhbWRncHVf
aWIgKmliKQogewpAQCAtMTA5Nyw3ICsxMTAxLDcgQEAgc3RhdGljIHZvaWQgc2RtYV92NV8wX3Jp
bmdfcGFkX2liKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywgc3RydWN0IGFtZGdwdV9pYiAqaWIK
IAl1MzIgcGFkX2NvdW50OwogCWludCBpOwogCi0JcGFkX2NvdW50ID0gKDggLSAoaWItPmxlbmd0
aF9kdyAmIDB4NykpICUgODsKKwlwYWRfY291bnQgPSAoLWliLT5sZW5ndGhfZHcpICYgMHg3Owog
CWZvciAoaSA9IDA7IGkgPCBwYWRfY291bnQ7IGkrKykKIAkJaWYgKHNkbWEgJiYgc2RtYS0+YnVy
c3Rfbm9wICYmIChpID09IDApKQogCQkJaWItPnB0cltpYi0+bGVuZ3RoX2R3KytdID0KLS0gCjIu
MjMuMC4zODUuZ2JjMTI5NzRhODkKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0
b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1k
LWdmeA==
