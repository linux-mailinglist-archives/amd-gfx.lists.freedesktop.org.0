Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 94B5D87C8D
	for <lists+amd-gfx@lfdr.de>; Fri,  9 Aug 2019 16:21:26 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3542E6EE14;
	Fri,  9 Aug 2019 14:21:25 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM02-BL2-obe.outbound.protection.outlook.com
 (mail-bl2nam02on062c.outbound.protection.outlook.com
 [IPv6:2a01:111:f400:fe46::62c])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 216436EE0F
 for <amd-gfx@lists.freedesktop.org>; Fri,  9 Aug 2019 14:21:23 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=ibpZqCN2zma7sa8m+OhUtoV7/NxIVvEhzE+29IiJ4rFpnU6TO4m2pTdZ5zfSKY/6FJEvda8bhIXxyult+1oOVypCKWiJyI80t5SolH0nRUg6aSc01Xc38QxdqCs6kNq54BOGWXziwMp/XGJOoGJ6k+trnU31YeHRJxUBQJhWZ6dEhtpaDfshKcg5AVP4MB3x3nBSx83TKEWeT6GWytmo6u99FmidrLDyZ8sASTPBE6LMpjvSOZXk8sj4Eegqubhstmo1WmSsDNP4ERZ6eSGeXEL94PVxKAh6O8tCatSqNGdbhoIli/KCUlhYF53FRghXUdUpwOAQhfTBSjMpKTh7Rg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=BzoyNbq/NyoJdv5A+Y+tu8uG4p/mPY/iyye6zrwojxY=;
 b=Cp2lDlZB0SdyZyRZrhuvC4p/XESlB0lHoIrmWSLxG5Ya+s7bZ4fFiybepfR2JsnDXgdVWLpvABA8XjMNDGXJii3GXH41vFVZJTqfCskp5nFj4Vq7PUGgJJ5TJC9DXCXh7DGA5g2Lqf6W0RJX943FSQ9A01JcO8mXb9EybOibbXwmu9UmSSOS63BqyWuPK2eSGLMlp2bwzNnNATh/30QKOE6VhGaLhgGFXsMQtczKZ6fv2pn30FMGQo4H+IrtEL+eKap4mFBrj58j3nETi9kKd4x8pI7zZ1k3uwHJG9xIcOqSIf5CQs1vFy0LHSDyJrHaFkbSYuzZps2jYJBz9Uev6g==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from BL0PR12MB2580.namprd12.prod.outlook.com (52.132.27.147) by
 BL0PR12MB2579.namprd12.prod.outlook.com (52.132.11.13) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2157.18; Fri, 9 Aug 2019 14:21:19 +0000
Received: from BL0PR12MB2580.namprd12.prod.outlook.com
 ([fe80::718c:48e0:4e04:5543]) by BL0PR12MB2580.namprd12.prod.outlook.com
 ([fe80::718c:48e0:4e04:5543%7]) with mapi id 15.20.2157.015; Fri, 9 Aug 2019
 14:21:19 +0000
From: "Zeng, Oak" <Oak.Zeng@amd.com>
To: "Koenig, Christian" <Christian.Koenig@amd.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH 3/5] drm/amdkfd: Postpone memory mapping flags calculation
 to mapping time
Thread-Topic: [PATCH 3/5] drm/amdkfd: Postpone memory mapping flags
 calculation to mapping time
Thread-Index: AQHVTlhW93cRsxHhI0603OSLRgp+Lqbyv9WAgAAWtQA=
Date: Fri, 9 Aug 2019 14:21:19 +0000
Message-ID: <BL0PR12MB258085011920B10BDE86856B80D60@BL0PR12MB2580.namprd12.prod.outlook.com>
References: <1565316926-19516-1-git-send-email-Oak.Zeng@amd.com>
 <1565316926-19516-3-git-send-email-Oak.Zeng@amd.com>
 <95459b48-c8e5-b54c-00f1-8a1fdccd7e66@amd.com>
In-Reply-To: <95459b48-c8e5-b54c-00f1-8a1fdccd7e66@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [99.228.209.96]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 25841950-6d64-4416-1383-08d71cd4d935
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:BL0PR12MB2579; 
x-ms-traffictypediagnostic: BL0PR12MB2579:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <BL0PR12MB25799C8FF693CCC47B0CD4BB80D60@BL0PR12MB2579.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:8882;
x-forefront-prvs: 01244308DF
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(136003)(376002)(346002)(366004)(396003)(39840400004)(189003)(199004)(13464003)(8936002)(6246003)(5660300002)(86362001)(25786009)(53936002)(33656002)(71190400001)(71200400001)(256004)(14444005)(6116002)(3846002)(74316002)(2906002)(4326008)(476003)(6436002)(486006)(11346002)(305945005)(7736002)(446003)(14454004)(2501003)(6506007)(64756008)(30864003)(316002)(110136005)(76116006)(66446008)(66556008)(66476007)(54906003)(53546011)(66946007)(102836004)(76176011)(7696005)(478600001)(66066001)(52536014)(55016002)(26005)(9686003)(99286004)(229853002)(8676002)(81166006)(81156014)(186003)(21314003);
 DIR:OUT; SFP:1101; SCL:1; SRVR:BL0PR12MB2579;
 H:BL0PR12MB2580.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: fcVcB8uRCOe7TkYhm2fMXp6a42J4XueDrmbW81nY8OgAGtIMPN7pZ5nXDTJ7qXn7M3cyoxaz9r+zEydtHDp/tBskgHCEpHzGQRO7h0q+rQYojpYzlADip0f8ObMf8ptsO+5ftoeJykCpNcm6gyKtTJ0+9CMBQwnNAjrymqVdCjF5fAT2fa5Oki8oZrwcRp3Hs0tBB81dMsDLRFa7lOAqswr1/MlN6vP74YMoAhU21XfmAXWcX/4B0ivuiFlm9QBIeo70ZVFpn0ADYTAhupQB49lIlcmKvoawE2h+gjiubhgkWQDzwngKY6IQ7W+T77qEa2OhcB5S5RX4BNaDH+pdoFt2HgoX6sGhBrBQF+ZKD9oDXyTnFwvNRuQdpTgR0BDoUscXwMIdF0PfGlp5dDo/r+gddDl4IgAVEEjDKbCJQi8=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 25841950-6d64-4416-1383-08d71cd4d935
X-MS-Exchange-CrossTenant-originalarrivaltime: 09 Aug 2019 14:21:19.7404 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: 2oFeEbzL8AOX6qEEm1p0HfGj1oPTrPFuyVcTcjhOzvpTc0TqRK0RPA8QAhz12Ccv
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BL0PR12MB2579
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=BzoyNbq/NyoJdv5A+Y+tu8uG4p/mPY/iyye6zrwojxY=;
 b=lHaSpNC83c6pySV4rNYawCsGbVQHsDZi0ECIs7RqeNxbo9JxMAL0yNHsHttA+KGOdc/q5Dw3DgcBCpytnj3fp9qhvwm2pOVrJ+N0kZZ3qba7CQPw0s9Y+4x/VdNZ0pG40yWK6cAu5wdGTb2zl6bmtrzzas2rS7GjVswt8c2ihE0=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Oak.Zeng@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Kuehling, Felix" <Felix.Kuehling@amd.com>, "Keely,
 Sean" <Sean.Keely@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

DQoNClJlZ2FyZHMsDQpPYWsNCg0KLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZyb206IEtv
ZW5pZywgQ2hyaXN0aWFuIDxDaHJpc3RpYW4uS29lbmlnQGFtZC5jb20+IA0KU2VudDogRnJpZGF5
LCBBdWd1c3QgOSwgMjAxOSA4OjMxIEFNDQpUbzogWmVuZywgT2FrIDxPYWsuWmVuZ0BhbWQuY29t
PjsgYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcNCkNjOiBLdWVobGluZywgRmVsaXggPEZl
bGl4Lkt1ZWhsaW5nQGFtZC5jb20+OyBLZWVseSwgU2VhbiA8U2Vhbi5LZWVseUBhbWQuY29tPg0K
U3ViamVjdDogUmU6IFtQQVRDSCAzLzVdIGRybS9hbWRrZmQ6IFBvc3Rwb25lIG1lbW9yeSBtYXBw
aW5nIGZsYWdzIGNhbGN1bGF0aW9uIHRvIG1hcHBpbmcgdGltZQ0KDQpBbSAwOS4wOC4xOSB1bSAw
NDoxNSBzY2hyaWViIFplbmcsIE9hazoNCj4gU29tZSBtYXBwaW5nIGZsYWdzIGFyZSBkZWNpZGVk
IGJ5IG1lbW9yeSBtYXBwaW5nIGRlc3RpbmF0aW9uIHdoaWNoIGlzIA0KPiBub3Qga25vdyBhdCBt
ZW1vcnkgb2JqZWN0IGFsbG9jYXRpb24gdGltZS4gU28gaXQgaXMgcmVhc29uYWJsZSB0byANCj4g
ZGVjaWRlIG1lbW9yeSBtYXBwaW5nIGZsYWdzIGF0IG1hcHBpbmcgdGltZSwgaW5zdGVhZCBvZiBh
bGxvYyB0aW1lLiANCj4gUmVjb3JkIG1lbW9yeSBhbGxvY2F0aW9uIGZsYWdzIGR1cmluZyBhbGxv
Y2F0aW9uIHRpbWUgYW5kIGNhbGN1bGF0ZSANCj4gbWFwcGluZyBmbGFncyBkdXJpbmcgbWVtb3J5
IG1hcHBpbmcgdGltZS4NCj4NCj4gQWxzbyBtYWRlIHRoZSBtZW1vcnkgbWFwcGluZyBmbGFnZSBj
YWxjdWxhdGlvbiB0byBiZSBhc2ljLXNwZWNpZmljLCANCj4gYmVjYXVzZSBkaWZmZXJlbnQgYXNp
YyBjYW4gaGF2ZSBkaWZmZXJlbnQgbWFwcGluZyBzY2hlbWUuDQo+DQo+IFRoZSBuZXcgbWVtb3J5
IG1hcHBpbmcgZmxhZyBpcyBkZWNpZGVkIGJ5IGJvdGggbWVtb3J5IGFsbG9jYXRpb24gZmxhZ3Mg
DQo+IGFuZCB3aGV0aGVyIHRoZSBtZW1vcnkgbWFwcGluZyBpcyB0byBhIHJlbW90ZSBkZXZpY2Uu
DQo+DQo+IFRoaXMgaXMgcHJlcGFyYXRpb24gd29yayB0byBpbnRyb2R1Y2UgbW9yZSBzb3BoaXN0
aWNhdGVkIG1hcHBpbmcgc2NoZW1lLg0KPg0KPiBDaGFuZ2UtSWQ6IEk5OGU3YzQ3ZDg1MDU4NWFk
N2YwYTllMTE2MTdjOTJiN2E5YWNlZDNiDQo+IFNpZ25lZC1vZmYtYnk6IE9hayBaZW5nIDxPYWsu
WmVuZ0BhbWQuY29tPg0KPiAtLS0NCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRn
cHVfYW1ka2ZkLmggICAgICAgfCAgMSArDQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
YW1kZ3B1X2FtZGtmZF9ncHV2bS5jIHwgMTYgKysrKystLS0tLS0tLS0tLQ0KPiAgIGRyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nbWMuaCAgICAgICAgICB8ICA0ICsrKysNCj4gICBk
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjEwXzAuYyAgICAgICAgICAgfCAyMCArKysr
KysrKysrKysrKysrKysrLQ0KPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192Nl8w
LmMgICAgICAgICAgICB8IDE5ICsrKysrKysrKysrKysrKysrKy0NCj4gICBkcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9nbWNfdjdfMC5jICAgICAgICAgICAgfCAyMCArKysrKysrKysrKysrKysr
KysrLQ0KPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192OF8wLmMgICAgICAgICAg
ICB8IDIxICsrKysrKysrKysrKysrKysrKysrLQ0KPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2dtY192OV8wLmMgICAgICAgICAgICB8IDIxICsrKysrKysrKysrKysrKysrKysrLQ0KPiAg
IDggZmlsZXMgY2hhbmdlZCwgMTA2IGluc2VydGlvbnMoKyksIDE2IGRlbGV0aW9ucygtKQ0KPg0K
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZC5o
IA0KPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmQuaA0KPiBpbmRl
eCBlNTE5ZGYzLi4wMjY0NzVhIDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfYW1ka2ZkLmgNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
YW1kZ3B1X2FtZGtmZC5oDQo+IEBAIC01OCw2ICs1OCw3IEBAIHN0cnVjdCBrZ2RfbWVtIHsNCj4g
ICAJdWludDY0X3QgdmE7DQo+ICAgDQo+ICAgCXVpbnQzMl90IG1hcHBpbmdfZmxhZ3M7DQo+ICsJ
dWludDMyX3QgYWxsb2NfZmxhZ3M7DQo+ICAgDQo+ICAgCWF0b21pY190IGludmFsaWQ7DQo+ICAg
CXN0cnVjdCBhbWRrZmRfcHJvY2Vzc19pbmZvICpwcm9jZXNzX2luZm87IGRpZmYgLS1naXQgDQo+
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZF9ncHV2bS5jIA0KPiBi
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmRfZ3B1dm0uYw0KPiBpbmRl
eCA0NGE1MmIwLi5mOTFlZjQ4IDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfYW1ka2ZkX2dwdXZtLmMNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1X2FtZGtmZF9ncHV2bS5jDQo+IEBAIC0xMDgxLDcgKzEwODEsNiBAQCBpbnQg
YW1kZ3B1X2FtZGtmZF9ncHV2bV9hbGxvY19tZW1vcnlfb2ZfZ3B1KA0KPiAgIAlpbnQgYnl0ZV9h
bGlnbjsNCj4gICAJdTMyIGRvbWFpbiwgYWxsb2NfZG9tYWluOw0KPiAgIAl1NjQgYWxsb2NfZmxh
Z3M7DQo+IC0JdWludDMyX3QgbWFwcGluZ19mbGFnczsNCj4gICAJaW50IHJldDsNCj4gICANCj4g
ICAJLyoNCj4gQEAgLTExNDMsMTYgKzExNDIsNyBAQCBpbnQgYW1kZ3B1X2FtZGtmZF9ncHV2bV9h
bGxvY19tZW1vcnlfb2ZfZ3B1KA0KPiAgIAkJCWFkZXYtPmFzaWNfdHlwZSAhPSBDSElQX1ZFR0FN
KSA/DQo+ICAgCQkJVklfQk9fU0laRV9BTElHTiA6IDE7DQo+ICAgDQo+IC0JbWFwcGluZ19mbGFn
cyA9IEFNREdQVV9WTV9QQUdFX1JFQURBQkxFOw0KPiAtCWlmIChmbGFncyAmIEFMTE9DX01FTV9G
TEFHU19XUklUQUJMRSkNCj4gLQkJbWFwcGluZ19mbGFncyB8PSBBTURHUFVfVk1fUEFHRV9XUklU
RUFCTEU7DQo+IC0JaWYgKGZsYWdzICYgQUxMT0NfTUVNX0ZMQUdTX0VYRUNVVEFCTEUpDQo+IC0J
CW1hcHBpbmdfZmxhZ3MgfD0gQU1ER1BVX1ZNX1BBR0VfRVhFQ1VUQUJMRTsNCj4gLQlpZiAoZmxh
Z3MgJiBBTExPQ19NRU1fRkxBR1NfQ09IRVJFTlQpDQo+IC0JCW1hcHBpbmdfZmxhZ3MgfD0gQU1E
R1BVX1ZNX01UWVBFX1VDOw0KPiAtCWVsc2UNCj4gLQkJbWFwcGluZ19mbGFncyB8PSBBTURHUFVf
Vk1fTVRZUEVfTkM7DQo+IC0JKCptZW0pLT5tYXBwaW5nX2ZsYWdzID0gbWFwcGluZ19mbGFnczsN
Cj4gKwkoKm1lbSktPmFsbG9jX2ZsYWdzID0gZmxhZ3M7DQo+ICAgDQo+ICAgCWFtZGdwdV9zeW5j
X2NyZWF0ZSgmKCptZW0pLT5zeW5jKTsNCj4gICANCj4gQEAgLTEyOTgsNiArMTI4OCw3IEBAIGlu
dCBhbWRncHVfYW1ka2ZkX2dwdXZtX21hcF9tZW1vcnlfdG9fZ3B1KA0KPiAgIAkJc3RydWN0IGtn
ZF9kZXYgKmtnZCwgc3RydWN0IGtnZF9tZW0gKm1lbSwgdm9pZCAqdm0pDQo+ICAgew0KPiAgIAlz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IGdldF9hbWRncHVfZGV2aWNlKGtnZCk7DQo+ICsJ
c3RydWN0IGFtZGdwdV9kZXZpY2UgKmJvX2FkZXY7DQo+ICAgCXN0cnVjdCBhbWRncHVfdm0gKmF2
bSA9IChzdHJ1Y3QgYW1kZ3B1X3ZtICopdm07DQo+ICAgCWludCByZXQ7DQo+ICAgCXN0cnVjdCBh
bWRncHVfYm8gKmJvOw0KPiBAQCAtMTMxNSw2ICsxMzA2LDkgQEAgaW50IGFtZGdwdV9hbWRrZmRf
Z3B1dm1fbWFwX21lbW9yeV90b19ncHUoDQo+ICAgCQlyZXR1cm4gLUVJTlZBTDsNCj4gICAJfQ0K
PiAgIA0KPiArCWJvX2FkZXYgPSBhbWRncHVfdHRtX2FkZXYoYm8tPnRiby5iZGV2KTsNCj4gKwlt
ZW0tPm1hcHBpbmdfZmxhZ3MgPSBhbWRncHVfZ21jX2dldF92bV9tYXBwaW5nX2ZsYWdzKGFkZXYs
IA0KPiArbWVtLT5hbGxvY19mbGFncywgYm9fYWRldiAhPSBhZGV2KTsNCj4gKw0KPiAgIAkvKiBN
YWtlIHN1cmUgcmVzdG9yZSBpcyBub3QgcnVubmluZyBjb25jdXJyZW50bHkuIFNpbmNlIHdlDQo+
ICAgCSAqIGRvbid0IG1hcCBpbnZhbGlkIHVzZXJwdHIgQk9zLCB3ZSByZWx5IG9uIHRoZSBuZXh0
IHJlc3RvcmUNCj4gICAJICogd29ya2VyIHRvIGRvIHRoZSBtYXBwaW5nDQo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ21jLmggDQo+IGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dtYy5oDQo+IGluZGV4IDA3MTE0NWEuLjZiZDBjMjgg
MTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nbWMuaA0K
PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ21jLmgNCj4gQEAgLTEw
NSw2ICsxMDUsOSBAQCBzdHJ1Y3QgYW1kZ3B1X2dtY19mdW5jcyB7DQo+ICAgCS8qIGdldCB0aGUg
cGRlIGZvciBhIGdpdmVuIG1jIGFkZHIgKi8NCj4gICAJdm9pZCAoKmdldF92bV9wZGUpKHN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2LCBpbnQgbGV2ZWwsDQo+ICAgCQkJICAgdTY0ICpkc3QsIHU2
NCAqZmxhZ3MpOw0KPiArCS8qIGdldCBwZXIgYXNpYyB2bSBtYXBwaW5nIGZsYWdzICovDQo+ICsJ
dWludDMyX3QgKCpnZXRfdm1fbWFwcGluZ19mbGFncykoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFk
ZXYsDQo+ICsJCQl1aW50MzJfdCBhbGxvY19mbGFncywgYm9vbCByZW1vdGVfbWFwcGluZyk7DQo+
ICAgfTsNCj4gICANCj4gICBzdHJ1Y3QgYW1kZ3B1X3hnbWkgew0KPiBAQCAtMTg1LDYgKzE4OCw3
IEBAIHN0cnVjdCBhbWRncHVfZ21jIHsNCj4gICAjZGVmaW5lIGFtZGdwdV9nbWNfZW1pdF9wYXNp
ZF9tYXBwaW5nKHIsIHZtaWQsIHBhc2lkKSAociktPmFkZXYtPmdtYy5nbWNfZnVuY3MtPmVtaXRf
cGFzaWRfbWFwcGluZygociksICh2bWlkKSwgKHBhc2lkKSkNCj4gICAjZGVmaW5lIGFtZGdwdV9n
bWNfZ2V0X3ZtX3BkZShhZGV2LCBsZXZlbCwgZHN0LCBmbGFncykgKGFkZXYpLT5nbWMuZ21jX2Z1
bmNzLT5nZXRfdm1fcGRlKChhZGV2KSwgKGxldmVsKSwgKGRzdCksIChmbGFncykpDQo+ICAgI2Rl
ZmluZSBhbWRncHVfZ21jX2dldF9wdGVfZmxhZ3MoYWRldiwgZmxhZ3MpIA0KPiAoYWRldiktPmdt
Yy5nbWNfZnVuY3MtPmdldF92bV9wdGVfZmxhZ3MoKGFkZXYpLChmbGFncykpDQo+ICsjZGVmaW5l
IGFtZGdwdV9nbWNfZ2V0X3ZtX21hcHBpbmdfZmxhZ3MoYWRldiwgYWxsb2NfZmxhZ3MsIA0KPiAr
cmVtb3RlX21hcHBpbmcpICgoYWRldiktPmdtYy5nbWNfZnVuY3MtPmdldF92bV9tYXBwaW5nX2Zs
YWdzKChhZGV2KSwgDQo+ICsoYWxsb2NfZmxhZ3MpLCAocmVtb3RlX21hcHBpbmcpKSkNCj4gICAN
Cj4gICAvKioNCj4gICAgKiBhbWRncHVfZ21jX3ZyYW1fZnVsbF92aXNpYmxlIC0gQ2hlY2sgaWYg
ZnVsbCBWUkFNIGlzIHZpc2libGUgDQo+IHRocm91Z2ggdGhlIEJBUiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3YxMF8wLmMgDQo+IGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvZ21jX3YxMF8wLmMNCj4gaW5kZXggNGUzYWMxMC4uN2U0MjBlMCAxMDA2NDQN
Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3YxMF8wLmMNCj4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3YxMF8wLmMNCj4gQEAgLTQxNSwxMiArNDE1
LDMwIEBAIHN0YXRpYyB2b2lkIGdtY192MTBfMF9nZXRfdm1fcGRlKHN0cnVjdCBhbWRncHVfZGV2
aWNlICphZGV2LCBpbnQgbGV2ZWwsDQo+ICAgCX0NCj4gICB9DQo+ICAgDQo+ICtzdGF0aWMgdWlu
dDMyX3QgZ21jX3YxMF8wX2dldF92bV9tYXBwaW5nX2ZsYWdzKHN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2LA0KPiArCQkJCXVpbnQzMl90IGFsbG9jX2ZsYWdzLCBib29sIHJlbW90ZV9tYXBwaW5n
KSB7DQo+ICsJdWludDMyX3QgbWFwcGluZ19mbGFncyA9IEFNREdQVV9WTV9QQUdFX1JFQURBQkxF
Ow0KPiArDQo+ICsJaWYgKGFsbG9jX2ZsYWdzICYgQUxMT0NfTUVNX0ZMQUdTX1dSSVRBQkxFKQ0K
PiArCQltYXBwaW5nX2ZsYWdzIHw9IEFNREdQVV9WTV9QQUdFX1dSSVRFQUJMRTsNCj4gKwlpZiAo
YWxsb2NfZmxhZ3MgJiBBTExPQ19NRU1fRkxBR1NfRVhFQ1VUQUJMRSkNCj4gKwkJbWFwcGluZ19m
bGFncyB8PSBBTURHUFVfVk1fUEFHRV9FWEVDVVRBQkxFOw0KPiArCWlmIChhbGxvY19mbGFncyAm
IEFMTE9DX01FTV9GTEFHU19DT0hFUkVOVCkNCj4gKwkJbWFwcGluZ19mbGFncyB8PSBBTURHUFVf
Vk1fTVRZUEVfVUM7DQo+ICsJZWxzZQ0KPiArCQltYXBwaW5nX2ZsYWdzIHw9IEFNREdQVV9WTV9N
VFlQRV9OQzsNCj4gKw0KPiArCXJldHVybiBtYXBwaW5nX2ZsYWdzOw0KPiArfQ0KPiArDQo+ICAg
c3RhdGljIGNvbnN0IHN0cnVjdCBhbWRncHVfZ21jX2Z1bmNzIGdtY192MTBfMF9nbWNfZnVuY3Mg
PSB7DQo+ICAgCS5mbHVzaF9ncHVfdGxiID0gZ21jX3YxMF8wX2ZsdXNoX2dwdV90bGIsDQo+ICAg
CS5lbWl0X2ZsdXNoX2dwdV90bGIgPSBnbWNfdjEwXzBfZW1pdF9mbHVzaF9ncHVfdGxiLA0KPiAg
IAkuZW1pdF9wYXNpZF9tYXBwaW5nID0gZ21jX3YxMF8wX2VtaXRfcGFzaWRfbWFwcGluZywNCj4g
ICAJLmdldF92bV9wdGVfZmxhZ3MgPSBnbWNfdjEwXzBfZ2V0X3ZtX3B0ZV9mbGFncywNCj4gLQku
Z2V0X3ZtX3BkZSA9IGdtY192MTBfMF9nZXRfdm1fcGRlDQo+ICsJLmdldF92bV9wZGUgPSBnbWNf
djEwXzBfZ2V0X3ZtX3BkZSwNCj4gKwkuZ2V0X3ZtX21hcHBpbmdfZmxhZ3MgPSBnbWNfdjEwXzBf
Z2V0X3ZtX21hcHBpbmdfZmxhZ3MNCj4gICB9Ow0KPiAgIA0KPiAgIHN0YXRpYyB2b2lkIGdtY192
MTBfMF9zZXRfZ21jX2Z1bmNzKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KSBkaWZmIA0KPiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192Nl8wLmMgDQo+IGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3Y2XzAuYw0KPiBpbmRleCBiMDZkODc2Li4yYjJhZjZh
IDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjZfMC5jDQo+
ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192Nl8wLmMNCj4gQEAgLTQwNCw2
ICs0MDQsMjIgQEAgc3RhdGljIHZvaWQgZ21jX3Y2XzBfZ2V0X3ZtX3BkZShzdHJ1Y3QgYW1kZ3B1
X2RldmljZSAqYWRldiwgaW50IGxldmVsLA0KPiAgIAlCVUdfT04oKmFkZHIgJiAweEZGRkZGRjAw
MDAwMDBGRkZVTEwpOw0KPiAgIH0NCj4gICANCj4gK3N0YXRpYyB1aW50MzJfdCBnbWNfdjZfMF9n
ZXRfdm1fbWFwcGluZ19mbGFncyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gKwkJCQl1
aW50MzJfdCBhbGxvY19mbGFncywgYm9vbCByZW1vdGVfbWFwcGluZykgew0KPiArCXVpbnQzMl90
IG1hcHBpbmdfZmxhZ3MgPSBBTURHUFVfVk1fUEFHRV9SRUFEQUJMRTsNCj4gKw0KPiArCWlmIChh
bGxvY19mbGFncyAmIEFMTE9DX01FTV9GTEFHU19XUklUQUJMRSkNCj4gKwkJbWFwcGluZ19mbGFn
cyB8PSBBTURHUFVfVk1fUEFHRV9XUklURUFCTEU7DQo+ICsJaWYgKGFsbG9jX2ZsYWdzICYgQUxM
T0NfTUVNX0ZMQUdTX0VYRUNVVEFCTEUpDQo+ICsJCW1hcHBpbmdfZmxhZ3MgfD0gQU1ER1BVX1ZN
X1BBR0VfRVhFQ1VUQUJMRTsNCj4gKwlpZiAoYWxsb2NfZmxhZ3MgJiBBTExPQ19NRU1fRkxBR1Nf
Q09IRVJFTlQpDQo+ICsJCW1hcHBpbmdfZmxhZ3MgfD0gQU1ER1BVX1ZNX01UWVBFX1VDOw0KPiAr
CWVsc2UNCj4gKwkJbWFwcGluZ19mbGFncyB8PSBBTURHUFVfVk1fTVRZUEVfTkM7DQo+ICsNCj4g
KwlyZXR1cm4gbWFwcGluZ19mbGFnczsNCj4gK30NCj4gICBzdGF0aWMgdm9pZCBnbWNfdjZfMF9z
ZXRfZmF1bHRfZW5hYmxlX2RlZmF1bHQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ICAg
CQkJCQkgICAgICBib29sIHZhbHVlKQ0KPiAgIHsNCj4gQEAgLTExNTcsNyArMTE3Myw4IEBAIHN0
YXRpYyBjb25zdCBzdHJ1Y3QgYW1kZ3B1X2dtY19mdW5jcyBnbWNfdjZfMF9nbWNfZnVuY3MgPSB7
DQo+ICAgCS5lbWl0X2ZsdXNoX2dwdV90bGIgPSBnbWNfdjZfMF9lbWl0X2ZsdXNoX2dwdV90bGIs
DQo+ICAgCS5zZXRfcHJ0ID0gZ21jX3Y2XzBfc2V0X3BydCwNCj4gICAJLmdldF92bV9wZGUgPSBn
bWNfdjZfMF9nZXRfdm1fcGRlLA0KPiAtCS5nZXRfdm1fcHRlX2ZsYWdzID0gZ21jX3Y2XzBfZ2V0
X3ZtX3B0ZV9mbGFncw0KPiArCS5nZXRfdm1fcHRlX2ZsYWdzID0gZ21jX3Y2XzBfZ2V0X3ZtX3B0
ZV9mbGFncywNCj4gKwkuZ2V0X3ZtX21hcHBpbmdfZmxhZ3MgPSBnbWNfdjZfMF9nZXRfdm1fbWFw
cGluZ19mbGFncw0KDQpUaGF0IGxvb2tzIGxpa2UgYSBkdXBsaWNhdGlvbiBvZiB3aGF0IGdldF92
bV9wdGVfZmxhZ3MgaXMgc3VwcG9zZWQgdG8gYmUgZG9pbmcuDQoNCltPYWtdIFRoZXJlIGFyZSB0
d28gbGF5ZXJzIG9mIGRlZmluaXRpb24gaGVyZTogZ2VuZXJhbCB1c2VyLWFjY2Vzc2libGUgQU1E
R1BVX1ZNX3h4eCBkZWZpbml0aW9ucyAoaW4gYW1kZ3B1X2RybS5oKSBhbmQgYXNpYy1zcGVjaWZp
YyBBTURHUFVfUFRFX3h4eCBkZWZpbml0aW9ucyAoZGVmaW5lZCBpbiBhbWRncHVfdm0uaCkuIEZv
ciBhbWRncHUgZHJtIHVzZXIsIHVzZXIgcGFzcyBpbiBBTURHUFVfVk1fWFggZmxhZ3MgYW5kIGdl
dF92bV9wdGVfZmxhZ3MgdHJhbnNsYXRlIHRob3NlIGZsYWdzIHRvIEFNREdQVV9QVEVfeHh4IGZs
YWdzIHRvIHByb2dyYW0gcGFnZSB0YWJsZS4NCg0KRm9yIGNvbXB1dGUgc3RhY2ssIHRoZXJlIGFy
ZSB0d28gbGF5ZXJzIG9mIHRyYW5zbGF0aW9uOiB3ZSB3aWxsIGZpcnN0IGdlbmVyYXRlIHRoZSBB
TURHUFVfVk1feHh4IGZsYWdzIGZyb20gbWVtb3J5IG9iamVjdCBhbGxvY2F0aW9uIGZsYWdzL21l
bW9yeSBwaHlzaWNhbCBsb2NhdGlvbi9tZW1vcnkgbWFwcGluZyBkZXN0aW5hdGlvbi9tZW1vcnkg
YWNjZXNzIHBhdGggKHBjaWUgb3IgeGdtaSkuIFRoZW4gZ2V0X3ZtX3B0ZV9mbGFncyBpcyBjYWxs
ZWQgdG8gdHJhbnNsYXRlIEFNREdQVV9WTV94eCBmbGFncyB0byBBTURHUFVfUFRFX3h4IGZsYWdz
LiBUaGUgc2Vjb25kIGxheWVyIHRyYW5zbGF0aW9uIGlzIHRoZSBzYW1lIHdpdGggdGhlIGRybSB1
c2FnZS4NCg0KRm9yIGNvbXB1dGUgc3RhY2sgdXNlciwgZHVlIHRoZSBBUEkgZGVmaW5pdGlvbiwg
dXNlciBjYW4ndCBkaXJlY3RseSBwYXNzIGluIHRoZSBBTURHUFVfVk1feHh4IGZsYWdzLCBpbnN0
ZWFkIGl0IHBhc3MgaW4gYW4gYWxsb2NhdGlvbiBmbGFncy4gQWxzbyBpdCBpcyBub3QgcG9zc2li
bGUgZm9yIHVzZXIgdG8gcGFzcyBpbiB0aGUgQU1ER1BVX1ZNIGZsYWdzIGFzIHNvbWUgb2YgdGhl
IGZsYWdzIGlzIGRlY2lkZWQgYnkgZmFjdG9ycyB0aGF0IHVzZXIgaXMgdW5hd2FyZSwgZm9yIGV4
YW1wbGUgd2hldGhlciB0aGUgYWNjZXNzIGlzIHRocm91Z2ggcGNpZSBvciB4Z21pLiANCg0KRHVl
IHRvIGFib3ZlIHJlYXNvbnMsIFdlIGhhZCB0byBkbyB0d28gbGF5ZXJzIG9mIHRyYW5zbGF0aW9u
cy4gVGhlIHR3byBsYXllcnMgb2YgdHJhbnNsYXRpb24gZXhpc3RzIGJlZm9yZSB0aGlzIHBhdGNo
IHNlcmllcnMgKHRoZSBmaXJzdCBsYXllciB3YXMgaW4gYW1kZ3B1X2FtZGtmZF9ncHV2bS5jKS4g
V2hlbiBJIGRvIHRoaXMgcGF0Y2ggc2VyaWVzLCBJIGhhZCBhIG5lZWQgdG8gbWFrZSB0aGUgZmly
c3QgbGF5ZXJzIG9mIHRyYW5zbGF0aW9uIGFsc28gdG8gYmUgYXNpYy1zcGVjaWZpYyBhcyBBcmN0
dXJ1cyBpbnRyb2R1Y2UgZGlmZmVyZW50IG1hcHBpbmcgc2NoZW1lLiBUaGVuIEkgbW92ZWQgdGhl
IGZpcnN0IGxheWVyIHRyYW5zbGF0aW9uIHRvIGFzaWMtc3BlY2lmYyBnbWMgZnVuY3Rpb25zLiAN
Cg0KQ2hyaXN0aWFuLg0KDQo+ICAgfTsNCj4gICANCj4gICBzdGF0aWMgY29uc3Qgc3RydWN0IGFt
ZGdwdV9pcnFfc3JjX2Z1bmNzIGdtY192Nl8wX2lycV9mdW5jcyA9IHsgZGlmZiANCj4gLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjdfMC5jIA0KPiBiL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2dtY192N18wLmMNCj4gaW5kZXggNzVhYTMzMy4uNjE5ODYyZSAxMDA2
NDQNCj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3Y3XzAuYw0KPiArKysg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjdfMC5jDQo+IEBAIC00ODEsNiArNDgx
LDIzIEBAIHN0YXRpYyB2b2lkIGdtY192N18wX2dldF92bV9wZGUoc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYsIGludCBsZXZlbCwNCj4gICAJQlVHX09OKCphZGRyICYgMHhGRkZGRkYwMDAwMDAw
RkZGVUxMKTsNCj4gICB9DQo+ICAgDQo+ICtzdGF0aWMgdWludDMyX3QgZ21jX3Y3XzBfZ2V0X3Zt
X21hcHBpbmdfZmxhZ3Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ICsJCQkJdWludDMy
X3QgYWxsb2NfZmxhZ3MsIGJvb2wgcmVtb3RlX21hcHBpbmcpIHsNCj4gKwl1aW50MzJfdCBtYXBw
aW5nX2ZsYWdzID0gQU1ER1BVX1ZNX1BBR0VfUkVBREFCTEU7DQo+ICsNCj4gKwlpZiAoYWxsb2Nf
ZmxhZ3MgJiBBTExPQ19NRU1fRkxBR1NfV1JJVEFCTEUpDQo+ICsJCW1hcHBpbmdfZmxhZ3MgfD0g
QU1ER1BVX1ZNX1BBR0VfV1JJVEVBQkxFOw0KPiArCWlmIChhbGxvY19mbGFncyAmIEFMTE9DX01F
TV9GTEFHU19FWEVDVVRBQkxFKQ0KPiArCQltYXBwaW5nX2ZsYWdzIHw9IEFNREdQVV9WTV9QQUdF
X0VYRUNVVEFCTEU7DQo+ICsJaWYgKGFsbG9jX2ZsYWdzICYgQUxMT0NfTUVNX0ZMQUdTX0NPSEVS
RU5UKQ0KPiArCQltYXBwaW5nX2ZsYWdzIHw9IEFNREdQVV9WTV9NVFlQRV9VQzsNCj4gKwllbHNl
DQo+ICsJCW1hcHBpbmdfZmxhZ3MgfD0gQU1ER1BVX1ZNX01UWVBFX05DOw0KPiArDQo+ICsJcmV0
dXJuIG1hcHBpbmdfZmxhZ3M7DQo+ICt9DQo+ICsNCj4gICAvKioNCj4gICAgKiBnbWNfdjhfMF9z
ZXRfZmF1bHRfZW5hYmxlX2RlZmF1bHQgLSB1cGRhdGUgVk0gZmF1bHQgaGFuZGxpbmcNCj4gICAg
Kg0KPiBAQCAtMTM1Myw3ICsxMzcwLDggQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBhbWRncHVfZ21j
X2Z1bmNzIGdtY192N18wX2dtY19mdW5jcyA9IHsNCj4gICAJLmVtaXRfcGFzaWRfbWFwcGluZyA9
IGdtY192N18wX2VtaXRfcGFzaWRfbWFwcGluZywNCj4gICAJLnNldF9wcnQgPSBnbWNfdjdfMF9z
ZXRfcHJ0LA0KPiAgIAkuZ2V0X3ZtX3B0ZV9mbGFncyA9IGdtY192N18wX2dldF92bV9wdGVfZmxh
Z3MsDQo+IC0JLmdldF92bV9wZGUgPSBnbWNfdjdfMF9nZXRfdm1fcGRlDQo+ICsJLmdldF92bV9w
ZGUgPSBnbWNfdjdfMF9nZXRfdm1fcGRlLA0KPiArCS5nZXRfdm1fbWFwcGluZ19mbGFncyA9IGdt
Y192N18wX2dldF92bV9tYXBwaW5nX2ZsYWdzDQo+ICAgfTsNCj4gICANCj4gICBzdGF0aWMgY29u
c3Qgc3RydWN0IGFtZGdwdV9pcnFfc3JjX2Z1bmNzIGdtY192N18wX2lycV9mdW5jcyA9IHsgZGlm
ZiANCj4gLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjhfMC5jIA0KPiBi
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192OF8wLmMNCj4gaW5kZXggOGJmMmJhMy4u
ZDJjZWNiMzAgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192
OF8wLmMNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3Y4XzAuYw0KPiBA
QCAtNzA2LDYgKzcwNiwyNCBAQCBzdGF0aWMgdm9pZCBnbWNfdjhfMF9nZXRfdm1fcGRlKHN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2LCBpbnQgbGV2ZWwsDQo+ICAgCUJVR19PTigqYWRkciAmIDB4
RkZGRkZGMDAwMDAwMEZGRlVMTCk7DQo+ICAgfQ0KPiAgIA0KPiArc3RhdGljIHVpbnQzMl90IGdt
Y192OF8wX2dldF92bV9tYXBwaW5nX2ZsYWdzKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0K
PiArCQkJCXVpbnQzMl90IGFsbG9jX2ZsYWdzLCBib29sIHJlbW90ZV9tYXBwaW5nKSB7DQo+ICsJ
dWludDMyX3QgbWFwcGluZ19mbGFncyA9IEFNREdQVV9WTV9QQUdFX1JFQURBQkxFOw0KPiArDQo+
ICsJaWYgKGFsbG9jX2ZsYWdzICYgQUxMT0NfTUVNX0ZMQUdTX1dSSVRBQkxFKQ0KPiArCQltYXBw
aW5nX2ZsYWdzIHw9IEFNREdQVV9WTV9QQUdFX1dSSVRFQUJMRTsNCj4gKwlpZiAoYWxsb2NfZmxh
Z3MgJiBBTExPQ19NRU1fRkxBR1NfRVhFQ1VUQUJMRSkNCj4gKwkJbWFwcGluZ19mbGFncyB8PSBB
TURHUFVfVk1fUEFHRV9FWEVDVVRBQkxFOw0KPiArCWlmIChhbGxvY19mbGFncyAmIEFMTE9DX01F
TV9GTEFHU19DT0hFUkVOVCkNCj4gKwkJbWFwcGluZ19mbGFncyB8PSBBTURHUFVfVk1fTVRZUEVf
VUM7DQo+ICsJZWxzZQ0KPiArCQltYXBwaW5nX2ZsYWdzIHw9IEFNREdQVV9WTV9NVFlQRV9OQzsN
Cj4gKw0KPiArCXJldHVybiBtYXBwaW5nX2ZsYWdzOw0KPiArfQ0KPiArDQo+ICsNCj4gICAvKioN
Cj4gICAgKiBnbWNfdjhfMF9zZXRfZmF1bHRfZW5hYmxlX2RlZmF1bHQgLSB1cGRhdGUgVk0gZmF1
bHQgaGFuZGxpbmcNCj4gICAgKg0KPiBAQCAtMTcyMSw3ICsxNzM5LDggQEAgc3RhdGljIGNvbnN0
IHN0cnVjdCBhbWRncHVfZ21jX2Z1bmNzIGdtY192OF8wX2dtY19mdW5jcyA9IHsNCj4gICAJLmVt
aXRfcGFzaWRfbWFwcGluZyA9IGdtY192OF8wX2VtaXRfcGFzaWRfbWFwcGluZywNCj4gICAJLnNl
dF9wcnQgPSBnbWNfdjhfMF9zZXRfcHJ0LA0KPiAgIAkuZ2V0X3ZtX3B0ZV9mbGFncyA9IGdtY192
OF8wX2dldF92bV9wdGVfZmxhZ3MsDQo+IC0JLmdldF92bV9wZGUgPSBnbWNfdjhfMF9nZXRfdm1f
cGRlDQo+ICsJLmdldF92bV9wZGUgPSBnbWNfdjhfMF9nZXRfdm1fcGRlLA0KPiArCS5nZXRfdm1f
bWFwcGluZ19mbGFncyA9IGdtY192OF8wX2dldF92bV9tYXBwaW5nX2ZsYWdzDQo+ICAgfTsNCj4g
ICANCj4gICBzdGF0aWMgY29uc3Qgc3RydWN0IGFtZGdwdV9pcnFfc3JjX2Z1bmNzIGdtY192OF8w
X2lycV9mdW5jcyA9IHsgZGlmZiANCj4gLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9nbWNfdjlfMC5jIA0KPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192OV8wLmMN
Cj4gaW5kZXggZTZhZGM4Ni4uZDcwOTkwMiAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvZ21jX3Y5XzAuYw0KPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9nbWNfdjlfMC5jDQo+IEBAIC02MjYsMTIgKzYyNiwzMSBAQCBzdGF0aWMgdm9pZCBnbWNfdjlf
MF9nZXRfdm1fcGRlKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCBpbnQgbGV2ZWwsDQo+ICAg
CX0NCj4gICB9DQo+ICAgDQo+ICtzdGF0aWMgdWludDMyX3QgZ21jX3Y5XzBfZ2V0X3ZtX21hcHBp
bmdfZmxhZ3Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ICsJCQkJdWludDMyX3QgYWxs
b2NfZmxhZ3MsIGJvb2wgcmVtb3RlX21hcHBpbmcpIHsNCj4gKwl1aW50MzJfdCBtYXBwaW5nX2Zs
YWdzID0gQU1ER1BVX1ZNX1BBR0VfUkVBREFCTEU7DQo+ICsNCj4gKwlpZiAoYWxsb2NfZmxhZ3Mg
JiBBTExPQ19NRU1fRkxBR1NfV1JJVEFCTEUpDQo+ICsJCW1hcHBpbmdfZmxhZ3MgfD0gQU1ER1BV
X1ZNX1BBR0VfV1JJVEVBQkxFOw0KPiArCWlmIChhbGxvY19mbGFncyAmIEFMTE9DX01FTV9GTEFH
U19FWEVDVVRBQkxFKQ0KPiArCQltYXBwaW5nX2ZsYWdzIHw9IEFNREdQVV9WTV9QQUdFX0VYRUNV
VEFCTEU7DQo+ICsJaWYgKGFsbG9jX2ZsYWdzICYgQUxMT0NfTUVNX0ZMQUdTX0NPSEVSRU5UKQ0K
PiArCQltYXBwaW5nX2ZsYWdzIHw9IEFNREdQVV9WTV9NVFlQRV9VQzsNCj4gKwllbHNlDQo+ICsJ
CW1hcHBpbmdfZmxhZ3MgfD0gQU1ER1BVX1ZNX01UWVBFX05DOw0KPiArDQo+ICsJcmV0dXJuIG1h
cHBpbmdfZmxhZ3M7DQo+ICt9DQo+ICsNCj4gKw0KPiAgIHN0YXRpYyBjb25zdCBzdHJ1Y3QgYW1k
Z3B1X2dtY19mdW5jcyBnbWNfdjlfMF9nbWNfZnVuY3MgPSB7DQo+ICAgCS5mbHVzaF9ncHVfdGxi
ID0gZ21jX3Y5XzBfZmx1c2hfZ3B1X3RsYiwNCj4gICAJLmVtaXRfZmx1c2hfZ3B1X3RsYiA9IGdt
Y192OV8wX2VtaXRfZmx1c2hfZ3B1X3RsYiwNCj4gICAJLmVtaXRfcGFzaWRfbWFwcGluZyA9IGdt
Y192OV8wX2VtaXRfcGFzaWRfbWFwcGluZywNCj4gICAJLmdldF92bV9wdGVfZmxhZ3MgPSBnbWNf
djlfMF9nZXRfdm1fcHRlX2ZsYWdzLA0KPiAtCS5nZXRfdm1fcGRlID0gZ21jX3Y5XzBfZ2V0X3Zt
X3BkZQ0KPiArCS5nZXRfdm1fcGRlID0gZ21jX3Y5XzBfZ2V0X3ZtX3BkZSwNCj4gKwkuZ2V0X3Zt
X21hcHBpbmdfZmxhZ3MgPSBnbWNfdjlfMF9nZXRfdm1fbWFwcGluZ19mbGFncw0KPiAgIH07DQo+
ICAgDQo+ICAgc3RhdGljIHZvaWQgZ21jX3Y5XzBfc2V0X2dtY19mdW5jcyhzdHJ1Y3QgYW1kZ3B1
X2RldmljZSAqYWRldikNCg0KX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4
