Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 1F24E754C9
	for <lists+amd-gfx@lfdr.de>; Thu, 25 Jul 2019 18:58:18 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C83866E7AB;
	Thu, 25 Jul 2019 16:58:15 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-qt1-x841.google.com (mail-qt1-x841.google.com
 [IPv6:2607:f8b0:4864:20::841])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 5EA856E7AB
 for <amd-gfx@lists.freedesktop.org>; Thu, 25 Jul 2019 16:58:11 +0000 (UTC)
Received: by mail-qt1-x841.google.com with SMTP id d17so49687169qtj.8
 for <amd-gfx@lists.freedesktop.org>; Thu, 25 Jul 2019 09:58:11 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=FZafmHha4W3KJJ8M+4WrCQLiHw3BXnhPcRjMDsPFDP8=;
 b=k3qPE6s5yxFL2wiTqzxOYoukzGxsrBt6anLh0EmZfA62y1Pri43BVG8Qi2gv++KQkr
 gvOsryFfINSuYVpzmhR2CCwRDXDu90Sgrdebm6cL43Gm/1BgtuP6VQMnUXXb6w3kIxA3
 U7kEEuNTO19KEVtRspy0eT0rlwkTonozTXHAftLmchMbzbWu8tCPCZV1zESyrHHlmE8K
 L83Paf4TgjbJdCxKi699wBtY7KWM253fCNFuBuVvQY1rA2v1szmRE2e1b0lIs6IehOKG
 zqQ8Gnw7GBaOPmavYr0pyZmRtUokAvfFlNiU0JNI8updnJvG56qH3z4FjWzSBTU/PEKa
 E1BA==
X-Gm-Message-State: APjAAAWNRQlEjrBYqDwMFf/vaYgFmwYcSHIHDjmx17joo8tnHf1o49ZI
 /ReZFpQOakqcuwAz86fzMkjKPA84
X-Google-Smtp-Source: APXvYqxv16Em/fF122HX9x2+/BXhDj+iq9OELggC7cOhRdGfjOyvrmRYiSaIKaV5IkYxMvQ5Oabh3w==
X-Received: by 2002:ad4:45e3:: with SMTP id q3mr63635159qvu.140.1564073890239; 
 Thu, 25 Jul 2019 09:58:10 -0700 (PDT)
Received: from localhost.localdomain ([71.51.160.180])
 by smtp.gmail.com with ESMTPSA id l6sm21157625qkc.89.2019.07.25.09.58.09
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Thu, 25 Jul 2019 09:58:09 -0700 (PDT)
From: Alex Deucher <alexdeucher@gmail.com>
X-Google-Original-From: Alex Deucher <alexander.deucher@amd.com>
To: amd-gfx@lists.freedesktop.org
Subject: [PATCH 07/12] drm/amdgpu/powerplay: add a new interface to set the
 mp1 state
Date: Thu, 25 Jul 2019 11:57:53 -0500
Message-Id: <20190725165758.16928-7-alexander.deucher@amd.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190725165758.16928-1-alexander.deucher@amd.com>
References: <20190725165758.16928-1-alexander.deucher@amd.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=FZafmHha4W3KJJ8M+4WrCQLiHw3BXnhPcRjMDsPFDP8=;
 b=slnryL2gDI2Ozs+AApwnup1hVv+jooHpVORICR+FR8oEZ5u9BLVRKQri4p5RFb3ojc
 qHu9byFrgPAInmKJP1k8VFB/kZ4hfsducTAlckaVowfKBVe8nP/aYzUrRDmO6Pb2Lm8t
 gAniuSTW+BiCqda9F60pReTV3O0BuK3Jb4cdnY4DzfFPjZIeKFU8YjRMj8asi6m6YvkT
 XIdx1P+B8JhfcD0YLvVHQJ5XUjPjgobgTJwkoEufn9oT60k6HuUYXJdqqHBOztlwfnD5
 ByJp/Sr1617/dp1pdqkYzKzJsn8IvysPct9aidDlGUKruoDNCOQwoFwjkVQcdE15TLoY
 MoUw==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Alex Deucher <alexander.deucher@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

VGhpcyBpcyByZXF1aXJlZCBmb3IgY2VydGFpbiBjYXNlcyBzdWNoIGFzIHZhcmlvdXMgR1BVIHJl
c2V0cwoobW9kZTEsIG1vZGUyKSwgQkFDTywgc2h1dGRvd24sIHVubG9hZCwgZXRjLiB0byBwdXQg
dGhlIFNNVSBpbnRvCnRoZSBhcHByb3ByaWF0ZSBzdGF0ZSBmb3Igd2hlbiB0aGUgaHcgaXMgcmUt
aW5pdGlhbGl6ZWQuCgpTaWduZWQtb2ZmLWJ5OiBBbGV4IERldWNoZXIgPGFsZXhhbmRlci5kZXVj
aGVyQGFtZC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2FtZC9pbmNsdWRlL2tnZF9wcF9pbnRl
cmZhY2UuaCB8ICA4ICsrKysrKysrCiBkcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9hbWRf
cG93ZXJwbGF5LmMgIHwgMTYgKysrKysrKysrKysrKysrKwogZHJpdmVycy9ncHUvZHJtL2FtZC9w
b3dlcnBsYXkvaW5jL2h3bWdyLmggICAgICB8ICAxICsKIDMgZmlsZXMgY2hhbmdlZCwgMjUgaW5z
ZXJ0aW9ucygrKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvaW5jbHVkZS9rZ2Rf
cHBfaW50ZXJmYWNlLmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2luY2x1ZGUva2dkX3BwX2ludGVy
ZmFjZS5oCmluZGV4IDk3MzNiYmY5YmM3Mi4uOTVlZGMzZDNhOWM0IDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2luY2x1ZGUva2dkX3BwX2ludGVyZmFjZS5oCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvaW5jbHVkZS9rZ2RfcHBfaW50ZXJmYWNlLmgKQEAgLTE3MSw2ICsxNzEsMTMg
QEAgZW51bSBQUF9IV01PTl9URU1QIHsKIAlQUF9URU1QX01BWAogfTsKIAorZW51bSBwcF9tcDFf
c3RhdGUgeworCVBQX01QMV9TVEFURV9OT05FLAorCVBQX01QMV9TVEFURV9TSFVURE9XTiwKKwlQ
UF9NUDFfU1RBVEVfVU5MT0FELAorCVBQX01QMV9TVEFURV9SRVNFVCwKK307CisKICNkZWZpbmUg
UFBfR1JPVVBfTUFTSyAgICAgICAgMHhGMDAwMDAwMAogI2RlZmluZSBQUF9HUk9VUF9TSElGVCAg
ICAgICAyOAogCkBAIC0yNjYsNiArMjczLDcgQEAgc3RydWN0IGFtZF9wbV9mdW5jcyB7CiAJaW50
ICgqZ2V0X3Bvd2VyX3Byb2ZpbGVfbW9kZSkodm9pZCAqaGFuZGxlLCBjaGFyICpidWYpOwogCWlu
dCAoKnNldF9wb3dlcl9wcm9maWxlX21vZGUpKHZvaWQgKmhhbmRsZSwgbG9uZyAqaW5wdXQsIHVp
bnQzMl90IHNpemUpOwogCWludCAoKm9kbl9lZGl0X2RwbV90YWJsZSkodm9pZCAqaGFuZGxlLCB1
aW50MzJfdCB0eXBlLCBsb25nICppbnB1dCwgdWludDMyX3Qgc2l6ZSk7CisJaW50ICgqc2V0X21w
MV9zdGF0ZSkodm9pZCAqaGFuZGxlLCBlbnVtIHBwX21wMV9zdGF0ZSBtcDFfc3RhdGUpOwogLyog
ZXhwb3J0IHRvIERDICovCiAJdTMyICgqZ2V0X3NjbGspKHZvaWQgKmhhbmRsZSwgYm9vbCBsb3cp
OwogCXUzMiAoKmdldF9tY2xrKSh2b2lkICpoYW5kbGUsIGJvb2wgbG93KTsKZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2FtZF9wb3dlcnBsYXkuYyBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvcG93ZXJwbGF5L2FtZF9wb3dlcnBsYXkuYwppbmRleCBiZWExNTg3ZDM1MmQu
Ljg4YTJlZjc1YjdlMSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkv
YW1kX3Bvd2VycGxheS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2FtZF9w
b3dlcnBsYXkuYwpAQCAtOTI0LDYgKzkyNCwyMSBAQCBzdGF0aWMgaW50IHBwX29kbl9lZGl0X2Rw
bV90YWJsZSh2b2lkICpoYW5kbGUsIHVpbnQzMl90IHR5cGUsIGxvbmcgKmlucHV0LCB1aW50Mwog
CXJldHVybiBod21nci0+aHdtZ3JfZnVuYy0+b2RuX2VkaXRfZHBtX3RhYmxlKGh3bWdyLCB0eXBl
LCBpbnB1dCwgc2l6ZSk7CiB9CiAKK3N0YXRpYyBpbnQgcHBfZHBtX3NldF9tcDFfc3RhdGUodm9p
ZCAqaGFuZGxlLCBlbnVtIHBwX21wMV9zdGF0ZSBtcDFfc3RhdGUpCit7CisJc3RydWN0IHBwX2h3
bWdyICpod21nciA9IGhhbmRsZTsKKworCWlmICghaHdtZ3IgfHwgIWh3bWdyLT5wbV9lbikKKwkJ
cmV0dXJuIC1FSU5WQUw7CisKKwlpZiAoaHdtZ3ItPmh3bWdyX2Z1bmMtPnNldF9tcDFfc3RhdGUg
PT0gTlVMTCkgeworCQlwcl9pbmZvX3JhdGVsaW1pdGVkKCIlcyB3YXMgbm90IGltcGxlbWVudGVk
LlxuIiwgX19mdW5jX18pOworCQlyZXR1cm4gLUVJTlZBTDsKKwl9CisKKwlyZXR1cm4gaHdtZ3It
Pmh3bWdyX2Z1bmMtPnNldF9tcDFfc3RhdGUoaHdtZ3IsIG1wMV9zdGF0ZSk7Cit9CisKIHN0YXRp
YyBpbnQgcHBfZHBtX3N3aXRjaF9wb3dlcl9wcm9maWxlKHZvaWQgKmhhbmRsZSwKIAkJZW51bSBQ
UF9TTUNfUE9XRVJfUFJPRklMRSB0eXBlLCBib29sIGVuKQogewpAQCAtMTUyNSw2ICsxNTQwLDcg
QEAgc3RhdGljIGNvbnN0IHN0cnVjdCBhbWRfcG1fZnVuY3MgcHBfZHBtX2Z1bmNzID0gewogCS5n
ZXRfcG93ZXJfcHJvZmlsZV9tb2RlID0gcHBfZ2V0X3Bvd2VyX3Byb2ZpbGVfbW9kZSwKIAkuc2V0
X3Bvd2VyX3Byb2ZpbGVfbW9kZSA9IHBwX3NldF9wb3dlcl9wcm9maWxlX21vZGUsCiAJLm9kbl9l
ZGl0X2RwbV90YWJsZSA9IHBwX29kbl9lZGl0X2RwbV90YWJsZSwKKwkuc2V0X21wMV9zdGF0ZSA9
IHBwX2RwbV9zZXRfbXAxX3N0YXRlLAogCS5zZXRfcG93ZXJfbGltaXQgPSBwcF9zZXRfcG93ZXJf
bGltaXQsCiAJLmdldF9wb3dlcl9saW1pdCA9IHBwX2dldF9wb3dlcl9saW1pdCwKIC8qIGV4cG9y
dCB0byBEQyAqLwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaW5j
L2h3bWdyLmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvaHdtZ3IuaAppbmRl
eCBjNTk4OWNiMzhiMWIuLjA3ZmQ2NGFhZDJhZSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9wb3dlcnBsYXkvaW5jL2h3bWdyLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dl
cnBsYXkvaW5jL2h3bWdyLmgKQEAgLTM0NCw2ICszNDQsNyBAQCBzdHJ1Y3QgcHBfaHdtZ3JfZnVu
YyB7CiAJaW50ICgqc2V0X2FzaWNfYmFjb19zdGF0ZSkoc3RydWN0IHBwX2h3bWdyICpod21nciwg
ZW51bSBCQUNPX1NUQVRFIHN0YXRlKTsKIAlpbnQgKCpnZXRfcHBmZWF0dXJlX3N0YXR1cykoc3Ry
dWN0IHBwX2h3bWdyICpod21nciwgY2hhciAqYnVmKTsKIAlpbnQgKCpzZXRfcHBmZWF0dXJlX3N0
YXR1cykoc3RydWN0IHBwX2h3bWdyICpod21nciwgdWludDY0X3QgcHBmZWF0dXJlX21hc2tzKTsK
KwlpbnQgKCpzZXRfbXAxX3N0YXRlKShzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyLCBlbnVtIHBwX21w
MV9zdGF0ZSBtcDFfc3RhdGUpOwogfTsKIAogc3RydWN0IHBwX3RhYmxlX2Z1bmMgewotLSAKMi4y
MC4xCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwphbWQt
Z2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xp
c3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZng=
