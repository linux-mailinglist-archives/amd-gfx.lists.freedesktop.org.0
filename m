Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id A4325114502
	for <lists+amd-gfx@lfdr.de>; Thu,  5 Dec 2019 17:43:24 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 29EB26E986;
	Thu,  5 Dec 2019 16:43:23 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM04-CO1-obe.outbound.protection.outlook.com
 (mail-eopbgr690055.outbound.protection.outlook.com [40.107.69.55])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 53C176E986
 for <amd-gfx@lists.freedesktop.org>; Thu,  5 Dec 2019 16:43:21 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=BK0wwefNMqGTIhs31b6oWiM4ts67wLW+B2G1p2FgVX+tDUaYoyT+FDaUSQf7ThBCWxO1uFiLugFn6JARnUz8jdlBBsMwStbFELzhJlHzVQ6BYTgP1x0V7nTIKvvARGIhEh8g6GQRhRM3lMiU5maRJ2lsLZmbt/ZKexyS4pb6YYKakSGJ6hztqdrlgmqEStTF7s7k4o+X2olS0awp0lCYnRDmsGX3b0aaouuVtCjImh9YQOIVksvsxLrhdIYMXbpduxsZ22lkIvQm7Wk2EamvMslRgOKaNRKHLhj6QQRHz85IqwzAXuyIw6cPOhC4nPkIa8RiBgK6ZJCxf3jk9GD4Ag==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=wbyZwh6VZAsKnxXJNO/6Lca7PpQnl8200wr6Mh6sq0A=;
 b=nXauzQ0nfgrr2fFOJOTbKpEUi/8rr8UBQ4GN5t9lB2uiwHg/pRO5WELpAQ3UshZTmTJWIN0JiYtEDnx7GBniVTSBEouGgrz8RoFJG9u1dLcWdU1sNYnsqy1cEfnpgpReXGQvsWd3RDb8tOw9GPenWnndPFDgMJBJmidNcgHOFWaMNU355IoEu8UEQFlAsaBgv8OUIBft/Fai09UD77A0xVaADh4mUN7X4SZ4u+lGfL8eEF9E5a9LTjuXE3Qwa/qIVlm9FHhmeHrxYls2qCqIeyi/cXS0/SHHA8BmEwIiwp/AAj97oS+OGZ67xi9ESxWfoXOkYxMMI4buKeNL25WDUA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from DM6PR12MB3947.namprd12.prod.outlook.com (10.255.175.222) by
 DM6PR12MB3753.namprd12.prod.outlook.com (10.255.173.146) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2516.12; Thu, 5 Dec 2019 16:43:19 +0000
Received: from DM6PR12MB3947.namprd12.prod.outlook.com
 ([fe80::a099:6fd7:e4d6:f560]) by DM6PR12MB3947.namprd12.prod.outlook.com
 ([fe80::a099:6fd7:e4d6:f560%3]) with mapi id 15.20.2516.014; Thu, 5 Dec 2019
 16:43:19 +0000
Subject: Re: [PATCH 3/5] drm/amdgpu: stop adding VM updates fences to the resv
 obj
To: =?UTF-8?Q?Christian_K=c3=b6nig?= <ckoenig.leichtzumerken@gmail.com>,
 amd-gfx@lists.freedesktop.org, philip.yang@amd.com, Alex.Sierra@amd.com
References: <20191205133940.3865-1-christian.koenig@amd.com>
 <20191205133940.3865-3-christian.koenig@amd.com>
From: Felix Kuehling <felix.kuehling@amd.com>
Organization: AMD Inc.
Message-ID: <b71a2851-3cba-1b1d-c1a2-096e0aa30dcf@amd.com>
Date: Thu, 5 Dec 2019 11:43:18 -0500
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101
 Thunderbird/68.2.1
In-Reply-To: <20191205133940.3865-3-christian.koenig@amd.com>
Content-Language: en-US
X-ClientProxiedBy: YTXPR0101CA0045.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:b00:1::22) To DM6PR12MB3947.namprd12.prod.outlook.com
 (2603:10b6:5:148::30)
MIME-Version: 1.0
X-Originating-IP: [165.204.55.251]
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-HT: Tenant
X-MS-Office365-Filtering-Correlation-Id: 2c44efee-63b1-4818-7561-08d779a23c0b
X-MS-TrafficTypeDiagnostic: DM6PR12MB3753:|DM6PR12MB3753:
X-MS-Exchange-Transport-Forked: True
X-Microsoft-Antispam-PRVS: <DM6PR12MB3753139AC26BCC7FD716EA1E925C0@DM6PR12MB3753.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:1923;
X-Forefront-PRVS: 02426D11FE
X-Forefront-Antispam-Report: SFV:NSPM;
 SFS:(10009020)(4636009)(136003)(396003)(39860400002)(376002)(346002)(366004)(199004)(189003)(31686004)(66946007)(2906002)(81156014)(81166006)(66476007)(8676002)(66556008)(6506007)(2870700001)(36756003)(44832011)(99286004)(11346002)(186003)(6636002)(66574012)(14444005)(8936002)(5660300002)(2616005)(31696002)(50466002)(478600001)(26005)(6486002)(25786009)(52116002)(14454004)(316002)(6512007)(305945005)(76176011)(65956001)(58126008)(53546011)(229853002)(15650500001)(86362001)(36916002)(23676004);
 DIR:OUT; SFP:1101; SCL:1; SRVR:DM6PR12MB3753;
 H:DM6PR12MB3947.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: D0xLbUPzDrQVMLOOnPCtkZF0XbPZTvJvkaIYZaCg5JXTVmS+Zkz57aZlLYUOvKM04f0OMDvrSmCiRXK/TnQ5jztHaEnQxQ6nGpuWPVW0qQinYz1u5FBjEiZUQfgc7M4CjOY5NXwsu/N7Oq5FBT/Gs7a2PqPztXyYWGe13mmRys64CeUVMSf6Tdc8g/Ge6pphjX+W3Xbr+4lGPBVsx3ZuGyztTMDqsc8t/E+MQymEeixG5cSjJQC2+OqZQ8JYOI4H2jmtkF6ZDzZhf9MLH+ZEzJ58glMQ7N63eDu/BhdoeMHA1+lQiPB6ZOZBnuJ6BcMLHBVt478evUWGO1YhwUYhXCyacCoy8FIJDVbvdDuvA4I37viBuaPlzZLK1VK4dNvNwbEuM/365z1xHvq+H2XseblgAcPvx1F4muBsf9Dqux/d9sWouhjHHfQEayLm6ETl
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 2c44efee-63b1-4818-7561-08d779a23c0b
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 05 Dec 2019 16:43:19.6170 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: rcrHlv/Yj7pbJ8z41XqplxS3fQ5n9pC8eN4ElbDuum/lQaqayivnkMLyWhseo8fNRIhEK7YtnJjRCb9khrs1NQ==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM6PR12MB3753
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=wbyZwh6VZAsKnxXJNO/6Lca7PpQnl8200wr6Mh6sq0A=;
 b=Hsb/W5vJOraysTn3lq4vrMNOjTgV0bHTdl/aAW6xQcWU9rwEsjQEGAHIue34QYR8pVBxggvBQjvvMJJu6wmEXM2tPQHRlGAhPuXE+DLNVx9g/ATsc5MTxGFMxw7bpbrcl3Wcp/U4HUIelhNlxAFZNCYOBV7f9tZO4GL1qCD9e/0=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Felix.Kuehling@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

T24gMjAxOS0xMi0wNSA4OjM5IGEubS4sIENocmlzdGlhbiBLw7ZuaWcgd3JvdGU6Cj4gRG9uJ3Qg
YWRkIHRoZSBWTSB1cGRhdGUgZmVuY2VzIHRvIHRoZSByZXN2IG9iamVjdCBhbmQgcmVtb3ZlCj4g
dGhlIGhhbmRsaW5nIHRvIHN0b3AgaW1wbGljaXRlbHkgc3luY2luZyB0byB0aGVtLgo+Cj4gT25n
b2luZyB1cGRhdGVzIHByZXZlbnQgcGFnZSB0YWJsZXMgZnJvbSBiZWluZyBldmljdGVkIGFuZCB3
ZSBtYW51YWxseQo+IGJsb2NrIGZvciBhbGwgdXBkYXRlcyB0byBjb21wbGV0ZSBiZWZvcmUgcmVs
ZWFzaW5nIFBEcyBhbmQgUFRTLgo+Cj4gVGhpcyB3YXkgd2UgY2FuIGRvIHVwZGF0ZXMgZXZlbiB3
aXRob3V0IHRoZSByZXN2IG9iaiBsb2NrZWQuCj4KPiBTaWduZWQtb2ZmLWJ5OiBDaHJpc3RpYW4g
S8O2bmlnIDxjaHJpc3RpYW4ua29lbmlnQGFtZC5jb20+Cj4gLS0tCj4gICBkcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHVfc3luYy5jICAgIHwgIDYgKystLS0KPiAgIGRyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92bS5jICAgICAgfCAzMCArKysrKysrKysrKysrKysrKyst
LS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92bS5oICAgICAgfCAgNCAr
KysKPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92bV9zZG1hLmMgfCAxMSAr
KysrKy0tLQo+ICAgNCBmaWxlcyBjaGFuZ2VkLCA0MCBpbnNlcnRpb25zKCspLCAxMSBkZWxldGlv
bnMoLSkKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
c3luYy5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3N5bmMuYwo+IGluZGV4
IGYxZTVmYmVmNTRkOC4uYWU4YmM3NjYyMTVjIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV9zeW5jLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfc3luYy5jCj4gQEAgLTI0MywxMCArMjQzLDggQEAgaW50IGFtZGdwdV9zeW5j
X3Jlc3Yoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCj4gICAJCQkvKiBWTSB1cGRhdGVzIGFy
ZSBvbmx5IGludGVyZXN0aW5nCj4gICAJCQkgKiBmb3Igb3RoZXIgVk0gdXBkYXRlcyBhbmQgbW92
ZXMuCgpUaGFua3MgZm9yIHVwZGF0aW5nIHRoZSBjb21taXQgZGVzY3JpcHRpb24uIEkgdGhpbmsg
dGhpcyBjb21tZW50IHNob3VsZCAKYWxzbyBiZSB1cGRhdGVkIGJlY2F1c2UgIm90aGVyIFZNIHVw
ZGF0ZXMiIGZlbmNlcyBhcmUgbm8gbG9uZ2VyIGluIHRoZSAKcmVzdi4gU29tZXRoaW5nIGxpa2Ug
dGhpczogVk0gdXBkYXRlcyBvbmx5IHN5bmMgd2l0aCBtb3ZlcyBidXQgbm90IHdpdGggCnVzZXIg
Y29tbWFuZCBzdWJtaXNzaW9ucyBvciBLRkQgZXZpY3Rpb25zIGZlbmNlcy4gV2l0aCB0aGF0IGZp
eGVkLCB0aGlzIApwYXRjaCBpcwoKUmV2aWV3ZWQtYnk6IEZlbGl4IEt1ZWhsaW5nIDxGZWxpeC5L
dWVobGluZ0BhbWQuY29tPgoKPiAgIAkJCSAqLwo+IC0JCQlpZiAoKG93bmVyICE9IEFNREdQVV9G
RU5DRV9PV05FUl9VTkRFRklORUQpICYmCj4gLQkJCSAgICAoZmVuY2Vfb3duZXIgIT0gQU1ER1BV
X0ZFTkNFX09XTkVSX1VOREVGSU5FRCkgJiYKPiAtCQkJICAgICgob3duZXIgPT0gQU1ER1BVX0ZF
TkNFX09XTkVSX1ZNKSAhPQo+IC0JCQkgICAgIChmZW5jZV9vd25lciA9PSBBTURHUFVfRkVOQ0Vf
T1dORVJfVk0pKSkKPiArCQkJaWYgKG93bmVyID09IEFNREdQVV9GRU5DRV9PV05FUl9WTSAmJgo+
ICsJCQkgICAgZmVuY2Vfb3duZXIgIT0gQU1ER1BVX0ZFTkNFX09XTkVSX1VOREVGSU5FRCkKPiAg
IAkJCQljb250aW51ZTsKPiAgIAo+ICAgCQkJLyogSWdub3JlIGZlbmNlIGZyb20gdGhlIHNhbWUg
b3duZXIgYW5kIGV4cGxpY2l0IG9uZSBhcwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfdm0uYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdw
dV92bS5jCj4gaW5kZXggYTIyYmQ1NzEyOWQxLi4wZDcwMGU4MTU0YzQgMTAwNjQ0Cj4gLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtLmMKPiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdm0uYwo+IEBAIC01NjIsOCArNTYyLDggQEAgdm9pZCBh
bWRncHVfdm1fZ2V0X3BkX2JvKHN0cnVjdCBhbWRncHVfdm0gKnZtLAo+ICAgewo+ICAgCWVudHJ5
LT5wcmlvcml0eSA9IDA7Cj4gICAJZW50cnktPnR2LmJvID0gJnZtLT5yb290LmJhc2UuYm8tPnRi
bzsKPiAtCS8qIE9uZSBmb3IgdGhlIFZNIHVwZGF0ZXMsIG9uZSBmb3IgVFRNIGFuZCBvbmUgZm9y
IHRoZSBDUyBqb2IgKi8KPiAtCWVudHJ5LT50di5udW1fc2hhcmVkID0gMzsKPiArCS8qIE9uZSBm
b3IgVFRNIGFuZCBvbmUgZm9yIHRoZSBDUyBqb2IgKi8KPiArCWVudHJ5LT50di5udW1fc2hhcmVk
ID0gMjsKPiAgIAllbnRyeS0+dXNlcl9wYWdlcyA9IE5VTEw7Cj4gICAJbGlzdF9hZGQoJmVudHJ5
LT50di5oZWFkLCB2YWxpZGF0ZWQpOwo+ICAgfQo+IEBAIC0yNTIyLDYgKzI1MjIsMTEgQEAgYm9v
bCBhbWRncHVfdm1fZXZpY3RhYmxlKHN0cnVjdCBhbWRncHVfYm8gKmJvKQo+ICAgCWlmICghZG1h
X3Jlc3ZfdGVzdF9zaWduYWxlZF9yY3UoYm8tPnRiby5iYXNlLnJlc3YsIHRydWUpKQo+ICAgCQly
ZXR1cm4gZmFsc2U7Cj4gICAKPiArCS8qIERvbid0IGV2aWN0IFZNIHBhZ2UgdGFibGVzIHdoaWxl
IHRoZXkgYXJlIHVwZGF0ZWQgKi8KPiArCWlmICghZG1hX2ZlbmNlX2lzX3NpZ25hbGVkKGJvX2Jh
c2UtPnZtLT5sYXN0X2RpcmVjdCkgfHwKPiArCSAgICAhZG1hX2ZlbmNlX2lzX3NpZ25hbGVkKGJv
X2Jhc2UtPnZtLT5sYXN0X2RlbGF5ZWQpKQo+ICsJCXJldHVybiBmYWxzZTsKPiArCj4gICAJcmV0
dXJuIHRydWU7Cj4gICB9Cj4gICAKPiBAQCAtMjY4Nyw4ICsyNjkyLDE2IEBAIHZvaWQgYW1kZ3B1
X3ZtX2FkanVzdF9zaXplKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCB1aW50MzJfdCBtaW5f
dm1fc2l6ZSwKPiAgICAqLwo+ICAgbG9uZyBhbWRncHVfdm1fd2FpdF9pZGxlKHN0cnVjdCBhbWRn
cHVfdm0gKnZtLCBsb25nIHRpbWVvdXQpCj4gICB7Cj4gLQlyZXR1cm4gZG1hX3Jlc3Zfd2FpdF90
aW1lb3V0X3JjdSh2bS0+cm9vdC5iYXNlLmJvLT50Ym8uYmFzZS5yZXN2LAo+IC0JCQkJCQkgICB0
cnVlLCB0cnVlLCB0aW1lb3V0KTsKPiArCXRpbWVvdXQgPSBkbWFfcmVzdl93YWl0X3RpbWVvdXRf
cmN1KHZtLT5yb290LmJhc2UuYm8tPnRiby5iYXNlLnJlc3YsCj4gKwkJCQkJICAgIHRydWUsIHRy
dWUsIHRpbWVvdXQpOwo+ICsJaWYgKHRpbWVvdXQgPD0gMCkKPiArCQlyZXR1cm4gdGltZW91dDsK
PiArCj4gKwl0aW1lb3V0ID0gZG1hX2ZlbmNlX3dhaXRfdGltZW91dCh2bS0+bGFzdF9kaXJlY3Qs
IHRydWUsIHRpbWVvdXQpOwo+ICsJaWYgKHRpbWVvdXQgPD0gMCkKPiArCQlyZXR1cm4gdGltZW91
dDsKPiArCj4gKwlyZXR1cm4gZG1hX2ZlbmNlX3dhaXRfdGltZW91dCh2bS0+bGFzdF9kZWxheWVk
LCB0cnVlLCB0aW1lb3V0KTsKPiAgIH0KPiAgIAo+ICAgLyoqCj4gQEAgLTI3NTcsNiArMjc3MCw4
IEBAIGludCBhbWRncHVfdm1faW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgc3RydWN0
IGFtZGdwdV92bSAqdm0sCj4gICAJZWxzZQo+ICAgCQl2bS0+dXBkYXRlX2Z1bmNzID0gJmFtZGdw
dV92bV9zZG1hX2Z1bmNzOwo+ICAgCXZtLT5sYXN0X3VwZGF0ZSA9IE5VTEw7Cj4gKwl2bS0+bGFz
dF9kaXJlY3QgPSBkbWFfZmVuY2VfZ2V0X3N0dWIoKTsKPiArCXZtLT5sYXN0X2RlbGF5ZWQgPSBk
bWFfZmVuY2VfZ2V0X3N0dWIoKTsKPiAgIAo+ICAgCWFtZGdwdV92bV9ib19wYXJhbShhZGV2LCB2
bSwgYWRldi0+dm1fbWFuYWdlci5yb290X2xldmVsLCBmYWxzZSwgJmJwKTsKPiAgIAlpZiAodm1f
Y29udGV4dCA9PSBBTURHUFVfVk1fQ09OVEVYVF9DT01QVVRFKQo+IEBAIC0yODA3LDYgKzI4MjIs
OCBAQCBpbnQgYW1kZ3B1X3ZtX2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHN0cnVj
dCBhbWRncHVfdm0gKnZtLAo+ICAgCXZtLT5yb290LmJhc2UuYm8gPSBOVUxMOwo+ICAgCj4gICBl
cnJvcl9mcmVlX2RlbGF5ZWQ6Cj4gKwlkbWFfZmVuY2VfcHV0KHZtLT5sYXN0X2RpcmVjdCk7Cj4g
KwlkbWFfZmVuY2VfcHV0KHZtLT5sYXN0X2RlbGF5ZWQpOwo+ICAgCWRybV9zY2hlZF9lbnRpdHlf
ZGVzdHJveSgmdm0tPmRlbGF5ZWQpOwo+ICAgCj4gICBlcnJvcl9mcmVlX2RpcmVjdDoKPiBAQCAt
MzAwNyw2ICszMDI0LDExIEBAIHZvaWQgYW1kZ3B1X3ZtX2Zpbmkoc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYsIHN0cnVjdCBhbWRncHVfdm0gKnZtKQo+ICAgCQl2bS0+cGFzaWQgPSAwOwo+ICAg
CX0KPiAgIAo+ICsJZG1hX2ZlbmNlX3dhaXQodm0tPmxhc3RfZGlyZWN0LCBmYWxzZSk7Cj4gKwlk
bWFfZmVuY2VfcHV0KHZtLT5sYXN0X2RpcmVjdCk7Cj4gKwlkbWFfZmVuY2Vfd2FpdCh2bS0+bGFz
dF9kZWxheWVkLCBmYWxzZSk7Cj4gKwlkbWFfZmVuY2VfcHV0KHZtLT5sYXN0X2RlbGF5ZWQpOwo+
ICsKPiAgIAlsaXN0X2Zvcl9lYWNoX2VudHJ5X3NhZmUobWFwcGluZywgdG1wLCAmdm0tPmZyZWVk
LCBsaXN0KSB7Cj4gICAJCWlmIChtYXBwaW5nLT5mbGFncyAmIEFNREdQVV9QVEVfUFJUICYmIHBy
dF9maW5pX25lZWRlZCkgewo+ICAgCQkJYW1kZ3B1X3ZtX3BydF9maW5pKGFkZXYsIHZtKTsKPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtLmggYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdm0uaAo+IGluZGV4IGRiNTYxNzY1NDUzYi4u
ZDkzZWE5YWQ4NzllIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV92bS5oCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtLmgK
PiBAQCAtMjY5LDYgKzI2OSwxMCBAQCBzdHJ1Y3QgYW1kZ3B1X3ZtIHsKPiAgIAlzdHJ1Y3QgZHJt
X3NjaGVkX2VudGl0eQlkaXJlY3Q7Cj4gICAJc3RydWN0IGRybV9zY2hlZF9lbnRpdHkJZGVsYXll
ZDsKPiAgIAo+ICsJLyogTGFzdCBzdWJtaXNzaW9uIHRvIHRoZSBzY2hlZHVsZXIgZW50aXRpZXMg
Ki8KPiArCXN0cnVjdCBkbWFfZmVuY2UJKmxhc3RfZGlyZWN0Owo+ICsJc3RydWN0IGRtYV9mZW5j
ZQkqbGFzdF9kZWxheWVkOwo+ICsKPiAgIAl1bnNpZ25lZCBpbnQJCXBhc2lkOwo+ICAgCS8qIGRl
ZGljYXRlZCB0byB2bSAqLwo+ICAgCXN0cnVjdCBhbWRncHVfdm1pZAkqcmVzZXJ2ZWRfdm1pZFtB
TURHUFVfTUFYX1ZNSFVCU107Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2FtZGdwdV92bV9zZG1hLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
dm1fc2RtYS5jCj4gaW5kZXggNTBmNDg3NjY2OTc3Li4xOWI3ZjgwNzU4ZjEgMTAwNjQ0Cj4gLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtX3NkbWEuYwo+ICsrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92bV9zZG1hLmMKPiBAQCAtOTUsMTEgKzk1
LDEwIEBAIHN0YXRpYyBpbnQgYW1kZ3B1X3ZtX3NkbWFfcHJlcGFyZShzdHJ1Y3QgYW1kZ3B1X3Zt
X3VwZGF0ZV9wYXJhbXMgKnAsCj4gICBzdGF0aWMgaW50IGFtZGdwdV92bV9zZG1hX2NvbW1pdChz
dHJ1Y3QgYW1kZ3B1X3ZtX3VwZGF0ZV9wYXJhbXMgKnAsCj4gICAJCQkJIHN0cnVjdCBkbWFfZmVu
Y2UgKipmZW5jZSkKPiAgIHsKPiAtCXN0cnVjdCBhbWRncHVfYm8gKnJvb3QgPSBwLT52bS0+cm9v
dC5iYXNlLmJvOwo+ICAgCXN0cnVjdCBhbWRncHVfaWIgKmliID0gcC0+am9iLT5pYnM7Cj4gICAJ
c3RydWN0IGRybV9zY2hlZF9lbnRpdHkgKmVudGl0eTsKPiArCXN0cnVjdCBkbWFfZmVuY2UgKmYs
ICp0bXA7Cj4gICAJc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nOwo+IC0Jc3RydWN0IGRtYV9mZW5j
ZSAqZjsKPiAgIAlpbnQgcjsKPiAgIAo+ICAgCWVudGl0eSA9IHAtPmRpcmVjdCA/ICZwLT52bS0+
ZGlyZWN0IDogJnAtPnZtLT5kZWxheWVkOwo+IEBAIC0xMTIsNyArMTExLDEzIEBAIHN0YXRpYyBp
bnQgYW1kZ3B1X3ZtX3NkbWFfY29tbWl0KHN0cnVjdCBhbWRncHVfdm1fdXBkYXRlX3BhcmFtcyAq
cCwKPiAgIAlpZiAocikKPiAgIAkJZ290byBlcnJvcjsKPiAgIAo+IC0JYW1kZ3B1X2JvX2ZlbmNl
KHJvb3QsIGYsIHRydWUpOwo+ICsJdG1wID0gZG1hX2ZlbmNlX2dldChmKTsKPiArCWlmIChwLT5k
aXJlY3QpCj4gKwkJc3dhcChwLT52bS0+bGFzdF9kaXJlY3QsIHRtcCk7Cj4gKwllbHNlCj4gKwkJ
c3dhcChwLT52bS0+bGFzdF9kZWxheWVkLCB0bXApOwo+ICsJZG1hX2ZlbmNlX3B1dCh0bXApOwo+
ICsKPiAgIAlpZiAoZmVuY2UgJiYgIXAtPmRpcmVjdCkKPiAgIAkJc3dhcCgqZmVuY2UsIGYpOwo+
ICAgCWRtYV9mZW5jZV9wdXQoZik7Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0
b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1k
LWdmeA==
