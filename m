Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 1B8287448B
	for <lists+amd-gfx@lfdr.de>; Thu, 25 Jul 2019 06:54:30 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8D4B56E3FC;
	Thu, 25 Jul 2019 04:54:28 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM01-SN1-obe.outbound.protection.outlook.com
 (mail-eopbgr820057.outbound.protection.outlook.com [40.107.82.57])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E50556E3FC
 for <amd-gfx@lists.freedesktop.org>; Thu, 25 Jul 2019 04:54:26 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=j/LQwtOdq1C9Wp1Mf9nbZ26AYjDXbppjAAQDgKCVq3tuqKK2XpIg2hq5Jw7snKGm5uPGkAcDDpB8PCSzNjhTrXTA6qQ0x2f6GpDF4PuBta3jj0XWv84YHL3kGa/xrBHwEBS333JfHCdXb2q3csYY7DQ3io6RGCiiz95mf8ftg/OdB4uv1b1CgmUaMxTcb9EuRfblF8MM22Q+SxuR/fi23tsctfeaK0iXvvRw9JAGZ+2ZjZxjTlRxZwzMf2Wr3fx2fQ5ncMjThz4RPzC9Kc7YPf8Fc84e1X35WNBIJ5ogqVOmPUOLkrt6toHn1bVJK+KEWBdRV4VbRcv/eifv4s6ucw==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=1ZbVp4Si0swihBVbKNHm+OTeEgs6a8mkAEDPkYfQkf4=;
 b=CvGrEeSFLuRzfoywOgDItgm8Ph6olTcsElDL/qIqSJW9QJe57KxZVs7my9hPJVZqhWNpYOIQ33bwUdJKrO95EMyaUi5scHqMergSpP7I2NrCEVG4CME0z3mlYyG64ym+LcSuUQE/F9pogDT/WMaxDHy71Am7KpNh/glKq9vqoP8Kl+j4TL0KVVjfMCTYPu4tMg0yYt2izF/KsRGm8maSllsW5qpcr9doch0y2IdLMVC4YEHv8pU2aTg5WsK1bMKeuTpk23joJqlUsYHheVhtNZD/mLfyy2DZmHyuFNkwXNZuJEUd6dsCfD3jwCXNl+EyniJ4SGff8tQx4PxnHENn2g==
ARC-Authentication-Results: i=1; mx.microsoft.com 1;spf=pass
 smtp.mailfrom=amd.com;dmarc=pass action=none header.from=amd.com;dkim=pass
 header.d=amd.com;arc=none
Received: from MN2PR12MB3296.namprd12.prod.outlook.com (20.179.80.139) by
 MN2PR12MB4159.namprd12.prod.outlook.com (52.135.50.81) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2115.10; Thu, 25 Jul 2019 04:54:25 +0000
Received: from MN2PR12MB3296.namprd12.prod.outlook.com
 ([fe80::ad59:f055:2417:660f]) by MN2PR12MB3296.namprd12.prod.outlook.com
 ([fe80::ad59:f055:2417:660f%6]) with mapi id 15.20.2094.013; Thu, 25 Jul 2019
 04:54:25 +0000
From: "Wang, Kevin(Yang)" <Kevin1.Wang@amd.com>
To: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: [PATCH 4/5] drm/amd/powerplay: move smu_feature_update_enable_state
 to up level
Thread-Topic: [PATCH 4/5] drm/amd/powerplay: move
 smu_feature_update_enable_state to up level
Thread-Index: AQHVQqUI0M+vquAVFkGNLIGlnAjSzg==
Date: Thu, 25 Jul 2019 04:54:25 +0000
Message-ID: <20190725045403.7458-4-kevin1.wang@amd.com>
References: <20190725045403.7458-1-kevin1.wang@amd.com>
In-Reply-To: <20190725045403.7458-1-kevin1.wang@amd.com>
Accept-Language: en-US, zh-CN
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: HK2PR0302CA0015.apcprd03.prod.outlook.com
 (2603:1096:202::25) To MN2PR12MB3296.namprd12.prod.outlook.com
 (2603:10b6:208:aa::11)
x-ms-exchange-messagesentrepresentingtype: 1
x-mailer: git-send-email 2.22.0
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: fc78d895-f415-41d4-9188-08d710bc2aae
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:MN2PR12MB4159; 
x-ms-traffictypediagnostic: MN2PR12MB4159:
x-microsoft-antispam-prvs: <MN2PR12MB415945C13DC2ED2D5FA8AEE2A2C10@MN2PR12MB4159.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:3826;
x-forefront-prvs: 0109D382B0
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(39860400002)(136003)(346002)(366004)(396003)(376002)(189003)(199004)(256004)(2616005)(14444005)(478600001)(186003)(11346002)(3846002)(1076003)(6116002)(81166006)(8676002)(446003)(305945005)(6916009)(5640700003)(8936002)(81156014)(5660300002)(54906003)(2906002)(7736002)(68736007)(6512007)(316002)(66066001)(66556008)(52116002)(71190400001)(486006)(66476007)(66446008)(66946007)(86362001)(6486002)(476003)(2501003)(2351001)(14454004)(25786009)(76176011)(102836004)(36756003)(26005)(4326008)(50226002)(6506007)(386003)(71200400001)(53936002)(6436002)(99286004)(64756008);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MN2PR12MB4159;
 H:MN2PR12MB3296.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: /QmkunXLf7obhc974ammL1J3sqZJ/ySR6eZKWQGVhQTBU5YWwbG615RN+Jnblcbh2Migo/8RyRdPfZxHeRkKy3cvYtfr6qkKCDW82jcPBt1APRbLzKgoNyP4y200QJ6+V2MntVLvMfmLy3Qb8V2X1pNh5HWmQkU/0rSk846Q/76fNVvzJaoW9eXHaPb5N57kcJ2DLKTYSJwzkfqzVOQ3GOOekLVgfuHfQhgMxq53hL7onqpMB6gmmJxDjoURJagxqJSfRLQy2UTlKbLvbb+uMFUBXRsp9CEHIWRB7XXCVmSTw6Qugnqtfq0mVNGTavn8q9QfWSJTvu4LBrHLn8YY+ku1FTdLZSjhkboORcw+LYcK/IZXg2cf6D8zp/JhHZSvT7eml8+Hxul3Oyh1vm+HeZVcM+77u0BMyrwF9oGfDXM=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: fc78d895-f415-41d4-9188-08d710bc2aae
X-MS-Exchange-CrossTenant-originalarrivaltime: 25 Jul 2019 04:54:25.4033 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: kevwa@amd.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB4159
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=1ZbVp4Si0swihBVbKNHm+OTeEgs6a8mkAEDPkYfQkf4=;
 b=v8n68F+MY67YNsuEjDyeCPPsubonF+Bk6xfmXfjjdQIIoudj+0gHRbXvXAlyeIk/e0C2Qo+LW4q+Ll8IWCZNbtTB7ToQd9gGwj2KW9ykkzZ1OZAHlEiq4L/OSGy7M5STwiFKpJZxPotLCPPaTFCbBG8F6Nghsjtzphw/dD5cGBI=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Kevin1.Wang@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Deucher, Alexander" <Alexander.Deucher@amd.com>, "Huang,
 Ray" <Ray.Huang@amd.com>, "Feng, Kenneth" <Kenneth.Feng@amd.com>, "Wang,
 Kevin\(Yang\)" <Kevin1.Wang@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

dGhpcyBmdW5jdGlvbiBpcyBub3QgaXAgb3IgYXNpYyByZWxhdGVkIGZ1bmN0aW9uLApzbyBtb3Zl
IGl0IHRvIHRvcCBsZXZlbCBhcyBwdWJsaWMgYXBpIGluIHNtdS4KClNpZ25lZC1vZmYtYnk6IEtl
dmluIFdhbmcgPGtldmluMS53YW5nQGFtZC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2FtZC9w
b3dlcnBsYXkvYW1kZ3B1X3NtdS5jICAgIHwgNDAgKysrKysrKysrKysrKysrKysrLQogLi4uL2dw
dS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvYW1kZ3B1X3NtdS5oICAgIHwgIDQgKy0KIGRyaXZlcnMv
Z3B1L2RybS9hbWQvcG93ZXJwbGF5L3NtdV92MTFfMC5jICAgICB8IDM5IC0tLS0tLS0tLS0tLS0t
LS0tLQogMyBmaWxlcyBjaGFuZ2VkLCA0MCBpbnNlcnRpb25zKCspLCA0MyBkZWxldGlvbnMoLSkK
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9hbWRncHVfc211LmMg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9hbWRncHVfc211LmMKaW5kZXggODU2M2Y5
MDgzZjRlLi5lODgxZGU5NTUzODggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93
ZXJwbGF5L2FtZGdwdV9zbXUuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9h
bWRncHVfc211LmMKQEAgLTUwNyw2ICs1MDcsNDEgQEAgaW50IHNtdV9mZWF0dXJlX2luaXRfZHBt
KHN0cnVjdCBzbXVfY29udGV4dCAqc211KQogCiAJcmV0dXJuIHJldDsKIH0KK2ludCBzbXVfZmVh
dHVyZV91cGRhdGVfZW5hYmxlX3N0YXRlKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCB1aW50NjRf
dCBmZWF0dXJlX21hc2ssIGJvb2wgZW5hYmxlZCkKK3sKKwl1aW50MzJfdCBmZWF0dXJlX2xvdyA9
IDAsIGZlYXR1cmVfaGlnaCA9IDA7CisJaW50IHJldCA9IDA7CisKKwlpZiAoIXNtdS0+cG1fZW5h
YmxlZCkKKwkJcmV0dXJuIHJldDsKKworCWZlYXR1cmVfbG93ID0gKGZlYXR1cmVfbWFzayA+PiAw
ICkgJiAweGZmZmZmZmZmOworCWZlYXR1cmVfaGlnaCA9IChmZWF0dXJlX21hc2sgPj4gMzIpICYg
MHhmZmZmZmZmZjsKKworCWlmIChlbmFibGVkKSB7CisJCXJldCA9IHNtdV9zZW5kX3NtY19tc2df
d2l0aF9wYXJhbShzbXUsIFNNVV9NU0dfRW5hYmxlU211RmVhdHVyZXNMb3csCisJCQkJCQkgIGZl
YXR1cmVfbG93KTsKKwkJaWYgKHJldCkKKwkJCXJldHVybiByZXQ7CisJCXJldCA9IHNtdV9zZW5k
X3NtY19tc2dfd2l0aF9wYXJhbShzbXUsIFNNVV9NU0dfRW5hYmxlU211RmVhdHVyZXNIaWdoLAor
CQkJCQkJICBmZWF0dXJlX2hpZ2gpOworCQlpZiAocmV0KQorCQkJcmV0dXJuIHJldDsKKworCX0g
ZWxzZSB7CisJCXJldCA9IHNtdV9zZW5kX3NtY19tc2dfd2l0aF9wYXJhbShzbXUsIFNNVV9NU0df
RGlzYWJsZVNtdUZlYXR1cmVzTG93LAorCQkJCQkJICBmZWF0dXJlX2xvdyk7CisJCWlmIChyZXQp
CisJCQlyZXR1cm4gcmV0OworCQlyZXQgPSBzbXVfc2VuZF9zbWNfbXNnX3dpdGhfcGFyYW0oc211
LCBTTVVfTVNHX0Rpc2FibGVTbXVGZWF0dXJlc0hpZ2gsCisJCQkJCQkgIGZlYXR1cmVfaGlnaCk7
CisJCWlmIChyZXQpCisJCQlyZXR1cm4gcmV0OworCisJfQorCisJcmV0dXJuIHJldDsKK30KIAog
aW50IHNtdV9mZWF0dXJlX2lzX2VuYWJsZWQoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGVudW0g
c211X2ZlYXR1cmVfbWFzayBtYXNrKQogewpAQCAtNTMyLDYgKzU2Nyw3IEBAIGludCBzbXVfZmVh
dHVyZV9zZXRfZW5hYmxlZChzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgZW51bSBzbXVfZmVhdHVy
ZV9tYXNrIG1hc2ssCiB7CiAJc3RydWN0IHNtdV9mZWF0dXJlICpmZWF0dXJlID0gJnNtdS0+c211
X2ZlYXR1cmU7CiAJaW50IGZlYXR1cmVfaWQ7CisJdWludDY0X3QgZmVhdHVyZV9tYXNrID0gMDsK
IAlpbnQgcmV0ID0gMDsKIAogCWZlYXR1cmVfaWQgPSBzbXVfZmVhdHVyZV9nZXRfaW5kZXgoc211
LCBtYXNrKTsKQEAgLTU0MCw4ICs1NzYsMTAgQEAgaW50IHNtdV9mZWF0dXJlX3NldF9lbmFibGVk
KHN0cnVjdCBzbXVfY29udGV4dCAqc211LCBlbnVtIHNtdV9mZWF0dXJlX21hc2sgbWFzaywKIAog
CVdBUk5fT04oZmVhdHVyZV9pZCA+IGZlYXR1cmUtPmZlYXR1cmVfbnVtKTsKIAorCWZlYXR1cmVf
bWFzayA9IDFVTCA8PCBmZWF0dXJlX2lkOworCiAJbXV0ZXhfbG9jaygmZmVhdHVyZS0+bXV0ZXgp
OwotCXJldCA9IHNtdV9mZWF0dXJlX3VwZGF0ZV9lbmFibGVfc3RhdGUoc211LCBmZWF0dXJlX2lk
LCBlbmFibGUpOworCXJldCA9IHNtdV9mZWF0dXJlX3VwZGF0ZV9lbmFibGVfc3RhdGUoc211LCBm
ZWF0dXJlX21hc2ssIGVuYWJsZSk7CiAJaWYgKHJldCkKIAkJZ290byBmYWlsZWQ7CiAKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2luYy9hbWRncHVfc211LmggYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvYW1kZ3B1X3NtdS5oCmluZGV4IGJhMjM4
NTAyNmI4OS4uYWJjMjY0NGI0YzA3IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bv
d2VycGxheS9pbmMvYW1kZ3B1X3NtdS5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJw
bGF5L2luYy9hbWRncHVfc211LmgKQEAgLTQ3OSw3ICs0NzksNiBAQCBzdHJ1Y3Qgc211X2Z1bmNz
CiAJaW50ICgqaW5pdF9kaXNwbGF5X2NvdW50KShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgdWlu
dDMyX3QgY291bnQpOwogCWludCAoKnNldF9hbGxvd2VkX21hc2spKHN0cnVjdCBzbXVfY29udGV4
dCAqc211KTsKIAlpbnQgKCpnZXRfZW5hYmxlZF9tYXNrKShzdHJ1Y3Qgc211X2NvbnRleHQgKnNt
dSwgdWludDMyX3QgKmZlYXR1cmVfbWFzaywgdWludDMyX3QgbnVtKTsKLQlpbnQgKCp1cGRhdGVf
ZmVhdHVyZV9lbmFibGVfc3RhdGUpKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCB1aW50MzJfdCBm
ZWF0dXJlX2lkLCBib29sIGVuYWJsZWQpOwogCWludCAoKm5vdGlmeV9kaXNwbGF5X2NoYW5nZSko
c3RydWN0IHNtdV9jb250ZXh0ICpzbXUpOwogCWludCAoKmdldF9wb3dlcl9saW1pdCkoc3RydWN0
IHNtdV9jb250ZXh0ICpzbXUsIHVpbnQzMl90ICpsaW1pdCwgYm9vbCBkZWYpOwogCWludCAoKnNl
dF9wb3dlcl9saW1pdCkoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIHVpbnQzMl90IG4pOwpAQCAt
NTk1LDggKzU5NCw2IEBAIHN0cnVjdCBzbXVfZnVuY3MKIAkoKHNtdSktPmZ1bmNzLT5nZXRfZW5h
YmxlZF9tYXNrPyAoc211KS0+ZnVuY3MtPmdldF9lbmFibGVkX21hc2soKHNtdSksIChtYXNrKSwg
KG51bSkpIDogMCkKICNkZWZpbmUgc211X2lzX2RwbV9ydW5uaW5nKHNtdSkgXAogCSgoc211KS0+
cHB0X2Z1bmNzLT5pc19kcG1fcnVubmluZyA/IChzbXUpLT5wcHRfZnVuY3MtPmlzX2RwbV9ydW5u
aW5nKChzbXUpKSA6IDApCi0jZGVmaW5lIHNtdV9mZWF0dXJlX3VwZGF0ZV9lbmFibGVfc3RhdGUo
c211LCBmZWF0dXJlX2lkLCBlbmFibGVkKSBcCi0JKChzbXUpLT5mdW5jcy0+dXBkYXRlX2ZlYXR1
cmVfZW5hYmxlX3N0YXRlPyAoc211KS0+ZnVuY3MtPnVwZGF0ZV9mZWF0dXJlX2VuYWJsZV9zdGF0
ZSgoc211KSwgKGZlYXR1cmVfaWQpLCAoZW5hYmxlZCkpIDogMCkKICNkZWZpbmUgc211X25vdGlm
eV9kaXNwbGF5X2NoYW5nZShzbXUpIFwKIAkoKHNtdSktPmZ1bmNzLT5ub3RpZnlfZGlzcGxheV9j
aGFuZ2U/IChzbXUpLT5mdW5jcy0+bm90aWZ5X2Rpc3BsYXlfY2hhbmdlKChzbXUpKSA6IDApCiAj
ZGVmaW5lIHNtdV9zdG9yZV9wb3dlcnBsYXlfdGFibGUoc211KSBcCkBAIC04MDQsNiArODAxLDcg
QEAgZW51bSBhbWRfZHBtX2ZvcmNlZF9sZXZlbCBzbXVfZ2V0X3BlcmZvcm1hbmNlX2xldmVsKHN0
cnVjdCBzbXVfY29udGV4dCAqc211KTsKIGludCBzbXVfZm9yY2VfcGVyZm9ybWFuY2VfbGV2ZWwo
c3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGVudW0gYW1kX2RwbV9mb3JjZWRfbGV2ZWwgbGV2ZWwp
OwogaW50IHNtdV9zZXRfZGlzcGxheV9jb3VudChzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgdWlu
dDMyX3QgY291bnQpOwogYm9vbCBzbXVfY2xrX2RwbV9pc19lbmFibGVkKHN0cnVjdCBzbXVfY29u
dGV4dCAqc211LCBlbnVtIHNtdV9jbGtfdHlwZSBjbGtfdHlwZSk7CitpbnQgc211X2ZlYXR1cmVf
dXBkYXRlX2VuYWJsZV9zdGF0ZShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgdWludDY0X3QgZmVh
dHVyZV9tYXNrLCBib29sIGVuYWJsZWQpOwogY29uc3QgY2hhciAqc211X2dldF9tZXNzYWdlX25h
bWUoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGVudW0gc211X21lc3NhZ2VfdHlwZSB0eXBlKTsK
IGNvbnN0IGNoYXIgKnNtdV9nZXRfZmVhdHVyZV9uYW1lKHN0cnVjdCBzbXVfY29udGV4dCAqc211
LCBlbnVtIHNtdV9mZWF0dXJlX21hc2sgZmVhdHVyZSk7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvcG93ZXJwbGF5L3NtdV92MTFfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9w
b3dlcnBsYXkvc211X3YxMV8wLmMKaW5kZXggY2NmNmFmMDU1ZDAzLi45M2YzZmZiOGI0NzEgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3NtdV92MTFfMC5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3NtdV92MTFfMC5jCkBAIC03OTUsNDQgKzc5
NSw2IEBAIHN0YXRpYyBpbnQgc211X3YxMV8wX2luaXRfZGlzcGxheV9jb3VudChzdHJ1Y3Qgc211
X2NvbnRleHQgKnNtdSwgdWludDMyX3QgY291bnQpCiAJcmV0dXJuIHJldDsKIH0KIAotc3RhdGlj
IGludCBzbXVfdjExXzBfdXBkYXRlX2ZlYXR1cmVfZW5hYmxlX3N0YXRlKHN0cnVjdCBzbXVfY29u
dGV4dCAqc211LCB1aW50MzJfdCBmZWF0dXJlX2lkLCBib29sIGVuYWJsZWQpCi17Ci0JdWludDMy
X3QgZmVhdHVyZV9sb3cgPSAwLCBmZWF0dXJlX2hpZ2ggPSAwOwotCWludCByZXQgPSAwOwotCi0J
aWYgKCFzbXUtPnBtX2VuYWJsZWQpCi0JCXJldHVybiByZXQ7Ci0JaWYgKGZlYXR1cmVfaWQgPj0g
MCAmJiBmZWF0dXJlX2lkIDwgMzEpCi0JCWZlYXR1cmVfbG93ID0gKDEgPDwgZmVhdHVyZV9pZCk7
Ci0JZWxzZSBpZiAoZmVhdHVyZV9pZCA+IDMxICYmIGZlYXR1cmVfaWQgPCA2MykKLQkJZmVhdHVy
ZV9oaWdoID0gKDEgPDwgZmVhdHVyZV9pZCk7Ci0JZWxzZQotCQlyZXR1cm4gLUVJTlZBTDsKLQot
CWlmIChlbmFibGVkKSB7Ci0JCXJldCA9IHNtdV9zZW5kX3NtY19tc2dfd2l0aF9wYXJhbShzbXUs
IFNNVV9NU0dfRW5hYmxlU211RmVhdHVyZXNMb3csCi0JCQkJCQkgIGZlYXR1cmVfbG93KTsKLQkJ
aWYgKHJldCkKLQkJCXJldHVybiByZXQ7Ci0JCXJldCA9IHNtdV9zZW5kX3NtY19tc2dfd2l0aF9w
YXJhbShzbXUsIFNNVV9NU0dfRW5hYmxlU211RmVhdHVyZXNIaWdoLAotCQkJCQkJICBmZWF0dXJl
X2hpZ2gpOwotCQlpZiAocmV0KQotCQkJcmV0dXJuIHJldDsKLQotCX0gZWxzZSB7Ci0JCXJldCA9
IHNtdV9zZW5kX3NtY19tc2dfd2l0aF9wYXJhbShzbXUsIFNNVV9NU0dfRGlzYWJsZVNtdUZlYXR1
cmVzTG93LAotCQkJCQkJICBmZWF0dXJlX2xvdyk7Ci0JCWlmIChyZXQpCi0JCQlyZXR1cm4gcmV0
OwotCQlyZXQgPSBzbXVfc2VuZF9zbWNfbXNnX3dpdGhfcGFyYW0oc211LCBTTVVfTVNHX0Rpc2Fi
bGVTbXVGZWF0dXJlc0hpZ2gsCi0JCQkJCQkgIGZlYXR1cmVfaGlnaCk7Ci0JCWlmIChyZXQpCi0J
CQlyZXR1cm4gcmV0OwotCi0JfQotCi0JcmV0dXJuIHJldDsKLX0KIAogc3RhdGljIGludCBzbXVf
djExXzBfc2V0X2FsbG93ZWRfbWFzayhzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSkKIHsKQEAgLTE3
ODEsNyArMTc0Myw2IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3Qgc211X2Z1bmNzIHNtdV92MTFfMF9m
dW5jcyA9IHsKIAkuc2V0X2FsbG93ZWRfbWFzayA9IHNtdV92MTFfMF9zZXRfYWxsb3dlZF9tYXNr
LAogCS5nZXRfZW5hYmxlZF9tYXNrID0gc211X3YxMV8wX2dldF9lbmFibGVkX21hc2ssCiAJLnN5
c3RlbV9mZWF0dXJlc19jb250cm9sID0gc211X3YxMV8wX3N5c3RlbV9mZWF0dXJlc19jb250cm9s
LAotCS51cGRhdGVfZmVhdHVyZV9lbmFibGVfc3RhdGUgPSBzbXVfdjExXzBfdXBkYXRlX2ZlYXR1
cmVfZW5hYmxlX3N0YXRlLAogCS5ub3RpZnlfZGlzcGxheV9jaGFuZ2UgPSBzbXVfdjExXzBfbm90
aWZ5X2Rpc3BsYXlfY2hhbmdlLAogCS5nZXRfcG93ZXJfbGltaXQgPSBzbXVfdjExXzBfZ2V0X3Bv
d2VyX2xpbWl0LAogCS5zZXRfcG93ZXJfbGltaXQgPSBzbXVfdjExXzBfc2V0X3Bvd2VyX2xpbWl0
LAotLSAKMi4yMi4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpo
dHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZng=
