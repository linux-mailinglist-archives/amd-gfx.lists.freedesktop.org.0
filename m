Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id E3E73623F93
	for <lists+amd-gfx@lfdr.de>; Thu, 10 Nov 2022 11:14:20 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E3D4010E12A;
	Thu, 10 Nov 2022 10:14:17 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM11-BN8-obe.outbound.protection.outlook.com
 (mail-bn8nam11on2041.outbound.protection.outlook.com [40.107.236.41])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D952410E12A
 for <amd-gfx@lists.freedesktop.org>; Thu, 10 Nov 2022 10:14:13 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=D9o1GS2TTIvs0M/nn0nH/575cHPaJK1Rpl7UCuN1lUbYN0vnZYP8tR0HX79eXXMZQpk9EhPrLzIpw5kxUjF1PkbLTZqZlHdxtDVKCJhQQcaXbJLFohf1AFSUqsM9XvwetzefbIJMlcN06o05xl9fCzbyWmStVM2/MJvpJaD9UT8P/NaZ7c6dMHHvXJxKVGBX/W04ErYBvg2SRxKmfnmuZLDaNkaw85uaZHoX3KJZgBJtH08uR16V0jraRk4evNwuTQ+0LIBKRlAMwrUQVL3gWX778BzJVRaF1hTRTzkWtEY9QcHlre0u/FKQR0y7RyL5dyVj3AF5eme84smPbGpw0w==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=YHfl9kLqX5WrAybAyZY3voPJwTUtzUFrHKG1RHy99Ko=;
 b=C1vfykEqQ4W9jQXwsHo9iKY/xbLhEx+HZTPY73cZwctemHNbEPgdyUgfVLvjOVFi6OPF8XGhm99Etg+i6uKaF0+qhEbjUtMPe04lqxolFmnpuR7Ri+iQQ8+OmDm4emnwNJJJrW4LSAUnvZBeDWpkhmYPjhRwSCswHxyUYbktTwNcC9zBOzPEAouKAQB4ZZwEdnPUy/eC96wSPd2hxS7ElKWA1oOZP2aGysVq9d0jzyZDikcHFe0YZBMVKbyVXaj0m/WXujiOV8pVo6cgdwZBu/a/Anx9t6Wb9UuctWhg6nWByK8IC9iLpN4PjZcgkPTenhPPvc5VYGq2msv1TuGPAg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=amd.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=YHfl9kLqX5WrAybAyZY3voPJwTUtzUFrHKG1RHy99Ko=;
 b=qCvewgPmS7zbB9wZeGuR69vMWT4hQEyv/snCc21mwUf2PEL4hyvNByyTD4xUJRqHMYWGn1iUYnHT51ii4tydXjkaZNjpU3aYCKuJC/jzEMVGy5AXM4WokAJQnahrSFvrqYxpaAc1ROki4j5PgRVeNZCG+dr+/AsN4GEL386ij14=
Received: from DM4PR12MB6134.namprd12.prod.outlook.com (2603:10b6:8:ad::16) by
 PH8PR12MB7448.namprd12.prod.outlook.com (2603:10b6:510:214::11) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.5791.27; Thu, 10 Nov
 2022 10:14:09 +0000
Received: from DM4PR12MB6134.namprd12.prod.outlook.com
 ([fe80::6e3e:b414:a2f9:5b7]) by DM4PR12MB6134.namprd12.prod.outlook.com
 ([fe80::6e3e:b414:a2f9:5b7%6]) with mapi id 15.20.5791.027; Thu, 10 Nov 2022
 10:14:09 +0000
From: "Liu01, Tong (Esther)" <Tong.Liu01@amd.com>
To: "Koenig, Christian" <Christian.Koenig@amd.com>, "Chang, HaiJun"
 <HaiJun.Chang@amd.com>, "amd-gfx@lists.freedesktop.org"
 <amd-gfx@lists.freedesktop.org>, "Zhang, Bokun" <Bokun.Zhang@amd.com>
Subject: RE: [PATCH] drm/amdgpu: add vram reservation logic based on
 vram_usagebyfirmware_v2_2
Thread-Topic: [PATCH] drm/amdgpu: add vram reservation logic based on
 vram_usagebyfirmware_v2_2
Thread-Index: AQHY811zm/dtsshYkkiCDOJKQOnZGq401FCwgAAnIICAAA7aIIAABPWAgALj+QA=
Date: Thu, 10 Nov 2022 10:14:09 +0000
Message-ID: <DM4PR12MB61341AD581900D4861E8DA3190019@DM4PR12MB6134.namprd12.prod.outlook.com>
References: <20221108103236.8777-1-Tong.Liu01@amd.com>
 <DM4PR12MB61343BF910630C9BA31F8916903F9@DM4PR12MB6134.namprd12.prod.outlook.com>
 <444456c6-b66b-615a-f340-a5867073a496@amd.com>
 <DM6PR12MB49587BC1D9F0C46AC8646073813F9@DM6PR12MB4958.namprd12.prod.outlook.com>
 <c8b8b0ad-96b6-9ce6-8391-26f0189c758f@amd.com>
In-Reply-To: <c8b8b0ad-96b6-9ce6-8391-26f0189c758f@amd.com>
Accept-Language: zh-CN, en-US
Content-Language: en-US
X-MS-Has-Attach: yes
X-MS-TNEF-Correlator: 
msip_labels: MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_Enabled=true;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_SetDate=2022-11-10T10:14:04Z; 
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_Method=Standard;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_Name=General;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_SiteId=3dd8961f-e488-4e60-8e11-a82d994e183d;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_ActionId=1e34eccb-db28-4770-855c-4cc78bb8921d;
 MSIP_Label_4342314e-0df4-4b58-84bf-38bed6170a0f_ContentBits=1
msip_label_4342314e-0df4-4b58-84bf-38bed6170a0f_enabled: true
msip_label_4342314e-0df4-4b58-84bf-38bed6170a0f_setdate: 2022-11-10T10:14:04Z
msip_label_4342314e-0df4-4b58-84bf-38bed6170a0f_method: Standard
msip_label_4342314e-0df4-4b58-84bf-38bed6170a0f_name: General
msip_label_4342314e-0df4-4b58-84bf-38bed6170a0f_siteid: 3dd8961f-e488-4e60-8e11-a82d994e183d
msip_label_4342314e-0df4-4b58-84bf-38bed6170a0f_actionid: 9f7bddea-8aaa-4bcc-acfe-6d5391324c7a
msip_label_4342314e-0df4-4b58-84bf-38bed6170a0f_contentbits: 0
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=amd.com;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: DM4PR12MB6134:EE_|PH8PR12MB7448:EE_
x-ms-office365-filtering-correlation-id: 91c276df-bae0-4d90-e736-08dac3044ee8
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: olXh/YDaQtGiqydCxOzJkwa8lWBE0uWcvDK+p9hlFFwAutFW9a3khcvLzPD9L69bo2ncQS8BAWIJMtSIb5O+CxbWM6XoLHsOTYceb517Q7IIY+zI/n3kERzpstQHdMxdAglNDRKMCV/9uJl4eP8eJS0M90t9PK23hcsnrrmqn+Mo2OE7dLvmsc1e3C3Vv62sFgmu8qZjJsFSmxi2x8b2RbGkb7JmCE4Lz+z1QYOEC2qpZsEyckyePebwr7dprzLXdVOiFHslg9i1+4iKU/dxwlifQnuG/+5UYmpd5yblsN67kmT7JGInsg9RJOaFS7EPvA+Fkl5sd63N9bCsgkGF8d/eBtCe+rhRoW4R7BlcNAq5mYgHFxlF47OY4P90E0TYb1gRIs/VYSjRv5jA9i+ViDju7CTrQ3ZWX4KAQMY/I943fiAH2ovT+Isu/AF6p51UVxw6eJjAK+xIbpJgITnlUJavK9LHVNbCKc3g900ThF+0+IHXFoHIgt0e+ZWDOhKVLLD5rMqMV+ockNbJTbQItWNr6HK4t+WkfzE/XaXkCSnp5p+Hy8Pfi2sAyxzxkLOnaRMctyWJOih+l7g36RlmLQXFkPV9LGNMAne45d8yR5kiaw6Sz4s2O4OSgvjBmdo6Ge3jaykWuzOPZxP1rSm10PYSE5UkTbuvk4bLT1g7qaGJLoUqPQ3ku2NXWC0AdMHO0OUXwJMWxYtM6wxrX1xU/2e1YIhwa0LXeWZ0d58yHagLJ2vWGlTOfQBjUUJiH0VOu4pxf8RTfU1S5w6IUV7png==
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:DM4PR12MB6134.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(13230022)(4636009)(396003)(136003)(366004)(39860400002)(346002)(376002)(451199015)(55016003)(33656002)(7696005)(38100700002)(186003)(9686003)(83380400001)(53546011)(6506007)(26005)(122000001)(5660300002)(2906002)(38070700005)(99936003)(52536014)(30864003)(86362001)(316002)(478600001)(71200400001)(54906003)(110136005)(64756008)(66556008)(66446008)(66946007)(8936002)(41300700001)(4326008)(76116006)(66476007)(8676002)(6636002);
 DIR:OUT; SFP:1101; 
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?aW00aVd3TnhreHNGZ3YzSjlQSVRaUTdxNzZzZmoyRERXTFFKcmRzYmd4Q3Mr?=
 =?utf-8?B?U1RSelBINGdYcXNnaXBCVGRZZmhSUU5Va2Q4RHV5ZC9IeVRWWmxTVXQ1SXRk?=
 =?utf-8?B?dG0xaDZFRWE5Z05oWU1HZkVmelVRK2NwbXRYcm9ud2pETkExYk5ablBIR3ZV?=
 =?utf-8?B?S2xGUW1QdnA2Ny8zdXoveURBSlVpRURYVk16aDRlTWwvd2VycEgyY1hoR256?=
 =?utf-8?B?cHZ4Z2FJZ3lrWFpaRUhFeFVsSmxZaEUzd3hXNU5YT1lZTUVTTHFVUDUvQ1Zj?=
 =?utf-8?B?RW9jcm1UaUtGcjNTVXRQYVJWZEx1Z1JzQy9xZ1o1cFg1UFRUQlhmUWpJN1dO?=
 =?utf-8?B?d0ZpSG1EQjFyeE4zNHh5WTZUaW1nYWdHN09VSi9wUnkrbFBxQ3ZCc1JGb2pi?=
 =?utf-8?B?ZktvOFNkeVJiNDVQOGRSa1F4cDFTN0QrM1FLK2xnakxCMDM2ZVlxY2RWdkh2?=
 =?utf-8?B?YWJMaWd4ZGNkbkhyYnB2K0tuWnNtdU5lS09xdGhIWjcvWnU5OE1EZjhjMklS?=
 =?utf-8?B?K0hqbnpyS0xyYVkxNyt5UDVscTI1Qm03QW5ZWHg2ZVFLRlJMZ2pmRTl2Nzhi?=
 =?utf-8?B?OGhEOUNwR25QSWRLK3hnREtpblNDcUw5QWMyV0NEL2lRV2VnVUxQejZSa1ha?=
 =?utf-8?B?a1E3dVhaVnNOcXNzM3BHcUUvam5aMVdnamc0UmR0UXhyYlowTjN0TGVTQldm?=
 =?utf-8?B?NmZQV1ZxbEhhQkM0SzY0VlNScHRvT2ljVTNaMm9DRHhSUnYyQjMyUnFKM3Va?=
 =?utf-8?B?bzY4QlFHMllqdlJEbXh0Vnhqdjh6ZEM0cTJCUjAxYTVhdzYwUjE3UlBTVDNL?=
 =?utf-8?B?NUh3RkF6RzdRazBSSFBBOVJQYnpwTDlmMzdLaWdPbWYwV2VMUkk5YTJKeEpN?=
 =?utf-8?B?LzRydi85S1Y3N1VNdzVFR01xZGJSZ1dGKzByR1VsbjBXallqSis1clZNQmtD?=
 =?utf-8?B?QnlicmRSaE1KQ3JqWE9LTVpFWWdYbFZUMldaN1FzMFZibjNvVmlId0dzVzRk?=
 =?utf-8?B?allzZ2V3Y01mTjU4cHlqOXZFVFJyZXFEK1VJbi9JVjZzVGRNQi9McHlVcFFu?=
 =?utf-8?B?d25BQUNjTlF1d05xeUc3c3ovblRzRGdrazZZN3hBNTFlZ3RacWxJc0xpVnpU?=
 =?utf-8?B?VXNhTFRUUnRSNy9xNkhSUTIvUitNQ29XaWZvVFNmOXBqanJ6OVl6Q3FvT01l?=
 =?utf-8?B?OWxPZk1VM2ZYZXVkaWMrTE5LZzVZaFNERnVpbnZPNVB2VHR6Y0pad3R6MDdt?=
 =?utf-8?B?YmpLSURTTit0dVpMaSswSjROYlZRWCt6cXdwWVFkVXRNSFRMakluZytLbXV4?=
 =?utf-8?B?NFBJbmZyUXR2VEJpazRuTGVIU3BnbXRRMHk5Y2huR2lhenVqNGNuWG1CUGRS?=
 =?utf-8?B?eDI5ZGVoTEFJRFAwZGF0K29oMmxGU3RJTzZZdzJtUjYzTjgzcWZMbzJqQ1Fw?=
 =?utf-8?B?L0hHdGIrNTl4QW0rR1E2WXdNd2lkbDhXbkpNQ3JuTkZHREY3NVY1ZXhvR1hB?=
 =?utf-8?B?VFM4V0dPNklZZG9oaGZOS0pYZnhvckhpN1ZQRndKVjJzalF1TmxFU0RQdzEv?=
 =?utf-8?B?U08zSVJ2aXJNbCt5S2dsbmx6Tkh6d0pFa1NPamQ0Ni9ya3VvdFVOVmpHdHlU?=
 =?utf-8?B?ZVFTOWdMOFhnTEpLM0dYOHc0VWJiZXlGQ1JIOEF5MkdGNVBkWFk4aGJWVE1P?=
 =?utf-8?B?aXpEOERuc3BIdnhOdXpkNjJnZG1BMHdGWEdUbitZSEFqbHpHa1d5MHVHcWVl?=
 =?utf-8?B?dVlOTk1rM2RoSTdNa0ZzSHVKVnEzWXNmdkdVb2tJQ3FTdHFIb212bnVwajdK?=
 =?utf-8?B?cEYvMldvSWNuV1RyNjl6NDVPVDIzdlcrUXhFRDRYcHE5ZjVSTFBJTWlqNm05?=
 =?utf-8?B?YngzUkFpTkZHSld6dG1MYzdnbURBdU16SkgzRzJlSWU4cGVIUlhTU0Exd2dV?=
 =?utf-8?B?cGR5MGk4bFRLUVphR2o0YmYvSEVCdlZuSkp5VmRTNGwzWitNaHlwaUh4WTQ1?=
 =?utf-8?B?MnA1RW96U2xnWEtET0t3Tm9tVlozV1UzOFRoUE1WY1RQREkyWFVkZG5YUGgy?=
 =?utf-8?B?amhiSDFxelEwL2ljbkNxTFQ2bGJRWGFjNWIyZFByeWI1bGZrczhlMFZkWW5r?=
 =?utf-8?Q?IHUSWd+X2Fax0zk9bVcQS+0R8?=
Content-Type: multipart/mixed;
 boundary="_002_DM4PR12MB61341AD581900D4861E8DA3190019DM4PR12MB6134namp_"
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: DM4PR12MB6134.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 91c276df-bae0-4d90-e736-08dac3044ee8
X-MS-Exchange-CrossTenant-originalarrivaltime: 10 Nov 2022 10:14:09.7049 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: DwCimhM/k7AR+mKswV9wBx8QK9ktX0Kl+IbrGcUPHMhXcEOcur07623Q9hCucOw3CQzg82bN4TnJpofsMtVLAA==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: PH8PR12MB7448
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Xiao, Jack" <Jack.Xiao@amd.com>, "Wang,
 Yang\(Kevin\)" <KevinYang.Wang@amd.com>, "Xu, 
 Feifei" <Feifei.Xu@amd.com>, "Chen, Horace" <Horace.Chen@amd.com>, "Tuikov,
 Luben" <Luben.Tuikov@amd.com>, "Sohail, Rashid" <Rashid.Sohail@amd.com>,
 "Deucher, Alexander" <Alexander.Deucher@amd.com>, "Quan,
 Evan" <Evan.Quan@amd.com>, "Liu, Monk" <Monk.Liu@amd.com>, "Zhang, 
 Hawking" <Hawking.Zhang@amd.com>
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

--_002_DM4PR12MB61341AD581900D4861E8DA3190019DM4PR12MB6134namp_
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64

W0FNRCBPZmZpY2lhbCBVc2UgT25seSAtIEdlbmVyYWxdDQoNCkhpIENocmlzdGlhbiwNCg0KUGxl
YXNlIGZpbmQgdGhlIGF0dGFjaGVkIHBhdGNoLCB0aGFua3MhDQoNCktpbmQgcmVnYXJkcywNCkVz
dGhlcg0KDQotLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KRnJvbTogS29lbmlnLCBDaHJpc3Rp
YW4gPENocmlzdGlhbi5Lb2VuaWdAYW1kLmNvbT4gDQpTZW50OiAyMDIy5bm0MTHmnIg45pel5pif
5pyf5LqMIOS4i+WNiDEwOjA0DQpUbzogQ2hhbmcsIEhhaUp1biA8SGFpSnVuLkNoYW5nQGFtZC5j
b20+OyBMaXUwMSwgVG9uZyAoRXN0aGVyKSA8VG9uZy5MaXUwMUBhbWQuY29tPjsgYW1kLWdmeEBs
aXN0cy5mcmVlZGVza3RvcC5vcmc7IFpoYW5nLCBCb2t1biA8Qm9rdW4uWmhhbmdAYW1kLmNvbT4N
CkNjOiBRdWFuLCBFdmFuIDxFdmFuLlF1YW5AYW1kLmNvbT47IENoZW4sIEhvcmFjZSA8SG9yYWNl
LkNoZW5AYW1kLmNvbT47IFR1aWtvdiwgTHViZW4gPEx1YmVuLlR1aWtvdkBhbWQuY29tPjsgRGV1
Y2hlciwgQWxleGFuZGVyIDxBbGV4YW5kZXIuRGV1Y2hlckBhbWQuY29tPjsgWGlhbywgSmFjayA8
SmFjay5YaWFvQGFtZC5jb20+OyBaaGFuZywgSGF3a2luZyA8SGF3a2luZy5aaGFuZ0BhbWQuY29t
PjsgTGl1LCBNb25rIDxNb25rLkxpdUBhbWQuY29tPjsgWHUsIEZlaWZlaSA8RmVpZmVpLlh1QGFt
ZC5jb20+OyBXYW5nLCBZYW5nKEtldmluKSA8S2V2aW5ZYW5nLldhbmdAYW1kLmNvbT47IFNvaGFp
bCwgUmFzaGlkIDxSYXNoaWQuU29oYWlsQGFtZC5jb20+DQpTdWJqZWN0OiBSZTogW1BBVENIXSBk
cm0vYW1kZ3B1OiBhZGQgdnJhbSByZXNlcnZhdGlvbiBsb2dpYyBiYXNlZCBvbiB2cmFtX3VzYWdl
YnlmaXJtd2FyZV92Ml8yDQoNClllYWgsIEkgbWVhbiB0aGUgY29kZSBsb29rcyBjb3JyZWN0Lg0K
DQpJdCdzIGp1c3QgdGhhdCBzdHlsZSBwcm9ibGVtcyBhcmUgdXN1YWxseSBwb2ludGVkIG91dCBi
eSBhdXRvbWF0ZWQgY2hlY2tlcnMsIGVzcGVjaWFsbHkgdGhpbmdzIGxpa2UgZG9zIGxpbmUgZW5k
aW5ncy4NCg0KU28gZ2V0IHRoYXQgZml4ZWQgYW5kIHdlIGNhbiBwdXNoIGl0IGltbWVkaWF0ZWx5
Lg0KDQpUaGFua3MsDQpDaHJpc3RpYW4uDQoNCkFtIDA4LjExLjIyIHVtIDE0OjQ5IHNjaHJpZWIg
Q2hhbmcsIEhhaUp1bjoNCj4gW0FNRCBPZmZpY2lhbCBVc2UgT25seSAtIEdlbmVyYWxdDQo+DQo+
ICsgQm9rdW4gdG8gaGVscCBhZGRyZXNzaW5nIHRoZSBjb2Rpbmcgc3R5bGUgcHJvYmxlbSBpbiBN
S00gc2lkZS4NCj4NCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogS29lbmln
LCBDaHJpc3RpYW4gPENocmlzdGlhbi5Lb2VuaWdAYW1kLmNvbT4NCj4gU2VudDogVHVlc2RheSwg
Tm92ZW1iZXIgOCwgMjAyMiA4OjUzIFBNDQo+IFRvOiBMaXUwMSwgVG9uZyAoRXN0aGVyKSA8VG9u
Zy5MaXUwMUBhbWQuY29tPjsgDQo+IGFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnDQo+IENj
OiBRdWFuLCBFdmFuIDxFdmFuLlF1YW5AYW1kLmNvbT47IENoZW4sIEhvcmFjZSANCj4gPEhvcmFj
ZS5DaGVuQGFtZC5jb20+OyBUdWlrb3YsIEx1YmVuIDxMdWJlbi5UdWlrb3ZAYW1kLmNvbT47IERl
dWNoZXIsIA0KPiBBbGV4YW5kZXIgPEFsZXhhbmRlci5EZXVjaGVyQGFtZC5jb20+OyBYaWFvLCBK
YWNrIDxKYWNrLlhpYW9AYW1kLmNvbT47IA0KPiBaaGFuZywgSGF3a2luZyA8SGF3a2luZy5aaGFu
Z0BhbWQuY29tPjsgTGl1LCBNb25rIDxNb25rLkxpdUBhbWQuY29tPjsgDQo+IFh1LCBGZWlmZWkg
PEZlaWZlaS5YdUBhbWQuY29tPjsgV2FuZywgWWFuZyhLZXZpbikgDQo+IDxLZXZpbllhbmcuV2Fu
Z0BhbWQuY29tPjsgQ2hhbmcsIEhhaUp1biA8SGFpSnVuLkNoYW5nQGFtZC5jb20+OyANCj4gU29o
YWlsLCBSYXNoaWQgPFJhc2hpZC5Tb2hhaWxAYW1kLmNvbT4NCj4gU3ViamVjdDogUmU6IFtQQVRD
SF0gZHJtL2FtZGdwdTogYWRkIHZyYW0gcmVzZXJ2YXRpb24gbG9naWMgYmFzZWQgb24gDQo+IHZy
YW1fdXNhZ2VieWZpcm13YXJlX3YyXzINCj4NCj4gSGkgRXN0aGVyDQo+DQo+IHdlbGwgdGhlcmUg
YXJlIGEgY291cGxlIG9mIHRoaW5ncyB3aGljaCB5b3UgbmVlZCB0byBhZGRyZXNzIGJlZm9yZSBn
ZXR0aW5nIHRoaXMgbWVyZ2VkLg0KPg0KPiBGaXJzdCBvZiBhbGwgdGhlIHBhdGNoIHlvdSBzZW5k
IG91dCB1c2VzIGRvcyBsaW5lIGVuZGluZ3MgaW5zdGVhZCBvZiB0aGUgdW5peCBsaW5lIGVuZGlu
Z3MuIE5vdCBzdXJlIGhvdyB5b3UgbWFuYWdlIHRvIGRvIHRoYXQsIGJ1dCBwbGVhc2UgdXNlICJn
aXQgc2VuZC1lbWFpbCIgaW5zdGVhZCB0byBhdm9pZCB0aGF0Lg0KPg0KPiBUaGVuIHlvdXIgcGF0
Y2ggY29udGFpbnMgYSBidW5jaCBvZiB3aGl0ZSBzcGFjZXMgYWZ0ZXIgY29kZSB3YXJuaW5nIHdo
aWNoIGNoZWNrcGF0Y2gucGwgY29tcGxhaW5zIGFib3V0IChhZnRlciBpZ25vcmluZyB0aGUgZG9z
IGxpbmUgZW5kaW5nIHdhcm5pbmdzKS4gU28gdGhpcyB3YXMgY2xlYXJseSBub3QgcHJvcGVybHkg
Y2hlY2tlZCB3aXRoIGNoZWNrcGF0Y2gucGwuDQo+DQo+IFRoZW4gdGhlIGtlcm5lbCBjb2Rpbmcg
c3R5bGUgdXN1YWxseSBzYXlzIHRoYXQgd2l0aCBhIG11bHRpIGxpbmUgImlmICgiDQo+IHRoZSBu
ZXh0IGxpbmVzIHNob3VsZCBzdGFydCBhZnRlciB0aGUgb3BlbmluZyAiKCIuIEluIG90aGVyIHdv
cmRzIGludGVuZCB3aXRoIHRhYnMgYW5kIHRoZSB3aGl0ZXNwYWNlcy4gSSdtIG5vdCBzdXJlIHdo
YXQgZWRpdG9yIHlvdSBhcmUgdXNpbmcsIGJ1dCB0aGVyZSBhcmUgc3RhbmRhcmQgc2V0dGluZ3Mg
YXZhaWxhYmxlIGZvciBiYXNpY2FsbHkgYWxsIGxhcmdlIGVkaXRvcnMgd2hpY2ggZG9lcyBzdHVm
ZiBsaWtlIHRoYXQgYXV0b21hdGljYWxseS4gUGxlYXNlIHRyeSB0byB1c2Ugb25lIG9mIHRob3Nl
Lg0KPg0KPiBSZWdhcmRpbmcgdGhlIGNhc2luZyBvZiB0aGUgdmFsdWVzIGl0J3MgYSBnb29kIGFy
Z3VtZW50IHRoYXQgeW91IG9ubHkgbW92ZSB0aGUgY29kZSBhcm91bmQsIGJ1dCB0aGUgZ2VuZXJh
bCBjb2Rpbmcgc3R5bGUgaXMganVzdCBleHRyZW1lbHkgcXVlc3Rpb25hYmxlLiBUaGUgZGVmaW5l
cyBzaG91bGQgdXNlIHRoZSBsb3dlc3QgbmVjZXNzYXJ5IGludGVnZXIgdHlwZS4NCj4gQnV0IGl0
J3MgY29ycmVjdCB0aGF0IHRoaXMgc2hvdWxkIHByb2JhYmx5IGJlIHBhcnQgb2YgYW5vdGhlciBw
YXRjaC4NCj4NCj4gUmVnYXJkcywNCj4gQ2hyaXN0aWFuLg0KPg0KPiBBbSAwOC4xMS4yMiB1bSAx
MTo0MCBzY2hyaWViIExpdTAxLCBUb25nIChFc3RoZXIpOg0KPj4gW0FNRCBPZmZpY2lhbCBVc2Ug
T25seSAtIEdlbmVyYWxdDQo+Pg0KPj4gSGkgQEtvZW5pZywgQ2hyaXN0aWFuLA0KPj4NCj4+IFJl
ZmluZWQgYXMgeW91ciBjb21tZW50LiBCeSB0aGUgd2F5Og0KPj4gaWYgKChzdGFydF9hZGRyICYg
QVRPTV9WUkFNX09QRVJBVElPTl9GTEFHU19NQVNLKSA9PQ0KPj4gKyAgICAgICAgICAgICAodWlu
dDMyX3QpKEFUT01fVlJBTV9CTE9DS19TUklPVl9NU0dfU0hBUkVfUkVTRVJWQVRJT04gPDwNCj4+
ICsgICAgICAgICAgICAgQVRPTV9WUkFNX09QRVJBVElPTl9GTEFHU19TSElGVCkpDQo+Pg0KPj4g
VGhpcyBwYXJ0IGlzIHRoZSBvbGQgY29kZSwgSSBqdXN0IG1vdmUgaXQgb3V0IGZyb20gdGhlIG9y
aWdpbmFsIGZ1bmN0aW9uIHRvIHNocmluayB0aGUgZnVuY3Rpb24gc2l6ZSBhcyB5b3VyIGNvbW1l
bnQgYmVmb3JlLiBBbmQgbm93IEkganVzdCByZW1vdmVkIHRoZSBmaXJzdCB1aW50MzJfdCBzaW5j
ZSBpZiByZW1vdmUgYm90aCB3aWxsIGNhdXNlICJ3YXJuaW5nOiBiaXR3aXNlIGNvbXBhcmlzb24g
YWx3YXlzIGV2YWx1YXRlcyB0byBmYWxzZSIuIEFuZCBJIHRlc3RlZCB0aGUgY29kZSBhZnRlciBy
ZW1vdmluZyB0aGUgZmlyc3QgdWludDMyX3QsIHRoZSBjb2RlIHdvcmtzIHdlbGwuIFBsZWFzZSBy
ZXZpZXcgdGhlIG5ldyBwYXRjaCwgdGhhbmtzLg0KPj4NCj4+IEtpbmQgcmVnYXJkcywNCj4+IEVz
dGhlcg0KPj4NCj4+IC0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQo+PiBGcm9tOiBUb25nIExp
dTAxIDxUb25nLkxpdTAxQGFtZC5jb20+DQo+PiBTZW50OiAyMDIy5bm0MTHmnIg45pel5pif5pyf
5LqMIOS4i+WNiDY6MzMNCj4+IFRvOiBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZw0KPj4g
Q2M6IFF1YW4sIEV2YW4gPEV2YW4uUXVhbkBhbWQuY29tPjsgQ2hlbiwgSG9yYWNlIA0KPj4gPEhv
cmFjZS5DaGVuQGFtZC5jb20+OyBUdWlrb3YsIEx1YmVuIDxMdWJlbi5UdWlrb3ZAYW1kLmNvbT47
IEtvZW5pZywgDQo+PiBDaHJpc3RpYW4gPENocmlzdGlhbi5Lb2VuaWdAYW1kLmNvbT47IERldWNo
ZXIsIEFsZXhhbmRlciANCj4+IDxBbGV4YW5kZXIuRGV1Y2hlckBhbWQuY29tPjsgWGlhbywgSmFj
ayA8SmFjay5YaWFvQGFtZC5jb20+OyBaaGFuZywgDQo+PiBIYXdraW5nIDxIYXdraW5nLlpoYW5n
QGFtZC5jb20+OyBMaXUsIE1vbmsgPE1vbmsuTGl1QGFtZC5jb20+OyBYdSwgDQo+PiBGZWlmZWkg
PEZlaWZlaS5YdUBhbWQuY29tPjsgV2FuZywgWWFuZyhLZXZpbikgDQo+PiA8S2V2aW5ZYW5nLldh
bmdAYW1kLmNvbT47IExpdTAxLCBUb25nIChFc3RoZXIpIDxUb25nLkxpdTAxQGFtZC5jb20+DQo+
PiBTdWJqZWN0OiBbUEFUQ0hdIGRybS9hbWRncHU6IGFkZCB2cmFtIHJlc2VydmF0aW9uIGxvZ2lj
IGJhc2VkIG9uDQo+PiB2cmFtX3VzYWdlYnlmaXJtd2FyZV92Ml8yDQo+Pg0KPj4gTW92ZSBUTVIg
cmVnaW9uIGZyb20gdG9wIG9mIEZCIHRvIDJNQiBmb3IgRkZCTSwgc28gd2UgbmVlZCB0byByZXNl
cnZlIA0KPj4gVE1SIHJlZ2lvbiBmaXJzdGx5IHRvIG1ha2Ugc3VyZSBUTVIgY2FuIGJlIGFsbG9j
YXRlZCBhdCAyTUINCj4+DQo+PiBTaWduZWQtb2ZmLWJ5OiBUb25nIExpdTAxIDxUb25nLkxpdTAx
QGFtZC5jb20+DQo+PiAtLS0NCj4+ICAgIC4uLi9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2F0
b21maXJtd2FyZS5jICB8IDEwNiArKysrKysrKysrKysrKy0tLS0NCj4+ICAgIGRyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0uYyAgICAgICB8ICA1MCArKysrKysrKysNCj4+ICAg
IGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0uaCAgICAgICB8ICAgNSArDQo+
PiAgICBkcml2ZXJzL2dwdS9kcm0vYW1kL2luY2x1ZGUvYXRvbWZpcm13YXJlLmggICAgfCAgNjIg
KysrKysrKystLQ0KPj4gICAgNCBmaWxlcyBjaGFuZ2VkLCAxOTIgaW5zZXJ0aW9ucygrKSwgMzEg
ZGVsZXRpb25zKC0pDQo+Pg0KPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2FtZGdwdV9hdG9tZmlybXdhcmUuYw0KPj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9hbWRncHVfYXRvbWZpcm13YXJlLmMNCj4+IGluZGV4IGI4MWI3N2E5ZWZhNi4uMDMyZGMyNjc4
ZDdjIDEwMDY0NA0KPj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2F0
b21maXJtd2FyZS5jDQo+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
YXRvbWZpcm13YXJlLmMNCj4+IEBAIC0xMDEsMzkgKzEwMSw5OSBAQCB2b2lkIGFtZGdwdV9hdG9t
ZmlybXdhcmVfc2NyYXRjaF9yZWdzX2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpDQo+
PiAgICAgICAgfQ0KPj4gICAgfQ0KPj4NCj4+ICtzdGF0aWMgaW50IGFtZGdwdV9hdG9tZmlybXdh
cmVfYWxsb2NhdGVfZmJfdjJfMShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4+ICsgICAg
ICAgICAgICAgc3RydWN0IHZyYW1fdXNhZ2VieWZpcm13YXJlX3YyXzEgKmZpcm13YXJlX3VzYWdl
X3YyXzEsDQo+PiArICAgICAgICAgICAgIGludCAqdXNhZ2VfYnl0ZXMpDQo+PiArew0KPj4gKyAg
ICAgdWludDMyX3Qgc3RhcnRfYWRkciwgZndfc2l6ZSwgZHJ2X3NpemU7DQo+PiArDQo+PiArICAg
ICBzdGFydF9hZGRyID0gbGUzMl90b19jcHUoZmlybXdhcmVfdXNhZ2VfdjJfMS0+c3RhcnRfYWRk
cmVzc19pbl9rYik7DQo+PiArICAgICBmd19zaXplID0gbGUxNl90b19jcHUoZmlybXdhcmVfdXNh
Z2VfdjJfMS0+dXNlZF9ieV9maXJtd2FyZV9pbl9rYik7DQo+PiArICAgICBkcnZfc2l6ZSA9IA0K
Pj4gKyBsZTE2X3RvX2NwdShmaXJtd2FyZV91c2FnZV92Ml8xLT51c2VkX2J5X2RyaXZlcl9pbl9r
Yik7DQo+PiArDQo+PiArICAgICBEUk1fREVCVUcoImF0b20gZmlybXdhcmUgdjJfMSByZXF1ZXN0
ZWQgJTA4eCAlZGtiIGZ3ICVka2IgZHJ2XG4iLA0KPj4gKyAgICAgICAgICAgICBzdGFydF9hZGRy
LA0KPj4gKyAgICAgICAgICAgICBmd19zaXplLA0KPj4gKyAgICAgICAgICAgICBkcnZfc2l6ZSk7
DQo+PiArDQo+PiArICAgICBpZiAoKHN0YXJ0X2FkZHIgJiBBVE9NX1ZSQU1fT1BFUkFUSU9OX0ZM
QUdTX01BU0spID09DQo+PiArICAgICAgICAgICAgICh1aW50MzJfdCkoQVRPTV9WUkFNX0JMT0NL
X1NSSU9WX01TR19TSEFSRV9SRVNFUlZBVElPTiA8PA0KPj4gKyAgICAgICAgICAgICBBVE9NX1ZS
QU1fT1BFUkFUSU9OX0ZMQUdTX1NISUZUKSkgew0KPj4gKyAgICAgICAgICAgICAvKiBGaXJtd2Fy
ZSByZXF1ZXN0IFZSQU0gcmVzZXJ2YXRpb24gZm9yIFNSLUlPViAqLw0KPj4gKyAgICAgICAgICAg
ICBhZGV2LT5tbWFuLmZ3X3ZyYW1fdXNhZ2Vfc3RhcnRfb2Zmc2V0ID0gKHN0YXJ0X2FkZHIgJg0K
Pj4gKyAgICAgICAgICAgICAgICAgICAgICh+QVRPTV9WUkFNX09QRVJBVElPTl9GTEFHU19NQVNL
KSkgPDwgMTA7DQo+PiArICAgICAgICAgICAgIGFkZXYtPm1tYW4uZndfdnJhbV91c2FnZV9zaXpl
ID0gZndfc2l6ZSA8PCAxMDsNCj4+ICsgICAgICAgICAgICAgLyogVXNlIHRoZSBkZWZhdWx0IHNj
cmF0Y2ggc2l6ZSAqLw0KPj4gKyAgICAgICAgICAgICAqdXNhZ2VfYnl0ZXMgPSAwOw0KPj4gKyAg
ICAgfSBlbHNlIHsNCj4+ICsgICAgICAgICAgICAgKnVzYWdlX2J5dGVzID0gZHJ2X3NpemUgPDwg
MTA7DQo+PiArICAgICB9DQo+PiArICAgICByZXR1cm4gMDsNCj4+ICt9DQo+PiArDQo+PiArc3Rh
dGljIGludCBhbWRncHVfYXRvbWZpcm13YXJlX2FsbG9jYXRlX2ZiX3YyXzIoc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYsDQo+PiArICAgICAgICAgICAgIHN0cnVjdCB2cmFtX3VzYWdlYnlmaXJt
d2FyZV92Ml8yICpmaXJtd2FyZV91c2FnZV92Ml8yLA0KPj4gKyAgICAgICAgICAgICBpbnQgKnVz
YWdlX2J5dGVzKQ0KPj4gK3sNCj4+ICsgICAgIHVpbnQzMl90IGZ3X3N0YXJ0X2FkZHIsIGZ3X3Np
emUsIGRydl9zdGFydF9hZGRyLCBkcnZfc2l6ZTsNCj4+ICsNCj4+ICsgICAgIGZ3X3N0YXJ0X2Fk
ZHIgPSBsZTMyX3RvX2NwdShmaXJtd2FyZV91c2FnZV92Ml8yLT5md19yZWdpb25fc3RhcnRfYWRk
cmVzc19pbl9rYik7DQo+PiArICAgICBmd19zaXplID0gDQo+PiArIGxlMTZfdG9fY3B1KGZpcm13
YXJlX3VzYWdlX3YyXzItPnVzZWRfYnlfZmlybXdhcmVfaW5fa2IpOw0KPj4gKw0KPj4gKyAgICAg
ZHJ2X3N0YXJ0X2FkZHIgPSBsZTMyX3RvX2NwdShmaXJtd2FyZV91c2FnZV92Ml8yLT5kcml2ZXJf
cmVnaW9uMF9zdGFydF9hZGRyZXNzX2luX2tiKTsNCj4+ICsgICAgIGRydl9zaXplID0NCj4+ICts
ZTMyX3RvX2NwdShmaXJtd2FyZV91c2FnZV92Ml8yLT51c2VkX2J5X2RyaXZlcl9yZWdpb24wX2lu
X2tiKTsNCj4+ICsNCj4+ICsgICAgIERSTV9ERUJVRygiYXRvbSByZXF1ZXN0ZWQgZncgc3RhcnQg
YXQgJTA4eCAlZGtiIGFuZCBkcnYgc3RhcnQgYXQgJTA4eCAlZGtiXG4iLA0KPj4gKyAgICAgICAg
ICAgICBmd19zdGFydF9hZGRyLA0KPj4gKyAgICAgICAgICAgICBmd19zaXplLA0KPj4gKyAgICAg
ICAgICAgICBkcnZfc3RhcnRfYWRkciwNCj4+ICsgICAgICAgICAgICAgZHJ2X3NpemUpOw0KPj4g
Kw0KPj4gKyAgICAgaWYgKChmd19zdGFydF9hZGRyICYgKEFUT01fVlJBTV9CTE9DS19ORUVEU19O
T19SRVNFUlZBVElPTiA8PCAzMCkpID09IDApIHsNCj4+ICsgICAgICAgICAgICAgLyogRmlybXdh
cmUgcmVxdWVzdCBWUkFNIHJlc2VydmF0aW9uIGZvciBTUi1JT1YgKi8NCj4+ICsgICAgICAgICAg
ICAgYWRldi0+bW1hbi5md192cmFtX3VzYWdlX3N0YXJ0X29mZnNldCA9IChmd19zdGFydF9hZGRy
ICYNCj4+ICsgICAgICAgICAgICAgICAgICAgICAofkFUT01fVlJBTV9PUEVSQVRJT05fRkxBR1Nf
TUFTSykpIDw8IDEwOw0KPj4gKyAgICAgICAgICAgICBhZGV2LT5tbWFuLmZ3X3ZyYW1fdXNhZ2Vf
c2l6ZSA9IGZ3X3NpemUgPDwgMTA7DQo+PiArICAgICB9DQo+PiArDQo+PiArICAgICBpZiAoKGRy
dl9zdGFydF9hZGRyICYgKEFUT01fVlJBTV9CTE9DS19ORUVEU19OT19SRVNFUlZBVElPTiA8PCAz
MCkpID09IDApIHsNCj4+ICsgICAgICAgICAgICAgLyogZHJpdmVyIHJlcXVlc3QgVlJBTSByZXNl
cnZhdGlvbiBmb3IgU1ItSU9WICovDQo+PiArICAgICAgICAgICAgIGFkZXYtPm1tYW4uZHJ2X3Zy
YW1fdXNhZ2Vfc3RhcnRfb2Zmc2V0ID0gKGRydl9zdGFydF9hZGRyICYNCj4+ICsgICAgICAgICAg
ICAgICAgICAgICAofkFUT01fVlJBTV9PUEVSQVRJT05fRkxBR1NfTUFTSykpIDw8IDEwOw0KPj4g
KyAgICAgICAgICAgICBhZGV2LT5tbWFuLmRydl92cmFtX3VzYWdlX3NpemUgPSBkcnZfc2l6ZSA8
PCAxMDsNCj4+ICsgICAgIH0NCj4+ICsNCj4+ICsgICAgICp1c2FnZV9ieXRlcyA9IDA7DQo+PiAr
ICAgICByZXR1cm4gMDsNCj4+ICt9DQo+PiArDQo+PiAgICBpbnQgYW1kZ3B1X2F0b21maXJtd2Fy
ZV9hbGxvY2F0ZV9mYl9zY3JhdGNoKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KSAgew0KPj4g
ICAgICAgIHN0cnVjdCBhdG9tX2NvbnRleHQgKmN0eCA9IGFkZXYtPm1vZGVfaW5mby5hdG9tX2Nv
bnRleHQ7DQo+PiAgICAgICAgaW50IGluZGV4ID0gZ2V0X2luZGV4X2ludG9fbWFzdGVyX3RhYmxl
KGF0b21fbWFzdGVyX2xpc3Rfb2ZfZGF0YV90YWJsZXNfdjJfMSwNCj4+ICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdnJhbV91c2FnZWJ5ZmlybXdhcmUpOw0K
Pj4gLSAgICAgc3RydWN0IHZyYW1fdXNhZ2VieWZpcm13YXJlX3YyXzEgKmZpcm13YXJlX3VzYWdl
Ow0KPj4gLSAgICAgdWludDMyX3Qgc3RhcnRfYWRkciwgc2l6ZTsNCj4+ICsgICAgIHN0cnVjdCB2
cmFtX3VzYWdlYnlmaXJtd2FyZV92Ml8xICpmaXJtd2FyZV91c2FnZV92Ml8xOw0KPj4gKyAgICAg
c3RydWN0IHZyYW1fdXNhZ2VieWZpcm13YXJlX3YyXzIgKmZpcm13YXJlX3VzYWdlX3YyXzI7DQo+
PiAgICAgICAgdWludDE2X3QgZGF0YV9vZmZzZXQ7DQo+PiArICAgICB1aW50OF90IGZyZXYsIGNy
ZXY7DQo+PiAgICAgICAgaW50IHVzYWdlX2J5dGVzID0gMDsNCj4+DQo+PiAtICAgICBpZiAoYW1k
Z3B1X2F0b21fcGFyc2VfZGF0YV9oZWFkZXIoY3R4LCBpbmRleCwgTlVMTCwgTlVMTCwgTlVMTCwg
JmRhdGFfb2Zmc2V0KSkgew0KPj4gLSAgICAgICAgICAgICBmaXJtd2FyZV91c2FnZSA9IChzdHJ1
Y3QgdnJhbV91c2FnZWJ5ZmlybXdhcmVfdjJfMSAqKShjdHgtPmJpb3MgKyBkYXRhX29mZnNldCk7
DQo+PiAtICAgICAgICAgICAgIERSTV9ERUJVRygiYXRvbSBmaXJtd2FyZSByZXF1ZXN0ZWQgJTA4
eCAlZGtiIGZ3ICVka2IgZHJ2XG4iLA0KPj4gLSAgICAgICAgICAgICAgICAgICAgICAgbGUzMl90
b19jcHUoZmlybXdhcmVfdXNhZ2UtPnN0YXJ0X2FkZHJlc3NfaW5fa2IpLA0KPj4gLSAgICAgICAg
ICAgICAgICAgICAgICAgbGUxNl90b19jcHUoZmlybXdhcmVfdXNhZ2UtPnVzZWRfYnlfZmlybXdh
cmVfaW5fa2IpLA0KPj4gLSAgICAgICAgICAgICAgICAgICAgICAgbGUxNl90b19jcHUoZmlybXdh
cmVfdXNhZ2UtPnVzZWRfYnlfZHJpdmVyX2luX2tiKSk7DQo+PiAtDQo+PiAtICAgICAgICAgICAg
IHN0YXJ0X2FkZHIgPSBsZTMyX3RvX2NwdShmaXJtd2FyZV91c2FnZS0+c3RhcnRfYWRkcmVzc19p
bl9rYik7DQo+PiAtICAgICAgICAgICAgIHNpemUgPSBsZTE2X3RvX2NwdShmaXJtd2FyZV91c2Fn
ZS0+dXNlZF9ieV9maXJtd2FyZV9pbl9rYik7DQo+PiAtDQo+PiAtICAgICAgICAgICAgIGlmICgo
dWludDMyX3QpKHN0YXJ0X2FkZHIgJiBBVE9NX1ZSQU1fT1BFUkFUSU9OX0ZMQUdTX01BU0spID09
DQo+PiAtICAgICAgICAgICAgICAgICAgICAgKHVpbnQzMl90KShBVE9NX1ZSQU1fQkxPQ0tfU1JJ
T1ZfTVNHX1NIQVJFX1JFU0VSVkFUSU9OIDw8DQo+PiAtICAgICAgICAgICAgICAgICAgICAgQVRP
TV9WUkFNX09QRVJBVElPTl9GTEFHU19TSElGVCkpIHsNCj4+IC0gICAgICAgICAgICAgICAgICAg
ICAvKiBGaXJtd2FyZSByZXF1ZXN0IFZSQU0gcmVzZXJ2YXRpb24gZm9yIFNSLUlPViAqLw0KPj4g
LSAgICAgICAgICAgICAgICAgICAgIGFkZXYtPm1tYW4uZndfdnJhbV91c2FnZV9zdGFydF9vZmZz
ZXQgPSAoc3RhcnRfYWRkciAmDQo+PiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAofkFU
T01fVlJBTV9PUEVSQVRJT05fRkxBR1NfTUFTSykpIDw8IDEwOw0KPj4gLSAgICAgICAgICAgICAg
ICAgICAgIGFkZXYtPm1tYW4uZndfdnJhbV91c2FnZV9zaXplID0gc2l6ZSA8PCAxMDsNCj4+IC0g
ICAgICAgICAgICAgICAgICAgICAvKiBVc2UgdGhlIGRlZmF1bHQgc2NyYXRjaCBzaXplICovDQo+
PiAtICAgICAgICAgICAgICAgICAgICAgdXNhZ2VfYnl0ZXMgPSAwOw0KPj4gLSAgICAgICAgICAg
ICB9IGVsc2Ugew0KPj4gLSAgICAgICAgICAgICAgICAgICAgIHVzYWdlX2J5dGVzID0gbGUxNl90
b19jcHUoZmlybXdhcmVfdXNhZ2UtPnVzZWRfYnlfZHJpdmVyX2luX2tiKSA8PCAxMDsNCj4+ICsg
ICAgIGlmIChhbWRncHVfYXRvbV9wYXJzZV9kYXRhX2hlYWRlcihjdHgsIGluZGV4LCBOVUxMLCAm
ZnJldiwgJmNyZXYsICZkYXRhX29mZnNldCkpIHsNCj4+ICsgICAgICAgICAgICAgaWYgKGZyZXYg
PT0gMiAmJiBjcmV2ID09IDEpIHsNCj4+ICsgICAgICAgICAgICAgICAgICAgICBmaXJtd2FyZV91
c2FnZV92Ml8xID0NCj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzdHJ1Y3QgdnJh
bV91c2FnZWJ5ZmlybXdhcmVfdjJfMSAqKShjdHgtPmJpb3MgKyBkYXRhX29mZnNldCk7DQo+PiAr
ICAgICAgICAgICAgICAgICAgICAgYW1kZ3B1X2F0b21maXJtd2FyZV9hbGxvY2F0ZV9mYl92Ml8x
KGFkZXYsDQo+PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcm13YXJl
X3VzYWdlX3YyXzEsDQo+PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZ1
c2FnZV9ieXRlcyk7DQo+PiArICAgICAgICAgICAgIH0gZWxzZSBpZiAoZnJldiA+PSAyICYmIGNy
ZXYgPj0gMikgew0KPj4gKyAgICAgICAgICAgICAgICAgICAgIGZpcm13YXJlX3VzYWdlX3YyXzIg
PQ0KPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0cnVjdCB2cmFtX3VzYWdlYnlm
aXJtd2FyZV92Ml8yICopKGN0eC0+YmlvcyArIGRhdGFfb2Zmc2V0KTsNCj4+ICsgICAgICAgICAg
ICAgICAgICAgICBhbWRncHVfYXRvbWZpcm13YXJlX2FsbG9jYXRlX2ZiX3YyXzIoYWRldiwNCj4+
ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlybXdhcmVfdXNhZ2VfdjJf
MiwNCj4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJnVzYWdlX2J5dGVz
KTsNCj4+ICAgICAgICAgICAgICAgIH0NCj4+ICAgICAgICB9DQo+PiArDQo+PiAgICAgICAgY3R4
LT5zY3JhdGNoX3NpemVfYnl0ZXMgPSAwOw0KPj4gICAgICAgIGlmICh1c2FnZV9ieXRlcyA9PSAw
KQ0KPj4gICAgICAgICAgICAgICAgdXNhZ2VfYnl0ZXMgPSAyMCAqIDEwMjQ7IGRpZmYgLS1naXQg
DQo+PiBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0uYw0KPj4gYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdHRtLmMNCj4+IGluZGV4IDU4NTQ2MGFiOGRm
ZC4uNGE3M2NiMzE0MDg2IDEwMDY0NA0KPj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X3R0bS5jDQo+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRn
cHVfdHRtLmMNCj4+IEBAIC0xNTc4LDYgKzE1NzgsMjIgQEAgc3RhdGljIHZvaWQgYW1kZ3B1X3R0
bV9md19yZXNlcnZlX3ZyYW1fZmluaShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCj4+ICAg
ICAgICAgICAgICAgIE5VTEwsICZhZGV2LT5tbWFuLmZ3X3ZyYW1fdXNhZ2VfdmEpOw0KPj4gICAg
fQ0KPj4NCj4+ICsvKg0KPj4gKyAqIERyaXZlciBSZXNlcnZhdGlvbiBmdW5jdGlvbnMNCj4+ICsg
Ki8NCj4+ICsvKioNCj4+ICsgKiBhbWRncHVfdHRtX2Rydl9yZXNlcnZlX3ZyYW1fZmluaSAtIGZy
ZWUgZHJ2IHJlc2VydmVkIHZyYW0NCj4+ICsgKg0KPj4gKyAqIEBhZGV2OiBhbWRncHVfZGV2aWNl
IHBvaW50ZXINCj4+ICsgKg0KPj4gKyAqIGZyZWUgZHJ2IHJlc2VydmVkIHZyYW0gaWYgaXQgaGFz
IGJlZW4gcmVzZXJ2ZWQuDQo+PiArICovDQo+PiArc3RhdGljIHZvaWQgYW1kZ3B1X3R0bV9kcnZf
cmVzZXJ2ZV92cmFtX2Zpbmkoc3RydWN0IGFtZGdwdV9kZXZpY2UNCj4+ICsqYWRldikgew0KPj4g
KyAgICAgYW1kZ3B1X2JvX2ZyZWVfa2VybmVsKCZhZGV2LT5tbWFuLmRydl92cmFtX3VzYWdlX3Jl
c2VydmVkX2JvLA0KPj4gKyAgICAgICAgICAgICBOVUxMLCBOVUxMKTsNCj4+ICt9DQo+PiArDQo+
PiAgICAvKioNCj4+ICAgICAqIGFtZGdwdV90dG1fZndfcmVzZXJ2ZV92cmFtX2luaXQgLSBjcmVh
dGUgYm8gdnJhbSByZXNlcnZhdGlvbiBmcm9tIGZ3DQo+PiAgICAgKg0KPj4gQEAgLTE2MDQsNiAr
MTYyMCwzMSBAQCBzdGF0aWMgaW50IGFtZGdwdV90dG1fZndfcmVzZXJ2ZV92cmFtX2luaXQoc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpDQo+PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICZhZGV2LT5tbWFuLmZ3X3ZyYW1fdXNhZ2VfdmEpOw0KPj4gICAgfQ0KPj4N
Cj4+ICsvKioNCj4+ICsgKiBhbWRncHVfdHRtX2Rydl9yZXNlcnZlX3ZyYW1faW5pdCAtIGNyZWF0
ZSBibyB2cmFtIHJlc2VydmF0aW9uIA0KPj4gK2Zyb20gZHJpdmVyDQo+PiArICoNCj4+ICsgKiBA
YWRldjogYW1kZ3B1X2RldmljZSBwb2ludGVyDQo+PiArICoNCj4+ICsgKiBjcmVhdGUgYm8gdnJh
bSByZXNlcnZhdGlvbiBmcm9tIGRydi4NCj4+ICsgKi8NCj4+ICtzdGF0aWMgaW50IGFtZGdwdV90
dG1fZHJ2X3Jlc2VydmVfdnJhbV9pbml0KHN0cnVjdCBhbWRncHVfZGV2aWNlDQo+PiArKmFkZXYp
IHsNCj4+ICsgICAgIHVpbnQ2NF90IHZyYW1fc2l6ZSA9IGFkZXYtPmdtYy52aXNpYmxlX3ZyYW1f
c2l6ZTsNCj4+ICsNCj4+ICsgICAgIGFkZXYtPm1tYW4uZHJ2X3ZyYW1fdXNhZ2VfcmVzZXJ2ZWRf
Ym8gPSBOVUxMOw0KPj4gKw0KPj4gKyAgICAgaWYgKGFkZXYtPm1tYW4uZHJ2X3ZyYW1fdXNhZ2Vf
c2l6ZSA9PSAwIHx8DQo+PiArICAgICAgICAgYWRldi0+bW1hbi5kcnZfdnJhbV91c2FnZV9zaXpl
ID4gdnJhbV9zaXplKQ0KPj4gKyAgICAgICAgICAgICByZXR1cm4gMDsNCj4+ICsNCj4+ICsgICAg
IHJldHVybiBhbWRncHVfYm9fY3JlYXRlX2tlcm5lbF9hdChhZGV2LA0KPj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZXYtPm1tYW4uZHJ2X3ZyYW1fdXNhZ2Vfc3Rh
cnRfb2Zmc2V0LA0KPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFk
ZXYtPm1tYW4uZHJ2X3ZyYW1fdXNhZ2Vfc2l6ZSwNCj4+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBBTURHUFVfR0VNX0RPTUFJTl9WUkFNLA0KPj4gKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICZhZGV2LT5tbWFuLmRydl92cmFtX3VzYWdlX3Jl
c2VydmVkX2JvLA0KPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5V
TEwpOyB9DQo+PiArDQo+PiAgICAvKg0KPj4gICAgICogTWVtb3kgdHJhaW5pbmcgcmVzZXJ2YXRp
b24gZnVuY3Rpb25zDQo+PiAgICAgKi8NCj4+IEBAIC0xNzcxLDYgKzE4MTIsMTQgQEAgaW50IGFt
ZGdwdV90dG1faW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCj4+ICAgICAgICAgICAg
ICAgIHJldHVybiByOw0KPj4gICAgICAgIH0NCj4+DQo+PiArICAgICAvKg0KPj4gKyAgICAgICpU
aGUgcmVzZXJ2ZWQgdnJhbSBmb3IgZHJpdmVyIG11c3QgYmUgcGlubmVkIHRvIHRoZSBzcGVjaWZp
ZWQNCj4+ICsgICAgICAqcGxhY2Ugb24gdGhlIFZSQU0sIHNvIHJlc2VydmUgaXQgZWFybHkuDQo+
PiArICAgICAgKi8NCj4+ICsgICAgIHIgPSBhbWRncHVfdHRtX2Rydl9yZXNlcnZlX3ZyYW1faW5p
dChhZGV2KTsNCj4+ICsgICAgIGlmIChyKQ0KPj4gKyAgICAgICAgICAgICByZXR1cm4gcjsNCj4+
ICsNCj4+ICAgICAgICAvKg0KPj4gICAgICAgICAqIG9ubHkgTkFWSTEwIGFuZCBvbndhcmRzIEFT
SUMgc3VwcG9ydCBmb3IgSVAgZGlzY292ZXJ5Lg0KPj4gICAgICAgICAqIElmIElQIGRpc2NvdmVy
eSBlbmFibGVkLCBhIGJsb2NrIG9mIG1lbW9yeSBzaG91bGQgYmUgQEAgLTE4OTYsNiArMTk0NSw3
IEBAIHZvaWQgYW1kZ3B1X3R0bV9maW5pKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQ0KPj4g
ICAgICAgIGFtZGdwdV9ib19mcmVlX2tlcm5lbCgmYWRldi0+bW1hbi5zZG1hX2FjY2Vzc19ibywg
TlVMTCwNCj4+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZhZGV2LT5t
bWFuLnNkbWFfYWNjZXNzX3B0cik7DQo+PiAgICAgICAgYW1kZ3B1X3R0bV9md19yZXNlcnZlX3Zy
YW1fZmluaShhZGV2KTsNCj4+ICsgICAgIGFtZGdwdV90dG1fZHJ2X3Jlc2VydmVfdnJhbV9maW5p
KGFkZXYpOw0KPj4NCj4+ICAgICAgICBpZiAoZHJtX2Rldl9lbnRlcihhZGV2X3RvX2RybShhZGV2
KSwgJmlkeCkpIHsNCj4+DQo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X3R0bS5oDQo+PiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90
dG0uaA0KPj4gaW5kZXggOTEyMGFlODBlZjUyLi4zMzk4Mzg2NzViMTEgMTAwNjQ0DQo+PiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdHRtLmgNCj4+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0uaA0KPj4gQEAgLTkyLDYgKzkyLDExIEBA
IHN0cnVjdCBhbWRncHVfbW1hbiB7DQo+PiAgICAgICAgc3RydWN0IGFtZGdwdV9ibyAgICAgICAg
KmZ3X3ZyYW1fdXNhZ2VfcmVzZXJ2ZWRfYm87DQo+PiAgICAgICAgdm9pZCAgICAgICAgICAgICpm
d192cmFtX3VzYWdlX3ZhOw0KPj4NCj4+ICsgICAgIC8qIGRyaXZlciBWUkFNIHJlc2VydmF0aW9u
ICovDQo+PiArICAgICB1NjQgICAgICAgICAgICAgZHJ2X3ZyYW1fdXNhZ2Vfc3RhcnRfb2Zmc2V0
Ow0KPj4gKyAgICAgdTY0ICAgICAgICAgICAgIGRydl92cmFtX3VzYWdlX3NpemU7DQo+PiArICAg
ICBzdHJ1Y3QgYW1kZ3B1X2JvICAgICAgICAqZHJ2X3ZyYW1fdXNhZ2VfcmVzZXJ2ZWRfYm87DQo+
PiArDQo+PiAgICAgICAgLyogUEFHRV9TSVpFJ2QgQk8gZm9yIHByb2Nlc3MgbWVtb3J5IHIvdyBv
dmVyIFNETUEuICovDQo+PiAgICAgICAgc3RydWN0IGFtZGdwdV9ibyAgICAgICAgKnNkbWFfYWNj
ZXNzX2JvOw0KPj4gICAgICAgIHZvaWQgICAgICAgICAgICAgICAgICAgICpzZG1hX2FjY2Vzc19w
dHI7DQo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9pbmNsdWRlL2F0b21maXJt
d2FyZS5oDQo+PiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvaW5jbHVkZS9hdG9tZmlybXdhcmUuaA0K
Pj4gaW5kZXggZmY4NTVjYjIxZDNmLi5jMGY1NmFlNjUzZjAgMTAwNjQ0DQo+PiAtLS0gYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2luY2x1ZGUvYXRvbWZpcm13YXJlLmgNCj4+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvaW5jbHVkZS9hdG9tZmlybXdhcmUuaA0KPj4gQEAgLTcwNSwyMCArNzA1LDY2
IEBAIHN0cnVjdCBhdG9tX2dwaW9fcGluX2x1dF92Ml8xICB9Ow0KPj4NCj4+DQo+PiAtLyoNCj4+
IC0gICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKg0KPj4gLSAgICBEYXRhIFRhYmxlIHZyYW1fdXNhZ2VieWZp
cm13YXJlICBzdHJ1Y3R1cmUNCj4+IC0NCj4+ICoqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KPj4gKg0KPj4gKioqKioN
Cj4+ICsvKg0KPj4gKyAgVkJJT1MvUFJFLU9TIGFsd2F5cyByZXNlcnZlIGEgRkIgcmVnaW9uIGF0
IHRoZSB0b3Agb2YgZnJhbWUgYnVmZmVyLiBkcml2ZXIgc2hvdWxkIG5vdCB3cml0ZSBhY2Nlc3Mg
dGhhdCByZWdpb24uDQo+PiArICBkcml2ZXIgY2FuIGFsbG9jYXRlIHRoZWlyIG93biByZXNlcnZh
dGlvbiByZWdpb24gYXMgbG9uZyBhcyBpdCBkb2VzIG5vdCBvdmVybGFwIGZpcndtYXJlJ3MgcmVz
ZXJ2YXRpb24gcmVnaW9uLg0KPj4gKyAgaWYoIGF0b20gZGF0YSB0YWJsZSBmaXJtd2FyZUluZm9U
YWJsZSB2ZXJzaW9uIDwgMy4zKSB7IC8vKCBwcmUtTlYxWCApDQo+PiArICAgIGluIHRoaXMgY2Fz
ZSwgYXRvbSBkYXRhIHRhYmxlIHZyYW1fdXNhZ2VieWZpcm13YXJlVGFibGUgdmVyc2lvbiBhbHdh
eXMgPD0gMi4xDQo+PiArICAgIGlmKCBWQklPUy9VRUZJIEdPUCBpcyBwb3N0ZWQgKSB7DQo+PiAr
ICAgICAgVkJJT1MvVUVGSUdPUCB1cGRhdGUgdXNlZF9ieV9maXJtd2FyZV9pbl9rYiA9IHRvdGFs
IHJlc2VydmVkIHNpemUgYnkgVkJJT1MNCj4+ICsgICAgICB1cGRhdGUgc3RhcnRfYWRkcmVzc19p
bl9rYiA9IHRvdGFsX21lbV9zaXplX2luX2tiIC0gdXNlZF9ieV9maXJtd2FyZV9pbl9rYjsgICgg
dG90YWxfbWVtX3NpemVfaW5fa2IgPSByZWcoQ09ORklHX01FTVNJWkUpPDwxMCkNCj4+ICsgICAg
ICBkcml2ZXIgY2FuIGFsbG9jYXRlIGRyaXZlciByZXNlcnZhdGlvbiByZWdpb24gdW5kZXIgZmly
bXdhcmUgcmVzZXJ2YXRpb24sDQo+PiArICAgICAgdXNlZF9ieV9kcml2ZXJfaW5fa2IgPSBkcml2
ZXIgcmVzZXJ2YXRpb24gc2l6ZQ0KPj4gKyAgICAgIGRyaXZlciByZXNlcnZhdGlvbiBzdGFydCBh
ZGRyZXNzID0gIChzdGFydF9hZGRyZXNzX2luX2tiIC0gdXNlZF9ieV9kcml2ZXJfaW5fa2IpDQo+
PiArICAgIENvbW1lbnQxW2hjaGFuXTogVGhlcmUgaXMgb25seSBvbmUgcmVzZXJ2YXRpb24gYXQg
dGhlIGJlZ2lubmluZyBvZiB0aGUgRkIgcmVzZXJ2ZWQgYnkgSG9zdCBkcml2ZXIuDQo+PiArICAg
IEhvc3QgZHJpdmVyIHdvdWxkIG92ZXJ3cml0ZSB0aGUgdGFibGUgd2l0aCB0aGUgZm9sbG93aW5n
DQo+PiArICAgIHVzZWRfYnlfZmlybXdhcmVfaW5fa2IgPSB0b3RhbCByZXNlcnZlZCBzaXplIGZv
ciBwZi12ZiBpbmZvIGV4Y2hhbmdlIGFuZA0KPj4gKyAgICBzZXQgU1JJT1ZfTVNHX1NIQVJFX1JF
U0VSVkFUSU9OIG1hc2sgc3RhcnRfYWRkcmVzc19pbl9rYiA9IDANCj4+ICsgICAgfSBlbHNlIHsN
Cj4+ICsgICAgICB0aGVyZSBpcyBubyBWQklPUyByZXNlcnZhdGlvbiByZWdpb24NCj4+ICsgICAg
ICBkcml2ZXIgbXVzdCBhbGxvY2F0ZSBkcml2ZXIgcmVzZXJ2YXRpb24gcmVnaW9uIGF0IHRvcCBv
ZiBGQi4NCj4+ICsgICAgICBkcml2ZXIgc2V0IHVzZWRfYnlfZHJpdmVyX2luX2tiID0gZHJpdmVy
IHJlc2VydmF0aW9uIHNpemUNCj4+ICsgICAgICBkcml2ZXIgcmVzZXJ2YXRpb24gc3RhcnQgYWRk
cmVzcyA9ICAodG90YWxfbWVtX3NpemVfaW5fa2IgLSB1c2VkX2J5X2RyaXZlcl9pbl9rYikNCj4+
ICsgICAgICBzYW1lIGFzIENvbW1lbnQxDQo+PiArICAgIH0NCj4+ICsgIH0gZWxzZSB7IC8vKCBO
VjFYIGFuZCBhZnRlcikNCj4+ICsgICAgaWYoIFZCSU9TL1VFRkkgR09QIGlzIHBvc3RlZCApIHsN
Cj4+ICsgICAgICBWQklPUy9VRUZJR09QIHVwZGF0ZSB1c2VkX2J5X2Zpcm13YXJlX2luX2tiID0g
YXRvbV9maXJtd2FyZV9JbmZvX3YzXzMuZndfcmVzZXJ2ZWRfc2l6ZV9pbl9rYjsNCj4+ICsgICAg
ICB1cGRhdGUgc3RhcnRfYWRkcmVzc19pbl9rYiA9IHRvdGFsX21lbV9zaXplX2luX2tiIC0gdXNl
ZF9ieV9maXJtd2FyZV9pbl9rYjsgICggdG90YWxfbWVtX3NpemVfaW5fa2IgPSByZWcoQ09ORklH
X01FTVNJWkUpPDwxMCAgKQ0KPj4gKyAgICB9DQo+PiArICAgIGlmKCB2cmFtX3VzYWdlYnlmaXJt
d2FyZVRhYmxlIHZlcnNpb24gPD0gMi4xICkgew0KPj4gKyAgICAgIGRyaXZlciBjYW4gYWxsb2Nh
dGUgZHJpdmVyIHJlc2VydmF0aW9uIHJlZ2lvbiB1bmRlciBmaXJtd2FyZSByZXNlcnZhdGlvbiwN
Cj4+ICsgICAgICBkcml2ZXIgc2V0IHVzZWRfYnlfZHJpdmVyX2luX2tiID0gZHJpdmVyIHJlc2Vy
dmF0aW9uIHNpemUNCj4+ICsgICAgICBkcml2ZXIgcmVzZXJ2YXRpb24gc3RhcnQgYWRkcmVzcyA9
ICAoc3RhcnRfYWRkcmVzc19pbl9rYiAtIHVzZWRfYnlfZHJpdmVyX2luX2tiKQ0KPj4gKyAgICAg
IHNhbWUgYXMgQ29tbWVudDENCj4+ICsgICAgfSBlbHNlIHsNCj4+ICsgICAgICBkaXJ2ZXIgY2Fu
IGFsbG9jYXRlIGl0IHJlc2VydmF0aW9uIGFueSBwbGFjZSBhcyBsb25nIGFzIGl0IGRvZXMgb3Zl
cmxhcCBwcmUtT1MgRlcgcmVzZXJ2YXRpb24gYXJlYQ0KPj4gKyAgICAgIGRyaXZlciBzZXQgdXNl
ZF9ieV9kcml2ZXJfcmVnaW9uMF9pbl9rYiA9IGRyaXZlciByZXNlcnZhdGlvbiBzaXplDQo+PiAr
ICAgICAgZHJpdmVyIHNldCBkcml2ZXJfcmVnaW9uMF9zdGFydF9hZGRyZXNzX2luX2tiID0gIGRy
aXZlciByZXNlcnZhdGlvbiByZWdpb24gc3RhcnQgYWRkcmVzcw0KPj4gKyAgICAgIENvbW1lbnQy
W2hjaGFuXTogSG9zdCBkcml2ZXIgY2FuIHNldCB1c2VkX2J5X2Zpcm13YXJlX2luX2tiIGFuZCBz
dGFydF9hZGRyZXNzX2luX2tiIHRvIHplcm8NCj4+ICsgICAgICBhcyB0aGUgcmVzZXJ2YXRpb24g
Zm9yIFZGIGFzIGl0IGRvZXNu4oCZdCBleGlzdC4gIEFuZCBIb3N0IGRyaXZlciBzaG91bGQgYWxz
bw0KPj4gKyAgICAgIHVwZGF0ZSBhdG9tX2Zpcm13YXJlX0luZm8gdGFibGUgdG8gcmVtb3ZlIHRo
ZSBzYW1lIFZCSU9TIHJlc2VydmF0aW9uIGFzIHdlbGwuDQo+PiArICAgIH0NCj4+ICsgIH0NCj4+
ICAgICovDQo+Pg0KPj4gICAgc3RydWN0IHZyYW1fdXNhZ2VieWZpcm13YXJlX3YyXzENCj4+ICAg
IHsNCj4+IC0gIHN0cnVjdCAgYXRvbV9jb21tb25fdGFibGVfaGVhZGVyICB0YWJsZV9oZWFkZXI7
DQo+PiAtICB1aW50MzJfdCAgc3RhcnRfYWRkcmVzc19pbl9rYjsNCj4+IC0gIHVpbnQxNl90ICB1
c2VkX2J5X2Zpcm13YXJlX2luX2tiOw0KPj4gLSAgdWludDE2X3QgIHVzZWRfYnlfZHJpdmVyX2lu
X2tiOw0KPj4gKyAgICAgc3RydWN0ICBhdG9tX2NvbW1vbl90YWJsZV9oZWFkZXIgIHRhYmxlX2hl
YWRlcjsNCj4+ICsgICAgIHVpbnQzMl90ICBzdGFydF9hZGRyZXNzX2luX2tiOw0KPj4gKyAgICAg
dWludDE2X3QgIHVzZWRfYnlfZmlybXdhcmVfaW5fa2I7DQo+PiArICAgICB1aW50MTZfdCAgdXNl
ZF9ieV9kcml2ZXJfaW5fa2I7DQo+PiAgICB9Ow0KPj4NCj4+ICtzdHJ1Y3QgdnJhbV91c2FnZWJ5
ZmlybXdhcmVfdjJfMiB7DQo+PiArICAgICBzdHJ1Y3QgIGF0b21fY29tbW9uX3RhYmxlX2hlYWRl
ciAgdGFibGVfaGVhZGVyOw0KPj4gKyAgICAgdWludDMyX3QgIGZ3X3JlZ2lvbl9zdGFydF9hZGRy
ZXNzX2luX2tiOw0KPj4gKyAgICAgdWludDE2X3QgIHVzZWRfYnlfZmlybXdhcmVfaW5fa2I7DQo+
PiArICAgICB1aW50MTZfdCAgcmVzZXJ2ZWQ7DQo+PiArICAgICB1aW50MzJfdCAgZHJpdmVyX3Jl
Z2lvbjBfc3RhcnRfYWRkcmVzc19pbl9rYjsNCj4+ICsgICAgIHVpbnQzMl90ICB1c2VkX2J5X2Ry
aXZlcl9yZWdpb24wX2luX2tiOw0KPj4gKyAgICAgdWludDMyX3QgIHJlc2VydmVkMzJbN107DQo+
PiArfTsNCj4+DQo+PiAgICAvKg0KPj4NCj4+ICoqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KPj4gKg0KPj4gKioqKioN
Cj4+IC0tDQo+PiAyLjI1LjENCg==

--_002_DM4PR12MB61341AD581900D4861E8DA3190019DM4PR12MB6134namp_
Content-Type: application/octet-stream;
	name="0001-drm-amdgpu-add-vram-reservation-logic-based-on-vram_.patch"
Content-Description:  0001-drm-amdgpu-add-vram-reservation-logic-based-on-vram_.patch
Content-Disposition: attachment;
	filename="0001-drm-amdgpu-add-vram-reservation-logic-based-on-vram_.patch";
	size=12474; creation-date="Thu, 10 Nov 2022 10:13:44 GMT";
	modification-date="Thu, 10 Nov 2022 10:14:08 GMT"
Content-Transfer-Encoding: base64

RnJvbSAzMjA0NjAwOTEyMWFlYWIxMGVhNTM5YjM4MjUyY2E4NWMwMjExYzNjIE1vbiBTZXAgMTcg
MDA6MDA6MDAgMjAwMQpGcm9tOiBUb25nIExpdTAxIDxUb25nLkxpdTAxQGFtZC5jb20+CkRhdGU6
IFRodSwgMTAgTm92IDIwMjIgMTc6MzE6MzYgKzA4MDAKU3ViamVjdDogW1BBVENIXSBkcm0vYW1k
Z3B1OiBhZGQgdnJhbSByZXNlcnZhdGlvbiBsb2dpYyBiYXNlZCBvbgogdnJhbV91c2FnZWJ5Zmly
bXdhcmVfdjJfMgoKTW92ZSBUTVIgcmVnaW9uIGZyb20gdG9wIG9mIEZCIHRvIDJNQiBmb3IgRkZC
TSwgc28gd2UgbmVlZCB0bwpyZXNlcnZlIFRNUiByZWdpb24gZmlyc3RseSB0byBtYWtlIHN1cmUg
VE1SIGNhbiBiZSBhbGxvY2F0ZWQgYXQgMk1CCgpTaWduZWQtb2ZmLWJ5OiBUb25nIExpdTAxIDxU
b25nLkxpdTAxQGFtZC5jb20+Ci0tLQogLi4uL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYXRv
bWZpcm13YXJlLmMgIHwgMTA0ICsrKysrKysrKysrKysrLS0tLQogZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1X3R0bS5jICAgICAgIHwgIDUxICsrKysrKysrKwogZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3R0bS5oICAgICAgIHwgICA1ICsKIGRyaXZlcnMvZ3B1L2Ry
bS9hbWQvaW5jbHVkZS9hdG9tZmlybXdhcmUuaCAgICB8ICA2MyArKysrKysrKystLQogNCBmaWxl
cyBjaGFuZ2VkLCAxOTEgaW5zZXJ0aW9ucygrKSwgMzIgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2F0b21maXJtd2FyZS5jIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2F0b21maXJtd2FyZS5jCmluZGV4IGI4MWI3
N2E5ZWZhNi4uOWI5N2ZhMzlkNDdhIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfYXRvbWZpcm13YXJlLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X2F0b21maXJtd2FyZS5jCkBAIC0xMDEsMzkgKzEwMSw5NyBAQCB2b2lkIGFtZGdw
dV9hdG9tZmlybXdhcmVfc2NyYXRjaF9yZWdzX2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFk
ZXYpCiAJfQogfQogCitzdGF0aWMgaW50IGFtZGdwdV9hdG9tZmlybXdhcmVfYWxsb2NhdGVfZmJf
djJfMShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKKwlzdHJ1Y3QgdnJhbV91c2FnZWJ5Zmly
bXdhcmVfdjJfMSAqZndfdXNhZ2UsIGludCAqdXNhZ2VfYnl0ZXMpCit7CisJdWludDMyX3Qgc3Rh
cnRfYWRkciwgZndfc2l6ZSwgZHJ2X3NpemU7CisKKwlzdGFydF9hZGRyID0gbGUzMl90b19jcHUo
ZndfdXNhZ2UtPnN0YXJ0X2FkZHJlc3NfaW5fa2IpOworCWZ3X3NpemUgPSBsZTE2X3RvX2NwdShm
d191c2FnZS0+dXNlZF9ieV9maXJtd2FyZV9pbl9rYik7CisJZHJ2X3NpemUgPSBsZTE2X3RvX2Nw
dShmd191c2FnZS0+dXNlZF9ieV9kcml2ZXJfaW5fa2IpOworCisJRFJNX0RFQlVHKCJhdG9tIGZp
cm13YXJlIHYyXzEgcmVxdWVzdGVkICUwOHggJWRrYiBmdyAlZGtiIGRydlxuIiwKKwkJCSAgc3Rh
cnRfYWRkciwKKwkJCSAgZndfc2l6ZSwKKwkJCSAgZHJ2X3NpemUpOworCisJaWYgKChzdGFydF9h
ZGRyICYgQVRPTV9WUkFNX09QRVJBVElPTl9GTEFHU19NQVNLKSA9PQorCQkodWludDMyX3QpKEFU
T01fVlJBTV9CTE9DS19TUklPVl9NU0dfU0hBUkVfUkVTRVJWQVRJT04gPDwKKwkJQVRPTV9WUkFN
X09QRVJBVElPTl9GTEFHU19TSElGVCkpIHsKKwkJLyogRmlybXdhcmUgcmVxdWVzdCBWUkFNIHJl
c2VydmF0aW9uIGZvciBTUi1JT1YgKi8KKwkJYWRldi0+bW1hbi5md192cmFtX3VzYWdlX3N0YXJ0
X29mZnNldCA9IChzdGFydF9hZGRyICYKKwkJCSh+QVRPTV9WUkFNX09QRVJBVElPTl9GTEFHU19N
QVNLKSkgPDwgMTA7CisJCWFkZXYtPm1tYW4uZndfdnJhbV91c2FnZV9zaXplID0gZndfc2l6ZSA8
PCAxMDsKKwkJLyogVXNlIHRoZSBkZWZhdWx0IHNjcmF0Y2ggc2l6ZSAqLworCQkqdXNhZ2VfYnl0
ZXMgPSAwOworCX0gZWxzZSB7CisJCSp1c2FnZV9ieXRlcyA9IGRydl9zaXplIDw8IDEwOworCX0K
KwlyZXR1cm4gMDsKK30KKworc3RhdGljIGludCBhbWRncHVfYXRvbWZpcm13YXJlX2FsbG9jYXRl
X2ZiX3YyXzIoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCisJCXN0cnVjdCB2cmFtX3VzYWdl
YnlmaXJtd2FyZV92Ml8yICpmd191c2FnZSwgaW50ICp1c2FnZV9ieXRlcykKK3sKKwl1aW50MzJf
dCBmd19zdGFydF9hZGRyLCBmd19zaXplLCBkcnZfc3RhcnRfYWRkciwgZHJ2X3NpemU7CisKKwlm
d19zdGFydF9hZGRyID0gbGUzMl90b19jcHUoZndfdXNhZ2UtPmZ3X3JlZ2lvbl9zdGFydF9hZGRy
ZXNzX2luX2tiKTsKKwlmd19zaXplID0gbGUxNl90b19jcHUoZndfdXNhZ2UtPnVzZWRfYnlfZmly
bXdhcmVfaW5fa2IpOworCisJZHJ2X3N0YXJ0X2FkZHIgPSBsZTMyX3RvX2NwdShmd191c2FnZS0+
ZHJpdmVyX3JlZ2lvbjBfc3RhcnRfYWRkcmVzc19pbl9rYik7CisJZHJ2X3NpemUgPSBsZTMyX3Rv
X2NwdShmd191c2FnZS0+dXNlZF9ieV9kcml2ZXJfcmVnaW9uMF9pbl9rYik7CisKKwlEUk1fREVC
VUcoImF0b20gcmVxdWVzdGVkIGZ3IHN0YXJ0IGF0ICUwOHggJWRrYiBhbmQgZHJ2IHN0YXJ0IGF0
ICUwOHggJWRrYlxuIiwKKwkJCSAgZndfc3RhcnRfYWRkciwKKwkJCSAgZndfc2l6ZSwKKwkJCSAg
ZHJ2X3N0YXJ0X2FkZHIsCisJCQkgIGRydl9zaXplKTsKKworCWlmICgoZndfc3RhcnRfYWRkciAm
IChBVE9NX1ZSQU1fQkxPQ0tfTkVFRFNfTk9fUkVTRVJWQVRJT04gPDwgMzApKSA9PSAwKSB7CisJ
CS8qIEZpcm13YXJlIHJlcXVlc3QgVlJBTSByZXNlcnZhdGlvbiBmb3IgU1ItSU9WICovCisJCWFk
ZXYtPm1tYW4uZndfdnJhbV91c2FnZV9zdGFydF9vZmZzZXQgPSAoZndfc3RhcnRfYWRkciAmCisJ
CQkofkFUT01fVlJBTV9PUEVSQVRJT05fRkxBR1NfTUFTSykpIDw8IDEwOworCQlhZGV2LT5tbWFu
LmZ3X3ZyYW1fdXNhZ2Vfc2l6ZSA9IGZ3X3NpemUgPDwgMTA7CisJfQorCisJaWYgKChkcnZfc3Rh
cnRfYWRkciAmIChBVE9NX1ZSQU1fQkxPQ0tfTkVFRFNfTk9fUkVTRVJWQVRJT04gPDwgMzApKSA9
PSAwKSB7CisJCS8qIGRyaXZlciByZXF1ZXN0IFZSQU0gcmVzZXJ2YXRpb24gZm9yIFNSLUlPViAq
LworCQlhZGV2LT5tbWFuLmRydl92cmFtX3VzYWdlX3N0YXJ0X29mZnNldCA9IChkcnZfc3RhcnRf
YWRkciAmCisJCQkofkFUT01fVlJBTV9PUEVSQVRJT05fRkxBR1NfTUFTSykpIDw8IDEwOworCQlh
ZGV2LT5tbWFuLmRydl92cmFtX3VzYWdlX3NpemUgPSBkcnZfc2l6ZSA8PCAxMDsKKwl9CisKKwkq
dXNhZ2VfYnl0ZXMgPSAwOworCXJldHVybiAwOworfQorCiBpbnQgYW1kZ3B1X2F0b21maXJtd2Fy
ZV9hbGxvY2F0ZV9mYl9zY3JhdGNoKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQogewogCXN0
cnVjdCBhdG9tX2NvbnRleHQgKmN0eCA9IGFkZXYtPm1vZGVfaW5mby5hdG9tX2NvbnRleHQ7CiAJ
aW50IGluZGV4ID0gZ2V0X2luZGV4X2ludG9fbWFzdGVyX3RhYmxlKGF0b21fbWFzdGVyX2xpc3Rf
b2ZfZGF0YV90YWJsZXNfdjJfMSwKIAkJCQkJCXZyYW1fdXNhZ2VieWZpcm13YXJlKTsKLQlzdHJ1
Y3QgdnJhbV91c2FnZWJ5ZmlybXdhcmVfdjJfMSAqZmlybXdhcmVfdXNhZ2U7Ci0JdWludDMyX3Qg
c3RhcnRfYWRkciwgc2l6ZTsKKwlzdHJ1Y3QgdnJhbV91c2FnZWJ5ZmlybXdhcmVfdjJfMSAqZndf
dXNhZ2VfdjJfMTsKKwlzdHJ1Y3QgdnJhbV91c2FnZWJ5ZmlybXdhcmVfdjJfMiAqZndfdXNhZ2Vf
djJfMjsKIAl1aW50MTZfdCBkYXRhX29mZnNldDsKKwl1aW50OF90IGZyZXYsIGNyZXY7CiAJaW50
IHVzYWdlX2J5dGVzID0gMDsKIAotCWlmIChhbWRncHVfYXRvbV9wYXJzZV9kYXRhX2hlYWRlcihj
dHgsIGluZGV4LCBOVUxMLCBOVUxMLCBOVUxMLCAmZGF0YV9vZmZzZXQpKSB7Ci0JCWZpcm13YXJl
X3VzYWdlID0gKHN0cnVjdCB2cmFtX3VzYWdlYnlmaXJtd2FyZV92Ml8xICopKGN0eC0+YmlvcyAr
IGRhdGFfb2Zmc2V0KTsKLQkJRFJNX0RFQlVHKCJhdG9tIGZpcm13YXJlIHJlcXVlc3RlZCAlMDh4
ICVka2IgZncgJWRrYiBkcnZcbiIsCi0JCQkgIGxlMzJfdG9fY3B1KGZpcm13YXJlX3VzYWdlLT5z
dGFydF9hZGRyZXNzX2luX2tiKSwKLQkJCSAgbGUxNl90b19jcHUoZmlybXdhcmVfdXNhZ2UtPnVz
ZWRfYnlfZmlybXdhcmVfaW5fa2IpLAotCQkJICBsZTE2X3RvX2NwdShmaXJtd2FyZV91c2FnZS0+
dXNlZF9ieV9kcml2ZXJfaW5fa2IpKTsKLQotCQlzdGFydF9hZGRyID0gbGUzMl90b19jcHUoZmly
bXdhcmVfdXNhZ2UtPnN0YXJ0X2FkZHJlc3NfaW5fa2IpOwotCQlzaXplID0gbGUxNl90b19jcHUo
ZmlybXdhcmVfdXNhZ2UtPnVzZWRfYnlfZmlybXdhcmVfaW5fa2IpOwotCi0JCWlmICgodWludDMy
X3QpKHN0YXJ0X2FkZHIgJiBBVE9NX1ZSQU1fT1BFUkFUSU9OX0ZMQUdTX01BU0spID09Ci0JCQko
dWludDMyX3QpKEFUT01fVlJBTV9CTE9DS19TUklPVl9NU0dfU0hBUkVfUkVTRVJWQVRJT04gPDwK
LQkJCUFUT01fVlJBTV9PUEVSQVRJT05fRkxBR1NfU0hJRlQpKSB7Ci0JCQkvKiBGaXJtd2FyZSBy
ZXF1ZXN0IFZSQU0gcmVzZXJ2YXRpb24gZm9yIFNSLUlPViAqLwotCQkJYWRldi0+bW1hbi5md192
cmFtX3VzYWdlX3N0YXJ0X29mZnNldCA9IChzdGFydF9hZGRyICYKLQkJCQkofkFUT01fVlJBTV9P
UEVSQVRJT05fRkxBR1NfTUFTSykpIDw8IDEwOwotCQkJYWRldi0+bW1hbi5md192cmFtX3VzYWdl
X3NpemUgPSBzaXplIDw8IDEwOwotCQkJLyogVXNlIHRoZSBkZWZhdWx0IHNjcmF0Y2ggc2l6ZSAq
LwotCQkJdXNhZ2VfYnl0ZXMgPSAwOwotCQl9IGVsc2UgewotCQkJdXNhZ2VfYnl0ZXMgPSBsZTE2
X3RvX2NwdShmaXJtd2FyZV91c2FnZS0+dXNlZF9ieV9kcml2ZXJfaW5fa2IpIDw8IDEwOworCWlm
IChhbWRncHVfYXRvbV9wYXJzZV9kYXRhX2hlYWRlcihjdHgsIGluZGV4LCBOVUxMLCAmZnJldiwg
JmNyZXYsICZkYXRhX29mZnNldCkpIHsKKwkJaWYgKGZyZXYgPT0gMiAmJiBjcmV2ID09IDEpIHsK
KwkJCWZ3X3VzYWdlX3YyXzEgPQorCQkJCShzdHJ1Y3QgdnJhbV91c2FnZWJ5ZmlybXdhcmVfdjJf
MSAqKShjdHgtPmJpb3MgKyBkYXRhX29mZnNldCk7CisJCQlhbWRncHVfYXRvbWZpcm13YXJlX2Fs
bG9jYXRlX2ZiX3YyXzEoYWRldiwKKwkJCQkJZndfdXNhZ2VfdjJfMSwKKwkJCQkJJnVzYWdlX2J5
dGVzKTsKKwkJfSBlbHNlIGlmIChmcmV2ID49IDIgJiYgY3JldiA+PSAyKSB7CisJCQlmd191c2Fn
ZV92Ml8yID0KKwkJCQkoc3RydWN0IHZyYW1fdXNhZ2VieWZpcm13YXJlX3YyXzIgKikoY3R4LT5i
aW9zICsgZGF0YV9vZmZzZXQpOworCQkJYW1kZ3B1X2F0b21maXJtd2FyZV9hbGxvY2F0ZV9mYl92
Ml8yKGFkZXYsCisJCQkJCWZ3X3VzYWdlX3YyXzIsCisJCQkJCSZ1c2FnZV9ieXRlcyk7CiAJCX0K
IAl9CisKIAljdHgtPnNjcmF0Y2hfc2l6ZV9ieXRlcyA9IDA7CiAJaWYgKHVzYWdlX2J5dGVzID09
IDApCiAJCXVzYWdlX2J5dGVzID0gMjAgKiAxMDI0OwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3R0bS5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
YW1kZ3B1X3R0bS5jCmluZGV4IDc2YThlYmZjOWU3MS4uYjJhOWVkM2E0NTgzIDEwMDY0NAotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdHRtLmMKKysrIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3R0bS5jCkBAIC0xNTc5LDYgKzE1NzksMjMgQEAgc3Rh
dGljIHZvaWQgYW1kZ3B1X3R0bV9md19yZXNlcnZlX3ZyYW1fZmluaShzdHJ1Y3QgYW1kZ3B1X2Rl
dmljZSAqYWRldikKIAkJTlVMTCwgJmFkZXYtPm1tYW4uZndfdnJhbV91c2FnZV92YSk7CiB9CiAK
Ky8qCisgKiBEcml2ZXIgUmVzZXJ2YXRpb24gZnVuY3Rpb25zCisgKi8KKy8qKgorICogYW1kZ3B1
X3R0bV9kcnZfcmVzZXJ2ZV92cmFtX2ZpbmkgLSBmcmVlIGRydiByZXNlcnZlZCB2cmFtCisgKgor
ICogQGFkZXY6IGFtZGdwdV9kZXZpY2UgcG9pbnRlcgorICoKKyAqIGZyZWUgZHJ2IHJlc2VydmVk
IHZyYW0gaWYgaXQgaGFzIGJlZW4gcmVzZXJ2ZWQuCisgKi8KK3N0YXRpYyB2b2lkIGFtZGdwdV90
dG1fZHJ2X3Jlc2VydmVfdnJhbV9maW5pKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQorewor
CWFtZGdwdV9ib19mcmVlX2tlcm5lbCgmYWRldi0+bW1hbi5kcnZfdnJhbV91c2FnZV9yZXNlcnZl
ZF9ibywKKwkJCQkJCSAgTlVMTCwKKwkJCQkJCSAgTlVMTCk7Cit9CisKIC8qKgogICogYW1kZ3B1
X3R0bV9md19yZXNlcnZlX3ZyYW1faW5pdCAtIGNyZWF0ZSBibyB2cmFtIHJlc2VydmF0aW9uIGZy
b20gZncKICAqCkBAIC0xNjA1LDYgKzE2MjIsMzEgQEAgc3RhdGljIGludCBhbWRncHVfdHRtX2Z3
X3Jlc2VydmVfdnJhbV9pbml0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQogCQkJCQkgICZh
ZGV2LT5tbWFuLmZ3X3ZyYW1fdXNhZ2VfdmEpOwogfQogCisvKioKKyAqIGFtZGdwdV90dG1fZHJ2
X3Jlc2VydmVfdnJhbV9pbml0IC0gY3JlYXRlIGJvIHZyYW0gcmVzZXJ2YXRpb24gZnJvbSBkcml2
ZXIKKyAqCisgKiBAYWRldjogYW1kZ3B1X2RldmljZSBwb2ludGVyCisgKgorICogY3JlYXRlIGJv
IHZyYW0gcmVzZXJ2YXRpb24gZnJvbSBkcnYuCisgKi8KK3N0YXRpYyBpbnQgYW1kZ3B1X3R0bV9k
cnZfcmVzZXJ2ZV92cmFtX2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCit7CisJdWlu
dDY0X3QgdnJhbV9zaXplID0gYWRldi0+Z21jLnZpc2libGVfdnJhbV9zaXplOworCisJYWRldi0+
bW1hbi5kcnZfdnJhbV91c2FnZV9yZXNlcnZlZF9ibyA9IE5VTEw7CisKKwlpZiAoYWRldi0+bW1h
bi5kcnZfdnJhbV91c2FnZV9zaXplID09IDAgfHwKKwkgICAgYWRldi0+bW1hbi5kcnZfdnJhbV91
c2FnZV9zaXplID4gdnJhbV9zaXplKQorCQlyZXR1cm4gMDsKKworCXJldHVybiBhbWRncHVfYm9f
Y3JlYXRlX2tlcm5lbF9hdChhZGV2LAorCQkJCQkgIGFkZXYtPm1tYW4uZHJ2X3ZyYW1fdXNhZ2Vf
c3RhcnRfb2Zmc2V0LAorCQkJCQkgIGFkZXYtPm1tYW4uZHJ2X3ZyYW1fdXNhZ2Vfc2l6ZSwKKwkJ
CQkJICBBTURHUFVfR0VNX0RPTUFJTl9WUkFNLAorCQkJCQkgICZhZGV2LT5tbWFuLmRydl92cmFt
X3VzYWdlX3Jlc2VydmVkX2JvLAorCQkJCQkgIE5VTEwpOworfQorCiAvKgogICogTWVtb3kgdHJh
aW5pbmcgcmVzZXJ2YXRpb24gZnVuY3Rpb25zCiAgKi8KQEAgLTE3NzIsNiArMTgxNCwxNCBAQCBp
bnQgYW1kZ3B1X3R0bV9pbml0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQogCQlyZXR1cm4g
cjsKIAl9CiAKKwkvKgorCSAqVGhlIHJlc2VydmVkIHZyYW0gZm9yIGRyaXZlciBtdXN0IGJlIHBp
bm5lZCB0byB0aGUgc3BlY2lmaWVkCisJICpwbGFjZSBvbiB0aGUgVlJBTSwgc28gcmVzZXJ2ZSBp
dCBlYXJseS4KKwkgKi8KKwlyID0gYW1kZ3B1X3R0bV9kcnZfcmVzZXJ2ZV92cmFtX2luaXQoYWRl
dik7CisJaWYgKHIpCisJCXJldHVybiByOworCiAJLyoKIAkgKiBvbmx5IE5BVkkxMCBhbmQgb253
YXJkcyBBU0lDIHN1cHBvcnQgZm9yIElQIGRpc2NvdmVyeS4KIAkgKiBJZiBJUCBkaXNjb3Zlcnkg
ZW5hYmxlZCwgYSBibG9jayBvZiBtZW1vcnkgc2hvdWxkIGJlCkBAIC0xODk3LDYgKzE5NDcsNyBA
QCB2b2lkIGFtZGdwdV90dG1fZmluaShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKIAlhbWRn
cHVfYm9fZnJlZV9rZXJuZWwoJmFkZXYtPm1tYW4uc2RtYV9hY2Nlc3NfYm8sIE5VTEwsCiAJCQkJ
CSZhZGV2LT5tbWFuLnNkbWFfYWNjZXNzX3B0cik7CiAJYW1kZ3B1X3R0bV9md19yZXNlcnZlX3Zy
YW1fZmluaShhZGV2KTsKKwlhbWRncHVfdHRtX2Rydl9yZXNlcnZlX3ZyYW1fZmluaShhZGV2KTsK
IAogCWlmIChkcm1fZGV2X2VudGVyKGFkZXZfdG9fZHJtKGFkZXYpLCAmaWR4KSkgewogCmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdHRtLmggYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdHRtLmgKaW5kZXggNmE3MDgxODAzOWRkLi43YzM4
ODQzZjQxMWUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90
dG0uaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdHRtLmgKQEAgLTg0
LDYgKzg0LDExIEBAIHN0cnVjdCBhbWRncHVfbW1hbiB7CiAJc3RydWN0IGFtZGdwdV9ibwkqZndf
dnJhbV91c2FnZV9yZXNlcnZlZF9ibzsKIAl2b2lkCQkqZndfdnJhbV91c2FnZV92YTsKIAorCS8q
IGRyaXZlciBWUkFNIHJlc2VydmF0aW9uICovCisJdTY0CQlkcnZfdnJhbV91c2FnZV9zdGFydF9v
ZmZzZXQ7CisJdTY0CQlkcnZfdnJhbV91c2FnZV9zaXplOworCXN0cnVjdCBhbWRncHVfYm8JKmRy
dl92cmFtX3VzYWdlX3Jlc2VydmVkX2JvOworCiAJLyogUEFHRV9TSVpFJ2QgQk8gZm9yIHByb2Nl
c3MgbWVtb3J5IHIvdyBvdmVyIFNETUEuICovCiAJc3RydWN0IGFtZGdwdV9ibwkqc2RtYV9hY2Nl
c3NfYm87CiAJdm9pZAkJCSpzZG1hX2FjY2Vzc19wdHI7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vYW1kL2luY2x1ZGUvYXRvbWZpcm13YXJlLmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2lu
Y2x1ZGUvYXRvbWZpcm13YXJlLmgKaW5kZXggZmY4NTVjYjIxZDNmLi5iYmUxMzM3YThjZWUgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvaW5jbHVkZS9hdG9tZmlybXdhcmUuaAorKysg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL2luY2x1ZGUvYXRvbWZpcm13YXJlLmgKQEAgLTcwNSwyMCAr
NzA1LDY1IEBAIHN0cnVjdCBhdG9tX2dwaW9fcGluX2x1dF92Ml8xCiB9OwogCiAKLS8qIAotICAq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioKLSAgICBEYXRhIFRhYmxlIHZyYW1fdXNhZ2VieWZpcm13YXJlICBz
dHJ1Y3R1cmUKLSAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCi0qLworLyoKKyAqIFZCSU9TL1BSRS1PUyBh
bHdheXMgcmVzZXJ2ZSBhIEZCIHJlZ2lvbiBhdCB0aGUgdG9wIG9mIGZyYW1lIGJ1ZmZlci4gZHJp
dmVyIHNob3VsZCBub3Qgd3JpdGUKKyAqIGFjY2VzcyB0aGF0IHJlZ2lvbi4gZHJpdmVyIGNhbiBh
bGxvY2F0ZSB0aGVpciBvd24gcmVzZXJ2YXRpb24gcmVnaW9uIGFzIGxvbmcgYXMgaXQgZG9lcyBu
b3QKKyAqIG92ZXJsYXAgZmlyd21hcmUncyByZXNlcnZhdGlvbiByZWdpb24uCisgKiBpZiAocHJl
LU5WMVgpIGF0b20gZGF0YSB0YWJsZSBmaXJtd2FyZUluZm9UYWJsZSB2ZXJzaW9uIDwgMy4zOgor
ICogaW4gdGhpcyBjYXNlLCBhdG9tIGRhdGEgdGFibGUgdnJhbV91c2FnZWJ5ZmlybXdhcmVUYWJs
ZSB2ZXJzaW9uIGFsd2F5cyA8PSAyLjEKKyAqICAgaWYgVkJJT1MvVUVGSSBHT1AgaXMgcG9zdGVk
OgorICogICAgIFZCSU9TL1VFRklHT1AgdXBkYXRlIHVzZWRfYnlfZmlybXdhcmVfaW5fa2IgPSB0
b3RhbCByZXNlcnZlZCBzaXplIGJ5IFZCSU9TCisgKiAgICAgdXBkYXRlIHN0YXJ0X2FkZHJlc3Nf
aW5fa2IgPSB0b3RhbF9tZW1fc2l6ZV9pbl9rYiAtIHVzZWRfYnlfZmlybXdhcmVfaW5fa2I7Cisg
KiAgICAgKCB0b3RhbF9tZW1fc2l6ZV9pbl9rYiA9IHJlZyhDT05GSUdfTUVNU0laRSk8PDEwKQor
ICogICAgIGRyaXZlciBjYW4gYWxsb2NhdGUgZHJpdmVyIHJlc2VydmF0aW9uIHJlZ2lvbiB1bmRl
ciBmaXJtd2FyZSByZXNlcnZhdGlvbiwKKyAqICAgICB1c2VkX2J5X2RyaXZlcl9pbl9rYiA9IGRy
aXZlciByZXNlcnZhdGlvbiBzaXplCisgKiAgICAgZHJpdmVyIHJlc2VydmF0aW9uIHN0YXJ0IGFk
ZHJlc3MgPSAgKHN0YXJ0X2FkZHJlc3NfaW5fa2IgLSB1c2VkX2J5X2RyaXZlcl9pbl9rYikKKyAq
ICAgICBDb21tZW50MVtoY2hhbl06IFRoZXJlIGlzIG9ubHkgb25lIHJlc2VydmF0aW9uIGF0IHRo
ZSBiZWdpbm5pbmcgb2YgdGhlIEZCIHJlc2VydmVkIGJ5CisgKiAgICAgaG9zdCBkcml2ZXIuIEhv
c3QgZHJpdmVyIHdvdWxkIG92ZXJ3cml0ZSB0aGUgdGFibGUgd2l0aCB0aGUgZm9sbG93aW5nCisg
KiAgICAgdXNlZF9ieV9maXJtd2FyZV9pbl9rYiA9IHRvdGFsIHJlc2VydmVkIHNpemUgZm9yIHBm
LXZmIGluZm8gZXhjaGFuZ2UgYW5kCisgKiAgICAgc2V0IFNSSU9WX01TR19TSEFSRV9SRVNFUlZB
VElPTiBtYXNrIHN0YXJ0X2FkZHJlc3NfaW5fa2IgPSAwCisgKiAgIGVsc2UgdGhlcmUgaXMgbm8g
VkJJT1MgcmVzZXJ2YXRpb24gcmVnaW9uOgorICogICAgIGRyaXZlciBtdXN0IGFsbG9jYXRlIGRy
aXZlciByZXNlcnZhdGlvbiByZWdpb24gYXQgdG9wIG9mIEZCLgorICogICAgIGRyaXZlciBzZXQg
dXNlZF9ieV9kcml2ZXJfaW5fa2IgPSBkcml2ZXIgcmVzZXJ2YXRpb24gc2l6ZQorICogICAgIGRy
aXZlciByZXNlcnZhdGlvbiBzdGFydCBhZGRyZXNzID0gICh0b3RhbF9tZW1fc2l6ZV9pbl9rYiAt
IHVzZWRfYnlfZHJpdmVyX2luX2tiKQorICogICAgIHNhbWUgYXMgQ29tbWVudDEKKyAqIGVsc2Ug
KE5WMVggYW5kIGFmdGVyKToKKyAqICAgaWYgVkJJT1MvVUVGSSBHT1AgaXMgcG9zdGVkOgorICog
ICAgIFZCSU9TL1VFRklHT1AgdXBkYXRlOgorICogICAgICAgdXNlZF9ieV9maXJtd2FyZV9pbl9r
YiA9IGF0b21fZmlybXdhcmVfSW5mb192M18zLmZ3X3Jlc2VydmVkX3NpemVfaW5fa2I7CisgKiAg
ICAgICBzdGFydF9hZGRyZXNzX2luX2tiID0gdG90YWxfbWVtX3NpemVfaW5fa2IgLSB1c2VkX2J5
X2Zpcm13YXJlX2luX2tiOworICogICAgICAgKHRvdGFsX21lbV9zaXplX2luX2tiID0gcmVnKENP
TkZJR19NRU1TSVpFKTw8MTApCisgKiAgIGlmIHZyYW1fdXNhZ2VieWZpcm13YXJlVGFibGUgdmVy
c2lvbiA8PSAyLjE6CisgKiAgICAgZHJpdmVyIGNhbiBhbGxvY2F0ZSBkcml2ZXIgcmVzZXJ2YXRp
b24gcmVnaW9uIHVuZGVyIGZpcm13YXJlIHJlc2VydmF0aW9uLAorICogICAgIGRyaXZlciBzZXQg
dXNlZF9ieV9kcml2ZXJfaW5fa2IgPSBkcml2ZXIgcmVzZXJ2YXRpb24gc2l6ZQorICogICAgIGRy
aXZlciByZXNlcnZhdGlvbiBzdGFydCBhZGRyZXNzID0gc3RhcnRfYWRkcmVzc19pbl9rYiAtIHVz
ZWRfYnlfZHJpdmVyX2luX2tiCisgKiAgICAgc2FtZSBhcyBDb21tZW50MQorICogICBlbHNlIGRy
aXZlciBjYW46CisgKiAgICAgYWxsb2NhdGUgaXQgcmVzZXJ2YXRpb24gYW55IHBsYWNlIGFzIGxv
bmcgYXMgaXQgZG9lcyBvdmVybGFwIHByZS1PUyBGVyByZXNlcnZhdGlvbiBhcmVhCisgKiAgICAg
c2V0IHVzZWRfYnlfZHJpdmVyX3JlZ2lvbjBfaW5fa2IgPSBkcml2ZXIgcmVzZXJ2YXRpb24gc2l6
ZQorICogICAgIHNldCBkcml2ZXJfcmVnaW9uMF9zdGFydF9hZGRyZXNzX2luX2tiID0gIGRyaXZl
ciByZXNlcnZhdGlvbiByZWdpb24gc3RhcnQgYWRkcmVzcworICogICAgIENvbW1lbnQyW2hjaGFu
XTogSG9zdCBkcml2ZXIgY2FuIHNldCB1c2VkX2J5X2Zpcm13YXJlX2luX2tiIGFuZCBzdGFydF9h
ZGRyZXNzX2luX2tiIHRvCisgKiAgICAgemVybyBhcyB0aGUgcmVzZXJ2YXRpb24gZm9yIFZGIGFz
IGl0IGRvZXNu4oCZdCBleGlzdC4gIEFuZCBIb3N0IGRyaXZlciBzaG91bGQgYWxzbworICogICAg
IHVwZGF0ZSBhdG9tX2Zpcm13YXJlX0luZm8gdGFibGUgdG8gcmVtb3ZlIHRoZSBzYW1lIFZCSU9T
IHJlc2VydmF0aW9uIGFzIHdlbGwuCisgKi8KIAogc3RydWN0IHZyYW1fdXNhZ2VieWZpcm13YXJl
X3YyXzEKIHsKLSAgc3RydWN0ICBhdG9tX2NvbW1vbl90YWJsZV9oZWFkZXIgIHRhYmxlX2hlYWRl
cjsKLSAgdWludDMyX3QgIHN0YXJ0X2FkZHJlc3NfaW5fa2I7Ci0gIHVpbnQxNl90ICB1c2VkX2J5
X2Zpcm13YXJlX2luX2tiOwotICB1aW50MTZfdCAgdXNlZF9ieV9kcml2ZXJfaW5fa2I7IAorCXN0
cnVjdCAgYXRvbV9jb21tb25fdGFibGVfaGVhZGVyICB0YWJsZV9oZWFkZXI7CisJdWludDMyX3Qg
IHN0YXJ0X2FkZHJlc3NfaW5fa2I7CisJdWludDE2X3QgIHVzZWRfYnlfZmlybXdhcmVfaW5fa2I7
CisJdWludDE2X3QgIHVzZWRfYnlfZHJpdmVyX2luX2tiOwogfTsKIAorc3RydWN0IHZyYW1fdXNh
Z2VieWZpcm13YXJlX3YyXzIgeworCXN0cnVjdCAgYXRvbV9jb21tb25fdGFibGVfaGVhZGVyICB0
YWJsZV9oZWFkZXI7CisJdWludDMyX3QgIGZ3X3JlZ2lvbl9zdGFydF9hZGRyZXNzX2luX2tiOwor
CXVpbnQxNl90ICB1c2VkX2J5X2Zpcm13YXJlX2luX2tiOworCXVpbnQxNl90ICByZXNlcnZlZDsK
Kwl1aW50MzJfdCAgZHJpdmVyX3JlZ2lvbjBfc3RhcnRfYWRkcmVzc19pbl9rYjsKKwl1aW50MzJf
dCAgdXNlZF9ieV9kcml2ZXJfcmVnaW9uMF9pbl9rYjsKKwl1aW50MzJfdCAgcmVzZXJ2ZWQzMls3
XTsKK307CiAKIC8qIAogICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKLS0gCjIuMjUuMQoK

--_002_DM4PR12MB61341AD581900D4861E8DA3190019DM4PR12MB6134namp_--
