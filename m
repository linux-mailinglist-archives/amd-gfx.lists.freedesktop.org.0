Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id DBA321DB78D
	for <lists+amd-gfx@lfdr.de>; Wed, 20 May 2020 16:57:59 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 232BA6E861;
	Wed, 20 May 2020 14:57:58 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-wr1-x441.google.com (mail-wr1-x441.google.com
 [IPv6:2a00:1450:4864:20::441])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 6B92489DCF
 for <amd-gfx@lists.freedesktop.org>; Wed, 20 May 2020 14:57:57 +0000 (UTC)
Received: by mail-wr1-x441.google.com with SMTP id j5so3504115wrq.2
 for <amd-gfx@lists.freedesktop.org>; Wed, 20 May 2020 07:57:57 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=6qhr7XyOOJxPg5uzuGcWVn78cWaiRr/SoMTv66Lqf2E=;
 b=J56Cxa4Zq8oJcuF1LAZHCTBiNBimyf8uLUq7RiTyIOuRoS2owvS+KVDU2usU2fKyLm
 AVJuYWS5+VDKmQixxWlqG/Pm8gQa04XOs5/7vhWXN0E07MJ8PLTys7l+ki7LkZWm6+vv
 UwxoZFA1oNuslbFtX3+mc3l3ywo3RFQwqQDn8gPDwOM7FJwB6TSQHq65CyGp9kJJ6Gjs
 ESEcPToFD3rWhmF7qTlithxgxq/IN8OaYYf7fwJlmkKm8wd7FsIrRx9rifD2OmSsXjvl
 Ig1jR3pNJQ1AtYdUOCG1meBqOSdP+j4mTbEfuIiE5YIavrmRU67gLk9mVMGfQd8cyLkX
 QKhg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=6qhr7XyOOJxPg5uzuGcWVn78cWaiRr/SoMTv66Lqf2E=;
 b=QJuGGqPMJJM2OQIOTqwBZqkAGIX3izEKxwlklGXSNlSZSti6zsyhn1v+DyW37KinNA
 1Fr9nYRR46XRW8WbN4bhR4TseQ/BaAcZx8qaaEJ6GlyPMbArY9HuUojznVA+NtybT5Bu
 7T3MJnj7WeMZAA5aKLX2VyUOC7dAEWyIqHuTqwNc9OXdK/DGvo0sUrftfIAx/euMdwP1
 bnJSf/qFZ95LSGhF9LkyznkX5gfltVpL7tRlGHC2iB9bwqV7YEyCeQ3AU4ssUjHz5vit
 /GYH9pekpDjbfN+y/0NDDT1OzqTWTBocjFTx4mc3DGuLK385ImgOPI7ADm1DkgbPnD3j
 yaWA==
X-Gm-Message-State: AOAM532IA3xmDos2JliCHRlOQyhN1AXtaQDJR5m4mvEGuQrUyMxqZGYK
 Kv2KSkASXweLZ8VvGXrwgnilkFU9blx1ejmE/DD8zA==
X-Google-Smtp-Source: ABdhPJxCTM8Pkhfmy5QLK0mDPWUgnw7dsV2SvA0zLSDoCxYY3CFdgG0pfEYxKfTY9q8W6pN6Ci6D70RRUxFPicXr7Uw=
X-Received: by 2002:a05:6000:14b:: with SMTP id
 r11mr4837496wrx.124.1589986676064; 
 Wed, 20 May 2020 07:57:56 -0700 (PDT)
MIME-Version: 1.0
References: <1589963516-25033-1-git-send-email-curry.gong@amd.com>
In-Reply-To: <1589963516-25033-1-git-send-email-curry.gong@amd.com>
From: Alex Deucher <alexdeucher@gmail.com>
Date: Wed, 20 May 2020 10:57:44 -0400
Message-ID: <CADnq5_O6+Yaat8JLELtpoSitTLkSsWa0ffN5rJR1S1FmuwGZ4w@mail.gmail.com>
Subject: Re: [PATCH] drm/amd/powerpay: Disable gfxoff when setting manual mode
 on picasso and raven
To: chen gong <curry.gong@amd.com>
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: amd-gfx list <amd-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

T24gV2VkLCBNYXkgMjAsIDIwMjAgYXQgNDozMiBBTSBjaGVuIGdvbmcgPGN1cnJ5LmdvbmdAYW1k
LmNvbT4gd3JvdGU6Cj4KPiBbUHJvYmxlbSBkZXNjcmlwdGlvbl0KPiAxLiBCb290IHVwIHBpY2Fz
c28gcGxhdGZvcm0sIGxhdW5jaGVzIGRlc2t0b3AsIERvbid0IGRvIGFueXRoaW5nIChBUFUgZW50
ZXIgaW50byAiZ2Z4b2ZmIiBzdGF0ZSkKPiAyLiBSZW1vdGUgbG9naW4gdG8gcGxhdGZvcm0gdXNp
bmcgU1NILCB0aGVuIHR5cGUgdGhlIGNvbW1hbmQgbGluZToKPiAgICBzdWRvIHN1IC1jICJlY2hv
IG1hbnVhbCA+IC9zeXMvY2xhc3MvZHJtL2NhcmQwL2RldmljZS9wb3dlcl9kcG1fZm9yY2VfcGVy
Zm9ybWFuY2VfbGV2ZWwiCj4gICAgc3VkbyBzdSAtYyAiZWNobyAyID4gL3N5cy9jbGFzcy9kcm0v
Y2FyZDAvZGV2aWNlL3BwX2RwbV9zY2xrIiAgIChmaXggU0NMSyB0byAxNDAwTUh6KQo+IDMuIE1v
dmUgdGhlIG1vdXNlIGFyb3VuZCBpbiBXaW5kb3cKPiA0LiBQaGVub21lbm9uIDogIFRoZSBzY3Jl
ZW4gZnJvemVuCj4KPiBUZXN0ZXIgd2lsbCBzd2l0Y2ggc2NsayBsZXZlbCBkdXJpbmcgZ2xtYXJr
MiBydW4gdGltZS4gQVBVIHdpbGwgZW50ZXIKPiAiZ2Z4b2ZmIiBzdGF0ZSBpbnRlcm1pdHRlbnRs
eSBkdXJpbmcgZ2xtYXJrMiBydW4gdGltZS4gVGhlIHN5c3RlbSBnb3QKPiBoYW5nZWQgaWYgZml4
IEdGWENMSyB0byAxNDAwTUh6IHdoZW4gQVBVIGlzIGluICJnZnhvZmYiIHN0YXRlLgo+Cj4gW0Rl
YnVnXQo+IDEuIEZpeCBTQ0xLIHRvIFggTUh6Cj4gICAgIDE0MDA6IHNjcmVlbiBmcm96ZW4sIHNj
cmVlbiBibGFjaywgdGhlbiBPUyB3aWxsIHJlYm9vdC4KPiAgICAgMTMwMDogc2NyZWVuIGZyb3pl
bgo+ICAgICAxMjAwOiBzY3JlZW4gZnJvemVuLCBzY3JlZW4gYmxhY2suCj4gICAgIDExMDA6IHNj
cmVlbiBmcm96ZW4sIHNjcmVlbiBibGFjaywgdGhlbiBPUyB3aWxsIHJlYm9vdC4KPiAgICAgMTAw
MDogc2NyZWVuIGZyb3plbiwgc2NyZWVuIGJsYWNrLgo+ICAgICA5MDA6ICBzY3JlZW4gZnJvemVu
LCBzY3JlZW4gYmxhY2ssIHRoZW4gT1Mgd2lsbCByZWJvb3QuCj4gICAgIDgwMDogIFNpdHVhdGlv
biBOb21hbCwgaXNzdWUgZGlzYXBwZWFyLgo+ICAgICA3MDA6ICBTaXR1YXRpb24gTm9tYWwsIGlz
c3VlIGRpc2FwcGVhci4KPiAyLiBTQklPUyBzZXR0aW5nOiBBTUQgQ0JTIC0tPiBTTVUgRGVidWcg
T3B0aW9ucyAtLT5TTVUgRGVidWcgLS0+ICJHRlggRExETyBQc20gTWFyZ2luIENvbnRyb2wiOgo+
ICAgICA1MCA6IFNpdHVhdGlvbiBOb21hbCwgaXNzdWUgZGlzYXBwZWFyLgo+ICAgICA0NSA6IFNp
dHVhdGlvbiBOb21hbCwgaXNzdWUgZGlzYXBwZWFyLgo+ICAgICA0MCA6IFNpdHVhdGlvbiBOb21h
bCwgaXNzdWUgZGlzYXBwZWFyLgo+ICAgICAzNSA6IFNpdHVhdGlvbiBOb21hbCwgaXNzdWUgZGlz
YXBwZWFyLgo+ICAgICAzMCA6IHNjcmVlbiBibGFjay4KPiAgICAgMjUgOiBzY3JlZW4gZnJvemVu
LCB0aGVuIGJsdXJyZWQgc2NyZWVuLgo+ICAgICAyMCA6IHNjcmVlbiBmcm96ZW4uCj4gICAgIDE1
IDogc2NyZWVuIGJsYWNrLgo+ICAgICAxMCA6IHNjcmVlbiBmcm96ZW4uCj4gICAgIDUgIDogc2Ny
ZWVuIGZyb3plbiwgdGhlbiBibHVycmVkIHNjcmVlbi4KPiAzLiBEaXNhYmxlIEdGWE9GRiBmZWF0
dXJlCj4gICAgU2l0dWF0aW9uIE5vbWFsLCBpc3N1ZSBkaXNhcHBlYXIuCj4KPiBbV2h5XQo+IFRo
cm91Z2ggYSBwZXJpb2Qgb2YgdGltZSBkZWJ1Z2dpbmcgd2l0aCBTeXMgRW5nIHRlYW0gYW5kIFNN
VSB0ZWFtLgo+Cj4gU3lzIEVuZyB0ZWFtIHNhaWQgdGhpcyBpcyB2b2x0YWdlL2ZyZXF1ZW5jeSBt
YXJnaW5hbCBpc3N1ZSBub3QgYSBGL1cgb3IKPiBIL1cgYnVnLiBUaGlzIGV4cGVyaW1lbnQgcHJv
dmVzIHRoYXQgZGVmYXVsdCB0YXJnZXRQc20gW2ZvciBmPTE0MDBNSHpdCj4gaXMgbm90IHN1ZmZp
Y2llbnQgd2hlbiBHRlhPRkYgaXMgZW5hYmxlZCBvbiBQaWNhc3NvLgo+Cj4gU01VIHRlYW0gdGhp
bmsgaXQgaXMgYW4gb2RkIHRlc3QgY29uZGl0aW9ucyB0byBmb3JjZSBzY2xrPSIxNDAwTUh6IiB3
aGVuCj4gR1BVIGlzIGluICJnZnhvZmYiIHN0YXRl77yMdGhlbiB3YWtlIHVwIHRoZSBHRlguIFND
TEsgc2hvdWxkIGJlIGluIHRoZQo+ICJsb3dlc3QgZnJlcXVlbmN5IiB3aGVuIGdmeG9mZi4KPgo+
IFtIb3ddCj4gRGlzYWJsZSBnZnhvZmYgd2hlbiBzZXR0aW5nIG1hbnVhbCBtb2RlLgo+Cj4gQnkg
dGhlIHdheSwgZnJvbSB0aGUgdXNlciBwb2ludCBvZiB2aWV3LCBub3cgdGhhdCB1c2VyIHN3aXRj
aCB0byBtYW51YWwKPiBtb2RlIGFuZCBmb3JjZSBTQ0xLIEZyZXF1ZW5jeSwgaGUgZG9uJ3Qgd2Fu
dCBTQ0xLIGJlIGNvbnRyb2xsZWQgYnkKPiB3b3JrbG9hZC4gSXQgYmVjb21lcyBtZWFuaW5nbGVz
cyB0byAic3dpdGNoIHRvIG1hbnVhbCBtb2RlIiBpZiBBUFUgZW50ZXIKPiAiZ2Z4b2ZmIiBkdWUg
dG8gbGFjayBvZiB3b3JrbG9hZCBhdCB0aGlzIHBvaW50Lgo+Cj4gVGlwczogU2FtZSBpc3N1ZSBv
YnNlcnZlZCBvbiBSYXZlbi4KPgo+IFNpZ25lZC1vZmYtYnk6IGNoZW4gZ29uZyA8Y3VycnkuZ29u
Z0BhbWQuY29tPgo+IC0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9od21nci9z
bXUxMF9od21nci5jIHwgNiArKysrKysKPiAgMSBmaWxlIGNoYW5nZWQsIDYgaW5zZXJ0aW9ucygr
KQo+Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2h3bWdyL3Nt
dTEwX2h3bWdyLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9od21nci9zbXUxMF9o
d21nci5jCj4gaW5kZXggNGY4YzFiOC4uNjAyYmU2MyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dw
dS9kcm0vYW1kL3Bvd2VycGxheS9od21nci9zbXUxMF9od21nci5jCj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9wb3dlcnBsYXkvaHdtZ3Ivc211MTBfaHdtZ3IuYwo+IEBAIC01NjUsNiArNTY1
LDcgQEAgc3RhdGljIGludCBzbXUxMF9od21ncl9iYWNrZW5kX2Zpbmkoc3RydWN0IHBwX2h3bWdy
ICpod21ncikKPiAgc3RhdGljIGludCBzbXUxMF9kcG1fZm9yY2VfZHBtX2xldmVsKHN0cnVjdCBw
cF9od21nciAqaHdtZ3IsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtIGFt
ZF9kcG1fZm9yY2VkX2xldmVsIGxldmVsKQo+ICB7Cj4gKyAgICAgICBzdHJ1Y3QgYW1kZ3B1X2Rl
dmljZSAqYWRldiA9IGh3bWdyLT5hZGV2Owo+ICAgICAgICAgc3RydWN0IHNtdTEwX2h3bWdyICpk
YXRhID0gaHdtZ3ItPmJhY2tlbmQ7Cj4gICAgICAgICB1aW50MzJfdCBtaW5fc2NsayA9IGh3bWdy
LT5kaXNwbGF5X2NvbmZpZy0+bWluX2NvcmVfc2V0X2Nsb2NrOwo+ICAgICAgICAgdWludDMyX3Qg
bWluX21jbGsgPSBod21nci0+ZGlzcGxheV9jb25maWctPm1pbl9tZW1fc2V0X2Nsb2NrLzEwMDsK
PiBAQCAtNzMwLDYgKzczMSwxMSBAQCBzdGF0aWMgaW50IHNtdTEwX2RwbV9mb3JjZV9kcG1fbGV2
ZWwoc3RydWN0IHBwX2h3bWdyICpod21nciwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBOVUxMKTsKPiAgICAgICAgICAgICAgICAgYnJlYWs7Cj4gICAg
ICAgICBjYXNlIEFNRF9EUE1fRk9SQ0VEX0xFVkVMX01BTlVBTDoKPiArICAgICAgICAgICAgICAg
aWYgKGFkZXYtPmFzaWNfdHlwZSA9PSBDSElQX1JBVkVOKXsKCk1pc3NpbmcgYSBzcGFjZSBiZXR3
ZWVuICkgYW5kIHsKCj4gKyAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFkZXYtPnJldl9pZCA8
IDgpCgpIYXZlIHlvdSB2ZXJpZmllZCB0aGF0IHJhdmVuMiB2YXJpYW50cyBkb24ndCBuZWVkIHRo
aXM/Cgo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc211MTBfZ2Z4X29mZl9jb250
cm9sKGh3bWdyLCBmYWxzZSk7CgpXaGVyZSBhcmUgd2UgcmUtZW5hYmxpbmcgZ2Z4IG9mZiB3aGVu
IHdlIGV4aXQgbWFudWFsIG1vZGU/CgpBbGV4Cgo+ICsgICAgICAgICAgICAgICB9Cj4gKyAgICAg
ICAgICAgICAgIGJyZWFrOwo+ICAgICAgICAgY2FzZSBBTURfRFBNX0ZPUkNFRF9MRVZFTF9QUk9G
SUxFX0VYSVQ6Cj4gICAgICAgICBkZWZhdWx0Ogo+ICAgICAgICAgICAgICAgICBicmVhazsKPiAt
LQo+IDIuNy40Cj4KPiBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwo+IGFtZC1nZnggbWFpbGluZyBsaXN0Cj4gYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKPiBodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1n
ZngKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KYW1kLWdm
eCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0
cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4Cg==
