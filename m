Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 5E3C44906A
	for <lists+amd-gfx@lfdr.de>; Mon, 17 Jun 2019 21:50:38 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7BCA289D5F;
	Mon, 17 Jun 2019 19:50:36 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-qt1-x843.google.com (mail-qt1-x843.google.com
 [IPv6:2607:f8b0:4864:20::843])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 4916089D4B
 for <amd-gfx@lists.freedesktop.org>; Mon, 17 Jun 2019 19:50:35 +0000 (UTC)
Received: by mail-qt1-x843.google.com with SMTP id i34so7024596qta.6
 for <amd-gfx@lists.freedesktop.org>; Mon, 17 Jun 2019 12:50:35 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=gjsC8mV1VruiUNQAiliXPwgPeAKQ/VDE3rr/EBdnNSs=;
 b=Ar9Cf04HqeVbmFF6kGX0Y7wGVCBOy2kQWn/hUP8Mhqk/BcMJYiS47pW0tmA8lMdc1p
 K0HhEiQ6tpC4mv+I+5XDQZTwGyA3NvdGR+rizxFWhGVZOAMoPP5+R74F2fHpYAVwi0Dc
 MJz4zOB7zrACmR1iGfrSQRfb1iWB0cm8PndqCOx6qQ+MUXpOIHsquN2PRAPNYbAhfLjq
 Z2UVkxJmR7nK7PoQYZ1AEHW8zgwmkZ6AQFEAPpPtF0UAslZQb3HcdAfuAv3zv32LmIJg
 DYGf+Ok+BbblXcBS5KwkazFy13/y5qzYbJCt49SGdFWKa6UgsKCX/2Xi6iuLvLOKKEXP
 ZqsQ==
X-Gm-Message-State: APjAAAVYZ22a/wqyQoU/Z280XZ32FnMIBqjon2zFsWVzdkAd3x5tkl3p
 f1DIGWDSyaxobsIxhRRLXJCdFWI7KicOiQ==
X-Google-Smtp-Source: APXvYqymP+EFP716oAGxSJwOpv9uZPL+eS5Cfs3LsNohgAzuG8tFOrpBYNDJ0aiakWF2iZ7+9TuLFw==
X-Received: by 2002:a0c:add8:: with SMTP id x24mr23534837qvc.167.1560801033561; 
 Mon, 17 Jun 2019 12:50:33 -0700 (PDT)
Received: from localhost.localdomain ([71.219.5.136])
 by smtp.gmail.com with ESMTPSA id a51sm7520252qta.85.2019.06.17.12.50.32
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Mon, 17 Jun 2019 12:50:32 -0700 (PDT)
From: Alex Deucher <alexdeucher@gmail.com>
X-Google-Original-From: Alex Deucher <alexander.deucher@amd.com>
To: amd-gfx@lists.freedesktop.org
Subject: [PATCH 437/459] drm/amd/display: Fix incorrect DML output_bpp value
Date: Mon, 17 Jun 2019 14:49:26 -0500
Message-Id: <20190617194948.18667-38-alexander.deucher@amd.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190617194948.18667-1-alexander.deucher@amd.com>
References: <20190617194948.18667-1-alexander.deucher@amd.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=gjsC8mV1VruiUNQAiliXPwgPeAKQ/VDE3rr/EBdnNSs=;
 b=PajyxdGJnVQY/VSYXT60ADRTsTsoROJu3D3A6ajN4vF+EExQBhQcHUQPWTP9gS9VO1
 pOSIscS6q1QcoKswugKEfSzAmDAlo0lFeOfaStiY+VFTz0NXvVkKhEYy99W3IDE+SoZp
 6TfNliddc8VEOYTXDpdRn5XD6dTItcwtGi7LabZtfOTbdN1aINOV99y93KaXLscfXTXL
 2igM0pLrnxEm78D73kYJxga0nll5QtzJpTM/gEOk+xEnXSfY1SKUdzB2Mv01zIfyiDnw
 vV13ZskPjjTK/AzcnLYCqrQtoL0hu4Cr598MG0TRFxR7OiJ5z2P4yGqWKt0lcYESyicl
 okXQ==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Ilya Bakoulin <Ilya.Bakoulin@amd.com>, Leo Li <sunpeng.li@amd.com>,
 Alex Deucher <alexander.deucher@amd.com>,
 Dmytro Laktyushkin <Dmytro.Laktyushkin@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogSWx5YSBCYWtvdWxpbiA8SWx5YS5CYWtvdWxpbkBhbWQuY29tPgoKW1doeV0KVGhlIG91
dHB1dF9icHAgcGlwZSBwYXJhbWV0ZXIgd2FzIGFzc2lnbmVkIGFuIGluY29ycmVjdCB2YWx1ZQoo
Y29sb3IgZGVwdGggZW51bSksIGFuZCBzdWJzZXF1ZW50bHkgdXNlZCB0byBvdmVyd3JpdGUKdGhl
IE91dHB1dEJwcCBwYXJhbWV0ZXIgY2FsY3VsYXRlZCBieSBETUwuIFNlZW1zIGxpa2UgdGhpcyBo
YWQgbm8KZWZmZWN0IGV4Y2VwdCB3aXRoIERTQyBlbmFibGVkLCB3aGljaCB3b3VsZCBtYWtlIERN
TCBwcm9kdWNlCmJhZCBvdXRwdXRzLgoKW0hvd10KUmVtb3ZlZCBhc3NpZ25tZW50IHRvIE91dHB1
dEJwcCwgZml4ZWQgb3V0cHV0X2JwcCBhc3NpZ25tZW50LAphbmQgcHJvcGVybHkgc2V0IEZvcmNl
ZE91dHB1dExpbmtCUFAgaW5zdGVhZCBvZiBPdXRwdXRCcHAuCkFsc28gcmVtb3ZlZCBjb25kaXRp
b24gaW4gRE1MIHRoYXQgcHJldmVudGVkIGZvcmNpbmcgb2YKT3V0cHV0IEJQUCB3aXRoIERTQyBl
bmFibGVkLgoKU2lnbmVkLW9mZi1ieTogSWx5YSBCYWtvdWxpbiA8SWx5YS5CYWtvdWxpbkBhbWQu
Y29tPgpSZXZpZXdlZC1ieTogRG15dHJvIExha3R5dXNoa2luIDxEbXl0cm8uTGFrdHl1c2hraW5A
YW1kLmNvbT4KQWNrZWQtYnk6IExlbyBMaSA8c3VucGVuZy5saUBhbWQuY29tPgpTaWduZWQtb2Zm
LWJ5OiBBbGV4IERldWNoZXIgPGFsZXhhbmRlci5kZXVjaGVyQGFtZC5jb20+Ci0tLQogLi4uL2Ry
bS9hbWQvZGlzcGxheS9kYy9kY24yMC9kY24yMF9yZXNvdXJjZS5jIHwgNDAgKysrKysrKysrKysr
KysrKysrLQogLi4uL2RybS9hbWQvZGlzcGxheS9kYy9kbWwvZGlzcGxheV9tb2RlX3ZiYS5jIHwg
IDggKysrLQogMiBmaWxlcyBjaGFuZ2VkLCA0NSBpbnNlcnRpb25zKCspLCAzIGRlbGV0aW9ucygt
KQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24yMC9kY24y
MF9yZXNvdXJjZS5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIw
X3Jlc291cmNlLmMKaW5kZXggZDcyNmYzNmM1ZTM4Li5kNzFhMGRjZjY1MmEgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24yMC9kY24yMF9yZXNvdXJjZS5jCisr
KyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24yMC9kY24yMF9yZXNvdXJjZS5j
CkBAIC0xNjE2LDYgKzE2MTYsNyBAQCBpbnQgZGNuMjBfcG9wdWxhdGVfZG1sX3BpcGVzX2Zyb21f
Y29udGV4dCgKIAogCWZvciAoaSA9IDAsIHBpcGVfY250ID0gMDsgaSA8IGRjLT5yZXNfcG9vbC0+
cGlwZV9jb3VudDsgaSsrKSB7CiAJCXN0cnVjdCBkY19jcnRjX3RpbWluZyAqdGltaW5nID0gJnJl
c19jdHgtPnBpcGVfY3R4W2ldLnN0cmVhbS0+dGltaW5nOworCQlpbnQgb3V0cHV0X2JwYzsKIAog
CQlpZiAoIXJlc19jdHgtPnBpcGVfY3R4W2ldLnN0cmVhbSkKIAkJCWNvbnRpbnVlOwpAQCAtMTY2
NSw3ICsxNjY2LDYgQEAgaW50IGRjbjIwX3BvcHVsYXRlX2RtbF9waXBlc19mcm9tX2NvbnRleHQo
CiAJCXBpcGVzW3BpcGVfY250XS5waXBlLmRlc3QudnRvdGFsX21pbiA9IHJlc19jdHgtPnBpcGVf
Y3R4W2ldLnN0cmVhbS0+YWRqdXN0LnZfdG90YWxfbWluOwogCQlwaXBlc1twaXBlX2NudF0ucGlw
ZS5kZXN0LnZ0b3RhbF9tYXggPSByZXNfY3R4LT5waXBlX2N0eFtpXS5zdHJlYW0tPmFkanVzdC52
X3RvdGFsX21heDsKIAotCQlwaXBlc1twaXBlX2NudF0uZG91dC5vdXRwdXRfYnBwID0gcmVzX2N0
eC0+cGlwZV9jdHhbaV0uc3RyZWFtLT50aW1pbmcuZGlzcGxheV9jb2xvcl9kZXB0aDsKIAkJc3dp
dGNoIChyZXNfY3R4LT5waXBlX2N0eFtpXS5zdHJlYW0tPnNpZ25hbCkgewogCQljYXNlIFNJR05B
TF9UWVBFX0RJU1BMQVlfUE9SVF9NU1Q6CiAJCWNhc2UgU0lHTkFMX1RZUEVfRElTUExBWV9QT1JU
OgpAQCAtMTY4NCwyMiArMTY4NCw2MCBAQCBpbnQgZGNuMjBfcG9wdWxhdGVfZG1sX3BpcGVzX2Zy
b21fY29udGV4dCgKIAkJCXBpcGVzW3BpcGVfY250XS5kb3V0Lm91dHB1dF90eXBlID0gZG1fZHA7
CiAJCQlwaXBlc1twaXBlX2NudF0uZG91dC5kcF9sYW5lcyA9IDQ7CiAJCX0KKworCQlzd2l0Y2gg
KHJlc19jdHgtPnBpcGVfY3R4W2ldLnN0cmVhbS0+dGltaW5nLmRpc3BsYXlfY29sb3JfZGVwdGgp
IHsKKwkJY2FzZSBDT0xPUl9ERVBUSF82NjY6CisJCQlvdXRwdXRfYnBjID0gNjsKKwkJCWJyZWFr
OworCQljYXNlIENPTE9SX0RFUFRIXzg4ODoKKwkJCW91dHB1dF9icGMgPSA4OworCQkJYnJlYWs7
CisJCWNhc2UgQ09MT1JfREVQVEhfMTAxMDEwOgorCQkJb3V0cHV0X2JwYyA9IDEwOworCQkJYnJl
YWs7CisJCWNhc2UgQ09MT1JfREVQVEhfMTIxMjEyOgorCQkJb3V0cHV0X2JwYyA9IDEyOworCQkJ
YnJlYWs7CisJCWNhc2UgQ09MT1JfREVQVEhfMTQxNDE0OgorCQkJb3V0cHV0X2JwYyA9IDE0Owor
CQkJYnJlYWs7CisJCWNhc2UgQ09MT1JfREVQVEhfMTYxNjE2OgorCQkJb3V0cHV0X2JwYyA9IDE2
OworCQkJYnJlYWs7CisjaWZkZWYgQ09ORklHX0RSTV9BTURfRENfRENOMl8wCisJCWNhc2UgQ09M
T1JfREVQVEhfOTk5OgorCQkJb3V0cHV0X2JwYyA9IDk7CisJCQlicmVhazsKKwkJY2FzZSBDT0xP
Ul9ERVBUSF8xMTExMTE6CisJCQlvdXRwdXRfYnBjID0gMTE7CisJCQlicmVhazsKKyNlbmRpZgor
CQlkZWZhdWx0OgorCQkJb3V0cHV0X2JwYyA9IDg7CisJCQlicmVhazsKKwkJfQorCisKIAkJc3dp
dGNoIChyZXNfY3R4LT5waXBlX2N0eFtpXS5zdHJlYW0tPnRpbWluZy5waXhlbF9lbmNvZGluZykg
ewogCQljYXNlIFBJWEVMX0VOQ09ESU5HX1JHQjoKIAkJY2FzZSBQSVhFTF9FTkNPRElOR19ZQ0JD
UjQ0NDoKIAkJCXBpcGVzW3BpcGVfY250XS5kb3V0Lm91dHB1dF9mb3JtYXQgPSBkbV80NDQ7CisJ
CQlwaXBlc1twaXBlX2NudF0uZG91dC5vdXRwdXRfYnBwID0gb3V0cHV0X2JwYyAqIDM7CiAJCQli
cmVhazsKIAkJY2FzZSBQSVhFTF9FTkNPRElOR19ZQ0JDUjQyMDoKIAkJCXBpcGVzW3BpcGVfY250
XS5kb3V0Lm91dHB1dF9mb3JtYXQgPSBkbV80MjA7CisJCQlwaXBlc1twaXBlX2NudF0uZG91dC5v
dXRwdXRfYnBwID0gKG91dHB1dF9icGMgKiAzKSAvIDI7CiAJCQlicmVhazsKIAkJY2FzZSBQSVhF
TF9FTkNPRElOR19ZQ0JDUjQyMjoKIAkJCWlmICh0cnVlKSAvKiB0b2RvICovCiAJCQkJcGlwZXNb
cGlwZV9jbnRdLmRvdXQub3V0cHV0X2Zvcm1hdCA9IGRtX3M0MjI7CiAJCQllbHNlCiAJCQkJcGlw
ZXNbcGlwZV9jbnRdLmRvdXQub3V0cHV0X2Zvcm1hdCA9IGRtX240MjI7CisJCQlwaXBlc1twaXBl
X2NudF0uZG91dC5vdXRwdXRfYnBwID0gb3V0cHV0X2JwYyAqIDI7CiAJCQlicmVhazsKIAkJZGVm
YXVsdDoKIAkJCXBpcGVzW3BpcGVfY250XS5kb3V0Lm91dHB1dF9mb3JtYXQgPSBkbV80NDQ7CisJ
CQlwaXBlc1twaXBlX2NudF0uZG91dC5vdXRwdXRfYnBwID0gb3V0cHV0X2JwYyAqIDM7CiAJCX0K
IAkJcGlwZXNbcGlwZV9jbnRdLnBpcGUuc3JjLmhzcGxpdF9ncnAgPSByZXNfY3R4LT5waXBlX2N0
eFtpXS5waXBlX2lkeDsKIAkJaWYgKHJlc19jdHgtPnBpcGVfY3R4W2ldLnRvcF9waXBlICYmIHJl
c19jdHgtPnBpcGVfY3R4W2ldLnRvcF9waXBlLT5wbGFuZV9zdGF0ZQpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RtbC9kaXNwbGF5X21vZGVfdmJhLmMgYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZG1sL2Rpc3BsYXlfbW9kZV92YmEuYwppbmRleCBh
MjE2MDhjZDY3ZWYuLjRkMmExMjYyZDlkYiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9kaXNwbGF5L2RjL2RtbC9kaXNwbGF5X21vZGVfdmJhLmMKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9kaXNwbGF5L2RjL2RtbC9kaXNwbGF5X21vZGVfdmJhLmMKQEAgLTQyNyw3ICs0MjcsMTIg
QEAgc3RhdGljIHZvaWQgZmV0Y2hfcGlwZV9wYXJhbXMoc3RydWN0IGRpc3BsYXlfbW9kZV9saWIg
Km1vZGVfbGliKQogCQkJCShlbnVtIG91dHB1dF9mb3JtYXRfY2xhc3MpIChkb3V0LT5vdXRwdXRf
Zm9ybWF0KTsKIAkJbW9kZV9saWItPnZiYS5PdXRwdXRbbW9kZV9saWItPnZiYS5OdW1iZXJPZkFj
dGl2ZVBsYW5lc10gPQogCQkJCShlbnVtIG91dHB1dF9lbmNvZGVyX2NsYXNzKSAoZG91dC0+b3V0
cHV0X3R5cGUpOwotCQltb2RlX2xpYi0+dmJhLk91dHB1dEJwcFttb2RlX2xpYi0+dmJhLk51bWJl
ck9mQWN0aXZlUGxhbmVzXSA9IGRvdXQtPm91dHB1dF9icHA7CisKKwkJaWYgKCFkb3V0LT5kc2Nf
ZW5hYmxlKQorCQkJbW9kZV9saWItPnZiYS5Gb3JjZWRPdXRwdXRMaW5rQlBQW21vZGVfbGliLT52
YmEuTnVtYmVyT2ZBY3RpdmVQbGFuZXNdID0gZG91dC0+b3V0cHV0X2JwcDsKKwkJZWxzZQorCQkJ
bW9kZV9saWItPnZiYS5Gb3JjZWRPdXRwdXRMaW5rQlBQW21vZGVfbGliLT52YmEuTnVtYmVyT2ZB
Y3RpdmVQbGFuZXNdID0gMC4wOworCiAJCW1vZGVfbGliLT52YmEuT3V0cHV0TGlua0RQTGFuZXNb
bW9kZV9saWItPnZiYS5OdW1iZXJPZkFjdGl2ZVBsYW5lc10gPQogCQkJCWRvdXQtPmRwX2xhbmVz
OwogCQkvKiBUT0RPOiBOZWVkcyB0byBiZSBzZXQgYmFzZWQgb24gZG91dC0+YXVkaW8uYXVkaW9f
c2FtcGxlX3JhdGVfa2h6L3NhbXBsZV9sYXlvdXQgKi8KQEAgLTQzNiw3ICs0NDEsNiBAQCBzdGF0
aWMgdm9pZCBmZXRjaF9waXBlX3BhcmFtcyhzdHJ1Y3QgZGlzcGxheV9tb2RlX2xpYiAqbW9kZV9s
aWIpCiAJCW1vZGVfbGliLT52YmEuQXVkaW9TYW1wbGVMYXlvdXRbbW9kZV9saWItPnZiYS5OdW1i
ZXJPZkFjdGl2ZVBsYW5lc10gPQogCQkJMTsKIAkJbW9kZV9saWItPnZiYS5EUkFNQ2xvY2tDaGFu
Z2VMYXRlbmN5T3ZlcnJpZGUgPSAwLjA7Ci0KIAkJbW9kZV9saWItPnZiYS5EU0NFbmFibGVkW21v
ZGVfbGliLT52YmEuTnVtYmVyT2ZBY3RpdmVQbGFuZXNdID0gZG91dC0+ZHNjX2VuYWJsZTsKIAkJ
bW9kZV9saWItPnZiYS5OdW1iZXJPZkRTQ1NsaWNlc1ttb2RlX2xpYi0+dmJhLk51bWJlck9mQWN0
aXZlUGxhbmVzXSA9CiAJCQkJZG91dC0+ZHNjX3NsaWNlczsKLS0gCjIuMjAuMQoKX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxp
c3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3Rv
cC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4
