Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id C7523744BB
	for <lists+amd-gfx@lfdr.de>; Thu, 25 Jul 2019 07:11:22 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1055A6E4BB;
	Thu, 25 Jul 2019 05:11:21 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM02-BL2-obe.outbound.protection.outlook.com
 (mail-eopbgr750052.outbound.protection.outlook.com [40.107.75.52])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 45A066E4BB
 for <amd-gfx@lists.freedesktop.org>; Thu, 25 Jul 2019 05:11:20 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=Ijtn3B4H9iV/HiqQIhzjm5stCwtHvT6JNwBBOwO8E9EFtIofKI3Li6+SjxX+wSZGZ0nZqjFlh3VnkREOK/Jp/w35Y7rZDTzhecC81Xu4BH2xXDrJbfb5uFIc5qYsh0TR7lBM1IDug2UjFzu5kHQW+34VB4nKZG0YmZ4fLUyRVL2SP4Ko/0Tlfqh1gkzv3qCJR2XQmCzCq4gW4qwg+Wltv0ip4Y9lQDvAG9CZCz5R2Ti6yAdqzIEBe03YYnMDoQNRNiTd4LcfKOSkfFkcp4sFl5O5n7IN+wFzb6KK/UsTnb9lRs/x9vJ4oI+2MaMhm5hqbKI6uTjiNFUh5jMurgmnHw==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=1ZbVp4Si0swihBVbKNHm+OTeEgs6a8mkAEDPkYfQkf4=;
 b=GaKkCD4HEcVUdgRQz1eYDYyAsa0WHBOwg0way666v02ZbFnTCuJ+YhsAjmSvjtrL4zpRAz9efkRBwfVEbont87Gj+g2Ty6sE7QeP/pxRZ7FNDCy/PNJ2ETvkIWSuRrNntlbkCe0c1QkMoCwUwUTL7xPT7SPe17znvEEW52n93MCsdaopcdqRUxQ8wl8xOKUN2pXGkohoLaJNwQ+YJy9bH6dHaAq+pXYWRAFnTJswL4uL0I39LBrjL3JhghAfGCmXv7mPrzw8zXShBHSV2/el/ENnezWVdpgxExOk76MB1HgeifV/B/TK56MuocMj7eBPWAuah142xtAnJTkSdouOxw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1;spf=pass
 smtp.mailfrom=amd.com;dmarc=pass action=none header.from=amd.com;dkim=pass
 header.d=amd.com;arc=none
Received: from MN2PR12MB3296.namprd12.prod.outlook.com (20.179.80.139) by
 MN2PR12MB3440.namprd12.prod.outlook.com (20.178.244.26) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2094.16; Thu, 25 Jul 2019 05:11:18 +0000
Received: from MN2PR12MB3296.namprd12.prod.outlook.com
 ([fe80::ad59:f055:2417:660f]) by MN2PR12MB3296.namprd12.prod.outlook.com
 ([fe80::ad59:f055:2417:660f%6]) with mapi id 15.20.2094.013; Thu, 25 Jul 2019
 05:11:18 +0000
From: "Wang, Kevin(Yang)" <Kevin1.Wang@amd.com>
To: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: [PATCH 4/5] drm/amd/powerplay: move smu_feature_update_enable_state
 to up level
Thread-Topic: [PATCH 4/5] drm/amd/powerplay: move
 smu_feature_update_enable_state to up level
Thread-Index: AQHVQqdkNMa/ISspb0aOL9eEiBcMHQ==
Date: Thu, 25 Jul 2019 05:11:18 +0000
Message-ID: <20190725051057.28862-4-kevin1.wang@amd.com>
References: <20190725051057.28862-1-kevin1.wang@amd.com>
In-Reply-To: <20190725051057.28862-1-kevin1.wang@amd.com>
Accept-Language: en-US, zh-CN
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: HK2PR04CA0050.apcprd04.prod.outlook.com
 (2603:1096:202:14::18) To MN2PR12MB3296.namprd12.prod.outlook.com
 (2603:10b6:208:aa::11)
x-ms-exchange-messagesentrepresentingtype: 1
x-mailer: git-send-email 2.22.0
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: d2e35a00-6903-4d5f-35ae-08d710be867f
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:MN2PR12MB3440; 
x-ms-traffictypediagnostic: MN2PR12MB3440:
x-microsoft-antispam-prvs: <MN2PR12MB34407A9512F87B03942546D3A2C10@MN2PR12MB3440.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:3826;
x-forefront-prvs: 0109D382B0
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(346002)(39860400002)(376002)(366004)(396003)(136003)(199004)(189003)(2501003)(6916009)(6512007)(478600001)(2906002)(81166006)(81156014)(14454004)(66066001)(68736007)(8936002)(53936002)(446003)(186003)(6506007)(7736002)(50226002)(52116002)(66446008)(86362001)(305945005)(5640700003)(2616005)(6436002)(6486002)(4326008)(1076003)(26005)(386003)(476003)(11346002)(3846002)(71190400001)(256004)(6116002)(54906003)(71200400001)(2351001)(76176011)(5660300002)(25786009)(36756003)(316002)(486006)(66476007)(8676002)(66556008)(64756008)(99286004)(102836004)(66946007)(14444005);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MN2PR12MB3440;
 H:MN2PR12MB3296.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: g7lgF9SuHP0xKRBZLaYQ4R1CaHtMxhxNbnXSr4lo18FGekgL4p9vXFw5kSIAh0yMQck+OMneCyDaxAfcgBloLTiDlrzc6I7dP8WyCzqGbU9HOhvfUZccBk1PBin7QjjaVNz21p3YXk1hiXmyJX6P0Pz+2W4CQGVol1lVIfv8hTa0VPxwqLEhUOursDExP/9sOpfXBY7UKladBExCca+bePr04/qv2rvAmfHr24AOLvsHhKB8uGROLYxtQpM2UA/thVzQj9aAbBJu6vUQ5QZ8LGiJN8ymO2K5nfFxkI5qs1NHKrh0Bi5lz/P1cOJHEwHqlwze8aaMkcH0YH1WNDX1NDnblHekcTu4SpvjCPrwk6h73zWz3FCM8aK2qHtElRgKjNdvaTOkkq0O3kY8g8zD+hp9c+yHa7dMyRrac9fUWmY=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: d2e35a00-6903-4d5f-35ae-08d710be867f
X-MS-Exchange-CrossTenant-originalarrivaltime: 25 Jul 2019 05:11:18.4227 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: kevwa@amd.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB3440
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=1ZbVp4Si0swihBVbKNHm+OTeEgs6a8mkAEDPkYfQkf4=;
 b=q07f3YldYibH3My98I3CzpmN0VgDOgtdP+ySYFyC7atgSBFCZDvCUp9Cg3e6vOwkaDqlvF2QOAHotRGQc+rAcnv/tex8hGzKN6CIgx227J5WKULMLkUc7PpnVg9PuEIHfU3ChHrtDS2FO7rDrypMHUWWrWn1RzI7EBd8jaY2F8M=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Kevin1.Wang@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Deucher, Alexander" <Alexander.Deucher@amd.com>, "Huang,
 Ray" <Ray.Huang@amd.com>, "Feng, Kenneth" <Kenneth.Feng@amd.com>, "Wang,
 Kevin\(Yang\)" <Kevin1.Wang@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

dGhpcyBmdW5jdGlvbiBpcyBub3QgaXAgb3IgYXNpYyByZWxhdGVkIGZ1bmN0aW9uLApzbyBtb3Zl
IGl0IHRvIHRvcCBsZXZlbCBhcyBwdWJsaWMgYXBpIGluIHNtdS4KClNpZ25lZC1vZmYtYnk6IEtl
dmluIFdhbmcgPGtldmluMS53YW5nQGFtZC5jb20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2FtZC9w
b3dlcnBsYXkvYW1kZ3B1X3NtdS5jICAgIHwgNDAgKysrKysrKysrKysrKysrKysrLQogLi4uL2dw
dS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvYW1kZ3B1X3NtdS5oICAgIHwgIDQgKy0KIGRyaXZlcnMv
Z3B1L2RybS9hbWQvcG93ZXJwbGF5L3NtdV92MTFfMC5jICAgICB8IDM5IC0tLS0tLS0tLS0tLS0t
LS0tLQogMyBmaWxlcyBjaGFuZ2VkLCA0MCBpbnNlcnRpb25zKCspLCA0MyBkZWxldGlvbnMoLSkK
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9hbWRncHVfc211LmMg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9hbWRncHVfc211LmMKaW5kZXggODU2M2Y5
MDgzZjRlLi5lODgxZGU5NTUzODggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93
ZXJwbGF5L2FtZGdwdV9zbXUuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9h
bWRncHVfc211LmMKQEAgLTUwNyw2ICs1MDcsNDEgQEAgaW50IHNtdV9mZWF0dXJlX2luaXRfZHBt
KHN0cnVjdCBzbXVfY29udGV4dCAqc211KQogCiAJcmV0dXJuIHJldDsKIH0KK2ludCBzbXVfZmVh
dHVyZV91cGRhdGVfZW5hYmxlX3N0YXRlKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCB1aW50NjRf
dCBmZWF0dXJlX21hc2ssIGJvb2wgZW5hYmxlZCkKK3sKKwl1aW50MzJfdCBmZWF0dXJlX2xvdyA9
IDAsIGZlYXR1cmVfaGlnaCA9IDA7CisJaW50IHJldCA9IDA7CisKKwlpZiAoIXNtdS0+cG1fZW5h
YmxlZCkKKwkJcmV0dXJuIHJldDsKKworCWZlYXR1cmVfbG93ID0gKGZlYXR1cmVfbWFzayA+PiAw
ICkgJiAweGZmZmZmZmZmOworCWZlYXR1cmVfaGlnaCA9IChmZWF0dXJlX21hc2sgPj4gMzIpICYg
MHhmZmZmZmZmZjsKKworCWlmIChlbmFibGVkKSB7CisJCXJldCA9IHNtdV9zZW5kX3NtY19tc2df
d2l0aF9wYXJhbShzbXUsIFNNVV9NU0dfRW5hYmxlU211RmVhdHVyZXNMb3csCisJCQkJCQkgIGZl
YXR1cmVfbG93KTsKKwkJaWYgKHJldCkKKwkJCXJldHVybiByZXQ7CisJCXJldCA9IHNtdV9zZW5k
X3NtY19tc2dfd2l0aF9wYXJhbShzbXUsIFNNVV9NU0dfRW5hYmxlU211RmVhdHVyZXNIaWdoLAor
CQkJCQkJICBmZWF0dXJlX2hpZ2gpOworCQlpZiAocmV0KQorCQkJcmV0dXJuIHJldDsKKworCX0g
ZWxzZSB7CisJCXJldCA9IHNtdV9zZW5kX3NtY19tc2dfd2l0aF9wYXJhbShzbXUsIFNNVV9NU0df
RGlzYWJsZVNtdUZlYXR1cmVzTG93LAorCQkJCQkJICBmZWF0dXJlX2xvdyk7CisJCWlmIChyZXQp
CisJCQlyZXR1cm4gcmV0OworCQlyZXQgPSBzbXVfc2VuZF9zbWNfbXNnX3dpdGhfcGFyYW0oc211
LCBTTVVfTVNHX0Rpc2FibGVTbXVGZWF0dXJlc0hpZ2gsCisJCQkJCQkgIGZlYXR1cmVfaGlnaCk7
CisJCWlmIChyZXQpCisJCQlyZXR1cm4gcmV0OworCisJfQorCisJcmV0dXJuIHJldDsKK30KIAog
aW50IHNtdV9mZWF0dXJlX2lzX2VuYWJsZWQoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGVudW0g
c211X2ZlYXR1cmVfbWFzayBtYXNrKQogewpAQCAtNTMyLDYgKzU2Nyw3IEBAIGludCBzbXVfZmVh
dHVyZV9zZXRfZW5hYmxlZChzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgZW51bSBzbXVfZmVhdHVy
ZV9tYXNrIG1hc2ssCiB7CiAJc3RydWN0IHNtdV9mZWF0dXJlICpmZWF0dXJlID0gJnNtdS0+c211
X2ZlYXR1cmU7CiAJaW50IGZlYXR1cmVfaWQ7CisJdWludDY0X3QgZmVhdHVyZV9tYXNrID0gMDsK
IAlpbnQgcmV0ID0gMDsKIAogCWZlYXR1cmVfaWQgPSBzbXVfZmVhdHVyZV9nZXRfaW5kZXgoc211
LCBtYXNrKTsKQEAgLTU0MCw4ICs1NzYsMTAgQEAgaW50IHNtdV9mZWF0dXJlX3NldF9lbmFibGVk
KHN0cnVjdCBzbXVfY29udGV4dCAqc211LCBlbnVtIHNtdV9mZWF0dXJlX21hc2sgbWFzaywKIAog
CVdBUk5fT04oZmVhdHVyZV9pZCA+IGZlYXR1cmUtPmZlYXR1cmVfbnVtKTsKIAorCWZlYXR1cmVf
bWFzayA9IDFVTCA8PCBmZWF0dXJlX2lkOworCiAJbXV0ZXhfbG9jaygmZmVhdHVyZS0+bXV0ZXgp
OwotCXJldCA9IHNtdV9mZWF0dXJlX3VwZGF0ZV9lbmFibGVfc3RhdGUoc211LCBmZWF0dXJlX2lk
LCBlbmFibGUpOworCXJldCA9IHNtdV9mZWF0dXJlX3VwZGF0ZV9lbmFibGVfc3RhdGUoc211LCBm
ZWF0dXJlX21hc2ssIGVuYWJsZSk7CiAJaWYgKHJldCkKIAkJZ290byBmYWlsZWQ7CiAKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2luYy9hbWRncHVfc211LmggYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvYW1kZ3B1X3NtdS5oCmluZGV4IGJhMjM4
NTAyNmI4OS4uYWJjMjY0NGI0YzA3IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bv
d2VycGxheS9pbmMvYW1kZ3B1X3NtdS5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJw
bGF5L2luYy9hbWRncHVfc211LmgKQEAgLTQ3OSw3ICs0NzksNiBAQCBzdHJ1Y3Qgc211X2Z1bmNz
CiAJaW50ICgqaW5pdF9kaXNwbGF5X2NvdW50KShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgdWlu
dDMyX3QgY291bnQpOwogCWludCAoKnNldF9hbGxvd2VkX21hc2spKHN0cnVjdCBzbXVfY29udGV4
dCAqc211KTsKIAlpbnQgKCpnZXRfZW5hYmxlZF9tYXNrKShzdHJ1Y3Qgc211X2NvbnRleHQgKnNt
dSwgdWludDMyX3QgKmZlYXR1cmVfbWFzaywgdWludDMyX3QgbnVtKTsKLQlpbnQgKCp1cGRhdGVf
ZmVhdHVyZV9lbmFibGVfc3RhdGUpKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCB1aW50MzJfdCBm
ZWF0dXJlX2lkLCBib29sIGVuYWJsZWQpOwogCWludCAoKm5vdGlmeV9kaXNwbGF5X2NoYW5nZSko
c3RydWN0IHNtdV9jb250ZXh0ICpzbXUpOwogCWludCAoKmdldF9wb3dlcl9saW1pdCkoc3RydWN0
IHNtdV9jb250ZXh0ICpzbXUsIHVpbnQzMl90ICpsaW1pdCwgYm9vbCBkZWYpOwogCWludCAoKnNl
dF9wb3dlcl9saW1pdCkoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIHVpbnQzMl90IG4pOwpAQCAt
NTk1LDggKzU5NCw2IEBAIHN0cnVjdCBzbXVfZnVuY3MKIAkoKHNtdSktPmZ1bmNzLT5nZXRfZW5h
YmxlZF9tYXNrPyAoc211KS0+ZnVuY3MtPmdldF9lbmFibGVkX21hc2soKHNtdSksIChtYXNrKSwg
KG51bSkpIDogMCkKICNkZWZpbmUgc211X2lzX2RwbV9ydW5uaW5nKHNtdSkgXAogCSgoc211KS0+
cHB0X2Z1bmNzLT5pc19kcG1fcnVubmluZyA/IChzbXUpLT5wcHRfZnVuY3MtPmlzX2RwbV9ydW5u
aW5nKChzbXUpKSA6IDApCi0jZGVmaW5lIHNtdV9mZWF0dXJlX3VwZGF0ZV9lbmFibGVfc3RhdGUo
c211LCBmZWF0dXJlX2lkLCBlbmFibGVkKSBcCi0JKChzbXUpLT5mdW5jcy0+dXBkYXRlX2ZlYXR1
cmVfZW5hYmxlX3N0YXRlPyAoc211KS0+ZnVuY3MtPnVwZGF0ZV9mZWF0dXJlX2VuYWJsZV9zdGF0
ZSgoc211KSwgKGZlYXR1cmVfaWQpLCAoZW5hYmxlZCkpIDogMCkKICNkZWZpbmUgc211X25vdGlm
eV9kaXNwbGF5X2NoYW5nZShzbXUpIFwKIAkoKHNtdSktPmZ1bmNzLT5ub3RpZnlfZGlzcGxheV9j
aGFuZ2U/IChzbXUpLT5mdW5jcy0+bm90aWZ5X2Rpc3BsYXlfY2hhbmdlKChzbXUpKSA6IDApCiAj
ZGVmaW5lIHNtdV9zdG9yZV9wb3dlcnBsYXlfdGFibGUoc211KSBcCkBAIC04MDQsNiArODAxLDcg
QEAgZW51bSBhbWRfZHBtX2ZvcmNlZF9sZXZlbCBzbXVfZ2V0X3BlcmZvcm1hbmNlX2xldmVsKHN0
cnVjdCBzbXVfY29udGV4dCAqc211KTsKIGludCBzbXVfZm9yY2VfcGVyZm9ybWFuY2VfbGV2ZWwo
c3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGVudW0gYW1kX2RwbV9mb3JjZWRfbGV2ZWwgbGV2ZWwp
OwogaW50IHNtdV9zZXRfZGlzcGxheV9jb3VudChzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgdWlu
dDMyX3QgY291bnQpOwogYm9vbCBzbXVfY2xrX2RwbV9pc19lbmFibGVkKHN0cnVjdCBzbXVfY29u
dGV4dCAqc211LCBlbnVtIHNtdV9jbGtfdHlwZSBjbGtfdHlwZSk7CitpbnQgc211X2ZlYXR1cmVf
dXBkYXRlX2VuYWJsZV9zdGF0ZShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgdWludDY0X3QgZmVh
dHVyZV9tYXNrLCBib29sIGVuYWJsZWQpOwogY29uc3QgY2hhciAqc211X2dldF9tZXNzYWdlX25h
bWUoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGVudW0gc211X21lc3NhZ2VfdHlwZSB0eXBlKTsK
IGNvbnN0IGNoYXIgKnNtdV9nZXRfZmVhdHVyZV9uYW1lKHN0cnVjdCBzbXVfY29udGV4dCAqc211
LCBlbnVtIHNtdV9mZWF0dXJlX21hc2sgZmVhdHVyZSk7CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvcG93ZXJwbGF5L3NtdV92MTFfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9w
b3dlcnBsYXkvc211X3YxMV8wLmMKaW5kZXggY2NmNmFmMDU1ZDAzLi45M2YzZmZiOGI0NzEgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3NtdV92MTFfMC5jCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3NtdV92MTFfMC5jCkBAIC03OTUsNDQgKzc5
NSw2IEBAIHN0YXRpYyBpbnQgc211X3YxMV8wX2luaXRfZGlzcGxheV9jb3VudChzdHJ1Y3Qgc211
X2NvbnRleHQgKnNtdSwgdWludDMyX3QgY291bnQpCiAJcmV0dXJuIHJldDsKIH0KIAotc3RhdGlj
IGludCBzbXVfdjExXzBfdXBkYXRlX2ZlYXR1cmVfZW5hYmxlX3N0YXRlKHN0cnVjdCBzbXVfY29u
dGV4dCAqc211LCB1aW50MzJfdCBmZWF0dXJlX2lkLCBib29sIGVuYWJsZWQpCi17Ci0JdWludDMy
X3QgZmVhdHVyZV9sb3cgPSAwLCBmZWF0dXJlX2hpZ2ggPSAwOwotCWludCByZXQgPSAwOwotCi0J
aWYgKCFzbXUtPnBtX2VuYWJsZWQpCi0JCXJldHVybiByZXQ7Ci0JaWYgKGZlYXR1cmVfaWQgPj0g
MCAmJiBmZWF0dXJlX2lkIDwgMzEpCi0JCWZlYXR1cmVfbG93ID0gKDEgPDwgZmVhdHVyZV9pZCk7
Ci0JZWxzZSBpZiAoZmVhdHVyZV9pZCA+IDMxICYmIGZlYXR1cmVfaWQgPCA2MykKLQkJZmVhdHVy
ZV9oaWdoID0gKDEgPDwgZmVhdHVyZV9pZCk7Ci0JZWxzZQotCQlyZXR1cm4gLUVJTlZBTDsKLQot
CWlmIChlbmFibGVkKSB7Ci0JCXJldCA9IHNtdV9zZW5kX3NtY19tc2dfd2l0aF9wYXJhbShzbXUs
IFNNVV9NU0dfRW5hYmxlU211RmVhdHVyZXNMb3csCi0JCQkJCQkgIGZlYXR1cmVfbG93KTsKLQkJ
aWYgKHJldCkKLQkJCXJldHVybiByZXQ7Ci0JCXJldCA9IHNtdV9zZW5kX3NtY19tc2dfd2l0aF9w
YXJhbShzbXUsIFNNVV9NU0dfRW5hYmxlU211RmVhdHVyZXNIaWdoLAotCQkJCQkJICBmZWF0dXJl
X2hpZ2gpOwotCQlpZiAocmV0KQotCQkJcmV0dXJuIHJldDsKLQotCX0gZWxzZSB7Ci0JCXJldCA9
IHNtdV9zZW5kX3NtY19tc2dfd2l0aF9wYXJhbShzbXUsIFNNVV9NU0dfRGlzYWJsZVNtdUZlYXR1
cmVzTG93LAotCQkJCQkJICBmZWF0dXJlX2xvdyk7Ci0JCWlmIChyZXQpCi0JCQlyZXR1cm4gcmV0
OwotCQlyZXQgPSBzbXVfc2VuZF9zbWNfbXNnX3dpdGhfcGFyYW0oc211LCBTTVVfTVNHX0Rpc2Fi
bGVTbXVGZWF0dXJlc0hpZ2gsCi0JCQkJCQkgIGZlYXR1cmVfaGlnaCk7Ci0JCWlmIChyZXQpCi0J
CQlyZXR1cm4gcmV0OwotCi0JfQotCi0JcmV0dXJuIHJldDsKLX0KIAogc3RhdGljIGludCBzbXVf
djExXzBfc2V0X2FsbG93ZWRfbWFzayhzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSkKIHsKQEAgLTE3
ODEsNyArMTc0Myw2IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3Qgc211X2Z1bmNzIHNtdV92MTFfMF9m
dW5jcyA9IHsKIAkuc2V0X2FsbG93ZWRfbWFzayA9IHNtdV92MTFfMF9zZXRfYWxsb3dlZF9tYXNr
LAogCS5nZXRfZW5hYmxlZF9tYXNrID0gc211X3YxMV8wX2dldF9lbmFibGVkX21hc2ssCiAJLnN5
c3RlbV9mZWF0dXJlc19jb250cm9sID0gc211X3YxMV8wX3N5c3RlbV9mZWF0dXJlc19jb250cm9s
LAotCS51cGRhdGVfZmVhdHVyZV9lbmFibGVfc3RhdGUgPSBzbXVfdjExXzBfdXBkYXRlX2ZlYXR1
cmVfZW5hYmxlX3N0YXRlLAogCS5ub3RpZnlfZGlzcGxheV9jaGFuZ2UgPSBzbXVfdjExXzBfbm90
aWZ5X2Rpc3BsYXlfY2hhbmdlLAogCS5nZXRfcG93ZXJfbGltaXQgPSBzbXVfdjExXzBfZ2V0X3Bv
d2VyX2xpbWl0LAogCS5zZXRfcG93ZXJfbGltaXQgPSBzbXVfdjExXzBfc2V0X3Bvd2VyX2xpbWl0
LAotLSAKMi4yMi4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpo
dHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZng=
