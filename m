Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 1AA4117E0AE
	for <lists+amd-gfx@lfdr.de>; Mon,  9 Mar 2020 13:56:04 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 93B5C897B4;
	Mon,  9 Mar 2020 12:56:02 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-wr1-x444.google.com (mail-wr1-x444.google.com
 [IPv6:2a00:1450:4864:20::444])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 77C8B896E9
 for <amd-gfx@lists.freedesktop.org>; Mon,  9 Mar 2020 12:56:01 +0000 (UTC)
Received: by mail-wr1-x444.google.com with SMTP id r15so5927073wrx.6
 for <amd-gfx@lists.freedesktop.org>; Mon, 09 Mar 2020 05:56:01 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=n8U5gp1FY4BE96E9I/mR8AMz3bNP3zx4Qs5ScCs/Wz0=;
 b=B0Inh7e9czmmDN6MKNRA7o5g29zaSh3ZnqpzRnVSNavz7MkGMFCaCvopvmH+G4RlZb
 s5G0hwF3hNDP2nB9N1gQ2mrf+bkac/HPXl4RWofEKjiMVaeQj2vT+6BPMwRc0OsTjCWZ
 K6TRH4vEyBKrKm0iaJmVqm4QgysAatxrZfyqA8+3k7VH+f2X0g+NkVIH2MbPzl0ty7Mu
 rWDTY8kbYo0EOOojFIWWslwfliWJgA9XPjaulXiVnErhyemZ/nHcY8isFntIFIyoXMrm
 h3vcbgquyeLnjC+szyzbssYukYzUVkzWPEMKZ6truLAYiE9Tk/jRBBxpApdFJ8eIc948
 bdgA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=n8U5gp1FY4BE96E9I/mR8AMz3bNP3zx4Qs5ScCs/Wz0=;
 b=R6bYX+WHF3fUiCpgaARGFDz2NSv4TRPKi0E3/I30r8J1rkE8Xx45IMLvtLUTZW+CBn
 rqJ+Zn772b2/5HfQ8AqNAW92+uOJMOYi7xicawGnccdZ6lGV9H4WHgLkV++5Hk7Hk5Pm
 pz/p+m5PgBe+8iuZUbGDuzY/fxMXaf2HPCnNch13t+Jht8zWX0mR3M7Wkf6GD0UWgfA7
 EyRQz3RdHSNnPjXE7fTGlC/+rHVPFa7VTXTI+TYMJrsPrE5q7oVCvMsgUf5f1IDLXrho
 /Cemrmcyk1NXTcxhps3kcRVgx2ADjmLT63cckqGYn65X5KaPIaN+gUH/qol2gnsTnoiR
 eSXw==
X-Gm-Message-State: ANhLgQ1n4AUtF+Ei+7oFvoh3wy/fiWwAb33pJ2m9XPXvmLeGpL+mrnvU
 1u3k6Q03m928AUhsarkOXM6fmdnTDgU=
X-Google-Smtp-Source: ADFU+vufwMjYefBVMX7T5fcOiDezfutKsDIYMpRRAmkQ5eCECbd4QtSh9RZxEme6cL0CVQcR4XAQ1A==
X-Received: by 2002:a5d:65c5:: with SMTP id e5mr4746262wrw.161.1583758559503; 
 Mon, 09 Mar 2020 05:55:59 -0700 (PDT)
Received: from brihaspati.fritz.box
 (p200300C58F2ACB00753B9E7FA9FFF13D.dip0.t-ipconnect.de.
 [2003:c5:8f2a:cb00:753b:9e7f:a9ff:f13d])
 by smtp.gmail.com with ESMTPSA id z19sm2950426wma.41.2020.03.09.05.55.58
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Mon, 09 Mar 2020 05:55:58 -0700 (PDT)
From: Nirmoy Das <nirmoy.aiemd@gmail.com>
X-Google-Original-From: Nirmoy Das <nirmoy.das@amd.com>
To: amd-gfx@lists.freedesktop.org
Subject: [PATCH 4/4] drm/amdgpu: remove unused functions
Date: Mon,  9 Mar 2020 13:59:20 +0100
Message-Id: <20200309125920.7437-4-nirmoy.das@amd.com>
X-Mailer: git-send-email 2.25.0
In-Reply-To: <20200309125920.7437-1-nirmoy.das@amd.com>
References: <20200309125920.7437-1-nirmoy.das@amd.com>
MIME-Version: 1.0
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: alexander.deucher@amd.com, Ray.Huang@amd.com, nirmoy.das@amd.com,
 christian.koenig@amd.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

QU1ER1BVIHN0YXRpY2FsbHkgc2V0cyBwcmlvcml0eSBmb3IgY29tcHV0ZSBxdWV1ZXMKYXQgaW5p
dGlhbGl6YXRpb24gc28gcmVtb3ZlIGFsbCB0aGUgZnVuY3Rpb25zCnJlc3BvbnNpYmxlIGZvciBj
aGFuZ2luZyBjb21wdXRlIHF1ZXVlIHByaW9yaXR5IGR5bmFtaWNhbGx5LgoKU2lnbmVkLW9mZi1i
eTogTmlybW95IERhcyA8bmlybW95LmRhc0BhbWQuY29tPgpSZXZpZXdlZC1ieTogQ2hyaXN0aWFu
IEvDtm5pZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2FtZGdwdV9yaW5nLmMgfCAgNzAgLS0tLS0tLS0tLS0tLS0tLQogZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3JpbmcuaCB8ICAgNyAtLQogZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvZ2Z4X3Y4XzAuYyAgICB8ICA5OSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiBk
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjlfMC5jICAgIHwgMTAwIC0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tCiA0IGZpbGVzIGNoYW5nZWQsIDI3NiBkZWxldGlvbnMoLSkKCmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfcmluZy5jIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3JpbmcuYwppbmRleCBjYTZiNTIwNTRiNGIuLmE3ZTFk
MDQyNWVkMCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3Jp
bmcuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfcmluZy5jCkBAIC0x
NTAsNzYgKzE1MCw2IEBAIHZvaWQgYW1kZ3B1X3JpbmdfdW5kbyhzdHJ1Y3QgYW1kZ3B1X3Jpbmcg
KnJpbmcpCiAJCXJpbmctPmZ1bmNzLT5lbmRfdXNlKHJpbmcpOwogfQogCi0vKioKLSAqIGFtZGdw
dV9yaW5nX3ByaW9yaXR5X3B1dCAtIHJlc3RvcmUgYSByaW5nJ3MgcHJpb3JpdHkKLSAqCi0gKiBA
cmluZzogYW1kZ3B1X3Jpbmcgc3RydWN0dXJlIGhvbGRpbmcgdGhlIGluZm9ybWF0aW9uCi0gKiBA
cHJpb3JpdHk6IHRhcmdldCBwcmlvcml0eQotICoKLSAqIFJlbGVhc2UgYSByZXF1ZXN0IGZvciBl
eGVjdXRpbmcgYXQgQHByaW9yaXR5Ci0gKi8KLXZvaWQgYW1kZ3B1X3JpbmdfcHJpb3JpdHlfcHV0
KHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywKLQkJCSAgICAgIGVudW0gZHJtX3NjaGVkX3ByaW9y
aXR5IHByaW9yaXR5KQotewotCWludCBpOwotCi0JaWYgKCFyaW5nLT5mdW5jcy0+c2V0X3ByaW9y
aXR5KQotCQlyZXR1cm47Ci0KLQlpZiAoYXRvbWljX2RlY19yZXR1cm4oJnJpbmctPm51bV9qb2Jz
W3ByaW9yaXR5XSkgPiAwKQotCQlyZXR1cm47Ci0KLQkvKiBubyBuZWVkIHRvIHJlc3RvcmUgaWYg
dGhlIGpvYiBpcyBhbHJlYWR5IGF0IHRoZSBsb3dlc3QgcHJpb3JpdHkgKi8KLQlpZiAocHJpb3Jp
dHkgPT0gRFJNX1NDSEVEX1BSSU9SSVRZX05PUk1BTCkKLQkJcmV0dXJuOwotCi0JbXV0ZXhfbG9j
aygmcmluZy0+cHJpb3JpdHlfbXV0ZXgpOwotCS8qIHNvbWV0aGluZyBoaWdoZXIgcHJpbyBpcyBl
eGVjdXRpbmcsIG5vIG5lZWQgdG8gZGVjYXkgKi8KLQlpZiAocmluZy0+cHJpb3JpdHkgPiBwcmlv
cml0eSkKLQkJZ290byBvdXRfdW5sb2NrOwotCi0JLyogZGVjYXkgcHJpb3JpdHkgdG8gdGhlIG5l
eHQgbGV2ZWwgd2l0aCBhIGpvYiBhdmFpbGFibGUgKi8KLQlmb3IgKGkgPSBwcmlvcml0eTsgaSA+
PSBEUk1fU0NIRURfUFJJT1JJVFlfTUlOOyBpLS0pIHsKLQkJaWYgKGkgPT0gRFJNX1NDSEVEX1BS
SU9SSVRZX05PUk1BTAotCQkJCXx8IGF0b21pY19yZWFkKCZyaW5nLT5udW1fam9ic1tpXSkpIHsK
LQkJCXJpbmctPnByaW9yaXR5ID0gaTsKLQkJCXJpbmctPmZ1bmNzLT5zZXRfcHJpb3JpdHkocmlu
ZywgaSk7Ci0JCQlicmVhazsKLQkJfQotCX0KLQotb3V0X3VubG9jazoKLQltdXRleF91bmxvY2so
JnJpbmctPnByaW9yaXR5X211dGV4KTsKLX0KLQotLyoqCi0gKiBhbWRncHVfcmluZ19wcmlvcml0
eV9nZXQgLSBjaGFuZ2UgdGhlIHJpbmcncyBwcmlvcml0eQotICoKLSAqIEByaW5nOiBhbWRncHVf
cmluZyBzdHJ1Y3R1cmUgaG9sZGluZyB0aGUgaW5mb3JtYXRpb24KLSAqIEBwcmlvcml0eTogdGFy
Z2V0IHByaW9yaXR5Ci0gKgotICogUmVxdWVzdCBhIHJpbmcncyBwcmlvcml0eSB0byBiZSByYWlz
ZWQgdG8gQHByaW9yaXR5IChyZWZjb3VudGVkKS4KLSAqLwotdm9pZCBhbWRncHVfcmluZ19wcmlv
cml0eV9nZXQoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLAotCQkJICAgICAgZW51bSBkcm1fc2No
ZWRfcHJpb3JpdHkgcHJpb3JpdHkpCi17Ci0JaWYgKCFyaW5nLT5mdW5jcy0+c2V0X3ByaW9yaXR5
KQotCQlyZXR1cm47Ci0KLQlpZiAoYXRvbWljX2luY19yZXR1cm4oJnJpbmctPm51bV9qb2JzW3By
aW9yaXR5XSkgPD0gMCkKLQkJcmV0dXJuOwotCi0JbXV0ZXhfbG9jaygmcmluZy0+cHJpb3JpdHlf
bXV0ZXgpOwotCWlmIChwcmlvcml0eSA8PSByaW5nLT5wcmlvcml0eSkKLQkJZ290byBvdXRfdW5s
b2NrOwotCi0JcmluZy0+cHJpb3JpdHkgPSBwcmlvcml0eTsKLQlyaW5nLT5mdW5jcy0+c2V0X3By
aW9yaXR5KHJpbmcsIHByaW9yaXR5KTsKLQotb3V0X3VubG9jazoKLQltdXRleF91bmxvY2soJnJp
bmctPnByaW9yaXR5X211dGV4KTsKLX0KLQogLyoqCiAgKiBhbWRncHVfcmluZ19pbml0IC0gaW5p
dCBkcml2ZXIgcmluZyBzdHJ1Y3QuCiAgKgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1X3JpbmcuaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdw
dV9yaW5nLmgKaW5kZXggZGNlYTFlZjkyODgzLi45YTQ0MzAxM2Q3MGQgMTAwNjQ0Ci0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9yaW5nLmgKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3JpbmcuaApAQCAtMTY3LDkgKzE2Nyw2IEBAIHN0cnVjdCBh
bWRncHVfcmluZ19mdW5jcyB7CiAJCQkJCXVpbnQzMl90IHJlZzAsIHVpbnQzMl90IHJlZzEsCiAJ
CQkJCXVpbnQzMl90IHJlZiwgdWludDMyX3QgbWFzayk7CiAJdm9pZCAoKmVtaXRfdG16KShzdHJ1
Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsIGJvb2wgc3RhcnQpOwotCS8qIHByaW9yaXR5IGZ1bmN0aW9u
cyAqLwotCXZvaWQgKCpzZXRfcHJpb3JpdHkpIChzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsCi0J
CQkgICAgICBlbnVtIGRybV9zY2hlZF9wcmlvcml0eSBwcmlvcml0eSk7CiAJLyogVHJ5IHRvIHNv
ZnQgcmVjb3ZlciB0aGUgcmluZyB0byBtYWtlIHRoZSBmZW5jZSBzaWduYWwgKi8KIAl2b2lkICgq
c29mdF9yZWNvdmVyeSkoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLCB1bnNpZ25lZCB2bWlkKTsK
IAlpbnQgKCpwcmVlbXB0X2liKShzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcpOwpAQCAtMjU5LDEw
ICsyNTYsNiBAQCB2b2lkIGFtZGdwdV9yaW5nX2luc2VydF9ub3Aoc3RydWN0IGFtZGdwdV9yaW5n
ICpyaW5nLCB1aW50MzJfdCBjb3VudCk7CiB2b2lkIGFtZGdwdV9yaW5nX2dlbmVyaWNfcGFkX2li
KHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywgc3RydWN0IGFtZGdwdV9pYiAqaWIpOwogdm9pZCBh
bWRncHVfcmluZ19jb21taXQoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nKTsKIHZvaWQgYW1kZ3B1
X3JpbmdfdW5kbyhzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcpOwotdm9pZCBhbWRncHVfcmluZ19w
cmlvcml0eV9nZXQoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLAotCQkJICAgICAgZW51bSBkcm1f
c2NoZWRfcHJpb3JpdHkgcHJpb3JpdHkpOwotdm9pZCBhbWRncHVfcmluZ19wcmlvcml0eV9wdXQo
c3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLAotCQkJICAgICAgZW51bSBkcm1fc2NoZWRfcHJpb3Jp
dHkgcHJpb3JpdHkpOwogaW50IGFtZGdwdV9yaW5nX2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2Ug
KmFkZXYsIHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywKIAkJICAgICB1bnNpZ25lZCByaW5nX3Np
emUsIHN0cnVjdCBhbWRncHVfaXJxX3NyYyAqaXJxX3NyYywKIAkJICAgICB1bnNpZ25lZCBpcnFf
dHlwZSk7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjhfMC5j
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3Y4XzAuYwppbmRleCA3NWJkNzYxNWU2
ZWIuLmZjMzI1ODZlZjgwYiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
Z2Z4X3Y4XzAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjhfMC5jCkBA
IC02Mjc1LDEwNCArNjI3NSw2IEBAIHN0YXRpYyB2b2lkIGdmeF92OF8wX3Jpbmdfc2V0X3dwdHJf
Y29tcHV0ZShzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcpCiAJV0RPT1JCRUxMMzIocmluZy0+ZG9v
cmJlbGxfaW5kZXgsIGxvd2VyXzMyX2JpdHMocmluZy0+d3B0cikpOwogfQogCi1zdGF0aWMgdm9p
ZCBnZnhfdjhfMF9yaW5nX3NldF9waXBlX3BlcmNlbnQoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5n
LAotCQkJCQkgICBib29sIGFjcXVpcmUpCi17Ci0Jc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYg
PSByaW5nLT5hZGV2OwotCWludCBwaXBlX251bSwgdG1wLCByZWc7Ci0JaW50IHBpcGVfcGVyY2Vu
dCA9IGFjcXVpcmUgPyBTUElfV0NMX1BJUEVfUEVSQ0VOVF9HRlhfX1ZBTFVFX01BU0sgOiAweDE7
Ci0KLQlwaXBlX251bSA9IHJpbmctPm1lICogYWRldi0+Z2Z4Lm1lYy5udW1fcGlwZV9wZXJfbWVj
ICsgcmluZy0+cGlwZTsKLQotCS8qIGZpcnN0IG1lIG9ubHkgaGFzIDIgZW50cmllcywgR0ZYIGFu
ZCBIUDNEICovCi0JaWYgKHJpbmctPm1lID4gMCkKLQkJcGlwZV9udW0gLT0gMjsKLQotCXJlZyA9
IG1tU1BJX1dDTF9QSVBFX1BFUkNFTlRfR0ZYICsgcGlwZV9udW07Ci0JdG1wID0gUlJFRzMyKHJl
Zyk7Ci0JdG1wID0gUkVHX1NFVF9GSUVMRCh0bXAsIFNQSV9XQ0xfUElQRV9QRVJDRU5UX0dGWCwg
VkFMVUUsIHBpcGVfcGVyY2VudCk7Ci0JV1JFRzMyKHJlZywgdG1wKTsKLX0KLQotc3RhdGljIHZv
aWQgZ2Z4X3Y4XzBfcGlwZV9yZXNlcnZlX3Jlc291cmNlcyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldiwKLQkJCQkJICAgIHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywKLQkJCQkJICAgIGJvb2wg
YWNxdWlyZSkKLXsKLQlpbnQgaSwgcGlwZTsKLQlib29sIHJlc2VydmU7Ci0Jc3RydWN0IGFtZGdw
dV9yaW5nICppcmluZzsKLQotCW11dGV4X2xvY2soJmFkZXYtPmdmeC5waXBlX3Jlc2VydmVfbXV0
ZXgpOwotCXBpcGUgPSBhbWRncHVfZ2Z4X21lY19xdWV1ZV90b19iaXQoYWRldiwgcmluZy0+bWUs
IHJpbmctPnBpcGUsIDApOwotCWlmIChhY3F1aXJlKQotCQlzZXRfYml0KHBpcGUsIGFkZXYtPmdm
eC5waXBlX3Jlc2VydmVfYml0bWFwKTsKLQllbHNlCi0JCWNsZWFyX2JpdChwaXBlLCBhZGV2LT5n
ZngucGlwZV9yZXNlcnZlX2JpdG1hcCk7Ci0KLQlpZiAoIWJpdG1hcF93ZWlnaHQoYWRldi0+Z2Z4
LnBpcGVfcmVzZXJ2ZV9iaXRtYXAsIEFNREdQVV9NQVhfQ09NUFVURV9RVUVVRVMpKSB7Ci0JCS8q
IENsZWFyIGFsbCByZXNlcnZhdGlvbnMgLSBldmVyeW9uZSByZWFjcXVpcmVzIGFsbCByZXNvdXJj
ZXMgKi8KLQkJZm9yIChpID0gMDsgaSA8IGFkZXYtPmdmeC5udW1fZ2Z4X3JpbmdzOyArK2kpCi0J
CQlnZnhfdjhfMF9yaW5nX3NldF9waXBlX3BlcmNlbnQoJmFkZXYtPmdmeC5nZnhfcmluZ1tpXSwK
LQkJCQkJCSAgICAgICB0cnVlKTsKLQotCQlmb3IgKGkgPSAwOyBpIDwgYWRldi0+Z2Z4Lm51bV9j
b21wdXRlX3JpbmdzOyArK2kpCi0JCQlnZnhfdjhfMF9yaW5nX3NldF9waXBlX3BlcmNlbnQoJmFk
ZXYtPmdmeC5jb21wdXRlX3JpbmdbaV0sCi0JCQkJCQkgICAgICAgdHJ1ZSk7Ci0JfSBlbHNlIHsK
LQkJLyogTG93ZXIgYWxsIHBpcGVzIHdpdGhvdXQgYSBjdXJyZW50IHJlc2VydmF0aW9uICovCi0J
CWZvciAoaSA9IDA7IGkgPCBhZGV2LT5nZngubnVtX2dmeF9yaW5nczsgKytpKSB7Ci0JCQlpcmlu
ZyA9ICZhZGV2LT5nZnguZ2Z4X3JpbmdbaV07Ci0JCQlwaXBlID0gYW1kZ3B1X2dmeF9tZWNfcXVl
dWVfdG9fYml0KGFkZXYsCi0JCQkJCQkJICAgaXJpbmctPm1lLAotCQkJCQkJCSAgIGlyaW5nLT5w
aXBlLAotCQkJCQkJCSAgIDApOwotCQkJcmVzZXJ2ZSA9IHRlc3RfYml0KHBpcGUsIGFkZXYtPmdm
eC5waXBlX3Jlc2VydmVfYml0bWFwKTsKLQkJCWdmeF92OF8wX3Jpbmdfc2V0X3BpcGVfcGVyY2Vu
dChpcmluZywgcmVzZXJ2ZSk7Ci0JCX0KLQotCQlmb3IgKGkgPSAwOyBpIDwgYWRldi0+Z2Z4Lm51
bV9jb21wdXRlX3JpbmdzOyArK2kpIHsKLQkJCWlyaW5nID0gJmFkZXYtPmdmeC5jb21wdXRlX3Jp
bmdbaV07Ci0JCQlwaXBlID0gYW1kZ3B1X2dmeF9tZWNfcXVldWVfdG9fYml0KGFkZXYsCi0JCQkJ
CQkJICAgaXJpbmctPm1lLAotCQkJCQkJCSAgIGlyaW5nLT5waXBlLAotCQkJCQkJCSAgIDApOwot
CQkJcmVzZXJ2ZSA9IHRlc3RfYml0KHBpcGUsIGFkZXYtPmdmeC5waXBlX3Jlc2VydmVfYml0bWFw
KTsKLQkJCWdmeF92OF8wX3Jpbmdfc2V0X3BpcGVfcGVyY2VudChpcmluZywgcmVzZXJ2ZSk7Ci0J
CX0KLQl9Ci0KLQltdXRleF91bmxvY2soJmFkZXYtPmdmeC5waXBlX3Jlc2VydmVfbXV0ZXgpOwot
fQotCi1zdGF0aWMgdm9pZCBnZnhfdjhfMF9ocWRfc2V0X3ByaW9yaXR5KHN0cnVjdCBhbWRncHVf
ZGV2aWNlICphZGV2LAotCQkJCSAgICAgIHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywKLQkJCQkg
ICAgICBib29sIGFjcXVpcmUpCi17Ci0JdWludDMyX3QgcGlwZV9wcmlvcml0eSA9IGFjcXVpcmUg
PyAweDIgOiAweDA7Ci0JdWludDMyX3QgcXVldWVfcHJpb3JpdHkgPSBhY3F1aXJlID8gMHhmIDog
MHgwOwotCi0JbXV0ZXhfbG9jaygmYWRldi0+c3JibV9tdXRleCk7Ci0Jdmlfc3JibV9zZWxlY3Qo
YWRldiwgcmluZy0+bWUsIHJpbmctPnBpcGUsIHJpbmctPnF1ZXVlLCAwKTsKLQotCVdSRUczMiht
bUNQX0hRRF9QSVBFX1BSSU9SSVRZLCBwaXBlX3ByaW9yaXR5KTsKLQlXUkVHMzIobW1DUF9IUURf
UVVFVUVfUFJJT1JJVFksIHF1ZXVlX3ByaW9yaXR5KTsKLQotCXZpX3NyYm1fc2VsZWN0KGFkZXYs
IDAsIDAsIDAsIDApOwotCW11dGV4X3VubG9jaygmYWRldi0+c3JibV9tdXRleCk7Ci19Ci1zdGF0
aWMgdm9pZCBnZnhfdjhfMF9yaW5nX3NldF9wcmlvcml0eV9jb21wdXRlKHN0cnVjdCBhbWRncHVf
cmluZyAqcmluZywKLQkJCQkJICAgICAgIGVudW0gZHJtX3NjaGVkX3ByaW9yaXR5IHByaW9yaXR5
KQotewotCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gcmluZy0+YWRldjsKLQlib29sIGFj
cXVpcmUgPSBwcmlvcml0eSA9PSBEUk1fU0NIRURfUFJJT1JJVFlfSElHSF9IVzsKLQotCWlmIChy
aW5nLT5mdW5jcy0+dHlwZSAhPSBBTURHUFVfUklOR19UWVBFX0NPTVBVVEUpCi0JCXJldHVybjsK
LQotCWdmeF92OF8wX2hxZF9zZXRfcHJpb3JpdHkoYWRldiwgcmluZywgYWNxdWlyZSk7Ci0JZ2Z4
X3Y4XzBfcGlwZV9yZXNlcnZlX3Jlc291cmNlcyhhZGV2LCByaW5nLCBhY3F1aXJlKTsKLX0KLQog
c3RhdGljIHZvaWQgZ2Z4X3Y4XzBfcmluZ19lbWl0X2ZlbmNlX2NvbXB1dGUoc3RydWN0IGFtZGdw
dV9yaW5nICpyaW5nLAogCQkJCQkgICAgIHU2NCBhZGRyLCB1NjQgc2VxLAogCQkJCQkgICAgIHVu
c2lnbmVkIGZsYWdzKQpAQCAtNzAwNSw3ICs2OTA3LDYgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBh
bWRncHVfcmluZ19mdW5jcyBnZnhfdjhfMF9yaW5nX2Z1bmNzX2NvbXB1dGUgPSB7CiAJLnRlc3Rf
aWIgPSBnZnhfdjhfMF9yaW5nX3Rlc3RfaWIsCiAJLmluc2VydF9ub3AgPSBhbWRncHVfcmluZ19p
bnNlcnRfbm9wLAogCS5wYWRfaWIgPSBhbWRncHVfcmluZ19nZW5lcmljX3BhZF9pYiwKLQkuc2V0
X3ByaW9yaXR5ID0gZ2Z4X3Y4XzBfcmluZ19zZXRfcHJpb3JpdHlfY29tcHV0ZSwKIAkuZW1pdF93
cmVnID0gZ2Z4X3Y4XzBfcmluZ19lbWl0X3dyZWcsCiB9OwogCmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjlfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvZ2Z4X3Y5XzAuYwppbmRleCBmZDU3Nzc2YzlhNWUuLmYwZmFkZGQzNDhkYyAxMDA2NDQKLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3Y5XzAuYworKysgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9nZnhfdjlfMC5jCkBAIC01MTIzLDEwNSArNTEyMyw2IEBAIHN0YXRp
YyB1NjQgZ2Z4X3Y5XzBfcmluZ19nZXRfd3B0cl9jb21wdXRlKHN0cnVjdCBhbWRncHVfcmluZyAq
cmluZykKIAlyZXR1cm4gd3B0cjsKIH0KIAotc3RhdGljIHZvaWQgZ2Z4X3Y5XzBfcmluZ19zZXRf
cGlwZV9wZXJjZW50KHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywKLQkJCQkJICAgYm9vbCBhY3F1
aXJlKQotewotCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gcmluZy0+YWRldjsKLQlpbnQg
cGlwZV9udW0sIHRtcCwgcmVnOwotCWludCBwaXBlX3BlcmNlbnQgPSBhY3F1aXJlID8gU1BJX1dD
TF9QSVBFX1BFUkNFTlRfR0ZYX19WQUxVRV9NQVNLIDogMHgxOwotCi0JcGlwZV9udW0gPSByaW5n
LT5tZSAqIGFkZXYtPmdmeC5tZWMubnVtX3BpcGVfcGVyX21lYyArIHJpbmctPnBpcGU7Ci0KLQkv
KiBmaXJzdCBtZSBvbmx5IGhhcyAyIGVudHJpZXMsIEdGWCBhbmQgSFAzRCAqLwotCWlmIChyaW5n
LT5tZSA+IDApCi0JCXBpcGVfbnVtIC09IDI7Ci0KLQlyZWcgPSBTT0MxNV9SRUdfT0ZGU0VUKEdD
LCAwLCBtbVNQSV9XQ0xfUElQRV9QRVJDRU5UX0dGWCkgKyBwaXBlX251bTsKLQl0bXAgPSBSUkVH
MzIocmVnKTsKLQl0bXAgPSBSRUdfU0VUX0ZJRUxEKHRtcCwgU1BJX1dDTF9QSVBFX1BFUkNFTlRf
R0ZYLCBWQUxVRSwgcGlwZV9wZXJjZW50KTsKLQlXUkVHMzIocmVnLCB0bXApOwotfQotCi1zdGF0
aWMgdm9pZCBnZnhfdjlfMF9waXBlX3Jlc2VydmVfcmVzb3VyY2VzKHN0cnVjdCBhbWRncHVfZGV2
aWNlICphZGV2LAotCQkJCQkgICAgc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLAotCQkJCQkgICAg
Ym9vbCBhY3F1aXJlKQotewotCWludCBpLCBwaXBlOwotCWJvb2wgcmVzZXJ2ZTsKLQlzdHJ1Y3Qg
YW1kZ3B1X3JpbmcgKmlyaW5nOwotCi0JbXV0ZXhfbG9jaygmYWRldi0+Z2Z4LnBpcGVfcmVzZXJ2
ZV9tdXRleCk7Ci0JcGlwZSA9IGFtZGdwdV9nZnhfbWVjX3F1ZXVlX3RvX2JpdChhZGV2LCByaW5n
LT5tZSwgcmluZy0+cGlwZSwgMCk7Ci0JaWYgKGFjcXVpcmUpCi0JCXNldF9iaXQocGlwZSwgYWRl
di0+Z2Z4LnBpcGVfcmVzZXJ2ZV9iaXRtYXApOwotCWVsc2UKLQkJY2xlYXJfYml0KHBpcGUsIGFk
ZXYtPmdmeC5waXBlX3Jlc2VydmVfYml0bWFwKTsKLQotCWlmICghYml0bWFwX3dlaWdodChhZGV2
LT5nZngucGlwZV9yZXNlcnZlX2JpdG1hcCwgQU1ER1BVX01BWF9DT01QVVRFX1FVRVVFUykpIHsK
LQkJLyogQ2xlYXIgYWxsIHJlc2VydmF0aW9ucyAtIGV2ZXJ5b25lIHJlYWNxdWlyZXMgYWxsIHJl
c291cmNlcyAqLwotCQlmb3IgKGkgPSAwOyBpIDwgYWRldi0+Z2Z4Lm51bV9nZnhfcmluZ3M7ICsr
aSkKLQkJCWdmeF92OV8wX3Jpbmdfc2V0X3BpcGVfcGVyY2VudCgmYWRldi0+Z2Z4LmdmeF9yaW5n
W2ldLAotCQkJCQkJICAgICAgIHRydWUpOwotCi0JCWZvciAoaSA9IDA7IGkgPCBhZGV2LT5nZngu
bnVtX2NvbXB1dGVfcmluZ3M7ICsraSkKLQkJCWdmeF92OV8wX3Jpbmdfc2V0X3BpcGVfcGVyY2Vu
dCgmYWRldi0+Z2Z4LmNvbXB1dGVfcmluZ1tpXSwKLQkJCQkJCSAgICAgICB0cnVlKTsKLQl9IGVs
c2UgewotCQkvKiBMb3dlciBhbGwgcGlwZXMgd2l0aG91dCBhIGN1cnJlbnQgcmVzZXJ2YXRpb24g
Ki8KLQkJZm9yIChpID0gMDsgaSA8IGFkZXYtPmdmeC5udW1fZ2Z4X3JpbmdzOyArK2kpIHsKLQkJ
CWlyaW5nID0gJmFkZXYtPmdmeC5nZnhfcmluZ1tpXTsKLQkJCXBpcGUgPSBhbWRncHVfZ2Z4X21l
Y19xdWV1ZV90b19iaXQoYWRldiwKLQkJCQkJCQkgICBpcmluZy0+bWUsCi0JCQkJCQkJICAgaXJp
bmctPnBpcGUsCi0JCQkJCQkJICAgMCk7Ci0JCQlyZXNlcnZlID0gdGVzdF9iaXQocGlwZSwgYWRl
di0+Z2Z4LnBpcGVfcmVzZXJ2ZV9iaXRtYXApOwotCQkJZ2Z4X3Y5XzBfcmluZ19zZXRfcGlwZV9w
ZXJjZW50KGlyaW5nLCByZXNlcnZlKTsKLQkJfQotCi0JCWZvciAoaSA9IDA7IGkgPCBhZGV2LT5n
ZngubnVtX2NvbXB1dGVfcmluZ3M7ICsraSkgewotCQkJaXJpbmcgPSAmYWRldi0+Z2Z4LmNvbXB1
dGVfcmluZ1tpXTsKLQkJCXBpcGUgPSBhbWRncHVfZ2Z4X21lY19xdWV1ZV90b19iaXQoYWRldiwK
LQkJCQkJCQkgICBpcmluZy0+bWUsCi0JCQkJCQkJICAgaXJpbmctPnBpcGUsCi0JCQkJCQkJICAg
MCk7Ci0JCQlyZXNlcnZlID0gdGVzdF9iaXQocGlwZSwgYWRldi0+Z2Z4LnBpcGVfcmVzZXJ2ZV9i
aXRtYXApOwotCQkJZ2Z4X3Y5XzBfcmluZ19zZXRfcGlwZV9wZXJjZW50KGlyaW5nLCByZXNlcnZl
KTsKLQkJfQotCX0KLQotCW11dGV4X3VubG9jaygmYWRldi0+Z2Z4LnBpcGVfcmVzZXJ2ZV9tdXRl
eCk7Ci19Ci0KLXN0YXRpYyB2b2lkIGdmeF92OV8wX2hxZF9zZXRfcHJpb3JpdHkoc3RydWN0IGFt
ZGdwdV9kZXZpY2UgKmFkZXYsCi0JCQkJICAgICAgc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLAot
CQkJCSAgICAgIGJvb2wgYWNxdWlyZSkKLXsKLQl1aW50MzJfdCBwaXBlX3ByaW9yaXR5ID0gYWNx
dWlyZSA/IDB4MiA6IDB4MDsKLQl1aW50MzJfdCBxdWV1ZV9wcmlvcml0eSA9IGFjcXVpcmUgPyAw
eGYgOiAweDA7Ci0KLQltdXRleF9sb2NrKCZhZGV2LT5zcmJtX211dGV4KTsKLQlzb2MxNV9ncmJt
X3NlbGVjdChhZGV2LCByaW5nLT5tZSwgcmluZy0+cGlwZSwgcmluZy0+cXVldWUsIDApOwotCi0J
V1JFRzMyX1NPQzE1X1JMQyhHQywgMCwgbW1DUF9IUURfUElQRV9QUklPUklUWSwgcGlwZV9wcmlv
cml0eSk7Ci0JV1JFRzMyX1NPQzE1X1JMQyhHQywgMCwgbW1DUF9IUURfUVVFVUVfUFJJT1JJVFks
IHF1ZXVlX3ByaW9yaXR5KTsKLQotCXNvYzE1X2dyYm1fc2VsZWN0KGFkZXYsIDAsIDAsIDAsIDAp
OwotCW11dGV4X3VubG9jaygmYWRldi0+c3JibV9tdXRleCk7Ci19Ci0KLXN0YXRpYyB2b2lkIGdm
eF92OV8wX3Jpbmdfc2V0X3ByaW9yaXR5X2NvbXB1dGUoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5n
LAotCQkJCQkgICAgICAgZW51bSBkcm1fc2NoZWRfcHJpb3JpdHkgcHJpb3JpdHkpCi17Ci0Jc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSByaW5nLT5hZGV2OwotCWJvb2wgYWNxdWlyZSA9IHBy
aW9yaXR5ID09IERSTV9TQ0hFRF9QUklPUklUWV9ISUdIX0hXOwotCi0JaWYgKHJpbmctPmZ1bmNz
LT50eXBlICE9IEFNREdQVV9SSU5HX1RZUEVfQ09NUFVURSkKLQkJcmV0dXJuOwotCi0JZ2Z4X3Y5
XzBfaHFkX3NldF9wcmlvcml0eShhZGV2LCByaW5nLCBhY3F1aXJlKTsKLQlnZnhfdjlfMF9waXBl
X3Jlc2VydmVfcmVzb3VyY2VzKGFkZXYsIHJpbmcsIGFjcXVpcmUpOwotfQotCiBzdGF0aWMgdm9p
ZCBnZnhfdjlfMF9yaW5nX3NldF93cHRyX2NvbXB1dGUoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5n
KQogewogCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gcmluZy0+YWRldjsKQEAgLTY1OTIs
NyArNjQ5Myw2IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgYW1kZ3B1X3JpbmdfZnVuY3MgZ2Z4X3Y5
XzBfcmluZ19mdW5jc19jb21wdXRlID0gewogCS50ZXN0X2liID0gZ2Z4X3Y5XzBfcmluZ190ZXN0
X2liLAogCS5pbnNlcnRfbm9wID0gYW1kZ3B1X3JpbmdfaW5zZXJ0X25vcCwKIAkucGFkX2liID0g
YW1kZ3B1X3JpbmdfZ2VuZXJpY19wYWRfaWIsCi0JLnNldF9wcmlvcml0eSA9IGdmeF92OV8wX3Jp
bmdfc2V0X3ByaW9yaXR5X2NvbXB1dGUsCiAJLmVtaXRfd3JlZyA9IGdmeF92OV8wX3JpbmdfZW1p
dF93cmVnLAogCS5lbWl0X3JlZ193YWl0ID0gZ2Z4X3Y5XzBfcmluZ19lbWl0X3JlZ193YWl0LAog
CS5lbWl0X3JlZ193cml0ZV9yZWdfd2FpdCA9IGdmeF92OV8wX3JpbmdfZW1pdF9yZWdfd3JpdGVf
cmVnX3dhaXQsCi0tIAoyLjI1LjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0
b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1k
LWdmeAo=
