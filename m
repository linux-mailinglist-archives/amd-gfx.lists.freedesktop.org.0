Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id D7B55A0AD8
	for <lists+amd-gfx@lfdr.de>; Wed, 28 Aug 2019 21:56:49 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1FB2589EA9;
	Wed, 28 Aug 2019 19:56:48 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-qt1-x836.google.com (mail-qt1-x836.google.com
 [IPv6:2607:f8b0:4864:20::836])
 by gabe.freedesktop.org (Postfix) with ESMTPS id EBCAF89E98
 for <amd-gfx@lists.freedesktop.org>; Wed, 28 Aug 2019 19:56:39 +0000 (UTC)
Received: by mail-qt1-x836.google.com with SMTP id b11so943441qtp.10
 for <amd-gfx@lists.freedesktop.org>; Wed, 28 Aug 2019 12:56:39 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=CT413x9rszjGA4kJGjEzMfEt1S2IFEgL6aMs82IHooY=;
 b=scuAl2udBdqDNaa+47sTxP5qLC+EHlSbdRy1SBhc+YfZgs6ZuaO5+Z9HmAZi935Xe/
 nxpWmWPtwY9TJrS9lbHrQ50shnlBGV6TWDdW0/00BoPXgInD6UWm7CWlt00YjuWP12KU
 5waj+yOiv608ggPcjlhTBxF5zsTynJZGVPYPm5vQz2TAY556zXUjvbtY9DQ4xApkeQ+o
 eLbVAFgrEV9BjwBSlQWJ/a6qq/xvJ3bvHA7nzutWqIOmlNRiog2vSnskK5ojATc7D+nd
 jcnoEIGcYKbt0sWGzlKtPTl9VT0P061CsM2VyGhhKmZYqo4oJoOFs4DV107rUvZHZNs8
 6Qug==
X-Gm-Message-State: APjAAAXkrfCgmejbJAZoquLHUNS7sY26+l6gl0/InmS34ku90PCCu18w
 pJf1haI+Ize90BiU0IJf25bEI1i/
X-Google-Smtp-Source: APXvYqxVtgfWKlaUpFG/dRKV40Tv6THswwxnbZchptDuYRnQVMq0Vlcb0GQ/be6P4EQNGDXpn0ns7A==
X-Received: by 2002:ac8:45ca:: with SMTP id e10mr6252652qto.15.1567022198505; 
 Wed, 28 Aug 2019 12:56:38 -0700 (PDT)
Received: from localhost.localdomain ([71.219.73.178])
 by smtp.gmail.com with ESMTPSA id s58sm136578qth.59.2019.08.28.12.56.37
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Wed, 28 Aug 2019 12:56:37 -0700 (PDT)
From: Alex Deucher <alexdeucher@gmail.com>
X-Google-Original-From: Alex Deucher <alexander.deucher@amd.com>
To: amd-gfx@lists.freedesktop.org
Subject: [PATCH 08/23] drm/amd/display: Add Renoir Hubbub (v2)
Date: Wed, 28 Aug 2019 14:56:07 -0500
Message-Id: <20190828195622.28941-8-alexander.deucher@amd.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190828195622.28941-1-alexander.deucher@amd.com>
References: <20190828195622.28941-1-alexander.deucher@amd.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=CT413x9rszjGA4kJGjEzMfEt1S2IFEgL6aMs82IHooY=;
 b=J6MSCZSY0c1aEQdorgOsnOkoiaOuA8wQZYdQfYsJaWyO2bGWYmfaoXnCm7607ZWkgK
 wC9IesNKRkYTYNVdUPceqpB/UNrlC3aLuJv5qleBGpGd2L43frdcwm1tFGT/QatPQOE4
 K8JZot1kBuug67hwsReWir7bLsepHHnzQ7C/Bl4crjQW2DmUS8yBJbLYwSo1/LA/QPnR
 6GKKHnMbwo2DbnhQ1v72hYAgk2DwqUAb70RhyxL3Gd2hcK9eD7U1i5n4g5Ef58eug5QM
 S22c/x+bB3bobMomW/KFJkvudHCfQxt+VJsoza3MW8qLVSijk25kI2ANTux7ySGRAsjR
 mU2w==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Alex Deucher <alexander.deucher@amd.com>,
 Bhawanpreet Lakha <Bhawanpreet.Lakha@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogQmhhd2FucHJlZXQgTGFraGEgPEJoYXdhbnByZWV0Lkxha2hhQGFtZC5jb20+CgpDb250
cm9scyB0aGUgZGlzcGxheSBodydzIGludGVyZmFjZSB0byBtZW1vcnkuCgp2MjogcmViYXNlIChB
bGV4KQoKU2lnbmVkLW9mZi1ieTogQmhhd2FucHJlZXQgTGFraGEgPEJoYXdhbnByZWV0Lkxha2hh
QGFtZC5jb20+ClNpZ25lZC1vZmYtYnk6IEFsZXggRGV1Y2hlciA8YWxleGFuZGVyLmRldWNoZXJA
YW1kLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjEvTWFrZWZp
bGUgfCAgIDIgKy0KIC4uLi9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjEvZGNuMjFfaHViYnViLmMg
ICB8IDU5NSArKysrKysrKysrKysrKysrKysKIC4uLi9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjEv
ZGNuMjFfaHViYnViLmggICB8IDEzMiArKysrCiAzIGZpbGVzIGNoYW5nZWQsIDcyOCBpbnNlcnRp
b25zKCspLCAxIGRlbGV0aW9uKC0pCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJt
L2FtZC9kaXNwbGF5L2RjL2RjbjIxL2RjbjIxX2h1YmJ1Yi5jCiBjcmVhdGUgbW9kZSAxMDA2NDQg
ZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIxL2RjbjIxX2h1YmJ1Yi5oCgpkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIxL01ha2VmaWxlIGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIxL01ha2VmaWxlCmluZGV4IGQ0M2Y4
NjY5MzBiZS4uMzI3NjQ3MTRlMmIwIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rp
c3BsYXkvZGMvZGNuMjEvTWFrZWZpbGUKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5
L2RjL2RjbjIxL01ha2VmaWxlCkBAIC0xLDcgKzEsNyBAQAogIwogIyBNYWtlZmlsZSBmb3IgRENO
MjEuCiAKLURDTjIxID0gZGNuMjFfaHVicC5vCitEQ04yMSA9IGRjbjIxX2h1YnAubyBkY24yMV9o
dWJidWIubwogCiBDRkxBR1NfZGNuMjFfcmVzb3VyY2UubyA6PSAtbWhhcmQtZmxvYXQgLW1zc2Ug
LW1wcmVmZXJyZWQtc3RhY2stYm91bmRhcnk9NAogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjEvZGNuMjFfaHViYnViLmMgYi9kcml2ZXJzL2dwdS9kcm0v
YW1kL2Rpc3BsYXkvZGMvZGNuMjEvZGNuMjFfaHViYnViLmMKbmV3IGZpbGUgbW9kZSAxMDA2NDQK
aW5kZXggMDAwMDAwMDAwMDAwLi5kMTI2Njc0MTc2M2IKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjEvZGNuMjFfaHViYnViLmMKQEAgLTAsMCAr
MSw1OTUgQEAKKy8qCisqIENvcHlyaWdodCAyMDE4IEFkdmFuY2VkIE1pY3JvIERldmljZXMsIElu
Yy4KKyAqCisgKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwg
dG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYQorICogY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBh
c3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwKKyAqIHRvIGRl
YWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0
IGxpbWl0YXRpb24KKyAqIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBw
dWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLAorICogYW5kL29yIHNlbGwgY29waWVzIG9m
IHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlCisgKiBTb2Z0
d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25k
aXRpb25zOgorICoKKyAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1p
c3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluCisgKiBhbGwgY29waWVzIG9yIHN1YnN0
YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KKyAqCisgKiBUSEUgU09GVFdBUkUgSVMg
UFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBP
UgorICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElF
UyBPRiBNRVJDSEFOVEFCSUxJVFksCisgKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9T
RSBBTkQgTk9OSU5GUklOR0VNRU5ULiAgSU4gTk8gRVZFTlQgU0hBTEwKKyAqIFRIRSBDT1BZUklH
SFQgSE9MREVSKFMpIE9SIEFVVEhPUihTKSBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdF
UyBPUgorICogT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFD
VCwgVE9SVCBPUiBPVEhFUldJU0UsCisgKiBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05O
RUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IKKyAqIE9USEVSIERFQUxJTkdT
IElOIFRIRSBTT0ZUV0FSRS4KKyAqCisgKiBBdXRob3JzOiBBTUQKKyAqCisgKi8KKyNpbmNsdWRl
ICJkbV9zZXJ2aWNlcy5oIgorI2luY2x1ZGUgImRjbjIwL2RjbjIwX2h1YmJ1Yi5oIgorI2luY2x1
ZGUgImRjbjIxX2h1YmJ1Yi5oIgorI2luY2x1ZGUgInJlZ19oZWxwZXIuaCIKKworI2RlZmluZSBS
RUcocmVnKVwKKwlodWJidWIxLT5yZWdzLT5yZWcKKyNkZWZpbmUgRENfTE9HR0VSIFwKKwlodWJi
dWIxLT5iYXNlLmN0eC0+bG9nZ2VyCisjZGVmaW5lIENUWCBcCisJaHViYnViMS0+YmFzZS5jdHgK
KworI3VuZGVmIEZOCisjZGVmaW5lIEZOKHJlZ19uYW1lLCBmaWVsZF9uYW1lKSBcCisJaHViYnVi
MS0+c2hpZnRzLT5maWVsZF9uYW1lLCBodWJidWIxLT5tYXNrcy0+ZmllbGRfbmFtZQorCisjZGVm
aW5lIFJFRyhyZWcpXAorCWh1YmJ1YjEtPnJlZ3MtPnJlZworCisjZGVmaW5lIENUWCBcCisJaHVi
YnViMS0+YmFzZS5jdHgKKworI3VuZGVmIEZOCisjZGVmaW5lIEZOKHJlZ19uYW1lLCBmaWVsZF9u
YW1lKSBcCisJaHViYnViMS0+c2hpZnRzLT5maWVsZF9uYW1lLCBodWJidWIxLT5tYXNrcy0+Zmll
bGRfbmFtZQorCisjaWZkZWYgTlVNX1ZNSUQKKyN1bmRlZiBOVU1fVk1JRAorI2VuZGlmCisjZGVm
aW5lIE5VTV9WTUlEIDEKKworc3RhdGljIHVpbnQzMl90IGNvbnZlcnRfYW5kX2NsYW1wKAorCXVp
bnQzMl90IHdtX25zLAorCXVpbnQzMl90IHJlZmNsa19taHosCisJdWludDMyX3QgY2xhbXBfdmFs
dWUpCit7CisJdWludDMyX3QgcmV0X3ZhbCA9IDA7CisJcmV0X3ZhbCA9IHdtX25zICogcmVmY2xr
X21oejsKKwlyZXRfdmFsIC89IDEwMDA7CisKKwlpZiAocmV0X3ZhbCA+IGNsYW1wX3ZhbHVlKQor
CQlyZXRfdmFsID0gY2xhbXBfdmFsdWU7CisKKwlyZXR1cm4gcmV0X3ZhbDsKK30KKwordm9pZCBk
Y24yMV9kY2h2bV9pbml0KHN0cnVjdCBodWJidWIgKmh1YmJ1YikKK3sKKwlzdHJ1Y3QgZGNuMjBf
aHViYnViICpodWJidWIxID0gVE9fRENOMjBfSFVCQlVCKGh1YmJ1Yik7CisKKwkvL0luaXQgRENI
Vk0gYmxvY2sKKwlSRUdfVVBEQVRFKERDSFZNX0NUUkwwLCBIT1NUVk1fSU5JVF9SRVEsIDEpOwor
CisJLy9Qb2xsIHVudGlsIFJJT01NVV9BQ1RJVkUgPSAxCisJLy9UT0RPOiBGaWd1cmUgb3V0IGlu
dGVydmFsIHVzIGFuZCByZXRyeSBjb3VudAorCVJFR19XQUlUKERDSFZNX1JJT01NVV9TVEFUMCwg
UklPTU1VX0FDVElWRSwgMSwgNSwgMTAwKTsKKworCS8vUmVmbGVjdCB0aGUgcG93ZXIgc3RhdHVz
IG9mIERDSFVCQlVCCisJUkVHX1VQREFURShEQ0hWTV9SSU9NTVVfQ1RSTDAsIEhPU1RWTV9QT1dF
UlNUQVRVUywgMSk7CisKKwkvL1N0YXJ0IHJJT01NVSBwcmVmZXRjaGluZworCVJFR19VUERBVEUo
RENIVk1fUklPTU1VX0NUUkwwLCBIT1NUVk1fUFJFRkVUQ0hfUkVRLCAxKTsKKworCS8vIEVuYWJs
ZSBkeW5hbWljIGNsb2NrIGdhdGluZworCVJFR19VUERBVEVfNChEQ0hWTV9DTEtfQ1RSTCwKKwkJ
CQkJSFZNX0RJU1BDTEtfUl9HQVRFX0RJUywgMCwKKwkJCQkJSFZNX0RJU1BDTEtfR19HQVRFX0RJ
UywgMCwKKwkJCQkJSFZNX0RDRkNMS19SX0dBVEVfRElTLCAwLAorCQkJCQlIVk1fRENGQ0xLX0df
R0FURV9ESVMsIDApOworCisJLy9Qb2xsIHVudGlsIEhPU1RWTV9QUkVGRVRDSF9ET05FID0gMQor
CS8vVE9ETzogRmlndXJlIG91dCBpbnRlcnZhbCB1cyBhbmQgcmV0cnkgY291bnQKKwlSRUdfV0FJ
VChEQ0hWTV9SSU9NTVVfU1RBVDAsIEhPU1RWTV9QUkVGRVRDSF9ET05FLCAxLCA1LCAxMDApOwor
fQorCitzdGF0aWMgaW50IGh1YmJ1YjIxX2luaXRfZGNodWIoc3RydWN0IGh1YmJ1YiAqaHViYnVi
LAorCQlzdHJ1Y3QgZGNuX2h1YmJ1Yl9waHlzX2FkZHJfY29uZmlnICpwYV9jb25maWcpCit7CisJ
c3RydWN0IGRjbjIwX2h1YmJ1YiAqaHViYnViMSA9IFRPX0RDTjIwX0hVQkJVQihodWJidWIpOwor
CisJUkVHX1NFVChEQ05fVk1fRkJfTE9DQVRJT05fQkFTRSwgMCwKKwkJRkJfQkFTRSwgcGFfY29u
ZmlnLT5zeXN0ZW1fYXBlcnR1cmUuZmJfYmFzZSk7CisJUkVHX1NFVChEQ05fVk1fRkJfTE9DQVRJ
T05fVE9QLCAwLAorCQkJRkJfVE9QLCBwYV9jb25maWctPnN5c3RlbV9hcGVydHVyZS5mYl90b3Ap
OworCVJFR19TRVQoRENOX1ZNX0ZCX09GRlNFVCwgMCwKKwkJCUZCX09GRlNFVCwgcGFfY29uZmln
LT5zeXN0ZW1fYXBlcnR1cmUuZmJfb2Zmc2V0KTsKKwlSRUdfU0VUKERDTl9WTV9BR1BfQk9ULCAw
LAorCQkJQUdQX0JPVCwgcGFfY29uZmlnLT5zeXN0ZW1fYXBlcnR1cmUuYWdwX2JvdCk7CisJUkVH
X1NFVChEQ05fVk1fQUdQX1RPUCwgMCwKKwkJCUFHUF9UT1AsIHBhX2NvbmZpZy0+c3lzdGVtX2Fw
ZXJ0dXJlLmFncF90b3ApOworCVJFR19TRVQoRENOX1ZNX0FHUF9CQVNFLCAwLAorCQkJQUdQX0JB
U0UsIHBhX2NvbmZpZy0+c3lzdGVtX2FwZXJ0dXJlLmFncF9iYXNlKTsKKworCWRjbjIxX2RjaHZt
X2luaXQoaHViYnViKTsKKworCXJldHVybiBOVU1fVk1JRDsKK30KKworc3RhdGljIHZvaWQgaHVi
YnViMjFfcHJvZ3JhbV91cmdlbnRfd2F0ZXJtYXJrcygKKwkJc3RydWN0IGh1YmJ1YiAqaHViYnVi
LAorCQlzdHJ1Y3QgZGNuX3dhdGVybWFya19zZXQgKndhdGVybWFya3MsCisJCXVuc2lnbmVkIGlu
dCByZWZjbGtfbWh6LAorCQlib29sIHNhZmVfdG9fbG93ZXIpCit7CisJc3RydWN0IGRjbjIwX2h1
YmJ1YiAqaHViYnViMSA9IFRPX0RDTjIwX0hVQkJVQihodWJidWIpOworCXVpbnQzMl90IHByb2df
d21fdmFsdWU7CisKKwkvKiBSZXBlYXQgZm9yIHdhdGVyIG1hcmsgc2V0IEEsIEIsIEMgYW5kIEQu
ICovCisJLyogY2xvY2sgc3RhdGUgQSAqLworCWlmIChzYWZlX3RvX2xvd2VyIHx8IHdhdGVybWFy
a3MtPmEudXJnZW50X25zID4gaHViYnViMS0+d2F0ZXJtYXJrcy5hLnVyZ2VudF9ucykgeworCQlo
dWJidWIxLT53YXRlcm1hcmtzLmEudXJnZW50X25zID0gd2F0ZXJtYXJrcy0+YS51cmdlbnRfbnM7
CisJCXByb2dfd21fdmFsdWUgPSBjb252ZXJ0X2FuZF9jbGFtcCh3YXRlcm1hcmtzLT5hLnVyZ2Vu
dF9ucywKKwkJCQlyZWZjbGtfbWh6LCAweDFmZmZmZik7CisJCVJFR19TRVRfMihEQ0hVQkJVQl9B
UkJfREFUQV9VUkdFTkNZX1dBVEVSTUFSS19BLCAwLAorCQkJCURDSFVCQlVCX0FSQl9EQVRBX1VS
R0VOQ1lfV0FURVJNQVJLX0EsIHByb2dfd21fdmFsdWUsCisJCQkJRENIVUJCVUJfQVJCX1ZNX1JP
V19VUkdFTkNZX1dBVEVSTUFSS19BLCBwcm9nX3dtX3ZhbHVlKTsKKworCQlEQ19MT0dfQkFORFdJ
RFRIX0NBTENTKCJVUkdFTkNZX1dBVEVSTUFSS19BIGNhbGN1bGF0ZWQgPSVkXG4iCisJCQkiSFcg
cmVnaXN0ZXIgdmFsdWUgPSAweCV4XG4iLAorCQkJd2F0ZXJtYXJrcy0+YS51cmdlbnRfbnMsIHBy
b2dfd21fdmFsdWUpOworCX0KKworCS8qIGRldGVybWluZSB0aGUgdHJhbnNmZXIgdGltZSBmb3Ig
YSBxdWFudGl0eSBvZiBkYXRhIGZvciBhIHBhcnRpY3VsYXIgcmVxdWVzdG9yLiovCisJaWYgKHNh
ZmVfdG9fbG93ZXIgfHwgd2F0ZXJtYXJrcy0+YS5mcmFjX3VyZ19id19mbGlwCisJCQk+IGh1YmJ1
YjEtPndhdGVybWFya3MuYS5mcmFjX3VyZ19id19mbGlwKSB7CisJCWh1YmJ1YjEtPndhdGVybWFy
a3MuYS5mcmFjX3VyZ19id19mbGlwID0gd2F0ZXJtYXJrcy0+YS5mcmFjX3VyZ19id19mbGlwOwor
CisJCVJFR19TRVQoRENIVUJCVUJfQVJCX0ZSQUNfVVJHX0JXX0ZMSVBfQSwgMCwKKwkJCQlEQ0hV
QkJVQl9BUkJfRlJBQ19VUkdfQldfRkxJUF9BLCB3YXRlcm1hcmtzLT5hLmZyYWNfdXJnX2J3X2Zs
aXApOworCX0KKworCWlmIChzYWZlX3RvX2xvd2VyIHx8IHdhdGVybWFya3MtPmEuZnJhY191cmdf
Yndfbm9tCisJCQk+IGh1YmJ1YjEtPndhdGVybWFya3MuYS5mcmFjX3VyZ19id19ub20pIHsKKwkJ
aHViYnViMS0+d2F0ZXJtYXJrcy5hLmZyYWNfdXJnX2J3X25vbSA9IHdhdGVybWFya3MtPmEuZnJh
Y191cmdfYndfbm9tOworCisJCVJFR19TRVQoRENIVUJCVUJfQVJCX0ZSQUNfVVJHX0JXX05PTV9B
LCAwLAorCQkJCURDSFVCQlVCX0FSQl9GUkFDX1VSR19CV19OT01fQSwgd2F0ZXJtYXJrcy0+YS5m
cmFjX3VyZ19id19ub20pOworCX0KKworCS8qIGNsb2NrIHN0YXRlIEIgKi8KKwlpZiAoc2FmZV90
b19sb3dlciB8fCB3YXRlcm1hcmtzLT5iLnVyZ2VudF9ucyA+IGh1YmJ1YjEtPndhdGVybWFya3Mu
Yi51cmdlbnRfbnMpIHsKKwkJaHViYnViMS0+d2F0ZXJtYXJrcy5iLnVyZ2VudF9ucyA9IHdhdGVy
bWFya3MtPmIudXJnZW50X25zOworCQlwcm9nX3dtX3ZhbHVlID0gY29udmVydF9hbmRfY2xhbXAo
d2F0ZXJtYXJrcy0+Yi51cmdlbnRfbnMsCisJCQkJcmVmY2xrX21oeiwgMHgxZmZmZmYpOworCQlS
RUdfU0VUXzIoRENIVUJCVUJfQVJCX0RBVEFfVVJHRU5DWV9XQVRFUk1BUktfQiwgMCwKKwkJCQlE
Q0hVQkJVQl9BUkJfREFUQV9VUkdFTkNZX1dBVEVSTUFSS19CLCBwcm9nX3dtX3ZhbHVlLAorCQkJ
CURDSFVCQlVCX0FSQl9WTV9ST1dfVVJHRU5DWV9XQVRFUk1BUktfQiwgcHJvZ193bV92YWx1ZSk7
CisKKwkJRENfTE9HX0JBTkRXSURUSF9DQUxDUygiVVJHRU5DWV9XQVRFUk1BUktfQiBjYWxjdWxh
dGVkID0lZFxuIgorCQkJIkhXIHJlZ2lzdGVyIHZhbHVlID0gMHgleFxuIiwKKwkJCXdhdGVybWFy
a3MtPmIudXJnZW50X25zLCBwcm9nX3dtX3ZhbHVlKTsKKwl9CisKKwkvKiBkZXRlcm1pbmUgdGhl
IHRyYW5zZmVyIHRpbWUgZm9yIGEgcXVhbnRpdHkgb2YgZGF0YSBmb3IgYSBwYXJ0aWN1bGFyIHJl
cXVlc3Rvci4qLworCWlmIChzYWZlX3RvX2xvd2VyIHx8IHdhdGVybWFya3MtPmEuZnJhY191cmdf
YndfZmxpcAorCQkJPiBodWJidWIxLT53YXRlcm1hcmtzLmEuZnJhY191cmdfYndfZmxpcCkgewor
CQlodWJidWIxLT53YXRlcm1hcmtzLmEuZnJhY191cmdfYndfZmxpcCA9IHdhdGVybWFya3MtPmEu
ZnJhY191cmdfYndfZmxpcDsKKworCQlSRUdfU0VUKERDSFVCQlVCX0FSQl9GUkFDX1VSR19CV19G
TElQX0IsIDAsCisJCQkJRENIVUJCVUJfQVJCX0ZSQUNfVVJHX0JXX0ZMSVBfQiwgd2F0ZXJtYXJr
cy0+YS5mcmFjX3VyZ19id19mbGlwKTsKKwl9CisKKwlpZiAoc2FmZV90b19sb3dlciB8fCB3YXRl
cm1hcmtzLT5hLmZyYWNfdXJnX2J3X25vbQorCQkJPiBodWJidWIxLT53YXRlcm1hcmtzLmEuZnJh
Y191cmdfYndfbm9tKSB7CisJCWh1YmJ1YjEtPndhdGVybWFya3MuYS5mcmFjX3VyZ19id19ub20g
PSB3YXRlcm1hcmtzLT5hLmZyYWNfdXJnX2J3X25vbTsKKworCQlSRUdfU0VUKERDSFVCQlVCX0FS
Ql9GUkFDX1VSR19CV19OT01fQiwgMCwKKwkJCQlEQ0hVQkJVQl9BUkJfRlJBQ19VUkdfQldfTk9N
X0IsIHdhdGVybWFya3MtPmEuZnJhY191cmdfYndfbm9tKTsKKwl9CisKKwkvKiBjbG9jayBzdGF0
ZSBDICovCisJaWYgKHNhZmVfdG9fbG93ZXIgfHwgd2F0ZXJtYXJrcy0+Yy51cmdlbnRfbnMgPiBo
dWJidWIxLT53YXRlcm1hcmtzLmMudXJnZW50X25zKSB7CisJCWh1YmJ1YjEtPndhdGVybWFya3Mu
Yy51cmdlbnRfbnMgPSB3YXRlcm1hcmtzLT5jLnVyZ2VudF9uczsKKwkJcHJvZ193bV92YWx1ZSA9
IGNvbnZlcnRfYW5kX2NsYW1wKHdhdGVybWFya3MtPmMudXJnZW50X25zLAorCQkJCXJlZmNsa19t
aHosIDB4MWZmZmZmKTsKKwkJUkVHX1NFVF8yKERDSFVCQlVCX0FSQl9EQVRBX1VSR0VOQ1lfV0FU
RVJNQVJLX0MsIDAsCisJCQkJRENIVUJCVUJfQVJCX0RBVEFfVVJHRU5DWV9XQVRFUk1BUktfQywg
cHJvZ193bV92YWx1ZSwKKwkJCQlEQ0hVQkJVQl9BUkJfVk1fUk9XX1VSR0VOQ1lfV0FURVJNQVJL
X0MsIHByb2dfd21fdmFsdWUpOworCisJCURDX0xPR19CQU5EV0lEVEhfQ0FMQ1MoIlVSR0VOQ1lf
V0FURVJNQVJLX0MgY2FsY3VsYXRlZCA9JWRcbiIKKwkJCSJIVyByZWdpc3RlciB2YWx1ZSA9IDB4
JXhcbiIsCisJCQl3YXRlcm1hcmtzLT5jLnVyZ2VudF9ucywgcHJvZ193bV92YWx1ZSk7CisJfQor
CisJLyogZGV0ZXJtaW5lIHRoZSB0cmFuc2ZlciB0aW1lIGZvciBhIHF1YW50aXR5IG9mIGRhdGEg
Zm9yIGEgcGFydGljdWxhciByZXF1ZXN0b3IuKi8KKwlpZiAoc2FmZV90b19sb3dlciB8fCB3YXRl
cm1hcmtzLT5hLmZyYWNfdXJnX2J3X2ZsaXAKKwkJCT4gaHViYnViMS0+d2F0ZXJtYXJrcy5hLmZy
YWNfdXJnX2J3X2ZsaXApIHsKKwkJaHViYnViMS0+d2F0ZXJtYXJrcy5hLmZyYWNfdXJnX2J3X2Zs
aXAgPSB3YXRlcm1hcmtzLT5hLmZyYWNfdXJnX2J3X2ZsaXA7CisKKwkJUkVHX1NFVChEQ0hVQkJV
Ql9BUkJfRlJBQ19VUkdfQldfRkxJUF9DLCAwLAorCQkJCURDSFVCQlVCX0FSQl9GUkFDX1VSR19C
V19GTElQX0MsIHdhdGVybWFya3MtPmEuZnJhY191cmdfYndfZmxpcCk7CisJfQorCisJaWYgKHNh
ZmVfdG9fbG93ZXIgfHwgd2F0ZXJtYXJrcy0+YS5mcmFjX3VyZ19id19ub20KKwkJCT4gaHViYnVi
MS0+d2F0ZXJtYXJrcy5hLmZyYWNfdXJnX2J3X25vbSkgeworCQlodWJidWIxLT53YXRlcm1hcmtz
LmEuZnJhY191cmdfYndfbm9tID0gd2F0ZXJtYXJrcy0+YS5mcmFjX3VyZ19id19ub207CisKKwkJ
UkVHX1NFVChEQ0hVQkJVQl9BUkJfRlJBQ19VUkdfQldfTk9NX0MsIDAsCisJCQkJRENIVUJCVUJf
QVJCX0ZSQUNfVVJHX0JXX05PTV9DLCB3YXRlcm1hcmtzLT5hLmZyYWNfdXJnX2J3X25vbSk7CisJ
fQorCisJLyogY2xvY2sgc3RhdGUgRCAqLworCWlmIChzYWZlX3RvX2xvd2VyIHx8IHdhdGVybWFy
a3MtPmQudXJnZW50X25zID4gaHViYnViMS0+d2F0ZXJtYXJrcy5kLnVyZ2VudF9ucykgeworCQlo
dWJidWIxLT53YXRlcm1hcmtzLmQudXJnZW50X25zID0gd2F0ZXJtYXJrcy0+ZC51cmdlbnRfbnM7
CisJCXByb2dfd21fdmFsdWUgPSBjb252ZXJ0X2FuZF9jbGFtcCh3YXRlcm1hcmtzLT5kLnVyZ2Vu
dF9ucywKKwkJCQlyZWZjbGtfbWh6LCAweDFmZmZmZik7CisJCVJFR19TRVRfMihEQ0hVQkJVQl9B
UkJfREFUQV9VUkdFTkNZX1dBVEVSTUFSS19ELCAwLAorCQkJCURDSFVCQlVCX0FSQl9EQVRBX1VS
R0VOQ1lfV0FURVJNQVJLX0QsIHByb2dfd21fdmFsdWUsCisJCQkJRENIVUJCVUJfQVJCX1ZNX1JP
V19VUkdFTkNZX1dBVEVSTUFSS19ELCBwcm9nX3dtX3ZhbHVlKTsKKworCQlEQ19MT0dfQkFORFdJ
RFRIX0NBTENTKCJVUkdFTkNZX1dBVEVSTUFSS19EIGNhbGN1bGF0ZWQgPSVkXG4iCisJCQkiSFcg
cmVnaXN0ZXIgdmFsdWUgPSAweCV4XG4iLAorCQkJd2F0ZXJtYXJrcy0+ZC51cmdlbnRfbnMsIHBy
b2dfd21fdmFsdWUpOworCX0KKworCS8qIGRldGVybWluZSB0aGUgdHJhbnNmZXIgdGltZSBmb3Ig
YSBxdWFudGl0eSBvZiBkYXRhIGZvciBhIHBhcnRpY3VsYXIgcmVxdWVzdG9yLiovCisJaWYgKHNh
ZmVfdG9fbG93ZXIgfHwgd2F0ZXJtYXJrcy0+YS5mcmFjX3VyZ19id19mbGlwCisJCQk+IGh1YmJ1
YjEtPndhdGVybWFya3MuYS5mcmFjX3VyZ19id19mbGlwKSB7CisJCWh1YmJ1YjEtPndhdGVybWFy
a3MuYS5mcmFjX3VyZ19id19mbGlwID0gd2F0ZXJtYXJrcy0+YS5mcmFjX3VyZ19id19mbGlwOwor
CisJCVJFR19TRVQoRENIVUJCVUJfQVJCX0ZSQUNfVVJHX0JXX0ZMSVBfRCwgMCwKKwkJCQlEQ0hV
QkJVQl9BUkJfRlJBQ19VUkdfQldfRkxJUF9ELCB3YXRlcm1hcmtzLT5hLmZyYWNfdXJnX2J3X2Zs
aXApOworCX0KKworCWlmIChzYWZlX3RvX2xvd2VyIHx8IHdhdGVybWFya3MtPmEuZnJhY191cmdf
Yndfbm9tCisJCQk+IGh1YmJ1YjEtPndhdGVybWFya3MuYS5mcmFjX3VyZ19id19ub20pIHsKKwkJ
aHViYnViMS0+d2F0ZXJtYXJrcy5hLmZyYWNfdXJnX2J3X25vbSA9IHdhdGVybWFya3MtPmEuZnJh
Y191cmdfYndfbm9tOworCisJCVJFR19TRVQoRENIVUJCVUJfQVJCX0ZSQUNfVVJHX0JXX05PTV9E
LCAwLAorCQkJCURDSFVCQlVCX0FSQl9GUkFDX1VSR19CV19OT01fRCwgd2F0ZXJtYXJrcy0+YS5m
cmFjX3VyZ19id19ub20pOworCX0KK30KKworc3RhdGljIHZvaWQgaHViYnViMjFfcHJvZ3JhbV9z
dHV0dGVyX3dhdGVybWFya3MoCisJCXN0cnVjdCBodWJidWIgKmh1YmJ1YiwKKwkJc3RydWN0IGRj
bl93YXRlcm1hcmtfc2V0ICp3YXRlcm1hcmtzLAorCQl1bnNpZ25lZCBpbnQgcmVmY2xrX21oeiwK
KwkJYm9vbCBzYWZlX3RvX2xvd2VyKQoreworCXN0cnVjdCBkY24yMF9odWJidWIgKmh1YmJ1YjEg
PSBUT19EQ04yMF9IVUJCVUIoaHViYnViKTsKKwl1aW50MzJfdCBwcm9nX3dtX3ZhbHVlOworCisJ
LyogY2xvY2sgc3RhdGUgQSAqLworCWlmIChzYWZlX3RvX2xvd2VyIHx8IHdhdGVybWFya3MtPmEu
Y3N0YXRlX3BzdGF0ZS5jc3RhdGVfZW50ZXJfcGx1c19leGl0X25zCisJCQk+IGh1YmJ1YjEtPndh
dGVybWFya3MuYS5jc3RhdGVfcHN0YXRlLmNzdGF0ZV9lbnRlcl9wbHVzX2V4aXRfbnMpIHsKKwkJ
aHViYnViMS0+d2F0ZXJtYXJrcy5hLmNzdGF0ZV9wc3RhdGUuY3N0YXRlX2VudGVyX3BsdXNfZXhp
dF9ucyA9CisJCQkJd2F0ZXJtYXJrcy0+YS5jc3RhdGVfcHN0YXRlLmNzdGF0ZV9lbnRlcl9wbHVz
X2V4aXRfbnM7CisJCXByb2dfd21fdmFsdWUgPSBjb252ZXJ0X2FuZF9jbGFtcCgKKwkJCQl3YXRl
cm1hcmtzLT5hLmNzdGF0ZV9wc3RhdGUuY3N0YXRlX2VudGVyX3BsdXNfZXhpdF9ucywKKwkJCQly
ZWZjbGtfbWh6LCAweDFmZmZmZik7CisJCVJFR19TRVRfMihEQ0hVQkJVQl9BUkJfQUxMT1dfU1Jf
RU5URVJfV0FURVJNQVJLX0EsIDAsCisJCQkJRENIVUJCVUJfQVJCX0FMTE9XX1NSX0VOVEVSX1dB
VEVSTUFSS19BLCBwcm9nX3dtX3ZhbHVlLAorCQkJCURDSFVCQlVCX0FSQl9WTV9ST1dfQUxMT1df
U1JfRU5URVJfV0FURVJNQVJLX0EsIHByb2dfd21fdmFsdWUpOworCQlEQ19MT0dfQkFORFdJRFRI
X0NBTENTKCJTUl9FTlRFUl9FWElUX1dBVEVSTUFSS19BIGNhbGN1bGF0ZWQgPSVkXG4iCisJCQki
SFcgcmVnaXN0ZXIgdmFsdWUgPSAweCV4XG4iLAorCQkJd2F0ZXJtYXJrcy0+YS5jc3RhdGVfcHN0
YXRlLmNzdGF0ZV9lbnRlcl9wbHVzX2V4aXRfbnMsIHByb2dfd21fdmFsdWUpOworCX0KKworCWlm
IChzYWZlX3RvX2xvd2VyIHx8IHdhdGVybWFya3MtPmEuY3N0YXRlX3BzdGF0ZS5jc3RhdGVfZXhp
dF9ucworCQkJPiBodWJidWIxLT53YXRlcm1hcmtzLmEuY3N0YXRlX3BzdGF0ZS5jc3RhdGVfZXhp
dF9ucykgeworCQlodWJidWIxLT53YXRlcm1hcmtzLmEuY3N0YXRlX3BzdGF0ZS5jc3RhdGVfZXhp
dF9ucyA9CisJCQkJd2F0ZXJtYXJrcy0+YS5jc3RhdGVfcHN0YXRlLmNzdGF0ZV9leGl0X25zOwor
CQlwcm9nX3dtX3ZhbHVlID0gY29udmVydF9hbmRfY2xhbXAoCisJCQkJd2F0ZXJtYXJrcy0+YS5j
c3RhdGVfcHN0YXRlLmNzdGF0ZV9leGl0X25zLAorCQkJCXJlZmNsa19taHosIDB4MWZmZmZmKTsK
KwkJUkVHX1NFVF8yKERDSFVCQlVCX0FSQl9BTExPV19TUl9FWElUX1dBVEVSTUFSS19BLCAwLAor
CQkJCURDSFVCQlVCX0FSQl9BTExPV19TUl9FWElUX1dBVEVSTUFSS19BLCBwcm9nX3dtX3ZhbHVl
LAorCQkJCURDSFVCQlVCX0FSQl9WTV9ST1dfQUxMT1dfU1JfRVhJVF9XQVRFUk1BUktfQSwgcHJv
Z193bV92YWx1ZSk7CisJCURDX0xPR19CQU5EV0lEVEhfQ0FMQ1MoIlNSX0VYSVRfV0FURVJNQVJL
X0EgY2FsY3VsYXRlZCA9JWRcbiIKKwkJCSJIVyByZWdpc3RlciB2YWx1ZSA9IDB4JXhcbiIsCisJ
CQl3YXRlcm1hcmtzLT5hLmNzdGF0ZV9wc3RhdGUuY3N0YXRlX2V4aXRfbnMsIHByb2dfd21fdmFs
dWUpOworCX0KKworCS8qIGNsb2NrIHN0YXRlIEIgKi8KKwlpZiAoc2FmZV90b19sb3dlciB8fCB3
YXRlcm1hcmtzLT5iLmNzdGF0ZV9wc3RhdGUuY3N0YXRlX2VudGVyX3BsdXNfZXhpdF9ucworCQkJ
PiBodWJidWIxLT53YXRlcm1hcmtzLmIuY3N0YXRlX3BzdGF0ZS5jc3RhdGVfZW50ZXJfcGx1c19l
eGl0X25zKSB7CisJCWh1YmJ1YjEtPndhdGVybWFya3MuYi5jc3RhdGVfcHN0YXRlLmNzdGF0ZV9l
bnRlcl9wbHVzX2V4aXRfbnMgPQorCQkJCXdhdGVybWFya3MtPmIuY3N0YXRlX3BzdGF0ZS5jc3Rh
dGVfZW50ZXJfcGx1c19leGl0X25zOworCQlwcm9nX3dtX3ZhbHVlID0gY29udmVydF9hbmRfY2xh
bXAoCisJCQkJd2F0ZXJtYXJrcy0+Yi5jc3RhdGVfcHN0YXRlLmNzdGF0ZV9lbnRlcl9wbHVzX2V4
aXRfbnMsCisJCQkJcmVmY2xrX21oeiwgMHgxZmZmZmYpOworCQlSRUdfU0VUXzIoRENIVUJCVUJf
QVJCX0FMTE9XX1NSX0VOVEVSX1dBVEVSTUFSS19CLCAwLAorCQkJCURDSFVCQlVCX0FSQl9BTExP
V19TUl9FTlRFUl9XQVRFUk1BUktfQiwgcHJvZ193bV92YWx1ZSwKKwkJCQlEQ0hVQkJVQl9BUkJf
Vk1fUk9XX0FMTE9XX1NSX0VOVEVSX1dBVEVSTUFSS19CLCBwcm9nX3dtX3ZhbHVlKTsKKwkJRENf
TE9HX0JBTkRXSURUSF9DQUxDUygiU1JfRU5URVJfRVhJVF9XQVRFUk1BUktfQiBjYWxjdWxhdGVk
ID0lZFxuIgorCQkJIkhXIHJlZ2lzdGVyIHZhbHVlID0gMHgleFxuIiwKKwkJCXdhdGVybWFya3Mt
PmIuY3N0YXRlX3BzdGF0ZS5jc3RhdGVfZW50ZXJfcGx1c19leGl0X25zLCBwcm9nX3dtX3ZhbHVl
KTsKKwl9CisKKwlpZiAoc2FmZV90b19sb3dlciB8fCB3YXRlcm1hcmtzLT5iLmNzdGF0ZV9wc3Rh
dGUuY3N0YXRlX2V4aXRfbnMKKwkJCT4gaHViYnViMS0+d2F0ZXJtYXJrcy5iLmNzdGF0ZV9wc3Rh
dGUuY3N0YXRlX2V4aXRfbnMpIHsKKwkJaHViYnViMS0+d2F0ZXJtYXJrcy5iLmNzdGF0ZV9wc3Rh
dGUuY3N0YXRlX2V4aXRfbnMgPQorCQkJCXdhdGVybWFya3MtPmIuY3N0YXRlX3BzdGF0ZS5jc3Rh
dGVfZXhpdF9uczsKKwkJcHJvZ193bV92YWx1ZSA9IGNvbnZlcnRfYW5kX2NsYW1wKAorCQkJCXdh
dGVybWFya3MtPmIuY3N0YXRlX3BzdGF0ZS5jc3RhdGVfZXhpdF9ucywKKwkJCQlyZWZjbGtfbWh6
LCAweDFmZmZmZik7CisJCVJFR19TRVRfMihEQ0hVQkJVQl9BUkJfQUxMT1dfU1JfRVhJVF9XQVRF
Uk1BUktfQiwgMCwKKwkJCQlEQ0hVQkJVQl9BUkJfQUxMT1dfU1JfRVhJVF9XQVRFUk1BUktfQiwg
cHJvZ193bV92YWx1ZSwKKwkJCQlEQ0hVQkJVQl9BUkJfVk1fUk9XX0FMTE9XX1NSX0VYSVRfV0FU
RVJNQVJLX0EsIHByb2dfd21fdmFsdWUpOworCQlEQ19MT0dfQkFORFdJRFRIX0NBTENTKCJTUl9F
WElUX1dBVEVSTUFSS19CIGNhbGN1bGF0ZWQgPSVkXG4iCisJCQkiSFcgcmVnaXN0ZXIgdmFsdWUg
PSAweCV4XG4iLAorCQkJd2F0ZXJtYXJrcy0+Yi5jc3RhdGVfcHN0YXRlLmNzdGF0ZV9leGl0X25z
LCBwcm9nX3dtX3ZhbHVlKTsKKwl9CisKKwkvKiBjbG9jayBzdGF0ZSBDICovCisJaWYgKHNhZmVf
dG9fbG93ZXIgfHwgd2F0ZXJtYXJrcy0+Yy5jc3RhdGVfcHN0YXRlLmNzdGF0ZV9lbnRlcl9wbHVz
X2V4aXRfbnMKKwkJCT4gaHViYnViMS0+d2F0ZXJtYXJrcy5jLmNzdGF0ZV9wc3RhdGUuY3N0YXRl
X2VudGVyX3BsdXNfZXhpdF9ucykgeworCQlodWJidWIxLT53YXRlcm1hcmtzLmMuY3N0YXRlX3Bz
dGF0ZS5jc3RhdGVfZW50ZXJfcGx1c19leGl0X25zID0KKwkJCQl3YXRlcm1hcmtzLT5jLmNzdGF0
ZV9wc3RhdGUuY3N0YXRlX2VudGVyX3BsdXNfZXhpdF9uczsKKwkJcHJvZ193bV92YWx1ZSA9IGNv
bnZlcnRfYW5kX2NsYW1wKAorCQkJCXdhdGVybWFya3MtPmMuY3N0YXRlX3BzdGF0ZS5jc3RhdGVf
ZW50ZXJfcGx1c19leGl0X25zLAorCQkJCXJlZmNsa19taHosIDB4MWZmZmZmKTsKKwkJUkVHX1NF
VF8yKERDSFVCQlVCX0FSQl9BTExPV19TUl9FTlRFUl9XQVRFUk1BUktfQywgMCwKKwkJCQlEQ0hV
QkJVQl9BUkJfQUxMT1dfU1JfRU5URVJfV0FURVJNQVJLX0MsIHByb2dfd21fdmFsdWUsCisJCQkJ
RENIVUJCVUJfQVJCX1ZNX1JPV19BTExPV19TUl9FTlRFUl9XQVRFUk1BUktfQywgcHJvZ193bV92
YWx1ZSk7CisJCURDX0xPR19CQU5EV0lEVEhfQ0FMQ1MoIlNSX0VOVEVSX0VYSVRfV0FURVJNQVJL
X0MgY2FsY3VsYXRlZCA9JWRcbiIKKwkJCSJIVyByZWdpc3RlciB2YWx1ZSA9IDB4JXhcbiIsCisJ
CQl3YXRlcm1hcmtzLT5jLmNzdGF0ZV9wc3RhdGUuY3N0YXRlX2VudGVyX3BsdXNfZXhpdF9ucywg
cHJvZ193bV92YWx1ZSk7CisJfQorCisJaWYgKHNhZmVfdG9fbG93ZXIgfHwgd2F0ZXJtYXJrcy0+
Yy5jc3RhdGVfcHN0YXRlLmNzdGF0ZV9leGl0X25zCisJCQk+IGh1YmJ1YjEtPndhdGVybWFya3Mu
Yy5jc3RhdGVfcHN0YXRlLmNzdGF0ZV9leGl0X25zKSB7CisJCWh1YmJ1YjEtPndhdGVybWFya3Mu
Yy5jc3RhdGVfcHN0YXRlLmNzdGF0ZV9leGl0X25zID0KKwkJCQl3YXRlcm1hcmtzLT5jLmNzdGF0
ZV9wc3RhdGUuY3N0YXRlX2V4aXRfbnM7CisJCXByb2dfd21fdmFsdWUgPSBjb252ZXJ0X2FuZF9j
bGFtcCgKKwkJCQl3YXRlcm1hcmtzLT5jLmNzdGF0ZV9wc3RhdGUuY3N0YXRlX2V4aXRfbnMsCisJ
CQkJcmVmY2xrX21oeiwgMHgxZmZmZmYpOworCQlSRUdfU0VUXzIoRENIVUJCVUJfQVJCX0FMTE9X
X1NSX0VYSVRfV0FURVJNQVJLX0MsIDAsCisJCQkJRENIVUJCVUJfQVJCX0FMTE9XX1NSX0VYSVRf
V0FURVJNQVJLX0MsIHByb2dfd21fdmFsdWUsCisJCQkJRENIVUJCVUJfQVJCX1ZNX1JPV19BTExP
V19TUl9FWElUX1dBVEVSTUFSS19BLCBwcm9nX3dtX3ZhbHVlKTsKKwkJRENfTE9HX0JBTkRXSURU
SF9DQUxDUygiU1JfRVhJVF9XQVRFUk1BUktfQyBjYWxjdWxhdGVkID0lZFxuIgorCQkJIkhXIHJl
Z2lzdGVyIHZhbHVlID0gMHgleFxuIiwKKwkJCXdhdGVybWFya3MtPmMuY3N0YXRlX3BzdGF0ZS5j
c3RhdGVfZXhpdF9ucywgcHJvZ193bV92YWx1ZSk7CisJfQorCisJLyogY2xvY2sgc3RhdGUgRCAq
LworCWlmIChzYWZlX3RvX2xvd2VyIHx8IHdhdGVybWFya3MtPmQuY3N0YXRlX3BzdGF0ZS5jc3Rh
dGVfZW50ZXJfcGx1c19leGl0X25zCisJCQk+IGh1YmJ1YjEtPndhdGVybWFya3MuZC5jc3RhdGVf
cHN0YXRlLmNzdGF0ZV9lbnRlcl9wbHVzX2V4aXRfbnMpIHsKKwkJaHViYnViMS0+d2F0ZXJtYXJr
cy5kLmNzdGF0ZV9wc3RhdGUuY3N0YXRlX2VudGVyX3BsdXNfZXhpdF9ucyA9CisJCQkJd2F0ZXJt
YXJrcy0+ZC5jc3RhdGVfcHN0YXRlLmNzdGF0ZV9lbnRlcl9wbHVzX2V4aXRfbnM7CisJCXByb2df
d21fdmFsdWUgPSBjb252ZXJ0X2FuZF9jbGFtcCgKKwkJCQl3YXRlcm1hcmtzLT5kLmNzdGF0ZV9w
c3RhdGUuY3N0YXRlX2VudGVyX3BsdXNfZXhpdF9ucywKKwkJCQlyZWZjbGtfbWh6LCAweDFmZmZm
Zik7CisJCVJFR19TRVRfMihEQ0hVQkJVQl9BUkJfQUxMT1dfU1JfRU5URVJfV0FURVJNQVJLX0Qs
IDAsCisJCQkJRENIVUJCVUJfQVJCX0FMTE9XX1NSX0VOVEVSX1dBVEVSTUFSS19ELCBwcm9nX3dt
X3ZhbHVlLAorCQkJCURDSFVCQlVCX0FSQl9WTV9ST1dfQUxMT1dfU1JfRU5URVJfV0FURVJNQVJL
X0QsIHByb2dfd21fdmFsdWUpOworCQlEQ19MT0dfQkFORFdJRFRIX0NBTENTKCJTUl9FTlRFUl9F
WElUX1dBVEVSTUFSS19EIGNhbGN1bGF0ZWQgPSVkXG4iCisJCQkiSFcgcmVnaXN0ZXIgdmFsdWUg
PSAweCV4XG4iLAorCQkJd2F0ZXJtYXJrcy0+ZC5jc3RhdGVfcHN0YXRlLmNzdGF0ZV9lbnRlcl9w
bHVzX2V4aXRfbnMsIHByb2dfd21fdmFsdWUpOworCX0KKworCWlmIChzYWZlX3RvX2xvd2VyIHx8
IHdhdGVybWFya3MtPmQuY3N0YXRlX3BzdGF0ZS5jc3RhdGVfZXhpdF9ucworCQkJPiBodWJidWIx
LT53YXRlcm1hcmtzLmQuY3N0YXRlX3BzdGF0ZS5jc3RhdGVfZXhpdF9ucykgeworCQlodWJidWIx
LT53YXRlcm1hcmtzLmQuY3N0YXRlX3BzdGF0ZS5jc3RhdGVfZXhpdF9ucyA9CisJCQkJd2F0ZXJt
YXJrcy0+ZC5jc3RhdGVfcHN0YXRlLmNzdGF0ZV9leGl0X25zOworCQlwcm9nX3dtX3ZhbHVlID0g
Y29udmVydF9hbmRfY2xhbXAoCisJCQkJd2F0ZXJtYXJrcy0+ZC5jc3RhdGVfcHN0YXRlLmNzdGF0
ZV9leGl0X25zLAorCQkJCXJlZmNsa19taHosIDB4MWZmZmZmKTsKKwkJUkVHX1NFVF8yKERDSFVC
QlVCX0FSQl9BTExPV19TUl9FWElUX1dBVEVSTUFSS19ELCAwLAorCQkJCURDSFVCQlVCX0FSQl9B
TExPV19TUl9FWElUX1dBVEVSTUFSS19ELCBwcm9nX3dtX3ZhbHVlLAorCQkJCURDSFVCQlVCX0FS
Ql9WTV9ST1dfQUxMT1dfU1JfRVhJVF9XQVRFUk1BUktfQSwgcHJvZ193bV92YWx1ZSk7CisJCURD
X0xPR19CQU5EV0lEVEhfQ0FMQ1MoIlNSX0VYSVRfV0FURVJNQVJLX0QgY2FsY3VsYXRlZCA9JWRc
biIKKwkJCSJIVyByZWdpc3RlciB2YWx1ZSA9IDB4JXhcbiIsCisJCQl3YXRlcm1hcmtzLT5kLmNz
dGF0ZV9wc3RhdGUuY3N0YXRlX2V4aXRfbnMsIHByb2dfd21fdmFsdWUpOworCX0KK30KKworc3Rh
dGljIHZvaWQgaHViYnViMjFfcHJvZ3JhbV9wc3RhdGVfd2F0ZXJtYXJrcygKKwkJc3RydWN0IGh1
YmJ1YiAqaHViYnViLAorCQlzdHJ1Y3QgZGNuX3dhdGVybWFya19zZXQgKndhdGVybWFya3MsCisJ
CXVuc2lnbmVkIGludCByZWZjbGtfbWh6LAorCQlib29sIHNhZmVfdG9fbG93ZXIpCit7CisJc3Ry
dWN0IGRjbjIwX2h1YmJ1YiAqaHViYnViMSA9IFRPX0RDTjIwX0hVQkJVQihodWJidWIpOworCXVp
bnQzMl90IHByb2dfd21fdmFsdWU7CisKKwkvKiBjbG9jayBzdGF0ZSBBICovCisJaWYgKHNhZmVf
dG9fbG93ZXIgfHwgd2F0ZXJtYXJrcy0+YS5jc3RhdGVfcHN0YXRlLnBzdGF0ZV9jaGFuZ2VfbnMK
KwkJCT4gaHViYnViMS0+d2F0ZXJtYXJrcy5hLmNzdGF0ZV9wc3RhdGUucHN0YXRlX2NoYW5nZV9u
cykgeworCQlodWJidWIxLT53YXRlcm1hcmtzLmEuY3N0YXRlX3BzdGF0ZS5wc3RhdGVfY2hhbmdl
X25zID0KKwkJCQl3YXRlcm1hcmtzLT5hLmNzdGF0ZV9wc3RhdGUucHN0YXRlX2NoYW5nZV9uczsK
KwkJcHJvZ193bV92YWx1ZSA9IGNvbnZlcnRfYW5kX2NsYW1wKAorCQkJCXdhdGVybWFya3MtPmEu
Y3N0YXRlX3BzdGF0ZS5wc3RhdGVfY2hhbmdlX25zLAorCQkJCXJlZmNsa19taHosIDB4MWZmZmZm
KTsKKwkJUkVHX1NFVF8yKERDSFVCQlVCX0FSQl9BTExPV19EUkFNX0NMS19DSEFOR0VfV0FURVJN
QVJLX0EsIDAsCisJCQkJRENIVUJCVUJfQVJCX0FMTE9XX0RSQU1fQ0xLX0NIQU5HRV9XQVRFUk1B
UktfQSwgcHJvZ193bV92YWx1ZSwKKwkJCQlEQ0hVQkJVQl9BUkJfVk1fUk9XX0FMTE9XX0RSQU1f
Q0xLX0NIQU5HRV9XQVRFUk1BUktfQSwgcHJvZ193bV92YWx1ZSk7CisJCURDX0xPR19CQU5EV0lE
VEhfQ0FMQ1MoIkRSQU1fQ0xLX0NIQU5HRV9XQVRFUk1BUktfQSBjYWxjdWxhdGVkID0lZFxuIgor
CQkJIkhXIHJlZ2lzdGVyIHZhbHVlID0gMHgleFxuXG4iLAorCQkJd2F0ZXJtYXJrcy0+YS5jc3Rh
dGVfcHN0YXRlLnBzdGF0ZV9jaGFuZ2VfbnMsIHByb2dfd21fdmFsdWUpOworCX0KKworCS8qIGNs
b2NrIHN0YXRlIEIgKi8KKwlpZiAoc2FmZV90b19sb3dlciB8fCB3YXRlcm1hcmtzLT5iLmNzdGF0
ZV9wc3RhdGUucHN0YXRlX2NoYW5nZV9ucworCQkJPiBodWJidWIxLT53YXRlcm1hcmtzLmIuY3N0
YXRlX3BzdGF0ZS5wc3RhdGVfY2hhbmdlX25zKSB7CisJCWh1YmJ1YjEtPndhdGVybWFya3MuYi5j
c3RhdGVfcHN0YXRlLnBzdGF0ZV9jaGFuZ2VfbnMgPQorCQkJCXdhdGVybWFya3MtPmIuY3N0YXRl
X3BzdGF0ZS5wc3RhdGVfY2hhbmdlX25zOworCQlwcm9nX3dtX3ZhbHVlID0gY29udmVydF9hbmRf
Y2xhbXAoCisJCQkJd2F0ZXJtYXJrcy0+Yi5jc3RhdGVfcHN0YXRlLnBzdGF0ZV9jaGFuZ2VfbnMs
CisJCQkJcmVmY2xrX21oeiwgMHgxZmZmZmYpOworCQlSRUdfU0VUXzIoRENIVUJCVUJfQVJCX0FM
TE9XX0RSQU1fQ0xLX0NIQU5HRV9XQVRFUk1BUktfQiwgMCwKKwkJCQlEQ0hVQkJVQl9BUkJfQUxM
T1dfRFJBTV9DTEtfQ0hBTkdFX1dBVEVSTUFSS19CLCBwcm9nX3dtX3ZhbHVlLAorCQkJCURDSFVC
QlVCX0FSQl9WTV9ST1dfQUxMT1dfRFJBTV9DTEtfQ0hBTkdFX1dBVEVSTUFSS19CLCBwcm9nX3dt
X3ZhbHVlKTsKKwkJRENfTE9HX0JBTkRXSURUSF9DQUxDUygiRFJBTV9DTEtfQ0hBTkdFX1dBVEVS
TUFSS19CIGNhbGN1bGF0ZWQgPSVkXG4iCisJCQkiSFcgcmVnaXN0ZXIgdmFsdWUgPSAweCV4XG5c
biIsCisJCQl3YXRlcm1hcmtzLT5iLmNzdGF0ZV9wc3RhdGUucHN0YXRlX2NoYW5nZV9ucywgcHJv
Z193bV92YWx1ZSk7CisJfQorCisJLyogY2xvY2sgc3RhdGUgQyAqLworCWlmIChzYWZlX3RvX2xv
d2VyIHx8IHdhdGVybWFya3MtPmMuY3N0YXRlX3BzdGF0ZS5wc3RhdGVfY2hhbmdlX25zCisJCQk+
IGh1YmJ1YjEtPndhdGVybWFya3MuYy5jc3RhdGVfcHN0YXRlLnBzdGF0ZV9jaGFuZ2VfbnMpIHsK
KwkJaHViYnViMS0+d2F0ZXJtYXJrcy5jLmNzdGF0ZV9wc3RhdGUucHN0YXRlX2NoYW5nZV9ucyA9
CisJCQkJd2F0ZXJtYXJrcy0+Yy5jc3RhdGVfcHN0YXRlLnBzdGF0ZV9jaGFuZ2VfbnM7CisJCXBy
b2dfd21fdmFsdWUgPSBjb252ZXJ0X2FuZF9jbGFtcCgKKwkJCQl3YXRlcm1hcmtzLT5jLmNzdGF0
ZV9wc3RhdGUucHN0YXRlX2NoYW5nZV9ucywKKwkJCQlyZWZjbGtfbWh6LCAweDFmZmZmZik7CisJ
CVJFR19TRVRfMihEQ0hVQkJVQl9BUkJfQUxMT1dfRFJBTV9DTEtfQ0hBTkdFX1dBVEVSTUFSS19D
LCAwLAorCQkJCURDSFVCQlVCX0FSQl9BTExPV19EUkFNX0NMS19DSEFOR0VfV0FURVJNQVJLX0Ms
IHByb2dfd21fdmFsdWUsCisJCQkJRENIVUJCVUJfQVJCX1ZNX1JPV19BTExPV19EUkFNX0NMS19D
SEFOR0VfV0FURVJNQVJLX0MsIHByb2dfd21fdmFsdWUpOworCQlEQ19MT0dfQkFORFdJRFRIX0NB
TENTKCJEUkFNX0NMS19DSEFOR0VfV0FURVJNQVJLX0MgY2FsY3VsYXRlZCA9JWRcbiIKKwkJCSJI
VyByZWdpc3RlciB2YWx1ZSA9IDB4JXhcblxuIiwKKwkJCXdhdGVybWFya3MtPmMuY3N0YXRlX3Bz
dGF0ZS5wc3RhdGVfY2hhbmdlX25zLCBwcm9nX3dtX3ZhbHVlKTsKKwl9CisKKwkvKiBjbG9jayBz
dGF0ZSBEICovCisJaWYgKHNhZmVfdG9fbG93ZXIgfHwgd2F0ZXJtYXJrcy0+ZC5jc3RhdGVfcHN0
YXRlLnBzdGF0ZV9jaGFuZ2VfbnMKKwkJCT4gaHViYnViMS0+d2F0ZXJtYXJrcy5kLmNzdGF0ZV9w
c3RhdGUucHN0YXRlX2NoYW5nZV9ucykgeworCQlodWJidWIxLT53YXRlcm1hcmtzLmQuY3N0YXRl
X3BzdGF0ZS5wc3RhdGVfY2hhbmdlX25zID0KKwkJCQl3YXRlcm1hcmtzLT5kLmNzdGF0ZV9wc3Rh
dGUucHN0YXRlX2NoYW5nZV9uczsKKwkJcHJvZ193bV92YWx1ZSA9IGNvbnZlcnRfYW5kX2NsYW1w
KAorCQkJCXdhdGVybWFya3MtPmQuY3N0YXRlX3BzdGF0ZS5wc3RhdGVfY2hhbmdlX25zLAorCQkJ
CXJlZmNsa19taHosIDB4MWZmZmZmKTsKKwkJUkVHX1NFVF8yKERDSFVCQlVCX0FSQl9BTExPV19E
UkFNX0NMS19DSEFOR0VfV0FURVJNQVJLX0QsIDAsCisJCQkJRENIVUJCVUJfQVJCX0FMTE9XX0RS
QU1fQ0xLX0NIQU5HRV9XQVRFUk1BUktfRCwgcHJvZ193bV92YWx1ZSwKKwkJCQlEQ0hVQkJVQl9B
UkJfVk1fUk9XX0FMTE9XX0RSQU1fQ0xLX0NIQU5HRV9XQVRFUk1BUktfRCwgcHJvZ193bV92YWx1
ZSk7CisJCURDX0xPR19CQU5EV0lEVEhfQ0FMQ1MoIkRSQU1fQ0xLX0NIQU5HRV9XQVRFUk1BUktf
RCBjYWxjdWxhdGVkID0lZFxuIgorCQkJIkhXIHJlZ2lzdGVyIHZhbHVlID0gMHgleFxuXG4iLAor
CQkJd2F0ZXJtYXJrcy0+ZC5jc3RhdGVfcHN0YXRlLnBzdGF0ZV9jaGFuZ2VfbnMsIHByb2dfd21f
dmFsdWUpOworCX0KK30KKwordm9pZCBodWJidWIyMV9wcm9ncmFtX3dhdGVybWFya3MoCisJCXN0
cnVjdCBodWJidWIgKmh1YmJ1YiwKKwkJc3RydWN0IGRjbl93YXRlcm1hcmtfc2V0ICp3YXRlcm1h
cmtzLAorCQl1bnNpZ25lZCBpbnQgcmVmY2xrX21oeiwKKwkJYm9vbCBzYWZlX3RvX2xvd2VyKQor
eworCXN0cnVjdCBkY24yMF9odWJidWIgKmh1YmJ1YjEgPSBUT19EQ04yMF9IVUJCVUIoaHViYnVi
KTsKKworCWh1YmJ1YjIxX3Byb2dyYW1fdXJnZW50X3dhdGVybWFya3MoaHViYnViLCB3YXRlcm1h
cmtzLCByZWZjbGtfbWh6LCBzYWZlX3RvX2xvd2VyKTsKKwlodWJidWIyMV9wcm9ncmFtX3N0dXR0
ZXJfd2F0ZXJtYXJrcyhodWJidWIsIHdhdGVybWFya3MsIHJlZmNsa19taHosIHNhZmVfdG9fbG93
ZXIpOworCWh1YmJ1YjIxX3Byb2dyYW1fcHN0YXRlX3dhdGVybWFya3MoaHViYnViLCB3YXRlcm1h
cmtzLCByZWZjbGtfbWh6LCBzYWZlX3RvX2xvd2VyKTsKKworCS8qCisJICogVGhlIERDSHViIGFy
Yml0ZXIgaGFzIGEgbWVjaGFuaXNtIHRvIGR5bmFtaWNhbGx5IHJhdGUgbGltaXQgdGhlIERDSHVi
IHJlcXVlc3Qgc3RyZWFtIHRvIHRoZSBmYWJyaWMuCisJICogSWYgdGhlIG1lbW9yeSBjb250cm9s
bGVyIGlzIGZ1bGx5IHV0aWxpemVkIGFuZCB0aGUgRENIdWIgcmVxdWVzdG9ycyBhcmUKKwkgKiB3
ZWxsIGFoZWFkIG9mIHRoZWlyIGFtb3J0aXplZCBzY2hlZHVsZSwgdGhlbiBpdCBpcyBzYWZlIHRv
IHByZXZlbnQgdGhlIG5leHQgd2lubmVyCisJICogZnJvbSBiZWluZyBjb21taXR0ZWQgYW5kIHNl
bnQgdG8gdGhlIGZhYnJpYy4KKwkgKiBUaGUgdXRpbGl6YXRpb24gb2YgdGhlIG1lbW9yeSBjb250
cm9sbGVyIGlzIGFwcHJveGltYXRlZCBieSBlbnN1cmluZyB0aGF0CisJICogdGhlIG51bWJlciBv
ZiBvdXRzdGFuZGluZyByZXF1ZXN0cyBpcyBncmVhdGVyIHRoYW4gYSB0aHJlc2hvbGQgc3BlY2lm
aWVkCisJICogYnkgdGhlIEFSQl9NSU5fUkVRX09VVFNUQU5ESU5HLiBUbyBkZXRlcm1pbmUgdGhh
dCB0aGUgRENIdWIgcmVxdWVzdG9ycyBhcmUgd2VsbCBhaGVhZCBvZiB0aGUgYW1vcnRpemVkIHNj
aGVkdWxlLAorCSAqIHRoZSBzbGFjayBvZiB0aGUgbmV4dCB3aW5uZXIgaXMgY29tcGFyZWQgd2l0
aCB0aGUgQVJCX1NBVF9MRVZFTCBpbiBETEcgUmVmQ2xrIGN5Y2xlcy4KKwkgKgorCSAqIFRPRE86
IFJldmlzaXQgcmVxdWVzdCBsaW1pdCBhZnRlciBmaWd1cmUgb3V0IHJpZ2h0IG51bWJlci4gcmVx
dWVzdCBsaW1pdCBmb3IgUmVub2lyIGlzbid0IGRlY2lkZWQgeWV0LCBzZXQgbWF4aW11bSB2YWx1
ZSAoMHgxRkYpCisJICogdG8gdHVybiBvZmYgaXQgZm9yIG5vdy4KKwkgKi8KKwlSRUdfU0VUKERD
SFVCQlVCX0FSQl9TQVRfTEVWRUwsIDAsCisJCQlEQ0hVQkJVQl9BUkJfU0FUX0xFVkVMLCA2MCAq
IHJlZmNsa19taHopOworCVJFR19VUERBVEVfMihEQ0hVQkJVQl9BUkJfREZfUkVRX09VVFNUQU5E
LAorCQkJRENIVUJCVUJfQVJCX01JTl9SRVFfT1VUU1RBTkQsIDB4MUZGLAorCQkJRENIVUJCVUJf
QVJCX01JTl9SRVFfT1VUU1RBTkRfQ09NTUlUX1RIUkVTSE9MRCwgMHhBKTsKKwlSRUdfVVBEQVRF
KERDSFVCQlVCX0FSQl9IT1NUVk1fQ05UTCwKKwkJCURDSFVCQlVCX0FSQl9NQVhfUU9TX0NPTU1J
VF9USFJFU0hPTEQsIDB4Rik7CisKKwlodWJidWIxX2FsbG93X3NlbGZfcmVmcmVzaF9jb250cm9s
KGh1YmJ1YiwgIWh1YmJ1Yi0+Y3R4LT5kYy0+ZGVidWcuZGlzYWJsZV9zdHV0dGVyKTsKK30KKwor
dm9pZCBodWJidWIyMV93bV9yZWFkX3N0YXRlKHN0cnVjdCBodWJidWIgKmh1YmJ1YiwKKwkJc3Ry
dWN0IGRjbl9odWJidWJfd20gKndtKQoreworCXN0cnVjdCBkY24yMF9odWJidWIgKmh1YmJ1YjEg
PSBUT19EQ04yMF9IVUJCVUIoaHViYnViKTsKKwlzdHJ1Y3QgZGNuX2h1YmJ1Yl93bV9zZXQgKnM7
CisKKwltZW1zZXQod20sIDAsIHNpemVvZihzdHJ1Y3QgZGNuX2h1YmJ1Yl93bSkpOworCisJcyA9
ICZ3bS0+c2V0c1swXTsKKwlzLT53bV9zZXQgPSAwOworCVJFR19HRVQoRENIVUJCVUJfQVJCX0RB
VEFfVVJHRU5DWV9XQVRFUk1BUktfQSwKKwkJCURDSFVCQlVCX0FSQl9EQVRBX1VSR0VOQ1lfV0FU
RVJNQVJLX0EsICZzLT5kYXRhX3VyZ2VudCk7CisKKwlSRUdfR0VUKERDSFVCQlVCX0FSQl9BTExP
V19TUl9FTlRFUl9XQVRFUk1BUktfQSwKKwkJCURDSFVCQlVCX0FSQl9BTExPV19TUl9FTlRFUl9X
QVRFUk1BUktfQSwgJnMtPnNyX2VudGVyKTsKKworCVJFR19HRVQoRENIVUJCVUJfQVJCX0FMTE9X
X1NSX0VYSVRfV0FURVJNQVJLX0EsCisJCQlEQ0hVQkJVQl9BUkJfQUxMT1dfU1JfRVhJVF9XQVRF
Uk1BUktfQSwgJnMtPnNyX2V4aXQpOworCisJUkVHX0dFVChEQ0hVQkJVQl9BUkJfQUxMT1dfRFJB
TV9DTEtfQ0hBTkdFX1dBVEVSTUFSS19BLAorCQkJIERDSFVCQlVCX0FSQl9BTExPV19EUkFNX0NM
S19DSEFOR0VfV0FURVJNQVJLX0EsICZzLT5kcmFtX2Nsa19jaGFuYWdlKTsKKworCXMgPSAmd20t
PnNldHNbMV07CisJcy0+d21fc2V0ID0gMTsKKwlSRUdfR0VUKERDSFVCQlVCX0FSQl9EQVRBX1VS
R0VOQ1lfV0FURVJNQVJLX0IsCisJCQlEQ0hVQkJVQl9BUkJfREFUQV9VUkdFTkNZX1dBVEVSTUFS
S19CLCAmcy0+ZGF0YV91cmdlbnQpOworCisJUkVHX0dFVChEQ0hVQkJVQl9BUkJfQUxMT1dfU1Jf
RU5URVJfV0FURVJNQVJLX0IsCisJCQlEQ0hVQkJVQl9BUkJfQUxMT1dfU1JfRU5URVJfV0FURVJN
QVJLX0IsICZzLT5zcl9lbnRlcik7CisKKwlSRUdfR0VUKERDSFVCQlVCX0FSQl9BTExPV19TUl9F
WElUX1dBVEVSTUFSS19CLAorCQkJRENIVUJCVUJfQVJCX0FMTE9XX1NSX0VYSVRfV0FURVJNQVJL
X0IsICZzLT5zcl9leGl0KTsKKworCVJFR19HRVQoRENIVUJCVUJfQVJCX0FMTE9XX0RSQU1fQ0xL
X0NIQU5HRV9XQVRFUk1BUktfQiwKKwkJCURDSFVCQlVCX0FSQl9BTExPV19EUkFNX0NMS19DSEFO
R0VfV0FURVJNQVJLX0IsICZzLT5kcmFtX2Nsa19jaGFuYWdlKTsKKworCXMgPSAmd20tPnNldHNb
Ml07CisJcy0+d21fc2V0ID0gMjsKKwlSRUdfR0VUKERDSFVCQlVCX0FSQl9EQVRBX1VSR0VOQ1lf
V0FURVJNQVJLX0MsCisJCQlEQ0hVQkJVQl9BUkJfREFUQV9VUkdFTkNZX1dBVEVSTUFSS19DLCAm
cy0+ZGF0YV91cmdlbnQpOworCisJUkVHX0dFVChEQ0hVQkJVQl9BUkJfQUxMT1dfU1JfRU5URVJf
V0FURVJNQVJLX0MsCisJCQlEQ0hVQkJVQl9BUkJfQUxMT1dfU1JfRU5URVJfV0FURVJNQVJLX0Ms
ICZzLT5zcl9lbnRlcik7CisKKwlSRUdfR0VUKERDSFVCQlVCX0FSQl9BTExPV19TUl9FWElUX1dB
VEVSTUFSS19DLAorCQkJRENIVUJCVUJfQVJCX0FMTE9XX1NSX0VYSVRfV0FURVJNQVJLX0MsICZz
LT5zcl9leGl0KTsKKworCVJFR19HRVQoRENIVUJCVUJfQVJCX0FMTE9XX0RSQU1fQ0xLX0NIQU5H
RV9XQVRFUk1BUktfQywKKwkJCURDSFVCQlVCX0FSQl9BTExPV19EUkFNX0NMS19DSEFOR0VfV0FU
RVJNQVJLX0MsICZzLT5kcmFtX2Nsa19jaGFuYWdlKTsKKworCXMgPSAmd20tPnNldHNbM107CisJ
cy0+d21fc2V0ID0gMzsKKwlSRUdfR0VUKERDSFVCQlVCX0FSQl9EQVRBX1VSR0VOQ1lfV0FURVJN
QVJLX0QsCisJCQlEQ0hVQkJVQl9BUkJfREFUQV9VUkdFTkNZX1dBVEVSTUFSS19ELCAmcy0+ZGF0
YV91cmdlbnQpOworCisJUkVHX0dFVChEQ0hVQkJVQl9BUkJfQUxMT1dfU1JfRU5URVJfV0FURVJN
QVJLX0QsCisJCQlEQ0hVQkJVQl9BUkJfQUxMT1dfU1JfRU5URVJfV0FURVJNQVJLX0QsICZzLT5z
cl9lbnRlcik7CisKKwlSRUdfR0VUKERDSFVCQlVCX0FSQl9BTExPV19TUl9FWElUX1dBVEVSTUFS
S19ELAorCQkJRENIVUJCVUJfQVJCX0FMTE9XX1NSX0VYSVRfV0FURVJNQVJLX0QsICZzLT5zcl9l
eGl0KTsKKworCVJFR19HRVQoRENIVUJCVUJfQVJCX0FMTE9XX0RSQU1fQ0xLX0NIQU5HRV9XQVRF
Uk1BUktfRCwKKwkJCURDSFVCQlVCX0FSQl9BTExPV19EUkFNX0NMS19DSEFOR0VfV0FURVJNQVJL
X0QsICZzLT5kcmFtX2Nsa19jaGFuYWdlKTsKK30KKworCitzdGF0aWMgY29uc3Qgc3RydWN0IGh1
YmJ1Yl9mdW5jcyBodWJidWIyMV9mdW5jcyA9IHsKKwkudXBkYXRlX2RjaHViID0gaHViYnViMl91
cGRhdGVfZGNodWIsCisJLmluaXRfZGNodWJfc3lzX2N0eCA9IGh1YmJ1YjIxX2luaXRfZGNodWIs
CisJLmluaXRfdm1fY3R4ID0gTlVMTCwKKwkuZGNjX3N1cHBvcnRfc3dpenpsZSA9IGh1YmJ1YjJf
ZGNjX3N1cHBvcnRfc3dpenpsZSwKKwkuZGNjX3N1cHBvcnRfcGl4ZWxfZm9ybWF0ID0gaHViYnVi
Ml9kY2Nfc3VwcG9ydF9waXhlbF9mb3JtYXQsCisJLmdldF9kY2NfY29tcHJlc3Npb25fY2FwID0g
aHViYnViMl9nZXRfZGNjX2NvbXByZXNzaW9uX2NhcCwKKwkud21fcmVhZF9zdGF0ZSA9IGh1YmJ1
YjIxX3dtX3JlYWRfc3RhdGUsCisJLmdldF9kY2h1Yl9yZWZfZnJlcSA9IGh1YmJ1YjJfZ2V0X2Rj
aHViX3JlZl9mcmVxLAorCS5wcm9ncmFtX3dhdGVybWFya3MgPSBodWJidWIyMV9wcm9ncmFtX3dh
dGVybWFya3MsCit9OworCit2b2lkIGh1YmJ1YjIxX2NvbnN0cnVjdChzdHJ1Y3QgZGNuMjBfaHVi
YnViICpodWJidWIsCisJc3RydWN0IGRjX2NvbnRleHQgKmN0eCwKKwljb25zdCBzdHJ1Y3QgZGNu
X2h1YmJ1Yl9yZWdpc3RlcnMgKmh1YmJ1Yl9yZWdzLAorCWNvbnN0IHN0cnVjdCBkY25faHViYnVi
X3NoaWZ0ICpodWJidWJfc2hpZnQsCisJY29uc3Qgc3RydWN0IGRjbl9odWJidWJfbWFzayAqaHVi
YnViX21hc2spCit7CisJaHViYnViLT5iYXNlLmN0eCA9IGN0eDsKKworCWh1YmJ1Yi0+YmFzZS5m
dW5jcyA9ICZodWJidWIyMV9mdW5jczsKKworCWh1YmJ1Yi0+cmVncyA9IGh1YmJ1Yl9yZWdzOwor
CWh1YmJ1Yi0+c2hpZnRzID0gaHViYnViX3NoaWZ0OworCWh1YmJ1Yi0+bWFza3MgPSBodWJidWJf
bWFzazsKKworCWh1YmJ1Yi0+ZGVidWdfdGVzdF9pbmRleF9wc3RhdGUgPSAweEI7Cit9CmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjEvZGNuMjFfaHViYnVi
LmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjEvZGNuMjFfaHViYnViLmgK
bmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAwLi42ZmYzY2RiODkxNzgKLS0t
IC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjEvZGNu
MjFfaHViYnViLmgKQEAgLTAsMCArMSwxMzIgQEAKKy8qCisqIENvcHlyaWdodCAyMDE4IEFkdmFu
Y2VkIE1pY3JvIERldmljZXMsIEluYy4KKyAqCisgKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFu
dGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYQorICogY29weSBv
ZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAi
U29mdHdhcmUiKSwKKyAqIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rp
b24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24KKyAqIHRoZSByaWdodHMgdG8gdXNlLCBj
b3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLAorICog
YW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25z
IHRvIHdob20gdGhlCisgKiBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3Qg
dG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgorICoKKyAqIFRoZSBhYm92ZSBjb3B5cmlnaHQg
bm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluCisg
KiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KKyAq
CisgKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBP
RiBBTlkgS0lORCwgRVhQUkVTUyBPUgorICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElN
SVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCisgKiBGSVRORVNTIEZP
UiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiAgSU4gTk8gRVZFTlQg
U0hBTEwKKyAqIFRIRSBDT1BZUklHSFQgSE9MREVSKFMpIE9SIEFVVEhPUihTKSBCRSBMSUFCTEUg
Rk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUgorICogT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElO
IEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsCisgKiBBUklTSU5HIEZS
T00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0Ug
T1IKKyAqIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS4KKyAqCisgKiBBdXRob3JzOiBB
TUQKKyAqCisgKi8KKyNpZm5kZWYgREFMX0RDX0RDTjIxX0RDTjIxX0hVQkJVQl9IXworI2RlZmlu
ZSBEQUxfRENfRENOMjFfRENOMjFfSFVCQlVCX0hfCisKKyNpbmNsdWRlICJkY24yMC9kY24yMF9o
dWJidWIuaCIKKworI2RlZmluZSBIVUJCVUJfSFZNX1JFR19MSVNUKCkgXAorCVNSKERDSFVCQlVC
X0FSQl9GUkFDX1VSR19CV19OT01fQSksXAorCVNSKERDSFVCQlVCX0FSQl9GUkFDX1VSR19CV19O
T01fQiksXAorCVNSKERDSFVCQlVCX0FSQl9GUkFDX1VSR19CV19OT01fQyksXAorCVNSKERDSFVC
QlVCX0FSQl9GUkFDX1VSR19CV19OT01fRCksXAorCVNSKERDSFVCQlVCX0FSQl9GUkFDX1VSR19C
V19GTElQX0EpLFwKKwlTUihEQ0hVQkJVQl9BUkJfRlJBQ19VUkdfQldfRkxJUF9CKSxcCisJU1Io
RENIVUJCVUJfQVJCX0ZSQUNfVVJHX0JXX0ZMSVBfQyksXAorCVNSKERDSFVCQlVCX0FSQl9GUkFD
X1VSR19CV19GTElQX0QpLFwKKwlTUihEQ0hVQkJVQl9BUkJfSE9TVFZNX0NOVEwpLCBcCisJU1Io
RENIVk1fQ1RSTDApLCBcCisJU1IoRENIVk1fTUVNX0NUUkwpLCBcCisJU1IoRENIVk1fQ0xLX0NU
UkwpLCBcCisJU1IoRENIVk1fUklPTU1VX0NUUkwwKSwgXAorCVNSKERDSFZNX1JJT01NVV9TVEFU
MCkKKworI2RlZmluZSBIVUJCVUJfUkVHX0xJU1RfRENOMjEoKVwKKwlIVUJCVUJfUkVHX0xJU1Rf
RENOX0NPTU1PTigpLCBcCisJSFVCQlVCX1NSX1dBVEVSTUFSS19SRUdfTElTVCgpLCBcCisJSFVC
QlVCX0hWTV9SRUdfTElTVCgpLCBcCisJU1IoRENIVUJCVUJfQ1JDX0NUUkwpLCBcCisJU1IoRENO
X1ZNX0ZCX0xPQ0FUSU9OX0JBU0UpLFwKKwlTUihEQ05fVk1fRkJfTE9DQVRJT05fVE9QKSxcCisJ
U1IoRENOX1ZNX0ZCX09GRlNFVCksXAorCVNSKERDTl9WTV9BR1BfQk9UKSxcCisJU1IoRENOX1ZN
X0FHUF9UT1ApLFwKKwlTUihEQ05fVk1fQUdQX0JBU0UpCisKKyNkZWZpbmUgSFVCQlVCX01BU0tf
U0hfTElTVF9IVk0obWFza19zaCkgXAorCUhVQkJVQl9TRihEQ0hVQkJVQl9BUkJfREZfUkVRX09V
VFNUQU5ELCBEQ0hVQkJVQl9BUkJfTUlOX1JFUV9PVVRTVEFORF9DT01NSVRfVEhSRVNIT0xELCBt
YXNrX3NoKSwgXAorCUhVQkJVQl9TRihEQ0hVQkJVQl9BUkJfRlJBQ19VUkdfQldfRkxJUF9BLCBE
Q0hVQkJVQl9BUkJfRlJBQ19VUkdfQldfRkxJUF9BLCBtYXNrX3NoKSwgXAorCUhVQkJVQl9TRihE
Q0hVQkJVQl9BUkJfRlJBQ19VUkdfQldfRkxJUF9CLCBEQ0hVQkJVQl9BUkJfRlJBQ19VUkdfQldf
RkxJUF9CLCBtYXNrX3NoKSwgXAorCUhVQkJVQl9TRihEQ0hVQkJVQl9BUkJfRlJBQ19VUkdfQldf
RkxJUF9DLCBEQ0hVQkJVQl9BUkJfRlJBQ19VUkdfQldfRkxJUF9DLCBtYXNrX3NoKSwgXAorCUhV
QkJVQl9TRihEQ0hVQkJVQl9BUkJfRlJBQ19VUkdfQldfRkxJUF9ELCBEQ0hVQkJVQl9BUkJfRlJB
Q19VUkdfQldfRkxJUF9ELCBtYXNrX3NoKSwgXAorCUhVQkJVQl9TRihEQ0hVQkJVQl9BUkJfRlJB
Q19VUkdfQldfTk9NX0EsIERDSFVCQlVCX0FSQl9GUkFDX1VSR19CV19OT01fQSwgbWFza19zaCks
IFwKKwlIVUJCVUJfU0YoRENIVUJCVUJfQVJCX0ZSQUNfVVJHX0JXX05PTV9CLCBEQ0hVQkJVQl9B
UkJfRlJBQ19VUkdfQldfTk9NX0IsIG1hc2tfc2gpLCBcCisJSFVCQlVCX1NGKERDSFVCQlVCX0FS
Ql9GUkFDX1VSR19CV19OT01fQywgRENIVUJCVUJfQVJCX0ZSQUNfVVJHX0JXX05PTV9DLCBtYXNr
X3NoKSwgXAorCUhVQkJVQl9TRihEQ0hVQkJVQl9BUkJfRlJBQ19VUkdfQldfTk9NX0QsIERDSFVC
QlVCX0FSQl9GUkFDX1VSR19CV19OT01fRCwgbWFza19zaCksIFwKKwlIVUJCVUJfU0YoRENIVUJC
VUJfQVJCX0RBVEFfVVJHRU5DWV9XQVRFUk1BUktfQSwgRENIVUJCVUJfQVJCX1ZNX1JPV19VUkdF
TkNZX1dBVEVSTUFSS19BLCBtYXNrX3NoKSwgXAorCUhVQkJVQl9TRihEQ0hVQkJVQl9BUkJfREFU
QV9VUkdFTkNZX1dBVEVSTUFSS19CLCBEQ0hVQkJVQl9BUkJfVk1fUk9XX1VSR0VOQ1lfV0FURVJN
QVJLX0IsIG1hc2tfc2gpLCBcCisJSFVCQlVCX1NGKERDSFVCQlVCX0FSQl9EQVRBX1VSR0VOQ1lf
V0FURVJNQVJLX0MsIERDSFVCQlVCX0FSQl9WTV9ST1dfVVJHRU5DWV9XQVRFUk1BUktfQywgbWFz
a19zaCksIFwKKwlIVUJCVUJfU0YoRENIVUJCVUJfQVJCX0RBVEFfVVJHRU5DWV9XQVRFUk1BUktf
RCwgRENIVUJCVUJfQVJCX1ZNX1JPV19VUkdFTkNZX1dBVEVSTUFSS19ELCBtYXNrX3NoKSwgXAor
CUhVQkJVQl9TRihEQ0hVQkJVQl9BUkJfQUxMT1dfU1JfRU5URVJfV0FURVJNQVJLX0EsIERDSFVC
QlVCX0FSQl9WTV9ST1dfQUxMT1dfU1JfRU5URVJfV0FURVJNQVJLX0EsIG1hc2tfc2gpLCBcCisJ
SFVCQlVCX1NGKERDSFVCQlVCX0FSQl9BTExPV19TUl9FTlRFUl9XQVRFUk1BUktfQiwgRENIVUJC
VUJfQVJCX1ZNX1JPV19BTExPV19TUl9FTlRFUl9XQVRFUk1BUktfQiwgbWFza19zaCksIFwKKwlI
VUJCVUJfU0YoRENIVUJCVUJfQVJCX0FMTE9XX1NSX0VOVEVSX1dBVEVSTUFSS19DLCBEQ0hVQkJV
Ql9BUkJfVk1fUk9XX0FMTE9XX1NSX0VOVEVSX1dBVEVSTUFSS19DLCBtYXNrX3NoKSwgXAorCUhV
QkJVQl9TRihEQ0hVQkJVQl9BUkJfQUxMT1dfU1JfRU5URVJfV0FURVJNQVJLX0QsIERDSFVCQlVC
X0FSQl9WTV9ST1dfQUxMT1dfU1JfRU5URVJfV0FURVJNQVJLX0QsIG1hc2tfc2gpLCBcCisJSFVC
QlVCX1NGKERDSFVCQlVCX0FSQl9BTExPV19TUl9FWElUX1dBVEVSTUFSS19BLCBEQ0hVQkJVQl9B
UkJfVk1fUk9XX0FMTE9XX1NSX0VYSVRfV0FURVJNQVJLX0EsIG1hc2tfc2gpLCBcCisJSFVCQlVC
X1NGKERDSFVCQlVCX0FSQl9BTExPV19TUl9FWElUX1dBVEVSTUFSS19CLCBEQ0hVQkJVQl9BUkJf
Vk1fUk9XX0FMTE9XX1NSX0VYSVRfV0FURVJNQVJLX0IsIG1hc2tfc2gpLCBcCisJSFVCQlVCX1NG
KERDSFVCQlVCX0FSQl9BTExPV19TUl9FWElUX1dBVEVSTUFSS19DLCBEQ0hVQkJVQl9BUkJfVk1f
Uk9XX0FMTE9XX1NSX0VYSVRfV0FURVJNQVJLX0MsIG1hc2tfc2gpLCBcCisJSFVCQlVCX1NGKERD
SFVCQlVCX0FSQl9BTExPV19TUl9FWElUX1dBVEVSTUFSS19ELCBEQ0hVQkJVQl9BUkJfVk1fUk9X
X0FMTE9XX1NSX0VYSVRfV0FURVJNQVJLX0QsIG1hc2tfc2gpLCBcCisJSFVCQlVCX1NGKERDSFVC
QlVCX0FSQl9BTExPV19EUkFNX0NMS19DSEFOR0VfV0FURVJNQVJLX0EsIERDSFVCQlVCX0FSQl9W
TV9ST1dfQUxMT1dfRFJBTV9DTEtfQ0hBTkdFX1dBVEVSTUFSS19BLCBtYXNrX3NoKSwgXAorCUhV
QkJVQl9TRihEQ0hVQkJVQl9BUkJfQUxMT1dfRFJBTV9DTEtfQ0hBTkdFX1dBVEVSTUFSS19CLCBE
Q0hVQkJVQl9BUkJfVk1fUk9XX0FMTE9XX0RSQU1fQ0xLX0NIQU5HRV9XQVRFUk1BUktfQiwgbWFz
a19zaCksIFwKKwlIVUJCVUJfU0YoRENIVUJCVUJfQVJCX0FMTE9XX0RSQU1fQ0xLX0NIQU5HRV9X
QVRFUk1BUktfQywgRENIVUJCVUJfQVJCX1ZNX1JPV19BTExPV19EUkFNX0NMS19DSEFOR0VfV0FU
RVJNQVJLX0MsIG1hc2tfc2gpLCBcCisJSFVCQlVCX1NGKERDSFVCQlVCX0FSQl9BTExPV19EUkFN
X0NMS19DSEFOR0VfV0FURVJNQVJLX0QsIERDSFVCQlVCX0FSQl9WTV9ST1dfQUxMT1dfRFJBTV9D
TEtfQ0hBTkdFX1dBVEVSTUFSS19ELCBtYXNrX3NoKSwgXAorCUhVQkJVQl9TRihEQ0hVQkJVQl9B
UkJfSE9TVFZNX0NOVEwsIERDSFVCQlVCX0FSQl9NQVhfUU9TX0NPTU1JVF9USFJFU0hPTEQsIG1h
c2tfc2gpLCBcCisJSFVCQlVCX1NGKERDSFZNX0NUUkwwLCBIT1NUVk1fSU5JVF9SRVEsIG1hc2tf
c2gpLCBcCisJSFVCQlVCX1NGKERDSFZNX01FTV9DVFJMLCBIVk1fR1BVVk1SRVRfUFdSX1JFUV9E
SVMsIG1hc2tfc2gpLCBcCisJSFVCQlVCX1NGKERDSFZNX01FTV9DVFJMLCBIVk1fR1BVVk1SRVRf
Rk9SQ0VfUkVRLCBtYXNrX3NoKSwgXAorCUhVQkJVQl9TRihEQ0hWTV9NRU1fQ1RSTCwgSFZNX0dQ
VVZNUkVUX1BPV0VSX1NUQVRVUywgbWFza19zaCksIFwKKwlIVUJCVUJfU0YoRENIVk1fQ0xLX0NU
UkwsIEhWTV9ESVNQQ0xLX1JfR0FURV9ESVMsIG1hc2tfc2gpLCBcCisJSFVCQlVCX1NGKERDSFZN
X0NMS19DVFJMLCBIVk1fRElTUENMS19HX0dBVEVfRElTLCBtYXNrX3NoKSwgXAorCUhVQkJVQl9T
RihEQ0hWTV9DTEtfQ1RSTCwgSFZNX0RDRkNMS19SX0dBVEVfRElTLCBtYXNrX3NoKSwgXAorCUhV
QkJVQl9TRihEQ0hWTV9DTEtfQ1RSTCwgSFZNX0RDRkNMS19HX0dBVEVfRElTLCBtYXNrX3NoKSwg
XAorCUhVQkJVQl9TRihEQ0hWTV9DTEtfQ1RSTCwgVFJfUkVRX1JFUUNMS1JFUV9NT0RFLCBtYXNr
X3NoKSwgXAorCUhVQkJVQl9TRihEQ0hWTV9DTEtfQ1RSTCwgVFdfUlNQX0NPTVBDTEtSRVFfTU9E
RSwgbWFza19zaCksIFwKKwlIVUJCVUJfU0YoRENIVk1fUklPTU1VX0NUUkwwLCBIT1NUVk1fUFJF
RkVUQ0hfUkVRLCBtYXNrX3NoKSwgXAorCUhVQkJVQl9TRihEQ0hWTV9SSU9NTVVfQ1RSTDAsIEhP
U1RWTV9QT1dFUlNUQVRVUywgbWFza19zaCksIFwKKwlIVUJCVUJfU0YoRENIVk1fUklPTU1VX1NU
QVQwLCBSSU9NTVVfQUNUSVZFLCBtYXNrX3NoKSwgXAorCUhVQkJVQl9TRihEQ0hWTV9SSU9NTVVf
U1RBVDAsIEhPU1RWTV9QUkVGRVRDSF9ET05FLCBtYXNrX3NoKSwgXAorCUhVQkJVQl9TRihEQ0hV
QkJVQl9BUkJfUkVGQ1lDX1BFUl9UUklQX1RPX01FTU9SWV9BLCBEQ0hVQkJVQl9BUkJfUkVGQ1lD
X1BFUl9UUklQX1RPX01FTU9SWV9BLCBtYXNrX3NoKSwgXAorCUhVQkJVQl9TRihEQ0hVQkJVQl9B
UkJfUkVGQ1lDX1BFUl9UUklQX1RPX01FTU9SWV9CLCBEQ0hVQkJVQl9BUkJfUkVGQ1lDX1BFUl9U
UklQX1RPX01FTU9SWV9CLCBtYXNrX3NoKSwgXAorCUhVQkJVQl9TRihEQ0hVQkJVQl9BUkJfUkVG
Q1lDX1BFUl9UUklQX1RPX01FTU9SWV9DLCBEQ0hVQkJVQl9BUkJfUkVGQ1lDX1BFUl9UUklQX1RP
X01FTU9SWV9DLCBtYXNrX3NoKSwgXAorCUhVQkJVQl9TRihEQ0hVQkJVQl9BUkJfUkVGQ1lDX1BF
Ul9UUklQX1RPX01FTU9SWV9ELCBEQ0hVQkJVQl9BUkJfUkVGQ1lDX1BFUl9UUklQX1RPX01FTU9S
WV9ELCBtYXNrX3NoKQorCisjZGVmaW5lIEhVQkJVQl9NQVNLX1NIX0xJU1RfRENOMjEobWFza19z
aClcCisJSFVCQlVCX01BU0tfU0hfTElTVF9IVk0obWFza19zaCksXAorCUhVQkJVQl9NQVNLX1NI
X0xJU1RfRENOX0NPTU1PTihtYXNrX3NoKSwgXAorCUhVQkJVQl9NQVNLX1NIX0xJU1RfU1RVVFRF
UihtYXNrX3NoKSwgXAorCUhVQkJVQl9TRihEQ0hVQkJVQl9HTE9CQUxfVElNRVJfQ05UTCwgRENI
VUJCVUJfR0xPQkFMX1RJTUVSX1JFRkRJViwgbWFza19zaCksIFwKKwlIVUJCVUJfU0YoRENOX1ZN
X0ZCX0xPQ0FUSU9OX0JBU0UsIEZCX0JBU0UsIG1hc2tfc2gpLCBcCisJSFVCQlVCX1NGKERDTl9W
TV9GQl9MT0NBVElPTl9UT1AsIEZCX1RPUCwgbWFza19zaCksIFwKKwlIVUJCVUJfU0YoRENOX1ZN
X0ZCX09GRlNFVCwgRkJfT0ZGU0VULCBtYXNrX3NoKSwgXAorCUhVQkJVQl9TRihEQ05fVk1fQUdQ
X0JPVCwgQUdQX0JPVCwgbWFza19zaCksIFwKKwlIVUJCVUJfU0YoRENOX1ZNX0FHUF9UT1AsIEFH
UF9UT1AsIG1hc2tfc2gpLCBcCisJSFVCQlVCX1NGKERDTl9WTV9BR1BfQkFTRSwgQUdQX0JBU0Us
IG1hc2tfc2gpCisKK3ZvaWQgZGNuMjFfZGNodm1faW5pdChzdHJ1Y3QgaHViYnViICpodWJidWIp
Owordm9pZCBodWJidWIyMV9wcm9ncmFtX3dhdGVybWFya3MoCisJCXN0cnVjdCBodWJidWIgKmh1
YmJ1YiwKKwkJc3RydWN0IGRjbl93YXRlcm1hcmtfc2V0ICp3YXRlcm1hcmtzLAorCQl1bnNpZ25l
ZCBpbnQgcmVmY2xrX21oeiwKKwkJYm9vbCBzYWZlX3RvX2xvd2VyKTsKKwordm9pZCBodWJidWIy
MV93bV9yZWFkX3N0YXRlKHN0cnVjdCBodWJidWIgKmh1YmJ1YiwKKwkJc3RydWN0IGRjbl9odWJi
dWJfd20gKndtKTsKKwordm9pZCBodWJidWIyMV9jb25zdHJ1Y3Qoc3RydWN0IGRjbjIwX2h1YmJ1
YiAqaHViYnViLAorCXN0cnVjdCBkY19jb250ZXh0ICpjdHgsCisJY29uc3Qgc3RydWN0IGRjbl9o
dWJidWJfcmVnaXN0ZXJzICpodWJidWJfcmVncywKKwljb25zdCBzdHJ1Y3QgZGNuX2h1YmJ1Yl9z
aGlmdCAqaHViYnViX3NoaWZ0LAorCWNvbnN0IHN0cnVjdCBkY25faHViYnViX21hc2sgKmh1YmJ1
Yl9tYXNrKTsKKworI2VuZGlmIC8qIERBTF9EQ19EQ04yMV9EQ04yMV9IVUJCVUJfSF8gKi8KLS0g
CjIuMjAuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18K
YW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6
Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4
