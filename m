Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 1A668F10DB
	for <lists+amd-gfx@lfdr.de>; Wed,  6 Nov 2019 09:15:57 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 76DE86EC34;
	Wed,  6 Nov 2019 08:15:55 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM04-SN1-obe.outbound.protection.outlook.com
 (mail-eopbgr700065.outbound.protection.outlook.com [40.107.70.65])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A47E46EC34
 for <amd-gfx@lists.freedesktop.org>; Wed,  6 Nov 2019 08:15:53 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=AW/W/SWrA9LZvPf00NOPl6NqbnwaPoKnb1raeeor7BDEBUOUusUzGHDEKlV+N8nKvWqCPPR7JXZqY/q2UnLBkyrisffJrFTMa220Y2zOGtC13cQ0kyho1zUgDDLzYfFBpprp1wBDfCD+H5weamHzy9jlBpF4ei5g4apLYas1mPc+dXu/dyn5ApZJqsyc6bEnFAnCIyJkyPe13OBzWxaxfSxciy/RJt3N95xDot2E6AxSeXO67YgwYDLYPg1FXuKMVLmc4Dpnx8D041YCSFEdW3GjwhRtXmn8Bg2bn/comv5vCad+vPrMV3g2oPvsasMLsstl6F3IR01kZJ/jtgYGsA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=abmim3rnlr9VkuUsFaGPja3UBflgBtBzZoTuQ1WT2KY=;
 b=dKSXS23NFncRkJkiwGhxJikxaqgFRuK8jgk5Qm82mR3+dtTMFJ1r8Ueg8n4ytg72i3bNSNXDxMrElBJbXE/tgCeWLaHf6jLi+ePCxAnGK6folK9Mc35G5/UO3bY/TfGv0h13sepZ3w/VfspmdGw0ux+cUekIsEA/ctrO9xz+kZhKJCjTGuVShcCR0tkE22AXXq8HAgZ3bjUCXywKyDZG+WCLnu4zZ+Rk7gISmhEZkgbGGxI3CmyKBDqlrqnOKxGiBJBrqBgKSwHRPIgwJJUxsDLT5uSkgOgrJOE4d/JO8g3/s99STCw/h+o/J0CDtHj66dgk8OWHAGmlVIZ/sAqt6w==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from MN2PR12MB2896.namprd12.prod.outlook.com (20.179.80.214) by
 MN2PR12MB4032.namprd12.prod.outlook.com (10.255.239.32) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2430.20; Wed, 6 Nov 2019 08:15:51 +0000
Received: from MN2PR12MB2896.namprd12.prod.outlook.com
 ([fe80::9973:de2e:58b4:282a]) by MN2PR12MB2896.namprd12.prod.outlook.com
 ([fe80::9973:de2e:58b4:282a%7]) with mapi id 15.20.2408.024; Wed, 6 Nov 2019
 08:15:51 +0000
From: "Zhu, Changfeng" <Changfeng.Zhu@amd.com>
To: "Koenig, Christian" <Christian.Koenig@amd.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>, "Tuikov,
 Luben" <Luben.Tuikov@amd.com>, "Huang, Ray" <Ray.Huang@amd.com>, "Huang,
 Shimmer" <Xinmei.Huang@amd.com>
Subject: RE: [PATCH 1/2] drm/amdgpu: add dummy read by engines for some GCVM
 status registers in gfx10
Thread-Topic: [PATCH 1/2] drm/amdgpu: add dummy read by engines for some GCVM
 status registers in gfx10
Thread-Index: AQHVk84OSQMOE3TQGUu8V1H4t9E4z6d8ePaAgAFNLAA=
Date: Wed, 6 Nov 2019 08:15:51 +0000
Message-ID: <MN2PR12MB2896CB0E6810DE5678323B2CFD790@MN2PR12MB2896.namprd12.prod.outlook.com>
References: <20191105114133.4734-1-changfeng.zhu@amd.com>
 <e9ed971a-eb2b-70f5-f1de-411a5629ac78@amd.com>
In-Reply-To: <e9ed971a-eb2b-70f5-f1de-411a5629ac78@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-ht: Tenant
x-ms-office365-filtering-correlation-id: 682f9966-0116-4dfc-02e2-08d7629189d3
x-ms-traffictypediagnostic: MN2PR12MB4032:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <MN2PR12MB4032709EA3ADD279FA7A1376FD790@MN2PR12MB4032.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:8273;
x-forefront-prvs: 02135EB356
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(396003)(136003)(39860400002)(346002)(366004)(376002)(13464003)(189003)(199004)(6436002)(110136005)(316002)(6246003)(186003)(2501003)(478600001)(14454004)(71200400001)(446003)(11346002)(86362001)(71190400001)(486006)(74316002)(305945005)(8676002)(7736002)(476003)(81166006)(81156014)(25786009)(8936002)(6636002)(7696005)(66556008)(5660300002)(76176011)(14444005)(26005)(99286004)(256004)(33656002)(6116002)(2906002)(3846002)(52536014)(64756008)(66446008)(66946007)(9686003)(229853002)(6506007)(55016002)(76116006)(53546011)(66066001)(102836004)(66476007);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MN2PR12MB4032;
 H:MN2PR12MB2896.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: /2co/O+CbTKBfYq2StQzAa3UhJa2qwvZWMSaGQHrOYe4WQmFygaeaBuUoFYow0EDjfC/XfUITetb1MomkW3m1jxZdUWt6eq5VHGGJGusz22OGqde5v/xJC4zmu9i3GoFSoDxBW9V1mrNkbUGqUA/hUAdo+lKYHbhDFLHmqzDlxrGVEfPGev5LCcYUoiHnxtNejkRfHT12l+Yp8cS/JWuX4Xroc8THNTJPtXeRMDRf8ybbnjNGJN6ynnQGPKLZnHFZnGgxHF7kAFuBz2VaihOETuBxYAKHhZvr1h2In40AsZfyDfVsUai3O0luPLy1hNQp0eRmrZEWibE+KXueGTtRKjnOK2p8mn6KwVlTx6EM/+QolrpkdFaqYwLSVQX/yTm2fF3a6ANMUUWV+qnCT//+wJybrd7y19iETf/ztvM4CTZD8iDBH3eUUEy9eC4rv+6
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 682f9966-0116-4dfc-02e2-08d7629189d3
X-MS-Exchange-CrossTenant-originalarrivaltime: 06 Nov 2019 08:15:51.6952 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: qOuFDgF+NMCGFNpW+OFYuQEJjei8VmdPgTsJGVyCmqhvw33/6rbGHBaqzsqSzw3wD0Gv+reYekbKMsdV9XstBQ==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB4032
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=abmim3rnlr9VkuUsFaGPja3UBflgBtBzZoTuQ1WT2KY=;
 b=jF9533obvbABbsYXd3TJZmRv1L4yC6cdVwt2oFce6Er2IUAxlKQu549GB11mVXLsUAi5eAHNvVPRqUDF2PWn8V+jes+TO23o5cbDIyoeAWY4Wby2sIbLv7yoDdTRhlK40NqEYZ4N3Jsu6Infew4V//iXSBdR50zMUvF9KPSe/74=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Changfeng.Zhu@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

VGhhbmtzLCBDaHJpcy4NCg0KSSBkb3VibGUgY2hlY2sgYWxsIGVuZ2luZXMgb24gZ2Z4MTAgaW1w
bGVtZW50IHRoZSBlbWl0X3JlZ193cml0ZV9yZWdfd2FpdCBjYWxsYmFjay4NCllvdSdyZSByaWdo
dC4gSSBtaXNzIC5lbWl0X3JlZ193cml0ZV9yZWdfd2FpdCA9IGdmeF92MTBfMF9yaW5nX2VtaXRf
cmVnX3dyaXRlX3JlZ193YWl0LCBmb3IgZ2Z4X3YxMF8wX3JpbmdfZnVuY3Nfa2lxLiBTbyBJIGFk
ZCBpdC4NCg0KRm9yIHNkbWE1LCB0aGVyZSBpcyBvbmUgYW1kZ3B1X3JpbmdfZnVucyBlbmdpbmU6
IGFtZGdwdV9yaW5nX2Z1bmNzIHNkbWFfdjVfMF9yaW5nX2Z1bmNzDQpXZSBoYXZlIGRlZmluZWQ6
DQouZW1pdF9yZWdfd3JpdGVfcmVnX3dhaXQgPSBzZG1hX3Y1XzBfcmluZ19lbWl0X3JlZ193cml0
ZV9yZWdfd2FpdCwNCg0KRm9yIHZjbi91dmQvdmNlLFRoZWlyIGVuZ2luZXMgaGF2ZSBhbGwgYmVl
biBkZWZpbmVkOg0KLmVtaXRfcmVnX3dyaXRlX3JlZ193YWl0ID0gYW1kZ3B1X3JpbmdfZW1pdF9y
ZWdfd3JpdGVfcmVnX3dhaXRfaGVscGVyOw0KYmVmb3JlLg0KDQpTbyBhZnRlciBhZGRpbmcgLmVt
aXRfcmVnX3dyaXRlX3JlZ193YWl0ID0gZ2Z4X3YxMF8wX3JpbmdfZW1pdF9yZWdfd3JpdGVfcmVn
X3dhaXQNCmZvciBnZnhfdjEwXzBfcmluZ19mdW5jc19raXEuDQpJIHRoaW5rIHRoZXJlIHNob3Vs
ZCBiZSBubyBOVUxMIHBvaW50ZXIgZGVyZWYgcHJvYmxlbS4NCg0KQlIsDQpDaGFuZ2ZlbmcuDQoN
Ci0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQpGcm9tOiBLb2VuaWcsIENocmlzdGlhbiA8Q2hy
aXN0aWFuLktvZW5pZ0BhbWQuY29tPiANClNlbnQ6IFR1ZXNkYXksIE5vdmVtYmVyIDUsIDIwMTkg
Nzo1OCBQTQ0KVG86IFpodSwgQ2hhbmdmZW5nIDxDaGFuZ2ZlbmcuWmh1QGFtZC5jb20+OyBhbWQt
Z2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZzsgVHVpa292LCBMdWJlbiA8THViZW4uVHVpa292QGFt
ZC5jb20+OyBIdWFuZywgUmF5IDxSYXkuSHVhbmdAYW1kLmNvbT47IEh1YW5nLCBTaGltbWVyIDxY
aW5tZWkuSHVhbmdAYW1kLmNvbT4NClN1YmplY3Q6IFJlOiBbUEFUQ0ggMS8yXSBkcm0vYW1kZ3B1
OiBhZGQgZHVtbXkgcmVhZCBieSBlbmdpbmVzIGZvciBzb21lIEdDVk0gc3RhdHVzIHJlZ2lzdGVy
cyBpbiBnZngxMA0KDQpBbSAwNS4xMS4xOSB1bSAxMjo0MiBzY2hyaWViIFpodSwgQ2hhbmdmZW5n
Og0KPiBGcm9tOiBjaGFuZ3podSA8Q2hhbmdmZW5nLlpodUBhbWQuY29tPg0KPg0KPiBUaGUgR1JC
TSByZWdpc3RlciBpbnRlcmZhY2UgaXMgbm93IGNhcGFibGUgb2YgYnVyc3RpbmcgMSBjeWNsZSBw
ZXIgDQo+IHJlZ2lzdGVyIHdyLT53ciwgd3ItPnJkIG11Y2ggZmFzdGVyIHRoYW4gcHJldmlvdXMg
bXV0aWN5Y2xlIHBlciANCj4gdHJhbnNhY3Rpb24gZG9uZSBpbnRlcmZhY2UuICBUaGlzIGhhcyBj
YXVzZWQgYSBwcm9ibGVtIHdoZXJlIHN0YXR1cyANCj4gcmVnaXN0ZXJzIHJlcXVpcmluZyBIVyB0
byB1cGRhdGUgaGF2ZSBhIDEgY3ljbGUgZGVsYXksIGR1ZSB0byB0aGUgDQo+IHJlZ2lzdGVyIHVw
ZGF0ZSBoYXZpbmcgdG8gZ28gdGhyb3VnaCBHUkJNLg0KPg0KPiBGb3IgY3AgdWNvZGUsIGl0IGhh
cyByZWFsaXplZCBkdW1teSByZWFkIGluIGNwIGZpcm13YXJlLkl0IGNvdmVycyB0aGUgDQo+IHVz
ZSBvZiBXQUlUX1JFR19NRU0gb3BlcmF0aW9uIDEgY2FzZSBvbmx5LlNvIGl0IG5lZWRzIHRvIGNh
bGwgDQo+IGdmeF92MTBfMF93YWl0X3JlZ19tZW0gaW4gZ2Z4MTAuIEJlc2lkZXMgaXQgYWxzbyBu
ZWVkcyB0byBhZGQgd2FybmluZyANCj4gdG8gdXBkYXRlIGZpcm13YXJlIGluIGNhc2UgZmlybXdh
cmUgaXMgdG9vIG9sZCB0byBoYXZlIGZ1bmN0aW9uIHRvIA0KPiByZWFsaXplIGR1bW15IHJlYWQg
aW4gY3AgZmlybXdhcmUuDQo+DQo+IEZvciBzZG1hIHVjb2RlLCBpdCBoYXNuJ3QgcmVhbGl6ZWQg
ZHVtbXkgcmVhZCBpbiBzZG1hIGZpcm13YXJlLiBzZG1hIA0KPiBpcyBtb3ZlZCB0byBnZnhodWIg
aW4gZ2Z4MTAuIFNvIGl0IG5lZWRzIHRvIGFkZCBkdW1teSByZWFkIGluIGRyaXZlciANCj4gYmV0
d2VlbiBhbWRncHVfcmluZ19lbWl0X3dyZWcgYW5kIGFtZGdwdV9yaW5nX2VtaXRfcmVnX3dhaXQg
Zm9yIHNkbWFfdjVfMC4NCj4NCj4gQ2hhbmdlLUlkOiBJZTAyOGYzN2ViNzg5OTY2ZDQ1OTM5ODRi
ZDY2MWIyNDhlYmViMWFjMw0KPiBTaWduZWQtb2ZmLWJ5OiBjaGFuZ3podSA8Q2hhbmdmZW5nLlpo
dUBhbWQuY29tPg0KPiAtLS0NCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
Z2Z4LmggfCAgMSArDQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3YxMF8wLmMg
IHwgNDcgKysrKysrKysrKysrKysrKysrKysrKysrKw0KPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2dtY192MTBfMC5jICB8ICA4ICsrLS0tDQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvc2RtYV92NV8wLmMgIHwgMTMgKysrKysrLQ0KPiAgIDQgZmlsZXMgY2hhbmdlZCwgNjMg
aW5zZXJ0aW9ucygrKSwgNiBkZWxldGlvbnMoLSkNCj4NCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nZnguaCANCj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9hbWRncHVfZ2Z4LmgNCj4gaW5kZXggNDU5YWE5MDU5NTQyLi5hNzRlY2Q0NDk3NzUg
MTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nZnguaA0K
PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ2Z4LmgNCj4gQEAgLTI2
Nyw2ICsyNjcsNyBAQCBzdHJ1Y3QgYW1kZ3B1X2dmeCB7DQo+ICAgCXVpbnQzMl90CQkJbWVjMl9m
ZWF0dXJlX3ZlcnNpb247DQo+ICAgCWJvb2wJCQkJbWVjX2Z3X3dyaXRlX3dhaXQ7DQo+ICAgCWJv
b2wJCQkJbWVfZndfd3JpdGVfd2FpdDsNCj4gKwlib29sCQkJCWNwX2Z3X3dyaXRlX3dhaXQ7DQo+
ICAgCXN0cnVjdCBhbWRncHVfcmluZwkJZ2Z4X3JpbmdbQU1ER1BVX01BWF9HRlhfUklOR1NdOw0K
PiAgIAl1bnNpZ25lZAkJCW51bV9nZnhfcmluZ3M7DQo+ICAgCXN0cnVjdCBhbWRncHVfcmluZwkJ
Y29tcHV0ZV9yaW5nW0FNREdQVV9NQVhfQ09NUFVURV9SSU5HU107DQo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjEwXzAuYyANCj4gYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9nZnhfdjEwXzAuYw0KPiBpbmRleCAxN2E1Y2JmZDAwMjQuLmU4MmI2ZDc5
NmI2OSAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3YxMF8w
LmMNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3YxMF8wLmMNCj4gQEAg
LTU2MSw2ICs1NjEsMzIgQEAgc3RhdGljIHZvaWQgZ2Z4X3YxMF8wX2ZyZWVfbWljcm9jb2RlKHN0
cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQ0KPiAgIAlrZnJlZShhZGV2LT5nZngucmxjLnJlZ2lz
dGVyX2xpc3RfZm9ybWF0KTsNCj4gICB9DQo+ICAgDQo+ICtzdGF0aWMgdm9pZCBnZnhfdjEwXzBf
Y2hlY2tfZndfd3JpdGVfd2FpdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikgDQo+ICt7DQo+
ICsJYWRldi0+Z2Z4LmNwX2Z3X3dyaXRlX3dhaXQgPSBmYWxzZTsNCj4gKw0KPiArCXN3aXRjaCAo
YWRldi0+YXNpY190eXBlKSB7DQo+ICsJY2FzZSBDSElQX05BVkkxMDoNCj4gKwljYXNlIENISVBf
TkFWSTEyOg0KPiArCWNhc2UgQ0hJUF9OQVZJMTQ6DQo+ICsJCWlmICgoYWRldi0+Z2Z4Lm1lX2Z3
X3ZlcnNpb24gPj0gMHgwMDAwMDA0NikgJiYNCj4gKwkJICAgIChhZGV2LT5nZngubWVfZmVhdHVy
ZV92ZXJzaW9uID49IDI3KSAmJg0KPiArCQkgICAgKGFkZXYtPmdmeC5wZnBfZndfdmVyc2lvbiA+
PSAweDAwMDAwMDY4KSAmJg0KPiArCQkgICAgKGFkZXYtPmdmeC5wZnBfZmVhdHVyZV92ZXJzaW9u
ID49IDI3KSAmJg0KPiArCQkgICAgKGFkZXYtPmdmeC5tZWNfZndfdmVyc2lvbiA+PSAweDAwMDAw
MDViKSAmJg0KPiArCQkgICAgKGFkZXYtPmdmeC5tZWNfZmVhdHVyZV92ZXJzaW9uID49IDI3KSkN
Cj4gKwkJCWFkZXYtPmdmeC5jcF9md193cml0ZV93YWl0ID0gdHJ1ZTsNCj4gKwkJYnJlYWs7DQo+
ICsJZGVmYXVsdDoNCj4gKwkJYnJlYWs7DQo+ICsJfQ0KPiArDQo+ICsJaWYgKGFkZXYtPmdmeC5j
cF9md193cml0ZV93YWl0ID09IGZhbHNlKQ0KPiArCQlEUk1fV0FSTl9PTkNFKCJXYXJuaW5nOiBj
aGVjayBjcF9md192ZXJzaW9uIGFuZCB1cGRhdGUgaXQgdG8gcmVhbGl6ZSBcDQo+ICsJCQkJICBH
UkJNIHJlcXVpcmVzIDEtY3ljbGUgZGVsYXkgaW4gY3AgZmlybXdhcmVcbiIpOyB9DQo+ICsNCj4g
Kw0KPiAgIHN0YXRpYyB2b2lkIGdmeF92MTBfMF9pbml0X3JsY19leHRfbWljcm9jb2RlKHN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2KQ0KPiAgIHsNCj4gICAJY29uc3Qgc3RydWN0IHJsY19maXJt
d2FyZV9oZWFkZXJfdjJfMSAqcmxjX2hkcjsgQEAgLTQ3NjgsNiArNDc5NCwyNSANCj4gQEAgc3Rh
dGljIHZvaWQgZ2Z4X3YxMF8wX3JpbmdfZW1pdF9yZWdfd2FpdChzdHJ1Y3QgYW1kZ3B1X3Jpbmcg
KnJpbmcsIHVpbnQzMl90IHJlZywNCj4gICAJZ2Z4X3YxMF8wX3dhaXRfcmVnX21lbShyaW5nLCAw
LCAwLCAwLCByZWcsIDAsIHZhbCwgbWFzaywgMHgyMCk7DQo+ICAgfQ0KPiAgIA0KPiArc3RhdGlj
IHZvaWQgZ2Z4X3YxMF8wX3JpbmdfZW1pdF9yZWdfd3JpdGVfcmVnX3dhaXQoc3RydWN0IGFtZGdw
dV9yaW5nICpyaW5nLA0KPiArCQkJCQkJICB1aW50MzJfdCByZWcwLCB1aW50MzJfdCByZWcxLA0K
PiArCQkJCQkJICB1aW50MzJfdCByZWYsIHVpbnQzMl90IG1hc2spDQo+ICt7DQo+ICsJaW50IHVz
ZXBmcCA9IChyaW5nLT5mdW5jcy0+dHlwZSA9PSBBTURHUFVfUklOR19UWVBFX0dGWCk7DQo+ICsJ
c3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSByaW5nLT5hZGV2Ow0KPiArCWJvb2wgZndfdmVy
c2lvbl9vayA9IGZhbHNlOw0KPiArDQo+ICsJZ2Z4X3YxMF8wX2NoZWNrX2Z3X3dyaXRlX3dhaXQo
YWRldik7DQo+ICsJZndfdmVyc2lvbl9vayA9IGFkZXYtPmdmeC5jcF9md193cml0ZV93YWl0Ow0K
PiArDQo+ICsJaWYgKGZ3X3ZlcnNpb25fb2spDQo+ICsJCWdmeF92MTBfMF93YWl0X3JlZ19tZW0o
cmluZywgdXNlcGZwLCAwLCAxLCByZWcwLCByZWcxLA0KPiArCQkJCSAgICAgIHJlZiwgbWFzaywg
MHgyMCk7DQo+ICsJZWxzZQ0KPiArCQlhbWRncHVfcmluZ19lbWl0X3JlZ193cml0ZV9yZWdfd2Fp
dF9oZWxwZXIocmluZywgcmVnMCwgcmVnMSwNCj4gKwkJCQkJCQkgICByZWYsIG1hc2spOw0KPiAr
fQ0KPiArDQo+ICAgc3RhdGljIHZvaWQNCj4gICBnZnhfdjEwXzBfc2V0X2dmeF9lb3BfaW50ZXJy
dXB0X3N0YXRlKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KPiAgIAkJCQkgICAgICB1aW50
MzJfdCBtZSwgdWludDMyX3QgcGlwZSwgQEAgLTUxNTgsNiArNTIwMyw3IEBAIHN0YXRpYyANCj4g
Y29uc3Qgc3RydWN0IGFtZGdwdV9yaW5nX2Z1bmNzIGdmeF92MTBfMF9yaW5nX2Z1bmNzX2dmeCA9
IHsNCj4gICAJLmVtaXRfdG16ID0gZ2Z4X3YxMF8wX3JpbmdfZW1pdF90bXosDQo+ICAgCS5lbWl0
X3dyZWcgPSBnZnhfdjEwXzBfcmluZ19lbWl0X3dyZWcsDQo+ICAgCS5lbWl0X3JlZ193YWl0ID0g
Z2Z4X3YxMF8wX3JpbmdfZW1pdF9yZWdfd2FpdCwNCj4gKwkuZW1pdF9yZWdfd3JpdGVfcmVnX3dh
aXQgPSBnZnhfdjEwXzBfcmluZ19lbWl0X3JlZ193cml0ZV9yZWdfd2FpdCwNCj4gICB9Ow0KPiAg
IA0KPiAgIHN0YXRpYyBjb25zdCBzdHJ1Y3QgYW1kZ3B1X3JpbmdfZnVuY3MgZ2Z4X3YxMF8wX3Jp
bmdfZnVuY3NfY29tcHV0ZSA9IA0KPiB7IEBAIC01MTkxLDYgKzUyMzcsNyBAQCBzdGF0aWMgY29u
c3Qgc3RydWN0IGFtZGdwdV9yaW5nX2Z1bmNzIGdmeF92MTBfMF9yaW5nX2Z1bmNzX2NvbXB1dGUg
PSB7DQo+ICAgCS5wYWRfaWIgPSBhbWRncHVfcmluZ19nZW5lcmljX3BhZF9pYiwNCj4gICAJLmVt
aXRfd3JlZyA9IGdmeF92MTBfMF9yaW5nX2VtaXRfd3JlZywNCj4gICAJLmVtaXRfcmVnX3dhaXQg
PSBnZnhfdjEwXzBfcmluZ19lbWl0X3JlZ193YWl0LA0KPiArCS5lbWl0X3JlZ193cml0ZV9yZWdf
d2FpdCA9IGdmeF92MTBfMF9yaW5nX2VtaXRfcmVnX3dyaXRlX3JlZ193YWl0LA0KPiAgIH07DQo+
ICAgDQo+ICAgc3RhdGljIGNvbnN0IHN0cnVjdCBhbWRncHVfcmluZ19mdW5jcyBnZnhfdjEwXzBf
cmluZ19mdW5jc19raXEgPSB7IA0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvZ21jX3YxMF8wLmMgDQo+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3Yx
MF8wLmMNCj4gaW5kZXggM2IwMGJjZTE0Y2ZiLi4yMmM4MDczMDlhMjIgMTAwNjQ0DQo+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192MTBfMC5jDQo+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2dtY192MTBfMC5jDQo+IEBAIC0zNDQsMTEgKzM0NCw5IEBAIHN0
YXRpYyB1aW50NjRfdCBnbWNfdjEwXzBfZW1pdF9mbHVzaF9ncHVfdGxiKHN0cnVjdCBhbWRncHVf
cmluZyAqcmluZywNCj4gICAJYW1kZ3B1X3JpbmdfZW1pdF93cmVnKHJpbmcsIGh1Yi0+Y3R4MF9w
dGJfYWRkcl9oaTMyICsgKDIgKiB2bWlkKSwNCj4gICAJCQkgICAgICB1cHBlcl8zMl9iaXRzKHBk
X2FkZHIpKTsNCj4gICANCj4gLQlhbWRncHVfcmluZ19lbWl0X3dyZWcocmluZywgaHViLT52bV9p
bnZfZW5nMF9yZXEgKyBlbmcsIHJlcSk7DQo+IC0NCj4gLQkvKiB3YWl0IGZvciB0aGUgaW52YWxp
ZGF0ZSB0byBjb21wbGV0ZSAqLw0KPiAtCWFtZGdwdV9yaW5nX2VtaXRfcmVnX3dhaXQocmluZywg
aHViLT52bV9pbnZfZW5nMF9hY2sgKyBlbmcsDQo+IC0JCQkJICAxIDw8IHZtaWQsIDEgPDwgdm1p
ZCk7DQo+ICsJYW1kZ3B1X3JpbmdfZW1pdF9yZWdfd3JpdGVfcmVnX3dhaXQocmluZywgaHViLT52
bV9pbnZfZW5nMF9yZXEgKyBlbmcsDQo+ICsJCQkJCQlodWItPnZtX2ludl9lbmcwX2FjayArIGVu
ZywNCj4gKwkJCQkJCXJlcSwgMSA8PCB2bWlkKTsNCg0KWW91IG5lZWQgdG8gZG91YmxlIGNoZWNr
IHRoYXQgYWxsIGVuZ2luZXMgb24gZ2Z4MTAgaW1wbGVtZW50IHRoZSBlbWl0X3JlZ193cml0ZV9y
ZWdfd2FpdCBjYWxsYmFjayAocHJvYmFibHkgYXMgZHVtbXkgd2l0aCAuZW1pdF9yZWdfd3JpdGVf
cmVnX3dhaXQ9YW1kZ3B1X3JpbmdfZW1pdF9yZWdfd3JpdGVfcmVnX3dhaXRfaGVscGVyKS4NCg0K
T3RoZXJ3aXNlIHRoYXQgY291bGQgcXVpY2tseSByZXN1bHQgaW4gYSBOVUxMIHBvaW50ZXIgZGVy
ZWYgaGVyZSBmb3IgdGhlIG11bHRpbWVkaWEgZW5naW5lcy4NCg0KQXBhcnQgZnJvbSB0aGF0IHRo
ZSBwYXRjaCBsb29rcyBnb29kIHRvIG1lIG5vdy4NCg0KVGhhbmtzLA0KQ2hyaXN0aWFuLg0KDQo+
ICAgDQo+ICAgCXJldHVybiBwZF9hZGRyOw0KPiAgIH0NCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjVfMC5jIA0KPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L3NkbWFfdjVfMC5jDQo+IGluZGV4IDM0NjBjMDBmM2VhYS4uN2IxNWRkYzczOWU1IDEw
MDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3Y1XzAuYw0KPiAr
KysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3Y1XzAuYw0KPiBAQCAtMTE3MCw2
ICsxMTcwLDE2IEBAIHN0YXRpYyB2b2lkIHNkbWFfdjVfMF9yaW5nX2VtaXRfcmVnX3dhaXQoc3Ry
dWN0IGFtZGdwdV9yaW5nICpyaW5nLCB1aW50MzJfdCByZWcsDQo+ICAgCQkJICBTRE1BX1BLVF9Q
T0xMX1JFR01FTV9EVzVfSU5URVJWQUwoMTApKTsNCj4gICB9DQo+ICAgDQo+ICtzdGF0aWMgdm9p
ZCBzZG1hX3Y1XzBfcmluZ19lbWl0X3JlZ193cml0ZV9yZWdfd2FpdChzdHJ1Y3QgYW1kZ3B1X3Jp
bmcgKnJpbmcsDQo+ICsJCQkJCQkJCQkJCQkgdWludDMyX3QgcmVnMCwgdWludDMyX3QgcmVnMSwN
Cj4gKwkJCQkJCQkJCQkJCSB1aW50MzJfdCByZWYsIHVpbnQzMl90IG1hc2spIHsNCj4gKwlhbWRn
cHVfcmluZ19lbWl0X3dyZWcocmluZywgcmVnMCwgcmVmKTsNCj4gKwkvKiB3YWl0IGZvciBhIGN5
Y2xlIHRvIHJlc2V0IHZtX2ludl9lbmcqX2FjayAqLw0KPiArCWFtZGdwdV9yaW5nX2VtaXRfcmVn
X3dhaXQocmluZywgcmVnMCwgMCwgMCk7DQo+ICsJYW1kZ3B1X3JpbmdfZW1pdF9yZWdfd2FpdChy
aW5nLCByZWcxLCBtYXNrLCBtYXNrKTsgfQ0KPiArDQo+ICAgc3RhdGljIGludCBzZG1hX3Y1XzBf
ZWFybHlfaW5pdCh2b2lkICpoYW5kbGUpDQo+ICAgew0KPiAgIAlzdHJ1Y3QgYW1kZ3B1X2Rldmlj
ZSAqYWRldiA9IChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqKWhhbmRsZTsgQEAgDQo+IC0xNTg1LDcg
KzE1OTUsNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGFtZGdwdV9yaW5nX2Z1bmNzIHNkbWFfdjVf
MF9yaW5nX2Z1bmNzID0gew0KPiAgIAkJNiArIC8qIHNkbWFfdjVfMF9yaW5nX2VtaXRfcGlwZWxp
bmVfc3luYyAqLw0KPiAgIAkJLyogc2RtYV92NV8wX3JpbmdfZW1pdF92bV9mbHVzaCAqLw0KPiAg
IAkJU09DMTVfRkxVU0hfR1BVX1RMQl9OVU1fV1JFRyAqIDMgKw0KPiAtCQlTT0MxNV9GTFVTSF9H
UFVfVExCX05VTV9SRUdfV0FJVCAqIDYgKw0KPiArCQlTT0MxNV9GTFVTSF9HUFVfVExCX05VTV9S
RUdfV0FJVCAqIDYgKiAyICsNCj4gICAJCTEwICsgMTAgKyAxMCwgLyogc2RtYV92NV8wX3Jpbmdf
ZW1pdF9mZW5jZSB4MyBmb3IgdXNlciBmZW5jZSwgdm0gZmVuY2UgKi8NCj4gICAJLmVtaXRfaWJf
c2l6ZSA9IDcgKyA2LCAvKiBzZG1hX3Y1XzBfcmluZ19lbWl0X2liICovDQo+ICAgCS5lbWl0X2li
ID0gc2RtYV92NV8wX3JpbmdfZW1pdF9pYiwNCj4gQEAgLTE1OTksNiArMTYwOSw3IEBAIHN0YXRp
YyBjb25zdCBzdHJ1Y3QgYW1kZ3B1X3JpbmdfZnVuY3Mgc2RtYV92NV8wX3JpbmdfZnVuY3MgPSB7
DQo+ICAgCS5wYWRfaWIgPSBzZG1hX3Y1XzBfcmluZ19wYWRfaWIsDQo+ICAgCS5lbWl0X3dyZWcg
PSBzZG1hX3Y1XzBfcmluZ19lbWl0X3dyZWcsDQo+ICAgCS5lbWl0X3JlZ193YWl0ID0gc2RtYV92
NV8wX3JpbmdfZW1pdF9yZWdfd2FpdCwNCj4gKwkuZW1pdF9yZWdfd3JpdGVfcmVnX3dhaXQgPSBz
ZG1hX3Y1XzBfcmluZ19lbWl0X3JlZ193cml0ZV9yZWdfd2FpdCwNCj4gICAJLmluaXRfY29uZF9l
eGVjID0gc2RtYV92NV8wX3JpbmdfaW5pdF9jb25kX2V4ZWMsDQo+ICAgCS5wYXRjaF9jb25kX2V4
ZWMgPSBzZG1hX3Y1XzBfcmluZ19wYXRjaF9jb25kX2V4ZWMsDQo+ICAgCS5wcmVlbXB0X2liID0g
c2RtYV92NV8wX3JpbmdfcHJlZW1wdF9pYiwNCg0KX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5m
cmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0
aW5mby9hbWQtZ2Z4
