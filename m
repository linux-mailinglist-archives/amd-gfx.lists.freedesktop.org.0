Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id C0A126A0AA
	for <lists+amd-gfx@lfdr.de>; Tue, 16 Jul 2019 05:01:08 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 57BAE6E07D;
	Tue, 16 Jul 2019 03:01:07 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM04-BN3-obe.outbound.protection.outlook.com
 (mail-eopbgr680055.outbound.protection.outlook.com [40.107.68.55])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 99C606E07D
 for <amd-gfx@lists.freedesktop.org>; Tue, 16 Jul 2019 03:01:06 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=fIxsPvMnpOEZ3mDI42X4nlmaIyy5KUvbEHTqhdmGF6/mutk35k+pjlkmkP0bajGyyjW92bxHdxVWQe0CCeVTeW0l6ukukVNctANWdgXQkahu+0FGXFIPxXFBJdWMyuV4hh/8OFMn6lemrpIogk/seNlVKHTHSTmbZCY+lIZNxDhjXWfeokY1A0BCxXcSJZ4ltqHxery0M3IulMyfHNeJUakP9AjSnbVkUaPqxBqLT58WHovVO0ZigGlH46P0QcKy8DlxIDJv4EmN6Ji8MpidQUctDYhUrrKDARDmAInCLTOz2YWMDCrDkw6Qvm85fudx2zOe+piOPwvrwWU/HmHEbw==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=5v0NHCP5MgrCSCE+pDXN3+7qrvawfbF1lLAbDKrKZgM=;
 b=PdUH8IjZ8rCuHhNvWcDo8UEurFZSX/Mw9nMhg+Pgg8X2DOaJSmyp0wE/cREUJ+TcBOV3PpASEvVFYFjDjvEUWwNRG4vYJQPdQ8KS2mqIMG7Pie3OcMiNYzQ1/devwpHs8bBXHLHl2e05lqX4yrLFqb3/DEXwiCvayxw9oMJh3KKBx/8WT+Gk9AsN3vlDpc6pxumbO5u8tkjuYYJM0Lk30HZBFtOtcaU68XPbwAmZ0w8++eCEkTZWVXG+a4/PGgUd0Gh0o/d1l5VBL5i0gn5Aw67VLM6EhAgvIewq9/bkqIqaJ2vJLvNKeBSd10t9oBz5ZxIMu3KKc4osqPHZ0ghclA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1;spf=pass
 smtp.mailfrom=amd.com;dmarc=pass action=none header.from=amd.com;dkim=pass
 header.d=amd.com;arc=none
Received: from MN2PR12MB3344.namprd12.prod.outlook.com (20.178.241.74) by
 MN2PR12MB2893.namprd12.prod.outlook.com (20.179.83.213) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2073.10; Tue, 16 Jul 2019 03:01:05 +0000
Received: from MN2PR12MB3344.namprd12.prod.outlook.com
 ([fe80::9170:5b18:b195:24b1]) by MN2PR12MB3344.namprd12.prod.outlook.com
 ([fe80::9170:5b18:b195:24b1%3]) with mapi id 15.20.2073.012; Tue, 16 Jul 2019
 03:01:05 +0000
From: "Quan, Evan" <Evan.Quan@amd.com>
To: "Quan, Evan" <Evan.Quan@amd.com>, "amd-gfx@lists.freedesktop.org"
 <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH] drm/amd/powerplay: correct smu_update_table usage
Thread-Topic: [PATCH] drm/amd/powerplay: correct smu_update_table usage
Thread-Index: AQHVOIR4xmWTOAPNyEeoQqyQr+vXT6bMlFng
Date: Tue, 16 Jul 2019 03:01:04 +0000
Message-ID: <MN2PR12MB3344C838640DF88BC47FF502E4CE0@MN2PR12MB3344.namprd12.prod.outlook.com>
References: <20190712073543.17641-1-evan.quan@amd.com>
In-Reply-To: <20190712073543.17641-1-evan.quan@amd.com>
Accept-Language: en-US, zh-CN
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: ff065290-6d03-4fb4-ee39-08d70999d7c6
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:MN2PR12MB2893; 
x-ms-traffictypediagnostic: MN2PR12MB2893:
x-microsoft-antispam-prvs: <MN2PR12MB28938C984EAB1DC4BB061850E4CE0@MN2PR12MB2893.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:586;
x-forefront-prvs: 0100732B76
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(396003)(39860400002)(366004)(136003)(346002)(376002)(13464003)(199004)(189003)(186003)(8936002)(86362001)(30864003)(53546011)(102836004)(478600001)(6506007)(53936002)(76176011)(316002)(486006)(7696005)(25786009)(256004)(14444005)(99286004)(19627235002)(9686003)(476003)(6116002)(3846002)(55016002)(26005)(5660300002)(446003)(11346002)(52536014)(6436002)(229853002)(6246003)(14454004)(71200400001)(71190400001)(68736007)(76116006)(110136005)(33656002)(2501003)(66066001)(66476007)(8676002)(81166006)(7736002)(66556008)(64756008)(66446008)(2906002)(74316002)(66946007)(81156014)(305945005);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MN2PR12MB2893;
 H:MN2PR12MB3344.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: h4tnEdzXUav+pR2sPyO8rKVVsshQleyAcrRwvPtKDEuOX1vK2eDu1d+pDOLbiYZY8bC4JP1H4GhgAA8o3ebLkrBS5OIjwfCTWY0IBr9IgBOInrJzSLFZqFULm4uPZ+u+ErxWrX5pGv0AckSZ1e4LGZEVYk/S5Vda7A8/j0DqG0Jf74RO1sn7aMI7+nMXu6A7ukUhoPKE8J4EN5udes6Nb3Z9xNPt5lsF7ctwTZ1LsqKiK36KRF47JB64Dgz2tRmubO/T+WF5c0eOj40ghys046UC8d9Ozwt6tHPlarN2fCbMK51wnKcHnxZPCRkWfMaWGPNlZSWQ484/9tcpjfR1n5N/k/gqS01tMdGc1NnlnWysu7drLTyqGN/+9p5ReQS/5ttzD/AqT54TMaqMxe13aPWZWztT48rfvJy3yvWaUg4=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: ff065290-6d03-4fb4-ee39-08d70999d7c6
X-MS-Exchange-CrossTenant-originalarrivaltime: 16 Jul 2019 03:01:05.0329 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: equan@amd.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB2893
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=5v0NHCP5MgrCSCE+pDXN3+7qrvawfbF1lLAbDKrKZgM=;
 b=RRiNZE8nGNCspb+9XMSwWTooBMPVK4O420XJSQWVhqsTo7V7LDUFvk+/J59jgDOa8z9t6YDun2EupP0Xp8vAL5VbpUoXY999lb1Ec2JLDLsblbNoCkfwWVfbCfFRb6obJMyxwl/Q4697tVfEhHzCaeUJfkqduViugy1aoF8ZX2Y=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Evan.Quan@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

UGluZy4uCgo+IC0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tCj4gRnJvbTogRXZhbiBRdWFuIDxl
dmFuLnF1YW5AYW1kLmNvbT4KPiBTZW50OiBGcmlkYXksIEp1bHkgMTIsIDIwMTkgMzozNiBQTQo+
IFRvOiBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwo+IENjOiBRdWFuLCBFdmFuIDxFdmFu
LlF1YW5AYW1kLmNvbT4KPiBTdWJqZWN0OiBbUEFUQ0hdIGRybS9hbWQvcG93ZXJwbGF5OiBjb3Jy
ZWN0IHNtdV91cGRhdGVfdGFibGUgdXNhZ2UKPiAKPiBUaGUgaW50ZXJmYWNlIHdhcyB1c2VkIGlu
IGEgY29uZnVzaW5nIHdheS4gSW4gcHJvZmlsZSBtb2RlIHNjZW5hcmlvLCB0aGUgMm5kCj4gcGFy
YW1ldGVyIG9mIHRoZSBpbnRlcmZhY2Ugd2FzIHVzZWQgaW4gYSBkaWZmZXJlbnQgd2F5IGZyb20g
b3RoZXIgc2NlbmFyaW9zLgo+IAo+IENoYW5nZS1JZDogSWFiY2ViYjQ3ZGI4ZmRmMjQyNTgwYzEw
NTkzOTMxMzJlZTEwYjkzZTQKPiBTaWduZWQtb2ZmLWJ5OiBFdmFuIFF1YW4gPGV2YW4ucXVhbkBh
bWQuY29tPgo+IC0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9hbWRncHVfc211
LmMgICAgfCAgNCArKy0tCj4gIC4uLi9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaW5jL2FtZGdwdV9z
bXUuaCAgICB8ICAyICstCj4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L25hdmkxMF9w
cHQuYyAgICB8IDE2ICsrKysrKystLS0tLS0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2Vy
cGxheS9zbXVfdjExXzAuYyAgICAgfCAgNCArKy0tCj4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvcG93
ZXJwbGF5L3ZlZ2EyMF9wcHQuYyAgICB8IDIwICsrKysrKysrKy0tLS0tLS0tLS0KPiAgNSBmaWxl
cyBjaGFuZ2VkLCAyMyBpbnNlcnRpb25zKCspLCAyMyBkZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvYW1kZ3B1X3NtdS5jCj4gYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9hbWRncHVfc211LmMKPiBpbmRleCA3MDE1ZmUxMDEx
ZTguLjMyZjk4Y2Q0ZTRmMiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2Vy
cGxheS9hbWRncHVfc211LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9h
bWRncHVfc211LmMKPiBAQCAtMjk5LDcgKzI5OSw3IEBAIGludCBzbXVfY29tbW9uX3JlYWRfc2Vu
c29yKHN0cnVjdCBzbXVfY29udGV4dAo+ICpzbXUsIGVudW0gYW1kX3BwX3NlbnNvcnMgc2Vuc29y
LAo+ICAJcmV0dXJuIHJldDsKPiAgfQo+IAo+IC1pbnQgc211X3VwZGF0ZV90YWJsZShzdHJ1Y3Qg
c211X2NvbnRleHQgKnNtdSwgZW51bSBzbXVfdGFibGVfaWQKPiB0YWJsZV9pbmRleCwKPiAraW50
IHNtdV91cGRhdGVfdGFibGUoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGVudW0gc211X3RhYmxl
X2lkCj4gK3RhYmxlX2luZGV4LCBpbnQgYXJndW1lbnQsCj4gIAkJICAgICB2b2lkICp0YWJsZV9k
YXRhLCBib29sIGRydjJzbXUpCj4gIHsKPiAgCXN0cnVjdCBzbXVfdGFibGVfY29udGV4dCAqc211
X3RhYmxlID0gJnNtdS0+c211X3RhYmxlOyBAQCAtCj4gMzI2LDcgKzMyNiw3IEBAIGludCBzbXVf
dXBkYXRlX3RhYmxlKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCBlbnVtCj4gc211X3RhYmxlX2lk
IHRhYmxlX2luZGV4LAo+ICAJcmV0ID0gc211X3NlbmRfc21jX21zZ193aXRoX3BhcmFtKHNtdSwg
ZHJ2MnNtdSA/Cj4gCj4gU01VX01TR19UcmFuc2ZlclRhYmxlRHJhbTJTbXUgOgo+IAo+IFNNVV9N
U0dfVHJhbnNmZXJUYWJsZVNtdTJEcmFtLAo+IC0JCQkJCSAgdGFibGVfaWQpOwo+ICsJCQkJCSAg
dGFibGVfaWQgfCAoKGFyZ3VtZW50ICYgMHhGRkZGKSA8PAo+IDE2KSk7Cj4gIAlpZiAocmV0KQo+
ICAJCXJldHVybiByZXQ7Cj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93
ZXJwbGF5L2luYy9hbWRncHVfc211LmgKPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5
L2luYy9hbWRncHVfc211LmgKPiBpbmRleCBjOTczMjRlZjdkYjIuLmJhZjFjZTRkMWExNCAxMDA2
NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvYW1kZ3B1X3NtdS5o
Cj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaW5jL2FtZGdwdV9zbXUuaAo+
IEBAIC05MzcsNyArOTM3LDcgQEAgZXh0ZXJuIGludCBzbXVfZmVhdHVyZV9pc19zdXBwb3J0ZWQo
c3RydWN0Cj4gc211X2NvbnRleHQgKnNtdSwgIGV4dGVybiBpbnQgc211X2ZlYXR1cmVfc2V0X3N1
cHBvcnRlZChzdHJ1Y3QKPiBzbXVfY29udGV4dCAqc211LAo+ICAJCQkJICAgICBlbnVtIHNtdV9m
ZWF0dXJlX21hc2sgbWFzaywgYm9vbAo+IGVuYWJsZSk7Cj4gCj4gLWludCBzbXVfdXBkYXRlX3Rh
YmxlKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCB1aW50MzJfdCB0YWJsZV9pbmRleCwKPiAraW50
IHNtdV91cGRhdGVfdGFibGUoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGVudW0gc211X3RhYmxl
X2lkCj4gK3RhYmxlX2luZGV4LCBpbnQgYXJndW1lbnQsCj4gIAkJICAgICB2b2lkICp0YWJsZV9k
YXRhLCBib29sIGRydjJzbXUpOwo+IAo+ICBib29sIGlzX3N1cHBvcnRfc3dfc211KHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2KTsgZGlmZiAtLWdpdAo+IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9w
b3dlcnBsYXkvbmF2aTEwX3BwdC5jCj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9u
YXZpMTBfcHB0LmMKPiBpbmRleCA0Y2IwYzE4YjEyY2UuLjY1NWFkNmM2NmIyMSAxMDA2NDQKPiAt
LS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9uYXZpMTBfcHB0LmMKPiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9uYXZpMTBfcHB0LmMKPiBAQCAtNjM0LDcgKzYz
NCw3IEBAIHN0YXRpYyBpbnQKPiBuYXZpMTBfZ2V0X2N1cnJlbnRfY2xrX2ZyZXFfYnlfdGFibGUo
c3RydWN0IHNtdV9jb250ZXh0ICpzbXUsCj4gCj4gIAltZW1zZXQoJm1ldHJpY3MsIDAsIHNpemVv
ZihtZXRyaWNzKSk7Cj4gCj4gLQlyZXQgPSBzbXVfdXBkYXRlX3RhYmxlKHNtdSwgU01VX1RBQkxF
X1NNVV9NRVRSSUNTLCAodm9pZAo+ICopJm1ldHJpY3MsIGZhbHNlKTsKPiArCXJldCA9IHNtdV91
cGRhdGVfdGFibGUoc211LCBTTVVfVEFCTEVfU01VX01FVFJJQ1MsIDAsICh2b2lkCj4gKyopJm1l
dHJpY3MsIGZhbHNlKTsKPiAgCWlmIChyZXQpCj4gIAkJcmV0dXJuIHJldDsKPiAKPiBAQCAtODg4
LDcgKzg4OCw3IEBAIHN0YXRpYyBpbnQgbmF2aTEwX2dldF9ncHVfcG93ZXIoc3RydWN0IHNtdV9j
b250ZXh0Cj4gKnNtdSwgdWludDMyX3QgKnZhbHVlKQo+ICAJaWYgKCF2YWx1ZSkKPiAgCQlyZXR1
cm4gLUVJTlZBTDsKPiAKPiAtCXJldCA9IHNtdV91cGRhdGVfdGFibGUoc211LCBTTVVfVEFCTEVf
U01VX01FVFJJQ1MsICh2b2lkCj4gKikmbWV0cmljcywKPiArCXJldCA9IHNtdV91cGRhdGVfdGFi
bGUoc211LCBTTVVfVEFCTEVfU01VX01FVFJJQ1MsIDAsICh2b2lkCj4gKyopJm1ldHJpY3MsCj4g
IAkJCSAgICAgICBmYWxzZSk7Cj4gIAlpZiAocmV0KQo+ICAJCXJldHVybiByZXQ7Cj4gQEAgLTkx
MCw3ICs5MTAsNyBAQCBzdGF0aWMgaW50IG5hdmkxMF9nZXRfY3VycmVudF9hY3Rpdml0eV9wZXJj
ZW50KHN0cnVjdAo+IHNtdV9jb250ZXh0ICpzbXUsCj4gCj4gIAltc2xlZXAoMSk7Cj4gCj4gLQly
ZXQgPSBzbXVfdXBkYXRlX3RhYmxlKHNtdSwgU01VX1RBQkxFX1NNVV9NRVRSSUNTLAo+ICsJcmV0
ID0gc211X3VwZGF0ZV90YWJsZShzbXUsIFNNVV9UQUJMRV9TTVVfTUVUUklDUywgMCwKPiAgCQkJ
ICAgICAgICh2b2lkICopJm1ldHJpY3MsIGZhbHNlKTsKPiAgCWlmIChyZXQpCj4gIAkJcmV0dXJu
IHJldDsKPiBAQCAtOTUxLDcgKzk1MSw3IEBAIHN0YXRpYyBpbnQgbmF2aTEwX2dldF9mYW5fc3Bl
ZWQoc3RydWN0IHNtdV9jb250ZXh0Cj4gKnNtdSwgdWludDE2X3QgKnZhbHVlKQo+IAo+ICAJbWVt
c2V0KCZtZXRyaWNzLCAwLCBzaXplb2YobWV0cmljcykpOwo+IAo+IC0JcmV0ID0gc211X3VwZGF0
ZV90YWJsZShzbXUsIFNNVV9UQUJMRV9TTVVfTUVUUklDUywKPiArCXJldCA9IHNtdV91cGRhdGVf
dGFibGUoc211LCBTTVVfVEFCTEVfU01VX01FVFJJQ1MsIDAsCj4gIAkJCSAgICAgICAodm9pZCAq
KSZtZXRyaWNzLCBmYWxzZSk7Cj4gIAlpZiAocmV0KQo+ICAJCXJldHVybiByZXQ7Cj4gQEAgLTEw
MjAsNyArMTAyMCw3IEBAIHN0YXRpYyBpbnQgbmF2aTEwX2dldF9wb3dlcl9wcm9maWxlX21vZGUo
c3RydWN0Cj4gc211X2NvbnRleHQgKnNtdSwgY2hhciAqYnVmKQo+ICAJCQlyZXR1cm4gLUVJTlZB
TDsKPiAKPiAgCQlyZXN1bHQgPSBzbXVfdXBkYXRlX3RhYmxlKHNtdSwKPiAtCj4gU01VX1RBQkxF
X0FDVElWSVRZX01PTklUT1JfQ09FRkYgfCB3b3JrbG9hZF90eXBlIDw8IDE2LAo+ICsKPiBTTVVf
VEFCTEVfQUNUSVZJVFlfTU9OSVRPUl9DT0VGRiwgd29ya2xvYWRfdHlwZSwKPiAgCQkJCQkgICh2
b2lkICopKCZhY3Rpdml0eV9tb25pdG9yKSwgZmFsc2UpOwo+ICAJCWlmIChyZXN1bHQpIHsKPiAg
CQkJcHJfZXJyKCJbJXNdIEZhaWxlZCB0byBnZXQgYWN0aXZpdHkgbW9uaXRvciEiLAo+IF9fZnVu
Y19fKTsgQEAgLTEwOTMsNyArMTA5Myw3IEBAIHN0YXRpYyBpbnQKPiBuYXZpMTBfc2V0X3Bvd2Vy
X3Byb2ZpbGVfbW9kZShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgbG9uZyAqaW5wdXQsIHUKPiAg
CQkJcmV0dXJuIC1FSU5WQUw7Cj4gCj4gIAkJcmV0ID0gc211X3VwZGF0ZV90YWJsZShzbXUsCj4g
LQkJCQkgICAgICAgU01VX1RBQkxFX0FDVElWSVRZX01PTklUT1JfQ09FRkYKPiB8IFdPUktMT0FE
X1BQTElCX0NVU1RPTV9CSVQgPDwgMTYsCj4gKwkJCQkgICAgICAgU01VX1RBQkxFX0FDVElWSVRZ
X01PTklUT1JfQ09FRkYsCj4gV09SS0xPQURfUFBMSUJfQ1VTVE9NX0JJVCwKPiAgCQkJCSAgICAg
ICAodm9pZCAqKSgmYWN0aXZpdHlfbW9uaXRvciksIGZhbHNlKTsKPiAgCQlpZiAocmV0KSB7Cj4g
IAkJCXByX2VycigiWyVzXSBGYWlsZWQgdG8gZ2V0IGFjdGl2aXR5IG1vbml0b3IhIiwKPiBfX2Z1
bmNfXyk7IEBAIC0xMTM3LDcgKzExMzcsNyBAQCBzdGF0aWMgaW50Cj4gbmF2aTEwX3NldF9wb3dl
cl9wcm9maWxlX21vZGUoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGxvbmcgKmlucHV0LCB1Cj4g
IAkJfQo+IAo+ICAJCXJldCA9IHNtdV91cGRhdGVfdGFibGUoc211LAo+IC0JCQkJICAgICAgIFNN
VV9UQUJMRV9BQ1RJVklUWV9NT05JVE9SX0NPRUZGCj4gfCBXT1JLTE9BRF9QUExJQl9DVVNUT01f
QklUIDw8IDE2LAo+ICsJCQkJICAgICAgIFNNVV9UQUJMRV9BQ1RJVklUWV9NT05JVE9SX0NPRUZG
LAo+IFdPUktMT0FEX1BQTElCX0NVU1RPTV9CSVQsCj4gIAkJCQkgICAgICAgKHZvaWQgKikoJmFj
dGl2aXR5X21vbml0b3IpLCB0cnVlKTsKPiAgCQlpZiAocmV0KSB7Cj4gIAkJCXByX2VycigiWyVz
XSBGYWlsZWQgdG8gc2V0IGFjdGl2aXR5IG1vbml0b3IhIiwKPiBfX2Z1bmNfXyk7IEBAIC0xMzA1
LDcgKzEzMDUsNyBAQCBzdGF0aWMgaW50Cj4gbmF2aTEwX3RoZXJtYWxfZ2V0X3RlbXBlcmF0dXJl
KHN0cnVjdCBzbXVfY29udGV4dCAqc211LAo+ICAJaWYgKCF2YWx1ZSkKPiAgCQlyZXR1cm4gLUVJ
TlZBTDsKPiAKPiAtCXJldCA9IHNtdV91cGRhdGVfdGFibGUoc211LCBTTVVfVEFCTEVfU01VX01F
VFJJQ1MsICh2b2lkCj4gKikmbWV0cmljcywgZmFsc2UpOwo+ICsJcmV0ID0gc211X3VwZGF0ZV90
YWJsZShzbXUsIFNNVV9UQUJMRV9TTVVfTUVUUklDUywgMCwgKHZvaWQKPiArKikmbWV0cmljcywg
ZmFsc2UpOwo+ICAJaWYgKHJldCkKPiAgCQlyZXR1cm4gcmV0Owo+IAo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9zbXVfdjExXzAuYwo+IGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9wb3dlcnBsYXkvc211X3YxMV8wLmMKPiBpbmRleCAxMmI3Zjc2M2RkZGQuLmJkOWE2
ZjgwNjk5ZCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9zbXVf
djExXzAuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3NtdV92MTFfMC5j
Cj4gQEAgLTcwNCw3ICs3MDQsNyBAQCBzdGF0aWMgaW50IHNtdV92MTFfMF93cml0ZV9wcHRhYmxl
KHN0cnVjdAo+IHNtdV9jb250ZXh0ICpzbXUpCj4gIAlzdHJ1Y3Qgc211X3RhYmxlX2NvbnRleHQg
KnRhYmxlX2NvbnRleHQgPSAmc211LT5zbXVfdGFibGU7Cj4gIAlpbnQgcmV0ID0gMDsKPiAKPiAt
CXJldCA9IHNtdV91cGRhdGVfdGFibGUoc211LCBTTVVfVEFCTEVfUFBUQUJMRSwKPiArCXJldCA9
IHNtdV91cGRhdGVfdGFibGUoc211LCBTTVVfVEFCTEVfUFBUQUJMRSwgMCwKPiAgCQkJICAgICAg
IHRhYmxlX2NvbnRleHQtPmRyaXZlcl9wcHRhYmxlLCB0cnVlKTsKPiAKPiAgCXJldHVybiByZXQ7
Cj4gQEAgLTcyMyw3ICs3MjMsNyBAQCBzdGF0aWMgaW50IHNtdV92MTFfMF93cml0ZV93YXRlcm1h
cmtzX3RhYmxlKHN0cnVjdAo+IHNtdV9jb250ZXh0ICpzbXUpCj4gIAlpZiAoIXRhYmxlLT5jcHVf
YWRkcikKPiAgCQlyZXR1cm4gLUVJTlZBTDsKPiAKPiAtCXJldCA9IHNtdV91cGRhdGVfdGFibGUo
c211LCBTTVVfVEFCTEVfV0FURVJNQVJLUywgdGFibGUtCj4gPmNwdV9hZGRyLAo+ICsJcmV0ID0g
c211X3VwZGF0ZV90YWJsZShzbXUsIFNNVV9UQUJMRV9XQVRFUk1BUktTLCAwLCB0YWJsZS0KPiA+
Y3B1X2FkZHIsCj4gIAkJCQl0cnVlKTsKPiAKPiAgCXJldHVybiByZXQ7Cj4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3ZlZ2EyMF9wcHQuYwo+IGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9wb3dlcnBsYXkvdmVnYTIwX3BwdC5jCj4gaW5kZXggZGJjMTc5MjBiODc5Li5j
MGMwNTY1YjU2Y2QgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkv
dmVnYTIwX3BwdC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvdmVnYTIw
X3BwdC5jCj4gQEAgLTE2OTksNyArMTY5OSw3IEBAIHN0YXRpYyBpbnQgdmVnYTIwX2dldF9tZXRy
aWNzX3RhYmxlKHN0cnVjdAo+IHNtdV9jb250ZXh0ICpzbXUsCj4gIAlpbnQgcmV0ID0gMDsKPiAK
PiAgCWlmICghc211X3RhYmxlLT5tZXRyaWNzX3RpbWUgfHwgdGltZV9hZnRlcihqaWZmaWVzLCBz
bXVfdGFibGUtCj4gPm1ldHJpY3NfdGltZSArIEhaIC8gMTAwMCkpIHsKPiAtCQlyZXQgPSBzbXVf
dXBkYXRlX3RhYmxlKHNtdSwgU01VX1RBQkxFX1NNVV9NRVRSSUNTLAo+ICsJCXJldCA9IHNtdV91
cGRhdGVfdGFibGUoc211LCBTTVVfVEFCTEVfU01VX01FVFJJQ1MsCj4gMCwKPiAgCQkJCSh2b2lk
ICopc211X3RhYmxlLT5tZXRyaWNzX3RhYmxlLCBmYWxzZSk7Cj4gIAkJaWYgKHJldCkgewo+ICAJ
CQlwcl9pbmZvKCJGYWlsZWQgdG8gZXhwb3J0IFNNVSBtZXRyaWNzIHRhYmxlIVxuIik7Cj4gQEAg
LTE3MjgsNyArMTcyOCw3IEBAIHN0YXRpYyBpbnQgdmVnYTIwX3NldF9kZWZhdWx0X29kX3NldHRp
bmdzKHN0cnVjdAo+IHNtdV9jb250ZXh0ICpzbXUsCj4gIAkJaWYgKCF0YWJsZV9jb250ZXh0LT5v
dmVyZHJpdmVfdGFibGUpCj4gIAkJCXJldHVybiAtRU5PTUVNOwo+IAo+IC0JCXJldCA9IHNtdV91
cGRhdGVfdGFibGUoc211LCBTTVVfVEFCTEVfT1ZFUkRSSVZFLAo+ICsJCXJldCA9IHNtdV91cGRh
dGVfdGFibGUoc211LCBTTVVfVEFCTEVfT1ZFUkRSSVZFLCAwLAo+ICAJCQkJICAgICAgIHRhYmxl
X2NvbnRleHQtPm92ZXJkcml2ZV90YWJsZSwgZmFsc2UpOwo+ICAJCWlmIChyZXQpIHsKPiAgCQkJ
cHJfZXJyKCJGYWlsZWQgdG8gZXhwb3J0IG92ZXIgZHJpdmUgdGFibGUhXG4iKTsgQEAgLQo+IDE3
NDAsNyArMTc0MCw3IEBAIHN0YXRpYyBpbnQgdmVnYTIwX3NldF9kZWZhdWx0X29kX3NldHRpbmdz
KHN0cnVjdAo+IHNtdV9jb250ZXh0ICpzbXUsCj4gIAkJCXJldHVybiByZXQ7Cj4gIAl9Cj4gCj4g
LQlyZXQgPSBzbXVfdXBkYXRlX3RhYmxlKHNtdSwgU01VX1RBQkxFX09WRVJEUklWRSwKPiArCXJl
dCA9IHNtdV91cGRhdGVfdGFibGUoc211LCBTTVVfVEFCTEVfT1ZFUkRSSVZFLCAwLAo+ICAJCQkg
ICAgICAgdGFibGVfY29udGV4dC0+b3ZlcmRyaXZlX3RhYmxlLCB0cnVlKTsKPiAgCWlmIChyZXQp
IHsKPiAgCQlwcl9lcnIoIkZhaWxlZCB0byBpbXBvcnQgb3ZlciBkcml2ZSB0YWJsZSFcbiIpOyBA
QCAtMTgyNyw3Cj4gKzE4MjcsNyBAQCBzdGF0aWMgaW50IHZlZ2EyMF9nZXRfcG93ZXJfcHJvZmls
ZV9tb2RlKHN0cnVjdCBzbXVfY29udGV4dAo+ICpzbXUsIGNoYXIgKmJ1ZikKPiAgCQkJcmV0dXJu
IC1FSU5WQUw7Cj4gCj4gIAkJcmVzdWx0ID0gc211X3VwZGF0ZV90YWJsZShzbXUsCj4gLQo+IFNN
VV9UQUJMRV9BQ1RJVklUWV9NT05JVE9SX0NPRUZGIHwgd29ya2xvYWRfdHlwZSA8PCAxNiwKPiAr
Cj4gU01VX1RBQkxFX0FDVElWSVRZX01PTklUT1JfQ09FRkYsIHdvcmtsb2FkX3R5cGUsCj4gIAkJ
CQkJICAodm9pZCAqKSgmYWN0aXZpdHlfbW9uaXRvciksIGZhbHNlKTsKPiAgCQlpZiAocmVzdWx0
KSB7Cj4gIAkJCXByX2VycigiWyVzXSBGYWlsZWQgdG8gZ2V0IGFjdGl2aXR5IG1vbml0b3IhIiwK
PiBfX2Z1bmNfXyk7IEBAIC0xOTEzLDcgKzE5MTMsNyBAQCBzdGF0aWMgaW50Cj4gdmVnYTIwX3Nl
dF9wb3dlcl9wcm9maWxlX21vZGUoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGxvbmcgKmlucHV0
LCB1Cj4gCj4gIAlpZiAoc211LT5wb3dlcl9wcm9maWxlX21vZGUgPT0KPiBQUF9TTUNfUE9XRVJf
UFJPRklMRV9DVVNUT00pIHsKPiAgCQlyZXQgPSBzbXVfdXBkYXRlX3RhYmxlKHNtdSwKPiAtCQkJ
CSAgICAgICBTTVVfVEFCTEVfQUNUSVZJVFlfTU9OSVRPUl9DT0VGRgo+IHwgV09SS0xPQURfUFBM
SUJfQ1VTVE9NX0JJVCA8PCAxNiwKPiArCQkJCSAgICAgICBTTVVfVEFCTEVfQUNUSVZJVFlfTU9O
SVRPUl9DT0VGRiwKPiBXT1JLTE9BRF9QUExJQl9DVVNUT01fQklULAo+ICAJCQkJICAgICAgICh2
b2lkICopKCZhY3Rpdml0eV9tb25pdG9yKSwgZmFsc2UpOwo+ICAJCWlmIChyZXQpIHsKPiAgCQkJ
cHJfZXJyKCJbJXNdIEZhaWxlZCB0byBnZXQgYWN0aXZpdHkgbW9uaXRvciEiLAo+IF9fZnVuY19f
KTsgQEAgLTE5NjgsNyArMTk2OCw3IEBAIHN0YXRpYyBpbnQKPiB2ZWdhMjBfc2V0X3Bvd2VyX3By
b2ZpbGVfbW9kZShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgbG9uZyAqaW5wdXQsIHUKPiAgCQl9
Cj4gCj4gIAkJcmV0ID0gc211X3VwZGF0ZV90YWJsZShzbXUsCj4gLQkJCQkgICAgICAgU01VX1RB
QkxFX0FDVElWSVRZX01PTklUT1JfQ09FRkYKPiB8IFdPUktMT0FEX1BQTElCX0NVU1RPTV9CSVQg
PDwgMTYsCj4gKwkJCQkgICAgICAgU01VX1RBQkxFX0FDVElWSVRZX01PTklUT1JfQ09FRkYsCj4g
V09SS0xPQURfUFBMSUJfQ1VTVE9NX0JJVCwKPiAgCQkJCSAgICAgICAodm9pZCAqKSgmYWN0aXZp
dHlfbW9uaXRvciksIHRydWUpOwo+ICAJCWlmIChyZXQpIHsKPiAgCQkJcHJfZXJyKCJbJXNdIEZh
aWxlZCB0byBzZXQgYWN0aXZpdHkgbW9uaXRvciEiLAo+IF9fZnVuY19fKTsgQEAgLTI1MTksNyAr
MjUxOSw3IEBAIHN0YXRpYyBpbnQKPiB2ZWdhMjBfdXBkYXRlX29kOF9zZXR0aW5ncyhzdHJ1Y3Qg
c211X2NvbnRleHQgKnNtdSwKPiAgCXN0cnVjdCBzbXVfdGFibGVfY29udGV4dCAqdGFibGVfY29u
dGV4dCA9ICZzbXUtPnNtdV90YWJsZTsKPiAgCWludCByZXQ7Cj4gCj4gLQlyZXQgPSBzbXVfdXBk
YXRlX3RhYmxlKHNtdSwgU01VX1RBQkxFX09WRVJEUklWRSwKPiArCXJldCA9IHNtdV91cGRhdGVf
dGFibGUoc211LCBTTVVfVEFCTEVfT1ZFUkRSSVZFLCAwLAo+ICAJCQkgICAgICAgdGFibGVfY29u
dGV4dC0+b3ZlcmRyaXZlX3RhYmxlLCBmYWxzZSk7Cj4gIAlpZiAocmV0KSB7Cj4gIAkJcHJfZXJy
KCJGYWlsZWQgdG8gZXhwb3J0IG92ZXIgZHJpdmUgdGFibGUhXG4iKTsgQEAgLTI1MzAsNwo+ICsy
NTMwLDcgQEAgc3RhdGljIGludCB2ZWdhMjBfdXBkYXRlX29kOF9zZXR0aW5ncyhzdHJ1Y3Qgc211
X2NvbnRleHQKPiAqc211LAo+ICAJaWYgKHJldCkKPiAgCQlyZXR1cm4gcmV0Owo+IAo+IC0JcmV0
ID0gc211X3VwZGF0ZV90YWJsZShzbXUsIFNNVV9UQUJMRV9PVkVSRFJJVkUsCj4gKwlyZXQgPSBz
bXVfdXBkYXRlX3RhYmxlKHNtdSwgU01VX1RBQkxFX09WRVJEUklWRSwgMCwKPiAgCQkJICAgICAg
IHRhYmxlX2NvbnRleHQtPm92ZXJkcml2ZV90YWJsZSwgdHJ1ZSk7Cj4gIAlpZiAocmV0KSB7Cj4g
IAkJcHJfZXJyKCJGYWlsZWQgdG8gaW1wb3J0IG92ZXIgZHJpdmUgdGFibGUhXG4iKTsgQEAgLTI3
OTQsNwo+ICsyNzk0LDcgQEAgc3RhdGljIGludCB2ZWdhMjBfb2RuX2VkaXRfZHBtX3RhYmxlKHN0
cnVjdCBzbXVfY29udGV4dAo+ICpzbXUsCj4gIAkJYnJlYWs7Cj4gCj4gIAljYXNlIFBQX09EX1JF
U1RPUkVfREVGQVVMVF9UQUJMRToKPiAtCQlyZXQgPSBzbXVfdXBkYXRlX3RhYmxlKHNtdSwgU01V
X1RBQkxFX09WRVJEUklWRSwKPiB0YWJsZV9jb250ZXh0LT5vdmVyZHJpdmVfdGFibGUsIGZhbHNl
KTsKPiArCQlyZXQgPSBzbXVfdXBkYXRlX3RhYmxlKHNtdSwgU01VX1RBQkxFX09WRVJEUklWRSwg
MCwKPiArdGFibGVfY29udGV4dC0+b3ZlcmRyaXZlX3RhYmxlLCBmYWxzZSk7Cj4gIAkJaWYgKHJl
dCkgewo+ICAJCQlwcl9lcnIoIkZhaWxlZCB0byBleHBvcnQgb3ZlciBkcml2ZSB0YWJsZSFcbiIp
Owo+ICAJCQlyZXR1cm4gcmV0Owo+IEBAIC0yODAzLDcgKzI4MDMsNyBAQCBzdGF0aWMgaW50IHZl
Z2EyMF9vZG5fZWRpdF9kcG1fdGFibGUoc3RydWN0Cj4gc211X2NvbnRleHQgKnNtdSwKPiAgCQli
cmVhazsKPiAKPiAgCWNhc2UgUFBfT0RfQ09NTUlUX0RQTV9UQUJMRToKPiAtCQlyZXQgPSBzbXVf
dXBkYXRlX3RhYmxlKHNtdSwgU01VX1RBQkxFX09WRVJEUklWRSwKPiB0YWJsZV9jb250ZXh0LT5v
dmVyZHJpdmVfdGFibGUsIHRydWUpOwo+ICsJCXJldCA9IHNtdV91cGRhdGVfdGFibGUoc211LCBT
TVVfVEFCTEVfT1ZFUkRSSVZFLCAwLAo+ICt0YWJsZV9jb250ZXh0LT5vdmVyZHJpdmVfdGFibGUs
IHRydWUpOwo+ICAJCWlmIChyZXQpIHsKPiAgCQkJcHJfZXJyKCJGYWlsZWQgdG8gaW1wb3J0IG92
ZXIgZHJpdmUgdGFibGUhXG4iKTsKPiAgCQkJcmV0dXJuIHJldDsKPiAtLQo+IDIuMjEuMAoKX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWls
aW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVl
ZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4
