Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 3C9276A192
	for <lists+amd-gfx@lfdr.de>; Tue, 16 Jul 2019 06:36:58 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 99A3489F61;
	Tue, 16 Jul 2019 04:36:56 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM03-DM3-obe.outbound.protection.outlook.com
 (mail-eopbgr800080.outbound.protection.outlook.com [40.107.80.80])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8E6A789F61
 for <amd-gfx@lists.freedesktop.org>; Tue, 16 Jul 2019 04:36:55 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=gWgx3sZP3C60Rn1+1uaTaIlUes128YEXa+z2Ag0QS/ikx6GcM+/PMyMkujP7xI2f4QEIcxzhoENFFwdEcZJDdX1KS0PDKErYwHXtRraw7hRy74jfkoXgz51wkOmp9tMkx0DxuSbi2urkujB5900RmTojERqCKQJej1+9GNxE8ZV31SQUIzT7U1U5WGaAS8RglUENZun42zs7LQzO7NIu8zfSZW1W9wX7AS9ANvAUNiTuJ7QKXRqfsNLwQQLyyZEv+mrFUbr8QRfYMRMJAUmvQepT4+3neqg6vDIy8wMHFTJ4w6Zw4w0JYE5y/jAKENPaggJhIo4yjONTtAkIU2r+Yw==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=qQ2i634RlMjzavahppouEEjlnupXo7Nt5DxKUuBi/Uc=;
 b=l8giWTaNaBm6GHcxlUdXjoKnykqqJQjY6TU5dcMw9mIJs4DbpZqOnTnf8Vy5l4PaEZabRs1PLFkl4WOmgUe1UZFEVMDLrgVozJPXWHJMQCQx8Wn4V6WkpYrMK9aX1PPf+FkmvF0mPhh6T9pWHtdE6HmV/p2FioiKe0JP0ZAYSS8xO4XmXwXc6tMQ1GVier96Q25MuBfOA2a1XfnYDq2e2mhDg1SvhF387Fuvq1TNQ59gakjGQ/aY6k6B335VLVhZ6J6nEKECkTm+m4N5RjQpB0349wKF9D5J6zCUEsaKOXCpt1e1a/b3Gnmgehn5t/TpPB0LIj5pjTIAz/O7Z0qfLg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1;spf=pass
 smtp.mailfrom=amd.com;dmarc=pass action=none header.from=amd.com;dkim=pass
 header.d=amd.com;arc=none
Received: from CH2PR12MB3767.namprd12.prod.outlook.com (52.132.244.213) by
 CH2PR12MB3749.namprd12.prod.outlook.com (52.132.244.155) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2073.10; Tue, 16 Jul 2019 04:36:51 +0000
Received: from CH2PR12MB3767.namprd12.prod.outlook.com
 ([fe80::6cc4:28bf:361f:d486]) by CH2PR12MB3767.namprd12.prod.outlook.com
 ([fe80::6cc4:28bf:361f:d486%3]) with mapi id 15.20.2073.012; Tue, 16 Jul 2019
 04:36:51 +0000
From: "Xu, Feifei" <Feifei.Xu@amd.com>
To: "Quan, Evan" <Evan.Quan@amd.com>, "amd-gfx@lists.freedesktop.org"
 <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH 2/2] drm/amd/powerplay: input check for unsupported
 message/clock index
Thread-Topic: [PATCH 2/2] drm/amd/powerplay: input check for unsupported
 message/clock index
Thread-Index: AQHVOIRkpH6O0W1oQ0SL5TMsnH40iqbMrxQA
Date: Tue, 16 Jul 2019 04:36:51 +0000
Message-ID: <CH2PR12MB37671382F6A67CFB038356C7FECE0@CH2PR12MB3767.namprd12.prod.outlook.com>
References: <20190712073505.17563-1-evan.quan@amd.com>
 <20190712073505.17563-2-evan.quan@amd.com>
In-Reply-To: <20190712073505.17563-2-evan.quan@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 1177da6a-9510-4ad9-3581-08d709a738f6
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:CH2PR12MB3749; 
x-ms-traffictypediagnostic: CH2PR12MB3749:
x-ms-exchange-purlcount: 1
x-microsoft-antispam-prvs: <CH2PR12MB37495F9A935BA759913D03F1FECE0@CH2PR12MB3749.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:628;
x-forefront-prvs: 0100732B76
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(39860400002)(396003)(366004)(376002)(346002)(136003)(199004)(189003)(13464003)(81166006)(14454004)(30864003)(2501003)(71200400001)(66446008)(64756008)(66556008)(74316002)(71190400001)(966005)(15650500001)(2906002)(229853002)(6436002)(316002)(8936002)(86362001)(55016002)(6306002)(68736007)(110136005)(81156014)(53546011)(7696005)(33656002)(11346002)(476003)(486006)(76176011)(6506007)(3846002)(52536014)(6116002)(26005)(186003)(102836004)(99286004)(25786009)(66946007)(5660300002)(478600001)(66476007)(256004)(9686003)(446003)(4326008)(8676002)(14444005)(6246003)(66066001)(53936002)(305945005)(7736002)(76116006);
 DIR:OUT; SFP:1101; SCL:1; SRVR:CH2PR12MB3749;
 H:CH2PR12MB3767.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: tjr+Z8mXs6u2tM5JowrAnVU2Efxq8P7lX02XSdgWcg9rzMjRPXae0O7NMvCnG8FOszblhwZGme5sr7qYjTCRc6FTH0IlLQ8ZNktk4OtgfmsoQhQxe5nO0Q222cdPG1cI2Kt88hnvBSHrYoVYVr+tsIywpDitfiFDklZzzb+FXD3H//3Q/AXtb5nqEpQKF1MYsMXB1cNzP7syraxJd1rdVjMqTsT/qaVLeXcQTrr4TVKmzeeFPG1VbkTAtb3yNpQM5VNlNSRyowjtnB4rkJrRWS9ujErNYSUgSDWDOGoDGu5CrD+vLil8aIYQzqqY/4f4Nfgi8iVOnkT1/MnYHHK1DySMVvHCFT5la/dgbv9q6wJa5QvIDNKiE2fIpZ7shcCr9YnviHC8mdZSz6BEnfDjr8u+WAr3ZYYbo1ltDnRvQAU=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 1177da6a-9510-4ad9-3581-08d709a738f6
X-MS-Exchange-CrossTenant-originalarrivaltime: 16 Jul 2019 04:36:51.3733 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: feifxu@amd.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: CH2PR12MB3749
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=qQ2i634RlMjzavahppouEEjlnupXo7Nt5DxKUuBi/Uc=;
 b=bm/UQHgV34+yZmEwG/rtT5tTq7whxul8FWbdzTmBByqJP/6cnXlxFs3gRsSQ6SoJlvCwuBrWaKasOrlOFD7P0SqStCNFs0LxlhtHYflPHyraI9J7z+QwYc3RU2bvuas0IMPBpYVGgZHYOyZd9p/UlpzpgsP3I6iqmSsYCYqthM0=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Feifei.Xu@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Quan, Evan" <Evan.Quan@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

DQoNClJldmlld2VkLWJ5OiBGZWlmZWkgWHUgPEZlaWZlaS5YdUBhbWQuY29tPg0KDQoNCg0KLS0t
LS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZyb206IGFtZC1nZnggPGFtZC1nZngtYm91bmNlc0Bs
aXN0cy5mcmVlZGVza3RvcC5vcmc+IE9uIEJlaGFsZiBPZiBFdmFuIFF1YW4NClNlbnQ6IEZyaWRh
eSwgSnVseSAxMiwgMjAxOSAzOjM1IFBNDQpUbzogYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcNCkNjOiBRdWFuLCBFdmFuIDxFdmFuLlF1YW5AYW1kLmNvbT4NClN1YmplY3Q6IFtQQVRDSCAy
LzJdIGRybS9hbWQvcG93ZXJwbGF5OiBpbnB1dCBjaGVjayBmb3IgdW5zdXBwb3J0ZWQgbWVzc2Fn
ZS9jbG9jayBpbmRleA0KDQpUaGlzIGNhbiBhdm9pZCB0aGVtIHRvIGJlIGhhbmRsZWQgaW4gYSB3
cm9uZyB3YXkgd2l0aG91dCBub3RpY2UuDQpTaW5jZSBub3QgYWxsIFNNVSBtZXNzYWdlcy9jbG9j
a3MgYXJlIHN1cHBvcnRlZCBvbiBldmVyeSBTTVUxMSBBU0lDLg0KDQpDaGFuZ2UtSWQ6IEk0NDBi
ODA4MzNjODEwNjZjZDM2NjEzYmVhZTU1NWYyZmEwNjgxOTlmDQpTaWduZWQtb2ZmLWJ5OiBFdmFu
IFF1YW4gPGV2YW4ucXVhbkBhbWQuY29tPg0KLS0tDQogZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dl
cnBsYXkvYW1kZ3B1X3NtdS5jIHwgMTggKysrKysrKystLS0tICBkcml2ZXJzL2dwdS9kcm0vYW1k
L3Bvd2VycGxheS9uYXZpMTBfcHB0LmMgfCAzMSArKysrKysrKysrKysrKystLS0tLSAgZHJpdmVy
cy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvc211X3YxMV8wLmMgIHwgMzMgKysrKysrKysrKysrKysr
KysrLS0tLSAgZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvdmVnYTIwX3BwdC5jIHwgMzEg
KysrKysrKysrKysrKysrLS0tLS0NCiA0IGZpbGVzIGNoYW5nZWQsIDg4IGluc2VydGlvbnMoKyks
IDI1IGRlbGV0aW9ucygtKQ0KDQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dl
cnBsYXkvYW1kZ3B1X3NtdS5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvYW1kZ3B1
X3NtdS5jDQppbmRleCA2OWEzMDc4MTgxZWYuLjcwMTVmZTEwMTFlOCAxMDA2NDQNCi0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2FtZGdwdV9zbXUuYw0KKysrIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9wb3dlcnBsYXkvYW1kZ3B1X3NtdS5jDQpAQCAtMzA3LDcgKzMwNyw3IEBAIGlu
dCBzbXVfdXBkYXRlX3RhYmxlKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCBlbnVtIHNtdV90YWJs
ZV9pZCB0YWJsZV9pbmRleCwNCiAJaW50IHJldCA9IDA7DQogCWludCB0YWJsZV9pZCA9IHNtdV90
YWJsZV9nZXRfaW5kZXgoc211LCB0YWJsZV9pbmRleCk7DQogDQotCWlmICghdGFibGVfZGF0YSB8
fCB0YWJsZV9pZCA+PSBzbXVfdGFibGUtPnRhYmxlX2NvdW50KQ0KKwlpZiAoIXRhYmxlX2RhdGEg
fHwgdGFibGVfaWQgPj0gc211X3RhYmxlLT50YWJsZV9jb3VudCB8fCB0YWJsZV9pZCA8IDApDQog
CQlyZXR1cm4gLUVJTlZBTDsNCiANCiAJdGFibGUgPSAmc211X3RhYmxlLT50YWJsZXNbdGFibGVf
aW5kZXhdOyBAQCAtNDI3LDEwICs0MjcsMTIgQEAgaW50IHNtdV9mZWF0dXJlX2luaXRfZHBtKHN0
cnVjdCBzbXVfY29udGV4dCAqc211KSAgaW50IHNtdV9mZWF0dXJlX2lzX2VuYWJsZWQoc3RydWN0
IHNtdV9jb250ZXh0ICpzbXUsIGVudW0gc211X2ZlYXR1cmVfbWFzayBtYXNrKSAgew0KIAlzdHJ1
Y3Qgc211X2ZlYXR1cmUgKmZlYXR1cmUgPSAmc211LT5zbXVfZmVhdHVyZTsNCi0JdWludDMyX3Qg
ZmVhdHVyZV9pZDsNCisJaW50IGZlYXR1cmVfaWQ7DQogCWludCByZXQgPSAwOw0KIA0KIAlmZWF0
dXJlX2lkID0gc211X2ZlYXR1cmVfZ2V0X2luZGV4KHNtdSwgbWFzayk7DQorCWlmIChmZWF0dXJl
X2lkIDwgMCkNCisJCXJldHVybiAwOw0KIA0KIAlXQVJOX09OKGZlYXR1cmVfaWQgPiBmZWF0dXJl
LT5mZWF0dXJlX251bSk7DQogDQpAQCAtNDQ1LDEwICs0NDcsMTIgQEAgaW50IHNtdV9mZWF0dXJl
X3NldF9lbmFibGVkKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCBlbnVtIHNtdV9mZWF0dXJlX21h
c2sgbWFzaywNCiAJCQkgICAgYm9vbCBlbmFibGUpDQogew0KIAlzdHJ1Y3Qgc211X2ZlYXR1cmUg
KmZlYXR1cmUgPSAmc211LT5zbXVfZmVhdHVyZTsNCi0JdWludDMyX3QgZmVhdHVyZV9pZDsNCisJ
aW50IGZlYXR1cmVfaWQ7DQogCWludCByZXQgPSAwOw0KIA0KIAlmZWF0dXJlX2lkID0gc211X2Zl
YXR1cmVfZ2V0X2luZGV4KHNtdSwgbWFzayk7DQorCWlmIChmZWF0dXJlX2lkIDwgMCkNCisJCXJl
dHVybiAtRUlOVkFMOw0KIA0KIAlXQVJOX09OKGZlYXR1cmVfaWQgPiBmZWF0dXJlLT5mZWF0dXJl
X251bSk7DQogDQpAQCAtNDcxLDEwICs0NzUsMTIgQEAgaW50IHNtdV9mZWF0dXJlX3NldF9lbmFi
bGVkKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCBlbnVtIHNtdV9mZWF0dXJlX21hc2sgbWFzaywg
IGludCBzbXVfZmVhdHVyZV9pc19zdXBwb3J0ZWQoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGVu
dW0gc211X2ZlYXR1cmVfbWFzayBtYXNrKSAgew0KIAlzdHJ1Y3Qgc211X2ZlYXR1cmUgKmZlYXR1
cmUgPSAmc211LT5zbXVfZmVhdHVyZTsNCi0JdWludDMyX3QgZmVhdHVyZV9pZDsNCisJaW50IGZl
YXR1cmVfaWQ7DQogCWludCByZXQgPSAwOw0KIA0KIAlmZWF0dXJlX2lkID0gc211X2ZlYXR1cmVf
Z2V0X2luZGV4KHNtdSwgbWFzayk7DQorCWlmIChmZWF0dXJlX2lkIDwgMCkNCisJCXJldHVybiAw
Ow0KIA0KIAlXQVJOX09OKGZlYXR1cmVfaWQgPiBmZWF0dXJlLT5mZWF0dXJlX251bSk7DQogDQpA
QCAtNDkwLDEwICs0OTYsMTIgQEAgaW50IHNtdV9mZWF0dXJlX3NldF9zdXBwb3J0ZWQoc3RydWN0
IHNtdV9jb250ZXh0ICpzbXUsDQogCQkJICAgICAgYm9vbCBlbmFibGUpDQogew0KIAlzdHJ1Y3Qg
c211X2ZlYXR1cmUgKmZlYXR1cmUgPSAmc211LT5zbXVfZmVhdHVyZTsNCi0JdWludDMyX3QgZmVh
dHVyZV9pZDsNCisJaW50IGZlYXR1cmVfaWQ7DQogCWludCByZXQgPSAwOw0KIA0KIAlmZWF0dXJl
X2lkID0gc211X2ZlYXR1cmVfZ2V0X2luZGV4KHNtdSwgbWFzayk7DQorCWlmIChmZWF0dXJlX2lk
IDwgMCkNCisJCXJldHVybiAtRUlOVkFMOw0KIA0KIAlXQVJOX09OKGZlYXR1cmVfaWQgPiBmZWF0
dXJlLT5mZWF0dXJlX251bSk7DQogDQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9w
b3dlcnBsYXkvbmF2aTEwX3BwdC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvbmF2
aTEwX3BwdC5jDQppbmRleCBlNWZhODJlMTA1MzUuLjRjYjBjMThiMTJjZSAxMDA2NDQNCi0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L25hdmkxMF9wcHQuYw0KKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvbmF2aTEwX3BwdC5jDQpAQCAtMjE2LDggKzIxNiwxMCBA
QCBzdGF0aWMgaW50IG5hdmkxMF9nZXRfc211X21zZ19pbmRleChzdHJ1Y3Qgc211X2NvbnRleHQg
KnNtYywgdWludDMyX3QgaW5kZXgpDQogCQlyZXR1cm4gLUVJTlZBTDsNCiANCiAJbWFwcGluZyA9
IG5hdmkxMF9tZXNzYWdlX21hcFtpbmRleF07DQotCWlmICghKG1hcHBpbmcudmFsaWRfbWFwcGlu
ZykpDQorCWlmICghKG1hcHBpbmcudmFsaWRfbWFwcGluZykpIHsNCisJCXByX3dhcm4oIlVuc3Vw
cG9ydGVkIFNNVSBtZXNzYWdlOiAlZFxuIiwgaW5kZXgpOw0KIAkJcmV0dXJuIC1FSU5WQUw7DQor
CX0NCiANCiAJcmV0dXJuIG1hcHBpbmcubWFwX3RvOw0KIH0NCkBAIC0yMzAsOCArMjMyLDEwIEBA
IHN0YXRpYyBpbnQgbmF2aTEwX2dldF9zbXVfY2xrX2luZGV4KHN0cnVjdCBzbXVfY29udGV4dCAq
c21jLCB1aW50MzJfdCBpbmRleCkNCiAJCXJldHVybiAtRUlOVkFMOw0KIA0KIAltYXBwaW5nID0g
bmF2aTEwX2Nsa19tYXBbaW5kZXhdOw0KLQlpZiAoIShtYXBwaW5nLnZhbGlkX21hcHBpbmcpKQ0K
KwlpZiAoIShtYXBwaW5nLnZhbGlkX21hcHBpbmcpKSB7DQorCQlwcl93YXJuKCJVbnN1cHBvcnRl
ZCBTTVUgY2xvY2s6ICVkXG4iLCBpbmRleCk7DQogCQlyZXR1cm4gLUVJTlZBTDsNCisJfQ0KIA0K
IAlyZXR1cm4gbWFwcGluZy5tYXBfdG87DQogfQ0KQEAgLTI0NCw4ICsyNDgsMTAgQEAgc3RhdGlj
IGludCBuYXZpMTBfZ2V0X3NtdV9mZWF0dXJlX2luZGV4KHN0cnVjdCBzbXVfY29udGV4dCAqc21j
LCB1aW50MzJfdCBpbmRleCkNCiAJCXJldHVybiAtRUlOVkFMOw0KIA0KIAltYXBwaW5nID0gbmF2
aTEwX2ZlYXR1cmVfbWFza19tYXBbaW5kZXhdOw0KLQlpZiAoIShtYXBwaW5nLnZhbGlkX21hcHBp
bmcpKQ0KKwlpZiAoIShtYXBwaW5nLnZhbGlkX21hcHBpbmcpKSB7DQorCQlwcl93YXJuKCJVbnN1
cHBvcnRlZCBTTVUgZmVhdHVyZTogJWRcbiIsIGluZGV4KTsNCiAJCXJldHVybiAtRUlOVkFMOw0K
Kwl9DQogDQogCXJldHVybiBtYXBwaW5nLm1hcF90bzsNCiB9DQpAQCAtMjU4LDggKzI2NCwxMCBA
QCBzdGF0aWMgaW50IG5hdmkxMF9nZXRfc211X3RhYmxlX2luZGV4KHN0cnVjdCBzbXVfY29udGV4
dCAqc21jLCB1aW50MzJfdCBpbmRleCkNCiAJCXJldHVybiAtRUlOVkFMOw0KIA0KIAltYXBwaW5n
ID0gbmF2aTEwX3RhYmxlX21hcFtpbmRleF07DQotCWlmICghKG1hcHBpbmcudmFsaWRfbWFwcGlu
ZykpDQorCWlmICghKG1hcHBpbmcudmFsaWRfbWFwcGluZykpIHsNCisJCXByX3dhcm4oIlVuc3Vw
cG9ydGVkIFNNVSB0YWJsZTogJWRcbiIsIGluZGV4KTsNCiAJCXJldHVybiAtRUlOVkFMOw0KKwl9
DQogDQogCXJldHVybiBtYXBwaW5nLm1hcF90bzsNCiB9DQpAQCAtMjcyLDggKzI4MCwxMCBAQCBz
dGF0aWMgaW50IG5hdmkxMF9nZXRfcHdyX3NyY19pbmRleChzdHJ1Y3Qgc211X2NvbnRleHQgKnNt
YywgdWludDMyX3QgaW5kZXgpDQogCQlyZXR1cm4gLUVJTlZBTDsNCiANCiAJbWFwcGluZyA9IG5h
dmkxMF9wd3Jfc3JjX21hcFtpbmRleF07DQotCWlmICghKG1hcHBpbmcudmFsaWRfbWFwcGluZykp
DQorCWlmICghKG1hcHBpbmcudmFsaWRfbWFwcGluZykpIHsNCisJCXByX3dhcm4oIlVuc3VwcG9y
dGVkIHBvd2VyIHNvdXJjZTogJWRcbiIsIGluZGV4KTsNCiAJCXJldHVybiAtRUlOVkFMOw0KKwl9
DQogDQogCXJldHVybiBtYXBwaW5nLm1hcF90bzsNCiB9DQpAQCAtMjg3LDggKzI5NywxMCBAQCBz
dGF0aWMgaW50IG5hdmkxMF9nZXRfd29ya2xvYWRfdHlwZShzdHJ1Y3Qgc211X2NvbnRleHQgKnNt
dSwgZW51bSBQUF9TTUNfUE9XRVJfUA0KIAkJcmV0dXJuIC1FSU5WQUw7DQogDQogCW1hcHBpbmcg
PSBuYXZpMTBfd29ya2xvYWRfbWFwW3Byb2ZpbGVdOw0KLQlpZiAoIShtYXBwaW5nLnZhbGlkX21h
cHBpbmcpKQ0KKwlpZiAoIShtYXBwaW5nLnZhbGlkX21hcHBpbmcpKSB7DQorCQlwcl93YXJuKCJV
bnN1cHBvcnRlZCB3b3JrbG9hZDogJWRcbiIsIChpbnQpcHJvZmlsZSk7DQogCQlyZXR1cm4gLUVJ
TlZBTDsNCisJfQ0KIA0KIAlyZXR1cm4gbWFwcGluZy5tYXBfdG87DQogfQ0KQEAgLTk3MSw3ICs5
ODMsNyBAQCBzdGF0aWMgaW50IG5hdmkxMF9nZXRfcG93ZXJfcHJvZmlsZV9tb2RlKHN0cnVjdCBz
bXVfY29udGV4dCAqc211LCBjaGFyICpidWYpICB7DQogCURwbUFjdGl2aXR5TW9uaXRvckNvZWZm
SW50X3QgYWN0aXZpdHlfbW9uaXRvcjsNCiAJdWludDMyX3QgaSwgc2l6ZSA9IDA7DQotCXVpbnQx
Nl90IHdvcmtsb2FkX3R5cGUgPSAwOw0KKwlpbnQxNl90IHdvcmtsb2FkX3R5cGUgPSAwOw0KIAlz
dGF0aWMgY29uc3QgY2hhciAqcHJvZmlsZV9uYW1lW10gPSB7DQogCQkJCQkiQk9PVFVQX0RFRkFV
TFQiLA0KIAkJCQkJIjNEX0ZVTExfU0NSRUVOIiwNCkBAIC0xMDA0LDYgKzEwMTYsOSBAQCBzdGF0
aWMgaW50IG5hdmkxMF9nZXRfcG93ZXJfcHJvZmlsZV9tb2RlKHN0cnVjdCBzbXVfY29udGV4dCAq
c211LCBjaGFyICpidWYpDQogCWZvciAoaSA9IDA7IGkgPD0gUFBfU01DX1BPV0VSX1BST0ZJTEVf
Q1VTVE9NOyBpKyspIHsNCiAJCS8qIGNvbnYgUFBfU01DX1BPV0VSX1BST0ZJTEUqIHRvIFdPUktM
T0FEX1BQTElCXypfQklUICovDQogCQl3b3JrbG9hZF90eXBlID0gc211X3dvcmtsb2FkX2dldF90
eXBlKHNtdSwgaSk7DQorCQlpZiAod29ya2xvYWRfdHlwZSA8IDApDQorCQkJcmV0dXJuIC1FSU5W
QUw7DQorDQogCQlyZXN1bHQgPSBzbXVfdXBkYXRlX3RhYmxlKHNtdSwNCiAJCQkJCSAgU01VX1RB
QkxFX0FDVElWSVRZX01PTklUT1JfQ09FRkYgfCB3b3JrbG9hZF90eXBlIDw8IDE2LA0KIAkJCQkJ
ICAodm9pZCAqKSgmYWN0aXZpdHlfbW9uaXRvciksIGZhbHNlKTsgQEAgLTExMzIsNiArMTE0Nyw4
IEBAIHN0YXRpYyBpbnQgbmF2aTEwX3NldF9wb3dlcl9wcm9maWxlX21vZGUoc3RydWN0IHNtdV9j
b250ZXh0ICpzbXUsIGxvbmcgKmlucHV0LCB1DQogDQogCS8qIGNvbnYgUFBfU01DX1BPV0VSX1BS
T0ZJTEUqIHRvIFdPUktMT0FEX1BQTElCXypfQklUICovDQogCXdvcmtsb2FkX3R5cGUgPSBzbXVf
d29ya2xvYWRfZ2V0X3R5cGUoc211LCBzbXUtPnBvd2VyX3Byb2ZpbGVfbW9kZSk7DQorCWlmICh3
b3JrbG9hZF90eXBlIDwgMCkNCisJCXJldHVybiAtRUlOVkFMOw0KIAlzbXVfc2VuZF9zbWNfbXNn
X3dpdGhfcGFyYW0oc211LCBTTVVfTVNHX1NldFdvcmtsb2FkTWFzaywNCiAJCQkJICAgIDEgPDwg
d29ya2xvYWRfdHlwZSk7DQogDQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dl
cnBsYXkvc211X3YxMV8wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9zbXVfdjEx
XzAuYw0KaW5kZXggYzYwODk5ZGU4OGJiLi4xMmI3Zjc2M2RkZGQgMTAwNjQ0DQotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9zbXVfdjExXzAuYw0KKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9wb3dlcnBsYXkvc211X3YxMV8wLmMNCkBAIC05MjIsMTEgKzkyMiwxNyBAQCBzbXVf
djExXzBfZ2V0X21heF9zdXN0YWluYWJsZV9jbG9jayhzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwg
dWludDMyX3QgKmNsb2NrLA0KIAkJCQkgICAgZW51bSBzbXVfY2xrX3R5cGUgY2xvY2tfc2VsZWN0
KSAgew0KIAlpbnQgcmV0ID0gMDsNCisJaW50IGNsa19pZDsNCiANCiAJaWYgKCFzbXUtPnBtX2Vu
YWJsZWQpDQogCQlyZXR1cm4gcmV0Ow0KKw0KKwljbGtfaWQgPSBzbXVfY2xrX2dldF9pbmRleChz
bXUsIGNsb2NrX3NlbGVjdCk7DQorCWlmIChjbGtfaWQgPCAwKQ0KKwkJcmV0dXJuIC1FSU5WQUw7
DQorDQogCXJldCA9IHNtdV9zZW5kX3NtY19tc2dfd2l0aF9wYXJhbShzbXUsIFNNVV9NU0dfR2V0
RGNNb2RlTWF4RHBtRnJlcSwNCi0JCQkJCSAgc211X2Nsa19nZXRfaW5kZXgoc211LCBjbG9ja19z
ZWxlY3QpIDw8IDE2KTsNCisJCQkJCSAgY2xrX2lkIDw8IDE2KTsNCiAJaWYgKHJldCkgew0KIAkJ
cHJfZXJyKCJbR2V0TWF4U3VzdGFpbmFibGVDbG9ja10gRmFpbGVkIHRvIGdldCBtYXggREMgY2xv
Y2sgZnJvbSBTTUMhIik7DQogCQlyZXR1cm4gcmV0Ow0KQEAgLTk0MSw3ICs5NDcsNyBAQCBzbXVf
djExXzBfZ2V0X21heF9zdXN0YWluYWJsZV9jbG9jayhzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwg
dWludDMyX3QgKmNsb2NrLA0KIA0KIAkvKiBpZiBEQyBsaW1pdCBpcyB6ZXJvLCByZXR1cm4gQUMg
bGltaXQgKi8NCiAJcmV0ID0gc211X3NlbmRfc21jX21zZ193aXRoX3BhcmFtKHNtdSwgU01VX01T
R19HZXRNYXhEcG1GcmVxLA0KLQkJCQkJICBzbXVfY2xrX2dldF9pbmRleChzbXUsIGNsb2NrX3Nl
bGVjdCkgPDwgMTYpOw0KKwkJCQkJICBjbGtfaWQgPDwgMTYpOw0KIAlpZiAocmV0KSB7DQogCQlw
cl9lcnIoIltHZXRNYXhTdXN0YWluYWJsZUNsb2NrXSBmYWlsZWQgdG8gZ2V0IG1heCBBQyBjbG9j
ayBmcm9tIFNNQyEiKTsNCiAJCXJldHVybiByZXQ7DQpAQCAtMTAzNyw2ICsxMDQzLDExIEBAIHN0
YXRpYyBpbnQgc211X3YxMV8wX2dldF9wb3dlcl9saW1pdChzdHJ1Y3Qgc211X2NvbnRleHQgKnNt
dSwNCiAJCQkJICAgICBib29sIGdldF9kZWZhdWx0KQ0KIHsNCiAJaW50IHJldCA9IDA7DQorCWlu
dCBwb3dlcl9zcmM7DQorDQorCXBvd2VyX3NyYyA9IHNtdV9wb3dlcl9nZXRfaW5kZXgoc211LCBT
TVVfUE9XRVJfU09VUkNFX0FDKTsNCisJaWYgKHBvd2VyX3NyYyA8IDApDQorCQlyZXR1cm4gLUVJ
TlZBTDsNCiANCiAJaWYgKGdldF9kZWZhdWx0KSB7DQogCQltdXRleF9sb2NrKCZzbXUtPm11dGV4
KTsNCkBAIC0xMDQ4LDcgKzEwNTksNyBAQCBzdGF0aWMgaW50IHNtdV92MTFfMF9nZXRfcG93ZXJf
bGltaXQoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsDQogCQltdXRleF91bmxvY2soJnNtdS0+bXV0
ZXgpOw0KIAl9IGVsc2Ugew0KIAkJcmV0ID0gc211X3NlbmRfc21jX21zZ193aXRoX3BhcmFtKHNt
dSwgU01VX01TR19HZXRQcHRMaW1pdCwNCi0JCQlzbXVfcG93ZXJfZ2V0X2luZGV4KHNtdSwgU01V
X1BPV0VSX1NPVVJDRV9BQykgPDwgMTYpOw0KKwkJCXBvd2VyX3NyYyA8PCAxNik7DQogCQlpZiAo
cmV0KSB7DQogCQkJcHJfZXJyKCJbJXNdIGdldCBQUFQgbGltaXQgZmFpbGVkISIsIF9fZnVuY19f
KTsNCiAJCQlyZXR1cm4gcmV0Ow0KQEAgLTEwOTEsMTYgKzExMDIsMjEgQEAgc3RhdGljIGludCBz
bXVfdjExXzBfZ2V0X2N1cnJlbnRfY2xrX2ZyZXEoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsICB7
DQogCWludCByZXQgPSAwOw0KIAl1aW50MzJfdCBmcmVxID0gMDsNCisJaW50IGFzaWNfY2xrX2lk
Ow0KIA0KIAlpZiAoY2xrX2lkID49IFNNVV9DTEtfQ09VTlQgfHwgIXZhbHVlKQ0KIAkJcmV0dXJu
IC1FSU5WQUw7DQogDQorCWFzaWNfY2xrX2lkID0gc211X2Nsa19nZXRfaW5kZXgoc211LCBjbGtf
aWQpOw0KKwlpZiAoYXNpY19jbGtfaWQgPCAwKQ0KKwkJcmV0dXJuIC1FSU5WQUw7DQorDQogCS8q
IGlmIGRvbid0IGhhcyBHZXREcG1DbG9ja0ZyZXEgTWVzc2FnZSwgdHJ5IGdldCBjdXJyZW50IGNs
b2NrIGJ5IFNtdU1ldHJpY3NfdCAqLw0KLQlpZiAoc211X21zZ19nZXRfaW5kZXgoc211LCBTTVVf
TVNHX0dldERwbUNsb2NrRnJlcSkgPT0gMCkNCisJaWYgKHNtdV9tc2dfZ2V0X2luZGV4KHNtdSwg
U01VX01TR19HZXREcG1DbG9ja0ZyZXEpIDwgMCkNCiAJCXJldCA9ICBzbXVfZ2V0X2N1cnJlbnRf
Y2xrX2ZyZXFfYnlfdGFibGUoc211LCBjbGtfaWQsICZmcmVxKTsNCiAJZWxzZSB7DQogCQlyZXQg
PSBzbXVfc2VuZF9zbWNfbXNnX3dpdGhfcGFyYW0oc211LCBTTVVfTVNHX0dldERwbUNsb2NrRnJl
cSwNCi0JCQkJCQkgIChzbXVfY2xrX2dldF9pbmRleChzbXUsIGNsa19pZCkgPDwgMTYpKTsNCisJ
CQkJCQkgIChhc2ljX2Nsa19pZCA8PCAxNikpOw0KIAkJaWYgKHJldCkNCiAJCQlyZXR1cm4gcmV0
Ow0KIA0KQEAgLTEyODAsNiArMTI5Niw3IEBAIHNtdV92MTFfMF9kaXNwbGF5X2Nsb2NrX3ZvbHRh
Z2VfcmVxdWVzdChzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwNCiAJaW50IHJldCA9IDA7DQogCWVu
dW0gc211X2Nsa190eXBlIGNsa19zZWxlY3QgPSAwOw0KIAl1aW50MzJfdCBjbGtfZnJlcSA9IGNs
b2NrX3JlcS0+Y2xvY2tfZnJlcV9pbl9raHogLyAxMDAwOw0KKwlpbnQgY2xrX2lkOw0KIA0KIAlp
ZiAoIXNtdS0+cG1fZW5hYmxlZCkNCiAJCXJldHVybiAtRUlOVkFMOw0KQEAgLTEzMTEsOSArMTMy
OCwxMyBAQCBzbXVfdjExXzBfZGlzcGxheV9jbG9ja192b2x0YWdlX3JlcXVlc3Qoc3RydWN0IHNt
dV9jb250ZXh0ICpzbXUsDQogCQlpZiAocmV0KQ0KIAkJCWdvdG8gZmFpbGVkOw0KIA0KKwkJY2xr
X2lkID0gc211X2Nsa19nZXRfaW5kZXgoc211LCBjbGtfc2VsZWN0KTsNCisJCWlmIChjbGtfaWQg
PCAwKQ0KKwkJCWdvdG8gZmFpbGVkOw0KKw0KIAkJbXV0ZXhfbG9jaygmc211LT5tdXRleCk7DQog
CQlyZXQgPSBzbXVfc2VuZF9zbWNfbXNnX3dpdGhfcGFyYW0oc211LCBTTVVfTVNHX1NldEhhcmRN
aW5CeUZyZXEsDQotCQkJKHNtdV9jbGtfZ2V0X2luZGV4KHNtdSwgY2xrX3NlbGVjdCkgPDwgMTYp
IHwgY2xrX2ZyZXEpOw0KKwkJCShjbGtfaWQgPDwgMTYpIHwgY2xrX2ZyZXEpOw0KIAkJbXV0ZXhf
dW5sb2NrKCZzbXUtPm11dGV4KTsNCiAJfQ0KIA0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvcG93ZXJwbGF5L3ZlZ2EyMF9wcHQuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJw
bGF5L3ZlZ2EyMF9wcHQuYw0KaW5kZXggNDY4NTc5MWE2NWRhLi5kYmMxNzkyMGI4NzkgMTAwNjQ0
DQotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS92ZWdhMjBfcHB0LmMNCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3ZlZ2EyMF9wcHQuYw0KQEAgLTIzMSw4ICsy
MzEsMTAgQEAgc3RhdGljIGludCB2ZWdhMjBfZ2V0X3NtdV90YWJsZV9pbmRleChzdHJ1Y3Qgc211
X2NvbnRleHQgKnNtYywgdWludDMyX3QgaW5kZXgpDQogCQlyZXR1cm4gLUVJTlZBTDsNCiANCiAJ
bWFwcGluZyA9IHZlZ2EyMF90YWJsZV9tYXBbaW5kZXhdOw0KLQlpZiAoIShtYXBwaW5nLnZhbGlk
X21hcHBpbmcpKQ0KKwlpZiAoIShtYXBwaW5nLnZhbGlkX21hcHBpbmcpKSB7DQorCQlwcl93YXJu
KCJVbnN1cHBvcnRlZCBTTVUgdGFibGU6ICVkXG4iLCBpbmRleCk7DQogCQlyZXR1cm4gLUVJTlZB
TDsNCisJfQ0KIA0KIAlyZXR1cm4gbWFwcGluZy5tYXBfdG87DQogfQ0KQEAgLTI0NSw4ICsyNDcs
MTAgQEAgc3RhdGljIGludCB2ZWdhMjBfZ2V0X3B3cl9zcmNfaW5kZXgoc3RydWN0IHNtdV9jb250
ZXh0ICpzbWMsIHVpbnQzMl90IGluZGV4KQ0KIAkJcmV0dXJuIC1FSU5WQUw7DQogDQogCW1hcHBp
bmcgPSB2ZWdhMjBfcHdyX3NyY19tYXBbaW5kZXhdOw0KLQlpZiAoIShtYXBwaW5nLnZhbGlkX21h
cHBpbmcpKQ0KKwlpZiAoIShtYXBwaW5nLnZhbGlkX21hcHBpbmcpKSB7DQorCQlwcl93YXJuKCJV
bnN1cHBvcnRlZCBwb3dlciBzb3VyY2U6ICVkXG4iLCBpbmRleCk7DQogCQlyZXR1cm4gLUVJTlZB
TDsNCisJfQ0KIA0KIAlyZXR1cm4gbWFwcGluZy5tYXBfdG87DQogfQ0KQEAgLTI1OSw4ICsyNjMs
MTAgQEAgc3RhdGljIGludCB2ZWdhMjBfZ2V0X3NtdV9mZWF0dXJlX2luZGV4KHN0cnVjdCBzbXVf
Y29udGV4dCAqc21jLCB1aW50MzJfdCBpbmRleCkNCiAJCXJldHVybiAtRUlOVkFMOw0KIA0KIAlt
YXBwaW5nID0gdmVnYTIwX2ZlYXR1cmVfbWFza19tYXBbaW5kZXhdOw0KLQlpZiAoIShtYXBwaW5n
LnZhbGlkX21hcHBpbmcpKQ0KKwlpZiAoIShtYXBwaW5nLnZhbGlkX21hcHBpbmcpKSB7DQorCQlw
cl93YXJuKCJVbnN1cHBvcnRlZCBTTVUgZmVhdHVyZTogJWRcbiIsIGluZGV4KTsNCiAJCXJldHVy
biAtRUlOVkFMOw0KKwl9DQogDQogCXJldHVybiBtYXBwaW5nLm1hcF90bzsNCiB9DQpAQCAtMjcz
LDggKzI3OSwxMCBAQCBzdGF0aWMgaW50IHZlZ2EyMF9nZXRfc211X2Nsa19pbmRleChzdHJ1Y3Qg
c211X2NvbnRleHQgKnNtYywgdWludDMyX3QgaW5kZXgpDQogCQlyZXR1cm4gLUVJTlZBTDsNCiAN
CiAJbWFwcGluZyA9IHZlZ2EyMF9jbGtfbWFwW2luZGV4XTsNCi0JaWYgKCEobWFwcGluZy52YWxp
ZF9tYXBwaW5nKSkNCisJaWYgKCEobWFwcGluZy52YWxpZF9tYXBwaW5nKSkgew0KKwkJcHJfd2Fy
bigiVW5zdXBwb3J0ZWQgU01VIGNsb2NrOiAlZFxuIiwgaW5kZXgpOw0KIAkJcmV0dXJuIC1FSU5W
QUw7DQorCX0NCiANCiAJcmV0dXJuIG1hcHBpbmcubWFwX3RvOw0KIH0NCkBAIC0yODcsOCArMjk1
LDEwIEBAIHN0YXRpYyBpbnQgdmVnYTIwX2dldF9zbXVfbXNnX2luZGV4KHN0cnVjdCBzbXVfY29u
dGV4dCAqc21jLCB1aW50MzJfdCBpbmRleCkNCiAJCXJldHVybiAtRUlOVkFMOw0KIA0KIAltYXBw
aW5nID0gdmVnYTIwX21lc3NhZ2VfbWFwW2luZGV4XTsNCi0JaWYgKCEobWFwcGluZy52YWxpZF9t
YXBwaW5nKSkNCisJaWYgKCEobWFwcGluZy52YWxpZF9tYXBwaW5nKSkgew0KKwkJcHJfd2Fybigi
VW5zdXBwb3J0ZWQgU01VIG1lc3NhZ2U6ICVkXG4iLCBpbmRleCk7DQogCQlyZXR1cm4gLUVJTlZB
TDsNCisJfQ0KIA0KIAlyZXR1cm4gbWFwcGluZy5tYXBfdG87DQogfQ0KQEAgLTMwMSw4ICszMTEs
MTAgQEAgc3RhdGljIGludCB2ZWdhMjBfZ2V0X3dvcmtsb2FkX3R5cGUoc3RydWN0IHNtdV9jb250
ZXh0ICpzbXUsIGVudW0gUFBfU01DX1BPV0VSX1ANCiAJCXJldHVybiAtRUlOVkFMOw0KIA0KIAlt
YXBwaW5nID0gdmVnYTIwX3dvcmtsb2FkX21hcFtwcm9maWxlXTsNCi0JaWYgKCEobWFwcGluZy52
YWxpZF9tYXBwaW5nKSkNCisJaWYgKCEobWFwcGluZy52YWxpZF9tYXBwaW5nKSkgew0KKwkJcHJf
d2FybigiVW5zdXBwb3J0ZWQgU01VIHdvcmtsb2FkOiAlZFxuIiwgKGludClwcm9maWxlKTsNCiAJ
CXJldHVybiAtRUlOVkFMOw0KKwl9DQogDQogCXJldHVybiBtYXBwaW5nLm1hcF90bzsNCiB9DQpA
QCAtMTc3OCw3ICsxNzkwLDcgQEAgc3RhdGljIGludCB2ZWdhMjBfZ2V0X3Bvd2VyX3Byb2ZpbGVf
bW9kZShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgY2hhciAqYnVmKSAgew0KIAlEcG1BY3Rpdml0
eU1vbml0b3JDb2VmZkludF90IGFjdGl2aXR5X21vbml0b3I7DQogCXVpbnQzMl90IGksIHNpemUg
PSAwOw0KLQl1aW50MTZfdCB3b3JrbG9hZF90eXBlID0gMDsNCisJaW50MTZfdCB3b3JrbG9hZF90
eXBlID0gMDsNCiAJc3RhdGljIGNvbnN0IGNoYXIgKnByb2ZpbGVfbmFtZVtdID0gew0KIAkJCQkJ
IkJPT1RVUF9ERUZBVUxUIiwNCiAJCQkJCSIzRF9GVUxMX1NDUkVFTiIsDQpAQCAtMTgxMSw2ICsx
ODIzLDkgQEAgc3RhdGljIGludCB2ZWdhMjBfZ2V0X3Bvd2VyX3Byb2ZpbGVfbW9kZShzdHJ1Y3Qg
c211X2NvbnRleHQgKnNtdSwgY2hhciAqYnVmKQ0KIAlmb3IgKGkgPSAwOyBpIDw9IFBQX1NNQ19Q
T1dFUl9QUk9GSUxFX0NVU1RPTTsgaSsrKSB7DQogCQkvKiBjb252IFBQX1NNQ19QT1dFUl9QUk9G
SUxFKiB0byBXT1JLTE9BRF9QUExJQl8qX0JJVCAqLw0KIAkJd29ya2xvYWRfdHlwZSA9IHNtdV93
b3JrbG9hZF9nZXRfdHlwZShzbXUsIGkpOw0KKwkJaWYgKHdvcmtsb2FkX3R5cGUgPCAwKQ0KKwkJ
CXJldHVybiAtRUlOVkFMOw0KKw0KIAkJcmVzdWx0ID0gc211X3VwZGF0ZV90YWJsZShzbXUsDQog
CQkJCQkgIFNNVV9UQUJMRV9BQ1RJVklUWV9NT05JVE9SX0NPRUZGIHwgd29ya2xvYWRfdHlwZSA8
PCAxNiwNCiAJCQkJCSAgKHZvaWQgKikoJmFjdGl2aXR5X21vbml0b3IpLCBmYWxzZSk7IEBAIC0x
OTYzLDYgKzE5NzgsOCBAQCBzdGF0aWMgaW50IHZlZ2EyMF9zZXRfcG93ZXJfcHJvZmlsZV9tb2Rl
KHN0cnVjdCBzbXVfY29udGV4dCAqc211LCBsb25nICppbnB1dCwgdQ0KIA0KIAkvKiBjb252IFBQ
X1NNQ19QT1dFUl9QUk9GSUxFKiB0byBXT1JLTE9BRF9QUExJQl8qX0JJVCAqLw0KIAl3b3JrbG9h
ZF90eXBlID0gc211X3dvcmtsb2FkX2dldF90eXBlKHNtdSwgc211LT5wb3dlcl9wcm9maWxlX21v
ZGUpOw0KKwlpZiAod29ya2xvYWRfdHlwZSA8IDApDQorCQlyZXR1cm4gLUVJTlZBTDsNCiAJc211
X3NlbmRfc21jX21zZ193aXRoX3BhcmFtKHNtdSwgU01VX01TR19TZXRXb3JrbG9hZE1hc2ssDQog
CQkJCSAgICAxIDw8IHdvcmtsb2FkX3R5cGUpOw0KIA0KLS0NCjIuMjEuMA0KDQpfX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXw0KYW1kLWdmeCBtYWlsaW5nIGxp
c3QNCmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnDQpodHRwczovL2xpc3RzLmZyZWVkZXNr
dG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZngNCl9fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vYW1kLWdmeA==
