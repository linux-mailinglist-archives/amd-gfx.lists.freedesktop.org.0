Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 0520D48EE5
	for <lists+amd-gfx@lfdr.de>; Mon, 17 Jun 2019 21:28:27 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 800E889A8B;
	Mon, 17 Jun 2019 19:28:23 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-qt1-x844.google.com (mail-qt1-x844.google.com
 [IPv6:2607:f8b0:4864:20::844])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 09FA389A32
 for <amd-gfx@lists.freedesktop.org>; Mon, 17 Jun 2019 19:28:22 +0000 (UTC)
Received: by mail-qt1-x844.google.com with SMTP id d23so12243029qto.2
 for <amd-gfx@lists.freedesktop.org>; Mon, 17 Jun 2019 12:28:22 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=/xODskZnY1KvVR/l+NauJoVf3eCsxhKmIu+nrZ86nqU=;
 b=V7ZMIC9GwbidPh00d0U0QIfy773Dc/Oj/rfPcAXxfpH+2fc70Q/PaDpg2nSxq97Kp6
 dQOhCf+/L4lAK8pbw3fnhXfYVpPG4uy2ses767/qGECvcAfF4vq/7Qd93vbwZi0r12SE
 NO+Hc3Hik5zqByPeWs5lJIMhh5W6Ey+nhGUZkyzijbMhk/8pjClLk/agS2i+7JaqWgY/
 3b4InL2/luGzlnDaNBpeiw1Lsxw7eV35H7ONuWr8t7uLDi8WQz4GPC7yudficQwKUejj
 WCwRSGnSTZkQO3hqk6nTADYVJWedSA+CV8vFW1XaEjmln1fJ220CVCue04UtmxS+h9Me
 fNww==
X-Gm-Message-State: APjAAAUJYL5znabLOJiWMdr4PMRnFQTqGcGEwxMByA4kjlcquzJHOy0G
 gGJi2kMhs0pMjFZip4tgQ5Td6lPrn7s=
X-Google-Smtp-Source: APXvYqwiyq/6dkb2mTjGuNIJ+2CFCmu/yTzCJecl1rquUAed4dbIznz+9E8WURBYB0H3IKJo+6Svyw==
X-Received: by 2002:ac8:42d4:: with SMTP id g20mr96061602qtm.78.1560799700692; 
 Mon, 17 Jun 2019 12:28:20 -0700 (PDT)
Received: from localhost.localdomain ([71.219.5.136])
 by smtp.gmail.com with ESMTPSA id p37sm7715622qtc.35.2019.06.17.12.28.19
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Mon, 17 Jun 2019 12:28:20 -0700 (PDT)
From: Alex Deucher <alexdeucher@gmail.com>
X-Google-Original-From: Alex Deucher <alexander.deucher@amd.com>
To: amd-gfx@lists.freedesktop.org
Subject: [PATCH 173/459] drm/amd/powerplay: introduce smu feature type to
 handle feature mask for each asic
Date: Mon, 17 Jun 2019 14:26:38 -0500
Message-Id: <20190617192704.18038-74-alexander.deucher@amd.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190617192704.18038-1-alexander.deucher@amd.com>
References: <20190617192704.18038-1-alexander.deucher@amd.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=/xODskZnY1KvVR/l+NauJoVf3eCsxhKmIu+nrZ86nqU=;
 b=ETpjP+A91TE/rhnTTmGNNtf/kftyz4kyeCymGX7goWQ3w0xreW2HQkGtq75YEy7rwx
 mg/Udco+kK92W3xOrLbrNFV8g9Ffqn3xNco4PgOHKWwjPcQ1Ldx/eOuc1NqWisjpWm+K
 en8sO7xmtFqTIIitz/nixzw56Zjhngctx0KPwRJ+EflI2SaPbv3mc5Ztd3XPm3wWDuLb
 /5wK+fugpZUWY94MSkRq39pliegzJo7ibi2LaFbKTjQge30lAaWe3sshqyIhDWRkVy9i
 8OG3YAWmuyNtoLz7C4hR2dBy6AY/My4Ex/CODCVbB/3uk/2PQr5h5rAYbiO5cpODm06X
 l5wA==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Alex Deucher <alexander.deucher@amd.com>, Huang Rui <ray.huang@amd.com>,
 Kevin Wang <kevin1.wang@amd.com>, Hawking Zhang <Hawking.Zhang@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogSHVhbmcgUnVpIDxyYXkuaHVhbmdAYW1kLmNvbT4KClRoaXMgcGF0Y2ggaW50cm9kdWNl
cyBuZXcgc211IGZlYXR1cmUgdHlwZSwgaXQncyB0byBoYW5kbGUgdGhlIGRpZmZlcmVudCBmZWF0
dXJlCm1hc2sgZGVmaW5lcyBmb3IgZWFjaCBhc2ljIHdpdGggdGhlIHNhbWUgc211IGlwLgoKU2ln
bmVkLW9mZi1ieTogSHVhbmcgUnVpIDxyYXkuaHVhbmdAYW1kLmNvbT4KUmV2aWV3ZWQtYnk6IEtl
dmluIFdhbmcgPGtldmluMS53YW5nQGFtZC5jb20+ClJldmlld2VkLWJ5OiBBbGV4IERldWNoZXIg
PGFsZXhhbmRlci5kZXVjaGVyQGFtZC5jb20+ClJldmlld2VkLWJ5OiBIYXdraW5nIFpoYW5nIDxI
YXdraW5nLlpoYW5nQGFtZC5jb20+ClNpZ25lZC1vZmYtYnk6IEFsZXggRGV1Y2hlciA8YWxleGFu
ZGVyLmRldWNoZXJAYW1kLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9h
bWRncHVfc211LmMgICAgfCAgMjIgKysrLQogLi4uL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMv
YW1kZ3B1X3NtdS5oICAgIHwgIDcyICsrKysrKysrKystCiAuLi4vYW1kL3Bvd2VycGxheS9pbmMv
c211XzExXzBfZHJpdmVyX2lmLmggICAgfCAgIDQgKy0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvcG93
ZXJwbGF5L2luYy9zbXVfdjExXzAuaCB8ICAgMyArCiBkcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2Vy
cGxheS9uYXZpMTBfcHB0LmMgICAgfCAgNjMgKysrKysrKystCiBkcml2ZXJzL2dwdS9kcm0vYW1k
L3Bvd2VycGxheS9zbXVfdjExXzAuYyAgICAgfCAgMjYgKystLQogZHJpdmVycy9ncHUvZHJtL2Ft
ZC9wb3dlcnBsYXkvdmVnYTIwX3BwdC5jICAgIHwgMTIyICsrKysrKysrKysrKy0tLS0tLQogNyBm
aWxlcyBjaGFuZ2VkLCAyNTEgaW5zZXJ0aW9ucygrKSwgNjEgZGVsZXRpb25zKC0pCgpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvYW1kZ3B1X3NtdS5jIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvYW1kZ3B1X3NtdS5jCmluZGV4IDg3ODIyZjQzNDM1MC4u
OTllMTAzMTNhZmEyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9h
bWRncHVfc211LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvYW1kZ3B1X3Nt
dS5jCkBAIC0yNTQsMTEgKzI1NCwxNCBAQCBpbnQgc211X2ZlYXR1cmVfaW5pdF9kcG0oc3RydWN0
IHNtdV9jb250ZXh0ICpzbXUpCiAJcmV0dXJuIHJldDsKIH0KIAotaW50IHNtdV9mZWF0dXJlX2lz
X2VuYWJsZWQoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGludCBmZWF0dXJlX2lkKQoraW50IHNt
dV9mZWF0dXJlX2lzX2VuYWJsZWQoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGVudW0gc211X2Zl
YXR1cmVfbWFzayBtYXNrKQogewogCXN0cnVjdCBzbXVfZmVhdHVyZSAqZmVhdHVyZSA9ICZzbXUt
PnNtdV9mZWF0dXJlOworCXVpbnQzMl90IGZlYXR1cmVfaWQ7CiAJaW50IHJldCA9IDA7CiAKKwlm
ZWF0dXJlX2lkID0gc211X2ZlYXR1cmVfZ2V0X2luZGV4KHNtdSwgbWFzayk7CisKIAlXQVJOX09O
KGZlYXR1cmVfaWQgPiBmZWF0dXJlLT5mZWF0dXJlX251bSk7CiAKIAltdXRleF9sb2NrKCZmZWF0
dXJlLT5tdXRleCk7CkBAIC0yNjgsMTEgKzI3MSwxNSBAQCBpbnQgc211X2ZlYXR1cmVfaXNfZW5h
YmxlZChzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgaW50IGZlYXR1cmVfaWQpCiAJcmV0dXJuIHJl
dDsKIH0KIAotaW50IHNtdV9mZWF0dXJlX3NldF9lbmFibGVkKHN0cnVjdCBzbXVfY29udGV4dCAq
c211LCBpbnQgZmVhdHVyZV9pZCwgYm9vbCBlbmFibGUpCitpbnQgc211X2ZlYXR1cmVfc2V0X2Vu
YWJsZWQoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGVudW0gc211X2ZlYXR1cmVfbWFzayBtYXNr
LAorCQkJICAgIGJvb2wgZW5hYmxlKQogewogCXN0cnVjdCBzbXVfZmVhdHVyZSAqZmVhdHVyZSA9
ICZzbXUtPnNtdV9mZWF0dXJlOworCXVpbnQzMl90IGZlYXR1cmVfaWQ7CiAJaW50IHJldCA9IDA7
CiAKKwlmZWF0dXJlX2lkID0gc211X2ZlYXR1cmVfZ2V0X2luZGV4KHNtdSwgbWFzayk7CisKIAlX
QVJOX09OKGZlYXR1cmVfaWQgPiBmZWF0dXJlLT5mZWF0dXJlX251bSk7CiAKIAltdXRleF9sb2Nr
KCZmZWF0dXJlLT5tdXRleCk7CkBAIC0yOTEsMTEgKzI5OCwxNCBAQCBpbnQgc211X2ZlYXR1cmVf
c2V0X2VuYWJsZWQoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGludCBmZWF0dXJlX2lkLCBib29s
IGVuYWJsZQogCXJldHVybiByZXQ7CiB9CiAKLWludCBzbXVfZmVhdHVyZV9pc19zdXBwb3J0ZWQo
c3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGludCBmZWF0dXJlX2lkKQoraW50IHNtdV9mZWF0dXJl
X2lzX3N1cHBvcnRlZChzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgZW51bSBzbXVfZmVhdHVyZV9t
YXNrIG1hc2spCiB7CiAJc3RydWN0IHNtdV9mZWF0dXJlICpmZWF0dXJlID0gJnNtdS0+c211X2Zl
YXR1cmU7CisJdWludDMyX3QgZmVhdHVyZV9pZDsKIAlpbnQgcmV0ID0gMDsKIAorCWZlYXR1cmVf
aWQgPSBzbXVfZmVhdHVyZV9nZXRfaW5kZXgoc211LCBtYXNrKTsKKwogCVdBUk5fT04oZmVhdHVy
ZV9pZCA+IGZlYXR1cmUtPmZlYXR1cmVfbnVtKTsKIAogCW11dGV4X2xvY2soJmZlYXR1cmUtPm11
dGV4KTsKQEAgLTMwNSwxMiArMzE1LDE2IEBAIGludCBzbXVfZmVhdHVyZV9pc19zdXBwb3J0ZWQo
c3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGludCBmZWF0dXJlX2lkKQogCXJldHVybiByZXQ7CiB9
CiAKLWludCBzbXVfZmVhdHVyZV9zZXRfc3VwcG9ydGVkKHN0cnVjdCBzbXVfY29udGV4dCAqc211
LCBpbnQgZmVhdHVyZV9pZCwKK2ludCBzbXVfZmVhdHVyZV9zZXRfc3VwcG9ydGVkKHN0cnVjdCBz
bXVfY29udGV4dCAqc211LAorCQkJICAgICAgZW51bSBzbXVfZmVhdHVyZV9tYXNrIG1hc2ssCiAJ
CQkgICAgICBib29sIGVuYWJsZSkKIHsKIAlzdHJ1Y3Qgc211X2ZlYXR1cmUgKmZlYXR1cmUgPSAm
c211LT5zbXVfZmVhdHVyZTsKKwl1aW50MzJfdCBmZWF0dXJlX2lkOwogCWludCByZXQgPSAwOwog
CisJZmVhdHVyZV9pZCA9IHNtdV9mZWF0dXJlX2dldF9pbmRleChzbXUsIG1hc2spOworCiAJV0FS
Tl9PTihmZWF0dXJlX2lkID4gZmVhdHVyZS0+ZmVhdHVyZV9udW0pOwogCiAJbXV0ZXhfbG9jaygm
ZmVhdHVyZS0+bXV0ZXgpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBs
YXkvaW5jL2FtZGdwdV9zbXUuaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2luYy9h
bWRncHVfc211LmgKaW5kZXggNjU5OTBkZDcwMGYwLi5mMGIzMTNiYWYwNGQgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2luYy9hbWRncHVfc211LmgKKysrIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaW5jL2FtZGdwdV9zbXUuaApAQCAtMjQzLDYgKzI0
Myw2MyBAQCBlbnVtIHNtdV9jbGtfdHlwZQogCVNNVV9DTEtfQ09VTlQsCiB9OwogCitlbnVtIHNt
dV9mZWF0dXJlX21hc2sKK3sKKwlTTVVfRkVBVFVSRV9EUE1fUFJFRkVUQ0hFUl9CSVQsCisJU01V
X0ZFQVRVUkVfRFBNX0dGWENMS19CSVQsCisJU01VX0ZFQVRVUkVfRFBNX1VDTEtfQklULAorCVNN
VV9GRUFUVVJFX0RQTV9TT0NDTEtfQklULAorCVNNVV9GRUFUVVJFX0RQTV9VVkRfQklULAorCVNN
VV9GRUFUVVJFX0RQTV9WQ0VfQklULAorCVNNVV9GRUFUVVJFX1VMVl9CSVQsCisJU01VX0ZFQVRV
UkVfRFBNX01QMENMS19CSVQsCisJU01VX0ZFQVRVUkVfRFBNX0xJTktfQklULAorCVNNVV9GRUFU
VVJFX0RQTV9EQ0VGQ0xLX0JJVCwKKwlTTVVfRkVBVFVSRV9EU19HRlhDTEtfQklULAorCVNNVV9G
RUFUVVJFX0RTX1NPQ0NMS19CSVQsCisJU01VX0ZFQVRVUkVfRFNfTENMS19CSVQsCisJU01VX0ZF
QVRVUkVfUFBUX0JJVCwKKwlTTVVfRkVBVFVSRV9URENfQklULAorCVNNVV9GRUFUVVJFX1RIRVJN
QUxfQklULAorCVNNVV9GRUFUVVJFX0dGWF9QRVJfQ1VfQ0dfQklULAorCVNNVV9GRUFUVVJFX1JN
X0JJVCwKKwlTTVVfRkVBVFVSRV9EU19EQ0VGQ0xLX0JJVCwKKwlTTVVfRkVBVFVSRV9BQ0RDX0JJ
VCwKKwlTTVVfRkVBVFVSRV9WUjBIT1RfQklULAorCVNNVV9GRUFUVVJFX1ZSMUhPVF9CSVQsCisJ
U01VX0ZFQVRVUkVfRldfQ1RGX0JJVCwKKwlTTVVfRkVBVFVSRV9MRURfRElTUExBWV9CSVQsCisJ
U01VX0ZFQVRVUkVfRkFOX0NPTlRST0xfQklULAorCVNNVV9GRUFUVVJFX0dGWF9FRENfQklULAor
CVNNVV9GRUFUVVJFX0dGWE9GRl9CSVQsCisJU01VX0ZFQVRVUkVfQ0dfQklULAorCVNNVV9GRUFU
VVJFX0RQTV9GQ0xLX0JJVCwKKwlTTVVfRkVBVFVSRV9EU19GQ0xLX0JJVCwKKwlTTVVfRkVBVFVS
RV9EU19NUDFDTEtfQklULAorCVNNVV9GRUFUVVJFX0RTX01QMENMS19CSVQsCisJU01VX0ZFQVRV
UkVfWEdNSV9CSVQsCisJU01VX0ZFQVRVUkVfRFBNX0dGWF9QQUNFX0JJVCwKKwlTTVVfRkVBVFVS
RV9NRU1fVkREQ0lfU0NBTElOR19CSVQsCisJU01VX0ZFQVRVUkVfTUVNX01WRERfU0NBTElOR19C
SVQsCisJU01VX0ZFQVRVUkVfRFNfVUNMS19CSVQsCisJU01VX0ZFQVRVUkVfR0ZYX1VMVl9CSVQs
CisJU01VX0ZFQVRVUkVfRldfRFNUQVRFX0JJVCwKKwlTTVVfRkVBVFVSRV9CQUNPX0JJVCwKKwlT
TVVfRkVBVFVSRV9WQ05fUEdfQklULAorCVNNVV9GRUFUVVJFX0pQRUdfUEdfQklULAorCVNNVV9G
RUFUVVJFX1VTQl9QR19CSVQsCisJU01VX0ZFQVRVUkVfUlNNVV9TTU5fQ0dfQklULAorCVNNVV9G
RUFUVVJFX0FQQ0NfUExVU19CSVQsCisJU01VX0ZFQVRVUkVfR1RIUl9CSVQsCisJU01VX0ZFQVRV
UkVfR0ZYX0RDU19CSVQsCisJU01VX0ZFQVRVUkVfR0ZYX1NTX0JJVCwKKwlTTVVfRkVBVFVSRV9P
VVRfT0ZfQkFORF9NT05JVE9SX0JJVCwKKwlTTVVfRkVBVFVSRV9URU1QX0RFUEVOREVOVF9WTUlO
X0JJVCwKKwlTTVVfRkVBVFVSRV9NTUhVQl9QR19CSVQsCisJU01VX0ZFQVRVUkVfQVRIVUJfUEdf
QklULAorCVNNVV9GRUFUVVJFX0NPVU5ULAorfTsKKwogZW51bSBzbXVfbWVtb3J5X3Bvb2xfc2l6
ZQogewogICAgIFNNVV9NRU1PUllfUE9PTF9TSVpFX1pFUk8gICA9IDAsCkBAIC00MzcsNiArNDk0
LDcgQEAgc3RydWN0IHBwdGFibGVfZnVuY3MgewogCWludCAoKmFwcGVuZF9wb3dlcnBsYXlfdGFi
bGUpKHN0cnVjdCBzbXVfY29udGV4dCAqc211KTsKIAlpbnQgKCpnZXRfc211X21zZ19pbmRleCko
c3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIHVpbnQzMl90IGluZGV4KTsKIAlpbnQgKCpnZXRfc211
X2Nsa19pbmRleCkoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIHVpbnQzMl90IGluZGV4KTsKKwlp
bnQgKCpnZXRfc211X2ZlYXR1cmVfaW5kZXgpKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCB1aW50
MzJfdCBpbmRleCk7CiAJaW50ICgqcnVuX2FmbGxfYnRjKShzdHJ1Y3Qgc211X2NvbnRleHQgKnNt
dSk7CiAJaW50ICgqZ2V0X2FsbG93ZWRfZmVhdHVyZV9tYXNrKShzdHJ1Y3Qgc211X2NvbnRleHQg
KnNtdSwgdWludDMyX3QgKmZlYXR1cmVfbWFzaywgdWludDMyX3QgbnVtKTsKIAllbnVtIGFtZF9w
bV9zdGF0ZV90eXBlICgqZ2V0X2N1cnJlbnRfcG93ZXJfc3RhdGUpKHN0cnVjdCBzbXVfY29udGV4
dCAqc211KTsKQEAgLTcyMyw2ICs3ODEsOCBAQCBzdHJ1Y3Qgc211X2Z1bmNzCiAJKChzbXUpLT5w
cHRfZnVuY3M/ICgoc211KS0+cHB0X2Z1bmNzLT5nZXRfc211X21zZ19pbmRleD8gKHNtdSktPnBw
dF9mdW5jcy0+Z2V0X3NtdV9tc2dfaW5kZXgoKHNtdSksIChtc2cpKSA6IC1FSU5WQUwpIDogLUVJ
TlZBTCkKICNkZWZpbmUgc211X2Nsa19nZXRfaW5kZXgoc211LCBtc2cpIFwKIAkoKHNtdSktPnBw
dF9mdW5jcz8gKChzbXUpLT5wcHRfZnVuY3MtPmdldF9zbXVfY2xrX2luZGV4PyAoc211KS0+cHB0
X2Z1bmNzLT5nZXRfc211X2Nsa19pbmRleCgoc211KSwgKG1zZykpIDogLUVJTlZBTCkgOiAtRUlO
VkFMKQorI2RlZmluZSBzbXVfZmVhdHVyZV9nZXRfaW5kZXgoc211LCBtc2cpIFwKKwkoKHNtdSkt
PnBwdF9mdW5jcz8gKChzbXUpLT5wcHRfZnVuY3MtPmdldF9zbXVfZmVhdHVyZV9pbmRleD8gKHNt
dSktPnBwdF9mdW5jcy0+Z2V0X3NtdV9mZWF0dXJlX2luZGV4KChzbXUpLCAobXNnKSkgOiAtRUlO
VkFMKSA6IC1FSU5WQUwpCiAjZGVmaW5lIHNtdV9ydW5fYWZsbF9idGMoc211KSBcCiAJKChzbXUp
LT5wcHRfZnVuY3M/ICgoc211KS0+cHB0X2Z1bmNzLT5ydW5fYWZsbF9idGM/IChzbXUpLT5wcHRf
ZnVuY3MtPnJ1bl9hZmxsX2J0Yygoc211KSkgOiAwKSA6IDApCiAjZGVmaW5lIHNtdV9nZXRfYWxs
b3dlZF9mZWF0dXJlX21hc2soc211LCBmZWF0dXJlX21hc2ssIG51bSkgXApAQCAtNzc5LDEwICs4
MzksMTQgQEAgZXh0ZXJuIGNvbnN0IHN0cnVjdCBhbWRfaXBfZnVuY3Mgc211X2lwX2Z1bmNzOwog
ZXh0ZXJuIGNvbnN0IHN0cnVjdCBhbWRncHVfaXBfYmxvY2tfdmVyc2lvbiBzbXVfdjExXzBfaXBf
YmxvY2s7CiBleHRlcm4gaW50IHNtdV9mZWF0dXJlX2luaXRfZHBtKHN0cnVjdCBzbXVfY29udGV4
dCAqc211KTsKIAotZXh0ZXJuIGludCBzbXVfZmVhdHVyZV9pc19lbmFibGVkKHN0cnVjdCBzbXVf
Y29udGV4dCAqc211LCBpbnQgZmVhdHVyZV9pZCk7Ci1leHRlcm4gaW50IHNtdV9mZWF0dXJlX3Nl
dF9lbmFibGVkKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCBpbnQgZmVhdHVyZV9pZCwgYm9vbCBl
bmFibGUpOwotZXh0ZXJuIGludCBzbXVfZmVhdHVyZV9pc19zdXBwb3J0ZWQoc3RydWN0IHNtdV9j
b250ZXh0ICpzbXUsIGludCBmZWF0dXJlX2lkKTsKLWV4dGVybiBpbnQgc211X2ZlYXR1cmVfc2V0
X3N1cHBvcnRlZChzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgaW50IGZlYXR1cmVfaWQsIGJvb2wg
ZW5hYmxlKTsKK2V4dGVybiBpbnQgc211X2ZlYXR1cmVfaXNfZW5hYmxlZChzdHJ1Y3Qgc211X2Nv
bnRleHQgKnNtdSwKKwkJCQkgIGVudW0gc211X2ZlYXR1cmVfbWFzayBtYXNrKTsKK2V4dGVybiBp
bnQgc211X2ZlYXR1cmVfc2V0X2VuYWJsZWQoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsCisJCQkJ
ICAgZW51bSBzbXVfZmVhdHVyZV9tYXNrIG1hc2ssIGJvb2wgZW5hYmxlKTsKK2V4dGVybiBpbnQg
c211X2ZlYXR1cmVfaXNfc3VwcG9ydGVkKHN0cnVjdCBzbXVfY29udGV4dCAqc211LAorCQkJCSAg
ICBlbnVtIHNtdV9mZWF0dXJlX21hc2sgbWFzayk7CitleHRlcm4gaW50IHNtdV9mZWF0dXJlX3Nl
dF9zdXBwb3J0ZWQoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsCisJCQkJICAgICBlbnVtIHNtdV9m
ZWF0dXJlX21hc2sgbWFzaywgYm9vbCBlbmFibGUpOwogCiBpbnQgc211X3VwZGF0ZV90YWJsZV93
aXRoX2FyZyhzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgdWludDE2X3QgdGFibGVfaWQsIHVpbnQx
Nl90IGV4YXJnLAogCQkgICAgIHZvaWQgKnRhYmxlX2RhdGEsIGJvb2wgZHJ2MnNtdSk7CmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvc211XzExXzBfZHJpdmVy
X2lmLmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvc211XzExXzBfZHJpdmVy
X2lmLmgKaW5kZXggYTUzNTQ3ZmE4OTgwLi4xYWI2ZTRlY2EwOWYgMTAwNjQ0Ci0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2luYy9zbXVfMTFfMF9kcml2ZXJfaWYuaAorKysgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvc211XzExXzBfZHJpdmVyX2lmLmgKQEAg
LTkwLDggKzkwLDggQEAKICNkZWZpbmUgRkVBVFVSRV9PVVRfT0ZfQkFORF9NT05JVE9SX0JJVCAz
OAogI2RlZmluZSBGRUFUVVJFX1RFTVBfREVQRU5ERU5UX1ZNSU5fQklUIDM5CiAKLSNkZWZpbmUg
RkVBVFVSRV9NTUhVQl9QRyAgICAgICAgICAgICAgICA0MCAKLSNkZWZpbmUgRkVBVFVSRV9BVEhV
Ql9QRyAgICAgICAgICAgICAgICA0MQorI2RlZmluZSBGRUFUVVJFX01NSFVCX1BHX0JJVCAgICAg
ICAgICAgIDQwCisjZGVmaW5lIEZFQVRVUkVfQVRIVUJfUEdfQklUICAgICAgICAgICAgNDEKICNk
ZWZpbmUgRkVBVFVSRV9TUEFSRV80Ml9CSVQgICAgICAgICAgICA0MgogI2RlZmluZSBGRUFUVVJF
X1NQQVJFXzQzX0JJVCAgICAgICAgICAgIDQzCiAjZGVmaW5lIEZFQVRVUkVfU1BBUkVfNDRfQklU
ICAgICAgICAgICAgNDQKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5
L2luYy9zbXVfdjExXzAuaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2luYy9zbXVf
djExXzAuaAppbmRleCBjYWU2NjE5ZDJkZjUuLjkyODRjMWVkZmU0MiAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaW5jL3NtdV92MTFfMC5oCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvcG93ZXJwbGF5L2luYy9zbXVfdjExXzAuaApAQCAtNDMsNiArNDMsOSBAQAog
I2RlZmluZSBDTEtfTUFQKGNsaywgaW5kZXgpIFwKIAlbU01VXyMjY2xrXSA9IGluZGV4CiAKKyNk
ZWZpbmUgRkVBX01BUChmZWEpIFwKKwlbU01VX0ZFQVRVUkVfIyNmZWEjI19CSVRdID0gRkVBVFVS
RV8jI2ZlYSMjX0JJVAorCiBzdHJ1Y3Qgc211XzExXzBfbWF4X3N1c3RhaW5hYmxlX2Nsb2NrcyB7
CiAJdWludDMyX3QgZGlzcGxheV9jbG9jazsKIAl1aW50MzJfdCBwaHlfY2xvY2s7CmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9uYXZpMTBfcHB0LmMgYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL3Bvd2VycGxheS9uYXZpMTBfcHB0LmMKaW5kZXggZjQ1ZGYyNDQwMTNmLi5k
MWMyZDRlNjc4NzkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L25h
dmkxMF9wcHQuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9uYXZpMTBfcHB0
LmMKQEAgLTExMSw2ICsxMTEsNTEgQEAgc3RhdGljIGludCBuYXZpMTBfY2xrX21hcFtTTVVfQ0xL
X0NPVU5UXSA9IHsKIAlDTEtfTUFQKFBIWUNMSywgUFBDTEtfUEhZQ0xLKSwKIH07CiAKK3N0YXRp
YyBpbnQgbmF2aTEwX2ZlYXR1cmVfbWFza19tYXBbU01VX0ZFQVRVUkVfQ09VTlRdID0geworCUZF
QV9NQVAoRFBNX1BSRUZFVENIRVIpLAorCUZFQV9NQVAoRFBNX0dGWENMSyksCisJRkVBX01BUChE
UE1fR0ZYX1BBQ0UpLAorCUZFQV9NQVAoRFBNX1VDTEspLAorCUZFQV9NQVAoRFBNX1NPQ0NMSyks
CisJRkVBX01BUChEUE1fTVAwQ0xLKSwKKwlGRUFfTUFQKERQTV9MSU5LKSwKKwlGRUFfTUFQKERQ
TV9EQ0VGQ0xLKSwKKwlGRUFfTUFQKE1FTV9WRERDSV9TQ0FMSU5HKSwKKwlGRUFfTUFQKE1FTV9N
VkREX1NDQUxJTkcpLAorCUZFQV9NQVAoRFNfR0ZYQ0xLKSwKKwlGRUFfTUFQKERTX1NPQ0NMSyks
CisJRkVBX01BUChEU19MQ0xLKSwKKwlGRUFfTUFQKERTX0RDRUZDTEspLAorCUZFQV9NQVAoRFNf
VUNMSyksCisJRkVBX01BUChHRlhfVUxWKSwKKwlGRUFfTUFQKEZXX0RTVEFURSksCisJRkVBX01B
UChHRlhPRkYpLAorCUZFQV9NQVAoQkFDTyksCisJRkVBX01BUChWQ05fUEcpLAorCUZFQV9NQVAo
SlBFR19QRyksCisJRkVBX01BUChVU0JfUEcpLAorCUZFQV9NQVAoUlNNVV9TTU5fQ0cpLAorCUZF
QV9NQVAoUFBUKSwKKwlGRUFfTUFQKFREQyksCisJRkVBX01BUChHRlhfRURDKSwKKwlGRUFfTUFQ
KEFQQ0NfUExVUyksCisJRkVBX01BUChHVEhSKSwKKwlGRUFfTUFQKEFDREMpLAorCUZFQV9NQVAo
VlIwSE9UKSwKKwlGRUFfTUFQKFZSMUhPVCksCisJRkVBX01BUChGV19DVEYpLAorCUZFQV9NQVAo
RkFOX0NPTlRST0wpLAorCUZFQV9NQVAoVEhFUk1BTCksCisJRkVBX01BUChHRlhfRENTKSwKKwlG
RUFfTUFQKFJNKSwKKwlGRUFfTUFQKExFRF9ESVNQTEFZKSwKKwlGRUFfTUFQKEdGWF9TUyksCisJ
RkVBX01BUChPVVRfT0ZfQkFORF9NT05JVE9SKSwKKwlGRUFfTUFQKFRFTVBfREVQRU5ERU5UX1ZN
SU4pLAorCUZFQV9NQVAoTU1IVUJfUEcpLAorCUZFQV9NQVAoQVRIVUJfUEcpLAorfTsKKwogc3Rh
dGljIGludCBuYXZpMTBfZ2V0X3NtdV9tc2dfaW5kZXgoc3RydWN0IHNtdV9jb250ZXh0ICpzbWMs
IHVpbnQzMl90IGluZGV4KQogewogCWludCB2YWw7CkBAIC0xMzcsNiArMTgyLDE5IEBAIHN0YXRp
YyBpbnQgbmF2aTEwX2dldF9zbXVfY2xrX2luZGV4KHN0cnVjdCBzbXVfY29udGV4dCAqc21jLCB1
aW50MzJfdCBpbmRleCkKIAlyZXR1cm4gdmFsOwogfQogCitzdGF0aWMgaW50IG5hdmkxMF9nZXRf
c211X2ZlYXR1cmVfaW5kZXgoc3RydWN0IHNtdV9jb250ZXh0ICpzbWMsIHVpbnQzMl90IGluZGV4
KQoreworCWludCB2YWw7CisJaWYgKGluZGV4ID49IFNNVV9GRUFUVVJFX0NPVU5UKQorCQlyZXR1
cm4gLUVJTlZBTDsKKworCXZhbCA9IG5hdmkxMF9mZWF0dXJlX21hc2tfbWFwW2luZGV4XTsKKwlp
ZiAodmFsID4gNjQpCisJCXJldHVybiAtRUlOVkFMOworCisJcmV0dXJuIHZhbDsKK30KKwogI2Rl
ZmluZSBGRUFUVVJFX01BU0soZmVhdHVyZSkgKDFVTCA8PCBmZWF0dXJlKQogc3RhdGljIGludAog
bmF2aTEwX2dldF9hbGxvd2VkX2ZlYXR1cmVfbWFzayhzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwK
QEAgLTE2Myw4ICsyMjEsOCBAQCBuYXZpMTBfZ2V0X2FsbG93ZWRfZmVhdHVyZV9tYXNrKHN0cnVj
dCBzbXVfY29udGV4dCAqc211LAogCQkJCXwgRkVBVFVSRV9NQVNLKEZFQVRVUkVfRkFOX0NPTlRS
T0xfQklUKQogCQkJCXwgRkVBVFVSRV9NQVNLKEZFQVRVUkVfVEhFUk1BTF9CSVQpCiAJCQkJfCBG
RUFUVVJFX01BU0soRkVBVFVSRV9MRURfRElTUExBWV9CSVQpCi0JCQkJfCBGRUFUVVJFX01BU0so
RkVBVFVSRV9NTUhVQl9QRykKLQkJCQl8IEZFQVRVUkVfTUFTSyhGRUFUVVJFX0FUSFVCX1BHKQor
CQkJCXwgRkVBVFVSRV9NQVNLKEZFQVRVUkVfTU1IVUJfUEdfQklUKQorCQkJCXwgRkVBVFVSRV9N
QVNLKEZFQVRVUkVfQVRIVUJfUEdfQklUKQogCQkJCXwgRkVBVFVSRV9NQVNLKEZFQVRVUkVfRFBN
X0RDRUZDTEtfQklUKTsKIAogCWlmIChhZGV2LT5wbS5wcF9mZWF0dXJlICYgUFBfR0ZYT0ZGX01B
U0spCkBAIC0zNTMsNiArNDExLDcgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBwcHRhYmxlX2Z1bmNz
IG5hdmkxMF9wcHRfZnVuY3MgPSB7CiAJLmFwcGVuZF9wb3dlcnBsYXlfdGFibGUgPSBuYXZpMTBf
YXBwZW5kX3Bvd2VycGxheV90YWJsZSwKIAkuZ2V0X3NtdV9tc2dfaW5kZXggPSBuYXZpMTBfZ2V0
X3NtdV9tc2dfaW5kZXgsCiAJLmdldF9zbXVfY2xrX2luZGV4ID0gbmF2aTEwX2dldF9zbXVfY2xr
X2luZGV4LAorCS5nZXRfc211X2ZlYXR1cmVfaW5kZXggPSBuYXZpMTBfZ2V0X3NtdV9mZWF0dXJl
X2luZGV4LAogCS5nZXRfYWxsb3dlZF9mZWF0dXJlX21hc2sgPSBuYXZpMTBfZ2V0X2FsbG93ZWRf
ZmVhdHVyZV9tYXNrLAogCS5zZXRfZGVmYXVsdF9kcG1fdGFibGUgPSBuYXZpMTBfc2V0X2RlZmF1
bHRfZHBtX3RhYmxlLAogfTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJw
bGF5L3NtdV92MTFfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvc211X3YxMV8w
LmMKaW5kZXggMzY3Yzk3OTU5ODVjLi44YzYwY2RjYmE0ZWYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvcG93ZXJwbGF5L3NtdV92MTFfMC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvcG93ZXJwbGF5L3NtdV92MTFfMC5jCkBAIC05MTIsNyArOTEyLDcgQEAgc3RhdGljIGludCBz
bXVfdjExXzBfbm90aWZ5X2Rpc3BsYXlfY2hhbmdlKHN0cnVjdCBzbXVfY29udGV4dCAqc211KQog
CiAJaWYgKCFzbXUtPnBtX2VuYWJsZWQpCiAJCXJldHVybiByZXQ7Ci0JaWYgKHNtdV9mZWF0dXJl
X2lzX2VuYWJsZWQoc211LCBGRUFUVVJFX0RQTV9VQ0xLX0JJVCkpCisJaWYgKHNtdV9mZWF0dXJl
X2lzX2VuYWJsZWQoc211LCBTTVVfRkVBVFVSRV9EUE1fVUNMS19CSVQpKQogCSAgICByZXQgPSBz
bXVfc2VuZF9zbWNfbXNnX3dpdGhfcGFyYW0oc211LCBTTVVfTVNHX1NldFVjbGtGYXN0U3dpdGNo
LCAxKTsKIAogCXJldHVybiByZXQ7CkBAIC05NjksNyArOTY5LDcgQEAgc3RhdGljIGludCBzbXVf
djExXzBfaW5pdF9tYXhfc3VzdGFpbmFibGVfY2xvY2tzKHN0cnVjdCBzbXVfY29udGV4dCAqc211
KQogCW1heF9zdXN0YWluYWJsZV9jbG9ja3MtPnBoeV9jbG9jayA9IDB4RkZGRkZGRkY7CiAJbWF4
X3N1c3RhaW5hYmxlX2Nsb2Nrcy0+cGl4ZWxfY2xvY2sgPSAweEZGRkZGRkZGOwogCi0JaWYgKHNt
dV9mZWF0dXJlX2lzX2VuYWJsZWQoc211LCBGRUFUVVJFX0RQTV9VQ0xLX0JJVCkpIHsKKwlpZiAo
c211X2ZlYXR1cmVfaXNfZW5hYmxlZChzbXUsIFNNVV9GRUFUVVJFX0RQTV9VQ0xLX0JJVCkpIHsK
IAkJcmV0ID0gc211X3YxMV8wX2dldF9tYXhfc3VzdGFpbmFibGVfY2xvY2soc211LAogCQkJCQkJ
CSAgJihtYXhfc3VzdGFpbmFibGVfY2xvY2tzLT51Y2xvY2spLAogCQkJCQkJCSAgU01VX1VDTEsp
OwpAQCAtOTgwLDcgKzk4MCw3IEBAIHN0YXRpYyBpbnQgc211X3YxMV8wX2luaXRfbWF4X3N1c3Rh
aW5hYmxlX2Nsb2NrcyhzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSkKIAkJfQogCX0KIAotCWlmIChz
bXVfZmVhdHVyZV9pc19lbmFibGVkKHNtdSwgRkVBVFVSRV9EUE1fU09DQ0xLX0JJVCkpIHsKKwlp
ZiAoc211X2ZlYXR1cmVfaXNfZW5hYmxlZChzbXUsIFNNVV9GRUFUVVJFX0RQTV9TT0NDTEtfQklU
KSkgewogCQlyZXQgPSBzbXVfdjExXzBfZ2V0X21heF9zdXN0YWluYWJsZV9jbG9jayhzbXUsCiAJ
CQkJCQkJICAmKG1heF9zdXN0YWluYWJsZV9jbG9ja3MtPnNvY19jbG9jayksCiAJCQkJCQkJICBT
TVVfU09DQ0xLKTsKQEAgLTk5MSw3ICs5OTEsNyBAQCBzdGF0aWMgaW50IHNtdV92MTFfMF9pbml0
X21heF9zdXN0YWluYWJsZV9jbG9ja3Moc3RydWN0IHNtdV9jb250ZXh0ICpzbXUpCiAJCX0KIAl9
CiAKLQlpZiAoc211X2ZlYXR1cmVfaXNfZW5hYmxlZChzbXUsIEZFQVRVUkVfRFBNX0RDRUZDTEtf
QklUKSkgeworCWlmIChzbXVfZmVhdHVyZV9pc19lbmFibGVkKHNtdSwgU01VX0ZFQVRVUkVfRFBN
X0RDRUZDTEtfQklUKSkgewogCQlyZXQgPSBzbXVfdjExXzBfZ2V0X21heF9zdXN0YWluYWJsZV9j
bG9jayhzbXUsCiAJCQkJCQkJICAmKG1heF9zdXN0YWluYWJsZV9jbG9ja3MtPmRjZWZfY2xvY2sp
LAogCQkJCQkJCSAgU01VX0RDRUZDTEspOwpAQCAtMTA3Niw3ICsxMDc2LDcgQEAgc3RhdGljIGlu
dCBzbXVfdjExXzBfc2V0X3Bvd2VyX2xpbWl0KHN0cnVjdCBzbXVfY29udGV4dCAqc211LCB1aW50
MzJfdCBuKQogCQltYXhfcG93ZXJfbGltaXQgLz0gMTAwOwogCX0KIAotCWlmIChzbXVfZmVhdHVy
ZV9pc19lbmFibGVkKHNtdSwgRkVBVFVSRV9QUFRfQklUKSkKKwlpZiAoc211X2ZlYXR1cmVfaXNf
ZW5hYmxlZChzbXUsIFNNVV9GRUFUVVJFX1BQVF9CSVQpKQogCQlyZXQgPSBzbXVfc2VuZF9zbWNf
bXNnX3dpdGhfcGFyYW0oc211LCBTTVVfTVNHX1NldFBwdExpbWl0LCBuKTsKIAlpZiAocmV0KSB7
CiAJCXByX2VycigiWyVzXSBTZXQgcG93ZXIgbGltaXQgRmFpbGVkISIsIF9fZnVuY19fKTsKQEAg
LTE0MzksNyArMTQzOSw3IEBAIHNtdV92MTFfMF9kaXNwbGF5X2Nsb2NrX3ZvbHRhZ2VfcmVxdWVz
dChzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwKIAogCWlmICghc211LT5wbV9lbmFibGVkKQogCQly
ZXR1cm4gLUVJTlZBTDsKLQlpZiAoc211X2ZlYXR1cmVfaXNfZW5hYmxlZChzbXUsIEZFQVRVUkVf
RFBNX0RDRUZDTEtfQklUKSkgeworCWlmIChzbXVfZmVhdHVyZV9pc19lbmFibGVkKHNtdSwgU01V
X0ZFQVRVUkVfRFBNX0RDRUZDTEtfQklUKSkgewogCQlzd2l0Y2ggKGNsa190eXBlKSB7CiAJCWNh
c2UgYW1kX3BwX2RjZWZfY2xvY2s6CiAJCQljbGtfc2VsZWN0ID0gU01VX0RDRUZDTEs7CkBAIC0x
NTM5LDggKzE1MzksOCBAQCBzbXVfdjExXzBfc2V0X3dhdGVybWFya3NfZm9yX2Nsb2NrX3Jhbmdl
cyhzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgc3RydWN0CiAJV2F0ZXJtYXJrc190ICp0YWJsZSA9
IHdhdGVybWFya3MtPmNwdV9hZGRyOwogCiAJaWYgKCFzbXUtPmRpc2FibGVfd2F0ZXJtYXJrICYm
Ci0JICAgIHNtdV9mZWF0dXJlX2lzX2VuYWJsZWQoc211LCBGRUFUVVJFX0RQTV9EQ0VGQ0xLX0JJ
VCkgJiYKLQkgICAgc211X2ZlYXR1cmVfaXNfZW5hYmxlZChzbXUsIEZFQVRVUkVfRFBNX1NPQ0NM
S19CSVQpKSB7CisJICAgIHNtdV9mZWF0dXJlX2lzX2VuYWJsZWQoc211LCBTTVVfRkVBVFVSRV9E
UE1fRENFRkNMS19CSVQpICYmCisJICAgIHNtdV9mZWF0dXJlX2lzX2VuYWJsZWQoc211LCBTTVVf
RkVBVFVSRV9EUE1fU09DQ0xLX0JJVCkpIHsKIAkJc211X3YxMV8wX3NldF93YXRlcm1hcmtzX3Rh
YmxlKHNtdSwgdGFibGUsIGNsb2NrX3Jhbmdlcyk7CiAJCXNtdS0+d2F0ZXJtYXJrc19iaXRtYXAg
fD0gV0FURVJNQVJLU19FWElTVDsKIAkJc211LT53YXRlcm1hcmtzX2JpdG1hcCAmPSB+V0FURVJN
QVJLU19MT0FERUQ7CkBAIC0xNjA4LDcgKzE2MDgsNyBAQCBzdGF0aWMgdWludDMyX3Qgc211X3Yx
MV8wX2RwbV9nZXRfc2NsayhzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgYm9vbCBsb3cpCiAJdWlu
dDMyX3QgZ2Z4X2NsazsKIAlpbnQgcmV0OwogCi0JaWYgKCFzbXVfZmVhdHVyZV9pc19lbmFibGVk
KHNtdSwgRkVBVFVSRV9EUE1fR0ZYQ0xLX0JJVCkpIHsKKwlpZiAoIXNtdV9mZWF0dXJlX2lzX2Vu
YWJsZWQoc211LCBTTVVfRkVBVFVSRV9EUE1fR0ZYQ0xLX0JJVCkpIHsKIAkJcHJfZXJyKCJbR2V0
U2Nsa3NdOiBnZnhjbGsgZHBtIG5vdCBlbmFibGVkIVxuIik7CiAJCXJldHVybiAtRVBFUk07CiAJ
fQpAQCAtMTYzNSw3ICsxNjM1LDcgQEAgc3RhdGljIHVpbnQzMl90IHNtdV92MTFfMF9kcG1fZ2V0
X21jbGsoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGJvb2wgbG93KQogCXVpbnQzMl90IG1lbV9j
bGs7CiAJaW50IHJldDsKIAotCWlmICghc211X2ZlYXR1cmVfaXNfZW5hYmxlZChzbXUsIEZFQVRV
UkVfRFBNX1VDTEtfQklUKSkgeworCWlmICghc211X2ZlYXR1cmVfaXNfZW5hYmxlZChzbXUsIFNN
VV9GRUFUVVJFX0RQTV9VQ0xLX0JJVCkpIHsKIAkJcHJfZXJyKCJbR2V0TWNsa3NdOiBtZW1jbGsg
ZHBtIG5vdCBlbmFibGVkIVxuIik7CiAJCXJldHVybiAtRVBFUk07CiAJfQpAQCAtMTc0Myw3ICsx
NzQzLDcgQEAgc3RhdGljIGludCBzbXVfdjExXzBfZ2V0X2N1cnJlbnRfcnBtKHN0cnVjdCBzbXVf
Y29udGV4dCAqc211LAogc3RhdGljIHVpbnQzMl90CiBzbXVfdjExXzBfZ2V0X2Zhbl9jb250cm9s
X21vZGUoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUpCiB7Ci0JaWYgKCFzbXVfZmVhdHVyZV9pc19l
bmFibGVkKHNtdSwgRkVBVFVSRV9GQU5fQ09OVFJPTF9CSVQpKQorCWlmICghc211X2ZlYXR1cmVf
aXNfZW5hYmxlZChzbXUsIFNNVV9GRUFUVVJFX0ZBTl9DT05UUk9MX0JJVCkpCiAJCXJldHVybiBB
TURfRkFOX0NUUkxfTUFOVUFMOwogCWVsc2UKIAkJcmV0dXJuIEFNRF9GQU5fQ1RSTF9BVVRPOwpA
QCAtMTc3MCwxMCArMTc3MCwxMCBAQCBzbXVfdjExXzBfc21jX2Zhbl9jb250cm9sKHN0cnVjdCBz
bXVfY29udGV4dCAqc211LCBib29sIHN0YXJ0KQogewogCWludCByZXQgPSAwOwogCi0JaWYgKHNt
dV9mZWF0dXJlX2lzX3N1cHBvcnRlZChzbXUsIEZFQVRVUkVfRkFOX0NPTlRST0xfQklUKSkKKwlp
ZiAoc211X2ZlYXR1cmVfaXNfc3VwcG9ydGVkKHNtdSwgU01VX0ZFQVRVUkVfRkFOX0NPTlRST0xf
QklUKSkKIAkJcmV0dXJuIDA7CiAKLQlyZXQgPSBzbXVfZmVhdHVyZV9zZXRfZW5hYmxlZChzbXUs
IEZFQVRVUkVfRkFOX0NPTlRST0xfQklULCBzdGFydCk7CisJcmV0ID0gc211X2ZlYXR1cmVfc2V0
X2VuYWJsZWQoc211LCBTTVVfRkVBVFVSRV9GQU5fQ09OVFJPTF9CSVQsIHN0YXJ0KTsKIAlpZiAo
cmV0KQogCQlwcl9lcnIoIlslc10lcyBzbWMgRkFOIENPTlRST0wgZmVhdHVyZSBmYWlsZWQhIiwK
IAkJICAgICAgIF9fZnVuY19fLCAoc3RhcnQgPyAiU3RhcnQiIDogIlN0b3AiKSk7CmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS92ZWdhMjBfcHB0LmMgYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL3Bvd2VycGxheS92ZWdhMjBfcHB0LmMKaW5kZXggYjNmYzljMDM0YWEwLi43
MThmZDRkZWM1MzEgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3Zl
Z2EyMF9wcHQuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS92ZWdhMjBfcHB0
LmMKQEAgLTE1Myw2ICsxNTMsNTUgQEAgc3RhdGljIGludCB2ZWdhMjBfY2xrX21hcFtTTVVfQ0xL
X0NPVU5UXSA9IHsKIAlDTEtfTUFQKEZDTEssIFBQQ0xLX0ZDTEspLAogfTsKIAorc3RhdGljIGlu
dCB2ZWdhMjBfZmVhdHVyZV9tYXNrX21hcFtTTVVfRkVBVFVSRV9DT1VOVF0gPSB7CisJRkVBX01B
UChEUE1fUFJFRkVUQ0hFUiksCisJRkVBX01BUChEUE1fR0ZYQ0xLKSwKKwlGRUFfTUFQKERQTV9V
Q0xLKSwKKwlGRUFfTUFQKERQTV9TT0NDTEspLAorCUZFQV9NQVAoRFBNX1VWRCksCisJRkVBX01B
UChEUE1fVkNFKSwKKwlGRUFfTUFQKFVMViksCisJRkVBX01BUChEUE1fTVAwQ0xLKSwKKwlGRUFf
TUFQKERQTV9MSU5LKSwKKwlGRUFfTUFQKERQTV9EQ0VGQ0xLKSwKKwlGRUFfTUFQKERTX0dGWENM
SyksCisJRkVBX01BUChEU19TT0NDTEspLAorCUZFQV9NQVAoRFNfTENMSyksCisJRkVBX01BUChQ
UFQpLAorCUZFQV9NQVAoVERDKSwKKwlGRUFfTUFQKFRIRVJNQUwpLAorCUZFQV9NQVAoR0ZYX1BF
Ul9DVV9DRyksCisJRkVBX01BUChSTSksCisJRkVBX01BUChEU19EQ0VGQ0xLKSwKKwlGRUFfTUFQ
KEFDREMpLAorCUZFQV9NQVAoVlIwSE9UKSwKKwlGRUFfTUFQKFZSMUhPVCksCisJRkVBX01BUChG
V19DVEYpLAorCUZFQV9NQVAoTEVEX0RJU1BMQVkpLAorCUZFQV9NQVAoRkFOX0NPTlRST0wpLAor
CUZFQV9NQVAoR0ZYX0VEQyksCisJRkVBX01BUChHRlhPRkYpLAorCUZFQV9NQVAoQ0cpLAorCUZF
QV9NQVAoRFBNX0ZDTEspLAorCUZFQV9NQVAoRFNfRkNMSyksCisJRkVBX01BUChEU19NUDFDTEsp
LAorCUZFQV9NQVAoRFNfTVAwQ0xLKSwKKwlGRUFfTUFQKFhHTUkpLAorfTsKKworc3RhdGljIGlu
dCB2ZWdhMjBfZ2V0X3NtdV9mZWF0dXJlX2luZGV4KHN0cnVjdCBzbXVfY29udGV4dCAqc21jLCB1
aW50MzJfdCBpbmRleCkKK3sKKwlpbnQgdmFsOworCWlmIChpbmRleCA+PSBTTVVfRkVBVFVSRV9D
T1VOVCkKKwkJcmV0dXJuIC1FSU5WQUw7CisKKwl2YWwgPSB2ZWdhMjBfZmVhdHVyZV9tYXNrX21h
cFtpbmRleF07CisJaWYgKHZhbCA+IDY0KQorCQlyZXR1cm4gLUVJTlZBTDsKKworCXJldHVybiB2
YWw7Cit9CisKIHN0YXRpYyBpbnQgdmVnYTIwX2dldF9zbXVfY2xrX2luZGV4KHN0cnVjdCBzbXVf
Y29udGV4dCAqc21jLCB1aW50MzJfdCBpbmRleCkKIHsKIAlpbnQgdmFsOwpAQCAtNTY1LDcgKzYx
NCw3IEBAIHN0YXRpYyBpbnQgdmVnYTIwX3NldF9kZWZhdWx0X2RwbV90YWJsZShzdHJ1Y3Qgc211
X2NvbnRleHQgKnNtdSkKIAkvKiBzb2NjbGsgKi8KIAlzaW5nbGVfZHBtX3RhYmxlID0gJihkcG1f
dGFibGUtPnNvY190YWJsZSk7CiAKLQlpZiAoc211X2ZlYXR1cmVfaXNfZW5hYmxlZChzbXUsIEZF
QVRVUkVfRFBNX1NPQ0NMS19CSVQpKSB7CisJaWYgKHNtdV9mZWF0dXJlX2lzX2VuYWJsZWQoc211
LCBTTVVfRkVBVFVSRV9EUE1fU09DQ0xLX0JJVCkpIHsKIAkJcmV0ID0gdmVnYTIwX3NldF9zaW5n
bGVfZHBtX3RhYmxlKHNtdSwgc2luZ2xlX2RwbV90YWJsZSwKIAkJCQkJCSAgUFBDTEtfU09DQ0xL
KTsKIAkJaWYgKHJldCkgewpAQCAtNTgxLDcgKzYzMCw3IEBAIHN0YXRpYyBpbnQgdmVnYTIwX3Nl
dF9kZWZhdWx0X2RwbV90YWJsZShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSkKIAkvKiBnZnhjbGsg
Ki8KIAlzaW5nbGVfZHBtX3RhYmxlID0gJihkcG1fdGFibGUtPmdmeF90YWJsZSk7CiAKLQlpZiAo
c211X2ZlYXR1cmVfaXNfZW5hYmxlZChzbXUsIEZFQVRVUkVfRFBNX0dGWENMS19CSVQpKSB7CisJ
aWYgKHNtdV9mZWF0dXJlX2lzX2VuYWJsZWQoc211LCBTTVVfRkVBVFVSRV9EUE1fR0ZYQ0xLX0JJ
VCkpIHsKIAkJcmV0ID0gdmVnYTIwX3NldF9zaW5nbGVfZHBtX3RhYmxlKHNtdSwgc2luZ2xlX2Rw
bV90YWJsZSwKIAkJCQkJCSAgUFBDTEtfR0ZYQ0xLKTsKIAkJaWYgKHJldCkgewpAQCAtNTk3LDcg
KzY0Niw3IEBAIHN0YXRpYyBpbnQgdmVnYTIwX3NldF9kZWZhdWx0X2RwbV90YWJsZShzdHJ1Y3Qg
c211X2NvbnRleHQgKnNtdSkKIAkvKiBtZW1jbGsgKi8KIAlzaW5nbGVfZHBtX3RhYmxlID0gJihk
cG1fdGFibGUtPm1lbV90YWJsZSk7CiAKLQlpZiAoc211X2ZlYXR1cmVfaXNfZW5hYmxlZChzbXUs
IEZFQVRVUkVfRFBNX1VDTEtfQklUKSkgeworCWlmIChzbXVfZmVhdHVyZV9pc19lbmFibGVkKHNt
dSwgU01VX0ZFQVRVUkVfRFBNX1VDTEtfQklUKSkgewogCQlyZXQgPSB2ZWdhMjBfc2V0X3Npbmds
ZV9kcG1fdGFibGUoc211LCBzaW5nbGVfZHBtX3RhYmxlLAogCQkJCQkJICBQUENMS19VQ0xLKTsK
IAkJaWYgKHJldCkgewpAQCAtNjEzLDcgKzY2Miw3IEBAIHN0YXRpYyBpbnQgdmVnYTIwX3NldF9k
ZWZhdWx0X2RwbV90YWJsZShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSkKIAkvKiBlY2xrICovCiAJ
c2luZ2xlX2RwbV90YWJsZSA9ICYoZHBtX3RhYmxlLT5lY2xrX3RhYmxlKTsKIAotCWlmIChzbXVf
ZmVhdHVyZV9pc19lbmFibGVkKHNtdSwgRkVBVFVSRV9EUE1fVkNFX0JJVCkpIHsKKwlpZiAoc211
X2ZlYXR1cmVfaXNfZW5hYmxlZChzbXUsIFNNVV9GRUFUVVJFX0RQTV9WQ0VfQklUKSkgewogCQly
ZXQgPSB2ZWdhMjBfc2V0X3NpbmdsZV9kcG1fdGFibGUoc211LCBzaW5nbGVfZHBtX3RhYmxlLCBQ
UENMS19FQ0xLKTsKIAkJaWYgKHJldCkgewogCQkJcHJfZXJyKCJbU2V0dXBEZWZhdWx0RHBtVGFi
bGVdIGZhaWxlZCB0byBnZXQgZWNsayBkcG0gbGV2ZWxzISIpOwpAQCAtNjI4LDcgKzY3Nyw3IEBA
IHN0YXRpYyBpbnQgdmVnYTIwX3NldF9kZWZhdWx0X2RwbV90YWJsZShzdHJ1Y3Qgc211X2NvbnRl
eHQgKnNtdSkKIAkvKiB2Y2xrICovCiAJc2luZ2xlX2RwbV90YWJsZSA9ICYoZHBtX3RhYmxlLT52
Y2xrX3RhYmxlKTsKIAotCWlmIChzbXVfZmVhdHVyZV9pc19lbmFibGVkKHNtdSwgRkVBVFVSRV9E
UE1fVVZEX0JJVCkpIHsKKwlpZiAoc211X2ZlYXR1cmVfaXNfZW5hYmxlZChzbXUsIFNNVV9GRUFU
VVJFX0RQTV9VVkRfQklUKSkgewogCQlyZXQgPSB2ZWdhMjBfc2V0X3NpbmdsZV9kcG1fdGFibGUo
c211LCBzaW5nbGVfZHBtX3RhYmxlLCBQUENMS19WQ0xLKTsKIAkJaWYgKHJldCkgewogCQkJcHJf
ZXJyKCJbU2V0dXBEZWZhdWx0RHBtVGFibGVdIGZhaWxlZCB0byBnZXQgdmNsayBkcG0gbGV2ZWxz
ISIpOwpAQCAtNjQzLDcgKzY5Miw3IEBAIHN0YXRpYyBpbnQgdmVnYTIwX3NldF9kZWZhdWx0X2Rw
bV90YWJsZShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSkKIAkvKiBkY2xrICovCiAJc2luZ2xlX2Rw
bV90YWJsZSA9ICYoZHBtX3RhYmxlLT5kY2xrX3RhYmxlKTsKIAotCWlmIChzbXVfZmVhdHVyZV9p
c19lbmFibGVkKHNtdSwgRkVBVFVSRV9EUE1fVVZEX0JJVCkpIHsKKwlpZiAoc211X2ZlYXR1cmVf
aXNfZW5hYmxlZChzbXUsIFNNVV9GRUFUVVJFX0RQTV9VVkRfQklUKSkgewogCQlyZXQgPSB2ZWdh
MjBfc2V0X3NpbmdsZV9kcG1fdGFibGUoc211LCBzaW5nbGVfZHBtX3RhYmxlLCBQUENMS19EQ0xL
KTsKIAkJaWYgKHJldCkgewogCQkJcHJfZXJyKCJbU2V0dXBEZWZhdWx0RHBtVGFibGVdIGZhaWxl
ZCB0byBnZXQgZGNsayBkcG0gbGV2ZWxzISIpOwpAQCAtNjU4LDcgKzcwNyw3IEBAIHN0YXRpYyBp
bnQgdmVnYTIwX3NldF9kZWZhdWx0X2RwbV90YWJsZShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSkK
IAkvKiBkY2VmY2xrICovCiAJc2luZ2xlX2RwbV90YWJsZSA9ICYoZHBtX3RhYmxlLT5kY2VmX3Rh
YmxlKTsKIAotCWlmIChzbXVfZmVhdHVyZV9pc19lbmFibGVkKHNtdSwgRkVBVFVSRV9EUE1fRENF
RkNMS19CSVQpKSB7CisJaWYgKHNtdV9mZWF0dXJlX2lzX2VuYWJsZWQoc211LCBTTVVfRkVBVFVS
RV9EUE1fRENFRkNMS19CSVQpKSB7CiAJCXJldCA9IHZlZ2EyMF9zZXRfc2luZ2xlX2RwbV90YWJs
ZShzbXUsIHNpbmdsZV9kcG1fdGFibGUsCiAJCQkJCQkgIFBQQ0xLX0RDRUZDTEspOwogCQlpZiAo
cmV0KSB7CkBAIC02NzQsNyArNzIzLDcgQEAgc3RhdGljIGludCB2ZWdhMjBfc2V0X2RlZmF1bHRf
ZHBtX3RhYmxlKHN0cnVjdCBzbXVfY29udGV4dCAqc211KQogCS8qIHBpeGNsayAqLwogCXNpbmds
ZV9kcG1fdGFibGUgPSAmKGRwbV90YWJsZS0+cGl4ZWxfdGFibGUpOwogCi0JaWYgKHNtdV9mZWF0
dXJlX2lzX2VuYWJsZWQoc211LCBGRUFUVVJFX0RQTV9EQ0VGQ0xLX0JJVCkpIHsKKwlpZiAoc211
X2ZlYXR1cmVfaXNfZW5hYmxlZChzbXUsIFNNVV9GRUFUVVJFX0RQTV9EQ0VGQ0xLX0JJVCkpIHsK
IAkJcmV0ID0gdmVnYTIwX3NldF9zaW5nbGVfZHBtX3RhYmxlKHNtdSwgc2luZ2xlX2RwbV90YWJs
ZSwKIAkJCQkJCSAgUFBDTEtfUElYQ0xLKTsKIAkJaWYgKHJldCkgewpAQCAtNjg5LDcgKzczOCw3
IEBAIHN0YXRpYyBpbnQgdmVnYTIwX3NldF9kZWZhdWx0X2RwbV90YWJsZShzdHJ1Y3Qgc211X2Nv
bnRleHQgKnNtdSkKIAkvKiBkaXNwY2xrICovCiAJc2luZ2xlX2RwbV90YWJsZSA9ICYoZHBtX3Rh
YmxlLT5kaXNwbGF5X3RhYmxlKTsKIAotCWlmIChzbXVfZmVhdHVyZV9pc19lbmFibGVkKHNtdSwg
RkVBVFVSRV9EUE1fRENFRkNMS19CSVQpKSB7CisJaWYgKHNtdV9mZWF0dXJlX2lzX2VuYWJsZWQo
c211LCBTTVVfRkVBVFVSRV9EUE1fRENFRkNMS19CSVQpKSB7CiAJCXJldCA9IHZlZ2EyMF9zZXRf
c2luZ2xlX2RwbV90YWJsZShzbXUsIHNpbmdsZV9kcG1fdGFibGUsCiAJCQkJCQkgIFBQQ0xLX0RJ
U1BDTEspOwogCQlpZiAocmV0KSB7CkBAIC03MDQsNyArNzUzLDcgQEAgc3RhdGljIGludCB2ZWdh
MjBfc2V0X2RlZmF1bHRfZHBtX3RhYmxlKHN0cnVjdCBzbXVfY29udGV4dCAqc211KQogCS8qIHBo
eWNsayAqLwogCXNpbmdsZV9kcG1fdGFibGUgPSAmKGRwbV90YWJsZS0+cGh5X3RhYmxlKTsKIAot
CWlmIChzbXVfZmVhdHVyZV9pc19lbmFibGVkKHNtdSwgRkVBVFVSRV9EUE1fRENFRkNMS19CSVQp
KSB7CisJaWYgKHNtdV9mZWF0dXJlX2lzX2VuYWJsZWQoc211LCBTTVVfRkVBVFVSRV9EUE1fRENF
RkNMS19CSVQpKSB7CiAJCXJldCA9IHZlZ2EyMF9zZXRfc2luZ2xlX2RwbV90YWJsZShzbXUsIHNp
bmdsZV9kcG1fdGFibGUsCiAJCQkJCQkgIFBQQ0xLX1BIWUNMSyk7CiAJCWlmIChyZXQpIHsKQEAg
LTEwMzQsNyArMTA4Myw3IEBAIHN0YXRpYyBpbnQgdmVnYTIwX3VwbG9hZF9kcG1fbGV2ZWwoc3Ry
dWN0IHNtdV9jb250ZXh0ICpzbXUsIGJvb2wgbWF4LAogCiAJZHBtX3RhYmxlID0gc211LT5zbXVf
ZHBtLmRwbV9jb250ZXh0OwogCi0JaWYgKHNtdV9mZWF0dXJlX2lzX2VuYWJsZWQoc211LCBGRUFU
VVJFX0RQTV9HRlhDTEtfQklUKSAmJgorCWlmIChzbXVfZmVhdHVyZV9pc19lbmFibGVkKHNtdSwg
U01VX0ZFQVRVUkVfRFBNX0dGWENMS19CSVQpICYmCiAJICAgIChmZWF0dXJlX21hc2sgJiBGRUFU
VVJFX0RQTV9HRlhDTEtfTUFTSykpIHsKIAkJc2luZ2xlX2RwbV90YWJsZSA9ICYoZHBtX3RhYmxl
LT5nZnhfdGFibGUpOwogCQlmcmVxID0gbWF4ID8gc2luZ2xlX2RwbV90YWJsZS0+ZHBtX3N0YXRl
LnNvZnRfbWF4X2xldmVsIDoKQEAgLTEwNDksNyArMTA5OCw3IEBAIHN0YXRpYyBpbnQgdmVnYTIw
X3VwbG9hZF9kcG1fbGV2ZWwoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGJvb2wgbWF4LAogCQl9
CiAJfQogCi0JaWYgKHNtdV9mZWF0dXJlX2lzX2VuYWJsZWQoc211LCBGRUFUVVJFX0RQTV9VQ0xL
X0JJVCkgJiYKKwlpZiAoc211X2ZlYXR1cmVfaXNfZW5hYmxlZChzbXUsIFNNVV9GRUFUVVJFX0RQ
TV9VQ0xLX0JJVCkgJiYKIAkgICAgKGZlYXR1cmVfbWFzayAmIEZFQVRVUkVfRFBNX1VDTEtfTUFT
SykpIHsKIAkJc2luZ2xlX2RwbV90YWJsZSA9ICYoZHBtX3RhYmxlLT5tZW1fdGFibGUpOwogCQlm
cmVxID0gbWF4ID8gc2luZ2xlX2RwbV90YWJsZS0+ZHBtX3N0YXRlLnNvZnRfbWF4X2xldmVsIDoK
QEAgLTEwNjQsNyArMTExMyw3IEBAIHN0YXRpYyBpbnQgdmVnYTIwX3VwbG9hZF9kcG1fbGV2ZWwo
c3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGJvb2wgbWF4LAogCQl9CiAJfQogCi0JaWYgKHNtdV9m
ZWF0dXJlX2lzX2VuYWJsZWQoc211LCBGRUFUVVJFX0RQTV9TT0NDTEtfQklUKSAmJgorCWlmIChz
bXVfZmVhdHVyZV9pc19lbmFibGVkKHNtdSwgU01VX0ZFQVRVUkVfRFBNX1NPQ0NMS19CSVQpICYm
CiAJICAgIChmZWF0dXJlX21hc2sgJiBGRUFUVVJFX0RQTV9TT0NDTEtfTUFTSykpIHsKIAkJc2lu
Z2xlX2RwbV90YWJsZSA9ICYoZHBtX3RhYmxlLT5zb2NfdGFibGUpOwogCQlmcmVxID0gbWF4ID8g
c2luZ2xlX2RwbV90YWJsZS0+ZHBtX3N0YXRlLnNvZnRfbWF4X2xldmVsIDoKQEAgLTEwNzksNyAr
MTEyOCw3IEBAIHN0YXRpYyBpbnQgdmVnYTIwX3VwbG9hZF9kcG1fbGV2ZWwoc3RydWN0IHNtdV9j
b250ZXh0ICpzbXUsIGJvb2wgbWF4LAogCQl9CiAJfQogCi0JaWYgKHNtdV9mZWF0dXJlX2lzX2Vu
YWJsZWQoc211LCBGRUFUVVJFX0RQTV9GQ0xLX0JJVCkgJiYKKwlpZiAoc211X2ZlYXR1cmVfaXNf
ZW5hYmxlZChzbXUsIFNNVV9GRUFUVVJFX0RQTV9GQ0xLX0JJVCkgJiYKIAkgICAgKGZlYXR1cmVf
bWFzayAmIEZFQVRVUkVfRFBNX0ZDTEtfTUFTSykpIHsKIAkJc2luZ2xlX2RwbV90YWJsZSA9ICYo
ZHBtX3RhYmxlLT5mY2xrX3RhYmxlKTsKIAkJZnJlcSA9IG1heCA/IHNpbmdsZV9kcG1fdGFibGUt
PmRwbV9zdGF0ZS5zb2Z0X21heF9sZXZlbCA6CkBAIC0xMDk0LDcgKzExNDMsNyBAQCBzdGF0aWMg
aW50IHZlZ2EyMF91cGxvYWRfZHBtX2xldmVsKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCBib29s
IG1heCwKIAkJfQogCX0KIAotCWlmIChzbXVfZmVhdHVyZV9pc19lbmFibGVkKHNtdSwgRkVBVFVS
RV9EUE1fRENFRkNMS19CSVQpICYmCisJaWYgKHNtdV9mZWF0dXJlX2lzX2VuYWJsZWQoc211LCBT
TVVfRkVBVFVSRV9EUE1fRENFRkNMS19CSVQpICYmCiAJICAgIChmZWF0dXJlX21hc2sgJiBGRUFU
VVJFX0RQTV9EQ0VGQ0xLX01BU0spKSB7CiAJCXNpbmdsZV9kcG1fdGFibGUgPSAmKGRwbV90YWJs
ZS0+ZGNlZl90YWJsZSk7CiAJCWZyZXEgPSBzaW5nbGVfZHBtX3RhYmxlLT5kcG1fc3RhdGUuaGFy
ZF9taW5fbGV2ZWw7CkBAIC0xMzYwLDcgKzE0MDksNyBAQCBzdGF0aWMgaW50IHZlZ2EyMF9zZXRf
ZGVmYXVsdF9vZDhfc2V0dHRpbmdzKHN0cnVjdCBzbXVfY29udGV4dCAqc211KQogCiAJb2Q4X3Nl
dHRpbmdzID0gKHN0cnVjdCB2ZWdhMjBfb2Q4X3NldHRpbmdzICopdGFibGVfY29udGV4dC0+b2Q4
X3NldHRpbmdzOwogCi0JaWYgKHNtdV9mZWF0dXJlX2lzX2VuYWJsZWQoc211LCBGRUFUVVJFX0RQ
TV9TT0NDTEtfQklUKSkgeworCWlmIChzbXVfZmVhdHVyZV9pc19lbmFibGVkKHNtdSwgU01VX0ZF
QVRVUkVfRFBNX1NPQ0NMS19CSVQpKSB7CiAJCWlmICh0YWJsZV9jb250ZXh0LT5vZF9mZWF0dXJl
X2NhcGFiaWxpdGllc1tBVE9NX1ZFR0EyMF9PREZFQVRVUkVfR0ZYQ0xLX0xJTUlUU10gJiYKIAkJ
ICAgIHRhYmxlX2NvbnRleHQtPm9kX3NldHRpbmdzX21heFtPRDhfU0VUVElOR19HRlhDTEtfRk1B
WF0gPiAwICYmCiAJCSAgICB0YWJsZV9jb250ZXh0LT5vZF9zZXR0aW5nc19taW5bT0Q4X1NFVFRJ
TkdfR0ZYQ0xLX0ZNSU5dID4gMCAmJgpAQCAtMTQzMyw3ICsxNDgyLDcgQEAgc3RhdGljIGludCB2
ZWdhMjBfc2V0X2RlZmF1bHRfb2Q4X3NldHR0aW5ncyhzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSkK
IAkJfQogCX0KIAotCWlmIChzbXVfZmVhdHVyZV9pc19lbmFibGVkKHNtdSwgRkVBVFVSRV9EUE1f
VUNMS19CSVQpKSB7CisJaWYgKHNtdV9mZWF0dXJlX2lzX2VuYWJsZWQoc211LCBTTVVfRkVBVFVS
RV9EUE1fVUNMS19CSVQpKSB7CiAJCWlmICh0YWJsZV9jb250ZXh0LT5vZF9mZWF0dXJlX2NhcGFi
aWxpdGllc1tBVE9NX1ZFR0EyMF9PREZFQVRVUkVfVUNMS19NQVhdICYmCiAJCSAgICB0YWJsZV9j
b250ZXh0LT5vZF9zZXR0aW5nc19taW5bT0Q4X1NFVFRJTkdfVUNMS19GTUFYXSA+IDAgJiYKIAkJ
ICAgIHRhYmxlX2NvbnRleHQtPm9kX3NldHRpbmdzX21heFtPRDhfU0VUVElOR19VQ0xLX0ZNQVhd
ID4gMCAmJgpAQCAtMTQ1Nyw3ICsxNTA2LDcgQEAgc3RhdGljIGludCB2ZWdhMjBfc2V0X2RlZmF1
bHRfb2Q4X3NldHR0aW5ncyhzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSkKIAkJCW9kX3RhYmxlLT5P
dmVyRHJpdmVQY3Q7CiAJfQogCi0JaWYgKHNtdV9mZWF0dXJlX2lzX2VuYWJsZWQoc211LCBGRUFU
VVJFX0ZBTl9DT05UUk9MX0JJVCkpIHsKKwlpZiAoc211X2ZlYXR1cmVfaXNfZW5hYmxlZChzbXUs
IFNNVV9GRUFUVVJFX0ZBTl9DT05UUk9MX0JJVCkpIHsKIAkJaWYgKHRhYmxlX2NvbnRleHQtPm9k
X2ZlYXR1cmVfY2FwYWJpbGl0aWVzW0FUT01fVkVHQTIwX09ERkVBVFVSRV9GQU5fQUNPVVNUSUNf
TElNSVRdICYmCiAJCSAgICB0YWJsZV9jb250ZXh0LT5vZF9zZXR0aW5nc19taW5bT0Q4X1NFVFRJ
TkdfRkFOX0FDT1VTVElDX0xJTUlUXSA+IDAgJiYKIAkJICAgIHRhYmxlX2NvbnRleHQtPm9kX3Nl
dHRpbmdzX21heFtPRDhfU0VUVElOR19GQU5fQUNPVVNUSUNfTElNSVRdID4gMCAmJgpAQCAtMTQ4
MSw3ICsxNTMwLDcgQEAgc3RhdGljIGludCB2ZWdhMjBfc2V0X2RlZmF1bHRfb2Q4X3NldHR0aW5n
cyhzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSkKIAkJfQogCX0KIAotCWlmIChzbXVfZmVhdHVyZV9p
c19lbmFibGVkKHNtdSwgRkVBVFVSRV9USEVSTUFMX0JJVCkpIHsKKwlpZiAoc211X2ZlYXR1cmVf
aXNfZW5hYmxlZChzbXUsIFNNVV9GRUFUVVJFX1RIRVJNQUxfQklUKSkgewogCQlpZiAodGFibGVf
Y29udGV4dC0+b2RfZmVhdHVyZV9jYXBhYmlsaXRpZXNbQVRPTV9WRUdBMjBfT0RGRUFUVVJFX1RF
TVBFUkFUVVJFX0ZBTl0gJiYKIAkJICAgIHRhYmxlX2NvbnRleHQtPm9kX3NldHRpbmdzX21pbltP
RDhfU0VUVElOR19GQU5fVEFSR0VUX1RFTVBdID4gMCAmJgogCQkgICAgdGFibGVfY29udGV4dC0+
b2Rfc2V0dGluZ3NfbWF4W09EOF9TRVRUSU5HX0ZBTl9UQVJHRVRfVEVNUF0gPiAwICYmCkBAIC0x
ODM4LDcgKzE4ODcsNyBAQCB2ZWdhMjBfc2V0X3VjbGtfdG9faGlnaGVzdF9kcG1fbGV2ZWwoc3Ry
dWN0IHNtdV9jb250ZXh0ICpzbXUsCiAJaWYgKCFzbXVfZHBtX2N0eC0+ZHBtX2NvbnRleHQpCiAJ
CXJldHVybiAtRUlOVkFMOwogCi0JaWYgKHNtdV9mZWF0dXJlX2lzX2VuYWJsZWQoc211LCBGRUFU
VVJFX0RQTV9VQ0xLX0JJVCkpIHsKKwlpZiAoc211X2ZlYXR1cmVfaXNfZW5hYmxlZChzbXUsIFNN
VV9GRUFUVVJFX0RQTV9VQ0xLX0JJVCkpIHsKIAkJaWYgKGRwbV90YWJsZS0+Y291bnQgPD0gMCkg
ewogCQkJcHJfZXJyKCJbJXNdIERwbSB0YWJsZSBoYXMgbm8gZW50cnkhIiwgX19mdW5jX18pOwog
CQkJCXJldHVybiAtRUlOVkFMOwpAQCAtMTkwMSw4ICsxOTUwLDggQEAgc3RhdGljIGludCB2ZWdh
MjBfZGlzcGxheV9jb25maWdfY2hhbmdlZChzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSkKIAl9CiAK
IAlpZiAoKHNtdS0+d2F0ZXJtYXJrc19iaXRtYXAgJiBXQVRFUk1BUktTX0VYSVNUKSAmJgotCSAg
ICBzbXVfZmVhdHVyZV9pc19zdXBwb3J0ZWQoc211LCBGRUFUVVJFX0RQTV9EQ0VGQ0xLX0JJVCkg
JiYKLQkgICAgc211X2ZlYXR1cmVfaXNfc3VwcG9ydGVkKHNtdSwgRkVBVFVSRV9EUE1fU09DQ0xL
X0JJVCkpIHsKKwkgICAgc211X2ZlYXR1cmVfaXNfc3VwcG9ydGVkKHNtdSwgU01VX0ZFQVRVUkVf
RFBNX0RDRUZDTEtfQklUKSAmJgorCSAgICBzbXVfZmVhdHVyZV9pc19zdXBwb3J0ZWQoc211LCBT
TVVfRkVBVFVSRV9EUE1fU09DQ0xLX0JJVCkpIHsKIAkJc211X3NlbmRfc21jX21zZ193aXRoX3Bh
cmFtKHNtdSwKIAkJCQkJICAgIFNNVV9NU0dfTnVtT2ZEaXNwbGF5cywKIAkJCQkJICAgIHNtdS0+
ZGlzcGxheV9jb25maWctPm51bV9kaXNwbGF5KTsKQEAgLTIwNzEsMTEgKzIxMjAsMTEgQEAgdmVn
YTIwX25vdGlmeV9zbWNfZGlzcGFseV9jb25maWcoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUpCiAJ
bWluX2Nsb2Nrcy5kY2VmX2Nsb2NrX2luX3NyID0gc211LT5kaXNwbGF5X2NvbmZpZy0+bWluX2Rj
ZWZfZGVlcF9zbGVlcF9zZXRfY2xrOwogCW1pbl9jbG9ja3MubWVtb3J5X2Nsb2NrID0gc211LT5k
aXNwbGF5X2NvbmZpZy0+bWluX21lbV9zZXRfY2xvY2s7CiAKLQlpZiAoc211X2ZlYXR1cmVfaXNf
c3VwcG9ydGVkKHNtdSwgRkVBVFVSRV9EUE1fRENFRkNMS19CSVQpKSB7CisJaWYgKHNtdV9mZWF0
dXJlX2lzX3N1cHBvcnRlZChzbXUsIFNNVV9GRUFUVVJFX0RQTV9EQ0VGQ0xLX0JJVCkpIHsKIAkJ
Y2xvY2tfcmVxLmNsb2NrX3R5cGUgPSBhbWRfcHBfZGNlZl9jbG9jazsKIAkJY2xvY2tfcmVxLmNs
b2NrX2ZyZXFfaW5fa2h6ID0gbWluX2Nsb2Nrcy5kY2VmX2Nsb2NrICogMTA7CiAJCWlmICghc211
LT5mdW5jcy0+ZGlzcGxheV9jbG9ja192b2x0YWdlX3JlcXVlc3Qoc211LCAmY2xvY2tfcmVxKSkg
ewotCQkJaWYgKHNtdV9mZWF0dXJlX2lzX3N1cHBvcnRlZChzbXUsIEZFQVRVUkVfRFNfRENFRkNM
S19CSVQpKSB7CisJCQlpZiAoc211X2ZlYXR1cmVfaXNfc3VwcG9ydGVkKHNtdSwgU01VX0ZFQVRV
UkVfRFNfRENFRkNMS19CSVQpKSB7CiAJCQkJcmV0ID0gc211X3NlbmRfc21jX21zZ193aXRoX3Bh
cmFtKHNtdSwKIAkJCQkJCQkJICBTTVVfTVNHX1NldE1pbkRlZXBTbGVlcERjZWZjbGssCiAJCQkJ
CQkJCSAgbWluX2Nsb2Nrcy5kY2VmX2Nsb2NrX2luX3NyLzEwMCk7CkBAIC0yMDg5LDcgKzIxMzgs
NyBAQCB2ZWdhMjBfbm90aWZ5X3NtY19kaXNwYWx5X2NvbmZpZyhzdHJ1Y3Qgc211X2NvbnRleHQg
KnNtdSkKIAkJfQogCX0KIAotCWlmIChzbXVfZmVhdHVyZV9pc19lbmFibGVkKHNtdSwgRkVBVFVS
RV9EUE1fVUNMS19CSVQpKSB7CisJaWYgKHNtdV9mZWF0dXJlX2lzX2VuYWJsZWQoc211LCBTTVVf
RkVBVFVSRV9EUE1fVUNMS19CSVQpKSB7CiAJCW1lbXRhYmxlLT5kcG1fc3RhdGUuaGFyZF9taW5f
bGV2ZWwgPSBtaW5fY2xvY2tzLm1lbW9yeV9jbG9jay8xMDA7CiAJCXJldCA9IHNtdV9zZW5kX3Nt
Y19tc2dfd2l0aF9wYXJhbShzbXUsCiAJCQkJCQkgIFNNVV9NU0dfU2V0SGFyZE1pbkJ5RnJlcSwK
QEAgLTIzODIsMTQgKzI0MzEsMTQgQEAgc3RhdGljIGludCB2ZWdhMjBfc2V0X29kX3BlcmNlbnRh
Z2Uoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsCiAJY2FzZSBPRF9TQ0xLOgogCQlzaW5nbGVfZHBt
X3RhYmxlID0gJihkcG1fdGFibGUtPmdmeF90YWJsZSk7CiAJCWdvbGRlbl9kcG1fdGFibGUgPSAm
KGdvbGRlbl90YWJsZS0+Z2Z4X3RhYmxlKTsKLQkJZmVhdHVyZV9lbmFibGVkID0gc211X2ZlYXR1
cmVfaXNfZW5hYmxlZChzbXUsIEZFQVRVUkVfRFBNX0dGWENMS19CSVQpOworCQlmZWF0dXJlX2Vu
YWJsZWQgPSBzbXVfZmVhdHVyZV9pc19lbmFibGVkKHNtdSwgU01VX0ZFQVRVUkVfRFBNX0dGWENM
S19CSVQpOwogCQljbGtfaWQgPSBQUENMS19HRlhDTEs7CiAJCWluZGV4ID0gT0Q4X1NFVFRJTkdf
R0ZYQ0xLX0ZNQVg7CiAJCWJyZWFrOwogCWNhc2UgT0RfTUNMSzoKIAkJc2luZ2xlX2RwbV90YWJs
ZSA9ICYoZHBtX3RhYmxlLT5tZW1fdGFibGUpOwogCQlnb2xkZW5fZHBtX3RhYmxlID0gJihnb2xk
ZW5fdGFibGUtPm1lbV90YWJsZSk7Ci0JCWZlYXR1cmVfZW5hYmxlZCA9IHNtdV9mZWF0dXJlX2lz
X2VuYWJsZWQoc211LCBGRUFUVVJFX0RQTV9VQ0xLX0JJVCk7CisJCWZlYXR1cmVfZW5hYmxlZCA9
IHNtdV9mZWF0dXJlX2lzX2VuYWJsZWQoc211LCBTTVVfRkVBVFVSRV9EUE1fVUNMS19CSVQpOwog
CQljbGtfaWQgPSBQUENMS19VQ0xLOwogCQlpbmRleCA9IE9EOF9TRVRUSU5HX1VDTEtfRk1BWDsK
IAkJYnJlYWs7CkBAIC0yNjMzLDcgKzI2ODIsNyBAQCBzdGF0aWMgaW50IHZlZ2EyMF9vZG5fZWRp
dF9kcG1fdGFibGUoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsCiAJCQl0YWJsZV9jb250ZXh0LT5v
ZF9nZnhjbGtfdXBkYXRlID0gZmFsc2U7CiAJCQlzaW5nbGVfZHBtX3RhYmxlID0gJihkcG1fdGFi
bGUtPmdmeF90YWJsZSk7CiAKLQkJCWlmIChzbXVfZmVhdHVyZV9pc19lbmFibGVkKHNtdSwgRkVB
VFVSRV9EUE1fR0ZYQ0xLX0JJVCkpIHsKKwkJCWlmIChzbXVfZmVhdHVyZV9pc19lbmFibGVkKHNt
dSwgU01VX0ZFQVRVUkVfRFBNX0dGWENMS19CSVQpKSB7CiAJCQkJcmV0ID0gdmVnYTIwX3NldF9z
aW5nbGVfZHBtX3RhYmxlKHNtdSwgc2luZ2xlX2RwbV90YWJsZSwKIAkJCQkJCQkJICBQUENMS19H
RlhDTEspOwogCQkJCWlmIChyZXQpIHsKQEAgLTI2NjQsMjQgKzI3MTMsMjQgQEAgc3RhdGljIGlu
dCB2ZWdhMjBfb2RuX2VkaXRfZHBtX3RhYmxlKHN0cnVjdCBzbXVfY29udGV4dCAqc211LAogCiBz
dGF0aWMgaW50IHZlZ2EyMF9kcG1fc2V0X3V2ZF9lbmFibGUoc3RydWN0IHNtdV9jb250ZXh0ICpz
bXUsIGJvb2wgZW5hYmxlKQogewotCWlmICghc211X2ZlYXR1cmVfaXNfc3VwcG9ydGVkKHNtdSwg
RkVBVFVSRV9EUE1fVVZEX0JJVCkpCisJaWYgKCFzbXVfZmVhdHVyZV9pc19zdXBwb3J0ZWQoc211
LCBTTVVfRkVBVFVSRV9EUE1fVVZEX0JJVCkpCiAJCXJldHVybiAwOwogCi0JaWYgKGVuYWJsZSA9
PSBzbXVfZmVhdHVyZV9pc19lbmFibGVkKHNtdSwgRkVBVFVSRV9EUE1fVVZEX0JJVCkpCisJaWYg
KGVuYWJsZSA9PSBzbXVfZmVhdHVyZV9pc19lbmFibGVkKHNtdSwgU01VX0ZFQVRVUkVfRFBNX1VW
RF9CSVQpKQogCQlyZXR1cm4gMDsKIAotCXJldHVybiBzbXVfZmVhdHVyZV9zZXRfZW5hYmxlZChz
bXUsIEZFQVRVUkVfRFBNX1VWRF9CSVQsIGVuYWJsZSk7CisJcmV0dXJuIHNtdV9mZWF0dXJlX3Nl
dF9lbmFibGVkKHNtdSwgU01VX0ZFQVRVUkVfRFBNX1VWRF9CSVQsIGVuYWJsZSk7CiB9CiAKIHN0
YXRpYyBpbnQgdmVnYTIwX2RwbV9zZXRfdmNlX2VuYWJsZShzdHJ1Y3Qgc211X2NvbnRleHQgKnNt
dSwgYm9vbCBlbmFibGUpCiB7Ci0JaWYgKCFzbXVfZmVhdHVyZV9pc19zdXBwb3J0ZWQoc211LCBG
RUFUVVJFX0RQTV9WQ0VfQklUKSkKKwlpZiAoIXNtdV9mZWF0dXJlX2lzX3N1cHBvcnRlZChzbXUs
IFNNVV9GRUFUVVJFX0RQTV9WQ0VfQklUKSkKIAkJcmV0dXJuIDA7CiAKLQlpZiAoZW5hYmxlID09
IHNtdV9mZWF0dXJlX2lzX2VuYWJsZWQoc211LCBGRUFUVVJFX0RQTV9WQ0VfQklUKSkKKwlpZiAo
ZW5hYmxlID09IHNtdV9mZWF0dXJlX2lzX2VuYWJsZWQoc211LCBTTVVfRkVBVFVSRV9EUE1fVkNF
X0JJVCkpCiAJCXJldHVybiAwOwogCi0JcmV0dXJuIHNtdV9mZWF0dXJlX3NldF9lbmFibGVkKHNt
dSwgRkVBVFVSRV9EUE1fVkNFX0JJVCwgZW5hYmxlKTsKKwlyZXR1cm4gc211X2ZlYXR1cmVfc2V0
X2VuYWJsZWQoc211LCBTTVVfRkVBVFVSRV9EUE1fVkNFX0JJVCwgZW5hYmxlKTsKIH0KIAogc3Rh
dGljIGludCB2ZWdhMjBfZ2V0X2VuYWJsZWRfc21jX2ZlYXR1cmVzKHN0cnVjdCBzbXVfY29udGV4
dCAqc211LApAQCAtMjg0MywxMSArMjg5MiwxMSBAQCBzdGF0aWMgaW50IHZlZ2EyMF9yZWFkX3Nl
bnNvcihzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwKIAogCXN3aXRjaCAoc2Vuc29yKSB7CiAJY2Fz
ZSBBTURHUFVfUFBfU0VOU09SX1VWRF9QT1dFUjoKLQkJKih1aW50MzJfdCAqKWRhdGEgPSBzbXVf
ZmVhdHVyZV9pc19lbmFibGVkKHNtdSwgRkVBVFVSRV9EUE1fVVZEX0JJVCkgPyAxIDogMDsKKwkJ
Kih1aW50MzJfdCAqKWRhdGEgPSBzbXVfZmVhdHVyZV9pc19lbmFibGVkKHNtdSwgU01VX0ZFQVRV
UkVfRFBNX1VWRF9CSVQpID8gMSA6IDA7CiAJCSpzaXplID0gNDsKIAkJYnJlYWs7CiAJY2FzZSBB
TURHUFVfUFBfU0VOU09SX1ZDRV9QT1dFUjoKLQkJKih1aW50MzJfdCAqKWRhdGEgPSBzbXVfZmVh
dHVyZV9pc19lbmFibGVkKHNtdSwgRkVBVFVSRV9EUE1fVkNFX0JJVCkgPyAxIDogMDsKKwkJKih1
aW50MzJfdCAqKWRhdGEgPSBzbXVfZmVhdHVyZV9pc19lbmFibGVkKHNtdSwgU01VX0ZFQVRVUkVf
RFBNX1ZDRV9CSVQpID8gMSA6IDA7CiAJCSpzaXplID0gNDsKIAkJYnJlYWs7CiAJZGVmYXVsdDoK
QEAgLTI4NzUsNiArMjkyNCw3IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgcHB0YWJsZV9mdW5jcyB2
ZWdhMjBfcHB0X2Z1bmNzID0gewogCS5hcHBlbmRfcG93ZXJwbGF5X3RhYmxlID0gdmVnYTIwX2Fw
cGVuZF9wb3dlcnBsYXlfdGFibGUsCiAJLmdldF9zbXVfbXNnX2luZGV4ID0gdmVnYTIwX2dldF9z
bXVfbXNnX2luZGV4LAogCS5nZXRfc211X2Nsa19pbmRleCA9IHZlZ2EyMF9nZXRfc211X2Nsa19p
bmRleCwKKwkuZ2V0X3NtdV9mZWF0dXJlX2luZGV4ID0gdmVnYTIwX2dldF9zbXVfZmVhdHVyZV9p
bmRleCwKIAkucnVuX2FmbGxfYnRjID0gdmVnYTIwX3J1bl9idGNfYWZsbCwKIAkuZ2V0X2FsbG93
ZWRfZmVhdHVyZV9tYXNrID0gdmVnYTIwX2dldF9hbGxvd2VkX2ZlYXR1cmVfbWFzaywKIAkuZ2V0
X2N1cnJlbnRfcG93ZXJfc3RhdGUgPSB2ZWdhMjBfZ2V0X2N1cnJlbnRfcG93ZXJfc3RhdGUsCi0t
IAoyLjIwLjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
CmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBz
Oi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeA==
