Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id B2E7818A93D
	for <lists+amd-gfx@lfdr.de>; Thu, 19 Mar 2020 00:34:00 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3B5B66E99A;
	Wed, 18 Mar 2020 23:33:59 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM12-MW2-obe.outbound.protection.outlook.com
 (mail-mw2nam12on2040.outbound.protection.outlook.com [40.107.244.40])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 1517C6E99A
 for <amd-gfx@lists.freedesktop.org>; Wed, 18 Mar 2020 23:33:58 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=IaOxviPkbZPFzqRjHEUoaWL3CAa9rH9gDSA31eHra1QoXXTve+DfDbLF4lunVfgV/SoYygXnyy70oRE3MuEAfFEJ2eKXonwCTdUJMeBkdCfmPAalB3cLxJS0cy2n0C17heMGZpAgaxGUuW1fLcTTZFADpBwhoSMFp7AuJWaIvGoZTjfXbAuGtgBHeOJIOLM8iNSJM9hml6C/CZWrEMUDaV5WfzP5dXJbgnG6ty9quJhjQK9iYs57kh8pFzIrD9gHAHbG811j/kCZoVPXN/wXQRHwdrO0PejuE/ybRUJpO5Nt8FLC9ZsBu0HF4TzoNgvlnGu6/1x8FvGcXfeD49rcNw==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=K9L1NSR/vVE7Y8seYNdPFw8pbcGxv3dKuTRfhPQqs1g=;
 b=hoiTTfxv65u5YDUc4GsQfS6WyJGPG2QTtN9MlYaZk1BGZ2t4kjgcn8Q7JaNOj5X6FNrIamdsovwFbs1TL6q8/vM5lgclu/VcY4uYbQ/cdgmy+DLgVtzIJ6cO6kSuVMs59TkZmgAD16QxJSfGVL1dDkt15yE51VkUDoJ9LdAKPSkupnEPpbHxd0SHncAuoTOrsfKr3m/+w9iJjLIsgMB/sFb9oJ1NEVuNQf0ZIgEdDZawiXEkfoB13TVpsfSNJ4GTGmyW04ITnyCZWNudyvq0tmqaNoIJM/AmPUSAtkpf4/Z/Uojzt5y7WSiKw9TeXxNTvZqumSNTWfdnU2LhJhl0iA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=K9L1NSR/vVE7Y8seYNdPFw8pbcGxv3dKuTRfhPQqs1g=;
 b=4IlGekI6Y1DvJXuUk1P+Q3bMcArN+A4WDzgGImceZELDo5gXM44zX7U5Wz5LzPu3DouPCKrB4I5JRLazhE5fiPFAsFxp8GILKRDgfqIxvMpI1yKhWlxcoGRY0H7L6cVn0DOmSytLB426kEHUEo678GJItJzDAy91Dw9fOtamhQY=
Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Felix.Kuehling@amd.com; 
Received: from DM5PR1201MB0090.namprd12.prod.outlook.com (2603:10b6:4:53::12)
 by DM5PR1201MB2538.namprd12.prod.outlook.com (2603:10b6:3:de::8) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2814.22; Wed, 18 Mar
 2020 23:33:56 +0000
Received: from DM5PR1201MB0090.namprd12.prod.outlook.com
 ([fe80::a46f:dd34:e56a:748d]) by DM5PR1201MB0090.namprd12.prod.outlook.com
 ([fe80::a46f:dd34:e56a:748d%5]) with mapi id 15.20.2814.021; Wed, 18 Mar 2020
 23:33:56 +0000
Subject: Re: [PATCH 2/8] drm/amdgpu: create new files for arcturus ih
To: Alex Sierra <alex.sierra@amd.com>, amd-gfx@lists.freedesktop.org
References: <20200318225118.10756-1-alex.sierra@amd.com>
 <20200318225118.10756-2-alex.sierra@amd.com>
From: Felix Kuehling <felix.kuehling@amd.com>
Message-ID: <79ebdfb4-1d10-dc9d-e35e-ceb9369b66c4@amd.com>
Date: Wed, 18 Mar 2020 19:33:54 -0400
User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:68.0) Gecko/20100101
 Thunderbird/68.6.0
In-Reply-To: <20200318225118.10756-2-alex.sierra@amd.com>
Content-Language: en-US
X-ClientProxiedBy: YTBPR01CA0022.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:b01:14::35) To DM5PR1201MB0090.namprd12.prod.outlook.com
 (2603:10b6:4:53::12)
MIME-Version: 1.0
X-MS-Exchange-MessageSentRepresentingType: 1
Received: from [172.31.147.80] (165.204.55.211) by
 YTBPR01CA0022.CANPRD01.PROD.OUTLOOK.COM (2603:10b6:b01:14::35) with Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2835.19 via Frontend Transport; Wed, 18 Mar 2020 23:33:56 +0000
X-Originating-IP: [165.204.55.211]
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-HT: Tenant
X-MS-Office365-Filtering-Correlation-Id: 7d8ba981-191d-479c-a25e-08d7cb94d39b
X-MS-TrafficTypeDiagnostic: DM5PR1201MB2538:|DM5PR1201MB2538:
X-MS-Exchange-Transport-Forked: True
X-Microsoft-Antispam-PRVS: <DM5PR1201MB253834407FB8962E73C685CC92F70@DM5PR1201MB2538.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:7219;
X-Forefront-PRVS: 03468CBA43
X-Forefront-Antispam-Report: SFV:NSPM;
 SFS:(10009020)(4636009)(396003)(376002)(39860400002)(136003)(346002)(366004)(199004)(6486002)(2616005)(26005)(16526019)(186003)(956004)(2906002)(8676002)(81156014)(53546011)(52116002)(31696002)(86362001)(81166006)(8936002)(44832011)(16576012)(478600001)(31686004)(316002)(66556008)(5660300002)(36756003)(66946007)(66476007)(30864003)(21314003)(309714004);
 DIR:OUT; SFP:1101; SCL:1; SRVR:DM5PR1201MB2538;
 H:DM5PR1201MB0090.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; 
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: 9StzsBFOw5QIbZdUOwuIKwxcc23b6qZaiTDbGgjlTV4HU9LmsKuVJuH9IHjVP127piemMxPmycuBrCRcDT5rQfiPGS1kZ/+/ZN5VBJV0Zl/fGyV+LCB70AaqYW4hvjfEPhZzA/Bw4U/sPoPkDlsw6fNsGcYKnu6HMVK+65L1H/Ql5EmM6tlj7YIyGbdMu2u/83/XtFBVWjEpqkDknPQH3j/g0j9oIeQDxBSQa3UYzdD/Rgzvcwt3Ilxi0WfuuHRdQ8l2d/QWsEto5pzi01nwNE2dqLntdwpKTPYu7q/3feRLLjJBcVSgvneH71DYrFm2jBeW0Jls6AVGzJ+RsfW6/PvOuBWsmicXiBjtE187o2G2PFclKYtsI2H22vibCaQLSOn6O3+3WMdtSU3azrb28U1pMiYNiACPcJBD8AplIR9SqEsr+FmwIl87YZ6FgpCH5806BNA3P5AoFatxMwh9oIWvaGIXxEh5txXHxct2GpwCopVSyuLE7tTDGrUMMGp6zOUBxe+aJcEjhH8k3gYdbA==
X-MS-Exchange-AntiSpam-MessageData: P/CBiGUjrXzSZ+sFdattA83x1q+jstPq7OC8nTyR1q6cgSvuV8+3ijG5v83+MJm6HA2UmC+/DxzK5yY/ZR/Zw3oigMlgzzv6JRbkuWm/63oE3rFDlMTxhAZnSQwwokYtv16B1xFTTcIjlcQzb3UnjQ==
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 7d8ba981-191d-479c-a25e-08d7cb94d39b
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 18 Mar 2020 23:33:56.4953 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: brcazRn0+t7p4s4o49/1dQyT40I1vTDwVWVTRyak/qeBCTkEXQKcH3w4llgYmNDUsQchofbQuyGuN9pdaK5wCA==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM5PR1201MB2538
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

SG93IG11Y2ggb3ZlcmxhcCBpcyB0aGVyZSBiZXR3ZWVuIGFyY3R1cnVzX2loIGFuZCBuYXZlMTBf
aWg/IEdpdmVuIHRoYXQgCnRoZXkgYm90aCB1c2UgdGhlIHNhbWUgcmVnaXN0ZXIgbWFwLCBjb3Vs
ZCB0aGV5IHNoYXJlIHRoZSBzYW1lIGRyaXZlciAKY29kZSB3aXRoIG9ubHkgbWlub3IgZGlmZmVy
ZW5jZXM/CgpJZiB0aGV5J3JlIGFsbW9zdCB0aGUgc2FtZSwgbWF5YmUgeW91IGNvdWxkIHJlbmFt
ZSBuYXZpMTBfaWguW2NoXSB0byAKb3Nzc3lzX3Y1XzAuW2NoXSBhbmQgdXNlIGl0IGZvciBib3Ro
IG5hdmkxMCBhbmQgYXJjdHVydXMuCgpSZWdhcmRzLAogwqAgRmVsaXgKCk9uIDIwMjAtMDMtMTgg
MTg6NTEsIEFsZXggU2llcnJhIHdyb3RlOgo+IFtXaHldCj4gQXJjdHVydXMgdXNlcyBvc3NzeXMg
djQuMi4gVGhpcyBzaGFyZXMgdGhlIHNhbWUgcmVnaXN0ZXIgbWFwIGFzCj4gb3Nzc3lzIHY1LjAu
Cj4KPiBbSG93XQo+IENvcHkgdmVnYTEwX2loIGludG8gbmV3IGFyY3R1cnVzX2loIHNvdXJjZSBh
bmQgaGVhZGVyIGZpbGVzLgo+IFJlcGxhY2Ugb3Nzc3lzIGluY2x1ZGUgZmlsZSB3aXRoIHY1LjAu
MCBvbiBhcmN0dXJ1c19paC5jIHNvdXJjZS4KPgo+IENoYW5nZS1JZDogSTUyMTVmMzJmNDc3YWRi
NmEzMGFjZWY2ZThhZGQ5ZjhlNWJiMDQxZWYKPiBTaWduZWQtb2ZmLWJ5OiBBbGV4IFNpZXJyYSA8
YWxleC5zaWVycmFAYW1kLmNvbT4KPiAtLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2FyY3R1cnVzX2loLmMgfCA3NjYgKysrKysrKysrKysrKysrKysrKysrKysKPiAgIGRyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2FyY3R1cnVzX2loLmggfCAgMzAgKwo+ICAgMiBmaWxlcyBjaGFu
Z2VkLCA3OTYgaW5zZXJ0aW9ucygrKQo+ICAgY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2FyY3R1cnVzX2loLmMKPiAgIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hcmN0dXJ1c19paC5oCj4KPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYXJjdHVydXNfaWguYyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2FyY3R1cnVzX2loLmMKPiBuZXcgZmlsZSBtb2RlIDEwMDY0NAo+IGluZGV4IDAw
MDAwMDAwMDAwMC4uMjFiYjViZTQwOTIxCj4gLS0tIC9kZXYvbnVsbAo+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2FyY3R1cnVzX2loLmMKPiBAQCAtMCwwICsxLDc2NiBAQAo+ICsv
Kgo+ICsgKiBDb3B5cmlnaHQgMjAyMCBBZHZhbmNlZCBNaWNybyBEZXZpY2VzLCBJbmMuCj4gKyAq
Cj4gKyAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBh
bnkgcGVyc29uIG9idGFpbmluZyBhCj4gKyAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNz
b2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksCj4gKyAqIHRvIGRl
YWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0
IGxpbWl0YXRpb24KPiArICogdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2Us
IHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsCj4gKyAqIGFuZC9vciBzZWxsIGNvcGll
cyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZQo+ICsg
KiBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2lu
ZyBjb25kaXRpb25zOgo+ICsgKgo+ICsgKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQg
dGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbgo+ICsgKiBhbGwgY29w
aWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KPiArICoKPiArICog
VEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5Z
IEtJTkQsIEVYUFJFU1MgT1IKPiArICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRF
RCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCj4gKyAqIEZJVE5FU1MgRk9S
IEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuICBJTiBOTyBFVkVOVCBT
SEFMTAo+ICsgKiBUSEUgQ09QWVJJR0hUIEhPTERFUihTKSBPUiBBVVRIT1IoUykgQkUgTElBQkxF
IEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IKPiArICogT1RIRVIgTElBQklMSVRZLCBXSEVUSEVS
IElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsCj4gKyAqIEFSSVNJ
TkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhF
IFVTRSBPUgo+ICsgKiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuCj4gKyAqCj4gKyAq
Lwo+ICsKPiArI2luY2x1ZGUgPGxpbnV4L3BjaS5oPgo+ICsKPiArI2luY2x1ZGUgImFtZGdwdS5o
Igo+ICsjaW5jbHVkZSAiYW1kZ3B1X2loLmgiCj4gKyNpbmNsdWRlICJzb2MxNS5oIgo+ICsKPiAr
I2luY2x1ZGUgIm9zcy9vc3NzeXNfNV8wXzBfb2Zmc2V0LmgiCj4gKyNpbmNsdWRlICJvc3Mvb3Nz
c3lzXzVfMF8wX3NoX21hc2suaCIKPiArCj4gKyNpbmNsdWRlICJzb2MxNV9jb21tb24uaCIKPiAr
I2luY2x1ZGUgImFyY3R1cnVzX2loLmgiCj4gKwo+ICsjZGVmaW5lIE1BWF9SRUFSTV9SRVRSWSAx
MAo+ICsKPiArc3RhdGljIHZvaWQgdmVnYTEwX2loX3NldF9pbnRlcnJ1cHRfZnVuY3Moc3RydWN0
IGFtZGdwdV9kZXZpY2UgKmFkZXYpOwo+ICsKPiArLyoqCj4gKyAqIHZlZ2ExMF9paF9lbmFibGVf
aW50ZXJydXB0cyAtIEVuYWJsZSB0aGUgaW50ZXJydXB0IHJpbmcgYnVmZmVyCj4gKyAqCj4gKyAq
IEBhZGV2OiBhbWRncHVfZGV2aWNlIHBvaW50ZXIKPiArICoKPiArICogRW5hYmxlIHRoZSBpbnRl
cnJ1cHQgcmluZyBidWZmZXIgKFZFR0ExMCkuCj4gKyAqLwo+ICtzdGF0aWMgdm9pZCB2ZWdhMTBf
aWhfZW5hYmxlX2ludGVycnVwdHMoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCj4gK3sKPiAr
CXUzMiBpaF9yYl9jbnRsID0gUlJFRzMyX1NPQzE1KE9TU1NZUywgMCwgbW1JSF9SQl9DTlRMKTsK
PiArCj4gKwlpaF9yYl9jbnRsID0gUkVHX1NFVF9GSUVMRChpaF9yYl9jbnRsLCBJSF9SQl9DTlRM
LCBSQl9FTkFCTEUsIDEpOwo+ICsJaWhfcmJfY250bCA9IFJFR19TRVRfRklFTEQoaWhfcmJfY250
bCwgSUhfUkJfQ05UTCwgRU5BQkxFX0lOVFIsIDEpOwo+ICsJaWYgKGFtZGdwdV9zcmlvdl92Zihh
ZGV2KSkgewo+ICsJCWlmIChwc3BfcmVnX3Byb2dyYW0oJmFkZXYtPnBzcCwgUFNQX1JFR19JSF9S
Ql9DTlRMLCBpaF9yYl9jbnRsKSkgewo+ICsJCQlEUk1fRVJST1IoIlBTUCBwcm9ncmFtIElIX1JC
X0NOVEwgZmFpbGVkIVxuIik7Cj4gKwkJCXJldHVybjsKPiArCQl9Cj4gKwl9IGVsc2Ugewo+ICsJ
CVdSRUczMl9TT0MxNShPU1NTWVMsIDAsIG1tSUhfUkJfQ05UTCwgaWhfcmJfY250bCk7Cj4gKwl9
Cj4gKwlhZGV2LT5pcnEuaWguZW5hYmxlZCA9IHRydWU7Cj4gKwo+ICsJaWYgKGFkZXYtPmlycS5p
aDEucmluZ19zaXplKSB7Cj4gKwkJaWhfcmJfY250bCA9IFJSRUczMl9TT0MxNShPU1NTWVMsIDAs
IG1tSUhfUkJfQ05UTF9SSU5HMSk7Cj4gKwkJaWhfcmJfY250bCA9IFJFR19TRVRfRklFTEQoaWhf
cmJfY250bCwgSUhfUkJfQ05UTF9SSU5HMSwKPiArCQkJCQkgICBSQl9FTkFCTEUsIDEpOwo+ICsJ
CWlmIChhbWRncHVfc3Jpb3ZfdmYoYWRldikpIHsKPiArCQkJaWYgKHBzcF9yZWdfcHJvZ3JhbSgm
YWRldi0+cHNwLCBQU1BfUkVHX0lIX1JCX0NOVExfUklORzEsCj4gKwkJCQkJCWloX3JiX2NudGwp
KSB7Cj4gKwkJCQlEUk1fRVJST1IoInByb2dyYW0gSUhfUkJfQ05UTF9SSU5HMSBmYWlsZWQhXG4i
KTsKPiArCQkJCXJldHVybjsKPiArCQkJfQo+ICsJCX0gZWxzZSB7Cj4gKwkJCVdSRUczMl9TT0Mx
NShPU1NTWVMsIDAsIG1tSUhfUkJfQ05UTF9SSU5HMSwgaWhfcmJfY250bCk7Cj4gKwkJfQo+ICsJ
CWFkZXYtPmlycS5paDEuZW5hYmxlZCA9IHRydWU7Cj4gKwl9Cj4gKwo+ICsJaWYgKGFkZXYtPmly
cS5paDIucmluZ19zaXplKSB7Cj4gKwkJaWhfcmJfY250bCA9IFJSRUczMl9TT0MxNShPU1NTWVMs
IDAsIG1tSUhfUkJfQ05UTF9SSU5HMik7Cj4gKwkJaWhfcmJfY250bCA9IFJFR19TRVRfRklFTEQo
aWhfcmJfY250bCwgSUhfUkJfQ05UTF9SSU5HMiwKPiArCQkJCQkgICBSQl9FTkFCTEUsIDEpOwo+
ICsJCWlmIChhbWRncHVfc3Jpb3ZfdmYoYWRldikpIHsKPiArCQkJaWYgKHBzcF9yZWdfcHJvZ3Jh
bSgmYWRldi0+cHNwLCBQU1BfUkVHX0lIX1JCX0NOVExfUklORzIsCj4gKwkJCQkJCWloX3JiX2Nu
dGwpKSB7Cj4gKwkJCQlEUk1fRVJST1IoInByb2dyYW0gSUhfUkJfQ05UTF9SSU5HMiBmYWlsZWQh
XG4iKTsKPiArCQkJCXJldHVybjsKPiArCQkJfQo+ICsJCX0gZWxzZSB7Cj4gKwkJCVdSRUczMl9T
T0MxNShPU1NTWVMsIDAsIG1tSUhfUkJfQ05UTF9SSU5HMiwgaWhfcmJfY250bCk7Cj4gKwkJfQo+
ICsJCWFkZXYtPmlycS5paDIuZW5hYmxlZCA9IHRydWU7Cj4gKwl9Cj4gK30KPiArCj4gKy8qKgo+
ICsgKiB2ZWdhMTBfaWhfZGlzYWJsZV9pbnRlcnJ1cHRzIC0gRGlzYWJsZSB0aGUgaW50ZXJydXB0
IHJpbmcgYnVmZmVyCj4gKyAqCj4gKyAqIEBhZGV2OiBhbWRncHVfZGV2aWNlIHBvaW50ZXIKPiAr
ICoKPiArICogRGlzYWJsZSB0aGUgaW50ZXJydXB0IHJpbmcgYnVmZmVyIChWRUdBMTApLgo+ICsg
Ki8KPiArc3RhdGljIHZvaWQgdmVnYTEwX2loX2Rpc2FibGVfaW50ZXJydXB0cyhzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldikKPiArewo+ICsJdTMyIGloX3JiX2NudGwgPSBSUkVHMzJfU09DMTUo
T1NTU1lTLCAwLCBtbUlIX1JCX0NOVEwpOwo+ICsKPiArCWloX3JiX2NudGwgPSBSRUdfU0VUX0ZJ
RUxEKGloX3JiX2NudGwsIElIX1JCX0NOVEwsIFJCX0VOQUJMRSwgMCk7Cj4gKwlpaF9yYl9jbnRs
ID0gUkVHX1NFVF9GSUVMRChpaF9yYl9jbnRsLCBJSF9SQl9DTlRMLCBFTkFCTEVfSU5UUiwgMCk7
Cj4gKwlpZiAoYW1kZ3B1X3NyaW92X3ZmKGFkZXYpKSB7Cj4gKwkJaWYgKHBzcF9yZWdfcHJvZ3Jh
bSgmYWRldi0+cHNwLCBQU1BfUkVHX0lIX1JCX0NOVEwsIGloX3JiX2NudGwpKSB7Cj4gKwkJCURS
TV9FUlJPUigiUFNQIHByb2dyYW0gSUhfUkJfQ05UTCBmYWlsZWQhXG4iKTsKPiArCQkJcmV0dXJu
Owo+ICsJCX0KPiArCX0gZWxzZSB7Cj4gKwkJV1JFRzMyX1NPQzE1KE9TU1NZUywgMCwgbW1JSF9S
Ql9DTlRMLCBpaF9yYl9jbnRsKTsKPiArCX0KPiArCj4gKwkvKiBzZXQgcnB0ciwgd3B0ciB0byAw
ICovCj4gKwlXUkVHMzJfU09DMTUoT1NTU1lTLCAwLCBtbUlIX1JCX1JQVFIsIDApOwo+ICsJV1JF
RzMyX1NPQzE1KE9TU1NZUywgMCwgbW1JSF9SQl9XUFRSLCAwKTsKPiArCWFkZXYtPmlycS5paC5l
bmFibGVkID0gZmFsc2U7Cj4gKwlhZGV2LT5pcnEuaWgucnB0ciA9IDA7Cj4gKwo+ICsJaWYgKGFk
ZXYtPmlycS5paDEucmluZ19zaXplKSB7Cj4gKwkJaWhfcmJfY250bCA9IFJSRUczMl9TT0MxNShP
U1NTWVMsIDAsIG1tSUhfUkJfQ05UTF9SSU5HMSk7Cj4gKwkJaWhfcmJfY250bCA9IFJFR19TRVRf
RklFTEQoaWhfcmJfY250bCwgSUhfUkJfQ05UTF9SSU5HMSwKPiArCQkJCQkgICBSQl9FTkFCTEUs
IDApOwo+ICsJCWlmIChhbWRncHVfc3Jpb3ZfdmYoYWRldikpIHsKPiArCQkJaWYgKHBzcF9yZWdf
cHJvZ3JhbSgmYWRldi0+cHNwLCBQU1BfUkVHX0lIX1JCX0NOVExfUklORzEsCj4gKwkJCQkJCWlo
X3JiX2NudGwpKSB7Cj4gKwkJCQlEUk1fRVJST1IoInByb2dyYW0gSUhfUkJfQ05UTF9SSU5HMSBm
YWlsZWQhXG4iKTsKPiArCQkJCXJldHVybjsKPiArCQkJfQo+ICsJCX0gZWxzZSB7Cj4gKwkJCVdS
RUczMl9TT0MxNShPU1NTWVMsIDAsIG1tSUhfUkJfQ05UTF9SSU5HMSwgaWhfcmJfY250bCk7Cj4g
KwkJfQo+ICsJCS8qIHNldCBycHRyLCB3cHRyIHRvIDAgKi8KPiArCQlXUkVHMzJfU09DMTUoT1NT
U1lTLCAwLCBtbUlIX1JCX1JQVFJfUklORzEsIDApOwo+ICsJCVdSRUczMl9TT0MxNShPU1NTWVMs
IDAsIG1tSUhfUkJfV1BUUl9SSU5HMSwgMCk7Cj4gKwkJYWRldi0+aXJxLmloMS5lbmFibGVkID0g
ZmFsc2U7Cj4gKwkJYWRldi0+aXJxLmloMS5ycHRyID0gMDsKPiArCX0KPiArCj4gKwlpZiAoYWRl
di0+aXJxLmloMi5yaW5nX3NpemUpIHsKPiArCQlpaF9yYl9jbnRsID0gUlJFRzMyX1NPQzE1KE9T
U1NZUywgMCwgbW1JSF9SQl9DTlRMX1JJTkcyKTsKPiArCQlpaF9yYl9jbnRsID0gUkVHX1NFVF9G
SUVMRChpaF9yYl9jbnRsLCBJSF9SQl9DTlRMX1JJTkcyLAo+ICsJCQkJCSAgIFJCX0VOQUJMRSwg
MCk7Cj4gKwkJaWYgKGFtZGdwdV9zcmlvdl92ZihhZGV2KSkgewo+ICsJCQlpZiAocHNwX3JlZ19w
cm9ncmFtKCZhZGV2LT5wc3AsIFBTUF9SRUdfSUhfUkJfQ05UTF9SSU5HMiwKPiArCQkJCQkJaWhf
cmJfY250bCkpIHsKPiArCQkJCURSTV9FUlJPUigicHJvZ3JhbSBJSF9SQl9DTlRMX1JJTkcyIGZh
aWxlZCFcbiIpOwo+ICsJCQkJcmV0dXJuOwo+ICsJCQl9Cj4gKwkJfSBlbHNlIHsKPiArCQkJV1JF
RzMyX1NPQzE1KE9TU1NZUywgMCwgbW1JSF9SQl9DTlRMX1JJTkcyLCBpaF9yYl9jbnRsKTsKPiAr
CQl9Cj4gKwo+ICsJCS8qIHNldCBycHRyLCB3cHRyIHRvIDAgKi8KPiArCQlXUkVHMzJfU09DMTUo
T1NTU1lTLCAwLCBtbUlIX1JCX1JQVFJfUklORzIsIDApOwo+ICsJCVdSRUczMl9TT0MxNShPU1NT
WVMsIDAsIG1tSUhfUkJfV1BUUl9SSU5HMiwgMCk7Cj4gKwkJYWRldi0+aXJxLmloMi5lbmFibGVk
ID0gZmFsc2U7Cj4gKwkJYWRldi0+aXJxLmloMi5ycHRyID0gMDsKPiArCX0KPiArfQo+ICsKPiAr
c3RhdGljIHVpbnQzMl90IHZlZ2ExMF9paF9yYl9jbnRsKHN0cnVjdCBhbWRncHVfaWhfcmluZyAq
aWgsIHVpbnQzMl90IGloX3JiX2NudGwpCj4gK3sKPiArCWludCByYl9idWZzeiA9IG9yZGVyX2Jh
c2VfMihpaC0+cmluZ19zaXplIC8gNCk7Cj4gKwo+ICsJaWhfcmJfY250bCA9IFJFR19TRVRfRklF
TEQoaWhfcmJfY250bCwgSUhfUkJfQ05UTCwKPiArCQkJCSAgIE1DX1NQQUNFLCBpaC0+dXNlX2J1
c19hZGRyID8gMSA6IDQpOwo+ICsJaWhfcmJfY250bCA9IFJFR19TRVRfRklFTEQoaWhfcmJfY250
bCwgSUhfUkJfQ05UTCwKPiArCQkJCSAgIFdQVFJfT1ZFUkZMT1dfQ0xFQVIsIDEpOwo+ICsJaWhf
cmJfY250bCA9IFJFR19TRVRfRklFTEQoaWhfcmJfY250bCwgSUhfUkJfQ05UTCwKPiArCQkJCSAg
IFdQVFJfT1ZFUkZMT1dfRU5BQkxFLCAxKTsKPiArCWloX3JiX2NudGwgPSBSRUdfU0VUX0ZJRUxE
KGloX3JiX2NudGwsIElIX1JCX0NOVEwsIFJCX1NJWkUsIHJiX2J1ZnN6KTsKPiArCS8qIFJpbmcg
QnVmZmVyIHdyaXRlIHBvaW50ZXIgd3JpdGViYWNrLiBJZiBlbmFibGVkLCBJSF9SQl9XUFRSIHJl
Z2lzdGVyCj4gKwkgKiB2YWx1ZSBpcyB3cml0dGVuIHRvIG1lbW9yeQo+ICsJICovCj4gKwlpaF9y
Yl9jbnRsID0gUkVHX1NFVF9GSUVMRChpaF9yYl9jbnRsLCBJSF9SQl9DTlRMLAo+ICsJCQkJICAg
V1BUUl9XUklURUJBQ0tfRU5BQkxFLCAxKTsKPiArCWloX3JiX2NudGwgPSBSRUdfU0VUX0ZJRUxE
KGloX3JiX2NudGwsIElIX1JCX0NOVEwsIE1DX1NOT09QLCAxKTsKPiArCWloX3JiX2NudGwgPSBS
RUdfU0VUX0ZJRUxEKGloX3JiX2NudGwsIElIX1JCX0NOVEwsIE1DX1JPLCAwKTsKPiArCWloX3Ji
X2NudGwgPSBSRUdfU0VUX0ZJRUxEKGloX3JiX2NudGwsIElIX1JCX0NOVEwsIE1DX1ZNSUQsIDAp
Owo+ICsKPiArCXJldHVybiBpaF9yYl9jbnRsOwo+ICt9Cj4gKwo+ICtzdGF0aWMgdWludDMyX3Qg
dmVnYTEwX2loX2Rvb3JiZWxsX3JwdHIoc3RydWN0IGFtZGdwdV9paF9yaW5nICppaCkKPiArewo+
ICsJdTMyIGloX2Rvb3JiZWxsX3J0cHIgPSAwOwo+ICsKPiArCWlmIChpaC0+dXNlX2Rvb3JiZWxs
KSB7Cj4gKwkJaWhfZG9vcmJlbGxfcnRwciA9IFJFR19TRVRfRklFTEQoaWhfZG9vcmJlbGxfcnRw
ciwKPiArCQkJCQkJIElIX0RPT1JCRUxMX1JQVFIsIE9GRlNFVCwKPiArCQkJCQkJIGloLT5kb29y
YmVsbF9pbmRleCk7Cj4gKwkJaWhfZG9vcmJlbGxfcnRwciA9IFJFR19TRVRfRklFTEQoaWhfZG9v
cmJlbGxfcnRwciwKPiArCQkJCQkJIElIX0RPT1JCRUxMX1JQVFIsCj4gKwkJCQkJCSBFTkFCTEUs
IDEpOwo+ICsJfSBlbHNlIHsKPiArCQlpaF9kb29yYmVsbF9ydHByID0gUkVHX1NFVF9GSUVMRChp
aF9kb29yYmVsbF9ydHByLAo+ICsJCQkJCQkgSUhfRE9PUkJFTExfUlBUUiwKPiArCQkJCQkJIEVO
QUJMRSwgMCk7Cj4gKwl9Cj4gKwlyZXR1cm4gaWhfZG9vcmJlbGxfcnRwcjsKPiArfQo+ICsKPiAr
LyoqCj4gKyAqIHZlZ2ExMF9paF9pcnFfaW5pdCAtIGluaXQgYW5kIGVuYWJsZSB0aGUgaW50ZXJy
dXB0IHJpbmcKPiArICoKPiArICogQGFkZXY6IGFtZGdwdV9kZXZpY2UgcG9pbnRlcgo+ICsgKgo+
ICsgKiBBbGxvY2F0ZSBhIHJpbmcgYnVmZmVyIGZvciB0aGUgaW50ZXJydXB0IGNvbnRyb2xsZXIs
Cj4gKyAqIGVuYWJsZSB0aGUgUkxDLCBkaXNhYmxlIGludGVycnVwdHMsIGVuYWJsZSB0aGUgSUgK
PiArICogcmluZyBidWZmZXIgYW5kIGVuYWJsZSBpdCAoVkkpLgo+ICsgKiBDYWxsZWQgYXQgZGV2
aWNlIGxvYWQgYW5kIHJldW1lLgo+ICsgKiBSZXR1cm5zIDAgZm9yIHN1Y2Nlc3MsIGVycm9ycyBm
b3IgZmFpbHVyZS4KPiArICovCj4gK3N0YXRpYyBpbnQgdmVnYTEwX2loX2lycV9pbml0KHN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2KQo+ICt7Cj4gKwlzdHJ1Y3QgYW1kZ3B1X2loX3JpbmcgKmlo
Owo+ICsJdTMyIGloX3JiX2NudGwsIGloX2NoaWNrZW47Cj4gKwlpbnQgcmV0ID0gMDsKPiArCXUz
MiB0bXA7Cj4gKwo+ICsJLyogZGlzYWJsZSBpcnFzICovCj4gKwl2ZWdhMTBfaWhfZGlzYWJsZV9p
bnRlcnJ1cHRzKGFkZXYpOwo+ICsKPiArCWFkZXYtPm5iaW8uZnVuY3MtPmloX2NvbnRyb2woYWRl
dik7Cj4gKwo+ICsJaWggPSAmYWRldi0+aXJxLmloOwo+ICsJLyogUmluZyBCdWZmZXIgYmFzZS4g
WzM5OjhdIG9mIDQwLWJpdCBhZGRyZXNzIG9mIHRoZSBiZWdpbm5pbmcgb2YgdGhlIHJpbmcgYnVm
ZmVyKi8KPiArCVdSRUczMl9TT0MxNShPU1NTWVMsIDAsIG1tSUhfUkJfQkFTRSwgaWgtPmdwdV9h
ZGRyID4+IDgpOwo+ICsJV1JFRzMyX1NPQzE1KE9TU1NZUywgMCwgbW1JSF9SQl9CQVNFX0hJLCAo
aWgtPmdwdV9hZGRyID4+IDQwKSAmIDB4ZmYpOwo+ICsKPiArCWloX3JiX2NudGwgPSBSUkVHMzJf
U09DMTUoT1NTU1lTLCAwLCBtbUlIX1JCX0NOVEwpOwo+ICsJaWhfcmJfY250bCA9IHZlZ2ExMF9p
aF9yYl9jbnRsKGloLCBpaF9yYl9jbnRsKTsKPiArCWloX3JiX2NudGwgPSBSRUdfU0VUX0ZJRUxE
KGloX3JiX2NudGwsIElIX1JCX0NOVEwsIFJQVFJfUkVBUk0sCj4gKwkJCQkgICAhIWFkZXYtPmly
cS5tc2lfZW5hYmxlZCk7Cj4gKwlpZiAoYW1kZ3B1X3NyaW92X3ZmKGFkZXYpKSB7Cj4gKwkJaWYg
KHBzcF9yZWdfcHJvZ3JhbSgmYWRldi0+cHNwLCBQU1BfUkVHX0lIX1JCX0NOVEwsIGloX3JiX2Nu
dGwpKSB7Cj4gKwkJCURSTV9FUlJPUigiUFNQIHByb2dyYW0gSUhfUkJfQ05UTCBmYWlsZWQhXG4i
KTsKPiArCQkJcmV0dXJuIC1FVElNRURPVVQ7Cj4gKwkJfQo+ICsJfSBlbHNlIHsKPiArCQlXUkVH
MzJfU09DMTUoT1NTU1lTLCAwLCBtbUlIX1JCX0NOVEwsIGloX3JiX2NudGwpOwo+ICsJfQo+ICsK
PiArCWlmICgoYWRldi0+YXNpY190eXBlID09IENISVBfQVJDVFVSVVMgJiYKPiArCSAgICAgYWRl
di0+ZmlybXdhcmUubG9hZF90eXBlID09IEFNREdQVV9GV19MT0FEX0RJUkVDVCkgfHwKPiArCSAg
ICBhZGV2LT5hc2ljX3R5cGUgPT0gQ0hJUF9SRU5PSVIpIHsKPiArCQlpaF9jaGlja2VuID0gUlJF
RzMyX1NPQzE1KE9TU1NZUywgMCwgbW1JSF9DSElDS0VOKTsKPiArCQlpZiAoYWRldi0+aXJxLmlo
LnVzZV9idXNfYWRkcikgewo+ICsJCQlpaF9jaGlja2VuID0gUkVHX1NFVF9GSUVMRChpaF9jaGlj
a2VuLCBJSF9DSElDS0VOLAo+ICsJCQkJCQkgICBNQ19TUEFDRV9HUEFfRU5BQkxFLCAxKTsKPiAr
CQl9IGVsc2Ugewo+ICsJCQlpaF9jaGlja2VuID0gUkVHX1NFVF9GSUVMRChpaF9jaGlja2VuLCBJ
SF9DSElDS0VOLAo+ICsJCQkJCQkgICBNQ19TUEFDRV9GQlBBX0VOQUJMRSwgMSk7Cj4gKwkJfQo+
ICsJCVdSRUczMl9TT0MxNShPU1NTWVMsIDAsIG1tSUhfQ0hJQ0tFTiwgaWhfY2hpY2tlbik7Cj4g
Kwl9Cj4gKwo+ICsJLyogc2V0IHRoZSB3cml0ZWJhY2sgYWRkcmVzcyB3aGV0aGVyIGl0J3MgZW5h
YmxlZCBvciBub3QgKi8KPiArCVdSRUczMl9TT0MxNShPU1NTWVMsIDAsIG1tSUhfUkJfV1BUUl9B
RERSX0xPLAo+ICsJCSAgICAgbG93ZXJfMzJfYml0cyhpaC0+d3B0cl9hZGRyKSk7Cj4gKwlXUkVH
MzJfU09DMTUoT1NTU1lTLCAwLCBtbUlIX1JCX1dQVFJfQUREUl9ISSwKPiArCQkgICAgIHVwcGVy
XzMyX2JpdHMoaWgtPndwdHJfYWRkcikgJiAweEZGRkYpOwo+ICsKPiArCS8qIHNldCBycHRyLCB3
cHRyIHRvIDAgKi8KPiArCVdSRUczMl9TT0MxNShPU1NTWVMsIDAsIG1tSUhfUkJfV1BUUiwgMCk7
Cj4gKwlXUkVHMzJfU09DMTUoT1NTU1lTLCAwLCBtbUlIX1JCX1JQVFIsIDApOwo+ICsKPiArCVdS
RUczMl9TT0MxNShPU1NTWVMsIDAsIG1tSUhfRE9PUkJFTExfUlBUUiwKPiArCQkgICAgIHZlZ2Ex
MF9paF9kb29yYmVsbF9ycHRyKGloKSk7Cj4gKwo+ICsJaWggPSAmYWRldi0+aXJxLmloMTsKPiAr
CWlmIChpaC0+cmluZ19zaXplKSB7Cj4gKwkJV1JFRzMyX1NPQzE1KE9TU1NZUywgMCwgbW1JSF9S
Ql9CQVNFX1JJTkcxLCBpaC0+Z3B1X2FkZHIgPj4gOCk7Cj4gKwkJV1JFRzMyX1NPQzE1KE9TU1NZ
UywgMCwgbW1JSF9SQl9CQVNFX0hJX1JJTkcxLAo+ICsJCQkgICAgIChpaC0+Z3B1X2FkZHIgPj4g
NDApICYgMHhmZik7Cj4gKwo+ICsJCWloX3JiX2NudGwgPSBSUkVHMzJfU09DMTUoT1NTU1lTLCAw
LCBtbUlIX1JCX0NOVExfUklORzEpOwo+ICsJCWloX3JiX2NudGwgPSB2ZWdhMTBfaWhfcmJfY250
bChpaCwgaWhfcmJfY250bCk7Cj4gKwkJaWhfcmJfY250bCA9IFJFR19TRVRfRklFTEQoaWhfcmJf
Y250bCwgSUhfUkJfQ05UTCwKPiArCQkJCQkgICBXUFRSX09WRVJGTE9XX0VOQUJMRSwgMCk7Cj4g
KwkJaWhfcmJfY250bCA9IFJFR19TRVRfRklFTEQoaWhfcmJfY250bCwgSUhfUkJfQ05UTCwKPiAr
CQkJCQkgICBSQl9GVUxMX0RSQUlOX0VOQUJMRSwgMSk7Cj4gKwkJaWYgKGFtZGdwdV9zcmlvdl92
ZihhZGV2KSkgewo+ICsJCQlpZiAocHNwX3JlZ19wcm9ncmFtKCZhZGV2LT5wc3AsIFBTUF9SRUdf
SUhfUkJfQ05UTF9SSU5HMSwKPiArCQkJCQkJaWhfcmJfY250bCkpIHsKPiArCQkJCURSTV9FUlJP
UigicHJvZ3JhbSBJSF9SQl9DTlRMX1JJTkcxIGZhaWxlZCFcbiIpOwo+ICsJCQkJcmV0dXJuIC1F
VElNRURPVVQ7Cj4gKwkJCX0KPiArCQl9IGVsc2Ugewo+ICsJCQlXUkVHMzJfU09DMTUoT1NTU1lT
LCAwLCBtbUlIX1JCX0NOVExfUklORzEsIGloX3JiX2NudGwpOwo+ICsJCX0KPiArCj4gKwkJLyog
c2V0IHJwdHIsIHdwdHIgdG8gMCAqLwo+ICsJCVdSRUczMl9TT0MxNShPU1NTWVMsIDAsIG1tSUhf
UkJfV1BUUl9SSU5HMSwgMCk7Cj4gKwkJV1JFRzMyX1NPQzE1KE9TU1NZUywgMCwgbW1JSF9SQl9S
UFRSX1JJTkcxLCAwKTsKPiArCj4gKwkJV1JFRzMyX1NPQzE1KE9TU1NZUywgMCwgbW1JSF9ET09S
QkVMTF9SUFRSX1JJTkcxLAo+ICsJCQkgICAgIHZlZ2ExMF9paF9kb29yYmVsbF9ycHRyKGloKSk7
Cj4gKwl9Cj4gKwo+ICsJaWggPSAmYWRldi0+aXJxLmloMjsKPiArCWlmIChpaC0+cmluZ19zaXpl
KSB7Cj4gKwkJV1JFRzMyX1NPQzE1KE9TU1NZUywgMCwgbW1JSF9SQl9CQVNFX1JJTkcyLCBpaC0+
Z3B1X2FkZHIgPj4gOCk7Cj4gKwkJV1JFRzMyX1NPQzE1KE9TU1NZUywgMCwgbW1JSF9SQl9CQVNF
X0hJX1JJTkcyLAo+ICsJCQkgICAgIChpaC0+Z3B1X2FkZHIgPj4gNDApICYgMHhmZik7Cj4gKwo+
ICsJCWloX3JiX2NudGwgPSBSUkVHMzJfU09DMTUoT1NTU1lTLCAwLCBtbUlIX1JCX0NOVExfUklO
RzIpOwo+ICsJCWloX3JiX2NudGwgPSB2ZWdhMTBfaWhfcmJfY250bChpaCwgaWhfcmJfY250bCk7
Cj4gKwo+ICsJCWlmIChhbWRncHVfc3Jpb3ZfdmYoYWRldikpIHsKPiArCQkJaWYgKHBzcF9yZWdf
cHJvZ3JhbSgmYWRldi0+cHNwLCBQU1BfUkVHX0lIX1JCX0NOVExfUklORzIsCj4gKwkJCQkJCWlo
X3JiX2NudGwpKSB7Cj4gKwkJCQlEUk1fRVJST1IoInByb2dyYW0gSUhfUkJfQ05UTF9SSU5HMiBm
YWlsZWQhXG4iKTsKPiArCQkJCXJldHVybiAtRVRJTUVET1VUOwo+ICsJCQl9Cj4gKwkJfSBlbHNl
IHsKPiArCQkJV1JFRzMyX1NPQzE1KE9TU1NZUywgMCwgbW1JSF9SQl9DTlRMX1JJTkcyLCBpaF9y
Yl9jbnRsKTsKPiArCQl9Cj4gKwo+ICsJCS8qIHNldCBycHRyLCB3cHRyIHRvIDAgKi8KPiArCQlX
UkVHMzJfU09DMTUoT1NTU1lTLCAwLCBtbUlIX1JCX1dQVFJfUklORzIsIDApOwo+ICsJCVdSRUcz
Ml9TT0MxNShPU1NTWVMsIDAsIG1tSUhfUkJfUlBUUl9SSU5HMiwgMCk7Cj4gKwo+ICsJCVdSRUcz
Ml9TT0MxNShPU1NTWVMsIDAsIG1tSUhfRE9PUkJFTExfUlBUUl9SSU5HMiwKPiArCQkJICAgICB2
ZWdhMTBfaWhfZG9vcmJlbGxfcnB0cihpaCkpOwo+ICsJfQo+ICsKPiArCXRtcCA9IFJSRUczMl9T
T0MxNShPU1NTWVMsIDAsIG1tSUhfU1RPUk1fQ0xJRU5UX0xJU1RfQ05UTCk7Cj4gKwl0bXAgPSBS
RUdfU0VUX0ZJRUxEKHRtcCwgSUhfU1RPUk1fQ0xJRU5UX0xJU1RfQ05UTCwKPiArCQkJICAgIENM
SUVOVDE4X0lTX1NUT1JNX0NMSUVOVCwgMSk7Cj4gKwlXUkVHMzJfU09DMTUoT1NTU1lTLCAwLCBt
bUlIX1NUT1JNX0NMSUVOVF9MSVNUX0NOVEwsIHRtcCk7Cj4gKwo+ICsJdG1wID0gUlJFRzMyX1NP
QzE1KE9TU1NZUywgMCwgbW1JSF9JTlRfRkxPT0RfQ05UTCk7Cj4gKwl0bXAgPSBSRUdfU0VUX0ZJ
RUxEKHRtcCwgSUhfSU5UX0ZMT09EX0NOVEwsIEZMT09EX0NOVExfRU5BQkxFLCAxKTsKPiArCVdS
RUczMl9TT0MxNShPU1NTWVMsIDAsIG1tSUhfSU5UX0ZMT09EX0NOVEwsIHRtcCk7Cj4gKwo+ICsJ
cGNpX3NldF9tYXN0ZXIoYWRldi0+cGRldik7Cj4gKwo+ICsJLyogZW5hYmxlIGludGVycnVwdHMg
Ki8KPiArCXZlZ2ExMF9paF9lbmFibGVfaW50ZXJydXB0cyhhZGV2KTsKPiArCj4gKwlyZXR1cm4g
cmV0Owo+ICt9Cj4gKwo+ICsvKioKPiArICogdmVnYTEwX2loX2lycV9kaXNhYmxlIC0gZGlzYWJs
ZSBpbnRlcnJ1cHRzCj4gKyAqCj4gKyAqIEBhZGV2OiBhbWRncHVfZGV2aWNlIHBvaW50ZXIKPiAr
ICoKPiArICogRGlzYWJsZSBpbnRlcnJ1cHRzIG9uIHRoZSBodyAoVkVHQTEwKS4KPiArICovCj4g
K3N0YXRpYyB2b2lkIHZlZ2ExMF9paF9pcnFfZGlzYWJsZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldikKPiArewo+ICsJdmVnYTEwX2loX2Rpc2FibGVfaW50ZXJydXB0cyhhZGV2KTsKPiArCj4g
KwkvKiBXYWl0IGFuZCBhY2tub3dsZWRnZSBpcnEgKi8KPiArCW1kZWxheSgxKTsKPiArfQo+ICsK
PiArLyoqCj4gKyAqIHZlZ2ExMF9paF9nZXRfd3B0ciAtIGdldCB0aGUgSUggcmluZyBidWZmZXIg
d3B0cgo+ICsgKgo+ICsgKiBAYWRldjogYW1kZ3B1X2RldmljZSBwb2ludGVyCj4gKyAqCj4gKyAq
IEdldCB0aGUgSUggcmluZyBidWZmZXIgd3B0ciBmcm9tIGVpdGhlciB0aGUgcmVnaXN0ZXIKPiAr
ICogb3IgdGhlIHdyaXRlYmFjayBtZW1vcnkgYnVmZmVyIChWRUdBMTApLiAgQWxzbyBjaGVjayBm
b3IKPiArICogcmluZyBidWZmZXIgb3ZlcmZsb3cgYW5kIGRlYWwgd2l0aCBpdC4KPiArICogUmV0
dXJucyB0aGUgdmFsdWUgb2YgdGhlIHdwdHIuCj4gKyAqLwo+ICtzdGF0aWMgdTMyIHZlZ2ExMF9p
aF9nZXRfd3B0cihzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKPiArCQkJICAgICAgc3RydWN0
IGFtZGdwdV9paF9yaW5nICppaCkKPiArewo+ICsJdTMyIHdwdHIsIHJlZywgdG1wOwo+ICsKPiAr
CXdwdHIgPSBsZTMyX3RvX2NwdSgqaWgtPndwdHJfY3B1KTsKPiArCj4gKwlpZiAoIVJFR19HRVRf
RklFTEQod3B0ciwgSUhfUkJfV1BUUiwgUkJfT1ZFUkZMT1cpKQo+ICsJCWdvdG8gb3V0Owo+ICsK
PiArCS8qIERvdWJsZSBjaGVjayB0aGF0IHRoZSBvdmVyZmxvdyB3YXNuJ3QgYWxyZWFkeSBjbGVh
cmVkLiAqLwo+ICsKPiArCWlmIChpaCA9PSAmYWRldi0+aXJxLmloKQo+ICsJCXJlZyA9IFNPQzE1
X1JFR19PRkZTRVQoT1NTU1lTLCAwLCBtbUlIX1JCX1dQVFIpOwo+ICsJZWxzZSBpZiAoaWggPT0g
JmFkZXYtPmlycS5paDEpCj4gKwkJcmVnID0gU09DMTVfUkVHX09GRlNFVChPU1NTWVMsIDAsIG1t
SUhfUkJfV1BUUl9SSU5HMSk7Cj4gKwllbHNlIGlmIChpaCA9PSAmYWRldi0+aXJxLmloMikKPiAr
CQlyZWcgPSBTT0MxNV9SRUdfT0ZGU0VUKE9TU1NZUywgMCwgbW1JSF9SQl9XUFRSX1JJTkcyKTsK
PiArCWVsc2UKPiArCQlCVUcoKTsKPiArCj4gKwl3cHRyID0gUlJFRzMyX05PX0tJUShyZWcpOwo+
ICsJaWYgKCFSRUdfR0VUX0ZJRUxEKHdwdHIsIElIX1JCX1dQVFIsIFJCX09WRVJGTE9XKSkKPiAr
CQlnb3RvIG91dDsKPiArCj4gKwl3cHRyID0gUkVHX1NFVF9GSUVMRCh3cHRyLCBJSF9SQl9XUFRS
LCBSQl9PVkVSRkxPVywgMCk7Cj4gKwo+ICsJLyogV2hlbiBhIHJpbmcgYnVmZmVyIG92ZXJmbG93
IGhhcHBlbiBzdGFydCBwYXJzaW5nIGludGVycnVwdAo+ICsJICogZnJvbSB0aGUgbGFzdCBub3Qg
b3ZlcndyaXR0ZW4gdmVjdG9yICh3cHRyICsgMzIpLiBIb3BlZnVsbHkKPiArCSAqIHRoaXMgc2hv
dWxkIGFsbG93IHVzIHRvIGNhdGNodXAuCj4gKwkgKi8KPiArCXRtcCA9ICh3cHRyICsgMzIpICYg
aWgtPnB0cl9tYXNrOwo+ICsJZGV2X3dhcm4oYWRldi0+ZGV2LCAiSUggcmluZyBidWZmZXIgb3Zl
cmZsb3cgIgo+ICsJCSAiKDB4JTA4WCwgMHglMDhYLCAweCUwOFgpXG4iLAo+ICsJCSB3cHRyLCBp
aC0+cnB0ciwgdG1wKTsKPiArCWloLT5ycHRyID0gdG1wOwo+ICsKPiArCWlmIChpaCA9PSAmYWRl
di0+aXJxLmloKQo+ICsJCXJlZyA9IFNPQzE1X1JFR19PRkZTRVQoT1NTU1lTLCAwLCBtbUlIX1JC
X0NOVEwpOwo+ICsJZWxzZSBpZiAoaWggPT0gJmFkZXYtPmlycS5paDEpCj4gKwkJcmVnID0gU09D
MTVfUkVHX09GRlNFVChPU1NTWVMsIDAsIG1tSUhfUkJfQ05UTF9SSU5HMSk7Cj4gKwllbHNlIGlm
IChpaCA9PSAmYWRldi0+aXJxLmloMikKPiArCQlyZWcgPSBTT0MxNV9SRUdfT0ZGU0VUKE9TU1NZ
UywgMCwgbW1JSF9SQl9DTlRMX1JJTkcyKTsKPiArCWVsc2UKPiArCQlCVUcoKTsKPiArCj4gKwl0
bXAgPSBSUkVHMzJfTk9fS0lRKHJlZyk7Cj4gKwl0bXAgPSBSRUdfU0VUX0ZJRUxEKHRtcCwgSUhf
UkJfQ05UTCwgV1BUUl9PVkVSRkxPV19DTEVBUiwgMSk7Cj4gKwlXUkVHMzJfTk9fS0lRKHJlZywg
dG1wKTsKPiArCj4gK291dDoKPiArCXJldHVybiAod3B0ciAmIGloLT5wdHJfbWFzayk7Cj4gK30K
PiArCj4gKy8qKgo+ICsgKiB2ZWdhMTBfaWhfZGVjb2RlX2l2IC0gZGVjb2RlIGFuIGludGVycnVw
dCB2ZWN0b3IKPiArICoKPiArICogQGFkZXY6IGFtZGdwdV9kZXZpY2UgcG9pbnRlcgo+ICsgKgo+
ICsgKiBEZWNvZGVzIHRoZSBpbnRlcnJ1cHQgdmVjdG9yIGF0IHRoZSBjdXJyZW50IHJwdHIKPiAr
ICogcG9zaXRpb24gYW5kIGFsc28gYWR2YW5jZSB0aGUgcG9zaXRpb24uCj4gKyAqLwo+ICtzdGF0
aWMgdm9pZCB2ZWdhMTBfaWhfZGVjb2RlX2l2KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LAo+
ICsJCQkJc3RydWN0IGFtZGdwdV9paF9yaW5nICppaCwKPiArCQkJCXN0cnVjdCBhbWRncHVfaXZf
ZW50cnkgKmVudHJ5KQo+ICt7Cj4gKwkvKiB3cHRyL3JwdHIgYXJlIGluIGJ5dGVzISAqLwo+ICsJ
dTMyIHJpbmdfaW5kZXggPSBpaC0+cnB0ciA+PiAyOwo+ICsJdWludDMyX3QgZHdbOF07Cj4gKwo+
ICsJZHdbMF0gPSBsZTMyX3RvX2NwdShpaC0+cmluZ1tyaW5nX2luZGV4ICsgMF0pOwo+ICsJZHdb
MV0gPSBsZTMyX3RvX2NwdShpaC0+cmluZ1tyaW5nX2luZGV4ICsgMV0pOwo+ICsJZHdbMl0gPSBs
ZTMyX3RvX2NwdShpaC0+cmluZ1tyaW5nX2luZGV4ICsgMl0pOwo+ICsJZHdbM10gPSBsZTMyX3Rv
X2NwdShpaC0+cmluZ1tyaW5nX2luZGV4ICsgM10pOwo+ICsJZHdbNF0gPSBsZTMyX3RvX2NwdShp
aC0+cmluZ1tyaW5nX2luZGV4ICsgNF0pOwo+ICsJZHdbNV0gPSBsZTMyX3RvX2NwdShpaC0+cmlu
Z1tyaW5nX2luZGV4ICsgNV0pOwo+ICsJZHdbNl0gPSBsZTMyX3RvX2NwdShpaC0+cmluZ1tyaW5n
X2luZGV4ICsgNl0pOwo+ICsJZHdbN10gPSBsZTMyX3RvX2NwdShpaC0+cmluZ1tyaW5nX2luZGV4
ICsgN10pOwo+ICsKPiArCWVudHJ5LT5jbGllbnRfaWQgPSBkd1swXSAmIDB4ZmY7Cj4gKwllbnRy
eS0+c3JjX2lkID0gKGR3WzBdID4+IDgpICYgMHhmZjsKPiArCWVudHJ5LT5yaW5nX2lkID0gKGR3
WzBdID4+IDE2KSAmIDB4ZmY7Cj4gKwllbnRyeS0+dm1pZCA9IChkd1swXSA+PiAyNCkgJiAweGY7
Cj4gKwllbnRyeS0+dm1pZF9zcmMgPSAoZHdbMF0gPj4gMzEpOwo+ICsJZW50cnktPnRpbWVzdGFt
cCA9IGR3WzFdIHwgKCh1NjQpKGR3WzJdICYgMHhmZmZmKSA8PCAzMik7Cj4gKwllbnRyeS0+dGlt
ZXN0YW1wX3NyYyA9IGR3WzJdID4+IDMxOwo+ICsJZW50cnktPnBhc2lkID0gZHdbM10gJiAweGZm
ZmY7Cj4gKwllbnRyeS0+cGFzaWRfc3JjID0gZHdbM10gPj4gMzE7Cj4gKwllbnRyeS0+c3JjX2Rh
dGFbMF0gPSBkd1s0XTsKPiArCWVudHJ5LT5zcmNfZGF0YVsxXSA9IGR3WzVdOwo+ICsJZW50cnkt
PnNyY19kYXRhWzJdID0gZHdbNl07Cj4gKwllbnRyeS0+c3JjX2RhdGFbM10gPSBkd1s3XTsKPiAr
Cj4gKwkvKiB3cHRyL3JwdHIgYXJlIGluIGJ5dGVzISAqLwo+ICsJaWgtPnJwdHIgKz0gMzI7Cj4g
K30KPiArCj4gKy8qKgo+ICsgKiB2ZWdhMTBfaWhfaXJxX3JlYXJtIC0gcmVhcm0gSVJRIGlmIGxv
c3QKPiArICoKPiArICogQGFkZXY6IGFtZGdwdV9kZXZpY2UgcG9pbnRlcgo+ICsgKgo+ICsgKi8K
PiArc3RhdGljIHZvaWQgdmVnYTEwX2loX2lycV9yZWFybShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldiwKPiArCQkJICAgICAgIHN0cnVjdCBhbWRncHVfaWhfcmluZyAqaWgpCj4gK3sKPiArCXVp
bnQzMl90IHJlZ19ycHRyID0gMDsKPiArCXVpbnQzMl90IHYgPSAwOwo+ICsJdWludDMyX3QgaSA9
IDA7Cj4gKwo+ICsJaWYgKGloID09ICZhZGV2LT5pcnEuaWgpCj4gKwkJcmVnX3JwdHIgPSBTT0Mx
NV9SRUdfT0ZGU0VUKE9TU1NZUywgMCwgbW1JSF9SQl9SUFRSKTsKPiArCWVsc2UgaWYgKGloID09
ICZhZGV2LT5pcnEuaWgxKQo+ICsJCXJlZ19ycHRyID0gU09DMTVfUkVHX09GRlNFVChPU1NTWVMs
IDAsIG1tSUhfUkJfUlBUUl9SSU5HMSk7Cj4gKwllbHNlIGlmIChpaCA9PSAmYWRldi0+aXJxLmlo
MikKPiArCQlyZWdfcnB0ciA9IFNPQzE1X1JFR19PRkZTRVQoT1NTU1lTLCAwLCBtbUlIX1JCX1JQ
VFJfUklORzIpOwo+ICsJZWxzZQo+ICsJCXJldHVybjsKPiArCj4gKwkvKiBSZWFybSBJUlEgLyBy
ZS13d3JpdGUgZG9vcmJlbGwgaWYgZG9vcmJlbGwgd3JpdGUgaXMgbG9zdCAqLwo+ICsJZm9yIChp
ID0gMDsgaSA8IE1BWF9SRUFSTV9SRVRSWTsgaSsrKSB7Cj4gKwkJdiA9IFJSRUczMl9OT19LSVEo
cmVnX3JwdHIpOwo+ICsJCWlmICgodiA8IGloLT5yaW5nX3NpemUpICYmICh2ICE9IGloLT5ycHRy
KSkKPiArCQkJV0RPT1JCRUxMMzIoaWgtPmRvb3JiZWxsX2luZGV4LCBpaC0+cnB0cik7Cj4gKwkJ
ZWxzZQo+ICsJCQlicmVhazsKPiArCX0KPiArfQo+ICsKPiArLyoqCj4gKyAqIHZlZ2ExMF9paF9z
ZXRfcnB0ciAtIHNldCB0aGUgSUggcmluZyBidWZmZXIgcnB0cgo+ICsgKgo+ICsgKiBAYWRldjog
YW1kZ3B1X2RldmljZSBwb2ludGVyCj4gKyAqCj4gKyAqIFNldCB0aGUgSUggcmluZyBidWZmZXIg
cnB0ci4KPiArICovCj4gK3N0YXRpYyB2b2lkIHZlZ2ExMF9paF9zZXRfcnB0cihzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldiwKPiArCQkJICAgICAgIHN0cnVjdCBhbWRncHVfaWhfcmluZyAqaWgp
Cj4gK3sKPiArCWlmIChpaC0+dXNlX2Rvb3JiZWxsKSB7Cj4gKwkJLyogWFhYIGNoZWNrIGlmIHN3
YXBwaW5nIGlzIG5lY2Vzc2FyeSBvbiBCRSAqLwo+ICsJCSppaC0+cnB0cl9jcHUgPSBpaC0+cnB0
cjsKPiArCQlXRE9PUkJFTEwzMihpaC0+ZG9vcmJlbGxfaW5kZXgsIGloLT5ycHRyKTsKPiArCj4g
KwkJaWYgKGFtZGdwdV9zcmlvdl92ZihhZGV2KSkKPiArCQkJdmVnYTEwX2loX2lycV9yZWFybShh
ZGV2LCBpaCk7Cj4gKwl9IGVsc2UgaWYgKGloID09ICZhZGV2LT5pcnEuaWgpIHsKPiArCQlXUkVH
MzJfU09DMTUoT1NTU1lTLCAwLCBtbUlIX1JCX1JQVFIsIGloLT5ycHRyKTsKPiArCX0gZWxzZSBp
ZiAoaWggPT0gJmFkZXYtPmlycS5paDEpIHsKPiArCQlXUkVHMzJfU09DMTUoT1NTU1lTLCAwLCBt
bUlIX1JCX1JQVFJfUklORzEsIGloLT5ycHRyKTsKPiArCX0gZWxzZSBpZiAoaWggPT0gJmFkZXYt
PmlycS5paDIpIHsKPiArCQlXUkVHMzJfU09DMTUoT1NTU1lTLCAwLCBtbUlIX1JCX1JQVFJfUklO
RzIsIGloLT5ycHRyKTsKPiArCX0KPiArfQo+ICsKPiArLyoqCj4gKyAqIHZlZ2ExMF9paF9zZWxm
X2lycSAtIGRpc3BhdGNoIHdvcmsgZm9yIHJpbmcgMSBhbmQgMgo+ICsgKgo+ICsgKiBAYWRldjog
YW1kZ3B1X2RldmljZSBwb2ludGVyCj4gKyAqIEBzb3VyY2U6IGlycSBzb3VyY2UKPiArICogQGVu
dHJ5OiBJViB3aXRoIFdQVFIgdXBkYXRlCj4gKyAqCj4gKyAqIFVwZGF0ZSB0aGUgV1BUUiBmcm9t
IHRoZSBJViBhbmQgc2NoZWR1bGUgd29yayB0byBoYW5kbGUgdGhlIGVudHJpZXMuCj4gKyAqLwo+
ICtzdGF0aWMgaW50IHZlZ2ExMF9paF9zZWxmX2lycShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRl
diwKPiArCQkJICAgICAgc3RydWN0IGFtZGdwdV9pcnFfc3JjICpzb3VyY2UsCj4gKwkJCSAgICAg
IHN0cnVjdCBhbWRncHVfaXZfZW50cnkgKmVudHJ5KQo+ICt7Cj4gKwl1aW50MzJfdCB3cHRyID0g
Y3B1X3RvX2xlMzIoZW50cnktPnNyY19kYXRhWzBdKTsKPiArCj4gKwlzd2l0Y2ggKGVudHJ5LT5y
aW5nX2lkKSB7Cj4gKwljYXNlIDE6Cj4gKwkJKmFkZXYtPmlycS5paDEud3B0cl9jcHUgPSB3cHRy
Owo+ICsJCXNjaGVkdWxlX3dvcmsoJmFkZXYtPmlycS5paDFfd29yayk7Cj4gKwkJYnJlYWs7Cj4g
KwljYXNlIDI6Cj4gKwkJKmFkZXYtPmlycS5paDIud3B0cl9jcHUgPSB3cHRyOwo+ICsJCXNjaGVk
dWxlX3dvcmsoJmFkZXYtPmlycS5paDJfd29yayk7Cj4gKwkJYnJlYWs7Cj4gKwlkZWZhdWx0Ogo+
ICsJCWJyZWFrOwo+ICsJfQo+ICsJcmV0dXJuIDA7Cj4gK30KPiArCj4gK3N0YXRpYyBjb25zdCBz
dHJ1Y3QgYW1kZ3B1X2lycV9zcmNfZnVuY3MgdmVnYTEwX2loX3NlbGZfaXJxX2Z1bmNzID0gewo+
ICsJLnByb2Nlc3MgPSB2ZWdhMTBfaWhfc2VsZl9pcnEsCj4gK307Cj4gKwo+ICtzdGF0aWMgdm9p
ZCB2ZWdhMTBfaWhfc2V0X3NlbGZfaXJxX2Z1bmNzKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2
KQo+ICt7Cj4gKwlhZGV2LT5pcnEuc2VsZl9pcnEubnVtX3R5cGVzID0gMDsKPiArCWFkZXYtPmly
cS5zZWxmX2lycS5mdW5jcyA9ICZ2ZWdhMTBfaWhfc2VsZl9pcnFfZnVuY3M7Cj4gK30KPiArCj4g
K3N0YXRpYyBpbnQgdmVnYTEwX2loX2Vhcmx5X2luaXQodm9pZCAqaGFuZGxlKQo+ICt7Cj4gKwlz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqKWhhbmRs
ZTsKPiArCj4gKwl2ZWdhMTBfaWhfc2V0X2ludGVycnVwdF9mdW5jcyhhZGV2KTsKPiArCXZlZ2Ex
MF9paF9zZXRfc2VsZl9pcnFfZnVuY3MoYWRldik7Cj4gKwlyZXR1cm4gMDsKPiArfQo+ICsKPiAr
c3RhdGljIGludCB2ZWdhMTBfaWhfc3dfaW5pdCh2b2lkICpoYW5kbGUpCj4gK3sKPiArCXN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2ID0gKHN0cnVjdCBhbWRncHVfZGV2aWNlICopaGFuZGxlOwo+
ICsJaW50IHI7Cj4gKwo+ICsJciA9IGFtZGdwdV9pcnFfYWRkX2lkKGFkZXYsIFNPQzE1X0lIX0NM
SUVOVElEX0lILCAwLAo+ICsJCQkgICAgICAmYWRldi0+aXJxLnNlbGZfaXJxKTsKPiArCWlmIChy
KQo+ICsJCXJldHVybiByOwo+ICsKPiArCXIgPSBhbWRncHVfaWhfcmluZ19pbml0KGFkZXYsICZh
ZGV2LT5pcnEuaWgsIDI1NiAqIDEwMjQsIHRydWUpOwo+ICsJaWYgKHIpCj4gKwkJcmV0dXJuIHI7
Cj4gKwo+ICsJYWRldi0+aXJxLmloLnVzZV9kb29yYmVsbCA9IHRydWU7Cj4gKwlhZGV2LT5pcnEu
aWguZG9vcmJlbGxfaW5kZXggPSBhZGV2LT5kb29yYmVsbF9pbmRleC5paCA8PCAxOwo+ICsKPiAr
CXIgPSBhbWRncHVfaWhfcmluZ19pbml0KGFkZXYsICZhZGV2LT5pcnEuaWgxLCBQQUdFX1NJWkUs
IHRydWUpOwo+ICsJaWYgKHIpCj4gKwkJcmV0dXJuIHI7Cj4gKwo+ICsJYWRldi0+aXJxLmloMS51
c2VfZG9vcmJlbGwgPSB0cnVlOwo+ICsJYWRldi0+aXJxLmloMS5kb29yYmVsbF9pbmRleCA9IChh
ZGV2LT5kb29yYmVsbF9pbmRleC5paCArIDEpIDw8IDE7Cj4gKwo+ICsJciA9IGFtZGdwdV9paF9y
aW5nX2luaXQoYWRldiwgJmFkZXYtPmlycS5paDIsIFBBR0VfU0laRSwgdHJ1ZSk7Cj4gKwlpZiAo
cikKPiArCQlyZXR1cm4gcjsKPiArCj4gKwlhZGV2LT5pcnEuaWgyLnVzZV9kb29yYmVsbCA9IHRy
dWU7Cj4gKwlhZGV2LT5pcnEuaWgyLmRvb3JiZWxsX2luZGV4ID0gKGFkZXYtPmRvb3JiZWxsX2lu
ZGV4LmloICsgMikgPDwgMTsKPiArCj4gKwlyID0gYW1kZ3B1X2lycV9pbml0KGFkZXYpOwo+ICsK
PiArCXJldHVybiByOwo+ICt9Cj4gKwo+ICtzdGF0aWMgaW50IHZlZ2ExMF9paF9zd19maW5pKHZv
aWQgKmhhbmRsZSkKPiArewo+ICsJc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSAoc3RydWN0
IGFtZGdwdV9kZXZpY2UgKiloYW5kbGU7Cj4gKwo+ICsJYW1kZ3B1X2lycV9maW5pKGFkZXYpOwo+
ICsJYW1kZ3B1X2loX3JpbmdfZmluaShhZGV2LCAmYWRldi0+aXJxLmloMik7Cj4gKwlhbWRncHVf
aWhfcmluZ19maW5pKGFkZXYsICZhZGV2LT5pcnEuaWgxKTsKPiArCWFtZGdwdV9paF9yaW5nX2Zp
bmkoYWRldiwgJmFkZXYtPmlycS5paCk7Cj4gKwo+ICsJcmV0dXJuIDA7Cj4gK30KPiArCj4gK3N0
YXRpYyBpbnQgdmVnYTEwX2loX2h3X2luaXQodm9pZCAqaGFuZGxlKQo+ICt7Cj4gKwlpbnQgcjsK
PiArCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gKHN0cnVjdCBhbWRncHVfZGV2aWNlICop
aGFuZGxlOwo+ICsKPiArCXIgPSB2ZWdhMTBfaWhfaXJxX2luaXQoYWRldik7Cj4gKwlpZiAocikK
PiArCQlyZXR1cm4gcjsKPiArCj4gKwlyZXR1cm4gMDsKPiArfQo+ICsKPiArc3RhdGljIGludCB2
ZWdhMTBfaWhfaHdfZmluaSh2b2lkICpoYW5kbGUpCj4gK3sKPiArCXN0cnVjdCBhbWRncHVfZGV2
aWNlICphZGV2ID0gKHN0cnVjdCBhbWRncHVfZGV2aWNlICopaGFuZGxlOwo+ICsKPiArCXZlZ2Ex
MF9paF9pcnFfZGlzYWJsZShhZGV2KTsKPiArCj4gKwlyZXR1cm4gMDsKPiArfQo+ICsKPiArc3Rh
dGljIGludCB2ZWdhMTBfaWhfc3VzcGVuZCh2b2lkICpoYW5kbGUpCj4gK3sKPiArCXN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2ID0gKHN0cnVjdCBhbWRncHVfZGV2aWNlICopaGFuZGxlOwo+ICsK
PiArCXJldHVybiB2ZWdhMTBfaWhfaHdfZmluaShhZGV2KTsKPiArfQo+ICsKPiArc3RhdGljIGlu
dCB2ZWdhMTBfaWhfcmVzdW1lKHZvaWQgKmhhbmRsZSkKPiArewo+ICsJc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYgPSAoc3RydWN0IGFtZGdwdV9kZXZpY2UgKiloYW5kbGU7Cj4gKwo+ICsJcmV0
dXJuIHZlZ2ExMF9paF9od19pbml0KGFkZXYpOwo+ICt9Cj4gKwo+ICtzdGF0aWMgYm9vbCB2ZWdh
MTBfaWhfaXNfaWRsZSh2b2lkICpoYW5kbGUpCj4gK3sKPiArCS8qIHRvZG8gKi8KPiArCXJldHVy
biB0cnVlOwo+ICt9Cj4gKwo+ICtzdGF0aWMgaW50IHZlZ2ExMF9paF93YWl0X2Zvcl9pZGxlKHZv
aWQgKmhhbmRsZSkKPiArewo+ICsJLyogdG9kbyAqLwo+ICsJcmV0dXJuIC1FVElNRURPVVQ7Cj4g
K30KPiArCj4gK3N0YXRpYyBpbnQgdmVnYTEwX2loX3NvZnRfcmVzZXQodm9pZCAqaGFuZGxlKQo+
ICt7Cj4gKwkvKiB0b2RvICovCj4gKwo+ICsJcmV0dXJuIDA7Cj4gK30KPiArCj4gK3N0YXRpYyB2
b2lkIHZlZ2ExMF9paF91cGRhdGVfY2xvY2tnYXRpbmdfc3RhdGUoc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYsCj4gKwkJCQkJICAgICAgIGJvb2wgZW5hYmxlKQo+ICt7Cj4gKwl1aW50MzJfdCBk
YXRhLCBkZWYsIGZpZWxkX3ZhbDsKPiArCj4gKwlpZiAoYWRldi0+Y2dfZmxhZ3MgJiBBTURfQ0df
U1VQUE9SVF9JSF9DRykgewo+ICsJCWRlZiA9IGRhdGEgPSBSUkVHMzJfU09DMTUoT1NTU1lTLCAw
LCBtbUlIX0NMS19DVFJMKTsKPiArCQlmaWVsZF92YWwgPSBlbmFibGUgPyAwIDogMTsKPiArCQkv
KioKPiArCQkgKiBWZWdhMTAgZG9lcyBub3QgaGF2ZSBJSF9SRVRSWV9JTlRfQ0FNX01FTV9DTEtf
U09GVF9PVkVSUklERQo+ICsJCSAqIGFuZCBJSF9CVUZGRVJfTUVNX0NMS19TT0ZUX09WRVJSSURF
IGZpZWxkLgo+ICsJCSAqLwo+ICsJCWlmIChhZGV2LT5hc2ljX3R5cGUgPiBDSElQX1ZFR0ExMCkg
ewo+ICsJCQlkYXRhID0gUkVHX1NFVF9GSUVMRChkYXRhLCBJSF9DTEtfQ1RSTCwKPiArCQkJCSAg
ICAgSUhfUkVUUllfSU5UX0NBTV9NRU1fQ0xLX1NPRlRfT1ZFUlJJREUsIGZpZWxkX3ZhbCk7Cj4g
KwkJCWRhdGEgPSBSRUdfU0VUX0ZJRUxEKGRhdGEsIElIX0NMS19DVFJMLAo+ICsJCQkJICAgICBJ
SF9CVUZGRVJfTUVNX0NMS19TT0ZUX09WRVJSSURFLCBmaWVsZF92YWwpOwo+ICsJCX0KPiArCj4g
KwkJZGF0YSA9IFJFR19TRVRfRklFTEQoZGF0YSwgSUhfQ0xLX0NUUkwsCj4gKwkJCQkgICAgIERC
VVNfTVVYX0NMS19TT0ZUX09WRVJSSURFLCBmaWVsZF92YWwpOwo+ICsJCWRhdGEgPSBSRUdfU0VU
X0ZJRUxEKGRhdGEsIElIX0NMS19DVFJMLAo+ICsJCQkJICAgICBPU1NTWVNfU0hBUkVfQ0xLX1NP
RlRfT1ZFUlJJREUsIGZpZWxkX3ZhbCk7Cj4gKwkJZGF0YSA9IFJFR19TRVRfRklFTEQoZGF0YSwg
SUhfQ0xLX0NUUkwsCj4gKwkJCQkgICAgIExJTUlUX1NNTl9DTEtfU09GVF9PVkVSUklERSwgZmll
bGRfdmFsKTsKPiArCQlkYXRhID0gUkVHX1NFVF9GSUVMRChkYXRhLCBJSF9DTEtfQ1RSTCwKPiAr
CQkJCSAgICAgRFlOX0NMS19TT0ZUX09WRVJSSURFLCBmaWVsZF92YWwpOwo+ICsJCWRhdGEgPSBS
RUdfU0VUX0ZJRUxEKGRhdGEsIElIX0NMS19DVFJMLAo+ICsJCQkJICAgICBSRUdfQ0xLX1NPRlRf
T1ZFUlJJREUsIGZpZWxkX3ZhbCk7Cj4gKwkJaWYgKGRlZiAhPSBkYXRhKQo+ICsJCQlXUkVHMzJf
U09DMTUoT1NTU1lTLCAwLCBtbUlIX0NMS19DVFJMLCBkYXRhKTsKPiArCX0KPiArfQo+ICsKPiAr
c3RhdGljIGludCB2ZWdhMTBfaWhfc2V0X2Nsb2NrZ2F0aW5nX3N0YXRlKHZvaWQgKmhhbmRsZSwK
PiArCQkJCQkgIGVudW0gYW1kX2Nsb2NrZ2F0aW5nX3N0YXRlIHN0YXRlKQo+ICt7Cj4gKwlzdHJ1
Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqKWhhbmRsZTsK
PiArCj4gKwl2ZWdhMTBfaWhfdXBkYXRlX2Nsb2NrZ2F0aW5nX3N0YXRlKGFkZXYsCj4gKwkJCQlz
dGF0ZSA9PSBBTURfQ0dfU1RBVEVfR0FURSk7Cj4gKwlyZXR1cm4gMDsKPiArCj4gK30KPiArCj4g
K3N0YXRpYyBpbnQgdmVnYTEwX2loX3NldF9wb3dlcmdhdGluZ19zdGF0ZSh2b2lkICpoYW5kbGUs
Cj4gKwkJCQkJICBlbnVtIGFtZF9wb3dlcmdhdGluZ19zdGF0ZSBzdGF0ZSkKPiArewo+ICsJcmV0
dXJuIDA7Cj4gK30KPiArCj4gK2NvbnN0IHN0cnVjdCBhbWRfaXBfZnVuY3MgdmVnYTEwX2loX2lw
X2Z1bmNzID0gewo+ICsJLm5hbWUgPSAidmVnYTEwX2loIiwKPiArCS5lYXJseV9pbml0ID0gdmVn
YTEwX2loX2Vhcmx5X2luaXQsCj4gKwkubGF0ZV9pbml0ID0gTlVMTCwKPiArCS5zd19pbml0ID0g
dmVnYTEwX2loX3N3X2luaXQsCj4gKwkuc3dfZmluaSA9IHZlZ2ExMF9paF9zd19maW5pLAo+ICsJ
Lmh3X2luaXQgPSB2ZWdhMTBfaWhfaHdfaW5pdCwKPiArCS5od19maW5pID0gdmVnYTEwX2loX2h3
X2ZpbmksCj4gKwkuc3VzcGVuZCA9IHZlZ2ExMF9paF9zdXNwZW5kLAo+ICsJLnJlc3VtZSA9IHZl
Z2ExMF9paF9yZXN1bWUsCj4gKwkuaXNfaWRsZSA9IHZlZ2ExMF9paF9pc19pZGxlLAo+ICsJLndh
aXRfZm9yX2lkbGUgPSB2ZWdhMTBfaWhfd2FpdF9mb3JfaWRsZSwKPiArCS5zb2Z0X3Jlc2V0ID0g
dmVnYTEwX2loX3NvZnRfcmVzZXQsCj4gKwkuc2V0X2Nsb2NrZ2F0aW5nX3N0YXRlID0gdmVnYTEw
X2loX3NldF9jbG9ja2dhdGluZ19zdGF0ZSwKPiArCS5zZXRfcG93ZXJnYXRpbmdfc3RhdGUgPSB2
ZWdhMTBfaWhfc2V0X3Bvd2VyZ2F0aW5nX3N0YXRlLAo+ICt9Owo+ICsKPiArc3RhdGljIGNvbnN0
IHN0cnVjdCBhbWRncHVfaWhfZnVuY3MgdmVnYTEwX2loX2Z1bmNzID0gewo+ICsJLmdldF93cHRy
ID0gdmVnYTEwX2loX2dldF93cHRyLAo+ICsJLmRlY29kZV9pdiA9IHZlZ2ExMF9paF9kZWNvZGVf
aXYsCj4gKwkuc2V0X3JwdHIgPSB2ZWdhMTBfaWhfc2V0X3JwdHIKPiArfTsKPiArCj4gK3N0YXRp
YyB2b2lkIHZlZ2ExMF9paF9zZXRfaW50ZXJydXB0X2Z1bmNzKHN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2KQo+ICt7Cj4gKwlhZGV2LT5pcnEuaWhfZnVuY3MgPSAmdmVnYTEwX2loX2Z1bmNzOwo+
ICt9Cj4gKwo+ICtjb25zdCBzdHJ1Y3QgYW1kZ3B1X2lwX2Jsb2NrX3ZlcnNpb24gdmVnYTEwX2lo
X2lwX2Jsb2NrID0gewo+ICsJLnR5cGUgPSBBTURfSVBfQkxPQ0tfVFlQRV9JSCwKPiArCS5tYWpv
ciA9IDQsCj4gKwkubWlub3IgPSAwLAo+ICsJLnJldiA9IDAsCj4gKwkuZnVuY3MgPSAmdmVnYTEw
X2loX2lwX2Z1bmNzLAo+ICt9Owo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hcmN0dXJ1c19paC5oIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYXJjdHVydXNf
aWguaAo+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0Cj4gaW5kZXggMDAwMDAwMDAwMDAwLi41NGRhZjhj
ZjZmZjMKPiAtLS0gL2Rldi9udWxsCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
YXJjdHVydXNfaWguaAo+IEBAIC0wLDAgKzEsMzAgQEAKPiArLyoKPiArICogQ29weXJpZ2h0IDIw
MjAgQWR2YW5jZWQgTWljcm8gRGV2aWNlcywgSW5jLgo+ICsgKgo+ICsgKiBQZXJtaXNzaW9uIGlz
IGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcg
YQo+ICsgKiBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlv
biBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLAo+ICsgKiB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3
aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uCj4gKyAqIHRo
ZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRl
LCBzdWJsaWNlbnNlLAo+ICsgKiBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBh
bmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUKPiArICogU29mdHdhcmUgaXMgZnVybmlz
aGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKPiArICoK
PiArICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3Rp
Y2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4KPiArICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBw
b3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuCj4gKyAqCj4gKyAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9W
SURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCj4g
KyAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMg
T0YgTUVSQ0hBTlRBQklMSVRZLAo+ICsgKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9T
RSBBTkQgTk9OSU5GUklOR0VNRU5ULiAgSU4gTk8gRVZFTlQgU0hBTEwKPiArICogVEhFIENPUFlS
SUdIVCBIT0xERVIoUykgT1IgQVVUSE9SKFMpIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1B
R0VTIE9SCj4gKyAqIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09O
VFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLAo+ICsgKiBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJ
TiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IKPiArICogT1RIRVIg
REVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLgo+ICsgKgo+ICsgKi8KPiArCj4gKyNpZm5kZWYgX19W
RUdBMTBfSUhfSF9fCj4gKyNkZWZpbmUgX19WRUdBMTBfSUhfSF9fCj4gKwo+ICtleHRlcm4gY29u
c3Qgc3RydWN0IGFtZF9pcF9mdW5jcyB2ZWdhMTBfaWhfaXBfZnVuY3M7Cj4gK2V4dGVybiBjb25z
dCBzdHJ1Y3QgYW1kZ3B1X2lwX2Jsb2NrX3ZlcnNpb24gdmVnYTEwX2loX2lwX2Jsb2NrOwo+ICsK
PiArI2VuZGlmCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
CmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBz
Oi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeAo=
