Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 6225E1AE943
	for <lists+amd-gfx@lfdr.de>; Sat, 18 Apr 2020 03:48:40 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id ABC756EC52;
	Sat, 18 Apr 2020 01:48:37 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM10-BN7-obe.outbound.protection.outlook.com
 (mail-bn7nam10on2054.outbound.protection.outlook.com [40.107.92.54])
 by gabe.freedesktop.org (Postfix) with ESMTPS id DC12B6EC52
 for <amd-gfx@lists.freedesktop.org>; Sat, 18 Apr 2020 01:48:36 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=dQeqCoWC2ADsPaxioC6aBVZwEP+yFKgcMFK66Gm+na1MOtNjBdnSD/AyYrFof2a8pMSMhZMNU0G5B4VIejel6adqMA3byRPBcSZBtrUqRFoCNjm/j27Eb5iOKRJMew6itJw1iFpi5c437kNwznrRPdJCfo6giFEAwYs6MlnnVeE7rMU5vAzy1flW+bJSqXVDINDMtbQ4f03IVBVSS/1ANxK3Y1CiDsoZepDsqggSjnusUXhKavvnzxvnDsjI8VHl6lXeyIpOE+F3ZqC88BrjePmJnWNqHH7mgI6Y0a7Ow0Qdot7PcHe+MdjpTU9kZ/9IrXl10OOhQth7k3LTBNPPwA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=RdQc8B73v85p2DyoQ8Z4gWJRUFD1BLlttxj4DIhvtOI=;
 b=SHKFlw8RnhUeUMZmyzAazMEGibx+N4uZKnoQLF6Sb87S6F9KBe3ZuEKCF6gSHPmCx5OjKXV1vXuTuGHZ7tI212+qVvxl6BDdE04UHKkbuFaX/GhpBjuJG1lME5wCI0vgpbP2m4IZwAA2ipeECMUjOVtBqSJ0SZVzTpTd8r1oaFO8jv+A6iPQ493E+gRAxla4JN7l+GUBung2Xw3JBbsUmRgVz7xnqg2+qPZcbNzaXKpaOBbazeV5sshJZeLo2F2+i4ePwKQbE/kz60wZm93oTs7eLjSm69SiXtIlOcb/14JurS8utuscF9s5BSbRYeaoAhnQKfqjo8yPAzhbDpoKaw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=RdQc8B73v85p2DyoQ8Z4gWJRUFD1BLlttxj4DIhvtOI=;
 b=n8HuLLsQF1j5ce1H8I6ZStgoxOx8VkuZ6zuTAM1377iyKYiC/LfN/DgB44eowo4mYDBNv4DxQofdmJNcMi+YT4W+lWsrv1Qat/zbUrBOovvLHV31VwK3n8ecAQwmfF92SaWMgdt/oOd+1a8WKlK8KpndXzSZdcxrz3kgkozjgeE=
Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Amber.Lin@amd.com; 
Received: from DM6PR12MB3370.namprd12.prod.outlook.com (2603:10b6:5:38::25) by
 DM6PR12MB3980.namprd12.prod.outlook.com (2603:10b6:5:1cc::16) with
 Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2921.27; Sat, 18 Apr 2020 01:48:34 +0000
Received: from DM6PR12MB3370.namprd12.prod.outlook.com
 ([fe80::d91c:2026:e88c:812d]) by DM6PR12MB3370.namprd12.prod.outlook.com
 ([fe80::d91c:2026:e88c:812d%6]) with mapi id 15.20.2921.027; Sat, 18 Apr 2020
 01:48:34 +0000
Subject: Re: [PATCH v6] drm/amdkfd: Provide SMI events watch
To: Felix Kuehling <felix.kuehling@amd.com>, amd-gfx@lists.freedesktop.org
References: <1587154032-8195-1-git-send-email-Amber.Lin@amd.com>
 <f6bbb6ff-09b7-703a-ad90-a44f518544a9@amd.com>
From: Amber Lin <Amber.Lin@amd.com>
Message-ID: <3cbae2b4-b7c7-4e36-cad1-1040690f867c@amd.com>
Date: Fri, 17 Apr 2020 21:48:31 -0400
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101
 Thunderbird/68.7.0
In-Reply-To: <f6bbb6ff-09b7-703a-ad90-a44f518544a9@amd.com>
Content-Language: en-US
X-ClientProxiedBy: YTBPR01CA0025.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:b01:14::38) To DM6PR12MB3370.namprd12.prod.outlook.com
 (2603:10b6:5:38::25)
MIME-Version: 1.0
X-MS-Exchange-MessageSentRepresentingType: 1
Received: from [172.31.150.47] (165.204.55.211) by
 YTBPR01CA0025.CANPRD01.PROD.OUTLOOK.COM (2603:10b6:b01:14::38) with Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2921.25 via Frontend Transport; Sat, 18 Apr 2020 01:48:33 +0000
X-Originating-IP: [165.204.55.211]
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-HT: Tenant
X-MS-Office365-Filtering-Correlation-Id: b5862e1b-a704-4279-bb1f-08d7e33a9a93
X-MS-TrafficTypeDiagnostic: DM6PR12MB3980:|DM6PR12MB3980:
X-MS-Exchange-Transport-Forked: True
X-Microsoft-Antispam-PRVS: <DM6PR12MB39801442A829026A6FAA1C02E1D60@DM6PR12MB3980.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:5236;
X-Forefront-PRVS: 0377802854
X-Forefront-Antispam-Report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:DM6PR12MB3370.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFTY:;
 SFS:(10009020)(4636009)(39860400002)(366004)(136003)(396003)(346002)(376002)(5660300002)(316002)(31686004)(6486002)(16576012)(53546011)(26005)(8936002)(81156014)(8676002)(478600001)(956004)(186003)(30864003)(2616005)(52116002)(16526019)(86362001)(66946007)(31696002)(2906002)(66556008)(36756003)(66476007);
 DIR:OUT; SFP:1101; 
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: WK7OH5bBxRyJtWEYK9ZPIbLWUVrOQLVaNmVCfS84Xz/LU4LVQGua6CanRDjrfGBp+/G1riDr8+LBIsJfznrSBv+eKtSeIlharsNaFnQa3ywNHV300SVVzgc9G72UgSJjLZ3yYjBnD/UfxMxWOlmRqALOLwtaXNi8KwQ1S8P0e7bXg/RPdJvPl4I3RzqCNnJ6crMVAeIqHzGohZvF+QVa/t3vF6KbfHgQkXwE8XqUmTxWqWzPrKAji18oV9AIoTF5YU7GDDD+dSMjpAG0LxDqvOZ08mcEC+vL0+z9jYeFnQ5I6PvJccdvn8qHQ4Iisf4et/p8054+Nm4FOCtq2R/YdzMtvamhH/G4GQ8IPsvQJOw/hlmdRT2BueDhiTqMMJz2R46VSyZlDBRo70o3/sTnFCTLNjHiVu6NYgS0HnfZrBB+dEQvxHb/YACXam5byEwh
X-MS-Exchange-AntiSpam-MessageData: +YGpCkzzwvdtVpZdjjsY6ZgTh3g9yIyCPpBk5e3cwgDhy9O8ku1m6lyt3Wb7koEntclJpqCLG6MqSUJ+AxPYAHYlmh4ziGtF/D+IF9ZBPjnb+IetsdOUb/lOCt801fkkK5yn9ORZUC3/LQUZDh5SUA==
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: b5862e1b-a704-4279-bb1f-08d7e33a9a93
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 18 Apr 2020 01:48:33.9724 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: qDSUg+kRD3PLm639nhpV2go0aKnwlDFyClfDauqEabUk5DVd0nyfy9ywNcMaMtMO
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM6PR12MB3980
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

CgpPbiAyMDIwLTA0LTE3IDY6MzEgcC5tLiwgRmVsaXggS3VlaGxpbmcgd3JvdGU6Cj4gQW0gMjAy
MC0wNC0xNyB1bSA0OjA3IHAubS4gc2NocmllYiBBbWJlciBMaW46Cj4+IFdoZW4gdGhlIGNvbXB1
dGUgaXMgbWFsZnVuY3Rpb25pbmcgb3IgcGVyZm9ybWFuY2UgZHJvcHMsIHRoZSBzeXN0ZW0gYWRt
aW4KPj4gd2lsbCB1c2UgU01JIChTeXN0ZW0gTWFuYWdlbWVudCBJbnRlcmZhY2UpIHRvb2wgdG8g
bW9uaXRvci9kaWFnbm9zdGljIHdoYXQKPj4gd2VudCB3cm9uZy4gVGhpcyBwYXRjaCBwcm92aWRl
cyBhbiBldmVudCB3YXRjaCBpbnRlcmZhY2UgZm9yIHRoZSB1c2VyCj4+IHNwYWNlIHRvIHJlZ2lz
dGVyIGRldmljZXMgYW5kIHN1YnNjcmliZSBldmVudHMgdGhleSBhcmUgaW50ZXJlc3RlZC4gQWZ0
ZXIKPj4gcmVnaXN0ZXJlZCwgdGhlIHVzZXIgY2FuIHVzZSBhbm5veW1vdXMgZmlsZSBkZXNjcmlw
dG9yJ3MgcG9sbCBmdW5jdGlvbgo+PiB3aXRoIHdhaXQtdGltZSBzcGVjaWZpZWQgYW5kIHdhaXQg
Zm9yIGV2ZW50cyB0byBoYXBwZW4uIE9uY2UgYW4gZXZlbnQKPj4gaGFwcGVucywgdGhlIHVzZXIg
Y2FuIHVzZSByZWFkKCkgdG8gcmV0cmlldmUgaW5mb3JtYXRpb24gcmVsYXRlZCB0byB0aGUKPj4g
ZXZlbnQuCj4+Cj4+IFZNIGZhdWx0IGV2ZW50IGlzIGRvbmUgaW4gdGhpcyBwYXRjaC4KPj4KPj4g
djI6IC0gcmVtb3ZlIFVOUkVHSVNURVIgYW5kIGFkZCBldmVudCBFTkFCTEUvRElTQUJMRQo+PiAg
ICAgIC0gY29ycmVjdCBrZmlmbyB1c2FnZQo+PiAgICAgIC0gbW92ZSBldmVudCBtZXNzYWdlIEFQ
SSB0byBrZmRfaW9jdGwuaAo+PiB2Mzogc2VuZCB0aGUgZXZlbnQgbXNnIGluIHRleHQgdGhhbiBp
biBiaW5hcnkKPj4gdjQ6IHN1cHBvcnQgbXVsdGlwbGUgY2xpZW50cwo+PiB2NTogbW92ZSBldmVu
dHMgZW5hYmxlbWVudCBmcm9tIGlvY3RsIHRvIGZkIHdyaXRlCj4+Cj4+IFNpZ25lZC1vZmYtYnk6
IEFtYmVyIExpbiA8QW1iZXIuTGluQGFtZC5jb20+Cj4+IC0tLQo+PiAgIGRyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1ka2ZkL01ha2VmaWxlICAgICAgICAgICAgICB8ICAgMSArCj4+ICAgZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRrZmQvY2lrX2V2ZW50X2ludGVycnVwdC5jIHwgICAyICsKPj4gICBkcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfY2hhcmRldi5jICAgICAgICAgfCAgMTggKysKPj4g
ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfZGV2aWNlLmMgICAgICAgICAgfCAgIDcg
Kwo+PiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9pbnRfcHJvY2Vzc192OS5jICB8
ICAgMiArCj4+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX3ByaXYuaCAgICAgICAg
ICAgIHwgICA0ICsKPj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfc21pX2V2ZW50
cy5jICAgICAgfCAyMTUgKysrKysrKysrKysrKysrKysrKysrKysKPj4gICBkcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGtmZC9rZmRfc21pX2V2ZW50cy5oICAgICAgfCAgMjkgKysrCj4+ICAgaW5jbHVk
ZS91YXBpL2xpbnV4L2tmZF9pb2N0bC5oICAgICAgICAgICAgICAgICAgIHwgIDE2ICstCj4+ICAg
OSBmaWxlcyBjaGFuZ2VkLCAyOTMgaW5zZXJ0aW9ucygrKSwgMSBkZWxldGlvbigtKQo+PiAgIGNy
ZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfc21pX2V2ZW50
cy5jCj4+ICAgY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tm
ZF9zbWlfZXZlbnRzLmgKPj4KPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
a2ZkL01ha2VmaWxlIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQvTWFrZWZpbGUKPj4gaW5k
ZXggNjE0NzQ2Mi4uZTFlNDExNSAxMDA2NDQKPj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRrZmQvTWFrZWZpbGUKPj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQvTWFrZWZp
bGUKPj4gQEAgLTUzLDYgKzUzLDcgQEAgQU1ES0ZEX0ZJTEVTCTo9ICQoQU1ES0ZEX1BBVEgpL2tm
ZF9tb2R1bGUubyBcCj4+ICAgCQkkKEFNREtGRF9QQVRIKS9rZmRfaW50X3Byb2Nlc3NfdjkubyBc
Cj4+ICAgCQkkKEFNREtGRF9QQVRIKS9rZmRfZGJnZGV2Lm8gXAo+PiAgIAkJJChBTURLRkRfUEFU
SCkva2ZkX2RiZ21nci5vIFwKPj4gKwkJJChBTURLRkRfUEFUSCkva2ZkX3NtaV9ldmVudHMubyBc
Cj4+ICAgCQkkKEFNREtGRF9QQVRIKS9rZmRfY3JhdC5vCj4+ICAgCj4+ICAgaWZuZXEgKCQoQ09O
RklHX0FNRF9JT01NVV9WMiksKQo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRrZmQvY2lrX2V2ZW50X2ludGVycnVwdC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQv
Y2lrX2V2ZW50X2ludGVycnVwdC5jCj4+IGluZGV4IDlmNTliYTkuLjI0YjQ3MTcgMTAwNjQ0Cj4+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2Npa19ldmVudF9pbnRlcnJ1cHQuYwo+
PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9jaWtfZXZlbnRfaW50ZXJydXB0LmMK
Pj4gQEAgLTI0LDYgKzI0LDcgQEAKPj4gICAjaW5jbHVkZSAia2ZkX2V2ZW50cy5oIgo+PiAgICNp
bmNsdWRlICJjaWtfaW50LmgiCj4+ICAgI2luY2x1ZGUgImFtZGdwdV9hbWRrZmQuaCIKPj4gKyNp
bmNsdWRlICJrZmRfc21pX2V2ZW50cy5oIgo+PiAgIAo+PiAgIHN0YXRpYyBib29sIGNpa19ldmVu
dF9pbnRlcnJ1cHRfaXNyKHN0cnVjdCBrZmRfZGV2ICpkZXYsCj4+ICAgCQkJCQljb25zdCB1aW50
MzJfdCAqaWhfcmluZ19lbnRyeSwKPj4gQEAgLTEwNyw2ICsxMDgsNyBAQCBzdGF0aWMgdm9pZCBj
aWtfZXZlbnRfaW50ZXJydXB0X3dxKHN0cnVjdCBrZmRfZGV2ICpkZXYsCj4+ICAgCQlpaHJlLT5z
b3VyY2VfaWQgPT0gQ0lLX0lOVFNSQ19HRlhfTUVNX1BST1RfRkFVTFQpIHsKPj4gICAJCXN0cnVj
dCBrZmRfdm1fZmF1bHRfaW5mbyBpbmZvOwo+PiAgIAo+PiArCQlrZmRfc21pX2V2ZW50X3VwZGF0
ZV92bWZhdWx0KGRldiwgcGFzaWQpOwo+PiAgIAkJa2ZkX3Byb2Nlc3Nfdm1fZmF1bHQoZGV2LT5k
cW0sIHBhc2lkKTsKPj4gICAKPj4gICAJCW1lbXNldCgmaW5mbywgMCwgc2l6ZW9mKGluZm8pKTsK
Pj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9jaGFyZGV2LmMg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfY2hhcmRldi5jCj4+IGluZGV4IGY4ZmEw
M2EuLjJiYWFhZWMgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tm
ZF9jaGFyZGV2LmMKPj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX2NoYXJk
ZXYuYwo+PiBAQCAtMzksNiArMzksNyBAQAo+PiAgICNpbmNsdWRlICJrZmRfZGV2aWNlX3F1ZXVl
X21hbmFnZXIuaCIKPj4gICAjaW5jbHVkZSAia2ZkX2RiZ21nci5oIgo+PiAgICNpbmNsdWRlICJh
bWRncHVfYW1ka2ZkLmgiCj4+ICsjaW5jbHVkZSAia2ZkX3NtaV9ldmVudHMuaCIKPj4gICAKPj4g
ICBzdGF0aWMgbG9uZyBrZmRfaW9jdGwoc3RydWN0IGZpbGUgKiwgdW5zaWduZWQgaW50LCB1bnNp
Z25lZCBsb25nKTsKPj4gICBzdGF0aWMgaW50IGtmZF9vcGVuKHN0cnVjdCBpbm9kZSAqLCBzdHJ1
Y3QgZmlsZSAqKTsKPj4gQEAgLTE3MzIsNiArMTczMywyMCBAQCBzdGF0aWMgaW50IGtmZF9pb2N0
bF9pbXBvcnRfZG1hYnVmKHN0cnVjdCBmaWxlICpmaWxlcCwKPj4gICAJcmV0dXJuIHI7Cj4+ICAg
fQo+PiAgIAo+PiArLyogSGFuZGxlIHJlcXVlc3RzIGZvciB3YXRjaGluZyBTTUkgZXZlbnRzICov
Cj4+ICtzdGF0aWMgaW50IGtmZF9pb2N0bF9zbWlfZXZlbnRzKHN0cnVjdCBmaWxlICpmaWxlcCwK
Pj4gKwkJCQlzdHJ1Y3Qga2ZkX3Byb2Nlc3MgKnAsIHZvaWQgKmRhdGEpCj4+ICt7Cj4+ICsJc3Ry
dWN0IGtmZF9pb2N0bF9zbWlfZXZlbnRzX2FyZ3MgKmFyZ3MgPSBkYXRhOwo+PiArCXN0cnVjdCBr
ZmRfZGV2ICpkZXY7Cj4+ICsKPj4gKwlkZXYgPSBrZmRfZGV2aWNlX2J5X2lkKGFyZ3MtPmdwdWlk
KTsKPj4gKwlpZiAoIWRldikKPj4gKwkJcmV0dXJuIC1FSU5WQUw7Cj4+ICsKPj4gKwlyZXR1cm4g
a2ZkX3NtaV9ldmVudF9vcGVuKGRldiwgJmFyZ3MtPmFub25fZmQpOwo+PiArfQo+PiArCj4+ICAg
I2RlZmluZSBBTURLRkRfSU9DVExfREVGKGlvY3RsLCBfZnVuYywgX2ZsYWdzKSBcCj4+ICAgCVtf
SU9DX05SKGlvY3RsKV0gPSB7LmNtZCA9IGlvY3RsLCAuZnVuYyA9IF9mdW5jLCAuZmxhZ3MgPSBf
ZmxhZ3MsIFwKPj4gICAJCQkgICAgLmNtZF9kcnYgPSAwLCAubmFtZSA9ICNpb2N0bH0KPj4gQEAg
LTE4MjcsNiArMTg0Miw5IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgYW1ka2ZkX2lvY3RsX2Rlc2Mg
YW1ka2ZkX2lvY3Rsc1tdID0gewo+PiAgIAo+PiAgIAlBTURLRkRfSU9DVExfREVGKEFNREtGRF9J
T0NfQUxMT0NfUVVFVUVfR1dTLAo+PiAgIAkJCWtmZF9pb2N0bF9hbGxvY19xdWV1ZV9nd3MsIDAp
LAo+PiArCj4+ICsJQU1ES0ZEX0lPQ1RMX0RFRihBTURLRkRfSU9DX1NNSV9FVkVOVFMsCj4+ICsJ
CQlrZmRfaW9jdGxfc21pX2V2ZW50cywgMCksCj4+ICAgfTsKPj4gICAKPj4gICAjZGVmaW5lIEFN
REtGRF9DT1JFX0lPQ1RMX0NPVU5UCUFSUkFZX1NJWkUoYW1ka2ZkX2lvY3RscykKPj4gZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9kZXZpY2UuYyBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9kZXZpY2UuYwo+PiBpbmRleCAwNDkxYWIyLi4yYzAzMGMy
IDEwMDY0NAo+PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfZGV2aWNlLmMK
Pj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX2RldmljZS5jCj4+IEBAIC01
ODYsNiArNTg2LDExIEBAIHN0YXRpYyBpbnQga2ZkX2d3c19pbml0KHN0cnVjdCBrZmRfZGV2ICpr
ZmQpCj4+ICAgCXJldHVybiByZXQ7Cj4+ICAgfQo+PiAgIAo+PiArc3RhdGljIHZvaWQga2ZkX3Nt
aV9pbml0KHN0cnVjdCBrZmRfZGV2ICpkZXYpIHsKPj4gKwlJTklUX0xJU1RfSEVBRCgmZGV2LT5z
bWlfY2xpZW50cyk7Cj4+ICsJc3Bpbl9sb2NrX2luaXQoJmRldi0+c21pX2xvY2spOwo+PiArfQo+
PiArCj4+ICAgYm9vbCBrZ2Qya2ZkX2RldmljZV9pbml0KHN0cnVjdCBrZmRfZGV2ICprZmQsCj4+
ICAgCQkJIHN0cnVjdCBkcm1fZGV2aWNlICpkZGV2LAo+PiAgIAkJCSBjb25zdCBzdHJ1Y3Qga2dk
MmtmZF9zaGFyZWRfcmVzb3VyY2VzICpncHVfcmVzb3VyY2VzKQo+PiBAQCAtNzAwLDYgKzcwNSw4
IEBAIGJvb2wga2dkMmtmZF9kZXZpY2VfaW5pdChzdHJ1Y3Qga2ZkX2RldiAqa2ZkLAo+PiAgIAkJ
Z290byBrZmRfdG9wb2xvZ3lfYWRkX2RldmljZV9lcnJvcjsKPj4gICAJfQo+PiAgIAo+PiArCWtm
ZF9zbWlfaW5pdChrZmQpOwo+PiArCj4+ICAgCWtmZC0+aW5pdF9jb21wbGV0ZSA9IHRydWU7Cj4+
ICAgCWRldl9pbmZvKGtmZF9kZXZpY2UsICJhZGRlZCBkZXZpY2UgJXg6JXhcbiIsIGtmZC0+cGRl
di0+dmVuZG9yLAo+PiAgIAkJIGtmZC0+cGRldi0+ZGV2aWNlKTsKPj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9pbnRfcHJvY2Vzc192OS5jIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRrZmQva2ZkX2ludF9wcm9jZXNzX3Y5LmMKPj4gaW5kZXggZTA1ZDc1ZS4u
MTUxZTgzZSAxMDA2NDQKPj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX2lu
dF9wcm9jZXNzX3Y5LmMKPj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX2lu
dF9wcm9jZXNzX3Y5LmMKPj4gQEAgLTI0LDYgKzI0LDcgQEAKPj4gICAjaW5jbHVkZSAia2ZkX2V2
ZW50cy5oIgo+PiAgICNpbmNsdWRlICJzb2MxNV9pbnQuaCIKPj4gICAjaW5jbHVkZSAia2ZkX2Rl
dmljZV9xdWV1ZV9tYW5hZ2VyLmgiCj4+ICsjaW5jbHVkZSAia2ZkX3NtaV9ldmVudHMuaCIKPj4g
ICAKPj4gICBzdGF0aWMgYm9vbCBldmVudF9pbnRlcnJ1cHRfaXNyX3Y5KHN0cnVjdCBrZmRfZGV2
ICpkZXYsCj4+ICAgCQkJCQljb25zdCB1aW50MzJfdCAqaWhfcmluZ19lbnRyeSwKPj4gQEAgLTEx
Nyw2ICsxMTgsNyBAQCBzdGF0aWMgdm9pZCBldmVudF9pbnRlcnJ1cHRfd3Ffdjkoc3RydWN0IGtm
ZF9kZXYgKmRldiwKPj4gICAJCWluZm8ucHJvdF9yZWFkICA9IHJpbmdfaWQgJiAweDEwOwo+PiAg
IAkJaW5mby5wcm90X3dyaXRlID0gcmluZ19pZCAmIDB4MjA7Cj4+ICAgCj4+ICsJCWtmZF9zbWlf
ZXZlbnRfdXBkYXRlX3ZtZmF1bHQoZGV2LCBwYXNpZCk7Cj4+ICAgCQlrZmRfcHJvY2Vzc192bV9m
YXVsdChkZXYtPmRxbSwgcGFzaWQpOwo+PiAgIAkJa2ZkX3NpZ25hbF92bV9mYXVsdF9ldmVudChk
ZXYsIHBhc2lkLCAmaW5mbyk7Cj4+ICAgCX0KPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1ka2ZkL2tmZF9wcml2LmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRf
cHJpdi5oCj4+IGluZGV4IDQzYjg4OGIuLmRjODczYjAgMTAwNjQ0Cj4+IC0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9wcml2LmgKPj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRrZmQva2ZkX3ByaXYuaAo+PiBAQCAtMzA5LDYgKzMwOSwxMCBAQCBzdHJ1Y3Qga2ZkX2Rl
diB7Cj4+ICAgCj4+ICAgCS8qIEdsb2JhbCBHV1MgcmVzb3VyY2Ugc2hhcmVkIGIvdCBwcm9jZXNz
ZXMqLwo+PiAgIAl2b2lkICpnd3M7Cj4+ICsKPj4gKwkvKiBDbGllbnRzIHdhdGNoaW5nIFNNSSBl
dmVudHMgKi8KPj4gKwlzdHJ1Y3QgbGlzdF9oZWFkIHNtaV9jbGllbnRzOwo+PiArCXNwaW5sb2Nr
X3Qgc21pX2xvY2s7Cj4+ICAgfTsKPj4gICAKPj4gICBlbnVtIGtmZF9tZW1wb29sIHsKPj4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9zbWlfZXZlbnRzLmMgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfc21pX2V2ZW50cy5jCj4+IG5ldyBmaWxlIG1v
ZGUgMTAwNjQ0Cj4+IGluZGV4IDAwMDAwMDAuLjEzN2FlYzgKPj4gLS0tIC9kZXYvbnVsbAo+PiAr
KysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfc21pX2V2ZW50cy5jCj4+IEBAIC0w
LDAgKzEsMjE1IEBACj4+ICsvKgo+PiArICogQ29weXJpZ2h0IDIwMjAgQWR2YW5jZWQgTWljcm8g
RGV2aWNlcywgSW5jLgo+PiArICoKPj4gKyAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQs
IGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhCj4+ICsgKiBjb3B5IG9m
IHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJT
b2Z0d2FyZSIpLAo+PiArICogdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmlj
dGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbgo+PiArICogdGhlIHJpZ2h0cyB0byB1
c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2Us
Cj4+ICsgKiBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0
IHBlcnNvbnMgdG8gd2hvbSB0aGUKPj4gKyAqIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBz
bywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6Cj4+ICsgKgo+PiArICogVGhl
IGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwg
YmUgaW5jbHVkZWQgaW4KPj4gKyAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMg
b2YgdGhlIFNvZnR3YXJlLgo+PiArICoKPj4gKyAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAi
QVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCj4+ICsgKiBJ
TVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1F
UkNIQU5UQUJJTElUWSwKPj4gKyAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFO
RCBOT05JTkZSSU5HRU1FTlQuICBJTiBOTyBFVkVOVCBTSEFMTAo+PiArICogVEhFIENPUFlSSUdI
VCBIT0xERVIoUykgT1IgQVVUSE9SKFMpIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VT
IE9SCj4+ICsgKiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRS
QUNULCBUT1JUIE9SIE9USEVSV0lTRSwKPj4gKyAqIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElO
IENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUgo+PiArICogT1RIRVIg
REVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLgo+PiArICovCj4+ICsKPj4gKyNpbmNsdWRlIDxsaW51
eC9wb2xsLmg+Cj4+ICsjaW5jbHVkZSA8bGludXgvd2FpdC5oPgo+PiArI2luY2x1ZGUgPGxpbnV4
L2Fub25faW5vZGVzLmg+Cj4+ICsjaW5jbHVkZSA8dWFwaS9saW51eC9rZmRfaW9jdGwuaD4KPj4g
KyNpbmNsdWRlICJhbWRncHVfdm0uaCIKPj4gKyNpbmNsdWRlICJrZmRfcHJpdi5oIgo+PiArI2lu
Y2x1ZGUgImtmZF9zbWlfZXZlbnRzLmgiCj4+ICsKPj4gK3N0cnVjdCBrZmRfc21pX2NsaWVudCB7
Cj4+ICsJc3RydWN0IGxpc3RfaGVhZCBsaXN0Owo+PiArCXN0cnVjdCBrZmlmbyBmaWZvOwo+PiAr
CXdhaXRfcXVldWVfaGVhZF90IHdhaXRfcXVldWU7Cj4+ICsJLyogZXZlbnRzIGVuYWJsZWQgKi8K
Pj4gKwl1aW50NjRfdCBldmVudHM7Cj4+ICsJc3RydWN0IGtmZF9kZXYgKmRldjsKPj4gKwlzcGlu
bG9ja190IGxvY2s7Cj4+ICt9Owo+PiArCj4+ICsjZGVmaW5lIE1BWF9LRklGT19TSVpFCTEwMjQK
Pj4gKwo+PiArc3RhdGljIF9fcG9sbF90IGtmZF9zbWlfZXZfcG9sbChzdHJ1Y3QgZmlsZSAqLCBz
dHJ1Y3QgcG9sbF90YWJsZV9zdHJ1Y3QgKik7Cj4+ICtzdGF0aWMgc3NpemVfdCBrZmRfc21pX2V2
X3JlYWQoc3RydWN0IGZpbGUgKiwgY2hhciBfX3VzZXIgKiwgc2l6ZV90LCBsb2ZmX3QgKik7Cj4+
ICtzdGF0aWMgc3NpemVfdCBrZmRfc21pX2V2X3dyaXRlKHN0cnVjdCBmaWxlICosIGNvbnN0IGNo
YXIgX191c2VyICosIHNpemVfdCwKPj4gKwkJCQlsb2ZmX3QgKik7Cj4+ICtzdGF0aWMgaW50IGtm
ZF9zbWlfZXZfcmVsZWFzZShzdHJ1Y3QgaW5vZGUgKiwgc3RydWN0IGZpbGUgKik7Cj4+ICsKPj4g
K3N0YXRpYyBjb25zdCBjaGFyIGtmZF9zbWlfbmFtZVtdID0gImtmZF9zbWlfZXYiOwo+PiArCj4+
ICtzdGF0aWMgY29uc3Qgc3RydWN0IGZpbGVfb3BlcmF0aW9ucyBrZmRfc21pX2V2X2ZvcHMgPSB7
Cj4+ICsJLm93bmVyID0gVEhJU19NT0RVTEUsCj4+ICsJLnBvbGwgPSBrZmRfc21pX2V2X3BvbGws
Cj4+ICsJLnJlYWQgPSBrZmRfc21pX2V2X3JlYWQsCj4+ICsJLndyaXRlID0ga2ZkX3NtaV9ldl93
cml0ZSwKPj4gKwkucmVsZWFzZSA9IGtmZF9zbWlfZXZfcmVsZWFzZQo+PiArfTsKPj4gKwo+PiAr
c3RhdGljIF9fcG9sbF90IGtmZF9zbWlfZXZfcG9sbChzdHJ1Y3QgZmlsZSAqZmlsZXAsCj4+ICsJ
CQkJc3RydWN0IHBvbGxfdGFibGVfc3RydWN0ICp3YWl0KQo+PiArewo+PiArCV9fcG9sbF90IG1h
c2s7Cj4+ICsJc3RydWN0IGtmZF9zbWlfY2xpZW50ICpjbGllbnQgPSBmaWxlcC0+cHJpdmF0ZV9k
YXRhOwo+PiArCj4+ICsJcG9sbF93YWl0KGZpbGVwLCAmY2xpZW50LT53YWl0X3F1ZXVlLCB3YWl0
KTsKPj4gKwo+PiArCXNwaW5fbG9jaygmY2xpZW50LT5sb2NrKTsKPj4gKwltYXNrID0ga2ZpZm9f
aXNfZW1wdHkoJmNsaWVudC0+ZmlmbykgPyAwOiBQT0xMSU4gfCBQT0xMUkROT1JNOwo+PiArCXNw
aW5fdW5sb2NrKCZjbGllbnQtPmxvY2spOwo+PiArCj4+ICsJcmV0dXJuIG1hc2s7Cj4+ICt9Cj4+
ICsKPj4gK3N0YXRpYyBzc2l6ZV90IGtmZF9zbWlfZXZfcmVhZChzdHJ1Y3QgZmlsZSAqZmlsZXAs
IGNoYXIgX191c2VyICp1c2VyLAo+PiArCQkJICAgICAgIHNpemVfdCBzaXplLCBsb2ZmX3QgKm9m
ZnNldCkKPj4gK3sKPj4gKwlpbnQgcmV0LCB0b19jb3B5Owo+PiArCXN0cnVjdCBrZmRfc21pX2Ns
aWVudCAqY2xpZW50ID0gZmlsZXAtPnByaXZhdGVfZGF0YTsKPj4gKwl1bnNpZ25lZCBjaGFyIGJ1
ZltNQVhfS0ZJRk9fU0laRV07Cj4gSWYgeW91IGdyb3cgdGhlIE1BWF9LRklGT19TSVpFIGluIHRo
ZSBmdXR1cmUsIHRoaXMgd2lsbCBsZWFkIHRvIGEgc3RhY2sKPiBvdmVyZmxvdy4gSXQncyBPSyBm
b3Igbm93LiBNYXliZSBhZGQgYSBCVUlMRF9CVUdfT04oTUFYX0tGSUZPX1NJWkUgPgo+IDEwMjQp
IHRvIG1ha2UgaXQgb2J2aW91cyBmb3IgYW55b25lIHdobyB3YW50cyB0byBncm93IHRoZSBGSUZP
IHNpemUgbGF0ZXIuCj4KSSBoYXZlIGNoYW5nZWQga2ZpZm9fYWxsb2MgdG8gdXNlIE1BWF9LRklG
T19TSVpFIChub3QgaGFyZCBjb2RlZCAxMDI0KSAKd2hlbiBjaGFuZ2luZyBrZmlmb190b191c2Vy
IHRvIGtmaWZvX291dCwgc28gdGhpcyBkb2Vzbid0IG92ZXJmbG93LiBXaGVuIApwZW9wbGUgZ3Jv
dyB0aGUgZmlmbyBzaXplLCB0aGV5IGNoYW5nZSBNQVhfS0ZJRk9fU0laRSBkZWZpbml0aW9uLgo+
PiArCj4+ICsJLyoga2ZpZm9fdG9fdXNlciBjYW4gc2xlZXAgc28gd2UgY2FuJ3QgdXNlIHNwaW5s
b2NrIHByb3RlY3Rpb24gYXJvdW5kCj4+ICsJICogaXQuIEluc3RlYWQsIHdlIGtmaWZvIG91dCBh
cyBzcGlubG9ja2VkIHRoZW4gY29weSB0aGVtIHRvIHRoZSB1c2VyLgo+PiArCSAqLwo+PiArCXNw
aW5fbG9jaygmY2xpZW50LT5sb2NrKTsKPj4gKwl0b19jb3B5ID0ga2ZpZm9fbGVuKCZjbGllbnQt
PmZpZm8pOwo+PiArCWlmICghdG9fY29weSkgewo+PiArCQlzcGluX3VubG9jaygmY2xpZW50LT5s
b2NrKTsKPj4gKwkJcmV0dXJuIC1FQUdBSU47Cj4+ICsJfQo+PiArCXRvX2NvcHkgPSB0b19jb3B5
ID4gc2l6ZSA/IHNpemUgOiB0b19jb3B5Owo+IFlvdSBjb3VsZCB1c2UgbWluKHNpemUsIHRvX2Nv
cHkpIGhlcmUuIEJ1dCB5b3UgYWxzbyBuZWVkIHRvIGNoZWNrCj4gYWdhaW5zdCBzaXplb2YoYnVm
KSwgb3RoZXJ3aXNlIHlvdSByaXNrIG92ZXJ3cml0aW5nIHlvdXIgc3RhY2suIE1heWJlCj4gbWlu
MyhzaXplLCBzaXplb2YoYnVmKSwgdG9fY29weSkuCj4KU2FtZSByZWFzb24gYXMgYWJvdmUsIGtm
aWZvX2xlbiBzaG91bGQgbmV2ZXIgcmV0dXJuIGdyZWF0ZXIgdGhhbiAKTUFYX0tGSUZPX1NJWkUs
IHNvIG1pbihzaXplLCB0b19jb3B5KSBzaG91bGQgYmUgZ29vZCBlbm91Z2guCj4+ICsJcmV0ID0g
a2ZpZm9fb3V0KCZjbGllbnQtPmZpZm8sIGJ1ZiwgdG9fY29weSk7Cj4+ICsJc3Bpbl91bmxvY2so
JmNsaWVudC0+bG9jayk7Cj4+ICsJaWYgKHJldCA8PSAwKQo+PiArCQlyZXR1cm4gLUVBR0FJTjsK
Pj4gKwo+PiArCXJldCA9IGNvcHlfdG9fdXNlcih1c2VyLCBidWYsIHRvX2NvcHkpOwo+PiArCWlm
IChyZXQpIHsKPj4gKwkJcHJfZGVidWcoInNtaS1ldmVudHM6IGZhaWwgdG8gc2VuZCBtc2cgKCVp
KSAoJWkpXG4iLAo+PiArCQkJcmV0LCB0b19jb3B5KTsKPj4gKwkJcmV0dXJuIHJldDsKPj4gKwl9
Cj4+ICsKPj4gKwlyZXR1cm4gdG9fY29weTsKPj4gK30KPj4gKwo+PiArc3RhdGljIHNzaXplX3Qg
a2ZkX3NtaV9ldl93cml0ZShzdHJ1Y3QgZmlsZSAqZmlsZXAsIGNvbnN0IGNoYXIgX191c2VyICp1
c2VyLAo+PiArCQkJCXNpemVfdCBzaXplLCBsb2ZmX3QgKm9mZnNldCkKPj4gK3sKPj4gKwlzdHJ1
Y3Qga2ZkX3NtaV9jbGllbnQgKmNsaWVudCA9IGZpbGVwLT5wcml2YXRlX2RhdGE7Cj4+ICsJdWlu
dDY0X3QgZXZlbnRzOwo+PiArCj4+ICsJaWYgKCFhY2Nlc3Nfb2sodXNlciwgc2l6ZSkgfHwgc2l6
ZSA8IHNpemVvZihldmVudHMpKQo+PiArCQlyZXR1cm4gLUVGQVVMVDsKPj4gKwlpZiAoY29weV9m
cm9tX3VzZXIoJmV2ZW50cywgdXNlciwgc2l6ZW9mKGV2ZW50cykpKQo+PiArCQlyZXR1cm4gLUVG
QVVMVDsKPj4gKwo+PiArCVdSSVRFX09OQ0UoY2xpZW50LT5ldmVudHMsIGV2ZW50cyk7Cj4+ICsK
Pj4gKwlyZXR1cm4gc2l6ZW9mKGV2ZW50cyk7Cj4+ICt9Cj4+ICsKPj4gK3N0YXRpYyBpbnQga2Zk
X3NtaV9ldl9yZWxlYXNlKHN0cnVjdCBpbm9kZSAqaW5vZGUsIHN0cnVjdCBmaWxlICpmaWxlcCkK
Pj4gK3sKPj4gKwlzdHJ1Y3Qga2ZkX3NtaV9jbGllbnQgKmNsaWVudCA9IGZpbGVwLT5wcml2YXRl
X2RhdGE7Cj4+ICsJc3RydWN0IGtmZF9kZXYgKmRldiA9IGNsaWVudC0+ZGV2Owo+PiArCj4+ICsJ
c3Bpbl9sb2NrKCZkZXYtPnNtaV9sb2NrKTsKPj4gKwlsaXN0X2RlbF9yY3UoJmNsaWVudC0+bGlz
dCk7Cj4+ICsJc3Bpbl91bmxvY2soJmRldi0+c21pX2xvY2spOwo+PiArCj4+ICsJc3luY2hyb25p
emVfcmN1KCk7Cj4+ICsJa2ZpZm9fZnJlZSgmY2xpZW50LT5maWZvKTsKPj4gKwlrZnJlZShjbGll
bnQpOwo+PiArCj4+ICsJcmV0dXJuIDA7Cj4+ICt9Cj4+ICsKPj4gK3ZvaWQga2ZkX3NtaV9ldmVu
dF91cGRhdGVfdm1mYXVsdChzdHJ1Y3Qga2ZkX2RldiAqZGV2LCB1aW50MTZfdCBwYXNpZCkKPj4g
K3sKPj4gKwlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IChzdHJ1Y3QgYW1kZ3B1X2Rldmlj
ZSAqKWRldi0+a2dkOwo+PiArCXN0cnVjdCBhbWRncHVfdGFza19pbmZvIHRhc2tfaW5mbzsKPj4g
KwkvKiBWbUZhdWx0IG1zZyA9IChoZXgpdWludDMyX3BpZCg4KSArIDooMSkgKyB0YXNrIG5hbWUo
MTYpID0gMjUgKi8KPj4gKwkvKiAxNiBieXRlcyBldmVudCArIDEgYnl0ZSBzcGFjZSArIDI1IGJ5
dGVzIG1zZyArIDEgYnl0ZSBcbiA9IDQzCj4+ICsJICovCj4+ICsJY2hhciBmaWZvX2luWzQzXTsK
Pj4gKwlzdHJ1Y3Qga2ZkX3NtaV9jbGllbnQgKmNsaWVudDsKPj4gKwo+PiArCXJjdV9yZWFkX2xv
Y2soKTsKPj4gKwlpZiAobGlzdF9lbXB0eSgmZGV2LT5zbWlfY2xpZW50cykpewo+PiArCQlyY3Vf
cmVhZF91bmxvY2soKTsKPj4gKwkJcmV0dXJuOwo+PiArCX0KPj4gKwlyY3VfcmVhZF91bmxvY2so
KTsKPiBJIGRvbid0IHRoaW5rIHlvdSBuZWVkIGFuIHJjdV9yZWFkX2xvY2sgZm9yIHRoaXMgYXRv
bWljIGxpc3RfZW1wdHkgY2hlY2suCkknbGwgcmVtb3ZlIHRoZW0uCj4KPj4gKwo+PiArCWFtZGdw
dV92bV9nZXRfdGFza19pbmZvKGFkZXYsIHBhc2lkLCAmdGFza19pbmZvKTsKPj4gKwlzbnByaW50
ZihmaWZvX2luLCA0MywgIiV4ICV4OiVzXG4iLCBLRkRfU01JX0VWRU5UX1ZNRkFVTFQsCj4+ICsJ
CXRhc2tfaW5mby5waWQsIHRhc2tfaW5mby50YXNrX25hbWUpOwo+PiArCj4+ICsJcmN1X3JlYWRf
bG9jaygpOwo+PiArCj4+ICsJbGlzdF9mb3JfZWFjaF9lbnRyeV9yY3UoY2xpZW50LCAmZGV2LT5z
bWlfY2xpZW50cywgbGlzdCkgewo+PiArCQlpZiAoIShSRUFEX09OQ0UoY2xpZW50LT5ldmVudHMp
ICYgS0ZEX1NNSV9FVkVOVF9WTUZBVUxUKSkKPj4gKwkJCWNvbnRpbnVlOwo+PiArCQlzcGluX2xv
Y2soJmNsaWVudC0+bG9jayk7Cj4+ICsJCWlmIChrZmlmb19hdmFpbCgmY2xpZW50LT5maWZvKSA8
IHNpemVvZihmaWZvX2luKSkgewo+PiArCQkJc3Bpbl91bmxvY2soJmNsaWVudC0+bG9jayk7Cj4+
ICsJCQlyY3VfcmVhZF91bmxvY2soKTsKPj4gKwkJCXByX2RlYnVnKCJzbWlfZXZlbnQodm1mYXVs
dCk6IG5vIHNwYWNlIGxlZnRcbiIpOwo+PiArCQkJcmV0dXJuOwo+IElmIG9uZSBjbGllbnQgaXMg
b3ZlcmZsb3dpbmcsIHRoYXQgc2hvdWxkIG5vdCBzdG9wIGV2ZW50IGRlbGl2ZXJ5IHRvCj4gb3Ro
ZXIgY2xpZW50cy4gVGhhdCB3b3VsZCBhbGxvdyBvbmUgY2xpZW50IHRvIHN0YWdlIGEgZGVuaWFs
IG9mIHNlcnZpY2UKPiBhdHRhY2sgb24gb3RoZXIgY2xpZW50cyBzaW1wbHkgYnkgbmV2ZXIgcmVh
ZGluZyBpdHMgZXZlbnRzLiBTbyBleGl0aW5nCj4gaGVyZSBpcyB3cm9uZy4gWW91IHNob3VsZCBq
dXN0IGNvbnRpbnVlIHdpdGggdGhlIG5leHQgY2xpZW50LgpSaWdodC4gTXkgbWlzdGFrZS4gSSds
bCBjaGFuZ2UgaXQuCj4KPj4gKwkJfQo+PiArCQlrZmlmb19pbigmY2xpZW50LT5maWZvLCBmaWZv
X2luLCBzaXplb2YoZmlmb19pbikpOwo+PiArCQl3YWtlX3VwX2FsbCgmY2xpZW50LT53YWl0X3F1
ZXVlKTsKPj4gKwkJc3Bpbl91bmxvY2soJmNsaWVudC0+bG9jayk7Cj4+ICsJfQo+PiArCj4+ICsJ
cmN1X3JlYWRfdW5sb2NrKCk7Cj4+ICt9Cj4+ICsKPj4gK2ludCBrZmRfc21pX2V2ZW50X29wZW4o
c3RydWN0IGtmZF9kZXYgKmRldiwgdWludDMyX3QgKmZkKQo+PiArewo+PiArCXN0cnVjdCBrZmRf
c21pX2NsaWVudCAqY2xpZW50Owo+PiArCWludCByZXQ7Cj4+ICsKPj4gKwljbGllbnQgPSBremFs
bG9jKHNpemVvZihzdHJ1Y3Qga2ZkX3NtaV9jbGllbnQpLCBHRlBfS0VSTkVMKTsKPj4gKwlpZiAo
IWNsaWVudCkKPj4gKwkJcmV0dXJuIC1FTk9NRU07Cj4+ICsJSU5JVF9MSVNUX0hFQUQoJmNsaWVu
dC0+bGlzdCk7Cj4+ICsKPj4gKwlyZXQgPSBrZmlmb19hbGxvYygmY2xpZW50LT5maWZvLCBNQVhf
S0ZJRk9fU0laRSwgR0ZQX0tFUk5FTCk7Cj4+ICsJaWYgKHJldCkgewo+PiArCQlrZnJlZShjbGll
bnQpOwo+PiArCQlyZXR1cm4gcmV0Owo+PiArCX0KPj4gKwo+PiArCXJldCA9IGFub25faW5vZGVf
Z2V0ZmQoa2ZkX3NtaV9uYW1lLCAma2ZkX3NtaV9ldl9mb3BzLCAodm9pZCAqKWNsaWVudCwKPj4g
KwkJCSAgICAgICBPX1JEV1IpOwo+PiArCWlmIChyZXQgPCAwKSB7Cj4+ICsJCWtmaWZvX2ZyZWUo
JmNsaWVudC0+Zmlmbyk7Cj4+ICsJCWtmcmVlKGNsaWVudCk7Cj4+ICsJCSpmZCA9IDA7Cj4gWW91
IGRvbid0IG5lZWQgdG8gb3ZlcndyaXRlICpmZCBoZXJlLiBJZiB0aGUgZnVuY3Rpb24gZmFpbHMs
IGl0IHNob3VsZAo+IG5vdCB3cml0ZSBpdHMgb3V0cHV0IHBhcmFtZXRlci4KSSBqdXN0IGZlZWwg
dGhhdCBJIHNob3VsZG4ndCBsZWF2ZSBhcmdzLmFub25fZmQgYXMtaXMgaWYgdGhlIHVzZXIgZGlk
bid0IAppbml0aWFsaXplIGl0IGFzIGFuIGludmFsaWQgbnVtYmVyLgo+Cj4KPj4gKwkJcmV0dXJu
IHJldDsKPj4gKwl9Cj4+ICsJKmZkID0gcmV0Owo+PiArCj4+ICsJaW5pdF93YWl0cXVldWVfaGVh
ZCgmY2xpZW50LT53YWl0X3F1ZXVlKTsKPj4gKwlzcGluX2xvY2tfaW5pdCgmY2xpZW50LT5sb2Nr
KTsKPj4gKwljbGllbnQtPmV2ZW50cyA9IDA7Cj4+ICsJY2xpZW50LT5kZXYgPSBkZXY7Cj4+ICsK
Pj4gKwlzcGluX2xvY2soJmRldi0+c21pX2xvY2spOwo+PiArCWxpc3RfYWRkX3JjdSgmY2xpZW50
LT5saXN0LCAmZGV2LT5zbWlfY2xpZW50cyk7Cj4+ICsJc3Bpbl91bmxvY2soJmRldi0+c21pX2xv
Y2spOwo+PiArCj4+ICsJcmV0dXJuIDA7Cj4+ICt9Cj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGtmZC9rZmRfc21pX2V2ZW50cy5oIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRrZmQva2ZkX3NtaV9ldmVudHMuaAo+PiBuZXcgZmlsZSBtb2RlIDEwMDY0NAo+PiBpbmRleCAw
MDAwMDAwLi5hOWNiMjE4Cj4+IC0tLSAvZGV2L251bGwKPj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRrZmQva2ZkX3NtaV9ldmVudHMuaAo+PiBAQCAtMCwwICsxLDI5IEBACj4+ICsvKgo+
PiArICogQ29weXJpZ2h0IDIwMjAgQWR2YW5jZWQgTWljcm8gRGV2aWNlcywgSW5jLgo+PiArICoK
Pj4gKyAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBh
bnkgcGVyc29uIG9idGFpbmluZyBhCj4+ICsgKiBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFz
c29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLAo+PiArICogdG8g
ZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhv
dXQgbGltaXRhdGlvbgo+PiArICogdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVy
Z2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsCj4+ICsgKiBhbmQvb3Igc2VsbCBj
b3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUK
Pj4gKyAqIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9s
bG93aW5nIGNvbmRpdGlvbnM6Cj4+ICsgKgo+PiArICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3Rp
Y2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4KPj4gKyAq
IGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgo+PiAr
ICoKPj4gKyAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJB
TlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCj4+ICsgKiBJTVBMSUVELCBJTkNMVURJTkcgQlVU
IE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwKPj4gKyAq
IEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuICBJ
TiBOTyBFVkVOVCBTSEFMTAo+PiArICogVEhFIENPUFlSSUdIVCBIT0xERVIoUykgT1IgQVVUSE9S
KFMpIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SCj4+ICsgKiBPVEhFUiBMSUFC
SUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lT
RSwKPj4gKyAqIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUg
U09GVFdBUkUgT1IgVEhFIFVTRSBPUgo+PiArICogT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRX
QVJFLgo+PiArICovCj4+ICsKPj4gKyNpZm5kZWYgS0ZEX1NNSV9FVkVOVFNfSF9JTkNMVURFRAo+
PiArI2RlZmluZSBLRkRfU01JX0VWRU5UU19IX0lOQ0xVREVECj4+ICsKPj4gK2ludCBrZmRfc21p
X2V2ZW50X29wZW4oc3RydWN0IGtmZF9kZXYgKmRldiwgdWludDMyX3QgKmZkKTsKPj4gK3ZvaWQg
a2ZkX3NtaV9ldmVudF91cGRhdGVfdm1mYXVsdChzdHJ1Y3Qga2ZkX2RldiAqZGV2LCB1aW50MTZf
dCBwYXNpZCk7Cj4+ICsKPj4gKyNlbmRpZgo+PiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS91YXBpL2xp
bnV4L2tmZF9pb2N0bC5oIGIvaW5jbHVkZS91YXBpL2xpbnV4L2tmZF9pb2N0bC5oCj4+IGluZGV4
IDRmNjY3NjQuLmFkMzNjMTggMTAwNjQ0Cj4+IC0tLSBhL2luY2x1ZGUvdWFwaS9saW51eC9rZmRf
aW9jdGwuaAo+PiArKysgYi9pbmNsdWRlL3VhcGkvbGludXgva2ZkX2lvY3RsLmgKPiBBcyB3ZSBk
aXNjdXNzZWQsIHdlIHNob3VsZCBidW1wIHRoZSBLRkRfSUNPVExfTUlOT1JfVkVSU0lPTiBmb3Ig
dGhpcwo+IGNoYW5nZS4gU2tpcCB2ZXJzaW9uIDEuMiBhbmQgZ28gc3RyYWlnaHQgdG8gMS4zIGJl
Y2F1c2UgdmVyc2lvbiAxLjIgaXMKPiBidWluZyB1c2VkIGJ5IHRoZSBES01TIGJ1aWxkcy4KPgo+
IFJlZ2FyZHMsCj4gIMKgIEZlbGl4ClllcyBJIGRvIHBsYW4gdG8gaGF2ZSBhIDJuZCBwYXRjaCBm
b2xsb3dpbmcgdGhpcyBvbmUgb25jZSB5b3UgYXJlIGhhcHB5IAp3aXRoIG15IHBhdGNoIDopCj4K
Pj4gQEAgLTQ0Miw2ICs0NDIsMTcgQEAgc3RydWN0IGtmZF9pb2N0bF9pbXBvcnRfZG1hYnVmX2Fy
Z3Mgewo+PiAgIAlfX3UzMiBkbWFidWZfZmQ7CS8qIHRvIEtGRCAqLwo+PiAgIH07Cj4+ICAgCj4+
ICsvKgo+PiArICogS0ZEIFNNSShTeXN0ZW0gTWFuYWdlbWVudCBJbnRlcmZhY2UpIGV2ZW50cwo+
PiArICovCj4+ICsvKiBFdmVudCB0eXBlIChkZWZpbmVkIGJ5IGJpdG1hc2spICovCj4+ICsjZGVm
aW5lIEtGRF9TTUlfRVZFTlRfVk1GQVVMVCAgICAgMHgwMDAwMDAwMDAwMDAwMDAxCj4+ICsKPj4g
K3N0cnVjdCBrZmRfaW9jdGxfc21pX2V2ZW50c19hcmdzIHsKPj4gKwlfX3UzMiBncHVpZDsJLyog
dG8gS0ZEICovCj4+ICsJX191MzIgYW5vbl9mZDsJLyogZnJvbSBLRkQgKi8KPj4gK307Cj4+ICsK
Pj4gICAvKiBSZWdpc3RlciBvZmZzZXQgaW5zaWRlIHRoZSByZW1hcHBlZCBtbWlvIHBhZ2UKPj4g
ICAgKi8KPj4gICBlbnVtIGtmZF9tbWlvX3JlbWFwIHsKPj4gQEAgLTU0Niw3ICs1NTcsMTAgQEAg
ZW51bSBrZmRfbW1pb19yZW1hcCB7Cj4+ICAgI2RlZmluZSBBTURLRkRfSU9DX0FMTE9DX1FVRVVF
X0dXUwkJXAo+PiAgIAkJQU1ES0ZEX0lPV1IoMHgxRSwgc3RydWN0IGtmZF9pb2N0bF9hbGxvY19x
dWV1ZV9nd3NfYXJncykKPj4gICAKPj4gKyNkZWZpbmUgQU1ES0ZEX0lPQ19TTUlfRVZFTlRTCQkJ
XAo+PiArCQlBTURLRkRfSU9XUigweDFGLCBzdHJ1Y3Qga2ZkX2lvY3RsX3NtaV9ldmVudHNfYXJn
cykKPj4gKwo+PiAgICNkZWZpbmUgQU1ES0ZEX0NPTU1BTkRfU1RBUlQJCTB4MDEKPj4gLSNkZWZp
bmUgQU1ES0ZEX0NPTU1BTkRfRU5ECQkweDFGCj4+ICsjZGVmaW5lIEFNREtGRF9DT01NQU5EX0VO
RAkJMHgyMAo+PiAgIAo+PiAgICNlbmRpZgoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVl
ZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5m
by9hbWQtZ2Z4Cg==
