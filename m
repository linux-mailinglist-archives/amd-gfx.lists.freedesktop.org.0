Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A80682E67F
	for <lists+amd-gfx@lfdr.de>; Wed, 29 May 2019 22:52:00 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 4371A6E0D1;
	Wed, 29 May 2019 20:51:59 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
X-Greylist: delayed 2396 seconds by postgrey-1.36 at gabe;
 Wed, 29 May 2019 19:58:13 UTC
Received: from mx.dolansoft.org (s2.dolansoft.org [212.51.146.245])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 38C686E0D0
 for <amd-gfx@lists.freedesktop.org>; Wed, 29 May 2019 19:58:13 +0000 (UTC)
Received: from [192.168.1.223]
 by mx.dolansoft.org with esmtpsa (TLSv1.2:ECDHE-RSA-AES256-GCM-SHA384:256)
 (Exim 4.92) (envelope-from <lorenz@dolansoft.org>)
 id 1hW45V-0003S1-UW
 for amd-gfx@lists.freedesktop.org; Wed, 29 May 2019 19:18:13 +0000
From: Lorenz Brun <lorenz@brun.one>
Mime-Version: 1.0 (Mac OS X Mail 12.4 \(3445.104.8\))
Subject: TTM allocation failure under memory pressure on suspend
Message-Id: <3AC939A6-D7CD-4A78-8D9D-030A580A2DC8@brun.one>
Date: Wed, 29 May 2019 21:18:13 +0200
To: amd-gfx@lists.freedesktop.org
X-Mailman-Approved-At: Wed, 29 May 2019 20:51:57 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt;
 c=relaxed/relaxed; d=brun.one; 
 s=s1; h=Sender:To:Date:Message-Id:Subject:Mime-Version:
 Content-Transfer-Encoding:Content-Type:From:Reply-To:Cc:Content-ID:
 Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc
 :Resent-Message-ID:In-Reply-To:References:List-Id:List-Help:List-Unsubscribe:
 List-Subscribe:List-Post:List-Owner:List-Archive;
 bh=mmksBJUtYMPyqVnqgV1fD86er2/7MzpJS68sgBxeD00=; b=Jnu9x4wHj4VF3e0WBJlxqNIBV5
 Kcp4zHu5HfQ0Efx6tQQ43jZKRlxXv7wCUcZnAcKVeH4f4HSoFQXKaA8nB15DYqDp2mASE6eEzG8VC
 iprL36UWczO95fFTxOTyJyTRsO11D5gPp6JjA2bZkQwtJPrzDl7GhswoR35+p1ikNJNOV40FODZKJ
 aOPgIcByesPb9vLDySh7UYb98EN8kt3rdiG6cJWTlr9cqjC5KHhAfKemsQcCM31N9DuKV+UjDGU9u
 jTjcnBa+gMd7JZ9C8RUDwQnzLJ9zP/Fyu5ugjvKR5py9FRhS6LlZ2MshSUSykJKmp66Sp757/a6/D
 byUOfPWQ==;
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

SGksCgpJIGhhdmUgYSBSWCA1NzAgd2hpY2ggZmFpbHMgdG8gc3VzcGVuZCBwcm9wZXJseSB1bmRl
ciBtZW1vcnkgcHJlc3N1cmUgYW5kIHN0YXlzIGJsYWNrIGFmdGVyIHdha2luZyB1cC4KSXQgbG9v
a3MgbGlrZSBhbiBhbGxvY2F0aW9uIGZhaWx1cmUgaW4gdGhlIFRUTSBWUkFNIGV2aWN0aW9uIGlz
IHRvIGJsYW1lOgoKWzYzNTQ3MS4yNDA0MTFdIGt3b3JrZXIvdTI0OjI2OiBwYWdlIGFsbG9jYXRp
b24gZmFpbHVyZTogb3JkZXI6MCwgbW9kZToweDYyMDQwMihHRlBfTk9JT3xfX0dGUF9ISUdITUVN
fF9fR0ZQX1JFVFJZX01BWUZBSUx8X19HRlBfSEFSRFdBTEwpLCBub2RlbWFzaz0obnVsbCksY3B1
c2V0PS8sbWVtc19hbGxvd2VkPTAKWzYzNTQ3MS4yNDA0MTZdIENQVTogOSBQSUQ6IDIwODg0IENv
bW06IGt3b3JrZXIvdTI0OjI2IFRhaW50ZWQ6IFAgICAgICAgICAgIE9FICAgICA1LjAuMC0xMy1n
ZW5lcmljICMxNC1VYnVudHUKWzYzNTQ3MS4yNDA0MTddIEhhcmR3YXJlIG5hbWU6IE1TSSBNUy03
ODg1L1g5OUEgU0xJIFBMVVMoTVMtNzg4NSksIEJJT1MgMS44MCAwMy8yMC8yMDE1Cls2MzU0NzEu
MjQwNDIxXSBXb3JrcXVldWU6IGV2ZW50c191bmJvdW5kIGFzeW5jX3J1bl9lbnRyeV9mbgpbNjM1
NDcxLjI0MDQyMV0gQ2FsbCBUcmFjZToKWzYzNTQ3MS4yNDA0MjZdICBkdW1wX3N0YWNrKzB4NjMv
MHg4YQpbNjM1NDcxLjI0MDQyOF0gIHdhcm5fYWxsb2MuY29sZC4xMTkrMHg3Yi8weGZiCls2MzU0
NzEuMjQwNDI5XSAgX19hbGxvY19wYWdlc19zbG93cGF0aCsweGU2My8weGVhMApbNjM1NDcxLjI0
MDQzMl0gID8gZmx1c2hfdGxiX2FsbCsweDFjLzB4MjAKWzYzNTQ3MS4yNDA0MzNdICA/IGNoYW5n
ZV9wYWdlX2F0dHJfc2V0X2NscisweDE2NC8weDFmMApbNjM1NDcxLjI0MDQzNF0gIF9fYWxsb2Nf
cGFnZXNfbm9kZW1hc2srMHgyYzQvMHgyZTAKWzYzNTQ3MS4yNDA0MzddICBhbGxvY19wYWdlc19j
dXJyZW50KzB4ODEvMHhlMApbNjM1NDcxLjI0MDQ0Ml0gIHR0bV9hbGxvY19uZXdfcGFnZXMuaXNy
YS4xNisweDk1LzB4MWUwIFt0dG1dCls2MzU0NzEuMjQwNDQ0XSAgdHRtX3BhZ2VfcG9vbF9nZXRf
cGFnZXMrMHgxNmIvMHgzODAgW3R0bV0KWzYzNTQ3MS4yNDA0NDZdICB0dG1fcG9vbF9wb3B1bGF0
ZSsweDFhMy8weDRhMCBbdHRtXQpbNjM1NDcxLjI0MDQ0OF0gIHR0bV9wb3B1bGF0ZV9hbmRfbWFw
X3BhZ2VzKzB4MjgvMHgyNTAgW3R0bV0KWzYzNTQ3MS4yNDA0NTBdICA/IHR0bV9kbWFfdHRfYWxs
b2NfcGFnZV9kaXJlY3RvcnkrMHgyZC8weDYwIFt0dG1dCls2MzU0NzEuMjQwNDkwXSAgYW1kZ3B1
X3R0bV90dF9wb3B1bGF0ZSsweDU2LzB4ZTAgW2FtZGdwdV0KWzYzNTQ3MS4yNDA0OTNdICB0dG1f
dHRfcG9wdWxhdGUucGFydC45KzB4MjIvMHg2MCBbdHRtXQpbNjM1NDcxLjI0MDQ5NV0gIHR0bV90
dF9iaW5kKzB4NGYvMHg2MCBbdHRtXQpbNjM1NDcxLjI0MDQ5N10gIHR0bV9ib19oYW5kbGVfbW92
ZV9tZW0rMHgyNmMvMHg1MDAgW3R0bV0KWzYzNTQ3MS4yNDA0OTldICB0dG1fYm9fZXZpY3QrMHgx
NDIvMHgxYzAgW3R0bV0KWzYzNTQ3MS4yNDA1MDFdICB0dG1fbWVtX2V2aWN0X2ZpcnN0KzB4MTlh
LzB4MjIwIFt0dG1dCls2MzU0NzEuMjQwNTA0XSAgdHRtX2JvX2ZvcmNlX2xpc3RfY2xlYW4rMHhh
MS8weDE3MCBbdHRtXQpbNjM1NDcxLjI0MDUwNl0gIHR0bV9ib19ldmljdF9tbSsweDJlLzB4MzAg
W3R0bV0KWzYzNTQ3MS4yNDA1MzFdICBhbWRncHVfYm9fZXZpY3RfdnJhbSsweDFhLzB4MjAgW2Ft
ZGdwdV0KWzYzNTQ3MS4yNDA1NTRdICBhbWRncHVfZGV2aWNlX3N1c3BlbmQrMHgxZGQvMHgzZDAg
W2FtZGdwdV0KWzYzNTQ3MS4yNDA1NzhdICBhbWRncHVfcG1vcHNfc3VzcGVuZCsweDFmLzB4MzAg
W2FtZGdwdV0KWzYzNTQ3MS4yNDA1NzldICBwY2lfcG1fc3VzcGVuZCsweDc2LzB4MTMwCls2MzU0
NzEuMjQwNTgwXSAgPyBwY2lfcG1fZnJlZXplKzB4ZjAvMHhmMApbNjM1NDcxLjI0MDU4Ml0gIGRw
bV9ydW5fY2FsbGJhY2srMHg2Ni8weDE1MApbNjM1NDcxLjI0MDU4Ml0gIF9fZGV2aWNlX3N1c3Bl
bmQrMHgxMTAvMHg0OTAKWzYzNTQ3MS4yNDA1ODNdICBhc3luY19zdXNwZW5kKzB4MWYvMHg5MApb
NjM1NDcxLjI0MDU4NF0gIGFzeW5jX3J1bl9lbnRyeV9mbisweDNjLzB4MTUwCls2MzU0NzEuMjQw
NTg2XSAgcHJvY2Vzc19vbmVfd29yaysweDIwZi8weDQxMApbNjM1NDcxLjI0MDU4N10gIHdvcmtl
cl90aHJlYWQrMHgzNC8weDQwMApbNjM1NDcxLjI0MDU4OV0gIGt0aHJlYWQrMHgxMjAvMHgxNDAK
WzYzNTQ3MS4yNDA1ODldICA/IHByb2Nlc3Nfb25lX3dvcmsrMHg0MTAvMHg0MTAKWzYzNTQ3MS4y
NDA1OTFdICA/IF9fa3RocmVhZF9wYXJrbWUrMHg3MC8weDcwCls2MzU0NzEuMjQwNTkyXSAgcmV0
X2Zyb21fZm9yaysweDM1LzB4NDAK4oCmCls2MzU0NzEuMjQxOTk0XSBbVFRNXSBCdWZmZXIgZXZp
Y3Rpb24gZmFpbGVkCls2MzU0NzEuNjI3NTU0XSBbVFRNXSBCdWZmZXIgZXZpY3Rpb24gZmFpbGVk
CgpTdWJzZXF1ZW50bHkgaXQgZmFpbHMgdG8gd2FrZSB1cCAoYWxsIDMgc2NyZWVucyBibGFjaykg
YmVjYXVzZSBvZiBhbiBpbml0aWFsaXphdGlvbiBmYWlsdXJlOgoKWzYzNTQ3Mi4yMTYzMjNdIGFt
ZGdwdSAwMDAwOjA0OjAwLjA6IFtkcm06YW1kZ3B1X3JpbmdfdGVzdF9oZWxwZXIgW2FtZGdwdV1d
ICpFUlJPUiogcmluZyBnZnggdGVzdCBmYWlsZWQgKC0xMTApCls2MzU0NzIuMjE2MzU0XSBbZHJt
OmFtZGdwdV9kZXZpY2VfaXBfcmVzdW1lX3BoYXNlMiBbYW1kZ3B1XV0gKkVSUk9SKiByZXN1bWUg
b2YgSVAgYmxvY2sgPGdmeF92OF8wPiBmYWlsZWQgLTExMApbNjM1NDcyLjIxNjM4NF0gW2RybTph
bWRncHVfZGV2aWNlX3Jlc3VtZSBbYW1kZ3B1XV0gKkVSUk9SKiBhbWRncHVfZGV2aWNlX2lwX3Jl
c3VtZSBmYWlsZWQgKC0xMTApLgpbNjM1NDcyLjIxNjM4N10gZHBtX3J1bl9jYWxsYmFjaygpOiBw
Y2lfcG1fcmVzdW1lKzB4MC8weGIwIHJldHVybnMgLTExMApbNjM1NDcyLjIxNjM5MF0gUE06IERl
dmljZSAwMDAwOjA0OjAwLjAgZmFpbGVkIHRvIHJlc3VtZSBhc3luYzogZXJyb3IgLTExMAoKSeKA
mW0gcHJldHR5IHN1cmUgdGhlIHByb2JsZW0gaXMgc2V0dGluZyBHRlBfTk9JTyB3aGljaCBtYWtl
cyBpdCBpbXBvc3NpYmxlIGZvciB0aGUga2VybmVsIHRvIHN3YXAgYW55dGhpbmcgb3V0IGFuZCBp
dCBzdWJzZXF1ZW50bHkgZ2l2ZXMgdXAgdHJ5aW5nIHRvIHNhdGlzZnkgdGhlIGFsbG9jYXRpb24u
IEkgdXN1YWxseSBydW4gdW5kZXIgcXVpdGUgc29tZSBtZW1vcnkgcHJlc3N1cmUgd2l0aCBhIGxv
dCBvZiBzd2FwICgzMkdpQiBSQU0gKyA0OEdpQiBTd2FwLCA+NDhHaUIgbWVtb3J5IHVzYWdlIGlz
IHJlZ3VsYXIpLiBJIGhhdmUgbG9va2VkIGF0IHRoZSBjb2RlIGluIHF1ZXN0aW9uIGJ1dCBJ4oCZ
bSBub3Qgc3VyZSB3aGVyZSB0aGlzIGlzIGNvbWluZyBmcm9tLCBpdCBzZWVtcyBsaWtlIG5laXRo
ZXIgdHRtIG5vciBhbWRncHUgc2V0IEdGUF9OT0lPLiBUVE0gc2VlbXMgdG8gaGF2ZSBwZXItcG9v
bCBhbGxvY2F0aW9uIGZsYWdzIGFuZCBzb21laG93IEdGUF9OT0lPIGlzIGdldHRpbmcgZW5hYmxl
ZCB0aGVyZSBmb3IgdGhlIGFtZGdwdSBwb29sLgoKVGhhbmtzLApMb3JlbnoKX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxpc3QK
YW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5v
cmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4
