Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 4667448F5F
	for <lists+amd-gfx@lfdr.de>; Mon, 17 Jun 2019 21:32:04 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id DEA8489C51;
	Mon, 17 Jun 2019 19:32:01 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-qk1-x742.google.com (mail-qk1-x742.google.com
 [IPv6:2607:f8b0:4864:20::742])
 by gabe.freedesktop.org (Postfix) with ESMTPS id BBE4A89C2C
 for <amd-gfx@lists.freedesktop.org>; Mon, 17 Jun 2019 19:31:58 +0000 (UTC)
Received: by mail-qk1-x742.google.com with SMTP id g18so6972294qkl.3
 for <amd-gfx@lists.freedesktop.org>; Mon, 17 Jun 2019 12:31:58 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=3SrHwCb4VSAhf4yPBtHCgeTh5hZAdHloeJQ4qZ/FrKg=;
 b=oxmqI1ncv3g71yHAOWAeNXaitXV29C3fWPw8yWVXUbxkHapurIcB/qtuxn0vU5Er10
 GXQ+lDXs+CWC5xbZqWA6Q8w4Ns/mKKnuejR9AYzcMqWofNaieCirNpR+w2aUURfeFcix
 EmGofg0ITbTDQ5HSKy3Dbi5aaamhomuUCOo9ExdT7qd9BkDUS4ExilB+TwIaQ9O1iUoZ
 jMb1rutUKa+St4KL2QwutHHTEqNizsMQRuaMgo+XDfML0daZUHWCPQfZYwiUCjvmvldE
 01Oe1BKRHD3qTJIVIQsysV+LihSKAeVN36B8JQreUkY4brZu4eIdVHHDmAY1DI/8vNZR
 DKaA==
X-Gm-Message-State: APjAAAXJRBP/StMSpXqrxCMvpHe6ADl5BJudQSlC/TteSdqjsoAR/xtR
 8Z1LQNXylsqBrDSGMoWk+xfiO+eZoN8=
X-Google-Smtp-Source: APXvYqwSajLbYOjNiCz1XizWgG6IkKgyYgEzbnt0HSGunU8RveeU16O3tUJwQqeqiZRmGl21V9W5iQ==
X-Received: by 2002:a37:dc45:: with SMTP id v66mr32484891qki.24.1560799917660; 
 Mon, 17 Jun 2019 12:31:57 -0700 (PDT)
Received: from localhost.localdomain ([71.219.5.136])
 by smtp.gmail.com with ESMTPSA id u2sm7474875qtj.97.2019.06.17.12.31.56
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Mon, 17 Jun 2019 12:31:57 -0700 (PDT)
From: Alex Deucher <alexdeucher@gmail.com>
X-Google-Original-From: Alex Deucher <alexander.deucher@amd.com>
To: amd-gfx@lists.freedesktop.org
Subject: [PATCH 248/459] drm/amd/powerplay: add function get_workload_type_map
 for swsmu
Date: Mon, 17 Jun 2019 14:30:15 -0500
Message-Id: <20190617193106.18231-49-alexander.deucher@amd.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190617193106.18231-1-alexander.deucher@amd.com>
References: <20190617193106.18231-1-alexander.deucher@amd.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=3SrHwCb4VSAhf4yPBtHCgeTh5hZAdHloeJQ4qZ/FrKg=;
 b=GK9pL7VZN3JE1FN6LyCLxT8aVBT9hxTJVbW2sZNH8E164GNVdY2cA89KrudtlivYCY
 t5XN3hmZt/SCenMlqd8HVcC3vSJLylbPFBj6OFGQ4dywB5eyUP2mN5rI7WmB3613lEZY
 7djDV6kW4Gkd8jwj1aYIQzMufC3n5wytdmsndUivBVYJd2564Lb9CPkKwaODb3kUGbXl
 kznykj4A8XZT6PXpmuAMHkQwkTTznp1O9AJGaq0ncwYRqNtq5Y4pj6b9SgAjOQr5qE87
 KVSTmFhb7+LQ2bLMCcwe9vSyzvOaWe8tlpj1vFvajKAxjxSPfWtDNyxkS1SsLFmFUDjA
 +EQg==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Alex Deucher <alexander.deucher@amd.com>, Kevin Wang <kevin1.wang@amd.com>,
 Huang Rui <ray.huang@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogS2V2aW4gV2FuZyA8a2V2aW4xLndhbmdAYW1kLmNvbT4KCjEuYWRkIG5ldyBjYWxsYmFj
ayBmdW5jdGlvbiBnZXRfd29ya2xvYWRfYnl0ZSBmb3Igc211CjIucmVtb3ZlIG9sZCB3b3JrbG9h
ZCBtYXAgZnVuY3Rpb24KClNpZ25lZC1vZmYtYnk6IEtldmluIFdhbmcgPGtldmluMS53YW5nQGFt
ZC5jb20+ClJldmlld2VkLWJ5OiBIdWFuZyBSdWkgPHJheS5odWFuZ0BhbWQuY29tPgpTaWduZWQt
b2ZmLWJ5OiBBbGV4IERldWNoZXIgPGFsZXhhbmRlci5kZXVjaGVyQGFtZC5jb20+Ci0tLQogLi4u
L2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvYW1kZ3B1X3NtdS5oICAgIHwgIDYgKy0KIGRyaXZl
cnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2luYy9zbXVfdjExXzAuaCB8ICAzICsKIGRyaXZlcnMv
Z3B1L2RybS9hbWQvcG93ZXJwbGF5L25hdmkxMF9wcHQuYyAgICB8IDIzICsrKysrKysrCiBkcml2
ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS92ZWdhMjBfcHB0LmMgICAgfCA1OCArKysrKysrKy0t
LS0tLS0tLS0tCiA0IGZpbGVzIGNoYW5nZWQsIDUzIGluc2VydGlvbnMoKyksIDM3IGRlbGV0aW9u
cygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2luYy9hbWRn
cHVfc211LmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvYW1kZ3B1X3NtdS5o
CmluZGV4IDAyNzVjNGI5NmM5YS4uYjYyZDI3MjM4MGQ1IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvYW1kZ3B1X3NtdS5oCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvcG93ZXJwbGF5L2luYy9hbWRncHVfc211LmgKQEAgLTUzMiw2ICs1MzIsNyBAQCBzdHJ1
Y3QgcHB0YWJsZV9mdW5jcyB7CiAJaW50ICgqZ2V0X3NtdV9mZWF0dXJlX2luZGV4KShzdHJ1Y3Qg
c211X2NvbnRleHQgKnNtdSwgdWludDMyX3QgaW5kZXgpOwogCWludCAoKmdldF9zbXVfdGFibGVf
aW5kZXgpKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCB1aW50MzJfdCBpbmRleCk7CiAJaW50ICgq
Z2V0X3NtdV9wb3dlcl9pbmRleCkoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIHVpbnQzMl90IGlu
ZGV4KTsKKwlpbnQgKCpnZXRfd29ya2xvYWRfdHlwZSkoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUs
IGVudW0gUFBfU01DX1BPV0VSX1BST0ZJTEUgcHJvZmlsZSk7CiAJaW50ICgqcnVuX2FmbGxfYnRj
KShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSk7CiAJaW50ICgqZ2V0X2FsbG93ZWRfZmVhdHVyZV9t
YXNrKShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgdWludDMyX3QgKmZlYXR1cmVfbWFzaywgdWlu
dDMyX3QgbnVtKTsKIAllbnVtIGFtZF9wbV9zdGF0ZV90eXBlICgqZ2V0X2N1cnJlbnRfcG93ZXJf
c3RhdGUpKHN0cnVjdCBzbXVfY29udGV4dCAqc211KTsKQEAgLTU2Myw3ICs1NjQsNiBAQCBzdHJ1
Y3QgcHB0YWJsZV9mdW5jcyB7CiAJCQkJCSAgICAgICpjbG9ja3MpOwogCWludCAoKmdldF9wb3dl
cl9wcm9maWxlX21vZGUpKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCBjaGFyICpidWYpOwogCWlu
dCAoKnNldF9wb3dlcl9wcm9maWxlX21vZGUpKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCBsb25n
ICppbnB1dCwgdWludDMyX3Qgc2l6ZSk7Ci0JaW50ICgqY29udl9wcm9maWxlX3RvX3dvcmtsb2Fk
ICkoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGludCBwb3dlcl9wcm9maWxlKTsKIAllbnVtIGFt
ZF9kcG1fZm9yY2VkX2xldmVsICgqZ2V0X3BlcmZvcm1hbmNlX2xldmVsKShzdHJ1Y3Qgc211X2Nv
bnRleHQgKnNtdSk7CiAJaW50ICgqZm9yY2VfcGVyZm9ybWFuY2VfbGV2ZWwpKHN0cnVjdCBzbXVf
Y29udGV4dCAqc211LCBlbnVtIGFtZF9kcG1fZm9yY2VkX2xldmVsIGxldmVsKTsKIAlpbnQgKCpk
cG1fc2V0X3V2ZF9lbmFibGUpKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCBib29sIGVuYWJsZSk7
CkBAIC04MzksNiArODM5LDggQEAgc3RydWN0IHNtdV9mdW5jcwogCSgoc211KS0+cHB0X2Z1bmNz
PyAoKHNtdSktPnBwdF9mdW5jcy0+Z2V0X3NtdV90YWJsZV9pbmRleD8gKHNtdSktPnBwdF9mdW5j
cy0+Z2V0X3NtdV90YWJsZV9pbmRleCgoc211KSwgKHRhYikpIDogLUVJTlZBTCkgOiAtRUlOVkFM
KQogI2RlZmluZSBzbXVfcG93ZXJfZ2V0X2luZGV4KHNtdSwgc3JjKSBcCiAJKChzbXUpLT5wcHRf
ZnVuY3M/ICgoc211KS0+cHB0X2Z1bmNzLT5nZXRfc211X3Bvd2VyX2luZGV4PyAoc211KS0+cHB0
X2Z1bmNzLT5nZXRfc211X3Bvd2VyX2luZGV4KChzbXUpLCAoc3JjKSkgOiAtRUlOVkFMKSA6IC1F
SU5WQUwpCisjZGVmaW5lIHNtdV93b3JrbG9hZF9nZXRfdHlwZShzbXUsIHByb2ZpbGUpIFwKKwko
KHNtdSktPnBwdF9mdW5jcz8gKChzbXUpLT5wcHRfZnVuY3MtPmdldF93b3JrbG9hZF90eXBlPyAo
c211KS0+cHB0X2Z1bmNzLT5nZXRfd29ya2xvYWRfdHlwZSgoc211KSwgKHByb2ZpbGUpKSA6IC1F
SU5WQUwpIDogLUVJTlZBTCkKICNkZWZpbmUgc211X3J1bl9hZmxsX2J0YyhzbXUpIFwKIAkoKHNt
dSktPnBwdF9mdW5jcz8gKChzbXUpLT5wcHRfZnVuY3MtPnJ1bl9hZmxsX2J0Yz8gKHNtdSktPnBw
dF9mdW5jcy0+cnVuX2FmbGxfYnRjKChzbXUpKSA6IDApIDogMCkKICNkZWZpbmUgc211X2dldF9h
bGxvd2VkX2ZlYXR1cmVfbWFzayhzbXUsIGZlYXR1cmVfbWFzaywgbnVtKSBcCkBAIC04NjksOCAr
ODcxLDYgQEAgc3RydWN0IHNtdV9mdW5jcwogCSgoc211KS0+ZnVuY3MtPm5vdGlmeV9zbXVfZW5h
YmxlX3B3ZSA/IChzbXUpLT5mdW5jcy0+bm90aWZ5X3NtdV9lbmFibGVfcHdlKChzbXUpKSA6IDAp
CiAjZGVmaW5lIHNtdV9zZXRfd2F0ZXJtYXJrc19mb3JfY2xvY2tfcmFuZ2VzKHNtdSwgY2xvY2tf
cmFuZ2VzKSBcCiAJKChzbXUpLT5mdW5jcy0+c2V0X3dhdGVybWFya3NfZm9yX2Nsb2NrX3Jhbmdl
cyA/IChzbXUpLT5mdW5jcy0+c2V0X3dhdGVybWFya3NfZm9yX2Nsb2NrX3Jhbmdlcygoc211KSwg
KGNsb2NrX3JhbmdlcykpIDogMCkKLSNkZWZpbmUgc211X2NvbnZfcHJvZmlsZV90b193b3JrbG9h
ZChzbXUsIHR5cGUpIFwKLQkoKHNtdSktPnBwdF9mdW5jcy0+Y29udl9wcm9maWxlX3RvX3dvcmts
b2FkID8gKHNtdSktPnBwdF9mdW5jcy0+Y29udl9wcm9maWxlX3RvX3dvcmtsb2FkKChzbXUpLCAo
dHlwZSkpIDogMCkKICNkZWZpbmUgc211X2RwbV9zZXRfdXZkX2VuYWJsZShzbXUsIGVuYWJsZSkg
XAogCSgoc211KS0+cHB0X2Z1bmNzLT5kcG1fc2V0X3V2ZF9lbmFibGUgPyAoc211KS0+cHB0X2Z1
bmNzLT5kcG1fc2V0X3V2ZF9lbmFibGUoKHNtdSksIChlbmFibGUpKSA6IDApCiAjZGVmaW5lIHNt
dV9kcG1fc2V0X3ZjZV9lbmFibGUoc211LCBlbmFibGUpIFwKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvcG93ZXJwbGF5L2luYy9zbXVfdjExXzAuaCBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvcG93ZXJwbGF5L2luYy9zbXVfdjExXzAuaAppbmRleCAzYTFmNmY3OTA3OTUuLmQ5M2NkNzYy
NjliNCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaW5jL3NtdV92
MTFfMC5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2luYy9zbXVfdjExXzAu
aApAQCAtNTQsNiArNTQsOSBAQAogI2RlZmluZSBQV1JfTUFQKHRhYikgXAogCVtTTVVfUE9XRVJf
U09VUkNFXyMjdGFiXSA9IFBPV0VSX1NPVVJDRV8jI3RhYgogCisjZGVmaW5lIFdPUktMT0FEX01B
UChwcm9maWxlLCB3b3JrbG9hZCkgXAorCVtwcm9maWxlXSA9IHdvcmtsb2FkCisKIHN0cnVjdCBz
bXVfMTFfMF9tYXhfc3VzdGFpbmFibGVfY2xvY2tzIHsKIAl1aW50MzJfdCBkaXNwbGF5X2Nsb2Nr
OwogCXVpbnQzMl90IHBoeV9jbG9jazsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQv
cG93ZXJwbGF5L25hdmkxMF9wcHQuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L25h
dmkxMF9wcHQuYwppbmRleCAxMjE5YTY4ZTU2ZjIuLjk3OWVkNmIxYzhkZiAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvbmF2aTEwX3BwdC5jCisrKyBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvcG93ZXJwbGF5L25hdmkxMF9wcHQuYwpAQCAtMTk0LDYgKzE5NCwxNiBAQCBz
dGF0aWMgaW50IG5hdmkxMF9wd3Jfc3JjX21hcFtTTVVfUE9XRVJfU09VUkNFX0NPVU5UXSA9IHsK
IAlQV1JfTUFQKERDKSwKIH07CiAKK3N0YXRpYyBpbnQgbmF2aTEwX3dvcmtsb2FkX21hcFtdID0g
eworCVdPUktMT0FEX01BUChQUF9TTUNfUE9XRVJfUFJPRklMRV9CT09UVVBfREVGQVVMVCwJV09S
S0xPQURfUFBMSUJfREVGQVVMVF9CSVQpLAorCVdPUktMT0FEX01BUChQUF9TTUNfUE9XRVJfUFJP
RklMRV9GVUxMU0NSRUVOM0QsCQlXT1JLTE9BRF9QUExJQl9GVUxMX1NDUkVFTl8zRF9CSVQpLAor
CVdPUktMT0FEX01BUChQUF9TTUNfUE9XRVJfUFJPRklMRV9QT1dFUlNBVklORywJCVdPUktMT0FE
X1BQTElCX1BPV0VSX1NBVklOR19CSVQpLAorCVdPUktMT0FEX01BUChQUF9TTUNfUE9XRVJfUFJP
RklMRV9WSURFTywJCVdPUktMT0FEX1BQTElCX1ZJREVPX0JJVCksCisJV09SS0xPQURfTUFQKFBQ
X1NNQ19QT1dFUl9QUk9GSUxFX1ZSLAkJCVdPUktMT0FEX1BQTElCX1ZSX0JJVCksCisJV09SS0xP
QURfTUFQKFBQX1NNQ19QT1dFUl9QUk9GSUxFX0NPTVBVVEUsCQlXT1JLTE9BRF9QUExJQl9DVVNU
T01fQklUKSwKKwlXT1JLTE9BRF9NQVAoUFBfU01DX1BPV0VSX1BST0ZJTEVfQ1VTVE9NLAkJV09S
S0xPQURfUFBMSUJfQ1VTVE9NX0JJVCksCit9OworCiBzdGF0aWMgaW50IG5hdmkxMF9nZXRfc211
X21zZ19pbmRleChzdHJ1Y3Qgc211X2NvbnRleHQgKnNtYywgdWludDMyX3QgaW5kZXgpCiB7CiAJ
aW50IHZhbDsKQEAgLTI1OSw2ICsyNjksMTggQEAgc3RhdGljIGludCBuYXZpMTBfZ2V0X3B3cl9z
cmNfaW5kZXgoc3RydWN0IHNtdV9jb250ZXh0ICpzbWMsIHVpbnQzMl90IGluZGV4KQogCXJldHVy
biB2YWw7CiB9CiAKKworc3RhdGljIGludCBuYXZpMTBfZ2V0X3dvcmtsb2FkX3R5cGUoc3RydWN0
IHNtdV9jb250ZXh0ICpzbXUsIGVudW0gUFBfU01DX1BPV0VSX1BST0ZJTEUgcHJvZmlsZSkKK3sK
KwlpbnQgdmFsOworCWlmIChwcm9maWxlID4gUFBfU01DX1BPV0VSX1BST0ZJTEVfQ1VTVE9NKQor
CQlyZXR1cm4gLUVJTlZBTDsKKworCXZhbCA9IG5hdmkxMF93b3JrbG9hZF9tYXBbcHJvZmlsZV07
CisKKwlyZXR1cm4gdmFsOworfQorCiBzdGF0aWMgaW50CiBuYXZpMTBfZ2V0X2FsbG93ZWRfZmVh
dHVyZV9tYXNrKHN0cnVjdCBzbXVfY29udGV4dCAqc211LAogCQkJCSAgdWludDMyX3QgKmZlYXR1
cmVfbWFzaywgdWludDMyX3QgbnVtKQpAQCAtODQ4LDYgKzg3MCw3IEBAIHN0YXRpYyBjb25zdCBz
dHJ1Y3QgcHB0YWJsZV9mdW5jcyBuYXZpMTBfcHB0X2Z1bmNzID0gewogCS5nZXRfc211X2ZlYXR1
cmVfaW5kZXggPSBuYXZpMTBfZ2V0X3NtdV9mZWF0dXJlX2luZGV4LAogCS5nZXRfc211X3RhYmxl
X2luZGV4ID0gbmF2aTEwX2dldF9zbXVfdGFibGVfaW5kZXgsCiAJLmdldF9zbXVfcG93ZXJfaW5k
ZXg9IG5hdmkxMF9nZXRfcHdyX3NyY19pbmRleCwKKwkuZ2V0X3dvcmtsb2FkX3R5cGUgPSBuYXZp
MTBfZ2V0X3dvcmtsb2FkX3R5cGUsCiAJLmdldF9hbGxvd2VkX2ZlYXR1cmVfbWFzayA9IG5hdmkx
MF9nZXRfYWxsb3dlZF9mZWF0dXJlX21hc2ssCiAJLnNldF9kZWZhdWx0X2RwbV90YWJsZSA9IG5h
dmkxMF9zZXRfZGVmYXVsdF9kcG1fdGFibGUsCiAJLmRwbV9zZXRfdXZkX2VuYWJsZSA9IG5hdmkx
MF9kcG1fc2V0X3V2ZF9lbmFibGUsCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bv
d2VycGxheS92ZWdhMjBfcHB0LmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS92ZWdh
MjBfcHB0LmMKaW5kZXggMmYzM2ZlYzRkYTk4Li43ZmVkNjVhOWMwMGMgMTAwNjQ0Ci0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3ZlZ2EyMF9wcHQuYworKysgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL3Bvd2VycGxheS92ZWdhMjBfcHB0LmMKQEAgLTIwNyw2ICsyMDcsMTYgQEAgc3Rh
dGljIGludCB2ZWdhMjBfcHdyX3NyY19tYXBbU01VX1BPV0VSX1NPVVJDRV9DT1VOVF0gPSB7CiAJ
UFdSX01BUChEQyksCiB9OwogCitzdGF0aWMgaW50IHZlZ2EyMF93b3JrbG9hZF9tYXBbXSA9IHsK
KwlXT1JLTE9BRF9NQVAoUFBfU01DX1BPV0VSX1BST0ZJTEVfQk9PVFVQX0RFRkFVTFQsCVdPUktM
T0FEX0RFRkFVTFRfQklUKSwKKwlXT1JLTE9BRF9NQVAoUFBfU01DX1BPV0VSX1BST0ZJTEVfRlVM
TFNDUkVFTjNELAkJV09SS0xPQURfUFBMSUJfRlVMTF9TQ1JFRU5fM0RfQklUKSwKKwlXT1JLTE9B
RF9NQVAoUFBfU01DX1BPV0VSX1BST0ZJTEVfUE9XRVJTQVZJTkcsCQlXT1JLTE9BRF9QUExJQl9Q
T1dFUl9TQVZJTkdfQklUKSwKKwlXT1JLTE9BRF9NQVAoUFBfU01DX1BPV0VSX1BST0ZJTEVfVklE
RU8sCQlXT1JLTE9BRF9QUExJQl9WSURFT19CSVQpLAorCVdPUktMT0FEX01BUChQUF9TTUNfUE9X
RVJfUFJPRklMRV9WUiwJCQlXT1JLTE9BRF9QUExJQl9WUl9CSVQpLAorCVdPUktMT0FEX01BUChQ
UF9TTUNfUE9XRVJfUFJPRklMRV9DT01QVVRFLAkJV09SS0xPQURfUFBMSUJfQ1VTVE9NX0JJVCks
CisJV09SS0xPQURfTUFQKFBQX1NNQ19QT1dFUl9QUk9GSUxFX0NVU1RPTSwJCVdPUktMT0FEX1BQ
TElCX0NVU1RPTV9CSVQpLAorfTsKKwogc3RhdGljIGludCB2ZWdhMjBfZ2V0X3NtdV90YWJsZV9p
bmRleChzdHJ1Y3Qgc211X2NvbnRleHQgKnNtYywgdWludDMyX3QgaW5kZXgpCiB7CiAJaW50IHZh
bDsKQEAgLTI3Myw2ICsyODMsMTcgQEAgc3RhdGljIGludCB2ZWdhMjBfZ2V0X3NtdV9tc2dfaW5k
ZXgoc3RydWN0IHNtdV9jb250ZXh0ICpzbWMsIHVpbnQzMl90IGluZGV4KQogCXJldHVybiB2YWw7
CiB9CiAKK3N0YXRpYyBpbnQgdmVnYTIwX2dldF93b3JrbG9hZF90eXBlKHN0cnVjdCBzbXVfY29u
dGV4dCAqc211LCBlbnVtIFBQX1NNQ19QT1dFUl9QUk9GSUxFIHByb2ZpbGUpCit7CisJaW50IHZh
bDsKKwlpZiAocHJvZmlsZSA+IFBQX1NNQ19QT1dFUl9QUk9GSUxFX0NVU1RPTSkKKwkJcmV0dXJu
IC1FSU5WQUw7CisKKwl2YWwgPSB2ZWdhMjBfd29ya2xvYWRfbWFwW3Byb2ZpbGVdOworCisJcmV0
dXJuIHZhbDsKK30KKwogc3RhdGljIHZvaWQgdmVnYTIwX3RhYmxlc19pbml0KHN0cnVjdCBzbXVf
Y29udGV4dCAqc211LCBzdHJ1Y3Qgc211X3RhYmxlICp0YWJsZXMpCiB7CiAJU01VX1RBQkxFX0lO
SVQodGFibGVzLCBTTVVfVEFCTEVfUFBUQUJMRSwgc2l6ZW9mKFBQVGFibGVfdCksCkBAIC0xNjY5
LDM3ICsxNjkwLDYgQEAgc3RhdGljIGludCB2ZWdhMjBfZ2V0X29kX3BlcmNlbnRhZ2Uoc3RydWN0
IHNtdV9jb250ZXh0ICpzbXUsCiAJcmV0dXJuIHZhbHVlOwogfQogCi1zdGF0aWMgaW50IHZlZ2Ey
MF9jb252X3Byb2ZpbGVfdG9fd29ya2xvYWQoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGludCBw
b3dlcl9wcm9maWxlKQotewotCWludCBwcGxpYl93b3JrbG9hZCA9IDA7Ci0KLQlzd2l0Y2ggKHBv
d2VyX3Byb2ZpbGUpIHsKLQljYXNlIFBQX1NNQ19QT1dFUl9QUk9GSUxFX0JPT1RVUF9ERUZBVUxU
OgotCQlwcGxpYl93b3JrbG9hZCA9IFdPUktMT0FEX0RFRkFVTFRfQklUOwotCQlicmVhazsKLQlj
YXNlIFBQX1NNQ19QT1dFUl9QUk9GSUxFX0ZVTExTQ1JFRU4zRDoKLQkJcHBsaWJfd29ya2xvYWQg
PSBXT1JLTE9BRF9QUExJQl9GVUxMX1NDUkVFTl8zRF9CSVQ7Ci0JCWJyZWFrOwotCWNhc2UgUFBf
U01DX1BPV0VSX1BST0ZJTEVfUE9XRVJTQVZJTkc6Ci0JCXBwbGliX3dvcmtsb2FkID0gV09SS0xP
QURfUFBMSUJfUE9XRVJfU0FWSU5HX0JJVDsKLQkJYnJlYWs7Ci0JY2FzZSBQUF9TTUNfUE9XRVJf
UFJPRklMRV9WSURFTzoKLQkJcHBsaWJfd29ya2xvYWQgPSBXT1JLTE9BRF9QUExJQl9WSURFT19C
SVQ7Ci0JCWJyZWFrOwotCWNhc2UgUFBfU01DX1BPV0VSX1BST0ZJTEVfVlI6Ci0JCXBwbGliX3dv
cmtsb2FkID0gV09SS0xPQURfUFBMSUJfVlJfQklUOwotCQlicmVhazsKLQljYXNlIFBQX1NNQ19Q
T1dFUl9QUk9GSUxFX0NPTVBVVEU6Ci0JCXBwbGliX3dvcmtsb2FkID0gV09SS0xPQURfUFBMSUJf
Q09NUFVURV9CSVQ7Ci0JCWJyZWFrOwotCWNhc2UgUFBfU01DX1BPV0VSX1BST0ZJTEVfQ1VTVE9N
OgotCQlwcGxpYl93b3JrbG9hZCA9IFdPUktMT0FEX1BQTElCX0NVU1RPTV9CSVQ7Ci0JCWJyZWFr
OwotCX0KLQotCXJldHVybiBwcGxpYl93b3JrbG9hZDsKLX0KLQogc3RhdGljIGludCB2ZWdhMjBf
Z2V0X3Bvd2VyX3Byb2ZpbGVfbW9kZShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgY2hhciAqYnVm
KQogewogCURwbUFjdGl2aXR5TW9uaXRvckNvZWZmSW50X3QgYWN0aXZpdHlfbW9uaXRvcjsKQEAg
LTE3MzYsNyArMTcyNiw3IEBAIHN0YXRpYyBpbnQgdmVnYTIwX2dldF9wb3dlcl9wcm9maWxlX21v
ZGUoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGNoYXIgKmJ1ZikKIAogCWZvciAoaSA9IDA7IGkg
PD0gUFBfU01DX1BPV0VSX1BST0ZJTEVfQ1VTVE9NOyBpKyspIHsKIAkJLyogY29udiBQUF9TTUNf
UE9XRVJfUFJPRklMRSogdG8gV09SS0xPQURfUFBMSUJfKl9CSVQgKi8KLQkJd29ya2xvYWRfdHlw
ZSA9IHNtdV9jb252X3Byb2ZpbGVfdG9fd29ya2xvYWQoc211LCBpKTsKKwkJd29ya2xvYWRfdHlw
ZSA9IHNtdV93b3JrbG9hZF9nZXRfdHlwZShzbXUsIGkpOwogCQlyZXN1bHQgPSBzbXVfdXBkYXRl
X3RhYmxlKHNtdSwKIAkJCQkJICBUQUJMRV9BQ1RJVklUWV9NT05JVE9SX0NPRUZGIHwgd29ya2xv
YWRfdHlwZSA8PCAxNiwKIAkJCQkJICAodm9pZCAqKSgmYWN0aXZpdHlfbW9uaXRvciksIGZhbHNl
KTsKQEAgLTE4ODgsNyArMTg3OCw3IEBAIHN0YXRpYyBpbnQgdmVnYTIwX3NldF9wb3dlcl9wcm9m
aWxlX21vZGUoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGxvbmcgKmlucHV0LCB1CiAJfQogCiAJ
LyogY29udiBQUF9TTUNfUE9XRVJfUFJPRklMRSogdG8gV09SS0xPQURfUFBMSUJfKl9CSVQgKi8K
LQl3b3JrbG9hZF90eXBlID0gc211X2NvbnZfcHJvZmlsZV90b193b3JrbG9hZChzbXUsIHNtdS0+
cG93ZXJfcHJvZmlsZV9tb2RlKTsKKwl3b3JrbG9hZF90eXBlID0gc211X3dvcmtsb2FkX2dldF90
eXBlKHNtdSwgc211LT5wb3dlcl9wcm9maWxlX21vZGUpOwogCXNtdV9zZW5kX3NtY19tc2dfd2l0
aF9wYXJhbShzbXUsIFNNVV9NU0dfU2V0V29ya2xvYWRNYXNrLAogCQkJCSAgICAxIDw8IHdvcmts
b2FkX3R5cGUpOwogCkBAIC0zMTE0LDYgKzMxMDQsNyBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IHBw
dGFibGVfZnVuY3MgdmVnYTIwX3BwdF9mdW5jcyA9IHsKIAkuZ2V0X3NtdV9mZWF0dXJlX2luZGV4
ID0gdmVnYTIwX2dldF9zbXVfZmVhdHVyZV9pbmRleCwKIAkuZ2V0X3NtdV90YWJsZV9pbmRleCA9
IHZlZ2EyMF9nZXRfc211X3RhYmxlX2luZGV4LAogCS5nZXRfc211X3Bvd2VyX2luZGV4ID0gdmVn
YTIwX2dldF9wd3Jfc3JjX2luZGV4LAorCS5nZXRfd29ya2xvYWRfdHlwZSA9IHZlZ2EyMF9nZXRf
d29ya2xvYWRfdHlwZSwKIAkucnVuX2FmbGxfYnRjID0gdmVnYTIwX3J1bl9idGNfYWZsbCwKIAku
Z2V0X2FsbG93ZWRfZmVhdHVyZV9tYXNrID0gdmVnYTIwX2dldF9hbGxvd2VkX2ZlYXR1cmVfbWFz
aywKIAkuZ2V0X2N1cnJlbnRfcG93ZXJfc3RhdGUgPSB2ZWdhMjBfZ2V0X2N1cnJlbnRfcG93ZXJf
c3RhdGUsCkBAIC0zMTI1LDcgKzMxMTYsNiBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IHBwdGFibGVf
ZnVuY3MgdmVnYTIwX3BwdF9mdW5jcyA9IHsKIAkuZ2V0X2Nsb2NrX2J5X3R5cGVfd2l0aF9sYXRl
bmN5ID0gdmVnYTIwX2dldF9jbG9ja19ieV90eXBlX3dpdGhfbGF0ZW5jeSwKIAkuc2V0X2RlZmF1
bHRfb2Q4X3NldHRpbmdzID0gdmVnYTIwX3NldF9kZWZhdWx0X29kOF9zZXR0dGluZ3MsCiAJLmdl
dF9vZF9wZXJjZW50YWdlID0gdmVnYTIwX2dldF9vZF9wZXJjZW50YWdlLAotCS5jb252X3Byb2Zp
bGVfdG9fd29ya2xvYWQgPSB2ZWdhMjBfY29udl9wcm9maWxlX3RvX3dvcmtsb2FkLAogCS5nZXRf
cG93ZXJfcHJvZmlsZV9tb2RlID0gdmVnYTIwX2dldF9wb3dlcl9wcm9maWxlX21vZGUsCiAJLnNl
dF9wb3dlcl9wcm9maWxlX21vZGUgPSB2ZWdhMjBfc2V0X3Bvd2VyX3Byb2ZpbGVfbW9kZSwKIAku
Z2V0X3BlcmZvcm1hbmNlX2xldmVsID0gdmVnYTIwX2dldF9wZXJmb3JtYW5jZV9sZXZlbCwKLS0g
CjIuMjAuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18K
YW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6
Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4
