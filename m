Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id DCB313943C1
	for <lists+amd-gfx@lfdr.de>; Fri, 28 May 2021 16:06:37 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3B7716E402;
	Fri, 28 May 2021 14:06:36 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM10-MW2-obe.outbound.protection.outlook.com
 (mail-mw2nam10on2070.outbound.protection.outlook.com [40.107.94.70])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 5F5706E402
 for <amd-gfx@lists.freedesktop.org>; Fri, 28 May 2021 14:06:35 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=JViVQwuHNeuyeTxsE/HM3ACiN5L6g796p9u7Z/O4xTMEC6cNKoU9AyF5LFrHpyqmQ6Y+DkKjZvuehJ0BUrsrMDACjQSo4l+4aTVXv9/j30rVdIbgEzx+9aRBURx1S2Y4R0Tk5uXSUTEkO3NXv6uzplgSzfso8vLc58DAPryqKrFACsxTFgk0Fv3L6Bvw32Csgw19kgizYi1S11IE6FE1qrPGWUAga3P9dDV6jdwaK7sLbbQZa0RjAalIdW/V7c/2cXex/+Zc0qKlL9NQBska8Iu+ZJU53pOG66yrCyyQDEyxBqmTHqH2w4J7jJLUkvKEapyINsE3lj6neUe7V2fcVg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=j4h+jLS49aI5JlfHOOLjQbtZihRo53BXYi00Bu+STog=;
 b=RkF16U/Vd3/ca+yFvj98nBHee4MMcHREuXq3cus475UpsmZ8TPSe02U7URibE4UvuSIRttO4qeFCh6nWGbGIwyO9MGuoehn17e9TzldjObJL2w+JFdIuFrSirAb4pHV5j3UBFWbZfaHIys1Eh7quyr4dQ97jt34zM3yIUNkNHX7Qz5hBJITj6TdYOXXfXd2DIn8tkGyXMDxYE6cJsA/qS1q+s5kSN28YZCSRpaE5bXz5xkwJ5XGFn3ehwJM4kG7spi2+fLznk6XZWN4mtuo9s7aRPnVUXnCwEbF4hBKM7ZjxqTGW4W/czgd32fpFnD6W4m4mhQEOGtbG6GJS6iwToA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=amd.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=j4h+jLS49aI5JlfHOOLjQbtZihRo53BXYi00Bu+STog=;
 b=qUT6H+iStx6RucZPAn1umDpW4RrT8FW5Ut+N+ddUOGapaXEZl76raIbw2G24gCFOrEAFtpvGM+36BneRX+9iOToBqDotYST9mY5MkokmpPVvraFBQehmA/iZfMTVN/KhIZXAJ5Du1wataOKDvnDAwJ0VLMP0CMc2a8LTKdNoj5g=
Authentication-Results: amd.com; dkim=none (message not signed)
 header.d=none;amd.com; dmarc=none action=none header.from=amd.com;
Received: from MN2PR12MB3775.namprd12.prod.outlook.com (2603:10b6:208:159::19)
 by MN2PR12MB3997.namprd12.prod.outlook.com (2603:10b6:208:161::11)
 with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.4173.20; Fri, 28 May
 2021 14:06:33 +0000
Received: from MN2PR12MB3775.namprd12.prod.outlook.com
 ([fe80::6d4d:4674:1cf6:8d34]) by MN2PR12MB3775.namprd12.prod.outlook.com
 ([fe80::6d4d:4674:1cf6:8d34%6]) with mapi id 15.20.4173.024; Fri, 28 May 2021
 14:06:33 +0000
Subject: Re: [PATCH v4 4/6] drm/amdgpu: switch to amdgpu_bo_vm for vm code
To: Nirmoy Das <nirmoy.das@amd.com>, amd-gfx@lists.freedesktop.org
References: <20210528105623.28148-1-nirmoy.das@amd.com>
 <20210528105623.28148-4-nirmoy.das@amd.com>
From: =?UTF-8?Q?Christian_K=c3=b6nig?= <christian.koenig@amd.com>
Message-ID: <07555e75-643b-377a-6796-6cd68983c0cf@amd.com>
Date: Fri, 28 May 2021 16:06:28 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101
 Thunderbird/78.8.1
In-Reply-To: <20210528105623.28148-4-nirmoy.das@amd.com>
Content-Language: en-US
X-Originating-IP: [2a02:908:1252:fb60:a878:922a:f147:ebc]
X-ClientProxiedBy: AM0PR08CA0007.eurprd08.prod.outlook.com
 (2603:10a6:208:d2::20) To MN2PR12MB3775.namprd12.prod.outlook.com
 (2603:10b6:208:159::19)
MIME-Version: 1.0
X-MS-Exchange-MessageSentRepresentingType: 1
Received: from [IPv6:2a02:908:1252:fb60:a878:922a:f147:ebc]
 (2a02:908:1252:fb60:a878:922a:f147:ebc) by
 AM0PR08CA0007.eurprd08.prod.outlook.com (2603:10a6:208:d2::20) with Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.4173.20 via Frontend Transport; Fri, 28 May 2021 14:06:32 +0000
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-Correlation-Id: f77bf4ec-e7ce-4324-11cf-08d921e1cc3a
X-MS-TrafficTypeDiagnostic: MN2PR12MB3997:
X-MS-Exchange-Transport-Forked: True
X-Microsoft-Antispam-PRVS: <MN2PR12MB3997194B8638C3B48881260083229@MN2PR12MB3997.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:1303;
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: DWCbH0IPYmEUG52qR9K90YxAt3f+Axdn09bYY+Rdd8rvTuLL8Sg9/Rusjt48eX9g3UMqQz8jMe8hkgGymg2h5niS2wPqqP+kru1gRWwx8CFyWsofnLudf9Yfgst9LJm3RHVqcOP7UkRTdlT9bAOCAVyVrXG7XVdPMrL0bkVducrIMyKg63M3miSjlPBwW7NPL1FC5Xx98Dsv9uLw01Vg4dHcnXyFlZw/aBejPv1H+FeObQZZxutTDFR92HAZ5MrqmcqgUMXGR9/3ghyXoV/bRZoFibrSB73yMVXeADDIn9k3q4Nu9En5v86hqNxe5yfhp3SlUL757m3+9y/qJVga0DHeJxoW6gS8BaO4ZhaSXQAQepl38bEjBrcfnycOYOn77h69UTWco4U8bpSEHHFKiBBwlx2I2vgUxf2tqTwMe+t2LVxPSgltp4ZA9lbfL9DjILUYlOzxfX0DSp+EVi6Co+6AkbgUKcCj8opGAIjzYie42Pto8HKqi0PlX8i99Tdae41s2KyL6+b74vQXhUrOKJXbbtJE0FKtt0rwoCnNPHFRMETYxSQFlxe3ZFjJsHkgvlc0HTJuMOxZ2dSldqHY6TBOH+SzfufXHOf12nME5RevpL0Fb/bOpy5XxU6/kHxsxwWmRhrYg6A9nyMyqivBZZFhsM/RJ5WNkbTUS23xd1QFM5RyOYp5nvK6vgB1tdgk
X-Forefront-Antispam-Report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:MN2PR12MB3775.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(4636009)(136003)(396003)(376002)(39850400004)(346002)(366004)(38100700002)(8936002)(31686004)(8676002)(478600001)(2616005)(316002)(31696002)(6486002)(6666004)(4326008)(2906002)(86362001)(36756003)(66574015)(83380400001)(66946007)(66476007)(66556008)(16526019)(30864003)(186003)(5660300002)(43740500002)(45980500001);
 DIR:OUT; SFP:1101; 
X-MS-Exchange-AntiSpam-MessageData: =?utf-8?B?ZVJuejJxT3oveHp2a3RUU1ljcEVvbm5GalJFeDZUTDg2TktpNWRLV1BqeXdV?=
 =?utf-8?B?d1FyZ01kZWJlNy9qMzFJZWozRGJ6RG1SWE1Kanc3NURZZ1hOdzZnQ3NiaGs1?=
 =?utf-8?B?bTNabE1XQWNOWWhFUkp6TXJYV1Q4cm8rY2tZN3dlS3FCTkhhQytvd3JIRjdM?=
 =?utf-8?B?Q3BDSFNGNVE5QmpjMEtWVmptZGdiNHA0UWFnOS8waUJrUzdZUERhb2p2Ni80?=
 =?utf-8?B?aXhhdVRybnBNUXZqRlZxeVFyWHlCVmxocURUUDZKaDY5RVJzcit1Vk5oWnJU?=
 =?utf-8?B?bWhWSkVhVFFuT083eFJmSHFQK3VhK0RlaS8rV3RySkFxUHVZU0I4Z3dkOThp?=
 =?utf-8?B?OFM1NmJwa0EyZ1Y5R2lsWFlJSXZ3MldzWmZiQkRmWGZ6VXYxNGtwazdvRUNK?=
 =?utf-8?B?RWRZbU11MCs5QktaZmJZcmRIYkE5eUljTTVlZWtnb09FcGMyaEhWc25RM3dy?=
 =?utf-8?B?WklhWWtOVVBnbUhxa2gxWGxQTHUweGZrZlp2T0NZeFpRQnFHYzZWL1VaMXlq?=
 =?utf-8?B?OE02OFRHR3ZxeWhBY3R1RXFBWUphWUR0alMvNy9pUVA5WEVjU2RpNmtwYS9L?=
 =?utf-8?B?RThxQjUwL0JqYkpqQm1iT2x5Z0l1QW1KeUlqcS9wNjdGWlpQU1o5Wm1icW9L?=
 =?utf-8?B?bXV0VkhmaVo1TmRJRXJHbHI1OFdhdnhmcjVjTTA0ZHJGNllwZkJaeUttdVBu?=
 =?utf-8?B?Q1FwTWYzMHVSanFIRzdBZUlGZlg5bythc2VKdUN4WG1nQVUyaWlGYS9vYXhz?=
 =?utf-8?B?c3dUMXA3dnN6UkQvUmRwdTdiT1B0TE5wdzNYbjA5NWNrZ1JUZUVnWUdMc2Nx?=
 =?utf-8?B?RVFLOEtqZ293ZzByMFlQMW1pRks3WURJdUR2dEx5RFNWRzhWbnhPeENYcUZU?=
 =?utf-8?B?T1VvY25ZbStnQklvbTZCZFAyTlpTSnFBck5hWHR0azBTbEpBNXI0UHhqQk5I?=
 =?utf-8?B?UzRlOWl4R1pZUytQbDBlSnEwaG9mUFVGM2VoY05XdUw0bC82cVpPbzdQYnV6?=
 =?utf-8?B?eWhUWXJnaFFoZDNBTEs0dGpieWMvTTFmaUxSZFJDNUlGbXhERFBBVE1FQXRF?=
 =?utf-8?B?MWtvbStlMllwdkl5N3BjSkhhSXd3d2IyVWVnc2ZIRmFIc2FaYU8rQldoaHA1?=
 =?utf-8?B?am5RZGphd1Zxd1ZpbUFDcFR6NFJGb3h4Wm5uRHdMN2k1RlZ4SjlFYWVSUUt1?=
 =?utf-8?B?SVdRWEw3WmJSeTkvTlMvVUlEQ2d2emhqUzE3OS90VHNMQVBxaVBhVU9CQnVN?=
 =?utf-8?B?Tzd3cngvR1UzT3VBeFNzTWRKeUJVc3ptQ1JjUW9adWVqazRvdmFCL1prNWh5?=
 =?utf-8?B?K3ZicXl6Qk1WblpPelhiQkdWMjZ5dW1DeUZKcklnU0RrU3FpWWJtTS9UMFR5?=
 =?utf-8?B?NmJxVTlTV0RFT1FrY3YyMGtZdTJLa0dpZkdzWjJOaUdYbEtuSUpoV0NFRlpi?=
 =?utf-8?B?WE9CUGlYMlI5UFVhOUtGKzBLZkVXVlVnMHhVYWVxekZCdkhrOHNGajF2cUkw?=
 =?utf-8?B?cEpTUndCVW9YR0FXVFhVV1llaDgyZHlUa0hLdEpVTmNYSStEcGpuMzBxV0Qr?=
 =?utf-8?B?ZkhRdlRRYlNBRFhiWEJnbEhHb3lmd1lrbVYyYkpQc3pqQU9Vakk1LzVodWo4?=
 =?utf-8?B?b01ZNFNQZHdWY1JtdmdYNnVXOG9QVGVxcVdJZ1JJQ2wzUzBGYnE5d3NWS05K?=
 =?utf-8?B?NWM3VDVLVzVhNm9mQ28rcmR0emF0UlRyMFNLWHNWaWZDOElLbEtSWWlMYUJl?=
 =?utf-8?B?N2ZNQnI0NWRjQ1M1WDQ5V2N4bmtaaDd5Y2lMdG9pRStWSFh0UjZpVWZWN3l5?=
 =?utf-8?B?ZnM4M2wrTkhIMVVHS1Avb3VCUnBpM2UvckVidUthc3M4VlhVTStxRFl5emRU?=
 =?utf-8?Q?w9MS85FbUHvVF?=
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: f77bf4ec-e7ce-4324-11cf-08d921e1cc3a
X-MS-Exchange-CrossTenant-AuthSource: MN2PR12MB3775.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 28 May 2021 14:06:32.9400 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: eVTMDJhudSrM2rAMFmpFCdJQGwz49o+/yLZ4+1isF0y21VuNr1LOp5IrOqs6p5eP
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB3997
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: alexander.deucher@amd.com
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

CgpBbSAyOC4wNS4yMSB1bSAxMjo1NiBzY2hyaWViIE5pcm1veSBEYXM6Cj4gVGhlIHN1YmNsYXNz
LCBhbWRncHVfYm9fdm0gaXMgaW50ZW5kZWQgZm9yIFBUL1BEIEJPcyB3aGljaCBhcmUgYWxzbwo+
IHNoYWRvd2VkLCBzbyBzd2l0Y2ggdG8gYW1kZ3B1X2JvX3ZtIEJPIGZvciBQVC9QRCBCT3MuCj4K
PiB2NDogdXBkYXRlIGFtZGdwdV92bV91cGRhdGVfZnVuY3MgdG8gYWNjZXB0IGFtZGdwdV9ib192
bS4KPiB2Mzogc2ltcGxpZnkgY29kZS4KPiAgICAgIGNoZWNrIGFsc28gaWYgc2hhZG93IGJvIGV4
aXN0IGluc3RlYWQgb2YgY2hlY2tpbmcgYm8gb25seSB0eXBlLgo+IHYyOiBzcXVhc2ggdGhyZWUg
cmVsYXRlZCBwYXRjaGVzLgo+Cj4gU2lnbmVkLW9mZi1ieTogTmlybW95IERhcyA8bmlybW95LmRh
c0BhbWQuY29tPgoKUmV2aWV3ZWQtYnk6IENocmlzdGlhbiBLw7ZuaWcgPGNocmlzdGlhbi5rb2Vu
aWdAYW1kLmNvbT4KCj4gLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
dm0uYyAgICAgIHwgMTIzICsrKysrKysrKysrKy0tLS0tLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfdm0uaCAgICAgIHwgICA1ICstCj4gICBkcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfdm1fY3B1LmMgIHwgIDE0ICstLQo+ICAgZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvYW1kZ3B1X3ZtX3NkbWEuYyB8ICAxOSArLS0KPiAgIDQgZmlsZXMgY2hhbmdl
ZCwgOTYgaW5zZXJ0aW9ucygrKSwgNjUgZGVsZXRpb25zKC0pCj4KPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9hbWRncHVfdm0uYwo+IGluZGV4IDZiYzc1NjZjYzE5My4uMjIzYzYzMzQyZWNkIDEw
MDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92bS5jCj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtLmMKPiBAQCAtNjUyLDE1ICs2
NTIsMTUgQEAgdm9pZCBhbWRncHVfdm1fbW92ZV90b19scnVfdGFpbChzdHJ1Y3QgYW1kZ3B1X2Rl
dmljZSAqYWRldiwKPiAgIAlzcGluX2xvY2soJmFkZXYtPm1tYW4uYmRldi5scnVfbG9jayk7Cj4g
ICAJbGlzdF9mb3JfZWFjaF9lbnRyeShib19iYXNlLCAmdm0tPmlkbGUsIHZtX3N0YXR1cykgewo+
ICAgCQlzdHJ1Y3QgYW1kZ3B1X2JvICpibyA9IGJvX2Jhc2UtPmJvOwo+ICsJCXN0cnVjdCBhbWRn
cHVfYm8gKnNoYWRvdyA9IGFtZGdwdV9ib19zaGFkb3dlZChibyk7Cj4KPiAgIAkJaWYgKCFiby0+
cGFyZW50KQo+ICAgCQkJY29udGludWU7Cj4KPiAgIAkJdHRtX2JvX21vdmVfdG9fbHJ1X3RhaWwo
JmJvLT50Ym8sICZiby0+dGJvLm1lbSwKPiAgIAkJCQkJJnZtLT5scnVfYnVsa19tb3ZlKTsKPiAt
CQlpZiAoYm8tPnNoYWRvdykKPiAtCQkJdHRtX2JvX21vdmVfdG9fbHJ1X3RhaWwoJmJvLT5zaGFk
b3ctPnRibywKPiAtCQkJCQkJJmJvLT5zaGFkb3ctPnRiby5tZW0sCj4gKwkJaWYgKHNoYWRvdykK
PiArCQkJdHRtX2JvX21vdmVfdG9fbHJ1X3RhaWwoJnNoYWRvdy0+dGJvLCAmc2hhZG93LT50Ym8u
bWVtLAo+ICAgCQkJCQkJJnZtLT5scnVfYnVsa19tb3ZlKTsKPiAgIAl9Cj4gICAJc3Bpbl91bmxv
Y2soJmFkZXYtPm1tYW4uYmRldi5scnVfbG9jayk7Cj4gQEAgLTY5MiwxMiArNjkyLDEzIEBAIGlu
dCBhbWRncHVfdm1fdmFsaWRhdGVfcHRfYm9zKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCBz
dHJ1Y3QgYW1kZ3B1X3ZtICp2bSwKPgo+ICAgCWxpc3RfZm9yX2VhY2hfZW50cnlfc2FmZShib19i
YXNlLCB0bXAsICZ2bS0+ZXZpY3RlZCwgdm1fc3RhdHVzKSB7Cj4gICAJCXN0cnVjdCBhbWRncHVf
Ym8gKmJvID0gYm9fYmFzZS0+Ym87Cj4gKwkJc3RydWN0IGFtZGdwdV9ibyAqc2hhZG93ID0gYW1k
Z3B1X2JvX3NoYWRvd2VkKGJvKTsKPgo+ICAgCQlyID0gdmFsaWRhdGUocGFyYW0sIGJvKTsKPiAg
IAkJaWYgKHIpCj4gICAJCQlyZXR1cm4gcjsKPiAtCQlpZiAoYm8tPnNoYWRvdykgewo+IC0JCQly
ID0gdmFsaWRhdGUocGFyYW0sIGJvLT5zaGFkb3cpOwo+ICsJCWlmIChzaGFkb3cpIHsKPiArCQkJ
ciA9IHZhbGlkYXRlKHBhcmFtLCBzaGFkb3cpOwo+ICAgCQkJaWYgKHIpCj4gICAJCQkJcmV0dXJu
IHI7Cj4gICAJCX0KPiBAQCAtNzA1LDcgKzcwNiw3IEBAIGludCBhbWRncHVfdm1fdmFsaWRhdGVf
cHRfYm9zKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCBzdHJ1Y3QgYW1kZ3B1X3ZtICp2bSwK
PiAgIAkJaWYgKGJvLT50Ym8udHlwZSAhPSB0dG1fYm9fdHlwZV9rZXJuZWwpIHsKPiAgIAkJCWFt
ZGdwdV92bV9ib19tb3ZlZChib19iYXNlKTsKPiAgIAkJfSBlbHNlIHsKPiAtCQkJdm0tPnVwZGF0
ZV9mdW5jcy0+bWFwX3RhYmxlKGJvKTsKPiArCQkJdm0tPnVwZGF0ZV9mdW5jcy0+bWFwX3RhYmxl
KHRvX2FtZGdwdV9ib192bShibykpOwo+ICAgCQkJYW1kZ3B1X3ZtX2JvX3JlbG9jYXRlZChib19i
YXNlKTsKPiAgIAkJfQo+ICAgCX0KPiBAQCAtNzM3LDcgKzczOCw3IEBAIGJvb2wgYW1kZ3B1X3Zt
X3JlYWR5KHN0cnVjdCBhbWRncHVfdm0gKnZtKQo+ICAgICoKPiAgICAqIEBhZGV2OiBhbWRncHVf
ZGV2aWNlIHBvaW50ZXIKPiAgICAqIEB2bTogVk0gdG8gY2xlYXIgQk8gZnJvbQo+IC0gKiBAYm86
IEJPIHRvIGNsZWFyCj4gKyAqIEB2bWJvOiBCTyB0byBjbGVhcgo+ICAgICogQGltbWVkaWF0ZTog
dXNlIGFuIGltbWVkaWF0ZSB1cGRhdGUKPiAgICAqCj4gICAgKiBSb290IFBEIG5lZWRzIHRvIGJl
IHJlc2VydmVkIHdoZW4gY2FsbGluZyB0aGlzLgo+IEBAIC03NDcsMTMgKzc0OCwxNCBAQCBib29s
IGFtZGdwdV92bV9yZWFkeShzdHJ1Y3QgYW1kZ3B1X3ZtICp2bSkKPiAgICAqLwo+ICAgc3RhdGlj
IGludCBhbWRncHVfdm1fY2xlYXJfYm8oc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCj4gICAJ
CQkgICAgICBzdHJ1Y3QgYW1kZ3B1X3ZtICp2bSwKPiAtCQkJICAgICAgc3RydWN0IGFtZGdwdV9i
byAqYm8sCj4gKwkJCSAgICAgIHN0cnVjdCBhbWRncHVfYm9fdm0gKnZtYm8sCj4gICAJCQkgICAg
ICBib29sIGltbWVkaWF0ZSkKPiAgIHsKPiAgIAlzdHJ1Y3QgdHRtX29wZXJhdGlvbl9jdHggY3R4
ID0geyB0cnVlLCBmYWxzZSB9Owo+ICAgCXVuc2lnbmVkIGxldmVsID0gYWRldi0+dm1fbWFuYWdl
ci5yb290X2xldmVsOwo+ICAgCXN0cnVjdCBhbWRncHVfdm1fdXBkYXRlX3BhcmFtcyBwYXJhbXM7
Cj4gLQlzdHJ1Y3QgYW1kZ3B1X2JvICphbmNlc3RvciA9IGJvOwo+ICsJc3RydWN0IGFtZGdwdV9i
byAqYW5jZXN0b3IgPSAmdm1iby0+Ym87Cj4gKwlzdHJ1Y3QgYW1kZ3B1X2JvICpibyA9ICZ2bWJv
LT5ibzsKPiAgIAl1bnNpZ25lZCBlbnRyaWVzLCBhdHNfZW50cmllczsKPiAgIAl1aW50NjRfdCBh
ZGRyOwo+ICAgCWludCByOwo+IEBAIC03OTMsMTQgKzc5NSwxNSBAQCBzdGF0aWMgaW50IGFtZGdw
dV92bV9jbGVhcl9ibyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKPiAgIAlpZiAocikKPiAg
IAkJcmV0dXJuIHI7Cj4KPiAtCWlmIChiby0+c2hhZG93KSB7Cj4gLQkJciA9IHR0bV9ib192YWxp
ZGF0ZSgmYm8tPnNoYWRvdy0+dGJvLCAmYm8tPnNoYWRvdy0+cGxhY2VtZW50LAo+IC0JCQkJICAg
ICZjdHgpOwo+ICsJaWYgKHZtYm8tPnNoYWRvdykgewo+ICsJCXN0cnVjdCBhbWRncHVfYm8gKnNo
YWRvdyA9IHZtYm8tPnNoYWRvdzsKPiArCj4gKwkJciA9IHR0bV9ib192YWxpZGF0ZSgmc2hhZG93
LT50Ym8sICZzaGFkb3ctPnBsYWNlbWVudCwgJmN0eCk7Cj4gICAJCWlmIChyKQo+ICAgCQkJcmV0
dXJuIHI7Cj4gICAJfQo+Cj4gLQlyID0gdm0tPnVwZGF0ZV9mdW5jcy0+bWFwX3RhYmxlKGJvKTsK
PiArCXIgPSB2bS0+dXBkYXRlX2Z1bmNzLT5tYXBfdGFibGUodm1ibyk7Cj4gICAJaWYgKHIpCj4g
ICAJCXJldHVybiByOwo+Cj4gQEAgLTgyNCw3ICs4MjcsNyBAQCBzdGF0aWMgaW50IGFtZGdwdV92
bV9jbGVhcl9ibyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKPiAgIAkJCWFtZGdwdV9nbWNf
Z2V0X3ZtX3BkZShhZGV2LCBsZXZlbCwgJnZhbHVlLCAmZmxhZ3MpOwo+ICAgCQl9Cj4KPiAtCQly
ID0gdm0tPnVwZGF0ZV9mdW5jcy0+dXBkYXRlKCZwYXJhbXMsIGJvLCBhZGRyLCAwLCBhdHNfZW50
cmllcywKPiArCQlyID0gdm0tPnVwZGF0ZV9mdW5jcy0+dXBkYXRlKCZwYXJhbXMsIHZtYm8sIGFk
ZHIsIDAsIGF0c19lbnRyaWVzLAo+ICAgCQkJCQkgICAgIHZhbHVlLCBmbGFncyk7Cj4gICAJCWlm
IChyKQo+ICAgCQkJcmV0dXJuIHI7Cj4gQEAgLTg0Nyw3ICs4NTAsNyBAQCBzdGF0aWMgaW50IGFt
ZGdwdV92bV9jbGVhcl9ibyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKPiAgIAkJCX0KPiAg
IAkJfQo+Cj4gLQkJciA9IHZtLT51cGRhdGVfZnVuY3MtPnVwZGF0ZSgmcGFyYW1zLCBibywgYWRk
ciwgMCwgZW50cmllcywKPiArCQlyID0gdm0tPnVwZGF0ZV9mdW5jcy0+dXBkYXRlKCZwYXJhbXMs
IHZtYm8sIGFkZHIsIDAsIGVudHJpZXMsCj4gICAJCQkJCSAgICAgdmFsdWUsIGZsYWdzKTsKPiAg
IAkJaWYgKHIpCj4gICAJCQlyZXR1cm4gcjsKPiBAQCAtODYzLDE0ICs4NjYsMTYgQEAgc3RhdGlj
IGludCBhbWRncHVfdm1fY2xlYXJfYm8oc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCj4gICAg
KiBAdm06IHJlcXVlc3Rpbmcgdm0KPiAgICAqIEBsZXZlbDogdGhlIHBhZ2UgdGFibGUgbGV2ZWwK
PiAgICAqIEBpbW1lZGlhdGU6IHVzZSBhIGltbWVkaWF0ZSB1cGRhdGUKPiAtICogQGJvOiBwb2lu
dGVyIHRvIHRoZSBidWZmZXIgb2JqZWN0IHBvaW50ZXIKPiArICogQHZtYm86IHBvaW50ZXIgdG8g
dGhlIGJ1ZmZlciBvYmplY3QgcG9pbnRlcgo+ICAgICovCj4gICBzdGF0aWMgaW50IGFtZGdwdV92
bV9wdF9jcmVhdGUoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCj4gICAJCQkgICAgICAgc3Ry
dWN0IGFtZGdwdV92bSAqdm0sCj4gICAJCQkgICAgICAgaW50IGxldmVsLCBib29sIGltbWVkaWF0
ZSwKPiAtCQkJICAgICAgIHN0cnVjdCBhbWRncHVfYm8gKipibykKPiArCQkJICAgICAgIHN0cnVj
dCBhbWRncHVfYm9fdm0gKip2bWJvKQo+ICAgewo+ICAgCXN0cnVjdCBhbWRncHVfYm9fcGFyYW0g
YnA7Cj4gKwlzdHJ1Y3QgYW1kZ3B1X2JvICpibzsKPiArCXN0cnVjdCBkbWFfcmVzdiAqcmVzdjsK
PiAgIAlpbnQgcjsKPgo+ICAgCW1lbXNldCgmYnAsIDAsIHNpemVvZihicCkpOwo+IEBAIC04ODEs
NyArODg2LDcgQEAgc3RhdGljIGludCBhbWRncHVfdm1fcHRfY3JlYXRlKHN0cnVjdCBhbWRncHVf
ZGV2aWNlICphZGV2LAo+ICAgCWJwLmRvbWFpbiA9IGFtZGdwdV9ib19nZXRfcHJlZmVycmVkX3Bp
bl9kb21haW4oYWRldiwgYnAuZG9tYWluKTsKPiAgIAlicC5mbGFncyA9IEFNREdQVV9HRU1fQ1JF
QVRFX1ZSQU1fQ09OVElHVU9VUyB8Cj4gICAJCUFNREdQVV9HRU1fQ1JFQVRFX0NQVV9HVFRfVVNX
QzsKPiAtCWJwLmJvX3B0cl9zaXplID0gc2l6ZW9mKHN0cnVjdCBhbWRncHVfYm8pOwo+ICsJYnAu
Ym9fcHRyX3NpemUgPSBzaXplb2Yoc3RydWN0IGFtZGdwdV9ib192bSk7Cj4gICAJaWYgKHZtLT51
c2VfY3B1X2Zvcl91cGRhdGUpCj4gICAJCWJwLmZsYWdzIHw9IEFNREdQVV9HRU1fQ1JFQVRFX0NQ
VV9BQ0NFU1NfUkVRVUlSRUQ7Cj4KPiBAQCAtODkwLDI2ICs4OTUsNDEgQEAgc3RhdGljIGludCBh
bWRncHVfdm1fcHRfY3JlYXRlKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LAo+ICAgCWlmICh2
bS0+cm9vdC5iYXNlLmJvKQo+ICAgCQlicC5yZXN2ID0gdm0tPnJvb3QuYmFzZS5iby0+dGJvLmJh
c2UucmVzdjsKPgo+IC0JciA9IGFtZGdwdV9ib19jcmVhdGUoYWRldiwgJmJwLCBibyk7Cj4gKwly
ID0gYW1kZ3B1X2JvX2NyZWF0ZV92bShhZGV2LCAmYnAsIHZtYm8pOwo+ICAgCWlmIChyKQo+ICAg
CQlyZXR1cm4gcjsKPgo+IC0JaWYgKHZtLT5pc19jb21wdXRlX2NvbnRleHQgJiYgKGFkZXYtPmZs
YWdzICYgQU1EX0lTX0FQVSkpCj4gKwlibyA9ICYoKnZtYm8pLT5ibzsKPiArCWlmICh2bS0+aXNf
Y29tcHV0ZV9jb250ZXh0ICYmIChhZGV2LT5mbGFncyAmIEFNRF9JU19BUFUpKSB7Cj4gKwkJKCp2
bWJvKS0+c2hhZG93ID0gTlVMTDsKPiAgIAkJcmV0dXJuIDA7Cj4gKwl9Cj4KPiAgIAlpZiAoIWJw
LnJlc3YpCj4gLQkJV0FSTl9PTihkbWFfcmVzdl9sb2NrKCgqYm8pLT50Ym8uYmFzZS5yZXN2LAo+
ICsJCVdBUk5fT04oZG1hX3Jlc3ZfbG9jayhiby0+dGJvLmJhc2UucmVzdiwKPiAgIAkJCQkgICAg
ICBOVUxMKSk7Cj4gLQlyID0gYW1kZ3B1X2JvX2NyZWF0ZV9zaGFkb3coYWRldiwgYnAuc2l6ZSwg
KmJvKTsKPiArCXJlc3YgPSBicC5yZXN2Owo+ICsJbWVtc2V0KCZicCwgMCwgc2l6ZW9mKGJwKSk7
Cj4gKwlicC5zaXplID0gYW1kZ3B1X3ZtX2JvX3NpemUoYWRldiwgbGV2ZWwpOwo+ICsJYnAuZG9t
YWluID0gQU1ER1BVX0dFTV9ET01BSU5fR1RUOwo+ICsJYnAuZmxhZ3MgPSBBTURHUFVfR0VNX0NS
RUFURV9DUFVfR1RUX1VTV0M7Cj4gKwlicC50eXBlID0gdHRtX2JvX3R5cGVfa2VybmVsOwo+ICsJ
YnAucmVzdiA9IGJvLT50Ym8uYmFzZS5yZXN2Owo+ICsJYnAuYm9fcHRyX3NpemUgPSBzaXplb2Yo
c3RydWN0IGFtZGdwdV9ibyk7Cj4KPiAtCWlmICghYnAucmVzdikKPiAtCQlkbWFfcmVzdl91bmxv
Y2soKCpibyktPnRiby5iYXNlLnJlc3YpOwo+ICsJciA9IGFtZGdwdV9ib19jcmVhdGUoYWRldiwg
JmJwLCAmKCp2bWJvKS0+c2hhZG93KTsKPiArCj4gKwlpZiAoIXJlc3YpCj4gKwkJZG1hX3Jlc3Zf
dW5sb2NrKGJvLT50Ym8uYmFzZS5yZXN2KTsKPgo+ICAgCWlmIChyKSB7Cj4gLQkJYW1kZ3B1X2Jv
X3VucmVmKGJvKTsKPiArCQlhbWRncHVfYm9fdW5yZWYoJmJvKTsKPiAgIAkJcmV0dXJuIHI7Cj4g
ICAJfQo+Cj4gKwkoKnZtYm8pLT5zaGFkb3ctPnBhcmVudCA9IGFtZGdwdV9ib19yZWYoYm8pOwo+
ICsJYW1kZ3B1X2JvX2FkZF90b19zaGFkb3dfbGlzdCgoKnZtYm8pLT5zaGFkb3cpOwo+ICsKPiAg
IAlyZXR1cm4gMDsKPiAgIH0KPgo+IEBAIC05MzMsNyArOTUzLDggQEAgc3RhdGljIGludCBhbWRn
cHVfdm1fYWxsb2NfcHRzKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LAo+ICAgCQkJICAgICAg
IGJvb2wgaW1tZWRpYXRlKQo+ICAgewo+ICAgCXN0cnVjdCBhbWRncHVfdm1fcHQgKmVudHJ5ID0g
Y3Vyc29yLT5lbnRyeTsKPiAtCXN0cnVjdCBhbWRncHVfYm8gKnB0Owo+ICsJc3RydWN0IGFtZGdw
dV9ibyAqcHRfYm87Cj4gKwlzdHJ1Y3QgYW1kZ3B1X2JvX3ZtICpwdDsKPiAgIAlpbnQgcjsKPgo+
ICAgCWlmIChjdXJzb3ItPmxldmVsIDwgQU1ER1BVX1ZNX1BUQiAmJiAhZW50cnktPmVudHJpZXMp
IHsKPiBAQCAtOTU3LDggKzk3OCw5IEBAIHN0YXRpYyBpbnQgYW1kZ3B1X3ZtX2FsbG9jX3B0cyhz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKPiAgIAkvKiBLZWVwIGEgcmVmZXJlbmNlIHRvIHRo
ZSByb290IGRpcmVjdG9yeSB0byBhdm9pZAo+ICAgCSAqIGZyZWVpbmcgdGhlbSB1cCBpbiB0aGUg
d3Jvbmcgb3JkZXIuCj4gICAJICovCj4gLQlwdC0+cGFyZW50ID0gYW1kZ3B1X2JvX3JlZihjdXJz
b3ItPnBhcmVudC0+YmFzZS5ibyk7Cj4gLQlhbWRncHVfdm1fYm9fYmFzZV9pbml0KCZlbnRyeS0+
YmFzZSwgdm0sIHB0KTsKPiArCXB0X2JvID0gJnB0LT5ibzsKPiArCXB0X2JvLT5wYXJlbnQgPSBh
bWRncHVfYm9fcmVmKGN1cnNvci0+cGFyZW50LT5iYXNlLmJvKTsKPiArCWFtZGdwdV92bV9ib19i
YXNlX2luaXQoJmVudHJ5LT5iYXNlLCB2bSwgcHRfYm8pOwo+Cj4gICAJciA9IGFtZGdwdV92bV9j
bGVhcl9ibyhhZGV2LCB2bSwgcHQsIGltbWVkaWF0ZSk7Cj4gICAJaWYgKHIpCj4gQEAgLTk2OCw3
ICs5OTAsNyBAQCBzdGF0aWMgaW50IGFtZGdwdV92bV9hbGxvY19wdHMoc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYsCj4KPiAgIGVycm9yX2ZyZWVfcHQ6Cj4gICAJYW1kZ3B1X2JvX3VucmVmKCZw
dC0+c2hhZG93KTsKPiAtCWFtZGdwdV9ib191bnJlZigmcHQpOwo+ICsJYW1kZ3B1X2JvX3VucmVm
KCZwdF9ibyk7Cj4gICAJcmV0dXJuIHI7Cj4gICB9Cj4KPiBAQCAtOTc5LDEwICsxMDAxLDEzIEBA
IHN0YXRpYyBpbnQgYW1kZ3B1X3ZtX2FsbG9jX3B0cyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRl
diwKPiAgICAqLwo+ICAgc3RhdGljIHZvaWQgYW1kZ3B1X3ZtX2ZyZWVfdGFibGUoc3RydWN0IGFt
ZGdwdV92bV9wdCAqZW50cnkpCj4gICB7Cj4gKwlzdHJ1Y3QgYW1kZ3B1X2JvICpzaGFkb3c7Cj4g
Kwo+ICAgCWlmIChlbnRyeS0+YmFzZS5ibykgewo+ICsJCXNoYWRvdyA9IGFtZGdwdV9ib19zaGFk
b3dlZChlbnRyeS0+YmFzZS5ibyk7Cj4gICAJCWVudHJ5LT5iYXNlLmJvLT52bV9ibyA9IE5VTEw7
Cj4gICAJCWxpc3RfZGVsKCZlbnRyeS0+YmFzZS52bV9zdGF0dXMpOwo+IC0JCWFtZGdwdV9ib191
bnJlZigmZW50cnktPmJhc2UuYm8tPnNoYWRvdyk7Cj4gKwkJYW1kZ3B1X2JvX3VucmVmKCZzaGFk
b3cpOwo+ICAgCQlhbWRncHVfYm9fdW5yZWYoJmVudHJ5LT5iYXNlLmJvKTsKPiAgIAl9Cj4gICAJ
a3ZmcmVlKGVudHJ5LT5lbnRyaWVzKTsKPiBAQCAtMTI4NCw3ICsxMzA5LDggQEAgc3RhdGljIGlu
dCBhbWRncHVfdm1fdXBkYXRlX3BkZShzdHJ1Y3QgYW1kZ3B1X3ZtX3VwZGF0ZV9wYXJhbXMgKnBh
cmFtcywKPiAgIAlsZXZlbCArPSBwYXJhbXMtPmFkZXYtPnZtX21hbmFnZXIucm9vdF9sZXZlbDsK
PiAgIAlhbWRncHVfZ21jX2dldF9wZGVfZm9yX2JvKGVudHJ5LT5iYXNlLmJvLCBsZXZlbCwgJnB0
LCAmZmxhZ3MpOwo+ICAgCXBkZSA9IChlbnRyeSAtIHBhcmVudC0+ZW50cmllcykgKiA4Owo+IC0J
cmV0dXJuIHZtLT51cGRhdGVfZnVuY3MtPnVwZGF0ZShwYXJhbXMsIGJvLCBwZGUsIHB0LCAxLCAw
LCBmbGFncyk7Cj4gKwlyZXR1cm4gdm0tPnVwZGF0ZV9mdW5jcy0+dXBkYXRlKHBhcmFtcywgdG9f
YW1kZ3B1X2JvX3ZtKGJvKSwgcGRlLCBwdCwKPiArCQkJCQkxLCAwLCBmbGFncyk7Cj4gICB9Cj4K
PiAgIC8qKgo+IEBAIC0xMzY0LDkgKzEzOTAsOSBAQCBpbnQgYW1kZ3B1X3ZtX3VwZGF0ZV9wZGVz
KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LAo+ICAgICogTWFrZSBzdXJlIHRvIHNldCB0aGUg
cmlnaHQgZmxhZ3MgZm9yIHRoZSBQVEVzIGF0IHRoZSBkZXNpcmVkIGxldmVsLgo+ICAgICovCj4g
ICBzdGF0aWMgdm9pZCBhbWRncHVfdm1fdXBkYXRlX2ZsYWdzKHN0cnVjdCBhbWRncHVfdm1fdXBk
YXRlX3BhcmFtcyAqcGFyYW1zLAo+IC0JCQkJICAgc3RydWN0IGFtZGdwdV9ibyAqYm8sIHVuc2ln
bmVkIGxldmVsLAo+ICsJCQkJICAgc3RydWN0IGFtZGdwdV9ib192bSAqcHQsIHVuc2lnbmVkIGlu
dCBsZXZlbCwKPiAgIAkJCQkgICB1aW50NjRfdCBwZSwgdWludDY0X3QgYWRkciwKPiAtCQkJCSAg
IHVuc2lnbmVkIGNvdW50LCB1aW50MzJfdCBpbmNyLAo+ICsJCQkJICAgdW5zaWduZWQgaW50IGNv
dW50LCB1aW50MzJfdCBpbmNyLAo+ICAgCQkJCSAgIHVpbnQ2NF90IGZsYWdzKQo+Cj4gICB7Cj4g
QEAgLTEzODIsNyArMTQwOCw3IEBAIHN0YXRpYyB2b2lkIGFtZGdwdV92bV91cGRhdGVfZmxhZ3Mo
c3RydWN0IGFtZGdwdV92bV91cGRhdGVfcGFyYW1zICpwYXJhbXMsCj4gICAJCWZsYWdzIHw9IEFN
REdQVV9QVEVfRVhFQ1VUQUJMRTsKPiAgIAl9Cj4KPiAtCXBhcmFtcy0+dm0tPnVwZGF0ZV9mdW5j
cy0+dXBkYXRlKHBhcmFtcywgYm8sIHBlLCBhZGRyLCBjb3VudCwgaW5jciwKPiArCXBhcmFtcy0+
dm0tPnVwZGF0ZV9mdW5jcy0+dXBkYXRlKHBhcmFtcywgcHQsIHBlLCBhZGRyLCBjb3VudCwgaW5j
ciwKPiAgIAkJCQkJIGZsYWdzKTsKPiAgIH0KPgo+IEBAIC0xNTYyLDkgKzE1ODgsOSBAQCBzdGF0
aWMgaW50IGFtZGdwdV92bV91cGRhdGVfcHRlcyhzdHJ1Y3QgYW1kZ3B1X3ZtX3VwZGF0ZV9wYXJh
bXMgKnBhcmFtcywKPiAgIAkJCQkJCSAgICBucHRlcywgZHN0LCBpbmNyLCB1cGRfZmxhZ3MsCj4g
ICAJCQkJCQkgICAgdm0tPnRhc2tfaW5mby5waWQsCj4gICAJCQkJCQkgICAgdm0tPmltbWVkaWF0
ZS5mZW5jZV9jb250ZXh0KTsKPiAtCQkJYW1kZ3B1X3ZtX3VwZGF0ZV9mbGFncyhwYXJhbXMsIHB0
LCBjdXJzb3IubGV2ZWwsCj4gLQkJCQkJICAgICAgIHBlX3N0YXJ0LCBkc3QsIG5wdGVzLCBpbmNy
LAo+IC0JCQkJCSAgICAgICB1cGRfZmxhZ3MpOwo+ICsJCQlhbWRncHVfdm1fdXBkYXRlX2ZsYWdz
KHBhcmFtcywgdG9fYW1kZ3B1X2JvX3ZtKHB0KSwKPiArCQkJCQkgICAgICAgY3Vyc29yLmxldmVs
LCBwZV9zdGFydCwgZHN0LAo+ICsJCQkJCSAgICAgICBucHRlcywgaW5jciwgdXBkX2ZsYWdzKTsK
Pgo+ICAgCQkJcGVfc3RhcnQgKz0gbnB0ZXMgKiA4Owo+ICAgCQkJZHN0ICs9IG5wdGVzICogaW5j
cjsKPiBAQCAtMjY3NCw3ICsyNzAwLDcgQEAgdm9pZCBhbWRncHVfdm1fYm9faW52YWxpZGF0ZShz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKPiAgIAlzdHJ1Y3QgYW1kZ3B1X3ZtX2JvX2Jhc2Ug
KmJvX2Jhc2U7Cj4KPiAgIAkvKiBzaGFkb3cgYm8gZG9lc24ndCBoYXZlIGJvIGJhc2UsIGl0cyB2
YWxpZGF0aW9uIG5lZWRzIGl0cyBwYXJlbnQgKi8KPiAtCWlmIChiby0+cGFyZW50ICYmIGJvLT5w
YXJlbnQtPnNoYWRvdyA9PSBibykKPiArCWlmIChiby0+cGFyZW50ICYmIChhbWRncHVfYm9fc2hh
ZG93ZWQoYm8tPnBhcmVudCkgPT0gYm8pKQo+ICAgCQlibyA9IGJvLT5wYXJlbnQ7Cj4KPiAgIAlm
b3IgKGJvX2Jhc2UgPSBiby0+dm1fYm87IGJvX2Jhc2U7IGJvX2Jhc2UgPSBib19iYXNlLT5uZXh0
KSB7Cj4gQEAgLTI4NDMsNyArMjg2OSw4IEBAIGxvbmcgYW1kZ3B1X3ZtX3dhaXRfaWRsZShzdHJ1
Y3QgYW1kZ3B1X3ZtICp2bSwgbG9uZyB0aW1lb3V0KQo+ICAgICovCj4gICBpbnQgYW1kZ3B1X3Zt
X2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHN0cnVjdCBhbWRncHVfdm0gKnZtLCB1
MzIgcGFzaWQpCj4gICB7Cj4gLQlzdHJ1Y3QgYW1kZ3B1X2JvICpyb290Owo+ICsJc3RydWN0IGFt
ZGdwdV9ibyAqcm9vdF9ibzsKPiArCXN0cnVjdCBhbWRncHVfYm9fdm0gKnJvb3Q7Cj4gICAJaW50
IHIsIGk7Cj4KPiAgIAl2bS0+dmEgPSBSQl9ST09UX0NBQ0hFRDsKPiBAQCAtMjg5NywxNiArMjky
NCwxNiBAQCBpbnQgYW1kZ3B1X3ZtX2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHN0
cnVjdCBhbWRncHVfdm0gKnZtLCB1MzIgcGFzaWQpCj4gICAJCQkJZmFsc2UsICZyb290KTsKPiAg
IAlpZiAocikKPiAgIAkJZ290byBlcnJvcl9mcmVlX2RlbGF5ZWQ7Cj4gLQo+IC0JciA9IGFtZGdw
dV9ib19yZXNlcnZlKHJvb3QsIHRydWUpOwo+ICsJcm9vdF9ibyA9ICZyb290LT5ibzsKPiArCXIg
PSBhbWRncHVfYm9fcmVzZXJ2ZShyb290X2JvLCB0cnVlKTsKPiAgIAlpZiAocikKPiAgIAkJZ290
byBlcnJvcl9mcmVlX3Jvb3Q7Cj4KPiAtCXIgPSBkbWFfcmVzdl9yZXNlcnZlX3NoYXJlZChyb290
LT50Ym8uYmFzZS5yZXN2LCAxKTsKPiArCXIgPSBkbWFfcmVzdl9yZXNlcnZlX3NoYXJlZChyb290
X2JvLT50Ym8uYmFzZS5yZXN2LCAxKTsKPiAgIAlpZiAocikKPiAgIAkJZ290byBlcnJvcl91bnJl
c2VydmU7Cj4KPiAtCWFtZGdwdV92bV9ib19iYXNlX2luaXQoJnZtLT5yb290LmJhc2UsIHZtLCBy
b290KTsKPiArCWFtZGdwdV92bV9ib19iYXNlX2luaXQoJnZtLT5yb290LmJhc2UsIHZtLCByb290
X2JvKTsKPgo+ICAgCXIgPSBhbWRncHVfdm1fY2xlYXJfYm8oYWRldiwgdm0sIHJvb3QsIGZhbHNl
KTsKPiAgIAlpZiAocikKPiBAQCAtMjkzNSw4ICsyOTYyLDggQEAgaW50IGFtZGdwdV92bV9pbml0
KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCBzdHJ1Y3QgYW1kZ3B1X3ZtICp2bSwgdTMyIHBh
c2lkKQo+ICAgCWFtZGdwdV9ib191bnJlc2VydmUodm0tPnJvb3QuYmFzZS5ibyk7Cj4KPiAgIGVy
cm9yX2ZyZWVfcm9vdDoKPiAtCWFtZGdwdV9ib191bnJlZigmdm0tPnJvb3QuYmFzZS5iby0+c2hh
ZG93KTsKPiAtCWFtZGdwdV9ib191bnJlZigmdm0tPnJvb3QuYmFzZS5ibyk7Cj4gKwlhbWRncHVf
Ym9fdW5yZWYoJnJvb3QtPnNoYWRvdyk7Cj4gKwlhbWRncHVfYm9fdW5yZWYoJnJvb3RfYm8pOwo+
ICAgCXZtLT5yb290LmJhc2UuYm8gPSBOVUxMOwo+Cj4gICBlcnJvcl9mcmVlX2RlbGF5ZWQ6Cj4g
QEAgLTMwMzQsNyArMzA2MSw5IEBAIGludCBhbWRncHVfdm1fbWFrZV9jb21wdXRlKHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2LCBzdHJ1Y3QgYW1kZ3B1X3ZtICp2bSwKPiAgIAkgKi8KPiAgIAlp
ZiAocHRlX3N1cHBvcnRfYXRzICE9IHZtLT5wdGVfc3VwcG9ydF9hdHMpIHsKPiAgIAkJdm0tPnB0
ZV9zdXBwb3J0X2F0cyA9IHB0ZV9zdXBwb3J0X2F0czsKPiAtCQlyID0gYW1kZ3B1X3ZtX2NsZWFy
X2JvKGFkZXYsIHZtLCB2bS0+cm9vdC5iYXNlLmJvLCBmYWxzZSk7Cj4gKwkJciA9IGFtZGdwdV92
bV9jbGVhcl9ibyhhZGV2LCB2bSwKPiArCQkJCSAgICAgICB0b19hbWRncHVfYm9fdm0odm0tPnJv
b3QuYmFzZS5ibyksCj4gKwkJCQkgICAgICAgZmFsc2UpOwo+ICAgCQlpZiAocikKPiAgIAkJCWdv
dG8gZnJlZV9pZHI7Cj4gICAJfQo+IEBAIC0zMDc4LDcgKzMxMDcsNyBAQCBpbnQgYW1kZ3B1X3Zt
X21ha2VfY29tcHV0ZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgc3RydWN0IGFtZGdwdV92
bSAqdm0sCj4gICAJfQo+Cj4gICAJLyogRnJlZSB0aGUgc2hhZG93IGJvIGZvciBjb21wdXRlIFZN
ICovCj4gLQlhbWRncHVfYm9fdW5yZWYoJnZtLT5yb290LmJhc2UuYm8tPnNoYWRvdyk7Cj4gKwlh
bWRncHVfYm9fdW5yZWYoJnRvX2FtZGdwdV9ib192bSh2bS0+cm9vdC5iYXNlLmJvKS0+c2hhZG93
KTsKPgo+ICAgCWlmIChwYXNpZCkKPiAgIAkJdm0tPnBhc2lkID0gcGFzaWQ7Cj4gZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92bS5oIGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtLmgKPiBpbmRleCAzOWQ2MGUzYzRlMzIuLmJlZTQzOWRk
NjczYSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdm0u
aAo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92bS5oCj4gQEAgLTM5
LDYgKzM5LDcgQEAKPiAgIHN0cnVjdCBhbWRncHVfYm9fdmE7Cj4gICBzdHJ1Y3QgYW1kZ3B1X2pv
YjsKPiAgIHN0cnVjdCBhbWRncHVfYm9fbGlzdF9lbnRyeTsKPiArc3RydWN0IGFtZGdwdV9ib192
bTsKPgo+ICAgLyoKPiAgICAqIEdQVVZNIGhhbmRsaW5nCj4gQEAgLTIzOSwxMSArMjQwLDExIEBA
IHN0cnVjdCBhbWRncHVfdm1fdXBkYXRlX3BhcmFtcyB7Cj4gICB9Owo+Cj4gICBzdHJ1Y3QgYW1k
Z3B1X3ZtX3VwZGF0ZV9mdW5jcyB7Cj4gLQlpbnQgKCptYXBfdGFibGUpKHN0cnVjdCBhbWRncHVf
Ym8gKmJvKTsKPiArCWludCAoKm1hcF90YWJsZSkoc3RydWN0IGFtZGdwdV9ib192bSAqYm8pOwo+
ICAgCWludCAoKnByZXBhcmUpKHN0cnVjdCBhbWRncHVfdm1fdXBkYXRlX3BhcmFtcyAqcCwgc3Ry
dWN0IGRtYV9yZXN2ICpyZXN2LAo+ICAgCQkgICAgICAgZW51bSBhbWRncHVfc3luY19tb2RlIHN5
bmNfbW9kZSk7Cj4gICAJaW50ICgqdXBkYXRlKShzdHJ1Y3QgYW1kZ3B1X3ZtX3VwZGF0ZV9wYXJh
bXMgKnAsCj4gLQkJICAgICAgc3RydWN0IGFtZGdwdV9ibyAqYm8sIHVpbnQ2NF90IHBlLCB1aW50
NjRfdCBhZGRyLAo+ICsJCSAgICAgIHN0cnVjdCBhbWRncHVfYm9fdm0gKmJvLCB1aW50NjRfdCBw
ZSwgdWludDY0X3QgYWRkciwKPiAgIAkJICAgICAgdW5zaWduZWQgY291bnQsIHVpbnQzMl90IGlu
Y3IsIHVpbnQ2NF90IGZsYWdzKTsKPiAgIAlpbnQgKCpjb21taXQpKHN0cnVjdCBhbWRncHVfdm1f
dXBkYXRlX3BhcmFtcyAqcCwKPiAgIAkJICAgICAgc3RydWN0IGRtYV9mZW5jZSAqKmZlbmNlKTsK
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtX2NwdS5j
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtX2NwdS5jCj4gaW5kZXggYWM0
NWQ5YzdhNGU5Li4wM2E0NGJlNTBkZDcgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1X3ZtX2NwdS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X3ZtX2NwdS5jCj4gQEAgLTI5LDkgKzI5LDkgQEAKPiAgICAqCj4gICAgKiBAdGFi
bGU6IG5ld2x5IGFsbG9jYXRlZCBvciB2YWxpZGF0ZWQgUEQvUFQKPiAgICAqLwo+IC1zdGF0aWMg
aW50IGFtZGdwdV92bV9jcHVfbWFwX3RhYmxlKHN0cnVjdCBhbWRncHVfYm8gKnRhYmxlKQo+ICtz
dGF0aWMgaW50IGFtZGdwdV92bV9jcHVfbWFwX3RhYmxlKHN0cnVjdCBhbWRncHVfYm9fdm0gKnRh
YmxlKQo+ICAgewo+IC0JcmV0dXJuIGFtZGdwdV9ib19rbWFwKHRhYmxlLCBOVUxMKTsKPiArCXJl
dHVybiBhbWRncHVfYm9fa21hcCgmdGFibGUtPmJvLCBOVUxMKTsKPiAgIH0KPgo+ICAgLyoqCj4g
QEAgLTU4LDcgKzU4LDcgQEAgc3RhdGljIGludCBhbWRncHVfdm1fY3B1X3ByZXBhcmUoc3RydWN0
IGFtZGdwdV92bV91cGRhdGVfcGFyYW1zICpwLAo+ICAgICogYW1kZ3B1X3ZtX2NwdV91cGRhdGUg
LSBoZWxwZXIgdG8gdXBkYXRlIHBhZ2UgdGFibGVzIHZpYSBDUFUKPiAgICAqCj4gICAgKiBAcDog
c2VlIGFtZGdwdV92bV91cGRhdGVfcGFyYW1zIGRlZmluaXRpb24KPiAtICogQGJvOiBQRC9QVCB0
byB1cGRhdGUKPiArICogQHZtYm86IFBEL1BUIHRvIHVwZGF0ZQo+ICAgICogQHBlOiBieXRlIG9m
ZnNldCBvZiB0aGUgUERFL1BURSwgcmVsYXRpdmUgdG8gc3RhcnQgb2YgUERCL1BUQgo+ICAgICog
QGFkZHI6IGRzdCBhZGRyIHRvIHdyaXRlIGludG8gcGUKPiAgICAqIEBjb3VudDogbnVtYmVyIG9m
IHBhZ2UgZW50cmllcyB0byB1cGRhdGUKPiBAQCAtNjgsNyArNjgsNyBAQCBzdGF0aWMgaW50IGFt
ZGdwdV92bV9jcHVfcHJlcGFyZShzdHJ1Y3QgYW1kZ3B1X3ZtX3VwZGF0ZV9wYXJhbXMgKnAsCj4g
ICAgKiBXcml0ZSBjb3VudCBudW1iZXIgb2YgUFQvUEQgZW50cmllcyBkaXJlY3RseS4KPiAgICAq
Lwo+ICAgc3RhdGljIGludCBhbWRncHVfdm1fY3B1X3VwZGF0ZShzdHJ1Y3QgYW1kZ3B1X3ZtX3Vw
ZGF0ZV9wYXJhbXMgKnAsCj4gLQkJCQlzdHJ1Y3QgYW1kZ3B1X2JvICpibywgdWludDY0X3QgcGUs
Cj4gKwkJCQlzdHJ1Y3QgYW1kZ3B1X2JvX3ZtICp2bWJvLCB1aW50NjRfdCBwZSwKPiAgIAkJCQl1
aW50NjRfdCBhZGRyLCB1bnNpZ25lZCBjb3VudCwgdWludDMyX3QgaW5jciwKPiAgIAkJCQl1aW50
NjRfdCBmbGFncykKPiAgIHsKPiBAQCAtNzYsMTMgKzc2LDEzIEBAIHN0YXRpYyBpbnQgYW1kZ3B1
X3ZtX2NwdV91cGRhdGUoc3RydWN0IGFtZGdwdV92bV91cGRhdGVfcGFyYW1zICpwLAo+ICAgCXVp
bnQ2NF90IHZhbHVlOwo+ICAgCWludCByOwo+Cj4gLQlpZiAoYm8tPnRiby5tb3ZpbmcpIHsKPiAt
CQlyID0gZG1hX2ZlbmNlX3dhaXQoYm8tPnRiby5tb3ZpbmcsIHRydWUpOwo+ICsJaWYgKHZtYm8t
PmJvLnRiby5tb3ZpbmcpIHsKPiArCQlyID0gZG1hX2ZlbmNlX3dhaXQodm1iby0+Ym8udGJvLm1v
dmluZywgdHJ1ZSk7Cj4gICAJCWlmIChyKQo+ICAgCQkJcmV0dXJuIHI7Cj4gICAJfQo+Cj4gLQlw
ZSArPSAodW5zaWduZWQgbG9uZylhbWRncHVfYm9fa3B0cihibyk7Cj4gKwlwZSArPSAodW5zaWdu
ZWQgbG9uZylhbWRncHVfYm9fa3B0cigmdm1iby0+Ym8pOwo+Cj4gICAJdHJhY2VfYW1kZ3B1X3Zt
X3NldF9wdGVzKHBlLCBhZGRyLCBjb3VudCwgaW5jciwgZmxhZ3MsIHAtPmltbWVkaWF0ZSk7Cj4K
PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtX3NkbWEu
YyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92bV9zZG1hLmMKPiBpbmRleCBh
ODNhNjQ2NzU5YzUuLjQyMjk1ODE1MmMyYiAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfdm1fc2RtYS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1X3ZtX3NkbWEuYwo+IEBAIC0zMywxMSArMzMsMTEgQEAKPiAgICAqCj4gICAg
KiBAdGFibGU6IG5ld2x5IGFsbG9jYXRlZCBvciB2YWxpZGF0ZWQgUEQvUFQKPiAgICAqLwo+IC1z
dGF0aWMgaW50IGFtZGdwdV92bV9zZG1hX21hcF90YWJsZShzdHJ1Y3QgYW1kZ3B1X2JvICp0YWJs
ZSkKPiArc3RhdGljIGludCBhbWRncHVfdm1fc2RtYV9tYXBfdGFibGUoc3RydWN0IGFtZGdwdV9i
b192bSAqdGFibGUpCj4gICB7Cj4gICAJaW50IHI7Cj4KPiAtCXIgPSBhbWRncHVfdHRtX2FsbG9j
X2dhcnQoJnRhYmxlLT50Ym8pOwo+ICsJciA9IGFtZGdwdV90dG1fYWxsb2NfZ2FydCgmdGFibGUt
PmJvLnRibyk7Cj4gICAJaWYgKHIpCj4gICAJCXJldHVybiByOwo+Cj4gQEAgLTE4Niw3ICsxODYs
NyBAQCBzdGF0aWMgdm9pZCBhbWRncHVfdm1fc2RtYV9zZXRfcHRlcyhzdHJ1Y3QgYW1kZ3B1X3Zt
X3VwZGF0ZV9wYXJhbXMgKnAsCj4gICAgKiBhbWRncHVfdm1fc2RtYV91cGRhdGUgLSBleGVjdXRl
IFZNIHVwZGF0ZQo+ICAgICoKPiAgICAqIEBwOiBzZWUgYW1kZ3B1X3ZtX3VwZGF0ZV9wYXJhbXMg
ZGVmaW5pdGlvbgo+IC0gKiBAYm86IFBEL1BUIHRvIHVwZGF0ZQo+ICsgKiBAdm1ibzogUEQvUFQg
dG8gdXBkYXRlCj4gICAgKiBAcGU6IGJ5dGUgb2Zmc2V0IG9mIHRoZSBQREUvUFRFLCByZWxhdGl2
ZSB0byBzdGFydCBvZiBQREIvUFRCCj4gICAgKiBAYWRkcjogZHN0IGFkZHIgdG8gd3JpdGUgaW50
byBwZQo+ICAgICogQGNvdW50OiBudW1iZXIgb2YgcGFnZSBlbnRyaWVzIHRvIHVwZGF0ZQo+IEBA
IC0xOTcsMTAgKzE5NywxMSBAQCBzdGF0aWMgdm9pZCBhbWRncHVfdm1fc2RtYV9zZXRfcHRlcyhz
dHJ1Y3QgYW1kZ3B1X3ZtX3VwZGF0ZV9wYXJhbXMgKnAsCj4gICAgKiB0aGUgSUIuCj4gICAgKi8K
PiAgIHN0YXRpYyBpbnQgYW1kZ3B1X3ZtX3NkbWFfdXBkYXRlKHN0cnVjdCBhbWRncHVfdm1fdXBk
YXRlX3BhcmFtcyAqcCwKPiAtCQkJCSBzdHJ1Y3QgYW1kZ3B1X2JvICpibywgdWludDY0X3QgcGUs
Cj4gKwkJCQkgc3RydWN0IGFtZGdwdV9ib192bSAqdm1ibywgdWludDY0X3QgcGUsCj4gICAJCQkJ
IHVpbnQ2NF90IGFkZHIsIHVuc2lnbmVkIGNvdW50LCB1aW50MzJfdCBpbmNyLAo+ICAgCQkJCSB1
aW50NjRfdCBmbGFncykKPiAgIHsKPiArCXN0cnVjdCBhbWRncHVfYm8gKmJvID0gJnZtYm8tPmJv
Owo+ICAgCWVudW0gYW1kZ3B1X2liX3Bvb2xfdHlwZSBwb29sID0gcC0+aW1tZWRpYXRlID8gQU1E
R1BVX0lCX1BPT0xfSU1NRURJQVRFCj4gICAJCTogQU1ER1BVX0lCX1BPT0xfREVMQVlFRDsKPiAg
IAl1bnNpZ25lZCBpbnQgaSwgbmR3LCBucHRlczsKPiBAQCAtMjM4LDggKzIzOSw4IEBAIHN0YXRp
YyBpbnQgYW1kZ3B1X3ZtX3NkbWFfdXBkYXRlKHN0cnVjdCBhbWRncHVfdm1fdXBkYXRlX3BhcmFt
cyAqcCwKPgo+ICAgCQlpZiAoIXAtPnBhZ2VzX2FkZHIpIHsKPiAgIAkJCS8qIHNldCBwYWdlIGNv
bW1hbmRzIG5lZWRlZCAqLwo+IC0JCQlpZiAoYm8tPnNoYWRvdykKPiAtCQkJCWFtZGdwdV92bV9z
ZG1hX3NldF9wdGVzKHAsIGJvLT5zaGFkb3csIHBlLCBhZGRyLAo+ICsJCQlpZiAodm1iby0+c2hh
ZG93KQo+ICsJCQkJYW1kZ3B1X3ZtX3NkbWFfc2V0X3B0ZXMocCwgdm1iby0+c2hhZG93LCBwZSwg
YWRkciwKPiAgIAkJCQkJCQljb3VudCwgaW5jciwgZmxhZ3MpOwo+ICAgCQkJYW1kZ3B1X3ZtX3Nk
bWFfc2V0X3B0ZXMocCwgYm8sIHBlLCBhZGRyLCBjb3VudCwKPiAgIAkJCQkJCWluY3IsIGZsYWdz
KTsKPiBAQCAtMjQ4LDcgKzI0OSw3IEBAIHN0YXRpYyBpbnQgYW1kZ3B1X3ZtX3NkbWFfdXBkYXRl
KHN0cnVjdCBhbWRncHVfdm1fdXBkYXRlX3BhcmFtcyAqcCwKPgo+ICAgCQkvKiBjb3B5IGNvbW1h
bmRzIG5lZWRlZCAqLwo+ICAgCQluZHcgLT0gcC0+YWRldi0+dm1fbWFuYWdlci52bV9wdGVfZnVu
Y3MtPmNvcHlfcHRlX251bV9kdyAqCj4gLQkJCShiby0+c2hhZG93ID8gMiA6IDEpOwo+ICsJCQko
dm1iby0+c2hhZG93ID8gMiA6IDEpOwo+Cj4gICAJCS8qIGZvciBwYWRkaW5nICovCj4gICAJCW5k
dyAtPSA3Owo+IEBAIC0yNjMsOCArMjY0LDggQEAgc3RhdGljIGludCBhbWRncHVfdm1fc2RtYV91
cGRhdGUoc3RydWN0IGFtZGdwdV92bV91cGRhdGVfcGFyYW1zICpwLAo+ICAgCQkJcHRlW2ldIHw9
IGZsYWdzOwo+ICAgCQl9Cj4KPiAtCQlpZiAoYm8tPnNoYWRvdykKPiAtCQkJYW1kZ3B1X3ZtX3Nk
bWFfY29weV9wdGVzKHAsIGJvLT5zaGFkb3csIHBlLCBucHRlcyk7Cj4gKwkJaWYgKHZtYm8tPnNo
YWRvdykKPiArCQkJYW1kZ3B1X3ZtX3NkbWFfY29weV9wdGVzKHAsIHZtYm8tPnNoYWRvdywgcGUs
IG5wdGVzKTsKPiAgIAkJYW1kZ3B1X3ZtX3NkbWFfY29weV9wdGVzKHAsIGJvLCBwZSwgbnB0ZXMp
Owo+Cj4gICAJCXBlICs9IG5wdGVzICogODsKPiAtLQo+IDIuMzEuMQo+CgpfX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAph
bWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9y
Zy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZngK
