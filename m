Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A2B27F33F2
	for <lists+amd-gfx@lfdr.de>; Thu,  7 Nov 2019 16:56:57 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id AF0C36F736;
	Thu,  7 Nov 2019 15:56:55 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM04-SN1-obe.outbound.protection.outlook.com
 (mail-eopbgr700046.outbound.protection.outlook.com [40.107.70.46])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 788D26F736
 for <amd-gfx@lists.freedesktop.org>; Thu,  7 Nov 2019 15:56:53 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=M0T68UlRLBWgEc4xp62KMenPC4rkGmHXZFa2VZ4u27gc7l0OO/oRL/I6KIGy6vjsz3rY7uaMzIEw1A/YS0STvqAtpS1Df6j3yRZ6UeoxNnCnWsFAPrjbN8BMTc+wOGQOvGnVG1BbDOqTufInjZ0z8U9IE5ejbHIYb+9fdj2HXLC7wtRfBmXXPfuPqLe4AjrPaDPUJ+/+kQ4C0e1JG5Uej4cwqk5WDAcGN8C5MkKhyvdUrD/UJ6Nh+mGoeCOmD1WCV71NnnedO3Ivp8nWZ00OYC5Ft0pABtPny/GPx2loalysEsAgtc9MgjCByH/A22Khj2am9hkzKFREfXb7xzxtBg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=bxHdYkXLyWpTwzBuPnr3zI4FqVfty96QF1GonNp6qg4=;
 b=JXPHbuTFTpXfZpOL0hgeoUR1ohHbo5M2ChgYngWJ7dx9Dr5ve9/BB15VZQQay1pEFSTnRQypnqcj7+g68BQ0fS8y34rpcG49dVvqdhuhLKlGV7geKGvGoxY25QrBk0ryjaENhktxGfxMznuE8Y61MXs/osiyI9YSN4b/I8AK6cnyzDNIorWPkMvFukhZF6N5YtMr31eAAzLD4Nt3QutY/GuOX2P4UA8mSNqN2J6GZcaYZE6e7lhwqpfiu7A6v5YXvIkt1W2AacjVAkW9We+LSs+/UqXgeb9m7F1ApkxbuxZ/IqzKQLUgmPfvZJywvDGN9LG0mFIelvFGAA978SzKDg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=none (sender ip is
 165.204.84.17) smtp.rcpttodomain=lists.freedesktop.org smtp.mailfrom=amd.com; 
 dmarc=permerror action=none header.from=amd.com; dkim=none (message not
 signed); arc=none
Received: from DM5PR12CA0055.namprd12.prod.outlook.com (2603:10b6:3:103::17)
 by CH2PR12MB4040.namprd12.prod.outlook.com (2603:10b6:610:ac::20) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2430.24; Thu, 7 Nov
 2019 15:56:51 +0000
Received: from DM3NAM03FT051.eop-NAM03.prod.protection.outlook.com
 (2a01:111:f400:7e49::205) by DM5PR12CA0055.outlook.office365.com
 (2603:10b6:3:103::17) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384) id 15.20.2430.22 via Frontend
 Transport; Thu, 7 Nov 2019 15:56:51 +0000
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
Received: from SATLEXMB01.amd.com (165.204.84.17) by
 DM3NAM03FT051.mail.protection.outlook.com (10.152.83.56) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256) id
 15.20.2430.20 via Frontend Transport; Thu, 7 Nov 2019 15:56:51 +0000
Received: from SATLEXMB01.amd.com (10.181.40.142) by SATLEXMB01.amd.com
 (10.181.40.142) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id 15.1.1713.5; Thu, 7 Nov 2019
 09:56:46 -0600
Received: from blakha.amd.com (10.180.168.240) by SATLEXMB01.amd.com
 (10.181.40.142) with Microsoft SMTP Server id 15.1.1713.5 via Frontend
 Transport; Thu, 7 Nov 2019 09:56:46 -0600
From: Bhawanpreet Lakha <Bhawanpreet.Lakha@amd.com>
To: <amd-gfx@lists.freedesktop.org>
Subject: [PATCH 13/14] drm/amd/display: split rxstatus for hdmi and dp
Date: Thu, 7 Nov 2019 10:56:27 -0500
Message-ID: <20191107155628.19446-14-Bhawanpreet.Lakha@amd.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20191107155628.19446-1-Bhawanpreet.Lakha@amd.com>
References: <20191107155628.19446-1-Bhawanpreet.Lakha@amd.com>
MIME-Version: 1.0
X-EOPAttributedMessage: 0
X-MS-Office365-Filtering-HT: Tenant
X-Forefront-Antispam-Report: CIP:165.204.84.17; IPV:NLI; CTRY:US; EFV:NLI;
 SFV:NSPM;
 SFS:(10009020)(4636009)(346002)(136003)(39860400002)(376002)(396003)(428003)(189003)(199004)(54906003)(5660300002)(47776003)(1076003)(316002)(70586007)(70206006)(426003)(356004)(6666004)(53416004)(2351001)(446003)(26005)(336012)(186003)(51416003)(76176011)(7696005)(16586007)(14444005)(126002)(476003)(2616005)(11346002)(486006)(6916009)(478600001)(305945005)(2906002)(81156014)(4326008)(8676002)(50226002)(81166006)(86362001)(8936002)(50466002)(48376002)(36756003);
 DIR:OUT; SFP:1101; SCL:1; SRVR:CH2PR12MB4040; H:SATLEXMB01.amd.com; FPR:;
 SPF:None; LANG:en; PTR:InfoDomainNonexistent; MX:1; A:1; 
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-Correlation-Id: 6b619693-d91a-465f-7e48-08d7639b1ae9
X-MS-TrafficTypeDiagnostic: CH2PR12MB4040:
X-Microsoft-Antispam-PRVS: <CH2PR12MB4040FC1CF8008704D4C9C5E0F9780@CH2PR12MB4040.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:9508;
X-Forefront-PRVS: 0214EB3F68
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: nvNu1btEIecxoXWaCEoWlxkwVgynNGZy4kyn45dhf3vYBomYCrmtwW20Zw+pGjmWAVALZHDAMNNoEnKMme8I7dkiEFPsNm6FBwdntjfH9g8pTb4djp9+h1q9ef5lu7crW4UaQHbHNKgkEuOt/6EKh7X1NurZcm0XW+lUeyNi/Ga2TTUOHQGjGrl46mMnmmLHOmLQRts3ehChaQqfxAMBKHFfmF+Q5shb27M2C2574/q9jmqrya1DJI1yh+RrMOINk1g++t9Oah+fXPuXTMN77wEyfKrxCWjhiM/IxQ0ZxommvHSYBxI/NT9hdT/K2Gvuq7rvw6ULc5ThtyudsSRS0ih7Sg+HxcP90M5a2fhnp9TfW0PbYU9UJkZJW/sf+wawULEF0VS+XGq36eOCkWvtOPTmqgSXkCrmYeraz1RLV6hdVPe7CgXPB6bOQyXiiPwf
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 07 Nov 2019 15:56:51.7934 (UTC)
X-MS-Exchange-CrossTenant-Network-Message-Id: 6b619693-d91a-465f-7e48-08d7639b1ae9
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-OriginalAttributedTenantConnectingIp: TenantId=3dd8961f-e488-4e60-8e11-a82d994e183d; Ip=[165.204.84.17];
 Helo=[SATLEXMB01.amd.com]
X-MS-Exchange-CrossTenant-FromEntityHeader: HybridOnPrem
X-MS-Exchange-Transport-CrossTenantHeadersStamped: CH2PR12MB4040
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=bxHdYkXLyWpTwzBuPnr3zI4FqVfty96QF1GonNp6qg4=;
 b=DTJHNmqij6hhIVO53OSwUysR4SVnVnW1nhW758xf/VxUAkM0JdOGhGJFUNvFSGfROgHY3IhuBIZo0/jeM4FAiF9Vb3YxFUfgr/2NoXTpGk+8g6USehwpaAPQT89lEtUG9n6+DnfvBB9d4NjS5YR99dDosRcaP3NMmoDiorFU3pU=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is
 165.204.84.17)
 smtp.mailfrom=amd.com; lists.freedesktop.org; dkim=none (message not signed)
 header.d=none;lists.freedesktop.org; dmarc=permerror action=none
 header.from=amd.com;
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Bhawanpreet Lakha <Bhawanpreet.Lakha@amd.com>, Wenjing.Liu@amd.com,
 harry.wentland@amd.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

W1doeV0KQ3VycmVudGx5IHdlIHNoYXJlIHJ4c3RhdHVzIGJldHdlZW4gSERNSSBhbmQgRFAsIHNv
IHdlIHVzZSAxNmJpdHMKVGhlIGRybSBkZWZpbmVzIHdvcmsgd2l0aCAxYnl0ZXMgYXQgYSB0aW1l
LiBTbyB3ZSBuZWVkIHRvCnNwbGl0IHRoZSBIRE1JIHJ4c3RhdHVzIGludG8gMmJ5dGVzIGJlZm9y
ZSB3ZSBjYW4gdXNlIGRybSBkZWZpbmVzCgpbSG93XQotY3JlYXRlIHJ4c3RhdHVzIGZvciBkcCBh
bmQgaGRtaS4gcnhzdGF0dXMgZm9yIGhkbWkgaXMgc3BsaXQgaW50byBieXRlcwp1c2luZyBhcnJh
eXMuCi11c2UgZHJtX2hkY3AgZGVmaW5lcyBmb3IgdGhlIHJlbWFpbmluZyBzdHJ1Y3RzCgpTaWdu
ZWQtb2ZmLWJ5OiBCaGF3YW5wcmVldCBMYWtoYSA8Qmhhd2FucHJlZXQuTGFraGFAYW1kLmNvbT4K
LS0tCiAuLi4vZ3B1L2RybS9hbWQvZGlzcGxheS9tb2R1bGVzL2hkY3AvaGRjcC5oICAgfCAyMCAr
Ky0tLS0tLS0tLQogLi4uL2Rpc3BsYXkvbW9kdWxlcy9oZGNwL2hkY3AyX2V4ZWN1dGlvbi5jICAg
IHwgMzUgKysrKysrKysrKystLS0tLS0tLQogLi4uL2RybS9hbWQvZGlzcGxheS9tb2R1bGVzL2hk
Y3AvaGRjcF9kZGMuYyAgIHwgIDIgKy0KIDMgZmlsZXMgY2hhbmdlZCwgMjQgaW5zZXJ0aW9ucygr
KSwgMzMgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNw
bGF5L21vZHVsZXMvaGRjcC9oZGNwLmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvbW9k
dWxlcy9oZGNwL2hkY3AuaAppbmRleCBmNmJiYTQ4N2QxZDQuLmY5OGQzZDllY2I2ZCAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L21vZHVsZXMvaGRjcC9oZGNwLmgKKysr
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L21vZHVsZXMvaGRjcC9oZGNwLmgKQEAgLTMy
LDIyICszMiw2IEBACiAjaW5jbHVkZSA8ZHJtL2RybV9oZGNwLmg+CiAjaW5jbHVkZSA8ZHJtL2Ry
bV9kcF9oZWxwZXIuaD4KIAotLyogVE9ETzoKLSAqIFJlcGxhY2UgYmVsb3cgZGVmaW5lcyB3aXRo
IHRoZXNlCi0gKgotICogI2RlZmluZSBIRENQXzJfMl9IRE1JX1JYU1RBVFVTX01TR19TWl9ISSh4
KSAgICAgKCh4KSAmIDB4MykKLSAqICNkZWZpbmUgSERDUF8yXzJfSERNSV9SWFNUQVRVU19SRUFE
WSh4KSAgICAgICAgICgoeCkgJiBCSVQoMikpCi0gKiAjZGVmaW5lIEhEQ1BfMl8yX0hETUlfUlhT
VEFUVVNfUkVBVVRIX1JFUSh4KSAgICAoKHgpICYgQklUKDMpKQotICoKLSAqIEN1cnJlbnRseSB3
ZSBzaGFyZSByeF9zdGF0dXMgYmV0d2VlbiBIRE1JIGFuZCBEUCwgc28gd2UgdXNlIDE2Yml0cwot
ICogVGhlIHVwc3RyZWFtIGRlZmluZXMgd29yayB3aXRoIDFieXRlcyBhdCBhIHRpbWUuIFNvIHdl
IG5lZWQgdG8KLSAqIHNwbGl0IHRoZSBIRE1JIHJ4c3RhdHVzIGludG8gMmJ5dGVzIGJlZm9yZSB3
ZSBjYW4gdXNlIHVzcHRyZWFtIGRlZnMKLSAqLwotCi0jZGVmaW5lIFJYU1RBVFVTX01TR19TSVpF
X01BU0sJCQkJMHgwM0ZGCi0jZGVmaW5lIFJYU1RBVFVTX1JFQURZX01BU0sJCQkJMHgwNDAwCi0j
ZGVmaW5lIFJYU1RBVFVTX1JFQVVUSF9SRVFVRVNUX01BU0sJCQkweDA4MDAKLQogZW51bSBtb2Rf
aGRjcF90cmFuc19pbnB1dF9yZXN1bHQgewogCVVOS05PV04gPSAwLAogCVBBU1MsCkBAIC0xNTAs
NyArMTM0LDcgQEAgc3RydWN0IG1vZF9oZGNwX21lc3NhZ2VfaGRjcDEgewogc3RydWN0IG1vZF9o
ZGNwX21lc3NhZ2VfaGRjcDIgewogCXVpbnQ4X3QJCWhkY3AydmVyc2lvbl9oZG1pOwogCXVpbnQ4
X3QJCXJ4Y2Fwc19kcFszXTsKLQl1aW50MTZfdAlyeHN0YXR1czsKKwl1aW50OF90CQlyeHN0YXR1
c1syXTsKIAogCXVpbnQ4X3QJCWFrZV9pbml0WzEyXTsKIAl1aW50OF90CQlha2VfY2VydFs1MzRd
OwpAQCAtMTY3LDcgKzE1MSw3IEBAIHN0cnVjdCBtb2RfaGRjcF9tZXNzYWdlX2hkY3AyIHsKIAl1
aW50OF90CQlyZXBlYXRlcl9hdXRoX3N0cmVhbV9tYW5hZ2VbNjhdOyAvLyA2ICsgMiAqIDMxCiAJ
dWludDE2X3QJc3RyZWFtX21hbmFnZV9zaXplOwogCXVpbnQ4X3QJCXJlcGVhdGVyX2F1dGhfc3Ry
ZWFtX3JlYWR5WzMzXTsKLQorCXVpbnQ4X3QJCXJ4c3RhdHVzX2RwOwogCXVpbnQ4X3QJCWNvbnRl
bnRfc3RyZWFtX3R5cGVfZHBbMl07CiB9OwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2Rpc3BsYXkvbW9kdWxlcy9oZGNwL2hkY3AyX2V4ZWN1dGlvbi5jIGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9kaXNwbGF5L21vZHVsZXMvaGRjcC9oZGNwMl9leGVjdXRpb24uYwppbmRleCA3NTEz
YjNiM2MzNTMuLjExMGM4NjIwOTA3YiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9k
aXNwbGF5L21vZHVsZXMvaGRjcC9oZGNwMl9leGVjdXRpb24uYworKysgYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2Rpc3BsYXkvbW9kdWxlcy9oZGNwL2hkY3AyX2V4ZWN1dGlvbi5jCkBAIC0zMCwxMCAr
MzAsMTEgQEAgc3RhdGljIGlubGluZSBlbnVtIG1vZF9oZGNwX3N0YXR1cyBjaGVja19yZWNlaXZl
cl9pZF9saXN0X3JlYWR5KHN0cnVjdCBtb2RfaGRjcAogCXVpbnQ4X3QgaXNfcmVhZHkgPSAwOwog
CiAJaWYgKGlzX2RwX2hkY3AoaGRjcCkpCi0JCWlzX3JlYWR5ID0gSERDUF8yXzJfRFBfUlhTVEFU
VVNfUkVBRFkoaGRjcC0+YXV0aC5tc2cuaGRjcDIucnhzdGF0dXMpID8gMSA6IDA7CisJCWlzX3Jl
YWR5ID0gSERDUF8yXzJfRFBfUlhTVEFUVVNfUkVBRFkoaGRjcC0+YXV0aC5tc2cuaGRjcDIucnhz
dGF0dXNfZHApID8gMSA6IDA7CiAJZWxzZQotCQlpc19yZWFkeSA9ICgoaGRjcC0+YXV0aC5tc2cu
aGRjcDIucnhzdGF0dXMgJiBSWFNUQVRVU19SRUFEWV9NQVNLKSAmJgotCQkJCShoZGNwLT5hdXRo
Lm1zZy5oZGNwMi5yeHN0YXR1cyAmIFJYU1RBVFVTX01TR19TSVpFX01BU0spKSA/IDEgOiAwOwor
CQlpc19yZWFkeSA9IChIRENQXzJfMl9IRE1JX1JYU1RBVFVTX1JFQURZKGhkY3AtPmF1dGgubXNn
LmhkY3AyLnJ4c3RhdHVzWzBdKSAmJgorCQkJCShIRENQXzJfMl9IRE1JX1JYU1RBVFVTX01TR19T
Wl9ISShoZGNwLT5hdXRoLm1zZy5oZGNwMi5yeHN0YXR1c1sxXSkgPDwgOCB8CisJCQkJCQloZGNw
LT5hdXRoLm1zZy5oZGNwMi5yeHN0YXR1c1swXSkpID8gMSA6IDA7CiAJcmV0dXJuIGlzX3JlYWR5
ID8gTU9EX0hEQ1BfU1RBVFVTX1NVQ0NFU1MgOgogCQkJTU9EX0hEQ1BfU1RBVFVTX0hEQ1AyX1JY
X0lEX0xJU1RfTk9UX1JFQURZOwogfQpAQCAtNjAsMTEgKzYxLDExIEBAIHN0YXRpYyBpbmxpbmUg
ZW51bSBtb2RfaGRjcF9zdGF0dXMgY2hlY2tfcmVhdXRoZW50aWNhdGlvbl9yZXF1ZXN0KAogCXVp
bnQ4X3QgcmV0ID0gMDsKIAogCWlmIChpc19kcF9oZGNwKGhkY3ApKQotCQlyZXQgPSBIRENQXzJf
Ml9EUF9SWFNUQVRVU19SRUFVVEhfUkVRKGhkY3AtPmF1dGgubXNnLmhkY3AyLnJ4c3RhdHVzKSA/
CisJCXJldCA9IEhEQ1BfMl8yX0RQX1JYU1RBVFVTX1JFQVVUSF9SRVEoaGRjcC0+YXV0aC5tc2cu
aGRjcDIucnhzdGF0dXNfZHApID8KIAkJCQlNT0RfSERDUF9TVEFUVVNfSERDUDJfUkVBVVRIX1JF
UVVFU1QgOgogCQkJCU1PRF9IRENQX1NUQVRVU19TVUNDRVNTOwogCWVsc2UKLQkJcmV0ID0gKGhk
Y3AtPmF1dGgubXNnLmhkY3AyLnJ4c3RhdHVzICYgUlhTVEFUVVNfUkVBVVRIX1JFUVVFU1RfTUFT
SykgPworCQlyZXQgPSBIRENQXzJfMl9IRE1JX1JYU1RBVFVTX1JFQVVUSF9SRVEoaGRjcC0+YXV0
aC5tc2cuaGRjcDIucnhzdGF0dXNbMF0pID8KIAkJCQlNT0RfSERDUF9TVEFUVVNfSERDUDJfUkVB
VVRIX1JFUVVFU1QgOgogCQkJCU1PRF9IRENQX1NUQVRVU19TVUNDRVNTOwogCXJldHVybiByZXQ7
CkBAIC03Myw3ICs3NCw3IEBAIHN0YXRpYyBpbmxpbmUgZW51bSBtb2RfaGRjcF9zdGF0dXMgY2hl
Y2tfcmVhdXRoZW50aWNhdGlvbl9yZXF1ZXN0KAogc3RhdGljIGlubGluZSBlbnVtIG1vZF9oZGNw
X3N0YXR1cyBjaGVja19saW5rX2ludGVncml0eV9mYWlsdXJlX2RwKAogCQlzdHJ1Y3QgbW9kX2hk
Y3AgKmhkY3ApCiB7Ci0JcmV0dXJuIEhEQ1BfMl8yX0RQX1JYU1RBVFVTX0xJTktfRkFJTEVEKGhk
Y3AtPmF1dGgubXNnLmhkY3AyLnJ4c3RhdHVzKSA/CisJcmV0dXJuIEhEQ1BfMl8yX0RQX1JYU1RB
VFVTX0xJTktfRkFJTEVEKGhkY3AtPmF1dGgubXNnLmhkY3AyLnJ4c3RhdHVzX2RwKSA/CiAJCQlN
T0RfSERDUF9TVEFUVVNfSERDUDJfUkVBVVRIX0xJTktfSU5URUdSSVRZX0ZBSUxVUkUgOgogCQkJ
TU9EX0hEQ1BfU1RBVFVTX1NVQ0NFU1M7CiB9CkBAIC04OCw3ICs4OSw4IEBAIHN0YXRpYyBlbnVt
IG1vZF9oZGNwX3N0YXR1cyBjaGVja19ha2VfY2VydF9hdmFpbGFibGUoc3RydWN0IG1vZF9oZGNw
ICpoZGNwKQogCX0gZWxzZSB7CiAJCXN0YXR1cyA9IG1vZF9oZGNwX3JlYWRfcnhzdGF0dXMoaGRj
cCk7CiAJCWlmIChzdGF0dXMgPT0gTU9EX0hEQ1BfU1RBVFVTX1NVQ0NFU1MpIHsKLQkJCXNpemUg
PSBoZGNwLT5hdXRoLm1zZy5oZGNwMi5yeHN0YXR1cyAmIFJYU1RBVFVTX01TR19TSVpFX01BU0s7
CisJCQlzaXplID0gSERDUF8yXzJfSERNSV9SWFNUQVRVU19NU0dfU1pfSEkoaGRjcC0+YXV0aC5t
c2cuaGRjcDIucnhzdGF0dXNbMV0pIDw8IDggfAorCQkJICAgICAgIGhkY3AtPmF1dGgubXNnLmhk
Y3AyLnJ4c3RhdHVzWzBdOwogCQkJc3RhdHVzID0gKHNpemUgPT0gc2l6ZW9mKGhkY3AtPmF1dGgu
bXNnLmhkY3AyLmFrZV9jZXJ0KSkgPwogCQkJCQlNT0RfSERDUF9TVEFUVVNfU1VDQ0VTUyA6CiAJ
CQkJCU1PRF9IRENQX1NUQVRVU19IRENQMl9BS0VfQ0VSVF9QRU5ESU5HOwpAQCAtMTA3LDExICsx
MDksMTIgQEAgc3RhdGljIGVudW0gbW9kX2hkY3Bfc3RhdHVzIGNoZWNrX2hfcHJpbWVfYXZhaWxh
YmxlKHN0cnVjdCBtb2RfaGRjcCAqaGRjcCkKIAkJZ290byBvdXQ7CiAKIAlpZiAoaXNfZHBfaGRj
cChoZGNwKSkgewotCQlzdGF0dXMgPSBIRENQXzJfMl9EUF9SWFNUQVRVU19IX1BSSU1FKGhkY3At
PmF1dGgubXNnLmhkY3AyLnJ4c3RhdHVzKSA/CisJCXN0YXR1cyA9IEhEQ1BfMl8yX0RQX1JYU1RB
VFVTX0hfUFJJTUUoaGRjcC0+YXV0aC5tc2cuaGRjcDIucnhzdGF0dXNfZHApID8KIAkJCQlNT0Rf
SERDUF9TVEFUVVNfU1VDQ0VTUyA6CiAJCQkJTU9EX0hEQ1BfU1RBVFVTX0hEQ1AyX0hfUFJJTUVf
UEVORElORzsKIAl9IGVsc2UgewotCQlzaXplID0gaGRjcC0+YXV0aC5tc2cuaGRjcDIucnhzdGF0
dXMgJiBSWFNUQVRVU19NU0dfU0laRV9NQVNLOworCQlzaXplID0gSERDUF8yXzJfSERNSV9SWFNU
QVRVU19NU0dfU1pfSEkoaGRjcC0+YXV0aC5tc2cuaGRjcDIucnhzdGF0dXNbMV0pIDw8IDggfAor
CQkgICAgICAgaGRjcC0+YXV0aC5tc2cuaGRjcDIucnhzdGF0dXNbMF07CiAJCXN0YXR1cyA9IChz
aXplID09IHNpemVvZihoZGNwLT5hdXRoLm1zZy5oZGNwMi5ha2VfaF9wcmltZSkpID8KIAkJCQlN
T0RfSERDUF9TVEFUVVNfU1VDQ0VTUyA6CiAJCQkJTU9EX0hEQ1BfU1RBVFVTX0hEQ1AyX0hfUFJJ
TUVfUEVORElORzsKQEAgLTEzMCwxMSArMTMzLDEyIEBAIHN0YXRpYyBlbnVtIG1vZF9oZGNwX3N0
YXR1cyBjaGVja19wYWlyaW5nX2luZm9fYXZhaWxhYmxlKHN0cnVjdCBtb2RfaGRjcCAqaGRjcCkK
IAkJZ290byBvdXQ7CiAKIAlpZiAoaXNfZHBfaGRjcChoZGNwKSkgewotCQlzdGF0dXMgPSBIRENQ
XzJfMl9EUF9SWFNUQVRVU19QQUlSSU5HKGhkY3AtPmF1dGgubXNnLmhkY3AyLnJ4c3RhdHVzKSA/
CisJCXN0YXR1cyA9IEhEQ1BfMl8yX0RQX1JYU1RBVFVTX1BBSVJJTkcoaGRjcC0+YXV0aC5tc2cu
aGRjcDIucnhzdGF0dXNfZHApID8KIAkJCQlNT0RfSERDUF9TVEFUVVNfU1VDQ0VTUyA6CiAJCQkJ
TU9EX0hEQ1BfU1RBVFVTX0hEQ1AyX1BBSVJJTkdfSU5GT19QRU5ESU5HOwogCX0gZWxzZSB7Ci0J
CXNpemUgPSBoZGNwLT5hdXRoLm1zZy5oZGNwMi5yeHN0YXR1cyAmIFJYU1RBVFVTX01TR19TSVpF
X01BU0s7CisJCXNpemUgPSBIRENQXzJfMl9IRE1JX1JYU1RBVFVTX01TR19TWl9ISShoZGNwLT5h
dXRoLm1zZy5oZGNwMi5yeHN0YXR1c1sxXSkgPDwgOCB8CisJCSAgICAgICBoZGNwLT5hdXRoLm1z
Zy5oZGNwMi5yeHN0YXR1c1swXTsKIAkJc3RhdHVzID0gKHNpemUgPT0gc2l6ZW9mKGhkY3AtPmF1
dGgubXNnLmhkY3AyLmFrZV9wYWlyaW5nX2luZm8pKSA/CiAJCQkJTU9EX0hEQ1BfU1RBVFVTX1NV
Q0NFU1MgOgogCQkJCU1PRF9IRENQX1NUQVRVU19IRENQMl9QQUlSSU5HX0lORk9fUEVORElORzsK
QEAgLTE2MSw3ICsxNjUsOCBAQCBzdGF0aWMgZW51bSBtb2RfaGRjcF9zdGF0dXMgcG9sbF9sX3By
aW1lX2F2YWlsYWJsZShzdHJ1Y3QgbW9kX2hkY3AgKmhkY3ApCiAJCQlpZiAoc3RhdHVzICE9IE1P
RF9IRENQX1NUQVRVU19TVUNDRVNTKQogCQkJCWJyZWFrOwogCi0JCQlzaXplID0gaGRjcC0+YXV0
aC5tc2cuaGRjcDIucnhzdGF0dXMgJiBSWFNUQVRVU19NU0dfU0laRV9NQVNLOworCQkJc2l6ZSA9
IEhEQ1BfMl8yX0hETUlfUlhTVEFUVVNfTVNHX1NaX0hJKGhkY3AtPmF1dGgubXNnLmhkY3AyLnJ4
c3RhdHVzWzFdKSA8PCA4IHwKKwkJCSAgICAgICBoZGNwLT5hdXRoLm1zZy5oZGNwMi5yeHN0YXR1
c1swXTsKIAkJCXN0YXR1cyA9IChzaXplID09IHNpemVvZihoZGNwLT5hdXRoLm1zZy5oZGNwMi5s
Y19sX3ByaW1lKSkgPwogCQkJCQlNT0RfSERDUF9TVEFUVVNfU1VDQ0VTUyA6CiAJCQkJCU1PRF9I
RENQX1NUQVRVU19IRENQMl9MX1BSSU1FX1BFTkRJTkc7CkBAIC0xODIsNyArMTg3LDggQEAgc3Rh
dGljIGVudW0gbW9kX2hkY3Bfc3RhdHVzIGNoZWNrX3N0cmVhbV9yZWFkeV9hdmFpbGFibGUoc3Ry
dWN0IG1vZF9oZGNwICpoZGNwKQogCQlzdGF0dXMgPSBtb2RfaGRjcF9yZWFkX3J4c3RhdHVzKGhk
Y3ApOwogCQlpZiAoc3RhdHVzICE9IE1PRF9IRENQX1NUQVRVU19TVUNDRVNTKQogCQkJZ290byBv
dXQ7Ci0JCXNpemUgPSBoZGNwLT5hdXRoLm1zZy5oZGNwMi5yeHN0YXR1cyAmIFJYU1RBVFVTX01T
R19TSVpFX01BU0s7CisJCXNpemUgPSBIRENQXzJfMl9IRE1JX1JYU1RBVFVTX01TR19TWl9ISSho
ZGNwLT5hdXRoLm1zZy5oZGNwMi5yeHN0YXR1c1sxXSkgPDwgOCB8CisJCSAgICAgICBoZGNwLT5h
dXRoLm1zZy5oZGNwMi5yeHN0YXR1c1swXTsKIAkJc3RhdHVzID0gKHNpemUgPT0gc2l6ZW9mKGhk
Y3AtPmF1dGgubXNnLmhkY3AyLnJlcGVhdGVyX2F1dGhfc3RyZWFtX3JlYWR5KSkgPwogCQkJCU1P
RF9IRENQX1NUQVRVU19TVUNDRVNTIDoKIAkJCQlNT0RfSERDUF9TVEFUVVNfSERDUDJfU1RSRUFN
X1JFQURZX1BFTkRJTkc7CkBAIC0yMzQsNyArMjQwLDggQEAgc3RhdGljIHVpbnQ4X3QgcHJvY2Vz
c19yeHN0YXR1cyhzdHJ1Y3QgbW9kX2hkY3AgKmhkY3AsCiAJCQkJCQlzaXplb2YoaGRjcC0+YXV0
aC5tc2cuaGRjcDIucnhfaWRfbGlzdCk7CiAJCQllbHNlCiAJCQkJaGRjcC0+YXV0aC5tc2cuaGRj
cDIucnhfaWRfbGlzdF9zaXplID0KLQkJCQkJCWhkY3AtPmF1dGgubXNnLmhkY3AyLnJ4c3RhdHVz
ICYgMHgzRkY7CisJCQkJCUhEQ1BfMl8yX0hETUlfUlhTVEFUVVNfTVNHX1NaX0hJKGhkY3AtPmF1
dGgubXNnLmhkY3AyLnJ4c3RhdHVzWzFdKSA8PCA4IHwKKwkJCQkJaGRjcC0+YXV0aC5tc2cuaGRj
cDIucnhzdGF0dXNbMF07CiAJCX0KIG91dDoKIAlyZXR1cm4gKCpzdGF0dXMgPT0gTU9EX0hEQ1Bf
U1RBVFVTX1NVQ0NFU1MpOwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5
L21vZHVsZXMvaGRjcC9oZGNwX2RkYy5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L21v
ZHVsZXMvaGRjcC9oZGNwX2RkYy5jCmluZGV4IDgwNTlhZmY5OTExZi4uZmY5ZDU0ODEyZTYyIDEw
MDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvbW9kdWxlcy9oZGNwL2hkY3Bf
ZGRjLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L21vZHVsZXMvaGRjcC9oZGNw
X2RkYy5jCkBAIC0zOTAsNyArMzkwLDcgQEAgZW51bSBtb2RfaGRjcF9zdGF0dXMgbW9kX2hkY3Bf
cmVhZF9yeHN0YXR1cyhzdHJ1Y3QgbW9kX2hkY3AgKmhkY3ApCiAKIAlpZiAoaXNfZHBfaGRjcCho
ZGNwKSkgewogCQlzdGF0dXMgPSByZWFkKGhkY3AsIE1PRF9IRENQX01FU1NBR0VfSURfUkVBRF9S
WFNUQVRVUywKLQkJCQkodWludDhfdCAqKSZoZGNwLT5hdXRoLm1zZy5oZGNwMi5yeHN0YXR1cywK
KwkJCQkmaGRjcC0+YXV0aC5tc2cuaGRjcDIucnhzdGF0dXNfZHAsCiAJCQkJMSk7CiAJfSBlbHNl
IHsKIAkJc3RhdHVzID0gcmVhZChoZGNwLCBNT0RfSERDUF9NRVNTQUdFX0lEX1JFQURfUlhTVEFU
VVMsCi0tIAoyLjE3LjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
Cmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeA==
