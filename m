Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 1FA7D4084F3
	for <lists+amd-gfx@lfdr.de>; Mon, 13 Sep 2021 08:51:07 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id F22606E0F6;
	Mon, 13 Sep 2021 06:51:03 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM12-MW2-obe.outbound.protection.outlook.com
 (mail-mw2nam12on2084.outbound.protection.outlook.com [40.107.244.84])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8CCC16E0F5
 for <amd-gfx@lists.freedesktop.org>; Mon, 13 Sep 2021 06:51:02 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=i/tOYJmbRcLHrGWMk5BirY2lPgo0FtLuZtMNMIaYENC/P6HcJp3+YIZykydxtoGaOFAY/rELIRgLGLUMHLOW+zusHw9kX+p6p3rP6miQ2tX8kEf/IWur19DpiZuxDHzFhmUK3jAtrUarWlSfGUyQX0iNMrZcWow93huV4Pcnqg0ZsB4orIeti7awn26x/tIXJaleMFVmmUd3hnUpaMIHDa7Nvm6VgJOdSKmmmwtjgbvzZOA+xpdOhVKtTbaZKJqjsFRdo9GZ/d+yqympemjTVkMroTI6PxPORFJqSf/kOienGbBm6kZK19VEeuV0FpdkjScYzKj5DwA7DNIC6Mo3/g==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version; 
 bh=/ZNX3mAGR3hCMY/kmDXpi8q7vwp3tkEVR+ecHULypPg=;
 b=dhu4z7htRKVBKeCsFoX+u3BMCPk/PGvqoP8+s1BgOXsaKEpcQWCPVYGepiyOVbqVSO861vEIxEyB+L/xin71mfHrTqjqe9kZSMjUDPOm6wUeHhWP0kdzAeJzhuXGwK2RqAHuRGI1oOshYvawFbRtlEm0fa+2/BLxBKX2vNgs+OAiI/6RNk6rznngc1XEH6u8JEJPPXfEEUL51TZq33SqfDUX2DlSTIZt5vz/o6eQea1Pkyqtq0zag9uK8dUmcWJ1rUyLIh7vtHYv6zN8+XsMUgkldwFzTOh+6m3OnqHjNLzU/+Nfnm+tjCFbXjM++ujO3YA7tikI2XuvBN0nraZcVQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=amd.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=/ZNX3mAGR3hCMY/kmDXpi8q7vwp3tkEVR+ecHULypPg=;
 b=ltbF3HcZONX3/EYjVGqPE9UJp9Bj2QkWs+jdcz7o5jKDL+LcozUZZq+kY17gZfeUvIWdJt1zJZGhfDsEZ0CSTl7AtXVrSiBRQNvP+B4X8m5n/0UaGctqlQPNP8Ka/pXgbcAhEiy1mf5NZY2oF72qPjQ9rHQ1DkHgAgEK3ai7iGA=
Received: from DM4PR12MB5165.namprd12.prod.outlook.com (2603:10b6:5:394::9) by
 DM8PR12MB5446.namprd12.prod.outlook.com (2603:10b6:8:3c::21) with
 Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.4500.14; Mon, 13 Sep 2021 06:51:00 +0000
Received: from DM4PR12MB5165.namprd12.prod.outlook.com
 ([fe80::79d6:3902:9bcd:37ca]) by DM4PR12MB5165.namprd12.prod.outlook.com
 ([fe80::79d6:3902:9bcd:37ca%9]) with mapi id 15.20.4500.018; Mon, 13 Sep 2021
 06:51:00 +0000
From: "Pan, Xinhui" <Xinhui.Pan@amd.com>
To: "Koenig, Christian" <Christian.Koenig@amd.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
CC: "Deucher, Alexander" <Alexander.Deucher@amd.com>
Subject: =?gb2312?B?u9i4tDogW1BBVENIIHYzIDEvM10gZHJtL2FtZGdwdTogVVZEIGF2b2lkIG1l?=
 =?gb2312?Q?mory_allocation_during_IB_test?=
Thread-Topic: [PATCH v3 1/3] drm/amdgpu: UVD avoid memory allocation during IB
 test
Thread-Index: AQHXpq0x/i29uM+DtEKIdhqdDy2P2quhhLCAgAADwbo=
Date: Mon, 13 Sep 2021 06:51:00 +0000
Message-ID: <DM4PR12MB5165E4220CADA57AFBE4429587D99@DM4PR12MB5165.namprd12.prod.outlook.com>
References: <20210911013421.5213-1-xinhui.pan@amd.com>
 <50096f9f-5113-8303-b1e8-32faa10a0ddd@amd.com>
In-Reply-To: <50096f9f-5113-8303-b1e8-32faa10a0ddd@amd.com>
Accept-Language: zh-CN, en-US
Content-Language: zh-CN
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
msip_labels: MSIP_Label_88914ebd-7e6c-4e12-a031-a9906be2db14_Enabled=True;
 MSIP_Label_88914ebd-7e6c-4e12-a031-a9906be2db14_SiteId=3dd8961f-e488-4e60-8e11-a82d994e183d;
 MSIP_Label_88914ebd-7e6c-4e12-a031-a9906be2db14_SetDate=2021-09-13T06:50:56.956Z;
 MSIP_Label_88914ebd-7e6c-4e12-a031-a9906be2db14_Name=AMD
 Official Use
 Only; MSIP_Label_88914ebd-7e6c-4e12-a031-a9906be2db14_ContentBits=0;
 MSIP_Label_88914ebd-7e6c-4e12-a031-a9906be2db14_Method=Standard; 
suggested_attachment_session_id: 92c2202e-ddee-eb76-f2fe-4aecf14817e6
authentication-results: amd.com; dkim=none (message not signed)
 header.d=none;amd.com; dmarc=none action=none header.from=amd.com;
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 5ac17bc9-01fe-4e82-0ec1-08d97682d8cf
x-ms-traffictypediagnostic: DM8PR12MB5446:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <DM8PR12MB5446301B41A46E57AC7AF36687D99@DM8PR12MB5446.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:7691;
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: oR0lk6EUfH1m6JPklzv/S8Eo+N3PGUxWyLPqdyfYnFOg4bA7ZqwBdjCa0A3U4NOzmGm6yJ53FQXH5DySjbV5AQpIAJG9/DZJ31ocIQ7xmn4haE7gwq8TA5o09ubTRiKlZ8r7CCTFFpd9QZxrEipGdMWs65clZ/wzrjA25Z/MmSQAMof3iWkizMBUgUTylcDQBJP8ch33MGv4rwWfvNej3dxcs03bWq0mTAqU3lznroxrNBYGrPQaI2HyInqnxoLRWgzx0SxWbQSf17nZZyzqrhhy7NC5E8mue5O9yqyR4/xzTXlBgbcIigrA4V0H95BEn0Eljs9r4fq5PcTLLFilsv0Bk19zG9KD92j92u9vU9lr33hFR9SVRbuH2ZlyojkA1jN8ho78MfMwSS0nGDosYd9q2W0Uej6Qabqx73iUM0nBIXcujw4Eod1JLO+pq8lxylFofT32cPcJoW5uzUtOe5S9hNsYW7WW9fpf47mvLpU/yWJ37kUyjJAfh44Qj6WD49phjy5Mt7Un04LCUVryocSGWwITXZkHeKsftZrNLhEgwAIvIXoV+MzzcoSa/NXl6CztLI5U+voqTZ+VDQ8sikPnw25Z7y0uU2deuyLKI/evlLkA3n7UK2CO97EsbQnULEbay9YPkkdfB8I2dx9TMLp2maWRlV3/5q4VH+FQgzfYvtWrX7IRc4CrgX3s7uuMYZsVsOH8h5IYLN+MG3CpSg==
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:DM4PR12MB5165.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(4636009)(396003)(366004)(39860400002)(346002)(136003)(376002)(8936002)(66946007)(83380400001)(55016002)(52536014)(186003)(38070700005)(4326008)(6506007)(71200400001)(122000001)(76116006)(66476007)(33656002)(86362001)(7696005)(9686003)(66446008)(2906002)(478600001)(38100700002)(316002)(5660300002)(110136005)(66556008)(224303003)(64756008)(91956017)(26005);
 DIR:OUT; SFP:1101; 
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?gb2312?B?WTdTN3BsT3hLRXdGczdpem1rejJXZjVNNUFzYUp1N1RvclpEb2p1b3ZuN2lO?=
 =?gb2312?B?bkZmc2N6ajhka01MTEdjb1hKZHhkTm1rc2dvOTAya0dqSCtWbVJsZmtZeWJ0?=
 =?gb2312?B?RldENVBLRkVoVThFeWUzd0pXOVBNOWQ5Rk5UUWM1em5ndnpYN2U4TDlNQmxu?=
 =?gb2312?B?UlNHYXFYRm9HRVltTUZ5UGhyMWVycTBtZU0wcm1QeWRQdXNSQ1lCSFBIblll?=
 =?gb2312?B?UTVwRUtIWDlKTFM5TlFxWS92SGZnT1ViY0pXVnV6SlAxWDVZVkF3bWFzSFpa?=
 =?gb2312?B?OFZsdWN1S25HcVdNTEJEQ0ZwSjhzOWUzWGdwRDJOV1NvamNTSWk2b2NjZ3FE?=
 =?gb2312?B?eXo3WTRQQlU4MEowaDJCcEtGMlNwNlhCV2psZDM5RThWa3NBQktEek9qRXFR?=
 =?gb2312?B?eUtjcWF1ZHZhY2VOaUNHZlJyTUJncmlWRHFPRm83bE04eWJsOEJ1TVZOUDVR?=
 =?gb2312?B?ZjVrUllwMzZSbWw4WVRxSmNHek9TQzRPaGJvTzk0bVpqT3BlNmVDZWRmT3Vj?=
 =?gb2312?B?QU1VVTZBK3ZCaURvSzJhRkxaUVBRUHRoY2dIb3JwOGtWNzhKV0JiZ20zcU5a?=
 =?gb2312?B?YkhXR200YWRJWEFMNE45RXhVcVF6MnZJVXFxSVhScVJMTFZZSTcxQnZJd010?=
 =?gb2312?B?bUxHTk0wMmhEcWpUQ0YxRll4NlpwdFhGeGU1MGhnTjN5WTJ1N2lNNno3aFJz?=
 =?gb2312?B?VTRpdHJMQjNyZW5lbnRUaHhoM1ZvYjlrTTNVTWxHamQ4VlljSUFJN0FGN2tP?=
 =?gb2312?B?MXIzcjVpT3ppdGFLMzBjRzZ4ODZmcXU3T0xhREt1b3lQVDYvWkZnenBaSVZp?=
 =?gb2312?B?YVFXOFJnYUloN1lqcWtoSEhzcC9NMXU2aG5Tc1ZHTGtZK05WV2JPcW81a09L?=
 =?gb2312?B?NVl5Ui82SzRmVzJCd1lubEF0RGxFbURlQzFUU2JrT1UyNmgrZmVBSENpTVZr?=
 =?gb2312?B?MVFyVk05a2lJaXpCRzYvTEhBZnU2TDhWb2VzbWQ0U3loMUN4Y2lQRm15bzZG?=
 =?gb2312?B?RzRGWUFxRlVTYm96bmZlK2VHay9JMGt6bDhTcEdoZDY4cFQySHEzbVBvSUZu?=
 =?gb2312?B?RzJzS3VZUlREeVg3ai8yNTFwSlZjMU4xMnFLeTJhMURzSVY5Um5JdlNRKytm?=
 =?gb2312?B?c2VoRG9pMjlES3dmUXE4TVBkQTRhWmtoRmZzT1hMWWJ5MUxCNGJRV3ArYXl0?=
 =?gb2312?B?VnNuZ04wZlFEQUpVekFtc21oK3VQL0daTFphci9PSGhyK1ZWN0VEc2dWWEZL?=
 =?gb2312?B?aHFlbjQ0Wjd2SWJBSnRPeXBjd0hwYWpWT1hJRXNPMDhGYmFYckI4dkZaZUl0?=
 =?gb2312?B?V0hvVngzdmxBWFU3U2NhK3F4TEYxY2lUdXdOc2FXWEdzaGNHdDczODZseTZy?=
 =?gb2312?B?bWl2VWd1WjVBMi9hNWNSditaS3ZKb3k2K0NXWjZORGQxMTBvbjg2cVE5Q0R5?=
 =?gb2312?B?TzQxQThlcm9SazJFeDNKY3dtTmZjbDIxWVRERGZTZ09lUW9WcW5PM29SY1FK?=
 =?gb2312?B?RVE3NWZkL1VGY1U4dmV6c0tCb1FRT09JTndkOUR2WHJ6M0p3UUtTemNZV01W?=
 =?gb2312?B?R3M0SjJ3Y2VtamorY3V2VFRPdVBkNDNHYSt2Y2JPcFI2bUJ0R1R1ZmoveWx6?=
 =?gb2312?B?ejQ0dmpuTlN6RjgvT1pwVUFxT1Z0aE5aM3lSK3Q4QWJjTHQ4cVVxT3RCSXhN?=
 =?gb2312?B?MU5ubXMxaGVpK05oWGtYRVBVK3h0ZXFFTjJHL0NZSWtGM0ljRk1ZQU9zQW9y?=
 =?gb2312?Q?9BemT27ctIkVrvfJf4s9FzQ8FjAPNxxsQvhYL4T?=
Content-Type: text/plain; charset="gb2312"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: DM4PR12MB5165.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 5ac17bc9-01fe-4e82-0ec1-08d97682d8cf
X-MS-Exchange-CrossTenant-originalarrivaltime: 13 Sep 2021 06:51:00.3685 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: FHKEtpJZhfEKgc+QoI2+QHCRAsqyKCM0UQJpPs0CBR/uh8TWS5dDFKkMa2Z42tat
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM8PR12MB5446
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

W0FNRCBPZmZpY2lhbCBVc2UgT25seV0NCg0KMSkgT2YgY291cmNlIEkgY2FuIGRyb3AgdGhlIGJv
IHJlc3YgbG9jayBhcyBsb25nIGFzIHdlIGZpeCB0aGUgcmFjZSBvZiBJQiB0ZXN0LiB3aWxsIGRv
IGl0IGluIHY0DQoNCjIpIGFtZGdwdV91dmRfY3JlYXRlX21zZ19ib19oZWxwZXIgYWx3YXlzIHVz
ZSBhIGxvY2FsIHZhcmlhYmxlICpibyA9IE5VTEwgcGFzc2VkIHRvIGJvX2NyZWF0ZS4gYW5kIGFz
c2lnZWQgaXQgdG8gKipib19wdHIgb24gc3VjY2Vzcy4gT2YgY291cmNlLCBJIHdpbGwgbWFrZSBj
b2RlIGVhc2llciB0byB1bmRlcnN0YW5kLg0KDQpfX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fDQq3orz+yMs6IEtvZW5pZywgQ2hyaXN0aWFuIDxDaHJpc3RpYW4uS29lbmln
QGFtZC5jb20+DQq3osvNyrG85DogMjAyMcTqOdTCMTPI1SAxNDozMQ0KytW8/sjLOiBQYW4sIFhp
bmh1aTsgYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcNCrOty806IERldWNoZXIsIEFsZXhh
bmRlcg0K1vfM4jogUmU6IFtQQVRDSCB2MyAxLzNdIGRybS9hbWRncHU6IFVWRCBhdm9pZCBtZW1v
cnkgYWxsb2NhdGlvbiBkdXJpbmcgSUIgdGVzdA0KDQpBbSAxMS4wOS4yMSB1bSAwMzozNCBzY2hy
aWViIHhpbmh1aSBwYW46DQo+IG1vdmUgQk8gYWxsb2NhdGlvbiBpbiBzd19pbml0Lg0KPg0KPiBT
aWduZWQtb2ZmLWJ5OiB4aW5odWkgcGFuIDx4aW5odWkucGFuQGFtZC5jb20+DQo+IC0tLQ0KPiBj
aGFuZ2UgZnJvbSB2MjoNCj4gdXNlIHJlc2VydmF0aW9uIHRyeWxvY2sgZm9yIGRpcmVjdCBJQiB0
ZXN0Lg0KPiBjaGFuZ2UgZnJvbSB2MToNCj4gb25seSB1c2UgcHJlLWFsbG9jYXRlZCBCTyBmb3Ig
ZGlyZWN0IElCIHN1Ym1pc3Npb24uDQo+IGFuZCB0YWtlIGl0cyByZXNlcnZhdGlvbiBsb2NrIHRv
IGF2b2lkIGFueSBwb3RlbnRpYWwgcmFjZS4NCj4gYmV0dGVyIHNhZmUgdGhhbiBzb3JyeS4NCj4g
LS0tDQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3V2ZC5jIHwgMTA0ICsr
KysrKysrKysrKysrKysrLS0tLS0tLQ0KPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV91dmQuaCB8ICAgMSArDQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdXZkX3Y2
XzAuYyAgIHwgICA4ICstDQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdXZkX3Y3XzAu
YyAgIHwgICA4ICstDQo+ICAgNCBmaWxlcyBjaGFuZ2VkLCA3OSBpbnNlcnRpb25zKCspLCA0MiBk
ZWxldGlvbnMoLSkNCj4NCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2FtZGdwdV91dmQuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV91dmQuYw0K
PiBpbmRleCBkNDUxYzM1OTYwNmEuLmE0YjNkZDZiMzhjNiAxMDA2NDQNCj4gLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3V2ZC5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV91dmQuYw0KPiBAQCAtMTM0LDYgKzEzNCw1MSBAQCBNT0RVTEVf
RklSTVdBUkUoRklSTVdBUkVfVkVHQTEyKTsNCj4gICBNT0RVTEVfRklSTVdBUkUoRklSTVdBUkVf
VkVHQTIwKTsNCj4NCj4gICBzdGF0aWMgdm9pZCBhbWRncHVfdXZkX2lkbGVfd29ya19oYW5kbGVy
KHN0cnVjdCB3b3JrX3N0cnVjdCAqd29yayk7DQo+ICtzdGF0aWMgdm9pZCBhbWRncHVfdXZkX2Zv
cmNlX2ludG9fdXZkX3NlZ21lbnQoc3RydWN0IGFtZGdwdV9ibyAqYWJvKTsNCj4gKw0KPiArc3Rh
dGljIGludCBhbWRncHVfdXZkX2NyZWF0ZV9tc2dfYm9faGVscGVyKHN0cnVjdCBhbWRncHVfZGV2
aWNlICphZGV2LA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVp
bnQzMl90IHNpemUsDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
c3RydWN0IGFtZGdwdV9ibyAqKmJvX3B0cikNCj4gK3sNCj4gKyAgICAgc3RydWN0IHR0bV9vcGVy
YXRpb25fY3R4IGN0eCA9IHsgdHJ1ZSwgZmFsc2UgfTsNCj4gKyAgICAgc3RydWN0IGFtZGdwdV9i
byAqYm8gPSBOVUxMOw0KPiArICAgICB2b2lkICphZGRyOw0KPiArICAgICBpbnQgcjsNCj4gKw0K
PiArICAgICByID0gYW1kZ3B1X2JvX2NyZWF0ZV9yZXNlcnZlZChhZGV2LCBzaXplLCBQQUdFX1NJ
WkUsDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFNREdQVV9HRU1fRE9N
QUlOX0dUVCwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJmJvLCBOVUxM
LCAmYWRkcik7DQo+ICsgICAgIGlmIChyKQ0KPiArICAgICAgICAgICAgIHJldHVybiByOw0KPiAr
DQo+ICsgICAgIGlmIChhZGV2LT51dmQuYWRkcmVzc182NF9iaXQpIHsNCj4gKyAgICAgICAgICAg
ICAqYm9fcHRyID0gYm87DQo+ICsgICAgICAgICAgICAgcmV0dXJuIDA7DQo+ICsgICAgIH0NCj4g
Kw0KPiArICAgICBhbWRncHVfYm9fa3VubWFwKGJvKTsNCj4gKyAgICAgYW1kZ3B1X2JvX3VucGlu
KGJvKTsNCj4gKyAgICAgYW1kZ3B1X2JvX3BsYWNlbWVudF9mcm9tX2RvbWFpbihibywgQU1ER1BV
X0dFTV9ET01BSU5fVlJBTSk7DQo+ICsgICAgIGFtZGdwdV91dmRfZm9yY2VfaW50b191dmRfc2Vn
bWVudChibyk7DQo+ICsgICAgIHIgPSB0dG1fYm9fdmFsaWRhdGUoJmJvLT50Ym8sICZiby0+cGxh
Y2VtZW50LCAmY3R4KTsNCj4gKyAgICAgaWYgKHIpDQo+ICsgICAgICAgICAgICAgZ290byBlcnI7
DQo+ICsgICAgIHIgPSBhbWRncHVfYm9fcGluKGJvLCBBTURHUFVfR0VNX0RPTUFJTl9WUkFNKTsN
Cj4gKyAgICAgaWYgKHIpDQo+ICsgICAgICAgICAgICAgZ290byBlcnJfcGluOw0KPiArICAgICBy
ID0gYW1kZ3B1X2JvX2ttYXAoYm8sICZhZGRyKTsNCj4gKyAgICAgaWYgKHIpDQo+ICsgICAgICAg
ICAgICAgZ290byBlcnJfa21hcDsNCj4gKyAgICAgKmJvX3B0ciA9IGJvOw0KPiArICAgICByZXR1
cm4gMDsNCj4gK2Vycl9rbWFwOg0KPiArICAgICBhbWRncHVfYm9fdW5waW4oYm8pOw0KPiArZXJy
X3BpbjoNCj4gK2VycjoNCj4gKyAgICAgYW1kZ3B1X2JvX3VucmVzZXJ2ZShibyk7DQo+ICsgICAg
IGFtZGdwdV9ib191bnJlZigmYm8pOw0KPiArICAgICByZXR1cm4gcjsNCj4gK30NCj4NCj4gICBp
bnQgYW1kZ3B1X3V2ZF9zd19pbml0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQ0KPiAgIHsN
Cj4gQEAgLTMwMiw2ICszNDcsMTEgQEAgaW50IGFtZGdwdV91dmRfc3dfaW5pdChzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldikNCj4gICAgICAgaWYgKCFhbWRncHVfZGV2aWNlX2lwX2Jsb2NrX3Zl
cnNpb25fY21wKGFkZXYsIEFNRF9JUF9CTE9DS19UWVBFX1VWRCwgNSwgMCkpDQo+ICAgICAgICAg
ICAgICAgYWRldi0+dXZkLmFkZHJlc3NfNjRfYml0ID0gdHJ1ZTsNCj4NCj4gKyAgICAgciA9IGFt
ZGdwdV91dmRfY3JlYXRlX21zZ19ib19oZWxwZXIoYWRldiwgMTI4IDw8IDEwLCAmYWRldi0+dXZk
LmliX2JvKTsNCj4gKyAgICAgaWYgKHIpDQo+ICsgICAgICAgICAgICAgcmV0dXJuIHI7DQo+ICsg
ICAgIGFtZGdwdV9ib191bnJlc2VydmUoYWRldi0+dXZkLmliX2JvKTsNCj4gKw0KPiAgICAgICBz
d2l0Y2ggKGFkZXYtPmFzaWNfdHlwZSkgew0KPiAgICAgICBjYXNlIENISVBfVE9OR0E6DQo+ICAg
ICAgICAgICAgICAgYWRldi0+dXZkLnVzZV9jdHhfYnVmID0gYWRldi0+dXZkLmZ3X3ZlcnNpb24g
Pj0gRldfMV82NV8xMDsNCj4gQEAgLTMyNCw2ICszNzQsNyBAQCBpbnQgYW1kZ3B1X3V2ZF9zd19p
bml0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQ0KPg0KPiAgIGludCBhbWRncHVfdXZkX3N3
X2Zpbmkoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpDQo+ICAgew0KPiArICAgICB2b2lkICph
ZGRyID0gYW1kZ3B1X2JvX2twdHIoYWRldi0+dXZkLmliX2JvKTsNCj4gICAgICAgaW50IGksIGo7
DQo+DQo+ICAgICAgIGRybV9zY2hlZF9lbnRpdHlfZGVzdHJveSgmYWRldi0+dXZkLmVudGl0eSk7
DQo+IEBAIC0zNDIsNiArMzkzLDcgQEAgaW50IGFtZGdwdV91dmRfc3dfZmluaShzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldikNCj4gICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgQU1ER1BV
X01BWF9VVkRfRU5DX1JJTkdTOyArK2kpDQo+ICAgICAgICAgICAgICAgICAgICAgICBhbWRncHVf
cmluZ19maW5pKCZhZGV2LT51dmQuaW5zdFtqXS5yaW5nX2VuY1tpXSk7DQo+ICAgICAgIH0NCj4g
KyAgICAgYW1kZ3B1X2JvX2ZyZWVfa2VybmVsKCZhZGV2LT51dmQuaWJfYm8sIE5VTEwsICZhZGRy
KTsNCj4gICAgICAgcmVsZWFzZV9maXJtd2FyZShhZGV2LT51dmQuZncpOw0KPg0KPiAgICAgICBy
ZXR1cm4gMDsNCj4gQEAgLTEwODAsMjMgKzExMzIsMTAgQEAgc3RhdGljIGludCBhbWRncHVfdXZk
X3NlbmRfbXNnKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywgc3RydWN0IGFtZGdwdV9ibyAqYm8s
DQo+ICAgICAgIHVuc2lnbmVkIG9mZnNldF9pZHggPSAwOw0KPiAgICAgICB1bnNpZ25lZCBvZmZz
ZXRbM10gPSB7IFVWRF9CQVNFX1NJLCAwLCAwIH07DQo+DQo+IC0gICAgIGFtZGdwdV9ib19rdW5t
YXAoYm8pOw0KPiAtICAgICBhbWRncHVfYm9fdW5waW4oYm8pOw0KPiAtDQo+IC0gICAgIGlmICgh
cmluZy0+YWRldi0+dXZkLmFkZHJlc3NfNjRfYml0KSB7DQo+IC0gICAgICAgICAgICAgc3RydWN0
IHR0bV9vcGVyYXRpb25fY3R4IGN0eCA9IHsgdHJ1ZSwgZmFsc2UgfTsNCj4gLQ0KPiAtICAgICAg
ICAgICAgIGFtZGdwdV9ib19wbGFjZW1lbnRfZnJvbV9kb21haW4oYm8sIEFNREdQVV9HRU1fRE9N
QUlOX1ZSQU0pOw0KPiAtICAgICAgICAgICAgIGFtZGdwdV91dmRfZm9yY2VfaW50b191dmRfc2Vn
bWVudChibyk7DQo+IC0gICAgICAgICAgICAgciA9IHR0bV9ib192YWxpZGF0ZSgmYm8tPnRibywg
JmJvLT5wbGFjZW1lbnQsICZjdHgpOw0KPiAtICAgICAgICAgICAgIGlmIChyKQ0KPiAtICAgICAg
ICAgICAgICAgICAgICAgZ290byBlcnI7DQo+IC0gICAgIH0NCj4gLQ0KPiAgICAgICByID0gYW1k
Z3B1X2pvYl9hbGxvY193aXRoX2liKGFkZXYsIDY0LCBkaXJlY3QgPyBBTURHUFVfSUJfUE9PTF9E
SVJFQ1QgOg0KPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFNREdQVV9JQl9Q
T09MX0RFTEFZRUQsICZqb2IpOw0KPiAgICAgICBpZiAocikNCj4gLSAgICAgICAgICAgICBnb3Rv
IGVycjsNCj4gKyAgICAgICAgICAgICByZXR1cm4gcjsNCj4NCj4gICAgICAgaWYgKGFkZXYtPmFz
aWNfdHlwZSA+PSBDSElQX1ZFR0ExMCkgew0KPiAgICAgICAgICAgICAgIG9mZnNldF9pZHggPSAx
ICsgcmluZy0+bWU7DQo+IEBAIC0xMTQ4LDggKzExODcsNiBAQCBzdGF0aWMgaW50IGFtZGdwdV91
dmRfc2VuZF9tc2coc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLCBzdHJ1Y3QgYW1kZ3B1X2JvICpi
bywNCj4gICAgICAgfQ0KPg0KPiAgICAgICBhbWRncHVfYm9fZmVuY2UoYm8sIGYsIGZhbHNlKTsN
Cj4gLSAgICAgYW1kZ3B1X2JvX3VucmVzZXJ2ZShibyk7DQo+IC0gICAgIGFtZGdwdV9ib191bnJl
ZigmYm8pOw0KPg0KPiAgICAgICBpZiAoZmVuY2UpDQo+ICAgICAgICAgICAgICAgKmZlbmNlID0g
ZG1hX2ZlbmNlX2dldChmKTsNCj4gQEAgLTExNTksMTAgKzExOTYsNiBAQCBzdGF0aWMgaW50IGFt
ZGdwdV91dmRfc2VuZF9tc2coc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLCBzdHJ1Y3QgYW1kZ3B1
X2JvICpibywNCj4NCj4gICBlcnJfZnJlZToNCj4gICAgICAgYW1kZ3B1X2pvYl9mcmVlKGpvYik7
DQo+IC0NCj4gLWVycjoNCj4gLSAgICAgYW1kZ3B1X2JvX3VucmVzZXJ2ZShibyk7DQo+IC0gICAg
IGFtZGdwdV9ib191bnJlZigmYm8pOw0KPiAgICAgICByZXR1cm4gcjsNCj4gICB9DQo+DQo+IEBA
IC0xMTczLDE2ICsxMjA2LDE2IEBAIGludCBhbWRncHVfdXZkX2dldF9jcmVhdGVfbXNnKHN0cnVj
dCBhbWRncHVfcmluZyAqcmluZywgdWludDMyX3QgaGFuZGxlLA0KPiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgc3RydWN0IGRtYV9mZW5jZSAqKmZlbmNlKQ0KPiAgIHsNCj4gICAgICAgc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSByaW5nLT5hZGV2Ow0KPiAtICAgICBzdHJ1Y3QgYW1k
Z3B1X2JvICpibyA9IE5VTEw7DQo+ICsgICAgIHN0cnVjdCBhbWRncHVfYm8gKmJvID0gYWRldi0+
dXZkLmliX2JvOw0KPiAgICAgICB1aW50MzJfdCAqbXNnOw0KPiAgICAgICBpbnQgciwgaTsNCj4N
Cj4gLSAgICAgciA9IGFtZGdwdV9ib19jcmVhdGVfcmVzZXJ2ZWQoYWRldiwgMTAyNCwgUEFHRV9T
SVpFLA0KPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBTURHUFVfR0VNX0RP
TUFJTl9HVFQsDQo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZibywgTlVM
TCwgKHZvaWQgKiopJm1zZyk7DQo+ICsgICAgIC8qIERpcmVjdCBJQiBzdWJtaXNzaW9uIHNob3Vs
ZCBiZSBleGNsdXNpdmUuICovDQo+ICsgICAgIHIgPSBXQVJOX09OX09OQ0UodHRtX2JvX3Jlc2Vy
dmUoJmJvLT50Ym8sIHRydWUsIHRydWUsIE5VTEwpKTsNCg0KUGxlYXNlIGp1c3QgY29tcGxldGVs
eSBkcm9wIHRha2luZyB0aGUgcmVzZXJ2YXRpb24gZm9yIGRpcmVjdA0Kc3VibWlzc2lvbi4gSSBk
b24ndCB3YW50IGxvY2tkZXAgdG8gY29tcGxhaW4gYWJvdXQgdGhhdC4NCg0KPiAgICAgICBpZiAo
cikNCj4gICAgICAgICAgICAgICByZXR1cm4gcjsNCj4NCj4gKyAgICAgbXNnID0gYW1kZ3B1X2Jv
X2twdHIoYm8pOw0KPiAgICAgICAvKiBzdGl0Y2ggdG9nZXRoZXIgYW4gVVZEIGNyZWF0ZSBtc2cg
Ki8NCj4gICAgICAgbXNnWzBdID0gY3B1X3RvX2xlMzIoMHgwMDAwMGRlNCk7DQo+ICAgICAgIG1z
Z1sxXSA9IGNwdV90b19sZTMyKDB4MDAwMDAwMDApOw0KPiBAQCAtMTE5OCwyMyArMTIzMSwyOCBA
QCBpbnQgYW1kZ3B1X3V2ZF9nZXRfY3JlYXRlX21zZyhzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcs
IHVpbnQzMl90IGhhbmRsZSwNCj4gICAgICAgZm9yIChpID0gMTE7IGkgPCAxMDI0OyArK2kpDQo+
ICAgICAgICAgICAgICAgbXNnW2ldID0gY3B1X3RvX2xlMzIoMHgwKTsNCj4NCj4gLSAgICAgcmV0
dXJuIGFtZGdwdV91dmRfc2VuZF9tc2cocmluZywgYm8sIHRydWUsIGZlbmNlKTsNCj4gKyAgICAg
ciA9IGFtZGdwdV91dmRfc2VuZF9tc2cocmluZywgYm8sIHRydWUsIGZlbmNlKTsNCj4gKw0KPiAr
ICAgICBhbWRncHVfYm9fdW5yZXNlcnZlKGJvKTsNCj4gKyAgICAgcmV0dXJuIHI7DQo+ICAgfQ0K
Pg0KPiAgIGludCBhbWRncHVfdXZkX2dldF9kZXN0cm95X21zZyhzdHJ1Y3QgYW1kZ3B1X3Jpbmcg
KnJpbmcsIHVpbnQzMl90IGhhbmRsZSwNCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBi
b29sIGRpcmVjdCwgc3RydWN0IGRtYV9mZW5jZSAqKmZlbmNlKQ0KPiAgIHsNCj4gICAgICAgc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSByaW5nLT5hZGV2Ow0KPiAtICAgICBzdHJ1Y3QgYW1k
Z3B1X2JvICpibyA9IE5VTEw7DQo+ICsgICAgIHN0cnVjdCBhbWRncHVfYm8gKmJvID0gYWRldi0+
dXZkLmliX2JvOw0KDQpUaGF0IHdvbid0IHdvcmsuIFRvIG1ha2UgdGhlIGFsbG9jYXRpb24gd29y
ayBibyBtdXN0IGJlIE5VTEwgd2hlbg0KYW1kZ3B1X3V2ZF9jcmVhdGVfbXNnX2JvX2hlbHBlcigp
IGlzIGNhbGxlZC4NCg0KUHJvYmFibHkgYmVzdCB0byBhZGQgYW4gIipibyA9IE5VTEwiIHRvIGFt
ZGdwdV91dmRfY3JlYXRlX21zZ19ib19oZWxwZXIoKS4NCg0KUmVnYXJkcywNCkNocmlzdGlhbi4N
Cg0KPiAgICAgICB1aW50MzJfdCAqbXNnOw0KPiAgICAgICBpbnQgciwgaTsNCj4NCj4gLSAgICAg
ciA9IGFtZGdwdV9ib19jcmVhdGVfcmVzZXJ2ZWQoYWRldiwgMTAyNCwgUEFHRV9TSVpFLA0KPiAt
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBTURHUFVfR0VNX0RPTUFJTl9HVFQs
DQo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZibywgTlVMTCwgKHZvaWQg
KiopJm1zZyk7DQo+ICsgICAgIGlmIChkaXJlY3QpDQo+ICsgICAgICAgICAgICAgciA9IFdBUk5f
T05fT05DRSh0dG1fYm9fcmVzZXJ2ZSgmYm8tPnRibywgdHJ1ZSwgdHJ1ZSwgTlVMTCkpOw0KPiAr
ICAgICBlbHNlDQo+ICsgICAgICAgICAgICAgciA9IGFtZGdwdV91dmRfY3JlYXRlX21zZ19ib19o
ZWxwZXIoYWRldiwgNDA5NiwgJmJvKTsNCj4gICAgICAgaWYgKHIpDQo+ICAgICAgICAgICAgICAg
cmV0dXJuIHI7DQo+DQo+ICsgICAgIG1zZyA9IGFtZGdwdV9ib19rcHRyKGJvKTsNCj4gICAgICAg
Lyogc3RpdGNoIHRvZ2V0aGVyIGFuIFVWRCBkZXN0cm95IG1zZyAqLw0KPiAgICAgICBtc2dbMF0g
PSBjcHVfdG9fbGUzMigweDAwMDAwZGU0KTsNCj4gICAgICAgbXNnWzFdID0gY3B1X3RvX2xlMzIo
MHgwMDAwMDAwMik7DQo+IEBAIC0xMjIzLDcgKzEyNjEsMTMgQEAgaW50IGFtZGdwdV91dmRfZ2V0
X2Rlc3Ryb3lfbXNnKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywgdWludDMyX3QgaGFuZGxlLA0K
PiAgICAgICBmb3IgKGkgPSA0OyBpIDwgMTAyNDsgKytpKQ0KPiAgICAgICAgICAgICAgIG1zZ1tp
XSA9IGNwdV90b19sZTMyKDB4MCk7DQo+DQo+IC0gICAgIHJldHVybiBhbWRncHVfdXZkX3NlbmRf
bXNnKHJpbmcsIGJvLCBkaXJlY3QsIGZlbmNlKTsNCj4gKyAgICAgciA9IGFtZGdwdV91dmRfc2Vu
ZF9tc2cocmluZywgYm8sIGRpcmVjdCwgZmVuY2UpOw0KPiArDQo+ICsgICAgIGFtZGdwdV9ib191
bnJlc2VydmUoYm8pOw0KPiArICAgICBpZiAoIWRpcmVjdCkNCj4gKyAgICAgICAgICAgICBhbWRn
cHVfYm9fZnJlZV9rZXJuZWwoJmJvLCBOVUxMLCAodm9pZCAqKikmbXNnKTsNCj4gKw0KPiArICAg
ICByZXR1cm4gcjsNCj4gICB9DQo+DQo+ICAgc3RhdGljIHZvaWQgYW1kZ3B1X3V2ZF9pZGxlX3dv
cmtfaGFuZGxlcihzdHJ1Y3Qgd29ya19zdHJ1Y3QgKndvcmspDQo+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdXZkLmggYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9hbWRncHVfdXZkLmgNCj4gaW5kZXggZWRiYjgxOTRlZTgxLi43NmFjOTY5OTg4NWQg
MTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV91dmQuaA0K
PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdXZkLmgNCj4gQEAgLTY4
LDYgKzY4LDcgQEAgc3RydWN0IGFtZGdwdV91dmQgew0KPiAgICAgICAvKiBzdG9yZSBpbWFnZSB3
aWR0aCB0byBhZGp1c3QgbmIgbWVtb3J5IHN0YXRlICovDQo+ICAgICAgIHVuc2lnbmVkICAgICAg
ICAgICAgICAgIGRlY29kZV9pbWFnZV93aWR0aDsNCj4gICAgICAgdWludDMyX3QgICAgICAgICAg
ICAgICAga2V5c2VsZWN0Ow0KPiArICAgICBzdHJ1Y3QgYW1kZ3B1X2JvICAgICAgICAqaWJfYm87
DQo+ICAgfTsNCj4NCj4gICBpbnQgYW1kZ3B1X3V2ZF9zd19pbml0KHN0cnVjdCBhbWRncHVfZGV2
aWNlICphZGV2KTsNCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3V2
ZF92Nl8wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS91dmRfdjZfMC5jDQo+IGluZGV4
IGJjNTcxODMzNjMyZS4uZGQ5MmQ5NmRkNWEyIDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS91dmRfdjZfMC5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L3V2ZF92Nl8wLmMNCj4gQEAgLTMzMiwxMiArMzMyLDEwIEBAIHN0YXRpYyBpbnQgdXZkX3Y2
XzBfZW5jX2dldF9kZXN0cm95X21zZyhzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsDQo+ICAgc3Rh
dGljIGludCB1dmRfdjZfMF9lbmNfcmluZ190ZXN0X2liKHN0cnVjdCBhbWRncHVfcmluZyAqcmlu
ZywgbG9uZyB0aW1lb3V0KQ0KPiAgIHsNCj4gICAgICAgc3RydWN0IGRtYV9mZW5jZSAqZmVuY2Ug
PSBOVUxMOw0KPiAtICAgICBzdHJ1Y3QgYW1kZ3B1X2JvICpibyA9IE5VTEw7DQo+ICsgICAgIHN0
cnVjdCBhbWRncHVfYm8gKmJvID0gcmluZy0+YWRldi0+dXZkLmliX2JvOw0KPiAgICAgICBsb25n
IHI7DQo+DQo+IC0gICAgIHIgPSBhbWRncHVfYm9fY3JlYXRlX3Jlc2VydmVkKHJpbmctPmFkZXYs
IDEyOCAqIDEwMjQsIFBBR0VfU0laRSwNCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgQU1ER1BVX0dFTV9ET01BSU5fVlJBTSwNCj4gLSAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgJmJvLCBOVUxMLCBOVUxMKTsNCj4gKyAgICAgciA9IFdBUk5fT05fT05DRSh0
dG1fYm9fcmVzZXJ2ZSgmYm8tPnRibywgdHJ1ZSwgdHJ1ZSwgTlVMTCkpOw0KPiAgICAgICBpZiAo
cikNCj4gICAgICAgICAgICAgICByZXR1cm4gcjsNCj4NCj4gQEAgLTM1Nyw5ICszNTUsNyBAQCBz
dGF0aWMgaW50IHV2ZF92Nl8wX2VuY19yaW5nX3Rlc3RfaWIoc3RydWN0IGFtZGdwdV9yaW5nICpy
aW5nLCBsb25nIHRpbWVvdXQpDQo+DQo+ICAgZXJyb3I6DQo+ICAgICAgIGRtYV9mZW5jZV9wdXQo
ZmVuY2UpOw0KPiAtICAgICBhbWRncHVfYm9fdW5waW4oYm8pOw0KPiAgICAgICBhbWRncHVfYm9f
dW5yZXNlcnZlKGJvKTsNCj4gLSAgICAgYW1kZ3B1X2JvX3VucmVmKCZibyk7DQo+ICAgICAgIHJl
dHVybiByOw0KPiAgIH0NCj4NCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L3V2ZF92N18wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS91dmRfdjdfMC5jDQo+
IGluZGV4IGI2ZTgyZDc1NTYxZi4uMjcxMTIyY2YyMjM3IDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS91dmRfdjdfMC5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L3V2ZF92N18wLmMNCj4gQEAgLTMzOCwxMiArMzM4LDEwIEBAIHN0YXRpYyBpbnQg
dXZkX3Y3XzBfZW5jX2dldF9kZXN0cm95X21zZyhzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsIHVp
bnQzMl90IGhhbmRsDQo+ICAgc3RhdGljIGludCB1dmRfdjdfMF9lbmNfcmluZ190ZXN0X2liKHN0
cnVjdCBhbWRncHVfcmluZyAqcmluZywgbG9uZyB0aW1lb3V0KQ0KPiAgIHsNCj4gICAgICAgc3Ry
dWN0IGRtYV9mZW5jZSAqZmVuY2UgPSBOVUxMOw0KPiAtICAgICBzdHJ1Y3QgYW1kZ3B1X2JvICpi
byA9IE5VTEw7DQo+ICsgICAgIHN0cnVjdCBhbWRncHVfYm8gKmJvID0gcmluZy0+YWRldi0+dXZk
LmliX2JvOw0KPiAgICAgICBsb25nIHI7DQo+DQo+IC0gICAgIHIgPSBhbWRncHVfYm9fY3JlYXRl
X3Jlc2VydmVkKHJpbmctPmFkZXYsIDEyOCAqIDEwMjQsIFBBR0VfU0laRSwNCj4gLSAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgQU1ER1BVX0dFTV9ET01BSU5fVlJBTSwNCj4gLSAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJmJvLCBOVUxMLCBOVUxMKTsNCj4gKyAg
ICAgciA9IFdBUk5fT05fT05DRSh0dG1fYm9fcmVzZXJ2ZSgmYm8tPnRibywgdHJ1ZSwgdHJ1ZSwg
TlVMTCkpOw0KPiAgICAgICBpZiAocikNCj4gICAgICAgICAgICAgICByZXR1cm4gcjsNCj4NCj4g
QEAgLTM2Myw5ICszNjEsNyBAQCBzdGF0aWMgaW50IHV2ZF92N18wX2VuY19yaW5nX3Rlc3RfaWIo
c3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLCBsb25nIHRpbWVvdXQpDQo+DQo+ICAgZXJyb3I6DQo+
ICAgICAgIGRtYV9mZW5jZV9wdXQoZmVuY2UpOw0KPiAtICAgICBhbWRncHVfYm9fdW5waW4oYm8p
Ow0KPiAgICAgICBhbWRncHVfYm9fdW5yZXNlcnZlKGJvKTsNCj4gLSAgICAgYW1kZ3B1X2JvX3Vu
cmVmKCZibyk7DQo+ICAgICAgIHJldHVybiByOw0KPiAgIH0NCj4NCg0K
