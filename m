Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 11A7269E2A
	for <lists+amd-gfx@lfdr.de>; Mon, 15 Jul 2019 23:25:40 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7BD0A89F38;
	Mon, 15 Jul 2019 21:25:37 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-qt1-x841.google.com (mail-qt1-x841.google.com
 [IPv6:2607:f8b0:4864:20::841])
 by gabe.freedesktop.org (Postfix) with ESMTPS id BA1E489F27
 for <amd-gfx@lists.freedesktop.org>; Mon, 15 Jul 2019 21:25:35 +0000 (UTC)
Received: by mail-qt1-x841.google.com with SMTP id x22so12361576qtp.12
 for <amd-gfx@lists.freedesktop.org>; Mon, 15 Jul 2019 14:25:35 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=re89EWNGfiMEG2coWydP09BLnX8sM4j3xVgz9JMqHCA=;
 b=BWkj4R3Uclrab5iPGbMo3piJhQ6Vkzzs0YBRzMpSqOwxO5tOPVXTsytIQYZ3ZKp+/E
 vL7HW5fzvoGM4Vm174F6F1KXzF003NdYNfOXrP5G5nHx2iQylrq/TagQ3hhbAexE4uRA
 n3G542gtVNh1tLXSe+EA3awIgaj5QmBgHmWWuha/q47Pswg3OK5nfemXs8kFTSs4WjNC
 CvPckYpRlDfeMndoyTOQUCm5DOi6DocPFu1AE9yLyQvH8fDe+Wtkx4h3yEvFowYw9Q4z
 tI6qD9yl3uRZZdyhFIsfBXv26lURN8eWv8UlDROvOGeZ9wEX517CNJEZ7j7AtrYY6hgo
 TudQ==
X-Gm-Message-State: APjAAAW2Onth5jpe9/jJL/yol7lyTmHh0y8H/30WtmmXzEB1XTrm/riF
 10LiBzoEn15LhhHGnoaSfuem/CsB
X-Google-Smtp-Source: APXvYqyYq30+6UOOXVSkvP2ytIfyPP6HH9XPqObtLHi74mcQYp1dspf1XS8EK+smKsgCl+UrvqUuvQ==
X-Received: by 2002:a0c:f8c5:: with SMTP id h5mr14952008qvo.12.1563225934498; 
 Mon, 15 Jul 2019 14:25:34 -0700 (PDT)
Received: from localhost.localdomain ([71.219.21.119])
 by smtp.gmail.com with ESMTPSA id q56sm10274133qtq.64.2019.07.15.14.25.33
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Mon, 15 Jul 2019 14:25:34 -0700 (PDT)
From: Alex Deucher <alexdeucher@gmail.com>
X-Google-Original-From: Alex Deucher <alexander.deucher@amd.com>
To: amd-gfx@lists.freedesktop.org
Subject: [PATCH 056/102] drm/amdgpu/VCN2: put IB internal registers offset to
 structure
Date: Mon, 15 Jul 2019 16:23:51 -0500
Message-Id: <20190715212437.31793-54-alexander.deucher@amd.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190715212437.31793-1-alexander.deucher@amd.com>
References: <20190715212437.31793-1-alexander.deucher@amd.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=re89EWNGfiMEG2coWydP09BLnX8sM4j3xVgz9JMqHCA=;
 b=Qc9sEA2GUYWAiaO3DlcQSnO6GsLHzGSybaXQu6IfYG1C4dIkjP9xTkfljjL+u5gg23
 eJZqEXoqwMGDevq+6JpVFRl7v1UJqdbez991m1trC1I3SFo07LPGNxarSMZoXj9wR1Rp
 JRCD35fSRFNbvnDbFF28TZdHwUoD3F6sCOblcZWX3MR0myRyK9+6AKunFck3YNyJWxlp
 ZhivTClXfO7ZFSrBjiDb7j7bFa2ZJg86zmXGCiRhXaU8Ik8/w3asoIhGRZqKDX5526sO
 1/k20beNO6n9KKAhBP5MVPFxDPIx+ZSjImN7/Y2qmrmREJALxpys6MC5T+9JvZUqG6Ln
 0E2w==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Alex Deucher <alexander.deucher@amd.com>, Leo Liu <leo.liu@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogTGVvIExpdSA8bGVvLmxpdUBhbWQuY29tPgoKU28gdGhlIHJpbmcgZnVuY3Rpb25zIGNh
biBiZSBzaGFyZWQgd2l0aCBkaWZmZXJlbnQgVkNOIHZlcnNpb25zCndpdGggZGlmZmVyZW50IGlu
dGVybmFsIHJlZ2lzdGVycyBvZmZzZXRzCgpTaWduZWQtb2ZmLWJ5OiBMZW8gTGl1IDxsZW8ubGl1
QGFtZC5jb20+ClJldmlld2VkLWJ5OiBBbGV4IERldWNoZXIgPGFsZXhhbmRlci5kZXVjaGVyQGFt
ZC5jb20+ClNpZ25lZC1vZmYtYnk6IEFsZXggRGV1Y2hlciA8YWxleGFuZGVyLmRldWNoZXJAYW1k
LmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdmNuLmggfCAgNiAr
KysKIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3Zjbl92Ml8wLmMgICB8IDY0ICsrKysrKysr
KysrKysrKystLS0tLS0tLS0KIDIgZmlsZXMgY2hhbmdlZCwgNDcgaW5zZXJ0aW9ucygrKSwgMjMg
ZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1k
Z3B1X3Zjbi5oIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3Zjbi5oCmluZGV4
IDk5ZjE0ZmNjMTQ2MC4uYmZkOGMzY2VhMTNhIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfdmNuLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
YW1kZ3B1X3Zjbi5oCkBAIC0xNDUsNiArMTQ1LDEyIEBAIHN0cnVjdCBhbWRncHVfdmNuX3JlZ3sK
IAl1bnNpZ25lZAlkYXRhMTsKIAl1bnNpZ25lZAljbWQ7CiAJdW5zaWduZWQJbm9wOworCXVuc2ln
bmVkCWNvbnRleHRfaWQ7CisJdW5zaWduZWQJaWJfdm1pZDsKKwl1bnNpZ25lZAlpYl9iYXJfbG93
OworCXVuc2lnbmVkCWliX2Jhcl9oaWdoOworCXVuc2lnbmVkCWliX3NpemU7CisJdW5zaWduZWQJ
Z3Bfc2NyYXRjaDg7CiAJdW5zaWduZWQJc2NyYXRjaDk7CiAJdW5zaWduZWQJanBlZ19waXRjaDsK
IH07CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92Y25fdjJfMC5jIGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdmNuX3YyXzAuYwppbmRleCA4NGU2ZWU0ODY3MGMu
LmM4MDFiNjlmMGI3NSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdmNu
X3YyXzAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92Y25fdjJfMC5jCkBAIC0x
NjYsNiArMTY2LDEzIEBAIHN0YXRpYyBpbnQgdmNuX3YyXzBfc3dfaW5pdCh2b2lkICpoYW5kbGUp
CiAJaWYgKHIpCiAJCXJldHVybiByOwogCisJYWRldi0+dmNuLmludGVybmFsLmNvbnRleHRfaWQg
PSBtbVVWRF9DT05URVhUX0lEX0lOVEVSTkFMX09GRlNFVDsKKwlhZGV2LT52Y24uaW50ZXJuYWwu
aWJfdm1pZCA9IG1tVVZEX0xNSV9SQkNfSUJfVk1JRF9JTlRFUk5BTF9PRkZTRVQ7CisJYWRldi0+
dmNuLmludGVybmFsLmliX2Jhcl9sb3cgPSBtbVVWRF9MTUlfUkJDX0lCXzY0QklUX0JBUl9MT1df
SU5URVJOQUxfT0ZGU0VUOworCWFkZXYtPnZjbi5pbnRlcm5hbC5pYl9iYXJfaGlnaCA9IG1tVVZE
X0xNSV9SQkNfSUJfNjRCSVRfQkFSX0hJR0hfSU5URVJOQUxfT0ZGU0VUOworCWFkZXYtPnZjbi5p
bnRlcm5hbC5pYl9zaXplID0gbW1VVkRfUkJDX0lCX1NJWkVfSU5URVJOQUxfT0ZGU0VUOworCWFk
ZXYtPnZjbi5pbnRlcm5hbC5ncF9zY3JhdGNoOCA9IG1tVVZEX0dQX1NDUkFUQ0g4X0lOVEVSTkFM
X09GRlNFVDsKKwogCWFkZXYtPnZjbi5pbnRlcm5hbC5zY3JhdGNoOSA9IG1tVVZEX1NDUkFUQ0g5
X0lOVEVSTkFMX09GRlNFVDsKIAlhZGV2LT52Y24uZXh0ZXJuYWwuc2NyYXRjaDkgPSBTT0MxNV9S
RUdfT0ZGU0VUKFVWRCwgMCwgbW1VVkRfU0NSQVRDSDkpOwogCWFkZXYtPnZjbi5pbnRlcm5hbC5k
YXRhMCA9IG1tVVZEX0dQQ09NX1ZDUFVfREFUQTBfSU5URVJOQUxfT0ZGU0VUOwpAQCAtMTQ4NSw5
ICsxNDkyLDExIEBAIHN0YXRpYyB2b2lkIHZjbl92Ml8wX2RlY19yaW5nX3NldF93cHRyKHN0cnVj
dCBhbWRncHVfcmluZyAqcmluZykKICAqLwogc3RhdGljIHZvaWQgdmNuX3YyXzBfZGVjX3Jpbmdf
aW5zZXJ0X3N0YXJ0KHN0cnVjdCBhbWRncHVfcmluZyAqcmluZykKIHsKLQlhbWRncHVfcmluZ193
cml0ZShyaW5nLCBQQUNLRVQwKG1tVVZEX0dQQ09NX1ZDUFVfREFUQTBfSU5URVJOQUxfT0ZGU0VU
LCAwKSk7CisJc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSByaW5nLT5hZGV2OworCisJYW1k
Z3B1X3Jpbmdfd3JpdGUocmluZywgUEFDS0VUMChhZGV2LT52Y24uaW50ZXJuYWwuZGF0YTAsIDAp
KTsKIAlhbWRncHVfcmluZ193cml0ZShyaW5nLCAwKTsKLQlhbWRncHVfcmluZ193cml0ZShyaW5n
LCBQQUNLRVQwKG1tVVZEX0dQQ09NX1ZDUFVfQ01EX0lOVEVSTkFMX09GRlNFVCwgMCkpOworCWFt
ZGdwdV9yaW5nX3dyaXRlKHJpbmcsIFBBQ0tFVDAoYWRldi0+dmNuLmludGVybmFsLmNtZCwgMCkp
OwogCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIFZDTl9ERUNfQ01EX1BBQ0tFVF9TVEFSVCA8PCAx
KTsKIH0KIApAQCAtMTUwMCw3ICsxNTA5LDkgQEAgc3RhdGljIHZvaWQgdmNuX3YyXzBfZGVjX3Jp
bmdfaW5zZXJ0X3N0YXJ0KHN0cnVjdCBhbWRncHVfcmluZyAqcmluZykKICAqLwogc3RhdGljIHZv
aWQgdmNuX3YyXzBfZGVjX3JpbmdfaW5zZXJ0X2VuZChzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcp
CiB7Ci0JYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgUEFDS0VUMChtbVVWRF9HUENPTV9WQ1BVX0NN
RF9JTlRFUk5BTF9PRkZTRVQsIDApKTsKKwlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IHJp
bmctPmFkZXY7CisKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLCBQQUNLRVQwKGFkZXYtPnZjbi5p
bnRlcm5hbC5jbWQsIDApKTsKIAlhbWRncHVfcmluZ193cml0ZShyaW5nLCBWQ05fREVDX0NNRF9Q
QUNLRVRfRU5EIDw8IDEpOwogfQogCkBAIC0xNTEzLDEyICsxNTI0LDEzIEBAIHN0YXRpYyB2b2lk
IHZjbl92Ml8wX2RlY19yaW5nX2luc2VydF9lbmQoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nKQog
ICovCiBzdGF0aWMgdm9pZCB2Y25fdjJfMF9kZWNfcmluZ19pbnNlcnRfbm9wKHN0cnVjdCBhbWRn
cHVfcmluZyAqcmluZywgdWludDMyX3QgY291bnQpCiB7CisJc3RydWN0IGFtZGdwdV9kZXZpY2Ug
KmFkZXYgPSByaW5nLT5hZGV2OwogCWludCBpOwogCiAJV0FSTl9PTihyaW5nLT53cHRyICUgMiB8
fCBjb3VudCAlIDIpOwogCiAJZm9yIChpID0gMDsgaSA8IGNvdW50IC8gMjsgaSsrKSB7Ci0JCWFt
ZGdwdV9yaW5nX3dyaXRlKHJpbmcsIFBBQ0tFVDAobW1VVkRfTk9fT1BfSU5URVJOQUxfT0ZGU0VU
LCAwKSk7CisJCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIFBBQ0tFVDAoYWRldi0+dmNuLmludGVy
bmFsLm5vcCwgMCkpOwogCQlhbWRncHVfcmluZ193cml0ZShyaW5nLCAwKTsKIAl9CiB9CkBAIC0x
NTM0LDI3ICsxNTQ2LDI4IEBAIHN0YXRpYyB2b2lkIHZjbl92Ml8wX2RlY19yaW5nX2luc2VydF9u
b3Aoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLCB1aW50MzJfdCBjb3VuCiBzdGF0aWMgdm9pZCB2
Y25fdjJfMF9kZWNfcmluZ19lbWl0X2ZlbmNlKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywgdTY0
IGFkZHIsIHU2NCBzZXEsCiAJCQkJICAgICB1bnNpZ25lZCBmbGFncykKIHsKLQlXQVJOX09OKGZs
YWdzICYgQU1ER1BVX0ZFTkNFX0ZMQUdfNjRCSVQpOworCXN0cnVjdCBhbWRncHVfZGV2aWNlICph
ZGV2ID0gcmluZy0+YWRldjsKIAotCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIFBBQ0tFVDAobW1V
VkRfQ09OVEVYVF9JRF9JTlRFUk5BTF9PRkZTRVQsIDApKTsKKwlXQVJOX09OKGZsYWdzICYgQU1E
R1BVX0ZFTkNFX0ZMQUdfNjRCSVQpOworCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIFBBQ0tFVDAo
YWRldi0+dmNuLmludGVybmFsLmNvbnRleHRfaWQsIDApKTsKIAlhbWRncHVfcmluZ193cml0ZShy
aW5nLCBzZXEpOwogCi0JYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgUEFDS0VUMChtbVVWRF9HUENP
TV9WQ1BVX0RBVEEwX0lOVEVSTkFMX09GRlNFVCwgMCkpOworCWFtZGdwdV9yaW5nX3dyaXRlKHJp
bmcsIFBBQ0tFVDAoYWRldi0+dmNuLmludGVybmFsLmRhdGEwLCAwKSk7CiAJYW1kZ3B1X3Jpbmdf
d3JpdGUocmluZywgYWRkciAmIDB4ZmZmZmZmZmYpOwogCi0JYW1kZ3B1X3Jpbmdfd3JpdGUocmlu
ZywgUEFDS0VUMChtbVVWRF9HUENPTV9WQ1BVX0RBVEExX0lOVEVSTkFMX09GRlNFVCwgMCkpOwor
CWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIFBBQ0tFVDAoYWRldi0+dmNuLmludGVybmFsLmRhdGEx
LCAwKSk7CiAJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgdXBwZXJfMzJfYml0cyhhZGRyKSAmIDB4
ZmYpOwogCi0JYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgUEFDS0VUMChtbVVWRF9HUENPTV9WQ1BV
X0NNRF9JTlRFUk5BTF9PRkZTRVQsIDApKTsKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLCBQQUNL
RVQwKGFkZXYtPnZjbi5pbnRlcm5hbC5jbWQsIDApKTsKIAlhbWRncHVfcmluZ193cml0ZShyaW5n
LCBWQ05fREVDX0NNRF9GRU5DRSA8PCAxKTsKIAotCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIFBB
Q0tFVDAobW1VVkRfR1BDT01fVkNQVV9EQVRBMF9JTlRFUk5BTF9PRkZTRVQsIDApKTsKKwlhbWRn
cHVfcmluZ193cml0ZShyaW5nLCBQQUNLRVQwKGFkZXYtPnZjbi5pbnRlcm5hbC5kYXRhMCwgMCkp
OwogCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIDApOwogCi0JYW1kZ3B1X3Jpbmdfd3JpdGUocmlu
ZywgUEFDS0VUMChtbVVWRF9HUENPTV9WQ1BVX0RBVEExX0lOVEVSTkFMX09GRlNFVCwgMCkpOwor
CWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIFBBQ0tFVDAoYWRldi0+dmNuLmludGVybmFsLmRhdGEx
LCAwKSk7CiAJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgMCk7CiAKLQlhbWRncHVfcmluZ193cml0
ZShyaW5nLCBQQUNLRVQwKG1tVVZEX0dQQ09NX1ZDUFVfQ01EX0lOVEVSTkFMX09GRlNFVCwgMCkp
OworCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIFBBQ0tFVDAoYWRldi0+dmNuLmludGVybmFsLmNt
ZCwgMCkpOwogCiAJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgVkNOX0RFQ19DTURfVFJBUCA8PCAx
KTsKIH0KQEAgLTE1NzIsMTYgKzE1ODUsMTcgQEAgc3RhdGljIHZvaWQgdmNuX3YyXzBfZGVjX3Jp
bmdfZW1pdF9pYihzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsCiAJCQkJICAgICAgc3RydWN0IGFt
ZGdwdV9pYiAqaWIsCiAJCQkJICAgICAgdWludDMyX3QgZmxhZ3MpCiB7CisJc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYgPSByaW5nLT5hZGV2OwogCXVuc2lnbmVkIHZtaWQgPSBBTURHUFVfSk9C
X0dFVF9WTUlEKGpvYik7CiAKLQlhbWRncHVfcmluZ193cml0ZShyaW5nLCBQQUNLRVQwKG1tVVZE
X0xNSV9SQkNfSUJfVk1JRF9JTlRFUk5BTF9PRkZTRVQsIDApKTsKKwlhbWRncHVfcmluZ193cml0
ZShyaW5nLCBQQUNLRVQwKGFkZXYtPnZjbi5pbnRlcm5hbC5pYl92bWlkLCAwKSk7CiAJYW1kZ3B1
X3Jpbmdfd3JpdGUocmluZywgdm1pZCk7CiAKLQlhbWRncHVfcmluZ193cml0ZShyaW5nLAlQQUNL
RVQwKG1tVVZEX0xNSV9SQkNfSUJfNjRCSVRfQkFSX0xPV19JTlRFUk5BTF9PRkZTRVQsIDApKTsK
KwlhbWRncHVfcmluZ193cml0ZShyaW5nLAlQQUNLRVQwKGFkZXYtPnZjbi5pbnRlcm5hbC5pYl9i
YXJfbG93LCAwKSk7CiAJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgbG93ZXJfMzJfYml0cyhpYi0+
Z3B1X2FkZHIpKTsKLQlhbWRncHVfcmluZ193cml0ZShyaW5nLAlQQUNLRVQwKG1tVVZEX0xNSV9S
QkNfSUJfNjRCSVRfQkFSX0hJR0hfSU5URVJOQUxfT0ZGU0VULCAwKSk7CisJYW1kZ3B1X3Jpbmdf
d3JpdGUocmluZywJUEFDS0VUMChhZGV2LT52Y24uaW50ZXJuYWwuaWJfYmFyX2hpZ2gsIDApKTsK
IAlhbWRncHVfcmluZ193cml0ZShyaW5nLCB1cHBlcl8zMl9iaXRzKGliLT5ncHVfYWRkcikpOwot
CWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsCVBBQ0tFVDAobW1VVkRfUkJDX0lCX1NJWkVfSU5URVJO
QUxfT0ZGU0VULCAwKSk7CisJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywJUEFDS0VUMChhZGV2LT52
Y24uaW50ZXJuYWwuaWJfc2l6ZSwgMCkpOwogCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIGliLT5s
ZW5ndGhfZHcpOwogfQogCkBAIC0xNTg5LDE2ICsxNjAzLDE4IEBAIHN0YXRpYyB2b2lkIHZjbl92
Ml8wX2RlY19yaW5nX2VtaXRfcmVnX3dhaXQoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLAogCQkJ
CQkgICAgdWludDMyX3QgcmVnLCB1aW50MzJfdCB2YWwsCiAJCQkJCSAgICB1aW50MzJfdCBtYXNr
KQogewotCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIFBBQ0tFVDAobW1VVkRfR1BDT01fVkNQVV9E
QVRBMF9JTlRFUk5BTF9PRkZTRVQsIDApKTsKKwlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9
IHJpbmctPmFkZXY7CisKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLCBQQUNLRVQwKGFkZXYtPnZj
bi5pbnRlcm5hbC5kYXRhMCwgMCkpOwogCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIHJlZyA8PCAy
KTsKIAotCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIFBBQ0tFVDAobW1VVkRfR1BDT01fVkNQVV9E
QVRBMV9JTlRFUk5BTF9PRkZTRVQsIDApKTsKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLCBQQUNL
RVQwKGFkZXYtPnZjbi5pbnRlcm5hbC5kYXRhMSwgMCkpOwogCWFtZGdwdV9yaW5nX3dyaXRlKHJp
bmcsIHZhbCk7CiAKLQlhbWRncHVfcmluZ193cml0ZShyaW5nLCBQQUNLRVQwKG1tVVZEX0dQX1ND
UkFUQ0g4X0lOVEVSTkFMX09GRlNFVCwgMCkpOworCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIFBB
Q0tFVDAoYWRldi0+dmNuLmludGVybmFsLmdwX3NjcmF0Y2g4LCAwKSk7CiAJYW1kZ3B1X3Jpbmdf
d3JpdGUocmluZywgbWFzayk7CiAKLQlhbWRncHVfcmluZ193cml0ZShyaW5nLCBQQUNLRVQwKG1t
VVZEX0dQQ09NX1ZDUFVfQ01EX0lOVEVSTkFMX09GRlNFVCwgMCkpOworCWFtZGdwdV9yaW5nX3dy
aXRlKHJpbmcsIFBBQ0tFVDAoYWRldi0+dmNuLmludGVybmFsLmNtZCwgMCkpOwogCiAJYW1kZ3B1
X3Jpbmdfd3JpdGUocmluZywgVkNOX0RFQ19DTURfUkVHX1JFQURfQ09ORF9XQUlUIDw8IDEpOwog
fQpAQCAtMTYyMSwxMyArMTYzNywxNSBAQCBzdGF0aWMgdm9pZCB2Y25fdjJfMF9kZWNfcmluZ19l
bWl0X3ZtX2ZsdXNoKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywKIHN0YXRpYyB2b2lkIHZjbl92
Ml8wX2RlY19yaW5nX2VtaXRfd3JlZyhzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsCiAJCQkJCXVp
bnQzMl90IHJlZywgdWludDMyX3QgdmFsKQogewotCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIFBB
Q0tFVDAobW1VVkRfR1BDT01fVkNQVV9EQVRBMF9JTlRFUk5BTF9PRkZTRVQsIDApKTsKKwlzdHJ1
Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IHJpbmctPmFkZXY7CisKKwlhbWRncHVfcmluZ193cml0
ZShyaW5nLCBQQUNLRVQwKGFkZXYtPnZjbi5pbnRlcm5hbC5kYXRhMCwgMCkpOwogCWFtZGdwdV9y
aW5nX3dyaXRlKHJpbmcsIHJlZyA8PCAyKTsKIAotCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIFBB
Q0tFVDAobW1VVkRfR1BDT01fVkNQVV9EQVRBMV9JTlRFUk5BTF9PRkZTRVQsIDApKTsKKwlhbWRn
cHVfcmluZ193cml0ZShyaW5nLCBQQUNLRVQwKGFkZXYtPnZjbi5pbnRlcm5hbC5kYXRhMSwgMCkp
OwogCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIHZhbCk7CiAKLQlhbWRncHVfcmluZ193cml0ZShy
aW5nLCBQQUNLRVQwKG1tVVZEX0dQQ09NX1ZDUFVfQ01EX0lOVEVSTkFMX09GRlNFVCwgMCkpOwor
CWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIFBBQ0tFVDAoYWRldi0+dmNuLmludGVybmFsLmNtZCwg
MCkpOwogCiAJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgVkNOX0RFQ19DTURfV1JJVEVfUkVHIDw8
IDEpOwogfQotLSAKMi4yMC4xCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9w
Lm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1n
Zng=
