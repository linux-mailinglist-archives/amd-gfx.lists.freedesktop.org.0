Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 453EE1625FE
	for <lists+amd-gfx@lfdr.de>; Tue, 18 Feb 2020 13:20:01 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id BDA6E6E221;
	Tue, 18 Feb 2020 12:19:59 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM02-SN1-obe.outbound.protection.outlook.com
 (mail-eopbgr770048.outbound.protection.outlook.com [40.107.77.48])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C207B6E221
 for <amd-gfx@lists.freedesktop.org>; Tue, 18 Feb 2020 12:19:58 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=RJcwQkrQgnjk3ixx2CkOo70EUyLKcGlGFrsZCRN+joF6VBRoE2WaiK09uleBgwlnalfwICwn1OLtzMKL1KUcj5TScr6bKexVP7RvypzE9uLUDAejvPzldpx7x6cTRv9F9B3Dtkev0w2ahHbwLxCR8iDEpruf/4vjvgbHXownSBZjq/zEna4b3HCkZNU9T34eXAcdEbcEP9KXQD4Du7qpYo+LCByQd0b7rJqjXSb30AroYsWkcXHNvxjEErOzlVvKMrxYoRESI4kE+Sosw4hbM7J5JsLAsuUzRsd0I1skyeEDgIS0AggoJLUbg2SoqoF8fv9+xAJTd83R5cbPa2XdKw==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=xJGZyMiyiYO95v2us1eX0KCmQKchdExnkxg/oNDhTMw=;
 b=B2gonsb0pm2IpBfLqhs8SK7l9lI+QSDy7lZG3G61mmW/94PCHyUmVILjzdMac6BVM5LSXO5jNEnNW+9nZaS8SRNL45Pg0Ma9PrWhb8YU0XvHRUUhttAsRdRKlP104QoMwWamqAS8YVMuMzUpHOhrU0Bc0EI4Sd+NOP3RBcZWJ54qtOPK7uY7RrJEGWdHRyK178vTtd/SWnJVQLUm3xUugJCdOMmhb+yByu83alTgqDRuowawhIfSXdb6op/JOVHC+1PHYDVbVO8Wx76kq9urd3cKbyMU5AHGggJYwnFAuI0kx6CvPniII6Jgrha0YmHhfWjhxNAJTqXP8AeRjhBtkQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=xJGZyMiyiYO95v2us1eX0KCmQKchdExnkxg/oNDhTMw=;
 b=WmW6Icm7yTcRIJ0Ok8rPHCIyZD+C+/SkGG9bxDGUAiD/E/xvsDChKXxA7RRJOj/LRHlj3Z+L5OIEvZ2etH02rzkoz/27HyZBdCNpnfWYvDgaZNRA++hz+BUliTICaHzqxE5KEJHamHQL5CTjSz/CxutFaO6rHKZ2mGu/IkOqZ7M=
Received: from MN2PR12MB3933.namprd12.prod.outlook.com (10.255.236.82) by
 MN2PR12MB3424.namprd12.prod.outlook.com (20.178.243.27) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2729.25; Tue, 18 Feb 2020 12:19:56 +0000
Received: from MN2PR12MB3933.namprd12.prod.outlook.com
 ([fe80::a9e7:bb9a:b57f:d8e9]) by MN2PR12MB3933.namprd12.prod.outlook.com
 ([fe80::a9e7:bb9a:b57f:d8e9%5]) with mapi id 15.20.2729.028; Tue, 18 Feb 2020
 12:19:55 +0000
From: "Liu, Monk" <Monk.Liu@amd.com>
To: "Zhang, Hawking" <Hawking.Zhang@amd.com>, "amd-gfx@lists.freedesktop.org"
 <amd-gfx@lists.freedesktop.org>
Subject: =?gb2312?B?u9i4tDogW1BBVENIIDMvM10gZHJtL2FtZGdwdTogZml4IGNvbGxpZGluZyBv?=
 =?gb2312?Q?f_preemption?=
Thread-Topic: [PATCH 3/3] drm/amdgpu: fix colliding of preemption
Thread-Index: AQHV5ga7OM0WAZZyvUCj+DK+6PEWzqgg0gYAgAALdzA=
Date: Tue, 18 Feb 2020 12:19:55 +0000
Message-ID: <MN2PR12MB3933B19EBF6913ECC7CB0F9F84110@MN2PR12MB3933.namprd12.prod.outlook.com>
References: <1581994453-5498-1-git-send-email-Monk.Liu@amd.com>
 <1581994453-5498-3-git-send-email-Monk.Liu@amd.com>
 <DM5PR12MB1418C6AC8DAC7F035AC2DCEBFC110@DM5PR12MB1418.namprd12.prod.outlook.com>
In-Reply-To: <DM5PR12MB1418C6AC8DAC7F035AC2DCEBFC110@DM5PR12MB1418.namprd12.prod.outlook.com>
Accept-Language: en-US, zh-CN
Content-Language: zh-CN
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
msip_labels: MSIP_Label_76546daa-41b6-470c-bb85-f6f40f044d7f_Enabled=true;
 MSIP_Label_76546daa-41b6-470c-bb85-f6f40f044d7f_SetDate=2020-02-18T11:31:58Z; 
 MSIP_Label_76546daa-41b6-470c-bb85-f6f40f044d7f_Method=Standard;
 MSIP_Label_76546daa-41b6-470c-bb85-f6f40f044d7f_Name=Internal Use Only -
 Unrestricted;
 MSIP_Label_76546daa-41b6-470c-bb85-f6f40f044d7f_SiteId=3dd8961f-e488-4e60-8e11-a82d994e183d;
 MSIP_Label_76546daa-41b6-470c-bb85-f6f40f044d7f_ActionId=39b9d887-b8d7-489b-af40-000004217956;
 MSIP_Label_76546daa-41b6-470c-bb85-f6f40f044d7f_ContentBits=1
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=Monk.Liu@amd.com; 
x-originating-ip: [180.167.199.185]
x-ms-publictraffictype: Email
x-ms-office365-filtering-ht: Tenant
x-ms-office365-filtering-correlation-id: d1cd1806-89c1-4c0c-617c-08d7b46cdd52
x-ms-traffictypediagnostic: MN2PR12MB3424:|MN2PR12MB3424:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <MN2PR12MB34249A1A1D2A7A47F1FC58B184110@MN2PR12MB3424.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:10000;
x-forefront-prvs: 031763BCAF
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(136003)(376002)(39860400002)(346002)(396003)(366004)(189003)(199004)(53546011)(26005)(33656002)(81156014)(81166006)(86362001)(5660300002)(186003)(7696005)(224303003)(2906002)(110136005)(8936002)(66476007)(71200400001)(6506007)(966005)(478600001)(66556008)(9686003)(316002)(52536014)(66446008)(45080400002)(66946007)(55016002)(76116006)(64756008);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MN2PR12MB3424;
 H:MN2PR12MB3933.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: Xmkx8kAhT5jN2/XOjYOsZfcj5t0/ApklJa3yR3TLw1Bm5OntV1BFceKwHH5Ne1S/Chujhug362RgIyLhq0OvoCu9TRRui53IK0V9zOGPRjyArfVTPTHfR+boeY3TIKl4Cwr7KJKs6Wc8wvqr9CzsDmQhBLcmlisg9veLhEZ1AY242GjzjQDBZHil7A3H9YzElWL739BeHVFTXd7fgQ3PSzaANDSDEPgxirMMeZIFhEIrS64gm80zE7ceFFSmBXSnfCOkX5g8wX442Mi/OtwgIAVylFfAqDk2j0Ajby0CP08P6ZQ0OgoE1dsmMXBLWThM1YTvhgsTqsgda3ESpRIAWG7P3JiUv1Tg+gZ3gBTM4U8oUgIjuQXtWuRNWsn+v6o8vHXer3lz5HBBqoGR8FlUYisJPe+hihSGeiIF07j52NdJjjUjpUppOoN2uXbcNFkn+HQkODUSpxg9BqFY9AOlYRQzls3K5yJH/v+R2f6buhZ4+7RZA6w2S4Wu8eZ2vmICwe3fHLNXA3Uw8+1mioddeA==
x-ms-exchange-antispam-messagedata: /k9IofuxKC5+E1bDFt5Igu4B4X8+AxgHJO2AcSgJpyFDGEFNffwYTlEYfYonfA2omuqKRWyluyq9gUAWf06bLMTiyzyADar2ZjpEGheeKjL6iVeTA0z1glHFroUa9t75jePXzM0gj3RjpFUxz4dvtQ==
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: d1cd1806-89c1-4c0c-617c-08d7b46cdd52
X-MS-Exchange-CrossTenant-originalarrivaltime: 18 Feb 2020 12:19:55.7616 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: RAGfPfrIDqMIqDT/Oe8DlNGXJUBJAS2up/U6IyLhc6+6Z6SD4Mv+tZiWZn29b0Q9
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB3424
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="gb2312"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

SGkgSGF3a2luZw0KDQpUaGUgcHJvYmxlbSBpcyBhbWRncHVfbWNicCBvbmx5IGNvbnRyb2xzIE9T
IHByZWVtcHRpb24gZmVhdHVyZSwgYW5kIE9TIHByZWVtcHRpb24gY2Fubm90IGVuYWJsZWQgdG9n
ZXRoZXIgd2l0aCB3b3JsZCBzd2l0Y2ggTUNCUCANClRoYXQncyB3aHkgd2Ugc3RpbGwgbmVlZCB0
byBkaWZmZXJlbnRpYXRlIHRoZW0gc2VwYXJhdGVseQ0KDQpCZXNpZGVzLCB0aGVyZSBhcmUgc29t
ZSBsb2dpYyBoYW5kbGluZyBkaWZmZXJlbnQgYmV0d2VlbiB0aGVtLCB5b3UgY2FuIGNoZWNrIHRo
ZSBkZXRhaWxzIGluIG15IHBhdGNoOg0KDQpAQCAtNDUyMiw5ICs0NTIyLDkgQEAgc3RhdGljIHZv
aWQgZ2Z4X3YxMF8wX3JpbmdfZW1pdF9jbnR4Y250bChzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcs
DQogew0KICAgICAgICB1aW50MzJfdCBkdzIgPSAwOw0KDQotICAgICAgIGlmIChhbWRncHVfbWNi
cCkNCisgICAgICAgaWYgKGFtZGdwdV9tY2JwIHx8IGFtZGdwdV9zcmlvdl92ZihyaW5nLT5hZGV2
KSkNCiAgICAgICAgICAgICAgICBnZnhfdjEwXzBfcmluZ19lbWl0X2NlX21ldGEocmluZywNCi0g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYWdzICYgQU1ER1BVX0lCX1BSRUVN
UFRFRCA/IHRydWUgOiBmYWxzZSk7DQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAoIWFtZGdwdV9zcmlvdl92ZihyaW5nLT5hZGV2KSAmJiBmbGFncyAmIEFNREdQVV9JQl9QUkVF
TVBURUQpID8gdHJ1ZSA6IGZhbHNlKTsNCg0KDQoNCkBAIC00MzY5LDcgKzQzNjksNyBAQCBzdGF0
aWMgdm9pZCBnZnhfdjEwXzBfcmluZ19lbWl0X2liX2dmeChzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJp
bmcsDQoNCiAgICAgICAgICAgICAgICBpZiAoIShpYi0+ZmxhZ3MgJiBBTURHUFVfSUJfRkxBR19D
RSkpDQogICAgICAgICAgICAgICAgICAgICAgICBnZnhfdjEwXzBfcmluZ19lbWl0X2RlX21ldGEo
cmluZywNCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYWdzICYgQU1ER1BV
X0lCX1BSRUVNUFRFRCA/IHRydWUgOiBmYWxzZSk7DQorICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAoIWFtZGdwdV9zcmlvdl92ZihyaW5nLT5hZGV2KSAmJiBmbGFncyAmIEFNREdQ
VV9JQl9QUkVFTVBURUQpID8gdHJ1ZSA6IGZhbHNlKTsNCg0KDQoNCi0gICAgICAgaWYgKHZtaWQg
PT0gMCB8fCAhYW1kZ3B1X21jYnApDQorICAgICAgIC8qIGRvbid0IGVuYWJsZSBPUyBwcmVlbXB0
aW9uIG9uIFNETUEgdW5kZXIgU1JJT1YgKi8NCisgICAgICAgaWYgKGFtZGdwdV9zcmlvdl92Zihh
ZGV2KSB8fCB2bWlkID09IDAgfHwgIWFtZGdwdV9tY2JwKQ0KICAgICAgICAgICAgICAgIHJldHVy
biAwOw0KDQoNCnNlZSB0aGF0IGFib3ZlIHRocmVlIHBhcnQgbmVlZCBkaWZmZXJlbnQgaGFuZGxp
bmcgZm9yIE9TIHByZWVtcHRpb24gYW5kIHdvcmxkIHN3aXRjaCBwcmVlbXB0aW9uIA0KDQpCVFc6
IHRoZSBPUyBwcmVlbXB0aW9uIGltcGxlbWVudCBpbiBvdXIgZHJpdmVyIGlzIGFjdHVhbGx5IG5v
dCB0b28gcGVyZmVjdCB0byBtZSwgZS5nLjogdGhlIENTQSBidWZmZXIgaXMgc3RhdGljICh3aGlj
aCBpcyB3aGF0IFNSSU9WIHdhbnQpLCBhbmQgc3RhdGljIENTQSBidWZmZXIgY2Fubm90IGhhbmRs
ZSBkb3VibGUgcHJlZW1wdGlvbiBjYXNlIHNlcXVlbmNlIGxpa2UgOg0KTUNCUCBpbiBJQi1BIC0t
PiBydW4gSUItQiAtLT4gYW5kIE1DQlAgaW4gSUItQiwgc2luY2Ugd2UgYXJlIHVzaW5nIHN0YXRp
YyBDU0EsIHNvIHRoZSBNQ0JQIG9uIElCLUIgd2lsbCBvdmVyd3JpdGUgQ1NBIGNvbnRlbnQgd2hp
Y2ggaXMgbGVmdCBieSBNQ0JQIGluIElCLUEsIHNvIElCLUEgcmVzdW1lIHdpbGwgbm90IHdvcmsu
IEJ1dCBpdCBpcyBub3QgbXkgaW50ZXJlc3QgY3VycmVudGx5IHNvIEkgZGlkbqGvdCB0b3VjaCBP
UyBwcmVlbXB0aW9uIHBhdGgNCg0KdGhhbmtzICENCg0KDQotLS0tLdPKvP7Urbz+LS0tLS0NCrei
vP7IyzogWmhhbmcsIEhhd2tpbmcgPEhhd2tpbmcuWmhhbmdAYW1kLmNvbT4gDQq3osvNyrG85Dog
MjAyMMTqMtTCMTjI1SAxOTozMg0KytW8/sjLOiBMaXUsIE1vbmsgPE1vbmsuTGl1QGFtZC5jb20+
OyBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZw0Ks63LzTogTGl1LCBNb25rIDxNb25rLkxp
dUBhbWQuY29tPg0K1vfM4jogUkU6IFtQQVRDSCAzLzNdIGRybS9hbWRncHU6IGZpeCBjb2xsaWRp
bmcgb2YgcHJlZW1wdGlvbg0KDQpbQU1EIE9mZmljaWFsIFVzZSBPbmx5IC0gSW50ZXJuYWwgRGlz
dHJpYnV0aW9uIE9ubHldDQoNCkl0J3Mgc29tZSBraW5kIG9mIGFubm95aW5nIHRvIGNoZWNrIHZm
IGluIGV2ZXJ5IHBsYWNlIHRoYXQgaXMgcmVxdWlyZWQgZm9yIG1jYnAgdW50aWwgYW1kZ3B1X21j
YnAgaXMgZW5hYmxlZCBieSBkZWZhdWx0LiBXaGF0J3MgbW9yZSwgd2hlbiBhbWRncHVfbWNicCBp
cyBlbmFibGVkIGJ5IGRlZmF1bHQsIHRoZXJlIHdpbGwgYmUgbWFueSB1bm5lY2Vzc2FyeSB2ZiBj
aGVjayB0aGF0IGNhbiBiZSByZW1vdmVkIGFzIG1vc3Qgb2YgbWNicCBmdW5jdGlvbiBhY3R1YWxs
eSBjYW4gYmUgc2hhcmVkIGJldHdlZW4gd29ybGQgc3dpdGNoIHByZWVtcHRpb24gYW5kIG9zIHBy
ZWVtcHRpb24uDQoNCkknZCBwcmVmZXIgdG8gZW5hYmxlIGFtZGdwdV9tY2JwIGZvciBzcmlvdiBp
biBhbWRncHVfZGV2aWNlX2NoZWNrX2FyZ3VtZW50cyB0byByZWR1Y2UgdGhlIHZmIHNwZWNpZmlj
IGNoZWNrIGV2ZXJ5d2hlcmUuDQoNClJlZ2FyZHMsDQpIYXdraW5nDQoNCi0tLS0tT3JpZ2luYWwg
TWVzc2FnZS0tLS0tDQpGcm9tOiBhbWQtZ2Z4IDxhbWQtZ2Z4LWJvdW5jZXNAbGlzdHMuZnJlZWRl
c2t0b3Aub3JnPiBPbiBCZWhhbGYgT2YgTW9uayBMaXUNClNlbnQ6IFR1ZXNkYXksIEZlYnJ1YXJ5
IDE4LCAyMDIwIDEwOjU0DQpUbzogYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcNCkNjOiBM
aXUsIE1vbmsgPE1vbmsuTGl1QGFtZC5jb20+DQpTdWJqZWN0OiBbUEFUQ0ggMy8zXSBkcm0vYW1k
Z3B1OiBmaXggY29sbGlkaW5nIG9mIHByZWVtcHRpb24NCg0Kd2hhdDoNCnNvbWUgb3MgcHJlZW1w
dGlvbiBwYXRoIGlzIG1lc3NlZCB1cCB3aXRoIHdvcmxkIHN3aXRjaCBwcmVlbXB0aW9uDQoNCmZp
eDoNCmNsZWFudXAgdGhvc2UgbG9naWNzIHNvIG9zIHByZWVtcHRpb24gbm90IG1peGVkIHdpdGgg
d29ybGQgc3dpdGNoDQoNCnRoaXMgcGF0Y2ggaXMgYSBnZW5lcmFsIGZpeCBmb3IgaXNzdWVzIGNv
bWVzIGZyb20gU1JJT1YgTUNCUCwgYnV0IHRoZXJlIGlzIHN0aWxsIFVNRCBzaWRlIGlzc3VlcyBu
b3QgcmVzb3ZsdmVkIHlldCwgc28gdGhpcyBwYXRjaCBjYW5ub3QgZml4IGFsbCB3b3JsZCBzd2l0
Y2ggYnVnLg0KDQpTaWduZWQtb2ZmLWJ5OiBNb25rIExpdSA8TW9uay5MaXVAYW1kLmNvbT4NCi0t
LQ0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9zZG1hLmMgfCAzICsrLQ0KIGRy
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92MTBfMC5jICAgfCA4ICsrKystLS0tDQogMiBm
aWxlcyBjaGFuZ2VkLCA2IGluc2VydGlvbnMoKyksIDUgZGVsZXRpb25zKC0pDQoNCmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfc2RtYS5jIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3NkbWEuYw0KaW5kZXggYTJlZTMwYi4uNzg1NGMwNSAx
MDA2NDQNCi0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9zZG1hLmMNCisr
KyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9zZG1hLmMNCkBAIC03MCw3ICs3
MCw4IEBAIHVpbnQ2NF90IGFtZGdwdV9zZG1hX2dldF9jc2FfbWNfYWRkcihzdHJ1Y3QgYW1kZ3B1
X3JpbmcgKnJpbmcsDQogCXVpbnQzMl90IGluZGV4ID0gMDsNCiAJaW50IHI7DQogDQotCWlmICh2
bWlkID09IDAgfHwgIWFtZGdwdV9tY2JwKQ0KKwkvKiBkb24ndCBlbmFibGUgT1MgcHJlZW1wdGlv
biBvbiBTRE1BIHVuZGVyIFNSSU9WICovDQorCWlmIChhbWRncHVfc3Jpb3ZfdmYoYWRldikgfHwg
dm1pZCA9PSAwIHx8ICFhbWRncHVfbWNicCkNCiAJCXJldHVybiAwOw0KIA0KIAlyID0gYW1kZ3B1
X3NkbWFfZ2V0X2luZGV4X2Zyb21fcmluZyhyaW5nLCAmaW5kZXgpOyBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3YxMF8wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9nZnhfdjEwXzAuYw0KaW5kZXggNWU5ZmIwOS4uN2I2MTU4MyAxMDA2NDQNCi0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92MTBfMC5jDQorKysgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9nZnhfdjEwXzAuYw0KQEAgLTQ0MTMsNyArNDQxMyw3IEBAIHN0YXRp
YyB2b2lkIGdmeF92MTBfMF9yaW5nX2VtaXRfaWJfZ2Z4KHN0cnVjdCBhbWRncHVfcmluZyAqcmlu
ZywNCiANCiAJY29udHJvbCB8PSBpYi0+bGVuZ3RoX2R3IHwgKHZtaWQgPDwgMjQpOw0KIA0KLQlp
ZiAoYW1kZ3B1X21jYnAgJiYgKGliLT5mbGFncyAmIEFNREdQVV9JQl9GTEFHX1BSRUVNUFQpKSB7
DQorCWlmICgoYW1kZ3B1X3NyaW92X3ZmKHJpbmctPmFkZXYpIHx8IGFtZGdwdV9tY2JwKSAmJiAo
aWItPmZsYWdzICYgDQorQU1ER1BVX0lCX0ZMQUdfUFJFRU1QVCkpIHsNCiAJCWNvbnRyb2wgfD0g
SU5ESVJFQ1RfQlVGRkVSX1BSRV9FTkIoMSk7DQogDQogCQlpZiAoZmxhZ3MgJiBBTURHUFVfSUJf
UFJFRU1QVEVEKQ0KQEAgLTQ0MjEsNyArNDQyMSw3IEBAIHN0YXRpYyB2b2lkIGdmeF92MTBfMF9y
aW5nX2VtaXRfaWJfZ2Z4KHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywNCiANCiAJCWlmICghKGli
LT5mbGFncyAmIEFNREdQVV9JQl9GTEFHX0NFKSkNCiAJCQlnZnhfdjEwXzBfcmluZ19lbWl0X2Rl
X21ldGEocmluZywNCi0JCQkJICAgIGZsYWdzICYgQU1ER1BVX0lCX1BSRUVNUFRFRCA/IHRydWUg
OiBmYWxzZSk7DQorCQkJCSAgICAoIWFtZGdwdV9zcmlvdl92ZihyaW5nLT5hZGV2KSAmJiBmbGFn
cyAmIEFNREdQVV9JQl9QUkVFTVBURUQpID8gDQordHJ1ZSA6IGZhbHNlKTsNCiAJfQ0KIA0KIAlh
bWRncHVfcmluZ193cml0ZShyaW5nLCBoZWFkZXIpOw0KQEAgLTQ1NjksOSArNDU2OSw5IEBAIHN0
YXRpYyB2b2lkIGdmeF92MTBfMF9yaW5nX2VtaXRfY250eGNudGwoc3RydWN0IGFtZGdwdV9yaW5n
ICpyaW5nLCAgew0KIAl1aW50MzJfdCBkdzIgPSAwOw0KIA0KLQlpZiAoYW1kZ3B1X21jYnApDQor
CWlmIChhbWRncHVfbWNicCB8fCBhbWRncHVfc3Jpb3ZfdmYocmluZy0+YWRldikpDQogCQlnZnhf
djEwXzBfcmluZ19lbWl0X2NlX21ldGEocmluZywNCi0JCQkJICAgIGZsYWdzICYgQU1ER1BVX0lC
X1BSRUVNUFRFRCA/IHRydWUgOiBmYWxzZSk7DQorCQkJCSAgICAoIWFtZGdwdV9zcmlvdl92Zihy
aW5nLT5hZGV2KSAmJiBmbGFncyAmIEFNREdQVV9JQl9QUkVFTVBURUQpID8gDQordHJ1ZSA6IGZh
bHNlKTsNCiANCiAJZHcyIHw9IDB4ODAwMDAwMDA7IC8qIHNldCBsb2FkX2VuYWJsZSBvdGhlcndp
c2UgdGhpcyBwYWNrYWdlIGlzIGp1c3QgTk9QcyAqLw0KIAlpZiAoZmxhZ3MgJiBBTURHUFVfSEFW
RV9DVFhfU1dJVENIKSB7DQotLQ0KMi43LjQNCg0KX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18NCmFtZC1nZnggbWFpbGluZyBsaXN0DQphbWQtZ2Z4QGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZw0KaHR0cHM6Ly9uYW0xMS5zYWZlbGlua3MucHJvdGVjdGlvbi5vdXRs
b29rLmNvbS8/dXJsPWh0dHBzJTNBJTJGJTJGbGlzdHMuZnJlZWRlc2t0b3Aub3JnJTJGbWFpbG1h
biUyRmxpc3RpbmZvJTJGYW1kLWdmeCZhbXA7ZGF0YT0wMiU3QzAxJTdDaGF3a2luZy56aGFuZyU0
MGFtZC5jb20lN0M5MDNkYjUwNTA4MjU0NmQ3MDhmYjA4ZDdiNDFkZGYyNCU3QzNkZDg5NjFmZTQ4
ODRlNjA4ZTExYTgyZDk5NGUxODNkJTdDMCU3QzAlN0M2MzcxNzU5MTI3MDk0MjQzNTAmYW1wO3Nk
YXRhPTdacVFGUiUyQnFLRWJXbkpyZE52dmRKZ1Z1b0wxUklXVUFtOEtvWUFsNDkwZyUzRCZhbXA7
cmVzZXJ2ZWQ9MA0KX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X18KYW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0
cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4Cg==
