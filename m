Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id D477031DF50
	for <lists+amd-gfx@lfdr.de>; Wed, 17 Feb 2021 20:00:36 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id CCA816E1D8;
	Wed, 17 Feb 2021 19:00:33 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-ed1-x532.google.com (mail-ed1-x532.google.com
 [IPv6:2a00:1450:4864:20::532])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8199D6E1C0
 for <amd-gfx@lists.freedesktop.org>; Wed, 17 Feb 2021 19:00:32 +0000 (UTC)
Received: by mail-ed1-x532.google.com with SMTP id s11so17873545edd.5
 for <amd-gfx@lists.freedesktop.org>; Wed, 17 Feb 2021 11:00:32 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=qrAnJz0O0Kjxq5hitPxEVXbNkUB6KUGjoRoShssgR1k=;
 b=qf2XXpawsUwTy9BPdp6/2pJat/zEQXeV9njriwWpF0kHFhr7UKBl9m6N6Ov3516V17
 SbbUQx9Zq1n1gmiOJmkBXTBOmjeD6y9DFR9+GPRSkxDg298yFCzqEOCziOOrIVNrNf5a
 fZdFBNXPYMOR3P/KRfodZ5/glbcqVsWy3lWIb36SKbDH4fTHggAYQMoPwzVgXJcKq++v
 STxygUPGtRhCS5c66SWTcpYmGyXcUwfVEoHR7i40RYDgJNwW4PSfkPRV/a4jMznVpp7e
 5T1y0SKN1bG+j8vaeSLvoPScHGE+3iK3siio4RAMSuBwCS61ftW3ZqmYy6aEzOKpsiu/
 qVbg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=qrAnJz0O0Kjxq5hitPxEVXbNkUB6KUGjoRoShssgR1k=;
 b=sr29seaWd76cWlAfF7fHN8zYrozhq9RI2E+8hlWgxjTa11I+qQNATQyk3JuOCuKEYz
 9IvVPVpXLa3UdR3xZl6OKnegjeYa4Sl9TET5WVBqu3h4NOkef0cT1gbH+ubL6yD5I/6y
 KOwkbH+ibR/w+pegCIIQY8EkMVS69DodKLT9CSM40AMiEcCNBHbxyULv7ingIaXiRuKZ
 +d/LzsHXsQdkopMBa9QIDEc9jDnJ7Or8Je2mIhYGljDHxYj4mp93qgyWs/rYAoqaOMPC
 77343nP1hDxg70krPuq3yB2FRxsc/wgXPrwxFYOX7e93tLOqWB3Gbbq0ceB8M/j+Zrau
 bTog==
X-Gm-Message-State: AOAM5334XAeqIW77Z3MyfZjXPD/Ig9BWTXLk8l8DU5gDAB+/Xx0hfYDB
 09vZIvfJQyG9hANHEIIc662GmxhPUJGfyA==
X-Google-Smtp-Source: ABdhPJxm/W7+G1+ij7Y/TyNlbt094dyJefo08j0P97ryj39LxJKkqJ0thxMo87Ya1mM78D5viEZhfQ==
X-Received: by 2002:a05:6402:40c6:: with SMTP id
 z6mr272157edb.360.1613588431131; 
 Wed, 17 Feb 2021 11:00:31 -0800 (PST)
Received: from abel.fritz.box ([2a02:908:1252:fb60:b7c6:d2d7:631c:11b7])
 by smtp.gmail.com with ESMTPSA id r4sm1562710edv.27.2021.02.17.11.00.30
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Wed, 17 Feb 2021 11:00:30 -0800 (PST)
From: "=?UTF-8?q?Christian=20K=C3=B6nig?=" <ckoenig.leichtzumerken@gmail.com>
X-Google-Original-From: =?UTF-8?q?Christian=20K=C3=B6nig?=
 <christian.koenig@amd.com>
To: Ramesh.Errabolu@amd.com,
	amd-gfx@lists.freedesktop.org
Subject: [PATCH 2/8] drm/amdgpu: use the new cursor in
 amdgpu_ttm_copy_mem_to_mem
Date: Wed, 17 Feb 2021 20:00:22 +0100
Message-Id: <20210217190028.16409-2-christian.koenig@amd.com>
X-Mailer: git-send-email 2.25.1
In-Reply-To: <20210217190028.16409-1-christian.koenig@amd.com>
References: <20210217190028.16409-1-christian.koenig@amd.com>
MIME-Version: 1.0
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Arunpravin.PaneerSelvam@amd.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

U2VwYXJhdGUgdGhlIGRybV9tbV9ub2RlIHdhbGtpbmcgZnJvbSB0aGUgYWN0dWFsIGhhbmRsaW5n
LgoKU2lnbmVkLW9mZi1ieTogQ2hyaXN0aWFuIEvDtm5pZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQu
Y29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0uYyB8IDgzICsr
KysrKystLS0tLS0tLS0tLS0tLS0tLS0KIDEgZmlsZSBjaGFuZ2VkLCAyNCBpbnNlcnRpb25zKCsp
LCA1OSBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9hbWRncHVfdHRtLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdHRtLmMK
aW5kZXggN2IyZGI3NzlmMzEzLi45ZjFhZTYwYjdiYTggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90dG0uYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfdHRtLmMKQEAgLTU4LDYgKzU4LDcgQEAKICNpbmNsdWRlICJhbWRncHVfc2Rt
YS5oIgogI2luY2x1ZGUgImFtZGdwdV9yYXMuaCIKICNpbmNsdWRlICJhbWRncHVfYXRvbWZpcm13
YXJlLmgiCisjaW5jbHVkZSAiYW1kZ3B1X3Jlc19jdXJzb3IuaCIKICNpbmNsdWRlICJiaWYvYmlm
XzRfMV9kLmgiCiAKICNkZWZpbmUgQU1ER1BVX1RUTV9WUkFNX01BWF9EV19SRUFECShzaXplX3Qp
MTI4CkBAIC0yMzcsOSArMjM4LDggQEAgc3RhdGljIHN0cnVjdCBkcm1fbW1fbm9kZSAqYW1kZ3B1
X2ZpbmRfbW1fbm9kZShzdHJ1Y3QgdHRtX3Jlc291cmNlICptZW0sCiAgKiBhbWRncHVfdHRtX21h
cF9idWZmZXIgLSBNYXAgbWVtb3J5IGludG8gdGhlIEdBUlQgd2luZG93cwogICogQGJvOiBidWZm
ZXIgb2JqZWN0IHRvIG1hcAogICogQG1lbTogbWVtb3J5IG9iamVjdCB0byBtYXAKLSAqIEBtbV9u
b2RlOiBkcm1fbW0gbm9kZSBvYmplY3QgdG8gbWFwCisgKiBAbW1fY3VyOiByYW5nZSB0byBtYXAK
ICAqIEBudW1fcGFnZXM6IG51bWJlciBvZiBwYWdlcyB0byBtYXAKLSAqIEBvZmZzZXQ6IG9mZnNl
dCBpbnRvIEBtbV9ub2RlIHdoZXJlIHRvIHN0YXJ0CiAgKiBAd2luZG93OiB3aGljaCBHQVJUIHdp
bmRvdyB0byB1c2UKICAqIEByaW5nOiBETUEgcmluZyB0byB1c2UgZm9yIHRoZSBjb3B5CiAgKiBA
dG16OiBpZiB3ZSBzaG91bGQgc2V0dXAgYSBUTVogZW5hYmxlZCBtYXBwaW5nCkBAIC0yNTAsMTAg
KzI1MCwxMCBAQCBzdGF0aWMgc3RydWN0IGRybV9tbV9ub2RlICphbWRncHVfZmluZF9tbV9ub2Rl
KHN0cnVjdCB0dG1fcmVzb3VyY2UgKm1lbSwKICAqLwogc3RhdGljIGludCBhbWRncHVfdHRtX21h
cF9idWZmZXIoc3RydWN0IHR0bV9idWZmZXJfb2JqZWN0ICpibywKIAkJCQkgc3RydWN0IHR0bV9y
ZXNvdXJjZSAqbWVtLAotCQkJCSBzdHJ1Y3QgZHJtX21tX25vZGUgKm1tX25vZGUsCi0JCQkJIHVu
c2lnbmVkIG51bV9wYWdlcywgdWludDY0X3Qgb2Zmc2V0LAotCQkJCSB1bnNpZ25lZCB3aW5kb3cs
IHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywKLQkJCQkgYm9vbCB0bXosIHVpbnQ2NF90ICphZGRy
KQorCQkJCSBzdHJ1Y3QgYW1kZ3B1X3Jlc19jdXJzb3IgKm1tX2N1ciwKKwkJCQkgdW5zaWduZWQg
bnVtX3BhZ2VzLCB1bnNpZ25lZCB3aW5kb3csCisJCQkJIHN0cnVjdCBhbWRncHVfcmluZyAqcmlu
ZywgYm9vbCB0bXosCisJCQkJIHVpbnQ2NF90ICphZGRyKQogewogCXN0cnVjdCBhbWRncHVfZGV2
aWNlICphZGV2ID0gcmluZy0+YWRldjsKIAlzdHJ1Y3QgYW1kZ3B1X2pvYiAqam9iOwpAQCAtMjcw
LDE0ICsyNzAsMTUgQEAgc3RhdGljIGludCBhbWRncHVfdHRtX21hcF9idWZmZXIoc3RydWN0IHR0
bV9idWZmZXJfb2JqZWN0ICpibywKIAogCS8qIE1hcCBvbmx5IHdoYXQgY2FuJ3QgYmUgYWNjZXNz
ZWQgZGlyZWN0bHkgKi8KIAlpZiAoIXRteiAmJiBtZW0tPnN0YXJ0ICE9IEFNREdQVV9CT19JTlZB
TElEX09GRlNFVCkgewotCQkqYWRkciA9IGFtZGdwdV9tbV9ub2RlX2FkZHIoYm8sIG1tX25vZGUs
IG1lbSkgKyBvZmZzZXQ7CisJCSphZGRyID0gYW1kZ3B1X3R0bV9kb21haW5fc3RhcnQoYWRldiwg
bWVtLT5tZW1fdHlwZSkgKworCQkJbW1fY3VyLT5zdGFydDsKIAkJcmV0dXJuIDA7CiAJfQogCiAJ
KmFkZHIgPSBhZGV2LT5nbWMuZ2FydF9zdGFydDsKIAkqYWRkciArPSAodTY0KXdpbmRvdyAqIEFN
REdQVV9HVFRfTUFYX1RSQU5TRkVSX1NJWkUgKgogCQlBTURHUFVfR1BVX1BBR0VfU0laRTsKLQkq
YWRkciArPSBvZmZzZXQgJiB+UEFHRV9NQVNLOworCSphZGRyICs9IG1tX2N1ci0+c3RhcnQgJiB+
UEFHRV9NQVNLOwogCiAJbnVtX2R3ID0gQUxJR04oYWRldi0+bW1hbi5idWZmZXJfZnVuY3MtPmNv
cHlfbnVtX2R3LCA4KTsKIAludW1fYnl0ZXMgPSBudW1fcGFnZXMgKiA4OwpAQCAtMzA5LDcgKzMx
MCw3IEBAIHN0YXRpYyBpbnQgYW1kZ3B1X3R0bV9tYXBfYnVmZmVyKHN0cnVjdCB0dG1fYnVmZmVy
X29iamVjdCAqYm8sCiAJCWRtYV9hZGRyX3QgKmRtYV9hZGRyZXNzOwogCiAJCWRtYSA9IGNvbnRh
aW5lcl9vZihiby0+dHRtLCBzdHJ1Y3QgdHRtX2RtYV90dCwgdHRtKTsKLQkJZG1hX2FkZHJlc3Mg
PSAmZG1hLT5kbWFfYWRkcmVzc1tvZmZzZXQgPj4gUEFHRV9TSElGVF07CisJCWRtYV9hZGRyZXNz
ID0gJmRtYS0+ZG1hX2FkZHJlc3NbbW1fY3VyLT5zdGFydCA+PiBQQUdFX1NISUZUXTsKIAkJciA9
IGFtZGdwdV9nYXJ0X21hcChhZGV2LCAwLCBudW1fcGFnZXMsIGRtYV9hZGRyZXNzLCBmbGFncywK
IAkJCQkgICAgY3B1X2FkZHIpOwogCQlpZiAocikKQEAgLTMxNyw3ICszMTgsNyBAQCBzdGF0aWMg
aW50IGFtZGdwdV90dG1fbWFwX2J1ZmZlcihzdHJ1Y3QgdHRtX2J1ZmZlcl9vYmplY3QgKmJvLAog
CX0gZWxzZSB7CiAJCWRtYV9hZGRyX3QgZG1hX2FkZHJlc3M7CiAKLQkJZG1hX2FkZHJlc3MgPSAo
bW1fbm9kZS0+c3RhcnQgPDwgUEFHRV9TSElGVCkgKyBvZmZzZXQ7CisJCWRtYV9hZGRyZXNzID0g
bW1fY3VyLT5zdGFydDsKIAkJZG1hX2FkZHJlc3MgKz0gYWRldi0+dm1fbWFuYWdlci52cmFtX2Jh
c2Vfb2Zmc2V0OwogCiAJCWZvciAoaSA9IDA7IGkgPCBudW1fcGFnZXM7ICsraSkgewpAQCAtMzY5
LDkgKzM3MCw4IEBAIGludCBhbWRncHVfdHRtX2NvcHlfbWVtX3RvX21lbShzdHJ1Y3QgYW1kZ3B1
X2RldmljZSAqYWRldiwKIAljb25zdCB1aW50MzJfdCBHVFRfTUFYX0JZVEVTID0gKEFNREdQVV9H
VFRfTUFYX1RSQU5TRkVSX1NJWkUgKgogCQkJCQlBTURHUFVfR1BVX1BBR0VfU0laRSk7CiAKLQl1
aW50NjRfdCBzcmNfbm9kZV9zaXplLCBkc3Rfbm9kZV9zaXplLCBzcmNfb2Zmc2V0LCBkc3Rfb2Zm
c2V0OwogCXN0cnVjdCBhbWRncHVfcmluZyAqcmluZyA9IGFkZXYtPm1tYW4uYnVmZmVyX2Z1bmNz
X3Jpbmc7Ci0Jc3RydWN0IGRybV9tbV9ub2RlICpzcmNfbW0sICpkc3RfbW07CisJc3RydWN0IGFt
ZGdwdV9yZXNfY3Vyc29yIHNyY19tbSwgZHN0X21tOwogCXN0cnVjdCBkbWFfZmVuY2UgKmZlbmNl
ID0gTlVMTDsKIAlpbnQgciA9IDA7CiAKQEAgLTM4MCwyOSArMzgwLDEzIEBAIGludCBhbWRncHVf
dHRtX2NvcHlfbWVtX3RvX21lbShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKIAkJcmV0dXJu
IC1FSU5WQUw7CiAJfQogCi0Jc3JjX29mZnNldCA9IHNyYy0+b2Zmc2V0OwotCWlmIChzcmMtPm1l
bS0+bW1fbm9kZSkgewotCQlzcmNfbW0gPSBhbWRncHVfZmluZF9tbV9ub2RlKHNyYy0+bWVtLCAm
c3JjX29mZnNldCk7Ci0JCXNyY19ub2RlX3NpemUgPSAoc3JjX21tLT5zaXplIDw8IFBBR0VfU0hJ
RlQpIC0gc3JjX29mZnNldDsKLQl9IGVsc2UgewotCQlzcmNfbW0gPSBOVUxMOwotCQlzcmNfbm9k
ZV9zaXplID0gVUxMT05HX01BWDsKLQl9Ci0KLQlkc3Rfb2Zmc2V0ID0gZHN0LT5vZmZzZXQ7Ci0J
aWYgKGRzdC0+bWVtLT5tbV9ub2RlKSB7Ci0JCWRzdF9tbSA9IGFtZGdwdV9maW5kX21tX25vZGUo
ZHN0LT5tZW0sICZkc3Rfb2Zmc2V0KTsKLQkJZHN0X25vZGVfc2l6ZSA9IChkc3RfbW0tPnNpemUg
PDwgUEFHRV9TSElGVCkgLSBkc3Rfb2Zmc2V0OwotCX0gZWxzZSB7Ci0JCWRzdF9tbSA9IE5VTEw7
Ci0JCWRzdF9ub2RlX3NpemUgPSBVTExPTkdfTUFYOwotCX0KKwlhbWRncHVfcmVzX2ZpcnN0KHNy
Yy0+bWVtLCBzcmMtPm9mZnNldCwgc2l6ZSwgJnNyY19tbSk7CisJYW1kZ3B1X3Jlc19maXJzdChk
c3QtPm1lbSwgZHN0LT5vZmZzZXQsIHNpemUsICZkc3RfbW0pOwogCiAJbXV0ZXhfbG9jaygmYWRl
di0+bW1hbi5ndHRfd2luZG93X2xvY2spOwotCi0Jd2hpbGUgKHNpemUpIHsKLQkJdWludDMyX3Qg
c3JjX3BhZ2Vfb2Zmc2V0ID0gc3JjX29mZnNldCAmIH5QQUdFX01BU0s7Ci0JCXVpbnQzMl90IGRz
dF9wYWdlX29mZnNldCA9IGRzdF9vZmZzZXQgJiB+UEFHRV9NQVNLOworCXdoaWxlIChzcmNfbW0u
cmVtYWluaW5nKSB7CisJCXVpbnQzMl90IHNyY19wYWdlX29mZnNldCA9IHNyY19tbS5zdGFydCAm
IH5QQUdFX01BU0s7CisJCXVpbnQzMl90IGRzdF9wYWdlX29mZnNldCA9IGRzdF9tbS5zdGFydCAm
IH5QQUdFX01BU0s7CiAJCXN0cnVjdCBkbWFfZmVuY2UgKm5leHQ7CiAJCXVpbnQzMl90IGN1cl9z
aXplOwogCQl1aW50NjRfdCBmcm9tLCB0bzsKQEAgLTQxMSwxOSArMzk1LDE5IEBAIGludCBhbWRn
cHVfdHRtX2NvcHlfbWVtX3RvX21lbShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKIAkJICog
YmVnaW5zIGF0IGFuIG9mZnNldCwgdGhlbiBhZGp1c3QgdGhlIHNpemUgYWNjb3JkaW5nbHkKIAkJ
ICovCiAJCWN1cl9zaXplID0gbWF4KHNyY19wYWdlX29mZnNldCwgZHN0X3BhZ2Vfb2Zmc2V0KTsK
LQkJY3VyX3NpemUgPSBtaW4obWluMyhzcmNfbm9kZV9zaXplLCBkc3Rfbm9kZV9zaXplLCBzaXpl
KSwKKwkJY3VyX3NpemUgPSBtaW4obWluMyhzcmNfbW0uc2l6ZSwgZHN0X21tLnNpemUsIHNpemUp
LAogCQkJICAgICAgICh1aW50NjRfdCkoR1RUX01BWF9CWVRFUyAtIGN1cl9zaXplKSk7CiAKIAkJ
LyogTWFwIHNyYyB0byB3aW5kb3cgMCBhbmQgZHN0IHRvIHdpbmRvdyAxLiAqLwotCQlyID0gYW1k
Z3B1X3R0bV9tYXBfYnVmZmVyKHNyYy0+Ym8sIHNyYy0+bWVtLCBzcmNfbW0sCisJCXIgPSBhbWRn
cHVfdHRtX21hcF9idWZmZXIoc3JjLT5ibywgc3JjLT5tZW0sICZzcmNfbW0sCiAJCQkJCSAgUEZO
X1VQKGN1cl9zaXplICsgc3JjX3BhZ2Vfb2Zmc2V0KSwKLQkJCQkJICBzcmNfb2Zmc2V0LCAwLCBy
aW5nLCB0bXosICZmcm9tKTsKKwkJCQkJICAwLCByaW5nLCB0bXosICZmcm9tKTsKIAkJaWYgKHIp
CiAJCQlnb3RvIGVycm9yOwogCi0JCXIgPSBhbWRncHVfdHRtX21hcF9idWZmZXIoZHN0LT5ibywg
ZHN0LT5tZW0sIGRzdF9tbSwKKwkJciA9IGFtZGdwdV90dG1fbWFwX2J1ZmZlcihkc3QtPmJvLCBk
c3QtPm1lbSwgJmRzdF9tbSwKIAkJCQkJICBQRk5fVVAoY3VyX3NpemUgKyBkc3RfcGFnZV9vZmZz
ZXQpLAotCQkJCQkgIGRzdF9vZmZzZXQsIDEsIHJpbmcsIHRteiwgJnRvKTsKKwkJCQkJICAxLCBy
aW5nLCB0bXosICZ0byk7CiAJCWlmIChyKQogCQkJZ290byBlcnJvcjsKIApAQCAtNDM1LDI3ICs0
MTksOCBAQCBpbnQgYW1kZ3B1X3R0bV9jb3B5X21lbV90b19tZW0oc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYsCiAJCWRtYV9mZW5jZV9wdXQoZmVuY2UpOwogCQlmZW5jZSA9IG5leHQ7CiAKLQkJ
c2l6ZSAtPSBjdXJfc2l6ZTsKLQkJaWYgKCFzaXplKQotCQkJYnJlYWs7Ci0KLQkJc3JjX25vZGVf
c2l6ZSAtPSBjdXJfc2l6ZTsKLQkJaWYgKCFzcmNfbm9kZV9zaXplKSB7Ci0JCQkrK3NyY19tbTsK
LQkJCXNyY19ub2RlX3NpemUgPSBzcmNfbW0tPnNpemUgPDwgUEFHRV9TSElGVDsKLQkJCXNyY19v
ZmZzZXQgPSAwOwotCQl9IGVsc2UgewotCQkJc3JjX29mZnNldCArPSBjdXJfc2l6ZTsKLQkJfQot
Ci0JCWRzdF9ub2RlX3NpemUgLT0gY3VyX3NpemU7Ci0JCWlmICghZHN0X25vZGVfc2l6ZSkgewot
CQkJKytkc3RfbW07Ci0JCQlkc3Rfbm9kZV9zaXplID0gZHN0X21tLT5zaXplIDw8IFBBR0VfU0hJ
RlQ7Ci0JCQlkc3Rfb2Zmc2V0ID0gMDsKLQkJfSBlbHNlIHsKLQkJCWRzdF9vZmZzZXQgKz0gY3Vy
X3NpemU7Ci0JCX0KKwkJYW1kZ3B1X3Jlc19uZXh0KCZzcmNfbW0sIGN1cl9zaXplKTsKKwkJYW1k
Z3B1X3Jlc19uZXh0KCZkc3RfbW0sIGN1cl9zaXplKTsKIAl9CiBlcnJvcjoKIAltdXRleF91bmxv
Y2soJmFkZXYtPm1tYW4uZ3R0X3dpbmRvd19sb2NrKTsKLS0gCjIuMjUuMQoKX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxpc3QK
YW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5v
cmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4Cg==
