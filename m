Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id C3C8C69DB7
	for <lists+amd-gfx@lfdr.de>; Mon, 15 Jul 2019 23:21:43 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0EF6389C19;
	Mon, 15 Jul 2019 21:21:42 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM05-DM3-obe.outbound.protection.outlook.com
 (mail-eopbgr730049.outbound.protection.outlook.com [40.107.73.49])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 4FFB589C37
 for <amd-gfx@lists.freedesktop.org>; Mon, 15 Jul 2019 21:21:38 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=Vngyq6bLoZ11hto3NX1sij9En8d3iR7AGTa5iGy5nssYVIPNzpvnz75EXD7joM49JPvWb0n3U7GfRf/PQZkMXCLrwBvPpiBGjnleao7bAD2UnjOnamC/2u8lsYdKSq/P9uT+re18Naexc7ajGM5b1euWCu1pYt9Wc3RuacNZuuy3gzIYLhvbAFi7rZmrrx+xYN0Ena+/Bsn4sczCOFkz/FAkMmpaf8EsWvEFwddUdzTZXeG6vf0RiCIH+fzSjprU3DlupxROBH4BM+6tiqUsLYZsIz13/NdXHOC22uEk5TSC10Ck8vpJyqP1KUF3KNpDZq6HG0AASV6L1sIYbnpgsA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=7kJcFa6Cn8RjJEXhYf+XZE8Bq7QdpZmTZ7SvtscAuRc=;
 b=Yy9hkPQZIQgHwzMM0cP3KHjpl+2p2CTMdyjmouha3OrrM6l5Fi42fVzRYMex27hOimf0zSveIc5b9zmZHJLsun158JnM70yNj2/5V7ySYj/KwNQvtd7FsLFJ8+pOqS1l2lGsoNJiWnQ7RA7vh9fiB3CFge/PAnVXHBFI/YCLOnJqcjqt8Z+gre/xm2OhKdH7/MxDKOG1hiF/cFsQ43GUNWsWIc+lprlaqzShWlOU2ObEAZ4pBX9lbSBimki0RuI+61tv28lw+6nU15rELl7qlkyQd5+Z5107t+RDO+aTYIaeFWDwJcgwNIaYrtvgw6RJOVbHq5E6dokjz/eWamIPeA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1;spf=none (sender ip is
 165.204.84.17) smtp.rcpttodomain=lists.freedesktop.org
 smtp.mailfrom=amd.com;dmarc=permerror action=none
 header.from=amd.com;dkim=none (message not signed);arc=none
Received: from DM5PR12CA0004.namprd12.prod.outlook.com (2603:10b6:4:1::14) by
 MWHPR12MB1933.namprd12.prod.outlook.com (2603:10b6:300:10b::22) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2073.14; Mon, 15 Jul
 2019 21:21:36 +0000
Received: from CO1NAM03FT028.eop-NAM03.prod.protection.outlook.com
 (2a01:111:f400:7e48::206) by DM5PR12CA0004.outlook.office365.com
 (2603:10b6:4:1::14) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384) id 15.20.2073.10 via Frontend
 Transport; Mon, 15 Jul 2019 21:21:35 +0000
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
Received: from SATLEXCHOV01.amd.com (165.204.84.17) by
 CO1NAM03FT028.mail.protection.outlook.com (10.152.80.189) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384) id
 15.20.2052.18 via Frontend Transport; Mon, 15 Jul 2019 21:21:35 +0000
Received: from localhost.localdomain (10.180.168.240) by SATLEXCHOV01.amd.com
 (10.181.40.71) with Microsoft SMTP Server id 14.3.389.1;
 Mon, 15 Jul 2019 16:21:22 -0500
From: <sunpeng.li@amd.com>
To: <amd-gfx@lists.freedesktop.org>
Subject: [PATCH 34/87] drm/amd/display: Fix some HUBP programming issues
Date: Mon, 15 Jul 2019 17:19:56 -0400
Message-ID: <20190715212049.4584-35-sunpeng.li@amd.com>
X-Mailer: git-send-email 2.22.0
In-Reply-To: <20190715212049.4584-1-sunpeng.li@amd.com>
References: <20190715212049.4584-1-sunpeng.li@amd.com>
MIME-Version: 1.0
X-EOPAttributedMessage: 0
X-MS-Office365-Filtering-HT: Tenant
X-Forefront-Antispam-Report: CIP:165.204.84.17; IPV:NLI; CTRY:US; EFV:NLI;
 SFV:NSPM;
 SFS:(10009020)(4636009)(39860400002)(136003)(376002)(396003)(346002)(2980300002)(428003)(189003)(199004)(53936002)(426003)(5660300002)(36756003)(54906003)(4326008)(486006)(336012)(68736007)(186003)(2616005)(476003)(76176011)(49486002)(446003)(316002)(26005)(11346002)(50226002)(126002)(70206006)(70586007)(30864003)(1076003)(2351001)(2906002)(6666004)(48376002)(50466002)(356004)(51416003)(86362001)(2876002)(47776003)(6916009)(478600001)(305945005)(81166006)(8936002)(81156014)(8676002)(2870700001)(14444005);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MWHPR12MB1933; H:SATLEXCHOV01.amd.com; FPR:;
 SPF:None; LANG:en; PTR:InfoDomainNonexistent; MX:1; A:1; 
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-Correlation-Id: 47723d9c-3064-4fb4-4593-08d7096a6aa8
X-Microsoft-Antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(2017052603328);
 SRVR:MWHPR12MB1933; 
X-MS-TrafficTypeDiagnostic: MWHPR12MB1933:
X-Microsoft-Antispam-PRVS: <MWHPR12MB1933B874EDA265B2F36C02BF82CF0@MWHPR12MB1933.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:6430;
X-Forefront-PRVS: 00997889E7
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam-Message-Info: MeiKBH806jEDFtaZfFmQDWKKsNeP/GkVSzS9ErWFhwNuGDb4ynDkUjlmqqNeLWhnuqXHwYkFh7h+dks3gt9zSGerZPuhEhLpeJZxF7oYhrgjjDzWbfw6VIODpKul/dOxHQ9FHfhIGsriOpX7tQGZeR6aKSLxmlfXt4cP6YSG6yx9S1LsVEmWtzTcPmCA7s648/4wT07zjLRnN02bRJUPLNFEAtu5ebhdfZMjo7v88gA1lpK5GZMZC4LVqjdebM3Iv9Y3VG12aOKu/XQf3iF1kgqIxTI1hd4K0g1bwSD0JEYQ21FJZDSv7aXdWNREOTM7EnZuZbSPqH0r9eLXzAaziphadkeN2M+C+lROP0OBVYHtvH4D1HHB1Bo6dn3p53DjtCab9yRq9fZHYRRK9TXDWai+A9Zn1RhyfdYUXryShio=
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 15 Jul 2019 21:21:35.4899 (UTC)
X-MS-Exchange-CrossTenant-Network-Message-Id: 47723d9c-3064-4fb4-4593-08d7096a6aa8
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-OriginalAttributedTenantConnectingIp: TenantId=3dd8961f-e488-4e60-8e11-a82d994e183d; Ip=[165.204.84.17];
 Helo=[SATLEXCHOV01.amd.com]
X-MS-Exchange-CrossTenant-FromEntityHeader: HybridOnPrem
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MWHPR12MB1933
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=7kJcFa6Cn8RjJEXhYf+XZE8Bq7QdpZmTZ7SvtscAuRc=;
 b=rA3+X1X2OTG5X407kcxX5hYPU0Qc42CMgFCHDHu6NRXcKsKQYiXaRjIfpWL43kynpF1pHUlhOLVvNEO9sLot9EvAX63+9k6zELO8kLAQS5RChsoe9ZX2jSd0wdHzhgbikWkGh63MjPSYuxUHAhG/9sGIsKr0hUY1UfWq3Hign3M=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is
 165.204.84.17)
 smtp.mailfrom=amd.com; lists.freedesktop.org; dkim=none (message not signed)
 header.d=none;lists.freedesktop.org; dmarc=permerror action=none
 header.from=amd.com;
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Ilya Bakoulin <Ilya.Bakoulin@amd.com>, Charlene Liu <Charlene.Liu@amd.com>,
 Leo Li <sunpeng.li@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogSWx5YSBCYWtvdWxpbiA8SWx5YS5CYWtvdWxpbkBhbWQuY29tPgoKW1doeV0KQSBodWJw
IHBvaW50ZXIgd2FzIGJlaW5nIHBhc3NlZCB0byBEQ04xIGZ1bmN0aW9ucywgd2hpY2gKZXhwZWN0
IHRoZSBlbmNsb3Npbmcgc3RydWN0dXJlIChmb3IgdGhlIHB1cnBvc2Ugb2YgY29udGFpbmVyX29m
IG1hY3JvcykKdG8gYmUgZGNuMTBfaHVicCwgYnV0IHRoZSBhY3R1YWwgdHlwZSB3YXMgZGNuMjBf
aHVicC4KCltIb3ddCkNvcHkgZXhpc3RpbmcgRENOMSBmdW5jdGlvbnMgYW5kIGFsdGVyIHRoZW0g
c2xpZ2h0bHkgZm9yIHVzZSB3aXRoCmRjbjIwX2h1YnAuCgpTaWduZWQtb2ZmLWJ5OiBJbHlhIEJh
a291bGluIDxJbHlhLkJha291bGluQGFtZC5jb20+ClJldmlld2VkLWJ5OiBDaGFybGVuZSBMaXUg
PENoYXJsZW5lLkxpdUBhbWQuY29tPgpBY2tlZC1ieTogTGVvIExpIDxzdW5wZW5nLmxpQGFtZC5j
b20+Ci0tLQogLi4uL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjAvZGNuMjBfaHVicC5jIHwg
NjgyICsrKysrKysrKysrKysrKysrLQogLi4uL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjAv
ZGNuMjBfaHVicC5oIHwgIDM3ICsKIDIgZmlsZXMgY2hhbmdlZCwgNzA1IGluc2VydGlvbnMoKyks
IDE0IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxh
eS9kYy9kY24yMC9kY24yMF9odWJwLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMv
ZGNuMjAvZGNuMjBfaHVicC5jCmluZGV4IGQzZjdkZDM3NGQ1MC4uMDJlOGMwYzZhMjMzIDEwMDY0
NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjAvZGNuMjBfaHVicC5j
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24yMC9kY24yMF9odWJwLmMK
QEAgLTE1Niw3ICsxNTYsODUgQEAgdm9pZCBodWJwMl9wcm9ncmFtX2RlYWRsaW5lKAogewogCXN0
cnVjdCBkY24yMF9odWJwICpodWJwMiA9IFRPX0RDTjIwX0hVQlAoaHVicCk7CiAKLQlodWJwMV9w
cm9ncmFtX2RlYWRsaW5lKGh1YnAsIGRsZ19hdHRyLCB0dHVfYXR0cik7CisJLyogRExHIC0gUGVy
IGh1YnAgKi8KKwlSRUdfU0VUXzIoQkxBTktfT0ZGU0VUXzAsIDAsCisJCVJFRkNZQ19IX0JMQU5L
X0VORCwgZGxnX2F0dHItPnJlZmN5Y19oX2JsYW5rX2VuZCwKKwkJRExHX1ZfQkxBTktfRU5ELCBk
bGdfYXR0ci0+ZGxnX3ZibGFua19lbmQpOworCisJUkVHX1NFVChCTEFOS19PRkZTRVRfMSwgMCwK
KwkJTUlOX0RTVF9ZX05FWFRfU1RBUlQsIGRsZ19hdHRyLT5taW5fZHN0X3lfbmV4dF9zdGFydCk7
CisKKwlSRUdfU0VUKERTVF9ESU1FTlNJT05TLCAwLAorCQlSRUZDWUNfUEVSX0hUT1RBTCwgZGxn
X2F0dHItPnJlZmN5Y19wZXJfaHRvdGFsKTsKKworCVJFR19TRVRfMihEU1RfQUZURVJfU0NBTEVS
LCAwLAorCQlSRUZDWUNfWF9BRlRFUl9TQ0FMRVIsIGRsZ19hdHRyLT5yZWZjeWNfeF9hZnRlcl9z
Y2FsZXIsCisJCURTVF9ZX0FGVEVSX1NDQUxFUiwgZGxnX2F0dHItPmRzdF95X2FmdGVyX3NjYWxl
cik7CisKKwlSRUdfU0VUKFJFRl9GUkVRX1RPX1BJWF9GUkVRLCAwLAorCQlSRUZfRlJFUV9UT19Q
SVhfRlJFUSwgZGxnX2F0dHItPnJlZl9mcmVxX3RvX3BpeF9mcmVxKTsKKworCS8qIERMRyAtIFBl
ciBsdW1hL2Nocm9tYSAqLworCVJFR19TRVQoVkJMQU5LX1BBUkFNRVRFUlNfMSwgMCwKKwkJUkVG
Q1lDX1BFUl9QVEVfR1JPVVBfVkJMQU5LX0wsIGRsZ19hdHRyLT5yZWZjeWNfcGVyX3B0ZV9ncm91
cF92YmxhbmtfbCk7CisKKwlpZiAoUkVHKE5PTV9QQVJBTUVURVJTXzApKQorCQlSRUdfU0VUKE5P
TV9QQVJBTUVURVJTXzAsIDAsCisJCQlEU1RfWV9QRVJfUFRFX1JPV19OT01fTCwgZGxnX2F0dHIt
PmRzdF95X3Blcl9wdGVfcm93X25vbV9sKTsKKworCWlmIChSRUcoTk9NX1BBUkFNRVRFUlNfMSkp
CisJCVJFR19TRVQoTk9NX1BBUkFNRVRFUlNfMSwgMCwKKwkJCVJFRkNZQ19QRVJfUFRFX0dST1VQ
X05PTV9MLCBkbGdfYXR0ci0+cmVmY3ljX3Blcl9wdGVfZ3JvdXBfbm9tX2wpOworCisJUkVHX1NF
VChOT01fUEFSQU1FVEVSU180LCAwLAorCQlEU1RfWV9QRVJfTUVUQV9ST1dfTk9NX0wsIGRsZ19h
dHRyLT5kc3RfeV9wZXJfbWV0YV9yb3dfbm9tX2wpOworCisJUkVHX1NFVChOT01fUEFSQU1FVEVS
U181LCAwLAorCQlSRUZDWUNfUEVSX01FVEFfQ0hVTktfTk9NX0wsIGRsZ19hdHRyLT5yZWZjeWNf
cGVyX21ldGFfY2h1bmtfbm9tX2wpOworCisJUkVHX1NFVF8yKFBFUl9MSU5FX0RFTElWRVJZLCAw
LAorCQlSRUZDWUNfUEVSX0xJTkVfREVMSVZFUllfTCwgZGxnX2F0dHItPnJlZmN5Y19wZXJfbGlu
ZV9kZWxpdmVyeV9sLAorCQlSRUZDWUNfUEVSX0xJTkVfREVMSVZFUllfQywgZGxnX2F0dHItPnJl
ZmN5Y19wZXJfbGluZV9kZWxpdmVyeV9jKTsKKworCVJFR19TRVQoVkJMQU5LX1BBUkFNRVRFUlNf
MiwgMCwKKwkJUkVGQ1lDX1BFUl9QVEVfR1JPVVBfVkJMQU5LX0MsIGRsZ19hdHRyLT5yZWZjeWNf
cGVyX3B0ZV9ncm91cF92YmxhbmtfYyk7CisKKwlpZiAoUkVHKE5PTV9QQVJBTUVURVJTXzIpKQor
CQlSRUdfU0VUKE5PTV9QQVJBTUVURVJTXzIsIDAsCisJCQlEU1RfWV9QRVJfUFRFX1JPV19OT01f
QywgZGxnX2F0dHItPmRzdF95X3Blcl9wdGVfcm93X25vbV9jKTsKKworCWlmIChSRUcoTk9NX1BB
UkFNRVRFUlNfMykpCisJCVJFR19TRVQoTk9NX1BBUkFNRVRFUlNfMywgMCwKKwkJCVJFRkNZQ19Q
RVJfUFRFX0dST1VQX05PTV9DLCBkbGdfYXR0ci0+cmVmY3ljX3Blcl9wdGVfZ3JvdXBfbm9tX2Mp
OworCisJUkVHX1NFVChOT01fUEFSQU1FVEVSU182LCAwLAorCQlEU1RfWV9QRVJfTUVUQV9ST1df
Tk9NX0MsIGRsZ19hdHRyLT5kc3RfeV9wZXJfbWV0YV9yb3dfbm9tX2MpOworCisJUkVHX1NFVChO
T01fUEFSQU1FVEVSU183LCAwLAorCQlSRUZDWUNfUEVSX01FVEFfQ0hVTktfTk9NX0MsIGRsZ19h
dHRyLT5yZWZjeWNfcGVyX21ldGFfY2h1bmtfbm9tX2MpOworCisJLyogVFRVIC0gcGVyIGh1YnAg
Ki8KKwlSRUdfU0VUXzIoRENOX1RUVV9RT1NfV00sIDAsCisJCVFvU19MRVZFTF9MT1dfV00sIHR0
dV9hdHRyLT5xb3NfbGV2ZWxfbG93X3dtLAorCQlRb1NfTEVWRUxfSElHSF9XTSwgdHR1X2F0dHIt
PnFvc19sZXZlbF9oaWdoX3dtKTsKKworCS8qIFRUVSAtIHBlciBsdW1hL2Nocm9tYSAqLworCS8q
IEFzc3VtZWQgc3VyZjAgaXMgbHVtYSBhbmQgMSBpcyBjaHJvbWEgKi8KKworCVJFR19TRVRfMyhE
Q05fU1VSRjBfVFRVX0NOVEwwLCAwLAorCQlSRUZDWUNfUEVSX1JFUV9ERUxJVkVSWSwgdHR1X2F0
dHItPnJlZmN5Y19wZXJfcmVxX2RlbGl2ZXJ5X2wsCisJCVFvU19MRVZFTF9GSVhFRCwgdHR1X2F0
dHItPnFvc19sZXZlbF9maXhlZF9sLAorCQlRb1NfUkFNUF9ESVNBQkxFLCB0dHVfYXR0ci0+cW9z
X3JhbXBfZGlzYWJsZV9sKTsKKworCVJFR19TRVRfMyhEQ05fU1VSRjFfVFRVX0NOVEwwLCAwLAor
CQlSRUZDWUNfUEVSX1JFUV9ERUxJVkVSWSwgdHR1X2F0dHItPnJlZmN5Y19wZXJfcmVxX2RlbGl2
ZXJ5X2MsCisJCVFvU19MRVZFTF9GSVhFRCwgdHR1X2F0dHItPnFvc19sZXZlbF9maXhlZF9jLAor
CQlRb1NfUkFNUF9ESVNBQkxFLCB0dHVfYXR0ci0+cW9zX3JhbXBfZGlzYWJsZV9jKTsKKworCVJF
R19TRVRfMyhEQ05fQ1VSMF9UVFVfQ05UTDAsIDAsCisJCVJFRkNZQ19QRVJfUkVRX0RFTElWRVJZ
LCB0dHVfYXR0ci0+cmVmY3ljX3Blcl9yZXFfZGVsaXZlcnlfY3VyMCwKKwkJUW9TX0xFVkVMX0ZJ
WEVELCB0dHVfYXR0ci0+cW9zX2xldmVsX2ZpeGVkX2N1cjAsCisJCVFvU19SQU1QX0RJU0FCTEUs
IHR0dV9hdHRyLT5xb3NfcmFtcF9kaXNhYmxlX2N1cjApOwogCiAJUkVHX1NFVChGTElQX1BBUkFN
RVRFUlNfMSwgMCwKIAkJUkVGQ1lDX1BFUl9QVEVfR1JPVVBfRkxJUF9MLCBkbGdfYXR0ci0+cmVm
Y3ljX3Blcl9wdGVfZ3JvdXBfZmxpcF9sKTsKQEAgLTE4NCw2ICsyNjIsMzkgQEAgdm9pZCBodWJw
Ml92cmVhZHlfYXRfb3JfQWZ0ZXJfdnN5bmMoc3RydWN0IGh1YnAgKmh1YnAsCiAJUkVHX1VQREFU
RShEQ0hVQlBfQ05UTCwgSFVCUF9WUkVBRFlfQVRfT1JfQUZURVJfVlNZTkMsIHZhbHVlKTsKIH0K
IAordm9pZCBodWJwMl9wcm9ncmFtX3JlcXVlc3RvcigKKwkJc3RydWN0IGh1YnAgKmh1YnAsCisJ
CXN0cnVjdCBfdmNzX2RwaV9kaXNwbGF5X3JxX3JlZ3Nfc3QgKnJxX3JlZ3MpCit7CisJc3RydWN0
IGRjbjIwX2h1YnAgKmh1YnAyID0gVE9fRENOMjBfSFVCUChodWJwKTsKKworCVJFR19VUERBVEUo
SFVCUFJFVF9DT05UUk9MLAorCQkJREVUX0JVRl9QTEFORTFfQkFTRV9BRERSRVNTLCBycV9yZWdz
LT5wbGFuZTFfYmFzZV9hZGRyZXNzKTsKKwlSRUdfU0VUXzQoRENOX0VYUEFOU0lPTl9NT0RFLCAw
LAorCQkJRFJRX0VYUEFOU0lPTl9NT0RFLCBycV9yZWdzLT5kcnFfZXhwYW5zaW9uX21vZGUsCisJ
CQlQUlFfRVhQQU5TSU9OX01PREUsIHJxX3JlZ3MtPnBycV9leHBhbnNpb25fbW9kZSwKKwkJCU1S
UV9FWFBBTlNJT05fTU9ERSwgcnFfcmVncy0+bXJxX2V4cGFuc2lvbl9tb2RlLAorCQkJQ1JRX0VY
UEFOU0lPTl9NT0RFLCBycV9yZWdzLT5jcnFfZXhwYW5zaW9uX21vZGUpOworCVJFR19TRVRfOChE
Q0hVQlBfUkVRX1NJWkVfQ09ORklHLCAwLAorCQlDSFVOS19TSVpFLCBycV9yZWdzLT5ycV9yZWdz
X2wuY2h1bmtfc2l6ZSwKKwkJTUlOX0NIVU5LX1NJWkUsIHJxX3JlZ3MtPnJxX3JlZ3NfbC5taW5f
Y2h1bmtfc2l6ZSwKKwkJTUVUQV9DSFVOS19TSVpFLCBycV9yZWdzLT5ycV9yZWdzX2wubWV0YV9j
aHVua19zaXplLAorCQlNSU5fTUVUQV9DSFVOS19TSVpFLCBycV9yZWdzLT5ycV9yZWdzX2wubWlu
X21ldGFfY2h1bmtfc2l6ZSwKKwkJRFBURV9HUk9VUF9TSVpFLCBycV9yZWdzLT5ycV9yZWdzX2wu
ZHB0ZV9ncm91cF9zaXplLAorCQlNUFRFX0dST1VQX1NJWkUsIHJxX3JlZ3MtPnJxX3JlZ3NfbC5t
cHRlX2dyb3VwX3NpemUsCisJCVNXQVRIX0hFSUdIVCwgcnFfcmVncy0+cnFfcmVnc19sLnN3YXRo
X2hlaWdodCwKKwkJUFRFX1JPV19IRUlHSFRfTElORUFSLCBycV9yZWdzLT5ycV9yZWdzX2wucHRl
X3Jvd19oZWlnaHRfbGluZWFyKTsKKwlSRUdfU0VUXzgoRENIVUJQX1JFUV9TSVpFX0NPTkZJR19D
LCAwLAorCQlDSFVOS19TSVpFX0MsIHJxX3JlZ3MtPnJxX3JlZ3NfYy5jaHVua19zaXplLAorCQlN
SU5fQ0hVTktfU0laRV9DLCBycV9yZWdzLT5ycV9yZWdzX2MubWluX2NodW5rX3NpemUsCisJCU1F
VEFfQ0hVTktfU0laRV9DLCBycV9yZWdzLT5ycV9yZWdzX2MubWV0YV9jaHVua19zaXplLAorCQlN
SU5fTUVUQV9DSFVOS19TSVpFX0MsIHJxX3JlZ3MtPnJxX3JlZ3NfYy5taW5fbWV0YV9jaHVua19z
aXplLAorCQlEUFRFX0dST1VQX1NJWkVfQywgcnFfcmVncy0+cnFfcmVnc19jLmRwdGVfZ3JvdXBf
c2l6ZSwKKwkJTVBURV9HUk9VUF9TSVpFX0MsIHJxX3JlZ3MtPnJxX3JlZ3NfYy5tcHRlX2dyb3Vw
X3NpemUsCisJCVNXQVRIX0hFSUdIVF9DLCBycV9yZWdzLT5ycV9yZWdzX2Muc3dhdGhfaGVpZ2h0
LAorCQlQVEVfUk9XX0hFSUdIVF9MSU5FQVJfQywgcnFfcmVncy0+cnFfcmVnc19jLnB0ZV9yb3df
aGVpZ2h0X2xpbmVhcik7Cit9CisKIHN0YXRpYyB2b2lkIGh1YnAyX3NldHVwKAogCQlzdHJ1Y3Qg
aHVicCAqaHVicCwKIAkJc3RydWN0IF92Y3NfZHBpX2Rpc3BsYXlfZGxnX3JlZ3Nfc3QgKmRsZ19h
dHRyLApAQCAtMTk2LDcgKzMwNyw3IEBAIHN0YXRpYyB2b2lkIGh1YnAyX3NldHVwKAogCSAqLwog
CiAJaHVicDJfdnJlYWR5X2F0X29yX0FmdGVyX3ZzeW5jKGh1YnAsIHBpcGVfZGVzdCk7Ci0JaHVi
cDFfcHJvZ3JhbV9yZXF1ZXN0b3IoaHVicCwgcnFfcmVncyk7CisJaHVicDJfcHJvZ3JhbV9yZXF1
ZXN0b3IoaHVicCwgcnFfcmVncyk7CiAJaHVicDJfcHJvZ3JhbV9kZWFkbGluZShodWJwLCBkbGdf
YXR0ciwgdHR1X2F0dHIpOwogCiB9CkBAIC0yODMsNiArMzk0LDE5NiBAQCBzdGF0aWMgdm9pZCBo
dWJwMl9wcm9ncmFtX3RpbGluZygKIAkJCVBJUEVfQUxJR05FRCwgMCk7CiB9CiAKK3ZvaWQgaHVi
cDJfcHJvZ3JhbV9zaXplKAorCXN0cnVjdCBodWJwICpodWJwLAorCWVudW0gc3VyZmFjZV9waXhl
bF9mb3JtYXQgZm9ybWF0LAorCWNvbnN0IHVuaW9uIHBsYW5lX3NpemUgKnBsYW5lX3NpemUsCisJ
c3RydWN0IGRjX3BsYW5lX2RjY19wYXJhbSAqZGNjKQoreworCXN0cnVjdCBkY24yMF9odWJwICpo
dWJwMiA9IFRPX0RDTjIwX0hVQlAoaHVicCk7CisJdWludDMyX3QgcGl0Y2gsIG1ldGFfcGl0Y2gs
IHBpdGNoX2MsIG1ldGFfcGl0Y2hfYzsKKworCS8qIFByb2dyYW0gZGF0YSBhbmQgbWV0YSBzdXJm
YWNlIHBpdGNoIChjYWxjdWxhdGlvbiBmcm9tIGFkZHJsaWIpCisJICogNDQ0IG9yIDQyMCBsdW1h
CisJICovCisJaWYgKGZvcm1hdCA+PSBTVVJGQUNFX1BJWEVMX0ZPUk1BVF9WSURFT19CRUdJTiAm
JiBmb3JtYXQgPCBTVVJGQUNFX1BJWEVMX0ZPUk1BVF9TVUJTQU1QTEVfRU5EKSB7CisJCUFTU0VS
VChwbGFuZV9zaXplLT52aWRlby5jaHJvbWFfcGl0Y2ggIT0gMCk7CisJCS8qIENocm9tYSBwaXRj
aCB6ZXJvIGNhbiBjYXVzZSBzeXN0ZW0gaGFuZyEgKi8KKworCQlwaXRjaCA9IHBsYW5lX3NpemUt
PnZpZGVvLmx1bWFfcGl0Y2ggLSAxOworCQltZXRhX3BpdGNoID0gZGNjLT52aWRlby5tZXRhX3Bp
dGNoX2wgLSAxOworCQlwaXRjaF9jID0gcGxhbmVfc2l6ZS0+dmlkZW8uY2hyb21hX3BpdGNoIC0g
MTsKKwkJbWV0YV9waXRjaF9jID0gZGNjLT52aWRlby5tZXRhX3BpdGNoX2MgLSAxOworCX0gZWxz
ZSB7CisJCXBpdGNoID0gcGxhbmVfc2l6ZS0+Z3JwaC5zdXJmYWNlX3BpdGNoIC0gMTsKKwkJbWV0
YV9waXRjaCA9IGRjYy0+Z3JwaC5tZXRhX3BpdGNoIC0gMTsKKwkJcGl0Y2hfYyA9IDA7CisJCW1l
dGFfcGl0Y2hfYyA9IDA7CisJfQorCisJaWYgKCFkY2MtPmVuYWJsZSkgeworCQltZXRhX3BpdGNo
ID0gMDsKKwkJbWV0YV9waXRjaF9jID0gMDsKKwl9CisKKwlSRUdfVVBEQVRFXzIoRENTVVJGX1NV
UkZBQ0VfUElUQ0gsCisJCQlQSVRDSCwgcGl0Y2gsIE1FVEFfUElUQ0gsIG1ldGFfcGl0Y2gpOwor
CisJaWYgKGZvcm1hdCA+PSBTVVJGQUNFX1BJWEVMX0ZPUk1BVF9WSURFT19CRUdJTikKKwkJUkVH
X1VQREFURV8yKERDU1VSRl9TVVJGQUNFX1BJVENIX0MsCisJCQlQSVRDSF9DLCBwaXRjaF9jLCBN
RVRBX1BJVENIX0MsIG1ldGFfcGl0Y2hfYyk7Cit9CisKK3ZvaWQgaHVicDJfcHJvZ3JhbV9yb3Rh
dGlvbigKKwlzdHJ1Y3QgaHVicCAqaHVicCwKKwllbnVtIGRjX3JvdGF0aW9uX2FuZ2xlIHJvdGF0
aW9uLAorCWJvb2wgaG9yaXpvbnRhbF9taXJyb3IpCit7CisJc3RydWN0IGRjbjIwX2h1YnAgKmh1
YnAyID0gVE9fRENOMjBfSFVCUChodWJwKTsKKwl1aW50MzJfdCBtaXJyb3I7CisKKworCWlmICho
b3Jpem9udGFsX21pcnJvcikKKwkJbWlycm9yID0gMTsKKwllbHNlCisJCW1pcnJvciA9IDA7CisK
KwkvKiBQcm9ncmFtIHJvdGF0aW9uIGFuZ2xlIGFuZCBob3J6IG1pcnJvciAtIG5vIG1pcnJvciAq
LworCWlmIChyb3RhdGlvbiA9PSBST1RBVElPTl9BTkdMRV8wKQorCQlSRUdfVVBEQVRFXzIoRENT
VVJGX1NVUkZBQ0VfQ09ORklHLAorCQkJCVJPVEFUSU9OX0FOR0xFLCAwLAorCQkJCUhfTUlSUk9S
X0VOLCBtaXJyb3IpOworCWVsc2UgaWYgKHJvdGF0aW9uID09IFJPVEFUSU9OX0FOR0xFXzkwKQor
CQlSRUdfVVBEQVRFXzIoRENTVVJGX1NVUkZBQ0VfQ09ORklHLAorCQkJCVJPVEFUSU9OX0FOR0xF
LCAxLAorCQkJCUhfTUlSUk9SX0VOLCBtaXJyb3IpOworCWVsc2UgaWYgKHJvdGF0aW9uID09IFJP
VEFUSU9OX0FOR0xFXzE4MCkKKwkJUkVHX1VQREFURV8yKERDU1VSRl9TVVJGQUNFX0NPTkZJRywK
KwkJCQlST1RBVElPTl9BTkdMRSwgMiwKKwkJCQlIX01JUlJPUl9FTiwgbWlycm9yKTsKKwllbHNl
IGlmIChyb3RhdGlvbiA9PSBST1RBVElPTl9BTkdMRV8yNzApCisJCVJFR19VUERBVEVfMihEQ1NV
UkZfU1VSRkFDRV9DT05GSUcsCisJCQkJUk9UQVRJT05fQU5HTEUsIDMsCisJCQkJSF9NSVJST1Jf
RU4sIG1pcnJvcik7Cit9CisKK3ZvaWQgaHVicDJfZGNjX2NvbnRyb2woc3RydWN0IGh1YnAgKmh1
YnAsIGJvb2wgZW5hYmxlLAorCQlib29sIGluZGVwZW5kZW50XzY0Yl9ibGtzKQoreworCXVpbnQz
Ml90IGRjY19lbiA9IGVuYWJsZSA/IDEgOiAwOworCXVpbnQzMl90IGRjY19pbmRfNjRiX2JsayA9
IGluZGVwZW5kZW50XzY0Yl9ibGtzID8gMSA6IDA7CisJc3RydWN0IGRjbjIwX2h1YnAgKmh1YnAy
ID0gVE9fRENOMjBfSFVCUChodWJwKTsKKworCVJFR19VUERBVEVfNChEQ1NVUkZfU1VSRkFDRV9D
T05UUk9MLAorCQkJUFJJTUFSWV9TVVJGQUNFX0RDQ19FTiwgZGNjX2VuLAorCQkJUFJJTUFSWV9T
VVJGQUNFX0RDQ19JTkRfNjRCX0JMSywgZGNjX2luZF82NGJfYmxrLAorCQkJU0VDT05EQVJZX1NV
UkZBQ0VfRENDX0VOLCBkY2NfZW4sCisJCQlTRUNPTkRBUllfU1VSRkFDRV9EQ0NfSU5EXzY0Ql9C
TEssIGRjY19pbmRfNjRiX2Jsayk7Cit9CisKK3ZvaWQgaHVicDJfcHJvZ3JhbV9waXhlbF9mb3Jt
YXQoCisJc3RydWN0IGh1YnAgKmh1YnAsCisJZW51bSBzdXJmYWNlX3BpeGVsX2Zvcm1hdCBmb3Jt
YXQpCit7CisJc3RydWN0IGRjbjIwX2h1YnAgKmh1YnAyID0gVE9fRENOMjBfSFVCUChodWJwKTsK
Kwl1aW50MzJfdCByZWRfYmFyID0gMzsKKwl1aW50MzJfdCBibHVlX2JhciA9IDI7CisKKwkvKiBz
d2FwIGZvciBBQkdSIGZvcm1hdCAqLworCWlmIChmb3JtYXQgPT0gU1VSRkFDRV9QSVhFTF9GT1JN
QVRfR1JQSF9BQkdSODg4OAorCQkJfHwgZm9ybWF0ID09IFNVUkZBQ0VfUElYRUxfRk9STUFUX0dS
UEhfQUJHUjIxMDEwMTAKKwkJCXx8IGZvcm1hdCA9PSBTVVJGQUNFX1BJWEVMX0ZPUk1BVF9HUlBI
X0FCR1IyMTAxMDEwX1hSX0JJQVMKKwkJCXx8IGZvcm1hdCA9PSBTVVJGQUNFX1BJWEVMX0ZPUk1B
VF9HUlBIX0FCR1IxNjE2MTYxNkYpIHsKKwkJcmVkX2JhciA9IDI7CisJCWJsdWVfYmFyID0gMzsK
Kwl9CisKKwlSRUdfVVBEQVRFXzIoSFVCUFJFVF9DT05UUk9MLAorCQkJQ1JPU1NCQVJfU1JDX0NC
X0IsIGJsdWVfYmFyLAorCQkJQ1JPU1NCQVJfU1JDX0NSX1IsIHJlZF9iYXIpOworCisJLyogTWFw
cGluZyBpcyBzYW1lIGFzIGlwcCBwcm9ncmFtbWluZyAoY252YykgKi8KKworCXN3aXRjaCAoZm9y
bWF0KQl7CisJY2FzZSBTVVJGQUNFX1BJWEVMX0ZPUk1BVF9HUlBIX0FSR0IxNTU1OgorCQlSRUdf
VVBEQVRFKERDU1VSRl9TVVJGQUNFX0NPTkZJRywKKwkJCQlTVVJGQUNFX1BJWEVMX0ZPUk1BVCwg
MSk7CisJCWJyZWFrOworCWNhc2UgU1VSRkFDRV9QSVhFTF9GT1JNQVRfR1JQSF9SR0I1NjU6CisJ
CVJFR19VUERBVEUoRENTVVJGX1NVUkZBQ0VfQ09ORklHLAorCQkJCVNVUkZBQ0VfUElYRUxfRk9S
TUFULCAzKTsKKwkJYnJlYWs7CisJY2FzZSBTVVJGQUNFX1BJWEVMX0ZPUk1BVF9HUlBIX0FSR0I4
ODg4OgorCWNhc2UgU1VSRkFDRV9QSVhFTF9GT1JNQVRfR1JQSF9BQkdSODg4ODoKKwkJUkVHX1VQ
REFURShEQ1NVUkZfU1VSRkFDRV9DT05GSUcsCisJCQkJU1VSRkFDRV9QSVhFTF9GT1JNQVQsIDgp
OworCQlicmVhazsKKwljYXNlIFNVUkZBQ0VfUElYRUxfRk9STUFUX0dSUEhfQVJHQjIxMDEwMTA6
CisJY2FzZSBTVVJGQUNFX1BJWEVMX0ZPUk1BVF9HUlBIX0FCR1IyMTAxMDEwOgorCWNhc2UgU1VS
RkFDRV9QSVhFTF9GT1JNQVRfR1JQSF9BQkdSMjEwMTAxMF9YUl9CSUFTOgorCQlSRUdfVVBEQVRF
KERDU1VSRl9TVVJGQUNFX0NPTkZJRywKKwkJCQlTVVJGQUNFX1BJWEVMX0ZPUk1BVCwgMTApOwor
CQlicmVhazsKKwljYXNlIFNVUkZBQ0VfUElYRUxfRk9STUFUX0dSUEhfQVJHQjE2MTYxNjE2Ogor
CQlSRUdfVVBEQVRFKERDU1VSRl9TVVJGQUNFX0NPTkZJRywKKwkJCQlTVVJGQUNFX1BJWEVMX0ZP
Uk1BVCwgMjIpOworCQlicmVhazsKKwljYXNlIFNVUkZBQ0VfUElYRUxfRk9STUFUX0dSUEhfQVJH
QjE2MTYxNjE2RjoKKwljYXNlIFNVUkZBQ0VfUElYRUxfRk9STUFUX0dSUEhfQUJHUjE2MTYxNjE2
RjovKndlIHVzZSBjcm9zc2JhciBhbHJlYWR5Ki8KKwkJUkVHX1VQREFURShEQ1NVUkZfU1VSRkFD
RV9DT05GSUcsCisJCQkJU1VSRkFDRV9QSVhFTF9GT1JNQVQsIDI0KTsKKwkJYnJlYWs7CisKKwlj
YXNlIFNVUkZBQ0VfUElYRUxfRk9STUFUX1ZJREVPXzQyMF9ZQ2JDcjoKKwkJUkVHX1VQREFURShE
Q1NVUkZfU1VSRkFDRV9DT05GSUcsCisJCQkJU1VSRkFDRV9QSVhFTF9GT1JNQVQsIDY1KTsKKwkJ
YnJlYWs7CisJY2FzZSBTVVJGQUNFX1BJWEVMX0ZPUk1BVF9WSURFT180MjBfWUNyQ2I6CisJCVJF
R19VUERBVEUoRENTVVJGX1NVUkZBQ0VfQ09ORklHLAorCQkJCVNVUkZBQ0VfUElYRUxfRk9STUFU
LCA2NCk7CisJCWJyZWFrOworCWNhc2UgU1VSRkFDRV9QSVhFTF9GT1JNQVRfVklERU9fNDIwXzEw
YnBjX1lDYkNyOgorCQlSRUdfVVBEQVRFKERDU1VSRl9TVVJGQUNFX0NPTkZJRywKKwkJCQlTVVJG
QUNFX1BJWEVMX0ZPUk1BVCwgNjcpOworCQlicmVhazsKKwljYXNlIFNVUkZBQ0VfUElYRUxfRk9S
TUFUX1ZJREVPXzQyMF8xMGJwY19ZQ3JDYjoKKwkJUkVHX1VQREFURShEQ1NVUkZfU1VSRkFDRV9D
T05GSUcsCisJCQkJU1VSRkFDRV9QSVhFTF9GT1JNQVQsIDY2KTsKKwkJYnJlYWs7CisJY2FzZSBT
VVJGQUNFX1BJWEVMX0ZPUk1BVF9WSURFT19BWUNyQ2I4ODg4OgorCQlSRUdfVVBEQVRFKERDU1VS
Rl9TVVJGQUNFX0NPTkZJRywKKwkJCQlTVVJGQUNFX1BJWEVMX0ZPUk1BVCwgMTIpOworCQlicmVh
azsKKyNpZiBkZWZpbmVkKENPTkZJR19EUk1fQU1EX0RDX0RDTjJfMCkKKwljYXNlIFNVUkZBQ0Vf
UElYRUxfRk9STUFUX0dSUEhfUkdCMTExMTEwX0ZJWDoKKwkJUkVHX1VQREFURShEQ1NVUkZfU1VS
RkFDRV9DT05GSUcsCisJCQkJU1VSRkFDRV9QSVhFTF9GT1JNQVQsIDExMik7CisJCWJyZWFrOwor
CWNhc2UgU1VSRkFDRV9QSVhFTF9GT1JNQVRfR1JQSF9CR1IxMDExMTFfRklYOgorCQlSRUdfVVBE
QVRFKERDU1VSRl9TVVJGQUNFX0NPTkZJRywKKwkJCQlTVVJGQUNFX1BJWEVMX0ZPUk1BVCwgMTEz
KTsKKwkJYnJlYWs7CisJY2FzZSBTVVJGQUNFX1BJWEVMX0ZPUk1BVF9WSURFT19BQ3JZQ2IyMTAx
MDEwOgorCQlSRUdfVVBEQVRFKERDU1VSRl9TVVJGQUNFX0NPTkZJRywKKwkJCQlTVVJGQUNFX1BJ
WEVMX0ZPUk1BVCwgMTE0KTsKKwkJYnJlYWs7CisJY2FzZSBTVVJGQUNFX1BJWEVMX0ZPUk1BVF9H
UlBIX1JHQjExMTExMF9GTE9BVDoKKwkJUkVHX1VQREFURShEQ1NVUkZfU1VSRkFDRV9DT05GSUcs
CisJCQkJU1VSRkFDRV9QSVhFTF9GT1JNQVQsIDExOCk7CisJCWJyZWFrOworCWNhc2UgU1VSRkFD
RV9QSVhFTF9GT1JNQVRfR1JQSF9CR1IxMDExMTFfRkxPQVQ6CisJCVJFR19VUERBVEUoRENTVVJG
X1NVUkZBQ0VfQ09ORklHLAorCQkJCVNVUkZBQ0VfUElYRUxfRk9STUFULCAxMTkpOworCQlicmVh
azsKKyNlbmRpZgorCWRlZmF1bHQ6CisJCUJSRUFLX1RPX0RFQlVHR0VSKCk7CisJCWJyZWFrOwor
CX0KKworCS8qIGRvbid0IHNlZSB0aGUgbmVlZCBvZiBwcm9ncmFtIHRoZSB4YmFyIGluIERDTiAx
LjAgKi8KK30KKwogdm9pZCBodWJwMl9wcm9ncmFtX3N1cmZhY2VfY29uZmlnKAogCXN0cnVjdCBo
dWJwICpodWJwLAogCWVudW0gc3VyZmFjZV9waXhlbF9mb3JtYXQgZm9ybWF0LApAQCAtMjk1LDEx
ICs1OTYsMTEgQEAgdm9pZCBodWJwMl9wcm9ncmFtX3N1cmZhY2VfY29uZmlnKAogewogCXN0cnVj
dCBkY24yMF9odWJwICpodWJwMiA9IFRPX0RDTjIwX0hVQlAoaHVicCk7CiAKLQlodWJwMV9kY2Nf
Y29udHJvbChodWJwLCBkY2MtPmVuYWJsZSwgZGNjLT5ncnBoLmluZGVwZW5kZW50XzY0Yl9ibGtz
KTsKKwlodWJwMl9kY2NfY29udHJvbChodWJwLCBkY2MtPmVuYWJsZSwgZGNjLT5ncnBoLmluZGVw
ZW5kZW50XzY0Yl9ibGtzKTsKIAlodWJwMl9wcm9ncmFtX3RpbGluZyhodWJwMiwgdGlsaW5nX2lu
Zm8sIGZvcm1hdCk7Ci0JaHVicDFfcHJvZ3JhbV9zaXplKGh1YnAsIGZvcm1hdCwgcGxhbmVfc2l6
ZSwgZGNjKTsKLQlodWJwMV9wcm9ncmFtX3JvdGF0aW9uKGh1YnAsIHJvdGF0aW9uLCBob3Jpem9u
dGFsX21pcnJvcik7Ci0JaHVicDFfcHJvZ3JhbV9waXhlbF9mb3JtYXQoaHVicCwgZm9ybWF0KTsK
KwlodWJwMl9wcm9ncmFtX3NpemUoaHVicCwgZm9ybWF0LCBwbGFuZV9zaXplLCBkY2MpOworCWh1
YnAyX3Byb2dyYW1fcm90YXRpb24oaHVicCwgcm90YXRpb24sIGhvcml6b250YWxfbWlycm9yKTsK
KwlodWJwMl9wcm9ncmFtX3BpeGVsX2Zvcm1hdChodWJwLCBmb3JtYXQpOwogfQogCiBlbnVtIGN1
cnNvcl9saW5lc19wZXJfY2h1bmsgaHVicDJfZ2V0X2xpbmVzX3Blcl9jaHVuaygKQEAgLTY1Miwy
OCArOTUzLDM4MSBAQCB2b2lkIGh1YnAyX3NldF9mbGlwX2NvbnRyb2xfc3VyZmFjZV9nc2woc3Ry
dWN0IGh1YnAgKmh1YnAsIGJvb2wgZW5hYmxlKQogCVJFR19VUERBVEUoRENTVVJGX0ZMSVBfQ09O
VFJPTDIsIFNVUkZBQ0VfR1NMX0VOQUJMRSwgZW5hYmxlID8gMSA6IDApOwogfQogCitib29sIGh1
YnAyX2lzX2ZsaXBfcGVuZGluZyhzdHJ1Y3QgaHVicCAqaHVicCkKK3sKKwl1aW50MzJfdCBmbGlw
X3BlbmRpbmcgPSAwOworCXN0cnVjdCBkY24yMF9odWJwICpodWJwMiA9IFRPX0RDTjIwX0hVQlAo
aHVicCk7CisJc3RydWN0IGRjX3BsYW5lX2FkZHJlc3MgZWFybGllc3RfaW51c2VfYWRkcmVzczsK
KworCVJFR19HRVQoRENTVVJGX0ZMSVBfQ09OVFJPTCwKKwkJCVNVUkZBQ0VfRkxJUF9QRU5ESU5H
LCAmZmxpcF9wZW5kaW5nKTsKKworCVJFR19HRVQoRENTVVJGX1NVUkZBQ0VfRUFSTElFU1RfSU5V
U0UsCisJCQlTVVJGQUNFX0VBUkxJRVNUX0lOVVNFX0FERFJFU1MsICZlYXJsaWVzdF9pbnVzZV9h
ZGRyZXNzLmdycGguYWRkci5sb3dfcGFydCk7CisKKwlSRUdfR0VUKERDU1VSRl9TVVJGQUNFX0VB
UkxJRVNUX0lOVVNFX0hJR0gsCisJCQlTVVJGQUNFX0VBUkxJRVNUX0lOVVNFX0FERFJFU1NfSElH
SCwgJmVhcmxpZXN0X2ludXNlX2FkZHJlc3MuZ3JwaC5hZGRyLmhpZ2hfcGFydCk7CisKKwlpZiAo
ZmxpcF9wZW5kaW5nKQorCQlyZXR1cm4gdHJ1ZTsKKworCWlmIChlYXJsaWVzdF9pbnVzZV9hZGRy
ZXNzLmdycGguYWRkci5xdWFkX3BhcnQgIT0gaHVicC0+cmVxdWVzdF9hZGRyZXNzLmdycGguYWRk
ci5xdWFkX3BhcnQpCisJCXJldHVybiB0cnVlOworCisJcmV0dXJuIGZhbHNlOworfQorCit2b2lk
IGh1YnAyX3NldF9ibGFuayhzdHJ1Y3QgaHVicCAqaHVicCwgYm9vbCBibGFuaykKK3sKKwlzdHJ1
Y3QgZGNuMjBfaHVicCAqaHVicDIgPSBUT19EQ04yMF9IVUJQKGh1YnApOworCXVpbnQzMl90IGJs
YW5rX2VuID0gYmxhbmsgPyAxIDogMDsKKworCVJFR19VUERBVEVfMihEQ0hVQlBfQ05UTCwKKwkJ
CUhVQlBfQkxBTktfRU4sIGJsYW5rX2VuLAorCQkJSFVCUF9UVFVfRElTQUJMRSwgYmxhbmtfZW4p
OworCisJaWYgKGJsYW5rKSB7CisJCXVpbnQzMl90IHJlZ192YWwgPSBSRUdfUkVBRChEQ0hVQlBf
Q05UTCk7CisKKwkJaWYgKHJlZ192YWwpIHsKKwkJCS8qIGluaXQgc2VxdWVuY2Ugd29ya2Fyb3Vu
ZDogaW4gY2FzZSBIVUJQIGlzCisJCQkgKiBwb3dlciBnYXRlZCwgdGhpcyB3YWl0IHdvdWxkIHRp
bWVvdXQuCisJCQkgKgorCQkJICogd2UganVzdCB3cm90ZSByZWdfdmFsIHRvIG5vbi0wLCBpZiBp
dCBzdGF5IDAKKwkJCSAqIGl0IG1lYW5zIEhVQlAgaXMgZ2F0ZWQKKwkJCSAqLworCQkJUkVHX1dB
SVQoRENIVUJQX0NOVEwsCisJCQkJCUhVQlBfTk9fT1VUU1RBTkRJTkdfUkVRLCAxLAorCQkJCQkx
LCAyMDApOworCQl9CisKKwkJaHVicC0+bXBjY19pZCA9IDB4ZjsKKwkJaHVicC0+b3BwX2lkID0g
T1BQX0lEX0lOVkFMSUQ7CisJfQorfQorCit2b2lkIGh1YnAyX2N1cnNvcl9zZXRfcG9zaXRpb24o
CisJCXN0cnVjdCBodWJwICpodWJwLAorCQljb25zdCBzdHJ1Y3QgZGNfY3Vyc29yX3Bvc2l0aW9u
ICpwb3MsCisJCWNvbnN0IHN0cnVjdCBkY19jdXJzb3JfbWlfcGFyYW0gKnBhcmFtKQoreworCXN0
cnVjdCBkY24yMF9odWJwICpodWJwMiA9IFRPX0RDTjIwX0hVQlAoaHVicCk7CisJaW50IHNyY194
X29mZnNldCA9IHBvcy0+eCAtIHBvcy0+eF9ob3RzcG90IC0gcGFyYW0tPnZpZXdwb3J0Lng7CisJ
aW50IHNyY195X29mZnNldCA9IHBvcy0+eSAtIHBvcy0+eV9ob3RzcG90IC0gcGFyYW0tPnZpZXdw
b3J0Lnk7CisJaW50IHhfaG90c3BvdCA9IHBvcy0+eF9ob3RzcG90OworCWludCB5X2hvdHNwb3Qg
PSBwb3MtPnlfaG90c3BvdDsKKwl1aW50MzJfdCBkc3RfeF9vZmZzZXQ7CisJdWludDMyX3QgY3Vy
X2VuID0gcG9zLT5lbmFibGUgPyAxIDogMDsKKworCS8qCisJICogR3VhcmQgYWdhbnN0IGN1cnNv
cl9zZXRfcG9zaXRpb24oKSBmcm9tIGJlaW5nIGNhbGxlZCB3aXRoIGludmFsaWQKKwkgKiBhdHRy
aWJ1dGVzCisJICoKKwkgKiBUT0RPOiBMb29rIGF0IGNvbWJpbmluZyBjdXJzb3Jfc2V0X3Bvc2l0
aW9uKCkgYW5kCisJICogY3Vyc29yX3NldF9hdHRyaWJ1dGVzKCkgaW50byBjdXJzb3JfdXBkYXRl
KCkKKwkgKi8KKwlpZiAoaHVicC0+Y3Vyc19hdHRyLmFkZHJlc3MucXVhZF9wYXJ0ID09IDApCisJ
CXJldHVybjsKKworCWlmIChwYXJhbS0+cm90YXRpb24gPT0gUk9UQVRJT05fQU5HTEVfOTAgfHwg
cGFyYW0tPnJvdGF0aW9uID09IFJPVEFUSU9OX0FOR0xFXzI3MCkgeworCQlzcmNfeF9vZmZzZXQg
PSBwb3MtPnkgLSBwb3MtPnlfaG90c3BvdCAtIHBhcmFtLT52aWV3cG9ydC54OworCQl5X2hvdHNw
b3QgPSBwb3MtPnhfaG90c3BvdDsKKwkJeF9ob3RzcG90ID0gcG9zLT55X2hvdHNwb3Q7CisJfQor
CisJaWYgKHBhcmFtLT5taXJyb3IpIHsKKwkJeF9ob3RzcG90ID0gcGFyYW0tPnZpZXdwb3J0Lndp
ZHRoIC0geF9ob3RzcG90OworCQlzcmNfeF9vZmZzZXQgPSBwYXJhbS0+dmlld3BvcnQueCArIHBh
cmFtLT52aWV3cG9ydC53aWR0aCAtIHNyY194X29mZnNldDsKKwl9CisKKwlkc3RfeF9vZmZzZXQg
PSAoc3JjX3hfb2Zmc2V0ID49IDApID8gc3JjX3hfb2Zmc2V0IDogMDsKKwlkc3RfeF9vZmZzZXQg
Kj0gcGFyYW0tPnJlZl9jbGtfa2h6OworCWRzdF94X29mZnNldCAvPSBwYXJhbS0+cGl4ZWxfY2xr
X2toejsKKworCUFTU0VSVChwYXJhbS0+aF9zY2FsZV9yYXRpby52YWx1ZSk7CisKKwlpZiAocGFy
YW0tPmhfc2NhbGVfcmF0aW8udmFsdWUpCisJCWRzdF94X29mZnNldCA9IGRjX2ZpeHB0X2Zsb29y
KGRjX2ZpeHB0X2RpdigKKwkJCQlkY19maXhwdF9mcm9tX2ludChkc3RfeF9vZmZzZXQpLAorCQkJ
CXBhcmFtLT5oX3NjYWxlX3JhdGlvKSk7CisKKwlpZiAoc3JjX3hfb2Zmc2V0ID49IChpbnQpcGFy
YW0tPnZpZXdwb3J0LndpZHRoKQorCQljdXJfZW4gPSAwOyAgLyogbm90IHZpc2libGUgYmV5b25k
IHJpZ2h0IGVkZ2UqLworCisJaWYgKHNyY194X29mZnNldCArIChpbnQpaHVicC0+Y3Vyc19hdHRy
LndpZHRoIDw9IDApCisJCWN1cl9lbiA9IDA7ICAvKiBub3QgdmlzaWJsZSBiZXlvbmQgbGVmdCBl
ZGdlKi8KKworCWlmIChzcmNfeV9vZmZzZXQgPj0gKGludClwYXJhbS0+dmlld3BvcnQuaGVpZ2h0
KQorCQljdXJfZW4gPSAwOyAgLyogbm90IHZpc2libGUgYmV5b25kIGJvdHRvbSBlZGdlKi8KKwor
CWlmIChzcmNfeV9vZmZzZXQgKyAoaW50KWh1YnAtPmN1cnNfYXR0ci5oZWlnaHQgPD0gMCkKKwkJ
Y3VyX2VuID0gMDsgIC8qIG5vdCB2aXNpYmxlIGJleW9uZCB0b3AgZWRnZSovCisKKwlpZiAoY3Vy
X2VuICYmIFJFR19SRUFEKENVUlNPUl9TVVJGQUNFX0FERFJFU1MpID09IDApCisJCWh1YnAtPmZ1
bmNzLT5zZXRfY3Vyc29yX2F0dHJpYnV0ZXMoaHVicCwgJmh1YnAtPmN1cnNfYXR0cik7CisKKwlS
RUdfVVBEQVRFKENVUlNPUl9DT05UUk9MLAorCQkJQ1VSU09SX0VOQUJMRSwgY3VyX2VuKTsKKwor
CVJFR19TRVRfMihDVVJTT1JfUE9TSVRJT04sIDAsCisJCQlDVVJTT1JfWF9QT1NJVElPTiwgcG9z
LT54LAorCQkJQ1VSU09SX1lfUE9TSVRJT04sIHBvcy0+eSk7CisKKwlSRUdfU0VUXzIoQ1VSU09S
X0hPVF9TUE9ULCAwLAorCQkJQ1VSU09SX0hPVF9TUE9UX1gsIHhfaG90c3BvdCwKKwkJCUNVUlNP
Ul9IT1RfU1BPVF9ZLCB5X2hvdHNwb3QpOworCisJUkVHX1NFVChDVVJTT1JfRFNUX09GRlNFVCwg
MCwKKwkJCUNVUlNPUl9EU1RfWF9PRkZTRVQsIGRzdF94X29mZnNldCk7CisJLyogVE9ETyBIYW5k
bGUgc3VyZmFjZSBwaXhlbCBmb3JtYXRzIG90aGVyIHRoYW4gNDo0OjQgKi8KK30KKwordm9pZCBo
dWJwMl9jbGtfY250bChzdHJ1Y3QgaHVicCAqaHVicCwgYm9vbCBlbmFibGUpCit7CisJc3RydWN0
IGRjbjIwX2h1YnAgKmh1YnAyID0gVE9fRENOMjBfSFVCUChodWJwKTsKKwl1aW50MzJfdCBjbGtf
ZW5hYmxlID0gZW5hYmxlID8gMSA6IDA7CisKKwlSRUdfVVBEQVRFKEhVQlBfQ0xLX0NOVEwsIEhV
QlBfQ0xPQ0tfRU5BQkxFLCBjbGtfZW5hYmxlKTsKK30KKwordm9pZCBodWJwMl92dGdfc2VsKHN0
cnVjdCBodWJwICpodWJwLCB1aW50MzJfdCBvdGdfaW5zdCkKK3sKKwlzdHJ1Y3QgZGNuMjBfaHVi
cCAqaHVicDIgPSBUT19EQ04yMF9IVUJQKGh1YnApOworCisJUkVHX1VQREFURShEQ0hVQlBfQ05U
TCwgSFVCUF9WVEdfU0VMLCBvdGdfaW5zdCk7Cit9CisKK3ZvaWQgaHVicDJfY2xlYXJfdW5kZXJm
bG93KHN0cnVjdCBodWJwICpodWJwKQoreworCXN0cnVjdCBkY24yMF9odWJwICpodWJwMiA9IFRP
X0RDTjIwX0hVQlAoaHVicCk7CisKKwlSRUdfVVBEQVRFKERDSFVCUF9DTlRMLCBIVUJQX1VOREVS
RkxPV19DTEVBUiwgMSk7Cit9CisKK3ZvaWQgaHVicDJfcmVhZF9zdGF0ZV9jb21tb24oc3RydWN0
IGh1YnAgKmh1YnApCit7CisJc3RydWN0IGRjbjIwX2h1YnAgKmh1YnAyID0gVE9fRENOMjBfSFVC
UChodWJwKTsKKwlzdHJ1Y3QgZGNuX2h1YnBfc3RhdGUgKnMgPSAmaHVicDItPnN0YXRlOworCXN0
cnVjdCBfdmNzX2RwaV9kaXNwbGF5X2RsZ19yZWdzX3N0ICpkbGdfYXR0ciA9ICZzLT5kbGdfYXR0
cjsKKwlzdHJ1Y3QgX3Zjc19kcGlfZGlzcGxheV90dHVfcmVnc19zdCAqdHR1X2F0dHIgPSAmcy0+
dHR1X2F0dHI7CisJc3RydWN0IF92Y3NfZHBpX2Rpc3BsYXlfcnFfcmVnc19zdCAqcnFfcmVncyA9
ICZzLT5ycV9yZWdzOworCisJLyogUmVxdWVzdGVyICovCisJUkVHX0dFVChIVUJQUkVUX0NPTlRS
T0wsCisJCQlERVRfQlVGX1BMQU5FMV9CQVNFX0FERFJFU1MsICZycV9yZWdzLT5wbGFuZTFfYmFz
ZV9hZGRyZXNzKTsKKwlSRUdfR0VUXzQoRENOX0VYUEFOU0lPTl9NT0RFLAorCQkJRFJRX0VYUEFO
U0lPTl9NT0RFLCAmcnFfcmVncy0+ZHJxX2V4cGFuc2lvbl9tb2RlLAorCQkJUFJRX0VYUEFOU0lP
Tl9NT0RFLCAmcnFfcmVncy0+cHJxX2V4cGFuc2lvbl9tb2RlLAorCQkJTVJRX0VYUEFOU0lPTl9N
T0RFLCAmcnFfcmVncy0+bXJxX2V4cGFuc2lvbl9tb2RlLAorCQkJQ1JRX0VYUEFOU0lPTl9NT0RF
LCAmcnFfcmVncy0+Y3JxX2V4cGFuc2lvbl9tb2RlKTsKKworCS8qIERMRyAtIFBlciBodWJwICov
CisJUkVHX0dFVF8yKEJMQU5LX09GRlNFVF8wLAorCQlSRUZDWUNfSF9CTEFOS19FTkQsICZkbGdf
YXR0ci0+cmVmY3ljX2hfYmxhbmtfZW5kLAorCQlETEdfVl9CTEFOS19FTkQsICZkbGdfYXR0ci0+
ZGxnX3ZibGFua19lbmQpOworCisJUkVHX0dFVChCTEFOS19PRkZTRVRfMSwKKwkJTUlOX0RTVF9Z
X05FWFRfU1RBUlQsICZkbGdfYXR0ci0+bWluX2RzdF95X25leHRfc3RhcnQpOworCisJUkVHX0dF
VChEU1RfRElNRU5TSU9OUywKKwkJUkVGQ1lDX1BFUl9IVE9UQUwsICZkbGdfYXR0ci0+cmVmY3lj
X3Blcl9odG90YWwpOworCisJUkVHX0dFVF8yKERTVF9BRlRFUl9TQ0FMRVIsCisJCVJFRkNZQ19Y
X0FGVEVSX1NDQUxFUiwgJmRsZ19hdHRyLT5yZWZjeWNfeF9hZnRlcl9zY2FsZXIsCisJCURTVF9Z
X0FGVEVSX1NDQUxFUiwgJmRsZ19hdHRyLT5kc3RfeV9hZnRlcl9zY2FsZXIpOworCisJaWYgKFJF
RyhQUkVGRVRDSF9TRVRUSU5TKSkKKwkJUkVHX0dFVF8yKFBSRUZFVENIX1NFVFRJTlMsCisJCQlE
U1RfWV9QUkVGRVRDSCwgJmRsZ19hdHRyLT5kc3RfeV9wcmVmZXRjaCwKKwkJCVZSQVRJT19QUkVG
RVRDSCwgJmRsZ19hdHRyLT52cmF0aW9fcHJlZmV0Y2gpOworCWVsc2UKKwkJUkVHX0dFVF8yKFBS
RUZFVENIX1NFVFRJTkdTLAorCQkJRFNUX1lfUFJFRkVUQ0gsICZkbGdfYXR0ci0+ZHN0X3lfcHJl
ZmV0Y2gsCisJCQlWUkFUSU9fUFJFRkVUQ0gsICZkbGdfYXR0ci0+dnJhdGlvX3ByZWZldGNoKTsK
KworCVJFR19HRVRfMihWQkxBTktfUEFSQU1FVEVSU18wLAorCQlEU1RfWV9QRVJfVk1fVkJMQU5L
LCAmZGxnX2F0dHItPmRzdF95X3Blcl92bV92YmxhbmssCisJCURTVF9ZX1BFUl9ST1dfVkJMQU5L
LCAmZGxnX2F0dHItPmRzdF95X3Blcl9yb3dfdmJsYW5rKTsKKworCVJFR19HRVQoUkVGX0ZSRVFf
VE9fUElYX0ZSRVEsCisJCVJFRl9GUkVRX1RPX1BJWF9GUkVRLCAmZGxnX2F0dHItPnJlZl9mcmVx
X3RvX3BpeF9mcmVxKTsKKworCS8qIERMRyAtIFBlciBsdW1hL2Nocm9tYSAqLworCVJFR19HRVQo
VkJMQU5LX1BBUkFNRVRFUlNfMSwKKwkJUkVGQ1lDX1BFUl9QVEVfR1JPVVBfVkJMQU5LX0wsICZk
bGdfYXR0ci0+cmVmY3ljX3Blcl9wdGVfZ3JvdXBfdmJsYW5rX2wpOworCisJUkVHX0dFVChWQkxB
TktfUEFSQU1FVEVSU18zLAorCQlSRUZDWUNfUEVSX01FVEFfQ0hVTktfVkJMQU5LX0wsICZkbGdf
YXR0ci0+cmVmY3ljX3Blcl9tZXRhX2NodW5rX3ZibGFua19sKTsKKworCWlmIChSRUcoTk9NX1BB
UkFNRVRFUlNfMCkpCisJCVJFR19HRVQoTk9NX1BBUkFNRVRFUlNfMCwKKwkJCURTVF9ZX1BFUl9Q
VEVfUk9XX05PTV9MLCAmZGxnX2F0dHItPmRzdF95X3Blcl9wdGVfcm93X25vbV9sKTsKKworCWlm
IChSRUcoTk9NX1BBUkFNRVRFUlNfMSkpCisJCVJFR19HRVQoTk9NX1BBUkFNRVRFUlNfMSwKKwkJ
CVJFRkNZQ19QRVJfUFRFX0dST1VQX05PTV9MLCAmZGxnX2F0dHItPnJlZmN5Y19wZXJfcHRlX2dy
b3VwX25vbV9sKTsKKworCVJFR19HRVQoTk9NX1BBUkFNRVRFUlNfNCwKKwkJRFNUX1lfUEVSX01F
VEFfUk9XX05PTV9MLCAmZGxnX2F0dHItPmRzdF95X3Blcl9tZXRhX3Jvd19ub21fbCk7CisKKwlS
RUdfR0VUKE5PTV9QQVJBTUVURVJTXzUsCisJCVJFRkNZQ19QRVJfTUVUQV9DSFVOS19OT01fTCwg
JmRsZ19hdHRyLT5yZWZjeWNfcGVyX21ldGFfY2h1bmtfbm9tX2wpOworCisJUkVHX0dFVF8yKFBF
Ul9MSU5FX0RFTElWRVJZX1BSRSwKKwkJUkVGQ1lDX1BFUl9MSU5FX0RFTElWRVJZX1BSRV9MLCAm
ZGxnX2F0dHItPnJlZmN5Y19wZXJfbGluZV9kZWxpdmVyeV9wcmVfbCwKKwkJUkVGQ1lDX1BFUl9M
SU5FX0RFTElWRVJZX1BSRV9DLCAmZGxnX2F0dHItPnJlZmN5Y19wZXJfbGluZV9kZWxpdmVyeV9w
cmVfYyk7CisKKwlSRUdfR0VUXzIoUEVSX0xJTkVfREVMSVZFUlksCisJCVJFRkNZQ19QRVJfTElO
RV9ERUxJVkVSWV9MLCAmZGxnX2F0dHItPnJlZmN5Y19wZXJfbGluZV9kZWxpdmVyeV9sLAorCQlS
RUZDWUNfUEVSX0xJTkVfREVMSVZFUllfQywgJmRsZ19hdHRyLT5yZWZjeWNfcGVyX2xpbmVfZGVs
aXZlcnlfYyk7CisKKwlpZiAoUkVHKFBSRUZFVENIX1NFVFRJTlNfQykpCisJCVJFR19HRVQoUFJF
RkVUQ0hfU0VUVElOU19DLAorCQkJVlJBVElPX1BSRUZFVENIX0MsICZkbGdfYXR0ci0+dnJhdGlv
X3ByZWZldGNoX2MpOworCWVsc2UKKwkJUkVHX0dFVChQUkVGRVRDSF9TRVRUSU5HU19DLAorCQkJ
VlJBVElPX1BSRUZFVENIX0MsICZkbGdfYXR0ci0+dnJhdGlvX3ByZWZldGNoX2MpOworCisJUkVH
X0dFVChWQkxBTktfUEFSQU1FVEVSU18yLAorCQlSRUZDWUNfUEVSX1BURV9HUk9VUF9WQkxBTktf
QywgJmRsZ19hdHRyLT5yZWZjeWNfcGVyX3B0ZV9ncm91cF92YmxhbmtfYyk7CisKKwlSRUdfR0VU
KFZCTEFOS19QQVJBTUVURVJTXzQsCisJCVJFRkNZQ19QRVJfTUVUQV9DSFVOS19WQkxBTktfQywg
JmRsZ19hdHRyLT5yZWZjeWNfcGVyX21ldGFfY2h1bmtfdmJsYW5rX2MpOworCisJaWYgKFJFRyhO
T01fUEFSQU1FVEVSU18yKSkKKwkJUkVHX0dFVChOT01fUEFSQU1FVEVSU18yLAorCQkJRFNUX1lf
UEVSX1BURV9ST1dfTk9NX0MsICZkbGdfYXR0ci0+ZHN0X3lfcGVyX3B0ZV9yb3dfbm9tX2MpOwor
CisJaWYgKFJFRyhOT01fUEFSQU1FVEVSU18zKSkKKwkJUkVHX0dFVChOT01fUEFSQU1FVEVSU18z
LAorCQkJUkVGQ1lDX1BFUl9QVEVfR1JPVVBfTk9NX0MsICZkbGdfYXR0ci0+cmVmY3ljX3Blcl9w
dGVfZ3JvdXBfbm9tX2MpOworCisJUkVHX0dFVChOT01fUEFSQU1FVEVSU182LAorCQlEU1RfWV9Q
RVJfTUVUQV9ST1dfTk9NX0MsICZkbGdfYXR0ci0+ZHN0X3lfcGVyX21ldGFfcm93X25vbV9jKTsK
KworCVJFR19HRVQoTk9NX1BBUkFNRVRFUlNfNywKKwkJUkVGQ1lDX1BFUl9NRVRBX0NIVU5LX05P
TV9DLCAmZGxnX2F0dHItPnJlZmN5Y19wZXJfbWV0YV9jaHVua19ub21fYyk7CisKKwkvKiBUVFUg
LSBwZXIgaHVicCAqLworCVJFR19HRVRfMihEQ05fVFRVX1FPU19XTSwKKwkJUW9TX0xFVkVMX0xP
V19XTSwgJnR0dV9hdHRyLT5xb3NfbGV2ZWxfbG93X3dtLAorCQlRb1NfTEVWRUxfSElHSF9XTSwg
JnR0dV9hdHRyLT5xb3NfbGV2ZWxfaGlnaF93bSk7CisKKwlSRUdfR0VUXzIoRENOX0dMT0JBTF9U
VFVfQ05UTCwKKwkJTUlOX1RUVV9WQkxBTkssICZ0dHVfYXR0ci0+bWluX3R0dV92YmxhbmssCisJ
CVFvU19MRVZFTF9GTElQLCAmdHR1X2F0dHItPnFvc19sZXZlbF9mbGlwKTsKKworCS8qIFRUVSAt
IHBlciBsdW1hL2Nocm9tYSAqLworCS8qIEFzc3VtZWQgc3VyZjAgaXMgbHVtYSBhbmQgMSBpcyBj
aHJvbWEgKi8KKworCVJFR19HRVRfMyhEQ05fU1VSRjBfVFRVX0NOVEwwLAorCQlSRUZDWUNfUEVS
X1JFUV9ERUxJVkVSWSwgJnR0dV9hdHRyLT5yZWZjeWNfcGVyX3JlcV9kZWxpdmVyeV9sLAorCQlR
b1NfTEVWRUxfRklYRUQsICZ0dHVfYXR0ci0+cW9zX2xldmVsX2ZpeGVkX2wsCisJCVFvU19SQU1Q
X0RJU0FCTEUsICZ0dHVfYXR0ci0+cW9zX3JhbXBfZGlzYWJsZV9sKTsKKworCVJFR19HRVQoRENO
X1NVUkYwX1RUVV9DTlRMMSwKKwkJUkVGQ1lDX1BFUl9SRVFfREVMSVZFUllfUFJFLAorCQkmdHR1
X2F0dHItPnJlZmN5Y19wZXJfcmVxX2RlbGl2ZXJ5X3ByZV9sKTsKKworCVJFR19HRVRfMyhEQ05f
U1VSRjFfVFRVX0NOVEwwLAorCQlSRUZDWUNfUEVSX1JFUV9ERUxJVkVSWSwgJnR0dV9hdHRyLT5y
ZWZjeWNfcGVyX3JlcV9kZWxpdmVyeV9jLAorCQlRb1NfTEVWRUxfRklYRUQsICZ0dHVfYXR0ci0+
cW9zX2xldmVsX2ZpeGVkX2MsCisJCVFvU19SQU1QX0RJU0FCTEUsICZ0dHVfYXR0ci0+cW9zX3Jh
bXBfZGlzYWJsZV9jKTsKKworCVJFR19HRVQoRENOX1NVUkYxX1RUVV9DTlRMMSwKKwkJUkVGQ1lD
X1BFUl9SRVFfREVMSVZFUllfUFJFLAorCQkmdHR1X2F0dHItPnJlZmN5Y19wZXJfcmVxX2RlbGl2
ZXJ5X3ByZV9jKTsKKworCS8qIFJlc3Qgb2YgaHVicCAqLworCVJFR19HRVQoRENTVVJGX1NVUkZB
Q0VfQ09ORklHLAorCQkJU1VSRkFDRV9QSVhFTF9GT1JNQVQsICZzLT5waXhlbF9mb3JtYXQpOwor
CisJUkVHX0dFVChEQ1NVUkZfU1VSRkFDRV9FQVJMSUVTVF9JTlVTRV9ISUdILAorCQkJU1VSRkFD
RV9FQVJMSUVTVF9JTlVTRV9BRERSRVNTX0hJR0gsICZzLT5pbnVzZV9hZGRyX2hpKTsKKworCVJF
R19HRVQoRENTVVJGX1NVUkZBQ0VfRUFSTElFU1RfSU5VU0UsCisJCQlTVVJGQUNFX0VBUkxJRVNU
X0lOVVNFX0FERFJFU1MsICZzLT5pbnVzZV9hZGRyX2xvKTsKKworCVJFR19HRVRfMihEQ1NVUkZf
UFJJX1ZJRVdQT1JUX0RJTUVOU0lPTiwKKwkJCVBSSV9WSUVXUE9SVF9XSURUSCwgJnMtPnZpZXdw
b3J0X3dpZHRoLAorCQkJUFJJX1ZJRVdQT1JUX0hFSUdIVCwgJnMtPnZpZXdwb3J0X2hlaWdodCk7
CisKKwlSRUdfR0VUXzIoRENTVVJGX1NVUkZBQ0VfQ09ORklHLAorCQkJUk9UQVRJT05fQU5HTEUs
ICZzLT5yb3RhdGlvbl9hbmdsZSwKKwkJCUhfTUlSUk9SX0VOLCAmcy0+aF9taXJyb3JfZW4pOwor
CisJUkVHX0dFVChEQ1NVUkZfVElMSU5HX0NPTkZJRywKKwkJCVNXX01PREUsICZzLT5zd19tb2Rl
KTsKKworCVJFR19HRVQoRENTVVJGX1NVUkZBQ0VfQ09OVFJPTCwKKwkJCVBSSU1BUllfU1VSRkFD
RV9EQ0NfRU4sICZzLT5kY2NfZW4pOworCisJUkVHX0dFVF8zKERDSFVCUF9DTlRMLAorCQkJSFVC
UF9CTEFOS19FTiwgJnMtPmJsYW5rX2VuLAorCQkJSFVCUF9UVFVfRElTQUJMRSwgJnMtPnR0dV9k
aXNhYmxlLAorCQkJSFVCUF9VTkRFUkZMT1dfU1RBVFVTLCAmcy0+dW5kZXJmbG93X3N0YXR1cyk7
CisKKwlSRUdfR0VUKERDTl9HTE9CQUxfVFRVX0NOVEwsCisJCQlNSU5fVFRVX1ZCTEFOSywgJnMt
Pm1pbl90dHVfdmJsYW5rKTsKKworCVJFR19HRVRfMihEQ05fVFRVX1FPU19XTSwKKwkJCVFvU19M
RVZFTF9MT1dfV00sICZzLT5xb3NfbGV2ZWxfbG93X3dtLAorCQkJUW9TX0xFVkVMX0hJR0hfV00s
ICZzLT5xb3NfbGV2ZWxfaGlnaF93bSk7CisKK30KKwordm9pZCBodWJwMl9yZWFkX3N0YXRlKHN0
cnVjdCBodWJwICpodWJwKQoreworCXN0cnVjdCBkY24yMF9odWJwICpodWJwMiA9IFRPX0RDTjIw
X0hVQlAoaHVicCk7CisJc3RydWN0IGRjbl9odWJwX3N0YXRlICpzID0gJmh1YnAyLT5zdGF0ZTsK
KwlzdHJ1Y3QgX3Zjc19kcGlfZGlzcGxheV9ycV9yZWdzX3N0ICpycV9yZWdzID0gJnMtPnJxX3Jl
Z3M7CisKKwlodWJwMl9yZWFkX3N0YXRlX2NvbW1vbihodWJwKTsKKworCVJFR19HRVRfOChEQ0hV
QlBfUkVRX1NJWkVfQ09ORklHLAorCQlDSFVOS19TSVpFLCAmcnFfcmVncy0+cnFfcmVnc19sLmNo
dW5rX3NpemUsCisJCU1JTl9DSFVOS19TSVpFLCAmcnFfcmVncy0+cnFfcmVnc19sLm1pbl9jaHVu
a19zaXplLAorCQlNRVRBX0NIVU5LX1NJWkUsICZycV9yZWdzLT5ycV9yZWdzX2wubWV0YV9jaHVu
a19zaXplLAorCQlNSU5fTUVUQV9DSFVOS19TSVpFLCAmcnFfcmVncy0+cnFfcmVnc19sLm1pbl9t
ZXRhX2NodW5rX3NpemUsCisJCURQVEVfR1JPVVBfU0laRSwgJnJxX3JlZ3MtPnJxX3JlZ3NfbC5k
cHRlX2dyb3VwX3NpemUsCisJCU1QVEVfR1JPVVBfU0laRSwgJnJxX3JlZ3MtPnJxX3JlZ3NfbC5t
cHRlX2dyb3VwX3NpemUsCisJCVNXQVRIX0hFSUdIVCwgJnJxX3JlZ3MtPnJxX3JlZ3NfbC5zd2F0
aF9oZWlnaHQsCisJCVBURV9ST1dfSEVJR0hUX0xJTkVBUiwgJnJxX3JlZ3MtPnJxX3JlZ3NfbC5w
dGVfcm93X2hlaWdodF9saW5lYXIpOworCisJUkVHX0dFVF84KERDSFVCUF9SRVFfU0laRV9DT05G
SUdfQywKKwkJQ0hVTktfU0laRV9DLCAmcnFfcmVncy0+cnFfcmVnc19jLmNodW5rX3NpemUsCisJ
CU1JTl9DSFVOS19TSVpFX0MsICZycV9yZWdzLT5ycV9yZWdzX2MubWluX2NodW5rX3NpemUsCisJ
CU1FVEFfQ0hVTktfU0laRV9DLCAmcnFfcmVncy0+cnFfcmVnc19jLm1ldGFfY2h1bmtfc2l6ZSwK
KwkJTUlOX01FVEFfQ0hVTktfU0laRV9DLCAmcnFfcmVncy0+cnFfcmVnc19jLm1pbl9tZXRhX2No
dW5rX3NpemUsCisJCURQVEVfR1JPVVBfU0laRV9DLCAmcnFfcmVncy0+cnFfcmVnc19jLmRwdGVf
Z3JvdXBfc2l6ZSwKKwkJTVBURV9HUk9VUF9TSVpFX0MsICZycV9yZWdzLT5ycV9yZWdzX2MubXB0
ZV9ncm91cF9zaXplLAorCQlTV0FUSF9IRUlHSFRfQywgJnJxX3JlZ3MtPnJxX3JlZ3NfYy5zd2F0
aF9oZWlnaHQsCisJCVBURV9ST1dfSEVJR0hUX0xJTkVBUl9DLCAmcnFfcmVncy0+cnFfcmVnc19j
LnB0ZV9yb3dfaGVpZ2h0X2xpbmVhcik7CisKK30KKwogc3RhdGljIHN0cnVjdCBodWJwX2Z1bmNz
IGRjbjIwX2h1YnBfZnVuY3MgPSB7CiAJLmh1YnBfZW5hYmxlX3RyaXBsZUJ1ZmZlciA9IGh1YnAy
X2VuYWJsZV90cmlwbGVidWZmZXIsCiAJLmh1YnBfaXNfdHJpcGxlYnVmZmVyX2VuYWJsZWQgPSBo
dWJwMl9pc190cmlwbGVidWZmZXJfZW5hYmxlZCwKIAkuaHVicF9wcm9ncmFtX3N1cmZhY2VfZmxp
cF9hbmRfYWRkciA9IGh1YnAyX3Byb2dyYW1fc3VyZmFjZV9mbGlwX2FuZF9hZGRyLAogCS5odWJw
X3Byb2dyYW1fc3VyZmFjZV9jb25maWcgPSBodWJwMl9wcm9ncmFtX3N1cmZhY2VfY29uZmlnLAot
CS5odWJwX2lzX2ZsaXBfcGVuZGluZyA9IGh1YnAxX2lzX2ZsaXBfcGVuZGluZywKKwkuaHVicF9p
c19mbGlwX3BlbmRpbmcgPSBodWJwMl9pc19mbGlwX3BlbmRpbmcsCiAJLmh1YnBfc2V0dXAgPSBo
dWJwMl9zZXR1cCwKIAkuaHVicF9zZXR1cF9pbnRlcmRlcGVuZGVudCA9IGh1YnAyX3NldHVwX2lu
dGVyZGVwZW5kZW50LAogCS5odWJwX3NldF92bV9zeXN0ZW1fYXBlcnR1cmVfc2V0dGluZ3MgPSBo
dWJwMl9zZXRfdm1fc3lzdGVtX2FwZXJ0dXJlX3NldHRpbmdzLAotCS5zZXRfYmxhbmsgPSBodWJw
MV9zZXRfYmxhbmssCi0JLmRjY19jb250cm9sID0gaHVicDFfZGNjX2NvbnRyb2wsCisJLnNldF9i
bGFuayA9IGh1YnAyX3NldF9ibGFuaywKKwkuZGNjX2NvbnRyb2wgPSBodWJwMl9kY2NfY29udHJv
bCwKIAkuaHVicF91cGRhdGVfZGNodWIgPSBodWJwMl91cGRhdGVfZGNodWIsCiAJLm1lbV9wcm9n
cmFtX3ZpZXdwb3J0ID0gbWluX3NldF92aWV3cG9ydCwKIAkuc2V0X2N1cnNvcl9hdHRyaWJ1dGVz
CT0gaHVicDJfY3Vyc29yX3NldF9hdHRyaWJ1dGVzLAotCS5zZXRfY3Vyc29yX3Bvc2l0aW9uCT0g
aHVicDFfY3Vyc29yX3NldF9wb3NpdGlvbiwKLQkuaHVicF9jbGtfY250bCA9IGh1YnAxX2Nsa19j
bnRsLAotCS5odWJwX3Z0Z19zZWwgPSBodWJwMV92dGdfc2VsLAorCS5zZXRfY3Vyc29yX3Bvc2l0
aW9uCT0gaHVicDJfY3Vyc29yX3NldF9wb3NpdGlvbiwKKwkuaHVicF9jbGtfY250bCA9IGh1YnAy
X2Nsa19jbnRsLAorCS5odWJwX3Z0Z19zZWwgPSBodWJwMl92dGdfc2VsLAogCS5kbWRhdGFfc2V0
X2F0dHJpYnV0ZXMgPSBodWJwMl9kbWRhdGFfc2V0X2F0dHJpYnV0ZXMsCiAJLmRtZGF0YV9sb2Fk
ID0gaHVicDJfZG1kYXRhX2xvYWQsCiAJLmRtZGF0YV9zdGF0dXNfZG9uZSA9IGh1YnAyX2RtZGF0
YV9zdGF0dXNfZG9uZSwKLQkuaHVicF9yZWFkX3N0YXRlID0gaHVicDFfcmVhZF9zdGF0ZSwKLQku
aHVicF9jbGVhcl91bmRlcmZsb3cgPSBodWJwMV9jbGVhcl91bmRlcmZsb3csCisJLmh1YnBfcmVh
ZF9zdGF0ZSA9IGh1YnAyX3JlYWRfc3RhdGUsCisJLmh1YnBfY2xlYXJfdW5kZXJmbG93ID0gaHVi
cDJfY2xlYXJfdW5kZXJmbG93LAogCS5odWJwX3NldF9mbGlwX2NvbnRyb2xfc3VyZmFjZV9nc2wg
PSBodWJwMl9zZXRfZmxpcF9jb250cm9sX3N1cmZhY2VfZ3NsLAogCS5odWJwX2luaXQgPSBodWJw
MV9pbml0LAogfTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9k
Y24yMC9kY24yMF9odWJwLmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjAv
ZGNuMjBfaHVicC5oCmluZGV4IDJjNjQwNWE2MmZjMS4uYzg0MTgyMzVlMTU0IDEwMDY0NAotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjAvZGNuMjBfaHVicC5oCisrKyBi
L2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24yMC9kY24yMF9odWJwLmgKQEAgLTI2
Nyw2ICsyNjcsMjQgQEAgYm9vbCBodWJwMl9wcm9ncmFtX3N1cmZhY2VfZmxpcF9hbmRfYWRkcigK
IAljb25zdCBzdHJ1Y3QgZGNfcGxhbmVfYWRkcmVzcyAqYWRkcmVzcywKIAlib29sIGZsaXBfaW1t
ZWRpYXRlKTsKIAordm9pZCBodWJwMl9kY2NfY29udHJvbChzdHJ1Y3QgaHVicCAqaHVicCwgYm9v
bCBlbmFibGUsCisJCWJvb2wgaW5kZXBlbmRlbnRfNjRiX2Jsa3MpOworCit2b2lkIGh1YnAyX3By
b2dyYW1fc2l6ZSgKKwlzdHJ1Y3QgaHVicCAqaHVicCwKKwllbnVtIHN1cmZhY2VfcGl4ZWxfZm9y
bWF0IGZvcm1hdCwKKwljb25zdCB1bmlvbiBwbGFuZV9zaXplICpwbGFuZV9zaXplLAorCXN0cnVj
dCBkY19wbGFuZV9kY2NfcGFyYW0gKmRjYyk7CisKK3ZvaWQgaHVicDJfcHJvZ3JhbV9yb3RhdGlv
bigKKwlzdHJ1Y3QgaHVicCAqaHVicCwKKwllbnVtIGRjX3JvdGF0aW9uX2FuZ2xlIHJvdGF0aW9u
LAorCWJvb2wgaG9yaXpvbnRhbF9taXJyb3IpOworCit2b2lkIGh1YnAyX3Byb2dyYW1fcGl4ZWxf
Zm9ybWF0KAorCXN0cnVjdCBodWJwICpodWJwLAorCWVudW0gc3VyZmFjZV9waXhlbF9mb3JtYXQg
Zm9ybWF0KTsKKwogdm9pZCBodWJwMl9wcm9ncmFtX3N1cmZhY2VfY29uZmlnKAogCXN0cnVjdCBo
dWJwICpodWJwLAogCWVudW0gc3VyZmFjZV9waXhlbF9mb3JtYXQgZm9ybWF0LApAQCAtMjc3LDYg
KzI5NSwyNSBAQCB2b2lkIGh1YnAyX3Byb2dyYW1fc3VyZmFjZV9jb25maWcoCiAJYm9vbCBob3Jp
em9udGFsX21pcnJvciwKIAl1bnNpZ25lZCBpbnQgY29tcGF0X2xldmVsKTsKIAorYm9vbCBodWJw
Ml9pc19mbGlwX3BlbmRpbmcoc3RydWN0IGh1YnAgKmh1YnApOworCit2b2lkIGh1YnAyX3NldF9i
bGFuayhzdHJ1Y3QgaHVicCAqaHVicCwgYm9vbCBibGFuayk7CisKK3ZvaWQgaHVicDJfY3Vyc29y
X3NldF9wb3NpdGlvbigKKwkJc3RydWN0IGh1YnAgKmh1YnAsCisJCWNvbnN0IHN0cnVjdCBkY19j
dXJzb3JfcG9zaXRpb24gKnBvcywKKwkJY29uc3Qgc3RydWN0IGRjX2N1cnNvcl9taV9wYXJhbSAq
cGFyYW0pOworCit2b2lkIGh1YnAyX2Nsa19jbnRsKHN0cnVjdCBodWJwICpodWJwLCBib29sIGVu
YWJsZSk7CisKK3ZvaWQgaHVicDJfdnRnX3NlbChzdHJ1Y3QgaHVicCAqaHVicCwgdWludDMyX3Qg
b3RnX2luc3QpOworCit2b2lkIGh1YnAyX2NsZWFyX3VuZGVyZmxvdyhzdHJ1Y3QgaHVicCAqaHVi
cCk7CisKK3ZvaWQgaHVicDJfcmVhZF9zdGF0ZV9jb21tb24oc3RydWN0IGh1YnAgKmh1YnApOwor
Cit2b2lkIGh1YnAyX3JlYWRfc3RhdGUoc3RydWN0IGh1YnAgKmh1YnApOworCiAjZW5kaWYgLyog
X19EQ19NRU1fSU5QVVRfRENOMjBfSF9fICovCiAKIAotLSAKMi4yMi4wCgpfX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAph
bWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9y
Zy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZng=
