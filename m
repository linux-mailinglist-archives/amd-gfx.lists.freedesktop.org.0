Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 7A2A21144E6
	for <lists+amd-gfx@lfdr.de>; Thu,  5 Dec 2019 17:34:19 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 077FE6F8A5;
	Thu,  5 Dec 2019 16:34:18 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM10-BN7-obe.outbound.protection.outlook.com
 (mail-bn7nam10on2057.outbound.protection.outlook.com [40.107.92.57])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E51CE6F8A5
 for <amd-gfx@lists.freedesktop.org>; Thu,  5 Dec 2019 16:34:16 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=dMR/PWAYhqI2tUpNNZnXBk/+cUGTHut/05PHu7DBwozhUW5WkNIJTXoLDk1iZhkS//KDAyA0/J++ADutB1Dhx1Mr8J/lRKsdRuqx7xv4MiXd7QTVhfM/aCcnGOUe7TAqhiFyhKGjTtFUrfKcTlvg4BwY2Hq51sERYAYtHHqUKCkyZhrXXZ7S24LA/NbPNsJ/TzjThQgXeRlgQn/ISetdrTe0AMDJ0ImkEXEu3eURxZpkt/MNdBu9bSgA0gCf7Pp/3GOdacf7+3MpWo1WyW/Ae8y5re77nuxtFQMNrDG58KzS2IBgiZ1WDK38UK5KDJoRlSJ/NJM+37m9VCrRppa/SA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=S8XkDD6Z/xI24lUMXwje8dks44jQrhKsXVcwzMFdqhg=;
 b=j9vvkOHiYWyKsMfvBiZjgTnBpqO/TteD18QceOQuvM30WbM6yD+pvN8CujWqnFwZnWC18Ox2iv1W00RZvJLwMxBo40+YwvXuy5IU+KcWPSJyWmk8S7NHrEhaup/MH4hxwWik1uVG0ozPcj4/EgRP+kVFfDDdeLuvV5TGuczJK+tGnNiJegKExZgxG/EaENpuLsAHpCU2S979k0c0pvkB1MIGGMK18UFaI160t2vzTSWEdlj7AK9HM8aByULd4gIMm5B45pVmBTbH66qwZ8TBmS0ezKN6/MHECwq1ycOPjAm0pQlZa4aFYCg5icZXiIGskMroK1QMf0+wbIIPdiBDig==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from DM6PR12MB3947.namprd12.prod.outlook.com (10.255.175.222) by
 DM6PR12MB3833.namprd12.prod.outlook.com (10.255.175.146) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2516.13; Thu, 5 Dec 2019 16:34:15 +0000
Received: from DM6PR12MB3947.namprd12.prod.outlook.com
 ([fe80::a099:6fd7:e4d6:f560]) by DM6PR12MB3947.namprd12.prod.outlook.com
 ([fe80::a099:6fd7:e4d6:f560%3]) with mapi id 15.20.2516.014; Thu, 5 Dec 2019
 16:34:15 +0000
Subject: Re: [PATCH 2/5] drm/amdgpu: explicitely sync to VM updates v2
To: =?UTF-8?Q?Christian_K=c3=b6nig?= <ckoenig.leichtzumerken@gmail.com>,
 amd-gfx@lists.freedesktop.org, philip.yang@amd.com, Alex.Sierra@amd.com
References: <20191205133940.3865-1-christian.koenig@amd.com>
 <20191205133940.3865-2-christian.koenig@amd.com>
From: Felix Kuehling <felix.kuehling@amd.com>
Organization: AMD Inc.
Message-ID: <e22cc1c0-8c3e-1c81-62d8-8bb315935ee0@amd.com>
Date: Thu, 5 Dec 2019 11:34:13 -0500
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101
 Thunderbird/68.2.1
In-Reply-To: <20191205133940.3865-2-christian.koenig@amd.com>
Content-Language: en-US
X-ClientProxiedBy: YTXPR0101CA0016.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:b00::29) To DM6PR12MB3947.namprd12.prod.outlook.com
 (2603:10b6:5:148::30)
MIME-Version: 1.0
X-Originating-IP: [165.204.55.251]
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-HT: Tenant
X-MS-Office365-Filtering-Correlation-Id: e0308d9a-0bfc-4d58-27d1-08d779a0f77c
X-MS-TrafficTypeDiagnostic: DM6PR12MB3833:|DM6PR12MB3833:
X-MS-Exchange-Transport-Forked: True
X-Microsoft-Antispam-PRVS: <DM6PR12MB383358C1E9D1D3669625E570925C0@DM6PR12MB3833.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:7691;
X-Forefront-PRVS: 02426D11FE
X-Forefront-Antispam-Report: SFV:NSPM;
 SFS:(10009020)(4636009)(376002)(346002)(136003)(396003)(366004)(39860400002)(199004)(189003)(6506007)(66476007)(66556008)(186003)(26005)(66946007)(25786009)(53546011)(15650500001)(2616005)(6636002)(6512007)(11346002)(305945005)(99286004)(2870700001)(58126008)(36916002)(229853002)(52116002)(6486002)(5660300002)(2906002)(316002)(86362001)(31696002)(14444005)(50466002)(14454004)(81166006)(8936002)(65956001)(30864003)(76176011)(66574012)(36756003)(44832011)(478600001)(8676002)(81156014)(31686004)(23676004);
 DIR:OUT; SFP:1101; SCL:1; SRVR:DM6PR12MB3833;
 H:DM6PR12MB3947.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: Znt8W1fdP+90QHBV73zq51Fy251V4M5VpYZRAF3eQc3KADcwUFCJXtOZOjiQERTOQ35fSDpm7b3IQMr4vMxlk7VLdyKqEfA7BImIWxAN14v8nigat5UG5u0I00nSNZr4DoWtUtwcY/qZfiHlFN5tPXQmqioqvXjzNY5SYndRPpMoediCPM9NQ+NfojBWQwR9KVzqqd0ncdezQVujDG2mQJxVyCfZopM8yAzEB0YGmr6tFCzBIUwTYrYCzr6EVDHlOiwBEm0HkeYjwGypsW7Sr/sQd6yiI0WkrPuCjQLgjrEmlb3ONyqouaXQLOIKwVjtGvHm2AvAh2Pb+VkgrYZoI8OBeB6yTDkNL/WBRjT5fs1mbMytSNXx3rjtjeC7YnYulBXzU8WKtQAP4FJ433yLczoewp9N9rI5/rBoLmdW6jtYR0bZkFp/qjSmwJ1hjOOt
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: e0308d9a-0bfc-4d58-27d1-08d779a0f77c
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 05 Dec 2019 16:34:15.1341 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: ohavGUsm2VBuTaCNFcgqD/Wk6aAT7QjiE9GyIiXoTBB5td4cuXCc1O7kCX72hCxeLvQrw7VIDPDBQgh0cDYbGQ==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM6PR12MB3833
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=S8XkDD6Z/xI24lUMXwje8dks44jQrhKsXVcwzMFdqhg=;
 b=W7lrDpzjnv2ZrNIX13YhuwBkMEDqx9gMRspPIXH4wXc2Y+tkm84AE6z/U/Y4NQIl1XyyRZ6QbY4zhfG2POtMxWvBH7Vv4D6HpokYce/yQp+J/50MpNy4pOF4R4Elf1aAXLqIqI/CFl7QEI9znuOIYXBjB3TtTuUQ95FQOvp8PDU=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Felix.Kuehling@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

T24gMjAxOS0xMi0wNSA4OjM5IGEubS4sIENocmlzdGlhbiBLw7ZuaWcgd3JvdGU6Cj4gQWxsb3dz
IHVzIHRvIHJlZHVjZSB0aGUgb3ZlcmhlYWQgd2hpbGUgc3luY2luZyB0byBmZW5jZXMgYSBiaXQu
Cj4KPiB2MjogYWxzbyBkcm9wIGFkZXYgcGFyYW1ldGVyIGZyb20gdGhlIGZ1bmN0aW9ucwo+Cj4g
U2lnbmVkLW9mZi1ieTogQ2hyaXN0aWFuIEvDtm5pZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29t
PgoKUmV2aWV3ZWQtYnk6IEZlbGl4IEt1ZWhsaW5nIDxGZWxpeC5LdWVobGluZ0BhbWQuY29tPgoK
Cj4gLS0tCj4gICAuLi4vZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9hbWRrZmRfZ3B1dm0uYyAg
fCAgOCArKy0tCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfY3MuYyAgICAg
ICAgfCAxOSArKystLS0tLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
aWRzLmMgICAgICAgfCAxMyArKystLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9h
bWRncHVfam9iLmMgICAgICAgfCAgMyArLQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
YW1kZ3B1X3N5bmMuYyAgICAgIHwgMzggKysrKysrKysrKysrKystLS0tLQo+ICAgZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3N5bmMuaCAgICAgIHwgIDggKystLQo+ICAgZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3ZtX3NkbWEuYyAgIHwgIDIgKy0KPiAgIDcgZmls
ZXMgY2hhbmdlZCwgNTEgaW5zZXJ0aW9ucygrKSwgNDAgZGVsZXRpb25zKC0pCj4KPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZF9ncHV2bS5jIGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZF9ncHV2bS5jCj4gaW5kZXgg
YjZkMTk1OGQ1MTRmLi5kOGRiNWVjZGY5YzEgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZF9ncHV2bS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvYW1kZ3B1X2FtZGtmZF9ncHV2bS5jCj4gQEAgLTM1OCw3ICszNTgsNyBAQCBz
dGF0aWMgaW50IHZtX3VwZGF0ZV9wZHMoc3RydWN0IGFtZGdwdV92bSAqdm0sIHN0cnVjdCBhbWRn
cHVfc3luYyAqc3luYykKPiAgIAlpZiAocmV0KQo+ICAgCQlyZXR1cm4gcmV0Owo+ICAgCj4gLQly
ZXR1cm4gYW1kZ3B1X3N5bmNfZmVuY2UoTlVMTCwgc3luYywgdm0tPmxhc3RfdXBkYXRlLCBmYWxz
ZSk7Cj4gKwlyZXR1cm4gYW1kZ3B1X3N5bmNfZmVuY2Uoc3luYywgdm0tPmxhc3RfdXBkYXRlLCBm
YWxzZSk7Cj4gICB9Cj4gICAKPiAgIHN0YXRpYyB1aW50NjRfdCBnZXRfcHRlX2ZsYWdzKHN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2LCBzdHJ1Y3Qga2dkX21lbSAqbWVtKQo+IEBAIC03NTEsNyAr
NzUxLDcgQEAgc3RhdGljIGludCB1bm1hcF9ib19mcm9tX2dwdXZtKHN0cnVjdCBhbWRncHVfZGV2
aWNlICphZGV2LAo+ICAgCj4gICAJYW1kZ3B1X3ZtX2NsZWFyX2ZyZWVkKGFkZXYsIHZtLCAmYm9f
dmEtPmxhc3RfcHRfdXBkYXRlKTsKPiAgIAo+IC0JYW1kZ3B1X3N5bmNfZmVuY2UoTlVMTCwgc3lu
YywgYm9fdmEtPmxhc3RfcHRfdXBkYXRlLCBmYWxzZSk7Cj4gKwlhbWRncHVfc3luY19mZW5jZShz
eW5jLCBib192YS0+bGFzdF9wdF91cGRhdGUsIGZhbHNlKTsKPiAgIAo+ICAgCXJldHVybiAwOwo+
ICAgfQo+IEBAIC03NzAsNyArNzcwLDcgQEAgc3RhdGljIGludCB1cGRhdGVfZ3B1dm1fcHRlKHN0
cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LAo+ICAgCQlyZXR1cm4gcmV0Owo+ICAgCX0KPiAgIAo+
IC0JcmV0dXJuIGFtZGdwdV9zeW5jX2ZlbmNlKE5VTEwsIHN5bmMsIGJvX3ZhLT5sYXN0X3B0X3Vw
ZGF0ZSwgZmFsc2UpOwo+ICsJcmV0dXJuIGFtZGdwdV9zeW5jX2ZlbmNlKHN5bmMsIGJvX3ZhLT5s
YXN0X3B0X3VwZGF0ZSwgZmFsc2UpOwo+ICAgfQo+ICAgCj4gICBzdGF0aWMgaW50IG1hcF9ib190
b19ncHV2bShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKPiBAQCAtMjA0NSw3ICsyMDQ1LDcg
QEAgaW50IGFtZGdwdV9hbWRrZmRfZ3B1dm1fcmVzdG9yZV9wcm9jZXNzX2Jvcyh2b2lkICppbmZv
LCBzdHJ1Y3QgZG1hX2ZlbmNlICoqZWYpCj4gICAJCQlwcl9kZWJ1ZygiTWVtb3J5IGV2aWN0aW9u
OiBWYWxpZGF0ZSBCT3MgZmFpbGVkLiBUcnkgYWdhaW5cbiIpOwo+ICAgCQkJZ290byB2YWxpZGF0
ZV9tYXBfZmFpbDsKPiAgIAkJfQo+IC0JCXJldCA9IGFtZGdwdV9zeW5jX2ZlbmNlKE5VTEwsICZz
eW5jX29iaiwgYm8tPnRiby5tb3ZpbmcsIGZhbHNlKTsKPiArCQlyZXQgPSBhbWRncHVfc3luY19m
ZW5jZSgmc3luY19vYmosIGJvLT50Ym8ubW92aW5nLCBmYWxzZSk7Cj4gICAJCWlmIChyZXQpIHsK
PiAgIAkJCXByX2RlYnVnKCJNZW1vcnkgZXZpY3Rpb246IFN5bmMgQk8gZmVuY2UgZmFpbGVkLiBU
cnkgYWdhaW5cbiIpOwo+ICAgCQkJZ290byB2YWxpZGF0ZV9tYXBfZmFpbDsKPiBkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2NzLmMgYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHVfY3MuYwo+IGluZGV4IDllMGM5OTc2MDM2Ny4uNjE0OTE5ZjI2
NWI5IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9jcy5j
Cj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2NzLmMKPiBAQCAtNzk5
LDI5ICs3OTksMjMgQEAgc3RhdGljIGludCBhbWRncHVfY3Nfdm1faGFuZGxpbmcoc3RydWN0IGFt
ZGdwdV9jc19wYXJzZXIgKnApCj4gICAJaWYgKHIpCj4gICAJCXJldHVybiByOwo+ICAgCj4gLQly
ID0gYW1kZ3B1X3N5bmNfZmVuY2UoYWRldiwgJnAtPmpvYi0+c3luYywKPiAtCQkJICAgICAgZnBy
aXYtPnBydF92YS0+bGFzdF9wdF91cGRhdGUsIGZhbHNlKTsKPiArCXIgPSBhbWRncHVfc3luY192
bV9mZW5jZSgmcC0+am9iLT5zeW5jLCBmcHJpdi0+cHJ0X3ZhLT5sYXN0X3B0X3VwZGF0ZSk7Cj4g
ICAJaWYgKHIpCj4gICAJCXJldHVybiByOwo+ICAgCj4gICAJaWYgKGFtZGdwdV9tY2JwIHx8IGFt
ZGdwdV9zcmlvdl92ZihhZGV2KSkgewo+IC0JCXN0cnVjdCBkbWFfZmVuY2UgKmY7Cj4gLQo+ICAg
CQlib192YSA9IGZwcml2LT5jc2FfdmE7Cj4gICAJCUJVR19PTighYm9fdmEpOwo+ICAgCQlyID0g
YW1kZ3B1X3ZtX2JvX3VwZGF0ZShhZGV2LCBib192YSwgZmFsc2UpOwo+ICAgCQlpZiAocikKPiAg
IAkJCXJldHVybiByOwo+ICAgCj4gLQkJZiA9IGJvX3ZhLT5sYXN0X3B0X3VwZGF0ZTsKPiAtCQly
ID0gYW1kZ3B1X3N5bmNfZmVuY2UoYWRldiwgJnAtPmpvYi0+c3luYywgZiwgZmFsc2UpOwo+ICsJ
CXIgPSBhbWRncHVfc3luY192bV9mZW5jZSgmcC0+am9iLT5zeW5jLCBib192YS0+bGFzdF9wdF91
cGRhdGUpOwo+ICAgCQlpZiAocikKPiAgIAkJCXJldHVybiByOwo+ICAgCX0KPiAgIAo+ICAgCWFt
ZGdwdV9ib19saXN0X2Zvcl9lYWNoX2VudHJ5KGUsIHAtPmJvX2xpc3QpIHsKPiAtCQlzdHJ1Y3Qg
ZG1hX2ZlbmNlICpmOwo+IC0KPiAgIAkJLyogaWdub3JlIGR1cGxpY2F0ZXMgKi8KPiAgIAkJYm8g
PSB0dG1fdG9fYW1kZ3B1X2JvKGUtPnR2LmJvKTsKPiAgIAkJaWYgKCFibykKPiBAQCAtODM1LDgg
KzgyOSw3IEBAIHN0YXRpYyBpbnQgYW1kZ3B1X2NzX3ZtX2hhbmRsaW5nKHN0cnVjdCBhbWRncHVf
Y3NfcGFyc2VyICpwKQo+ICAgCQlpZiAocikKPiAgIAkJCXJldHVybiByOwo+ICAgCj4gLQkJZiA9
IGJvX3ZhLT5sYXN0X3B0X3VwZGF0ZTsKPiAtCQlyID0gYW1kZ3B1X3N5bmNfZmVuY2UoYWRldiwg
JnAtPmpvYi0+c3luYywgZiwgZmFsc2UpOwo+ICsJCXIgPSBhbWRncHVfc3luY192bV9mZW5jZSgm
cC0+am9iLT5zeW5jLCBib192YS0+bGFzdF9wdF91cGRhdGUpOwo+ICAgCQlpZiAocikKPiAgIAkJ
CXJldHVybiByOwo+ICAgCX0KPiBAQCAtODQ5LDcgKzg0Miw3IEBAIHN0YXRpYyBpbnQgYW1kZ3B1
X2NzX3ZtX2hhbmRsaW5nKHN0cnVjdCBhbWRncHVfY3NfcGFyc2VyICpwKQo+ICAgCWlmIChyKQo+
ICAgCQlyZXR1cm4gcjsKPiAgIAo+IC0JciA9IGFtZGdwdV9zeW5jX2ZlbmNlKGFkZXYsICZwLT5q
b2ItPnN5bmMsIHZtLT5sYXN0X3VwZGF0ZSwgZmFsc2UpOwo+ICsJciA9IGFtZGdwdV9zeW5jX3Zt
X2ZlbmNlKCZwLT5qb2ItPnN5bmMsIHZtLT5sYXN0X3VwZGF0ZSk7Cj4gICAJaWYgKHIpCj4gICAJ
CXJldHVybiByOwo+ICAgCj4gQEAgLTk5MSw3ICs5ODQsNyBAQCBzdGF0aWMgaW50IGFtZGdwdV9j
c19wcm9jZXNzX2ZlbmNlX2RlcChzdHJ1Y3QgYW1kZ3B1X2NzX3BhcnNlciAqcCwKPiAgIAkJCWRt
YV9mZW5jZV9wdXQob2xkKTsKPiAgIAkJfQo+ICAgCj4gLQkJciA9IGFtZGdwdV9zeW5jX2ZlbmNl
KHAtPmFkZXYsICZwLT5qb2ItPnN5bmMsIGZlbmNlLCB0cnVlKTsKPiArCQlyID0gYW1kZ3B1X3N5
bmNfZmVuY2UoJnAtPmpvYi0+c3luYywgZmVuY2UsIHRydWUpOwo+ICAgCQlkbWFfZmVuY2VfcHV0
KGZlbmNlKTsKPiAgIAkJaWYgKHIpCj4gICAJCQlyZXR1cm4gcjsKPiBAQCAtMTAxMyw3ICsxMDA2
LDcgQEAgc3RhdGljIGludCBhbWRncHVfc3luY29ial9sb29rdXBfYW5kX2FkZF90b19zeW5jKHN0
cnVjdCBhbWRncHVfY3NfcGFyc2VyICpwLAo+ICAgCQlyZXR1cm4gcjsKPiAgIAl9Cj4gICAKPiAt
CXIgPSBhbWRncHVfc3luY19mZW5jZShwLT5hZGV2LCAmcC0+am9iLT5zeW5jLCBmZW5jZSwgdHJ1
ZSk7Cj4gKwlyID0gYW1kZ3B1X3N5bmNfZmVuY2UoJnAtPmpvYi0+c3luYywgZmVuY2UsIHRydWUp
Owo+ICAgCWRtYV9mZW5jZV9wdXQoZmVuY2UpOwo+ICAgCj4gICAJcmV0dXJuIHI7Cj4gZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9pZHMuYyBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9pZHMuYwo+IGluZGV4IDZmOTI4OTczNWUzMS4uM2E2
N2Y2YzA0NmQ0IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdw
dV9pZHMuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9pZHMuYwo+
IEBAIC0yMDYsNyArMjA2LDcgQEAgc3RhdGljIGludCBhbWRncHVfdm1pZF9ncmFiX2lkbGUoc3Ry
dWN0IGFtZGdwdV92bSAqdm0sCj4gICAJaW50IHI7Cj4gICAKPiAgIAlpZiAocmluZy0+dm1pZF93
YWl0ICYmICFkbWFfZmVuY2VfaXNfc2lnbmFsZWQocmluZy0+dm1pZF93YWl0KSkKPiAtCQlyZXR1
cm4gYW1kZ3B1X3N5bmNfZmVuY2UoYWRldiwgc3luYywgcmluZy0+dm1pZF93YWl0LCBmYWxzZSk7
Cj4gKwkJcmV0dXJuIGFtZGdwdV9zeW5jX2ZlbmNlKHN5bmMsIHJpbmctPnZtaWRfd2FpdCwgZmFs
c2UpOwo+ICAgCj4gICAJZmVuY2VzID0ga21hbGxvY19hcnJheShzaXplb2Yodm9pZCAqKSwgaWRf
bWdyLT5udW1faWRzLCBHRlBfS0VSTkVMKTsKPiAgIAlpZiAoIWZlbmNlcykKPiBAQCAtMjQxLDcg
KzI0MSw3IEBAIHN0YXRpYyBpbnQgYW1kZ3B1X3ZtaWRfZ3JhYl9pZGxlKHN0cnVjdCBhbWRncHVf
dm0gKnZtLAo+ICAgCQkJcmV0dXJuIC1FTk9NRU07Cj4gICAJCX0KPiAgIAo+IC0JCXIgPSBhbWRn
cHVfc3luY19mZW5jZShhZGV2LCBzeW5jLCAmYXJyYXktPmJhc2UsIGZhbHNlKTsKPiArCQlyID0g
YW1kZ3B1X3N5bmNfZmVuY2Uoc3luYywgJmFycmF5LT5iYXNlLCBmYWxzZSk7Cj4gICAJCWRtYV9m
ZW5jZV9wdXQocmluZy0+dm1pZF93YWl0KTsKPiAgIAkJcmluZy0+dm1pZF93YWl0ID0gJmFycmF5
LT5iYXNlOwo+ICAgCQlyZXR1cm4gcjsKPiBAQCAtMjk0LDcgKzI5NCw3IEBAIHN0YXRpYyBpbnQg
YW1kZ3B1X3ZtaWRfZ3JhYl9yZXNlcnZlZChzdHJ1Y3QgYW1kZ3B1X3ZtICp2bSwKPiAgIAkJdG1w
ID0gYW1kZ3B1X3N5bmNfcGVla19mZW5jZSgmKCppZCktPmFjdGl2ZSwgcmluZyk7Cj4gICAJCWlm
ICh0bXApIHsKPiAgIAkJCSppZCA9IE5VTEw7Cj4gLQkJCXIgPSBhbWRncHVfc3luY19mZW5jZShh
ZGV2LCBzeW5jLCB0bXAsIGZhbHNlKTsKPiArCQkJciA9IGFtZGdwdV9zeW5jX2ZlbmNlKHN5bmMs
IHRtcCwgZmFsc2UpOwo+ICAgCQkJcmV0dXJuIHI7Cj4gICAJCX0KPiAgIAkJbmVlZHNfZmx1c2gg
PSB0cnVlOwo+IEBAIC0zMDMsNyArMzAzLDcgQEAgc3RhdGljIGludCBhbWRncHVfdm1pZF9ncmFi
X3Jlc2VydmVkKHN0cnVjdCBhbWRncHVfdm0gKnZtLAo+ICAgCS8qIEdvb2Qgd2UgY2FuIHVzZSB0
aGlzIFZNSUQuIFJlbWVtYmVyIHRoaXMgc3VibWlzc2lvbiBhcwo+ICAgCSogdXNlciBvZiB0aGUg
Vk1JRC4KPiAgIAkqLwo+IC0JciA9IGFtZGdwdV9zeW5jX2ZlbmNlKHJpbmctPmFkZXYsICYoKmlk
KS0+YWN0aXZlLCBmZW5jZSwgZmFsc2UpOwo+ICsJciA9IGFtZGdwdV9zeW5jX2ZlbmNlKCYoKmlk
KS0+YWN0aXZlLCBmZW5jZSwgZmFsc2UpOwo+ICAgCWlmIChyKQo+ICAgCQlyZXR1cm4gcjsKPiAg
IAo+IEBAIC0zNzUsNyArMzc1LDcgQEAgc3RhdGljIGludCBhbWRncHVfdm1pZF9ncmFiX3VzZWQo
c3RydWN0IGFtZGdwdV92bSAqdm0sCj4gICAJCS8qIEdvb2QsIHdlIGNhbiB1c2UgdGhpcyBWTUlE
LiBSZW1lbWJlciB0aGlzIHN1Ym1pc3Npb24gYXMKPiAgIAkJICogdXNlciBvZiB0aGUgVk1JRC4K
PiAgIAkJICovCj4gLQkJciA9IGFtZGdwdV9zeW5jX2ZlbmNlKHJpbmctPmFkZXYsICYoKmlkKS0+
YWN0aXZlLCBmZW5jZSwgZmFsc2UpOwo+ICsJCXIgPSBhbWRncHVfc3luY19mZW5jZSgmKCppZCkt
PmFjdGl2ZSwgZmVuY2UsIGZhbHNlKTsKPiAgIAkJaWYgKHIpCj4gICAJCQlyZXR1cm4gcjsKPiAg
IAo+IEBAIC00MzUsOCArNDM1LDcgQEAgaW50IGFtZGdwdV92bWlkX2dyYWIoc3RydWN0IGFtZGdw
dV92bSAqdm0sIHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywKPiAgIAkJCWlkID0gaWRsZTsKPiAg
IAo+ICAgCQkJLyogUmVtZW1iZXIgdGhpcyBzdWJtaXNzaW9uIGFzIHVzZXIgb2YgdGhlIFZNSUQg
Ki8KPiAtCQkJciA9IGFtZGdwdV9zeW5jX2ZlbmNlKHJpbmctPmFkZXYsICZpZC0+YWN0aXZlLAo+
IC0JCQkJCSAgICAgIGZlbmNlLCBmYWxzZSk7Cj4gKwkJCXIgPSBhbWRncHVfc3luY19mZW5jZSgm
aWQtPmFjdGl2ZSwgZmVuY2UsIGZhbHNlKTsKPiAgIAkJCWlmIChyKQo+ICAgCQkJCWdvdG8gZXJy
b3I7Cj4gICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1
X2pvYi5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2pvYi5jCj4gaW5kZXgg
NGZiMjBlODcwZTYzLi43MzMyOGQwYzc0MWQgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvYW1kZ3B1X2pvYi5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X2pvYi5jCj4gQEAgLTE5Myw4ICsxOTMsNyBAQCBzdGF0aWMgc3RydWN0IGRtYV9m
ZW5jZSAqYW1kZ3B1X2pvYl9kZXBlbmRlbmN5KHN0cnVjdCBkcm1fc2NoZWRfam9iICpzY2hlZF9q
b2IsCj4gICAJZmVuY2UgPSBhbWRncHVfc3luY19nZXRfZmVuY2UoJmpvYi0+c3luYywgJmV4cGxp
Y2l0KTsKPiAgIAlpZiAoZmVuY2UgJiYgZXhwbGljaXQpIHsKPiAgIAkJaWYgKGRybV9zY2hlZF9k
ZXBlbmRlbmN5X29wdGltaXplZChmZW5jZSwgc19lbnRpdHkpKSB7Cj4gLQkJCXIgPSBhbWRncHVf
c3luY19mZW5jZShyaW5nLT5hZGV2LCAmam9iLT5zY2hlZF9zeW5jLAo+IC0JCQkJCSAgICAgIGZl
bmNlLCBmYWxzZSk7Cj4gKwkJCXIgPSBhbWRncHVfc3luY19mZW5jZSgmam9iLT5zY2hlZF9zeW5j
LCBmZW5jZSwgZmFsc2UpOwo+ICAgCQkJaWYgKHIpCj4gICAJCQkJRFJNX0VSUk9SKCJFcnJvciBh
ZGRpbmcgZmVuY2UgKCVkKVxuIiwgcik7Cj4gICAJCX0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3N5bmMuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2FtZGdwdV9zeW5jLmMKPiBpbmRleCA5NWU1ZTkzZWRkMTguLmYxZTVmYmVmNTRkOCAxMDA2
NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfc3luYy5jCj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3N5bmMuYwo+IEBAIC0xMjksNyAr
MTI5LDggQEAgc3RhdGljIHZvaWQgYW1kZ3B1X3N5bmNfa2VlcF9sYXRlcihzdHJ1Y3QgZG1hX2Zl
bmNlICoqa2VlcCwKPiAgICAqIFRyaWVzIHRvIGFkZCB0aGUgZmVuY2UgdG8gYW4gZXhpc3Rpbmcg
aGFzaCBlbnRyeS4gUmV0dXJucyB0cnVlIHdoZW4gYW4gZW50cnkKPiAgICAqIHdhcyBmb3VuZCwg
ZmFsc2Ugb3RoZXJ3aXNlLgo+ICAgICovCj4gLXN0YXRpYyBib29sIGFtZGdwdV9zeW5jX2FkZF9s
YXRlcihzdHJ1Y3QgYW1kZ3B1X3N5bmMgKnN5bmMsIHN0cnVjdCBkbWFfZmVuY2UgKmYsIGJvb2wg
ZXhwbGljaXQpCj4gK3N0YXRpYyBib29sIGFtZGdwdV9zeW5jX2FkZF9sYXRlcihzdHJ1Y3QgYW1k
Z3B1X3N5bmMgKnN5bmMsIHN0cnVjdCBkbWFfZmVuY2UgKmYsCj4gKwkJCQkgIGJvb2wgZXhwbGlj
aXQpCj4gICB7Cj4gICAJc3RydWN0IGFtZGdwdV9zeW5jX2VudHJ5ICplOwo+ICAgCj4gQEAgLTE1
MSwxOSArMTUyLDE4IEBAIHN0YXRpYyBib29sIGFtZGdwdV9zeW5jX2FkZF9sYXRlcihzdHJ1Y3Qg
YW1kZ3B1X3N5bmMgKnN5bmMsIHN0cnVjdCBkbWFfZmVuY2UgKmYsCj4gICAgKiBhbWRncHVfc3lu
Y19mZW5jZSAtIHJlbWVtYmVyIHRvIHN5bmMgdG8gdGhpcyBmZW5jZQo+ICAgICoKPiAgICAqIEBz
eW5jOiBzeW5jIG9iamVjdCB0byBhZGQgZmVuY2UgdG8KPiAtICogQGZlbmNlOiBmZW5jZSB0byBz
eW5jIHRvCj4gKyAqIEBmOiBmZW5jZSB0byBzeW5jIHRvCj4gKyAqIEBleHBsaWNpdDogaWYgdGhp
cyBpcyBhbiBleHBsaWNpdCBkZXBlbmRlbmN5Cj4gICAgKgo+ICsgKiBBZGQgdGhlIGZlbmNlIHRv
IHRoZSBzeW5jIG9iamVjdC4KPiAgICAqLwo+IC1pbnQgYW1kZ3B1X3N5bmNfZmVuY2Uoc3RydWN0
IGFtZGdwdV9kZXZpY2UgKmFkZXYsIHN0cnVjdCBhbWRncHVfc3luYyAqc3luYywKPiAtCQkgICAg
ICBzdHJ1Y3QgZG1hX2ZlbmNlICpmLCBib29sIGV4cGxpY2l0KQo+ICtpbnQgYW1kZ3B1X3N5bmNf
ZmVuY2Uoc3RydWN0IGFtZGdwdV9zeW5jICpzeW5jLCBzdHJ1Y3QgZG1hX2ZlbmNlICpmLAo+ICsJ
CSAgICAgIGJvb2wgZXhwbGljaXQpCj4gICB7Cj4gICAJc3RydWN0IGFtZGdwdV9zeW5jX2VudHJ5
ICplOwo+ICAgCj4gICAJaWYgKCFmKQo+ICAgCQlyZXR1cm4gMDsKPiAtCWlmIChhbWRncHVfc3lu
Y19zYW1lX2RldihhZGV2LCBmKSAmJgo+IC0JICAgIGFtZGdwdV9zeW5jX2dldF9vd25lcihmKSA9
PSBBTURHUFVfRkVOQ0VfT1dORVJfVk0pCj4gLQkJYW1kZ3B1X3N5bmNfa2VlcF9sYXRlcigmc3lu
Yy0+bGFzdF92bV91cGRhdGUsIGYpOwo+ICAgCj4gICAJaWYgKGFtZGdwdV9zeW5jX2FkZF9sYXRl
cihzeW5jLCBmLCBleHBsaWNpdCkpCj4gICAJCXJldHVybiAwOwo+IEBAIC0xNzksNiArMTc5LDI0
IEBAIGludCBhbWRncHVfc3luY19mZW5jZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgc3Ry
dWN0IGFtZGdwdV9zeW5jICpzeW5jLAo+ICAgCXJldHVybiAwOwo+ICAgfQo+ICAgCj4gKy8qKgo+
ICsgKiBhbWRncHVfc3luY192bV9mZW5jZSAtIHJlbWVtYmVyIHRvIHN5bmMgdG8gdGhpcyBWTSBm
ZW5jZQo+ICsgKgo+ICsgKiBAYWRldjogYW1kZ3B1IGRldmljZQo+ICsgKiBAc3luYzogc3luYyBv
YmplY3QgdG8gYWRkIGZlbmNlIHRvCj4gKyAqIEBmZW5jZTogdGhlIFZNIGZlbmNlIHRvIGFkZAo+
ICsgKgo+ICsgKiBBZGQgdGhlIGZlbmNlIHRvIHRoZSBzeW5jIG9iamVjdCBhbmQgcmVtZW1iZXIg
aXQgYXMgVk0gdXBkYXRlLgo+ICsgKi8KPiAraW50IGFtZGdwdV9zeW5jX3ZtX2ZlbmNlKHN0cnVj
dCBhbWRncHVfc3luYyAqc3luYywgc3RydWN0IGRtYV9mZW5jZSAqZmVuY2UpCj4gK3sKPiArCWlm
ICghZmVuY2UpCj4gKwkJcmV0dXJuIDA7Cj4gKwo+ICsJYW1kZ3B1X3N5bmNfa2VlcF9sYXRlcigm
c3luYy0+bGFzdF92bV91cGRhdGUsIGZlbmNlKTsKPiArCXJldHVybiBhbWRncHVfc3luY19mZW5j
ZShzeW5jLCBmZW5jZSwgZmFsc2UpOwo+ICt9Cj4gKwo+ICAgLyoqCj4gICAgKiBhbWRncHVfc3lu
Y19yZXN2IC0gc3luYyB0byBhIHJlc2VydmF0aW9uIG9iamVjdAo+ICAgICoKPiBAQCAtMjA0LDcg
KzIyMiw3IEBAIGludCBhbWRncHVfc3luY19yZXN2KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2
LAo+ICAgCj4gICAJLyogYWx3YXlzIHN5bmMgdG8gdGhlIGV4Y2x1c2l2ZSBmZW5jZSAqLwo+ICAg
CWYgPSBkbWFfcmVzdl9nZXRfZXhjbChyZXN2KTsKPiAtCXIgPSBhbWRncHVfc3luY19mZW5jZShh
ZGV2LCBzeW5jLCBmLCBmYWxzZSk7Cj4gKwlyID0gYW1kZ3B1X3N5bmNfZmVuY2Uoc3luYywgZiwg
ZmFsc2UpOwo+ICAgCj4gICAJZmxpc3QgPSBkbWFfcmVzdl9nZXRfbGlzdChyZXN2KTsKPiAgIAlp
ZiAoIWZsaXN0IHx8IHIpCj4gQEAgLTIzOSw3ICsyNTcsNyBAQCBpbnQgYW1kZ3B1X3N5bmNfcmVz
dihzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwKPiAgIAkJCQljb250aW51ZTsKPiAgIAkJfQo+
ICAgCj4gLQkJciA9IGFtZGdwdV9zeW5jX2ZlbmNlKGFkZXYsIHN5bmMsIGYsIGZhbHNlKTsKPiAr
CQlyID0gYW1kZ3B1X3N5bmNfZmVuY2Uoc3luYywgZiwgZmFsc2UpOwo+ICAgCQlpZiAocikKPiAg
IAkJCWJyZWFrOwo+ICAgCX0KPiBAQCAtMzQwLDcgKzM1OCw3IEBAIGludCBhbWRncHVfc3luY19j
bG9uZShzdHJ1Y3QgYW1kZ3B1X3N5bmMgKnNvdXJjZSwgc3RydWN0IGFtZGdwdV9zeW5jICpjbG9u
ZSkKPiAgIAloYXNoX2Zvcl9lYWNoX3NhZmUoc291cmNlLT5mZW5jZXMsIGksIHRtcCwgZSwgbm9k
ZSkgewo+ICAgCQlmID0gZS0+ZmVuY2U7Cj4gICAJCWlmICghZG1hX2ZlbmNlX2lzX3NpZ25hbGVk
KGYpKSB7Cj4gLQkJCXIgPSBhbWRncHVfc3luY19mZW5jZShOVUxMLCBjbG9uZSwgZiwgZS0+ZXhw
bGljaXQpOwo+ICsJCQlyID0gYW1kZ3B1X3N5bmNfZmVuY2UoY2xvbmUsIGYsIGUtPmV4cGxpY2l0
KTsKPiAgIAkJCWlmIChyKQo+ICAgCQkJCXJldHVybiByOwo+ICAgCQl9IGVsc2Ugewo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfc3luYy5oIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3N5bmMuaAo+IGluZGV4IGI1ZjE3NzhhMjMxOS4u
ZDYyYzJiODFkOTJiIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV9zeW5jLmgKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfc3lu
Yy5oCj4gQEAgLTQwLDggKzQwLDkgQEAgc3RydWN0IGFtZGdwdV9zeW5jIHsKPiAgIH07Cj4gICAK
PiAgIHZvaWQgYW1kZ3B1X3N5bmNfY3JlYXRlKHN0cnVjdCBhbWRncHVfc3luYyAqc3luYyk7Cj4g
LWludCBhbWRncHVfc3luY19mZW5jZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgc3RydWN0
IGFtZGdwdV9zeW5jICpzeW5jLAo+IC0JCSAgICAgIHN0cnVjdCBkbWFfZmVuY2UgKmYsIGJvb2wg
ZXhwbGljaXQpOwo+ICtpbnQgYW1kZ3B1X3N5bmNfZmVuY2Uoc3RydWN0IGFtZGdwdV9zeW5jICpz
eW5jLCBzdHJ1Y3QgZG1hX2ZlbmNlICpmLAo+ICsJCSAgICAgIGJvb2wgZXhwbGljaXQpOwo+ICtp
bnQgYW1kZ3B1X3N5bmNfdm1fZmVuY2Uoc3RydWN0IGFtZGdwdV9zeW5jICpzeW5jLCBzdHJ1Y3Qg
ZG1hX2ZlbmNlICpmZW5jZSk7Cj4gICBpbnQgYW1kZ3B1X3N5bmNfcmVzdihzdHJ1Y3QgYW1kZ3B1
X2RldmljZSAqYWRldiwKPiAgIAkJICAgICBzdHJ1Y3QgYW1kZ3B1X3N5bmMgKnN5bmMsCj4gICAJ
CSAgICAgc3RydWN0IGRtYV9yZXN2ICpyZXN2LAo+IEBAIC00OSw3ICs1MCw4IEBAIGludCBhbWRn
cHVfc3luY19yZXN2KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LAo+ICAgCQkgICAgIGJvb2wg
ZXhwbGljaXRfc3luYyk7Cj4gICBzdHJ1Y3QgZG1hX2ZlbmNlICphbWRncHVfc3luY19wZWVrX2Zl
bmNlKHN0cnVjdCBhbWRncHVfc3luYyAqc3luYywKPiAgIAkJCQkgICAgIHN0cnVjdCBhbWRncHVf
cmluZyAqcmluZyk7Cj4gLXN0cnVjdCBkbWFfZmVuY2UgKmFtZGdwdV9zeW5jX2dldF9mZW5jZShz
dHJ1Y3QgYW1kZ3B1X3N5bmMgKnN5bmMsIGJvb2wgKmV4cGxpY2l0KTsKPiArc3RydWN0IGRtYV9m
ZW5jZSAqYW1kZ3B1X3N5bmNfZ2V0X2ZlbmNlKHN0cnVjdCBhbWRncHVfc3luYyAqc3luYywKPiAr
CQkJCQlib29sICpleHBsaWNpdCk7Cj4gICBpbnQgYW1kZ3B1X3N5bmNfY2xvbmUoc3RydWN0IGFt
ZGdwdV9zeW5jICpzb3VyY2UsIHN0cnVjdCBhbWRncHVfc3luYyAqY2xvbmUpOwo+ICAgaW50IGFt
ZGdwdV9zeW5jX3dhaXQoc3RydWN0IGFtZGdwdV9zeW5jICpzeW5jLCBib29sIGludHIpOwo+ICAg
dm9pZCBhbWRncHVfc3luY19mcmVlKHN0cnVjdCBhbWRncHVfc3luYyAqc3luYyk7Cj4gZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92bV9zZG1hLmMgYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdm1fc2RtYS5jCj4gaW5kZXggODMyZGI1OWY0
NDFlLi41MGY0ODc2NjY5NzcgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X3ZtX3NkbWEuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV92bV9zZG1hLmMKPiBAQCAtNzEsNyArNzEsNyBAQCBzdGF0aWMgaW50IGFtZGdwdV92bV9z
ZG1hX3ByZXBhcmUoc3RydWN0IGFtZGdwdV92bV91cGRhdGVfcGFyYW1zICpwLAo+ICAgCXAtPm51
bV9kd19sZWZ0ID0gbmR3Owo+ICAgCj4gICAJLyogV2FpdCBmb3IgbW92ZXMgdG8gYmUgY29tcGxl
dGVkICovCj4gLQlyID0gYW1kZ3B1X3N5bmNfZmVuY2UocC0+YWRldiwgJnAtPmpvYi0+c3luYywg
ZXhjbHVzaXZlLCBmYWxzZSk7Cj4gKwlyID0gYW1kZ3B1X3N5bmNfZmVuY2UoJnAtPmpvYi0+c3lu
YywgZXhjbHVzaXZlLCBmYWxzZSk7Cj4gICAJaWYgKHIpCj4gICAJCXJldHVybiByOwo+ICAgCl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmFtZC1nZnggbWFp
bGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeA==
