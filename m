Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 8179B8850E
	for <lists+amd-gfx@lfdr.de>; Fri,  9 Aug 2019 23:38:57 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 39C0C6EEC9;
	Fri,  9 Aug 2019 21:38:55 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM05-DM3-obe.outbound.protection.outlook.com
 (mail-eopbgr730054.outbound.protection.outlook.com [40.107.73.54])
 by gabe.freedesktop.org (Postfix) with ESMTPS id CF6526EEC7
 for <amd-gfx@lists.freedesktop.org>; Fri,  9 Aug 2019 21:38:53 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=UIjLhxB5yg+dZKyWexBlnaf1/ufxGdcunj6C2bISzErSQZUNzIoZaRy7lrc+4wKqB+GhJpV44XLnzXjif/rcttlVo0ovhaQJ26hkvBK4Umsy//EP3tGbv9f7/BkukxzdPXVp0rli9W2erFF/5TGOKPqkA5TDRItVwNcYQdKLMY6NZHUFsw1CcCWighV10mUCHhnCm9+ZQpaOTzyoBJQ7S4Xj/SqczA8OWleWxhjXL8JzuzWpOaFSNizYHBc+6CkxpLJK8QAG4KAeOhMNJ/Wb/c97LlgePQqt3wn7q29iHajC+SJe7nMJSVzA/psUB+ge8AUtn8NsY4NZxv5wprRkPg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=x9P1LB5Btja3Dhl8B4dmkFJ9PX59IBUDG45Qa03NofY=;
 b=gSyz9ODxvrzutr2VzLxt0jSguBFh7ftKYcUlnKKJgAjnnNqsKLKy5SnrekzuTRo5r0ZdNqxB4Px7jLJmac4JRl5gXoHkFQ/PhLWAQyvPYAS8wc2dUrC2t7ChxWgUBsrRGQQzNCwimtWFIpCmeWYl0XEe3ICZkLhVG6QP13L8dvxHzeyw9bdd2JaBKXOhVLubzdbtd3BPYknruwfkFQZ16DW+GPc9KgENkssQmbcjvnVLjQyxQbe8wwjmUXKhvBdQ7n4DUiZk92VLmctxus9XtpOr5QY6ZWfu6SHbPTG5jkntHglOHw2SnDC4tjVlAO50t23CKRD8dBbrTSMZ0n6oVA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=none (sender ip is
 165.204.84.17) smtp.rcpttodomain=lists.freedesktop.org smtp.mailfrom=amd.com; 
 dmarc=permerror action=none header.from=amd.com; dkim=none (message not
 signed); arc=none
Received: from BN6PR12CA0045.namprd12.prod.outlook.com (2603:10b6:405:70::31)
 by BYAPR12MB2709.namprd12.prod.outlook.com (2603:10b6:a03:68::10)
 with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2157.20; Fri, 9 Aug
 2019 21:38:51 +0000
Received: from DM3NAM03FT062.eop-NAM03.prod.protection.outlook.com
 (2a01:111:f400:7e49::200) by BN6PR12CA0045.outlook.office365.com
 (2603:10b6:405:70::31) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2157.18 via Frontend
 Transport; Fri, 9 Aug 2019 21:38:51 +0000
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
Received: from SATLEXCHOV01.amd.com (165.204.84.17) by
 DM3NAM03FT062.mail.protection.outlook.com (10.152.83.142) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384) id
 15.20.2157.15 via Frontend Transport; Fri, 9 Aug 2019 21:38:51 +0000
Received: from localhost.localdomain (10.180.168.240) by SATLEXCHOV01.amd.com
 (10.181.40.71) with Microsoft SMTP Server id 14.3.389.1;
 Fri, 9 Aug 2019 16:38:41 -0500
From: <sunpeng.li@amd.com>
To: <amd-gfx@lists.freedesktop.org>
Subject: [PATCH 36/49] drm/amd/display: wake up ogam mem pwr before
 programming ocsc
Date: Fri, 9 Aug 2019 17:37:29 -0400
Message-ID: <20190809213742.30301-37-sunpeng.li@amd.com>
X-Mailer: git-send-email 2.22.0
In-Reply-To: <20190809213742.30301-1-sunpeng.li@amd.com>
References: <20190809213742.30301-1-sunpeng.li@amd.com>
MIME-Version: 1.0
X-EOPAttributedMessage: 0
X-MS-Office365-Filtering-HT: Tenant
X-Forefront-Antispam-Report: CIP:165.204.84.17; IPV:NLI; CTRY:US; EFV:NLI;
 SFV:NSPM;
 SFS:(10009020)(4636009)(396003)(346002)(376002)(39860400002)(136003)(2980300002)(428003)(199004)(189003)(6916009)(8676002)(6666004)(14444005)(356004)(51416003)(2351001)(81166006)(81156014)(86362001)(478600001)(76176011)(49486002)(1076003)(186003)(26005)(5660300002)(48376002)(50466002)(70586007)(70206006)(36756003)(305945005)(4326008)(47776003)(426003)(2906002)(336012)(476003)(126002)(316002)(2616005)(2870700001)(50226002)(8936002)(446003)(11346002)(486006)(2876002)(54906003)(53936002);
 DIR:OUT; SFP:1101; SCL:1; SRVR:BYAPR12MB2709; H:SATLEXCHOV01.amd.com; FPR:;
 SPF:None; LANG:en; PTR:InfoDomainNonexistent; A:1; MX:1; 
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-Correlation-Id: 32514e7d-0644-47c2-6b01-08d71d11f82f
X-Microsoft-Antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(2017052603328);
 SRVR:BYAPR12MB2709; 
X-MS-TrafficTypeDiagnostic: BYAPR12MB2709:
X-Microsoft-Antispam-PRVS: <BYAPR12MB2709C6CA346EF5CDCDD3ABF682D60@BYAPR12MB2709.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:439;
X-Forefront-PRVS: 01244308DF
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam-Message-Info: QOb9TbTreMc6+gFCMFOAYVPP9OjN+gvWq2zu5qgPs1fRHGNL/OazuNt7H8mGWIIjrRhkHjZtBvc2AR/35O0b9sIRaxmjzQ3qlU6fGnguUE0ZWViSkTHjOMoo6nFnEIa4TjABe8tRjgcnMEYZJBqQOZT/iZwE7nemFwuTLNYKrRxG46+FCivw2ilF+ppKTCMY+iDsUgg5xmXwqnRWwxVkn8tPdouovLGlVtYmYU61RDBQ5uBrRDzOy+h8r8PhLELiI2HBWtfFnDJ24AW3Gu5fgAsl6UkKoLkQyIFizKapNsEmDEr1LLfr+grdYzrMUt7chmyjUslwaxEk/DmunR4pEOoYMpiouJnj60RmX3rIQAP94uhl9j5PkItxZzERXPpoit9LnDK9SNOw5Vv+AtYoJkz7XxX0vKzMrb604E5+yqQ=
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 09 Aug 2019 21:38:51.0400 (UTC)
X-MS-Exchange-CrossTenant-Network-Message-Id: 32514e7d-0644-47c2-6b01-08d71d11f82f
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-OriginalAttributedTenantConnectingIp: TenantId=3dd8961f-e488-4e60-8e11-a82d994e183d; Ip=[165.204.84.17];
 Helo=[SATLEXCHOV01.amd.com]
X-MS-Exchange-CrossTenant-FromEntityHeader: HybridOnPrem
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BYAPR12MB2709
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=x9P1LB5Btja3Dhl8B4dmkFJ9PX59IBUDG45Qa03NofY=;
 b=lTpRnn3lr6kdrRd+fPb0/HhSMFXBIjPe4IYUUWbX6c7/rh38yw3b8hb/AnLuu09Okufe5WAny7aw8o/jf+kAATL67E2bdJFxnYKGQy0X1C3szbPiqYK7P/NKAQ+CucSzV+IW7O2m0OIri2gFtG7+jo2mNN7v6tQOU4XX9JNTJy8=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is
 165.204.84.17)
 smtp.mailfrom=amd.com; lists.freedesktop.org; dkim=none (message not signed)
 header.d=none;lists.freedesktop.org; dmarc=permerror action=none
 header.from=amd.com;
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Leo Li <sunpeng.li@amd.com>, Charlene Liu <charlene.liu@amd.com>,
 Julian Parkin <jparkin@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogQ2hhcmxlbmUgTGl1IDxjaGFybGVuZS5saXVAYW1kLmNvbT4KCltEZXNjcmlwdGlvbl0K
T0dBTV9NRU1fUFdSIGNvdWxkIHN0YXkgaW4gbGlnaHQgdXAgd2hlbiBkcml2ZXIgd29rZSB1cCB0
byB1cGRhdGUgZ2FtbWEuCmVpdGhlciBkaXNhYmxlIE1FTV9MT1cgcG93ZXIgZmVhdHVyZSBvciBz
ZXQgdG8gT0dBTV9ieXBhc3MgY291bGQgbWFrZSBhcnRpZmljaWFsIGNvbG9yIGRpc3RvcnRpb24g
Z29lcyBhd2F5LgpFYXN5IHJlcHJvZHVjZSBhZnRlciBMT1dfTUVNIFBvd2VyIGZlYXR1cmUgZW5h
YmxlcyBhbmQgcmVzdW1lIGZyb20gUzMuCgpTaWduZWQtb2ZmLWJ5OiBDaGFybGVuZSBMaXUgPGNo
YXJsZW5lLmxpdUBhbWQuY29tPgpSZXZpZXdlZC1ieTogSnVsaWFuIFBhcmtpbiA8anBhcmtpbkBh
bWQuY29tPgpBY2tlZC1ieTogTGVvIExpIDxzdW5wZW5nLmxpQGFtZC5jb20+Ci0tLQogLi4uL2dw
dS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjAvZGNuMjBfZHBwLmMgIHwgMTYgKysrKysrKysrKysr
KysrKwogLi4uL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjAvZGNuMjBfZHBwLmggIHwgMTkg
KysrKysrKysrKysrKysrLS0tLQogLi4uL2RybS9hbWQvZGlzcGxheS9kYy9kY24yMC9kY24yMF9o
d3NlcS5jICAgIHwgIDYgKysrKysrCiAuLi4vZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24yMC9k
Y24yMF9tcGMuYyAgfCAgNSArKystLQogLi4uL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjAv
ZGNuMjBfbXBjLmggIHwgIDYgKysrKystCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMv
aW5jL2h3L21wYy5oICAgfCAgNCArKysrCiA2IGZpbGVzIGNoYW5nZWQsIDQ5IGluc2VydGlvbnMo
KyksIDcgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNw
bGF5L2RjL2RjbjIwL2RjbjIwX2RwcC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2Rj
L2RjbjIwL2RjbjIwX2RwcC5jCmluZGV4IDliYzVkZDIzZDI5Ny4uZGIzMTE1NzRmNDJmIDEwMDY0
NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjAvZGNuMjBfZHBwLmMK
KysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIwX2RwcC5jCkBA
IC03Miw2ICs3MiwyMSBAQCB2b2lkIGRwcDIwX3JlYWRfc3RhdGUoc3RydWN0IGRwcCAqZHBwX2Jh
c2UsCiAJfQogfQogCit2b2lkIGRwcDJfcG93ZXJfb25fb2J1ZigKKwkJc3RydWN0IGRwcCAqZHBw
X2Jhc2UsCisJYm9vbCBwb3dlcl9vbikKK3sKKwlzdHJ1Y3QgZGNuMjBfZHBwICpkcHAgPSBUT19E
Q04yMF9EUFAoZHBwX2Jhc2UpOworCisJUkVHX1VQREFURShDTV9NRU1fUFdSX0NUUkwsIFNIQVJF
RF9NRU1fUFdSX0RJUywgcG93ZXJfb24gPT0gdHJ1ZSA/IDE6MCk7CisKKwlSRUdfVVBEQVRFKE9C
VUZfTUVNX1BXUl9DVFJMLAorCQkJT0JVRl9NRU1fUFdSX0ZPUkNFLCBwb3dlcl9vbiA9PSB0cnVl
ID8gMDoxKTsKKworCVJFR19VUERBVEUoRFNDTF9NRU1fUFdSX0NUUkwsCisJCQlMVVRfTUVNX1BX
Ul9GT1JDRSwgcG93ZXJfb24gPT0gdHJ1ZSA/IDA6MSk7Cit9CisKIHZvaWQgZHBwMl9kdW1teV9w
cm9ncmFtX2lucHV0X2x1dCgKIAkJc3RydWN0IGRwcCAqZHBwX2Jhc2UsCiAJCWNvbnN0IHN0cnVj
dCBkY19nYW1tYSAqZ2FtbWEpCkBAIC0yMjcsNiArMjQyLDcgQEAgc3RhdGljIHZvaWQgZHBwMl9j
bnZfc2V0dXAgKAogCQkJCUNVUjBfRU5BQkxFLCAwKTsKIAogCX0KKwlkcHAyX3Bvd2VyX29uX29i
dWYoZHBwX2Jhc2UsIHRydWUpOwogCiB9CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9h
bWQvZGlzcGxheS9kYy9kY24yMC9kY24yMF9kcHAuaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlz
cGxheS9kYy9kY24yMC9kY24yMF9kcHAuaAppbmRleCA1OWI2N2VkNTdjMTkuLjFmNWQ5OWE2ZDI0
MCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIw
X2RwcC5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24yMC9kY24yMF9k
cHAuaApAQCAtMTYyLDcgKzE2Miw5IEBACiAJU1JJKENPTE9SX0tFWUVSX0dSRUVOLCBDTlZDX0NG
RywgaWQpLCBcCiAJU1JJKENPTE9SX0tFWUVSX0JMVUUsIENOVkNfQ0ZHLCBpZCksIFwKIAlTUkko
Q01fU0hBUEVSX0xVVF9EQVRBLCBDTSwgaWQpLCBcCi0JU1JJKENVUlNPUl9DT05UUk9MLCBDVVJT
T1IwXywgaWQpCisJU1JJKENVUlNPUl9DT05UUk9MLCBDVVJTT1IwXywgaWQpLFwKKwlTUkkoT0JV
Rl9NRU1fUFdSX0NUUkwsIERTQ0wsIGlkKSxcCisJU1JJKERTQ0xfTUVNX1BXUl9DVFJMLCBEU0NM
LCBpZCkKIAogI2RlZmluZSBURl9SRUdfTElTVF9TSF9NQVNLX0RDTjIwKG1hc2tfc2gpXAogCVRG
X1JFR19MSVNUX1NIX01BU0tfRENOKG1hc2tfc2gpLCBcCkBAIC01NTQsNyArNTU2LDkgQEAKIAlU
Rl9TRihDTlZDX0NGRzBfQ09MT1JfS0VZRVJfQkxVRSwgQ09MT1JfS0VZRVJfQkxVRV9ISUdILCBt
YXNrX3NoKSwgXAogCVRGX1NGKENOVkNfQ1VSMF9DVVJTT1IwX0NPTlRST0wsIENVUjBfUElYX0lO
Vl9NT0RFLCBtYXNrX3NoKSwgXAogCVRGX1NGKENOVkNfQ1VSMF9DVVJTT1IwX0NPTlRST0wsIENV
UjBfUElYRUxfQUxQSEFfTU9EX0VOLCBtYXNrX3NoKSwgXAotCVRGX1NGKENOVkNfQ1VSMF9DVVJT
T1IwX0NPTlRST0wsIENVUjBfUk9NX0VOLCBtYXNrX3NoKQorCVRGX1NGKENOVkNfQ1VSMF9DVVJT
T1IwX0NPTlRST0wsIENVUjBfUk9NX0VOLCBtYXNrX3NoKSxcCisJVEZfU0YoRFNDTDBfT0JVRl9N
RU1fUFdSX0NUUkwsIE9CVUZfTUVNX1BXUl9GT1JDRSwgbWFza19zaCksXAorCVRGX1NGKERTQ0ww
X0RTQ0xfTUVNX1BXUl9DVFJMLCBMVVRfTUVNX1BXUl9GT1JDRSwgbWFza19zaCkKIAogI2RlZmlu
ZSBURl9SRUdfRklFTERfTElTVF9EQ04yXzAodHlwZSkgXAogCVRGX1JFR19GSUVMRF9MSVNUKHR5
cGUpIFwKQEAgLTU4NSw3ICs1ODksOSBAQAogCXR5cGUgQ09MT1JfS0VZRVJfQkxVRV9ISUdIOyBc
CiAJdHlwZSBDVVIwX1BJWF9JTlZfTU9ERTsgXAogCXR5cGUgQ1VSMF9QSVhFTF9BTFBIQV9NT0Rf
RU47IFwKLQl0eXBlIENVUjBfUk9NX0VOCisJdHlwZSBDVVIwX1JPTV9FTjtcCisJdHlwZSBPQlVG
X01FTV9QV1JfRk9SQ0U7XAorCXR5cGUgTFVUX01FTV9QV1JfRk9SQ0UKIAogc3RydWN0IGRjbjJf
ZHBwX3NoaWZ0IHsKIAlURl9SRUdfRklFTERfTElTVF9EQ04yXzAodWludDhfdCk7CkBAIC02MDks
NyArNjE1LDkgQEAgc3RydWN0IGRjbjJfZHBwX21hc2sgewogCXVpbnQzMl90IENPTE9SX0tFWUVS
X0FMUEhBOyBcCiAJdWludDMyX3QgQ09MT1JfS0VZRVJfUkVEOyBcCiAJdWludDMyX3QgQ09MT1Jf
S0VZRVJfR1JFRU47IFwKLQl1aW50MzJfdCBDT0xPUl9LRVlFUl9CTFVFCisJdWludDMyX3QgQ09M
T1JfS0VZRVJfQkxVRTsgXAorCXVpbnQzMl90IE9CVUZfTUVNX1BXUl9DVFJMO1wKKwl1aW50MzJf
dCBEU0NMX01FTV9QV1JfQ1RSTAogCiBzdHJ1Y3QgZGNuMl9kcHBfcmVnaXN0ZXJzIHsKIAlEUFBf
RENOMl9SRUdfVkFSSUFCTEVfTElTVDsKQEAgLTY5NSw0ICs3MDMsNyBAQCBib29sIGRwcDJfY29u
c3RydWN0KHN0cnVjdCBkY24yMF9kcHAgKmRwcDIsCiAJY29uc3Qgc3RydWN0IGRjbjJfZHBwX3No
aWZ0ICp0Zl9zaGlmdCwKIAljb25zdCBzdHJ1Y3QgZGNuMl9kcHBfbWFzayAqdGZfbWFzayk7CiAK
K3ZvaWQgZHBwMl9wb3dlcl9vbl9vYnVmKAorCQlzdHJ1Y3QgZHBwICpkcHBfYmFzZSwKKwlib29s
IHBvd2VyX29uKTsKICNlbmRpZiAvKiBfX0RDX0hXU1NfRENOMjBfSF9fICovCmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjAvZGNuMjBfaHdzZXEuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24yMC9kY24yMF9od3NlcS5jCmluZGV4IDU5
MDRkNGQzMjlkZi4uNGU5YWMwNTFkM2Q4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1k
L2Rpc3BsYXkvZGMvZGNuMjAvZGNuMjBfaHdzZXEuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2Rpc3BsYXkvZGMvZGNuMjAvZGNuMjBfaHdzZXEuYwpAQCAtNjMxLDYgKzYzMSwxMCBAQCB2b2lk
IGRjbjIwX3Byb2dyYW1fb3V0cHV0X2NzYyhzdHJ1Y3QgZGMgKmRjLAogewogCXN0cnVjdCBtcGMg
Km1wYyA9IGRjLT5yZXNfcG9vbC0+bXBjOwogCWVudW0gbXBjX291dHB1dF9jc2NfbW9kZSBvY3Nj
X21vZGUgPSBNUENfT1VUUFVUX0NTQ19DT0VGX0E7CisJaW50IG1wY2NfaWQgPSBwaXBlX2N0eC0+
cGxhbmVfcmVzLmh1YnAtPmluc3Q7CisKKwlpZiAobXBjLT5mdW5jcy0+cG93ZXJfb25fbXBjX21l
bV9wd3IpCisJCW1wYy0+ZnVuY3MtPnBvd2VyX29uX21wY19tZW1fcHdyKG1wYywgbXBjY19pZCwg
dHJ1ZSk7CiAKIAlpZiAocGlwZV9jdHgtPnN0cmVhbS0+Y3NjX2NvbG9yX21hdHJpeC5lbmFibGVf
YWRqdXN0bWVudCA9PSB0cnVlKSB7CiAJCWlmIChtcGMtPmZ1bmNzLT5zZXRfb3V0cHV0X2NzYyAh
PSBOVUxMKQpAQCAtNjYwLDYgKzY2NCw4IEBAIGJvb2wgZGNuMjBfc2V0X291dHB1dF90cmFuc2Zl
cl9mdW5jKHN0cnVjdCBwaXBlX2N0eCAqcGlwZV9jdHgsCiAJICogaWYgcHJvZ3JhbW1pbmcgZm9y
IGFsbCBwaXBlcyBpcyByZXF1aXJlZCB0aGVuIHJlbW92ZSBjb25kaXRpb24KIAkgKiBwaXBlX2N0
eC0+dG9wX3BpcGUgPT0gTlVMTCAsYnV0IHRoZW4gZml4IHRoZSBkaWFnbm9zdGljLgogCSAqLwor
CWlmIChtcGMtPmZ1bmNzLT5wb3dlcl9vbl9tcGNfbWVtX3B3cikKKwkJbXBjLT5mdW5jcy0+cG93
ZXJfb25fbXBjX21lbV9wd3IobXBjLCBtcGNjX2lkLCB0cnVlKTsKIAlpZiAoKHBpcGVfY3R4LT50
b3BfcGlwZSA9PSBOVUxMIHx8IGRjX3Jlc19pc19vZG1faGVhZF9waXBlKHBpcGVfY3R4KSkKIAkJ
CSYmIG1wYy0+ZnVuY3MtPnNldF9vdXRwdXRfZ2FtbWEgJiYgc3RyZWFtLT5vdXRfdHJhbnNmZXJf
ZnVuYykgewogCQlpZiAoc3RyZWFtLT5vdXRfdHJhbnNmZXJfZnVuYy0+dHlwZSA9PSBURl9UWVBF
X0hXUFdMKQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIw
L2RjbjIwX21wYy5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIw
X21wYy5jCmluZGV4IDE3OTUwZDllNTNjZi4uNWExODhiMmJjMDMzIDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjAvZGNuMjBfbXBjLmMKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIwX21wYy5jCkBAIC0yMzMsMTQgKzIz
MywxNCBAQCBzdGF0aWMgdm9pZCBtcGMyX29nYW1fZ2V0X3JlZ19maWVsZCgKIAlyZWctPm1hc2tz
LmV4cF9yZXNpb25fc3RhcnRfc2VnbWVudCA9IG1wYzIwLT5tcGNfbWFzay0+TVBDQ19PR0FNX1JB
TUFfRVhQX1JFR0lPTl9TVEFSVF9TRUdNRU5UX0I7CiB9CiAKLXN0YXRpYyB2b2lkIG1wYzIwX3Bv
d2VyX29uX29nYW1fbHV0KAordm9pZCBtcGMyMF9wb3dlcl9vbl9vZ2FtX2x1dCgKIAkJc3RydWN0
IG1wYyAqbXBjLCBpbnQgbXBjY19pZCwKIAkJYm9vbCBwb3dlcl9vbikKIHsKIAlzdHJ1Y3QgZGNu
MjBfbXBjICptcGMyMCA9IFRPX0RDTjIwX01QQyhtcGMpOwogCiAJUkVHX1NFVChNUENDX01FTV9Q
V1JfQ1RSTFttcGNjX2lkXSwgMCwKLQkJCU1QQ0NfT0dBTV9NRU1fUFdSX0ZPUkNFLCBwb3dlcl9v
biA9PSB0cnVlID8gMDoxKTsKKwkJCU1QQ0NfT0dBTV9NRU1fUFdSX0RJUywgcG93ZXJfb24gPT0g
dHJ1ZSA/IDE6MCk7CiAKIH0KIApAQCAtNTA5LDYgKzUwOSw3IEBAIGNvbnN0IHN0cnVjdCBtcGNf
ZnVuY3MgZGNuMjBfbXBjX2Z1bmNzID0gewogCS5zZXRfb3V0cHV0X2NzYyA9IG1wYzJfc2V0X291
dHB1dF9jc2MsCiAJLnNldF9vY3NjX2RlZmF1bHQgPSBtcGMyX3NldF9vY3NjX2RlZmF1bHQsCiAJ
LnNldF9vdXRwdXRfZ2FtbWEgPSBtcGMyX3NldF9vdXRwdXRfZ2FtbWEsCisJLnBvd2VyX29uX21w
Y19tZW1fcHdyID0gbXBjMjBfcG93ZXJfb25fb2dhbV9sdXQsCiB9OwogCiB2b2lkIGRjbjIwX21w
Y19jb25zdHJ1Y3Qoc3RydWN0IGRjbjIwX21wYyAqbXBjMjAsCmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjAvZGNuMjBfbXBjLmggYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjAvZGNuMjBfbXBjLmgKaW5kZXggOTc1MDA5NWQyZDczLi45
ZjUzMTkyZGEyZGMgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9k
Y24yMC9kY24yMF9tcGMuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNu
MjAvZGNuMjBfbXBjLmgKQEAgLTE1OSw2ICsxNTksNyBAQAogCVNGKE1QQ0NfT0dBTTBfTVBDQ19P
R0FNX1JBTUJfU1RBUlRfQ05UTF9CLCBNUENDX09HQU1fUkFNQl9FWFBfUkVHSU9OX1NUQVJUX0Is
IG1hc2tfc2gpLFwKIAlTRihNUENDX09HQU0wX01QQ0NfT0dBTV9SQU1CX1NUQVJUX0NOVExfQiwg
TVBDQ19PR0FNX1JBTUJfRVhQX1JFR0lPTl9TVEFSVF9TRUdNRU5UX0IsIG1hc2tfc2gpLFwKIAlT
RihNUENDMF9NUENDX01FTV9QV1JfQ1RSTCwgTVBDQ19PR0FNX01FTV9QV1JfRk9SQ0UsIG1hc2tf
c2gpLFwKKwlTRihNUENDMF9NUENDX01FTV9QV1JfQ1RSTCwgTVBDQ19PR0FNX01FTV9QV1JfRElT
LCBtYXNrX3NoKSxcCiAJU0YoTVBDQ19PR0FNMF9NUENDX09HQU1fTFVUX0lOREVYLCBNUENDX09H
QU1fTFVUX0lOREVYLCBtYXNrX3NoKSxcCiAJU0YoTVBDQ19PR0FNMF9NUENDX09HQU1fTFVUX1JB
TV9DT05UUk9MLCBNUENDX09HQU1fTFVUX1dSSVRFX0VOX01BU0ssIG1hc2tfc2gpLFwKIAlTRihN
UENDX09HQU0wX01QQ0NfT0dBTV9MVVRfUkFNX0NPTlRST0wsIE1QQ0NfT0dBTV9MVVRfUkFNX1NF
TCwgbWFza19zaCksXApAQCAtMTczLDYgKzE3NCw3IEBACiAJU0YoTVBDX09VVDBfREVOT1JNX0NM
QU1QX0JfQ0IsIE1QQ19PVVRfREVOT1JNX0NMQU1QX01BWF9CX0NCLCBtYXNrX3NoKSxcCiAJU0Yo
TVBDX09VVDBfREVOT1JNX0NMQU1QX0JfQ0IsIE1QQ19PVVRfREVOT1JNX0NMQU1QX01JTl9CX0NC
LCBtYXNrX3NoKQogCisKICNkZWZpbmUgTVBDX1JFR19GSUVMRF9MSVNUX0RDTjJfMCh0eXBlKSBc
CiAJTVBDX1JFR19GSUVMRF9MSVNUKHR5cGUpXAogCXR5cGUgTVBDQ19CR19CUEM7XApAQCAtMjE3
LDcgKzIxOSw4IEBACiAJdHlwZSBNUENfT1VUX0RFTk9STV9DTEFNUF9NSU5fR19ZO1wKIAl0eXBl
IE1QQ19PVVRfREVOT1JNX0NMQU1QX01BWF9CX0NCO1wKIAl0eXBlIE1QQ19PVVRfREVOT1JNX0NM
QU1QX01JTl9CX0NCO1wKLQl0eXBlIE1QQ0NfRElTQUJMRUQ7CisJdHlwZSBNUENDX0RJU0FCTEVE
O1wKKwl0eXBlIE1QQ0NfT0dBTV9NRU1fUFdSX0RJUzsKIAogc3RydWN0IGRjbjIwX21wY19yZWdp
c3RlcnMgewogCU1QQ19SRUdfVkFSSUFCTEVfTElTVF9EQ04yXzAKQEAgLTI4Miw0ICsyODUsNSBA
QCB2b2lkIG1wYzJfc2V0X291dHB1dF9nYW1tYSgKIAogdm9pZCBtcGMyX2Fzc2VydF9pZGxlX21w
Y2Moc3RydWN0IG1wYyAqbXBjLCBpbnQgaWQpOwogdm9pZCBtcGMyX2Fzc2VydF9tcGNjX2lkbGVf
YmVmb3JlX2Nvbm5lY3Qoc3RydWN0IG1wYyAqbXBjLCBpbnQgbXBjY19pZCk7Cit2b2lkIG1wYzIw
X3Bvd2VyX29uX29nYW1fbHV0KHN0cnVjdCBtcGMgKm1wYywgaW50IG1wY2NfaWQsIGJvb2wgcG93
ZXJfb24pOwogI2VuZGlmCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkv
ZGMvaW5jL2h3L21wYy5oIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2luYy9ody9t
cGMuaAppbmRleCA5ZGRlODhkNDU3MWMuLjU4ODI2YmU4MTM5NSAxMDA2NDQKLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2luYy9ody9tcGMuaAorKysgYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2Rpc3BsYXkvZGMvaW5jL2h3L21wYy5oCkBAIC0yNTQsNiArMjU0LDEwIEBAIHN0cnVj
dCBtcGNfZnVuY3MgewogCQkJc3RydWN0IG1wYyAqbXBjLAogCQkJaW50IG1wY2NfaWQsCiAJCQlj
b25zdCBzdHJ1Y3QgcHdsX3BhcmFtcyAqcGFyYW1zKTsKKwl2b2lkICgqcG93ZXJfb25fbXBjX21l
bV9wd3IpKAorCQkJc3RydWN0IG1wYyAqbXBjLAorCQkJaW50IG1wY2NfaWQsCisJCQlib29sIHBv
d2VyX29uKTsKICNlbmRpZgogCiB9OwotLSAKMi4yMi4wCgpfX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxp
c3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFu
L2xpc3RpbmZvL2FtZC1nZng=
