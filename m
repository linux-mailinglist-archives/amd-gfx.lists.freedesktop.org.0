Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 93232171F55
	for <lists+amd-gfx@lfdr.de>; Thu, 27 Feb 2020 15:35:33 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8CD576ECC0;
	Thu, 27 Feb 2020 14:35:31 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-wm1-x341.google.com (mail-wm1-x341.google.com
 [IPv6:2a00:1450:4864:20::341])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8ED1D6ECC0
 for <amd-gfx@lists.freedesktop.org>; Thu, 27 Feb 2020 14:35:30 +0000 (UTC)
Received: by mail-wm1-x341.google.com with SMTP id z12so3818472wmi.4
 for <amd-gfx@lists.freedesktop.org>; Thu, 27 Feb 2020 06:35:30 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=bDTwQoh8XuxiDV2cnpWpNEnpElS8nhRTTXBLkUi60/M=;
 b=NCAK/fT04fSM5CoM7HrDNgiDhbGXPF/JnRj21/tb1+nC8KtcDMCm8kUATMdU7lnHzl
 prCfKBX71EsbjygNz+rJALmyJ/JX/d8oMS2cO6P94fo6+L6hNwfhDgSdgZ9ieLxJ8NKY
 DFhN1YZI7jubOKDMv35WpqD+15ng0/GyJPpZvQ6jbIa2AhVUdzH7+wRwqUPpPDtSAVE9
 wt2kCcKYpOhKODByFs1m/P+UaK95Bo6vTGaD3RSDWhkNi2/Tdk+TuRLnZOmEvQGvHfTf
 6BRUECEIAAVZl2MB97gqVw7/1u1LCOibuUfMR0Br9w47bigr7NhDpHxJGvCLyux37Skd
 cpUQ==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=bDTwQoh8XuxiDV2cnpWpNEnpElS8nhRTTXBLkUi60/M=;
 b=NKv7sh0Ww1fWRKD53OaiW4dv4pAAyrezXy1PhjqPJcbRWYqd8yfau8nHVnP+y6thRP
 oleCDu5WvWkGz0EnNN2xSCKL6gzr6PwlYZoUlOCi7wEWg2ihznenhAeobdIJK9rQVQ3+
 oaBX/gK9M7E8UzFtdfoHnP20f5K9liAaaB0E5lEu3fyPz9wa11xnZG5wC44CpntOjbs6
 GMLVG23BlIb7ywLDLAWBpkhXmv9+RwovEG4DyYuv4APhCZjSrIf2fro2ueP3wy6RIdh0
 7xTXcxVkR9tkRRBuS1o2lPKpdRI3agUmSEPf3IJzMJrhkaSBRI9/EbFLDDbvrOFbTc1j
 boCA==
X-Gm-Message-State: APjAAAVbFkmhnO9l4V9XRSW8fMiHGBzxY5iF0v5aFGg/1xIcrk+uV2x0
 zP6Gg+8Bl5GxDxu4BheVNbpK2zlH7HcOpg9ofg9KdA==
X-Google-Smtp-Source: APXvYqx2X69Sf/6xIvUUlrvnaFAy6VIOdYtjHSQwxF0CuRTG4PFnyznuc9jYURMTeQ5Anl1PTBmL8lXB6A0vJWfIw2E=
X-Received: by 2002:a05:600c:2255:: with SMTP id
 a21mr2757043wmm.79.1582814128988; 
 Thu, 27 Feb 2020 06:35:28 -0800 (PST)
MIME-Version: 1.0
References: <20200226203730.4621-1-nirmoy.das@amd.com>
 <20200226203730.4621-3-nirmoy.das@amd.com>
 <2c8957cf-f4b5-2b65-acb6-d366c2fbc656@amd.com>
In-Reply-To: <2c8957cf-f4b5-2b65-acb6-d366c2fbc656@amd.com>
From: Alex Deucher <alexdeucher@gmail.com>
Date: Thu, 27 Feb 2020 09:35:17 -0500
Message-ID: <CADnq5_PPqDGn2rP6ep6aEHgjow5mkKUp1=FLLo_mDn-QEsN1KA@mail.gmail.com>
Subject: Re: [RFC PATCH 2/3] drm/amdgpu: change hw sched list on ctx priority
 override
To: =?UTF-8?Q?Christian_K=C3=B6nig?= <christian.koenig@amd.com>
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Deucher, Alexander" <alexander.deucher@amd.com>,
 Huang Rui <Ray.Huang@amd.com>, Nirmoy Das <nirmoy.das@amd.com>,
 amd-gfx list <amd-gfx@lists.freedesktop.org>,
 Nirmoy Das <nirmoy.aiemd@gmail.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

T24gVGh1LCBGZWIgMjcsIDIwMjAgYXQgNTowOCBBTSBDaHJpc3RpYW4gS8O2bmlnCjxjaHJpc3Rp
YW4ua29lbmlnQGFtZC5jb20+IHdyb3RlOgo+Cj4gQW0gMjYuMDIuMjAgdW0gMjE6Mzcgc2Nocmll
YiBOaXJtb3kgRGFzOgo+ID4gV2Ugd2VyZSBjaGFuZ2luZyBjb21wdXRlIHJpbmcgcHJpb3JpdHkg
d2hpbGUgcmluZ3Mgd2VyZSBiZWluZyB1c2VkCj4gPiBiZWZvcmUgZXZlcnkgam9iIHN1Ym1pc3Np
b24gd2hpY2ggaXMgbm90IHJlY29tbWVuZGVkLiBUaGlzIHBhdGNoCj4gPiByZWNyZWF0ZXMgZW50
aXR5IHdpdGggaGlnaGVyL25vcm1hbCBwcmlvcml0eSBzY2hlZCBsaXN0IHdoZW4gdXNlcgo+ID4g
Y2hhbmdlcyBjdHgncyBwcmlvcml0eS4KPiA+Cj4gPiBoaWdoL25vcm1hbCBwcmlvcml0eSBzY2hl
ZCBsaXN0IGFyZSBnZW5lcmF0ZWQgZnJvbSBzZXQgb2YgaGlnaC9ub3JtYWwKPiA+IHByaW9yaXR5
IGNvbXB1dGUgcXVldWVzLiBXaGVuIHRoZXJlIGFyZSBubyBoaWdoIHByaW9yaXR5IGh3IHF1ZXVl
cyB0aGVuCj4gPiBpdCBmYWxsIGJhY2tzIHRvIHNvZnR3YXJlIHByaW9yaXR5Lgo+ID4KPiA+IFNp
Z25lZC1vZmYtYnk6IE5pcm1veSBEYXMgPG5pcm1veS5kYXNAYW1kLmNvbT4KPiA+IC0tLQo+ID4g
ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfY3MuYyAgIHwgIDQgLS0KPiA+ICAg
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2N0eC5jICB8IDU4ICsrKysrKysrKysr
KysrKysrKysrKystLQo+ID4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ2Z4
LmggIHwgIDIgKwo+ID4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfam9iLmMg
IHwgIDYgLS0tCj4gPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9yaW5nLmMg
fCAgNCArKwo+ID4gICA1IGZpbGVzIGNoYW5nZWQsIDU5IGluc2VydGlvbnMoKyksIDE1IGRlbGV0
aW9ucygtKQo+ID4KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9h
bWRncHVfY3MuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9jcy5jCj4gPiBp
bmRleCBmMzk3ZmY5N2I0ZTQuLjgzMDRkMGM4Nzg5OSAxMDA2NDQKPiA+IC0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9jcy5jCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfY3MuYwo+ID4gQEAgLTEyMDUsNyArMTIwNSw2IEBAIHN0YXRpYyBp
bnQgYW1kZ3B1X2NzX3N1Ym1pdChzdHJ1Y3QgYW1kZ3B1X2NzX3BhcnNlciAqcCwKPiA+ICAgICAg
IHN0cnVjdCBhbWRncHVfZnByaXYgKmZwcml2ID0gcC0+ZmlscC0+ZHJpdmVyX3ByaXY7Cj4gPiAg
ICAgICBzdHJ1Y3QgZHJtX3NjaGVkX2VudGl0eSAqZW50aXR5ID0gcC0+ZW50aXR5Owo+ID4gICAg
ICAgZW51bSBkcm1fc2NoZWRfcHJpb3JpdHkgcHJpb3JpdHk7Cj4gPiAtICAgICBzdHJ1Y3QgYW1k
Z3B1X3JpbmcgKnJpbmc7Cj4gPiAgICAgICBzdHJ1Y3QgYW1kZ3B1X2JvX2xpc3RfZW50cnkgKmU7
Cj4gPiAgICAgICBzdHJ1Y3QgYW1kZ3B1X2pvYiAqam9iOwo+ID4gICAgICAgdWludDY0X3Qgc2Vx
Owo+ID4gQEAgLTEyNTgsOSArMTI1Nyw2IEBAIHN0YXRpYyBpbnQgYW1kZ3B1X2NzX3N1Ym1pdChz
dHJ1Y3QgYW1kZ3B1X2NzX3BhcnNlciAqcCwKPiA+ICAgICAgIHByaW9yaXR5ID0gam9iLT5iYXNl
LnNfcHJpb3JpdHk7Cj4gPiAgICAgICBkcm1fc2NoZWRfZW50aXR5X3B1c2hfam9iKCZqb2ItPmJh
c2UsIGVudGl0eSk7Cj4gPgo+ID4gLSAgICAgcmluZyA9IHRvX2FtZGdwdV9yaW5nKGVudGl0eS0+
cnEtPnNjaGVkKTsKPiA+IC0gICAgIGFtZGdwdV9yaW5nX3ByaW9yaXR5X2dldChyaW5nLCBwcmlv
cml0eSk7Cj4gPiAtCj4gPiAgICAgICBhbWRncHVfdm1fbW92ZV90b19scnVfdGFpbChwLT5hZGV2
LCAmZnByaXYtPnZtKTsKPiA+Cj4gPiAgICAgICB0dG1fZXVfZmVuY2VfYnVmZmVyX29iamVjdHMo
JnAtPnRpY2tldCwgJnAtPnZhbGlkYXRlZCwgcC0+ZmVuY2UpOwo+ID4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9jdHguYyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2FtZGdwdV9jdHguYwo+ID4gaW5kZXggOTRhNmM0MmYyOWVhLi5lYTRkYzU3ZDIy
MzcgMTAwNjQ0Cj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfY3R4
LmMKPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9jdHguYwo+ID4g
QEAgLTg1LDggKzg1LDEzIEBAIHN0YXRpYyBpbnQgYW1kZ3B1X2N0eF9pbml0X2VudGl0eShzdHJ1
Y3QgYW1kZ3B1X2N0eCAqY3R4LCBjb25zdCB1MzIgaHdfaXAsIGNvbnN0Cj4gPiAgICAgICAgICAg
ICAgICAgICAgICAgbnVtX3NjaGVkcyA9IDE7Cj4gPiAgICAgICAgICAgICAgICAgICAgICAgYnJl
YWs7Cj4gPiAgICAgICAgICAgICAgIGNhc2UgQU1ER1BVX0hXX0lQX0NPTVBVVEU6Cj4gPiAtICAg
ICAgICAgICAgICAgICAgICAgc2NoZWRzID0gYWRldi0+Z2Z4LmNvbXB1dGVfc2NoZWQ7Cj4gPiAt
ICAgICAgICAgICAgICAgICAgICAgbnVtX3NjaGVkcyA9IGFkZXYtPmdmeC5udW1fY29tcHV0ZV9z
Y2hlZDsKPiA+ICsgICAgICAgICAgICAgICAgICAgICBpZiAocHJpb3JpdHkgPD0gRFJNX1NDSEVE
X1BSSU9SSVRZX05PUk1BTCkgewo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2No
ZWRzID0gYWRldi0+Z2Z4LmNvbXB1dGVfc2NoZWQ7Cj4gPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBudW1fc2NoZWRzID0gYWRldi0+Z2Z4Lm51bV9jb21wdXRlX3NjaGVkOwo+ID4gKyAg
ICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7Cj4gPiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBzY2hlZHMgPSBhZGV2LT5nZnguY29tcHV0ZV9zY2hlZF9oaWdoOwo+ID4gKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgbnVtX3NjaGVkcyA9IGFkZXYtPmdmeC5udW1fY29tcHV0ZV9z
Y2hlZF9oaWdoOwo+ID4gKyAgICAgICAgICAgICAgICAgICAgIH0KPiA+ICAgICAgICAgICAgICAg
ICAgICAgICBicmVhazsKPiA+ICAgICAgICAgICAgICAgY2FzZSBBTURHUFVfSFdfSVBfRE1BOgo+
ID4gICAgICAgICAgICAgICAgICAgICAgIHNjaGVkcyA9IGFkZXYtPnNkbWEuc2RtYV9zY2hlZDsK
PiA+IEBAIC01MDIsNiArNTA3LDI0IEBAIHN0cnVjdCBkbWFfZmVuY2UgKmFtZGdwdV9jdHhfZ2V0
X2ZlbmNlKHN0cnVjdCBhbWRncHVfY3R4ICpjdHgsCj4gPiAgICAgICByZXR1cm4gZmVuY2U7Cj4g
PiAgIH0KPiA+Cj4gPiArc3RhdGljIHZvaWQgYW1kZ3B1X2N0eF9od19wcmlvcml0eV9vdmVycmlk
ZShzdHJ1Y3QgYW1kZ3B1X2N0eCAqY3R4LAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgY29uc3QgdTMyIGh3X2lwLAo+ID4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgZW51bSBkcm1fc2NoZWRfcHJpb3JpdHkgcHJpb3JpdHkpCj4g
PiArewo+ID4gKyAgICAgaW50IGk7Cj4gPiArCj4gPiArICAgICBmb3IgKGkgPSAwOyBpIDwgYW1k
Z3B1X2N0eF9udW1fZW50aXRpZXNbaHdfaXBdOyArK2kpIHsKPiA+ICsgICAgICAgICAgICAgaWYg
KCFjdHgtPmVudGl0aWVzW2h3X2lwXVtpXSkKPiA+ICsgICAgICAgICAgICAgICAgICAgICBjb250
aW51ZTsKPiA+ICsKPiA+ICsgICAgICAgICAgICAgLyogVE9ETyB3aGF0IGhhcHBlbnMgd2l0aCBw
cmV2IHNjaGVkdWxlZCBqb2JzICovCj4KPiBJZiB3ZSBkbyBpdCByaWdodCwgdGhhdCBzaG91bGQg
YmUgdW5wcm9ibGVtYXRpYy4KPgo+IFRoZSBlbnRpdHkgY2hhbmdlcyB0aGUgcnEvc2NoZWR1bGVy
IGl0IHN1Ym1pdHMgc3R1ZmYgdG8gb25seSB3aGVuIGl0IGlzCj4gaWRsZSwgZS5nLiBubyBqb2Jz
IG9uIHRoZSBoYXJkd2FyZSBub3Igc29mdHdhcmUgcXVldWUuCj4KPiBTbyBjaGFuZ2luZyB0aGUg
cHJpb3JpdHkgd2hlbiB0aGVyZSBpcyBzdGlsbCB3b3JrIHNob3VsZCBiZSBvayBiZWNhdXNlCj4g
aXQgd29uJ3QgdGFrZSBlZmZlY3QgdW50aWwgdGhlIGVudGl0eSBpcyBpZGxlLgo+Cj4gQ2FuIG9m
IGNvdXJzZSBiZSB0aGF0IHVzZXJzcGFjZSB0aGVuIHdvbmRlcnMgd2h5IHRoZSBuZXcgcHJpb3Jp
dHkKPiBkb2Vzbid0IHRha2UgZWZmZWN0LiBCdXQgd2hlbiB5b3Ugc2hvb3QgeW91cnNlbGYgaW50
byB0aGUgZm9vdCBpdCBpcwo+IHN1cHBvc2VkIHRvIGh1cnQsIGRvZXNuJ3QgaXQ/Cj4KPiA+ICsg
ICAgICAgICAgICAgZHJtX3NjaGVkX2VudGl0eV9kZXN0cm95KCZjdHgtPmVudGl0aWVzW2h3X2lw
XVtpXS0+ZW50aXR5KTsKPiA+ICsgICAgICAgICAgICAgYW1kZ3B1X2N0eF9maW5pX2VudGl0eShj
dHgtPmVudGl0aWVzW2h3X2lwXVtpXSk7Cj4gPiArCj4gPiArICAgICAgICAgICAgIGFtZGdwdV9j
dHhfaW5pdF9lbnRpdHkoY3R4LCBBTURHUFVfSFdfSVBfQ09NUFVURSwgaSk7Cj4KPiBXZWxsLCB0
aGF0IGlzIG1vc3QgbGlrZWx5IE5PVCB0aGUgcmlnaHQgd2F5IG9mIGRvaW5nIGl0IDopIERlc3Ry
b3lpbmcKPiB0aGUgZW50aXR5IHdpdGggZmluaSBhbmQgcmVpbml0IG1pZ2h0IGNhdXNlIHF1aXRl
IGEgYnVuY2ggb2YgcHJvYmxlbXMuCj4KPiBDb3VsZCBiZSB0aGF0IHRoaXMgd29ya3MgYXMgd2Vs
bCwgYnV0IEkgd291bGQgcmF0aGVyIGp1c3QgYXNzaWduCj4gc2NoZWRfbGlzdCBhbmQgbnVtX3Nj
aGVkX2xpc3QuCj4KPiA+ICsKPiA+ICsgICAgIH0KPiA+ICt9Cj4gPiAgIHZvaWQgYW1kZ3B1X2N0
eF9wcmlvcml0eV9vdmVycmlkZShzdHJ1Y3QgYW1kZ3B1X2N0eCAqY3R4LAo+ID4gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBlbnVtIGRybV9zY2hlZF9wcmlvcml0eSBwcmlvcml0eSkK
PiA+ICAgewo+ID4gQEAgLTUxNSwxMiArNTM4LDE4IEBAIHZvaWQgYW1kZ3B1X2N0eF9wcmlvcml0
eV9vdmVycmlkZShzdHJ1Y3QgYW1kZ3B1X2N0eCAqY3R4LAo+ID4gICAgICAgZm9yIChpID0gMDsg
aSA8IEFNREdQVV9IV19JUF9OVU07ICsraSkgewo+ID4gICAgICAgICAgICAgICBmb3IgKGogPSAw
OyBqIDwgYW1kZ3B1X2N0eF9udW1fZW50aXRpZXNbaV07ICsraikgewo+ID4gICAgICAgICAgICAg
ICAgICAgICAgIHN0cnVjdCBkcm1fc2NoZWRfZW50aXR5ICplbnRpdHk7Cj4gPiArICAgICAgICAg
ICAgICAgICAgICAgc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nOwo+ID4KPiA+ICAgICAgICAgICAg
ICAgICAgICAgICBpZiAoIWN0eC0+ZW50aXRpZXNbaV1bal0pCj4gPiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBjb250aW51ZTsKPiA+Cj4gPiAgICAgICAgICAgICAgICAgICAgICAgZW50
aXR5ID0gJmN0eC0+ZW50aXRpZXNbaV1bal0tPmVudGl0eTsKPiA+IC0gICAgICAgICAgICAgICAg
ICAgICBkcm1fc2NoZWRfZW50aXR5X3NldF9wcmlvcml0eShlbnRpdHksIGN0eF9wcmlvKTsKPiA+
ICsgICAgICAgICAgICAgICAgICAgICByaW5nID0gdG9fYW1kZ3B1X3JpbmcoZW50aXR5LT5ycS0+
c2NoZWQpOwo+ID4gKwo+ID4gKyAgICAgICAgICAgICAgICAgICAgIGlmIChyaW5nLT5mdW5jcy0+
aW5pdF9wcmlvcml0eSkKPgo+IEFzIEFsZXggbm90ZWQgaW4gcGF0Y2ggIzEgd2UgbmVlZCB0byBk
byBhIGJpdCBkaWZmZXJlbnQsIGJ1dCBJJ20gYWxzbwo+IG5vdCAxMDAlIHN1cmUgaG93Lgo+CgpX
ZSBzaG91bGRuJ3QgYmUgY2hhbmdpbmcgdGhpcyBhdCBydW50aW1lLiAgV2UgbmVlZCB0byBzZXQg
dXAgdGhlIHF1ZXVlCnByaW9yaXR5IGF0IGluaXQgdGltZSBhbmQgdGhlbiBzY2hlZHVsZSB0byB0
aGUgYXBwcm9wcmlhdGUgcXV1ZXVlIGF0CnJ1bnRpbWUuICBXZSBzZXQgdGhlIHBpcGUvcXVldWUg
cHJpb3JpdHkgaW4gdGhlIG1xZCAobWVtb3J5IHF1ZXVlCmRlc2NyaXB0b3IpLiAgV2hlbiB3ZSBp
bml0IHRoZSByaW5ncyB3ZSBjb25maWd1cmUgdGhlIG1xZHMgaW4gbWVtb3J5CmFuZCB0aGVuIHRl
bGwgdGhlIENQIHRvIGNvbmZpZ3VyZSB0aGUgcmluZ3MuICBUaGUgQ1AgdGhlbiBmZXRjaGVzIHRo
ZQpjb25maWcgZnJvbSBtZW1vcnkgKHRoZSBtcWQpIGFuZCBwdXNoZXMgdGhlIGNvbmZpZ3VyYXRp
b24gdG8gdGhlIGhxZAooaGFyZHdhcmUgcXVldWUgZGVzY3JpcHRvcikuICBDdXJycmVudGx5IHdl
IGp1c3Qgc3RhdGljYWxseSBzZXQgdXAgdGhlCnF1ZXVlcyBhdCBkcml2ZXIgaW5pdCB0aW1lLCBi
dXQgdGhlIGh3IGhhcyB0aGUgY2FwYWJpbGl0eSB0byBzY2hlZHVsZQpxdWV1ZXMgZHluYW1pY2Fs
bHkgYXQgcnVudGltZS4gIEUuZy4sIHdlIGNvdWxkIGhhdmUgYSBwZXIgcHJvY2VzcyBtcWQKZm9y
IGVhY2ggcXVldWUgYW5kIHRoZW4gdGVsbCB0aGUgQ1AgdG8gc2NoZWR1bGUgdGhlIG1xZCBvbiB0
aGUKaGFyZHdhcmUgYXQgcnVudGltZS4gIEZvciBub3csIEkgdGhpbmsgd2Ugc2hvdWxkIGp1c3Qg
c2V0IHVwIHNvbWUKc3RhdGljIHBvb2xzIG9mIHJpbmdzIChlLmcuLCBub3JtYWwgYW5kIGhpZ2gg
cHJpb3JpdHkgb3IgbG93LCBub3JtYWwsCmFuZCBoaWdoIHByaW9yaXRpZXMpLiAgTm90ZSB0aGF0
IHlvdSBwcm9iYWJseSB3YW50IHRvIGtlZXAgdGhlIGhpZ2gKcHJpb3JpdHkgcXVldWVzIG9uIGEg
ZGlmZmVyZW50IHBpcGUgZnJvbSB0aGUgbG93L25vcm1hbCBwcmlvcml0eQpxdWV1ZXMuICBEZXBl
bmRpbmcgb24gdGhlIGFzaWMgdGhlcmUgYXJlIDEgb3IgMiBNRUNzIChjb21wdXRlIG1pY3JvCmVu
Z2luZXMpIGFuZCBlYWNoIE1FQyBzdXBwb3J0cyA0IHBpcGVzLiAgRWFjaCBwaXBlIGNhbiBoYW5k
bGUgdXAgdG8gOApxdWV1ZXMuCgpBbGV4Cgo+IE1heWJlIHBpbmcgQWxleCBvbiB0aGlzIG9uY2Ug
bW9yZSBvciBqdXN0IGFkZCBhIGJvb2wgdG8gcmluZy0+ZnVuY3MKPiBpbmRpY2F0aW5nIHRoYXQg
d2UgY2FuIGRvIHRoaXMuCj4KPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtZGdw
dV9jdHhfaHdfcHJpb3JpdHlfb3ZlcnJpZGUoY3R4LCBpLCBwcmlvcml0eSk7Cj4gPiArICAgICAg
ICAgICAgICAgICAgICAgZWxzZQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJt
X3NjaGVkX2VudGl0eV9zZXRfcHJpb3JpdHkoZW50aXR5LCBjdHhfcHJpbyk7Cj4KPiBJdCBtaWdo
dCBiZSBhIGdvb2QgaWRlYSB0byBkbyB0aGlzIGFueXdheSwgZXZlbiB3aXRoIHRoZSBkaWZmZXJl
bnQKPiBoYXJkd2FyZSBwcmlvcml0aWVzIGFyb3VuZC4KPgo+ID4gICAgICAgICAgICAgICB9Cj4g
PiAgICAgICB9Cj4gPiAgIH0KPiA+IEBAIC02MzAsNiArNjU5LDcgQEAgdm9pZCBhbWRncHVfY3R4
X21ncl9maW5pKHN0cnVjdCBhbWRncHVfY3R4X21nciAqbWdyKQo+ID4KPiA+ICAgdm9pZCBhbWRn
cHVfY3R4X2luaXRfc2NoZWQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCj4gPiAgIHsKPiA+
ICsgICAgIGVudW0gZHJtX3NjaGVkX3ByaW9yaXR5IHByaW9yaXR5Owo+ID4gICAgICAgaW50IGks
IGo7Cj4gPgo+ID4gICAgICAgZm9yIChpID0gMDsgaSA8IGFkZXYtPmdmeC5udW1fZ2Z4X3Jpbmdz
OyBpKyspIHsKPiA+IEBAIC02MzgsOCArNjY4LDI2IEBAIHZvaWQgYW1kZ3B1X2N0eF9pbml0X3Nj
aGVkKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQo+ID4gICAgICAgfQo+ID4KPiA+ICAgICAg
IGZvciAoaSA9IDA7IGkgPCBhZGV2LT5nZngubnVtX2NvbXB1dGVfcmluZ3M7IGkrKykgewo+ID4g
LSAgICAgICAgICAgICBhZGV2LT5nZnguY29tcHV0ZV9zY2hlZFtpXSA9ICZhZGV2LT5nZnguY29t
cHV0ZV9yaW5nW2ldLnNjaGVkOwo+ID4gLSAgICAgICAgICAgICBhZGV2LT5nZngubnVtX2NvbXB1
dGVfc2NoZWQrKzsKPiA+ICsgICAgICAgICAgICAgcHJpb3JpdHkgPSBhZGV2LT5nZnguY29tcHV0
ZV9yaW5nW2ldLnByaW9yaXR5Owo+ID4gKyAgICAgICAgICAgICBpZiAocHJpb3JpdHkgPD0gRFJN
X1NDSEVEX1BSSU9SSVRZX05PUk1BTCkgewo+ID4gKyAgICAgICAgICAgICAgICAgICAgIGFkZXYt
PmdmeC5jb21wdXRlX3NjaGVkW2ldID0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICZhZGV2LT5nZnguY29tcHV0ZV9yaW5nW2ldLnNjaGVkOwo+ID4gKyAgICAgICAgICAgICAgICAg
ICAgIGFkZXYtPmdmeC5udW1fY29tcHV0ZV9zY2hlZCsrOwo+ID4gKyAgICAgICAgICAgICB9IGVs
c2Ugewo+ID4gKyAgICAgICAgICAgICAgICAgICAgIGFkZXYtPmdmeC5jb21wdXRlX3NjaGVkX2hp
Z2hbaV0gPQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJmFkZXYtPmdmeC5jb21w
dXRlX3JpbmdbaV0uc2NoZWQ7Cj4gPiArICAgICAgICAgICAgICAgICAgICAgYWRldi0+Z2Z4Lm51
bV9jb21wdXRlX3NjaGVkX2hpZ2grKzsKPiA+ICsgICAgICAgICAgICAgfQo+ID4gKyAgICAgfQo+
ID4gKwo+ID4gKyAgICAgLyogaWYgdGhlcmUgYXJlIG5vIGhpZ2ggcHJpbyBjb21wdXRlIHF1ZXVl
IHRoZW4gbWlycm9yIHdpdGggbm9ybWFsCj4gPiArICAgICAgKiBwcmlvcml0eSBzbyBhbWRncHVf
Y3R4X2luaXRfZW50aXR5KCkgd29ya3MgYXMgZXhwZWN0ZWQgKi8KPiA+ICsgICAgIGlmICghYWRl
di0+Z2Z4Lm51bV9jb21wdXRlX3NjaGVkX2hpZ2gpIHsKPiA+ICsgICAgICAgICAgICAgZm9yIChp
ID0gMDsgaSA8IGFkZXYtPmdmeC5udW1fY29tcHV0ZV9zY2hlZDsgaSsrKSB7Cj4gPiArICAgICAg
ICAgICAgICAgICAgICAgYWRldi0+Z2Z4LmNvbXB1dGVfc2NoZWRfaGlnaFtpXSA9Cj4gPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGFkZXYtPmdmeC5jb21wdXRlX3NjaGVkW2ldOwo+ID4g
KyAgICAgICAgICAgICB9Cj4gPiArICAgICAgICAgICAgIGFkZXYtPmdmeC5udW1fY29tcHV0ZV9z
Y2hlZF9oaWdoID0gYWRldi0+Z2Z4Lm51bV9jb21wdXRlX3NjaGVkOwo+Cj4gSXQgbWlnaHQgYmUg
YSBnb29kIGlkZWEgdG8gaGF2ZSB0aGlzIGNodW5rIGluIHBhdGNoICMxIGluc3RlYWQuCj4KPiBS
ZWdhcmRzLAo+IENocmlzdGlhbi4KPgo+ID4gICAgICAgfQo+ID4KPiA+ICAgICAgIGZvciAoaSA9
IDA7IGkgPCBhZGV2LT5zZG1hLm51bV9pbnN0YW5jZXM7IGkrKykgewo+ID4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nZnguaCBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV9nZnguaAo+ID4gaW5kZXggY2ExN2ZmYjAxMzAxLi5kNThkNzQ4
ZTNhNTYgMTAwNjQ0Cj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
Z2Z4LmgKPiA+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nZnguaAo+
ID4gQEAgLTI3OSw3ICsyNzksOSBAQCBzdHJ1Y3QgYW1kZ3B1X2dmeCB7Cj4gPiAgICAgICB1bnNp
Z25lZCAgICAgICAgICAgICAgICAgICAgICAgIG51bV9nZnhfcmluZ3M7Cj4gPiAgICAgICBzdHJ1
Y3QgYW1kZ3B1X3JpbmcgICAgICAgICAgICAgIGNvbXB1dGVfcmluZ1tBTURHUFVfTUFYX0NPTVBV
VEVfUklOR1NdOwo+ID4gICAgICAgc3RydWN0IGRybV9ncHVfc2NoZWR1bGVyICAgICAgICAqY29t
cHV0ZV9zY2hlZFtBTURHUFVfTUFYX0NPTVBVVEVfUklOR1NdOwo+ID4gKyAgICAgc3RydWN0IGRy
bV9ncHVfc2NoZWR1bGVyICAgICAgICAqY29tcHV0ZV9zY2hlZF9oaWdoW0FNREdQVV9NQVhfQ09N
UFVURV9SSU5HU107Cj4gPiAgICAgICB1aW50MzJfdCAgICAgICAgICAgICAgICAgICAgICAgIG51
bV9jb21wdXRlX3NjaGVkOwo+ID4gKyAgICAgdWludDMyX3QgICAgICAgICAgICAgICAgICAgICAg
ICBudW1fY29tcHV0ZV9zY2hlZF9oaWdoOwo+ID4gICAgICAgdW5zaWduZWQgICAgICAgICAgICAg
ICAgICAgICAgICBudW1fY29tcHV0ZV9yaW5nczsKPiA+ICAgICAgIHN0cnVjdCBhbWRncHVfaXJx
X3NyYyAgICAgICAgICAgZW9wX2lycTsKPiA+ICAgICAgIHN0cnVjdCBhbWRncHVfaXJxX3NyYyAg
ICAgICAgICAgcHJpdl9yZWdfaXJxOwo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2FtZGdwdV9qb2IuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdw
dV9qb2IuYwo+ID4gaW5kZXggZDQyYmU4ODBhMjM2Li40OTgxZTQ0M2E4ODQgMTAwNjQ0Cj4gPiAt
LS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfam9iLmMKPiA+ICsrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9qb2IuYwo+ID4gQEAgLTExNywxMiArMTE3
LDEwIEBAIHZvaWQgYW1kZ3B1X2pvYl9mcmVlX3Jlc291cmNlcyhzdHJ1Y3QgYW1kZ3B1X2pvYiAq
am9iKQo+ID4KPiA+ICAgc3RhdGljIHZvaWQgYW1kZ3B1X2pvYl9mcmVlX2NiKHN0cnVjdCBkcm1f
c2NoZWRfam9iICpzX2pvYikKPiA+ICAgewo+ID4gLSAgICAgc3RydWN0IGFtZGdwdV9yaW5nICpy
aW5nID0gdG9fYW1kZ3B1X3Jpbmcoc19qb2ItPnNjaGVkKTsKPiA+ICAgICAgIHN0cnVjdCBhbWRn
cHVfam9iICpqb2IgPSB0b19hbWRncHVfam9iKHNfam9iKTsKPiA+Cj4gPiAgICAgICBkcm1fc2No
ZWRfam9iX2NsZWFudXAoc19qb2IpOwo+ID4KPiA+IC0gICAgIGFtZGdwdV9yaW5nX3ByaW9yaXR5
X3B1dChyaW5nLCBzX2pvYi0+c19wcmlvcml0eSk7Cj4gPiAgICAgICBkbWFfZmVuY2VfcHV0KGpv
Yi0+ZmVuY2UpOwo+ID4gICAgICAgYW1kZ3B1X3N5bmNfZnJlZSgmam9iLT5zeW5jKTsKPiA+ICAg
ICAgIGFtZGdwdV9zeW5jX2ZyZWUoJmpvYi0+c2NoZWRfc3luYyk7Cj4gPiBAQCAtMTQzLDcgKzE0
MSw2IEBAIGludCBhbWRncHVfam9iX3N1Ym1pdChzdHJ1Y3QgYW1kZ3B1X2pvYiAqam9iLCBzdHJ1
Y3QgZHJtX3NjaGVkX2VudGl0eSAqZW50aXR5LAo+ID4gICAgICAgICAgICAgICAgICAgICB2b2lk
ICpvd25lciwgc3RydWN0IGRtYV9mZW5jZSAqKmYpCj4gPiAgIHsKPiA+ICAgICAgIGVudW0gZHJt
X3NjaGVkX3ByaW9yaXR5IHByaW9yaXR5Owo+ID4gLSAgICAgc3RydWN0IGFtZGdwdV9yaW5nICpy
aW5nOwo+ID4gICAgICAgaW50IHI7Cj4gPgo+ID4gICAgICAgaWYgKCFmKQo+ID4gQEAgLTE1OCw5
ICsxNTUsNiBAQCBpbnQgYW1kZ3B1X2pvYl9zdWJtaXQoc3RydWN0IGFtZGdwdV9qb2IgKmpvYiwg
c3RydWN0IGRybV9zY2hlZF9lbnRpdHkgKmVudGl0eSwKPiA+ICAgICAgIHByaW9yaXR5ID0gam9i
LT5iYXNlLnNfcHJpb3JpdHk7Cj4gPiAgICAgICBkcm1fc2NoZWRfZW50aXR5X3B1c2hfam9iKCZq
b2ItPmJhc2UsIGVudGl0eSk7Cj4gPgo+ID4gLSAgICAgcmluZyA9IHRvX2FtZGdwdV9yaW5nKGVu
dGl0eS0+cnEtPnNjaGVkKTsKPiA+IC0gICAgIGFtZGdwdV9yaW5nX3ByaW9yaXR5X2dldChyaW5n
LCBwcmlvcml0eSk7Cj4gPiAtCj4gPiAgICAgICByZXR1cm4gMDsKPiA+ICAgfQo+ID4KPiA+IGRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfcmluZy5jIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3JpbmcuYwo+ID4gaW5kZXggMThlMTFiMGZk
YzNlLi40NTAxYWU3YWZiMmUgMTAwNjQ0Cj4gPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfcmluZy5jCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9h
bWRncHVfcmluZy5jCj4gPiBAQCAtMzI2LDYgKzMyNiwxMCBAQCBpbnQgYW1kZ3B1X3JpbmdfaW5p
dChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLAo+
ID4KPiA+ICAgICAgIHJpbmctPm1heF9kdyA9IG1heF9kdzsKPiA+ICAgICAgIHJpbmctPnByaW9y
aXR5ID0gRFJNX1NDSEVEX1BSSU9SSVRZX05PUk1BTDsKPiA+ICsgICAgIGlmIChyaW5nLT5mdW5j
cy0+dHlwZSA9PSBBTURHUFVfUklOR19UWVBFX0NPTVBVVEUgJiYKPiA+ICsgICAgICAgICByaW5n
LT5mdW5jcy0+aW5pdF9wcmlvcml0eSkKPiA+ICsgICAgICAgICAgICAgcmluZy0+ZnVuY3MtPmlu
aXRfcHJpb3JpdHkocmluZyk7Cj4gPiArCj4gPiAgICAgICBtdXRleF9pbml0KCZyaW5nLT5wcmlv
cml0eV9tdXRleCk7Cj4gPgo+ID4gICAgICAgZm9yIChpID0gMDsgaSA8IERSTV9TQ0hFRF9QUklP
UklUWV9NQVg7ICsraSkKPgo+IF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fCj4gYW1kLWdmeCBtYWlsaW5nIGxpc3QKPiBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNr
dG9wLm9yZwo+IGh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8v
YW1kLWdmeApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwph
bWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczov
L2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZngK
