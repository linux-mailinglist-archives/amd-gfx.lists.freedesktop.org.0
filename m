Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id BE0ADAC75A4
	for <lists+amd-gfx@lfdr.de>; Thu, 29 May 2025 04:06:03 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 02C7B10E1BD;
	Thu, 29 May 2025 02:06:02 +0000 (UTC)
Authentication-Results: gabe.freedesktop.org;
	dkim=pass (1024-bit key; unprotected) header.d=amd.com header.i=@amd.com header.b="1rij7GaG";
	dkim-atps=neutral
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM11-BN8-obe.outbound.protection.outlook.com
 (mail-bn8nam11on2088.outbound.protection.outlook.com [40.107.236.88])
 by gabe.freedesktop.org (Postfix) with ESMTPS id ECFE410E1BD
 for <amd-gfx@lists.freedesktop.org>; Thu, 29 May 2025 02:06:00 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector10001; d=microsoft.com; cv=none;
 b=YIWATeDCiToRndDK3nR0JbgR4uomlydmJutBLY90UFxS8MM1ANVYur40OYT/3t7pyAK66FJQY5wc2ACJd2Q2n6lpXWZv4aGHZTrTIacxOVMNtfGAWmRFmQyYokDQNcRk4320N1kymSfvwA0yrTjWn32yJ8xQMLfKjWHgrN3jX3AnTbur4v/tUlL3bM24DdGNR8mfYGreQwmVitlQ3v1VfQ8vM4/wftLl5SHHf+5Wv6cB8zi+PXymHjzmlWY6MZNOPvqril8iN95OJwO9f06FHRR3OpkSPoppZ+bDa++rX4vTES7Nn4lfOCZLddgzOD426/dr7njtZHL7Bm4LBm3vtA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector10001;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=wuXMGqyAFKKqA8fBLhYTOvtxbxyx4P2sEDoHfdtlmGk=;
 b=YvZnTc68vn/T5OmOI53uftfsEJ0WGvKaE4VcI/3/oHP/NA6/nMEaa/VWGU45sp4kSbyA6PWbwvW0d5R7hjcuk1JuSZ7N93UQ+VdduX6kgfEJnNz9SU+FNxRsXKPgfTXDVq+NaVDumsBDkl67zfGOB5Gjuxem1E+wYQ7qvtkGs4eC5gaUIUpcACqoJClFk7yk1sGj0JkxqjbzOJkbXbQwuGs+NjHIIBylQQtM2dxaKJASB100ln+ZPEft62N6rmJ5zt+vv2I1hAyHousVggh0cZuO/5zb7+iHMSi+Z0MU6TcNwjV4BO+bZqcr1SS1J4jJkJzyxAcWp/ONNBulnYgSJw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=amd.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=wuXMGqyAFKKqA8fBLhYTOvtxbxyx4P2sEDoHfdtlmGk=;
 b=1rij7GaGHMh7M3xcJKB9G/LnL4yIDsIqwULmj+70x2ITP2Uae/nO8T6S1tKON2we9NGa9Ouq456BVAuDUauM3JVgqFKi5JxX3PIKqUlxGW2MlruromJ2yENpjDN8YwKSfhDOm+lvwXMHvP1alpoM9yrn72VdInxuxhBS6vHlZ4E=
Received: from DS7PR12MB6005.namprd12.prod.outlook.com (2603:10b6:8:7c::17) by
 MN2PR12MB4375.namprd12.prod.outlook.com (2603:10b6:208:24f::16) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.8769.27; Thu, 29 May
 2025 02:05:55 +0000
Received: from DS7PR12MB6005.namprd12.prod.outlook.com
 ([fe80::4dc0:f34c:9e7e:ccb]) by DS7PR12MB6005.namprd12.prod.outlook.com
 ([fe80::4dc0:f34c:9e7e:ccb%7]) with mapi id 15.20.8769.025; Thu, 29 May 2025
 02:05:55 +0000
From: "Liang, Prike" <Prike.Liang@amd.com>
To: Alex Deucher <alexdeucher@gmail.com>
CC: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>, "Deucher, 
 Alexander" <Alexander.Deucher@amd.com>, "Koenig, Christian"
 <Christian.Koenig@amd.com>
Subject: RE: [PATCH] drm/amdgpu: only export available rings to mesa for
 enabling kq|uq
Thread-Topic: [PATCH] drm/amdgpu: only export available rings to mesa for
 enabling kq|uq
Thread-Index: AQHbz6vZKeVCWouWeEa0JibX4Ga7KrPoBICAgADTmpA=
Date: Thu, 29 May 2025 02:05:55 +0000
Message-ID: <DS7PR12MB6005CC481C03A04628CD56CFFB66A@DS7PR12MB6005.namprd12.prod.outlook.com>
References: <20250528083756.847677-1-Prike.Liang@amd.com>
 <CADnq5_MRsoGeKDhNHuKZbAbjRM9WNAc20q_T60y8kN1biBL0Lg@mail.gmail.com>
In-Reply-To: <CADnq5_MRsoGeKDhNHuKZbAbjRM9WNAc20q_T60y8kN1biBL0Lg@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
msip_labels: MSIP_Label_f265efc6-e181-49d6-80f4-fae95cf838a0_ActionId=c683ed4f-329a-40db-9108-0e83efd3e4ca;
 MSIP_Label_f265efc6-e181-49d6-80f4-fae95cf838a0_ContentBits=0;
 MSIP_Label_f265efc6-e181-49d6-80f4-fae95cf838a0_Enabled=true;
 MSIP_Label_f265efc6-e181-49d6-80f4-fae95cf838a0_Method=Privileged;
 MSIP_Label_f265efc6-e181-49d6-80f4-fae95cf838a0_Name=Open Source;
 MSIP_Label_f265efc6-e181-49d6-80f4-fae95cf838a0_SetDate=2025-05-29T01:48:19Z;
 MSIP_Label_f265efc6-e181-49d6-80f4-fae95cf838a0_SiteId=3dd8961f-e488-4e60-8e11-a82d994e183d;
 MSIP_Label_f265efc6-e181-49d6-80f4-fae95cf838a0_Tag=10, 0, 1, 1;
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=amd.com;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: DS7PR12MB6005:EE_|MN2PR12MB4375:EE_
x-ms-office365-filtering-correlation-id: a2cdb5f3-a2fb-433d-0351-08dd9e555882
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0; ARA:13230040|1800799024|366016|376014|38070700018;
x-microsoft-antispam-message-info: =?utf-8?B?QWtSTTBSQnhvbnBqTXBvOEdOUmU4K0REQUgwNzJLMnpSVUVrMnNLWTdSaUF5?=
 =?utf-8?B?dGhwV3JHUXhPdlNtalNIK2dEaE1NM2ZiWFFqZnE4QnFJZzRQYy9YcFhZZ2ww?=
 =?utf-8?B?OTA4TzNqQ2c3V2JpNGxncy95WVA2clVuajBBdk11V0t1L0VvNjJEWkVqY2U1?=
 =?utf-8?B?YU1zWE9ENTRLZlJUdWZlOGdZVTNIR1BUeHc3OTF3VVVEcDlwZU1FZFJKcDZ1?=
 =?utf-8?B?TXVkTVZHQjc1QmxKbVk3bGxTZVpjRWRLMHhGSngyVGI2Rk5hU3BJRVFNOThq?=
 =?utf-8?B?ZlgyZlFVNldhVzlvdVZBT0dhQlZ6U2hydnZOcjhBVEpuSlpNdFBXNCtpQmRB?=
 =?utf-8?B?QmFIT3k5RHphMWEwNVVHKy9ObC9kOGFZQnAxOE9qTGNEcWhxdmZ6Z0lIY2FN?=
 =?utf-8?B?Q2RVMGIwMVJzWTdpbHlmR1NqMTR2RTAxR1QrOU9rY1k5MmJRVlFoMy9Fb1lF?=
 =?utf-8?B?Q2Jrb2JYYllrT3VoMllmbnZyNnRyOXVLbjM1RnRXTWNBNDUzZDFlSFVVYXBw?=
 =?utf-8?B?azAvZm8wOHNjNlkySytIK2p5VFoxUEE2RVFoQ3BMaFVITzdLVmNkdS95VlJ6?=
 =?utf-8?B?UDJieFhGVmU2WFBMekVsN0syRzdnTzZFbjBVWWJpM3pYZm9kS0hqSVoyMUln?=
 =?utf-8?B?NmYzOG9tREQ4ZEM2NHE2UXhSMUJHbEZKUHl6S05YTTlaWXJsTDJtMlZnbC9W?=
 =?utf-8?B?VVJob2xOb2hJWk1tZEU2SUVVZ1IrUit2d05aRkpCQkM2c2laa1ZaMUczd1hW?=
 =?utf-8?B?bjdCaUx0RlNiMFNOYlNuQmZvUGxYeXQyMFNkMVhLTEc1dm1UT3pRU2V3WkJp?=
 =?utf-8?B?THJ3OGswY0NGbXpUUlVxWGo1bHlhYVh1RTQ5Q0RyVmFFemlwVW82SnhXWU9S?=
 =?utf-8?B?V25rVjM1VStTUTZMeFBISjdEWlJvTjRvSUhSNXNXc01BNmEwWnk2dSs2TnJD?=
 =?utf-8?B?aWNneHkyNFZzazIyZ0I3SDR0SHhkNHp5N05HVmRNQW5QV1ZUZERjNjhONUV2?=
 =?utf-8?B?R1RaS3BvcHp0UkEwcktGNUJGMlNyQlZRZE1yelRPVnJLNmNRbExVRkt6L25h?=
 =?utf-8?B?Ujh0Q3hlOWUvWFkrczBLRDlkQjVEaEF1UzZyeHlJQno1bWRid0FSUFJSM282?=
 =?utf-8?B?b2FjSU5lV1lrZVFkYjRUblpGcWl2eGFYRm1WYXZiVjB3ZnhLb3RGSEhhTFRS?=
 =?utf-8?B?ZXF4VVhEWG43R0drd1dYbks0UXJjWU5nQ0hyRzgvTUJVMkJQMlJWUjkzblpo?=
 =?utf-8?B?Y05iT05GRVRSK2pqS2l6RFZ3bmJ4UkZSZGFnTWZuQnJ6MEdNL29qR0lkN0Vr?=
 =?utf-8?B?bVU3K0lDRFoyek5XZ3ZDTUthT3UvVE1idDc5c0IrZmkyL3VkOEJYYm03QnFH?=
 =?utf-8?B?d3Rtd21WL2VJek1SYUhpUE83bkN1ZGx3em82dHdlaURTWFJZbUV4MW9hb2wy?=
 =?utf-8?B?aWh1bGY2M2N0T0tFamtLNHZERFpzSXZ3bWJmbm5YdEVTS1FEUW5SRXduS254?=
 =?utf-8?B?bWRLNFVhb1JSVzhQZlZpZ3d0RVVub0h5bUlHUTVWS2FNVy9EU0hIZ2lhbDJG?=
 =?utf-8?B?K1dHMGMzTk5FVHZ6ckNlRVJHNjFYWGh2SW43SkZmNHN4SzR1TjRsa25uWFJa?=
 =?utf-8?B?eCtBanlnYzZJWlZicm1KZGpBRzA2VW5HWUlhZ3ROZE0wajdrTjJadHZJeWFo?=
 =?utf-8?B?UE9naDR0SlZySkxuNzkrZjQ0ZFhwN0VkRW1XWlkzT2ZYZEhraitMQzQ1bWpV?=
 =?utf-8?B?VHptLzh0cUMrVUxpYTFSUGVNT2V5Rit5bGtOVjJTei9yeENCK0Z1am5memlN?=
 =?utf-8?B?OEVLQnhNYjVpWnJZWGo1Qk5Scjc0ZTNIYTRWVzFtMnM2aDZVbFk5cTljTnJw?=
 =?utf-8?B?V2hxQlNSNy8rRHVCc2Z2NmIxNFFJTnVkS2hXU3N6a2xuZmNkZDFCVGFYS0Rh?=
 =?utf-8?B?enZVaHAySm9WcEZ6emkxZGJtODlGcTcvZmhYRlBEZ1dJNEtKL1hzWlJYdnR6?=
 =?utf-8?Q?9lUlFKLYP4JtYBoKtdNWozw++EI12A=3D?=
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:DS7PR12MB6005.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(13230040)(1800799024)(366016)(376014)(38070700018); DIR:OUT; SFP:1101; 
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?ZWp4MVl6WUE1ZDd6YVZKUmx5L09IeEdwM2ExeHlwdmUyZnNSTW1ha2FPbEpF?=
 =?utf-8?B?a0RGc3luL0dwNVhhZzFKakk1akF3eFRmK2tqcXZlcW9XZmk5Y1NkMWZiVy93?=
 =?utf-8?B?MnZRN2Vpd0JXWHEyWDU4RE5lVXVKRkd1TlFjODBPRU9rQTllSnlScWVVNVdN?=
 =?utf-8?B?RkIyVEEyYmV0WXBmZWVlNCtISEVIWjJad1lCWXpzY0F6dTl2cEhZMW9hMDdB?=
 =?utf-8?B?SXNnRlR5dnBPNG9qRFUxOEZnRTdrdHVuTUlLV25HUmNVU1R4WDFNVmovZGZX?=
 =?utf-8?B?c1c4R1FheXVSTHpFazlrT2lwLzZqVDN6eDhyaEZtOWpKRFdVanREMVQ1Sy9i?=
 =?utf-8?B?Z0c1a3RZNTZVRFQ5QXZVRzZuM25HWFhGWlUvYXppaWhweUNHb2RRSUJ4N244?=
 =?utf-8?B?ZEhCSlIrMWpOcnFDRXBNQTVJYVFkZU53NmdVMnh2dVBBcG15Sk1oYTA2ME83?=
 =?utf-8?B?OTlzY1YrTk5sZjV1N1Q4R0txMklVcjZlSTNZQ212V3Btb08rbGFyeTdLM3lQ?=
 =?utf-8?B?NlIzR3IvS0FhTHN5M0tKQW5PeGFtVFF5aGtWSkRIMGJ1V3JqeThzcmZNWE1h?=
 =?utf-8?B?VzU5K0N6VzU4cXRoNDNuVnNmSENmNzI5bkduSW5WcjMvT0w3YnFvRVlNK25w?=
 =?utf-8?B?UjFGaG1XV2Q0NjF4YUEwOEF3eWNzRmc4M0YrVW5GejV2cXgvSC9GOW9Id1Zx?=
 =?utf-8?B?UHErMnpWaUMwY0k2MEhnUi9hazJMS0lEUjJkcG9LTGdmaXJoNGRTckc3MHJw?=
 =?utf-8?B?Tk44cVR3RkwwMFlwN0pOQzA1VUY3a3RERUxjRUQ1NkRrNzRVZ2RoQkpNQXpj?=
 =?utf-8?B?SEpwNEFBTnJSRWREV0szL0RrU3JSZ0d4YmZZRTlPVGpqdlpHWHE0d0lHVnJB?=
 =?utf-8?B?UGY5Q0pqT3RtS2htdXNsT2dMcm9DTDdLNWsxajlsVmpDNFhwNHd0aDd5SEx2?=
 =?utf-8?B?c2lPclF5YWtub21jZjhwNnhVemxSVHkvNWFlMDM4MDJpcDlrc2JrN1Nnalph?=
 =?utf-8?B?elJ0Yjd3Y1RscVpUWnlKcGhtOCttVVRZek8wbitmKytBNzB1UEVzS21Dd3M5?=
 =?utf-8?B?b3RBelFwMUhIZEY1eHQrUUxlZDBEUGhUUGtjbmFxb01RejdNd056ZXBlbytD?=
 =?utf-8?B?SFFBWjJNT2VIWm5XM2hxR1BGYnpBeEI0akpNc3BQU1p2UmlLNTlxR21hZlRY?=
 =?utf-8?B?TGhZVG5KS0NvV200WDFXNkFmOE1UWGhCYlBrZHVNUXFKTEtzYTlqbEkwOE1h?=
 =?utf-8?B?eXU3L09EVFMvc05WMWVCMUhHdWR5OFJSaWwvandiYU5oNTBTZ052T05abnp2?=
 =?utf-8?B?WDlQNkRHeEVxVUNkSGg0SVpiVmVIVmJDNDBDQTJRRmdOcWhnR1RueXg2Y09m?=
 =?utf-8?B?SUNpcTNnb0dVcWJiaFgzSDByTG1NeDlaRXQyUHV4UzVyT0FGb3M1ZkFqMTc3?=
 =?utf-8?B?WmNQM1F2RHVld3ZZQ29XRVAva0FYY0ZtRmRGQWRHekZXMjF3WE5jdTIyTE1r?=
 =?utf-8?B?RSt2YXA4MWpGZUJCKyt6bDZtTEoxTzRGMGZOcmNKNXpha3M5NXJjMVJzQ3hR?=
 =?utf-8?B?M0ZBdmVtamo5K2pvZm5FQmR0MjdqS3MxY1lwbEswNTROeUdTbi9kVFlldlhE?=
 =?utf-8?B?NGdSb2M3OVBKT0JaWnpPU0N5cVVBczdsZnorSCs0MjB5cVNSMk11QnpiS3Zt?=
 =?utf-8?B?b3lVYVBXS3VMWFVYM2x6SFpXNy9vWFNWRWVoeU9uRXFPZ0Y3WUI5SFFmUlEz?=
 =?utf-8?B?T25BdEFCS3RUempKQ0gyRmJwZCt6ajNHdlBwL0FWM0dpcDNFNmpCblVhOWVS?=
 =?utf-8?B?MFpIbStIN3lscExHK2JySjFURm9nZXVIcVlPaTRKQzBRWnMwelFrcEpxZ29G?=
 =?utf-8?B?NHl4KzZnM1BUaWRSYnk5K292U1d1ODZoNVFOT0tyMDV0dUNaY1A4RVhSQ3M4?=
 =?utf-8?B?dy9HK1VuT1FleXRjQzVrNFFMa0lNZlhZdUFDaklmbmtRWWY5VFgxcDNBUjFR?=
 =?utf-8?B?YTlxVWg5QVJiVHhQM3B0RThPQmV2cDZWOGk2dlZ1SlYwOHdYRlFxek5Sakln?=
 =?utf-8?B?Q1prRUtNa1RZQUcrUG1CR3QxK1ZWdWFMWnJMbk05UVJ4dVhSemxlb3QvUmsy?=
 =?utf-8?Q?ILbY=3D?=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: DS7PR12MB6005.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: a2cdb5f3-a2fb-433d-0351-08dd9e555882
X-MS-Exchange-CrossTenant-originalarrivaltime: 29 May 2025 02:05:55.0717 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: 7DYcNkRJDu+9QMZood1z9VSDP5r7gqvMdBCTqs21+cDYfeAU10sfrbIrnkyZgEzl
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB4375
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

W1B1YmxpY10NCg0KPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KPiBGcm9tOiBBbGV4IERl
dWNoZXIgPGFsZXhkZXVjaGVyQGdtYWlsLmNvbT4NCj4gU2VudDogV2VkbmVzZGF5LCBNYXkgMjgs
IDIwMjUgOToxMSBQTQ0KPiBUbzogTGlhbmcsIFByaWtlIDxQcmlrZS5MaWFuZ0BhbWQuY29tPg0K
PiBDYzogYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmc7IERldWNoZXIsIEFsZXhhbmRlcg0K
PiA8QWxleGFuZGVyLkRldWNoZXJAYW1kLmNvbT47IEtvZW5pZywgQ2hyaXN0aWFuIDxDaHJpc3Rp
YW4uS29lbmlnQGFtZC5jb20+DQo+IFN1YmplY3Q6IFJlOiBbUEFUQ0hdIGRybS9hbWRncHU6IG9u
bHkgZXhwb3J0IGF2YWlsYWJsZSByaW5ncyB0byBtZXNhIGZvciBlbmFibGluZw0KPiBrcXx1cQ0K
Pg0KPiBPbiBXZWQsIE1heSAyOCwgMjAyNSBhdCA0OjM44oCvQU0gUHJpa2UgTGlhbmcgPFByaWtl
LkxpYW5nQGFtZC5jb20+IHdyb3RlOg0KPiA+DQo+ID4gVGhlIGtlcm5lbCBkcml2ZXIgb25seSBy
ZXF1aXJlcyBleHBvcnRpbmcgYXZhaWxhYmxlIHJpbmdzIHRvIHRoZSBtZXNhDQo+ID4gd2hlbiB0
aGUgdXNlcnEgaXMgZGlzYWJsZWQ7IG90aGVyd2lzZSwgdGhlIHVzZXJxIElQIG1hc2sgd2lsbCBi
ZQ0KPiA+IGNsZWFuZWQgdXAgaW4gdGhlIG1lc2EuDQo+DQo+IFRoZSBsb2dpYyBzaG91bGQgd29y
ayBjb3JyZWN0bHkgYXMgaXMuICBUaGVyZSBhcmUgdGhyZWUgcG9zc2libGUgc3RhdGVzOg0KPiAx
LiBLUSBvbmx5DQo+IDIuIEJvdGggS1EgYW5kIFVRDQo+IDMuIFVRIG9ubHkNCg0KWWVhaCwgYnV0
IHdoZW4gdGhlIGtlcm5lbCBkcml2ZXIgdHJpZXMgdG8gZW5hYmxlIEtRIGFuZCBVUSBhdCB0aGUg
c2FtZSB0aW1lIGJ5IHNldHRpbmcgdXNlcl9xdWV1ZT0xLHdoaWxlIGtlcm5lbCBkcml2ZXIgd2ls
bCByZXBvcnQgYXZhaWxhYmxlIHJpbmdzIHRvIE1lc2EsIGFuZCBNZXNhIHdpbGwgZnVydGhlciBj
bGVhbiB1cCB0aGUgdXNlcnEgbWFzaywgd2hpY2ggbWFrZXMgdXNlciBxdWV1ZSBlbmFibGVtZW50
IGZhaWwuIFdpdGhvdXQgdGhpcyBjaGFuZ2UsIHRoZSB1c2VycSBjYW4gb25seSBiZSBlbmFibGVk
IHN1Y2Nlc3NmdWxseSBzZXBhcmF0ZSBmcm9tIHRoZSBrZXJuZWwgcXVldWUuDQoNClRoYWtzLA0K
UHJpa2UNCg0KPiBBbGV4DQo+DQo+ID4NCj4gPiBTaWduZWQtb2ZmLWJ5OiBQcmlrZSBMaWFuZyA8
UHJpa2UuTGlhbmdAYW1kLmNvbT4NCj4gPiAtLS0NCj4gPiAgZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1X2ttcy5jIHwgMjAgKysrKysrKysrKy0tLS0tLS0tLS0NCj4gPiAgMSBmaWxl
IGNoYW5nZWQsIDEwIGluc2VydGlvbnMoKyksIDEwIGRlbGV0aW9ucygtKQ0KPiA+DQo+ID4gZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9rbXMuYw0KPiA+IGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2ttcy5jDQo+ID4gaW5kZXggZDJjZTdk
ODZkYmM4Li40M2Q4NmMwOWQ4YmIgMTAwNjQ0DQo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1X2ttcy5jDQo+ID4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X2ttcy5jDQo+ID4gQEAgLTQwOSw3ICs0MDksNyBAQCBzdGF0aWMgaW50IGFtZGdw
dV9od19pcF9pbmZvKHN0cnVjdCBhbWRncHVfZGV2aWNlDQo+ICphZGV2LA0KPiA+ICAgICAgICAg
ICAgICAgICB0eXBlID0gQU1EX0lQX0JMT0NLX1RZUEVfR0ZYOw0KPiA+ICAgICAgICAgICAgICAg
ICBmb3IgKGkgPSAwOyBpIDwgYWRldi0+Z2Z4Lm51bV9nZnhfcmluZ3M7IGkrKykNCj4gPiAgICAg
ICAgICAgICAgICAgICAgICAgICBpZiAoYWRldi0+Z2Z4LmdmeF9yaW5nW2ldLnNjaGVkLnJlYWR5
ICYmDQo+ID4gLSAgICAgICAgICAgICAgICAgICAgICAgICAgICFhZGV2LT5nZnguZ2Z4X3Jpbmdb
aV0ubm9fdXNlcl9zdWJtaXNzaW9uKQ0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICBh
ZGV2LT5nZnguZGlzYWJsZV91cSkNCj4gPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICsrbnVtX3JpbmdzOw0KPiA+ICAgICAgICAgICAgICAgICBpYl9zdGFydF9hbGlnbm1lbnQgPSAz
MjsNCj4gPiAgICAgICAgICAgICAgICAgaWJfc2l6ZV9hbGlnbm1lbnQgPSAzMjsgQEAgLTQxOCw3
ICs0MTgsNyBAQCBzdGF0aWMgaW50DQo+ID4gYW1kZ3B1X2h3X2lwX2luZm8oc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYsDQo+ID4gICAgICAgICAgICAgICAgIHR5cGUgPSBBTURfSVBfQkxPQ0tf
VFlQRV9HRlg7DQo+ID4gICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBhZGV2LT5nZngu
bnVtX2NvbXB1dGVfcmluZ3M7IGkrKykNCj4gPiAgICAgICAgICAgICAgICAgICAgICAgICBpZiAo
YWRldi0+Z2Z4LmNvbXB1dGVfcmluZ1tpXS5zY2hlZC5yZWFkeSAmJg0KPiA+IC0gICAgICAgICAg
ICAgICAgICAgICAgICAgICAhYWRldi0+Z2Z4LmNvbXB1dGVfcmluZ1tpXS5ub191c2VyX3N1Ym1p
c3Npb24pDQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZXYtPmdmeC5kaXNhYmxl
X3VxKQ0KPiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKytudW1fcmluZ3M7DQo+
ID4gICAgICAgICAgICAgICAgIGliX3N0YXJ0X2FsaWdubWVudCA9IDMyOw0KPiA+ICAgICAgICAg
ICAgICAgICBpYl9zaXplX2FsaWdubWVudCA9IDMyOyBAQCAtNDI3LDcgKzQyNyw3IEBAIHN0YXRp
YyBpbnQNCj4gPiBhbWRncHVfaHdfaXBfaW5mbyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwN
Cj4gPiAgICAgICAgICAgICAgICAgdHlwZSA9IEFNRF9JUF9CTE9DS19UWVBFX1NETUE7DQo+ID4g
ICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBhZGV2LT5zZG1hLm51bV9pbnN0YW5jZXM7
IGkrKykNCj4gPiAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWRldi0+c2RtYS5pbnN0YW5j
ZVtpXS5yaW5nLnNjaGVkLnJlYWR5ICYmDQo+ID4gLSAgICAgICAgICAgICAgICAgICAgICAgICAg
ICFhZGV2LT5zZG1hLmluc3RhbmNlW2ldLnJpbmcubm9fdXNlcl9zdWJtaXNzaW9uKQ0KPiA+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRldi0+Z2Z4LmRpc2FibGVfdXEpDQo+ID4g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArK251bV9yaW5nczsNCj4gPiAgICAgICAg
ICAgICAgICAgaWJfc3RhcnRfYWxpZ25tZW50ID0gMjU2Ow0KPiA+ICAgICAgICAgICAgICAgICBp
Yl9zaXplX2FsaWdubWVudCA9IDQ7IEBAIC00MzksNyArNDM5LDcgQEAgc3RhdGljIGludA0KPiA+
IGFtZGdwdV9od19pcF9pbmZvKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KPiA+ICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7DQo+ID4NCj4gPiAgICAgICAgICAg
ICAgICAgICAgICAgICBpZiAoYWRldi0+dXZkLmluc3RbaV0ucmluZy5zY2hlZC5yZWFkeSAmJg0K
PiA+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAhYWRldi0+dXZkLmluc3RbaV0ucmluZy5u
b191c2VyX3N1Ym1pc3Npb24pDQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZXYt
PmdmeC5kaXNhYmxlX3VxKQ0KPiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKytu
dW1fcmluZ3M7DQo+ID4gICAgICAgICAgICAgICAgIH0NCj4gPiAgICAgICAgICAgICAgICAgaWJf
c3RhcnRfYWxpZ25tZW50ID0gMjU2OyBAQCAtNDQ5LDcgKzQ0OSw3IEBAIHN0YXRpYw0KPiA+IGlu
dCBhbWRncHVfaHdfaXBfaW5mbyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gPiAgICAg
ICAgICAgICAgICAgdHlwZSA9IEFNRF9JUF9CTE9DS19UWVBFX1ZDRTsNCj4gPiAgICAgICAgICAg
ICAgICAgZm9yIChpID0gMDsgaSA8IGFkZXYtPnZjZS5udW1fcmluZ3M7IGkrKykNCj4gPiAgICAg
ICAgICAgICAgICAgICAgICAgICBpZiAoYWRldi0+dmNlLnJpbmdbaV0uc2NoZWQucmVhZHkgJiYN
Cj4gPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgIWFkZXYtPnZjZS5yaW5nW2ldLm5vX3Vz
ZXJfc3VibWlzc2lvbikNCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRldi0+Z2Z4
LmRpc2FibGVfdXEpDQo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArK251bV9y
aW5nczsNCj4gPiAgICAgICAgICAgICAgICAgaWJfc3RhcnRfYWxpZ25tZW50ID0gMjU2Ow0KPiA+
ICAgICAgICAgICAgICAgICBpYl9zaXplX2FsaWdubWVudCA9IDQ7IEBAIC00NjIsNyArNDYyLDcg
QEAgc3RhdGljIGludA0KPiA+IGFtZGdwdV9od19pcF9pbmZvKHN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2LA0KPiA+DQo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8
IGFkZXYtPnV2ZC5udW1fZW5jX3JpbmdzOyBqKyspDQo+ID4gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBpZiAoYWRldi0+dXZkLmluc3RbaV0ucmluZ19lbmNbal0uc2NoZWQucmVhZHkg
JiYNCj4gPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhYWRldi0+dXZkLmlu
c3RbaV0ucmluZ19lbmNbal0ubm9fdXNlcl9zdWJtaXNzaW9uKQ0KPiA+ICsgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIGFkZXYtPmdmeC5kaXNhYmxlX3VxKQ0KPiA+ICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArK251bV9yaW5nczsNCj4gPiAgICAgICAg
ICAgICAgICAgfQ0KPiA+ICAgICAgICAgICAgICAgICBpYl9zdGFydF9hbGlnbm1lbnQgPSAyNTY7
IEBAIC00NzUsNyArNDc1LDcgQEAgc3RhdGljDQo+ID4gaW50IGFtZGdwdV9od19pcF9pbmZvKHN0
cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KPiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgY29udGludWU7DQo+ID4NCj4gPiAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWRl
di0+dmNuLmluc3RbaV0ucmluZ19kZWMuc2NoZWQucmVhZHkgJiYNCj4gPiAtICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIWFkZXYtPnZjbi5pbnN0W2ldLnJpbmdfZGVjLm5vX3VzZXJfc3VibWlz
c2lvbikNCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRldi0+Z2Z4LmRpc2FibGVf
dXEpDQo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArK251bV9yaW5nczsNCj4g
PiAgICAgICAgICAgICAgICAgfQ0KPiA+ICAgICAgICAgICAgICAgICBpYl9zdGFydF9hbGlnbm1l
bnQgPSAyNTY7IEBAIC00ODksNyArNDg5LDcgQEAgc3RhdGljDQo+ID4gaW50IGFtZGdwdV9od19p
cF9pbmZvKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KPiA+DQo+ID4gICAgICAgICAgICAg
ICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGFkZXYtPnZjbi5pbnN0W2ldLm51bV9lbmNfcmlu
Z3M7IGorKykNCj4gPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZGV2LT52
Y24uaW5zdFtpXS5yaW5nX2VuY1tqXS5zY2hlZC5yZWFkeSAmJg0KPiA+IC0gICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICFhZGV2LT52Y24uaW5zdFtpXS5yaW5nX2VuY1tqXS5ub191
c2VyX3N1Ym1pc3Npb24pDQo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
YWRldi0+Z2Z4LmRpc2FibGVfdXEpDQo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICsrbnVtX3JpbmdzOw0KPiA+ICAgICAgICAgICAgICAgICB9DQo+ID4gICAgICAg
ICAgICAgICAgIGliX3N0YXJ0X2FsaWdubWVudCA9IDI1NjsgQEAgLTUwNSw3ICs1MDUsNyBAQCBz
dGF0aWMNCj4gPiBpbnQgYW1kZ3B1X2h3X2lwX2luZm8oc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFk
ZXYsDQo+ID4NCj4gPiAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgYWRl
di0+anBlZy5udW1fanBlZ19yaW5nczsgaisrKQ0KPiA+ICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgaWYgKGFkZXYtPmpwZWcuaW5zdFtpXS5yaW5nX2RlY1tqXS5zY2hlZC5yZWFkeSAm
Jg0KPiA+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFhZGV2LT5qcGVnLmlu
c3RbaV0ucmluZ19kZWNbal0ubm9fdXNlcl9zdWJtaXNzaW9uKQ0KPiA+ICsgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIGFkZXYtPmdmeC5kaXNhYmxlX3VxKQ0KPiA+ICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArK251bV9yaW5nczsNCj4gPiAgICAgICAg
ICAgICAgICAgfQ0KPiA+ICAgICAgICAgICAgICAgICBpYl9zdGFydF9hbGlnbm1lbnQgPSAyNTY7
IEBAIC01MTQsNyArNTE0LDcgQEAgc3RhdGljDQo+ID4gaW50IGFtZGdwdV9od19pcF9pbmZvKHN0
cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KPiA+ICAgICAgICAgY2FzZSBBTURHUFVfSFdfSVBf
VlBFOg0KPiA+ICAgICAgICAgICAgICAgICB0eXBlID0gQU1EX0lQX0JMT0NLX1RZUEVfVlBFOw0K
PiA+ICAgICAgICAgICAgICAgICBpZiAoYWRldi0+dnBlLnJpbmcuc2NoZWQucmVhZHkgJiYNCj4g
PiAtICAgICAgICAgICAgICAgICAgICFhZGV2LT52cGUucmluZy5ub191c2VyX3N1Ym1pc3Npb24p
DQo+ID4gKyAgICAgICAgICAgICAgICAgICBhZGV2LT5nZnguZGlzYWJsZV91cSkNCj4gPiAgICAg
ICAgICAgICAgICAgICAgICAgICArK251bV9yaW5nczsNCj4gPiAgICAgICAgICAgICAgICAgaWJf
c3RhcnRfYWxpZ25tZW50ID0gMjU2Ow0KPiA+ICAgICAgICAgICAgICAgICBpYl9zaXplX2FsaWdu
bWVudCA9IDQ7DQo+ID4gLS0NCj4gPiAyLjM0LjENCj4gPg0K
