Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 9905616C27B
	for <lists+amd-gfx@lfdr.de>; Tue, 25 Feb 2020 14:37:49 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A25D96E207;
	Tue, 25 Feb 2020 13:37:47 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM11-CO1-obe.outbound.protection.outlook.com
 (mail-co1nam11on2083.outbound.protection.outlook.com [40.107.220.83])
 by gabe.freedesktop.org (Postfix) with ESMTPS id BAE2D6E207
 for <amd-gfx@lists.freedesktop.org>; Tue, 25 Feb 2020 13:37:46 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=a2ol/YXug2qfzc+6dv3mZyqKl3Zxl5HViCyzWW7s79BlvcfPH1WT/q2phPqlQpJgqtGKs7enwqP5f768I3CbSpmnR7r8UbdG4mYTHY6yW95GnNKuy7nltJpaAU1+mCoLKd/TM980glss0+xftwUSbc/cXVbx+NYDSa5cA91v7Ouc21sBsGswV49AXEFjWZ8pSMU8CLuoKJqNHK2YjEheKczDdS7I/tAkTjB3dTqtPhMzDox0JzUeXaqPjEgfqjCdGOQqeCNbreeuovRLTaoVW2ITr7GG3AZsdPAO2UxcoCI49wNKALXCYw6WoAW/IW80JjhViaVIDs/rSeSuOqe34w==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=0dkw4M6FC9doJcoi//SqSy68Ua2y92KUIeA7PcfBgc0=;
 b=nR1mQRWByfZQmKpt2C1DFXvYIc97auHara6foakKXnbjk3R3FgxTcjqd0hU9H1Oj+/XKwKCQHHyL1MBWLStsae5LMNoaXBXgMyz+fbBUSiPRL2lSuHELTVcRZFiARMXNCmwwP02UkWE3c9Cm7qvtRtYpztNE5MKXn5DELEZ3/mmjmfwAAjjjczNZz3sNZW05tVSkIuWMVaYZbE+P7NbKR1ZdPIvASy8w3NKqO+pesfbOU1ipeZdn0jdsN5b6FXIaAc/DrAiOm3dqRhLgfzKIAaITE2UdIQ5EhLIf9oJEKo9pxX6vtgC0pFvZe/TpeHo+48MK7E5RX+njzT53fMt4SA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=0dkw4M6FC9doJcoi//SqSy68Ua2y92KUIeA7PcfBgc0=;
 b=JuNfmUQMrsqVT2iD8nAh22m0M5stFAHORd+tksTknOZLrrlwwcPwz00bpOHZ3itOPFMwoPNIjdNj1zdXdvFUtmnaQwSenWxkXDyqrHNT13RrgzqhPoqUo/ykIhgxqSar69Ul3n+hmbQ/5kTBHp86z54Nd/BwJxYEYuSA0iccXic=
Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Nirmoy.Das@amd.com; 
Received: from DM5PR12MB2376.namprd12.prod.outlook.com (2603:10b6:4:b9::11) by
 DM5PR12MB1819.namprd12.prod.outlook.com (2603:10b6:3:113::20) with
 Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2750.22; Tue, 25 Feb 2020 13:37:44 +0000
Received: from DM5PR12MB2376.namprd12.prod.outlook.com
 ([fe80::ac12:6413:cd14:4904]) by DM5PR12MB2376.namprd12.prod.outlook.com
 ([fe80::ac12:6413:cd14:4904%4]) with mapi id 15.20.2750.021; Tue, 25 Feb 2020
 13:37:44 +0000
Subject: Re: [PATCH] drm/amdgpu: stop disable the scheduler during HW fini
To: Dennis.Li@amd.com
References: <20200225130736.2929-1-christian.koenig@amd.com>
From: Nirmoy <nirmodas@amd.com>
Message-ID: <0c14cd77-faa9-b607-28f5-8f2bda34282f@amd.com>
Date: Tue, 25 Feb 2020 14:40:50 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101
 Thunderbird/68.5.0
In-Reply-To: <20200225130736.2929-1-christian.koenig@amd.com>
Content-Language: en-US
X-ClientProxiedBy: BN4PR13CA0001.namprd13.prod.outlook.com
 (2603:10b6:403:3::11) To DM5PR12MB2376.namprd12.prod.outlook.com
 (2603:10b6:4:b9::11)
MIME-Version: 1.0
X-MS-Exchange-MessageSentRepresentingType: 1
Received: from [IPv6:2003:c5:8f2c:dd00:254c:e011:75f7:66e4]
 (2003:c5:8f2c:dd00:254c:e011:75f7:66e4) by
 BN4PR13CA0001.namprd13.prod.outlook.com (2603:10b6:403:3::11) with Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2772.9 via Frontend Transport; Tue, 25 Feb 2020 13:37:43 +0000
X-Originating-IP: [2003:c5:8f2c:dd00:254c:e011:75f7:66e4]
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-HT: Tenant
X-MS-Office365-Filtering-Correlation-Id: fb15ec8d-4130-4c36-1f1c-08d7b9f7e4d0
X-MS-TrafficTypeDiagnostic: DM5PR12MB1819:|DM5PR12MB1819:
X-MS-Exchange-Transport-Forked: True
X-Microsoft-Antispam-PRVS: <DM5PR12MB1819407E0B7B0484C9EA37C28BED0@DM5PR12MB1819.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:4714;
X-Forefront-PRVS: 0324C2C0E2
X-Forefront-Antispam-Report: SFV:NSPM;
 SFS:(10009020)(4636009)(366004)(189003)(199004)(5660300002)(4326008)(2906002)(31686004)(31696002)(66946007)(66556008)(53546011)(6666004)(2616005)(186003)(16526019)(66476007)(30864003)(37006003)(66574012)(498600001)(34206002)(52116002)(6486002)(36756003)(8936002)(81166006)(81156014)(6636002)(8676002);
 DIR:OUT; SFP:1101; SCL:1; SRVR:DM5PR12MB1819;
 H:DM5PR12MB2376.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: B8739VxKR5+n6gn8b/xIgfhYy6PO/NCniqFInRi9DCmVO8OpiLUavSWNIRjFQEvo+RlOlxUjXa5+855vY1E1OL+rFKLadkRf45ZC3HUP2jXZ3WsWKriFTIwOivs/gH+GjQL6CZvQ8HR23+K7P0Wv/eeGCLucKNmy/TD7qeleTtlTiV/OCgaQr+KlTQg+eTyWFP5EsQN5OkHvnUmt+4ufN8PJ1AbHqiN5cLGsOqXBXa+C8X3RfCeY9H0mSvTi1tG0hg+Gw6Au5ZI017MPHpEZNQa+ZgTa3EvVs6Vj371YHoyENeBeT7KgACwCYjoEh0lL/p2yiEtnMLaU7eK1Sh8GbdqxUQRXri7VHMfwOHaBvQdjemSU5tsz+iSyr6U701gzGdx5k4Nh6Xgi+jYqKZqFh0wn+5i1gLn/3QUvL6vASpUHZ99iBwElY99xzmXFxXKY
X-MS-Exchange-AntiSpam-MessageData: Xd1193IhGUXcCXUd3XdrywxyeSCXz3sFnOuY+Cc/7Edz09GhQyO2BOwNy8sLl91Put8APOHl0l/mRSGqgo7aa0GUIK2uoAeS2RZzNFiCHZSRvZmn35Fl5WF9gyFa1cOvQqLZsSDdyGiGm/Ox+2LBl64JensafHpr+LpzcOM/i9E/Je1Rf3ArP1yDa9ALKxUv6KrFo+GJizzeyHeRdLjU6g==
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: fb15ec8d-4130-4c36-1f1c-08d7b9f7e4d0
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 25 Feb 2020 13:37:44.6378 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: 6a22ZV+PlOadtiy14PaonIhsKNjkmh64NHqpdugTVHNO5F3pn68o9mwUUVEWJQsSORvNkqhW0HX7ZS1We7farQ==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM5PR12MB1819
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: amd-gfx@lists.freedesktop.org
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

SGkgRGVubmlzLAoKQ2FuIHlvdSBwbGVhc2UgdGVzdCB0aGlzIHBhdGNoIG9uIHZlZ2EyMCBmb3Ig
U1dERVYtMjIzMTE3CgoKUmVnYXJkcywKCk5pcm1veQoKT24gMi8yNS8yMCAyOjA3IFBNLCBDaHJp
c3RpYW4gS8O2bmlnIHdyb3RlOgo+IFdoZW4gd2Ugc3RvcCB0aGUgSFcgZm9yIGV4YW1wbGUgZm9y
IEdQVSByZXNldCB3ZSBzaG91bGQgbm90IHN0b3AgdGhlCj4gZnJvbnQtZW5kIHNjaGVkdWxlci4g
T3RoZXJ3aXNlIHdlIHJ1biBpbnRvIGludGVybWVkaWF0ZSBmYWlsdXJlcyBkdXJpbmcKPiBjb21t
YW5kIHN1Ym1pc3Npb24uCj4KPiBUaGUgc2NoZWR1bGVyIHNob3VsZCBvbmx5IGJlIHN0b3BwZWQg
aW4gdmVyeSBmZXcgY2FzZXM6Cj4gMS4gV2UgY2FuJ3QgZ2V0IHRoZSBoYXJkd2FyZSB3b3JraW5n
IGluIHJpbmcgb3IgSUIgdGVzdCBhZnRlciBhIEdQVSByZXNldC4KPiAyLiBUaGUgS0lRIHNjaGVk
dWxlciBpcyBub3QgdXNlZCBpbiB0aGUgZnJvbnQtZW5kIGFuZCBzaG91bGQgYmUgZGlzYWJsZWQg
ZHVyaW5nIEdQVSByZXNldC4KPiAzLiBJbiBhbWRncHVfcmluZ19maW5pKCkgd2hlbiB0aGUgZHJp
dmVyIHVubG9hZHMuCj4KPiBTaWduZWQtb2ZmLWJ5OiBDaHJpc3RpYW4gS8O2bmlnIDxjaHJpc3Rp
YW4ua29lbmlnQGFtZC5jb20+Cj4gLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9j
aWtfc2RtYS5jICB8ICAyIC0tCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjEw
XzAuYyB8ICA4IC0tLS0tLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjZf
MC5jICB8ICA1IC0tLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjdfMC5j
ICB8IDI1ICsrKysrKysrKy0tLS0tLS0tLS0tLS0tLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2dmeF92OF8wLmMgIHwgIDcgLS0tLS0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvZ2Z4X3Y5XzAuYyAgfCAgOSAtLS0tLS0tLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2pwZWdfdjJfMC5jIHwgIDMgLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9zZG1hX3YyXzQuYyB8ICAyIC0tCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1h
X3YzXzAuYyB8ICAyIC0tCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3Y0XzAu
YyB8ICA0IC0tLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjVfMC5jIHwg
IDMgLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zaV9kbWEuYyAgICB8ICAxIC0K
PiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3V2ZF92NF8yLmMgIHwgIDMgLS0tCj4gICBk
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS91dmRfdjVfMC5jICB8ICAzIC0tLQo+ICAgZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvdXZkX3Y2XzAuYyAgfCAgMyAtLS0KPiAgIGRyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L3V2ZF92N18wLmMgIHwgIDcgLS0tLS0tLQo+ICAgZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvdmNlX3Y0XzAuYyAgfCAgNCAtLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS92Y25fdjFfMC5jICB8ICAzIC0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvdmNuX3YyXzAuYyAgfCAgOSAtLS0tLS0tLS0KPiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L3Zjbl92Ml81LmMgIHwgMTEgKy0tLS0tLS0tLS0KPiAgIDIwIGZpbGVzIGNoYW5nZWQs
IDEwIGluc2VydGlvbnMoKyksIDEwNCBkZWxldGlvbnMoLSkKPgo+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9jaWtfc2RtYS5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvY2lrX3NkbWEuYwo+IGluZGV4IDQyNzRjY2Y3NjVkZS4uY2IzYjNhMGExMzQ4IDEwMDY0
NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Npa19zZG1hLmMKPiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9jaWtfc2RtYS5jCj4gQEAgLTMyMCw4ICszMjAsNiBA
QCBzdGF0aWMgdm9pZCBjaWtfc2RtYV9nZnhfc3RvcChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRl
dikKPiAgIAkJV1JFRzMyKG1tU0RNQTBfR0ZYX1JCX0NOVEwgKyBzZG1hX29mZnNldHNbaV0sIHJi
X2NudGwpOwo+ICAgCQlXUkVHMzIobW1TRE1BMF9HRlhfSUJfQ05UTCArIHNkbWFfb2Zmc2V0c1tp
XSwgMCk7Cj4gICAJfQo+IC0Jc2RtYTAtPnNjaGVkLnJlYWR5ID0gZmFsc2U7Cj4gLQlzZG1hMS0+
c2NoZWQucmVhZHkgPSBmYWxzZTsKPiAgIH0KPiAgIAo+ICAgLyoqCj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92MTBfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvZ2Z4X3YxMF8wLmMKPiBpbmRleCA3YjYxNTgzMjA0MDAuLjM2Y2U2N2NlNDgwMCAx
MDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjEwXzAuYwo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92MTBfMC5jCj4gQEAgLTIzOTEsMTAg
KzIzOTEsNiBAQCBzdGF0aWMgaW50IGdmeF92MTBfMF9jcF9nZnhfZW5hYmxlKHN0cnVjdCBhbWRn
cHVfZGV2aWNlICphZGV2LCBib29sIGVuYWJsZSkKPiAgIAl0bXAgPSBSRUdfU0VUX0ZJRUxEKHRt
cCwgQ1BfTUVfQ05UTCwgTUVfSEFMVCwgZW5hYmxlID8gMCA6IDEpOwo+ICAgCXRtcCA9IFJFR19T
RVRfRklFTEQodG1wLCBDUF9NRV9DTlRMLCBQRlBfSEFMVCwgZW5hYmxlID8gMCA6IDEpOwo+ICAg
CXRtcCA9IFJFR19TRVRfRklFTEQodG1wLCBDUF9NRV9DTlRMLCBDRV9IQUxULCBlbmFibGUgPyAw
IDogMSk7Cj4gLQlpZiAoIWVuYWJsZSkgewo+IC0JCWZvciAoaSA9IDA7IGkgPCBhZGV2LT5nZngu
bnVtX2dmeF9yaW5nczsgaSsrKQo+IC0JCQlhZGV2LT5nZnguZ2Z4X3JpbmdbaV0uc2NoZWQucmVh
ZHkgPSBmYWxzZTsKPiAtCX0KPiAgIAlXUkVHMzJfU09DMTUoR0MsIDAsIG1tQ1BfTUVfQ05UTCwg
dG1wKTsKPiAgIAo+ICAgCWZvciAoaSA9IDA7IGkgPCBhZGV2LT51c2VjX3RpbWVvdXQ7IGkrKykg
ewo+IEBAIC0yODY5LDE2ICsyODY1LDEyIEBAIHN0YXRpYyBpbnQgZ2Z4X3YxMF8wX2NwX2dmeF9y
ZXN1bWUoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCj4gICAKPiAgIHN0YXRpYyB2b2lkIGdm
eF92MTBfMF9jcF9jb21wdXRlX2VuYWJsZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgYm9v
bCBlbmFibGUpCj4gICB7Cj4gLQlpbnQgaTsKPiAtCj4gICAJaWYgKGVuYWJsZSkgewo+ICAgCQlX
UkVHMzJfU09DMTUoR0MsIDAsIG1tQ1BfTUVDX0NOVEwsIDApOwo+ICAgCX0gZWxzZSB7Cj4gICAJ
CVdSRUczMl9TT0MxNShHQywgMCwgbW1DUF9NRUNfQ05UTCwKPiAgIAkJCSAgICAgKENQX01FQ19D
TlRMX19NRUNfTUUxX0hBTFRfTUFTSyB8Cj4gICAJCQkgICAgICBDUF9NRUNfQ05UTF9fTUVDX01F
Ml9IQUxUX01BU0spKTsKPiAtCQlmb3IgKGkgPSAwOyBpIDwgYWRldi0+Z2Z4Lm51bV9jb21wdXRl
X3JpbmdzOyBpKyspCj4gLQkJCWFkZXYtPmdmeC5jb21wdXRlX3JpbmdbaV0uc2NoZWQucmVhZHkg
PSBmYWxzZTsKPiAgIAkJYWRldi0+Z2Z4LmtpcS5yaW5nLnNjaGVkLnJlYWR5ID0gZmFsc2U7Cj4g
ICAJfQo+ICAgCXVkZWxheSg1MCk7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2dmeF92Nl8wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjZfMC5j
Cj4gaW5kZXggMzFmNDRkMDVlNjA2Li5lNDYyYTA5OWRiZGEgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3Y2XzAuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2dmeF92Nl8wLmMKPiBAQCAtMTk1MCw3ICsxOTUwLDYgQEAgc3RhdGljIGludCBn
ZnhfdjZfMF9yaW5nX3Rlc3RfaWIoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLCBsb25nIHRpbWVv
dXQpCj4gICAKPiAgIHN0YXRpYyB2b2lkIGdmeF92Nl8wX2NwX2dmeF9lbmFibGUoc3RydWN0IGFt
ZGdwdV9kZXZpY2UgKmFkZXYsIGJvb2wgZW5hYmxlKQo+ICAgewo+IC0JaW50IGk7Cj4gICAJaWYg
KGVuYWJsZSkgewo+ICAgCQlXUkVHMzIobW1DUF9NRV9DTlRMLCAwKTsKPiAgIAl9IGVsc2Ugewo+
IEBAIC0xOTU4LDEwICsxOTU3LDYgQEAgc3RhdGljIHZvaWQgZ2Z4X3Y2XzBfY3BfZ2Z4X2VuYWJs
ZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgYm9vbCBlbmFibGUpCj4gICAJCQkJICAgICAg
Q1BfTUVfQ05UTF9fUEZQX0hBTFRfTUFTSyB8Cj4gICAJCQkJICAgICAgQ1BfTUVfQ05UTF9fQ0Vf
SEFMVF9NQVNLKSk7Cj4gICAJCVdSRUczMihtbVNDUkFUQ0hfVU1TSywgMCk7Cj4gLQkJZm9yIChp
ID0gMDsgaSA8IGFkZXYtPmdmeC5udW1fZ2Z4X3JpbmdzOyBpKyspCj4gLQkJCWFkZXYtPmdmeC5n
ZnhfcmluZ1tpXS5zY2hlZC5yZWFkeSA9IGZhbHNlOwo+IC0JCWZvciAoaSA9IDA7IGkgPCBhZGV2
LT5nZngubnVtX2NvbXB1dGVfcmluZ3M7IGkrKykKPiAtCQkJYWRldi0+Z2Z4LmNvbXB1dGVfcmlu
Z1tpXS5zY2hlZC5yZWFkeSA9IGZhbHNlOwo+ICAgCX0KPiAgIAl1ZGVsYXkoNTApOwo+ICAgfQo+
IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjdfMC5jIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3Y3XzAuYwo+IGluZGV4IDhmMjBhNWRkNDRmZS4u
OWJjODY3M2M4M2FjIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dm
eF92N18wLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjdfMC5jCj4g
QEAgLTI0MzEsMTUgKzI0MzEsMTIgQEAgc3RhdGljIGludCBnZnhfdjdfMF9yaW5nX3Rlc3RfaWIo
c3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLCBsb25nIHRpbWVvdXQpCj4gICAgKi8KPiAgIHN0YXRp
YyB2b2lkIGdmeF92N18wX2NwX2dmeF9lbmFibGUoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYs
IGJvb2wgZW5hYmxlKQo+ICAgewo+IC0JaW50IGk7Cj4gLQo+IC0JaWYgKGVuYWJsZSkgewo+ICsJ
aWYgKGVuYWJsZSkKPiAgIAkJV1JFRzMyKG1tQ1BfTUVfQ05UTCwgMCk7Cj4gLQl9IGVsc2Ugewo+
IC0JCVdSRUczMihtbUNQX01FX0NOVEwsIChDUF9NRV9DTlRMX19NRV9IQUxUX01BU0sgfCBDUF9N
RV9DTlRMX19QRlBfSEFMVF9NQVNLIHwgQ1BfTUVfQ05UTF9fQ0VfSEFMVF9NQVNLKSk7Cj4gLQkJ
Zm9yIChpID0gMDsgaSA8IGFkZXYtPmdmeC5udW1fZ2Z4X3JpbmdzOyBpKyspCj4gLQkJCWFkZXYt
PmdmeC5nZnhfcmluZ1tpXS5zY2hlZC5yZWFkeSA9IGZhbHNlOwo+IC0JfQo+ICsJZWxzZQo+ICsJ
CVdSRUczMihtbUNQX01FX0NOVEwsIChDUF9NRV9DTlRMX19NRV9IQUxUX01BU0sgfAo+ICsJCQkJ
ICAgICAgQ1BfTUVfQ05UTF9fUEZQX0hBTFRfTUFTSyB8Cj4gKwkJCQkgICAgICBDUF9NRV9DTlRM
X19DRV9IQUxUX01BU0spKTsKPiAgIAl1ZGVsYXkoNTApOwo+ICAgfQo+ICAgCj4gQEAgLTI3MDAs
MTUgKzI2OTcsMTEgQEAgc3RhdGljIHZvaWQgZ2Z4X3Y3XzBfcmluZ19zZXRfd3B0cl9jb21wdXRl
KHN0cnVjdCBhbWRncHVfcmluZyAqcmluZykKPiAgICAqLwo+ICAgc3RhdGljIHZvaWQgZ2Z4X3Y3
XzBfY3BfY29tcHV0ZV9lbmFibGUoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIGJvb2wgZW5h
YmxlKQo+ICAgewo+IC0JaW50IGk7Cj4gLQo+IC0JaWYgKGVuYWJsZSkgewo+ICsJaWYgKGVuYWJs
ZSkKPiAgIAkJV1JFRzMyKG1tQ1BfTUVDX0NOVEwsIDApOwo+IC0JfSBlbHNlIHsKPiAtCQlXUkVH
MzIobW1DUF9NRUNfQ05UTCwgKENQX01FQ19DTlRMX19NRUNfTUUxX0hBTFRfTUFTSyB8IENQX01F
Q19DTlRMX19NRUNfTUUyX0hBTFRfTUFTSykpOwo+IC0JCWZvciAoaSA9IDA7IGkgPCBhZGV2LT5n
ZngubnVtX2NvbXB1dGVfcmluZ3M7IGkrKykKPiAtCQkJYWRldi0+Z2Z4LmNvbXB1dGVfcmluZ1tp
XS5zY2hlZC5yZWFkeSA9IGZhbHNlOwo+IC0JfQo+ICsJZWxzZQo+ICsJCVdSRUczMihtbUNQX01F
Q19DTlRMLCAoQ1BfTUVDX0NOVExfX01FQ19NRTFfSEFMVF9NQVNLIHwKPiArCQkJCSAgICAgICBD
UF9NRUNfQ05UTF9fTUVDX01FMl9IQUxUX01BU0spKTsKPiAgIAl1ZGVsYXkoNTApOwo+ICAgfQo+
ICAgCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92OF8wLmMg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjhfMC5jCj4gaW5kZXggZmEyNDU5NzNk
ZTEyLi43YjZiMDNjMDI3NTQgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvZ2Z4X3Y4XzAuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92OF8w
LmMKPiBAQCAtNDExMSw3ICs0MTExLDYgQEAgc3RhdGljIGludCBnZnhfdjhfMF9ybGNfcmVzdW1l
KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQo+ICAgCj4gICBzdGF0aWMgdm9pZCBnZnhfdjhf
MF9jcF9nZnhfZW5hYmxlKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCBib29sIGVuYWJsZSkK
PiAgIHsKPiAtCWludCBpOwo+ICAgCXUzMiB0bXAgPSBSUkVHMzIobW1DUF9NRV9DTlRMKTsKPiAg
IAo+ICAgCWlmIChlbmFibGUpIHsKPiBAQCAtNDEyMiw4ICs0MTIxLDYgQEAgc3RhdGljIHZvaWQg
Z2Z4X3Y4XzBfY3BfZ2Z4X2VuYWJsZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgYm9vbCBl
bmFibGUpCj4gICAJCXRtcCA9IFJFR19TRVRfRklFTEQodG1wLCBDUF9NRV9DTlRMLCBNRV9IQUxU
LCAxKTsKPiAgIAkJdG1wID0gUkVHX1NFVF9GSUVMRCh0bXAsIENQX01FX0NOVEwsIFBGUF9IQUxU
LCAxKTsKPiAgIAkJdG1wID0gUkVHX1NFVF9GSUVMRCh0bXAsIENQX01FX0NOVEwsIENFX0hBTFQs
IDEpOwo+IC0JCWZvciAoaSA9IDA7IGkgPCBhZGV2LT5nZngubnVtX2dmeF9yaW5nczsgaSsrKQo+
IC0JCQlhZGV2LT5nZnguZ2Z4X3JpbmdbaV0uc2NoZWQucmVhZHkgPSBmYWxzZTsKPiAgIAl9Cj4g
ICAJV1JFRzMyKG1tQ1BfTUVfQ05UTCwgdG1wKTsKPiAgIAl1ZGVsYXkoNTApOwo+IEBAIC00MzEx
LDE0ICs0MzA4LDEwIEBAIHN0YXRpYyBpbnQgZ2Z4X3Y4XzBfY3BfZ2Z4X3Jlc3VtZShzdHJ1Y3Qg
YW1kZ3B1X2RldmljZSAqYWRldikKPiAgIAo+ICAgc3RhdGljIHZvaWQgZ2Z4X3Y4XzBfY3BfY29t
cHV0ZV9lbmFibGUoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIGJvb2wgZW5hYmxlKQo+ICAg
ewo+IC0JaW50IGk7Cj4gLQo+ICAgCWlmIChlbmFibGUpIHsKPiAgIAkJV1JFRzMyKG1tQ1BfTUVD
X0NOVEwsIDApOwo+ICAgCX0gZWxzZSB7Cj4gICAJCVdSRUczMihtbUNQX01FQ19DTlRMLCAoQ1Bf
TUVDX0NOVExfX01FQ19NRTFfSEFMVF9NQVNLIHwgQ1BfTUVDX0NOVExfX01FQ19NRTJfSEFMVF9N
QVNLKSk7Cj4gLQkJZm9yIChpID0gMDsgaSA8IGFkZXYtPmdmeC5udW1fY29tcHV0ZV9yaW5nczsg
aSsrKQo+IC0JCQlhZGV2LT5nZnguY29tcHV0ZV9yaW5nW2ldLnNjaGVkLnJlYWR5ID0gZmFsc2U7
Cj4gICAJCWFkZXYtPmdmeC5raXEucmluZy5zY2hlZC5yZWFkeSA9IGZhbHNlOwo+ICAgCX0KPiAg
IAl1ZGVsYXkoNTApOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9n
ZnhfdjlfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3Y5XzAuYwo+IGluZGV4
IDFjN2ExNmI5MTY4Ni4uYTJmOTg4MmJkOWI0IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2dmeF92OV8wLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9nZnhfdjlfMC5jCj4gQEAgLTMwMzQsMTYgKzMwMzQsMTEgQEAgc3RhdGljIGludCBnZnhfdjlf
MF9ybGNfcmVzdW1lKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQo+ICAgCj4gICBzdGF0aWMg
dm9pZCBnZnhfdjlfMF9jcF9nZnhfZW5hYmxlKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCBi
b29sIGVuYWJsZSkKPiAgIHsKPiAtCWludCBpOwo+ICAgCXUzMiB0bXAgPSBSUkVHMzJfU09DMTUo
R0MsIDAsIG1tQ1BfTUVfQ05UTCk7Cj4gICAKPiAgIAl0bXAgPSBSRUdfU0VUX0ZJRUxEKHRtcCwg
Q1BfTUVfQ05UTCwgTUVfSEFMVCwgZW5hYmxlID8gMCA6IDEpOwo+ICAgCXRtcCA9IFJFR19TRVRf
RklFTEQodG1wLCBDUF9NRV9DTlRMLCBQRlBfSEFMVCwgZW5hYmxlID8gMCA6IDEpOwo+ICAgCXRt
cCA9IFJFR19TRVRfRklFTEQodG1wLCBDUF9NRV9DTlRMLCBDRV9IQUxULCBlbmFibGUgPyAwIDog
MSk7Cj4gLQlpZiAoIWVuYWJsZSkgewo+IC0JCWZvciAoaSA9IDA7IGkgPCBhZGV2LT5nZngubnVt
X2dmeF9yaW5nczsgaSsrKQo+IC0JCQlhZGV2LT5nZnguZ2Z4X3JpbmdbaV0uc2NoZWQucmVhZHkg
PSBmYWxzZTsKPiAtCX0KPiAgIAlXUkVHMzJfU09DMTVfUkxDKEdDLCAwLCBtbUNQX01FX0NOVEws
IHRtcCk7Cj4gICAJdWRlbGF5KDUwKTsKPiAgIH0KPiBAQCAtMzIzOSwxNSArMzIzNCwxMSBAQCBz
dGF0aWMgaW50IGdmeF92OV8wX2NwX2dmeF9yZXN1bWUoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFk
ZXYpCj4gICAKPiAgIHN0YXRpYyB2b2lkIGdmeF92OV8wX2NwX2NvbXB1dGVfZW5hYmxlKHN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2LCBib29sIGVuYWJsZSkKPiAgIHsKPiAtCWludCBpOwo+IC0K
PiAgIAlpZiAoZW5hYmxlKSB7Cj4gICAJCVdSRUczMl9TT0MxNV9STEMoR0MsIDAsIG1tQ1BfTUVD
X0NOVEwsIDApOwo+ICAgCX0gZWxzZSB7Cj4gICAJCVdSRUczMl9TT0MxNV9STEMoR0MsIDAsIG1t
Q1BfTUVDX0NOVEwsCj4gICAJCQkoQ1BfTUVDX0NOVExfX01FQ19NRTFfSEFMVF9NQVNLIHwgQ1Bf
TUVDX0NOVExfX01FQ19NRTJfSEFMVF9NQVNLKSk7Cj4gLQkJZm9yIChpID0gMDsgaSA8IGFkZXYt
PmdmeC5udW1fY29tcHV0ZV9yaW5nczsgaSsrKQo+IC0JCQlhZGV2LT5nZnguY29tcHV0ZV9yaW5n
W2ldLnNjaGVkLnJlYWR5ID0gZmFsc2U7Cj4gICAJCWFkZXYtPmdmeC5raXEucmluZy5zY2hlZC5y
ZWFkeSA9IGZhbHNlOwo+ICAgCX0KPiAgIAl1ZGVsYXkoNTApOwo+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9qcGVnX3YyXzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2pwZWdfdjJfMC5jCj4gaW5kZXggZmYyZTZlMWNjZGU3Li40NzE3MTBhNDJhMGMgMTAw
NjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvanBlZ192Ml8wLmMKPiArKysg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9qcGVnX3YyXzAuYwo+IEBAIC0xNjksMTQgKzE2
OSwxMSBAQCBzdGF0aWMgaW50IGpwZWdfdjJfMF9od19pbml0KHZvaWQgKmhhbmRsZSkKPiAgIHN0
YXRpYyBpbnQganBlZ192Ml8wX2h3X2Zpbmkodm9pZCAqaGFuZGxlKQo+ICAgewo+ICAgCXN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2ID0gKHN0cnVjdCBhbWRncHVfZGV2aWNlICopaGFuZGxlOwo+
IC0Jc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nID0gJmFkZXYtPmpwZWcuaW5zdC0+cmluZ19kZWM7
Cj4gICAKPiAgIAlpZiAoYWRldi0+anBlZy5jdXJfc3RhdGUgIT0gQU1EX1BHX1NUQVRFX0dBVEUg
JiYKPiAgIAkgICAgICBSUkVHMzJfU09DMTUoSlBFRywgMCwgbW1VVkRfSlJCQ19TVEFUVVMpKQo+
ICAgCQlqcGVnX3YyXzBfc2V0X3Bvd2VyZ2F0aW5nX3N0YXRlKGFkZXYsIEFNRF9QR19TVEFURV9H
QVRFKTsKPiAgIAo+IC0JcmluZy0+c2NoZWQucmVhZHkgPSBmYWxzZTsKPiAtCj4gICAJcmV0dXJu
IDA7Cj4gICB9Cj4gICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
c2RtYV92Ml80LmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3YyXzQuYwo+IGlu
ZGV4IGZkN2ZhNjA4MjU2My4uMDViNzlhY2VkNmU4IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjJfNC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvc2RtYV92Ml80LmMKPiBAQCAtMzU1LDggKzM1NSw2IEBAIHN0YXRpYyB2b2lkIHNkbWFf
djJfNF9nZnhfc3RvcChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKPiAgIAkJaWJfY250bCA9
IFJFR19TRVRfRklFTEQoaWJfY250bCwgU0RNQTBfR0ZYX0lCX0NOVEwsIElCX0VOQUJMRSwgMCk7
Cj4gICAJCVdSRUczMihtbVNETUEwX0dGWF9JQl9DTlRMICsgc2RtYV9vZmZzZXRzW2ldLCBpYl9j
bnRsKTsKPiAgIAl9Cj4gLQlzZG1hMC0+c2NoZWQucmVhZHkgPSBmYWxzZTsKPiAtCXNkbWExLT5z
Y2hlZC5yZWFkeSA9IGZhbHNlOwo+ICAgfQo+ICAgCj4gICAvKioKPiBkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92M18wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9zZG1hX3YzXzAuYwo+IGluZGV4IDRhOGE3ZjBmM2E5Yy4uMTQ0OGQ5YmViN2E4IDEw
MDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjNfMC5jCj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92M18wLmMKPiBAQCAtNTI5LDggKzUy
OSw2IEBAIHN0YXRpYyB2b2lkIHNkbWFfdjNfMF9nZnhfc3RvcChzdHJ1Y3QgYW1kZ3B1X2Rldmlj
ZSAqYWRldikKPiAgIAkJaWJfY250bCA9IFJFR19TRVRfRklFTEQoaWJfY250bCwgU0RNQTBfR0ZY
X0lCX0NOVEwsIElCX0VOQUJMRSwgMCk7Cj4gICAJCVdSRUczMihtbVNETUEwX0dGWF9JQl9DTlRM
ICsgc2RtYV9vZmZzZXRzW2ldLCBpYl9jbnRsKTsKPiAgIAl9Cj4gLQlzZG1hMC0+c2NoZWQucmVh
ZHkgPSBmYWxzZTsKPiAtCXNkbWExLT5zY2hlZC5yZWFkeSA9IGZhbHNlOwo+ICAgfQo+ICAgCj4g
ICAvKioKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92NF8w
LmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3Y0XzAuYwo+IGluZGV4IDdjZWE0
NTEzYzMwMy4uMGM2ZWI2NWY5NmYzIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L3NkbWFfdjRfMC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2Rt
YV92NF8wLmMKPiBAQCAtOTIzLDggKzkyMyw2IEBAIHN0YXRpYyB2b2lkIHNkbWFfdjRfMF9nZnhf
c3RvcChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKPiAgIAkJaWJfY250bCA9IFJSRUczMl9T
RE1BKGksIG1tU0RNQTBfR0ZYX0lCX0NOVEwpOwo+ICAgCQlpYl9jbnRsID0gUkVHX1NFVF9GSUVM
RChpYl9jbnRsLCBTRE1BMF9HRlhfSUJfQ05UTCwgSUJfRU5BQkxFLCAwKTsKPiAgIAkJV1JFRzMy
X1NETUEoaSwgbW1TRE1BMF9HRlhfSUJfQ05UTCwgaWJfY250bCk7Cj4gLQo+IC0JCXNkbWFbaV0t
PnNjaGVkLnJlYWR5ID0gZmFsc2U7Cj4gICAJfQo+ICAgfQo+ICAgCj4gQEAgLTk3MSw4ICs5Njks
NiBAQCBzdGF0aWMgdm9pZCBzZG1hX3Y0XzBfcGFnZV9zdG9wKHN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2KQo+ICAgCQlpYl9jbnRsID0gUkVHX1NFVF9GSUVMRChpYl9jbnRsLCBTRE1BMF9QQUdF
X0lCX0NOVEwsCj4gICAJCQkJCUlCX0VOQUJMRSwgMCk7Cj4gICAJCVdSRUczMl9TRE1BKGksIG1t
U0RNQTBfUEFHRV9JQl9DTlRMLCBpYl9jbnRsKTsKPiAtCj4gLQkJc2RtYVtpXS0+c2NoZWQucmVh
ZHkgPSBmYWxzZTsKPiAgIAl9Cj4gICB9Cj4gICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvc2RtYV92NV8wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9z
ZG1hX3Y1XzAuYwo+IGluZGV4IDdlZTYwM2RiOGM1Ny4uNWFmNjZhMjRiMGEyIDEwMDY0NAo+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjVfMC5jCj4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92NV8wLmMKPiBAQCAtNTAyLDkgKzUwMiw2IEBAIHN0
YXRpYyB2b2lkIHNkbWFfdjVfMF9nZnhfc3RvcChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikK
PiAgIAkJaWJfY250bCA9IFJFR19TRVRfRklFTEQoaWJfY250bCwgU0RNQTBfR0ZYX0lCX0NOVEws
IElCX0VOQUJMRSwgMCk7Cj4gICAJCVdSRUczMihzZG1hX3Y1XzBfZ2V0X3JlZ19vZmZzZXQoYWRl
diwgaSwgbW1TRE1BMF9HRlhfSUJfQ05UTCksIGliX2NudGwpOwo+ICAgCX0KPiAtCj4gLQlzZG1h
MC0+c2NoZWQucmVhZHkgPSBmYWxzZTsKPiAtCXNkbWExLT5zY2hlZC5yZWFkeSA9IGZhbHNlOwo+
ICAgfQo+ICAgCj4gICAvKioKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvc2lfZG1hLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zaV9kbWEuYwo+IGluZGV4
IDdmNjRkNzMwNDNjZi4uYTg1NDg2NzhjMzdkIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L3NpX2RtYS5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
c2lfZG1hLmMKPiBAQCAtMTI0LDcgKzEyNCw2IEBAIHN0YXRpYyB2b2lkIHNpX2RtYV9zdG9wKHN0
cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQo+ICAgCj4gICAJCWlmIChhZGV2LT5tbWFuLmJ1ZmZl
cl9mdW5jc19yaW5nID09IHJpbmcpCj4gICAJCQlhbWRncHVfdHRtX3NldF9idWZmZXJfZnVuY3Nf
c3RhdHVzKGFkZXYsIGZhbHNlKTsKPiAtCQlyaW5nLT5zY2hlZC5yZWFkeSA9IGZhbHNlOwo+ICAg
CX0KPiAgIH0KPiAgIAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS91
dmRfdjRfMi5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdXZkX3Y0XzIuYwo+IGluZGV4
IDgyYWJkOGU3MjhhYi4uOTU3ZTE0ZTJjMTU1IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L3V2ZF92NF8yLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS91dmRfdjRfMi5jCj4gQEAgLTIxMCwxMyArMjEwLDEwIEBAIHN0YXRpYyBpbnQgdXZkX3Y0XzJf
aHdfaW5pdCh2b2lkICpoYW5kbGUpCj4gICBzdGF0aWMgaW50IHV2ZF92NF8yX2h3X2Zpbmkodm9p
ZCAqaGFuZGxlKQo+ICAgewo+ICAgCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gKHN0cnVj
dCBhbWRncHVfZGV2aWNlICopaGFuZGxlOwo+IC0Jc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nID0g
JmFkZXYtPnV2ZC5pbnN0LT5yaW5nOwo+ICAgCj4gICAJaWYgKFJSRUczMihtbVVWRF9TVEFUVVMp
ICE9IDApCj4gICAJCXV2ZF92NF8yX3N0b3AoYWRldik7Cj4gICAKPiAtCXJpbmctPnNjaGVkLnJl
YWR5ID0gZmFsc2U7Cj4gLQo+ICAgCXJldHVybiAwOwo+ICAgfQo+ICAgCj4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3V2ZF92NV8wLmMgYi9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS91dmRfdjVfMC5jCj4gaW5kZXggMGZhOGFhZTJkNzhlLi4yYWFkNjY4OTgyM2Ig
MTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdXZkX3Y1XzAuYwo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3V2ZF92NV8wLmMKPiBAQCAtMjA4LDEzICsy
MDgsMTAgQEAgc3RhdGljIGludCB1dmRfdjVfMF9od19pbml0KHZvaWQgKmhhbmRsZSkKPiAgIHN0
YXRpYyBpbnQgdXZkX3Y1XzBfaHdfZmluaSh2b2lkICpoYW5kbGUpCj4gICB7Cj4gICAJc3RydWN0
IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSAoc3RydWN0IGFtZGdwdV9kZXZpY2UgKiloYW5kbGU7Cj4g
LQlzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcgPSAmYWRldi0+dXZkLmluc3QtPnJpbmc7Cj4gICAK
PiAgIAlpZiAoUlJFRzMyKG1tVVZEX1NUQVRVUykgIT0gMCkKPiAgIAkJdXZkX3Y1XzBfc3RvcChh
ZGV2KTsKPiAgIAo+IC0JcmluZy0+c2NoZWQucmVhZHkgPSBmYWxzZTsKPiAtCj4gICAJcmV0dXJu
IDA7Cj4gICB9Cj4gICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
dXZkX3Y2XzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3V2ZF92Nl8wLmMKPiBpbmRl
eCBlMGFhZGNhZjZjOGIuLmE5ZDA2ZWM1ZDA5YSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS91dmRfdjZfMC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvdXZkX3Y2XzAuYwo+IEBAIC01MzUsMTMgKzUzNSwxMCBAQCBzdGF0aWMgaW50IHV2ZF92Nl8w
X2h3X2luaXQodm9pZCAqaGFuZGxlKQo+ICAgc3RhdGljIGludCB1dmRfdjZfMF9od19maW5pKHZv
aWQgKmhhbmRsZSkKPiAgIHsKPiAgIAlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IChzdHJ1
Y3QgYW1kZ3B1X2RldmljZSAqKWhhbmRsZTsKPiAtCXN0cnVjdCBhbWRncHVfcmluZyAqcmluZyA9
ICZhZGV2LT51dmQuaW5zdC0+cmluZzsKPiAgIAo+ICAgCWlmIChSUkVHMzIobW1VVkRfU1RBVFVT
KSAhPSAwKQo+ICAgCQl1dmRfdjZfMF9zdG9wKGFkZXYpOwo+ICAgCj4gLQlyaW5nLT5zY2hlZC5y
ZWFkeSA9IGZhbHNlOwo+IC0KPiAgIAlyZXR1cm4gMDsKPiAgIH0KPiAgIAo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS91dmRfdjdfMC5jIGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvdXZkX3Y3XzAuYwo+IGluZGV4IDA5OTUzNzhkODI2My4uYWYzYjFjOWQzMzc3
IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3V2ZF92N18wLmMKPiAr
KysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS91dmRfdjdfMC5jCj4gQEAgLTU5OCw3ICs1
OTgsNiBAQCBzdGF0aWMgaW50IHV2ZF92N18wX2h3X2luaXQodm9pZCAqaGFuZGxlKQo+ICAgc3Rh
dGljIGludCB1dmRfdjdfMF9od19maW5pKHZvaWQgKmhhbmRsZSkKPiAgIHsKPiAgIAlzdHJ1Y3Qg
YW1kZ3B1X2RldmljZSAqYWRldiA9IChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqKWhhbmRsZTsKPiAt
CWludCBpOwo+ICAgCj4gICAJaWYgKCFhbWRncHVfc3Jpb3ZfdmYoYWRldikpCj4gICAJCXV2ZF92
N18wX3N0b3AoYWRldik7Cj4gQEAgLTYwNywxMiArNjA2LDYgQEAgc3RhdGljIGludCB1dmRfdjdf
MF9od19maW5pKHZvaWQgKmhhbmRsZSkKPiAgIAkJRFJNX0RFQlVHKCJGb3IgU1JJT1YgY2xpZW50
LCBzaG91bGRuJ3QgZG8gYW55dGhpbmcuXG4iKTsKPiAgIAl9Cj4gICAKPiAtCWZvciAoaSA9IDA7
IGkgPCBhZGV2LT51dmQubnVtX3V2ZF9pbnN0OyArK2kpIHsKPiAtCQlpZiAoYWRldi0+dXZkLmhh
cnZlc3RfY29uZmlnICYgKDEgPDwgaSkpCj4gLQkJCWNvbnRpbnVlOwo+IC0JCWFkZXYtPnV2ZC5p
bnN0W2ldLnJpbmcuc2NoZWQucmVhZHkgPSBmYWxzZTsKPiAtCX0KPiAtCj4gICAJcmV0dXJuIDA7
Cj4gICB9Cj4gICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdmNl
X3Y0XzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3ZjZV92NF8wLmMKPiBpbmRleCAz
ZmQxMDJlZmI3YWYuLjVlOTg2ZGVhNDY0NSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS92Y2VfdjRfMC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
dmNlX3Y0XzAuYwo+IEBAIC01MzksNyArNTM5LDYgQEAgc3RhdGljIGludCB2Y2VfdjRfMF9od19p
bml0KHZvaWQgKmhhbmRsZSkKPiAgIHN0YXRpYyBpbnQgdmNlX3Y0XzBfaHdfZmluaSh2b2lkICpo
YW5kbGUpCj4gICB7Cj4gICAJc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSAoc3RydWN0IGFt
ZGdwdV9kZXZpY2UgKiloYW5kbGU7Cj4gLQlpbnQgaTsKPiAgIAo+ICAgCWlmICghYW1kZ3B1X3Ny
aW92X3ZmKGFkZXYpKSB7Cj4gICAJCS8qIHZjZV92NF8wX3dhaXRfZm9yX2lkbGUoaGFuZGxlKTsg
Ki8KPiBAQCAtNTQ5LDkgKzU0OCw2IEBAIHN0YXRpYyBpbnQgdmNlX3Y0XzBfaHdfZmluaSh2b2lk
ICpoYW5kbGUpCj4gICAJCURSTV9ERUJVRygiRm9yIFNSSU9WIGNsaWVudCwgc2hvdWxkbid0IGRv
IGFueXRoaW5nLlxuIik7Cj4gICAJfQo+ICAgCj4gLQlmb3IgKGkgPSAwOyBpIDwgYWRldi0+dmNl
Lm51bV9yaW5nczsgaSsrKQo+IC0JCWFkZXYtPnZjZS5yaW5nW2ldLnNjaGVkLnJlYWR5ID0gZmFs
c2U7Cj4gLQo+ICAgCXJldHVybiAwOwo+ICAgfQo+ICAgCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L3Zjbl92MV8wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS92Y25fdjFfMC5jCj4gaW5kZXggNzFmNjFhZmRjNjU1Li5kZjkyYzRlMWVmYWEgMTAwNjQ0Cj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdmNuX3YxXzAuYwo+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3Zjbl92MV8wLmMKPiBAQCAtMjI3LDE0ICsyMjcsMTEgQEAg
c3RhdGljIGludCB2Y25fdjFfMF9od19pbml0KHZvaWQgKmhhbmRsZSkKPiAgIHN0YXRpYyBpbnQg
dmNuX3YxXzBfaHdfZmluaSh2b2lkICpoYW5kbGUpCj4gICB7Cj4gICAJc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYgPSAoc3RydWN0IGFtZGdwdV9kZXZpY2UgKiloYW5kbGU7Cj4gLQlzdHJ1Y3Qg
YW1kZ3B1X3JpbmcgKnJpbmcgPSAmYWRldi0+dmNuLmluc3QtPnJpbmdfZGVjOwo+ICAgCj4gICAJ
aWYgKChhZGV2LT5wZ19mbGFncyAmIEFNRF9QR19TVVBQT1JUX1ZDTl9EUEcpIHx8Cj4gICAJCVJS
RUczMl9TT0MxNShWQ04sIDAsIG1tVVZEX1NUQVRVUykpCj4gICAJCXZjbl92MV8wX3NldF9wb3dl
cmdhdGluZ19zdGF0ZShhZGV2LCBBTURfUEdfU1RBVEVfR0FURSk7Cj4gICAKPiAtCXJpbmctPnNj
aGVkLnJlYWR5ID0gZmFsc2U7Cj4gLQo+ICAgCXJldHVybiAwOwo+ICAgfQo+ICAgCj4gZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3Zjbl92Ml8wLmMgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS92Y25fdjJfMC5jCj4gaW5kZXggYzM4N2M4MWY4Njk1Li4zNzUwODI3
N2NiZGYgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdmNuX3YyXzAu
Ywo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3Zjbl92Ml8wLmMKPiBAQCAtMjMy
LDIxICsyMzIsMTIgQEAgc3RhdGljIGludCB2Y25fdjJfMF9od19pbml0KHZvaWQgKmhhbmRsZSkK
PiAgIHN0YXRpYyBpbnQgdmNuX3YyXzBfaHdfZmluaSh2b2lkICpoYW5kbGUpCj4gICB7Cj4gICAJ
c3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSAoc3RydWN0IGFtZGdwdV9kZXZpY2UgKiloYW5k
bGU7Cj4gLQlzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcgPSAmYWRldi0+dmNuLmluc3QtPnJpbmdf
ZGVjOwo+IC0JaW50IGk7Cj4gICAKPiAgIAlpZiAoKGFkZXYtPnBnX2ZsYWdzICYgQU1EX1BHX1NV
UFBPUlRfVkNOX0RQRykgfHwKPiAgIAkgICAgKGFkZXYtPnZjbi5jdXJfc3RhdGUgIT0gQU1EX1BH
X1NUQVRFX0dBVEUgJiYKPiAgIAkgICAgICBSUkVHMzJfU09DMTUoVkNOLCAwLCBtbVVWRF9TVEFU
VVMpKSkKPiAgIAkJdmNuX3YyXzBfc2V0X3Bvd2VyZ2F0aW5nX3N0YXRlKGFkZXYsIEFNRF9QR19T
VEFURV9HQVRFKTsKPiAgIAo+IC0JcmluZy0+c2NoZWQucmVhZHkgPSBmYWxzZTsKPiAtCj4gLQlm
b3IgKGkgPSAwOyBpIDwgYWRldi0+dmNuLm51bV9lbmNfcmluZ3M7ICsraSkgewo+IC0JCXJpbmcg
PSAmYWRldi0+dmNuLmluc3QtPnJpbmdfZW5jW2ldOwo+IC0JCXJpbmctPnNjaGVkLnJlYWR5ID0g
ZmFsc2U7Cj4gLQl9Cj4gLQo+ICAgCXJldHVybiAwOwo+ICAgfQo+ICAgCj4gZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3Zjbl92Ml81LmMgYi9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS92Y25fdjJfNS5jCj4gaW5kZXggMmQ2NGJhMWFkZjk5Li45MGExOTk0ODU3ZGIg
MTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdmNuX3YyXzUuYwo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3Zjbl92Ml81LmMKPiBAQCAtMzA3LDI1ICsz
MDcsMTYgQEAgc3RhdGljIGludCB2Y25fdjJfNV9od19pbml0KHZvaWQgKmhhbmRsZSkKPiAgIHN0
YXRpYyBpbnQgdmNuX3YyXzVfaHdfZmluaSh2b2lkICpoYW5kbGUpCj4gICB7Cj4gICAJc3RydWN0
IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSAoc3RydWN0IGFtZGdwdV9kZXZpY2UgKiloYW5kbGU7Cj4g
LQlzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmc7Cj4gLQlpbnQgaSwgajsKPiArCWludCBpOwo+ICAg
Cj4gICAJZm9yIChpID0gMDsgaSA8IGFkZXYtPnZjbi5udW1fdmNuX2luc3Q7ICsraSkgewo+ICAg
CQlpZiAoYWRldi0+dmNuLmhhcnZlc3RfY29uZmlnICYgKDEgPDwgaSkpCj4gICAJCQljb250aW51
ZTsKPiAtCQlyaW5nID0gJmFkZXYtPnZjbi5pbnN0W2ldLnJpbmdfZGVjOwo+ICAgCj4gICAJCWlm
ICgoYWRldi0+cGdfZmxhZ3MgJiBBTURfUEdfU1VQUE9SVF9WQ05fRFBHKSB8fAo+ICAgCQkgICAg
KGFkZXYtPnZjbi5jdXJfc3RhdGUgIT0gQU1EX1BHX1NUQVRFX0dBVEUgJiYKPiAgIAkJICAgICBS
UkVHMzJfU09DMTUoVkNOLCBpLCBtbVVWRF9TVEFUVVMpKSkKPiAgIAkJCXZjbl92Ml81X3NldF9w
b3dlcmdhdGluZ19zdGF0ZShhZGV2LCBBTURfUEdfU1RBVEVfR0FURSk7Cj4gLQo+IC0JCXJpbmct
PnNjaGVkLnJlYWR5ID0gZmFsc2U7Cj4gLQo+IC0JCWZvciAoaiA9IDA7IGogPCBhZGV2LT52Y24u
bnVtX2VuY19yaW5nczsgKytqKSB7Cj4gLQkJCXJpbmcgPSAmYWRldi0+dmNuLmluc3RbaV0ucmlu
Z19lbmNbal07Cj4gLQkJCXJpbmctPnNjaGVkLnJlYWR5ID0gZmFsc2U7Cj4gLQkJfQo+ICAgCX0K
PiAgIAo+ICAgCXJldHVybiAwOwpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9w
Lm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1n
ZngK
