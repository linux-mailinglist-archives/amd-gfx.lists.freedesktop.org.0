Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 4A2419595E
	for <lists+amd-gfx@lfdr.de>; Tue, 20 Aug 2019 10:24:30 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 642786E76F;
	Tue, 20 Aug 2019 07:55:04 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM05-BY2-obe.outbound.protection.outlook.com
 (mail-by2nam05on0615.outbound.protection.outlook.com
 [IPv6:2a01:111:f400:fe52::615])
 by gabe.freedesktop.org (Postfix) with ESMTPS id DA6396E6A5
 for <amd-gfx@lists.freedesktop.org>; Tue, 20 Aug 2019 07:55:02 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=NUs1/sqXeqOTkLVL1iaoukj6kmvhNXVRsITnvs3c77nBfT8652680y2czi2BHtP35cUsrtVZ91wPJLhk37W/lW/HGsDec0xWOEIUzM1RXu+q81iWTLFJ1nvXO0VpddmecLfORyHb2V8GngY5LLfW6v2qNxnWvV7RTnzPoFqjaamexsEkclTDyQF1FHkbLXtt+DOpG+GXGsTrYIVv0sMMtRLlej6uMW5cfM5WNic1CGbP4fpkkzY/uQLKb5gwRKxKvmTcI2HH8gIWN1qdCEXqcNwZCIezh/K7XZ2EBQndj8KDm40mJrgtcYjPjBHyeOhR7K76tZ+DvgJN261o7w3ZrA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=k2HDAjwslTyJNGU/ySwASAoU522Kg+pXakwg/Et/cZ4=;
 b=RRGSk06Ng2qE0/VBsemHWrePEWUJ7dn1zzxg9apUnL/hjsYfTVskpi0rXv7o79cf/JHpUwKAlOCrRmU63uf9rlzc7fb77JJYIAoKWJZwMpWVxogqiOA+wId+oTJK+iCxUcay3DSHe4aHGI1fIlUXWtF7ZQzd4K/7Kjfuc6vfGA+sZHxSb2oeNzVGAph55+uxIIow86flOvyYUDVI8x+xgzOq7566wWhFk032gmI/PU7bKLpe/EOvhufH5NPEL7YhqHwJ/h+xmAmxtjciBEmAeOjWa3aHdWb8KybqhAhuQhoYhYfDI/8VJKk+PtAfjjIW7R6zfL7l06p0bNP58NEScg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from MN2PR12MB3296.namprd12.prod.outlook.com (20.179.80.139) by
 MN2PR12MB4206.namprd12.prod.outlook.com (52.135.49.18) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2178.16; Tue, 20 Aug 2019 07:55:01 +0000
Received: from MN2PR12MB3296.namprd12.prod.outlook.com
 ([fe80::7490:549a:479d:f716]) by MN2PR12MB3296.namprd12.prod.outlook.com
 ([fe80::7490:549a:479d:f716%6]) with mapi id 15.20.2178.016; Tue, 20 Aug 2019
 07:55:01 +0000
From: "Wang, Kevin(Yang)" <Kevin1.Wang@amd.com>
To: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: [PATCH] drm/amd/powerplay: add smu_map_helper function to unified map
 function
Thread-Topic: [PATCH] drm/amd/powerplay: add smu_map_helper function to
 unified map function
Thread-Index: AQHVVyyRwHQvuz8YRU2ddvY739EJrw==
Date: Tue, 20 Aug 2019 07:55:01 +0000
Message-ID: <20190820075445.18882-1-kevin1.wang@amd.com>
Accept-Language: en-US, zh-CN
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: HK2PR02CA0169.apcprd02.prod.outlook.com
 (2603:1096:201:1f::29) To MN2PR12MB3296.namprd12.prod.outlook.com
 (2603:10b6:208:aa::11)
x-ms-exchange-messagesentrepresentingtype: 1
x-mailer: git-send-email 2.22.0
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 7e073283-15cb-476b-5bf2-08d72543b3f1
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:MN2PR12MB4206; 
x-ms-traffictypediagnostic: MN2PR12MB4206:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <MN2PR12MB4206F77F5B594685DE87748CA2AB0@MN2PR12MB4206.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:199;
x-forefront-prvs: 013568035E
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(979002)(4636009)(346002)(136003)(366004)(396003)(39860400002)(376002)(199004)(189003)(53936002)(81156014)(71190400001)(81166006)(478600001)(53946003)(86362001)(71200400001)(26005)(66556008)(8676002)(66446008)(102836004)(66476007)(64756008)(6506007)(25786009)(186003)(386003)(2616005)(476003)(2501003)(52116002)(486006)(5660300002)(6916009)(5640700003)(2906002)(6486002)(66066001)(66946007)(1076003)(8936002)(50226002)(305945005)(3846002)(6116002)(7736002)(36756003)(256004)(54906003)(14454004)(30864003)(99286004)(4326008)(6436002)(6512007)(316002)(2351001)(579004)(969003)(989001)(999001)(1009001)(1019001);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MN2PR12MB4206;
 H:MN2PR12MB3296.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: cu58hHm4aClNhz9xrODIi6spLQuvnNu71mPwJhemr1BiohFldNfUJe0dAeoTBN9X2X5ofSbE7xVEayIxMulZ4iP0sucfwh3+E4kJXMT9bDVHH0cNSw8ZWiupfF7Xq7pr7Rg9iF4IJz9xpngXbTRhLetPIke5PC/0Hkof98XhXtTM6j91HTgWT0wD6HHr4ABBzr3OfCab+6ZJxMCNH7VXJdmiQD1su02anr4lErPU4z4sD5vRppXsZ11DyJnxmxPZ5jm6BFAt7Usy8Z6X0vs+qX9QBF+cVSbTczIWc00UY5cTxnVXNJWGUrWtLJWhOrpTxJSotjHKGRMP0pT3XMqQNtAip54s2zSCay8YJl1q5uZhBZzoSODCyVUlmrxVvtEl0fFPrYcW0LquMJzcxtHXItiyPH7plCYe7o8nRS7GGes=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 7e073283-15cb-476b-5bf2-08d72543b3f1
X-MS-Exchange-CrossTenant-originalarrivaltime: 20 Aug 2019 07:55:01.2038 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: yxVQycb5N4/O9BGbwyo6PVOvdg/hJn4az2zMOjRIfuZnmFr6Eavq5eSjN5pvbuac
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB4206
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=k2HDAjwslTyJNGU/ySwASAoU522Kg+pXakwg/Et/cZ4=;
 b=eCu2xj7kIXlYujaIanonRldWgO2643h79DOI6fizjGJ/UQUb1v2AeypafiE3lvhAPx0aBZAE6tTKl+hdRPbYzrrEa8HL7MfvS9fhNe9MJC5ApBcatcas63Hsjyb04Yh56pz1rPySVvMQxklxXqqc4mW6Puri6xLdL4nOYlX2BbI=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Kevin1.Wang@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Huang, Ray" <Ray.Huang@amd.com>, "Wang,
 Kevin\(Yang\)" <Kevin1.Wang@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

MS4gYWRkIHNtdV9tYXAgdG8gcmVwbGFjZSBvbGQgc211XzExXzBfY21uMmFpc2NfbWFwcGluZy4K
KG5leHQgZ2VuZXJhdGlvbiBvZiBzbXUgaXAgYWxzbyBuZWVkIHRoaXMgbG9naWMsIGVnOiBzbXUx
MiAxMyAxNC4uLikKMi4gdXNlIHNtdV9tYXBfaGVscGVyIGZ1bmN0aW9uIHRvIHVuaWZpZWQgbWFw
IGNvZGUgbG9naWMgaW4gc211CgpTaWduZWQtb2ZmLWJ5OiBLZXZpbiBXYW5nIDxrZXZpbjEud2Fu
Z0BhbWQuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2FtZGdwdV9zbXUu
YyAgICB8ICAxOSArKysrCiBkcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9hcmN0dXJ1c19w
cHQuYyAgfCAxMDIgKysrKy0tLS0tLS0tLS0tLS0tCiAuLi4vZ3B1L2RybS9hbWQvcG93ZXJwbGF5
L2luYy9hbWRncHVfc211LmggICAgfCAgIDcgKysKIGRyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJw
bGF5L2luYy9zbXVfdjExXzAuaCB8ICAxNSArLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJw
bGF5L25hdmkxMF9wcHQuYyAgICB8ICA5NyArKysrLS0tLS0tLS0tLS0tLQogZHJpdmVycy9ncHUv
ZHJtL2FtZC9wb3dlcnBsYXkvdmVnYTIwX3BwdC5jICAgIHwgIDk2ICsrKystLS0tLS0tLS0tLS0t
CiA2IGZpbGVzIGNoYW5nZWQsIDg2IGluc2VydGlvbnMoKyksIDI1MCBkZWxldGlvbnMoLSkKCmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9hbWRncHVfc211LmMgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9hbWRncHVfc211LmMKaW5kZXggNGRmN2ZiNmVh
ZjNjLi45ZTJhNDVmZjIzYzQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJw
bGF5L2FtZGdwdV9zbXUuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9hbWRn
cHVfc211LmMKQEAgLTU2LDYgKzU2LDI1IEBAIGNvbnN0IGNoYXIgKnNtdV9nZXRfZmVhdHVyZV9u
YW1lKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCBlbnVtIHNtdV9mZWF0dXJlX21hc2sKIAlyZXR1
cm4gX19zbXVfZmVhdHVyZV9uYW1lc1tmZWF0dXJlXTsKIH0KIAoraW50IHNtdV9tYXBfaGVscGVy
KHN0cnVjdCBzbXVfY29udGV4dCAqc211LCBzdHJ1Y3Qgc211X21hcCAqbWFwX3NyYywKKwkJICAg
dWludDMyX3QgbWF4X2luZGV4LCB1aW50MzJfdCBpbmRleCkKK3sKKwlzdHJ1Y3Qgc211X21hcCAq
bWFwID0gTlVMTDsKKworCWlmICghbWFwX3NyYykKKwkJcmV0dXJuIC1FSU5WQUw7CisKKwlpZiAo
aW5kZXggPj0gbWF4X2luZGV4KQorCQlyZXR1cm4gLUVJTlZBTDsKKworCW1hcCA9ICZtYXBfc3Jj
W2luZGV4XTsKKwlpZiAoIW1hcC0+dmFsaWQpCisJCXJldHVybiAtRUlOVkFMOworCisJcmV0dXJu
IG1hcC0+dmFsdWU7Cit9CisKKwogc2l6ZV90IHNtdV9zeXNfZ2V0X3BwX2ZlYXR1cmVfbWFzayhz
dHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgY2hhciAqYnVmKQogewogCXNpemVfdCBzaXplID0gMDsK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2FyY3R1cnVzX3BwdC5j
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvYXJjdHVydXNfcHB0LmMKaW5kZXggMDRh
MjYwNzJjZjQwLi4zNDE2ZGNiNWY0MGYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQv
cG93ZXJwbGF5L2FyY3R1cnVzX3BwdC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJw
bGF5L2FyY3R1cnVzX3BwdC5jCkBAIC00Miw5ICs0Miw5IEBACiAjZGVmaW5lIENURl9PRkZTRVRf
SEJNCQkJNQogCiAjZGVmaW5lIE1TR19NQVAobXNnLCBpbmRleCkgXAotCVtTTVVfTVNHXyMjbXNn
XSA9IHsxLCAoaW5kZXgpfQorCVtTTVVfTVNHXyMjbXNnXSA9IHt0cnVlLCAoaW5kZXgpfQogI2Rl
ZmluZSBBUkNUVVJVU19GRUFfTUFQKHNtdV9mZWF0dXJlLCBhcmN0dXJ1c19mZWF0dXJlKSBcCi0J
W3NtdV9mZWF0dXJlXSA9IHsxLCAoYXJjdHVydXNfZmVhdHVyZSl9CisJW3NtdV9mZWF0dXJlXSA9
IHt0cnVlLCAoYXJjdHVydXNfZmVhdHVyZSl9CiAKICNkZWZpbmUgU01VX0ZFQVRVUkVTX0xPV19N
QVNLICAgICAgICAweDAwMDAwMDAwRkZGRkZGRkYKICNkZWZpbmUgU01VX0ZFQVRVUkVTX0xPV19T
SElGVCAgICAgICAwCkBAIC02Myw3ICs2Myw3IEBACiAvKiBwb3NzaWJsZSBmcmVxdWVuY3kgZHJp
ZnQgKDFNaHopICovCiAjZGVmaW5lIEVQU0lMT04JCQkJMQogCi1zdGF0aWMgc3RydWN0IHNtdV8x
MV8wX2NtbjJhaXNjX21hcHBpbmcgYXJjdHVydXNfbWVzc2FnZV9tYXBbU01VX01TR19NQVhfQ09V
TlRdID0geworc3RhdGljIHN0cnVjdCBzbXVfbWFwIGFyY3R1cnVzX21lc3NhZ2VfbWFwW1NNVV9N
U0dfTUFYX0NPVU5UXSA9IHsKIAlNU0dfTUFQKFRlc3RNZXNzYWdlLAkJCSAgICAgUFBTTUNfTVNH
X1Rlc3RNZXNzYWdlKSwKIAlNU0dfTUFQKEdldFNtdVZlcnNpb24sCQkJICAgICBQUFNNQ19NU0df
R2V0U211VmVyc2lvbiksCiAJTVNHX01BUChHZXREcml2ZXJJZlZlcnNpb24sCQkgICAgIFBQU01D
X01TR19HZXREcml2ZXJJZlZlcnNpb24pLApAQCAtMTIzLDcgKzEyMyw3IEBAIHN0YXRpYyBzdHJ1
Y3Qgc211XzExXzBfY21uMmFpc2NfbWFwcGluZyBhcmN0dXJ1c19tZXNzYWdlX21hcFtTTVVfTVNH
X01BWF9DT1VOVF0KIAlNU0dfTUFQKFNldE1lbW9yeUNoYW5uZWxFbmFibGUsCQkgICAgIFBQU01D
X01TR19TZXRNZW1vcnlDaGFubmVsRW5hYmxlKSwKIH07CiAKLXN0YXRpYyBzdHJ1Y3Qgc211XzEx
XzBfY21uMmFpc2NfbWFwcGluZyBhcmN0dXJ1c19jbGtfbWFwW1NNVV9DTEtfQ09VTlRdID0gewor
c3RhdGljIHN0cnVjdCBzbXVfbWFwIGFyY3R1cnVzX2Nsa19tYXBbU01VX0NMS19DT1VOVF0gPSB7
CiAJQ0xLX01BUChHRlhDTEssIFBQQ0xLX0dGWENMSyksCiAJQ0xLX01BUChTQ0xLLAlQUENMS19H
RlhDTEspLAogCUNMS19NQVAoU09DQ0xLLCBQUENMS19TT0NDTEspLApAQCAtMTM0LDcgKzEzNCw3
IEBAIHN0YXRpYyBzdHJ1Y3Qgc211XzExXzBfY21uMmFpc2NfbWFwcGluZyBhcmN0dXJ1c19jbGtf
bWFwW1NNVV9DTEtfQ09VTlRdID0gewogCUNMS19NQVAoVkNMSywgUFBDTEtfVkNMSyksCiB9Owog
Ci1zdGF0aWMgc3RydWN0IHNtdV8xMV8wX2NtbjJhaXNjX21hcHBpbmcgYXJjdHVydXNfZmVhdHVy
ZV9tYXNrX21hcFtTTVVfRkVBVFVSRV9DT1VOVF0gPSB7CitzdGF0aWMgc3RydWN0IHNtdV9tYXAg
YXJjdHVydXNfZmVhdHVyZV9tYXNrX21hcFtTTVVfRkVBVFVSRV9DT1VOVF0gPSB7CiAJRkVBX01B
UChEUE1fUFJFRkVUQ0hFUiksCiAJRkVBX01BUChEUE1fR0ZYQ0xLKSwKIAlGRUFfTUFQKERQTV9V
Q0xLKSwKQEAgLTE2MSw3ICsxNjEsNyBAQCBzdGF0aWMgc3RydWN0IHNtdV8xMV8wX2NtbjJhaXNj
X21hcHBpbmcgYXJjdHVydXNfZmVhdHVyZV9tYXNrX21hcFtTTVVfRkVBVFVSRV9DTwogCUZFQV9N
QVAoVEVNUF9ERVBFTkRFTlRfVk1JTiksCiB9OwogCi1zdGF0aWMgc3RydWN0IHNtdV8xMV8wX2Nt
bjJhaXNjX21hcHBpbmcgYXJjdHVydXNfdGFibGVfbWFwW1NNVV9UQUJMRV9DT1VOVF0gPSB7Citz
dGF0aWMgc3RydWN0IHNtdV9tYXAgYXJjdHVydXNfdGFibGVfbWFwW1NNVV9UQUJMRV9DT1VOVF0g
PSB7CiAJVEFCX01BUChQUFRBQkxFKSwKIAlUQUJfTUFQKEFWRlMpLAogCVRBQl9NQVAoQVZGU19Q
U01fREVCVUcpLApAQCAtMTcyLDEyICsxNzIsMTIgQEAgc3RhdGljIHN0cnVjdCBzbXVfMTFfMF9j
bW4yYWlzY19tYXBwaW5nIGFyY3R1cnVzX3RhYmxlX21hcFtTTVVfVEFCTEVfQ09VTlRdID0gewog
CVRBQl9NQVAoT1ZFUkRSSVZFKSwKIH07CiAKLXN0YXRpYyBzdHJ1Y3Qgc211XzExXzBfY21uMmFp
c2NfbWFwcGluZyBhcmN0dXJ1c19wd3Jfc3JjX21hcFtTTVVfUE9XRVJfU09VUkNFX0NPVU5UXSA9
IHsKK3N0YXRpYyBzdHJ1Y3Qgc211X21hcCBhcmN0dXJ1c19wd3Jfc3JjX21hcFtTTVVfUE9XRVJf
U09VUkNFX0NPVU5UXSA9IHsKIAlQV1JfTUFQKEFDKSwKIAlQV1JfTUFQKERDKSwKIH07CiAKLXN0
YXRpYyBzdHJ1Y3Qgc211XzExXzBfY21uMmFpc2NfbWFwcGluZyBhcmN0dXJ1c193b3JrbG9hZF9t
YXBbUFBfU01DX1BPV0VSX1BST0ZJTEVfQ09VTlRdID0geworc3RhdGljIHN0cnVjdCBzbXVfbWFw
IGFyY3R1cnVzX3dvcmtsb2FkX21hcFtQUF9TTUNfUE9XRVJfUFJPRklMRV9DT1VOVF0gPSB7CiAJ
V09SS0xPQURfTUFQKFBQX1NNQ19QT1dFUl9QUk9GSUxFX0JPT1RVUF9ERUZBVUxULAlXT1JLTE9B
RF9QUExJQl9ERUZBVUxUX0JJVCksCiAJV09SS0xPQURfTUFQKFBQX1NNQ19QT1dFUl9QUk9GSUxF
X1BPV0VSU0FWSU5HLAkJV09SS0xPQURfUFBMSUJfUE9XRVJfU0FWSU5HX0JJVCksCiAJV09SS0xP
QURfTUFQKFBQX1NNQ19QT1dFUl9QUk9GSUxFX1ZJREVPLAkJV09SS0xPQURfUFBMSUJfVklERU9f
QklUKSwKQEAgLTE4NSw5OCArMTg1LDM0IEBAIHN0YXRpYyBzdHJ1Y3Qgc211XzExXzBfY21uMmFp
c2NfbWFwcGluZyBhcmN0dXJ1c193b3JrbG9hZF9tYXBbUFBfU01DX1BPV0VSX1BST0ZJCiAJV09S
S0xPQURfTUFQKFBQX1NNQ19QT1dFUl9QUk9GSUxFX0NVU1RPTSwJCVdPUktMT0FEX1BQTElCX0NV
U1RPTV9CSVQpLAogfTsKIAotc3RhdGljIGludCBhcmN0dXJ1c19nZXRfc211X21zZ19pbmRleChz
dHJ1Y3Qgc211X2NvbnRleHQgKnNtYywgdWludDMyX3QgaW5kZXgpCitzdGF0aWMgaW50IGFyY3R1
cnVzX2dldF9zbXVfbXNnX2luZGV4KHN0cnVjdCBzbXVfY29udGV4dCAqc211LCB1aW50MzJfdCBp
bmRleCkKIHsKLQlzdHJ1Y3Qgc211XzExXzBfY21uMmFpc2NfbWFwcGluZyBtYXBwaW5nOwotCi0J
aWYgKGluZGV4ID49IFNNVV9NU0dfTUFYX0NPVU5UKQotCQlyZXR1cm4gLUVJTlZBTDsKLQotCW1h
cHBpbmcgPSBhcmN0dXJ1c19tZXNzYWdlX21hcFtpbmRleF07Ci0JaWYgKCEobWFwcGluZy52YWxp
ZF9tYXBwaW5nKSkKLQkJcmV0dXJuIC1FSU5WQUw7Ci0KLQlyZXR1cm4gbWFwcGluZy5tYXBfdG87
CisJcmV0dXJuIHNtdV9tYXBfaGVscGVyKHNtdSwgYXJjdHVydXNfbWVzc2FnZV9tYXAsIFNNVV9N
U0dfTUFYX0NPVU5ULCBpbmRleCk7CiB9CiAKLXN0YXRpYyBpbnQgYXJjdHVydXNfZ2V0X3NtdV9j
bGtfaW5kZXgoc3RydWN0IHNtdV9jb250ZXh0ICpzbWMsIHVpbnQzMl90IGluZGV4KQorc3RhdGlj
IGludCBhcmN0dXJ1c19nZXRfc211X2Nsa19pbmRleChzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwg
dWludDMyX3QgaW5kZXgpCiB7Ci0Jc3RydWN0IHNtdV8xMV8wX2NtbjJhaXNjX21hcHBpbmcgbWFw
cGluZzsKLQotCWlmIChpbmRleCA+PSBTTVVfQ0xLX0NPVU5UKQotCQlyZXR1cm4gLUVJTlZBTDsK
LQotCW1hcHBpbmcgPSBhcmN0dXJ1c19jbGtfbWFwW2luZGV4XTsKLQlpZiAoIShtYXBwaW5nLnZh
bGlkX21hcHBpbmcpKSB7Ci0JCXByX3dhcm4oIlVuc3VwcG9ydGVkIFNNVSBjbGs6ICVkXG4iLCBp
bmRleCk7Ci0JCXJldHVybiAtRUlOVkFMOwotCX0KLQotCXJldHVybiBtYXBwaW5nLm1hcF90bzsK
KwlyZXR1cm4gc211X21hcF9oZWxwZXIoc211LCBhcmN0dXJ1c19jbGtfbWFwLCBTTVVfQ0xLX0NP
VU5ULCBpbmRleCk7CiB9CiAKLXN0YXRpYyBpbnQgYXJjdHVydXNfZ2V0X3NtdV9mZWF0dXJlX2lu
ZGV4KHN0cnVjdCBzbXVfY29udGV4dCAqc21jLCB1aW50MzJfdCBpbmRleCkKK3N0YXRpYyBpbnQg
YXJjdHVydXNfZ2V0X3NtdV9mZWF0dXJlX2luZGV4KHN0cnVjdCBzbXVfY29udGV4dCAqc211LCB1
aW50MzJfdCBpbmRleCkKIHsKLQlzdHJ1Y3Qgc211XzExXzBfY21uMmFpc2NfbWFwcGluZyBtYXBw
aW5nOwotCi0JaWYgKGluZGV4ID49IFNNVV9GRUFUVVJFX0NPVU5UKQotCQlyZXR1cm4gLUVJTlZB
TDsKLQotCW1hcHBpbmcgPSBhcmN0dXJ1c19mZWF0dXJlX21hc2tfbWFwW2luZGV4XTsKLQlpZiAo
IShtYXBwaW5nLnZhbGlkX21hcHBpbmcpKSB7Ci0JCXJldHVybiAtRUlOVkFMOwotCX0KLQotCXJl
dHVybiBtYXBwaW5nLm1hcF90bzsKKwlyZXR1cm4gc211X21hcF9oZWxwZXIoc211LCBhcmN0dXJ1
c19mZWF0dXJlX21hc2tfbWFwLCBTTVVfRkVBVFVSRV9DT1VOVCwgaW5kZXgpOwogfQogCi1zdGF0
aWMgaW50IGFyY3R1cnVzX2dldF9zbXVfdGFibGVfaW5kZXgoc3RydWN0IHNtdV9jb250ZXh0ICpz
bWMsIHVpbnQzMl90IGluZGV4KQorc3RhdGljIGludCBhcmN0dXJ1c19nZXRfc211X3RhYmxlX2lu
ZGV4KHN0cnVjdCBzbXVfY29udGV4dCAqc211LCB1aW50MzJfdCBpbmRleCkKIHsKLQlzdHJ1Y3Qg
c211XzExXzBfY21uMmFpc2NfbWFwcGluZyBtYXBwaW5nOwotCi0JaWYgKGluZGV4ID49IFNNVV9U
QUJMRV9DT1VOVCkKLQkJcmV0dXJuIC1FSU5WQUw7Ci0KLQltYXBwaW5nID0gYXJjdHVydXNfdGFi
bGVfbWFwW2luZGV4XTsKLQlpZiAoIShtYXBwaW5nLnZhbGlkX21hcHBpbmcpKSB7Ci0JCXByX3dh
cm4oIlVuc3VwcG9ydGVkIFNNVSB0YWJsZTogJWRcbiIsIGluZGV4KTsKLQkJcmV0dXJuIC1FSU5W
QUw7Ci0JfQotCi0JcmV0dXJuIG1hcHBpbmcubWFwX3RvOworCXJldHVybiBzbXVfbWFwX2hlbHBl
cihzbXUsIGFyY3R1cnVzX3RhYmxlX21hcCwgU01VX1RBQkxFX0NPVU5ULCBpbmRleCk7CiB9CiAK
LXN0YXRpYyBpbnQgYXJjdHVydXNfZ2V0X3B3cl9zcmNfaW5kZXgoc3RydWN0IHNtdV9jb250ZXh0
ICpzbWMsIHVpbnQzMl90IGluZGV4KQorc3RhdGljIGludCBhcmN0dXJ1c19nZXRfcHdyX3NyY19p
bmRleChzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgdWludDMyX3QgaW5kZXgpCiB7Ci0Jc3RydWN0
IHNtdV8xMV8wX2NtbjJhaXNjX21hcHBpbmcgbWFwcGluZzsKLQotCWlmIChpbmRleCA+PSBTTVVf
UE9XRVJfU09VUkNFX0NPVU5UKQotCQlyZXR1cm4gLUVJTlZBTDsKLQotCW1hcHBpbmcgPSBhcmN0
dXJ1c19wd3Jfc3JjX21hcFtpbmRleF07Ci0JaWYgKCEobWFwcGluZy52YWxpZF9tYXBwaW5nKSkg
ewotCQlwcl93YXJuKCJVbnN1cHBvcnRlZCBTTVUgcG93ZXIgc291cmNlOiAlZFxuIiwgaW5kZXgp
OwotCQlyZXR1cm4gLUVJTlZBTDsKLQl9Ci0KLQlyZXR1cm4gbWFwcGluZy5tYXBfdG87CisJcmV0
dXJuIHNtdV9tYXBfaGVscGVyKHNtdSwgYXJjdHVydXNfcHdyX3NyY19tYXAsIFNNVV9QT1dFUl9T
T1VSQ0VfQ09VTlQsIGluZGV4KTsKIH0KIAotCiBzdGF0aWMgaW50IGFyY3R1cnVzX2dldF93b3Jr
bG9hZF90eXBlKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCBlbnVtIFBQX1NNQ19QT1dFUl9QUk9G
SUxFIHByb2ZpbGUpCiB7Ci0Jc3RydWN0IHNtdV8xMV8wX2NtbjJhaXNjX21hcHBpbmcgbWFwcGlu
ZzsKLQotCWlmIChwcm9maWxlID4gUFBfU01DX1BPV0VSX1BST0ZJTEVfQ1VTVE9NKQotCQlyZXR1
cm4gLUVJTlZBTDsKLQotCW1hcHBpbmcgPSBhcmN0dXJ1c193b3JrbG9hZF9tYXBbcHJvZmlsZV07
Ci0JaWYgKCEobWFwcGluZy52YWxpZF9tYXBwaW5nKSkgewotCQlwcl93YXJuKCJVbnN1cHBvcnRl
ZCBTTVUgcG93ZXIgc291cmNlOiAlZFxuIiwgcHJvZmlsZSk7Ci0JCXJldHVybiAtRUlOVkFMOwot
CX0KLQotCXJldHVybiBtYXBwaW5nLm1hcF90bzsKKwlyZXR1cm4gc211X21hcF9oZWxwZXIoc211
LCBhcmN0dXJ1c193b3JrbG9hZF9tYXAsIFBQX1NNQ19QT1dFUl9QUk9GSUxFX0NPVU5ULCAodWlu
dDMyX3QpcHJvZmlsZSk7CiB9CiAKIHN0YXRpYyBpbnQgYXJjdHVydXNfdGFibGVzX2luaXQoc3Ry
dWN0IHNtdV9jb250ZXh0ICpzbXUsIHN0cnVjdCBzbXVfdGFibGUgKnRhYmxlcykKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2luYy9hbWRncHVfc211LmggYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvYW1kZ3B1X3NtdS5oCmluZGV4IGZjNTlkOTY4
NmU2MS4uNjQwNGFkNTI0OWQ0IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2Vy
cGxheS9pbmMvYW1kZ3B1X3NtdS5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5
L2luYy9hbWRncHVfc211LmgKQEAgLTIwNiw2ICsyMDYsMTEgQEAgc3RydWN0IHNtdV9jbG9ja19p
bmZvIHsKIAl1aW50MzJfdCBtYXhfYnVzX2JhbmR3aWR0aDsKIH07CiAKK3N0cnVjdCBzbXVfbWFw
IHsKKwlib29sIHZhbGlkOworCWludCB2YWx1ZTsKK307CisKIHN0cnVjdCBzbXVfYmlvc19ib290
X3VwX3ZhbHVlcwogewogCXVpbnQzMl90CQkJcmV2aXNpb247CkBAIC04MDksNSArODE0LDcgQEAg
Y29uc3QgY2hhciAqc211X2dldF9tZXNzYWdlX25hbWUoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUs
IGVudW0gc211X21lc3NhZ2VfdHlwZQogY29uc3QgY2hhciAqc211X2dldF9mZWF0dXJlX25hbWUo
c3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGVudW0gc211X2ZlYXR1cmVfbWFzayBmZWF0dXJlKTsK
IHNpemVfdCBzbXVfc3lzX2dldF9wcF9mZWF0dXJlX21hc2soc3RydWN0IHNtdV9jb250ZXh0ICpz
bXUsIGNoYXIgKmJ1Zik7CiBpbnQgc211X3N5c19zZXRfcHBfZmVhdHVyZV9tYXNrKHN0cnVjdCBz
bXVfY29udGV4dCAqc211LCB1aW50NjRfdCBuZXdfbWFzayk7CitpbnQgc211X21hcF9oZWxwZXIo
c3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIHN0cnVjdCBzbXVfbWFwICptYXBfc3JjLAorCQkgICB1
aW50MzJfdCBtYXhfaW5kZXgsIHVpbnQzMl90IGluZGV4KTsKIAogI2VuZGlmCmRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvc211X3YxMV8wLmggYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvc211X3YxMV8wLmgKaW5kZXggYWNiYjgzZDE3OWJl
Li5lZjU5ODUwYjNmZWYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5
L2luYy9zbXVfdjExXzAuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMv
c211X3YxMV8wLmgKQEAgLTQ5LDI0ICs0OSwxOSBAQAogI2RlZmluZSBTTVUxMV9UT09MX1NJWkUJ
CQkweDE5MDAwCiAKICNkZWZpbmUgQ0xLX01BUChjbGssIGluZGV4KSBcCi0JW1NNVV8jI2Nsa10g
PSB7MSwgKGluZGV4KX0KKwlbU01VXyMjY2xrXSA9IHt0cnVlLCAoaW5kZXgpfQogCiAjZGVmaW5l
IEZFQV9NQVAoZmVhKSBcCi0JW1NNVV9GRUFUVVJFXyMjZmVhIyNfQklUXSA9IHsxLCBGRUFUVVJF
XyMjZmVhIyNfQklUfQorCVtTTVVfRkVBVFVSRV8jI2ZlYSMjX0JJVF0gPSB7dHJ1ZSwgRkVBVFVS
RV8jI2ZlYSMjX0JJVH0KIAogI2RlZmluZSBUQUJfTUFQKHRhYikgXAotCVtTTVVfVEFCTEVfIyN0
YWJdID0gezEsIFRBQkxFXyMjdGFifQorCVtTTVVfVEFCTEVfIyN0YWJdID0ge3RydWUsIFRBQkxF
XyMjdGFifQogCiAjZGVmaW5lIFBXUl9NQVAodGFiKSBcCi0JW1NNVV9QT1dFUl9TT1VSQ0VfIyN0
YWJdID0gezEsIFBPV0VSX1NPVVJDRV8jI3RhYn0KKwlbU01VX1BPV0VSX1NPVVJDRV8jI3RhYl0g
PSB7dHJ1ZSwgUE9XRVJfU09VUkNFXyMjdGFifQogCiAjZGVmaW5lIFdPUktMT0FEX01BUChwcm9m
aWxlLCB3b3JrbG9hZCkgXAotCVtwcm9maWxlXSA9IHsxLCAod29ya2xvYWQpfQotCi1zdHJ1Y3Qg
c211XzExXzBfY21uMmFpc2NfbWFwcGluZyB7Ci0JaW50CXZhbGlkX21hcHBpbmc7Ci0JaW50CW1h
cF90bzsKLX07CisJW3Byb2ZpbGVdID0ge3RydWUsICh3b3JrbG9hZCl9CiAKIHN0cnVjdCBzbXVf
MTFfMF9tYXhfc3VzdGFpbmFibGVfY2xvY2tzIHsKIAl1aW50MzJfdCBkaXNwbGF5X2Nsb2NrOwpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvbmF2aTEwX3BwdC5jIGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvbmF2aTEwX3BwdC5jCmluZGV4IDkyMDE1NmU5
ZmI5ZC4uOTgzOGJlZWNlYzJlIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2Vy
cGxheS9uYXZpMTBfcHB0LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvbmF2
aTEwX3BwdC5jCkBAIC00OSw5ICs0OSw5IEBACiAJRkVBVFVSRV9NQVNLKEZFQVRVUkVfRFBNX0RD
RUZDTEtfQklUKSkKIAogI2RlZmluZSBNU0dfTUFQKG1zZywgaW5kZXgpIFwKLQlbU01VX01TR18j
I21zZ10gPSB7MSwgKGluZGV4KX0KKwlbU01VX01TR18jI21zZ10gPSB7dHJ1ZSwgKGluZGV4KX0K
IAotc3RhdGljIHN0cnVjdCBzbXVfMTFfMF9jbW4yYWlzY19tYXBwaW5nIG5hdmkxMF9tZXNzYWdl
X21hcFtTTVVfTVNHX01BWF9DT1VOVF0gPSB7CitzdGF0aWMgc3RydWN0IHNtdV9tYXAgbmF2aTEw
X21lc3NhZ2VfbWFwW1NNVV9NU0dfTUFYX0NPVU5UXSA9IHsKIAlNU0dfTUFQKFRlc3RNZXNzYWdl
LAkJCVBQU01DX01TR19UZXN0TWVzc2FnZSksCiAJTVNHX01BUChHZXRTbXVWZXJzaW9uLAkJCVBQ
U01DX01TR19HZXRTbXVWZXJzaW9uKSwKIAlNU0dfTUFQKEdldERyaXZlcklmVmVyc2lvbiwJCVBQ
U01DX01TR19HZXREcml2ZXJJZlZlcnNpb24pLApAQCAtMTE4LDcgKzExOCw3IEBAIHN0YXRpYyBz
dHJ1Y3Qgc211XzExXzBfY21uMmFpc2NfbWFwcGluZyBuYXZpMTBfbWVzc2FnZV9tYXBbU01VX01T
R19NQVhfQ09VTlRdID0KIAlNU0dfTUFQKEFybUQzLAkJCVBQU01DX01TR19Bcm1EMyksCiB9Owog
Ci1zdGF0aWMgc3RydWN0IHNtdV8xMV8wX2NtbjJhaXNjX21hcHBpbmcgbmF2aTEwX2Nsa19tYXBb
U01VX0NMS19DT1VOVF0gPSB7CitzdGF0aWMgc3RydWN0IHNtdV9tYXAgbmF2aTEwX2Nsa19tYXBb
U01VX0NMS19DT1VOVF0gPSB7CiAJQ0xLX01BUChHRlhDTEssIFBQQ0xLX0dGWENMSyksCiAJQ0xL
X01BUChTQ0xLLAlQUENMS19HRlhDTEspLAogCUNMS19NQVAoU09DQ0xLLCBQUENMS19TT0NDTEsp
LApAQCAtMTMzLDcgKzEzMyw3IEBAIHN0YXRpYyBzdHJ1Y3Qgc211XzExXzBfY21uMmFpc2NfbWFw
cGluZyBuYXZpMTBfY2xrX21hcFtTTVVfQ0xLX0NPVU5UXSA9IHsKIAlDTEtfTUFQKFBIWUNMSywg
UFBDTEtfUEhZQ0xLKSwKIH07CiAKLXN0YXRpYyBzdHJ1Y3Qgc211XzExXzBfY21uMmFpc2NfbWFw
cGluZyBuYXZpMTBfZmVhdHVyZV9tYXNrX21hcFtTTVVfRkVBVFVSRV9DT1VOVF0gPSB7CitzdGF0
aWMgc3RydWN0IHNtdV9tYXAgbmF2aTEwX2ZlYXR1cmVfbWFza19tYXBbU01VX0ZFQVRVUkVfQ09V
TlRdID0gewogCUZFQV9NQVAoRFBNX1BSRUZFVENIRVIpLAogCUZFQV9NQVAoRFBNX0dGWENMSyks
CiAJRkVBX01BUChEUE1fR0ZYX1BBQ0UpLApAQCAtMTc4LDcgKzE3OCw3IEBAIHN0YXRpYyBzdHJ1
Y3Qgc211XzExXzBfY21uMmFpc2NfbWFwcGluZyBuYXZpMTBfZmVhdHVyZV9tYXNrX21hcFtTTVVf
RkVBVFVSRV9DT1VOCiAJRkVBX01BUChBVEhVQl9QRyksCiB9OwogCi1zdGF0aWMgc3RydWN0IHNt
dV8xMV8wX2NtbjJhaXNjX21hcHBpbmcgbmF2aTEwX3RhYmxlX21hcFtTTVVfVEFCTEVfQ09VTlRd
ID0geworc3RhdGljIHN0cnVjdCBzbXVfbWFwIG5hdmkxMF90YWJsZV9tYXBbU01VX1RBQkxFX0NP
VU5UXSA9IHsKIAlUQUJfTUFQKFBQVEFCTEUpLAogCVRBQl9NQVAoV0FURVJNQVJLUyksCiAJVEFC
X01BUChBVkZTKSwKQEAgLTE5MywxMiArMTkzLDEyIEBAIHN0YXRpYyBzdHJ1Y3Qgc211XzExXzBf
Y21uMmFpc2NfbWFwcGluZyBuYXZpMTBfdGFibGVfbWFwW1NNVV9UQUJMRV9DT1VOVF0gPSB7CiAJ
VEFCX01BUChQQUNFKSwKIH07CiAKLXN0YXRpYyBzdHJ1Y3Qgc211XzExXzBfY21uMmFpc2NfbWFw
cGluZyBuYXZpMTBfcHdyX3NyY19tYXBbU01VX1BPV0VSX1NPVVJDRV9DT1VOVF0gPSB7CitzdGF0
aWMgc3RydWN0IHNtdV9tYXAgbmF2aTEwX3B3cl9zcmNfbWFwW1NNVV9QT1dFUl9TT1VSQ0VfQ09V
TlRdID0gewogCVBXUl9NQVAoQUMpLAogCVBXUl9NQVAoREMpLAogfTsKIAotc3RhdGljIHN0cnVj
dCBzbXVfMTFfMF9jbW4yYWlzY19tYXBwaW5nIG5hdmkxMF93b3JrbG9hZF9tYXBbUFBfU01DX1BP
V0VSX1BST0ZJTEVfQ09VTlRdID0geworc3RhdGljIHN0cnVjdCBzbXVfbWFwIG5hdmkxMF93b3Jr
bG9hZF9tYXBbUFBfU01DX1BPV0VSX1BST0ZJTEVfQ09VTlRdID0gewogCVdPUktMT0FEX01BUChQ
UF9TTUNfUE9XRVJfUFJPRklMRV9CT09UVVBfREVGQVVMVCwJV09SS0xPQURfUFBMSUJfREVGQVVM
VF9CSVQpLAogCVdPUktMT0FEX01BUChQUF9TTUNfUE9XRVJfUFJPRklMRV9GVUxMU0NSRUVOM0Qs
CQlXT1JLTE9BRF9QUExJQl9GVUxMX1NDUkVFTl8zRF9CSVQpLAogCVdPUktMT0FEX01BUChQUF9T
TUNfUE9XRVJfUFJPRklMRV9QT1dFUlNBVklORywJCVdPUktMT0FEX1BQTElCX1BPV0VSX1NBVklO
R19CSVQpLApAQCAtMjA4LDk1ICsyMDgsMzQgQEAgc3RhdGljIHN0cnVjdCBzbXVfMTFfMF9jbW4y
YWlzY19tYXBwaW5nIG5hdmkxMF93b3JrbG9hZF9tYXBbUFBfU01DX1BPV0VSX1BST0ZJTEUKIAlX
T1JLTE9BRF9NQVAoUFBfU01DX1BPV0VSX1BST0ZJTEVfQ1VTVE9NLAkJV09SS0xPQURfUFBMSUJf
Q1VTVE9NX0JJVCksCiB9OwogCi1zdGF0aWMgaW50IG5hdmkxMF9nZXRfc211X21zZ19pbmRleChz
dHJ1Y3Qgc211X2NvbnRleHQgKnNtYywgdWludDMyX3QgaW5kZXgpCitzdGF0aWMgaW50IG5hdmkx
MF9nZXRfc211X21zZ19pbmRleChzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgdWludDMyX3QgaW5k
ZXgpCiB7Ci0Jc3RydWN0IHNtdV8xMV8wX2NtbjJhaXNjX21hcHBpbmcgbWFwcGluZzsKLQotCWlm
IChpbmRleCA+IFNNVV9NU0dfTUFYX0NPVU5UKQotCQlyZXR1cm4gLUVJTlZBTDsKLQotCW1hcHBp
bmcgPSBuYXZpMTBfbWVzc2FnZV9tYXBbaW5kZXhdOwotCWlmICghKG1hcHBpbmcudmFsaWRfbWFw
cGluZykpIHsKLQkJcmV0dXJuIC1FSU5WQUw7Ci0JfQotCi0JcmV0dXJuIG1hcHBpbmcubWFwX3Rv
OworCXJldHVybiBzbXVfbWFwX2hlbHBlcihzbXUsIG5hdmkxMF9tZXNzYWdlX21hcCwgU01VX01T
R19NQVhfQ09VTlQsIGluZGV4KTsKIH0KIAotc3RhdGljIGludCBuYXZpMTBfZ2V0X3NtdV9jbGtf
aW5kZXgoc3RydWN0IHNtdV9jb250ZXh0ICpzbWMsIHVpbnQzMl90IGluZGV4KQorc3RhdGljIGlu
dCBuYXZpMTBfZ2V0X3NtdV9jbGtfaW5kZXgoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIHVpbnQz
Ml90IGluZGV4KQogewotCXN0cnVjdCBzbXVfMTFfMF9jbW4yYWlzY19tYXBwaW5nIG1hcHBpbmc7
Ci0KLQlpZiAoaW5kZXggPj0gU01VX0NMS19DT1VOVCkKLQkJcmV0dXJuIC1FSU5WQUw7Ci0KLQlt
YXBwaW5nID0gbmF2aTEwX2Nsa19tYXBbaW5kZXhdOwotCWlmICghKG1hcHBpbmcudmFsaWRfbWFw
cGluZykpIHsKLQkJcmV0dXJuIC1FSU5WQUw7Ci0JfQotCi0JcmV0dXJuIG1hcHBpbmcubWFwX3Rv
OworCXJldHVybiBzbXVfbWFwX2hlbHBlcihzbXUsIG5hdmkxMF9jbGtfbWFwLCBTTVVfQ0xLX0NP
VU5ULCBpbmRleCk7CiB9CiAKLXN0YXRpYyBpbnQgbmF2aTEwX2dldF9zbXVfZmVhdHVyZV9pbmRl
eChzdHJ1Y3Qgc211X2NvbnRleHQgKnNtYywgdWludDMyX3QgaW5kZXgpCitzdGF0aWMgaW50IG5h
dmkxMF9nZXRfc211X2ZlYXR1cmVfaW5kZXgoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIHVpbnQz
Ml90IGluZGV4KQogewotCXN0cnVjdCBzbXVfMTFfMF9jbW4yYWlzY19tYXBwaW5nIG1hcHBpbmc7
Ci0KLQlpZiAoaW5kZXggPj0gU01VX0ZFQVRVUkVfQ09VTlQpCi0JCXJldHVybiAtRUlOVkFMOwot
Ci0JbWFwcGluZyA9IG5hdmkxMF9mZWF0dXJlX21hc2tfbWFwW2luZGV4XTsKLQlpZiAoIShtYXBw
aW5nLnZhbGlkX21hcHBpbmcpKSB7Ci0JCXJldHVybiAtRUlOVkFMOwotCX0KLQotCXJldHVybiBt
YXBwaW5nLm1hcF90bzsKKwlyZXR1cm4gc211X21hcF9oZWxwZXIoc211LCBuYXZpMTBfZmVhdHVy
ZV9tYXNrX21hcCwgU01VX0ZFQVRVUkVfQ09VTlQsIGluZGV4KTsKIH0KIAotc3RhdGljIGludCBu
YXZpMTBfZ2V0X3NtdV90YWJsZV9pbmRleChzdHJ1Y3Qgc211X2NvbnRleHQgKnNtYywgdWludDMy
X3QgaW5kZXgpCitzdGF0aWMgaW50IG5hdmkxMF9nZXRfc211X3RhYmxlX2luZGV4KHN0cnVjdCBz
bXVfY29udGV4dCAqc211LCB1aW50MzJfdCBpbmRleCkKIHsKLQlzdHJ1Y3Qgc211XzExXzBfY21u
MmFpc2NfbWFwcGluZyBtYXBwaW5nOwotCi0JaWYgKGluZGV4ID49IFNNVV9UQUJMRV9DT1VOVCkK
LQkJcmV0dXJuIC1FSU5WQUw7Ci0KLQltYXBwaW5nID0gbmF2aTEwX3RhYmxlX21hcFtpbmRleF07
Ci0JaWYgKCEobWFwcGluZy52YWxpZF9tYXBwaW5nKSkgewotCQlyZXR1cm4gLUVJTlZBTDsKLQl9
Ci0KLQlyZXR1cm4gbWFwcGluZy5tYXBfdG87CisJcmV0dXJuIHNtdV9tYXBfaGVscGVyKHNtdSwg
bmF2aTEwX3RhYmxlX21hcCwgU01VX1RBQkxFX0NPVU5ULCBpbmRleCk7CiB9CiAKLXN0YXRpYyBp
bnQgbmF2aTEwX2dldF9wd3Jfc3JjX2luZGV4KHN0cnVjdCBzbXVfY29udGV4dCAqc21jLCB1aW50
MzJfdCBpbmRleCkKK3N0YXRpYyBpbnQgbmF2aTEwX2dldF9wd3Jfc3JjX2luZGV4KHN0cnVjdCBz
bXVfY29udGV4dCAqc211LCB1aW50MzJfdCBpbmRleCkKIHsKLQlzdHJ1Y3Qgc211XzExXzBfY21u
MmFpc2NfbWFwcGluZyBtYXBwaW5nOwotCi0JaWYgKGluZGV4ID49IFNNVV9QT1dFUl9TT1VSQ0Vf
Q09VTlQpCi0JCXJldHVybiAtRUlOVkFMOwotCi0JbWFwcGluZyA9IG5hdmkxMF9wd3Jfc3JjX21h
cFtpbmRleF07Ci0JaWYgKCEobWFwcGluZy52YWxpZF9tYXBwaW5nKSkgewotCQlyZXR1cm4gLUVJ
TlZBTDsKLQl9Ci0KLQlyZXR1cm4gbWFwcGluZy5tYXBfdG87CisJcmV0dXJuIHNtdV9tYXBfaGVs
cGVyKHNtdSwgbmF2aTEwX3B3cl9zcmNfbWFwLCBTTVVfUE9XRVJfU09VUkNFX0NPVU5ULCBpbmRl
eCk7CiB9CiAKLQogc3RhdGljIGludCBuYXZpMTBfZ2V0X3dvcmtsb2FkX3R5cGUoc3RydWN0IHNt
dV9jb250ZXh0ICpzbXUsIGVudW0gUFBfU01DX1BPV0VSX1BST0ZJTEUgcHJvZmlsZSkKIHsKLQlz
dHJ1Y3Qgc211XzExXzBfY21uMmFpc2NfbWFwcGluZyBtYXBwaW5nOwotCi0JaWYgKHByb2ZpbGUg
PiBQUF9TTUNfUE9XRVJfUFJPRklMRV9DVVNUT00pCi0JCXJldHVybiAtRUlOVkFMOwotCi0JbWFw
cGluZyA9IG5hdmkxMF93b3JrbG9hZF9tYXBbcHJvZmlsZV07Ci0JaWYgKCEobWFwcGluZy52YWxp
ZF9tYXBwaW5nKSkgewotCQlyZXR1cm4gLUVJTlZBTDsKLQl9Ci0KLQlyZXR1cm4gbWFwcGluZy5t
YXBfdG87CisJcmV0dXJuIHNtdV9tYXBfaGVscGVyKHNtdSwgbmF2aTEwX3dvcmtsb2FkX21hcCwg
UFBfU01DX1BPV0VSX1BST0ZJTEVfQ09VTlQsICh1aW50MzJfdClwcm9maWxlKTsKIH0KIAogc3Rh
dGljIGJvb2wgaXNfYXNpY19zZWN1cmUoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUpCmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS92ZWdhMjBfcHB0LmMgYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL3Bvd2VycGxheS92ZWdhMjBfcHB0LmMKaW5kZXggYWNmMDc1MzkzYzEzLi42
MTYyYmUyNWI2ZDIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3Zl
Z2EyMF9wcHQuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS92ZWdhMjBfcHB0
LmMKQEAgLTQ3LDcgKzQ3LDcgQEAKICNkZWZpbmUgQ1RGX09GRlNFVF9IQk0JCQk1CiAKICNkZWZp
bmUgTVNHX01BUChtc2cpIFwKLQlbU01VX01TR18jI21zZ10gPSB7MSwgUFBTTUNfTVNHXyMjbXNn
fQorCVtTTVVfTVNHXyMjbXNnXSA9IHt0cnVlLCBQUFNNQ19NU0dfIyNtc2d9CiAKICNkZWZpbmUg
U01DX0RQTV9GRUFUVVJFIChGRUFUVVJFX0RQTV9QUkVGRVRDSEVSX01BU0sgfCBcCiAJCQkgRkVB
VFVSRV9EUE1fR0ZYQ0xLX01BU0sgfCBcCkBAIC01OSw3ICs1OSw3IEBACiAJCQkgRkVBVFVSRV9E
UE1fTElOS19NQVNLIHwgXAogCQkJIEZFQVRVUkVfRFBNX0RDRUZDTEtfTUFTSykKIAotc3RhdGlj
IHN0cnVjdCBzbXVfMTFfMF9jbW4yYWlzY19tYXBwaW5nIHZlZ2EyMF9tZXNzYWdlX21hcFtTTVVf
TVNHX01BWF9DT1VOVF0gPSB7CitzdGF0aWMgc3RydWN0IHNtdV9tYXAgdmVnYTIwX21lc3NhZ2Vf
bWFwW1NNVV9NU0dfTUFYX0NPVU5UXSA9IHsKIAlNU0dfTUFQKFRlc3RNZXNzYWdlKSwKIAlNU0df
TUFQKEdldFNtdVZlcnNpb24pLAogCU1TR19NQVAoR2V0RHJpdmVySWZWZXJzaW9uKSwKQEAgLTE0
NSw3ICsxNDUsNyBAQCBzdGF0aWMgc3RydWN0IHNtdV8xMV8wX2NtbjJhaXNjX21hcHBpbmcgdmVn
YTIwX21lc3NhZ2VfbWFwW1NNVV9NU0dfTUFYX0NPVU5UXSA9CiAJTVNHX01BUChHZXRBVkZTVm9s
dGFnZUJ5RHBtKSwKIH07CiAKLXN0YXRpYyBzdHJ1Y3Qgc211XzExXzBfY21uMmFpc2NfbWFwcGlu
ZyB2ZWdhMjBfY2xrX21hcFtTTVVfQ0xLX0NPVU5UXSA9IHsKK3N0YXRpYyBzdHJ1Y3Qgc211X21h
cCB2ZWdhMjBfY2xrX21hcFtTTVVfQ0xLX0NPVU5UXSA9IHsKIAlDTEtfTUFQKEdGWENMSywgUFBD
TEtfR0ZYQ0xLKSwKIAlDTEtfTUFQKFZDTEssIFBQQ0xLX1ZDTEspLAogCUNMS19NQVAoRENMSywg
UFBDTEtfRENMSyksCkBAIC0xNTksNyArMTU5LDcgQEAgc3RhdGljIHN0cnVjdCBzbXVfMTFfMF9j
bW4yYWlzY19tYXBwaW5nIHZlZ2EyMF9jbGtfbWFwW1NNVV9DTEtfQ09VTlRdID0gewogCUNMS19N
QVAoRkNMSywgUFBDTEtfRkNMSyksCiB9OwogCi1zdGF0aWMgc3RydWN0IHNtdV8xMV8wX2NtbjJh
aXNjX21hcHBpbmcgdmVnYTIwX2ZlYXR1cmVfbWFza19tYXBbU01VX0ZFQVRVUkVfQ09VTlRdID0g
eworc3RhdGljIHN0cnVjdCBzbXVfbWFwIHZlZ2EyMF9mZWF0dXJlX21hc2tfbWFwW1NNVV9GRUFU
VVJFX0NPVU5UXSA9IHsKIAlGRUFfTUFQKERQTV9QUkVGRVRDSEVSKSwKIAlGRUFfTUFQKERQTV9H
RlhDTEspLAogCUZFQV9NQVAoRFBNX1VDTEspLApAQCAtMTk1LDcgKzE5NSw3IEBAIHN0YXRpYyBz
dHJ1Y3Qgc211XzExXzBfY21uMmFpc2NfbWFwcGluZyB2ZWdhMjBfZmVhdHVyZV9tYXNrX21hcFtT
TVVfRkVBVFVSRV9DT1VOCiAJRkVBX01BUChYR01JKSwKIH07CiAKLXN0YXRpYyBzdHJ1Y3Qgc211
XzExXzBfY21uMmFpc2NfbWFwcGluZyB2ZWdhMjBfdGFibGVfbWFwW1NNVV9UQUJMRV9DT1VOVF0g
PSB7CitzdGF0aWMgc3RydWN0IHNtdV9tYXAgdmVnYTIwX3RhYmxlX21hcFtTTVVfVEFCTEVfQ09V
TlRdID0gewogCVRBQl9NQVAoUFBUQUJMRSksCiAJVEFCX01BUChXQVRFUk1BUktTKSwKIAlUQUJf
TUFQKEFWRlMpLApAQCAtMjA4LDEyICsyMDgsMTIgQEAgc3RhdGljIHN0cnVjdCBzbXVfMTFfMF9j
bW4yYWlzY19tYXBwaW5nIHZlZ2EyMF90YWJsZV9tYXBbU01VX1RBQkxFX0NPVU5UXSA9IHsKIAlU
QUJfTUFQKE9WRVJEUklWRSksCiB9OwogCi1zdGF0aWMgc3RydWN0IHNtdV8xMV8wX2NtbjJhaXNj
X21hcHBpbmcgdmVnYTIwX3B3cl9zcmNfbWFwW1NNVV9QT1dFUl9TT1VSQ0VfQ09VTlRdID0gewor
c3RhdGljIHN0cnVjdCBzbXVfbWFwIHZlZ2EyMF9wd3Jfc3JjX21hcFtTTVVfUE9XRVJfU09VUkNF
X0NPVU5UXSA9IHsKIAlQV1JfTUFQKEFDKSwKIAlQV1JfTUFQKERDKSwKIH07CiAKLXN0YXRpYyBz
dHJ1Y3Qgc211XzExXzBfY21uMmFpc2NfbWFwcGluZyB2ZWdhMjBfd29ya2xvYWRfbWFwW1BQX1NN
Q19QT1dFUl9QUk9GSUxFX0NPVU5UXSA9IHsKK3N0YXRpYyBzdHJ1Y3Qgc211X21hcCB2ZWdhMjBf
d29ya2xvYWRfbWFwW1BQX1NNQ19QT1dFUl9QUk9GSUxFX0NPVU5UXSA9IHsKIAlXT1JLTE9BRF9N
QVAoUFBfU01DX1BPV0VSX1BST0ZJTEVfQk9PVFVQX0RFRkFVTFQsCVdPUktMT0FEX0RFRkFVTFRf
QklUKSwKIAlXT1JLTE9BRF9NQVAoUFBfU01DX1BPV0VSX1BST0ZJTEVfRlVMTFNDUkVFTjNELAkJ
V09SS0xPQURfUFBMSUJfRlVMTF9TQ1JFRU5fM0RfQklUKSwKIAlXT1JLTE9BRF9NQVAoUFBfU01D
X1BPV0VSX1BST0ZJTEVfUE9XRVJTQVZJTkcsCQlXT1JLTE9BRF9QUExJQl9QT1dFUl9TQVZJTkdf
QklUKSwKQEAgLTIyMyw5NCArMjIzLDM0IEBAIHN0YXRpYyBzdHJ1Y3Qgc211XzExXzBfY21uMmFp
c2NfbWFwcGluZyB2ZWdhMjBfd29ya2xvYWRfbWFwW1BQX1NNQ19QT1dFUl9QUk9GSUxFCiAJV09S
S0xPQURfTUFQKFBQX1NNQ19QT1dFUl9QUk9GSUxFX0NVU1RPTSwJCVdPUktMT0FEX1BQTElCX0NV
U1RPTV9CSVQpLAogfTsKIAotc3RhdGljIGludCB2ZWdhMjBfZ2V0X3NtdV90YWJsZV9pbmRleChz
dHJ1Y3Qgc211X2NvbnRleHQgKnNtYywgdWludDMyX3QgaW5kZXgpCitzdGF0aWMgaW50IHZlZ2Ey
MF9nZXRfc211X3RhYmxlX2luZGV4KHN0cnVjdCBzbXVfY29udGV4dCAqc211LCB1aW50MzJfdCBp
bmRleCkKIHsKLQlzdHJ1Y3Qgc211XzExXzBfY21uMmFpc2NfbWFwcGluZyBtYXBwaW5nOwotCi0J
aWYgKGluZGV4ID49IFNNVV9UQUJMRV9DT1VOVCkKLQkJcmV0dXJuIC1FSU5WQUw7Ci0KLQltYXBw
aW5nID0gdmVnYTIwX3RhYmxlX21hcFtpbmRleF07Ci0JaWYgKCEobWFwcGluZy52YWxpZF9tYXBw
aW5nKSkgewotCQlyZXR1cm4gLUVJTlZBTDsKLQl9Ci0KLQlyZXR1cm4gbWFwcGluZy5tYXBfdG87
CisJcmV0dXJuIHNtdV9tYXBfaGVscGVyKHNtdSwgdmVnYTIwX3RhYmxlX21hcCwgU01VX1RBQkxF
X0NPVU5ULCBpbmRleCk7CiB9CiAKLXN0YXRpYyBpbnQgdmVnYTIwX2dldF9wd3Jfc3JjX2luZGV4
KHN0cnVjdCBzbXVfY29udGV4dCAqc21jLCB1aW50MzJfdCBpbmRleCkKK3N0YXRpYyBpbnQgdmVn
YTIwX2dldF9wd3Jfc3JjX2luZGV4KHN0cnVjdCBzbXVfY29udGV4dCAqc211LCB1aW50MzJfdCBp
bmRleCkKIHsKLQlzdHJ1Y3Qgc211XzExXzBfY21uMmFpc2NfbWFwcGluZyBtYXBwaW5nOwotCi0J
aWYgKGluZGV4ID49IFNNVV9QT1dFUl9TT1VSQ0VfQ09VTlQpCi0JCXJldHVybiAtRUlOVkFMOwot
Ci0JbWFwcGluZyA9IHZlZ2EyMF9wd3Jfc3JjX21hcFtpbmRleF07Ci0JaWYgKCEobWFwcGluZy52
YWxpZF9tYXBwaW5nKSkgewotCQlyZXR1cm4gLUVJTlZBTDsKLQl9Ci0KLQlyZXR1cm4gbWFwcGlu
Zy5tYXBfdG87CisJcmV0dXJuIHNtdV9tYXBfaGVscGVyKHNtdSwgdmVnYTIwX3B3cl9zcmNfbWFw
LCBTTVVfUE9XRVJfU09VUkNFX0NPVU5ULCBpbmRleCk7CiB9CiAKLXN0YXRpYyBpbnQgdmVnYTIw
X2dldF9zbXVfZmVhdHVyZV9pbmRleChzdHJ1Y3Qgc211X2NvbnRleHQgKnNtYywgdWludDMyX3Qg
aW5kZXgpCitzdGF0aWMgaW50IHZlZ2EyMF9nZXRfc211X2ZlYXR1cmVfaW5kZXgoc3RydWN0IHNt
dV9jb250ZXh0ICpzbXUsIHVpbnQzMl90IGluZGV4KQogewotCXN0cnVjdCBzbXVfMTFfMF9jbW4y
YWlzY19tYXBwaW5nIG1hcHBpbmc7Ci0KLQlpZiAoaW5kZXggPj0gU01VX0ZFQVRVUkVfQ09VTlQp
Ci0JCXJldHVybiAtRUlOVkFMOwotCi0JbWFwcGluZyA9IHZlZ2EyMF9mZWF0dXJlX21hc2tfbWFw
W2luZGV4XTsKLQlpZiAoIShtYXBwaW5nLnZhbGlkX21hcHBpbmcpKSB7Ci0JCXJldHVybiAtRUlO
VkFMOwotCX0KLQotCXJldHVybiBtYXBwaW5nLm1hcF90bzsKKwlyZXR1cm4gc211X21hcF9oZWxw
ZXIoc211LCB2ZWdhMjBfZmVhdHVyZV9tYXNrX21hcCwgU01VX0ZFQVRVUkVfQ09VTlQsIGluZGV4
KTsKIH0KIAotc3RhdGljIGludCB2ZWdhMjBfZ2V0X3NtdV9jbGtfaW5kZXgoc3RydWN0IHNtdV9j
b250ZXh0ICpzbWMsIHVpbnQzMl90IGluZGV4KQorc3RhdGljIGludCB2ZWdhMjBfZ2V0X3NtdV9j
bGtfaW5kZXgoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIHVpbnQzMl90IGluZGV4KQogewotCXN0
cnVjdCBzbXVfMTFfMF9jbW4yYWlzY19tYXBwaW5nIG1hcHBpbmc7Ci0KLQlpZiAoaW5kZXggPj0g
U01VX0NMS19DT1VOVCkKLQkJcmV0dXJuIC1FSU5WQUw7Ci0KLQltYXBwaW5nID0gdmVnYTIwX2Ns
a19tYXBbaW5kZXhdOwotCWlmICghKG1hcHBpbmcudmFsaWRfbWFwcGluZykpIHsKLQkJcmV0dXJu
IC1FSU5WQUw7Ci0JfQotCi0JcmV0dXJuIG1hcHBpbmcubWFwX3RvOworCXJldHVybiBzbXVfbWFw
X2hlbHBlcihzbXUsIHZlZ2EyMF9jbGtfbWFwLCBTTVVfQ0xLX0NPVU5ULCBpbmRleCk7CiB9CiAK
LXN0YXRpYyBpbnQgdmVnYTIwX2dldF9zbXVfbXNnX2luZGV4KHN0cnVjdCBzbXVfY29udGV4dCAq
c21jLCB1aW50MzJfdCBpbmRleCkKK3N0YXRpYyBpbnQgdmVnYTIwX2dldF9zbXVfbXNnX2luZGV4
KHN0cnVjdCBzbXVfY29udGV4dCAqc211LCB1aW50MzJfdCBpbmRleCkKIHsKLQlzdHJ1Y3Qgc211
XzExXzBfY21uMmFpc2NfbWFwcGluZyBtYXBwaW5nOwotCi0JaWYgKGluZGV4ID49IFNNVV9NU0df
TUFYX0NPVU5UKQotCQlyZXR1cm4gLUVJTlZBTDsKLQotCW1hcHBpbmcgPSB2ZWdhMjBfbWVzc2Fn
ZV9tYXBbaW5kZXhdOwotCWlmICghKG1hcHBpbmcudmFsaWRfbWFwcGluZykpIHsKLQkJcmV0dXJu
IC1FSU5WQUw7Ci0JfQotCi0JcmV0dXJuIG1hcHBpbmcubWFwX3RvOworCXJldHVybiBzbXVfbWFw
X2hlbHBlcihzbXUsIHZlZ2EyMF9tZXNzYWdlX21hcCwgU01VX01TR19NQVhfQ09VTlQsIGluZGV4
KTsKIH0KIAogc3RhdGljIGludCB2ZWdhMjBfZ2V0X3dvcmtsb2FkX3R5cGUoc3RydWN0IHNtdV9j
b250ZXh0ICpzbXUsIGVudW0gUFBfU01DX1BPV0VSX1BST0ZJTEUgcHJvZmlsZSkKIHsKLQlzdHJ1
Y3Qgc211XzExXzBfY21uMmFpc2NfbWFwcGluZyBtYXBwaW5nOwotCi0JaWYgKHByb2ZpbGUgPiBQ
UF9TTUNfUE9XRVJfUFJPRklMRV9DVVNUT00pCi0JCXJldHVybiAtRUlOVkFMOwotCi0JbWFwcGlu
ZyA9IHZlZ2EyMF93b3JrbG9hZF9tYXBbcHJvZmlsZV07Ci0JaWYgKCEobWFwcGluZy52YWxpZF9t
YXBwaW5nKSkgewotCQlyZXR1cm4gLUVJTlZBTDsKLQl9Ci0KLQlyZXR1cm4gbWFwcGluZy5tYXBf
dG87CisJcmV0dXJuIHNtdV9tYXBfaGVscGVyKHNtdSwgdmVnYTIwX3dvcmtsb2FkX21hcCwgUFBf
U01DX1BPV0VSX1BST0ZJTEVfQ09VTlQsICh1aW50MzJfdClwcm9maWxlKTsKIH0KIAogc3RhdGlj
IGludCB2ZWdhMjBfdGFibGVzX2luaXQoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIHN0cnVjdCBz
bXVfdGFibGUgKnRhYmxlcykKLS0gCjIuMjIuMAoKX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5m
cmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0
aW5mby9hbWQtZ2Z4
