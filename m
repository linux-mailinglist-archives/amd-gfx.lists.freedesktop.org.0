Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 721884BAAB
	for <lists+amd-gfx@lfdr.de>; Wed, 19 Jun 2019 16:04:04 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A74BB6E3F2;
	Wed, 19 Jun 2019 14:04:02 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-wm1-x342.google.com (mail-wm1-x342.google.com
 [IPv6:2a00:1450:4864:20::342])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 860506E3F2
 for <amd-gfx@lists.freedesktop.org>; Wed, 19 Jun 2019 14:04:00 +0000 (UTC)
Received: by mail-wm1-x342.google.com with SMTP id v19so1985658wmj.5
 for <amd-gfx@lists.freedesktop.org>; Wed, 19 Jun 2019 07:04:00 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:reply-to:subject:to:references:from:message-id
 :date:user-agent:mime-version:in-reply-to:content-transfer-encoding
 :content-language;
 bh=M68Mdo0N6437Hj3OAivJAfDNKuzbAUbmn6AmxHiKjPU=;
 b=kEsdZu47APiZwMOQkib9Z+iDBvCjUVS/mdS7fE0eyKkSjf9ptIP/OlaS5HkUlLq9Vo
 Mb/ogbaMvzOoN4Z/Rsn18GbC4W3pUm0OiSFdeKAInFqCQkcB3Orvl2/xM4xF6B4bdFiA
 ikItqNPLRrJ7kNyg7iEw3OvpcUKhw5xOKkJqKxBejkCijuI6Or7PV/okpemo4ebkiXXs
 QJo4IsspXyq+oCHfA0z9sFa5B5vNUpykivtwDUmWx7FVj29m7G9xERfyZjEL2HxsDYzL
 bgR6EMOP9kaZ2ausy0mV6cEonvuvBNooptx8zccNzBOB8v7xYuLUlVoy/BAVV9P/IHjk
 xOhQ==
X-Gm-Message-State: APjAAAW8UEL+6bf0Ptcs/Z3GUygybNiIpgvsgvIN5WlQtHgxQ+IOXqU4
 RDXZrVmnwg+14kaPjtor2EP+Rp9M
X-Google-Smtp-Source: APXvYqyGy3ltLfpjLO8JMxotcZY3Enra1rFIbdyr5RbqGKNhOvArwmzemJMzE7Jd6+++7zDZltOeOg==
X-Received: by 2002:a7b:c144:: with SMTP id z4mr9027915wmi.50.1560953038845;
 Wed, 19 Jun 2019 07:03:58 -0700 (PDT)
Received: from ?IPv6:2a02:908:1252:fb60:be8a:bd56:1f94:86e7?
 ([2a02:908:1252:fb60:be8a:bd56:1f94:86e7])
 by smtp.gmail.com with ESMTPSA id b8sm15163223wrr.88.2019.06.19.07.03.57
 (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
 Wed, 19 Jun 2019 07:03:58 -0700 (PDT)
Subject: Re: [PATCH] drm/amdkfd: Add procfs-style information for KFD processes
To: "Russell, Kent" <Kent.Russell@amd.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
References: <20190619140133.2060-1-kent.russell@amd.com>
From: =?UTF-8?Q?Christian_K=c3=b6nig?= <ckoenig.leichtzumerken@gmail.com>
Message-ID: <8c26a707-4069-3bf5-d0aa-962a20245ec0@gmail.com>
Date: Wed, 19 Jun 2019 16:03:57 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.7.0
MIME-Version: 1.0
In-Reply-To: <20190619140133.2060-1-kent.russell@amd.com>
Content-Language: en-US
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=reply-to:subject:to:references:from:message-id:date:user-agent
 :mime-version:in-reply-to:content-transfer-encoding:content-language;
 bh=M68Mdo0N6437Hj3OAivJAfDNKuzbAUbmn6AmxHiKjPU=;
 b=aMRRwnd5FgPvmeZ4sWAbdTbRUWczNwqG4ly0GnmDljHyyFj6QgEjA/H32XGSRXNnQa
 +FRM2nQdbGo8X36Mnw22ceg+ElnWH+P7Ix+OOdL/chQXeXCiqwR6I2+rOUAAXS1r72uI
 bGYLo0CKdh6OKN3A9TQc3lBi+lrIzW/wFMrPQ64Vqp3A9hoP6hucfI+vr3iQA8oEHDuz
 A3Y9Vt6LVJl4kFjUjSYifGmrLoVoB8ozikJQvMfK966WniNnqokoBrrzaPKF0Fofatcj
 ONF54eGiHNCrhstSZuZbKNK20r4tOQV6Qb/Veb3mNDt17O52bAlNN6+0LchrsCy7GoYR
 Lg6Q==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Reply-To: christian.koenig@amd.com
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

QW0gMTkuMDYuMTkgdW0gMTY6MDEgc2NocmllYiBSdXNzZWxsLCBLZW50Ogo+IEFkZCBhIGZvbGRl
ciBzdHJ1Y3R1cmUgdG8gL3N5cy9jbGFzcy9rZmQva2ZkLyBjYWxsZWQgcHJvYyB3aGljaCBjb250
YWlucwo+IHN1YmZvbGRlcnMsIGVhY2ggcmVwcmVzZW50aW5nIGFuIGFjdGl2ZSBLRkQgcHJvY2Vz
cycgUElELCBjb250YWluaW5nIDEKPiBmaWxlOiBwYXNpZC4KCldoYXQgaXMgdGhlIHVzZSBjYXNl
IG9mIHRoYXQgaW5mb3JtYXRpb24/IEluIG90aGVyIHdvcmRzIHdvdWxkIGl0IGJlIAptYXliZSBi
ZXR0ZXIgdG8gY3JlYXRlIGRlYnVnZnMgZW50cmllcyBpbnN0ZWFkPwoKQ2hyaXN0aWFuLgoKPgo+
IENoYW5nZS1JZDogSWQzZGZhYjhhNjI1MDI2NDQzNGIzNGNjZGRiY2RiNDU5ZDFkYTc0NzgKPiBT
aWduZWQtb2ZmLWJ5OiBLZW50IFJ1c3NlbGwgPGtlbnQucnVzc2VsbEBhbWQuY29tPgo+IC0tLQo+
ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX21vZHVsZS5jICB8ICAgNiArKwo+ICAg
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX3ByaXYuaCAgICB8ICAgOSArKwo+ICAgZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRrZmQva2ZkX3Byb2Nlc3MuYyB8IDEwMCArKysrKysrKysrKysr
KysrKysrKysrLQo+ICAgMyBmaWxlcyBjaGFuZ2VkLCAxMTMgaW5zZXJ0aW9ucygrKSwgMiBkZWxl
dGlvbnMoLSkKPgo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRf
bW9kdWxlLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfbW9kdWxlLmMKPiBpbmRl
eCA5MzIwMDdlYjkxNjguLjk4NmZmNTJkNTc1MCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGtmZC9rZmRfbW9kdWxlLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGtmZC9rZmRfbW9kdWxlLmMKPiBAQCAtNTYsNiArNTYsMTEgQEAgc3RhdGljIGludCBrZmRfaW5p
dCh2b2lkKQo+ICAgCWlmIChlcnIgPCAwKQo+ICAgCQlnb3RvIGVycl9jcmVhdGVfd3E7Cj4gICAK
PiArCS8qIElnbm9yZSB0aGUgcmV0dXJuIHZhbHVlLCBzbyB0aGF0IHdlIGNhbiBjb250aW51ZQo+
ICsJICogdG8gaW5pdCB0aGUgS0ZELCBldmVuIGlmIHByb2NmcyBpc24ndCBjcmFhdGVkCj4gKwkg
Ki8KPiArCWtmZF9wcm9jZnNfaW5pdCgpOwo+ICsKPiAgIAlrZmRfZGVidWdmc19pbml0KCk7Cj4g
ICAKPiAgIAlyZXR1cm4gMDsKPiBAQCAtNzIsNiArNzcsNyBAQCBzdGF0aWMgdm9pZCBrZmRfZXhp
dCh2b2lkKQo+ICAgewo+ICAgCWtmZF9kZWJ1Z2ZzX2ZpbmkoKTsKPiAgIAlrZmRfcHJvY2Vzc19k
ZXN0cm95X3dxKCk7Cj4gKwlrZmRfcHJvY2ZzX3NodXRkb3duKCk7Cj4gICAJa2ZkX3RvcG9sb2d5
X3NodXRkb3duKCk7Cj4gICAJa2ZkX2NoYXJkZXZfZXhpdCgpOwo+ICAgfQo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfcHJpdi5oIGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRrZmQva2ZkX3ByaXYuaAo+IGluZGV4IGRhNTg5ZWUxMzY2Yy4uYmQwMTM5NmM4Y2Vh
IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tmZF9wcml2LmgKPiAr
KysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfcHJpdi5oCj4gQEAgLTM1LDYgKzM1
LDcgQEAKPiAgICNpbmNsdWRlIDxsaW51eC9rZmlmby5oPgo+ICAgI2luY2x1ZGUgPGxpbnV4L3Nl
cV9maWxlLmg+Cj4gICAjaW5jbHVkZSA8bGludXgva3JlZi5oPgo+ICsjaW5jbHVkZSA8bGludXgv
c3lzZnMuaD4KPiAgICNpbmNsdWRlIDxrZ2Rfa2ZkX2ludGVyZmFjZS5oPgo+ICAgCj4gICAjaW5j
bHVkZSAiYW1kX3NoYXJlZC5oIgo+IEBAIC03MTgsNiArNzE5LDEwIEBAIHN0cnVjdCBrZmRfcHJv
Y2VzcyB7Cj4gICAJICogcmVzdG9yZWQgYWZ0ZXIgYW4gZXZpY3Rpb24KPiAgIAkgKi8KPiAgIAl1
bnNpZ25lZCBsb25nIGxhc3RfcmVzdG9yZV90aW1lc3RhbXA7Cj4gKwo+ICsJLyogS29iaiBmb3Ig
b3VyIHByb2NmcyAqLwo+ICsJc3RydWN0IGtvYmplY3QgKmtvYmo7Cj4gKwlzdHJ1Y3QgYXR0cmli
dXRlIGF0dHJfcGFzaWQ7Cj4gICB9Owo+ICAgCj4gICAjZGVmaW5lIEtGRF9QUk9DRVNTX1RBQkxF
X1NJWkUgNSAvKiBiaXRzOiAzMiBlbnRyaWVzICovCj4gQEAgLTgyMCw2ICs4MjUsMTAgQEAgaW50
IGtmZF9ndHRfc2FfZnJlZShzdHJ1Y3Qga2ZkX2RldiAqa2ZkLCBzdHJ1Y3Qga2ZkX21lbV9vYmog
Km1lbV9vYmopOwo+ICAgCj4gICBleHRlcm4gc3RydWN0IGRldmljZSAqa2ZkX2RldmljZTsKPiAg
IAo+ICsvKiBLRkQncyBwcm9jZnMgKi8KPiArdm9pZCBrZmRfcHJvY2ZzX2luaXQodm9pZCk7Cj4g
K3ZvaWQga2ZkX3Byb2Nmc19zaHV0ZG93bih2b2lkKTsKPiArCj4gICAvKiBUb3BvbG9neSAqLwo+
ICAgaW50IGtmZF90b3BvbG9neV9pbml0KHZvaWQpOwo+ICAgdm9pZCBrZmRfdG9wb2xvZ3lfc2h1
dGRvd24odm9pZCk7Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1ka2ZkL2tm
ZF9wcm9jZXNzLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGtmZC9rZmRfcHJvY2Vzcy5jCj4g
aW5kZXggNGJkYWU3OGJhYjhlLi5lZDJkODNmOTNmZDggMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRrZmQva2ZkX3Byb2Nlc3MuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1ka2ZkL2tmZF9wcm9jZXNzLmMKPiBAQCAtNjgsNiArNjgsNjggQEAgc3RhdGljIHN0cnVj
dCBrZmRfcHJvY2VzcyAqY3JlYXRlX3Byb2Nlc3MoY29uc3Qgc3RydWN0IHRhc2tfc3RydWN0ICp0
aHJlYWQsCj4gICBzdGF0aWMgdm9pZCBldmljdF9wcm9jZXNzX3dvcmtlcihzdHJ1Y3Qgd29ya19z
dHJ1Y3QgKndvcmspOwo+ICAgc3RhdGljIHZvaWQgcmVzdG9yZV9wcm9jZXNzX3dvcmtlcihzdHJ1
Y3Qgd29ya19zdHJ1Y3QgKndvcmspOwo+ICAgCj4gK3N0cnVjdCBrZmRfcHJvY2ZzX3RyZWUgewo+
ICsJc3RydWN0IGtvYmplY3QgKmtvYmo7Cj4gK307Cj4gKwo+ICtzdGF0aWMgc3RydWN0IGtmZF9w
cm9jZnNfdHJlZSBwcm9jZnM7Cj4gKwo+ICtzdGF0aWMgc3NpemVfdCBrZmRfcHJvY2ZzX3Nob3co
c3RydWN0IGtvYmplY3QgKmtvYmosIHN0cnVjdCBhdHRyaWJ1dGUgKmF0dHIsCj4gKwkJCSAgICAg
ICBjaGFyICpidWZmZXIpCj4gK3sKPiArCWludCB2YWwgPSAwOwo+ICsKPiArCWlmIChzdHJjbXAo
YXR0ci0+bmFtZSwgInBhc2lkIikgPT0gMCkgewo+ICsJCXN0cnVjdCBrZmRfcHJvY2VzcyAqcCA9
IGNvbnRhaW5lcl9vZihhdHRyLCBzdHJ1Y3Qga2ZkX3Byb2Nlc3MsCj4gKwkJCQkJCSAgICAgYXR0
cl9wYXNpZCk7Cj4gKwkJdmFsID0gcC0+cGFzaWQ7Cj4gKwl9IGVsc2Ugewo+ICsJCXByX2Vycigi
SW52YWxpZCBhdHRyaWJ1dGUiKTsKPiArCQlyZXR1cm4gLUVJTlZBTDsKPiArCX0KPiArCj4gKwly
ZXR1cm4gc25wcmludGYoYnVmZmVyLCBQQUdFX1NJWkUsICIlZFxuIiwgdmFsKTsKPiArfQo+ICsK
PiArc3RhdGljIHZvaWQga2ZkX3Byb2Nmc19rb2JqX3JlbGVhc2Uoc3RydWN0IGtvYmplY3QgKmtv
YmopCj4gK3sKPiArCWtmcmVlKGtvYmopOwo+ICt9Cj4gKwo+ICtzdGF0aWMgY29uc3Qgc3RydWN0
IHN5c2ZzX29wcyBrZmRfcHJvY2ZzX29wcyA9IHsKPiArCS5zaG93ID0ga2ZkX3Byb2Nmc19zaG93
LAo+ICt9Owo+ICsKPiArc3RhdGljIHN0cnVjdCBrb2JqX3R5cGUgcHJvY2ZzX3R5cGUgPSB7Cj4g
KwkucmVsZWFzZSA9IGtmZF9wcm9jZnNfa29ial9yZWxlYXNlLAo+ICsJLnN5c2ZzX29wcyA9ICZr
ZmRfcHJvY2ZzX29wcywKPiArfTsKPiArCj4gK3ZvaWQga2ZkX3Byb2Nmc19pbml0KHZvaWQpCj4g
K3sKPiArCWludCByZXQgPSAwOwo+ICsKPiArCXByb2Nmcy5rb2JqID0ga2ZkX2FsbG9jX3N0cnVj
dChwcm9jZnMua29iaik7Cj4gKwlpZiAoIXByb2Nmcy5rb2JqKQo+ICsJCXJldHVybjsKPiArCj4g
KwlyZXQgPSBrb2JqZWN0X2luaXRfYW5kX2FkZChwcm9jZnMua29iaiwgJnByb2Nmc190eXBlLAo+
ICsJCQkJICAgJmtmZF9kZXZpY2UtPmtvYmosICJwcm9jIik7Cj4gKwlpZiAocmV0KSB7Cj4gKwkJ
cHJfd2FybigiQ291bGQgbm90IGNyZWF0ZSBwcm9jZnMgcHJvYyBmb2xkZXIiKTsKPiArCQkvKiBJ
ZiB3ZSBmYWlsIHRvIGNyZWF0ZSB0aGUgcHJvY2ZzLCBjbGVhbiB1cCAqLwo+ICsJCWtmZF9wcm9j
ZnNfc2h1dGRvd24oKTsKPiArCX0KPiArfQo+ICsKPiArdm9pZCBrZmRfcHJvY2ZzX3NodXRkb3du
KHZvaWQpCj4gK3sKPiArCWlmIChwcm9jZnMua29iaikgewo+ICsJCWtvYmplY3RfZGVsKHByb2Nm
cy5rb2JqKTsKPiArCQlrb2JqZWN0X3B1dChwcm9jZnMua29iaik7Cj4gKwkJcHJvY2ZzLmtvYmog
PSBOVUxMOwo+ICsJfQo+ICt9Cj4gICAKPiAgIGludCBrZmRfcHJvY2Vzc19jcmVhdGVfd3Eodm9p
ZCkKPiAgIHsKPiBAQCAtMjA2LDYgKzI2OCw3IEBAIHN0cnVjdCBrZmRfcHJvY2VzcyAqa2ZkX2Ny
ZWF0ZV9wcm9jZXNzKHN0cnVjdCBmaWxlICpmaWxlcCkKPiAgIHsKPiAgIAlzdHJ1Y3Qga2ZkX3By
b2Nlc3MgKnByb2Nlc3M7Cj4gICAJc3RydWN0IHRhc2tfc3RydWN0ICp0aHJlYWQgPSBjdXJyZW50
Owo+ICsJaW50IHJldDsKPiAgIAo+ICAgCWlmICghdGhyZWFkLT5tbSkKPiAgIAkJcmV0dXJuIEVS
Ul9QVFIoLUVJTlZBTCk7Cj4gQEAgLTIyMywxMSArMjg2LDM2IEBAIHN0cnVjdCBrZmRfcHJvY2Vz
cyAqa2ZkX2NyZWF0ZV9wcm9jZXNzKHN0cnVjdCBmaWxlICpmaWxlcCkKPiAgIAo+ICAgCS8qIEEg
cHJpb3Igb3BlbiBvZiAvZGV2L2tmZCBjb3VsZCBoYXZlIGFscmVhZHkgY3JlYXRlZCB0aGUgcHJv
Y2Vzcy4gKi8KPiAgIAlwcm9jZXNzID0gZmluZF9wcm9jZXNzKHRocmVhZCk7Cj4gLQlpZiAocHJv
Y2VzcykKPiArCWlmIChwcm9jZXNzKSB7Cj4gICAJCXByX2RlYnVnKCJQcm9jZXNzIGFscmVhZHkg
Zm91bmRcbiIpOwo+IC0JZWxzZQo+ICsJfSBlbHNlIHsKPiAgIAkJcHJvY2VzcyA9IGNyZWF0ZV9w
cm9jZXNzKHRocmVhZCwgZmlsZXApOwo+ICAgCj4gKwkJaWYgKCFwcm9jZnMua29iaikKPiArCQkJ
Z290byBvdXQ7Cj4gKwo+ICsJCXByb2Nlc3MtPmtvYmogPSBrZmRfYWxsb2Nfc3RydWN0KHByb2Nl
c3MtPmtvYmopOwo+ICsJCWlmICghcHJvY2Vzcy0+a29iaikgewo+ICsJCQlwcl93YXJuKCJDcmVh
dGluZyBwcm9jZnMga29iamVjdCBmYWlsZWQiKTsKPiArCQkJZ290byBvdXQ7Cj4gKwkJfQo+ICsJ
CXJldCA9IGtvYmplY3RfaW5pdF9hbmRfYWRkKHByb2Nlc3MtPmtvYmosICZwcm9jZnNfdHlwZSwK
PiArCQkJCQkgICBwcm9jZnMua29iaiwgIiVkIiwKPiArCQkJCQkgICAoaW50KXByb2Nlc3MtPmxl
YWRfdGhyZWFkLT5waWQpOwo+ICsJCWlmIChyZXQpIHsKPiArCQkJcHJfd2FybigiQ3JlYXRpbmcg
cHJvY2ZzIHBpZCBkaXJlY3RvcnkgZmFpbGVkIik7Cj4gKwkJCWdvdG8gb3V0Owo+ICsJCX0KPiAr
Cj4gKwkJcHJvY2Vzcy0+YXR0cl9wYXNpZC5uYW1lID0gInBhc2lkIjsKPiArCQlwcm9jZXNzLT5h
dHRyX3Bhc2lkLm1vZGUgPSBLRkRfU1lTRlNfRklMRV9NT0RFOwo+ICsJCXN5c2ZzX2F0dHJfaW5p
dCgmcHJvY2Vzcy0+YXR0cl9wYXNpZCk7Cj4gKwkJcmV0ID0gc3lzZnNfY3JlYXRlX2ZpbGUocHJv
Y2Vzcy0+a29iaiwgJnByb2Nlc3MtPmF0dHJfcGFzaWQpOwo+ICsJCWlmIChyZXQpCj4gKwkJCXBy
X3dhcm4oIkNyZWF0aW5nIHBhc2lkIGZvciBwaWQgJWQgZmFpbGVkIiwKPiArCQkJCQkoaW50KXBy
b2Nlc3MtPmxlYWRfdGhyZWFkLT5waWQpOwo+ICsJfQo+ICtvdXQ6Cj4gICAJbXV0ZXhfdW5sb2Nr
KCZrZmRfcHJvY2Vzc2VzX211dGV4KTsKPiAgIAo+ICAgCXJldHVybiBwcm9jZXNzOwo+IEBAIC0z
NTUsNiArNDQzLDE0IEBAIHN0YXRpYyB2b2lkIGtmZF9wcm9jZXNzX3dxX3JlbGVhc2Uoc3RydWN0
IHdvcmtfc3RydWN0ICp3b3JrKQo+ICAgCXN0cnVjdCBrZmRfcHJvY2VzcyAqcCA9IGNvbnRhaW5l
cl9vZih3b3JrLCBzdHJ1Y3Qga2ZkX3Byb2Nlc3MsCj4gICAJCQkJCSAgICAgcmVsZWFzZV93b3Jr
KTsKPiAgIAo+ICsJLyogUmVtb3ZlIHRoZSBwcm9jZnMgZmlsZXMgKi8KPiArCWlmIChwLT5rb2Jq
KSB7Cj4gKwkJc3lzZnNfcmVtb3ZlX2ZpbGUocC0+a29iaiwgJnAtPmF0dHJfcGFzaWQpOwo+ICsJ
CWtvYmplY3RfZGVsKHAtPmtvYmopOwo+ICsJCWtvYmplY3RfcHV0KHAtPmtvYmopOwo+ICsJCXAt
PmtvYmogPSBOVUxMOwo+ICsJfQo+ICsKPiAgIAlrZmRfaW9tbXVfdW5iaW5kX3Byb2Nlc3MocCk7
Cj4gICAKPiAgIAlrZmRfcHJvY2Vzc19mcmVlX291dHN0YW5kaW5nX2tmZF9ib3MocCk7CgpfX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwphbWQtZ2Z4IG1haWxp
bmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVk
ZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZng=
