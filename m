Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id C0735A143D
	for <lists+amd-gfx@lfdr.de>; Thu, 29 Aug 2019 11:00:00 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3F9EB89268;
	Thu, 29 Aug 2019 08:59:59 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM01-BN3-obe.outbound.protection.outlook.com
 (mail-eopbgr740045.outbound.protection.outlook.com [40.107.74.45])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7E1E989268
 for <amd-gfx@lists.freedesktop.org>; Thu, 29 Aug 2019 08:59:57 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=UzzN/lTEkVaWLp6eYWg2YVY452S1+XyLOioFYfH/V3L6sUFhp8ZYfrT5NfA9jM+BcUm68k2Eqh4lHd3Dx52Gi0jb0gijO1VJSuRL/6T7ZYrZVjgA3/fCumwMQA6Nk/3croNRFEbd9fwPeEFP4g6yeZ6gOSqGjRX57thfMcceMhfjDVsJ1ZcFf2A4E37p8Vd3zxzgXRgD+R1SAC48EyEghe+F42wXkk34TF3ML0pddPt6tbI4QRKpenGbFvEZHtbwY/liJOcxLWrUDPJQNwU7aaO1EUVXyXiAdBBlX/Bf33s4je3yefj2nnoQRi54MGRT5JCWKM3UfOsCaQd1cBT8vg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=TRPF9FZiH274ZU0ZMn6qq0NnsEWjH21cWyFvtbd17hE=;
 b=erZEVJmEn10ZA+0OQo2DBJQ5M0OAf27Kg3NPkfnxTGGCtIq1kRxw3IxROs9xudbZVc+jlDn1jNjE/Lur6vRUF4YFEEV2uqtwhf7A7FOWm1YllXq3IcYBksnKp5CWHa1omHD8Jm9ASyyKFiIJj8GT9hhneizfXMmvxhWlGXCzMs/Unmh36a2Yd/n6RFptY5clHsbpvD16fxxcWS17V6rE+zxDtnokEdx3X7btkWibmaJIOyd2po+jSP4XDH1b+pbZgfdsmNHEt7pCYLarSmzDW2utCvfTTrjx0W2YtQLGvaxok3UwjeWWXRgypYaeqGiMcF8kqRf3ZiCIjLlqpe7zNA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=none (sender ip is
 165.204.84.17) smtp.rcpttodomain=lists.freedesktop.org smtp.mailfrom=amd.com; 
 dmarc=permerror action=none header.from=amd.com; dkim=none (message not
 signed); arc=none
Received: from MWHPR12CA0029.namprd12.prod.outlook.com (2603:10b6:301:2::15)
 by CY4PR12MB1272.namprd12.prod.outlook.com (2603:10b6:903:3e::21) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2178.16; Thu, 29 Aug
 2019 08:59:54 +0000
Received: from CO1NAM03FT011.eop-NAM03.prod.protection.outlook.com
 (2a01:111:f400:7e48::202) by MWHPR12CA0029.outlook.office365.com
 (2603:10b6:301:2::15) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2220.18 via Frontend
 Transport; Thu, 29 Aug 2019 08:59:54 +0000
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
Received: from SATLEXCHOV01.amd.com (165.204.84.17) by
 CO1NAM03FT011.mail.protection.outlook.com (10.152.80.87) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384) id
 15.20.2220.16 via Frontend Transport; Thu, 29 Aug 2019 08:59:53 +0000
Received: from guchchen-System-Product-Name.amd.com (10.34.1.3) by
 SATLEXCHOV01.amd.com (10.181.40.71) with Microsoft SMTP Server (TLS) id
 14.3.389.1; Thu, 29 Aug 2019 03:59:50 -0500
From: Guchun Chen <guchun.chen@amd.com>
To: <amd-gfx@lists.freedesktop.org>, <Hawking.Zhang@amd.com>,
 <Dennis.Li@amd.com>, <christian.koenig@amd.com>, <alexander.deucher@amd.com>, 
 <Tao.Zhou1@amd.com>
Subject: [PATCH libdrm 1/4] amdgpu: remove json package dependence
Date: Thu, 29 Aug 2019 16:59:14 +0800
Message-ID: <20190829085917.20439-2-guchun.chen@amd.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20190829085917.20439-1-guchun.chen@amd.com>
References: <20190829085917.20439-1-guchun.chen@amd.com>
MIME-Version: 1.0
X-EOPAttributedMessage: 0
X-MS-Office365-Filtering-HT: Tenant
X-Forefront-Antispam-Report: CIP:165.204.84.17; IPV:NLI; CTRY:US; EFV:NLI;
 SFV:NSPM;
 SFS:(10009020)(4636009)(376002)(136003)(396003)(346002)(39860400002)(2980300002)(428003)(199004)(189003)(2906002)(36756003)(8676002)(2616005)(476003)(76176011)(50466002)(23676004)(2201001)(53936002)(316002)(54906003)(110136005)(81156014)(66574012)(8936002)(14444005)(7696005)(1076003)(4326008)(50226002)(6666004)(2870700001)(26005)(356004)(81166006)(5660300002)(70206006)(53416004)(186003)(70586007)(336012)(5820100001)(478600001)(6636002)(126002)(47776003)(446003)(426003)(44832011)(86362001)(486006)(305945005)(11346002);
 DIR:OUT; SFP:1101; SCL:1; SRVR:CY4PR12MB1272; H:SATLEXCHOV01.amd.com; FPR:;
 SPF:None; LANG:en; PTR:InfoDomainNonexistent; A:1; MX:1; 
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-Correlation-Id: e0d3af35-8571-4e8b-c8b1-08d72c5f4213
X-Microsoft-Antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600166)(711020)(4605104)(1401327)(4618075)(2017052603328);
 SRVR:CY4PR12MB1272; 
X-MS-TrafficTypeDiagnostic: CY4PR12MB1272:
X-Microsoft-Antispam-PRVS: <CY4PR12MB1272D0D739CDEE097A80F981F1A20@CY4PR12MB1272.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:1728;
X-Forefront-PRVS: 0144B30E41
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam-Message-Info: RjnbCQDOfCwhKhgOpmWtPqNygERe1BndGDR6qL9vN/a5xImMtDbUi+jJWxdoU3a+d3qpMf+38oXjlFWJ7XAQrkPH+apy4VjW+wJemluBKEi9Idk1qVyomXXO97J6zfXK/AiOFHEEyhLxuFeKgqyUIzyI9RcB02P9UBT/EyAP0188AxfENoBr78WOIdSnHncXRFnyYqS1HVpy+NQ2LcE5SOo7IgIbmV3Zi9xvBYCsTzWHdy3htS2JwDwkpGAJOage7ITy/vfk7W/SibYDogjMLjnHJVCOHPBjZhrdLO3c+U1nCrbxuKFwcPE7yriJUflnSdnMsRwB+g+znETHqn016pS10p0NfDl8/D1f4r/ZoVK1ObZbfZgVoB9pRZbG06ULeYABQ6iOTtotuU7C8SLkCwoSoUIaMcAo+BITbaRn5Q0=
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 29 Aug 2019 08:59:53.5720 (UTC)
X-MS-Exchange-CrossTenant-Network-Message-Id: e0d3af35-8571-4e8b-c8b1-08d72c5f4213
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-OriginalAttributedTenantConnectingIp: TenantId=3dd8961f-e488-4e60-8e11-a82d994e183d; Ip=[165.204.84.17];
 Helo=[SATLEXCHOV01.amd.com]
X-MS-Exchange-CrossTenant-FromEntityHeader: HybridOnPrem
X-MS-Exchange-Transport-CrossTenantHeadersStamped: CY4PR12MB1272
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=TRPF9FZiH274ZU0ZMn6qq0NnsEWjH21cWyFvtbd17hE=;
 b=mB6iK9WH9J71bEmu/qCkNLB/HgyPl2SP4EV8dtUtEdyb7vOv3ivYmaqbsDaco7Zkn9qiXAt/8eznZr+xccViIlEenvMYfrhacuh4N7jhpTDer4dfuwleiAnSaXxTYc2Kh9hBkxl7a7c336KyGViCXjeS6zbQ7q/ssDd2Hmb6vH0=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is
 165.204.84.17)
 smtp.mailfrom=amd.com; lists.freedesktop.org; dkim=none (message not signed)
 header.d=none;lists.freedesktop.org; dmarc=permerror action=none
 header.from=amd.com;
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Candice.Li@amd.com, Guchun Chen <guchun.chen@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RXhjZXB0IENVbml0IGxpYnJhcnksIG5vIGFkZGl0aW9uYWwgZXh0ZXJuYWwKbGlicmFyeSBzaG91
bGQgYmUgbmVlZGVkIHdoZW4gY29tcGlsaW5nIGFtZGdwdV90ZXN0LgpUaGlzIHdpbGwga2VlcCB0
aGlzIGJpbmFyeSBzZWxmIGNvbnRhaW5pbmcuCgpDaGFuZ2UtSWQ6IElkMTkzNWVmNDQzMWEwNjc0
YzY5MzkxYTY3ODEzMzcwYTNlOTM0OGU2ClN1Z2dlc3RlZC1ieTogQ2hyaXN0aWFuIEvDtm5pZyA8
Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPgpTaWduZWQtb2ZmLWJ5OiBHdWNodW4gQ2hlbiA8Z3Vj
aHVuLmNoZW5AYW1kLmNvbT4KLS0tCiBjb25maWd1cmUuYWMgICAgICAgICAgICAgfCAgMTggLS0t
LS0KIG1lc29uLmJ1aWxkICAgICAgICAgICAgICB8ICAgMSAtCiB0ZXN0cy9hbWRncHUvTWFrZWZp
bGUuYW0gfCAgIDUgKy0KIHRlc3RzL2FtZGdwdS9tZXNvbi5idWlsZCB8ICAxNiArLS0tCiB0ZXN0
cy9hbWRncHUvcmFzX3Rlc3RzLmMgfCAxNjUgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tCiA1IGZpbGVzIGNoYW5nZWQsIDkgaW5zZXJ0aW9ucygrKSwgMTk2IGRlbGV0aW9u
cygtKQoKZGlmZiAtLWdpdCBhL2NvbmZpZ3VyZS5hYyBiL2NvbmZpZ3VyZS5hYwppbmRleCA5ODNi
NDM3MS4uMWNmOTEzNDcgMTAwNjQ0Ci0tLSBhL2NvbmZpZ3VyZS5hYworKysgYi9jb25maWd1cmUu
YWMKQEAgLTQzMCwyNCArNDMwLDEwIEBAIGlmIHRlc3QgIngkQU1ER1BVIiAhPSB4bm87IHRoZW4K
IAkJCUFDX1NVQlNUKFtDVU5JVF9DRkxBR1NdKQogCQlmaQogCWZpCi0KLQkjIERldGVjdCBqc29u
LWMgbGlicmFyeQotCVBLR19DSEVDS19NT0RVTEVTKFtKU09OQ10sIFtqc29uLWMgPj0gMC4xMC4x
XSwgW2hhdmVfanNvbmM9eWVzXSwgW2hhdmVfanNvbmM9bm9dKQotCWlmIHRlc3QgIngke2hhdmVf
anNvbmN9IiA9ICJ4bm8iOyB0aGVuCi0JCUFDX0NIRUNLX0xJQihbanNvbi1jXSwgW2pzb25fb2Jq
ZWN0X29iamVjdF9nZXRdLCBbaGF2ZV9qc29uYz15ZXNdLCBbaGF2ZV9qc29uYz1ub10pCi0JCWlm
IHRlc3QgIngke2hhdmVfanNvbmN9IiA9ICJ4eWVzIjsgdGhlbgotCQkJSlNPTkNfTElCUz0iLWxq
c29uLWMiCi0JCQlKU09OQ19DRkxBR1M9IiIKLQkJCUFDX1NVQlNUKFtKU09OQ19MSUJTXSkKLQkJ
CUFDX1NVQlNUKFtKU09OQ19DRkxBR1NdKQotCQlmaQotCWZpCiBlbHNlCiAJaGF2ZV9jdW5pdD1u
bwotCWhhdmVfanNvbmM9bm8KIGZpCiBBTV9DT05ESVRJT05BTChIQVZFX0NVTklULCBbdGVzdCAi
eCRoYXZlX2N1bml0IiAhPSAieG5vIl0pCi1BTV9DT05ESVRJT05BTChIQVZFX0pTT05DLCBbdGVz
dCAieCRoYXZlX2pzb25jIiAhPSAieG5vIl0pCiAKIEFNX0NPTkRJVElPTkFMKEhBVkVfQU1ER1BV
LCBbdGVzdCAieCRBTURHUFUiID0geHllc10pCiBpZiB0ZXN0ICJ4JEFNREdQVSIgPSB4eWVzOyB0
aGVuCkBAIC00NTYsMTAgKzQ0Miw2IEBAIGlmIHRlc3QgIngkQU1ER1BVIiA9IHh5ZXM7IHRoZW4K
IAlpZiB0ZXN0ICJ4JGhhdmVfY3VuaXQiID0gInhubyI7IHRoZW4KIAkJQUNfTVNHX1dBUk4oW0Nv
dWxkIG5vdCBmaW5kIGN1bml0IGxpYnJhcnkuIERpc2FibGluZyBhbWRncHUgdGVzdHNdKQogCWZp
Ci0KLQlpZiB0ZXN0ICJ4JGhhdmVfanNvbmMiID0gInhubyI7IHRoZW4KLQkJQUNfTVNHX1dBUk4o
W0NvdWxkIG5vdCBmaW5kIGpzb24tYyBsaWJyYXJ5LiBEaXNhYmxpbmcgYW1kZ3B1IHRlc3RzXSkK
LQlmaQogZWxzZQogCUFDX0RFRklORShIQVZFX0FNREdQVSwgMCkKIGZpCmRpZmYgLS1naXQgYS9t
ZXNvbi5idWlsZCBiL21lc29uLmJ1aWxkCmluZGV4IGJjNWNmYzU4Li5lMjkyNTU0YSAxMDA2NDQK
LS0tIGEvbWVzb24uYnVpbGQKKysrIGIvbWVzb24uYnVpbGQKQEAgLTIxNyw3ICsyMTcsNiBAQCBs
aWJkcm1fY19hcmdzID0gd2Fybl9jX2FyZ3MgKyBbJy1mdmlzaWJpbGl0eT1oaWRkZW4nXQogCiBk
ZXBfcGNpYWNjZXNzID0gZGVwZW5kZW5jeSgncGNpYWNjZXNzJywgdmVyc2lvbiA6ICc+PSAwLjEw
JywgcmVxdWlyZWQgOiB3aXRoX2ludGVsKQogZGVwX2N1bml0ID0gZGVwZW5kZW5jeSgnY3VuaXQn
LCB2ZXJzaW9uIDogJz49IDIuMScsIHJlcXVpcmVkIDogZmFsc2UpCi1kZXBfanNvbiA9IGRlcGVu
ZGVuY3koJ2pzb24tYycsIHZlcnNpb24gOiAnPj0gMC4xMC4xJywgcmVxdWlyZWQgOiBmYWxzZSkK
IF9jYWlyb190ZXN0cyA9IGdldF9vcHRpb24oJ2NhaXJvLXRlc3RzJykKIGlmIF9jYWlyb190ZXN0
cyAhPSAnZmFsc2UnCiAgIGRlcF9jYWlybyA9IGRlcGVuZGVuY3koJ2NhaXJvJywgcmVxdWlyZWQg
OiBfY2Fpcm9fdGVzdHMgPT0gJ3RydWUnKQpkaWZmIC0tZ2l0IGEvdGVzdHMvYW1kZ3B1L01ha2Vm
aWxlLmFtIGIvdGVzdHMvYW1kZ3B1L01ha2VmaWxlLmFtCmluZGV4IDMzOWJiMGE5Li45MjA4ODJk
MCAxMDA2NDQKLS0tIGEvdGVzdHMvYW1kZ3B1L01ha2VmaWxlLmFtCisrKyBiL3Rlc3RzL2FtZGdw
dS9NYWtlZmlsZS5hbQpAQCAtNyw4ICs3LDcgQEAgQU1fQ0ZMQUdTID0gXAogCiBMREFERCA9ICQo
dG9wX2J1aWxkZGlyKS9saWJkcm0ubGEgXAogCSQodG9wX2J1aWxkZGlyKS9hbWRncHUvbGliZHJt
X2FtZGdwdS5sYSBcCi0JJChDVU5JVF9MSUJTKSBcCi0JJChKU09OQ19MSUJTKQorCSQoQ1VOSVRf
TElCUykKIAogaWYgSEFWRV9JTlNUQUxMX1RFU1RTCiBiaW5fUFJPR1JBTVMgPSBcCkBAIC0xOCw3
ICsxNyw3IEBAIG5vaW5zdF9QUk9HUkFNUyA9IFwKIAlhbWRncHVfdGVzdAogZW5kaWYKIAotYW1k
Z3B1X3Rlc3RfQ1BQRkxBR1MgPSAkKENVTklUX0NGTEFHUykgJChKU09OQ19DRkxBR1MpCithbWRn
cHVfdGVzdF9DUFBGTEFHUyA9ICQoQ1VOSVRfQ0ZMQUdTKQogCiBhbWRncHVfdGVzdF9TT1VSQ0VT
ID0gXAogCWFtZGdwdV90ZXN0LmMgXApkaWZmIC0tZ2l0IGEvdGVzdHMvYW1kZ3B1L21lc29uLmJ1
aWxkIGIvdGVzdHMvYW1kZ3B1L21lc29uLmJ1aWxkCmluZGV4IDQzMDcyOTVlLi4xNzI2Y2I0MyAx
MDA2NDQKLS0tIGEvdGVzdHMvYW1kZ3B1L21lc29uLmJ1aWxkCisrKyBiL3Rlc3RzL2FtZGdwdS9t
ZXNvbi5idWlsZApAQCAtMTgsNyArMTgsNyBAQAogIyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBX
SVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRQogIyBT
T0ZUV0FSRS4KIAotaWYgZGVwX2N1bml0LmZvdW5kKCkgYW5kIGRlcF9qc29uLmZvdW5kKCkKK2lm
IGRlcF9jdW5pdC5mb3VuZCgpCiAgIGFtZGdwdV90ZXN0ID0gZXhlY3V0YWJsZSgKICAgICAnYW1k
Z3B1X3Rlc3QnLAogICAgIGZpbGVzKApAQCAtMjYsMTkgKzI2LDkgQEAgaWYgZGVwX2N1bml0LmZv
dW5kKCkgYW5kIGRlcF9qc29uLmZvdW5kKCkKICAgICAgICd2Y2VfdGVzdHMuYycsICd1dmRfZW5j
X3Rlc3RzLmMnLCAndmNuX3Rlc3RzLmMnLCAnZGVhZGxvY2tfdGVzdHMuYycsCiAgICAgICAndm1f
dGVzdHMuYycsICdyYXNfdGVzdHMuYycsICdzeW5jb2JqX3Rlc3RzLmMnLAogICAgICksCi0gICAg
ZGVwZW5kZW5jaWVzIDogW2RlcF9jdW5pdCwgZGVwX2pzb24sIGRlcF90aHJlYWRzXSwKKyAgICBk
ZXBlbmRlbmNpZXMgOiBbZGVwX2N1bml0LCBkZXBfdGhyZWFkc10sCiAgICAgaW5jbHVkZV9kaXJl
Y3RvcmllcyA6IFtpbmNfcm9vdCwgaW5jX2RybSwgaW5jbHVkZV9kaXJlY3RvcmllcygnLi4vLi4v
YW1kZ3B1JyldLAogICAgIGxpbmtfd2l0aCA6IFtsaWJkcm0sIGxpYmRybV9hbWRncHVdLAogICAg
IGluc3RhbGwgOiB3aXRoX2luc3RhbGxfdGVzdHMsCiAgICkKLQotICBjb25maWd1cmVfZmlsZShp
bnB1dCA6ICcuLi8uLi9kYXRhL2FtZGdwdV9yYXMuanNvbicsCi0gICAgb3V0cHV0IDogJ2FtZGdw
dV9yYXMuanNvbicsCi0gICAgY29uZmlndXJhdGlvbiA6IGNvbmZpZ3VyYXRpb25fZGF0YSgpKQot
Ci0gIGluc3RhbGxfZGF0YSgKLSAgICAnLi4vLi4vZGF0YS9hbWRncHVfcmFzLmpzb24nLAotICAg
IGluc3RhbGxfbW9kZSA6ICdydy1yLS1yLS0nLAotICAgIGluc3RhbGxfZGlyIDogZGF0YWRpcl9h
bWRncHUsCi0gICkKLWVuZGlmClwgTm8gbmV3bGluZSBhdCBlbmQgb2YgZmlsZQorZW5kaWYKZGlm
ZiAtLWdpdCBhL3Rlc3RzL2FtZGdwdS9yYXNfdGVzdHMuYyBiL3Rlc3RzL2FtZGdwdS9yYXNfdGVz
dHMuYwppbmRleCA1MzA5YmY2NC4uODZiNDEzN2IgMTAwNjQ0Ci0tLSBhL3Rlc3RzL2FtZGdwdS9y
YXNfdGVzdHMuYworKysgYi90ZXN0cy9hbWRncHUvcmFzX3Rlc3RzLmMKQEAgLTMwLDcgKzMwLDcg
QEAKICNpbmNsdWRlIDxmY250bC5oPgogI2luY2x1ZGUgPHN0ZGlvLmg+CiAjaW5jbHVkZSAieGY4
NmRybS5oIgotI2luY2x1ZGUgImpzb24uaCIKKyNpbmNsdWRlICJzdGRsaWIuaCIKIAogY29uc3Qg
Y2hhciAqcmFzX2Jsb2NrX3N0cmluZ1tdID0gewogCSJ1bWMiLApAQCAtNzc1LDE2OSArNzc1LDEy
IEBAIHN0YXRpYyB2b2lkIGFtZGdwdV9yYXNfZW5hYmxlX3Rlc3Qodm9pZCkKIAl9CiB9CiAKLXN0
YXRpYyBpbnQgX2pzb25fZ2V0X2Jsb2NrX2lkKGpzb25fb2JqZWN0ICpibG9ja19vYmosIGNvbnN0
IGNoYXIgKm5hbWUpCi17Ci0JanNvbl9vYmplY3QgKml0ZW1fb2JqLCAqaW5kZXhfb2JqOwotCi0J
aWYgKCFqc29uX29iamVjdF9vYmplY3RfZ2V0X2V4KGJsb2NrX29iaiwgbmFtZSwgJml0ZW1fb2Jq
KSkKLQkJcmV0dXJuIC0xOwotCi0JaWYgKCFqc29uX29iamVjdF9vYmplY3RfZ2V0X2V4KGl0ZW1f
b2JqLCAiaW5kZXgiLCAmaW5kZXhfb2JqKSkKLQkJcmV0dXJuIC0xOwotCi0JcmV0dXJuIGpzb25f
b2JqZWN0X2dldF9pbnQoaW5kZXhfb2JqKTsKLX0KLQotc3RhdGljIGludCBfanNvbl9nZXRfc3Vi
YmxvY2tfaWQoanNvbl9vYmplY3QgKmJsb2NrX29iaiwgY29uc3QgY2hhciAqYmxvY2tfbmFtZSwK
LQkJCQkgY29uc3QgY2hhciAqc3ViYmxvY2tfbmFtZSkKLXsKLQlqc29uX29iamVjdCAqaXRlbV9v
YmosICpzdWJibG9ja19vYmosICpuYW1lX29iajsKLQotCWlmICghanNvbl9vYmplY3Rfb2JqZWN0
X2dldF9leChibG9ja19vYmosIGJsb2NrX25hbWUsICZpdGVtX29iaikpCi0JCXJldHVybiAtMTsK
LQotCWlmICghanNvbl9vYmplY3Rfb2JqZWN0X2dldF9leChpdGVtX29iaiwgInN1YmJsb2NrIiwg
JnN1YmJsb2NrX29iaikpCi0JCXJldHVybiAtMTsKLQotCWlmICghanNvbl9vYmplY3Rfb2JqZWN0
X2dldF9leChzdWJibG9ja19vYmosIHN1YmJsb2NrX25hbWUsICZuYW1lX29iaikpCi0JCXJldHVy
biAtMTsKLQotCXJldHVybiBqc29uX29iamVjdF9nZXRfaW50KG5hbWVfb2JqKTsKLX0KLQogc3Rh
dGljIGludCBhbWRncHVfcmFzX2dldF90ZXN0X2l0ZW1zKHN0cnVjdCByYXNfdGVzdF9pdGVtICoq
cGl0ZW1zLCBpbnQgKnNpemUpCiB7Ci0JanNvbl9vYmplY3QgKnJvb3Rfb2JqID0gTlVMTDsKLQlq
c29uX29iamVjdCAqYmxvY2tfb2JqID0gTlVMTDsKLQlqc29uX29iamVjdCAqdHlwZV9vYmogPSBO
VUxMOwotCWpzb25fb2JqZWN0ICp0ZXN0c19vYmogPSBOVUxMOwotCWpzb25fb2JqZWN0ICp0ZXN0
X29iaiA9IE5VTEw7Ci0JanNvbl9vYmplY3QgKnRtcF9vYmogPSBOVUxMOwotCWpzb25fb2JqZWN0
ICp0bXBfdHlwZV9vYmogPSBOVUxMOwotCWpzb25fb2JqZWN0ICpzdWJibG9ja19vYmogPSBOVUxM
OwotCWludCBpLCBsZW5ndGg7Ci0Jc3RydWN0IHJhc190ZXN0X2l0ZW0gKml0ZW1zID0gTlVMTDsK
LQlpbnQgcmV0ID0gLTE7Ci0KLQlyb290X29iaiA9IGpzb25fb2JqZWN0X2Zyb21fZmlsZSgiLi9h
bWRncHVfcmFzLmpzb24iKTsKLQlpZiAoIXJvb3Rfb2JqKQotCQlyb290X29iaiA9IGpzb25fb2Jq
ZWN0X2Zyb21fZmlsZSgKLQkJCSIvdXNyL3NoYXJlL2xpYmRybS9hbWRncHVfcmFzLmpzb24iKTsK
LQotCWlmICghcm9vdF9vYmopIHsKLQkJQ1VfRkFJTF9GQVRBTCgiQ291bGRuJ3QgZmluZCBhbWRn
cHVfcmFzLmpzb24iKTsKLQkJZ290byBwcm9fZW5kOwotCX0KLQotCS8qIENoZWNrIFZlcnNpb24g
Ki8KLQlpZiAoIWpzb25fb2JqZWN0X29iamVjdF9nZXRfZXgocm9vdF9vYmosICJ2ZXJzaW9uIiwg
JnRtcF9vYmopKSB7Ci0JCUNVX0ZBSUxfRkFUQUwoIldyb25nIGZvcm1hdCBvZiBhbWRncHVfcmFz
Lmpzb24iKTsKLQkJZ290byBwcm9fZW5kOwotCX0KKwkqcGl0ZW1zID0gTlVMTDsKKwkqc2l6ZSA9
IDA7CiAKLQkvKiBCbG9jayBEZWZpbml0aW9uICovCi0JaWYgKCFqc29uX29iamVjdF9vYmplY3Rf
Z2V0X2V4KHJvb3Rfb2JqLCAiYmxvY2siLCAmYmxvY2tfb2JqKSkgewotCQlmcHJpbnRmKHN0ZGVy
ciwgImJsb2NrIGlzbid0IGRlZmluZWRcbiIpOwotCQlnb3RvIHByb19lbmQ7Ci0JfQotCi0JLyog
VHlwZSBEZWZpbml0aW9uICovCi0JaWYgKCFqc29uX29iamVjdF9vYmplY3RfZ2V0X2V4KHJvb3Rf
b2JqLCAidHlwZSIsICZ0eXBlX29iaikpIHsKLQkJZnByaW50ZihzdGRlcnIsICJ0eXBlIGlzbid0
IGRlZmluZWRcbiIpOwotCQlnb3RvIHByb19lbmQ7Ci0JfQotCi0JLyogRW51bXVsYXRlIHRlc3Qg
aXRlbXMgKi8KLQlpZiAoIWpzb25fb2JqZWN0X29iamVjdF9nZXRfZXgocm9vdF9vYmosICJ0ZXN0
cyIsICZ0ZXN0c19vYmopKSB7Ci0JCWZwcmludGYoc3RkZXJyLCAidGVzdHMgYXJlIGVtcHR5XG4i
KTsKLQkJZ290byBwcm9fZW5kOwotCX0KLQotCWxlbmd0aCA9IGpzb25fb2JqZWN0X2FycmF5X2xl
bmd0aCh0ZXN0c19vYmopOwotCi0JaXRlbXMgPSBtYWxsb2Moc2l6ZW9mKHN0cnVjdCByYXNfdGVz
dF9pdGVtKSAqIGxlbmd0aCk7Ci0JaWYgKCFpdGVtcykgewotCQlmcHJpbnRmKHN0ZGVyciwgIm1h
bGxvYyBmYWlsZWRcbiIpOwotCQlnb3RvIHByb19lbmQ7Ci0JfQotCi0JZm9yIChpID0gMDsgaSA8
IGxlbmd0aDsgaSsrKSB7Ci0JCXRlc3Rfb2JqID0ganNvbl9vYmplY3RfYXJyYXlfZ2V0X2lkeCh0
ZXN0c19vYmosIGkpOwotCi0JCS8qIE5hbWUgKi8KLQkJaWYgKCFqc29uX29iamVjdF9vYmplY3Rf
Z2V0X2V4KHRlc3Rfb2JqLCAibmFtZSIsICZ0bXBfb2JqKSkgewotCQkJZnByaW50ZihzdGRlcnIs
ICJUZXN0ICVkIGhhcyBubyBuYW1lXG4iLCBpKTsKLQkJCWdvdG8gcHJvX2VuZDsKLQkJfQotCQlz
dHJuY3B5KGl0ZW1zW2ldLm5hbWUsIGpzb25fb2JqZWN0X2dldF9zdHJpbmcodG1wX29iaiksIDY0
KTsKLQotCQkvKiBibG9jayAqLwotCQlpZiAoIWpzb25fb2JqZWN0X29iamVjdF9nZXRfZXgodGVz
dF9vYmosICJibG9jayIsICZ0bXBfb2JqKSkgewotCQkJZnByaW50ZihzdGRlcnIsICJUZXN0OiVz
OiBibG9jayBpc24ndCBkZWZpbmVkXG4iLAotCQkJCWl0ZW1zW2ldLm5hbWUpOwotCQkJZ290byBw
cm9fZW5kOwotCQl9Ci0JCWl0ZW1zW2ldLmJsb2NrID0gX2pzb25fZ2V0X2Jsb2NrX2lkKAotCQkJ
YmxvY2tfb2JqLCBqc29uX29iamVjdF9nZXRfc3RyaW5nKHRtcF9vYmopKTsKLQotCQkvKiBjaGVj
ayBibG9jayBpZCAqLwotCQlpZiAoaXRlbXNbaV0uYmxvY2sgPCBBTURHUFVfUkFTX0JMT0NLX19V
TUMgfHwKLQkJICAgIGl0ZW1zW2ldLmJsb2NrID49IEFNREdQVV9SQVNfQkxPQ0tfX0xBU1QpIHsK
LQkJCWZwcmludGYoc3RkZXJyLCAiVGVzdDolczogYmxvY2sgaWQgJWQgaXMgaW52YWxpZFxuIiwK
LQkJCQlpdGVtc1tpXS5uYW1lLCBpdGVtc1tpXS5ibG9jayk7Ci0JCQlnb3RvIHByb19lbmQ7Ci0J
CX0KLQotCQkvKiBzdWJibG9jayAqLwotCQlpZiAoanNvbl9vYmplY3Rfb2JqZWN0X2dldF9leCh0
ZXN0X29iaiwgInN1YmJsb2NrIiwgJnRtcF9vYmopKSB7Ci0JCQlqc29uX29iamVjdF9vYmplY3Rf
Z2V0X2V4KHRlc3Rfb2JqLCAiYmxvY2siLAotCQkJCSZzdWJibG9ja19vYmopOwotCi0JCQlpdGVt
c1tpXS5zdWJfYmxvY2sgPSBfanNvbl9nZXRfc3ViYmxvY2tfaWQoCi0JCQkJYmxvY2tfb2JqLAot
CQkJCWpzb25fb2JqZWN0X2dldF9zdHJpbmcoc3ViYmxvY2tfb2JqKSwKLQkJCQlqc29uX29iamVj
dF9nZXRfc3RyaW5nKHRtcF9vYmopKTsKLQkJCWlmIChpdGVtc1tpXS5zdWJfYmxvY2sgPCAwKSB7
Ci0JCQkJZnByaW50ZihzdGRlcnIsICJUZXN0OiVzOiBzdWJibG9jayBpbiBibG9jayBpZCAlZCBp
cyBpbnZhbGlkXG4iLAotCQkJCQlpdGVtc1tpXS5uYW1lLCBpdGVtc1tpXS5ibG9jayk7Ci0JCQkJ
Z290byBwcm9fZW5kOwotCQkJfQotCQl9IGVsc2UKLQkJCWl0ZW1zW2ldLnN1Yl9ibG9jayA9IDA7
Ci0KLQkJLyogdHlwZSAqLwotCQlpZiAoanNvbl9vYmplY3Rfb2JqZWN0X2dldF9leCh0ZXN0X29i
aiwgInR5cGUiLCAmdG1wX29iaikpIHsKLQkJCXN0cm5jcHkoaXRlbXNbaV0uZXJyb3JfdHlwZV9z
dHIsCi0JCQkJanNvbl9vYmplY3RfZ2V0X3N0cmluZyh0bXBfb2JqKSwgNjQpOwotCi0JCQlpZiAo
anNvbl9vYmplY3Rfb2JqZWN0X2dldF9leCh0eXBlX29iaiwKLQkJCQlqc29uX29iamVjdF9nZXRf
c3RyaW5nKHRtcF9vYmopLCAmdG1wX3R5cGVfb2JqKSkKLQkJCQlpdGVtc1tpXS50eXBlID0ganNv
bl9vYmplY3RfZ2V0X2ludCh0bXBfdHlwZV9vYmopOwotCQkJZWxzZQotCQkJCWl0ZW1zW2ldLnR5
cGUgPSAoZW51bSBhbWRncHVfcmFzX2Vycm9yX3R5cGUpMDsKLQkJfQotCi0JCS8qIGFkZHJlc3Mg
Ki8KLQkJaWYgKGpzb25fb2JqZWN0X29iamVjdF9nZXRfZXgodGVzdF9vYmosICJhZGRyZXNzIiwg
JnRtcF9vYmopKQotCQkJaXRlbXNbaV0uYWRkcmVzcyA9IGpzb25fb2JqZWN0X2dldF9pbnQodG1w
X29iaik7Ci0JCWVsc2UKLQkJCWl0ZW1zW2ldLmFkZHJlc3MgPSAwOyAvKiBkZWZhdWx0IGFkZHJl
c3MgMCAqLwotCi0JCS8qIHZhbHVlICovCi0JCWlmIChqc29uX29iamVjdF9vYmplY3RfZ2V0X2V4
KHRlc3Rfb2JqLCAidmFsdWUiLCAmdG1wX29iaikpCi0JCQlpdGVtc1tpXS52YWx1ZSA9IGpzb25f
b2JqZWN0X2dldF9pbnQodG1wX29iaik7Ci0JCWVsc2UKLQkJCWl0ZW1zW2ldLnZhbHVlID0gMDsg
LyogZGVmYXVsdCB2YWx1ZSAwICovCi0JfQotCi0JKnBpdGVtcyA9IGl0ZW1zOwotCSpzaXplID0g
bGVuZ3RoOwotCXJldCA9IDA7Ci1wcm9fZW5kOgotCWlmIChyb290X29iaikKLQkJanNvbl9vYmpl
Y3RfcHV0KHJvb3Rfb2JqKTsKLQotCXJldHVybiByZXQ7CisJcmV0dXJuIDA7CiB9CiAKIHN0YXRp
YyB2b2lkIF9fYW1kZ3B1X3Jhc19pbmplY3RfdGVzdCh2b2lkKQotLSAKMi4xNy4xCgpfX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcg
bGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNr
dG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZng=
