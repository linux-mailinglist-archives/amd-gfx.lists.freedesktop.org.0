Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A19B1D4BEC
	for <lists+amd-gfx@lfdr.de>; Sat, 12 Oct 2019 03:49:50 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E98276E046;
	Sat, 12 Oct 2019 01:49:48 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-wr1-x444.google.com (mail-wr1-x444.google.com
 [IPv6:2a00:1450:4864:20::444])
 by gabe.freedesktop.org (Postfix) with ESMTPS id AF61D6E046
 for <amd-gfx@lists.freedesktop.org>; Sat, 12 Oct 2019 01:49:47 +0000 (UTC)
Received: by mail-wr1-x444.google.com with SMTP id b9so13753293wrs.0
 for <amd-gfx@lists.freedesktop.org>; Fri, 11 Oct 2019 18:49:47 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=yt95vHw6+iMRfGMBKnVINXrqb5Kwl7UVwRMscE3VPNM=;
 b=a93HpDVrVj1vwAaf8uXDnbsE0mgDPiZ5aRZj/+NU+D///V/tR9MB5D7rv6Qq+1o2q0
 DhcEMEikQK0g6HQ9EAhNnZFisS+C7X2kfWaOZ2KzcvkGEA3hOFoREK80QbXdl0ZNWP8I
 ljgMokItkKH08BO0PwtOH68rGxdd8/m+zXwytSz1xUhybVZg1mftKzR08jxgLrTdHG9z
 ETtAHzqj1lUqi6slqphbzv3Jg9kXmp1via19aHP3M/MJAA/WivlM8bul5RW7tEqbefpX
 sCvFI5tfAb+bACR5LHbtMcE7GMCg9XIl2DLIZczm/5QNRK7ypgrZCLoLjD3cyDceITHQ
 Ri5g==
X-Gm-Message-State: APjAAAX0ZaMoI3jnUIOA1K8Xno3VzPAg9bFF5y423btOWVoBXWT2VWb3
 PWSpAkgsP1mvqqME3sFuJQ8GzGxMJCnAzDGIKHc=
X-Google-Smtp-Source: APXvYqxiLvQjmlrpwW6P1/lZBirRbxu2hG6GRyakxq6EmEjln7pdlne8s/DY7nwBDzNLQFNcAApR2m40tucfGuQQxS4=
X-Received: by 2002:adf:ba07:: with SMTP id o7mr16234660wrg.50.1570844986237; 
 Fri, 11 Oct 2019 18:49:46 -0700 (PDT)
MIME-Version: 1.0
References: <20191010152619.31011-1-alexander.deucher@amd.com>
 <20191010152619.31011-3-alexander.deucher@amd.com>
 <BN8PR12MB3329E4B5DE6B027D43B38F5AE4970@BN8PR12MB3329.namprd12.prod.outlook.com>
 <CADnq5_Pbi+K=62tY0sJdOARy74wpnh+Owfq3wQb0tcyXE2XtFw@mail.gmail.com>
 <MN2PR12MB3344923284A5FF12F631B634E4960@MN2PR12MB3344.namprd12.prod.outlook.com>
In-Reply-To: <MN2PR12MB3344923284A5FF12F631B634E4960@MN2PR12MB3344.namprd12.prod.outlook.com>
From: Alex Deucher <alexdeucher@gmail.com>
Date: Fri, 11 Oct 2019 21:49:32 -0400
Message-ID: <CADnq5_MpNmRz2uXYy5pbK+Ffv8uGAnb_nHhriecj2qwzLKSVRw@mail.gmail.com>
Subject: Re: [PATCH 2/5] drm/amdgpu: move gpu reset out of
 amdgpu_device_suspend
To: "Quan, Evan" <Evan.Quan@amd.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=yt95vHw6+iMRfGMBKnVINXrqb5Kwl7UVwRMscE3VPNM=;
 b=LBS8JdT1mC+hpe31CL5FMOtEGtrO9z6paK7jk/PlgVtLNAJoXifE6NaFmY0SyEGg+v
 43UNhArOK5CnaVupKh0drZv46u+BAZWEGEKC0H+xWmxVQMqqsyHPjP5Dn4GaAz2sIUWy
 81GgPBXCvTyPmVjAc9mqAWBTsnrPObCpO9gImoasm2m6OeN6Gj8qKuPTOk0c8ABNxJY1
 c9SevZgRy6YPlVBQwkrDpJD2KYrpJfLUaYlKjBp3eLyd4nJglOoPYKHIGfnMqachR76d
 z4qLSYX5D3OT7ktLOW8mDB957uo1GS8oczPkRS/WsKrXZtaOcX5hWdNG1Ovpd8OG1i+S
 xv+Q==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Deucher, Alexander" <Alexander.Deucher@amd.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

VGhhbmtzLiAgSSdsbCBtYWtlIG5vdGUgb2YgdGhpcyBpbiB0aGUgY29tbWl0IG1lc3NhZ2UuCgpP
biBGcmksIE9jdCAxMSwgMjAxOSBhdCA5OjQyIFBNIFF1YW4sIEV2YW4gPEV2YW4uUXVhbkBhbWQu
Y29tPiB3cm90ZToKPgo+IFRoYW5rcyBmb3IgdGhlIGNsYXJpZmljYXRpb24uIFRoYXQgd2lsbCBi
ZSBmaW5lIHRoZW4uCj4gUmV2aWV3ZWQtYnk6IEV2YW4gUXVhbiA8ZXZhbi5xdWFuQGFtZC5jb20+
Cj4KPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQo+IEZyb206IEFsZXggRGV1Y2hlciA8YWxl
eGRldWNoZXJAZ21haWwuY29tPgo+IFNlbnQ6IEZyaWRheSwgT2N0b2JlciAxMSwgMjAxOSA5OjI1
IFBNCj4gVG86IFF1YW4sIEV2YW4gPEV2YW4uUXVhbkBhbWQuY29tPgo+IENjOiBhbWQtZ2Z4QGxp
c3RzLmZyZWVkZXNrdG9wLm9yZzsgRGV1Y2hlciwgQWxleGFuZGVyIDxBbGV4YW5kZXIuRGV1Y2hl
ckBhbWQuY29tPgo+IFN1YmplY3Q6IFJlOiBbUEFUQ0ggMi81XSBkcm0vYW1kZ3B1OiBtb3ZlIGdw
dSByZXNldCBvdXQgb2YgYW1kZ3B1X2RldmljZV9zdXNwZW5kCj4KPiBPbiBGcmksIE9jdCAxMSwg
MjAxOSBhdCAxMjowNyBBTSBRdWFuLCBFdmFuIDxFdmFuLlF1YW5AYW1kLmNvbT4gd3JvdGU6Cj4g
Pgo+ID4gSXQgc2VlbXMgYW1kZ3B1X3Btb3BzX3J1bnRpbWVfc3VzcGVuZCgpIG5lZWRzIHRvIGJl
IHVwZGF0ZWQgYWNjb3JkaW5nbHkgYWxzby4KPgo+IEkgcHVycG9zZWx5IGxlZnQgdGhhdCBvdXQu
ICBJIHRoaW5rIHRoYXQgaXMgYSBidWcuICBXZSBkb24ndCBuZWVkIHRvIHJlc2V0IHRoZSBHUFUg
Zm9yIHJ1bnRpbWUgc3VzcGVuZC4gIFdlIG9ubHkgbmVlZCBpdCBmb3IgaGliZXJuYXRpb24gYmVj
YXVzZSBvZiB0aGUgd2hvbGUgZnJlZXplL3RoYXcgZGFuY2UuCj4KPiBBbGV4Cj4KPiA+Cj4gPiAt
LS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQo+ID4gRnJvbTogYW1kLWdmeCA8YW1kLWdmeC1ib3Vu
Y2VzQGxpc3RzLmZyZWVkZXNrdG9wLm9yZz4gT24gQmVoYWxmIE9mCj4gPiBBbGV4IERldWNoZXIK
PiA+IFNlbnQ6IFRodXJzZGF5LCBPY3RvYmVyIDEwLCAyMDE5IDExOjI2IFBNCj4gPiBUbzogYW1k
LWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKPiA+IENjOiBEZXVjaGVyLCBBbGV4YW5kZXIgPEFs
ZXhhbmRlci5EZXVjaGVyQGFtZC5jb20+Cj4gPiBTdWJqZWN0OiBbUEFUQ0ggMi81XSBkcm0vYW1k
Z3B1OiBtb3ZlIGdwdSByZXNldCBvdXQgb2YKPiA+IGFtZGdwdV9kZXZpY2Vfc3VzcGVuZAo+ID4K
PiA+IE1vdmUgaXQgaW50byB0aGUgY2FsbGVyLiAgVGhlcmUgYXJlIGNhc2VzIHdlcmUgd2UgZG9u
J3Qgd2FudCBpdC4gIFdlCj4gPiBuZWVkIGl0IGZvciBoaWJlcm5hdGlvbiwgYnV0IHdlIGRvbid0
IG5lZWQgaXQgZm9yIHJ1bnRpbWUgcG0uCj4gPgo+ID4gU2lnbmVkLW9mZi1ieTogQWxleCBEZXVj
aGVyIDxhbGV4YW5kZXIuZGV1Y2hlckBhbWQuY29tPgo+ID4gLS0tCj4gPiAgZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RldmljZS5jIHwgNCAtLS0tCj4gPiAgZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2Rydi5jICAgIHwgNyArKysrKystCj4gPiAgMiBmaWxlcyBj
aGFuZ2VkLCA2IGluc2VydGlvbnMoKyksIDUgZGVsZXRpb25zKC0pCj4gPgo+ID4gZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kZXZpY2UuYwo+ID4gYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMKPiA+IGluZGV4IDliOWIxNTM2
MDE5NC4uOTFiZGIyNDZlNDA1IDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1X2RldmljZS5jCj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9hbWRncHVfZGV2aWNlLmMKPiA+IEBAIC0zMTczLDEwICszMTczLDYgQEAgaW50IGFtZGdwdV9k
ZXZpY2Vfc3VzcGVuZChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCBib29sIHN1c3BlbmQsIGJvb2wg
ZmJjb24pCj4gPiAgICAgICAgICAgICAgICAgLyogU2h1dCBkb3duIHRoZSBkZXZpY2UgKi8KPiA+
ICAgICAgICAgICAgICAgICBwY2lfZGlzYWJsZV9kZXZpY2UoZGV2LT5wZGV2KTsKPiA+ICAgICAg
ICAgICAgICAgICBwY2lfc2V0X3Bvd2VyX3N0YXRlKGRldi0+cGRldiwgUENJX0QzaG90KTsKPiA+
IC0gICAgICAgfSBlbHNlIHsKPiA+IC0gICAgICAgICAgICAgICByID0gYW1kZ3B1X2FzaWNfcmVz
ZXQoYWRldik7Cj4gPiAtICAgICAgICAgICAgICAgaWYgKHIpCj4gPiAtICAgICAgICAgICAgICAg
ICAgICAgICBEUk1fRVJST1IoImFtZGdwdSBhc2ljIHJlc2V0IGZhaWxlZFxuIik7Cj4gPiAgICAg
ICAgIH0KPiA+Cj4gPiAgICAgICAgIHJldHVybiAwOwo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kcnYuYwo+ID4gYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9hbWRncHVfZHJ2LmMKPiA+IGluZGV4IGQ0M2M0NmRlNzgwNy4uNjQxNDEzODZlNjAz
IDEwMDY0NAo+ID4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2Rydi5j
Cj4gPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZHJ2LmMKPiA+IEBA
IC0xMTE4LDggKzExMTgsMTMgQEAgc3RhdGljIGludCBhbWRncHVfcG1vcHNfcmVzdW1lKHN0cnVj
dCBkZXZpY2UKPiA+ICpkZXYpICBzdGF0aWMgaW50IGFtZGdwdV9wbW9wc19mcmVlemUoc3RydWN0
IGRldmljZSAqZGV2KSAgewo+ID4gICAgICAgICBzdHJ1Y3QgZHJtX2RldmljZSAqZHJtX2RldiA9
IGRldl9nZXRfZHJ2ZGF0YShkZXYpOwo+ID4gKyAgICAgICBzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldiA9IGRybV9kZXYtPmRldl9wcml2YXRlOwo+ID4gKyAgICAgICBpbnQgcjsKPiA+Cj4gPiAt
ICAgICAgIHJldHVybiBhbWRncHVfZGV2aWNlX3N1c3BlbmQoZHJtX2RldiwgZmFsc2UsIHRydWUp
Owo+ID4gKyAgICAgICByID0gYW1kZ3B1X2RldmljZV9zdXNwZW5kKGRybV9kZXYsIGZhbHNlLCB0
cnVlKTsKPiA+ICsgICAgICAgaWYgKHIpCj4gPiArICAgICAgICAgICAgICAgcmV0dXJuIHI7Cj4g
PiArICAgICAgIHJldHVybiBhbWRncHVfYXNpY19yZXNldChhZGV2KTsKPiA+ICB9Cj4gPgo+ID4g
IHN0YXRpYyBpbnQgYW1kZ3B1X3Btb3BzX3RoYXcoc3RydWN0IGRldmljZSAqZGV2KQo+ID4gLS0K
PiA+IDIuMjAuMQo+ID4KPiA+IF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fCj4gPiBhbWQtZ2Z4IG1haWxpbmcgbGlzdAo+ID4gYW1kLWdmeEBsaXN0cy5mcmVl
ZGVza3RvcC5vcmcKPiA+IGh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlz
dGluZm8vYW1kLWdmeApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpo
dHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZng=
