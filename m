Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 2F8C3B878AB
	for <lists+amd-gfx@lfdr.de>; Fri, 19 Sep 2025 02:55:43 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id EB6E210E918;
	Fri, 19 Sep 2025 00:55:40 +0000 (UTC)
Authentication-Results: gabe.freedesktop.org;
	dkim=pass (1024-bit key; unprotected) header.d=amd.com header.i=@amd.com header.b="Wls00U6d";
	dkim-atps=neutral
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from SN4PR0501CU005.outbound.protection.outlook.com
 (mail-southcentralusazon11011043.outbound.protection.outlook.com
 [40.93.194.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 69E4F10E918
 for <amd-gfx@lists.freedesktop.org>; Fri, 19 Sep 2025 00:55:40 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector10001; d=microsoft.com; cv=none;
 b=NYVFwFl09gtkpO0Qa6P5bSZRXDIvd3CdXRrhRmB3TMJLe8BFKvTTzs6uxIaPYkE++aoh81LsYHlJdw7Vib+sGNvuGQ/O2c5LZfVl/4HTbB9J1zm8OvFJxh8bD/Sw3wEZEyKJmMriSvsMlM6XrQixOdwNOUL5aAQlpzSJKMmlxP8mfqM7kUDsAtj+C+aSSJLS8JRB2+sTcoaxq63rdb4hPZyRNMSOvqQOMQf+P61G863xjkFcKmK/kY/fvfsJ/JGWCCkddt31+eKkP70UJd+TlKPgM3UnRANAIxxPfWWfzGiyImJj2mvyRS7SzOm5/7e1PLyf1xqZ9CjMOY0mFqIF4A==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector10001;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=EAVADHFIp4xtETEL15AWq2hsXA8tBuCue68qXHmEx70=;
 b=MFUgokqNyJTpAux7QG4pYzyXZFBOleJfyySS/KQHdOjHJpWXoljzL3tV1l6q2szl9EtWMNO6FM7F/+na1e6Blf79sd1sCY4lbItW7kEE/dYKYo6MeH3NysQNOcmvOQuyp17xh+JwTuc21npnQJbCYV4dFkFMCLQL47z9+mMgc6SEt4v+toJciha3R2Tq7NrUDt8pda7PXz6IChAmsM1oHROKmo++UPFy+oU8oTiXYcpWEmROOSVVsofCPKJ6CdQlSo5+JHtbcak8KvgYCzhw4fdvk64wEckrT5x9Z1Px+/XjiqBUe0uRJM0K33h30fEorWCdBTY4zPOksjmrDmdZRQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=amd.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=EAVADHFIp4xtETEL15AWq2hsXA8tBuCue68qXHmEx70=;
 b=Wls00U6dRCaGSRbAyFEyldhGIPnBUms5mslZNX77VWEsYZ1H27fbXvbooumy8IgJ1tW4QWT4Vwx9K6b5G5ZWjHmhdQRqI+sBJOiyU8ykLMV1bZ9erXvTZNTUTlfsItaRRsCcCWanPU0qTB6J9zsbJq/xNKTFt8oot0ZBJKfBEUI=
Received: from CH2PR12MB4215.namprd12.prod.outlook.com (2603:10b6:610:ab::24)
 by PH8PR12MB8605.namprd12.prod.outlook.com (2603:10b6:510:1cc::6)
 with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.9137.14; Fri, 19 Sep
 2025 00:55:37 +0000
Received: from CH2PR12MB4215.namprd12.prod.outlook.com
 ([fe80::b053:488f:853d:892a]) by CH2PR12MB4215.namprd12.prod.outlook.com
 ([fe80::b053:488f:853d:892a%3]) with mapi id 15.20.9137.012; Fri, 19 Sep 2025
 00:55:37 +0000
From: "Chai, Thomas" <YiPeng.Chai@amd.com>
To: Alex Deucher <alexdeucher@gmail.com>
CC: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>, "Zhang,
 Hawking" <Hawking.Zhang@amd.com>, "Zhou1, Tao" <Tao.Zhou1@amd.com>, "Li,
 Candice" <Candice.Li@amd.com>, "Yang, Stanley" <Stanley.Yang@amd.com>
Subject: RE: [PATCH 06/10] drm/amd/ras: Add amdgpu ras system functions
Thread-Topic: [PATCH 06/10] drm/amd/ras: Add amdgpu ras system functions
Thread-Index: AQHcKDy68AVYOI9j8UCbwVu1UlXYorSZXmkAgABNk3A=
Date: Fri, 19 Sep 2025 00:55:37 +0000
Message-ID: <CH2PR12MB4215C452FEFDDACD77865549FC11A@CH2PR12MB4215.namprd12.prod.outlook.com>
References: <20250918013507.2629620-1-YiPeng.Chai@amd.com>
 <20250918013507.2629620-6-YiPeng.Chai@amd.com>
 <CADnq5_OuPMaiTXuLjBtn7pHT9zVZbYUT6H3CnxU+qtknLVyyaA@mail.gmail.com>
In-Reply-To: <CADnq5_OuPMaiTXuLjBtn7pHT9zVZbYUT6H3CnxU+qtknLVyyaA@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
msip_labels: MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_Enabled=True;
 MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_SiteId=3dd8961f-e488-4e60-8e11-a82d994e183d;
 MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_SetDate=2025-09-19T00:42:09.0000000Z;
 MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_Name=AMD
 Internal Distribution
 Only; MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_ContentBits=3;
 MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_Method=Standard
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=amd.com;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: CH2PR12MB4215:EE_|PH8PR12MB8605:EE_
x-ms-office365-filtering-correlation-id: f3f5e1af-701e-4113-3235-08ddf7173f5b
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0; ARA:13230040|366016|376014|1800799024|38070700021;
x-microsoft-antispam-message-info: =?utf-8?B?WlloMThkazBMOVppTHFQZ1k3akdjNUlPSTcxL2hXbGozckNXUXZpQWVuVCtv?=
 =?utf-8?B?a2l0N1Jra1RIOHRlWG9lbzdZRldRY0JPUXZxZmFlakJKUVh2WHBMNG1zdVVs?=
 =?utf-8?B?ME05VEZVQWZ0a1VKcGVxUnFVTkMzWXQ4RDhjVklGNW9HTUxBdmxPYlcxTEVj?=
 =?utf-8?B?V1BnQzU4MUZsa0xkUWVMbEtlbnN4TFN1VnRYdFZ6RVR6MjYvQmtGS1R2VmU1?=
 =?utf-8?B?Uk5CM1BraktZTW5TTVpIcVlwOEJPOWJQRG9tRU8zQnF1dVBZZHV6bWltdE5T?=
 =?utf-8?B?b2k2RkZVR1RVMzdSMC8wZkhmN2IwN0ZrMERkQ2VwVkpPQnJ6aXJzY09xZzc0?=
 =?utf-8?B?WnhueW8wOGtqc2RwcU4zSVFWUWs4aVRvN0swbDRkczZhWVhNV3hJVXJyeURF?=
 =?utf-8?B?OG9jQ1p6Q0I4V2VPZklLbkRudWhJQzBuUGpDK0NSRGo5L3dwczdRYTgwTk51?=
 =?utf-8?B?UXhiQzU3dkw1RXBmejZLZGFlQXVUSVFvTElZN1U4cVhYR0h0ZXZJUU9WRm1m?=
 =?utf-8?B?RSt1STJ1YTRrUGdVaEdGSVowWnpBUGNvMk12UXFZZGVTZmdhVmt1Y0VQREN2?=
 =?utf-8?B?NU8vQ1FBbjVmNVR1OWFzRkc2MDFVUXo1aXNsY2JLREhMVjlqdlZrSTNQcnVp?=
 =?utf-8?B?MW9aenZMRkZDYTJZOFRCUVpKU3JlbGZwK0tqSDY2Wm53L284T010UVZvV0hr?=
 =?utf-8?B?QjI5blZRTEV0aEZZb2h6aWNLMmx6cXlGQU0xQ0YwdWNwRGVtS3dUY2lLbnli?=
 =?utf-8?B?TENNS0UxdEE2NDYwL1BDZmtPNVpuVmdidkZtaDJxczBuTGJ6Rjl2eHVQNzF5?=
 =?utf-8?B?N1dtcEg1b2pmeGhOTGRZRWtmRFVnUkRzMkdkT3FuK1JOWmYrdW9vRXozVWJz?=
 =?utf-8?B?L0tuKzlTS0M1OUwrdlBzc252elBCQWttMEcwd3Rhdkt5QkMyQXR1Mlg0UHZk?=
 =?utf-8?B?Zy9EN2VNQXhMT294TW12TlhkdEUzL29ROWhiVUdRTEoxRktPVjljVFFxQ1Z4?=
 =?utf-8?B?eDN4dlFkNFpndXJzRXNhd1d4QnlhK0NFMXcwTDFuZDRQR2hSTTVrbS92OFVZ?=
 =?utf-8?B?bngzSjlBaXlFSC80aG9HRXhVVVNpbURPZXhURnZTZGtiTUorN1JXZlhYZDJy?=
 =?utf-8?B?TkZWVGpHMUQ2NGk0cmh1b1Y2VU9BUGw5YmlMR25jWnZkeHVCZit1eS9ETU5R?=
 =?utf-8?B?d2ZjREdFWnAxUTBheE5Wa2J2d1ZSSGRxMzZEeXNWYzlRQ3lZN09INnZZRGZK?=
 =?utf-8?B?L0FBOUM0cWRkT1I3LzlpNFhDVWppTzBrT1haUHJaanRXemNjNC9yenFEaU5I?=
 =?utf-8?B?QklGUDh5cWxYTlF2WEJiMUcxcDkvRUtreTR4eG9FZGRjUWp3VjhXRnpJUFRR?=
 =?utf-8?B?Wkd2UFNvbm1UaEJUOUVCeGUwQ3NsQnArU0FtUFcrZExoV3Qrc08yaSt6OXpo?=
 =?utf-8?B?YVM1NjBIQlhldVB3VytkTHZhUE8yRDRsSXRaWVlHekVqUmwvTG5KTTJJbm1O?=
 =?utf-8?B?Vmg1amhVaFZ2WFZMclBXTzNHMk5jNmxHME1TdEU1U1MrNFN1K3ppdTlQK2R1?=
 =?utf-8?B?a2J3M0xQNmQ5ZVdLUzBPUHFITFRNMGExZmhvVTJ1V1k4aGM1YWU4dFhtbVBa?=
 =?utf-8?B?TzJHRjhMeEZwSW9HVEZKL0dRSVdvTGxsWURhVVdFQkRoazhYOGxBb2pyRGgv?=
 =?utf-8?B?YTdyS1FhMDRpQThsWlBGU0NUWmNyeEE4bms0QmI0OWNocVN3Z2Y2UThnS3RT?=
 =?utf-8?B?bGpqaHVxRFNVOHJUNEg4NXd0NkxVTTFMeERCaEt6STZhSUdvREUwRnhoZFRu?=
 =?utf-8?B?bW81RTUzWjJ2bWp5N0M4VzlSZEI5elhNd0xpR2E3RHhVZTFsWW1VSDM5dnli?=
 =?utf-8?B?L3pUeE5zN3VwMXphT1VZdDhQRlpXZXB4Y1hoVFVvODcxTmR3NjBUUnVnbXRR?=
 =?utf-8?B?L05COFIyOG1nL0NkRnQ2ZURUTWkrcVkreFdpR2NTTzQ4UWxmTmhRMzdKdnA4?=
 =?utf-8?Q?dbkbv5obhOpC3LJ+qn2KplewdVV5DE=3D?=
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:CH2PR12MB4215.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(13230040)(366016)(376014)(1800799024)(38070700021); DIR:OUT; SFP:1101; 
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?a2pTWWJNRU8yUjdLZEY4cUpkM25lSEVsVHVXK3JzUFdkNzYwZFdFYTdOcjhY?=
 =?utf-8?B?bXRGOStVTGZwaFdXUTQvdnA3bE5SdUorczNXQW9lTXNNd1EzY0FLZERxMG1Z?=
 =?utf-8?B?VExSWlU5akdFSWJuQWxmVzBldE1PTTN4Rzlidit2U2ppeTZ2dXdQV0RlV3ht?=
 =?utf-8?B?TUhwZUhSTHBzSklGNEoxYmFUempXSU10UlpIWHdTaE1Oa2xWM1I2TFM1Q0Zh?=
 =?utf-8?B?QzlVRUJHa0dTbHlTZmU3UG5KNzVFSi9vYmhzVXpHOEVrWFFIVC9EODRFTjVC?=
 =?utf-8?B?eXBLYzBBMXNkNytHb3hJV0k3Y2JJZ084RTdocmNOMnh1aTkrcG5FWnkyc0xC?=
 =?utf-8?B?OHdpYTdvZmlvL1g4cmRXVVVTaUNMY3Myd2FwWld4MldobWlOVm9YY1RuZVVE?=
 =?utf-8?B?dVhBREFIWmkvUDZsTXdOZFhWSVI0NHdqajZHbWc2dFF2WjZyNHdLWVA3bmRu?=
 =?utf-8?B?MldZQkJaMW0wSENtSFV4LzhGVGRwb1RNeG9pbTFYYzlNanFkcU9GQUpvQTk5?=
 =?utf-8?B?ZHBTWUFhZmpVVUxDdkYvT2MvdUV3U3QxeUNTRnUxamE4OVZFRnRjTDM1U1N3?=
 =?utf-8?B?cGZtR2g3Wlg4ZExJZU4rYlBFZjhRWUFaRlRFUGpleFBwMEdpbkpvdDBSUW1F?=
 =?utf-8?B?a1V3cEZMT05wYUhySytMZWtFSTF3SjdyZFBoSlRxbzBDRFVGU3h5VHRRWFFm?=
 =?utf-8?B?cnRsVkdqZDJwc2RxUEVoMDRaQm5RcGV1SVkrRHBqT0lhODZOSHN0WEdCRDBp?=
 =?utf-8?B?OEtIdWVzcjRLZXJHR3BwQlZ6bkJlZGtOeDJHc0dJdTA3R0NDRnNFQ2p2cHJv?=
 =?utf-8?B?SDhKSktsYU85M1JhWFNaMGFTY280TlArS1d4SzBsNW5IbU9rbTk5eHRHdEIy?=
 =?utf-8?B?ak0xbGIyRUVlRHh6VjlEZkVtUW10M2lUcGRPMFJGSjRpYUx6TzZxZkJZUnBi?=
 =?utf-8?B?STZZNnkxeW14YWlHQUYxc0pPNHprNzQ1bW4zNGhYNWtwZ0k3Z2tRRWNFWWFh?=
 =?utf-8?B?cVNreTE0ZW91Vnk4N2tRMHJNeGRLQjNTOXRZWUNYSWlrZ2QvczBHbWt6aDBw?=
 =?utf-8?B?QWJldnYwS3FjV1FKOHV6WUtzN0pNVkN3SnorZmFwd2dpUWlET0NhbWNTRXV4?=
 =?utf-8?B?Rlk4Qk1JRU1LSU5GeVY5cWp4eUIrNXZ0TlpoMkt1c1NBZGszNUF3VUFzY3NZ?=
 =?utf-8?B?eUxKWkFyekMyMk5tOXkxZmVaaG13ZkFlN0lGT3JxajEzQlE3N0h0QmI0MHFU?=
 =?utf-8?B?dEpwY2VSNVZjY25SQjd6am9MSHE0ZThBaTl5L2hlQloyMFRjd1ovdDd5Njhv?=
 =?utf-8?B?ZWlZRG5jUUN4OHFjYlNtT21IMFJVZWNnbEg3bldGTE85aW1BUHFXWjB6cGV5?=
 =?utf-8?B?OUJpWndzOVNhaElLcDUxVmtLU3U4QWVuS1Q1bHU3K3Z6ZEtTMVRhaVc4aFZV?=
 =?utf-8?B?M2t0aXZVcExiRHFwRUc3cHBrblU1T1B1dVdhbEN0MVgvaXNHVEg0R1BBY0xy?=
 =?utf-8?B?aGJPeVgydHM0UyszTDlBVDdHbWk0YVI5aHF4NUF3WDBEODhqcTMydTFDSExC?=
 =?utf-8?B?RnlqcHZqM3ZEOFRVVzRXOE8wYWRpVkROS1FDa2dLLzUycDBXSHUyNEhqWklM?=
 =?utf-8?B?akRVMGExTXMxeUZaRmcyamxUREhOZFZ3UllhUDZwZU5tYmRUNmZaT05PMlZG?=
 =?utf-8?B?REt2WnB2eDhxWmZXVHpXaXpYZEZvc2w2aHNjT2VLMmpFUlB0MnhvRS9nbzJk?=
 =?utf-8?B?eUlLVjUyVXR0Uk54YXgxVlVCaFpmNndaNTEzUTZjMEVSWngxd0pwdUxtQmdS?=
 =?utf-8?B?Rlk0aEU2VXV6U29vb05ETVhYS3JxYXgvUXNtazNrOXJvTk0zazlVc21nb211?=
 =?utf-8?B?TEMxaGxmQWM3QmpEbTF5VWRXdG5IOUpJZVBZeVRwVVV6OTRJc3JXNjUrOXBm?=
 =?utf-8?B?d2tmRU5PTGx3dDVRM2xYSE1id0pIT1B4dDlscXloYklaMGluYjVOVlZ4YVIx?=
 =?utf-8?B?bzlOZHh5NEdhNjJneVNSc2ZiQnR1NkN4bEg3UlJ5OXB3TmRSNng3b2JrZHlr?=
 =?utf-8?B?elAyTG5JWFZZaHpSQTlJWW5oU0RNa0tUV1RESHh1NlJ5eUdTRlRqSnNkNXM2?=
 =?utf-8?Q?ldtw=3D?=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: CH2PR12MB4215.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: f3f5e1af-701e-4113-3235-08ddf7173f5b
X-MS-Exchange-CrossTenant-originalarrivaltime: 19 Sep 2025 00:55:37.5286 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: AV6uhdl6zV9B44jIbOI2YAWwD63ceHcvgvS9V3zUD8maKU3opzCtVfDlxTDBma3YPO6XidTLRuDoGjV+5rOkTg==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: PH8PR12MB8605
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

W0FNRCBPZmZpY2lhbCBVc2UgT25seSAtIEFNRCBJbnRlcm5hbCBEaXN0cmlidXRpb24gT25seV0N
Cg0KLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZyb206IGFtZC1nZnggPGFtZC1nZngtYm91
bmNlc0BsaXN0cy5mcmVlZGVza3RvcC5vcmc+IE9uIEJlaGFsZiBPZiBBbGV4IERldWNoZXINClNl
bnQ6IEZyaWRheSwgU2VwdGVtYmVyIDE5LCAyMDI1IDQ6MDUgQU0NClRvOiBDaGFpLCBUaG9tYXMg
PFlpUGVuZy5DaGFpQGFtZC5jb20+DQpDYzogYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmc7
IFpoYW5nLCBIYXdraW5nIDxIYXdraW5nLlpoYW5nQGFtZC5jb20+OyBaaG91MSwgVGFvIDxUYW8u
WmhvdTFAYW1kLmNvbT47IExpLCBDYW5kaWNlIDxDYW5kaWNlLkxpQGFtZC5jb20+OyBZYW5nLCBT
dGFubGV5IDxTdGFubGV5LllhbmdAYW1kLmNvbT4NClN1YmplY3Q6IFJlOiBbUEFUQ0ggMDYvMTBd
IGRybS9hbWQvcmFzOiBBZGQgYW1kZ3B1IHJhcyBzeXN0ZW0gZnVuY3Rpb25zDQoNCk9uIFdlZCwg
U2VwIDE3LCAyMDI1IGF0IDk6MzfigK9QTSBZaVBlbmcgQ2hhaSA8WWlQZW5nLkNoYWlAYW1kLmNv
bT4gd3JvdGU6DQo+DQo+IEFkZCBhbWRncHUgcmFzIHN5c3RlbSBmdW5jdGlvbnMuDQo+DQo+IFNp
Z25lZC1vZmYtYnk6IFlpUGVuZyBDaGFpIDxZaVBlbmcuQ2hhaUBhbWQuY29tPg0KPiBSZXZpZXdl
ZC1ieTogVGFvIFpob3UgPHRhby56aG91MUBhbWQuY29tPg0KPiAtLS0NCj4gIC4uLi9ncHUvZHJt
L2FtZC9yYXMvcmFzX21nci9hbWRncHVfcmFzX3N5cy5jICB8IDI2OCArKysrKysrKysrKysrKysr
KysNCj4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvcmFzL3Jhc19tZ3IvcmFzX3N5cy5oICAgICB8IDEw
OSArKysrKysrDQo+ICAyIGZpbGVzIGNoYW5nZWQsIDM3NyBpbnNlcnRpb25zKCspDQo+ICBjcmVh
dGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL2FtZC9yYXMvcmFzX21nci9hbWRncHVfcmFz
X3N5cy5jDQo+ICBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9ncHUvZHJtL2FtZC9yYXMvcmFz
X21nci9yYXNfc3lzLmgNCj4NCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcmFz
L3Jhc19tZ3IvYW1kZ3B1X3Jhc19zeXMuYw0KPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcmFzL3Jh
c19tZ3IvYW1kZ3B1X3Jhc19zeXMuYw0KPiBuZXcgZmlsZSBtb2RlIDEwMDY0NA0KPiBpbmRleCAw
MDAwMDAwMDAwMDAuLjQwMDcxYjg3NjMzMw0KPiAtLS0gL2Rldi9udWxsDQo+ICsrKyBiL2RyaXZl
cnMvZ3B1L2RybS9hbWQvcmFzL3Jhc19tZ3IvYW1kZ3B1X3Jhc19zeXMuYw0KPiBAQCAtMCwwICsx
LDI2OCBAQA0KPiArLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVA0KPiArLyoNCj4gKyAq
IENvcHlyaWdodCAyMDI1IEFkdmFuY2VkIE1pY3JvIERldmljZXMsIEluYy4NCj4gKyAqDQo+ICsg
KiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBl
cnNvbg0KPiArb2J0YWluaW5nIGENCj4gKyAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNz
b2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUNCj4gKyJTb2Z0d2FyZSIpLA0KPiArICog
dG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdp
dGhvdXQNCj4gK2xpbWl0YXRpb24NCj4gKyAqIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2Rp
ZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLA0KPiArc3VibGljZW5zZSwNCj4gKyAqIGFu
ZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0
byB3aG9tDQo+ICt0aGUNCj4gKyAqIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3Vi
amVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6DQo+ICsgKg0KPiArICogVGhlIGFib3Zl
IGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUNCj4g
K2luY2x1ZGVkIGluDQo+ICsgKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9m
IHRoZSBTb2Z0d2FyZS4NCj4gKyAqDQo+ICsgKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFT
IElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwNCj4gK0VYUFJFU1MgT1INCj4gKyAq
IElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YN
Cj4gK01FUkNIQU5UQUJJTElUWSwNCj4gKyAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQ
T1NFIEFORCBOT05JTkZSSU5HRU1FTlQuICBJTiBOTyBFVkVOVA0KPiArU0hBTEwNCj4gKyAqIFRI
RSBDT1BZUklHSFQgSE9MREVSKFMpIE9SIEFVVEhPUihTKSBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJ
TSwNCj4gK0RBTUFHRVMgT1INCj4gKyAqIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBB
Q1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1INCj4gK09USEVSV0lTRSwNCj4gKyAqIEFSSVNJTkcg
RlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVT
RQ0KPiArT1INCj4gKyAqIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS4NCj4gKyAqDQo+
ICsgKi8NCj4gKyNpbmNsdWRlICJyYXNfc3lzLmgiDQo+ICsjaW5jbHVkZSAiYW1kZ3B1X3Jhc19t
Z3IuaCINCj4gKyNpbmNsdWRlICJhbWRncHVfcmFzLmgiDQo+ICsjaW5jbHVkZSAiYW1kZ3B1X3Jl
c2V0LmgiDQo+ICsNCj4gK3N0YXRpYyBpbnQgYW1kZ3B1X3Jhc19zeXNfZGV0ZWN0X2ZhdGFsX2V2
ZW50KHN0cnVjdCByYXNfY29yZV9jb250ZXh0DQo+ICsqcmFzX2NvcmUsIHZvaWQgKmRhdGEpIHsN
Cj4gKyAgICAgICBzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IChzdHJ1Y3QgYW1kZ3B1X2Rl
dmljZSAqKXJhc19jb3JlLT5kZXY7DQo+ICsgICAgICAgdWludDY0X3Qgc2VxX25vOw0KPiArDQo+
ICsgICAgICAgc2VxX25vID0gYW1kZ3B1X3Jhc19tZ3JfZ2VuX3Jhc19ldmVudF9zZXFubyhhZGV2
LCBSQVNfU0VRTk9fVFlQRV9VRSk7DQo+ICsgICAgICAgUkFTX0RFVl9JTkZPKGFkZXYsDQo+ICsg
ICAgICAgICAgICAgICAieyVsbHV9IFVuY29ycmVjdGFibGUgaGFyZHdhcmUgZXJyb3IoRVJSRVZF
TlRfQVRIVUJfSU5URVJSVVBUKSBkZXRlY3RlZCFcbiIsDQo+ICsgICAgICAgICAgICAgICBzZXFf
bm8pOw0KPiArDQo+ICsgICAgICAgcmV0dXJuIGFtZGdwdV9yYXNfcHJvY2Vzc19oYW5kbGVfdW5l
eHBlY3RlZF9pbnRlcnJ1cHQoYWRldiwNCj4gK2RhdGEpOyB9DQo+ICsNCj4gK3N0YXRpYyBpbnQg
YW1kZ3B1X3Jhc19zeXNfcG9pc29uX2NvbnN1bXB0aW9uX2V2ZW50KHN0cnVjdCByYXNfY29yZV9j
b250ZXh0ICpyYXNfY29yZSwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2lk
ICpkYXRhKSB7DQo+ICsgICAgICAgc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSAoc3RydWN0
IGFtZGdwdV9kZXZpY2UgKilyYXNfY29yZS0+ZGV2Ow0KPiArICAgICAgIHN0cnVjdCByYXNfZXZl
bnRfcmVxICpyZXEgPSAoc3RydWN0IHJhc19ldmVudF9yZXEgKilkYXRhOw0KPiArICAgICAgIHBh
c2lkX25vdGlmeSBwYXNpZF9mbjsNCj4gKw0KPiArICAgICAgIGlmICghcmVxKQ0KPiArICAgICAg
ICAgICAgICAgcmV0dXJuIC1FSU5WQUw7DQo+ICsNCj4gKyAgICAgICBpZiAocmVxLT5wYXNpZF9m
bikgew0KPiArICAgICAgICAgICAgICAgcGFzaWRfZm4gPSAocGFzaWRfbm90aWZ5KXJlcS0+cGFz
aWRfZm47DQo+ICsgICAgICAgICAgICAgICBwYXNpZF9mbihhZGV2LCByZXEtPnBhc2lkLCByZXEt
PmRhdGEpOw0KPiArICAgICAgIH0NCj4gKw0KPiArICAgICAgIHJldHVybiAwOw0KPiArfQ0KPiAr
DQo+ICtzdGF0aWMgaW50IGFtZGdwdV9yYXNfc3lzX2dlbl9zZXFubyhzdHJ1Y3QgcmFzX2NvcmVf
Y29udGV4dCAqcmFzX2NvcmUsDQo+ICsgICAgICAgICAgICAgICAgICAgICAgIGVudW0gcmFzX3Nl
cW5vX3R5cGUgc2Vxbm9fdHlwZSwgdWludDY0X3QNCj4gKypzZXFubykgew0KPiArICAgICAgIHN0
cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gKHN0cnVjdCBhbWRncHVfZGV2aWNlICopcmFzX2Nv
cmUtPmRldjsNCj4gKyAgICAgICBzdHJ1Y3QgYW1kZ3B1X3Jhc19tZ3IgKnJhc19tZ3IgPSBhbWRn
cHVfcmFzX21ncl9nZXRfY29udGV4dChhZGV2KTsNCj4gKyAgICAgICBzdHJ1Y3QgcmFzX2V2ZW50
X21hbmFnZXIgKmV2ZW50X21ncjsNCj4gKyAgICAgICBzdHJ1Y3QgcmFzX2V2ZW50X3N0YXRlICpl
dmVudF9zdGF0ZTsNCj4gKyAgICAgICBzdHJ1Y3QgYW1kZ3B1X2hpdmVfaW5mbyAqaGl2ZTsNCj4g
KyAgICAgICBlbnVtIHJhc19ldmVudF90eXBlIGV2ZW50X3R5cGU7DQo+ICsgICAgICAgdWludDY0
X3Qgc2VxX25vOw0KPiArDQo+ICsgICAgICAgaWYgKCFyYXNfbWdyIHx8ICFzZXFubyB8fA0KPiAr
ICAgICAgICAgICAgICAgKHNlcW5vX3R5cGUgPj0gUkFTX1NFUU5PX1RZUEVfQ09VTlRfTUFYKSkN
Cj4gKyAgICAgICAgICAgICAgIHJldHVybiAtRUlOVkFMOw0KPiArDQo+ICsgICAgICAgc3dpdGNo
IChzZXFub190eXBlKSB7DQo+ICsgICAgICAgY2FzZSBSQVNfU0VRTk9fVFlQRV9VRToNCj4gKyAg
ICAgICAgICAgICAgIGV2ZW50X3R5cGUgPSBSQVNfRVZFTlRfVFlQRV9GQVRBTDsNCj4gKyAgICAg
ICAgICAgICAgIGJyZWFrOw0KPiArICAgICAgIGNhc2UgUkFTX1NFUU5PX1RZUEVfQ0U6DQo+ICsg
ICAgICAgY2FzZSBSQVNfU0VRTk9fVFlQRV9ERToNCj4gKyAgICAgICAgICAgICAgIGV2ZW50X3R5
cGUgPSBSQVNfRVZFTlRfVFlQRV9QT0lTT05fQ1JFQVRJT047DQo+ICsgICAgICAgICAgICAgICBi
cmVhazsNCj4gKyAgICAgICBjYXNlIFJBU19TRVFOT19UWVBFX1BPSVNPTl9DT05TVU1QVElPTjoN
Cj4gKyAgICAgICAgICAgICAgIGV2ZW50X3R5cGUgPSBSQVNfRVZFTlRfVFlQRV9QT0lTT05fQ09O
U1VNUFRJT047DQo+ICsgICAgICAgICAgICAgICBicmVhazsNCj4gKyAgICAgICBkZWZhdWx0Og0K
PiArICAgICAgICAgICAgICAgZXZlbnRfdHlwZSA9IFJBU19FVkVOVF9UWVBFX0lOVkFMSUQ7DQo+
ICsgICAgICAgICAgICAgICBicmVhazsNCj4gKyAgICAgICB9DQo+ICsNCj4gKyAgICAgICBoaXZl
ID0gYW1kZ3B1X2dldF94Z21pX2hpdmUoYWRldik7DQo+ICsgICAgICAgZXZlbnRfbWdyID0gaGl2
ZSA/ICZoaXZlLT5ldmVudF9tZ3IgOiAmcmFzX21nci0+cmFzX2V2ZW50X21ncjsNCj4gKyAgICAg
ICBldmVudF9zdGF0ZSA9ICZldmVudF9tZ3ItPmV2ZW50X3N0YXRlW2V2ZW50X3R5cGVdOw0KPiAr
ICAgICAgIGlmICgoZXZlbnRfdHlwZSA9PSBSQVNfRVZFTlRfVFlQRV9GQVRBTCkgJiYgYW1kZ3B1
X3Jhc19pbl9yZWNvdmVyeShhZGV2KSkgew0KPiArICAgICAgICAgICAgICAgc2VxX25vID0gZXZl
bnRfc3RhdGUtPmxhc3Rfc2Vxbm87DQo+ICsgICAgICAgfSBlbHNlIHsNCj4gKyAgICAgICAgICAg
ICAgIHNlcV9ubyA9IGF0b21pYzY0X2luY19yZXR1cm4oJmV2ZW50X21nci0+c2Vxbm8pOw0KPiAr
ICAgICAgICAgICAgICAgZXZlbnRfc3RhdGUtPmxhc3Rfc2Vxbm8gPSBzZXFfbm87DQo+ICsgICAg
ICAgICAgICAgICBhdG9taWM2NF9pbmMoJmV2ZW50X3N0YXRlLT5jb3VudCk7DQo+ICsgICAgICAg
fQ0KPiArICAgICAgIGFtZGdwdV9wdXRfeGdtaV9oaXZlKGhpdmUpOw0KPiArDQo+ICsgICAgICAg
KnNlcW5vID0gc2VxX25vOw0KPiArICAgICAgIHJldHVybiAwOw0KPiArDQo+ICt9DQo+ICsNCj4g
K3N0YXRpYyBpbnQgYW1kZ3B1X3Jhc19zeXNfZXZlbnRfbm90aWZpZXIoc3RydWN0IHJhc19jb3Jl
X2NvbnRleHQgKnJhc19jb3JlLA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IGVudW0gcmFzX25vdGlmeV9ldmVudCBldmVudF9pZCwNCj4gK3ZvaWQgKmRhdGEpIHsNCj4gKyAg
ICAgICBzdHJ1Y3QgYW1kZ3B1X3Jhc19tZ3IgKnJhc19tZ3IgPSBhbWRncHVfcmFzX21ncl9nZXRf
Y29udGV4dChyYXNfY29yZS0+ZGV2KTsNCj4gKyAgICAgICBpbnQgcmV0ID0gMDsNCj4gKw0KPiAr
ICAgICAgIHN3aXRjaCAoZXZlbnRfaWQpIHsNCj4gKyAgICAgICBjYXNlIFJBU19FVkVOVF9JRF9f
QkFEX1BBR0VfREVURUNURUQ6DQo+ICsgICAgICAgICAgICAgICBzY2hlZHVsZV9kZWxheWVkX3dv
cmsoJnJhc19tZ3ItPnJldGlyZV9wYWdlX2R3b3JrLCAwKTsNCj4gKyAgICAgICAgICAgICAgIGJy
ZWFrOw0KPiArICAgICAgIGNhc2UgUkFTX0VWRU5UX0lEX19QT0lTT05fQ09OU1VNUFRJT046DQo+
ICsgICAgICAgICAgICAgICBhbWRncHVfcmFzX3N5c19wb2lzb25fY29uc3VtcHRpb25fZXZlbnQo
cmFzX2NvcmUsIGRhdGEpOw0KPiArICAgICAgICAgICAgICAgYnJlYWs7DQo+ICsgICAgICAgY2Fz
ZSBSQVNfRVZFTlRfSURfX1JFU0VSVkVfQkFEX1BBR0U6DQo+ICsgICAgICAgICAgICAgICByZXQg
PSBhbWRncHVfcmFzX3Jlc2VydmVfcGFnZShyYXNfY29yZS0+ZGV2LCAqKHVpbnQ2NF90ICopZGF0
YSk7DQo+ICsgICAgICAgICAgICAgICBicmVhazsNCj4gKyAgICAgICBjYXNlIFJBU19FVkVOVF9J
RF9fRkFUQUxfRVJST1JfREVURUNURUQ6DQo+ICsgICAgICAgICAgICAgICByZXQgPSBhbWRncHVf
cmFzX3N5c19kZXRlY3RfZmF0YWxfZXZlbnQocmFzX2NvcmUsIGRhdGEpOw0KPiArICAgICAgICAg
ICAgICAgYnJlYWs7DQo+ICsgICAgICAgY2FzZSBSQVNfRVZFTlRfSURfX1VQREFURV9CQURfUEFH
RV9OVU06DQo+ICsgICAgICAgICAgICAgICByZXQgPSBhbWRncHVfZHBtX3NlbmRfaGJtX2JhZF9w
YWdlc19udW0ocmFzX2NvcmUtPmRldiwgKih1aW50MzJfdCAqKWRhdGEpOw0KPiArICAgICAgICAg
ICAgICAgYnJlYWs7DQo+ICsgICAgICAgY2FzZSBSQVNfRVZFTlRfSURfX1VQREFURV9CQURfQ0hB
Tk5FTF9CSVRNQVA6DQo+ICsgICAgICAgICAgICAgICByZXQgPSBhbWRncHVfZHBtX3NlbmRfaGJt
X2JhZF9jaGFubmVsX2ZsYWcocmFzX2NvcmUtPmRldiwgKih1aW50MzJfdCAqKWRhdGEpOw0KPiAr
ICAgICAgICAgICAgICAgYnJlYWs7DQo+ICsgICAgICAgY2FzZSBSQVNfRVZFTlRfSURfX0RFVklD
RV9STUE6DQo+ICsgICAgICAgICAgICAgICByYXNfbG9nX3JpbmdfYWRkX2xvZ19ldmVudChyYXNf
Y29yZSwgUkFTX0xPR19FVkVOVF9STUEsIE5VTEwsIE5VTEwpOw0KPiArICAgICAgICAgICAgICAg
cmV0ID0gYW1kZ3B1X2RwbV9zZW5kX3JtYV9yZWFzb24ocmFzX2NvcmUtPmRldik7DQo+ICsgICAg
ICAgICAgICAgICBicmVhazsNCj4gKyAgICAgICBjYXNlIFJBU19FVkVOVF9JRF9fUkVTRVRfR1BV
Og0KPiArICAgICAgICAgICAgICAgcmV0ID0gYW1kZ3B1X3Jhc19tZ3JfcmVzZXRfZ3B1KHJhc19j
b3JlLT5kZXYsICoodWludDMyX3QgKilkYXRhKTsNCj4gKyAgICAgICAgICAgICAgIGJyZWFrOw0K
PiArICAgICAgIGRlZmF1bHQ6DQo+ICsgICAgICAgICAgICAgICBSQVNfREVWX1dBUk4ocmFzX2Nv
cmUtPmRldiwgIkludmFsaWQgcmFzIG5vdGlmeSBldmVudDolZFxuIiwgZXZlbnRfaWQpOw0KPiAr
ICAgICAgICAgICAgICAgYnJlYWs7DQo+ICsgICAgICAgfQ0KPiArDQo+ICsgICAgICAgcmV0dXJu
IHJldDsNCj4gK30NCj4gKw0KPiArc3RhdGljIHU2NCBhbWRncHVfcmFzX3N5c19nZXRfdXRjX3Nl
Y29uZF90aW1lc3RhbXAoc3RydWN0DQo+ICtyYXNfY29yZV9jb250ZXh0ICpyYXNfY29yZSkgew0K
PiArICAgICAgIHJldHVybiBrdGltZV9nZXRfcmVhbF9zZWNvbmRzKCk7IH0NCj4gKw0KPiArc3Rh
dGljIGludCBhbWRncHVfcmFzX3N5c19jaGVja19ncHVfc3RhdHVzKHN0cnVjdCByYXNfY29yZV9j
b250ZXh0ICpyYXNfY29yZSwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50
MzJfdCAqc3RhdHVzKSB7DQo+ICsgICAgICAgc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSAo
c3RydWN0IGFtZGdwdV9kZXZpY2UgKilyYXNfY29yZS0+ZGV2Ow0KPiArICAgICAgIHVpbnQzMl90
IGdwdV9zdGF0dXMgPSAwOw0KPiArDQo+ICsgICAgICAgaWYgKGFtZGdwdV9pbl9yZXNldChhZGV2
KSB8fCBhbWRncHVfcmFzX2luX3JlY292ZXJ5KGFkZXYpKQ0KPiArICAgICAgICAgICAgICAgZ3B1
X3N0YXR1cyB8PSBSQVNfR1BVX1NUQVRVU19fSU5fUkVTRVQ7DQo+ICsNCj4gKyAgICAgICBpZiAo
YW1kZ3B1X3NyaW92X3ZmKGFkZXYpKQ0KPiArICAgICAgICAgICAgICAgZ3B1X3N0YXR1cyB8PSBS
QVNfR1BVX1NUQVRVU19fSVNfVkY7DQo+ICsNCj4gKyAgICAgICAqc3RhdHVzID0gZ3B1X3N0YXR1
czsNCj4gKw0KPiArICAgICAgIHJldHVybiAwOw0KPiArfQ0KPiArDQo+ICtzdGF0aWMgaW50IGFt
ZGdwdV9yYXNfc3lzX2dldF9kZXZpY2Vfc3lzdGVtX2luZm8oc3RydWN0IHJhc19jb3JlX2NvbnRl
eHQgKnJhc19jb3JlLA0KPiArICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgZGV2aWNlX3N5
c3RlbV9pbmZvICpkZXZfaW5mbykgew0KPiArICAgICAgIHN0cnVjdCBhbWRncHVfZGV2aWNlICph
ZGV2ID0gKHN0cnVjdCBhbWRncHVfZGV2aWNlDQo+ICsqKXJhc19jb3JlLT5kZXY7DQo+ICsNCj4g
KyAgICAgICBkZXZfaW5mby0+ZGV2aWNlX2lkID0gYWRldi0+cGRldi0+ZGV2aWNlOw0KPiArICAg
ICAgIGRldl9pbmZvLT52ZW5kb3JfaWQgPSBhZGV2LT5wZGV2LT52ZW5kb3I7DQo+ICsgICAgICAg
ZGV2X2luZm8tPnNvY2tldF9pZCA9IGFkZXYtPnNtdWlvLmZ1bmNzLT5nZXRfc29ja2V0X2lkKGFk
ZXYpOw0KPiArDQo+ICsgICAgICAgcmV0dXJuIDA7DQo+ICt9DQo+ICsNCj4gK3N0YXRpYyBpbnQg
YW1kZ3B1X3Jhc19zeXNfZ3B1X3Jlc2V0X2xvY2soc3RydWN0IHJhc19jb3JlX2NvbnRleHQgKnJh
c19jb3JlLA0KPiArICAgICAgICAgICAgICAgICAgICAgICBib29sIGRvd24sIGJvb2wgdHJ5KSB7
DQo+ICsgICAgICAgc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSAoc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKilyYXNfY29yZS0+ZGV2Ow0KPiArICAgICAgIGludCByZXQgPSAwOw0KPiArDQo+ICsg
ICAgICAgaWYgKGRvd24gJiYgdHJ5KQ0KPiArICAgICAgICAgICAgICAgcmV0ID0gZG93bl9yZWFk
X3RyeWxvY2soJmFkZXYtPnJlc2V0X2RvbWFpbi0+c2VtKTsNCj4gKyAgICAgICBlbHNlIGlmIChk
b3duKQ0KPiArICAgICAgICAgICAgICAgZG93bl9yZWFkKCZhZGV2LT5yZXNldF9kb21haW4tPnNl
bSk7DQo+ICsgICAgICAgZWxzZQ0KPiArICAgICAgICAgICAgICAgdXBfcmVhZCgmYWRldi0+cmVz
ZXRfZG9tYWluLT5zZW0pOw0KPiArDQo+ICsgICAgICAgcmV0dXJuIHJldDsNCj4gK30NCj4gKw0K
PiArc3RhdGljIGJvb2wgYW1kZ3B1X3Jhc19zeXNfZGV0ZWN0X3Jhc19pbnRlcnJ1cHQoc3RydWN0
DQo+ICtyYXNfY29yZV9jb250ZXh0ICpyYXNfY29yZSkgew0KPiArICAgICAgIHJldHVybiAhIWF0
b21pY19yZWFkKCZhbWRncHVfcmFzX2luX2ludHIpOw0KPiArfQ0KPiArDQo+ICtzdGF0aWMgaW50
IGFtZGdwdV9yYXNfc3lzX2dldF9ncHVfbWVtKHN0cnVjdCByYXNfY29yZV9jb250ZXh0ICpyYXNf
Y29yZSwNCj4gKyAgICAgICBlbnVtIGdwdV9tZW1fdHlwZSBtZW1fdHlwZSwgc3RydWN0IGdwdV9t
ZW1fYmxvY2sgKmdwdV9tZW0pIHsNCj4gKyAgICAgICBzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRl
diA9IChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqKXJhc19jb3JlLT5kZXY7DQo+ICsgICAgICAgc3Ry
dWN0IHBzcF9jb250ZXh0ICpwc3AgPSAmYWRldi0+cHNwOw0KPiArICAgICAgIHN0cnVjdCBwc3Bf
cmluZyAqcHNwX3Jpbmc7DQo+ICsgICAgICAgc3RydWN0IHRhX21lbV9jb250ZXh0ICptZW1fY3R4
Ow0KPiArDQo+ICsgICAgICAgaWYgKG1lbV90eXBlID09IEdQVV9NRU1fVFlQRV9SQVNfUFNQX1JJ
TkcpIHsNCj4gKyAgICAgICAgICAgICAgIHBzcF9yaW5nID0gJnBzcC0+a21fcmluZzsNCj4gKyAg
ICAgICAgICAgICAgIGdwdV9tZW0tPm1lbV9ibyA9IGFkZXYtPmZpcm13YXJlLnJidWY7DQo+ICsg
ICAgICAgICAgICAgICBncHVfbWVtLT5tZW1fc2l6ZSA9IHBzcF9yaW5nLT5yaW5nX3NpemU7DQo+
ICsgICAgICAgICAgICAgICBncHVfbWVtLT5tZW1fbWNfYWRkciA9IHBzcF9yaW5nLT5yaW5nX21l
bV9tY19hZGRyOw0KPiArICAgICAgICAgICAgICAgZ3B1X21lbS0+bWVtX2NwdV9hZGRyID0gcHNw
X3JpbmctPnJpbmdfbWVtOw0KPiArICAgICAgIH0gZWxzZSBpZiAobWVtX3R5cGUgPT0gR1BVX01F
TV9UWVBFX1JBU19QU1BfQ01EKSB7DQo+ICsgICAgICAgICAgICAgICBncHVfbWVtLT5tZW1fYm8g
PSBwc3AtPmNtZF9idWZfYm87DQo+ICsgICAgICAgICAgICAgICBncHVfbWVtLT5tZW1fc2l6ZSA9
IFBTUF9DTURfQlVGRkVSX1NJWkU7DQo+ICsgICAgICAgICAgICAgICBncHVfbWVtLT5tZW1fbWNf
YWRkciA9IHBzcC0+Y21kX2J1Zl9tY19hZGRyOw0KPiArICAgICAgICAgICAgICAgZ3B1X21lbS0+
bWVtX2NwdV9hZGRyID0gcHNwLT5jbWRfYnVmX21lbTsNCj4gKyAgICAgICB9IGVsc2UgaWYgKG1l
bV90eXBlID09IEdQVV9NRU1fVFlQRV9SQVNfUFNQX0ZFTkNFKSB7DQo+ICsgICAgICAgICAgICAg
ICBncHVfbWVtLT5tZW1fYm8gPSBwc3AtPmZlbmNlX2J1Zl9ibzsNCj4gKyAgICAgICAgICAgICAg
IGdwdV9tZW0tPm1lbV9zaXplID0gUFNQX0ZFTkNFX0JVRkZFUl9TSVpFOw0KPiArICAgICAgICAg
ICAgICAgZ3B1X21lbS0+bWVtX21jX2FkZHIgPSBwc3AtPmZlbmNlX2J1Zl9tY19hZGRyOw0KPiAr
ICAgICAgICAgICAgICAgZ3B1X21lbS0+bWVtX2NwdV9hZGRyID0gcHNwLT5mZW5jZV9idWY7DQo+
ICsgICAgICAgfSBlbHNlIGlmIChtZW1fdHlwZSA9PSBHUFVfTUVNX1RZUEVfUkFTX1RBX0ZXKSB7
DQo+ICsgICAgICAgICAgICAgICBncHVfbWVtLT5tZW1fYm8gPSBwc3AtPmZ3X3ByaV9ibzsNCj4g
KyAgICAgICAgICAgICAgIGdwdV9tZW0tPm1lbV9zaXplID0gUFNQXzFfTUVHOw0KPiArICAgICAg
ICAgICAgICAgZ3B1X21lbS0+bWVtX21jX2FkZHIgPSBwc3AtPmZ3X3ByaV9tY19hZGRyOw0KPiAr
ICAgICAgICAgICAgICAgZ3B1X21lbS0+bWVtX2NwdV9hZGRyID0gcHNwLT5md19wcmlfYnVmOw0K
PiArICAgICAgIH0gZWxzZSBpZiAobWVtX3R5cGUgPT0gR1BVX01FTV9UWVBFX1JBU19UQV9DTUQp
IHsNCj4gKyAgICAgICAgICAgICAgIG1lbV9jdHggPSAmcHNwLT5yYXNfY29udGV4dC5jb250ZXh0
Lm1lbV9jb250ZXh0Ow0KPiArICAgICAgICAgICAgICAgZ3B1X21lbS0+bWVtX2JvID0gbWVtX2N0
eC0+c2hhcmVkX2JvOw0KPiArICAgICAgICAgICAgICAgZ3B1X21lbS0+bWVtX3NpemUgPSBtZW1f
Y3R4LT5zaGFyZWRfbWVtX3NpemU7DQo+ICsgICAgICAgICAgICAgICBncHVfbWVtLT5tZW1fbWNf
YWRkciA9IG1lbV9jdHgtPnNoYXJlZF9tY19hZGRyOw0KPiArICAgICAgICAgICAgICAgZ3B1X21l
bS0+bWVtX2NwdV9hZGRyID0gbWVtX2N0eC0+c2hhcmVkX2J1ZjsNCj4gKyAgICAgICB9IGVsc2Ug
ew0KPiArICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7DQo+ICsgICAgICAgfQ0KPiArDQo+
ICsgICAgICAgaWYgKCFncHVfbWVtLT5tZW1fYm8gfHwgIWdwdV9tZW0tPm1lbV9zaXplIHx8DQo+
ICsgICAgICAgICAgICAgICAhZ3B1X21lbS0+bWVtX21jX2FkZHIgfHwgIWdwdV9tZW0tPm1lbV9j
cHVfYWRkcikgew0KPiArICAgICAgICAgICAgICAgUkFTX0RFVl9FUlIocmFzX2NvcmUtPmRldiwg
IlRoZSByYXMgcHNwIGdwdSBtZW1vcnkgaXMgaW52YWxpZCFcbiIpOw0KPiArICAgICAgICAgICAg
ICAgcmV0dXJuIC1FTk9NRU07DQo+ICsgICAgICAgfQ0KPiArDQo+ICsgICAgICAgcmV0dXJuIDA7
DQo+ICt9DQo+ICsNCj4gK3N0YXRpYyBpbnQgYW1kZ3B1X3Jhc19zeXNfcHV0X2dwdV9tZW0oc3Ry
dWN0IHJhc19jb3JlX2NvbnRleHQgKnJhc19jb3JlLA0KPiArICAgICAgIGVudW0gZ3B1X21lbV90
eXBlIG1lbV90eXBlLCBzdHJ1Y3QgZ3B1X21lbV9ibG9jayAqZ3B1X21lbSkgew0KPiArDQo+ICsg
ICAgICAgcmV0dXJuIDA7DQo+ICt9DQo+ICsNCj4gK2NvbnN0IHN0cnVjdCByYXNfc3lzX2Z1bmMg
YW1kZ3B1X3Jhc19zeXNfZm4gPSB7DQo+ICsgICAgICAgLnJhc19ub3RpZmllciA9IGFtZGdwdV9y
YXNfc3lzX2V2ZW50X25vdGlmaWVyLA0KPiArICAgICAgIC5nZXRfdXRjX3NlY29uZF90aW1lc3Rh
bXAgPSBhbWRncHVfcmFzX3N5c19nZXRfdXRjX3NlY29uZF90aW1lc3RhbXAsDQo+ICsgICAgICAg
Lmdlbl9zZXFubyA9IGFtZGdwdV9yYXNfc3lzX2dlbl9zZXFubywNCj4gKyAgICAgICAuY2hlY2tf
Z3B1X3N0YXR1cyA9IGFtZGdwdV9yYXNfc3lzX2NoZWNrX2dwdV9zdGF0dXMsDQo+ICsgICAgICAg
LmdldF9kZXZpY2Vfc3lzdGVtX2luZm8gPSBhbWRncHVfcmFzX3N5c19nZXRfZGV2aWNlX3N5c3Rl
bV9pbmZvLA0KPiArICAgICAgIC5ncHVfcmVzZXRfbG9jayA9IGFtZGdwdV9yYXNfc3lzX2dwdV9y
ZXNldF9sb2NrLA0KPiArICAgICAgIC5kZXRlY3RfcmFzX2ludGVycnVwdCA9IGFtZGdwdV9yYXNf
c3lzX2RldGVjdF9yYXNfaW50ZXJydXB0LA0KPiArICAgICAgIC5nZXRfZ3B1X21lbSA9IGFtZGdw
dV9yYXNfc3lzX2dldF9ncHVfbWVtLA0KPiArICAgICAgIC5wdXRfZ3B1X21lbSA9IGFtZGdwdV9y
YXNfc3lzX3B1dF9ncHVfbWVtLCB9Ow0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9yYXMvcmFzX21nci9yYXNfc3lzLmgNCj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Jhcy9yYXNf
bWdyL3Jhc19zeXMuaA0KPiBuZXcgZmlsZSBtb2RlIDEwMDY0NA0KPiBpbmRleCAwMDAwMDAwMDAw
MDAuLmM0OGZmMjY1MjVkNg0KPiAtLS0gL2Rldi9udWxsDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvcmFzL3Jhc19tZ3IvcmFzX3N5cy5oDQo+IEBAIC0wLDAgKzEsMTA5IEBADQo+ICsvKiBT
UERYLUxpY2Vuc2UtSWRlbnRpZmllcjogTUlUICovDQo+ICsvKg0KPiArICogQ29weXJpZ2h0IDIw
MjUgQWR2YW5jZWQgTWljcm8gRGV2aWNlcywgSW5jLg0KPiArICoNCj4gKyAqIFBlcm1pc3Npb24g
aXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uDQo+ICtvYnRh
aW5pbmcgYQ0KPiArICogY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3Vt
ZW50YXRpb24gZmlsZXMgKHRoZQ0KPiArIlNvZnR3YXJlIiksDQo+ICsgKiB0byBkZWFsIGluIHRo
ZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dA0KPiArbGlt
aXRhdGlvbg0KPiArICogdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1
Ymxpc2gsIGRpc3RyaWJ1dGUsDQo+ICtzdWJsaWNlbnNlLA0KPiArICogYW5kL29yIHNlbGwgY29w
aWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20NCj4gK3Ro
ZQ0KPiArICogU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBm
b2xsb3dpbmcgY29uZGl0aW9uczoNCj4gKyAqDQo+ICsgKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5v
dGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZQ0KPiAraW5jbHVkZWQgaW4N
Cj4gKyAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJl
Lg0KPiArICoNCj4gKyAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VU
IFdBUlJBTlRZIE9GIEFOWSBLSU5ELA0KPiArRVhQUkVTUyBPUg0KPiArICogSU1QTElFRCwgSU5D
TFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRg0KPiArTUVSQ0hBTlRB
QklMSVRZLA0KPiArICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklO
RlJJTkdFTUVOVC4gIElOIE5PIEVWRU5UDQo+ICtTSEFMTA0KPiArICogVEhFIENPUFlSSUdIVCBI
T0xERVIoUykgT1IgQVVUSE9SKFMpIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLA0KPiArREFNQUdF
UyBPUg0KPiArICogT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05U
UkFDVCwgVE9SVCBPUg0KPiArT1RIRVJXSVNFLA0KPiArICogQVJJU0lORyBGUk9NLCBPVVQgT0Yg
T1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFDQo+ICtPUg0KPiAr
ICogT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLg0KPiArICoNCj4gKyAqLw0KPiArDQo+
ICsjaWZuZGVmIF9fUkFTX1NZU19IX18NCj4gKyNkZWZpbmUgX19SQVNfU1lTX0hfXw0KPiArI2lu
Y2x1ZGUgPGxpbnV4L3N0ZGFyZy5oPg0KPiArI2luY2x1ZGUgPGxpbnV4L3ByaW50ay5oPg0KPiAr
I2luY2x1ZGUgPGxpbnV4L2Rldl9wcmludGsuaD4NCj4gKyNpbmNsdWRlICJhbWRncHUuaCINCj4g
Kw0KPiArI2RlZmluZSBSQVNfREVWX0VSUihkZXZpY2UsIGZtdCwgLi4uKSAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXA0KPiArICAgICAgIGRvIHsgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgXA0KPiArICAgICAgICAgICAgICAgaWYgKGRldmljZSkgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXA0KPiArICAgICAgICAg
ICAgICAgICAgICAgICBkZXZfZXJyKCgoc3RydWN0IGFtZGdwdV9kZXZpY2UgKilkZXZpY2UpLT5k
ZXYsIGZtdCwgIyNfX1ZBX0FSR1NfXyk7IFwNCj4gKyAgICAgICAgICAgICAgIGVsc2UgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBcDQo+ICsgICAgICAgICAgICAgICAgICAgICAgIHByaW50ayhLRVJOX0VSUiBmbXQsICMjX19W
QV9BUkdTX18pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwNCj4gKyAgICAgICB9IHdo
aWxlICgwKQ0KPiArDQo+ICsjZGVmaW5lIFJBU19ERVZfV0FSTihkZXZpY2UsIGZtdCwgLi4uKSAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXA0KPiArICAgICAg
IGRvIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIFwNCj4gKyAgICAgICAgICAgICAgIGlmIChkZXZpY2UpICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBc
DQo+ICsgICAgICAgICAgICAgICAgICAgICAgIGRldl93YXJuKCgoc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKilkZXZpY2UpLT5kZXYsIGZtdCwgIyNfX1ZBX0FSR1NfXyk7IFwNCj4gKyAgICAgICAgICAg
ICAgIGVsc2UgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgXA0KPiArICAgICAgICAgICAgICAgICAgICAgICBwcmludGsoS0VS
Tl9XQVJOSU5HIGZtdCwgIyNfX1ZBX0FSR1NfXyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAg
XA0KPiArICAgICAgIH0gd2hpbGUgKDApDQo+ICsNCj4gKyNkZWZpbmUgUkFTX0RFVl9JTkZPKGRl
dmljZSwgZm10LCAuLi4pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIFwNCj4gKyAgICAgICBkbyB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwNCj4gKyAgICAgICAgICAg
ICAgIGlmIChkZXZpY2UpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIFwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgZGV2X2lu
Zm8oKChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqKWRldmljZSktPmRldiwgZm10LCAjI19fVkFfQVJH
U19fKTsgICBcDQo+ICsgICAgICAgICAgICAgICBlbHNlICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXA0KPiArICAgICAg
ICAgICAgICAgICAgICAgICBwcmludGsoS0VSTl9JTkZPIGZtdCwgIyNfX1ZBX0FSR1NfXyk7ICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcDQo+ICsgICAgICAgfSB3aGlsZSAoMCkNCj4g
Kw0KPiArI2RlZmluZSBSQVNfREVWX0RCRyhkZXZpY2UsIGZtdCwgLi4uKSAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXA0KPiArICAgICAgIGRvIHsgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgXA0KPiArICAgICAgICAgICAgICAgaWYgKGRldmljZSkgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXA0KPiAr
ICAgICAgICAgICAgICAgICAgICAgICBkZXZfZGJnKCgoc3RydWN0IGFtZGdwdV9kZXZpY2UgKilk
ZXZpY2UpLT5kZXYsIGZtdCwgIyNfX1ZBX0FSR1NfXyk7ICAgIFwNCj4gKyAgICAgICAgICAgICAg
IGVsc2UgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBcDQo+ICsgICAgICAgICAgICAgICAgICAgICAgIHByaW50ayhLRVJO
X0RFQlVHIGZtdCwgIyNfX1ZBX0FSR1NfXyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IFwNCj4gKyAgICAgICB9IHdoaWxlICgwKQ0KPiArDQo+ICsjZGVmaW5lIFJBU19JTkZPKGZtdCwg
Li4uKSAgcHJpbnRrKEtFUk5fSU5GTyBmbXQsICMjX19WQV9BUkdTX18pDQoNCj4gV2h5IGRvIHdl
IG5lZWQgdGhlc2Ugd3JhcHBlcnM/ICBJcyB0aGVyZSBldmVyIGEgY2FzZSB3aGVyZSB3ZSBkb24n
dCBoYXZlIGEgZGV2aWNlPw0KDQo+IEFsZXgNCg0KW1Rob21hc10gV3JhcHBlcnMgYXJlIG9ubHkg
Y2FsbGVkIGluIHJhcyBtb2R1bGUsIGR1cmluZyB0aGUgaW5pdGlhbGl6YXRpb24gb2YgdGhlIHJh
cyBtb2R1bGUgLGJlZm9yZSBhbWRncHUgZGV2aWNlIHBvaW50ZXIgaXMgYXR0YWNoZWQgdG8gcmFz
IGRldmljZSwgdGhlc2Ugd3JhcHBlcnMgYXJlIGNhbGxlZCBhbmQgZGV2aWNlIHdpbGwgYmUgTlVM
TC4NCg0KPiArDQo+ICsjZGVmaW5lIFJBU19ERVZfUlJFRzMyX1NPQzE1KGRldiwgaXAsIGluc3Qs
IHJlZykgXCAoeyBcDQo+ICsgICAgICAgc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSAoc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKilkZXY7IFwNCj4gKyAgICAgICBfX1JSRUczMl9TT0MxNV9STENf
XyhhZGV2LT5yZWdfb2Zmc2V0W2lwIyNfSFdJUF1baW5zdF1bcmVnIyNfQkFTRV9JRFhdICsgcmVn
LCBcDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAwLCBpcCMjX0hXSVAsIGluc3QpOyBcDQo+
ICt9KQ0KPiArDQo+ICsjZGVmaW5lIFJBU19ERVZfV1JFRzMyX1NPQzE1KGRldiwgaXAsIGluc3Qs
IHJlZywgdmFsdWUpIFwgKHsgXA0KPiArICAgICAgIHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2
ID0gKHN0cnVjdCBhbWRncHVfZGV2aWNlICopZGV2OyBcDQo+ICsgICAgICAgX19XUkVHMzJfU09D
MTVfUkxDX18oKGFkZXYtPnJlZ19vZmZzZXRbaXAjI19IV0lQXVtpbnN0XVtyZWcjI19CQVNFX0lE
WF0gKyByZWcpLCBcDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUsIDAsIGlwIyNf
SFdJUCwgaW5zdCk7IFwNCj4gK30pDQo+ICsNCj4gKy8qIEdFVF9JTlNUIHJldHVybnMgdGhlIHBo
eXNpY2FsIGluc3RhbmNlIGNvcnJlc3BvbmRpbmcgdG8gYSBsb2dpY2FsDQo+ICtpbnN0YW5jZSAq
LyAjZGVmaW5lIFJBU19HRVRfSU5TVChkZXYsIGlwLCBpbnN0KSBcICh7IFwNCj4gKyAgICAgICBz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqKWRldjsg
XA0KPiArICAgICAgIGFkZXYtPmlwX21hcC5sb2dpY2FsX3RvX2Rldl9pbnN0ID8gXA0KPiArICAg
ICAgICAgICAgICAgYWRldi0+aXBfbWFwLmxvZ2ljYWxfdG9fZGV2X2luc3QoYWRldiwgaXAjI19I
V0lQLA0KPiAraW5zdCkgOiBpbnN0OyBcDQo+ICt9KQ0KPiArDQo+ICsjZGVmaW5lIFJBU19HRVRf
TUFTSyhkZXYsIGlwLCBtYXNrKSBcICh7IFwNCj4gKyAgICAgICBzdHJ1Y3QgYW1kZ3B1X2Rldmlj
ZSAqYWRldiA9IChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqKWRldjsgXA0KPiArICAgICAgIChhZGV2
LT5pcF9tYXAubG9naWNhbF90b19kZXZfbWFzayA/IFwNCj4gKyAgICAgICAgICAgICAgIGFkZXYt
PmlwX21hcC5sb2dpY2FsX3RvX2Rldl9tYXNrKGFkZXYsIGlwIyNfSFdJUCwNCj4gK21hc2spIDog
bWFzayk7IFwNCj4gK30pDQo+ICsNCj4gK3N0YXRpYyBpbmxpbmUgdm9pZCAqcmFzX3JhZGl4X3Ry
ZWVfZGVsZXRlX2l0ZXIoc3RydWN0IHJhZGl4X3RyZWVfcm9vdA0KPiArKnJvb3QsIHZvaWQgKml0
ZXIpIHsNCj4gKyAgICAgICByZXR1cm4gcmFkaXhfdHJlZV9kZWxldGUocm9vdCwgKChzdHJ1Y3Qg
cmFkaXhfdHJlZV9pdGVyDQo+ICsqKWl0ZXIpLT5pbmRleCk7IH0NCj4gKw0KPiArc3RhdGljIGlu
bGluZSBsb25nIHJhc193YWl0X2V2ZW50X2ludGVycnVwdGlibGVfdGltZW91dCh2b2lkICp3cV9o
ZWFkLA0KPiArICAgICAgICAgICAgICAgICAgICAgICBpbnQgKCpjb25kaXRpb24pKHZvaWQgKnBh
cmFtKSwgdm9pZCAqcGFyYW0sDQo+ICt1bnNpZ25lZCBpbnQgdGltZW91dCkgew0KPiArICAgICAg
IHJldHVybiB3YWl0X2V2ZW50X2ludGVycnVwdGlibGVfdGltZW91dCgqKHdhaXRfcXVldWVfaGVh
ZF90ICopd3FfaGVhZCwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25kaXRp
b24ocGFyYW0pLCB0aW1lb3V0KTsgfQ0KPiArDQo+ICtleHRlcm4gY29uc3Qgc3RydWN0IHJhc19z
eXNfZnVuYyBhbWRncHVfcmFzX3N5c19mbjsNCj4gKw0KPiArI2VuZGlmDQo+IC0tDQo+IDIuMzQu
MQ0KPg0K
