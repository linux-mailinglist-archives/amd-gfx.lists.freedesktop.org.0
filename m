Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 50F156ECCC
	for <lists+amd-gfx@lfdr.de>; Sat, 20 Jul 2019 01:46:57 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 6DA976E876;
	Fri, 19 Jul 2019 23:46:55 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM03-CO1-obe.outbound.protection.outlook.com
 (mail-eopbgr790054.outbound.protection.outlook.com [40.107.79.54])
 by gabe.freedesktop.org (Postfix) with ESMTPS id F18C16E876
 for <amd-gfx@lists.freedesktop.org>; Fri, 19 Jul 2019 23:46:53 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=kI6F+Fs784YO/AjfEO5VmTC8eDrAZh29WhOw0zvx7jE8ZcQf6TNCrhaBX+G7/0AhcbOLkaNg4xGLKFeQg7ngD7wUXwnQoWmrYWWxF0wSjBdKXJJe0E1I4P42agdFBpHXw7LT5uJY830L1Sbtn5Ib/J/WaR2IpKE/YNdWy+vUxegNT7YuaMFdXJzFxCn4VNqv/bf/bSvSxiP6KCottVEMJ1/ORrOEcfBWUQtLPo6dCMcezKeBlszxVMfO0iJit2+dZ8J9VO9uh52sNRwsC3fq3zEMMKuZxptO9XJ5vDYDgqPyIhQF7TvldBnaLt8dAzGAJciBbjkpQYosd3fbEaegmQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=jl03GTJridag3vjdnSlV2R7TexWJsnQmJ5s4XBPqLpQ=;
 b=N32M7epurUi33UlJCBcFnZ/SXV5i05/foa5k7TgrqaEYrElEBaXhNv6I63rbVjZ/xGg/O266d07rwQLa/9NPki+XnP6nEI/dhN/eNVc7ohhjabBUMUgbaAN2j1ThM2FE1qpYHEAb933humcnXe2oUv11LRihOSHqd37NbivggftbUdUyH4nfqwJF7xXPFQDOrqeMlO8VLe99nzguppgeizEOMR8na5EGFIwhrgCBwbCFQtCaooNo59GSH8ryUOwBzKW2QaAM0TcmtpVFncrw+kjzA4E4ltZn9BA2zkmFLyP0qy8cHqhgpaHWfvRyNspc9YD1kT48pi6PwWRJBiD1oQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1;spf=pass
 smtp.mailfrom=amd.com;dmarc=pass action=none header.from=amd.com;dkim=pass
 header.d=amd.com;arc=none
Received: from CY4PR12MB1767.namprd12.prod.outlook.com (10.175.62.137) by
 CY4PR12MB1942.namprd12.prod.outlook.com (10.175.82.19) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2073.14; Fri, 19 Jul 2019 23:46:51 +0000
Received: from CY4PR12MB1767.namprd12.prod.outlook.com
 ([fe80::9d27:7add:4f59:7269]) by CY4PR12MB1767.namprd12.prod.outlook.com
 ([fe80::9d27:7add:4f59:7269%5]) with mapi id 15.20.2073.012; Fri, 19 Jul 2019
 23:46:51 +0000
From: "Greathouse, Joseph" <Joseph.Greathouse@amd.com>
To: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: [PATCH] drm/amdgpu: Default disable GDS for compute+gfx
Thread-Topic: [PATCH] drm/amdgpu: Default disable GDS for compute+gfx
Thread-Index: AQHVPow8+o4E5wJXREyPAXXyKoQMZw==
Date: Fri, 19 Jul 2019 23:46:51 +0000
Message-ID: <20190719234612.8198-1-Joseph.Greathouse@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-mailer: git-send-email 2.19.1
x-clientproxiedby: SN2PR01CA0041.prod.exchangelabs.com (2603:10b6:804:2::51)
 To CY4PR12MB1767.namprd12.prod.outlook.com (2603:10b6:903:121::9)
x-ms-exchange-messagesentrepresentingtype: 1
x-originating-ip: [165.204.78.2]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: d5fbb432-0159-41f6-84d8-08d70ca35f11
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:CY4PR12MB1942; 
x-ms-traffictypediagnostic: CY4PR12MB1942:
x-microsoft-antispam-prvs: <CY4PR12MB19427484BE1A7F84A851D79AF9CB0@CY4PR12MB1942.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:4303;
x-forefront-prvs: 01039C93E4
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(136003)(376002)(396003)(39860400002)(366004)(346002)(199004)(189003)(6436002)(5660300002)(256004)(2616005)(66066001)(6116002)(4326008)(3846002)(478600001)(52116002)(102836004)(186003)(26005)(6512007)(53936002)(14444005)(6506007)(5640700003)(2351001)(6486002)(476003)(99286004)(2906002)(71190400001)(305945005)(71200400001)(7736002)(36756003)(2501003)(486006)(25786009)(6916009)(81156014)(81166006)(50226002)(14454004)(54906003)(386003)(1076003)(316002)(8676002)(8936002)(66446008)(64756008)(68736007)(66556008)(66946007)(66476007)(86362001);
 DIR:OUT; SFP:1101; SCL:1; SRVR:CY4PR12MB1942;
 H:CY4PR12MB1767.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: yQQvnxZlk5z4BmK1jRVfHezilVjdd7fo0gfOQgnbXHkznr9dqEhlPComrcXNwWoJdfimmWqimEpdIscmOEEVfLfO5Qn3HnIRcNvZ2ZEbcQmmwx7inBrhHEFlogjq1dnVvDVh4zlGrOduUWdqu+94wBPc8rkv9OkVOPPGFbqlrFCQeXYBJhgwnWBKkyN8AVxp6KuqNBNWHl3G/usaNzMYqxvnCT+1DnNg7ZRqhIYO9nIvxjBCVepsRu01KFW0FH8Way86HfU8tPA1Cc9Q4DgJ6m3w/I424hW6nRJW6NGlGnpqPy+QWMarVlZcpsxROr4QIWiAdC0u2+01SZkDEMea9hFMX3ehb/bbQPGB/lJasM85dGhaAYD7E6rFJJTL1umorgw96pIB2JIeL65yGiWJRMDAxI+TSYA8Y5XZbxqlsUk=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: d5fbb432-0159-41f6-84d8-08d70ca35f11
X-MS-Exchange-CrossTenant-originalarrivaltime: 19 Jul 2019 23:46:51.4388 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: jgreatho@amd.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: CY4PR12MB1942
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=jl03GTJridag3vjdnSlV2R7TexWJsnQmJ5s4XBPqLpQ=;
 b=0yibD4WsaeNxsCe7iZwgmos2fmx9f+cuHDoyFCK/W4Ertpm5zeDF4TMizQByPv77rP2iyoRBVoNWuPBG+7OSuNJEIl91PuRidwXVDmI1flW1Lp7e+9o1JlBGXUBmHQU7LRyY1XRvZZf0KqMujjsTANZFTj4xw3+fnxWQLa8VQZM=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Joseph.Greathouse@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Olsak, Marek" <Marek.Olsak@amd.com>, "Koenig,
 Christian" <Christian.Koenig@amd.com>, "Greathouse,
 Joseph" <Joseph.Greathouse@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

VW5pdHMgaW4gdGhlIEdEUyBibG9jayBkZWZhdWx0IHRvIGFsbG93aW5nIGFsbCBWTUlEcyBhY2Nl
c3MKdG8gYWxsIGVudHJpZXMuIERpc2FibGUgc2hhZGVyIGFjY2VzcyB0byB0aGUgR0RTLCBHV1Ms
IGFuZCBPQQpibG9ja3MgZnJvbSBhbGwgY29tcHV0ZSBhbmQgZ2Z4IFZNSURzIGJ5IGRlZmF1bHQu
IEZvciBjb21wdXRlLApIV1MgZmlybXdhcmUgd2lsbCBzZXQgdXAgdGhlIGFjY2VzcyBiaXRzIGZv
ciB0aGUgYXBwcm9wcmlhdGUKVk1JRCB3aGVuIGEgY29tcHV0ZSBxdWV1ZSByZXF1aXJlcyBhY2Nl
c3MgdG8gdGhlc2UgYmxvY2tzLgpUaGUgZHJpdmVyIHdpbGwgaGFuZGxlIGVuYWJsaW5nIGFjY2Vz
cyBvbi1kZW1hbmQgZm9yIGdyYXBoaWNzClZNSURzLgoKTGVhdmluZyBWTUlEMCB3aXRoIGZ1bGwg
YWNjZXNzIGJlY2F1c2Ugb3RoZXJ3aXNlIEhXUyBjYW5ub3Qgc2F2ZQpvciByZXN0b3JlIHZhbHVl
cyBkdXJpbmcgdGFzayBzd2l0Y2guCgpTaWduZWQtb2ZmLWJ5OiBKb3NlcGggR3JlYXRob3VzZSA8
Sm9zZXBoLkdyZWF0aG91c2VAYW1kLmNvbT4KLS0tCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9nZnhfdjEwXzAuYyB8IDIyICsrKysrKysrKysrKysrKy0tLS0tLS0KIGRyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2dmeF92N18wLmMgIHwgMjEgKysrKysrKysrKysrKystLS0tLS0tCiBkcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjhfMC5jICB8IDIxICsrKysrKysrKysrKysrLS0t
LS0tLQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3Y5XzAuYyAgfCAyMSArKysrKysr
KysrKysrKy0tLS0tLS0KIDQgZmlsZXMgY2hhbmdlZCwgNTcgaW5zZXJ0aW9ucygrKSwgMjggZGVs
ZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3Yx
MF8wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjEwXzAuYwppbmRleCA3M2Rj
YjYzMmEzY2UuLjYxNTgzOGE1NWU4ZiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvZ2Z4X3YxMF8wLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3Yx
MF8wLmMKQEAgLTE1MTYsMTcgKzE1MTYsMjQgQEAgc3RhdGljIHZvaWQgZ2Z4X3YxMF8wX2luaXRf
Y29tcHV0ZV92bWlkKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQogCX0KIAludl9ncmJtX3Nl
bGVjdChhZGV2LCAwLCAwLCAwLCAwKTsKIAltdXRleF91bmxvY2soJmFkZXYtPnNyYm1fbXV0ZXgp
OworfQogCi0JLyogSW5pdGlhbGl6ZSBhbGwgY29tcHV0ZSBWTUlEcyB0byBoYXZlIG5vIEdEUywg
R1dTLCBvciBPQQotCSAgIGFjY2Nlc3MuIFRoZXNlIHNob3VsZCBiZSBlbmFibGVkIGJ5IEZXIGZv
ciB0YXJnZXQgVk1JRHMuICovCi0JZm9yIChpID0gRklSU1RfQ09NUFVURV9WTUlEOyBpIDwgTEFT
VF9DT01QVVRFX1ZNSUQ7IGkrKykgewotCQlXUkVHMzJfU09DMTVfT0ZGU0VUKEdDLCAwLCBtbUdE
U19WTUlEMF9CQVNFLCAyICogaSwgMCk7Ci0JCVdSRUczMl9TT0MxNV9PRkZTRVQoR0MsIDAsIG1t
R0RTX1ZNSUQwX1NJWkUsIDIgKiBpLCAwKTsKLQkJV1JFRzMyX1NPQzE1X09GRlNFVChHQywgMCwg
bW1HRFNfR1dTX1ZNSUQwLCBpLCAwKTsKLQkJV1JFRzMyX1NPQzE1X09GRlNFVChHQywgMCwgbW1H
RFNfT0FfVk1JRDAsIGksIDApOworc3RhdGljIHZvaWQgZ2Z4X3YxMF8wX2luaXRfZ2RzX3ZtaWQo
c3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCit7CisJaW50IHZtaWQ7CisJLyogSW5pdGlhbGl6
ZSBhbGwgY29tcHV0ZSBhbmQgdXNlci1nZnggVk1JRHMgdG8gaGF2ZSBubyBHRFMsIEdXUywgb3Ig
T0EKKwkgICBhY2NjZXNzLiBDb21wdXRlIFZNSURzIHNob3VsZCBiZSBlbmFibGVkIGJ5IEZXIGZv
ciB0YXJnZXQgVk1JRHMsCisJICAgdGhlIGRyaXZlciBjYW4gZW5hYmxlIHRoZW0gZm9yIGdyYXBo
aWNzLiBWTUlEMCBzaG91bGQgbWFpbnRhaW4KKwkgICBhY2Nlc3Mgc28gdGhhdCBIV1MgZmlybXdh
cmUgY2FuIHNhdmUvcmVzdG9yZSBlbnRyaWVzLiAqLworCWZvciAodm1pZCA9IDE7IHZtaWQgPCAx
Njsgdm1pZCsrKSB7CisJCVdSRUczMl9TT0MxNV9PRkZTRVQoR0MsIDAsIG1tR0RTX1ZNSUQwX0JB
U0UsIDIgKiB2bWlkLCAwKTsKKwkJV1JFRzMyX1NPQzE1X09GRlNFVChHQywgMCwgbW1HRFNfVk1J
RDBfU0laRSwgMiAqIHZtaWQsIDApOworCQlXUkVHMzJfU09DMTVfT0ZGU0VUKEdDLCAwLCBtbUdE
U19HV1NfVk1JRDAsIHZtaWQsIDApOworCQlXUkVHMzJfU09DMTVfT0ZGU0VUKEdDLCAwLCBtbUdE
U19PQV9WTUlEMCwgdm1pZCwgMCk7CiAJfQogfQogCisKIHN0YXRpYyB2b2lkIGdmeF92MTBfMF90
Y3BfaGFydmVzdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKIHsKIAlpbnQgaSwgaiwgazsK
QEAgLTE2MjksNiArMTYzNiw3IEBAIHN0YXRpYyB2b2lkIGdmeF92MTBfMF9jb25zdGFudHNfaW5p
dChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKIAltdXRleF91bmxvY2soJmFkZXYtPnNyYm1f
bXV0ZXgpOwogCiAJZ2Z4X3YxMF8wX2luaXRfY29tcHV0ZV92bWlkKGFkZXYpOworCWdmeF92MTBf
MF9pbml0X2dkc192bWlkKGFkZXYpOwogCiB9CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2dmeF92N18wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhf
djdfMC5jCmluZGV4IDNmOTg2MjQ3NzJhNC4uMDRlNTJmN2UwNGFlIDEwMDY0NAotLS0gYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjdfMC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2dmeF92N18wLmMKQEAgLTE4NzcsMTQgKzE4NzcsMjAgQEAgc3RhdGljIHZvaWQg
Z2Z4X3Y3XzBfaW5pdF9jb21wdXRlX3ZtaWQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCiAJ
fQogCWNpa19zcmJtX3NlbGVjdChhZGV2LCAwLCAwLCAwLCAwKTsKIAltdXRleF91bmxvY2soJmFk
ZXYtPnNyYm1fbXV0ZXgpOworfQogCi0JLyogSW5pdGlhbGl6ZSBhbGwgY29tcHV0ZSBWTUlEcyB0
byBoYXZlIG5vIEdEUywgR1dTLCBvciBPQQotCSAgIGFjY2Nlc3MuIFRoZXNlIHNob3VsZCBiZSBl
bmFibGVkIGJ5IEZXIGZvciB0YXJnZXQgVk1JRHMuICovCi0JZm9yIChpID0gRklSU1RfQ09NUFVU
RV9WTUlEOyBpIDwgTEFTVF9DT01QVVRFX1ZNSUQ7IGkrKykgewotCQlXUkVHMzIoYW1kZ3B1X2dk
c19yZWdfb2Zmc2V0W2ldLm1lbV9iYXNlLCAwKTsKLQkJV1JFRzMyKGFtZGdwdV9nZHNfcmVnX29m
ZnNldFtpXS5tZW1fc2l6ZSwgMCk7Ci0JCVdSRUczMihhbWRncHVfZ2RzX3JlZ19vZmZzZXRbaV0u
Z3dzLCAwKTsKLQkJV1JFRzMyKGFtZGdwdV9nZHNfcmVnX29mZnNldFtpXS5vYSwgMCk7CitzdGF0
aWMgdm9pZCBnZnhfdjdfMF9pbml0X2dkc192bWlkKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2
KQoreworCWludCB2bWlkOworCS8qIEluaXRpYWxpemUgYWxsIGNvbXB1dGUgYW5kIHVzZXItZ2Z4
IFZNSURzIHRvIGhhdmUgbm8gR0RTLCBHV1MsIG9yIE9BCisJICAgYWNjY2Vzcy4gQ29tcHV0ZSBW
TUlEcyBzaG91bGQgYmUgZW5hYmxlZCBieSBGVyBmb3IgdGFyZ2V0IFZNSURzLAorCSAgIHRoZSBk
cml2ZXIgY2FuIGVuYWJsZSB0aGVtIGZvciBncmFwaGljcy4gVk1JRDAgc2hvdWxkIG1haW50YWlu
CisJICAgYWNjZXNzIHNvIHRoYXQgSFdTIGZpcm13YXJlIGNhbiBzYXZlL3Jlc3RvcmUgZW50cmll
cy4gKi8KKwlmb3IgKHZtaWQgPSAxOyB2bWlkIDwgMTY7IHZtaWQrKykgeworCQlXUkVHMzIoYW1k
Z3B1X2dkc19yZWdfb2Zmc2V0W3ZtaWRdLm1lbV9iYXNlLCAwKTsKKwkJV1JFRzMyKGFtZGdwdV9n
ZHNfcmVnX29mZnNldFt2bWlkXS5tZW1fc2l6ZSwgMCk7CisJCVdSRUczMihhbWRncHVfZ2RzX3Jl
Z19vZmZzZXRbdm1pZF0uZ3dzLCAwKTsKKwkJV1JFRzMyKGFtZGdwdV9nZHNfcmVnX29mZnNldFt2
bWlkXS5vYSwgMCk7CiAJfQogfQogCkBAIC0xOTY2LDYgKzE5NzIsNyBAQCBzdGF0aWMgdm9pZCBn
ZnhfdjdfMF9jb25zdGFudHNfaW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKIAltdXRl
eF91bmxvY2soJmFkZXYtPnNyYm1fbXV0ZXgpOwogCiAJZ2Z4X3Y3XzBfaW5pdF9jb21wdXRlX3Zt
aWQoYWRldik7CisJZ2Z4X3Y3XzBfaW5pdF9nZHNfdm1pZChhZGV2KTsKIAogCVdSRUczMihtbVNY
X0RFQlVHXzEsIDB4MjApOwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9nZnhfdjhfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3Y4XzAuYwppbmRl
eCBlNDAyOGQ1NGY4ZjcuLjhkYzAzZGY0OGUwNCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvZ2Z4X3Y4XzAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9n
ZnhfdjhfMC5jCkBAIC0zNzAyLDE0ICszNzAyLDIwIEBAIHN0YXRpYyB2b2lkIGdmeF92OF8wX2lu
aXRfY29tcHV0ZV92bWlkKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQogCX0KIAl2aV9zcmJt
X3NlbGVjdChhZGV2LCAwLCAwLCAwLCAwKTsKIAltdXRleF91bmxvY2soJmFkZXYtPnNyYm1fbXV0
ZXgpOworfQogCi0JLyogSW5pdGlhbGl6ZSBhbGwgY29tcHV0ZSBWTUlEcyB0byBoYXZlIG5vIEdE
UywgR1dTLCBvciBPQQotCSAgIGFjY2Nlc3MuIFRoZXNlIHNob3VsZCBiZSBlbmFibGVkIGJ5IEZX
IGZvciB0YXJnZXQgVk1JRHMuICovCi0JZm9yIChpID0gRklSU1RfQ09NUFVURV9WTUlEOyBpIDwg
TEFTVF9DT01QVVRFX1ZNSUQ7IGkrKykgewotCQlXUkVHMzIoYW1kZ3B1X2dkc19yZWdfb2Zmc2V0
W2ldLm1lbV9iYXNlLCAwKTsKLQkJV1JFRzMyKGFtZGdwdV9nZHNfcmVnX29mZnNldFtpXS5tZW1f
c2l6ZSwgMCk7Ci0JCVdSRUczMihhbWRncHVfZ2RzX3JlZ19vZmZzZXRbaV0uZ3dzLCAwKTsKLQkJ
V1JFRzMyKGFtZGdwdV9nZHNfcmVnX29mZnNldFtpXS5vYSwgMCk7CitzdGF0aWMgdm9pZCBnZnhf
djhfMF9pbml0X2dkc192bWlkKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQoreworCWludCB2
bWlkOworCS8qIEluaXRpYWxpemUgYWxsIGNvbXB1dGUgYW5kIHVzZXItZ2Z4IFZNSURzIHRvIGhh
dmUgbm8gR0RTLCBHV1MsIG9yIE9BCisJICAgYWNjY2Vzcy4gQ29tcHV0ZSBWTUlEcyBzaG91bGQg
YmUgZW5hYmxlZCBieSBGVyBmb3IgdGFyZ2V0IFZNSURzLAorCSAgIHRoZSBkcml2ZXIgY2FuIGVu
YWJsZSB0aGVtIGZvciBncmFwaGljcy4gVk1JRDAgc2hvdWxkIG1haW50YWluCisJICAgYWNjZXNz
IHNvIHRoYXQgSFdTIGZpcm13YXJlIGNhbiBzYXZlL3Jlc3RvcmUgZW50cmllcy4gKi8KKwlmb3Ig
KHZtaWQgPSAxOyB2bWlkIDwgMTY7IHZtaWQrKykgeworICAgICAgICAgICAgICAgIFdSRUczMihh
bWRncHVfZ2RzX3JlZ19vZmZzZXRbdm1pZF0ubWVtX2Jhc2UsIDApOworICAgICAgICAgICAgICAg
IFdSRUczMihhbWRncHVfZ2RzX3JlZ19vZmZzZXRbdm1pZF0ubWVtX3NpemUsIDApOworICAgICAg
ICAgICAgICAgIFdSRUczMihhbWRncHVfZ2RzX3JlZ19vZmZzZXRbdm1pZF0uZ3dzLCAwKTsKKyAg
ICAgICAgICAgICAgICBXUkVHMzIoYW1kZ3B1X2dkc19yZWdfb2Zmc2V0W3ZtaWRdLm9hLCAwKTsK
IAl9CiB9CiAKQEAgLTM3NzksNiArMzc4NSw3IEBAIHN0YXRpYyB2b2lkIGdmeF92OF8wX2NvbnN0
YW50c19pbml0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQogCW11dGV4X3VubG9jaygmYWRl
di0+c3JibV9tdXRleCk7CiAKIAlnZnhfdjhfMF9pbml0X2NvbXB1dGVfdm1pZChhZGV2KTsKKwln
ZnhfdjhfMF9pbml0X2dkc192bWlkKGFkZXYpOwogCiAJbXV0ZXhfbG9jaygmYWRldi0+Z3JibV9p
ZHhfbXV0ZXgpOwogCS8qCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9n
ZnhfdjlfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3Y5XzAuYwppbmRleCAy
NTlhMzUzOTVmZWMuLmUwZjE0NWZmZDU5NyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvZ2Z4X3Y5XzAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhf
djlfMC5jCkBAIC0yMDI1LDE0ICsyMDI1LDIwIEBAIHN0YXRpYyB2b2lkIGdmeF92OV8wX2luaXRf
Y29tcHV0ZV92bWlkKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQogCX0KIAlzb2MxNV9ncmJt
X3NlbGVjdChhZGV2LCAwLCAwLCAwLCAwKTsKIAltdXRleF91bmxvY2soJmFkZXYtPnNyYm1fbXV0
ZXgpOworfQogCi0JLyogSW5pdGlhbGl6ZSBhbGwgY29tcHV0ZSBWTUlEcyB0byBoYXZlIG5vIEdE
UywgR1dTLCBvciBPQQotCSAgIGFjY2Nlc3MuIFRoZXNlIHNob3VsZCBiZSBlbmFibGVkIGJ5IEZX
IGZvciB0YXJnZXQgVk1JRHMuICovCi0JZm9yIChpID0gRklSU1RfQ09NUFVURV9WTUlEOyBpIDwg
TEFTVF9DT01QVVRFX1ZNSUQ7IGkrKykgewotCQlXUkVHMzJfU09DMTVfT0ZGU0VUKEdDLCAwLCBt
bUdEU19WTUlEMF9CQVNFLCAyICogaSwgMCk7Ci0JCVdSRUczMl9TT0MxNV9PRkZTRVQoR0MsIDAs
IG1tR0RTX1ZNSUQwX1NJWkUsIDIgKiBpLCAwKTsKLQkJV1JFRzMyX1NPQzE1X09GRlNFVChHQywg
MCwgbW1HRFNfR1dTX1ZNSUQwLCBpLCAwKTsKLQkJV1JFRzMyX1NPQzE1X09GRlNFVChHQywgMCwg
bW1HRFNfT0FfVk1JRDAsIGksIDApOworc3RhdGljIHZvaWQgZ2Z4X3Y5XzBfaW5pdF9nZHNfdm1p
ZChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKK3sKKwlpbnQgdm1pZDsKKwkvKiBJbml0aWFs
aXplIGFsbCBjb21wdXRlIGFuZCB1c2VyLWdmeCBWTUlEcyB0byBoYXZlIG5vIEdEUywgR1dTLCBv
ciBPQQorCSAgIGFjY2Nlc3MuIENvbXB1dGUgVk1JRHMgc2hvdWxkIGJlIGVuYWJsZWQgYnkgRlcg
Zm9yIHRhcmdldCBWTUlEcywKKwkgICB0aGUgZHJpdmVyIGNhbiBlbmFibGUgdGhlbSBmb3IgZ3Jh
cGhpY3MuIFZNSUQwIHNob3VsZCBtYWludGFpbgorCSAgIGFjY2VzcyBzbyB0aGF0IEhXUyBmaXJt
d2FyZSBjYW4gc2F2ZS9yZXN0b3JlIGVudHJpZXMuICovCisJZm9yICh2bWlkID0gMTsgdm1pZCA8
IDE2OyB2bWlkKyspIHsKKwkJV1JFRzMyX1NPQzE1X09GRlNFVChHQywgMCwgbW1HRFNfVk1JRDBf
QkFTRSwgMiAqIHZtaWQsIDApOworCQlXUkVHMzJfU09DMTVfT0ZGU0VUKEdDLCAwLCBtbUdEU19W
TUlEMF9TSVpFLCAyICogdm1pZCwgMCk7CisJCVdSRUczMl9TT0MxNV9PRkZTRVQoR0MsIDAsIG1t
R0RTX0dXU19WTUlEMCwgdm1pZCwgMCk7CisJCVdSRUczMl9TT0MxNV9PRkZTRVQoR0MsIDAsIG1t
R0RTX09BX1ZNSUQwLCB2bWlkLCAwKTsKIAl9CiB9CiAKQEAgLTIwODAsNiArMjA4Niw3IEBAIHN0
YXRpYyB2b2lkIGdmeF92OV8wX2NvbnN0YW50c19pbml0KHN0cnVjdCBhbWRncHVfZGV2aWNlICph
ZGV2KQogCW11dGV4X3VubG9jaygmYWRldi0+c3JibV9tdXRleCk7CiAKIAlnZnhfdjlfMF9pbml0
X2NvbXB1dGVfdm1pZChhZGV2KTsKKwlnZnhfdjlfMF9pbml0X2dkc192bWlkKGFkZXYpOwogfQog
CiBzdGF0aWMgdm9pZCBnZnhfdjlfMF93YWl0X2Zvcl9ybGNfc2VyZGVzKHN0cnVjdCBhbWRncHVf
ZGV2aWNlICphZGV2KQotLSAKMi4xOS4xCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVk
ZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZv
L2FtZC1nZng=
