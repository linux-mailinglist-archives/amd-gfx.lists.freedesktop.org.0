Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 2EE9916C1DE
	for <lists+amd-gfx@lfdr.de>; Tue, 25 Feb 2020 14:13:39 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8DCDA6E8F0;
	Tue, 25 Feb 2020 13:13:37 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM12-BN8-obe.outbound.protection.outlook.com
 (mail-bn8nam12on2048.outbound.protection.outlook.com [40.107.237.48])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 091DD6E8F0
 for <amd-gfx@lists.freedesktop.org>; Tue, 25 Feb 2020 13:13:35 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=kDjhQ98he8gwCxnEEELJuyfHwUH7o+F2S5iAcXKqctTssb9Rs0lWj+jwFSq7oNd4Ujha2jQY9Ihm4SDPflfDcGcjKJ02OzbvtowXZO8OO95G2MxzD8bdz8tPs/kO6W4mouslubANtGVt0i/qM9U+ahrZSgIxF+WGI3hiWsXouOBDbxzVOMbf4U+7dRGjDnqFpaxPTiP8zrvCDvgc4DcFK/w8mAjiIt77jmpCtXfuIFbj/ytR3U5aJT75tvCVkbe3IDf9N/IGstzWqE+hOood6sHoRsyxTBqFAIYRek3hIya5M1Pc5/wxo/BRjMHK6SmQHtTx5jIqSF7DaoE1jn1R5A==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=UvZlA29D19myuK31ZPNdegBxjtBMzFPKlu0rzcanRTw=;
 b=JIPczGZfFPuEEhmqoG9prTKrdZ+TvUPaZIxiCoha82NoFVOJkkvYhM3KSPrjPU7VJD5XWhoAM1UsP48VI/8xonoLn3A75+i+zuBdaeH/1J7Dr9KNHyNVPMvoo5HUcYgrDbEOyig64wA8Nm9OBnDrN/bfvdVpRpoP9OOoaeVuLpCbuhukxd++wpZS01u8sjqJPLOcLGVojjYu67eO9aGeWMmCNAefN0YsuAOmtk6V936zTNWgXbQ469ltn9WbIGfeMMHFuWM6l+6aOct4VMupcAFVTqoU1gGE+6JQi8i0S82wAvPAt60akcYTivIIxhEss/VHXKJP9XJrCWQLi9rPyQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=UvZlA29D19myuK31ZPNdegBxjtBMzFPKlu0rzcanRTw=;
 b=b+2GJP2J59a59u2rh8J+LIgQa4Aot6cdKnvwHYQgTYDYj99+J4vcyR+7/hOffQkUl4cLYw0BYU0ZHu8bhrKHttXa5YgSBHq8nYVyYaKCzJ5eDl3twHSCxVw9ARI0dioXlasYef8voEvfo3bF7ZC/8EjfrPdGBe/xMAqM9at7X24=
Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Nirmoy.Das@amd.com; 
Received: from DM5PR12MB2376.namprd12.prod.outlook.com (2603:10b6:4:b9::11) by
 DM5PR12MB2421.namprd12.prod.outlook.com (2603:10b6:4:b4::26) with
 Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2750.18; Tue, 25 Feb 2020 13:13:32 +0000
Received: from DM5PR12MB2376.namprd12.prod.outlook.com
 ([fe80::ac12:6413:cd14:4904]) by DM5PR12MB2376.namprd12.prod.outlook.com
 ([fe80::ac12:6413:cd14:4904%4]) with mapi id 15.20.2750.021; Tue, 25 Feb 2020
 13:13:32 +0000
Subject: Re: [PATCH] drm/amdgpu: stop disable the scheduler during HW fini
To: amd-gfx@lists.freedesktop.org
References: <20200225130736.2929-1-christian.koenig@amd.com>
From: Nirmoy <nirmodas@amd.com>
Message-ID: <87b1face-f3c9-ca0e-5ce6-9b96088ab4e7@amd.com>
Date: Tue, 25 Feb 2020 14:16:37 +0100
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:68.0) Gecko/20100101
 Thunderbird/68.5.0
In-Reply-To: <20200225130736.2929-1-christian.koenig@amd.com>
Content-Language: en-US
X-ClientProxiedBy: BN8PR03CA0004.namprd03.prod.outlook.com
 (2603:10b6:408:94::17) To DM5PR12MB2376.namprd12.prod.outlook.com
 (2603:10b6:4:b9::11)
MIME-Version: 1.0
X-MS-Exchange-MessageSentRepresentingType: 1
Received: from [IPv6:2003:c5:8f2c:dd00:254c:e011:75f7:66e4]
 (2003:c5:8f2c:dd00:254c:e011:75f7:66e4) by
 BN8PR03CA0004.namprd03.prod.outlook.com (2603:10b6:408:94::17) with Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2750.21 via Frontend Transport; Tue, 25 Feb 2020 13:13:31 +0000
X-Originating-IP: [2003:c5:8f2c:dd00:254c:e011:75f7:66e4]
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-HT: Tenant
X-MS-Office365-Filtering-Correlation-Id: 50d9b516-ca14-45ed-e7ed-08d7b9f4835f
X-MS-TrafficTypeDiagnostic: DM5PR12MB2421:
X-Microsoft-Antispam-PRVS: <DM5PR12MB2421A3FC09D4862445F029468BED0@DM5PR12MB2421.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:2958;
X-Forefront-PRVS: 0324C2C0E2
X-Forefront-Antispam-Report: SFV:NSPM;
 SFS:(10009020)(4636009)(366004)(189003)(199004)(16526019)(66574012)(186003)(6486002)(66946007)(66476007)(66556008)(2906002)(36756003)(53546011)(5660300002)(31696002)(81166006)(2616005)(81156014)(8676002)(52116002)(31686004)(6916009)(8936002)(498600001)(30864003);
 DIR:OUT; SFP:1101; SCL:1; SRVR:DM5PR12MB2421;
 H:DM5PR12MB2376.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: FGQenpdZzJFhDImSDaQTRyntv4m6hzGEyZmKMPTCrBrIVec/KA9+5uAILTHjn0rQnzpv72ZieUXGlHp925WH+JxK3Ows8z5cBpWEXQ0xHXY/7nEYd4DQFcTtpsS3rVbIHRPADL11S4EclGu+BJmkW557Dci02UTX/fVwWvGG2lCEj3+5wySaGJzH3ETswVVa1xc7EVw+rNse82R6ODVPlicbDs8H4r0IJt7QnCNTEd9Ol25hidnGV2Q50OOGQSddI+TrFKPioZazXUMu6bn4auGoNMQHTssYIBceqbsANfHjHFaQs9tI1uXZfGcym/kqaAt9pfJ6+zz9h+6+s11zwgPQJ4/fUTesAZ9BOSh+g+A9FYqnmxlL8sfj7XVDp1c7OEsswZp0GDnzwTvaPBYgp5s5317S8nihQpukT48HGOTJ7aRYIFImqkMnNRoB7N77
X-MS-Exchange-AntiSpam-MessageData: X3/K84OIuh4xeIkMKkNZJxyl4KVfQ73OogvnJGuGVr/zpo8GChehQJ6R0M37bQbJmZFpQIfPyZ72OE+1huJA0WmniSSEVoRgcsrCFANy1FfqV3GQbZfr3zT6fkntHrupBbDxXaW2TvoLynsI0HYBeuQUCorw/heYFWxIpQ4EFmWqp9zWfThRevaVn2yMCuV6T4DwuTHv06dIPjQh61Ishw==
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 50d9b516-ca14-45ed-e7ed-08d7b9f4835f
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 25 Feb 2020 13:13:32.6931 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: MLsg2Q7qxCLgXOW3pT/1lKYuVrGYQhYCreWtpoNlWxLKcQVEjfOfDwaleFXuAhklTbi2QhgXJcM0WOv0fsHAuA==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM5PR12MB2421
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

QWNrZWQtYnk6IE5pcm1veSBEYXMgPG5pcm1veS5kYXNAYW1kLmNvbT4KCk9uIDIvMjUvMjAgMjow
NyBQTSwgQ2hyaXN0aWFuIEvDtm5pZyB3cm90ZToKPiBXaGVuIHdlIHN0b3AgdGhlIEhXIGZvciBl
eGFtcGxlIGZvciBHUFUgcmVzZXQgd2Ugc2hvdWxkIG5vdCBzdG9wIHRoZQo+IGZyb250LWVuZCBz
Y2hlZHVsZXIuIE90aGVyd2lzZSB3ZSBydW4gaW50byBpbnRlcm1lZGlhdGUgZmFpbHVyZXMgZHVy
aW5nCj4gY29tbWFuZCBzdWJtaXNzaW9uLgo+Cj4gVGhlIHNjaGVkdWxlciBzaG91bGQgb25seSBi
ZSBzdG9wcGVkIGluIHZlcnkgZmV3IGNhc2VzOgo+IDEuIFdlIGNhbid0IGdldCB0aGUgaGFyZHdh
cmUgd29ya2luZyBpbiByaW5nIG9yIElCIHRlc3QgYWZ0ZXIgYSBHUFUgcmVzZXQuCj4gMi4gVGhl
IEtJUSBzY2hlZHVsZXIgaXMgbm90IHVzZWQgaW4gdGhlIGZyb250LWVuZCBhbmQgc2hvdWxkIGJl
IGRpc2FibGVkIGR1cmluZyBHUFUgcmVzZXQuCj4gMy4gSW4gYW1kZ3B1X3JpbmdfZmluaSgpIHdo
ZW4gdGhlIGRyaXZlciB1bmxvYWRzLgo+Cj4gU2lnbmVkLW9mZi1ieTogQ2hyaXN0aWFuIEvDtm5p
ZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPgo+IC0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvY2lrX3NkbWEuYyAgfCAgMiAtLQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvZ2Z4X3YxMF8wLmMgfCAgOCAtLS0tLS0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvZ2Z4X3Y2XzAuYyAgfCAgNSAtLS0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
Z2Z4X3Y3XzAuYyAgfCAyNSArKysrKysrKystLS0tLS0tLS0tLS0tLS0tCj4gICBkcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9nZnhfdjhfMC5jICB8ICA3IC0tLS0tLS0KPiAgIGRyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2dmeF92OV8wLmMgIHwgIDkgLS0tLS0tLS0tCj4gICBkcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9qcGVnX3YyXzAuYyB8ICAzIC0tLQo+ICAgZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvc2RtYV92Ml80LmMgfCAgMiAtLQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvc2RtYV92M18wLmMgfCAgMiAtLQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
c2RtYV92NF8wLmMgfCAgNCAtLS0tCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1h
X3Y1XzAuYyB8ICAzIC0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2lfZG1hLmMg
ICAgfCAgMSAtCj4gICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS91dmRfdjRfMi5jICB8ICAz
IC0tLQo+ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdXZkX3Y1XzAuYyAgfCAgMyAtLS0K
PiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3V2ZF92Nl8wLmMgIHwgIDMgLS0tCj4gICBk
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS91dmRfdjdfMC5jICB8ICA3IC0tLS0tLS0KPiAgIGRy
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3ZjZV92NF8wLmMgIHwgIDQgLS0tLQo+ICAgZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvdmNuX3YxXzAuYyAgfCAgMyAtLS0KPiAgIGRyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L3Zjbl92Ml8wLmMgIHwgIDkgLS0tLS0tLS0tCj4gICBkcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS92Y25fdjJfNS5jICB8IDExICstLS0tLS0tLS0tCj4gICAyMCBmaWxl
cyBjaGFuZ2VkLCAxMCBpbnNlcnRpb25zKCspLCAxMDQgZGVsZXRpb25zKC0pCj4KPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvY2lrX3NkbWEuYyBiL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2Npa19zZG1hLmMKPiBpbmRleCA0Mjc0Y2NmNzY1ZGUuLmNiM2IzYTBh
MTM0OCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9jaWtfc2RtYS5j
Cj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvY2lrX3NkbWEuYwo+IEBAIC0zMjAs
OCArMzIwLDYgQEAgc3RhdGljIHZvaWQgY2lrX3NkbWFfZ2Z4X3N0b3Aoc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYpCj4gICAJCVdSRUczMihtbVNETUEwX0dGWF9SQl9DTlRMICsgc2RtYV9vZmZz
ZXRzW2ldLCByYl9jbnRsKTsKPiAgIAkJV1JFRzMyKG1tU0RNQTBfR0ZYX0lCX0NOVEwgKyBzZG1h
X29mZnNldHNbaV0sIDApOwo+ICAgCX0KPiAtCXNkbWEwLT5zY2hlZC5yZWFkeSA9IGZhbHNlOwo+
IC0Jc2RtYTEtPnNjaGVkLnJlYWR5ID0gZmFsc2U7Cj4gICB9Cj4gICAKPiAgIC8qKgo+IGRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjEwXzAuYyBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92MTBfMC5jCj4gaW5kZXggN2I2MTU4MzIwNDAwLi4zNmNl
NjdjZTQ4MDAgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3Yx
MF8wLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjEwXzAuYwo+IEBA
IC0yMzkxLDEwICsyMzkxLDYgQEAgc3RhdGljIGludCBnZnhfdjEwXzBfY3BfZ2Z4X2VuYWJsZShz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgYm9vbCBlbmFibGUpCj4gICAJdG1wID0gUkVHX1NF
VF9GSUVMRCh0bXAsIENQX01FX0NOVEwsIE1FX0hBTFQsIGVuYWJsZSA/IDAgOiAxKTsKPiAgIAl0
bXAgPSBSRUdfU0VUX0ZJRUxEKHRtcCwgQ1BfTUVfQ05UTCwgUEZQX0hBTFQsIGVuYWJsZSA/IDAg
OiAxKTsKPiAgIAl0bXAgPSBSRUdfU0VUX0ZJRUxEKHRtcCwgQ1BfTUVfQ05UTCwgQ0VfSEFMVCwg
ZW5hYmxlID8gMCA6IDEpOwo+IC0JaWYgKCFlbmFibGUpIHsKPiAtCQlmb3IgKGkgPSAwOyBpIDwg
YWRldi0+Z2Z4Lm51bV9nZnhfcmluZ3M7IGkrKykKPiAtCQkJYWRldi0+Z2Z4LmdmeF9yaW5nW2ld
LnNjaGVkLnJlYWR5ID0gZmFsc2U7Cj4gLQl9Cj4gICAJV1JFRzMyX1NPQzE1KEdDLCAwLCBtbUNQ
X01FX0NOVEwsIHRtcCk7Cj4gICAKPiAgIAlmb3IgKGkgPSAwOyBpIDwgYWRldi0+dXNlY190aW1l
b3V0OyBpKyspIHsKPiBAQCAtMjg2OSwxNiArMjg2NSwxMiBAQCBzdGF0aWMgaW50IGdmeF92MTBf
MF9jcF9nZnhfcmVzdW1lKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQo+ICAgCj4gICBzdGF0
aWMgdm9pZCBnZnhfdjEwXzBfY3BfY29tcHV0ZV9lbmFibGUoc3RydWN0IGFtZGdwdV9kZXZpY2Ug
KmFkZXYsIGJvb2wgZW5hYmxlKQo+ICAgewo+IC0JaW50IGk7Cj4gLQo+ICAgCWlmIChlbmFibGUp
IHsKPiAgIAkJV1JFRzMyX1NPQzE1KEdDLCAwLCBtbUNQX01FQ19DTlRMLCAwKTsKPiAgIAl9IGVs
c2Ugewo+ICAgCQlXUkVHMzJfU09DMTUoR0MsIDAsIG1tQ1BfTUVDX0NOVEwsCj4gICAJCQkgICAg
IChDUF9NRUNfQ05UTF9fTUVDX01FMV9IQUxUX01BU0sgfAo+ICAgCQkJICAgICAgQ1BfTUVDX0NO
VExfX01FQ19NRTJfSEFMVF9NQVNLKSk7Cj4gLQkJZm9yIChpID0gMDsgaSA8IGFkZXYtPmdmeC5u
dW1fY29tcHV0ZV9yaW5nczsgaSsrKQo+IC0JCQlhZGV2LT5nZnguY29tcHV0ZV9yaW5nW2ldLnNj
aGVkLnJlYWR5ID0gZmFsc2U7Cj4gICAJCWFkZXYtPmdmeC5raXEucmluZy5zY2hlZC5yZWFkeSA9
IGZhbHNlOwo+ICAgCX0KPiAgIAl1ZGVsYXkoNTApOwo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9nZnhfdjZfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
Z2Z4X3Y2XzAuYwo+IGluZGV4IDMxZjQ0ZDA1ZTYwNi4uZTQ2MmEwOTlkYmRhIDEwMDY0NAo+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92Nl8wLmMKPiArKysgYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjZfMC5jCj4gQEAgLTE5NTAsNyArMTk1MCw2IEBAIHN0
YXRpYyBpbnQgZ2Z4X3Y2XzBfcmluZ190ZXN0X2liKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywg
bG9uZyB0aW1lb3V0KQo+ICAgCj4gICBzdGF0aWMgdm9pZCBnZnhfdjZfMF9jcF9nZnhfZW5hYmxl
KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCBib29sIGVuYWJsZSkKPiAgIHsKPiAtCWludCBp
Owo+ICAgCWlmIChlbmFibGUpIHsKPiAgIAkJV1JFRzMyKG1tQ1BfTUVfQ05UTCwgMCk7Cj4gICAJ
fSBlbHNlIHsKPiBAQCAtMTk1OCwxMCArMTk1Nyw2IEBAIHN0YXRpYyB2b2lkIGdmeF92Nl8wX2Nw
X2dmeF9lbmFibGUoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIGJvb2wgZW5hYmxlKQo+ICAg
CQkJCSAgICAgIENQX01FX0NOVExfX1BGUF9IQUxUX01BU0sgfAo+ICAgCQkJCSAgICAgIENQX01F
X0NOVExfX0NFX0hBTFRfTUFTSykpOwo+ICAgCQlXUkVHMzIobW1TQ1JBVENIX1VNU0ssIDApOwo+
IC0JCWZvciAoaSA9IDA7IGkgPCBhZGV2LT5nZngubnVtX2dmeF9yaW5nczsgaSsrKQo+IC0JCQlh
ZGV2LT5nZnguZ2Z4X3JpbmdbaV0uc2NoZWQucmVhZHkgPSBmYWxzZTsKPiAtCQlmb3IgKGkgPSAw
OyBpIDwgYWRldi0+Z2Z4Lm51bV9jb21wdXRlX3JpbmdzOyBpKyspCj4gLQkJCWFkZXYtPmdmeC5j
b21wdXRlX3JpbmdbaV0uc2NoZWQucmVhZHkgPSBmYWxzZTsKPiAgIAl9Cj4gICAJdWRlbGF5KDUw
KTsKPiAgIH0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3Y3
XzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92N18wLmMKPiBpbmRleCA4ZjIw
YTVkZDQ0ZmUuLjliYzg2NzNjODNhYyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9nZnhfdjdfMC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4
X3Y3XzAuYwo+IEBAIC0yNDMxLDE1ICsyNDMxLDEyIEBAIHN0YXRpYyBpbnQgZ2Z4X3Y3XzBfcmlu
Z190ZXN0X2liKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywgbG9uZyB0aW1lb3V0KQo+ICAgICov
Cj4gICBzdGF0aWMgdm9pZCBnZnhfdjdfMF9jcF9nZnhfZW5hYmxlKHN0cnVjdCBhbWRncHVfZGV2
aWNlICphZGV2LCBib29sIGVuYWJsZSkKPiAgIHsKPiAtCWludCBpOwo+IC0KPiAtCWlmIChlbmFi
bGUpIHsKPiArCWlmIChlbmFibGUpCj4gICAJCVdSRUczMihtbUNQX01FX0NOVEwsIDApOwo+IC0J
fSBlbHNlIHsKPiAtCQlXUkVHMzIobW1DUF9NRV9DTlRMLCAoQ1BfTUVfQ05UTF9fTUVfSEFMVF9N
QVNLIHwgQ1BfTUVfQ05UTF9fUEZQX0hBTFRfTUFTSyB8IENQX01FX0NOVExfX0NFX0hBTFRfTUFT
SykpOwo+IC0JCWZvciAoaSA9IDA7IGkgPCBhZGV2LT5nZngubnVtX2dmeF9yaW5nczsgaSsrKQo+
IC0JCQlhZGV2LT5nZnguZ2Z4X3JpbmdbaV0uc2NoZWQucmVhZHkgPSBmYWxzZTsKPiAtCX0KPiAr
CWVsc2UKPiArCQlXUkVHMzIobW1DUF9NRV9DTlRMLCAoQ1BfTUVfQ05UTF9fTUVfSEFMVF9NQVNL
IHwKPiArCQkJCSAgICAgIENQX01FX0NOVExfX1BGUF9IQUxUX01BU0sgfAo+ICsJCQkJICAgICAg
Q1BfTUVfQ05UTF9fQ0VfSEFMVF9NQVNLKSk7Cj4gICAJdWRlbGF5KDUwKTsKPiAgIH0KPiAgIAo+
IEBAIC0yNzAwLDE1ICsyNjk3LDExIEBAIHN0YXRpYyB2b2lkIGdmeF92N18wX3Jpbmdfc2V0X3dw
dHJfY29tcHV0ZShzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcpCj4gICAgKi8KPiAgIHN0YXRpYyB2
b2lkIGdmeF92N18wX2NwX2NvbXB1dGVfZW5hYmxlKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2
LCBib29sIGVuYWJsZSkKPiAgIHsKPiAtCWludCBpOwo+IC0KPiAtCWlmIChlbmFibGUpIHsKPiAr
CWlmIChlbmFibGUpCj4gICAJCVdSRUczMihtbUNQX01FQ19DTlRMLCAwKTsKPiAtCX0gZWxzZSB7
Cj4gLQkJV1JFRzMyKG1tQ1BfTUVDX0NOVEwsIChDUF9NRUNfQ05UTF9fTUVDX01FMV9IQUxUX01B
U0sgfCBDUF9NRUNfQ05UTF9fTUVDX01FMl9IQUxUX01BU0spKTsKPiAtCQlmb3IgKGkgPSAwOyBp
IDwgYWRldi0+Z2Z4Lm51bV9jb21wdXRlX3JpbmdzOyBpKyspCj4gLQkJCWFkZXYtPmdmeC5jb21w
dXRlX3JpbmdbaV0uc2NoZWQucmVhZHkgPSBmYWxzZTsKPiAtCX0KPiArCWVsc2UKPiArCQlXUkVH
MzIobW1DUF9NRUNfQ05UTCwgKENQX01FQ19DTlRMX19NRUNfTUUxX0hBTFRfTUFTSyB8Cj4gKwkJ
CQkgICAgICAgQ1BfTUVDX0NOVExfX01FQ19NRTJfSEFMVF9NQVNLKSk7Cj4gICAJdWRlbGF5KDUw
KTsKPiAgIH0KPiAgIAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9n
ZnhfdjhfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3Y4XzAuYwo+IGluZGV4
IGZhMjQ1OTczZGUxMi4uN2I2YjAzYzAyNzU0IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2dmeF92OF8wLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9nZnhfdjhfMC5jCj4gQEAgLTQxMTEsNyArNDExMSw2IEBAIHN0YXRpYyBpbnQgZ2Z4X3Y4XzBf
cmxjX3Jlc3VtZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKPiAgIAo+ICAgc3RhdGljIHZv
aWQgZ2Z4X3Y4XzBfY3BfZ2Z4X2VuYWJsZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgYm9v
bCBlbmFibGUpCj4gICB7Cj4gLQlpbnQgaTsKPiAgIAl1MzIgdG1wID0gUlJFRzMyKG1tQ1BfTUVf
Q05UTCk7Cj4gICAKPiAgIAlpZiAoZW5hYmxlKSB7Cj4gQEAgLTQxMjIsOCArNDEyMSw2IEBAIHN0
YXRpYyB2b2lkIGdmeF92OF8wX2NwX2dmeF9lbmFibGUoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFk
ZXYsIGJvb2wgZW5hYmxlKQo+ICAgCQl0bXAgPSBSRUdfU0VUX0ZJRUxEKHRtcCwgQ1BfTUVfQ05U
TCwgTUVfSEFMVCwgMSk7Cj4gICAJCXRtcCA9IFJFR19TRVRfRklFTEQodG1wLCBDUF9NRV9DTlRM
LCBQRlBfSEFMVCwgMSk7Cj4gICAJCXRtcCA9IFJFR19TRVRfRklFTEQodG1wLCBDUF9NRV9DTlRM
LCBDRV9IQUxULCAxKTsKPiAtCQlmb3IgKGkgPSAwOyBpIDwgYWRldi0+Z2Z4Lm51bV9nZnhfcmlu
Z3M7IGkrKykKPiAtCQkJYWRldi0+Z2Z4LmdmeF9yaW5nW2ldLnNjaGVkLnJlYWR5ID0gZmFsc2U7
Cj4gICAJfQo+ICAgCVdSRUczMihtbUNQX01FX0NOVEwsIHRtcCk7Cj4gICAJdWRlbGF5KDUwKTsK
PiBAQCAtNDMxMSwxNCArNDMwOCwxMCBAQCBzdGF0aWMgaW50IGdmeF92OF8wX2NwX2dmeF9yZXN1
bWUoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCj4gICAKPiAgIHN0YXRpYyB2b2lkIGdmeF92
OF8wX2NwX2NvbXB1dGVfZW5hYmxlKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCBib29sIGVu
YWJsZSkKPiAgIHsKPiAtCWludCBpOwo+IC0KPiAgIAlpZiAoZW5hYmxlKSB7Cj4gICAJCVdSRUcz
MihtbUNQX01FQ19DTlRMLCAwKTsKPiAgIAl9IGVsc2Ugewo+ICAgCQlXUkVHMzIobW1DUF9NRUNf
Q05UTCwgKENQX01FQ19DTlRMX19NRUNfTUUxX0hBTFRfTUFTSyB8IENQX01FQ19DTlRMX19NRUNf
TUUyX0hBTFRfTUFTSykpOwo+IC0JCWZvciAoaSA9IDA7IGkgPCBhZGV2LT5nZngubnVtX2NvbXB1
dGVfcmluZ3M7IGkrKykKPiAtCQkJYWRldi0+Z2Z4LmNvbXB1dGVfcmluZ1tpXS5zY2hlZC5yZWFk
eSA9IGZhbHNlOwo+ICAgCQlhZGV2LT5nZngua2lxLnJpbmcuc2NoZWQucmVhZHkgPSBmYWxzZTsK
PiAgIAl9Cj4gICAJdWRlbGF5KDUwKTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvZ2Z4X3Y5XzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92OV8w
LmMKPiBpbmRleCAxYzdhMTZiOTE2ODYuLmEyZjk4ODJiZDliNCAxMDA2NDQKPiAtLS0gYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjlfMC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvZ2Z4X3Y5XzAuYwo+IEBAIC0zMDM0LDE2ICszMDM0LDExIEBAIHN0YXRpYyBp
bnQgZ2Z4X3Y5XzBfcmxjX3Jlc3VtZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKPiAgIAo+
ICAgc3RhdGljIHZvaWQgZ2Z4X3Y5XzBfY3BfZ2Z4X2VuYWJsZShzdHJ1Y3QgYW1kZ3B1X2Rldmlj
ZSAqYWRldiwgYm9vbCBlbmFibGUpCj4gICB7Cj4gLQlpbnQgaTsKPiAgIAl1MzIgdG1wID0gUlJF
RzMyX1NPQzE1KEdDLCAwLCBtbUNQX01FX0NOVEwpOwo+ICAgCj4gICAJdG1wID0gUkVHX1NFVF9G
SUVMRCh0bXAsIENQX01FX0NOVEwsIE1FX0hBTFQsIGVuYWJsZSA/IDAgOiAxKTsKPiAgIAl0bXAg
PSBSRUdfU0VUX0ZJRUxEKHRtcCwgQ1BfTUVfQ05UTCwgUEZQX0hBTFQsIGVuYWJsZSA/IDAgOiAx
KTsKPiAgIAl0bXAgPSBSRUdfU0VUX0ZJRUxEKHRtcCwgQ1BfTUVfQ05UTCwgQ0VfSEFMVCwgZW5h
YmxlID8gMCA6IDEpOwo+IC0JaWYgKCFlbmFibGUpIHsKPiAtCQlmb3IgKGkgPSAwOyBpIDwgYWRl
di0+Z2Z4Lm51bV9nZnhfcmluZ3M7IGkrKykKPiAtCQkJYWRldi0+Z2Z4LmdmeF9yaW5nW2ldLnNj
aGVkLnJlYWR5ID0gZmFsc2U7Cj4gLQl9Cj4gICAJV1JFRzMyX1NPQzE1X1JMQyhHQywgMCwgbW1D
UF9NRV9DTlRMLCB0bXApOwo+ICAgCXVkZWxheSg1MCk7Cj4gICB9Cj4gQEAgLTMyMzksMTUgKzMy
MzQsMTEgQEAgc3RhdGljIGludCBnZnhfdjlfMF9jcF9nZnhfcmVzdW1lKHN0cnVjdCBhbWRncHVf
ZGV2aWNlICphZGV2KQo+ICAgCj4gICBzdGF0aWMgdm9pZCBnZnhfdjlfMF9jcF9jb21wdXRlX2Vu
YWJsZShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgYm9vbCBlbmFibGUpCj4gICB7Cj4gLQlp
bnQgaTsKPiAtCj4gICAJaWYgKGVuYWJsZSkgewo+ICAgCQlXUkVHMzJfU09DMTVfUkxDKEdDLCAw
LCBtbUNQX01FQ19DTlRMLCAwKTsKPiAgIAl9IGVsc2Ugewo+ICAgCQlXUkVHMzJfU09DMTVfUkxD
KEdDLCAwLCBtbUNQX01FQ19DTlRMLAo+ICAgCQkJKENQX01FQ19DTlRMX19NRUNfTUUxX0hBTFRf
TUFTSyB8IENQX01FQ19DTlRMX19NRUNfTUUyX0hBTFRfTUFTSykpOwo+IC0JCWZvciAoaSA9IDA7
IGkgPCBhZGV2LT5nZngubnVtX2NvbXB1dGVfcmluZ3M7IGkrKykKPiAtCQkJYWRldi0+Z2Z4LmNv
bXB1dGVfcmluZ1tpXS5zY2hlZC5yZWFkeSA9IGZhbHNlOwo+ICAgCQlhZGV2LT5nZngua2lxLnJp
bmcuc2NoZWQucmVhZHkgPSBmYWxzZTsKPiAgIAl9Cj4gICAJdWRlbGF5KDUwKTsKPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvanBlZ192Ml8wLmMgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9qcGVnX3YyXzAuYwo+IGluZGV4IGZmMmU2ZTFjY2RlNy4uNDcxNzEw
YTQyYTBjIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2pwZWdfdjJf
MC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvanBlZ192Ml8wLmMKPiBAQCAt
MTY5LDE0ICsxNjksMTEgQEAgc3RhdGljIGludCBqcGVnX3YyXzBfaHdfaW5pdCh2b2lkICpoYW5k
bGUpCj4gICBzdGF0aWMgaW50IGpwZWdfdjJfMF9od19maW5pKHZvaWQgKmhhbmRsZSkKPiAgIHsK
PiAgIAlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
KWhhbmRsZTsKPiAtCXN0cnVjdCBhbWRncHVfcmluZyAqcmluZyA9ICZhZGV2LT5qcGVnLmluc3Qt
PnJpbmdfZGVjOwo+ICAgCj4gICAJaWYgKGFkZXYtPmpwZWcuY3VyX3N0YXRlICE9IEFNRF9QR19T
VEFURV9HQVRFICYmCj4gICAJICAgICAgUlJFRzMyX1NPQzE1KEpQRUcsIDAsIG1tVVZEX0pSQkNf
U1RBVFVTKSkKPiAgIAkJanBlZ192Ml8wX3NldF9wb3dlcmdhdGluZ19zdGF0ZShhZGV2LCBBTURf
UEdfU1RBVEVfR0FURSk7Cj4gICAKPiAtCXJpbmctPnNjaGVkLnJlYWR5ID0gZmFsc2U7Cj4gLQo+
ICAgCXJldHVybiAwOwo+ICAgfQo+ICAgCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L3NkbWFfdjJfNC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92
Ml80LmMKPiBpbmRleCBmZDdmYTYwODI1NjMuLjA1Yjc5YWNlZDZlOCAxMDA2NDQKPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3YyXzQuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjJfNC5jCj4gQEAgLTM1NSw4ICszNTUsNiBAQCBzdGF0aWMg
dm9pZCBzZG1hX3YyXzRfZ2Z4X3N0b3Aoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCj4gICAJ
CWliX2NudGwgPSBSRUdfU0VUX0ZJRUxEKGliX2NudGwsIFNETUEwX0dGWF9JQl9DTlRMLCBJQl9F
TkFCTEUsIDApOwo+ICAgCQlXUkVHMzIobW1TRE1BMF9HRlhfSUJfQ05UTCArIHNkbWFfb2Zmc2V0
c1tpXSwgaWJfY250bCk7Cj4gICAJfQo+IC0Jc2RtYTAtPnNjaGVkLnJlYWR5ID0gZmFsc2U7Cj4g
LQlzZG1hMS0+c2NoZWQucmVhZHkgPSBmYWxzZTsKPiAgIH0KPiAgIAo+ICAgLyoqCj4gZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjNfMC5jIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvc2RtYV92M18wLmMKPiBpbmRleCA0YThhN2YwZjNhOWMuLjE0NDhk
OWJlYjdhOCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3Yz
XzAuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjNfMC5jCj4gQEAg
LTUyOSw4ICs1MjksNiBAQCBzdGF0aWMgdm9pZCBzZG1hX3YzXzBfZ2Z4X3N0b3Aoc3RydWN0IGFt
ZGdwdV9kZXZpY2UgKmFkZXYpCj4gICAJCWliX2NudGwgPSBSRUdfU0VUX0ZJRUxEKGliX2NudGws
IFNETUEwX0dGWF9JQl9DTlRMLCBJQl9FTkFCTEUsIDApOwo+ICAgCQlXUkVHMzIobW1TRE1BMF9H
RlhfSUJfQ05UTCArIHNkbWFfb2Zmc2V0c1tpXSwgaWJfY250bCk7Cj4gICAJfQo+IC0Jc2RtYTAt
PnNjaGVkLnJlYWR5ID0gZmFsc2U7Cj4gLQlzZG1hMS0+c2NoZWQucmVhZHkgPSBmYWxzZTsKPiAg
IH0KPiAgIAo+ICAgLyoqCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L3NkbWFfdjRfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92NF8wLmMKPiBp
bmRleCA3Y2VhNDUxM2MzMDMuLjBjNmViNjVmOTZmMyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9zZG1hX3Y0XzAuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L3NkbWFfdjRfMC5jCj4gQEAgLTkyMyw4ICs5MjMsNiBAQCBzdGF0aWMgdm9pZCBzZG1h
X3Y0XzBfZ2Z4X3N0b3Aoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCj4gICAJCWliX2NudGwg
PSBSUkVHMzJfU0RNQShpLCBtbVNETUEwX0dGWF9JQl9DTlRMKTsKPiAgIAkJaWJfY250bCA9IFJF
R19TRVRfRklFTEQoaWJfY250bCwgU0RNQTBfR0ZYX0lCX0NOVEwsIElCX0VOQUJMRSwgMCk7Cj4g
ICAJCVdSRUczMl9TRE1BKGksIG1tU0RNQTBfR0ZYX0lCX0NOVEwsIGliX2NudGwpOwo+IC0KPiAt
CQlzZG1hW2ldLT5zY2hlZC5yZWFkeSA9IGZhbHNlOwo+ICAgCX0KPiAgIH0KPiAgIAo+IEBAIC05
NzEsOCArOTY5LDYgQEAgc3RhdGljIHZvaWQgc2RtYV92NF8wX3BhZ2Vfc3RvcChzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldikKPiAgIAkJaWJfY250bCA9IFJFR19TRVRfRklFTEQoaWJfY250bCwg
U0RNQTBfUEFHRV9JQl9DTlRMLAo+ICAgCQkJCQlJQl9FTkFCTEUsIDApOwo+ICAgCQlXUkVHMzJf
U0RNQShpLCBtbVNETUEwX1BBR0VfSUJfQ05UTCwgaWJfY250bCk7Cj4gLQo+IC0JCXNkbWFbaV0t
PnNjaGVkLnJlYWR5ID0gZmFsc2U7Cj4gICAJfQo+ICAgfQo+ICAgCj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjVfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvc2RtYV92NV8wLmMKPiBpbmRleCA3ZWU2MDNkYjhjNTcuLjVhZjY2YTI0YjBhMiAx
MDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zZG1hX3Y1XzAuYwo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjVfMC5jCj4gQEAgLTUwMiw5ICs1
MDIsNiBAQCBzdGF0aWMgdm9pZCBzZG1hX3Y1XzBfZ2Z4X3N0b3Aoc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYpCj4gICAJCWliX2NudGwgPSBSRUdfU0VUX0ZJRUxEKGliX2NudGwsIFNETUEwX0dG
WF9JQl9DTlRMLCBJQl9FTkFCTEUsIDApOwo+ICAgCQlXUkVHMzIoc2RtYV92NV8wX2dldF9yZWdf
b2Zmc2V0KGFkZXYsIGksIG1tU0RNQTBfR0ZYX0lCX0NOVEwpLCBpYl9jbnRsKTsKPiAgIAl9Cj4g
LQo+IC0Jc2RtYTAtPnNjaGVkLnJlYWR5ID0gZmFsc2U7Cj4gLQlzZG1hMS0+c2NoZWQucmVhZHkg
PSBmYWxzZTsKPiAgIH0KPiAgIAo+ICAgLyoqCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L3NpX2RtYS5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2lfZG1h
LmMKPiBpbmRleCA3ZjY0ZDczMDQzY2YuLmE4NTQ4Njc4YzM3ZCAxMDA2NDQKPiAtLS0gYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zaV9kbWEuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L3NpX2RtYS5jCj4gQEAgLTEyNCw3ICsxMjQsNiBAQCBzdGF0aWMgdm9pZCBzaV9k
bWFfc3RvcChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKPiAgIAo+ICAgCQlpZiAoYWRldi0+
bW1hbi5idWZmZXJfZnVuY3NfcmluZyA9PSByaW5nKQo+ICAgCQkJYW1kZ3B1X3R0bV9zZXRfYnVm
ZmVyX2Z1bmNzX3N0YXR1cyhhZGV2LCBmYWxzZSk7Cj4gLQkJcmluZy0+c2NoZWQucmVhZHkgPSBm
YWxzZTsKPiAgIAl9Cj4gICB9Cj4gICAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvdXZkX3Y0XzIuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3V2ZF92NF8y
LmMKPiBpbmRleCA4MmFiZDhlNzI4YWIuLjk1N2UxNGUyYzE1NSAxMDA2NDQKPiAtLS0gYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS91dmRfdjRfMi5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvdXZkX3Y0XzIuYwo+IEBAIC0yMTAsMTMgKzIxMCwxMCBAQCBzdGF0aWMgaW50
IHV2ZF92NF8yX2h3X2luaXQodm9pZCAqaGFuZGxlKQo+ICAgc3RhdGljIGludCB1dmRfdjRfMl9o
d19maW5pKHZvaWQgKmhhbmRsZSkKPiAgIHsKPiAgIAlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRl
diA9IChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqKWhhbmRsZTsKPiAtCXN0cnVjdCBhbWRncHVfcmlu
ZyAqcmluZyA9ICZhZGV2LT51dmQuaW5zdC0+cmluZzsKPiAgIAo+ICAgCWlmIChSUkVHMzIobW1V
VkRfU1RBVFVTKSAhPSAwKQo+ICAgCQl1dmRfdjRfMl9zdG9wKGFkZXYpOwo+ICAgCj4gLQlyaW5n
LT5zY2hlZC5yZWFkeSA9IGZhbHNlOwo+IC0KPiAgIAlyZXR1cm4gMDsKPiAgIH0KPiAgIAo+IGRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS91dmRfdjVfMC5jIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvdXZkX3Y1XzAuYwo+IGluZGV4IDBmYThhYWUyZDc4ZS4uMmFh
ZDY2ODk4MjNiIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3V2ZF92
NV8wLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS91dmRfdjVfMC5jCj4gQEAg
LTIwOCwxMyArMjA4LDEwIEBAIHN0YXRpYyBpbnQgdXZkX3Y1XzBfaHdfaW5pdCh2b2lkICpoYW5k
bGUpCj4gICBzdGF0aWMgaW50IHV2ZF92NV8wX2h3X2Zpbmkodm9pZCAqaGFuZGxlKQo+ICAgewo+
ICAgCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gKHN0cnVjdCBhbWRncHVfZGV2aWNlICop
aGFuZGxlOwo+IC0Jc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nID0gJmFkZXYtPnV2ZC5pbnN0LT5y
aW5nOwo+ICAgCj4gICAJaWYgKFJSRUczMihtbVVWRF9TVEFUVVMpICE9IDApCj4gICAJCXV2ZF92
NV8wX3N0b3AoYWRldik7Cj4gICAKPiAtCXJpbmctPnNjaGVkLnJlYWR5ID0gZmFsc2U7Cj4gLQo+
ICAgCXJldHVybiAwOwo+ICAgfQo+ICAgCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L3V2ZF92Nl8wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS91dmRfdjZf
MC5jCj4gaW5kZXggZTBhYWRjYWY2YzhiLi5hOWQwNmVjNWQwOWEgMTAwNjQ0Cj4gLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdXZkX3Y2XzAuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L3V2ZF92Nl8wLmMKPiBAQCAtNTM1LDEzICs1MzUsMTAgQEAgc3RhdGljIGlu
dCB1dmRfdjZfMF9od19pbml0KHZvaWQgKmhhbmRsZSkKPiAgIHN0YXRpYyBpbnQgdXZkX3Y2XzBf
aHdfZmluaSh2b2lkICpoYW5kbGUpCj4gICB7Cj4gICAJc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFk
ZXYgPSAoc3RydWN0IGFtZGdwdV9kZXZpY2UgKiloYW5kbGU7Cj4gLQlzdHJ1Y3QgYW1kZ3B1X3Jp
bmcgKnJpbmcgPSAmYWRldi0+dXZkLmluc3QtPnJpbmc7Cj4gICAKPiAgIAlpZiAoUlJFRzMyKG1t
VVZEX1NUQVRVUykgIT0gMCkKPiAgIAkJdXZkX3Y2XzBfc3RvcChhZGV2KTsKPiAgIAo+IC0Jcmlu
Zy0+c2NoZWQucmVhZHkgPSBmYWxzZTsKPiAtCj4gICAJcmV0dXJuIDA7Cj4gICB9Cj4gICAKPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdXZkX3Y3XzAuYyBiL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3V2ZF92N18wLmMKPiBpbmRleCAwOTk1Mzc4ZDgyNjMuLmFm
M2IxYzlkMzM3NyAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS91dmRf
djdfMC5jCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdXZkX3Y3XzAuYwo+IEBA
IC01OTgsNyArNTk4LDYgQEAgc3RhdGljIGludCB1dmRfdjdfMF9od19pbml0KHZvaWQgKmhhbmRs
ZSkKPiAgIHN0YXRpYyBpbnQgdXZkX3Y3XzBfaHdfZmluaSh2b2lkICpoYW5kbGUpCj4gICB7Cj4g
ICAJc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSAoc3RydWN0IGFtZGdwdV9kZXZpY2UgKilo
YW5kbGU7Cj4gLQlpbnQgaTsKPiAgIAo+ICAgCWlmICghYW1kZ3B1X3NyaW92X3ZmKGFkZXYpKQo+
ICAgCQl1dmRfdjdfMF9zdG9wKGFkZXYpOwo+IEBAIC02MDcsMTIgKzYwNiw2IEBAIHN0YXRpYyBp
bnQgdXZkX3Y3XzBfaHdfZmluaSh2b2lkICpoYW5kbGUpCj4gICAJCURSTV9ERUJVRygiRm9yIFNS
SU9WIGNsaWVudCwgc2hvdWxkbid0IGRvIGFueXRoaW5nLlxuIik7Cj4gICAJfQo+ICAgCj4gLQlm
b3IgKGkgPSAwOyBpIDwgYWRldi0+dXZkLm51bV91dmRfaW5zdDsgKytpKSB7Cj4gLQkJaWYgKGFk
ZXYtPnV2ZC5oYXJ2ZXN0X2NvbmZpZyAmICgxIDw8IGkpKQo+IC0JCQljb250aW51ZTsKPiAtCQlh
ZGV2LT51dmQuaW5zdFtpXS5yaW5nLnNjaGVkLnJlYWR5ID0gZmFsc2U7Cj4gLQl9Cj4gLQo+ICAg
CXJldHVybiAwOwo+ICAgfQo+ICAgCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L3ZjZV92NF8wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92Y2VfdjRfMC5j
Cj4gaW5kZXggM2ZkMTAyZWZiN2FmLi41ZTk4NmRlYTQ2NDUgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvdmNlX3Y0XzAuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L3ZjZV92NF8wLmMKPiBAQCAtNTM5LDcgKzUzOSw2IEBAIHN0YXRpYyBpbnQgdmNl
X3Y0XzBfaHdfaW5pdCh2b2lkICpoYW5kbGUpCj4gICBzdGF0aWMgaW50IHZjZV92NF8wX2h3X2Zp
bmkodm9pZCAqaGFuZGxlKQo+ICAgewo+ICAgCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0g
KHN0cnVjdCBhbWRncHVfZGV2aWNlICopaGFuZGxlOwo+IC0JaW50IGk7Cj4gICAKPiAgIAlpZiAo
IWFtZGdwdV9zcmlvdl92ZihhZGV2KSkgewo+ICAgCQkvKiB2Y2VfdjRfMF93YWl0X2Zvcl9pZGxl
KGhhbmRsZSk7ICovCj4gQEAgLTU0OSw5ICs1NDgsNiBAQCBzdGF0aWMgaW50IHZjZV92NF8wX2h3
X2Zpbmkodm9pZCAqaGFuZGxlKQo+ICAgCQlEUk1fREVCVUcoIkZvciBTUklPViBjbGllbnQsIHNo
b3VsZG4ndCBkbyBhbnl0aGluZy5cbiIpOwo+ICAgCX0KPiAgIAo+IC0JZm9yIChpID0gMDsgaSA8
IGFkZXYtPnZjZS5udW1fcmluZ3M7IGkrKykKPiAtCQlhZGV2LT52Y2UucmluZ1tpXS5zY2hlZC5y
ZWFkeSA9IGZhbHNlOwo+IC0KPiAgIAlyZXR1cm4gMDsKPiAgIH0KPiAgIAo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92Y25fdjFfMC5jIGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvdmNuX3YxXzAuYwo+IGluZGV4IDcxZjYxYWZkYzY1NS4uZGY5MmM0ZTFlZmFh
IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3Zjbl92MV8wLmMKPiAr
KysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92Y25fdjFfMC5jCj4gQEAgLTIyNywxNCAr
MjI3LDExIEBAIHN0YXRpYyBpbnQgdmNuX3YxXzBfaHdfaW5pdCh2b2lkICpoYW5kbGUpCj4gICBz
dGF0aWMgaW50IHZjbl92MV8wX2h3X2Zpbmkodm9pZCAqaGFuZGxlKQo+ICAgewo+ICAgCXN0cnVj
dCBhbWRncHVfZGV2aWNlICphZGV2ID0gKHN0cnVjdCBhbWRncHVfZGV2aWNlICopaGFuZGxlOwo+
IC0Jc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nID0gJmFkZXYtPnZjbi5pbnN0LT5yaW5nX2RlYzsK
PiAgIAo+ICAgCWlmICgoYWRldi0+cGdfZmxhZ3MgJiBBTURfUEdfU1VQUE9SVF9WQ05fRFBHKSB8
fAo+ICAgCQlSUkVHMzJfU09DMTUoVkNOLCAwLCBtbVVWRF9TVEFUVVMpKQo+ICAgCQl2Y25fdjFf
MF9zZXRfcG93ZXJnYXRpbmdfc3RhdGUoYWRldiwgQU1EX1BHX1NUQVRFX0dBVEUpOwo+ICAgCj4g
LQlyaW5nLT5zY2hlZC5yZWFkeSA9IGZhbHNlOwo+IC0KPiAgIAlyZXR1cm4gMDsKPiAgIH0KPiAg
IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92Y25fdjJfMC5jIGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdmNuX3YyXzAuYwo+IGluZGV4IGMzODdjODFmODY5
NS4uMzc1MDgyNzdjYmRmIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L3Zjbl92Ml8wLmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92Y25fdjJfMC5j
Cj4gQEAgLTIzMiwyMSArMjMyLDEyIEBAIHN0YXRpYyBpbnQgdmNuX3YyXzBfaHdfaW5pdCh2b2lk
ICpoYW5kbGUpCj4gICBzdGF0aWMgaW50IHZjbl92Ml8wX2h3X2Zpbmkodm9pZCAqaGFuZGxlKQo+
ICAgewo+ICAgCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gKHN0cnVjdCBhbWRncHVfZGV2
aWNlICopaGFuZGxlOwo+IC0Jc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nID0gJmFkZXYtPnZjbi5p
bnN0LT5yaW5nX2RlYzsKPiAtCWludCBpOwo+ICAgCj4gICAJaWYgKChhZGV2LT5wZ19mbGFncyAm
IEFNRF9QR19TVVBQT1JUX1ZDTl9EUEcpIHx8Cj4gICAJICAgIChhZGV2LT52Y24uY3VyX3N0YXRl
ICE9IEFNRF9QR19TVEFURV9HQVRFICYmCj4gICAJICAgICAgUlJFRzMyX1NPQzE1KFZDTiwgMCwg
bW1VVkRfU1RBVFVTKSkpCj4gICAJCXZjbl92Ml8wX3NldF9wb3dlcmdhdGluZ19zdGF0ZShhZGV2
LCBBTURfUEdfU1RBVEVfR0FURSk7Cj4gICAKPiAtCXJpbmctPnNjaGVkLnJlYWR5ID0gZmFsc2U7
Cj4gLQo+IC0JZm9yIChpID0gMDsgaSA8IGFkZXYtPnZjbi5udW1fZW5jX3JpbmdzOyArK2kpIHsK
PiAtCQlyaW5nID0gJmFkZXYtPnZjbi5pbnN0LT5yaW5nX2VuY1tpXTsKPiAtCQlyaW5nLT5zY2hl
ZC5yZWFkeSA9IGZhbHNlOwo+IC0JfQo+IC0KPiAgIAlyZXR1cm4gMDsKPiAgIH0KPiAgIAo+IGRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92Y25fdjJfNS5jIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvdmNuX3YyXzUuYwo+IGluZGV4IDJkNjRiYTFhZGY5OS4uOTBh
MTk5NDg1N2RiIDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3Zjbl92
Ml81LmMKPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92Y25fdjJfNS5jCj4gQEAg
LTMwNywyNSArMzA3LDE2IEBAIHN0YXRpYyBpbnQgdmNuX3YyXzVfaHdfaW5pdCh2b2lkICpoYW5k
bGUpCj4gICBzdGF0aWMgaW50IHZjbl92Ml81X2h3X2Zpbmkodm9pZCAqaGFuZGxlKQo+ICAgewo+
ICAgCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gKHN0cnVjdCBhbWRncHVfZGV2aWNlICop
aGFuZGxlOwo+IC0Jc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nOwo+IC0JaW50IGksIGo7Cj4gKwlp
bnQgaTsKPiAgIAo+ICAgCWZvciAoaSA9IDA7IGkgPCBhZGV2LT52Y24ubnVtX3Zjbl9pbnN0OyAr
K2kpIHsKPiAgIAkJaWYgKGFkZXYtPnZjbi5oYXJ2ZXN0X2NvbmZpZyAmICgxIDw8IGkpKQo+ICAg
CQkJY29udGludWU7Cj4gLQkJcmluZyA9ICZhZGV2LT52Y24uaW5zdFtpXS5yaW5nX2RlYzsKPiAg
IAo+ICAgCQlpZiAoKGFkZXYtPnBnX2ZsYWdzICYgQU1EX1BHX1NVUFBPUlRfVkNOX0RQRykgfHwK
PiAgIAkJICAgIChhZGV2LT52Y24uY3VyX3N0YXRlICE9IEFNRF9QR19TVEFURV9HQVRFICYmCj4g
ICAJCSAgICAgUlJFRzMyX1NPQzE1KFZDTiwgaSwgbW1VVkRfU1RBVFVTKSkpCj4gICAJCQl2Y25f
djJfNV9zZXRfcG93ZXJnYXRpbmdfc3RhdGUoYWRldiwgQU1EX1BHX1NUQVRFX0dBVEUpOwo+IC0K
PiAtCQlyaW5nLT5zY2hlZC5yZWFkeSA9IGZhbHNlOwo+IC0KPiAtCQlmb3IgKGogPSAwOyBqIDwg
YWRldi0+dmNuLm51bV9lbmNfcmluZ3M7ICsraikgewo+IC0JCQlyaW5nID0gJmFkZXYtPnZjbi5p
bnN0W2ldLnJpbmdfZW5jW2pdOwo+IC0JCQlyaW5nLT5zY2hlZC5yZWFkeSA9IGZhbHNlOwo+IC0J
CX0KPiAgIAl9Cj4gICAKPiAgIAlyZXR1cm4gMDsKX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5m
cmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0
aW5mby9hbWQtZ2Z4Cg==
