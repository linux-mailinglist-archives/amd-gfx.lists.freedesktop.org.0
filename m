Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 2EEC910481A
	for <lists+amd-gfx@lfdr.de>; Thu, 21 Nov 2019 02:33:54 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B0C316EA7E;
	Thu, 21 Nov 2019 01:33:52 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM03-CO1-obe.outbound.protection.outlook.com
 (mail-eopbgr790042.outbound.protection.outlook.com [40.107.79.42])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 492456EAAF
 for <amd-gfx@lists.freedesktop.org>; Thu, 21 Nov 2019 01:33:51 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=nPdIzR3A0c8S9vg0yzPVpDxkY6EcYCtp9pJJeF6MuuV3f46yCt7yegzap6mrtx8E58dLorjJE+wxZmD0NvYXcoTwr4uAY0HFQFrEOFdTuIUhNPk7EK5MCG4esoLO6DunWB5GN1Dx/Ig4PQUEg/J3x9IaK1yOa9ef5JsVDMX5eN50U8i6mrJ73YCjz8/Uu1hcLKDgdFIGw6CvlllxXzOYKaYyobsFRckmnnhoi5IxnP8ghqqz0WyGOYFIMO4uj/rKFKh2HVtUkZLuVZjodPQTVnZKfnjqCdYHPY7euScoQYENlzFdwWGvcs/HrwkKm6Qz5PAZSyKVwWvFnoytqTM6yQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=8l7LV9rt4ldA2HcXXeCV6e0LTLDG40lg6UEV7Iuvao0=;
 b=PLAyQL2hibUyOYf7l4uqTxw/RhhkzsPeCrj96FHOccV67u4pAZLXE5q7mrpmGWiVso5mgs5qEkV87MxE0Al9soYqmhAMcS+jirfjPO9xhKf7QxJGVTs0QS/hR3qptWDl6AO5DfXLy8PkOspqUzn1LU0H91w+tqzp2NQzLaEdkgS2R/zlpuGqqUj0BjY8NSwIgRuDP3RIPxOzhkhAd0RisGgfDXHvcX8giETcI5ATsdPp/IDqPdCn7ReHoIUBhMsR/tFcLob78pyH++v5koRKzFqmydVCfQ8wZdP2EMQardNgxF6WNxqzpQ2gRAINJujJ8FUBIsFwYaJERHtnlAe/vQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from DM6PR12MB3355.namprd12.prod.outlook.com (20.178.29.90) by
 DM6PR12MB4252.namprd12.prod.outlook.com (10.141.184.81) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2474.17; Thu, 21 Nov 2019 01:33:49 +0000
Received: from DM6PR12MB3355.namprd12.prod.outlook.com
 ([fe80::71fe:9848:c834:1cd6]) by DM6PR12MB3355.namprd12.prod.outlook.com
 ([fe80::71fe:9848:c834:1cd6%3]) with mapi id 15.20.2474.018; Thu, 21 Nov 2019
 01:33:48 +0000
From: Luben Tuikov <luben.tuikov@amd.com>
To: amd-gfx@lists.freedesktop.org
Subject: [PATCH] drm/amdgpu: implement TMZ accessor (v2)
Date: Wed, 20 Nov 2019 20:33:08 -0500
Message-Id: <20191121013308.50489-1-luben.tuikov@amd.com>
X-Mailer: git-send-email 2.24.0.155.gd9f6f3b619
In-Reply-To: <b64da3b9-9f20-549d-27f2-18da3ce10ea4@gmail.com>
References: <b64da3b9-9f20-549d-27f2-18da3ce10ea4@gmail.com>
X-ClientProxiedBy: YTBPR01CA0015.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:b01:14::28) To DM6PR12MB3355.namprd12.prod.outlook.com
 (2603:10b6:5:115::26)
MIME-Version: 1.0
X-Mailer: git-send-email 2.24.0.155.gd9f6f3b619
X-Originating-IP: [165.204.55.250]
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-HT: Tenant
X-MS-Office365-Filtering-Correlation-Id: ca5c1691-2702-4949-177d-08d76e22db63
X-MS-TrafficTypeDiagnostic: DM6PR12MB4252:
X-MS-Exchange-Transport-Forked: True
X-Microsoft-Antispam-PRVS: <DM6PR12MB4252E89AE1BD7562EE22FA95994E0@DM6PR12MB4252.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:9508;
X-Forefront-PRVS: 0228DDDDD7
X-Forefront-Antispam-Report: SFV:NSPM;
 SFS:(10009020)(4636009)(396003)(376002)(136003)(39860400002)(346002)(366004)(189003)(199004)(8936002)(6916009)(8676002)(6486002)(26005)(44832011)(2361001)(7736002)(305945005)(478600001)(2616005)(11346002)(486006)(446003)(76176011)(50226002)(54906003)(14454004)(186003)(2351001)(316002)(25786009)(52116002)(386003)(6506007)(6512007)(14444005)(81166006)(47776003)(6436002)(66066001)(1076003)(86362001)(4326008)(6666004)(476003)(51416003)(50466002)(48376002)(2870700001)(2906002)(36756003)(66556008)(6116002)(3846002)(66476007)(5660300002)(66946007)(99286004)(81156014);
 DIR:OUT; SFP:1101; SCL:1; SRVR:DM6PR12MB4252;
 H:DM6PR12MB3355.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: 7TbDozg27fq4ivZvDyO9B4w08LAnXX7NvS22RVqcOmAKeMr5C97HbuAn852VajlA00tfTf+DGvKv5cdYhfiIkbs/HeBZPrZBR+YKwGIsZCRtsnHxEhKMniI5mjjE97O4jmTS6EcFMoQTH25BTGcfbd4cQEMmO+8e9nVM+OilR7C2P6M1ddVv1MPNvsaKWU+vfYBPZzqIShMA1E5WvKAdjxXPwgk45RfEaYQW+zFDOqqqCeQVeHwPvK/83TnSdLaITdJk7YrNUQLSyqZ+If3mvMx8zWHmDrMukCj5DKt9wR7hxRXrvtXBs5GnkFFFfZLWkOs1clwc3rUf1s9mLsVEcq16g8t/Zhjy0VXfJ3CuhFZHiiiJEGOr5vl0ABIOHsHgOHXbW6l+Ao1PIAQZevcGZbPyIwjQlx7bYfVjnyVdfRv9UByfJWcTsIFtSftuKoyS
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: ca5c1691-2702-4949-177d-08d76e22db63
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 21 Nov 2019 01:33:48.7850 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: 906ntskSGToYBZrya82JWBZpJJT1Ytl5Olame0FTlCuOs+jswauK5+pKwEt8Kgt5
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM6PR12MB4252
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=8l7LV9rt4ldA2HcXXeCV6e0LTLDG40lg6UEV7Iuvao0=;
 b=ue0TcLDJ65stRiXLH1SmmCHot8/K4493Qxr1ymSQ3VAjAJO2tKsXZXMUjeTjWh4e5nXGcrxGFuvElevPu5h1HQH0JhsDOXnuXbHnvv1jmrDt8JJ5ZCXxTdbqJLfq0V36LBb524w/yUddyKbFRfAjwIx5ZYC7RX8DdG5m9Zmr0xY=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Luben.Tuikov@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Alexander Deucher <Alexander.Deucher@amd.com>,
 Luben Tuikov <luben.tuikov@amd.com>,
 Christian Koenig <Christian.Koenig@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

SW1wbGVtZW50IGFuIGFjY2Vzc29yIG9mIGFkZXYtPnRtei5lbmFibGVkLiBMZXQgbm90CmNvZGUg
YXJvdW5kIGFjY2VzcyBpdCBhcyAiaWYgKGFkZXYtPnRtei5lbmFibGVkKSIKYXMgdGhlIG9yZ2Fu
aXphdGlvbiBtYXkgY2hhbmdlLiBJbnN0ZWFkLi4uCgpSZWNydWl0ICJib29sIGFtZGdwdV9pc190
bXooYWRldikiIHRvIHJldHVybgpleGFjdGx5IHRoaXMgQm9vbGVhbiB2YWx1ZS4gVGhhdCBpcywg
dGhpcyBmdW5jdGlvbgppcyBub3cgYW4gYWNjZXNzb3Igb2YgYW4gYWxyZWFkeSBpbml0aWFsaXpl
ZCBhbmQKc2V0IGFkZXYgYW5kIGFkZXYtPnRtei4KCkFkZCAidm9pZCBhbWRncHVfdG16X3NldChh
ZGV2KSIgdG8gY2hlY2sgYW5kIHNldAphZGV2LT50bXouKiBhdCBpbml0aWFsaXphdGlvbiB0aW1l
LiBBZnRlciB3aGljaApvbmUgdXNlcyAiYm9vbCBhbWRncHVfaXNfdG16KGFkZXYpIiB0byBxdWVy
eQp3aGV0aGVyIGFkZXYgc3VwcG9ydHMgVE1aLgoKQWxzbywgcmVtb3ZlIGNpcmN1bGFyIGhlYWRl
ciBmaWxlIGluY2x1ZGUuCgp2MjogUmVtb3ZlIGFtZGdwdV90bXouW2NoXSBhcyByZXF1ZXN0ZWQu
CgpTaWduZWQtb2ZmLWJ5OiBMdWJlbiBUdWlrb3YgPGx1YmVuLnR1aWtvdkBhbWQuY29tPgotLS0K
IGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L01ha2VmaWxlICAgICAgICB8ICAyICstCiBkcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHUuaCAgICAgICAgfCAgNiArKy0KIGRyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kZXZpY2UuYyB8ICAzICstCiBkcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHVfZ21jLmMgICAgfCAyMyArKysrKysrKysrCiBkcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ21jLmggICAgfCAgOSArKysrCiBkcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHVfdG16LmMgICAgfCA1MiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0t
CiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdG16LmggICAgfCAzOSAtLS0tLS0t
LS0tLS0tLS0tCiA3IGZpbGVzIGNoYW5nZWQsIDM5IGluc2VydGlvbnMoKyksIDk1IGRlbGV0aW9u
cygtKQogZGVsZXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdw
dV90bXouYwogZGVsZXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2Ft
ZGdwdV90bXouaAoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L01ha2Vm
aWxlIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvTWFrZWZpbGUKaW5kZXggODNlZTFjNjc2
ZTNhLi43YWUzYjIyYzU2MjggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L01ha2VmaWxlCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L01ha2VmaWxlCkBAIC01
NSw3ICs1NSw3IEBAIGFtZGdwdS15ICs9IGFtZGdwdV9kZXZpY2UubyBhbWRncHVfa21zLm8gXAog
CWFtZGdwdV92Zl9lcnJvci5vIGFtZGdwdV9zY2hlZC5vIGFtZGdwdV9kZWJ1Z2ZzLm8gYW1kZ3B1
X2lkcy5vIFwKIAlhbWRncHVfZ21jLm8gYW1kZ3B1X21taHViLm8gYW1kZ3B1X3hnbWkubyBhbWRn
cHVfY3NhLm8gYW1kZ3B1X3Jhcy5vIGFtZGdwdV92bV9jcHUubyBcCiAJYW1kZ3B1X3ZtX3NkbWEu
byBhbWRncHVfZGlzY292ZXJ5Lm8gYW1kZ3B1X3Jhc19lZXByb20ubyBhbWRncHVfbmJpby5vIFwK
LQlhbWRncHVfdW1jLm8gc211X3YxMV8wX2kyYy5vIGFtZGdwdV90bXoubworCWFtZGdwdV91bWMu
byBzbXVfdjExXzBfaTJjLm8KIAogYW1kZ3B1LSQoQ09ORklHX1BFUkZfRVZFTlRTKSArPSBhbWRn
cHVfcG11Lm8KIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1
LmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHUuaAppbmRleCBkMTIwZmU1OGVi
ZWEuLjgwNWUxMmVmMTNlYSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
YW1kZ3B1LmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1LmgKQEAgLTkw
LDcgKzkwLDYgQEAKICNpbmNsdWRlICJhbWRncHVfbWVzLmgiCiAjaW5jbHVkZSAiYW1kZ3B1X3Vt
Yy5oIgogI2luY2x1ZGUgImFtZGdwdV9tbWh1Yi5oIgotI2luY2x1ZGUgImFtZGdwdV90bXouaCIK
IAogI2RlZmluZSBNQVhfR1BVX0lOU1RBTkNFCQkxNgogCkBAIC0xMjY2LDUgKzEyNjUsMTAgQEAg
X25hbWUjI19zaG93KHN0cnVjdCBkZXZpY2UgKmRldiwJCQkJCVwKIAkJCQkJCQkJCVwKIHN0YXRp
YyBzdHJ1Y3QgZGV2aWNlX2F0dHJpYnV0ZSBwbXVfYXR0cl8jI19uYW1lID0gX19BVFRSX1JPKF9u
YW1lKQogCitzdGF0aWMgaW5saW5lIGJvb2wgYW1kZ3B1X2lzX3RteihzdHJ1Y3QgYW1kZ3B1X2Rl
dmljZSAqYWRldikKK3sKKyAgICAgICByZXR1cm4gYWRldi0+dG16LmVuYWJsZWQ7Cit9CisKICNl
bmRpZgogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2
aWNlLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMKaW5kZXgg
YjE0MDhjNWU0NjQwLi41NjgzNjA1NGU2YTggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L2FtZGdwdV9kZXZpY2UuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9hbWRncHVfZGV2aWNlLmMKQEAgLTY0LDcgKzY0LDYgQEAKICNpbmNsdWRlICJhbWRncHVfeGdt
aS5oIgogI2luY2x1ZGUgImFtZGdwdV9yYXMuaCIKICNpbmNsdWRlICJhbWRncHVfcG11LmgiCi0j
aW5jbHVkZSAiYW1kZ3B1X3Rtei5oIgogCiAjaW5jbHVkZSA8bGludXgvc3VzcGVuZC5oPgogCkBA
IC0xMDczLDcgKzEwNzIsNyBAQCBzdGF0aWMgaW50IGFtZGdwdV9kZXZpY2VfY2hlY2tfYXJndW1l
bnRzKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQogCiAJYWRldi0+ZmlybXdhcmUubG9hZF90
eXBlID0gYW1kZ3B1X3Vjb2RlX2dldF9sb2FkX3R5cGUoYWRldiwgYW1kZ3B1X2Z3X2xvYWRfdHlw
ZSk7CiAKLQlhZGV2LT50bXouZW5hYmxlZCA9IGFtZGdwdV9pc190bXooYWRldik7CisJYW1kZ3B1
X3Rtel9zZXQoYWRldik7CiAKIAlyZXR1cm4gcmV0OwogfQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dtYy5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X2dtYy5jCmluZGV4IGExMmYzM2MwZjVkZi4uYTAyNDVkOGIyZjM3IDEwMDY0NAot
LS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ21jLmMKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dtYy5jCkBAIC0zMzMsMyArMzMzLDI2IEBAIHZv
aWQgYW1kZ3B1X2dtY19yYXNfZmluaShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKIAlhbWRn
cHVfbW1odWJfcmFzX2ZpbmkoYWRldik7CiAJYW1kZ3B1X3hnbWlfcmFzX2ZpbmkoYWRldik7CiB9
CisKKy8qKgorICogYW1kZ3B1X3Rtel9zZXQgLS0gY2hlY2sgYW5kIHNldCBpZiBhIGRldmljZSBz
dXBwb3J0cyBUTVoKKyAqIEBhZGV2OiBhbWRncHVfZGV2aWNlIHBvaW50ZXIKKyAqCisgKiBDaGVj
ayBhbmQgc2V0IGlmIGFuIHRoZSBkZXZpY2UgQGFkZXYgc3VwcG9ydHMgVHJ1c3RlZCBNZW1vcnkK
KyAqIFpvbmVzIChUTVopLgorICovCit2b2lkIGFtZGdwdV90bXpfc2V0KHN0cnVjdCBhbWRncHVf
ZGV2aWNlICphZGV2KQoreworCWlmICghYW1kZ3B1X3RteikKKwkJcmV0dXJuOworCisJaWYgKGFk
ZXYtPmFzaWNfdHlwZSA8IENISVBfUkFWRU4gfHwKKwkgICAgYWRldi0+YXNpY190eXBlID09IENI
SVBfQVJDVFVSVVMpIHsKKwkJZGV2X3dhcm4oYWRldi0+ZGV2LCAiVHJ1c3RlZCBNZW1vcnkgWm9u
ZSAoVE1aKSBmZWF0dXJlIG5vdCBzdXBwb3J0ZWRcbiIpOworCQlyZXR1cm47CisJfQorCisJYWRl
di0+dG16LmVuYWJsZWQgPSB0cnVlOworCisJZGV2X2luZm8oYWRldi0+ZGV2LCAiVHJ1c3RlZCBN
ZW1vcnkgWm9uZSAoVE1aKSBmZWF0dXJlIHN1cHBvcnRlZCBhbmQgZW5hYmxlZFxuIik7Cit9CmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ21jLmggYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ21jLmgKaW5kZXggNDA2NzM2YTFiZDNkLi4x
YWJkOTM1YTA3M2UgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdw
dV9nbWMuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZ21jLmgKQEAg
LTI2Nyw0ICsyNjcsMTMgQEAgYm9vbCBhbWRncHVfZ21jX2ZpbHRlcl9mYXVsdHMoc3RydWN0IGFt
ZGdwdV9kZXZpY2UgKmFkZXYsIHVpbnQ2NF90IGFkZHIsCiBpbnQgYW1kZ3B1X2dtY19yYXNfbGF0
ZV9pbml0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KTsKIHZvaWQgYW1kZ3B1X2dtY19yYXNf
ZmluaShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7CiAKKy8qCisgKiBUcnVzdGVkIE1lbW9y
eSBab25lIHBhcnRpY3VsYXJzCisgKi8KK3N0cnVjdCBhbWRncHVfdG16IHsKKwlib29sCWVuYWJs
ZWQ7Cit9OworCitleHRlcm4gdm9pZCBhbWRncHVfdG16X3NldChzdHJ1Y3QgYW1kZ3B1X2Rldmlj
ZSAqYWRldik7CisKICNlbmRpZgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X3Rtei5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3Rtei5j
CmRlbGV0ZWQgZmlsZSBtb2RlIDEwMDY0NAppbmRleCA4MjM1MjdhMGZhNDcuLjAwMDAwMDAwMDAw
MAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdG16LmMKKysrIC9kZXYv
bnVsbApAQCAtMSw1MiArMCwwIEBACi0vKgotICogQ29weXJpZ2h0IDIwMTkgQWR2YW5jZWQgTWlj
cm8gRGV2aWNlcywgSW5jLgotICoKLSAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZy
ZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhCi0gKiBjb3B5IG9mIHRoaXMg
c29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2Fy
ZSIpLAotICogdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5j
bHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbgotICogdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1v
ZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsCi0gKiBhbmQvb3Ig
c2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hv
bSB0aGUKLSAqIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUg
Zm9sbG93aW5nIGNvbmRpdGlvbnM6Ci0gKgotICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2Ug
YW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4KLSAqIGFsbCBj
b3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgotICoKLSAqIFRI
RSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBL
SU5ELCBFWFBSRVNTIE9SCi0gKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRP
IFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwKLSAqIEZJVE5FU1MgRk9SIEEgUEFS
VElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuICBJTiBOTyBFVkVOVCBTSEFMTAot
ICogVEhFIENPUFlSSUdIVCBIT0xERVIoUykgT1IgQVVUSE9SKFMpIEJFIExJQUJMRSBGT1IgQU5Z
IENMQUlNLCBEQU1BR0VTIE9SCi0gKiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNU
SU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwKLSAqIEFSSVNJTkcgRlJPTSwgT1VU
IE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUgotICog
T1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLgotICovCi0KLSNpbmNsdWRlIDxsaW51eC9k
ZXZpY2UuaD4KLQotI2luY2x1ZGUgPGRybS9hbWRfYXNpY190eXBlLmg+Ci0KLSNpbmNsdWRlICJh
bWRncHUuaCIKLSNpbmNsdWRlICJhbWRncHVfdG16LmgiCi0KLQotLyoqCi0gKiBhbWRncHVfaXNf
dG16IC0gdmFsaWRhdGUgdHJ1c3QgbWVtb3J5IHpvbmUKLSAqCi0gKiBAYWRldjogYW1kZ3B1X2Rl
dmljZSBwb2ludGVyCi0gKgotICogUmV0dXJuIHRydWUgaWYgQGRldiBzdXBwb3J0cyB0cnVzdGVk
IG1lbW9yeSB6b25lcyAoVE1aKSwgYW5kIHJldHVybiBmYWxzZSBpZgotICogQGRldiBkb2VzIG5v
dCBzdXBwb3J0IFRNWi4KLSAqLwotYm9vbCBhbWRncHVfaXNfdG16KHN0cnVjdCBhbWRncHVfZGV2
aWNlICphZGV2KQotewotCWlmICghYW1kZ3B1X3RteikKLQkJcmV0dXJuIGZhbHNlOwotCi0JaWYg
KGFkZXYtPmFzaWNfdHlwZSA8IENISVBfUkFWRU4gfHwgYWRldi0+YXNpY190eXBlID09IENISVBf
QVJDVFVSVVMpIHsKLQkJZGV2X3dhcm4oYWRldi0+ZGV2LCAiZG9lc24ndCBzdXBwb3J0IHRydXN0
ZWQgbWVtb3J5IHpvbmVzIChUTVopXG4iKTsKLQkJcmV0dXJuIGZhbHNlOwotCX0KLQotCWRldl9p
bmZvKGFkZXYtPmRldiwgIlRNWiBmZWF0dXJlIGlzIGVuYWJsZWRcbiIpOwotCi0JcmV0dXJuIHRy
dWU7Ci19CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdG16
LmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdG16LmgKZGVsZXRlZCBmaWxl
IG1vZGUgMTAwNjQ0CmluZGV4IDI4ZTA1MTc3ZmI4OS4uMDAwMDAwMDAwMDAwCi0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV90bXouaAorKysgL2Rldi9udWxsCkBAIC0xLDM5
ICswLDAgQEAKLS8qCi0gKiBDb3B5cmlnaHQgMjAxOSBBZHZhbmNlZCBNaWNybyBEZXZpY2VzLCBJ
bmMuCi0gKgotICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2Us
IHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEKLSAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQg
YXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksCi0gKiB0byBk
ZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91
dCBsaW1pdGF0aW9uCi0gKiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwg
cHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwKLSAqIGFuZC9vciBzZWxsIGNvcGllcyBv
ZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZQotICogU29m
dHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29u
ZGl0aW9uczoKLSAqCi0gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJt
aXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbgotICogYWxsIGNvcGllcyBvciBzdWJz
dGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuCi0gKgotICogVEhFIFNPRlRXQVJFIElT
IFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Mg
T1IKLSAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJ
RVMgT0YgTUVSQ0hBTlRBQklMSVRZLAotICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBP
U0UgQU5EIE5PTklORlJJTkdFTUVOVC4gIElOIE5PIEVWRU5UIFNIQUxMCi0gKiBUSEUgQ09QWVJJ
R0hUIEhPTERFUihTKSBPUiBBVVRIT1IoUykgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFH
RVMgT1IKLSAqIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJB
Q1QsIFRPUlQgT1IgT1RIRVJXSVNFLAotICogQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09O
TkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SCi0gKiBPVEhFUiBERUFMSU5H
UyBJTiBUSEUgU09GVFdBUkUuCi0gKgotICovCi0KLSNpZm5kZWYgX19BTURHUFVfVE1aX0hfXwot
I2RlZmluZSBfX0FNREdQVV9UTVpfSF9fCi0KLSNpbmNsdWRlICJhbWRncHUuaCIKLQotLyoKLSAq
IFRydXN0IG1lbW9yeSB6b25lIHN0dWZmCi0gKi8KLXN0cnVjdCBhbWRncHVfdG16IHsKLQlib29s
CWVuYWJsZWQ7Ci19OwotCi0KLWV4dGVybiBib29sIGFtZGdwdV9pc190bXooc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYpOwotCi0jZW5kaWYKLS0gCjIuMjQuMC4xNTUuZ2Q5ZjZmM2I2MTkKCl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmFtZC1nZnggbWFp
bGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeA==
