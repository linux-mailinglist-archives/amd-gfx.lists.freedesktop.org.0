Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id D92AFE7363
	for <lists+amd-gfx@lfdr.de>; Mon, 28 Oct 2019 15:09:01 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D72996E8A6;
	Mon, 28 Oct 2019 14:08:59 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM04-CO1-obe.outbound.protection.outlook.com
 (mail-eopbgr690087.outbound.protection.outlook.com [40.107.69.87])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D27AF6E8A4
 for <amd-gfx@lists.freedesktop.org>; Mon, 28 Oct 2019 14:08:57 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=WUfVTGZSDD8/ok3qEuyJNcXIyEGkUnRKpbmylyKENQQnMYjPJuaX9gnt7/P7G9nWDD4XAOHnSRpQtsP5RBq4AUd+lLatCoXdR6YzsFafQHuoNhVUfod4/bywTDHa/aUj0aBTuBNv8bSsSyb3onjpoVQitc5dnBKxhfRM7lYWYrDV8a7Gx75S7J0HwoQAkd3V+3QEoXDC6oKhTsUdtjPoJwwa/DKA8DX1Cvp/Z1VTVmBAyfvbNNnQzONyuxI5xDZ3nJF1JMSf6Px91v+JOG2nspivBSbriOkm3lwbSZKkNQwZcSMSoQ9ZnlgVorcDbUzuZdur6sTaa8+gMBaSKIYkaw==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=NPaAh6DQTrtF4+tHiUNQ5KFGTLGun2/d9h9tTtgaJfg=;
 b=NiHxuum4uAW0hkPxC9WuY2Zt9QzctcdzFiW+FyJhR6OKYiosO6nPbNaxZ/Nr1doQLhkU3hhO+Yq+U2U7Prp7BhT998E7YTgBEwWW+1GlNakFbPvfzJYa1Vc2HkuhSi2A/6ntk6G5Y39hHIJiUQOBU/LZG4jdMDmvENAALWztMGay8xpL+cnIT8CVb7gGgNDW5n903aFvOaK2gANod3YFxuAOycrnOKM6+rYTOD/VUVpEU4lOu4ruoAcsjh/MK8qsg4QiKbcOy9gKCRB7LDQi/sPJcNd077RC/Xrmsuz1Y7G7I/Os6krKTufzRXFv+KtE9JfnYkdB4LVWEDoIRAeWwg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=none (sender ip is
 165.204.84.17) smtp.rcpttodomain=lists.freedesktop.org smtp.mailfrom=amd.com; 
 dmarc=permerror action=none header.from=amd.com; dkim=none (message not
 signed); arc=none
Received: from BN6PR1201CA0003.namprd12.prod.outlook.com
 (2603:10b6:405:4c::13) by BL0PR12MB2338.namprd12.prod.outlook.com
 (2603:10b6:207:4c::28) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2387.24; Mon, 28 Oct
 2019 14:08:56 +0000
Received: from CO1NAM03FT027.eop-NAM03.prod.protection.outlook.com
 (2a01:111:f400:7e48::205) by BN6PR1201CA0003.outlook.office365.com
 (2603:10b6:405:4c::13) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2387.20 via Frontend
 Transport; Mon, 28 Oct 2019 14:08:56 +0000
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
Received: from SATLEXMB01.amd.com (165.204.84.17) by
 CO1NAM03FT027.mail.protection.outlook.com (10.152.80.161) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id
 15.20.2387.20 via Frontend Transport; Mon, 28 Oct 2019 14:08:55 +0000
Received: from SATLEXMB03.amd.com (10.181.40.144) by SATLEXMB01.amd.com
 (10.181.40.142) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id 15.1.1713.5; Mon, 28 Oct
 2019 09:08:54 -0500
Received: from SATLEXMB01.amd.com (10.181.40.142) by SATLEXMB03.amd.com
 (10.181.40.144) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256) id 15.1.1713.5; Mon, 28 Oct
 2019 09:08:54 -0500
Received: from kazvm.amd.com (10.180.168.240) by SATLEXMB01.amd.com
 (10.181.40.142) with Microsoft SMTP Server id 15.1.1713.5 via Frontend
 Transport; Mon, 28 Oct 2019 09:08:53 -0500
From: Nicholas Kazlauskas <nicholas.kazlauskas@amd.com>
To: <amd-gfx@lists.freedesktop.org>
Subject: [PATCH 05/11] drm/amd/display: Change dmcu init sequence for dmcub
 loading dmcu FW.
Date: Mon, 28 Oct 2019 10:08:31 -0400
Message-ID: <20191028140837.7908-6-nicholas.kazlauskas@amd.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20191028140837.7908-1-nicholas.kazlauskas@amd.com>
References: <20191028140837.7908-1-nicholas.kazlauskas@amd.com>
MIME-Version: 1.0
X-EOPAttributedMessage: 0
X-MS-Office365-Filtering-HT: Tenant
X-Forefront-Antispam-Report: CIP:165.204.84.17; IPV:NLI; CTRY:US; EFV:NLI;
 SFV:NSPM;
 SFS:(10009020)(979002)(4636009)(376002)(396003)(346002)(136003)(39860400002)(428003)(189003)(199004)(50226002)(70206006)(6666004)(316002)(426003)(26005)(50466002)(54906003)(48376002)(356004)(2870700001)(478600001)(2906002)(5660300002)(1076003)(70586007)(6916009)(476003)(2351001)(4326008)(2616005)(86362001)(76176011)(446003)(53416004)(14444005)(36756003)(51416003)(186003)(336012)(486006)(305945005)(44832011)(8936002)(81166006)(81156014)(8676002)(47776003)(126002)(7696005)(11346002)(969003)(989001)(999001)(1009001)(1019001);
 DIR:OUT; SFP:1101; SCL:1; SRVR:BL0PR12MB2338; H:SATLEXMB01.amd.com; FPR:;
 SPF:None; LANG:en; PTR:InfoDomainNonexistent; MX:1; A:1; 
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-Correlation-Id: 8e81ca2e-ebe2-4c00-39ec-08d75bb05e90
X-MS-TrafficTypeDiagnostic: BL0PR12MB2338:
X-Microsoft-Antispam-PRVS: <BL0PR12MB233830005ED15D1A28DEAE89EC660@BL0PR12MB2338.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:639;
X-Forefront-PRVS: 0204F0BDE2
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: 0WvfUeYplqOwft1AfoW2TSvXKJUSw44Nyi4j/8fTPOXJgpB9SCBkiQdRgO1bfTzLkFMdcqKSdLhTtWcnage1IvTrFzfBjCYpKA9YhHEMm2bzV3PIjcx0laeeeCpp5F8/BSf5Xr2DPjys+koMPJU81k3LoM6Ut/jvnDfip6LZtSHlnaQGvhqyANj2yAPbr866i2Sx5WlT0pBuHLubEbBAtK31wSEdMxJGtusOb+1MrGCmWBRlaxvuAgi5FykjvTS17KMJh6BS2tWfwFeWAd29XH6vNzIiKQZQAfA5y8ndHxiWmKgyxWrejGUBCLqV9aZHwRM7Xk02LlBcr69PExvogyGwyrLURvsUWPy1Do7e3UQr++GnoVW6Q2NO8MMDVDIWZ8CI6/6od9RLWjTeAMO+CgWL+uCGhRjTjQm6SOtbwcova7l1GqgzTJ/3ajVq9FXW
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 28 Oct 2019 14:08:55.3495 (UTC)
X-MS-Exchange-CrossTenant-Network-Message-Id: 8e81ca2e-ebe2-4c00-39ec-08d75bb05e90
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-OriginalAttributedTenantConnectingIp: TenantId=3dd8961f-e488-4e60-8e11-a82d994e183d; Ip=[165.204.84.17];
 Helo=[SATLEXMB01.amd.com]
X-MS-Exchange-CrossTenant-FromEntityHeader: HybridOnPrem
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BL0PR12MB2338
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=NPaAh6DQTrtF4+tHiUNQ5KFGTLGun2/d9h9tTtgaJfg=;
 b=x/tyS9SbyeCSvOhlb0mgLPGm1Blch+8oGy3/K53afy2btMf65P5zGEGYhUNZf5JsRY9QoaHMUc8QAssH79cEQPapGrFYGWMu2qUZPUr//n5B0tgwmKsIQ8g+Rrw5XDW9JE3CcD0sqKlZozU1amj9Wbsdfj+EyZ+VtCH8TMq6yEQ=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is
 165.204.84.17)
 smtp.mailfrom=amd.com; lists.freedesktop.org; dkim=none (message not signed)
 header.d=none;lists.freedesktop.org; dmarc=permerror action=none
 header.from=amd.com;
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Yongqiang Sun <yongqiang.sun@amd.com>, Tony Cheng <Tony.Cheng@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogWW9uZ3FpYW5nIFN1biA8eW9uZ3FpYW5nLnN1bkBhbWQuY29tPgoKW1doeV0KRE1DVSBp
c24ndCBpbnRpbGlhemVkIHByb3Blcmx5IGJ5IGRtY3ViIGxvYWRpbmcgZHVlIHRvIGRtY3ViIGlu
aXRpYWxpemUKc2VxdWVuY2UuCgpbSG93XQpDaGFuZ2UgZG1jdSBpbml0IHNlcXVlY2UgdG8gbWVl
dCBkbWN1YiBpbml0aWxpemUuCgpTaWduZWQtb2ZmLWJ5OiBZb25ncWlhbmcgU3VuIDx5b25ncWlh
bmcuc3VuQGFtZC5jb20+ClJldmlld2VkLWJ5OiBUb255IENoZW5nIDxUb255LkNoZW5nQGFtZC5j
b20+Ci0tLQogZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjZS9kY2VfZG1jdS5jIHwg
NzkgKysrKysrKysrKysrKysrKysrKwogZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2Rj
ZS9kY2VfZG1jdS5oIHwgMTMgKysrCiAuLi4vYW1kL2Rpc3BsYXkvZGMvZGNuMTAvZGNuMTBfaHdf
c2VxdWVuY2VyLmMgfCAgMiArLQogLi4uL2RybS9hbWQvZGlzcGxheS9kYy9kY24yMS9kY24yMV9y
ZXNvdXJjZS5jIHwgIDQgKy0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9pbmMvaHcv
ZG1jdS5oICB8ICAyICsKIDUgZmlsZXMgY2hhbmdlZCwgOTcgaW5zZXJ0aW9ucygrKSwgMyBkZWxl
dGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNl
L2RjZV9kbWN1LmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNlL2RjZV9kbWN1
LmMKaW5kZXggYmE5OTVkM2YyMzE4Li4zNDE3MTAwZDUxZTQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY2UvZGNlX2RtY3UuYworKysgYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2Rpc3BsYXkvZGMvZGNlL2RjZV9kbWN1LmMKQEAgLTU5LDYgKzU5LDEyIEBACiAjZGVm
aW5lIE1DUF9CTF9TRVRfUFdNX0ZSQUMgMHg2QSAgLyogRW5hYmxlIG9yIGRpc2FibGUgRnJhY3Rp
b25hbCBQV00gKi8KICNkZWZpbmUgTUFTVEVSX0NPTU1fQ05UTF9SRUdfX01BU1RFUl9DT01NX0lO
VEVSUlVQVF9NQVNLICAgMHgwMDAwMDAwMUwKIAorLy8gUFNQIEZXIHZlcnNpb24KKyNkZWZpbmUg
bW1NUDBfU01OX0MyUE1TR181OAkJCQkweDE2MDdBCisKKy8vUmVnaXN0ZXIgYWNjZXNzIHBvbGlj
eSB2ZXJzaW9uCisjZGVmaW5lIG1tTVAwX1NNTl9DMlBNU0dfOTEJCQkJMHgxNjA5QgorCiBzdGF0
aWMgYm9vbCBkY2VfZG1jdV9pbml0KHN0cnVjdCBkbWN1ICpkbWN1KQogewogCS8vIERvIG5vdGhp
bmcKQEAgLTM3Myw2ICszNzksNyBAQCBzdGF0aWMgYm9vbCBkY24xMF9kbWN1X2luaXQoc3RydWN0
IGRtY3UgKmRtY3UpCiAJY29uc3Qgc3RydWN0IGRjX2NvbmZpZyAqY29uZmlnID0gJmRtY3UtPmN0
eC0+ZGMtPmNvbmZpZzsKIAlib29sIHN0YXR1cyA9IGZhbHNlOwogCisJUEVSRl9UUkFDRSgpOwog
CS8qICBEZWZpbml0aW9uIG9mIERDX0RNQ1VfU0NSQVRDSAogCSAqICAwIDogZmlybWFyZSBub3Qg
bG9hZGVkCiAJICogIDEgOiBQU1AgbG9hZCBETUNVIEZXIGJ1dCBub3QgaW5pdGlhbGl6ZWQKQEAg
LTQyOSw5ICs0MzYsMjMgQEAgc3RhdGljIGJvb2wgZGNuMTBfZG1jdV9pbml0KHN0cnVjdCBkbWN1
ICpkbWN1KQogCQlicmVhazsKIAl9CiAKKwlQRVJGX1RSQUNFKCk7CiAJcmV0dXJuIHN0YXR1czsK
IH0KIAorI2lmIGRlZmluZWQoQ09ORklHX0RSTV9BTURfRENfRENOMl8xKQorc3RhdGljIGJvb2wg
ZGNuMjFfZG1jdV9pbml0KHN0cnVjdCBkbWN1ICpkbWN1KQoreworCXN0cnVjdCBkY2VfZG1jdSAq
ZG1jdV9kY2UgPSBUT19EQ0VfRE1DVShkbWN1KTsKKwl1aW50MzJfdCBkbWN1Yl9wc3BfdmVyc2lv
biA9IFJFR19SRUFEKERNQ1VCX1NDUkFUQ0gxNSk7CisKKwlpZiAoZG1jdS0+YXV0b19sb2FkX2Rt
Y3UgJiYgZG1jdWJfcHNwX3ZlcnNpb24gPT0gMCkgeworCQlyZXR1cm4gZmFsc2U7CisJfQorCisJ
cmV0dXJuIGRjbjEwX2RtY3VfaW5pdChkbWN1KTsKK30KKyNlbmRpZgogCiBzdGF0aWMgYm9vbCBk
Y24xMF9kbWN1X2xvYWRfaXJhbShzdHJ1Y3QgZG1jdSAqZG1jdSwKIAkJdW5zaWduZWQgaW50IHN0
YXJ0X29mZnNldCwKQEAgLTgxOCw2ICs4MzksMjEgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBkbWN1
X2Z1bmNzIGRjbjIwX2Z1bmNzID0gewogfTsKICNlbmRpZgogCisjaWYgZGVmaW5lZChDT05GSUdf
RFJNX0FNRF9EQ19EQ04yXzEpCitzdGF0aWMgY29uc3Qgc3RydWN0IGRtY3VfZnVuY3MgZGNuMjFf
ZnVuY3MgPSB7CisJLmRtY3VfaW5pdCA9IGRjbjIxX2RtY3VfaW5pdCwKKwkubG9hZF9pcmFtID0g
ZGNuMTBfZG1jdV9sb2FkX2lyYW0sCisJLnNldF9wc3JfZW5hYmxlID0gZGNuMTBfZG1jdV9zZXRf
cHNyX2VuYWJsZSwKKwkuc2V0dXBfcHNyID0gZGNuMTBfZG1jdV9zZXR1cF9wc3IsCisJLmdldF9w
c3Jfc3RhdGUgPSBkY24xMF9nZXRfZG1jdV9wc3Jfc3RhdGUsCisJLnNldF9wc3Jfd2FpdF9sb29w
ID0gZGNuMTBfcHNyX3dhaXRfbG9vcCwKKwkuZ2V0X3Bzcl93YWl0X2xvb3AgPSBkY24xMF9nZXRf
cHNyX3dhaXRfbG9vcCwKKwkuaXNfZG1jdV9pbml0aWFsaXplZCA9IGRjbjEwX2lzX2RtY3VfaW5p
dGlhbGl6ZWQsCisJLmxvY2tfcGh5ID0gZGNuMjBfbG9ja19waHksCisJLnVubG9ja19waHkgPSBk
Y24yMF91bmxvY2tfcGh5Cit9OworI2VuZGlmCisKIHN0YXRpYyB2b2lkIGRjZV9kbWN1X2NvbnN0
cnVjdCgKIAlzdHJ1Y3QgZGNlX2RtY3UgKmRtY3VfZGNlLAogCXN0cnVjdCBkY19jb250ZXh0ICpj
dHgsCkBAIC04MzYsNiArODcyLDI2IEBAIHN0YXRpYyB2b2lkIGRjZV9kbWN1X2NvbnN0cnVjdCgK
IAlkbWN1X2RjZS0+ZG1jdV9tYXNrID0gZG1jdV9tYXNrOwogfQogCisjaWYgZGVmaW5lZChDT05G
SUdfRFJNX0FNRF9EQ19EQ04yXzEpCitzdGF0aWMgdm9pZCBkY24yMV9kbWN1X2NvbnN0cnVjdCgK
KwkJc3RydWN0IGRjZV9kbWN1ICpkbWN1X2RjZSwKKwkJc3RydWN0IGRjX2NvbnRleHQgKmN0eCwK
KwkJY29uc3Qgc3RydWN0IGRjZV9kbWN1X3JlZ2lzdGVycyAqcmVncywKKwkJY29uc3Qgc3RydWN0
IGRjZV9kbWN1X3NoaWZ0ICpkbWN1X3NoaWZ0LAorCQljb25zdCBzdHJ1Y3QgZGNlX2RtY3VfbWFz
ayAqZG1jdV9tYXNrKQoreworCXVpbnQzMl90IHBzcF92ZXJzaW9uID0gMDsKKworCWRjZV9kbWN1
X2NvbnN0cnVjdChkbWN1X2RjZSwgY3R4LCByZWdzLCBkbWN1X3NoaWZ0LCBkbWN1X21hc2spOwor
CisJaWYgKCFJU19GUEdBX01BWElNVVNfREMoY3R4LT5kY2VfZW52aXJvbm1lbnQpKSB7CisJCXBz
cF92ZXJzaW9uID0gZG1fcmVhZF9yZWcoY3R4LCBtbU1QMF9TTU5fQzJQTVNHXzU4KTsKKwkJZG1j
dV9kY2UtPmJhc2UuYXV0b19sb2FkX2RtY3UgPSAocHNwX3ZlcnNpb24gPiAweDAwMTEwMDI5KTsK
KwkJZG1jdV9kY2UtPmJhc2UucHNwX3ZlcnNpb24gPSBwc3BfdmVyc2lvbjsKKwl9Cit9CisjZW5k
aWYKKwogc3RydWN0IGRtY3UgKmRjZV9kbWN1X2NyZWF0ZSgKIAlzdHJ1Y3QgZGNfY29udGV4dCAq
Y3R4LAogCWNvbnN0IHN0cnVjdCBkY2VfZG1jdV9yZWdpc3RlcnMgKnJlZ3MsCkBAIC05MDMsNiAr
OTU5LDI5IEBAIHN0cnVjdCBkbWN1ICpkY24yMF9kbWN1X2NyZWF0ZSgKIH0KICNlbmRpZgogCisj
aWYgZGVmaW5lZChDT05GSUdfRFJNX0FNRF9EQ19EQ04yXzEpCitzdHJ1Y3QgZG1jdSAqZGNuMjFf
ZG1jdV9jcmVhdGUoCisJc3RydWN0IGRjX2NvbnRleHQgKmN0eCwKKwljb25zdCBzdHJ1Y3QgZGNl
X2RtY3VfcmVnaXN0ZXJzICpyZWdzLAorCWNvbnN0IHN0cnVjdCBkY2VfZG1jdV9zaGlmdCAqZG1j
dV9zaGlmdCwKKwljb25zdCBzdHJ1Y3QgZGNlX2RtY3VfbWFzayAqZG1jdV9tYXNrKQoreworCXN0
cnVjdCBkY2VfZG1jdSAqZG1jdV9kY2UgPSBremFsbG9jKHNpemVvZigqZG1jdV9kY2UpLCBHRlBf
S0VSTkVMKTsKKworCWlmIChkbWN1X2RjZSA9PSBOVUxMKSB7CisJCUJSRUFLX1RPX0RFQlVHR0VS
KCk7CisJCXJldHVybiBOVUxMOworCX0KKworCWRjbjIxX2RtY3VfY29uc3RydWN0KAorCQlkbWN1
X2RjZSwgY3R4LCByZWdzLCBkbWN1X3NoaWZ0LCBkbWN1X21hc2spOworCisJZG1jdV9kY2UtPmJh
c2UuZnVuY3MgPSAmZGNuMjFfZnVuY3M7CisKKwlyZXR1cm4gJmRtY3VfZGNlLT5iYXNlOworfQor
I2VuZGlmCisKIHZvaWQgZGNlX2RtY3VfZGVzdHJveShzdHJ1Y3QgZG1jdSAqKmRtY3UpCiB7CiAJ
c3RydWN0IGRjZV9kbWN1ICpkbWN1X2RjZSA9IFRPX0RDRV9ETUNVKCpkbWN1KTsKZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY2UvZGNlX2RtY3UuaCBiL2RyaXZl
cnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY2UvZGNlX2RtY3UuaAppbmRleCBjYzg1ODc2ODNi
NGIuLjFhNDJiMmNiYjIxYiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5
L2RjL2RjZS9kY2VfZG1jdS5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9k
Y2UvZGNlX2RtY3UuaApAQCAtNzEsNiArNzEsMTAgQEAKIAlETUNVX0NPTU1PTl9SRUdfTElTVF9E
Q0VfQkFTRSgpLCBcCiAJU1IoRE1VX01FTV9QV1JfQ05UTCkKIAorI2RlZmluZSBETUNVX0RDTjIw
X1JFR19MSVNUKClcCisJRE1DVV9EQ04xMF9SRUdfTElTVCgpLCBcCisJU1IoRE1DVUJfU0NSQVRD
SDE1KQorCiAjZGVmaW5lIERNQ1VfU0YocmVnX25hbWUsIGZpZWxkX25hbWUsIHBvc3RfZml4KVwK
IAkuZmllbGRfbmFtZSA9IHJlZ19uYW1lICMjIF9fICMjIGZpZWxkX25hbWUgIyMgcG9zdF9maXgK
IApAQCAtMTc1LDYgKzE3OSw3IEBAIHN0cnVjdCBkY2VfZG1jdV9yZWdpc3RlcnMgewogCXVpbnQz
Ml90IERNQ1VfSU5URVJSVVBUX1RPX1VDX0VOX01BU0s7CiAJdWludDMyX3QgU01VX0lOVEVSUlVQ
VF9DT05UUk9MOwogCXVpbnQzMl90IERDX0RNQ1VfU0NSQVRDSDsKKwl1aW50MzJfdCBETUNVQl9T
Q1JBVENIMTU7CiB9OwogCiBzdHJ1Y3QgZGNlX2RtY3UgewpAQCAtMjY5LDYgKzI3NCwxNCBAQCBz
dHJ1Y3QgZG1jdSAqZGNuMjBfZG1jdV9jcmVhdGUoCiAJY29uc3Qgc3RydWN0IGRjZV9kbWN1X21h
c2sgKmRtY3VfbWFzayk7CiAjZW5kaWYKIAorI2lmIGRlZmluZWQoQ09ORklHX0RSTV9BTURfRENf
RENOMl8xKQorc3RydWN0IGRtY3UgKmRjbjIxX2RtY3VfY3JlYXRlKAorCXN0cnVjdCBkY19jb250
ZXh0ICpjdHgsCisJY29uc3Qgc3RydWN0IGRjZV9kbWN1X3JlZ2lzdGVycyAqcmVncywKKwljb25z
dCBzdHJ1Y3QgZGNlX2RtY3Vfc2hpZnQgKmRtY3Vfc2hpZnQsCisJY29uc3Qgc3RydWN0IGRjZV9k
bWN1X21hc2sgKmRtY3VfbWFzayk7CisjZW5kaWYKKwogdm9pZCBkY2VfZG1jdV9kZXN0cm95KHN0
cnVjdCBkbWN1ICoqZG1jdSk7CiAKIHN0YXRpYyBjb25zdCB1aW50MzJfdCBhYm1fZ2Fpbl9zdGVw
c2l6ZSA9IDB4MDA2MDsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9k
Yy9kY24xMC9kY24xMF9od19zZXF1ZW5jZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxh
eS9kYy9kY24xMC9kY24xMF9od19zZXF1ZW5jZXIuYwppbmRleCBlYjkxNDMyNjIxYWIuLjMyODQ0
Y2Q1MGQwOSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjEw
L2RjbjEwX2h3X3NlcXVlbmNlci5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9k
Yy9kY24xMC9kY24xMF9od19zZXF1ZW5jZXIuYwpAQCAtMTI4NSw3ICsxMjg1LDcgQEAgc3RhdGlj
IHZvaWQgZGNuMTBfaW5pdF9odyhzdHJ1Y3QgZGMgKmRjKQogCQlhYm0tPmZ1bmNzLT5hYm1faW5p
dChhYm0pOwogCX0KIAotCWlmIChkbWN1ICE9IE5VTEwpCisJaWYgKGRtY3UgIT0gTlVMTCAmJiAh
ZG1jdS0+YXV0b19sb2FkX2RtY3UpCiAJCWRtY3UtPmZ1bmNzLT5kbWN1X2luaXQoZG1jdSk7CiAK
IAlpZiAoYWJtICE9IE5VTEwgJiYgZG1jdSAhPSBOVUxMKQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIxL2RjbjIxX3Jlc291cmNlLmMgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjEvZGNuMjFfcmVzb3VyY2UuYwppbmRleCAxMDQyMTk3
ZjE4NTkuLmFlMWEyNTBjMmY3ZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNw
bGF5L2RjL2RjbjIxL2RjbjIxX3Jlc291cmNlLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9k
aXNwbGF5L2RjL2RjbjIxL2RjbjIxX3Jlc291cmNlLmMKQEAgLTM1MCw3ICszNTAsNyBAQCBzdGF0
aWMgY29uc3Qgc3RydWN0IGJpb3NfcmVnaXN0ZXJzIGJpb3NfcmVncyA9IHsKIH07CiAKIHN0YXRp
YyBjb25zdCBzdHJ1Y3QgZGNlX2RtY3VfcmVnaXN0ZXJzIGRtY3VfcmVncyA9IHsKLQkJRE1DVV9E
Q04xMF9SRUdfTElTVCgpCisJCURNQ1VfRENOMjBfUkVHX0xJU1QoKQogfTsKIAogc3RhdGljIGNv
bnN0IHN0cnVjdCBkY2VfZG1jdV9zaGlmdCBkbWN1X3NoaWZ0ID0gewpAQCAtMTcyNyw3ICsxNzI3
LDcgQEAgc3RhdGljIGJvb2wgY29uc3RydWN0KAogCQlnb3RvIGNyZWF0ZV9mYWlsOwogCX0KIAot
CXBvb2wtPmJhc2UuZG1jdSA9IGRjbjIwX2RtY3VfY3JlYXRlKGN0eCwKKwlwb29sLT5iYXNlLmRt
Y3UgPSBkY24yMV9kbWN1X2NyZWF0ZShjdHgsCiAJCQkmZG1jdV9yZWdzLAogCQkJJmRtY3Vfc2hp
ZnQsCiAJCQkmZG1jdV9tYXNrKTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlz
cGxheS9kYy9pbmMvaHcvZG1jdS5oIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2lu
Yy9ody9kbWN1LmgKaW5kZXggYzY4ZjBjZTM0NmM3Li41MzE1ZjFmODZiMjEgMTAwNjQ0Ci0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9pbmMvaHcvZG1jdS5oCisrKyBiL2RyaXZl
cnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9pbmMvaHcvZG1jdS5oCkBAIC01Miw2ICs1Miw4IEBA
IHN0cnVjdCBkbWN1IHsKIAllbnVtIGRtY3Vfc3RhdGUgZG1jdV9zdGF0ZTsKIAlzdHJ1Y3QgZG1j
dV92ZXJzaW9uIGRtY3VfdmVyc2lvbjsKIAl1bnNpZ25lZCBpbnQgY2FjaGVkX3dhaXRfbG9vcF9u
dW1iZXI7CisJdWludDMyX3QgcHNwX3ZlcnNpb247CisJYm9vbCBhdXRvX2xvYWRfZG1jdTsKIH07
CiAKIHN0cnVjdCBkbWN1X2Z1bmNzIHsKLS0gCjIuMjAuMQoKX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBs
aXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1h
bi9saXN0aW5mby9hbWQtZ2Z4
