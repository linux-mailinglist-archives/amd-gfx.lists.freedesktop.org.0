Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 8E3D349070
	for <lists+amd-gfx@lfdr.de>; Mon, 17 Jun 2019 21:50:41 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id BCE9D6E064;
	Mon, 17 Jun 2019 19:50:37 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-qt1-x841.google.com (mail-qt1-x841.google.com
 [IPv6:2607:f8b0:4864:20::841])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8DD746E05C
 for <amd-gfx@lists.freedesktop.org>; Mon, 17 Jun 2019 19:50:29 +0000 (UTC)
Received: by mail-qt1-x841.google.com with SMTP id x2so12352638qtr.0
 for <amd-gfx@lists.freedesktop.org>; Mon, 17 Jun 2019 12:50:29 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=izQupLMIPVxzrdn1afHw0WymiGx66FkOo84zXJPT2W4=;
 b=CGs5qKknomwtIxSCpdgnnL1pxfYDrbK0+iVvEwOMTyz2UBaHLtoFp++KlKaDkrhIp5
 kxofZIjlcniZyYX8qzfou7soLSH/9vK82NQ9kp7icnVLKO2k7y3DOvFNZK95Mqthr7bC
 vYLKgfVLwMLR9+G/YFHW/VomkDt5equ26cfeorm0l4DmEmk5l8hj+QrleIh3PgfNkehX
 YVQSac0izX18NnfyMMJq0HnjTWyxIGZ8adXvMW30G2HPO0e9BZbO4NbZJRFMxf4esuOR
 INwcNXH37PUSq0CS+JLYXQzSYTTpGACJ1blH/BcZX4OChvqmM6F6jyP1D32tdS+KRSUy
 ErTw==
X-Gm-Message-State: APjAAAXHHG4mieRR07rvvl6YrV18RddzDyWgPE+JrIdrqgxan+gd1irR
 kfJTsEzfon9bR4YTgTRRu8RrsdHTbFPHzg==
X-Google-Smtp-Source: APXvYqzqdSC0acJPYjbObZwmp4NGomLAEDshKDzMB3HiaCpO/W3GuNywh7ZSlBD4twGEmJly2/wv7A==
X-Received: by 2002:a0c:8082:: with SMTP id 2mr3407007qvb.64.1560801028515;
 Mon, 17 Jun 2019 12:50:28 -0700 (PDT)
Received: from localhost.localdomain ([71.219.5.136])
 by smtp.gmail.com with ESMTPSA id a51sm7520252qta.85.2019.06.17.12.50.27
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Mon, 17 Jun 2019 12:50:28 -0700 (PDT)
From: Alex Deucher <alexdeucher@gmail.com>
X-Google-Original-From: Alex Deucher <alexander.deucher@amd.com>
To: amd-gfx@lists.freedesktop.org
Subject: [PATCH 432/459] drm/amd/display: decouple dsc adjustment out of
 enablement
Date: Mon, 17 Jun 2019 14:49:21 -0500
Message-Id: <20190617194948.18667-33-alexander.deucher@amd.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190617194948.18667-1-alexander.deucher@amd.com>
References: <20190617194948.18667-1-alexander.deucher@amd.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=izQupLMIPVxzrdn1afHw0WymiGx66FkOo84zXJPT2W4=;
 b=FfDn350qqQfQTkr0Bwu+C8DmUu6Zw/FHZpjsz2mXNZKzKlHIX0kz/XFtUwv4PK+jnn
 7jvMbxRMz8qbI6RMtzebPCguCUwbyy0PtvH7LYhALb5mDY/cOowZI+ibeykUbMu0ileY
 RyvS43iw9CR5jnRyKy/iWL0atVMNWp5E0EByOy9kIxppoHf3GUinU1zxuZ3+JQgTSGgy
 on5V9mmztGOgIvpDjHUbvu0hHge8U96MZ0x/TatIczQ45E6tOW+VwU3er74I5iZxMM5U
 9n5QFahDEah3hemI4f8tgNychB5hgO/tNwqyRR527O948gr0nlWEBo+B/akI61FmG54h
 onnA==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Leo Li <sunpeng.li@amd.com>, Alex Deucher <alexander.deucher@amd.com>,
 Wenjing Liu <Wenjing.Liu@amd.com>, Nikola Cornij <Nikola.Cornij@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogV2VuamluZyBMaXUgPFdlbmppbmcuTGl1QGFtZC5jb20+Cgpbd2h5XQpkc2MgYWRqdXN0
bWVudCBpcyBhbGxvd2VkIHZpYSBzdHJlYW0gdXBkYXRlIHNlcXVlbmNlLgpkc2MgZW5hYmxlbWVu
dCBpcyBvbmx5IGFsbG93ZWQgdmlhIGNvbW1pdCBzdHJlYW0gc2VxdWVuY2UuCndpdGggdGhlIGN1
cnJlbnQgdW5pZmllZCBkc2Mgc2V0IGZ1bmN0aW9uLCBpdCBpcyBoYXJkCnRvIGRldGVybWluZSB3
aGljaCBzZXF1ZW5jZSBpdCBpcyBjYWxsZWQgYnkuClRoZSBzb2x1dGlvbiBpcyB0byBkZWNvdXBs
ZSBkc2MgYWRqdXN0bWVudCBvdXQgb2YgZW5hYmxlbWVudApzZXF1ZW5jZSBzbyB3ZSBjYW4gaGFu
ZGxlIHRoZW0gc2VwYXJhdGVseS4KCltob3ddCmRlY291cGxlIGRzYyBhZGp1c3RtZW50IG91dCBv
ZiBlbmFibGVtZW50LgoKU2lnbmVkLW9mZi1ieTogV2VuamluZyBMaXUgPFdlbmppbmcuTGl1QGFt
ZC5jb20+ClJldmlld2VkLWJ5OiBOaWtvbGEgQ29ybmlqIDxOaWtvbGEuQ29ybmlqQGFtZC5jb20+
CkFja2VkLWJ5OiBMZW8gTGkgPHN1bnBlbmcubGlAYW1kLmNvbT4KU2lnbmVkLW9mZi1ieTogQWxl
eCBEZXVjaGVyIDxhbGV4YW5kZXIuZGV1Y2hlckBhbWQuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2Ry
bS9hbWQvZGlzcGxheS9kYy9jb3JlL2RjLmMgICAgICB8ICA3ICstLS0KIGRyaXZlcnMvZ3B1L2Ry
bS9hbWQvZGlzcGxheS9kYy9jb3JlL2RjX2xpbmsuYyB8ICAyICstCiAuLi4vZHJtL2FtZC9kaXNw
bGF5L2RjL2NvcmUvZGNfbGlua19od3NzLmMgICAgfCAzNSArKysrKysrKystLS0tLS0tLS0tCiAu
Li4vZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIwX3Jlc291cmNlLmMgfCAxMiArKystLS0t
CiAuLi4vZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIwX3Jlc291cmNlLmggfCAgMiAtLQog
Li4uL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvaW5jL2NvcmVfdHlwZXMuaCAgIHwgIDkgLS0tLS0K
IC4uLi9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2luYy9kY19saW5rX2RwLmggICB8ICAxICsKIDcg
ZmlsZXMgY2hhbmdlZCwgMjQgaW5zZXJ0aW9ucygrKSwgNDQgZGVsZXRpb25zKC0pCgpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2NvcmUvZGMuYyBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvZGlzcGxheS9kYy9jb3JlL2RjLmMKaW5kZXggOGJmMzQzM2FmM2Y4Li5mZDk1
NTE1MTEzMmYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9jb3Jl
L2RjLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2NvcmUvZGMuYwpAQCAt
MTc0NiwxNCArMTc0Niw5IEBAIHN0YXRpYyB2b2lkIGNvbW1pdF9wbGFuZXNfZG9fc3RyZWFtX3Vw
ZGF0ZShzdHJ1Y3QgZGMgKmRjLAogCiAjaWYgZGVmaW5lZChDT05GSUdfRFJNX0FNRF9EQ19EU0Nf
U1VQUE9SVCkKIAkJCWlmIChzdHJlYW1fdXBkYXRlLT5kc2NfY29uZmlnICYmIGRjLT5od3NzLnBp
cGVfY29udHJvbF9sb2NrX2dsb2JhbCkgewotCQkJCWJvb2wgZW5hYmxlX2RzYyA9IChzdHJlYW1f
dXBkYXRlLT5kc2NfY29uZmlnLT5udW1fc2xpY2VzX2ggJiYgc3RyZWFtX3VwZGF0ZS0+ZHNjX2Nv
bmZpZy0+bnVtX3NsaWNlc192KTsKLQogCQkJCWRjLT5od3NzLnBpcGVfY29udHJvbF9sb2NrX2ds
b2JhbChkYywgcGlwZV9jdHgsIHRydWUpOwotCQkJCWRwX3NldF9kc2NfZW5hYmxlKHBpcGVfY3R4
LCBlbmFibGVfZHNjKTsKKwkJCQlkcF91cGRhdGVfZHNjX2NvbmZpZyhwaXBlX2N0eCk7CiAJCQkJ
ZGMtPmh3c3MucGlwZV9jb250cm9sX2xvY2tfZ2xvYmFsKGRjLCBwaXBlX2N0eCwgZmFsc2UpOwot
Ci0JCQkJaWYgKCFzdHJlYW0tPmlzX2RzY19lbmFibGVkKQotCQkJCQlkYy0+cmVzX3Bvb2wtPmZ1
bmNzLT5yZW1vdmVfZHNjX2Zyb21fc3RyZWFtX3Jlc291cmNlKGRjLCBjb250ZXh0LCBzdHJlYW0p
OwogCQkJfQogI2VuZGlmCiAJCQkvKiBGdWxsIGZlIHVwZGF0ZSovCmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvY29yZS9kY19saW5rLmMgYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2Rpc3BsYXkvZGMvY29yZS9kY19saW5rLmMKaW5kZXggNTExODc3OTc0MzE1Li40YzMx
OTMwZjFjZGYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9jb3Jl
L2RjX2xpbmsuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvY29yZS9kY19s
aW5rLmMKQEAgLTI4MTcsNyArMjgxNyw3IEBAIHZvaWQgY29yZV9saW5rX2Rpc2FibGVfc3RyZWFt
KHN0cnVjdCBwaXBlX2N0eCAqcGlwZV9jdHgsIGludCBvcHRpb24pCiAKIAlkaXNhYmxlX2xpbmso
cGlwZV9jdHgtPnN0cmVhbS0+bGluaywgcGlwZV9jdHgtPnN0cmVhbS0+c2lnbmFsKTsKICNpZmRl
ZiBDT05GSUdfRFJNX0FNRF9EQ19EU0NfU1VQUE9SVAotCWlmIChwaXBlX2N0eC0+c3RyZWFtLT5p
c19kc2NfZW5hYmxlZCAmJgorCWlmIChwaXBlX2N0eC0+c3RyZWFtLT50aW1pbmcuZmxhZ3MuRFND
ICYmCiAJCQlkY19pc19kcF9zaWduYWwocGlwZV9jdHgtPnN0cmVhbS0+c2lnbmFsKSkgewogCQlk
cF9zZXRfZHNjX2VuYWJsZShwaXBlX2N0eCwgZmFsc2UpOwogCX0KZGlmZiAtLWdpdCBhL2RyaXZl
cnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9jb3JlL2RjX2xpbmtfaHdzcy5jIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9kaXNwbGF5L2RjL2NvcmUvZGNfbGlua19od3NzLmMKaW5kZXggOGIyMmFmOTA4
NWU0Li4yZDAxOWUxZjYxMzUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxh
eS9kYy9jb3JlL2RjX2xpbmtfaHdzcy5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxh
eS9kYy9jb3JlL2RjX2xpbmtfaHdzcy5jCkBAIC00NjcsNDEgKzQ2Nyw0MCBAQCBzdGF0aWMgdm9p
ZCBkcF9zZXRfZHNjX29uX3N0cmVhbShzdHJ1Y3QgcGlwZV9jdHggKnBpcGVfY3R4LCBib29sIGVu
YWJsZSkKIAogYm9vbCBkcF9zZXRfZHNjX2VuYWJsZShzdHJ1Y3QgcGlwZV9jdHggKnBpcGVfY3R4
LCBib29sIGVuYWJsZSkKIHsKLQlzdHJ1Y3QgZGNfc3RyZWFtX3N0YXRlICpzdHJlYW0gPSBwaXBl
X2N0eC0+c3RyZWFtOwogCXN0cnVjdCBkaXNwbGF5X3N0cmVhbV9jb21wcmVzc29yICpkc2MgPSBw
aXBlX2N0eC0+c3RyZWFtX3Jlcy5kc2M7CiAJYm9vbCByZXN1bHQgPSBmYWxzZTsKIAorCWlmICgh
cGlwZV9jdHgtPnN0cmVhbS0+dGltaW5nLmZsYWdzLkRTQykKKwkJZ290byBvdXQ7CiAJaWYgKCFk
c2MpCiAJCWdvdG8gb3V0OwogCi0JaWYgKGVuYWJsZSAmJiBzdHJlYW0tPmlzX2RzY19lbmFibGVk
KSB7Ci0JCS8qIHVwZGF0ZSBkc2Mgc3RyZWFtICovCi0JCWRwX3NldF9kc2Nfb25fc3RyZWFtKHBp
cGVfY3R4LCB0cnVlKTsKLQkJc3RyZWFtLT5pc19kc2NfZW5hYmxlZCA9IHRydWU7Ci0JCXJlc3Vs
dCA9IHRydWU7Ci0JfSBlbHNlIGlmIChlbmFibGUgJiYgIXN0cmVhbS0+aXNfZHNjX2VuYWJsZWQp
IHsKLQkJLyogZW5hYmxlIGRzYyBvbiBub24gZHNjIHN0cmVhbSAqLworCWlmIChlbmFibGUpIHsK
IAkJaWYgKGRwX3NldF9kc2Nfb25fcngocGlwZV9jdHgsIHRydWUpKSB7CiAJCQlkcF9zZXRfZHNj
X29uX3N0cmVhbShwaXBlX2N0eCwgdHJ1ZSk7Ci0JCQlzdHJlYW0tPmlzX2RzY19lbmFibGVkID0g
dHJ1ZTsKIAkJCXJlc3VsdCA9IHRydWU7Ci0JCX0gZWxzZSB7Ci0JCQlzdHJlYW0tPmlzX2RzY19l
bmFibGVkID0gZmFsc2U7Ci0JCQlyZXN1bHQgPSBmYWxzZTsKIAkJfQotCX0gZWxzZSBpZiAoIWVu
YWJsZSAmJiBzdHJlYW0tPmlzX2RzY19lbmFibGVkKSB7Ci0JCS8qIGRpc2FibGUgZHNjIG9uIGRz
YyBzdHJlYW0gKi8KKwl9IGVsc2UgewogCQlkcF9zZXRfZHNjX29uX3J4KHBpcGVfY3R4LCBmYWxz
ZSk7CiAJCWRwX3NldF9kc2Nfb25fc3RyZWFtKHBpcGVfY3R4LCBmYWxzZSk7Ci0JCXN0cmVhbS0+
aXNfZHNjX2VuYWJsZWQgPSBmYWxzZTsKLQkJcmVzdWx0ID0gdHJ1ZTsKLQl9IGVsc2UgewotCQkv
KiBkaXNhYmxlIGRzYyBvbiBub24gZHNjIHN0cmVhbSAqLwogCQlyZXN1bHQgPSB0cnVlOwogCX0K
IG91dDoKIAlyZXR1cm4gcmVzdWx0OwogfQogCitib29sIGRwX3VwZGF0ZV9kc2NfY29uZmlnKHN0
cnVjdCBwaXBlX2N0eCAqcGlwZV9jdHgpCit7CisJc3RydWN0IGRpc3BsYXlfc3RyZWFtX2NvbXBy
ZXNzb3IgKmRzYyA9IHBpcGVfY3R4LT5zdHJlYW1fcmVzLmRzYzsKKworCWlmICghcGlwZV9jdHgt
PnN0cmVhbS0+dGltaW5nLmZsYWdzLkRTQykKKwkJcmV0dXJuIGZhbHNlOworCWlmICghZHNjKQor
CQlyZXR1cm4gZmFsc2U7CisKKwlkcF9zZXRfZHNjX29uX3N0cmVhbShwaXBlX2N0eCwgdHJ1ZSk7
CisJcmV0dXJuIHRydWU7Cit9CisKICNlbmRpZgogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjAvZGNuMjBfcmVzb3VyY2UuYyBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvZGlzcGxheS9kYy9kY24yMC9kY24yMF9yZXNvdXJjZS5jCmluZGV4IDI2NmQyZWE1MDg4
Mi4uZjJjMmNiZjQxMTRiIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkv
ZGMvZGNuMjAvZGNuMjBfcmVzb3VyY2UuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3Bs
YXkvZGMvZGNuMjAvZGNuMjBfcmVzb3VyY2UuYwpAQCAtMTMxOCw3ICsxMzE4LDcgQEAgc3RhdGlj
IHZvaWQgcmVsZWFzZV9kc2Moc3RydWN0IHJlc291cmNlX2NvbnRleHQgKnJlc19jdHgsCiAKIAog
I2lmZGVmIENPTkZJR19EUk1fQU1EX0RDX0RTQ19TVVBQT1JUCi1lbnVtIGRjX3N0YXR1cyBkY24y
MF9hZGRfZHNjX3RvX3N0cmVhbV9yZXNvdXJjZShzdHJ1Y3QgZGMgKmRjLAorc3RhdGljIGVudW0g
ZGNfc3RhdHVzIGFkZF9kc2NfdG9fc3RyZWFtX3Jlc291cmNlKHN0cnVjdCBkYyAqZGMsCiAJCXN0
cnVjdCBkY19zdGF0ZSAqZGNfY3R4LAogCQlzdHJ1Y3QgZGNfc3RyZWFtX3N0YXRlICpkY19zdHJl
YW0pCiB7CkBAIC0xMzQ4LDcgKzEzNDgsNyBAQCBlbnVtIGRjX3N0YXR1cyBkY24yMF9hZGRfZHNj
X3RvX3N0cmVhbV9yZXNvdXJjZShzdHJ1Y3QgZGMgKmRjLAogfQogCiAKLWVudW0gZGNfc3RhdHVz
IGRjbjIwX3JlbW92ZV9kc2NfZnJvbV9zdHJlYW1fcmVzb3VyY2Uoc3RydWN0IGRjICpkYywKK3N0
YXRpYyBlbnVtIGRjX3N0YXR1cyByZW1vdmVfZHNjX2Zyb21fc3RyZWFtX3Jlc291cmNlKHN0cnVj
dCBkYyAqZGMsCiAJCXN0cnVjdCBkY19zdGF0ZSAqbmV3X2N0eCwKIAkJc3RydWN0IGRjX3N0cmVh
bV9zdGF0ZSAqZGNfc3RyZWFtKQogewpAQCAtMTM5MCw3ICsxMzkwLDcgQEAgZW51bSBkY19zdGF0
dXMgZGNuMjBfYWRkX3N0cmVhbV90b19jdHgoc3RydWN0IGRjICpkYywgc3RydWN0IGRjX3N0YXRl
ICpuZXdfY3R4LAogI2lmZGVmIENPTkZJR19EUk1fQU1EX0RDX0RTQ19TVVBQT1JUCiAJLyogR2V0
IGEgRFNDIGlmIHJlcXVpcmVkIGFuZCBhdmFpbGFibGUgKi8KIAlpZiAocmVzdWx0ID09IERDX09L
ICYmIGRjX3N0cmVhbS0+dGltaW5nLmZsYWdzLkRTQykKLQkJcmVzdWx0ID0gZGNuMjBfYWRkX2Rz
Y190b19zdHJlYW1fcmVzb3VyY2UoZGMsIG5ld19jdHgsIGRjX3N0cmVhbSk7CisJCXJlc3VsdCA9
IGFkZF9kc2NfdG9fc3RyZWFtX3Jlc291cmNlKGRjLCBuZXdfY3R4LCBkY19zdHJlYW0pOwogI2Vu
ZGlmCiAKIAlpZiAocmVzdWx0ID09IERDX09LKQpAQCAtMTQwNSw3ICsxNDA1LDcgQEAgZW51bSBk
Y19zdGF0dXMgZGNuMjBfcmVtb3ZlX3N0cmVhbV9mcm9tX2N0eChzdHJ1Y3QgZGMgKmRjLCBzdHJ1
Y3QgZGNfc3RhdGUgKm5ld18KIAllbnVtIGRjX3N0YXR1cyByZXN1bHQgPSBEQ19PSzsKIAogI2lm
ZGVmIENPTkZJR19EUk1fQU1EX0RDX0RTQ19TVVBQT1JUCi0JcmVzdWx0ID0gZGNuMjBfcmVtb3Zl
X2RzY19mcm9tX3N0cmVhbV9yZXNvdXJjZShkYywgbmV3X2N0eCwgZGNfc3RyZWFtKTsKKwlyZXN1
bHQgPSByZW1vdmVfZHNjX2Zyb21fc3RyZWFtX3Jlc291cmNlKGRjLCBuZXdfY3R4LCBkY19zdHJl
YW0pOwogI2VuZGlmCiAKIAlyZXR1cm4gcmVzdWx0OwpAQCAtMjQzNSwxMCArMjQzNSw2IEBAIHN0
YXRpYyBzdHJ1Y3QgcmVzb3VyY2VfZnVuY3MgZGNuMjBfcmVzX3Bvb2xfZnVuY3MgPSB7CiAJLnBv
cHVsYXRlX2RtbF93cml0ZWJhY2tfZnJvbV9jb250ZXh0ID0gZGNuMjBfcG9wdWxhdGVfZG1sX3dy
aXRlYmFja19mcm9tX2NvbnRleHQsCiAJLmdldF9kZWZhdWx0X3N3aXp6bGVfbW9kZSA9IGRjbjIw
X2dldF9kZWZhdWx0X3N3aXp6bGVfbW9kZSwKIAkuc2V0X21jaWZfYXJiX3BhcmFtcyA9IGRjbjIw
X3NldF9tY2lmX2FyYl9wYXJhbXMsCi0jaWZkZWYgQ09ORklHX0RSTV9BTURfRENfRFNDX1NVUFBP
UlQKLQkuYWRkX2RzY190b19zdHJlYW1fcmVzb3VyY2UgPSBkY24yMF9hZGRfZHNjX3RvX3N0cmVh
bV9yZXNvdXJjZSwKLQkucmVtb3ZlX2RzY19mcm9tX3N0cmVhbV9yZXNvdXJjZSA9IGRjbjIwX3Jl
bW92ZV9kc2NfZnJvbV9zdHJlYW1fcmVzb3VyY2UsCi0jZW5kaWYKIAkuZmluZF9maXJzdF9mcmVl
X21hdGNoX3N0cmVhbV9lbmNfZm9yX2xpbmsgPSBkY24xMF9maW5kX2ZpcnN0X2ZyZWVfbWF0Y2hf
c3RyZWFtX2VuY19mb3JfbGluawogfTsKIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIwX3Jlc291cmNlLmggYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2Rpc3BsYXkvZGMvZGNuMjAvZGNuMjBfcmVzb3VyY2UuaAppbmRleCAwMTgyMjQ1MTgwMTEuLmI1
YTc1Mjg5ZjQ0NCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2Rj
bjIwL2RjbjIwX3Jlc291cmNlLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2Rj
L2RjbjIwL2RjbjIwX3Jlc291cmNlLmgKQEAgLTEyMSw4ICsxMjEsNiBAQCBlbnVtIGRjX3N0YXR1
cyBkY24yMF9idWlsZF9tYXBwZWRfcmVzb3VyY2UoY29uc3Qgc3RydWN0IGRjICpkYywgc3RydWN0
IGRjX3N0YXRlCiBlbnVtIGRjX3N0YXR1cyBkY24yMF9hZGRfc3RyZWFtX3RvX2N0eChzdHJ1Y3Qg
ZGMgKmRjLCBzdHJ1Y3QgZGNfc3RhdGUgKm5ld19jdHgsIHN0cnVjdCBkY19zdHJlYW1fc3RhdGUg
KmRjX3N0cmVhbSk7CiBlbnVtIGRjX3N0YXR1cyBkY24yMF9yZW1vdmVfc3RyZWFtX2Zyb21fY3R4
KHN0cnVjdCBkYyAqZGMsIHN0cnVjdCBkY19zdGF0ZSAqbmV3X2N0eCwgc3RydWN0IGRjX3N0cmVh
bV9zdGF0ZSAqZGNfc3RyZWFtKTsKIGVudW0gZGNfc3RhdHVzIGRjbjIwX2dldF9kZWZhdWx0X3N3
aXp6bGVfbW9kZShzdHJ1Y3QgZGNfcGxhbmVfc3RhdGUgKnBsYW5lX3N0YXRlKTsKLWVudW0gZGNf
c3RhdHVzIGRjbjIwX2FkZF9kc2NfdG9fc3RyZWFtX3Jlc291cmNlKHN0cnVjdCBkYyAqZGMsIHN0
cnVjdCBkY19zdGF0ZSAqZGNfY3R4LCBzdHJ1Y3QgZGNfc3RyZWFtX3N0YXRlICpkY19zdHJlYW0p
OwotZW51bSBkY19zdGF0dXMgZGNuMjBfcmVtb3ZlX2RzY19mcm9tX3N0cmVhbV9yZXNvdXJjZShz
dHJ1Y3QgZGMgKmRjLCBzdHJ1Y3QgZGNfc3RhdGUgKm5ld19jdHgsIHN0cnVjdCBkY19zdHJlYW1f
c3RhdGUgKmRjX3N0cmVhbSk7CiAKIHZvaWQgZGNuMjBfcGF0Y2hfYm91bmRpbmdfYm94KAogCQlz
dHJ1Y3QgZGMgKmRjLApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2Rj
L2luYy9jb3JlX3R5cGVzLmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvaW5jL2Nv
cmVfdHlwZXMuaAppbmRleCBhY2IzMTA0ZjVlZWIuLmM4OTM5M2MxOTIzMiAxMDA2NDQKLS0tIGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2luYy9jb3JlX3R5cGVzLmgKKysrIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2luYy9jb3JlX3R5cGVzLmgKQEAgLTE0OCwxNSAr
MTQ4LDYgQEAgc3RydWN0IHJlc291cmNlX2Z1bmNzIHsKIAkJCWludCBwaXBlX2NudCk7CiAjZW5k
aWYKIAotI2lmZGVmIENPTkZJR19EUk1fQU1EX0RDX0RTQ19TVVBQT1JUCi1lbnVtIGRjX3N0YXR1
cyAoKmFkZF9kc2NfdG9fc3RyZWFtX3Jlc291cmNlKShzdHJ1Y3QgZGMgKmRjLAotCQkJc3RydWN0
IGRjX3N0YXRlICpkY19jdHgsCi0JCQlzdHJ1Y3QgZGNfc3RyZWFtX3N0YXRlICpkY19zdHJlYW0p
OwotCi1lbnVtIGRjX3N0YXR1cyAoKnJlbW92ZV9kc2NfZnJvbV9zdHJlYW1fcmVzb3VyY2UpKHN0
cnVjdCBkYyAqZGMsCi0JCQlzdHJ1Y3QgZGNfc3RhdGUgKm5ld19jdHgsCi0JCQlzdHJ1Y3QgZGNf
c3RyZWFtX3N0YXRlICpkY19zdHJlYW0pOwotI2VuZGlmCiB9OwogCiBzdHJ1Y3QgYXVkaW9fc3Vw
cG9ydHsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9pbmMvZGNf
bGlua19kcC5oIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2luYy9kY19saW5rX2Rw
LmgKaW5kZXggNmM4MjJhNjliMzViLi4yZDk1ZWZmOTQyMzkgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvZGlzcGxheS9kYy9pbmMvZGNfbGlua19kcC5oCisrKyBiL2RyaXZlcnMvZ3B1
L2RybS9hbWQvZGlzcGxheS9kYy9pbmMvZGNfbGlua19kcC5oCkBAIC02Niw2ICs2Niw3IEBAIHZv
aWQgZHBfZW5hYmxlX21zdF9vbl9zaW5rKHN0cnVjdCBkY19saW5rICpsaW5rLCBib29sIGVuYWJs
ZSk7CiB2b2lkIGRwX3NldF9mZWNfcmVhZHkoc3RydWN0IGRjX2xpbmsgKmxpbmssIGJvb2wgcmVh
ZHkpOwogdm9pZCBkcF9zZXRfZmVjX2VuYWJsZShzdHJ1Y3QgZGNfbGluayAqbGluaywgYm9vbCBl
bmFibGUpOwogYm9vbCBkcF9zZXRfZHNjX2VuYWJsZShzdHJ1Y3QgcGlwZV9jdHggKnBpcGVfY3R4
LCBib29sIGVuYWJsZSk7Citib29sIGRwX3VwZGF0ZV9kc2NfY29uZmlnKHN0cnVjdCBwaXBlX2N0
eCAqcGlwZV9jdHgpOwogI2VuZGlmCiAKICNlbmRpZiAvKiBfX0RDX0xJTktfRFBfSF9fICovCi0t
IAoyLjIwLjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
CmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBz
Oi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeA==
