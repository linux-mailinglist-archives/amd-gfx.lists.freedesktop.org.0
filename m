Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id CE45F2B0FAC
	for <lists+amd-gfx@lfdr.de>; Thu, 12 Nov 2020 21:56:23 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 56BC46E438;
	Thu, 12 Nov 2020 20:56:22 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-wm1-x333.google.com (mail-wm1-x333.google.com
 [IPv6:2a00:1450:4864:20::333])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A9C266E438
 for <amd-gfx@lists.freedesktop.org>; Thu, 12 Nov 2020 20:56:20 +0000 (UTC)
Received: by mail-wm1-x333.google.com with SMTP id w24so6710311wmi.0
 for <amd-gfx@lists.freedesktop.org>; Thu, 12 Nov 2020 12:56:20 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=xoc0SKtAFwYLMCNkGMQkpR4NOmblq8fEcaGa0WfO+Y4=;
 b=BZkmA6yZOjI36ryDarD2gp2aAGHBAOlXwCEPc3lgp1l6pcffip6n1+1M/BySqQGT2y
 FTIvHV2dMZMF0gxU2iqoYlUFw0lwC7e+raj40J/DL+FhG7e2dsFiIZGaQ9uStTJcN1H2
 wqjYDNm39Aa0YlZ/+BQPjHdFg3TJuSBgWaYkjWpkB6KO5hNG8sIBwNxudOm8KUORFrFw
 ixlGY0FStFfJniV+lwWyvkOal7AC7gEbYp5dFJkiBr3HEmbWcHjuBJydG+uWLIjD20mT
 SuPw4cpDfh5tMrwHDU5J3Pq88UapLgfWTByliJh72+7vAbvUIFk57aq279C0g0K/uB7T
 LD0w==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=xoc0SKtAFwYLMCNkGMQkpR4NOmblq8fEcaGa0WfO+Y4=;
 b=Fhcgak0HfC51kwlkrWEba+LB6Raqiyuidh5vtyVOPgMrXPr3EliiWZCvS/sXZSAj0m
 Q7rsETjqeqxsSLgM262mof5PkQgTMuhFxuAC19P7zNh5GGK1Bsa0DLCKQ35CeDzNIn8N
 1dGrSGxleUZuibLrxGIKV+Xg9SgY9Pbzl4q+mKUnDDr1DJwfxaROi5lHblx6TpngEeks
 aelWD4vm33pVwLELNtyBcQtxEVQBz46x6HttFmV3fFiSCmrj2l0RfPrv+i6FWuB1IrRX
 KBhqOw4L44SmDMWgJz/844rmGwpdtpz0v2srGaMBGcTART1bz28OOzsjEB0b1VmZe6lN
 0JAg==
X-Gm-Message-State: AOAM532F29Aie+UIsQTDyaXR/RCNivu11y4aYXa9qQ/yWhg923GXgOV+
 KalLZlfyWzXqVVv6TDDEOw366o48fIp5ZhlszOnUeFVQ96A=
X-Google-Smtp-Source: ABdhPJwjCksp539pzKQM4v3kRzHE7UXQ0KI0EcuzGuSDNXfhQlSNAcwr1bNuKQB39WIB4HUGBf6WYq+EV953SuJurDA=
X-Received: by 2002:a05:600c:2319:: with SMTP id
 25mr1567976wmo.102.1605214579389; 
 Thu, 12 Nov 2020 12:56:19 -0800 (PST)
MIME-Version: 1.0
References: <dM9UpdTNt3rJxagA8swvzv6sXdjID2x67yd3tJg6A@cp4-web-030.plabs.ch>
 <d791cc9f-7aa5-b453-992d-1f0cf0f2a905@amd.com>
 <VvOH2mNsO3Zn9gYXOa0Vn7kKqb2MvC0MKJXONCsmsnVcPaN6dJdxoGIboXdhy4oIf147mLuUC6KejFj5TOgDisty73bUPnvds0sXL-Fp52s=@emersion.fr>
In-Reply-To: <VvOH2mNsO3Zn9gYXOa0Vn7kKqb2MvC0MKJXONCsmsnVcPaN6dJdxoGIboXdhy4oIf147mLuUC6KejFj5TOgDisty73bUPnvds0sXL-Fp52s=@emersion.fr>
From: Alex Deucher <alexdeucher@gmail.com>
Date: Thu, 12 Nov 2020 15:56:07 -0500
Message-ID: <CADnq5_NbfqgHPWfd5+Z0au+T1rcVV_QbJAeWd9ChMK4mFOS-xw@mail.gmail.com>
Subject: Re: [PATCH] drm/amd/display: add cursor pitch check
To: Simon Ser <contact@emersion.fr>
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>,
 Daniel Vetter <daniel@ffwll.ch>, Bas Nieuwenhuizen <bas@basnieuwenhuizen.nl>,
 Alex Deucher <alexander.deucher@amd.com>, Harry Wentland <hwentlan@amd.com>,
 "Kazlauskas, Nicholas" <nicholas.kazlauskas@amd.com>,
 "Pierre-Loup A . Griffais" <pgriffais@valvesoftware.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

T24gVGh1LCBOb3YgMTIsIDIwMjAgYXQgMzowNyBQTSBTaW1vbiBTZXIgPGNvbnRhY3RAZW1lcnNp
b24uZnI+IHdyb3RlOgo+Cj4gQ0MgRGFuaWVsIFZldHRlciBhbmQgQmFzLCBzZWUgYmVsb3figKYK
Pgo+IE9uIFRodXJzZGF5LCBOb3ZlbWJlciAxMiwgMjAyMCA4OjU2IFBNLCBLYXpsYXVza2FzLCBO
aWNob2xhcyA8bmljaG9sYXMua2F6bGF1c2thc0BhbWQuY29tPiB3cm90ZToKPgo+ID4gUmV2aWV3
ZWQtYnk6IE5pY2hvbGFzIEthemxhdXNrYXNuaWNob2xhcy5rYXpsYXVza2FzQGFtZC5jb20KPgo+
IFRoYW5rcyBmb3IgdGhlIHJldmlldyEKPgo+ID4gPiBDb3VwbGUgcXVlc3Rpb25zOgo+ID4gPgo+
ID4gPiAtIFRoaXMgaW1wbGVtZW50cyBhIHNpbmdsZSBjaGVjayBmb3IgYWxsIEdQVSBnZW5lcmF0
aW9ucy4gSXMgbXkKPiA+ID4gICBhc3N1bXB0aW9uIGNvcnJlY3QgaGVyZT8gSXQgc2VlbXMgbGlr
ZSB0aGlzIGNoZWNrIGlzIE9LIGZvciBhdCBsZWFzdAo+ID4gPiAgIERDTiAxLjAgYW5kIERDTiAy
LjAuCj4gPiA+Cj4gPiA+IC0gV2Ugc2hvdWxkIHJlYWxseSBpbXBsZW1lbnQgYmV0dGVyIGNoZWNr
cy4gV2hhdCBmZWF0dXJlcyBhcmUgc3VwcG9ydGVkCj4gPiA+ICAgb24gdGhlIGN1cnNvciBwbGFu
ZT8gSXMgc2NhbGluZyBzdXBwb3J0ZWQ/IElzIGNyb3BwaW5nIHN1cHBvcnRlZD8gSXMKPiA+ID4g
ICByb3RhdGlvbiBhbHdheXMgc3VwcG9ydGVkPwo+ID4gPgo+ID4KPiA+IE9uIERDRSBhbmQgRENO
IHRoZXJlIGlzIG5vIGRlZGljYXRlZCBoYXJkd2FyZSBjdXJzb3IgcGxhbmUuIFlvdSBnZXQgYQo+
ID4gY3Vyc29yIHBlciBwaXBlIGJ1dCBpdCdzIGdvaW5nIHRvIGluaGVyaXQgdGhlIHNjYWxpbmcg
YW5kIHBvc2l0aW9uaW5nCj4gPiBmcm9tIHRoZSB1bmRlcmx5aW5nIHBpcGUuCj4gPgo+ID4gVGhl
cmUncyBzb2Z0d2FyZSBsb2dpYyB0byBlbnN1cmUgd2UgcG9zaXRpb24gdGhlIGN1cnNvciBpbiB0
aGUgY29ycmVjdAo+ID4gbG9jYXRpb24gaW4gQ1JUQyBzcGFjZSBpbmRlcGVuZGVudCBvbiB0aGUg
dW5kZXJseWluZyBEUk0gcGxhbmUncyBzY2FsaW5nCj4gPiBhbmQgcG9zaXRpb25pbmcgYnV0IHRo
ZXJlJ3Mgbm8gd2F5IGZvciB1cyB0byBjb3JyZWN0IHRoZSBzY2FsaW5nLiBDdXJzb3IKPiA+IHdp
bGwgYWx3YXlzIGJlIDY0LCAxMjgsIG9yIDI1NiBpbiB0aGUgcGlwZSdzIGRlc3RpbmF0aW9uIHNw
YWNlLgo+Cj4gSW50ZXJlc3RpbmcuCj4KPiBEYW5pZWwgVmV0dGVyOiB3aGF0IHdvdWxkIGJlIHRo
ZSBiZXN0IHdheSB0byBleHBvc2UgdGhpcyB0byB1c2VyLXNwYWNlPwo+IE1heWJlIHdlIHNob3Vs
ZCBqdXN0IG1ha2UgYXRvbWljIGNvbW1pdHMgd2l0aCBhIGN1cnNvciBwbGFuZSBmYWlsIHdoZW4K
PiBzY2FsaW5nIGlzIHVzZWQgb24gdGhlIHByaW1hcnkgcGxhbmU/Cj4KPiBEaXNhYmxpbmcgdGhl
IGN1cnNvciBwbGFuZSBzb3VuZHMgYmV0dGVyIHRoYW4gZGlzcGxheWluZyB0aGUgd3JvbmcKPiBp
bWFnZS4KPgo+ID4gQ3Vyc29yIGNhbiBiZSBpbmRlcGVuZGVudGx5IHJvdGF0ZWQgaW4gaGFyZHdh
cmUgYnV0IHRoaXMgaXNuJ3Qgc29tZXRoaW5nCj4gPiB3ZSBleHBvc2Ugc3VwcG9ydCBmb3IgdG8g
dXNlcnNwYWNlLgo+Cj4gSG1tLCBJIHNlZSB0aGF0IGN1cnNvciBwbGFuZXMgaGF2ZSB0aGUgInJv
dGF0aW9uIiBwcm9wZXJ0eSBleHBvc2VkOgo+Cj4gICAgICJyb3RhdGlvbiI6IGJpdG1hc2sge3Jv
dGF0ZS0wLCByb3RhdGUtOTAsIHJvdGF0ZS0xODAsIHJvdGF0ZS0yNzB9Cj4KPiBJbiBmYWN0IGFs
bCBwbGFuZXMgaGF2ZSBpdC4gSXQncyBkb25lIGluIGFtZGdwdV9kbV9wbGFuZV9pbml0IChiZWhp
bmQgYQo+IGBkbS0+YWRldi0+YXNpY190eXBlID49IENISVBfQk9OQUlSRWAgY29uZGl0aW9uKS4K
Pgo+IElzIHRoaXMgYW4gb3ZlcnNpZ2h0Pwo+Cj4gPiBUaGUgcGl0Y2ggY2hlY2sgb2YgNjQvMTI4
LzI1NiBpcyBPSyBidXQgd2UgZG9uJ3Qgc3VwcG9ydCAyNTYgb24gRENFLgo+Cj4gWWVhaCwgSSd2
ZSBub3RpY2VkIHRoYXQuIFRoZSBzaXplIGNoZWNrIHJpZ2h0IGFib3ZlIHNob3VsZCBjYXRjaCBp
dAo+IGluIG1vc3QgY2FzZXMgSSB0aGluaywgYmVjYXVzZSBtYXhfY3Vyc29yX3NpemUgaXMgMTI4
IG9uIERDRS4gU2lkZQo+IG5vdGUsIG1heF9jdXJzb3Jfc2l6ZSBpcyA2NCBvbiBEQ0UgNi4wLgoK
TWF5YmUgc29tZXRoaW5nIGxpa2U6CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rp
c3BsYXkvYW1kZ3B1X2RtL2FtZGdwdV9kbS5jCmIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5
L2FtZGdwdV9kbS9hbWRncHVfZG0uYwppbmRleCA3N2MwNmY5OTkwNDAuLmExZWExOTVhNzA0MSAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2FtZGdwdV9kbS9hbWRncHVf
ZG0uYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2FtZGdwdV9k
bS5jCkBAIC04OTk5LDYgKzg5OTksNDMgQEAgc3RhdGljIGludCBkbV91cGRhdGVfcGxhbmVfc3Rh
dGUoc3RydWN0IGRjICpkYywKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7
CiAgICAgICAgICAgICAgICB9CgorICAgICAgICAgICAgICAgc3dpdGNoKGFkZXYtPmZhbWlseSkg
eworICAgICAgICAgICAgICAgY2FzZSBBTURHUFVfRkFNSUxZX1NJOgorICAgICAgICAgICAgICAg
ICAgICAgICAvKiBEQ0U2IG9ubHkgc3VwcG9ydHMgNjR4NjQgY3Vyc29ycyAqLworICAgICAgICAg
ICAgICAgICAgICAgICBpZiAobmV3X3BsYW5lX3N0YXRlLT5mYi0+cGl0Y2hlc1swXSA9PSA2NCkg
eworICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOworICAgICAgICAgICAgICAg
ICAgICAgICB9IGVsc2UgeworICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERSTV9ERUJV
R19BVE9NSUMoIkJhZCBjdXJzb3IgcGl0Y2ggJWRcbiIsCisKbmV3X3BsYW5lX3N0YXRlLT5mYi0+
cGl0Y2hlc1swXSk7CisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5W
QUw7CisgICAgICAgICAgICAgICAgICAgICAgIH0KKyAgICAgICAgICAgICAgIGNhc2UgQU1ER1BV
X0ZBTUlMWV9LVjoKKyAgICAgICAgICAgICAgIGNhc2UgQU1ER1BVX0ZBTUlMWV9DSToKKyAgICAg
ICAgICAgICAgIGNhc2UgQU1ER1BVX0ZBTUlMWV9DWjoKKyAgICAgICAgICAgICAgIGNhc2UgQU1E
R1BVX0ZBTUlMWV9WSToKKyAgICAgICAgICAgICAgIGNhc2UgQU1ER1BVX0ZBTUlMWV9BSToKKyAg
ICAgICAgICAgICAgICAgICAgICAgLyogRENFOC0xMiBvbmx5IHN1cHBvcnRzIDY0eDY0IGFuZCAx
Mjh4MTI4IGN1cnNvcnMgKi8KKyAgICAgICAgICAgICAgICAgICAgICAgaWYgKChuZXdfcGxhbmVf
c3RhdGUtPmZiLT5waXRjaGVzWzBdID09IDY0KSB8fAorICAgICAgICAgICAgICAgICAgICAgICAg
ICAgKG5ld19wbGFuZV9zdGF0ZS0+ZmItPnBpdGNoZXNbMF0gPT0gMTI4KSkgeworICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOworICAgICAgICAgICAgICAgICAgICAgICB9IGVs
c2UgeworICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERSTV9ERUJVR19BVE9NSUMoIkJh
ZCBjdXJzb3IgcGl0Y2ggJWRcbiIsCisKbmV3X3BsYW5lX3N0YXRlLT5mYi0+cGl0Y2hlc1swXSk7
CisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7CisgICAgICAg
ICAgICAgICAgICAgICAgIH0KKyAgICAgICAgICAgICAgIGRlZmF1bHQ6CisgICAgICAgICAgICAg
ICAgICAgICAgIC8qIERDTiBzdXBwb3J0cyA2NHg2NCwgMTI4eDEyOCwgYW5kIDI1NngyNTYgY3Vy
c29ycyAqLworICAgICAgICAgICAgICAgICAgICAgICBpZiAoKG5ld19wbGFuZV9zdGF0ZS0+ZmIt
PnBpdGNoZXNbMF0gPT0gNjQpIHx8CisgICAgICAgICAgICAgICAgICAgICAgICAgICAobmV3X3Bs
YW5lX3N0YXRlLT5mYi0+cGl0Y2hlc1swXSA9PSAxMjgpIHx8CisgICAgICAgICAgICAgICAgICAg
ICAgICAgICAobmV3X3BsYW5lX3N0YXRlLT5mYi0+cGl0Y2hlc1swXSA9PSAyNTYpKSB7CisgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CisgICAgICAgICAgICAgICAgICAgICAg
IH0gZWxzZSB7CisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRFJNX0RFQlVHX0FUT01J
QygiQmFkIGN1cnNvciBwaXRjaCAlZFxuIiwKKwpuZXdfcGxhbmVfc3RhdGUtPmZiLT5waXRjaGVz
WzBdKTsKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLUVJTlZBTDsKKyAg
ICAgICAgICAgICAgICAgICAgICAgfQorICAgICAgICAgICAgICAgfQorCiAgICAgICAgICAgICAg
ICByZXR1cm4gMDsKICAgICAgICB9CgoKCj4gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX18KPiBhbWQtZ2Z4IG1haWxpbmcgbGlzdAo+IGFtZC1nZnhAbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnCj4gaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9s
aXN0aW5mby9hbWQtZ2Z4Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
Cmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeAo=
