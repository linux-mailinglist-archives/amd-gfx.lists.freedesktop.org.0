Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id B81484C3E4
	for <lists+amd-gfx@lfdr.de>; Thu, 20 Jun 2019 01:01:31 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 258276E48B;
	Wed, 19 Jun 2019 23:01:30 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM05-CO1-obe.outbound.protection.outlook.com
 (mail-eopbgr720066.outbound.protection.outlook.com [40.107.72.66])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 887CB6E499
 for <amd-gfx@lists.freedesktop.org>; Wed, 19 Jun 2019 23:01:28 +0000 (UTC)
Received: from CH2PR12MB3831.namprd12.prod.outlook.com (52.132.245.141) by
 CH2SPR01MB0005.namprd12.prod.outlook.com (10.255.155.138) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1987.14; Wed, 19 Jun 2019 23:01:27 +0000
Received: from CH2PR12MB3831.namprd12.prod.outlook.com
 ([fe80::3459:726f:43e7:a64c]) by CH2PR12MB3831.namprd12.prod.outlook.com
 ([fe80::3459:726f:43e7:a64c%4]) with mapi id 15.20.1987.014; Wed, 19 Jun 2019
 23:01:27 +0000
From: "Kim, Jonathan" <Jonathan.Kim@amd.com>
To: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>,
 "Kuehling, Felix" <Felix.Kuehling@amd.com>
Subject: RE: [PATCH 2/2] drm/amdgpu: add pmu counters
Thread-Topic: [PATCH 2/2] drm/amdgpu: add pmu counters
Thread-Index: AQHVJvFb80azSfW1/US7APv5UG9tMaajl9Tw
Date: Wed, 19 Jun 2019 23:01:27 +0000
Message-ID: <CH2PR12MB3831FF1158B7B3B45DE25B2585E50@CH2PR12MB3831.namprd12.prod.outlook.com>
References: <20190619224943.130022-1-jonathan.kim@amd.com>
 <20190619224943.130022-2-jonathan.kim@amd.com>
In-Reply-To: <20190619224943.130022-2-jonathan.kim@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [165.204.55.251]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: bb3c014e-e7cb-4ee6-8602-08d6f50a0f2c
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:CH2SPR01MB0005; 
x-ms-traffictypediagnostic: CH2SPR01MB0005:
x-microsoft-antispam-prvs: <CH2SPR01MB0005870039985B79F23F442085E50@CH2SPR01MB0005.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:260;
x-forefront-prvs: 0073BFEF03
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(346002)(39860400002)(396003)(376002)(136003)(366004)(13464003)(189003)(199004)(8676002)(5660300002)(64756008)(66476007)(72206003)(66446008)(74316002)(256004)(446003)(14444005)(7696005)(53546011)(229853002)(11346002)(305945005)(30864003)(6636002)(2501003)(6506007)(186003)(26005)(102836004)(25786009)(476003)(76176011)(6436002)(486006)(55016002)(81156014)(68736007)(9686003)(81166006)(6116002)(6246003)(14454004)(3846002)(66066001)(86362001)(99286004)(8936002)(110136005)(2906002)(53936002)(76116006)(73956011)(478600001)(52536014)(7736002)(33656002)(66556008)(71200400001)(316002)(66946007)(71190400001);
 DIR:OUT; SFP:1101; SCL:1; SRVR:CH2SPR01MB0005;
 H:CH2PR12MB3831.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: I6f7bgTFIY7bHL8NhVU0jF3yvlGqi2EeRL5n35NhcZRn8GfcO/P5Jqpw9GeuZUh8UGJVcIbLBf7/on5w/3bA+WK2tbwI8T4g+v1KknUb42iSipALzRjpam5BFY2ZEsb2dB8ir+tzRvIJY7RxKxtSMGxPRsvURzoFe8CHEfXxY4pTS8QwaHTGXAzhn9oLIZaBhnBWJWcT/J60hxdrsyQNKE8wXF5KSkJ5JwsDO5IPX/W9+Tq9wWgyxD4das5lQB3HmNuu49haCaCJU/GT4mTOXg257zhQm2obFGCttbBLj3F2MYqtTQxRf3IPtdDmbDUGNaluks/lW61vde/haUwHkduJIYFpBpf7pQACIG8Qje6/iUX+6wxROSEFWC9a3wRpGbdhTzbdU0j8fuXOah2QyHx+Y6IODfsfag5PoCxjkJI=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: bb3c014e-e7cb-4ee6-8602-08d6f50a0f2c
X-MS-Exchange-CrossTenant-originalarrivaltime: 19 Jun 2019 23:01:27.1208 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: jokim@amd.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: CH2SPR01MB0005
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=/3J6a/BKKYoXBJDoAz9XH35k21IKnrMp4Fo3DXKXQSo=;
 b=eAi0aQyZ4mUyf+bHdSniTbTBVXdSx8Vjha4QBabbxhClZgMuW1ksy7J/p5BYLtu7+t6ZlxRSR7LmzhTJCO6/mFbD3bdn8phS2rHU51D16BlfvSbxCVaMLIqgfGBgu5yoU23fxM07Qhs5o2lq6NCkWn9n+xr5wZPqAtm74HWxqDE=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Jonathan.Kim@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

UGF0Y2ggMiBmb3IgRmVsaXguDQoNCkpvbg0KDQotLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0K
RnJvbTogS2ltLCBKb25hdGhhbiA8Sm9uYXRoYW4uS2ltQGFtZC5jb20+IA0KU2VudDogV2VkbmVz
ZGF5LCBKdW5lIDE5LCAyMDE5IDY6NTAgUE0NClRvOiBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9w
Lm9yZw0KQ2M6IEtpbSwgSm9uYXRoYW4gPEpvbmF0aGFuLktpbUBhbWQuY29tPg0KU3ViamVjdDog
W1BBVENIIDIvMl0gZHJtL2FtZGdwdTogYWRkIHBtdSBjb3VudGVycw0KDQphZGRpbmcgcGVyZiBl
dmVudCBjb3VudGVycw0KDQpDaGFuZ2UtSWQ6IEliODgwMGMyZDY1MmUzZTc4ODg3MmJkNzIxNDU4
YWM1NDIyODU5YjYyDQpTaWduZWQtb2ZmLWJ5OiBKb25hdGhhbiBLaW0gPGpvbmF0aGFuLmtpbUBh
bWQuY29tPg0KLS0tDQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvTWFrZWZpbGUgICAgICAg
IHwgICAyICstDQogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1LmggICAgICAgIHwg
ICAxICsNCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMgfCAgIDYg
Kw0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9wbXUuYyAgICB8IDI4MCArKysr
KysrKysrKysrKysrKysrKysNCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfcG11
LmggICAgfCAgMzcgKysrDQogNSBmaWxlcyBjaGFuZ2VkLCAzMjUgaW5zZXJ0aW9ucygrKSwgMSBk
ZWxldGlvbigtKSAgY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2FtZGdwdV9wbXUuYw0KIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfcG11LmgNCg0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L01ha2VmaWxlIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvTWFrZWZpbGUNCmluZGV4
IDU3Y2U0NGNjMzIyNi4uNGM5ZmQyNjQ1ZjY0IDEwMDY0NA0KLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvTWFrZWZpbGUNCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L01h
a2VmaWxlDQpAQCAtNTQsNyArNTQsNyBAQCBhbWRncHUteSArPSBhbWRncHVfZGV2aWNlLm8gYW1k
Z3B1X2ttcy5vIFwNCiAJYW1kZ3B1X2d0dF9tZ3IubyBhbWRncHVfdnJhbV9tZ3IubyBhbWRncHVf
dmlydC5vIGFtZGdwdV9hdG9tZmlybXdhcmUubyBcDQogCWFtZGdwdV92Zl9lcnJvci5vIGFtZGdw
dV9zY2hlZC5vIGFtZGdwdV9kZWJ1Z2ZzLm8gYW1kZ3B1X2lkcy5vIFwNCiAJYW1kZ3B1X2dtYy5v
IGFtZGdwdV94Z21pLm8gYW1kZ3B1X2NzYS5vIGFtZGdwdV9yYXMubyBhbWRncHVfdm1fY3B1Lm8g
XA0KLQlhbWRncHVfdm1fc2RtYS5vDQorCWFtZGdwdV92bV9zZG1hLm8gYW1kZ3B1X3BtdS5vDQog
DQogIyBhZGQgYXNpYyBzcGVjaWZpYyBibG9jaw0KIGFtZGdwdS0kKENPTkZJR19EUk1fQU1ER1BV
X0NJSykrPSBjaWsubyBjaWtfaWgubyBrdl9zbWMubyBrdl9kcG0ubyBcIGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHUuaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2FtZGdwdS5oDQppbmRleCA1NzgwZTE1N2ZkNzIuLjkwYTE1OTA3OTkxMiAxMDA2NDQN
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdS5oDQorKysgYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHUuaA0KQEAgLTk2NCw2ICs5NjQsNyBAQCBzdHJ1Y3Qg
YW1kZ3B1X2RldmljZSB7DQogDQogCXVpbnQ2NF90CQkJdW5pcXVlX2lkOw0KIAl1aW50NjRfdAkJ
CSpkZl9wZXJmbW9uX2NvbmZpZ19hc3NpZ25fbWFzazsNCisJc3RydWN0IG11dGV4CQlkZl9wZXJm
bW9uX2xvY2s7DQogfTsNCiANCiBzdGF0aWMgaW5saW5lIHN0cnVjdCBhbWRncHVfZGV2aWNlICph
bWRncHVfdHRtX2FkZXYoc3RydWN0IHR0bV9ib19kZXZpY2UgKmJkZXYpIGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMgYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMNCmluZGV4IDAwMzM1MGEyZDI5OS4uYmNmYWJk
MDI1ZjVkIDEwMDY0NA0KLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2Rl
dmljZS5jDQorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMN
CkBAIC02MSw2ICs2MSw3IEBADQogDQogI2luY2x1ZGUgImFtZGdwdV94Z21pLmgiDQogI2luY2x1
ZGUgImFtZGdwdV9yYXMuaCINCisjaW5jbHVkZSAiYW1kZ3B1X3BtdS5oIg0KIA0KIE1PRFVMRV9G
SVJNV0FSRSgiYW1kZ3B1L3ZlZ2ExMF9ncHVfaW5mby5iaW4iKTsNCiBNT0RVTEVfRklSTVdBUkUo
ImFtZGdwdS92ZWdhMTJfZ3B1X2luZm8uYmluIik7DQpAQCAtMjc1Nyw2ICsyNzU4LDEwIEBAIGlu
dCBhbWRncHVfZGV2aWNlX2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQogCQlyZXR1
cm4gcjsNCiAJfQ0KIA0KKwlyID0gYW1kZ3B1X3BtdV9pbml0KGFkZXYpOw0KKwlpZiAocikNCisJ
CWRldl9lcnIoYWRldi0+ZGV2LCAiYW1kZ3B1X3BtdV9pbml0IGZhaWxlZFxuIik7DQorDQogCXJl
dHVybiAwOw0KIA0KIGZhaWxlZDoNCkBAIC0yODIyLDYgKzI4MjcsNyBAQCB2b2lkIGFtZGdwdV9k
ZXZpY2VfZmluaShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCiAJYW1kZ3B1X2RlYnVnZnNf
cmVnc19jbGVhbnVwKGFkZXYpOw0KIAlkZXZpY2VfcmVtb3ZlX2ZpbGUoYWRldi0+ZGV2LCAmZGV2
X2F0dHJfcGNpZV9yZXBsYXlfY291bnQpOw0KIAlhbWRncHVfdWNvZGVfc3lzZnNfZmluaShhZGV2
KTsNCisJYW1kZ3B1X3BtdV9maW5pKGFkZXYpOw0KIH0NCiANCiANCmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfcG11LmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9hbWRncHVfcG11LmMNCm5ldyBmaWxlIG1vZGUgMTAwNjQ0DQppbmRleCAwMDAwMDAw
MDAwMDAuLjczZmQ3MGE1OWM4Yg0KLS0tIC9kZXYvbnVsbA0KKysrIGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvYW1kZ3B1X3BtdS5jDQpAQCAtMCwwICsxLDI4MCBAQA0KKy8qDQorICogQ29w
eXJpZ2h0IDIwMTkgQWR2YW5jZWQgTWljcm8gRGV2aWNlcywgSW5jLg0KKyAqDQorICogUGVybWlz
c2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gDQor
b2J0YWluaW5nIGENCisgKiBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9j
dW1lbnRhdGlvbiBmaWxlcyAodGhlIA0KKyJTb2Z0d2FyZSIpLA0KKyAqIHRvIGRlYWwgaW4gdGhl
IFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IA0KK2xpbWl0
YXRpb24NCisgKiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlz
aCwgZGlzdHJpYnV0ZSwgDQorc3VibGljZW5zZSwNCisgKiBhbmQvb3Igc2VsbCBjb3BpZXMgb2Yg
dGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSANCit0aGUNCisgKiBT
b2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBj
b25kaXRpb25zOg0KKyAqDQorICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMg
cGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgDQoraW5jbHVkZWQgaW4NCisgKiBhbGwgY29waWVz
IG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4NCisgKg0KKyAqIFRIRSBT
T0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5E
LCANCitFWFBSRVNTIE9SDQorICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBU
TyBUSEUgV0FSUkFOVElFUyBPRiANCitNRVJDSEFOVEFCSUxJVFksDQorICogRklUTkVTUyBGT1Ig
QSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gIElOIE5PIEVWRU5UIA0K
K1NIQUxMDQorICogVEhFIENPUFlSSUdIVCBIT0xERVIoUykgT1IgQVVUSE9SKFMpIEJFIExJQUJM
RSBGT1IgQU5ZIENMQUlNLCANCitEQU1BR0VTIE9SDQorICogT1RIRVIgTElBQklMSVRZLCBXSEVU
SEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiANCitPVEhFUldJU0UsDQorICog
QVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBP
UiBUSEUgVVNFIA0KK09SDQorICogT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLg0KKyAq
DQorICogQXV0aG9yOiBKb25hdGhhbiBLaW0gPGpvbmF0aGFuLmtpbUBhbWQuY29tPg0KKyAqDQor
ICovDQorDQorI2luY2x1ZGUgPGxpbnV4L3BlcmZfZXZlbnQuaD4NCisjaW5jbHVkZSA8bGludXgv
aW5pdC5oPg0KKyNpbmNsdWRlICJhbWRncHUuaCINCisjaW5jbHVkZSAiYW1kZ3B1X3BtdS5oIg0K
KyNpbmNsdWRlICJkZl92M182LmgiDQorDQorI2RlZmluZSBQTVVfTkFNRV9TSVpFIDMyDQorDQor
LyogcmVjb3JkIHRvIGtlZXAgdHJhY2sgb2YgcG11IGVudHJ5IHBlciBwbXUgdHlwZSBwZXIgZGV2
aWNlICovIHN0cnVjdCANCithbWRncHVfcG11X2VudHJ5IHsNCisJc3RydWN0IGxpc3RfaGVhZCBl
bnRyeTsNCisJc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXY7DQorCXN0cnVjdCBwbXUgcG11Ow0K
Kwl1bnNpZ25lZCBpbnQgcG11X3BlcmZfdHlwZTsNCit9Ow0KKw0KK3N0YXRpYyBMSVNUX0hFQUQo
YW1kZ3B1X3BtdV9saXN0KTsNCisNCisNCisvKiBpbml0aWFsaXplIHBlcmYgY291bnRlciAqLw0K
K3N0YXRpYyBpbnQgYW1kZ3B1X3BlcmZfZXZlbnRfaW5pdChzdHJ1Y3QgcGVyZl9ldmVudCAqZXZl
bnQpIHsNCisJc3RydWN0IGh3X3BlcmZfZXZlbnQgKmh3YyA9ICZldmVudC0+aHc7DQorDQorCS8q
IHRlc3QgdGhlIGV2ZW50IGF0dHIgdHlwZSBjaGVjayBmb3IgUE1VIGVudW1lcmF0aW9uICovDQor
CWlmIChldmVudC0+YXR0ci50eXBlICE9IGV2ZW50LT5wbXUtPnR5cGUpDQorCQlyZXR1cm4gLUVO
T0VOVDsNCisNCisJLyogdXBkYXRlIHRoZSBod19wZXJmX2V2ZW50IHN0cnVjdCB3aXRoIGNvbmZp
ZyBkYXRhICovDQorCWh3Yy0+Y29uZiA9IGV2ZW50LT5hdHRyLmNvbmZpZzsNCisNCisJcmV0dXJu
IDA7DQorfQ0KKw0KKy8qIHN0YXJ0IHBlcmYgY291bnRlciAqLw0KK3N0YXRpYyB2b2lkIGFtZGdw
dV9wZXJmX3N0YXJ0KHN0cnVjdCBwZXJmX2V2ZW50ICpldmVudCwgaW50IGZsYWdzKSB7DQorCXN0
cnVjdCBod19wZXJmX2V2ZW50ICpod2MgPSAmZXZlbnQtPmh3Ow0KKwlzdHJ1Y3QgYW1kZ3B1X3Bt
dV9lbnRyeSAqcGUgPSBjb250YWluZXJfb2YoZXZlbnQtPnBtdSwNCisJCQkJCQkgIHN0cnVjdCBh
bWRncHVfcG11X2VudHJ5LA0KKwkJCQkJCSAgcG11KTsNCisNCisJaWYgKFdBUk5fT05fT05DRSgh
KGh3Yy0+c3RhdGUgJiBQRVJGX0hFU19TVE9QUEVEKSkpDQorCQlyZXR1cm47DQorDQorCVdBUk5f
T05fT05DRSghKGh3Yy0+c3RhdGUgJiBQRVJGX0hFU19VUFRPREFURSkpOw0KKwlod2MtPnN0YXRl
ID0gMDsNCisNCisJc3dpdGNoIChwZS0+cG11X3BlcmZfdHlwZSkgew0KKwljYXNlIFBFUkZfVFlQ
RV9BTURHUFVfREY6DQorCQlpZiAoIShmbGFncyAmIFBFUkZfRUZfUkVMT0FEKSkNCisJCQlwZS0+
YWRldi0+ZGZfZnVuY3MtPnBtY19zdGFydChwZS0+YWRldiwgaHdjLT5jb25mLCAxKTsNCisNCisJ
CXBlLT5hZGV2LT5kZl9mdW5jcy0+cG1jX3N0YXJ0KHBlLT5hZGV2LCBod2MtPmNvbmYsIDApOw0K
KwkJYnJlYWs7DQorCWRlZmF1bHQ6DQorCQlicmVhazsNCisJfQ0KKw0KKwlwZXJmX2V2ZW50X3Vw
ZGF0ZV91c2VycGFnZShldmVudCk7DQorDQorfQ0KKw0KKy8qIHJlYWQgcGVyZiBjb3VudGVyICov
DQorc3RhdGljIHZvaWQgYW1kZ3B1X3BlcmZfcmVhZChzdHJ1Y3QgcGVyZl9ldmVudCAqZXZlbnQp
IHsNCisJc3RydWN0IGh3X3BlcmZfZXZlbnQgKmh3YyA9ICZldmVudC0+aHc7DQorCXN0cnVjdCBh
bWRncHVfcG11X2VudHJ5ICpwZSA9IGNvbnRhaW5lcl9vZihldmVudC0+cG11LA0KKwkJCQkJCSAg
c3RydWN0IGFtZGdwdV9wbXVfZW50cnksDQorCQkJCQkJICBwbXUpOw0KKw0KKwl1NjQgY291bnQs
IHByZXY7DQorDQorCWRvIHsNCisJCXByZXYgPSBsb2NhbDY0X3JlYWQoJmh3Yy0+cHJldl9jb3Vu
dCk7DQorDQorCQlzd2l0Y2ggKHBlLT5wbXVfcGVyZl90eXBlKSB7DQorCQljYXNlIFBFUkZfVFlQ
RV9BTURHUFVfREY6DQorCQkJcGUtPmFkZXYtPmRmX2Z1bmNzLT5wbWNfZ2V0X2NvdW50KHBlLT5h
ZGV2LCBod2MtPmNvbmYsDQorCQkJCQkJCSAgJmNvdW50KTsNCisJCQlicmVhazsNCisJCWRlZmF1
bHQ6DQorCQkJY291bnQgPSAwOw0KKwkJCWJyZWFrOw0KKwkJfTsNCisJfSB3aGlsZSAobG9jYWw2
NF9jbXB4Y2hnKCZod2MtPnByZXZfY291bnQsIHByZXYsIGNvdW50KSAhPSBwcmV2KTsNCisNCisJ
bG9jYWw2NF9hZGQoY291bnQgLSBwcmV2LCAmZXZlbnQtPmNvdW50KTsgfQ0KKw0KKy8qIHN0b3Ag
cGVyZiBjb3VudGVyICovDQorc3RhdGljIHZvaWQgYW1kZ3B1X3BlcmZfc3RvcChzdHJ1Y3QgcGVy
Zl9ldmVudCAqZXZlbnQsIGludCBmbGFncykgew0KKwlzdHJ1Y3QgaHdfcGVyZl9ldmVudCAqaHdj
ID0gJmV2ZW50LT5odzsNCisJc3RydWN0IGFtZGdwdV9wbXVfZW50cnkgKnBlID0gY29udGFpbmVy
X29mKGV2ZW50LT5wbXUsDQorCQkJCQkJICBzdHJ1Y3QgYW1kZ3B1X3BtdV9lbnRyeSwNCisJCQkJ
CQkgIHBtdSk7DQorDQorCWlmIChod2MtPnN0YXRlICYgUEVSRl9IRVNfVVBUT0RBVEUpDQorCQly
ZXR1cm47DQorDQorCXN3aXRjaCAocGUtPnBtdV9wZXJmX3R5cGUpIHsNCisJY2FzZSBQRVJGX1RZ
UEVfQU1ER1BVX0RGOg0KKwkJcGUtPmFkZXYtPmRmX2Z1bmNzLT5wbWNfc3RvcChwZS0+YWRldiwg
aHdjLT5jb25mLCAwKTsNCisJCWJyZWFrOw0KKwlkZWZhdWx0Og0KKwkJYnJlYWs7DQorCX07DQor
DQorCVdBUk5fT05fT05DRShod2MtPnN0YXRlICYgUEVSRl9IRVNfU1RPUFBFRCk7DQorCWh3Yy0+
c3RhdGUgfD0gUEVSRl9IRVNfU1RPUFBFRDsNCisNCisJaWYgKGh3Yy0+c3RhdGUgJiBQRVJGX0hF
U19VUFRPREFURSkNCisJCXJldHVybjsNCisNCisJYW1kZ3B1X3BlcmZfcmVhZChldmVudCk7DQor
CWh3Yy0+c3RhdGUgfD0gUEVSRl9IRVNfVVBUT0RBVEU7DQorfQ0KKw0KKy8qIGFkZCBwZXJmIGNv
dW50ZXIgICovDQorc3RhdGljIGludCBhbWRncHVfcGVyZl9hZGQoc3RydWN0IHBlcmZfZXZlbnQg
KmV2ZW50LCBpbnQgZmxhZ3MpIHsNCisJc3RydWN0IGh3X3BlcmZfZXZlbnQgKmh3YyA9ICZldmVu
dC0+aHc7DQorCWludCByZXR2YWw7DQorDQorCXN0cnVjdCBhbWRncHVfcG11X2VudHJ5ICpwZSA9
IGNvbnRhaW5lcl9vZihldmVudC0+cG11LA0KKwkJCQkJCSAgc3RydWN0IGFtZGdwdV9wbXVfZW50
cnksDQorCQkJCQkJICBwbXUpOw0KKw0KKwlldmVudC0+aHcuc3RhdGUgPSBQRVJGX0hFU19VUFRP
REFURSB8IFBFUkZfSEVTX1NUT1BQRUQ7DQorDQorCXN3aXRjaCAocGUtPnBtdV9wZXJmX3R5cGUp
IHsNCisJY2FzZSBQRVJGX1RZUEVfQU1ER1BVX0RGOg0KKwkJcmV0dmFsID0gcGUtPmFkZXYtPmRm
X2Z1bmNzLT5wbWNfc3RhcnQocGUtPmFkZXYsIGh3Yy0+Y29uZiwgMSk7DQorCQlicmVhazsNCisJ
ZGVmYXVsdDoNCisJCXJldHVybiAwOw0KKwl9Ow0KKw0KKwlpZiAocmV0dmFsKQ0KKwkJcmV0dXJu
IHJldHZhbDsNCisNCisJaWYgKGZsYWdzICYgUEVSRl9FRl9TVEFSVCkNCisJCWFtZGdwdV9wZXJm
X3N0YXJ0KGV2ZW50LCBQRVJGX0VGX1JFTE9BRCk7DQorDQorCXJldHVybiByZXR2YWw7DQorDQor
fQ0KKw0KKy8qIGRlbGV0ZSBwZXJmIGNvdW50ZXIgICovDQorc3RhdGljIHZvaWQgYW1kZ3B1X3Bl
cmZfZGVsKHN0cnVjdCBwZXJmX2V2ZW50ICpldmVudCwgaW50IGZsYWdzKSB7DQorCXN0cnVjdCBo
d19wZXJmX2V2ZW50ICpod2MgPSAmZXZlbnQtPmh3Ow0KKwlzdHJ1Y3QgYW1kZ3B1X3BtdV9lbnRy
eSAqcGUgPSBjb250YWluZXJfb2YoZXZlbnQtPnBtdSwNCisJCQkJCQkgIHN0cnVjdCBhbWRncHVf
cG11X2VudHJ5LA0KKwkJCQkJCSAgcG11KTsNCisNCisJYW1kZ3B1X3BlcmZfc3RvcChldmVudCwg
UEVSRl9FRl9VUERBVEUpOw0KKw0KKwlzd2l0Y2ggKHBlLT5wbXVfcGVyZl90eXBlKSB7DQorCWNh
c2UgUEVSRl9UWVBFX0FNREdQVV9ERjoNCisJCXBlLT5hZGV2LT5kZl9mdW5jcy0+cG1jX3N0b3Ao
cGUtPmFkZXYsIGh3Yy0+Y29uZiwgMSk7DQorCQlicmVhazsNCisJZGVmYXVsdDoNCisJCWJyZWFr
Ow0KKwl9Ow0KKw0KKwlwZXJmX2V2ZW50X3VwZGF0ZV91c2VycGFnZShldmVudCk7DQorfQ0KKw0K
Ky8qIHZlZ2EyMCBwbXVzICovDQorDQorLyogaW5pdCBwbXUgdHJhY2tpbmcgcGVyIHBtdSB0eXBl
ICovDQoraW50IGluaXRfcG11X2J5X3R5cGUoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQor
CQkgIGNvbnN0IHN0cnVjdCBhdHRyaWJ1dGVfZ3JvdXAgKmF0dHJfZ3JvdXBzW10sDQorCQkgIGNo
YXIgKnBtdV90eXBlX25hbWUsIGNoYXIgKnBtdV9maWxlX3ByZWZpeCwNCisJCSAgdW5zaWduZWQg
aW50IHBtdV9wZXJmX3R5cGUpDQorew0KKwljaGFyIHBtdV9uYW1lW1BNVV9OQU1FX1NJWkVdOw0K
KwlzdHJ1Y3QgYW1kZ3B1X3BtdV9lbnRyeSAqcG11X2VudHJ5Ow0KKwlpbnQgcmV0ID0gMDsNCisN
CisJcG11X2VudHJ5ID0ga3phbGxvYyhzaXplb2Yoc3RydWN0IGFtZGdwdV9wbXVfZW50cnkpLCBH
RlBfS0VSTkVMKTsNCisNCisJaWYgKCFwbXVfZW50cnkpDQorCQlyZXR1cm4gLUVOT01FTTsNCisN
CisJcG11X2VudHJ5LT5hZGV2ID0gYWRldjsNCisJcG11X2VudHJ5LT5wbXUgPSAoc3RydWN0IHBt
dSl7DQorCQkuZXZlbnRfaW5pdCA9IGFtZGdwdV9wZXJmX2V2ZW50X2luaXQsDQorCQkuYWRkID0g
YW1kZ3B1X3BlcmZfYWRkLA0KKwkJLmRlbCA9IGFtZGdwdV9wZXJmX2RlbCwNCisJCS5zdGFydCA9
IGFtZGdwdV9wZXJmX3N0YXJ0LA0KKwkJLnN0b3AgPSBhbWRncHVfcGVyZl9zdG9wLA0KKwkJLnJl
YWQgPSBhbWRncHVfcGVyZl9yZWFkLA0KKwkJLnRhc2tfY3R4X25yID0gcGVyZl9pbnZhbGlkX2Nv
bnRleHQsDQorCX07DQorDQorCXBtdV9lbnRyeS0+cG11LmF0dHJfZ3JvdXBzID0gYXR0cl9ncm91
cHM7DQorCXBtdV9lbnRyeS0+cG11X3BlcmZfdHlwZSA9IHBtdV9wZXJmX3R5cGU7DQorCXNucHJp
bnRmKHBtdV9uYW1lLCBQTVVfTkFNRV9TSVpFLCAiJXNfJWQiLA0KKwkJCQlwbXVfZmlsZV9wcmVm
aXgsIGFkZXYtPmRkZXYtPnByaW1hcnktPmluZGV4KTsNCisNCisJcmV0ID0gcGVyZl9wbXVfcmVn
aXN0ZXIoJnBtdV9lbnRyeS0+cG11LCBwbXVfbmFtZSwgLTEpOw0KKw0KKwlpZiAocmV0KSB7DQor
CQlrZnJlZShwbXVfZW50cnkpOw0KKwkJcHJfd2FybigiRXJyb3IgaW5pdGlhbGl6aW5nIEFNREdQ
VSAlcyBQTVVzLlxuIiwgcG11X3R5cGVfbmFtZSk7DQorCQlyZXR1cm4gcmV0Ow0KKwl9DQorDQor
CXByX2luZm8oIkRldGVjdGVkIEFNREdQVSAlcyBDb3VudGVycy4gIyBvZiBDb3VudGVycyA9ICVk
LlxuIiwNCisJCQlwbXVfdHlwZV9uYW1lLCBERl9WM182X01BWF9DT1VOVEVSUyk7DQorDQorCWxp
c3RfYWRkX3RhaWwoJnBtdV9lbnRyeS0+ZW50cnksICZhbWRncHVfcG11X2xpc3QpOw0KKw0KKwly
ZXR1cm4gMDsNCit9DQorDQorLyogaW5pdCBhbWRncHVfcG11ICovDQoraW50IGFtZGdwdV9wbXVf
aW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikgew0KKw0KKwlpbnQgcmV0ID0gMDsNCisN
CisJc3dpdGNoIChhZGV2LT5hc2ljX3R5cGUpIHsNCisJY2FzZSBDSElQX1ZFR0EyMDoNCisJCS8q
IGluaXQgZGYgKi8NCisJCXJldCA9IGluaXRfcG11X2J5X3R5cGUoYWRldiwgZGZfdjNfNl9hdHRy
X2dyb3VwcywNCisJCQkJIkRGIiwgImFtZGdwdV9kZiIsIFBFUkZfVFlQRV9BTURHUFVfREYpOw0K
Kw0KKwkJLyogb3RoZXIgcG11IHR5cGVzIGdvIGhlcmUqLw0KKwkJYnJlYWs7DQorCWRlZmF1bHQ6
DQorCQlyZXR1cm4gMDsNCisJfQ0KKw0KKwlyZXR1cm4gMDsNCisNCit9DQorDQorDQorLyogZGVz
dHJveSBhbGwgcG11IGRhdGEgYXNzb2NpYXRlZCB3aXRoIHRhcmdldCBkZXZpY2UgKi8gdm9pZCAN
CithbWRncHVfcG11X2Zpbmkoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpIHsNCisJc3RydWN0
IGFtZGdwdV9wbXVfZW50cnkgKnBlLCAqdGVtcDsNCisNCisJbGlzdF9mb3JfZWFjaF9lbnRyeV9z
YWZlKHBlLCB0ZW1wLCAmYW1kZ3B1X3BtdV9saXN0LCBlbnRyeSkgew0KKwkJaWYgKHBlLT5hZGV2
ID09IGFkZXYpIHsNCisJCQlsaXN0X2RlbCgmcGUtPmVudHJ5KTsNCisJCQlwZXJmX3BtdV91bnJl
Z2lzdGVyKCZ0ZW1wLT5wbXUpOw0KKwkJCWtmcmVlKHRlbXApOw0KKwkJfQ0KKwl9DQorfQ0KZGlm
ZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9wbXUuaCBiL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9wbXUuaA0KbmV3IGZpbGUgbW9kZSAxMDA2NDQN
CmluZGV4IDAwMDAwMDAwMDAwMC4uN2RkZGI3MTYwYTExDQotLS0gL2Rldi9udWxsDQorKysgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfcG11LmgNCkBAIC0wLDAgKzEsMzcgQEAN
CisvKg0KKyAqIENvcHlyaWdodCAyMDE5IEFkdmFuY2VkIE1pY3JvIERldmljZXMsIEluYy4NCisg
Kg0KKyAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBh
bnkgcGVyc29uIA0KK29idGFpbmluZyBhDQorICogY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBh
c3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSANCisiU29mdHdhcmUiKSwNCisgKiB0
byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0
aG91dCANCitsaW1pdGF0aW9uDQorICogdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwg
bWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIA0KK3N1YmxpY2Vuc2UsDQorICogYW5kL29yIHNl
bGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20g
DQordGhlDQorICogU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRo
ZSBmb2xsb3dpbmcgY29uZGl0aW9uczoNCisgKg0KKyAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90
aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIA0KK2luY2x1ZGVkIGluDQor
ICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuDQor
ICoNCisgKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5U
WSBPRiBBTlkgS0lORCwgDQorRVhQUkVTUyBPUg0KKyAqIElNUExJRUQsIElOQ0xVRElORyBCVVQg
Tk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgDQorTUVSQ0hBTlRBQklMSVRZLA0KKyAq
IEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuICBJ
TiBOTyBFVkVOVCANCitTSEFMTA0KKyAqIFRIRSBDT1BZUklHSFQgSE9MREVSKFMpIE9SIEFVVEhP
UihTKSBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgDQorREFNQUdFUyBPUg0KKyAqIE9USEVSIExJ
QUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgDQorT1RI
RVJXSVNFLA0KKyAqIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBU
SEUgU09GVFdBUkUgT1IgVEhFIFVTRSANCitPUg0KKyAqIE9USEVSIERFQUxJTkdTIElOIFRIRSBT
T0ZUV0FSRS4NCisgKg0KKyAqIEF1dGhvcjogSm9uYXRoYW4gS2ltIDxqb25hdGhhbi5raW1AYW1k
LmNvbT4NCisgKg0KKyAqLw0KKw0KKyNpZm5kZWYgX0FNREdQVV9QTVVfSF8NCisjZGVmaW5lIF9B
TURHUFVfUE1VX0hfDQorDQorZW51bSBhbWRncHVfcG11X3BlcmZfdHlwZSB7DQorCVBFUkZfVFlQ
RV9BTURHUFVfREYgPSAwLA0KKwlQRVJGX1RZUEVfQU1ER1BVX01BWA0KK307DQorDQoraW50IGFt
ZGdwdV9wbXVfaW5pdChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7IHZvaWQgDQorYW1kZ3B1
X3BtdV9maW5pKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KTsNCisNCisjZW5kaWYgLyogX0FN
REdQVV9QTVVfSF8gKi8NCi0tDQoyLjE3LjENCg0KX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5m
cmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0
aW5mby9hbWQtZ2Z4
