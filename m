Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 0CB886D84C
	for <lists+amd-gfx@lfdr.de>; Fri, 19 Jul 2019 03:20:26 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 9AFD46E478;
	Fri, 19 Jul 2019 01:20:24 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM02-CY1-obe.outbound.protection.outlook.com
 (mail-eopbgr760043.outbound.protection.outlook.com [40.107.76.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 917536E478
 for <amd-gfx@lists.freedesktop.org>; Fri, 19 Jul 2019 01:20:22 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=e1BpwXhXsWIvBrPtCNRl49ck9L86QdeplG4bUMbz2rZtxbzq2Nc8YG/5Vr5mfLYr3HbUyLk7/fUthZtaC0hYdG3XLdfT6fMGDKtbLpZbawuEb8JHUqtSq85N+uMD2ob0854OD74babLlSKezGpuYR05l2PUxlMPuzJ2vB8nXtJvMhQ38UGmutMvHqIq5IUkqrjrjYP52o8rZWXLoKk++pvwZj9b7+IKBkRPmW4zRCeOWnAZLhy70iidHK6I2LUwpamfTXAfkessRg1rsIUDMPUPiUJR6uK+ltHBOJXxXYyKOWv7Buyv4WbeRdDH1iLlAVC5c59f2Ybd/qLpJk15IXA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=3zqr4wW5z73Z/suITkr8h3gMr7BPO4Rq91c5kUzELLA=;
 b=WXSBnHASpbcyVB2GMU7f99fOgQgO9byVWj2MpW6DyYcG+ZlsyTclmjw++NHXmezGJj0lGPgtMYUP72aF5eZJGZ3h+d+4Kw867AaSNFRlZtwUSEl8Wh1+kArNBs1fMOJABcVls2yr94mc3UVaBvLfcFTPxI0rTUIMMYbG4TZaBMvlwt4yINxxzhFCq58j8wGX6nycGJzPS25VKKvVuEAcdHUAV59UhjeoYoV29lHn2vpElAtovnj75kDIxVrLid+wV0Z6k0ihz9rAeFLPxigU9elDoNWoJPlsZOjEEcsPzsBwEowWlkgEV3jM/42wmE4du8Kd8tXbxEBIkWjl1W6YzQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1;spf=pass
 smtp.mailfrom=amd.com;dmarc=pass action=none header.from=amd.com;dkim=pass
 header.d=amd.com;arc=none
Received: from MN2PR12MB3344.namprd12.prod.outlook.com (20.178.241.74) by
 MN2PR12MB3358.namprd12.prod.outlook.com (20.178.241.218) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2094.14; Fri, 19 Jul 2019 01:20:19 +0000
Received: from MN2PR12MB3344.namprd12.prod.outlook.com
 ([fe80::9170:5b18:b195:24b1]) by MN2PR12MB3344.namprd12.prod.outlook.com
 ([fe80::9170:5b18:b195:24b1%3]) with mapi id 15.20.2094.011; Fri, 19 Jul 2019
 01:20:19 +0000
From: "Quan, Evan" <Evan.Quan@amd.com>
To: Alex Deucher <alexdeucher@gmail.com>, "amd-gfx@lists.freedesktop.org"
 <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH] drm/amdgpu/smu: move fan rpm query into the asic specific
 code
Thread-Topic: [PATCH] drm/amdgpu/smu: move fan rpm query into the asic
 specific code
Thread-Index: AQHVPadkROj/wgwSpkO+Py6XvflcA6bRJOIg
Date: Fri, 19 Jul 2019 01:20:19 +0000
Message-ID: <MN2PR12MB3344D1FDB694031C48F150CAE4CB0@MN2PR12MB3344.namprd12.prod.outlook.com>
References: <20190718202827.12859-1-alexander.deucher@amd.com>
In-Reply-To: <20190718202827.12859-1-alexander.deucher@amd.com>
Accept-Language: en-US, zh-CN
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: f65e5671-8319-4fa6-c12d-08d70be743a4
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:MN2PR12MB3358; 
x-ms-traffictypediagnostic: MN2PR12MB3358:
x-ms-exchange-purlcount: 1
x-microsoft-antispam-prvs: <MN2PR12MB3358D86CF2BB280FDA06CFFDE4CB0@MN2PR12MB3358.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:3276;
x-forefront-prvs: 01039C93E4
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(346002)(366004)(136003)(396003)(376002)(39860400002)(13464003)(199004)(189003)(14454004)(68736007)(8676002)(8936002)(305945005)(7736002)(71190400001)(71200400001)(6436002)(2501003)(186003)(99286004)(66556008)(64756008)(66446008)(66476007)(81166006)(6306002)(55016002)(476003)(2906002)(110136005)(81156014)(66946007)(76116006)(446003)(9686003)(14444005)(256004)(86362001)(966005)(478600001)(66066001)(11346002)(7696005)(53936002)(52536014)(486006)(76176011)(25786009)(6506007)(4326008)(229853002)(53546011)(26005)(3846002)(316002)(6116002)(6246003)(102836004)(74316002)(33656002)(5660300002);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MN2PR12MB3358;
 H:MN2PR12MB3344.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: Smjod5Tb/1UmJ9YybWTt3d7KE5Qi+ybICxo+PIip8mMZ5YybQhmu1SCLbvXb51CCqGQ6qPSvYAUYZzdg5MyHP4s3ordKniaTChxR6SgfcacqM9I5USfuiYZCJAT3Ft9d1h3JQsaLQWIOBBGAMfIXnGQFycFR8jiHnaO6QQW+iUONaxjSdy88vsOnfhhUoyWMNBqw/2j90gXeX8W+nrMYAsuLK7DU6DZHpTF/iw9P2psafL4yhpAaSLE0wCA2MCS1hLDcazx+8naOM5XbOFoJI4oeA7B5sUq3BkeEHLm3L17B1PFEzMEv6fYZBW3d4sOdpBvXJ76tp6ahqsnm3CiAUsV3zEksJGxfzxvkb4tkTvd+IGHcm8r3dVIMN/MV++scGAVNfQrjtgYYitmmekJ6SkwcVHE3KYHAKz34RnT4Yus=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: f65e5671-8319-4fa6-c12d-08d70be743a4
X-MS-Exchange-CrossTenant-originalarrivaltime: 19 Jul 2019 01:20:19.5256 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: equan@amd.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB3358
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=3zqr4wW5z73Z/suITkr8h3gMr7BPO4Rq91c5kUzELLA=;
 b=DZ98R4lK7nnlvsuEmrkgtU/iIfpBHxzAELN/8BKSAqV6rl7xjVy7hDMqgLQfAZfgIVBuLt8kdHqOpjAQFdDJAmGq8112bIpMbuOHDGKDrg0NHq2W9G+NQ6UkUdwaQ/nSx6boGpvrDvflDFU5fku7d3zouPY46I1Npm+HE5WCx6A=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Evan.Quan@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Deucher, Alexander" <Alexander.Deucher@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

UmV2aWV3ZWQtYnk6IEV2YW4gUXVhbiA8ZXZhbi5xdWFuQGFtZC5jb20+DQoNCj4gLS0tLS1Pcmln
aW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogYW1kLWdmeCA8YW1kLWdmeC1ib3VuY2VzQGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZz4gT24gQmVoYWxmIE9mIEFsZXgNCj4gRGV1Y2hlcg0KPiBTZW50OiBG
cmlkYXksIEp1bHkgMTksIDIwMTkgNDoyOCBBTQ0KPiBUbzogYW1kLWdmeEBsaXN0cy5mcmVlZGVz
a3RvcC5vcmcNCj4gQ2M6IERldWNoZXIsIEFsZXhhbmRlciA8QWxleGFuZGVyLkRldWNoZXJAYW1k
LmNvbT4NCj4gU3ViamVjdDogW1BBVENIXSBkcm0vYW1kZ3B1L3NtdTogbW92ZSBmYW4gcnBtIHF1
ZXJ5IGludG8gdGhlIGFzaWMNCj4gc3BlY2lmaWMgY29kZQ0KPiANCj4gT24gdmVnYTIwLCB0aGVy
ZSBpcyBhbiBTTVUgbWVzc2FnZSB0byBxdWVyeSBpdC4gIE9uIG5hdmksIGl0J3MgZmV0Y2hlZCBm
cm9tDQo+IHRoZSBtZXRyaWNzIHRhYmxlLg0KPiANCj4gU2lnbmVkLW9mZi1ieTogQWxleCBEZXVj
aGVyIDxhbGV4YW5kZXIuZGV1Y2hlckBhbWQuY29tPg0KPiAtLS0NCj4gIGRyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV9wbS5jICAgICAgICB8ICA0ICsrLS0NCj4gIC4uLi9ncHUvZHJt
L2FtZC9wb3dlcnBsYXkvaW5jL2FtZGdwdV9zbXUuaCAgICB8ICA2ICsrKy0tLQ0KPiAgZHJpdmVy
cy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvbmF2aTEwX3BwdC5jICAgIHwgMTIgKysrKysrLS0tLS0N
Cj4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3NtdV92MTFfMC5jICAgICB8IDE4IC0t
LS0tLS0tLS0tLS0tLS0tDQo+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS92ZWdhMjBf
cHB0LmMgICAgfCAyMA0KPiArKysrKysrKysrKysrKysrKystDQo+ICA1IGZpbGVzIGNoYW5nZWQs
IDMxIGluc2VydGlvbnMoKyksIDI5IGRlbGV0aW9ucygtKQ0KPiANCj4gZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9wbS5jDQo+IGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvYW1kZ3B1X3BtLmMNCj4gaW5kZXggOGI3ZWZkMGE3MDI4Li4wM2NhOGM2OTEx
NGYgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9wbS5j
DQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9wbS5jDQo+IEBAIC0x
NzM0LDcgKzE3MzQsNyBAQCBzdGF0aWMgc3NpemVfdA0KPiBhbWRncHVfaHdtb25fZ2V0X2ZhbjFf
aW5wdXQoc3RydWN0IGRldmljZSAqZGV2LA0KPiAgCQlyZXR1cm4gLUVJTlZBTDsNCj4gDQo+ICAJ
aWYgKGlzX3N1cHBvcnRfc3dfc211KGFkZXYpKSB7DQo+IC0JCWVyciA9IHNtdV9nZXRfY3VycmVu
dF9ycG0oJmFkZXYtPnNtdSwgJnNwZWVkKTsNCj4gKwkJZXJyID0gc211X2dldF9mYW5fc3BlZWRf
cnBtKCZhZGV2LT5zbXUsICZzcGVlZCk7DQo+ICAJCWlmIChlcnIpDQo+ICAJCQlyZXR1cm4gZXJy
Ow0KPiAgCX0gZWxzZSBpZiAoYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzLT5nZXRfZmFuX3NwZWVk
X3JwbSkgeyBAQCAtDQo+IDE3OTQsNyArMTc5NCw3IEBAIHN0YXRpYyBzc2l6ZV90IGFtZGdwdV9o
d21vbl9nZXRfZmFuMV90YXJnZXQoc3RydWN0DQo+IGRldmljZSAqZGV2LA0KPiAgCQlyZXR1cm4g
LUVJTlZBTDsNCj4gDQo+ICAJaWYgKGlzX3N1cHBvcnRfc3dfc211KGFkZXYpKSB7DQo+IC0JCWVy
ciA9IHNtdV9nZXRfY3VycmVudF9ycG0oJmFkZXYtPnNtdSwgJnJwbSk7DQo+ICsJCWVyciA9IHNt
dV9nZXRfZmFuX3NwZWVkX3JwbSgmYWRldi0+c211LCAmcnBtKTsNCj4gIAkJaWYgKGVycikNCj4g
IAkJCXJldHVybiBlcnI7DQo+ICAJfSBlbHNlIGlmIChhZGV2LT5wb3dlcnBsYXkucHBfZnVuY3Mt
PmdldF9mYW5fc3BlZWRfcnBtKSB7IGRpZmYgLS0NCj4gZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9wb3dlcnBsYXkvaW5jL2FtZGdwdV9zbXUuaA0KPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93
ZXJwbGF5L2luYy9hbWRncHVfc211LmgNCj4gaW5kZXggNTE0ZDMxNTE4ODUzLi44N2U0NGMzYTJk
NzMgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2luYy9hbWRn
cHVfc211LmgNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaW5jL2FtZGdw
dV9zbXUuaA0KPiBAQCAtNjIzLDYgKzYyMyw3IEBAIHN0cnVjdCBwcHRhYmxlX2Z1bmNzIHsNCj4g
IAlpbnQgKCp0YWJsZXNfaW5pdCkoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIHN0cnVjdCBzbXVf
dGFibGUNCj4gKnRhYmxlcyk7DQo+ICAJaW50ICgqc2V0X3RoZXJtYWxfZmFuX3RhYmxlKShzdHJ1
Y3Qgc211X2NvbnRleHQgKnNtdSk7DQo+ICAJaW50ICgqZ2V0X2Zhbl9zcGVlZF9wZXJjZW50KShz
dHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgdWludDMyX3QNCj4gKnNwZWVkKTsNCj4gKwlpbnQgKCpn
ZXRfZmFuX3NwZWVkX3JwbSkoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIHVpbnQzMl90DQo+ICpz
cGVlZCk7DQo+ICAJaW50ICgqc2V0X3dhdGVybWFya3NfdGFibGUpKHN0cnVjdCBzbXVfY29udGV4
dCAqc211LCB2b2lkDQo+ICp3YXRlcm1hcmtzLA0KPiAgCQkJCSAgICBzdHJ1Y3QNCj4gZG1fcHBf
d21fc2V0c193aXRoX2Nsb2NrX3Jhbmdlc19zb2MxNSAqY2xvY2tfcmFuZ2VzKTsNCj4gIAlpbnQg
KCpnZXRfY3VycmVudF9jbGtfZnJlcV9ieV90YWJsZSkoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUs
DQo+IEBAIC02OTUsNyArNjk2LDYgQEAgc3RydWN0IHNtdV9mdW5jcw0KPiAgCWludCAoKnNldF93
YXRlcm1hcmtzX2Zvcl9jbG9ja19yYW5nZXMpKHN0cnVjdCBzbXVfY29udGV4dCAqc211LA0KPiAg
CQkJCQkgICAgICAgc3RydWN0DQo+IGRtX3BwX3dtX3NldHNfd2l0aF9jbG9ja19yYW5nZXNfc29j
MTUgKmNsb2NrX3Jhbmdlcyk7DQo+ICAJaW50ICgqY29udl9wb3dlcl9wcm9maWxlX3RvX3BwbGli
X3dvcmtsb2FkKShpbnQgcG93ZXJfcHJvZmlsZSk7DQo+IC0JaW50ICgqZ2V0X2N1cnJlbnRfcnBt
KShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgdWludDMyX3QgKnNwZWVkKTsNCj4gIAl1aW50MzJf
dCAoKmdldF9mYW5fY29udHJvbF9tb2RlKShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSk7DQo+ICAJ
aW50ICgqc2V0X2Zhbl9jb250cm9sX21vZGUpKHN0cnVjdCBzbXVfY29udGV4dCAqc211LCB1aW50
MzJfdA0KPiBtb2RlKTsNCj4gIAlpbnQgKCpzZXRfZmFuX3NwZWVkX3BlcmNlbnQpKHN0cnVjdCBz
bXVfY29udGV4dCAqc211LCB1aW50MzJfdA0KPiBzcGVlZCk7IEBAIC03NjEsOCArNzYxLDYgQEAg
c3RydWN0IHNtdV9mdW5jcw0KPiAgCSgoc211KS0+ZnVuY3MtPmluaXRfbWF4X3N1c3RhaW5hYmxl
X2Nsb2NrcyA/IChzbXUpLT5mdW5jcy0NCj4gPmluaXRfbWF4X3N1c3RhaW5hYmxlX2Nsb2Nrcygo
c211KSkgOiAwKSAgI2RlZmluZQ0KPiBzbXVfc2V0X2RlZmF1bHRfb2Rfc2V0dGluZ3Moc211LCBp
bml0aWFsaXplKSBcDQo+ICAJKChzbXUpLT5wcHRfZnVuY3MtPnNldF9kZWZhdWx0X29kX3NldHRp
bmdzID8gKHNtdSktPnBwdF9mdW5jcy0NCj4gPnNldF9kZWZhdWx0X29kX3NldHRpbmdzKChzbXUp
LCAoaW5pdGlhbGl6ZSkpIDogMCkgLSNkZWZpbmUNCj4gc211X2dldF9jdXJyZW50X3JwbShzbXUs
IHNwZWVkKSBcDQo+IC0JKChzbXUpLT5mdW5jcy0+Z2V0X2N1cnJlbnRfcnBtID8gKHNtdSktPmZ1
bmNzLQ0KPiA+Z2V0X2N1cnJlbnRfcnBtKChzbXUpLCAoc3BlZWQpKSA6IDApDQo+ICAjZGVmaW5l
IHNtdV9zZXRfZmFuX3NwZWVkX3JwbShzbXUsIHNwZWVkKSBcDQo+ICAJKChzbXUpLT5mdW5jcy0+
c2V0X2Zhbl9zcGVlZF9ycG0gPyAoc211KS0+ZnVuY3MtDQo+ID5zZXRfZmFuX3NwZWVkX3JwbSgo
c211KSwgKHNwZWVkKSkgOiAwKSAgI2RlZmluZQ0KPiBzbXVfc2VuZF9zbWNfbXNnKHNtdSwgbXNn
KSBcIEBAIC04NTEsNiArODQ5LDggQEAgc3RydWN0IHNtdV9mdW5jcw0KPiAgCSgoc211KS0+cHB0
X2Z1bmNzLT5nZXRfZmFuX3NwZWVkX3BlcmNlbnQgPyAoc211KS0+cHB0X2Z1bmNzLQ0KPiA+Z2V0
X2Zhbl9zcGVlZF9wZXJjZW50KChzbXUpLCAoc3BlZWQpKSA6IDApICAjZGVmaW5lDQo+IHNtdV9z
ZXRfZmFuX3NwZWVkX3BlcmNlbnQoc211LCBzcGVlZCkgXA0KPiAgCSgoc211KS0+ZnVuY3MtPnNl
dF9mYW5fc3BlZWRfcGVyY2VudCA/IChzbXUpLT5mdW5jcy0NCj4gPnNldF9mYW5fc3BlZWRfcGVy
Y2VudCgoc211KSwgKHNwZWVkKSkgOiAwKQ0KPiArI2RlZmluZSBzbXVfZ2V0X2Zhbl9zcGVlZF9y
cG0oc211LCBzcGVlZCkgXA0KPiArCSgoc211KS0+cHB0X2Z1bmNzLT5nZXRfZmFuX3NwZWVkX3Jw
bSA/DQo+ICsoc211KS0+cHB0X2Z1bmNzLT5nZXRfZmFuX3NwZWVkX3JwbSgoc211KSwgKHNwZWVk
KSkgOiAwKQ0KPiANCj4gICNkZWZpbmUgc211X21zZ19nZXRfaW5kZXgoc211LCBtc2cpIFwNCj4g
IAkoKHNtdSktPnBwdF9mdW5jcz8gKChzbXUpLT5wcHRfZnVuY3MtPmdldF9zbXVfbXNnX2luZGV4
Pw0KPiAoc211KS0+cHB0X2Z1bmNzLT5nZXRfc211X21zZ19pbmRleCgoc211KSwgKG1zZykpIDog
LUVJTlZBTCkgOiAtRUlOVkFMKQ0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9w
b3dlcnBsYXkvbmF2aTEwX3BwdC5jDQo+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkv
bmF2aTEwX3BwdC5jDQo+IGluZGV4IDgwZGFkZWQzMTk3MC4uMzUyZmFiMWIzNDQ0IDEwMDY0NA0K
PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9uYXZpMTBfcHB0LmMNCj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvbmF2aTEwX3BwdC5jDQo+IEBAIC05NzQs
MTIgKzk3NCwxMyBAQCBzdGF0aWMgYm9vbCBuYXZpMTBfaXNfZHBtX3J1bm5pbmcoc3RydWN0DQo+
IHNtdV9jb250ZXh0ICpzbXUpDQo+ICAJcmV0dXJuICEhKGZlYXR1cmVfZW5hYmxlZCAmIFNNQ19E
UE1fRkVBVFVSRSk7ICB9DQo+IA0KPiAtc3RhdGljIGludCBuYXZpMTBfZ2V0X2Zhbl9zcGVlZChz
dHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgdWludDE2X3QgKnZhbHVlKQ0KPiArc3RhdGljIGludCBu
YXZpMTBfZ2V0X2Zhbl9zcGVlZF9ycG0oc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsDQo+ICsJCQkJ
ICAgIHVpbnQzMl90ICpzcGVlZCkNCj4gIHsNCj4gIAlTbXVNZXRyaWNzX3QgbWV0cmljczsNCj4g
IAlpbnQgcmV0ID0gMDsNCj4gDQo+IC0JaWYgKCF2YWx1ZSkNCj4gKwlpZiAoIXNwZWVkKQ0KPiAg
CQlyZXR1cm4gLUVJTlZBTDsNCj4gDQo+ICAJbWVtc2V0KCZtZXRyaWNzLCAwLCBzaXplb2YobWV0
cmljcykpOw0KPiBAQCAtOTg5LDcgKzk5MCw3IEBAIHN0YXRpYyBpbnQgbmF2aTEwX2dldF9mYW5f
c3BlZWQoc3RydWN0IHNtdV9jb250ZXh0DQo+ICpzbXUsIHVpbnQxNl90ICp2YWx1ZSkNCj4gIAlp
ZiAocmV0KQ0KPiAgCQlyZXR1cm4gcmV0Ow0KPiANCj4gLQkqdmFsdWUgPSBtZXRyaWNzLkN1cnJG
YW5TcGVlZDsNCj4gKwkqc3BlZWQgPSBtZXRyaWNzLkN1cnJGYW5TcGVlZDsNCj4gDQo+ICAJcmV0
dXJuIHJldDsNCj4gIH0NCj4gQEAgLTk5OSwxMCArMTAwMCwxMCBAQCBzdGF0aWMgaW50IG5hdmkx
MF9nZXRfZmFuX3NwZWVkX3BlcmNlbnQoc3RydWN0DQo+IHNtdV9jb250ZXh0ICpzbXUsICB7DQo+
ICAJaW50IHJldCA9IDA7DQo+ICAJdWludDMyX3QgcGVyY2VudCA9IDA7DQo+IC0JdWludDE2X3Qg
Y3VycmVudF9ycG07DQo+ICsJdWludDMyX3QgY3VycmVudF9ycG07DQo+ICAJUFBUYWJsZV90ICpw
cHRhYmxlID0gc211LT5zbXVfdGFibGUuZHJpdmVyX3BwdGFibGU7DQo+IA0KPiAtCXJldCA9IG5h
dmkxMF9nZXRfZmFuX3NwZWVkKHNtdSwgJmN1cnJlbnRfcnBtKTsNCj4gKwlyZXQgPSBuYXZpMTBf
Z2V0X2Zhbl9zcGVlZF9ycG0oc211LCAmY3VycmVudF9ycG0pOw0KPiAgCWlmIChyZXQpDQo+ICAJ
CXJldHVybiByZXQ7DQo+IA0KPiBAQCAtMTYxNyw2ICsxNjE4LDcgQEAgc3RhdGljIGNvbnN0IHN0
cnVjdCBwcHRhYmxlX2Z1bmNzIG5hdmkxMF9wcHRfZnVuY3MNCj4gPSB7DQo+ICAJLnVuZm9yY2Vf
ZHBtX2xldmVscyA9IG5hdmkxMF91bmZvcmNlX2RwbV9sZXZlbHMsDQo+ICAJLmlzX2RwbV9ydW5u
aW5nID0gbmF2aTEwX2lzX2RwbV9ydW5uaW5nLA0KPiAgCS5nZXRfZmFuX3NwZWVkX3BlcmNlbnQg
PSBuYXZpMTBfZ2V0X2Zhbl9zcGVlZF9wZXJjZW50LA0KPiArCS5nZXRfZmFuX3NwZWVkX3JwbSA9
IG5hdmkxMF9nZXRfZmFuX3NwZWVkX3JwbSwNCj4gIAkuZ2V0X3Bvd2VyX3Byb2ZpbGVfbW9kZSA9
IG5hdmkxMF9nZXRfcG93ZXJfcHJvZmlsZV9tb2RlLA0KPiAgCS5zZXRfcG93ZXJfcHJvZmlsZV9t
b2RlID0gbmF2aTEwX3NldF9wb3dlcl9wcm9maWxlX21vZGUsDQo+ICAJLmdldF9wcm9maWxpbmdf
Y2xrX21hc2sgPSBuYXZpMTBfZ2V0X3Byb2ZpbGluZ19jbGtfbWFzaywgZGlmZiAtLWdpdA0KPiBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3NtdV92MTFfMC5jDQo+IGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9wb3dlcnBsYXkvc211X3YxMV8wLmMNCj4gaW5kZXggOWYzYTg0ZmJiOWNmLi5h
NDFjZTI5YjIzZGMgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5
L3NtdV92MTFfMC5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3NtdV92
MTFfMC5jDQo+IEBAIC0xNDA1LDIzICsxNDA1LDYgQEAgc3RhdGljIGludCBzbXVfdjExXzBfZ2Z4
X29mZl9jb250cm9sKHN0cnVjdA0KPiBzbXVfY29udGV4dCAqc211LCBib29sIGVuYWJsZSkNCj4g
IAlyZXR1cm4gcmV0Ow0KPiAgfQ0KPiANCj4gLXN0YXRpYyBpbnQgc211X3YxMV8wX2dldF9jdXJy
ZW50X3JwbShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwNCj4gLQkJCQkgICAgIHVpbnQzMl90ICpj
dXJyZW50X3JwbSkNCj4gLXsNCj4gLQlpbnQgcmV0Ow0KPiAtDQo+IC0JcmV0ID0gc211X3NlbmRf
c21jX21zZyhzbXUsIFNNVV9NU0dfR2V0Q3VycmVudFJwbSk7DQo+IC0NCj4gLQlpZiAocmV0KSB7
DQo+IC0JCXByX2VycigiQXR0ZW1wdCB0byBnZXQgY3VycmVudCBSUE0gZnJvbSBTTUMgRmFpbGVk
IVxuIik7DQo+IC0JCXJldHVybiByZXQ7DQo+IC0JfQ0KPiAtDQo+IC0Jc211X3JlYWRfc21jX2Fy
ZyhzbXUsIGN1cnJlbnRfcnBtKTsNCj4gLQ0KPiAtCXJldHVybiAwOw0KPiAtfQ0KPiAtDQo+ICBz
dGF0aWMgdWludDMyX3QNCj4gIHNtdV92MTFfMF9nZXRfZmFuX2NvbnRyb2xfbW9kZShzdHJ1Y3Qg
c211X2NvbnRleHQgKnNtdSkgIHsgQEAgLQ0KPiAxODA3LDcgKzE3OTAsNiBAQCBzdGF0aWMgY29u
c3Qgc3RydWN0IHNtdV9mdW5jcyBzbXVfdjExXzBfZnVuY3MgPSB7DQo+ICAJLnNldF9kZWVwX3Ns
ZWVwX2RjZWZjbGsgPSBzbXVfdjExXzBfc2V0X2RlZXBfc2xlZXBfZGNlZmNsaywNCj4gIAkuZGlz
cGxheV9jbG9ja192b2x0YWdlX3JlcXVlc3QgPQ0KPiBzbXVfdjExXzBfZGlzcGxheV9jbG9ja192
b2x0YWdlX3JlcXVlc3QsDQo+ICAJLnNldF93YXRlcm1hcmtzX2Zvcl9jbG9ja19yYW5nZXMgPQ0K
PiBzbXVfdjExXzBfc2V0X3dhdGVybWFya3NfZm9yX2Nsb2NrX3JhbmdlcywNCj4gLQkuZ2V0X2N1
cnJlbnRfcnBtID0gc211X3YxMV8wX2dldF9jdXJyZW50X3JwbSwNCj4gIAkuZ2V0X2Zhbl9jb250
cm9sX21vZGUgPSBzbXVfdjExXzBfZ2V0X2Zhbl9jb250cm9sX21vZGUsDQo+ICAJLnNldF9mYW5f
Y29udHJvbF9tb2RlID0gc211X3YxMV8wX3NldF9mYW5fY29udHJvbF9tb2RlLA0KPiAgCS5zZXRf
ZmFuX3NwZWVkX3BlcmNlbnQgPSBzbXVfdjExXzBfc2V0X2Zhbl9zcGVlZF9wZXJjZW50LCBkaWZm
DQo+IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvdmVnYTIwX3BwdC5jDQo+
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvdmVnYTIwX3BwdC5jDQo+IGluZGV4IDA4
MDk1NmVhMDU3MC4uNDNjZDc0Nzk1NDE3IDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL3Bvd2VycGxheS92ZWdhMjBfcHB0LmMNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9w
b3dlcnBsYXkvdmVnYTIwX3BwdC5jDQo+IEBAIC0zMDM5LDYgKzMwMzksMjMgQEAgc3RhdGljIGlu
dCB2ZWdhMjBfc2V0X3RoZXJtYWxfZmFuX3RhYmxlKHN0cnVjdA0KPiBzbXVfY29udGV4dCAqc211
KQ0KPiAgCXJldHVybiByZXQ7DQo+ICB9DQo+IA0KPiArc3RhdGljIGludCB2ZWdhMjBfZ2V0X2Zh
bl9zcGVlZF9ycG0oc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsDQo+ICsJCQkJICAgIHVpbnQzMl90
ICpzcGVlZCkNCj4gK3sNCj4gKwlpbnQgcmV0Ow0KPiArDQo+ICsJcmV0ID0gc211X3NlbmRfc21j
X21zZyhzbXUsIFNNVV9NU0dfR2V0Q3VycmVudFJwbSk7DQo+ICsNCj4gKwlpZiAocmV0KSB7DQo+
ICsJCXByX2VycigiQXR0ZW1wdCB0byBnZXQgY3VycmVudCBSUE0gZnJvbSBTTUMgRmFpbGVkIVxu
Iik7DQo+ICsJCXJldHVybiByZXQ7DQo+ICsJfQ0KPiArDQo+ICsJc211X3JlYWRfc21jX2FyZyhz
bXUsIHNwZWVkKTsNCj4gKw0KPiArCXJldHVybiAwOw0KPiArfQ0KPiArDQo+ICBzdGF0aWMgaW50
IHZlZ2EyMF9nZXRfZmFuX3NwZWVkX3BlcmNlbnQoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsDQo+
ICAJCQkJCXVpbnQzMl90ICpzcGVlZCkNCj4gIHsNCj4gQEAgLTMwNDYsNyArMzA2Myw3IEBAIHN0
YXRpYyBpbnQgdmVnYTIwX2dldF9mYW5fc3BlZWRfcGVyY2VudChzdHJ1Y3QNCj4gc211X2NvbnRl
eHQgKnNtdSwNCj4gIAl1aW50MzJfdCBjdXJyZW50X3JwbSA9IDAsIHBlcmNlbnQgPSAwOw0KPiAg
CVBQVGFibGVfdCAqcHB0YWJsZSA9IHNtdS0+c211X3RhYmxlLmRyaXZlcl9wcHRhYmxlOw0KPiAN
Cj4gLQlyZXQgPSBzbXVfZ2V0X2N1cnJlbnRfcnBtKHNtdSwgJmN1cnJlbnRfcnBtKTsNCj4gKwly
ZXQgPSB2ZWdhMjBfZ2V0X2Zhbl9zcGVlZF9ycG0oc211LCAmY3VycmVudF9ycG0pOw0KPiAgCWlm
IChyZXQpDQo+ICAJCXJldHVybiByZXQ7DQo+IA0KPiBAQCAtMzMxNyw2ICszMzM0LDcgQEAgc3Rh
dGljIGNvbnN0IHN0cnVjdCBwcHRhYmxlX2Z1bmNzIHZlZ2EyMF9wcHRfZnVuY3MNCj4gPSB7DQo+
ICAJLmlzX2RwbV9ydW5uaW5nID0gdmVnYTIwX2lzX2RwbV9ydW5uaW5nLA0KPiAgCS5zZXRfdGhl
cm1hbF9mYW5fdGFibGUgPSB2ZWdhMjBfc2V0X3RoZXJtYWxfZmFuX3RhYmxlLA0KPiAgCS5nZXRf
ZmFuX3NwZWVkX3BlcmNlbnQgPSB2ZWdhMjBfZ2V0X2Zhbl9zcGVlZF9wZXJjZW50LA0KPiArCS5n
ZXRfZmFuX3NwZWVkX3JwbSA9IHZlZ2EyMF9nZXRfZmFuX3NwZWVkX3JwbSwNCj4gIAkuc2V0X3dh
dGVybWFya3NfdGFibGUgPSB2ZWdhMjBfc2V0X3dhdGVybWFya3NfdGFibGUsDQo+ICAJLmdldF90
aGVybWFsX3RlbXBlcmF0dXJlX3JhbmdlID0NCj4gdmVnYTIwX2dldF90aGVybWFsX3RlbXBlcmF0
dXJlX3JhbmdlDQo+ICB9Ow0KPiAtLQ0KPiAyLjIwLjENCj4gDQo+IF9fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fDQo+IGFtZC1nZnggbWFpbGluZyBsaXN0DQo+
IGFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnDQo+IGh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0
b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeA0KX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBsaXN0
cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9s
aXN0aW5mby9hbWQtZ2Z4
