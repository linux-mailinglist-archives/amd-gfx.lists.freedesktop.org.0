Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id A80C748FE9
	for <lists+amd-gfx@lfdr.de>; Mon, 17 Jun 2019 21:46:22 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1AA5489DDD;
	Mon, 17 Jun 2019 19:46:21 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-qt1-x835.google.com (mail-qt1-x835.google.com
 [IPv6:2607:f8b0:4864:20::835])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0A27289DB7
 for <amd-gfx@lists.freedesktop.org>; Mon, 17 Jun 2019 19:46:18 +0000 (UTC)
Received: by mail-qt1-x835.google.com with SMTP id n11so12289763qtl.5
 for <amd-gfx@lists.freedesktop.org>; Mon, 17 Jun 2019 12:46:17 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=iX+9KcKDTOpCVzGqAlmQuWA0Z0f4cXazI+69F8OE0Rg=;
 b=ifGCpPD5eUrJELw9tu+pCUuN7tCDX5/W1Y7Oem17k8Mq3Uk6svPruvx6Y+6d8/Lej6
 JKS9/X7rLADmUqz3RsZ4FrWx8ZMF/ymjqDT4PGuO1PJRmA2b5BJVNvSd8ZKyUJdg+kNK
 9YlaIvOcmnyEhZRG56CgfhUaDdFVQgQQgrPtPcIj30Qd8UVp2CRpmF1cg9w7zWZ2W0av
 j+KBOIK4bKxeWIEVGebC3Odh58fLKLUivuT1NG32FEY8pRVFYJ7h8RlxhNyry5NCMPlj
 xXEdS3EVlQqfUXFNj4X10oheVyy2sbJOdIJePQsGCPJF9+ZNKJ8ks2GHCYkj45sXI1Ge
 gOLQ==
X-Gm-Message-State: APjAAAUfcc0tdiszX8AvzfaTPWnxewEfsNLkD/6zWqDOISM6bkFRA32z
 YelL/+V3p/E0zZWh1fKdCMZwjK2LMeM=
X-Google-Smtp-Source: APXvYqwTNQZIGUy5P7/GtSI1l2zLo1Q4mpvyAAaRxe4ZpvSNeoMbrCQGCyxsfzqlop6Cmg4AVv1u/g==
X-Received: by 2002:aed:3e1d:: with SMTP id l29mr82574993qtf.175.1560800776765; 
 Mon, 17 Jun 2019 12:46:16 -0700 (PDT)
Received: from localhost.localdomain ([71.219.5.136])
 by smtp.gmail.com with ESMTPSA id u4sm6559420qkb.16.2019.06.17.12.46.15
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Mon, 17 Jun 2019 12:46:16 -0700 (PDT)
From: Alex Deucher <alexdeucher@gmail.com>
X-Google-Original-From: Alex Deucher <alexander.deucher@amd.com>
To: amd-gfx@lists.freedesktop.org
Subject: [PATCH 324/459] drm/amd/display: Add DCN2 OPTC
Date: Mon, 17 Jun 2019 14:44:25 -0500
Message-Id: <20190617194540.18497-25-alexander.deucher@amd.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190617194540.18497-1-alexander.deucher@amd.com>
References: <20190617194540.18497-1-alexander.deucher@amd.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=iX+9KcKDTOpCVzGqAlmQuWA0Z0f4cXazI+69F8OE0Rg=;
 b=GKEYCSz2zLNSLz/98pmDq8hK44/rhZhxXkfbTXiawyWbksFBRUKbEglMh3q/8vMDMc
 zwhAh0AMd9WhTxycop/AdPZpLJRet+GdaSrLqtbj/2TZ27EVC88TzulMcmc1lTqbW6ID
 FQH76O1wW40ZIMJvmi5+JBmH/SHnaR2QZUp4Ko6D0zFNqXZFjr/UBe8e3SBr3c7FdR2V
 VSThkmZ5OHyuCd3abwyZHGI1SX+GT/YDEIXdpiUlDk85x9IFB54yFElQ59ur5EENCkNx
 KCQ9BGlvv/aqGkgW8/GNAVdOIzYtgBpongt0ws/kUE9jCmYUcjMD091v1kv82L4R5eOc
 ai7w==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Alex Deucher <alexander.deucher@amd.com>,
 Harry Wentland <harry.wentland@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogSGFycnkgV2VudGxhbmQgPGhhcnJ5LndlbnRsYW5kQGFtZC5jb20+CgpBZGQgc3VwcG9y
dCBmb3IgcHJvZ3JhbW1pbmcgdGhlIERDTjIgT1BUQyAoT3V0cHV0IFRpbWluZyBDb250cm9sbGVy
KQoKSFcgQmxvY2tzOgoKICAgICstLS0tLS0tLSsKICAgIHwgIE9QVEMgIHwKICAgICstLS0tLS0t
LSsKICAgICAgICB8CiAgICAgICAgdgogICAgKy0tLS0tLS0tKyAgICAgICArLS0tLS0tLS0rCiAg
ICB8ICBESU8gICB8ICAgICAgIHwgIERDQ0cgIHwKICAgICstLS0tLS0tLSsgICAgICAgKy0tLS0t
LS0tKwoKU2lnbmVkLW9mZi1ieTogSGFycnkgV2VudGxhbmQgPGhhcnJ5LndlbnRsYW5kQGFtZC5j
b20+ClNpZ25lZC1vZmYtYnk6IEFsZXggRGV1Y2hlciA8YWxleGFuZGVyLmRldWNoZXJAYW1kLmNv
bT4KLS0tCiAuLi4vZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24xMC9kY24xMF9vcHRjLmggfCAg
MzMgKy0KIC4uLi9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIwX29wdGMuYyB8IDQx
NSArKysrKysrKysrKysrKysrKysKIC4uLi9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2Rj
bjIwX29wdGMuaCB8IDEwMyArKysrKwogLi4uL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvaW5jL2h3
L2h3X3NoYXJlZC5oIHwgIDQzICstCiAuLi4vYW1kL2Rpc3BsYXkvZGMvaW5jL2h3L3RpbWluZ19n
ZW5lcmF0b3IuaCAgfCAgMjIgKwogNSBmaWxlcyBjaGFuZ2VkLCA2MTQgaW5zZXJ0aW9ucygrKSwg
MiBkZWxldGlvbnMoLSkKIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vYW1kL2Rp
c3BsYXkvZGMvZGNuMjAvZGNuMjBfb3B0Yy5jCiBjcmVhdGUgbW9kZSAxMDA2NDQgZHJpdmVycy9n
cHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIwX29wdGMuaAoKZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24xMC9kY24xMF9vcHRjLmggYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMTAvZGNuMTBfb3B0Yy5oCmluZGV4IDQ0NGM1NmM4
MTA0Zi4uY2Q5YjY2MmZiZWE5IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3Bs
YXkvZGMvZGNuMTAvZGNuMTBfb3B0Yy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxh
eS9kYy9kY24xMC9kY24xMF9vcHRjLmgKQEAgLTg5LDcgKzg5LDYgQEAKIAlTUkkoT1RHX0dMT0JB
TF9DT05UUk9MMiwgT1RHLCBpbnN0KSxcCiAJU1JJKE9UR19UUklHQV9NQU5VQUxfVFJJRywgT1RH
LCBpbnN0KQogCi0KICNkZWZpbmUgVEdfQ09NTU9OX1JFR19MSVNUX0RDTjFfMChpbnN0KSBcCiAJ
VEdfQ09NTU9OX1JFR19MSVNUX0RDTihpbnN0KSxcCiAJU1JJKE9UR19URVNUX1BBVFRFUk5fUEFS
QU1FVEVSUywgT1RHLCBpbnN0KSxcCkBAIC0xNjQsNiArMTYzLDEzIEBAIHN0cnVjdCBkY25fb3B0
Y19yZWdpc3RlcnMgewogCXVpbnQzMl90IE9UR19DUkMwX1dJTkRPV0JfWF9DT05UUk9MOwogCXVp
bnQzMl90IE9UR19DUkMwX1dJTkRPV0JfWV9DT05UUk9MOwogCXVpbnQzMl90IEdTTF9TT1VSQ0Vf
U0VMRUNUOworI2lmZGVmIENPTkZJR19EUk1fQU1EX0RDX0RDTjJfMAorCXVpbnQzMl90IERXQl9T
T1VSQ0VfU0VMRUNUOworCXVpbnQzMl90IE9UR19EU0NfU1RBUlRfUE9TSVRJT047CisJdWludDMy
X3QgT1BUQ19EQVRBX0ZPUk1BVF9DT05UUk9MOworCXVpbnQzMl90IE9QVENfQllURVNfUEVSX1BJ
WEVMOworCXVpbnQzMl90IE9QVENfV0lEVEhfQ09OVFJPTDsKKyNlbmRpZgogfTsKIAogI2RlZmlu
ZSBUR19DT01NT05fTUFTS19TSF9MSVNUX0RDTihtYXNrX3NoKVwKQEAgLTQ0MiwxMCArNDQ4LDM1
IEBAIHN0cnVjdCBkY25fb3B0Y19yZWdpc3RlcnMgewogCXR5cGUgTUFOVUFMX0ZMT1dfQ09OVFJP
TDtcCiAJdHlwZSBNQU5VQUxfRkxPV19DT05UUk9MX1NFTDsKIAorI2lmZGVmIENPTkZJR19EUk1f
QU1EX0RDX0RDTjJfMAorCisjZGVmaW5lIFRHX1JFR19GSUVMRF9MSVNUKHR5cGUpIFwKKwlUR19S
RUdfRklFTERfTElTVF9EQ04xXzAodHlwZSlcCisJdHlwZSBNQVNURVJfVVBEQVRFX0xPQ0tfREJf
WDtcCisJdHlwZSBNQVNURVJfVVBEQVRFX0xPQ0tfREJfWTtcCisJdHlwZSBNQVNURVJfVVBEQVRF
X0xPQ0tfREJfRU47XAorCXR5cGUgR0xPQkFMX1VQREFURV9MT0NLX0VOO1wKKwl0eXBlIERJR19V
UERBVEVfTE9DQVRJT047XAorCXR5cGUgT1RHX0RTQ19TVEFSVF9QT1NJVElPTl9YO1wKKwl0eXBl
IE9UR19EU0NfU1RBUlRfUE9TSVRJT05fTElORV9OVU07XAorCXR5cGUgT1BUQ19OVU1fT0ZfSU5Q
VVRfU0VHTUVOVDtcCisJdHlwZSBPUFRDX1NFRzBfU1JDX1NFTDtcCisJdHlwZSBPUFRDX1NFRzFf
U1JDX1NFTDtcCisJdHlwZSBPUFRDX01FTV9TRUw7XAorCXR5cGUgT1BUQ19EU0NfTU9ERTtcCisJ
dHlwZSBPUFRDX0RTQ19CWVRFU19QRVJfUElYRUw7XAorCXR5cGUgT1BUQ19EU0NfU0xJQ0VfV0lE
VEg7XAorCXR5cGUgT1BUQ19TRUdNRU5UX1dJRFRIO1wKKwl0eXBlIE9QVENfRFdCMF9TT1VSQ0Vf
U0VMRUNUO1wKKwl0eXBlIE9QVENfRFdCMV9TT1VSQ0VfU0VMRUNUOworCisjZWxzZQogCiAjZGVm
aW5lIFRHX1JFR19GSUVMRF9MSVNUKHR5cGUpIFwKIAlUR19SRUdfRklFTERfTElTVF9EQ04xXzAo
dHlwZSkKIAorI2VuZGlmCisKIAogc3RydWN0IGRjbl9vcHRjX3NoaWZ0IHsKIAlUR19SRUdfRklF
TERfTElTVCh1aW50OF90KQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5
L2RjL2RjbjIwL2RjbjIwX29wdGMuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9k
Y24yMC9kY24yMF9vcHRjLmMKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAwMDAw
Li43MmQ3MmMzYTM1ZWUKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rp
c3BsYXkvZGMvZGNuMjAvZGNuMjBfb3B0Yy5jCkBAIC0wLDAgKzEsNDE1IEBACisvKgorICogQ29w
eXJpZ2h0IDIwMTItMTUgQWR2YW5jZWQgTWljcm8gRGV2aWNlcywgSW5jLgorICoKKyAqIFBlcm1p
c3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9i
dGFpbmluZyBhCisgKiBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1l
bnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLAorICogdG8gZGVhbCBpbiB0aGUgU29mdHdh
cmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbgorICog
dGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1
dGUsIHN1YmxpY2Vuc2UsCisgKiBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBh
bmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUKKyAqIFNvZnR3YXJlIGlzIGZ1cm5pc2hl
ZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6CisgKgorICog
VGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hh
bGwgYmUgaW5jbHVkZWQgaW4KKyAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMg
b2YgdGhlIFNvZnR3YXJlLgorICoKKyAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMi
LCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCisgKiBJTVBMSUVELCBJ
TkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJ
TElUWSwKKyAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5H
RU1FTlQuICBJTiBOTyBFVkVOVCBTSEFMTAorICogVEhFIENPUFlSSUdIVCBIT0xERVIoUykgT1Ig
QVVUSE9SKFMpIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SCisgKiBPVEhFUiBM
SUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVS
V0lTRSwKKyAqIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUg
U09GVFdBUkUgT1IgVEhFIFVTRSBPUgorICogT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJF
LgorICoKKyAqIEF1dGhvcnM6IEFNRAorICoKKyAqLworCisjaW5jbHVkZSAicmVnX2hlbHBlci5o
IgorI2luY2x1ZGUgImRjbjIwX29wdGMuaCIKKyNpbmNsdWRlICJkYy5oIgorCisjZGVmaW5lIFJF
RyhyZWcpXAorCW9wdGMxLT50Z19yZWdzLT5yZWcKKworI2RlZmluZSBDVFggXAorCW9wdGMxLT5i
YXNlLmN0eAorCisjdW5kZWYgRk4KKyNkZWZpbmUgRk4ocmVnX25hbWUsIGZpZWxkX25hbWUpIFwK
KwlvcHRjMS0+dGdfc2hpZnQtPmZpZWxkX25hbWUsIG9wdGMxLT50Z19tYXNrLT5maWVsZF9uYW1l
CisKKy8qKgorICogRW5hYmxlIENSVEMKKyAqIEVuYWJsZSBDUlRDIC0gY2FsbCBBU0lDIENvbnRy
b2wgT2JqZWN0IHRvIGVuYWJsZSBUaW1pbmcgZ2VuZXJhdG9yLgorICovCitib29sIG9wdGMyX2Vu
YWJsZV9jcnRjKHN0cnVjdCB0aW1pbmdfZ2VuZXJhdG9yICpvcHRjKQoreworCS8qIFRPRE8gRlBH
QSB3YWl0IGZvciBhbnN3ZXIKKwkgKiBPVEdfTUFTVEVSX1VQREFURV9NT0RFICE9IENSVENfTUFT
VEVSX1VQREFURV9NT0RFCisJICogT1RHX01BU1RFUl9VUERBVEVfTE9DSyAhPSBDUlRDX01BU1RF
Ul9VUERBVEVfTE9DSworCSAqLworCXN0cnVjdCBvcHRjICpvcHRjMSA9IERDTjEwVEdfRlJPTV9U
RyhvcHRjKTsKKworCS8qIG9wcCBpbnN0YW5jZSBmb3IgT1RHLiBGb3IgRENOMS4wLCBPRE0gaXMg
cmVtb2VkLgorCSAqIE9QUCBhbmQgT1BUQyBzaG91bGQgMToxIG1hcHBpbmcKKwkgKi8KKwlSRUdf
VVBEQVRFKE9QVENfREFUQV9TT1VSQ0VfU0VMRUNULAorCQkJT1BUQ19TRUcwX1NSQ19TRUwsIG9w
dGMtPmluc3QpOworCisJLyogVlRHIGVuYWJsZSBmaXJzdCBpcyBmb3IgSFcgd29ya2Fyb3VuZCAq
LworCVJFR19VUERBVEUoQ09OVFJPTCwKKwkJCVZURzBfRU5BQkxFLCAxKTsKKworCS8qIEVuYWJs
ZSBDUlRDICovCisJUkVHX1VQREFURV8yKE9UR19DT05UUk9MLAorCQkJT1RHX0RJU0FCTEVfUE9J
TlRfQ05UTCwgMywKKwkJCU9UR19NQVNURVJfRU4sIDEpOworCisJcmV0dXJuIHRydWU7Cit9CisK
Ky8qKgorICogRFJSIGRvdWJsZSBidWZmZXJpbmcgY29udHJvbCB0byBzZWxlY3QgYnVmZmVyIHBv
aW50CisgKiBmb3IgVl9UT1RBTCwgSF9UT1RBTCwgVlRPVEFMX01JTiwgVlRPVEFMX01BWCwgVlRP
VEFMX01JTl9TRUwgYW5kIFZUT1RBTF9NQVhfU0VMIHJlZ2lzdGVycworICogT3B0aW9uczogYW55
dGltZSwgc3RhcnQgb2YgZnJhbWUsIGRwIHN0YXJ0IG9mIGZyYW1lIChyYW5nZSB0aW1pbmcpCisg
Ki8KK3ZvaWQgb3B0YzJfc2V0X3RpbWluZ19kYl9tb2RlKHN0cnVjdCB0aW1pbmdfZ2VuZXJhdG9y
ICpvcHRjLCBib29sIGVuYWJsZSkKK3sKKwlzdHJ1Y3Qgb3B0YyAqb3B0YzEgPSBEQ04xMFRHX0ZS
T01fVEcob3B0Yyk7CisKKwl1aW50MzJfdCBibGFua19kYXRhX2RvdWJsZV9idWZmZXJfZW5hYmxl
ID0gZW5hYmxlID8gMSA6IDA7CisKKwlSRUdfVVBEQVRFKE9UR19ET1VCTEVfQlVGRkVSX0NPTlRS
T0wsCisJCU9UR19SQU5HRV9USU1JTkdfREJVRl9VUERBVEVfTU9ERSwgYmxhbmtfZGF0YV9kb3Vi
bGVfYnVmZmVyX2VuYWJsZSk7Cit9CisKKy8qKgorICpGb3IgdGhlIGJlbG93LCBJJ20gbm90IHN1
cmUgaG93IHlvdXIgR1NMIHBhcmFtZXRlcnMgYXJlIHN0b3JlZCBpbiB5b3VyIGVudiwKKyAqIHNv
IEkgd2lsbCBhc3N1bWUgYSBnc2xfcGFyYW1zIHN0cnVjdCBmb3Igbm93CisgKi8KK3ZvaWQgb3B0
YzJfc2V0X2dzbChzdHJ1Y3QgdGltaW5nX2dlbmVyYXRvciAqb3B0YywKKwkJICAgY29uc3Qgc3Ry
dWN0IGdzbF9wYXJhbXMgKnBhcmFtcykKK3sKKwlzdHJ1Y3Qgb3B0YyAqb3B0YzEgPSBEQ04xMFRH
X0ZST01fVEcob3B0Yyk7CisKKy8qKgorICogVGhlcmUgYXJlIChNQVhfT1BUQysxKS8yIGdzbCBn
cm91cHMgYXZhaWxhYmxlIGZvciB1c2UuCisgKiBJbiBlYWNoIGdyb3VwIChhc3NpZ24gYW4gT1RH
IHRvIGEgZ3JvdXAgYnkgc2V0dGluZyBPVEdfR1NMWF9FTiA9IDEsCisgKiBzZXQgb25lIG9mIHRo
ZSBPVEdzIHRvIGJlIHRoZSBtYXN0ZXIgKE9UR19HU0xfTUFTVEVSX0VOID0gMSkgYW5kIHRoZSBy
ZXN0IGFyZSBzbGF2ZXMuCisgKi8KKwlSRUdfVVBEQVRFXzUoT1RHX0dTTF9DT05UUk9MLAorCQlP
VEdfR1NMMF9FTiwgcGFyYW1zLT5nc2wwX2VuLAorCQlPVEdfR1NMMV9FTiwgcGFyYW1zLT5nc2wx
X2VuLAorCQlPVEdfR1NMMl9FTiwgcGFyYW1zLT5nc2wyX2VuLAorCQlPVEdfR1NMX01BU1RFUl9F
TiwgcGFyYW1zLT5nc2xfbWFzdGVyX2VuLAorCQlPVEdfR1NMX01BU1RFUl9NT0RFLCBwYXJhbXMt
PmdzbF9tYXN0ZXJfbW9kZSk7Cit9CisKKworLyogVXNlIHRoZSBnc2wgYWxsb3cgZmxpcCBhcyB0
aGUgbWFzdGVyIHVwZGF0ZSBsb2NrICovCit2b2lkIG9wdGMyX3VzZV9nc2xfYXNfbWFzdGVyX3Vw
ZGF0ZV9sb2NrKHN0cnVjdCB0aW1pbmdfZ2VuZXJhdG9yICpvcHRjLAorCQkgICBjb25zdCBzdHJ1
Y3QgZ3NsX3BhcmFtcyAqcGFyYW1zKQoreworCXN0cnVjdCBvcHRjICpvcHRjMSA9IERDTjEwVEdf
RlJPTV9URyhvcHRjKTsKKworCVJFR19VUERBVEUoT1RHX0dTTF9DT05UUk9MLAorCQlPVEdfTUFT
VEVSX1VQREFURV9MT0NLX0dTTF9FTiwgcGFyYW1zLT5tYXN0ZXJfdXBkYXRlX2xvY2tfZ3NsX2Vu
KTsKK30KKworLyogWW91IGNhbiBjb250cm9sIHRoZSBHU0wgdGltaW5nIGJ5IGxpbWl0aW5nIEdT
TCB0byBhIHdpbmRvdyAoWCxZKSAqLwordm9pZCBvcHRjMl9zZXRfZ3NsX3dpbmRvdyhzdHJ1Y3Qg
dGltaW5nX2dlbmVyYXRvciAqb3B0YywKKwkJICAgY29uc3Qgc3RydWN0IGdzbF9wYXJhbXMgKnBh
cmFtcykKK3sKKwlzdHJ1Y3Qgb3B0YyAqb3B0YzEgPSBEQ04xMFRHX0ZST01fVEcob3B0Yyk7CisK
KwlSRUdfU0VUXzIoT1RHX0dTTF9XSU5ET1dfWCwgMCwKKwkJT1RHX0dTTF9XSU5ET1dfU1RBUlRf
WCwgcGFyYW1zLT5nc2xfd2luZG93X3N0YXJ0X3gsCisJCU9UR19HU0xfV0lORE9XX0VORF9YLCBw
YXJhbXMtPmdzbF93aW5kb3dfZW5kX3gpOworCVJFR19TRVRfMihPVEdfR1NMX1dJTkRPV19ZLCAw
LAorCQlPVEdfR1NMX1dJTkRPV19TVEFSVF9ZLCBwYXJhbXMtPmdzbF93aW5kb3dfc3RhcnRfeSwK
KwkJT1RHX0dTTF9XSU5ET1dfRU5EX1ksIHBhcmFtcy0+Z3NsX3dpbmRvd19lbmRfeSk7Cit9CisK
Ky8qKgorICogVnVwZGF0ZSBrZWVwb3V0IGNhbiBiZSBzZXQgdG8gYSB3aW5kb3cgdG8gYmxvY2sg
dGhlIHVwZGF0ZSBsb2NrIGZvciB0aGF0IHBpcGUgZnJvbSBjaGFuZ2luZy4KKyAqIFN0YXJ0IG9m
ZnNldCBiZWdpbnMgd2l0aCB2c3RhcnR1cCBhbmQgZ29lcyBmb3IgeCBudW1iZXIgb2YgY2xvY2tz
LAorICogZW5kIG9mZnNldCBzdGFydHMgZnJvbSBlbmQgb2YgdnVwZGF0ZSB0byB4IG51bWJlciBv
ZiBjbG9ja3MuCisgKi8KK3ZvaWQgb3B0YzJfc2V0X3Z1cGRhdGVfa2VlcG91dChzdHJ1Y3QgdGlt
aW5nX2dlbmVyYXRvciAqb3B0YywKKwkJICAgY29uc3Qgc3RydWN0IHZ1cGRhdGVfa2VlcG91dF9w
YXJhbXMgKnBhcmFtcykKK3sKKwlzdHJ1Y3Qgb3B0YyAqb3B0YzEgPSBEQ04xMFRHX0ZST01fVEco
b3B0Yyk7CisKKwlSRUdfU0VUXzMoT1RHX1ZVUERBVEVfS0VFUE9VVCwgMCwKKwkJTUFTVEVSX1VQ
REFURV9MT0NLX1ZVUERBVEVfS0VFUE9VVF9TVEFSVF9PRkZTRVQsIHBhcmFtcy0+c3RhcnRfb2Zm
c2V0LAorCQlNQVNURVJfVVBEQVRFX0xPQ0tfVlVQREFURV9LRUVQT1VUX0VORF9PRkZTRVQsIHBh
cmFtcy0+ZW5kX29mZnNldCwKKwkJT1RHX01BU1RFUl9VUERBVEVfTE9DS19WVVBEQVRFX0tFRVBP
VVRfRU4sIHBhcmFtcy0+ZW5hYmxlKTsKK30KKwordm9pZCBvcHRjMl9zZXRfZ3NsX3NvdXJjZV9z
ZWxlY3QoCisJCXN0cnVjdCB0aW1pbmdfZ2VuZXJhdG9yICpvcHRjLAorCQlpbnQgZ3JvdXBfaWR4
LAorCQl1aW50MzJfdCBnc2xfcmVhZHlfc2lnbmFsKQoreworCXN0cnVjdCBvcHRjICpvcHRjMSA9
IERDTjEwVEdfRlJPTV9URyhvcHRjKTsKKworCXN3aXRjaCAoZ3JvdXBfaWR4KSB7CisJY2FzZSAx
OgorCQlSRUdfVVBEQVRFKEdTTF9TT1VSQ0VfU0VMRUNULCBHU0wwX1JFQURZX1NPVVJDRV9TRUws
IGdzbF9yZWFkeV9zaWduYWwpOworCQlicmVhazsKKwljYXNlIDI6CisJCVJFR19VUERBVEUoR1NM
X1NPVVJDRV9TRUxFQ1QsIEdTTDFfUkVBRFlfU09VUkNFX1NFTCwgZ3NsX3JlYWR5X3NpZ25hbCk7
CisJCWJyZWFrOworCWNhc2UgMzoKKwkJUkVHX1VQREFURShHU0xfU09VUkNFX1NFTEVDVCwgR1NM
Ml9SRUFEWV9TT1VSQ0VfU0VMLCBnc2xfcmVhZHlfc2lnbmFsKTsKKwkJYnJlYWs7CisJZGVmYXVs
dDoKKwkJYnJlYWs7CisJfQorfQorCisKKy8qKgorICogUFRJIGkgdGhpbmsgaXMgYWxyZWFkeSBk
b25lIHNvbWV3aGVyZSBlbHNlIGZvciAya2EKKyAqIChvcHA/LCBwbGVhc2UgZG91YmxlIGNoZWNr
LgorICogT1BUQyBzaWRlIG9ubHkgaGFzIDEgcmVnaXN0ZXIgdG8gc2V0IGZvciBQVElfRU5BQkxF
KQorICovCisKK3ZvaWQgb3B0YzJfc2V0X29kbV9ieXBhc3Moc3RydWN0IHRpbWluZ19nZW5lcmF0
b3IgKm9wdGMsCisJCWNvbnN0IHN0cnVjdCBkY19jcnRjX3RpbWluZyAqZGNfY3J0Y190aW1pbmcp
Cit7CisJc3RydWN0IG9wdGMgKm9wdGMxID0gRENOMTBUR19GUk9NX1RHKG9wdGMpOworCXVpbnQz
Ml90IGhfZGl2XzIgPSAwOworCisJb3B0YzEtPmNvbWJfb3BwX2lkID0gMHhmOworCVJFR19TRVRf
MyhPUFRDX0RBVEFfU09VUkNFX1NFTEVDVCwgMCwKKwkJCU9QVENfTlVNX09GX0lOUFVUX1NFR01F
TlQsIDAsCisJCQlPUFRDX1NFRzBfU1JDX1NFTCwgb3B0Yy0+aW5zdCwKKwkJCU9QVENfU0VHMV9T
UkNfU0VMLCAweGYpOworCVJFR19XUklURShPVEdfSF9USU1JTkdfQ05UTCwgMCk7CisKKwloX2Rp
dl8yID0gb3B0YzFfaXNfdHdvX3BpeGVsc19wZXJfY29udGFpbnRlcihkY19jcnRjX3RpbWluZyk7
CisJUkVHX1VQREFURShPVEdfSF9USU1JTkdfQ05UTCwKKwkJCU9UR19IX1RJTUlOR19ESVZfQlky
LCBoX2Rpdl8yKTsKKwlSRUdfU0VUKE9QVENfTUVNT1JZX0NPTkZJRywgMCwKKwkJCU9QVENfTUVN
X1NFTCwgMCk7Cit9CisKK3ZvaWQgb3B0YzJfc2V0X29kbV9jb21iaW5lKHN0cnVjdCB0aW1pbmdf
Z2VuZXJhdG9yICpvcHRjLCBpbnQgY29tYmluZV9vcHBfaWQsIGludCBtcGNjX2hhY3RpdmUpCit7
CisJc3RydWN0IG9wdGMgKm9wdGMxID0gRENOMTBUR19GUk9NX1RHKG9wdGMpOworCS8qIDIgcGll
Y2VzIG9mIG1lbW9yeSByZXF1aXJlZCBmb3IgdXAgdG8gNTEyMCBkaXNwbGF5cywgNCBmb3IgdXAg
dG8gODE5MiAqLworCWludCBtZW1vcnlfbWFzayA9IG1wY2NfaGFjdGl2ZSA8PSAyNTYwID8gMHgz
IDogMHhmOworCisJLyogVE9ETzogSW4gcHNldWRvY29kZSBidXQgZG9lcyBub3QgYWZmZWN0IG1h
eGltdXMsIGRlbGV0ZSBjb21tZW50IGlmIHdlIGRvbnQgbmVlZCBvbiBhc2ljCisJICogUkVHX1NF
VChPVEdfR0xPQkFMX0NPTlRST0wyLCAwLCBHTE9CQUxfVVBEQVRFX0xPQ0tfRU4sIDEpOworCSAq
IFByb2dyYW0gT1RHIHJlZ2lzdGVyIE1BU1RFUl9VUERBVEVfTE9DS19EQl9YL1kgdG8gdGhlIHBv
c2l0aW9uIGJlZm9yZSBEUCBmcmFtZSBzdGFydAorCSAqIFJFR19TRVRfMihPVEdfR0xPQkFMX0NP
TlRST0wxLCAwLAorCSAqCQlNQVNURVJfVVBEQVRFX0xPQ0tfREJfWCwgMTYwLAorCSAqCQlNQVNU
RVJfVVBEQVRFX0xPQ0tfREJfWSwgMjQwKTsKKwkgKi8KKwlpZiAoUkVHKE9QVENfTUVNT1JZX0NP
TkZJRykpCisJCVJFR19TRVQoT1BUQ19NRU1PUllfQ09ORklHLCAwLAorCQkJT1BUQ19NRU1fU0VM
LCBtZW1vcnlfbWFzayA8PCAob3B0Yy0+aW5zdCAqIDQpKTsKKworCVJFR19TRVRfMyhPUFRDX0RB
VEFfU09VUkNFX1NFTEVDVCwgMCwKKwkJCU9QVENfTlVNX09GX0lOUFVUX1NFR01FTlQsIDEsCisJ
CQlPUFRDX1NFRzBfU1JDX1NFTCwgb3B0Yy0+aW5zdCwKKwkJCU9QVENfU0VHMV9TUkNfU0VMLCBj
b21iaW5lX29wcF9pZCk7CisKKwlSRUdfVVBEQVRFKE9QVENfV0lEVEhfQ09OVFJPTCwKKwkJCU9Q
VENfU0VHTUVOVF9XSURUSCwgbXBjY19oYWN0aXZlKTsKKworCVJFR19TRVQoT1RHX0hfVElNSU5H
X0NOVEwsIDAsIE9UR19IX1RJTUlOR19ESVZfQlkyLCAxKTsKKwlvcHRjMS0+Y29tYl9vcHBfaWQg
PSBjb21iaW5lX29wcF9pZDsKK30KKwordm9pZCBvcHRjMl9nZXRfb3B0Y19zb3VyY2Uoc3RydWN0
IHRpbWluZ19nZW5lcmF0b3IgKm9wdGMsCisJCXVpbnQzMl90ICpudW1fb2Zfc3JjX29wcCwKKwkJ
dWludDMyX3QgKnNyY19vcHBfaWRfMCwKKwkJdWludDMyX3QgKnNyY19vcHBfaWRfMSkKK3sKKwl1
aW50MzJfdCBudW1fb2ZfaW5wdXRfc2VnbWVudHM7CisJc3RydWN0IG9wdGMgKm9wdGMxID0gRENO
MTBUR19GUk9NX1RHKG9wdGMpOworCisJUkVHX0dFVF8zKE9QVENfREFUQV9TT1VSQ0VfU0VMRUNU
LAorCQkJT1BUQ19OVU1fT0ZfSU5QVVRfU0VHTUVOVCwgJm51bV9vZl9pbnB1dF9zZWdtZW50cywK
KwkJCU9QVENfU0VHMF9TUkNfU0VMLCBzcmNfb3BwX2lkXzAsCisJCQlPUFRDX1NFRzFfU1JDX1NF
TCwgc3JjX29wcF9pZF8xKTsKKworCWlmIChudW1fb2ZfaW5wdXRfc2VnbWVudHMgPT0gMSkKKwkJ
Km51bV9vZl9zcmNfb3BwID0gMjsKKwllbHNlCisJCSpudW1fb2Zfc3JjX29wcCA9IDE7Cit9CisK
K3ZvaWQgb3B0YzJfc2V0X2R3Yl9zb3VyY2Uoc3RydWN0IHRpbWluZ19nZW5lcmF0b3IgKm9wdGMs
CisJCXVpbnQzMl90IGR3Yl9waXBlX2luc3QpCit7CisJc3RydWN0IG9wdGMgKm9wdGMxID0gRENO
MTBUR19GUk9NX1RHKG9wdGMpOworCisJaWYgKGR3Yl9waXBlX2luc3QgPT0gMCkKKwkJUkVHX1VQ
REFURShEV0JfU09VUkNFX1NFTEVDVCwKKwkJCQlPUFRDX0RXQjBfU09VUkNFX1NFTEVDVCwgb3B0
Yy0+aW5zdCk7CisJZWxzZSBpZiAoZHdiX3BpcGVfaW5zdCA9PSAxKQorCQlSRUdfVVBEQVRFKERX
Ql9TT1VSQ0VfU0VMRUNULAorCQkJCU9QVENfRFdCMV9TT1VSQ0VfU0VMRUNULCBvcHRjLT5pbnN0
KTsKK30KKwordm9pZCBvcHRjMl90cmlwbGVidWZmZXJfbG9jayhzdHJ1Y3QgdGltaW5nX2dlbmVy
YXRvciAqb3B0YykKK3sKKwlzdHJ1Y3Qgb3B0YyAqb3B0YzEgPSBEQ04xMFRHX0ZST01fVEcob3B0
Yyk7CisKKwlSRUdfU0VUKE9UR19HTE9CQUxfQ09OVFJPTDAsIDAsCisJCU9UR19NQVNURVJfVVBE
QVRFX0xPQ0tfU0VMLCBvcHRjLT5pbnN0KTsKKworCVJFR19TRVQoT1RHX1ZVUERBVEVfS0VFUE9V
VCwgMCwKKwkJT1RHX01BU1RFUl9VUERBVEVfTE9DS19WVVBEQVRFX0tFRVBPVVRfRU4sIDEpOwor
CisJUkVHX1NFVChPVEdfTUFTVEVSX1VQREFURV9MT0NLLCAwLAorCQlPVEdfTUFTVEVSX1VQREFU
RV9MT0NLLCAxKTsKKworCWlmIChvcHRjLT5jdHgtPmRjZV9lbnZpcm9ubWVudCAhPSBEQ0VfRU5W
X0ZQR0FfTUFYSU1VUykKKwkJUkVHX1dBSVQoT1RHX01BU1RFUl9VUERBVEVfTE9DSywKKwkJCQlV
UERBVEVfTE9DS19TVEFUVVMsIDEsCisJCQkJMSwgMTApOworfQorCit2b2lkIG9wdGMyX3RyaXBs
ZWJ1ZmZlcl91bmxvY2soc3RydWN0IHRpbWluZ19nZW5lcmF0b3IgKm9wdGMpCit7CisJc3RydWN0
IG9wdGMgKm9wdGMxID0gRENOMTBUR19GUk9NX1RHKG9wdGMpOworCisJUkVHX1NFVChPVEdfTUFT
VEVSX1VQREFURV9MT0NLLCAwLAorCQlPVEdfTUFTVEVSX1VQREFURV9MT0NLLCAwKTsKKworCVJF
R19TRVQoT1RHX1ZVUERBVEVfS0VFUE9VVCwgMCwKKwkJT1RHX01BU1RFUl9VUERBVEVfTE9DS19W
VVBEQVRFX0tFRVBPVVRfRU4sIDApOworCit9CisKK3ZvaWQgb3B0YzJfc2V0dXBfZ2xvYmFsX2xv
Y2soc3RydWN0IHRpbWluZ19nZW5lcmF0b3IgKm9wdGMpCit7CisJc3RydWN0IG9wdGMgKm9wdGMx
ID0gRENOMTBUR19GUk9NX1RHKG9wdGMpOworCXVpbnQzMl90IHZfYmxhbmtfc3RhcnQgPSAwOwor
CXVpbnQzMl90IGhfYmxhbmtfc3RhcnQgPSAwLCBoX3RvdGFsID0gMDsKKworCVJFR19TRVQoT1RH
X0dMT0JBTF9DT05UUk9MMiwgMCwgRElHX1VQREFURV9MT0NBVElPTiwgMjApOworCisJUkVHX0dF
VChPVEdfVl9CTEFOS19TVEFSVF9FTkQsIE9UR19WX0JMQU5LX1NUQVJULCAmdl9ibGFua19zdGFy
dCk7CisKKwlSRUdfR0VUKE9UR19IX0JMQU5LX1NUQVJUX0VORCwgT1RHX0hfQkxBTktfU1RBUlQs
ICZoX2JsYW5rX3N0YXJ0KTsKKworCVJFR19HRVQoT1RHX0hfVE9UQUwsIE9UR19IX1RPVEFMLCAm
aF90b3RhbCk7CisJUkVHX1VQREFURV8yKE9UR19HTE9CQUxfQ09OVFJPTDEsCisJCQlNQVNURVJf
VVBEQVRFX0xPQ0tfREJfWCwKKwkJCTAsCisJCQlNQVNURVJfVVBEQVRFX0xPQ0tfREJfWSwKKwkJ
CXZfYmxhbmtfc3RhcnQgLSAxKTsKK30KKwordm9pZCBvcHRjMl9sb2NrX2dsb2JhbChzdHJ1Y3Qg
dGltaW5nX2dlbmVyYXRvciAqb3B0YykKK3sKKwlzdHJ1Y3Qgb3B0YyAqb3B0YzEgPSBEQ04xMFRH
X0ZST01fVEcob3B0Yyk7CisKKwlSRUdfU0VUKE9UR19HTE9CQUxfQ09OVFJPTDEsIDAsIE1BU1RF
Ul9VUERBVEVfTE9DS19EQl9FTiwgMSk7CisKKwlSRUdfVVBEQVRFKE9UR19HTE9CQUxfQ09OVFJP
TDIsIEdMT0JBTF9VUERBVEVfTE9DS19FTiwgMSk7CisKKwlSRUdfU0VUKE9UR19HTE9CQUxfQ09O
VFJPTDAsIDAsCisJCQlPVEdfTUFTVEVSX1VQREFURV9MT0NLX1NFTCwgb3B0Yy0+aW5zdCk7CisJ
UkVHX1NFVChPVEdfTUFTVEVSX1VQREFURV9MT0NLLCAwLAorCQkJT1RHX01BU1RFUl9VUERBVEVf
TE9DSywgMSk7CisKKwkvKiBTaG91bGQgYmUgZmFzdCwgc3RhdHVzIGRvZXMgbm90IHVwZGF0ZSBv
biBtYXhpbXVzICovCisJaWYgKG9wdGMtPmN0eC0+ZGNlX2Vudmlyb25tZW50ICE9IERDRV9FTlZf
RlBHQV9NQVhJTVVTKQorCQlSRUdfV0FJVChPVEdfTUFTVEVSX1VQREFURV9MT0NLLAorCQkJCVVQ
REFURV9MT0NLX1NUQVRVUywgMSwKKwkJCQkxLCAxMCk7Cit9CisKK3ZvaWQgb3B0YzJfbG9jayhz
dHJ1Y3QgdGltaW5nX2dlbmVyYXRvciAqb3B0YykKK3sKKwlzdHJ1Y3Qgb3B0YyAqb3B0YzEgPSBE
Q04xMFRHX0ZST01fVEcob3B0Yyk7CisKKwlSRUdfU0VUKE9UR19HTE9CQUxfQ09OVFJPTDEsIDAs
IE1BU1RFUl9VUERBVEVfTE9DS19EQl9FTiwgMCk7CisKKwlSRUdfVVBEQVRFKE9UR19HTE9CQUxf
Q09OVFJPTDIsIEdMT0JBTF9VUERBVEVfTE9DS19FTiwgMCk7CisKKwlSRUdfU0VUKE9UR19HTE9C
QUxfQ09OVFJPTDAsIDAsCisJCQlPVEdfTUFTVEVSX1VQREFURV9MT0NLX1NFTCwgb3B0Yy0+aW5z
dCk7CisJUkVHX1NFVChPVEdfTUFTVEVSX1VQREFURV9MT0NLLCAwLAorCQkJT1RHX01BU1RFUl9V
UERBVEVfTE9DSywgMSk7CisKKwkvKiBTaG91bGQgYmUgZmFzdCwgc3RhdHVzIGRvZXMgbm90IHVw
ZGF0ZSBvbiBtYXhpbXVzICovCisJaWYgKG9wdGMtPmN0eC0+ZGNlX2Vudmlyb25tZW50ICE9IERD
RV9FTlZfRlBHQV9NQVhJTVVTKQorCQlSRUdfV0FJVChPVEdfTUFTVEVSX1VQREFURV9MT0NLLAor
CQkJCVVQREFURV9MT0NLX1NUQVRVUywgMSwKKwkJCQkxLCAxMCk7Cit9CisKK3N0YXRpYyBzdHJ1
Y3QgdGltaW5nX2dlbmVyYXRvcl9mdW5jcyBkY24yMF90Z19mdW5jcyA9IHsKKwkJLnZhbGlkYXRl
X3RpbWluZyA9IG9wdGMxX3ZhbGlkYXRlX3RpbWluZywKKwkJLnByb2dyYW1fdGltaW5nID0gb3B0
YzFfcHJvZ3JhbV90aW1pbmcsCisJCS5zZXR1cF92ZXJ0aWNhbF9pbnRlcnJ1cHQwID0gb3B0YzFf
c2V0dXBfdmVydGljYWxfaW50ZXJydXB0MCwKKwkJLnNldHVwX3ZlcnRpY2FsX2ludGVycnVwdDEg
PSBvcHRjMV9zZXR1cF92ZXJ0aWNhbF9pbnRlcnJ1cHQxLAorCQkuc2V0dXBfdmVydGljYWxfaW50
ZXJydXB0MiA9IG9wdGMxX3NldHVwX3ZlcnRpY2FsX2ludGVycnVwdDIsCisJCS5wcm9ncmFtX2ds
b2JhbF9zeW5jID0gb3B0YzFfcHJvZ3JhbV9nbG9iYWxfc3luYywKKwkJLmVuYWJsZV9jcnRjID0g
b3B0YzJfZW5hYmxlX2NydGMsCisJCS5kaXNhYmxlX2NydGMgPSBvcHRjMV9kaXNhYmxlX2NydGMs
CisJCS8qIHVzZWQgYnkgZW5hYmxlX3RpbWluZ19zeW5jaHJvbml6YXRpb24uIE5vdCBuZWVkIGZv
ciBGUEdBICovCisJCS5pc19jb3VudGVyX21vdmluZyA9IG9wdGMxX2lzX2NvdW50ZXJfbW92aW5n
LAorCQkuZ2V0X3Bvc2l0aW9uID0gb3B0YzFfZ2V0X3Bvc2l0aW9uLAorCQkuZ2V0X2ZyYW1lX2Nv
dW50ID0gb3B0YzFfZ2V0X3ZibGFua19jb3VudGVyLAorCQkuZ2V0X3NjYW5vdXRwb3MgPSBvcHRj
MV9nZXRfY3J0Y19zY2Fub3V0cG9zLAorCQkuZ2V0X290Z19hY3RpdmVfc2l6ZSA9IG9wdGMxX2dl
dF9vdGdfYWN0aXZlX3NpemUsCisJCS5zZXRfZWFybHlfY29udHJvbCA9IG9wdGMxX3NldF9lYXJs
eV9jb250cm9sLAorCQkvKiB1c2VkIGJ5IGVuYWJsZV90aW1pbmdfc3luY2hyb25pemF0aW9uLiBO
b3QgbmVlZCBmb3IgRlBHQSAqLworCQkud2FpdF9mb3Jfc3RhdGUgPSBvcHRjMV93YWl0X2Zvcl9z
dGF0ZSwKKwkJLnNldF9ibGFuayA9IG9wdGMxX3NldF9ibGFuaywKKwkJLmlzX2JsYW5rZWQgPSBv
cHRjMV9pc19ibGFua2VkLAorCQkuc2V0X2JsYW5rX2NvbG9yID0gb3B0YzFfcHJvZ3JhbV9ibGFu
a19jb2xvciwKKwkJLmVuYWJsZV9yZXNldF90cmlnZ2VyID0gb3B0YzFfZW5hYmxlX3Jlc2V0X3Ry
aWdnZXIsCisJCS5lbmFibGVfY3J0Y19yZXNldCA9IG9wdGMxX2VuYWJsZV9jcnRjX3Jlc2V0LAor
CQkuZGlkX3RyaWdnZXJlZF9yZXNldF9vY2N1ciA9IG9wdGMxX2RpZF90cmlnZ2VyZWRfcmVzZXRf
b2NjdXIsCisJCS50cmlwbGVidWZmZXJfbG9jayA9IG9wdGMyX3RyaXBsZWJ1ZmZlcl9sb2NrLAor
CQkudHJpcGxlYnVmZmVyX3VubG9jayA9IG9wdGMyX3RyaXBsZWJ1ZmZlcl91bmxvY2ssCisJCS5k
aXNhYmxlX3Jlc2V0X3RyaWdnZXIgPSBvcHRjMV9kaXNhYmxlX3Jlc2V0X3RyaWdnZXIsCisJCS5s
b2NrID0gb3B0YzJfbG9jaywKKwkJLnVubG9jayA9IG9wdGMxX3VubG9jaywKKwkJLmxvY2tfZ2xv
YmFsID0gb3B0YzJfbG9ja19nbG9iYWwsCisJCS5zZXR1cF9nbG9iYWxfbG9jayA9IG9wdGMyX3Nl
dHVwX2dsb2JhbF9sb2NrLAorCQkuZW5hYmxlX29wdGNfY2xvY2sgPSBvcHRjMV9lbmFibGVfb3B0
Y19jbG9jaywKKwkJLnNldF9kcnIgPSBvcHRjMV9zZXRfZHJyLAorCQkuc2V0X3N0YXRpY19zY3Jl
ZW5fY29udHJvbCA9IG9wdGMxX3NldF9zdGF0aWNfc2NyZWVuX2NvbnRyb2wsCisJCS5wcm9ncmFt
X3N0ZXJlbyA9IG9wdGMxX3Byb2dyYW1fc3RlcmVvLAorCQkuaXNfc3RlcmVvX2xlZnRfZXllID0g
b3B0YzFfaXNfc3RlcmVvX2xlZnRfZXllLAorCQkuc2V0X2JsYW5rX2RhdGFfZG91YmxlX2J1ZmZl
ciA9IG9wdGMxX3NldF9ibGFua19kYXRhX2RvdWJsZV9idWZmZXIsCisJCS50Z19pbml0ID0gb3B0
YzFfdGdfaW5pdCwKKwkJLmlzX3RnX2VuYWJsZWQgPSBvcHRjMV9pc190Z19lbmFibGVkLAorCQku
aXNfb3B0Y191bmRlcmZsb3dfb2NjdXJyZWQgPSBvcHRjMV9pc19vcHRjX3VuZGVyZmxvd19vY2N1
cnJlZCwKKwkJLmNsZWFyX29wdGNfdW5kZXJmbG93ID0gb3B0YzFfY2xlYXJfb3B0Y191bmRlcmZs
b3csCisJCS5zZXR1cF9nbG9iYWxfc3dhcF9sb2NrID0gTlVMTCwKKwkJLmdldF9jcmMgPSBvcHRj
MV9nZXRfY3JjLAorCQkuY29uZmlndXJlX2NyYyA9IG9wdGMxX2NvbmZpZ3VyZV9jcmMsCisJCS5z
ZXRfZHdiX3NvdXJjZSA9IG9wdGMyX3NldF9kd2Jfc291cmNlLAorCQkuc2V0X29kbV9ieXBhc3Mg
PSBvcHRjMl9zZXRfb2RtX2J5cGFzcywKKwkJLnNldF9vZG1fY29tYmluZSA9IG9wdGMyX3NldF9v
ZG1fY29tYmluZSwKKwkJLmdldF9vcHRjX3NvdXJjZSA9IG9wdGMyX2dldF9vcHRjX3NvdXJjZSwK
KwkJLnNldF9nc2wgPSBvcHRjMl9zZXRfZ3NsLAorCQkuc2V0X2dzbF9zb3VyY2Vfc2VsZWN0ID0g
b3B0YzJfc2V0X2dzbF9zb3VyY2Vfc2VsZWN0LAorfTsKKwordm9pZCBkY24yMF90aW1pbmdfZ2Vu
ZXJhdG9yX2luaXQoc3RydWN0IG9wdGMgKm9wdGMxKQoreworCW9wdGMxLT5iYXNlLmZ1bmNzID0g
JmRjbjIwX3RnX2Z1bmNzOworCisJb3B0YzEtPm1heF9oX3RvdGFsID0gb3B0YzEtPnRnX21hc2st
Pk9UR19IX1RPVEFMICsgMTsKKwlvcHRjMS0+bWF4X3ZfdG90YWwgPSBvcHRjMS0+dGdfbWFzay0+
T1RHX1ZfVE9UQUwgKyAxOworCisJb3B0YzEtPm1pbl9oX2JsYW5rID0gMzI7CisJb3B0YzEtPm1p
bl92X2JsYW5rID0gMzsKKwlvcHRjMS0+bWluX3ZfYmxhbmtfaW50ZXJsYWNlID0gNTsKKwlvcHRj
MS0+bWluX2hfc3luY193aWR0aCA9IDg7CisJb3B0YzEtPm1pbl92X3N5bmNfd2lkdGggPSAxOwor
CW9wdGMxLT5jb21iX29wcF9pZCA9IDB4ZjsKK30KKwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIwX29wdGMuaCBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvZGlzcGxheS9kYy9kY24yMC9kY24yMF9vcHRjLmgKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5k
ZXggMDAwMDAwMDAwMDAwLi5mZTg1MTA0OWFhOWIKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjAvZGNuMjBfb3B0Yy5oCkBAIC0wLDAgKzEsMTAz
IEBACisvKgorICogQ29weXJpZ2h0IDIwMTItMTUgQWR2YW5jZWQgTWljcm8gRGV2aWNlcywgSW5j
LgorICoKKyAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0
byBhbnkgcGVyc29uIG9idGFpbmluZyBhCisgKiBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFz
c29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLAorICogdG8gZGVh
bCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQg
bGltaXRhdGlvbgorICogdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1
Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsCisgKiBhbmQvb3Igc2VsbCBjb3BpZXMgb2Yg
dGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUKKyAqIFNvZnR3
YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRp
dGlvbnM6CisgKgorICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlz
c2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4KKyAqIGFsbCBjb3BpZXMgb3Igc3Vic3Rh
bnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgorICoKKyAqIFRIRSBTT0ZUV0FSRSBJUyBQ
Uk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9S
CisgKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVT
IE9GIE1FUkNIQU5UQUJJTElUWSwKKyAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NF
IEFORCBOT05JTkZSSU5HRU1FTlQuICBJTiBOTyBFVkVOVCBTSEFMTAorICogVEhFIENPUFlSSUdI
VCBIT0xERVIoUykgT1IgQVVUSE9SKFMpIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VT
IE9SCisgKiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNU
LCBUT1JUIE9SIE9USEVSV0lTRSwKKyAqIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5F
Q1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUgorICogT1RIRVIgREVBTElOR1Mg
SU4gVEhFIFNPRlRXQVJFLgorICoKKyAqIEF1dGhvcnM6IEFNRAorICoKKyAqLworCisjaWZuZGVm
IF9fRENfT1BUQ19EQ04yMF9IX18KKyNkZWZpbmUgX19EQ19PUFRDX0RDTjIwX0hfXworCisjaW5j
bHVkZSAiLi4vZGNuMTAvZGNuMTBfb3B0Yy5oIgorCisjZGVmaW5lIFRHX0NPTU1PTl9SRUdfTElT
VF9EQ04yXzAoaW5zdCkgXAorCVRHX0NPTU1PTl9SRUdfTElTVF9EQ04oaW5zdCksXAorCVNSSShP
VEdfR0xPQkFMX0NPTlRST0wxLCBPVEcsIGluc3QpLFwKKwlTUkkoT1RHX0dMT0JBTF9DT05UUk9M
MiwgT1RHLCBpbnN0KSxcCisJU1JJKE9UR19HU0xfV0lORE9XX1gsIE9URywgaW5zdCksXAorCVNS
SShPVEdfR1NMX1dJTkRPV19ZLCBPVEcsIGluc3QpLFwKKwlTUkkoT1RHX1ZVUERBVEVfS0VFUE9V
VCwgT1RHLCBpbnN0KSxcCisJU1JJKE9UR19EU0NfU1RBUlRfUE9TSVRJT04sIE9URywgaW5zdCks
XAorCVNSSShPUFRDX0RBVEFfRk9STUFUX0NPTlRST0wsIE9ETSwgaW5zdCksXAorCVNSSShPUFRD
X0JZVEVTX1BFUl9QSVhFTCwgT0RNLCBpbnN0KSxcCisJU1JJKE9QVENfV0lEVEhfQ09OVFJPTCwg
T0RNLCBpbnN0KSxcCisJU1JJKE9QVENfTUVNT1JZX0NPTkZJRywgT0RNLCBpbnN0KSxcCisJU1Io
RFdCX1NPVVJDRV9TRUxFQ1QpCisKKyNkZWZpbmUgVEdfQ09NTU9OX01BU0tfU0hfTElTVF9EQ04y
XzAobWFza19zaClcCisJVEdfQ09NTU9OX01BU0tfU0hfTElTVF9EQ04obWFza19zaCksXAorCVNG
KE9URzBfT1RHX0dMT0JBTF9DT05UUk9MMSwgTUFTVEVSX1VQREFURV9MT0NLX0RCX1gsIG1hc2tf
c2gpLFwKKwlTRihPVEcwX09UR19HTE9CQUxfQ09OVFJPTDEsIE1BU1RFUl9VUERBVEVfTE9DS19E
Ql9ZLCBtYXNrX3NoKSxcCisJU0YoT1RHMF9PVEdfR0xPQkFMX0NPTlRST0wxLCBNQVNURVJfVVBE
QVRFX0xPQ0tfREJfRU4sIG1hc2tfc2gpLFwKKwlTRihPVEcwX09UR19HTE9CQUxfQ09OVFJPTDIs
IEdMT0JBTF9VUERBVEVfTE9DS19FTiwgbWFza19zaCksXAorCVNGKE9URzBfT1RHX0dMT0JBTF9D
T05UUk9MMiwgRElHX1VQREFURV9MT0NBVElPTiwgbWFza19zaCksXAorCVNGKE9URzBfT1RHX0RP
VUJMRV9CVUZGRVJfQ09OVFJPTCwgT1RHX1JBTkdFX1RJTUlOR19EQlVGX1VQREFURV9NT0RFLCBt
YXNrX3NoKSxcCisJU0YoT1RHMF9PVEdfR1NMX1dJTkRPV19YLCBPVEdfR1NMX1dJTkRPV19TVEFS
VF9YLCBtYXNrX3NoKSxcCisJU0YoT1RHMF9PVEdfR1NMX1dJTkRPV19YLCBPVEdfR1NMX1dJTkRP
V19FTkRfWCwgbWFza19zaCksIFwKKwlTRihPVEcwX09UR19HU0xfV0lORE9XX1ksIE9UR19HU0xf
V0lORE9XX1NUQVJUX1ksIG1hc2tfc2gpLFwKKwlTRihPVEcwX09UR19HU0xfV0lORE9XX1ksIE9U
R19HU0xfV0lORE9XX0VORF9ZLCBtYXNrX3NoKSxcCisJU0YoT1RHMF9PVEdfVlVQREFURV9LRUVQ
T1VULCBPVEdfTUFTVEVSX1VQREFURV9MT0NLX1ZVUERBVEVfS0VFUE9VVF9FTiwgbWFza19zaCks
IFwKKwlTRihPVEcwX09UR19WVVBEQVRFX0tFRVBPVVQsIE1BU1RFUl9VUERBVEVfTE9DS19WVVBE
QVRFX0tFRVBPVVRfU1RBUlRfT0ZGU0VULCBtYXNrX3NoKSwgXAorCVNGKE9URzBfT1RHX1ZVUERB
VEVfS0VFUE9VVCwgTUFTVEVSX1VQREFURV9MT0NLX1ZVUERBVEVfS0VFUE9VVF9FTkRfT0ZGU0VU
LCBtYXNrX3NoKSwgXAorCVNGKE9URzBfT1RHX0dTTF9DT05UUk9MLCBPVEdfR1NMX01BU1RFUl9N
T0RFLCBtYXNrX3NoKSwgXAorCVNGKE9URzBfT1RHX0dTTF9DT05UUk9MLCBPVEdfTUFTVEVSX1VQ
REFURV9MT0NLX0dTTF9FTiwgbWFza19zaCksIFwKKwlTRihPVEcwX09UR19EU0NfU1RBUlRfUE9T
SVRJT04sIE9UR19EU0NfU1RBUlRfUE9TSVRJT05fWCwgbWFza19zaCksIFwKKwlTRihPVEcwX09U
R19EU0NfU1RBUlRfUE9TSVRJT04sIE9UR19EU0NfU1RBUlRfUE9TSVRJT05fTElORV9OVU0sIG1h
c2tfc2gpLFwKKwlTRihPRE0wX09QVENfREFUQV9TT1VSQ0VfU0VMRUNULCBPUFRDX1NFRzBfU1JD
X1NFTCwgbWFza19zaCksXAorCVNGKE9ETTBfT1BUQ19EQVRBX1NPVVJDRV9TRUxFQ1QsIE9QVENf
U0VHMV9TUkNfU0VMLCBtYXNrX3NoKSxcCisJU0YoT0RNMF9PUFRDX0RBVEFfU09VUkNFX1NFTEVD
VCwgT1BUQ19OVU1fT0ZfSU5QVVRfU0VHTUVOVCwgbWFza19zaCksXAorCVNGKE9ETTBfT1BUQ19N
RU1PUllfQ09ORklHLCBPUFRDX01FTV9TRUwsIG1hc2tfc2gpLFwKKwlTRihPRE0wX09QVENfREFU
QV9GT1JNQVRfQ09OVFJPTCwgT1BUQ19EU0NfTU9ERSwgbWFza19zaCksXAorCVNGKE9ETTBfT1BU
Q19CWVRFU19QRVJfUElYRUwsIE9QVENfRFNDX0JZVEVTX1BFUl9QSVhFTCwgbWFza19zaCksXAor
CVNGKE9ETTBfT1BUQ19XSURUSF9DT05UUk9MLCBPUFRDX0RTQ19TTElDRV9XSURUSCwgbWFza19z
aCksXAorCVNGKE9ETTBfT1BUQ19XSURUSF9DT05UUk9MLCBPUFRDX1NFR01FTlRfV0lEVEgsIG1h
c2tfc2gpLFwKKwlTRihEV0JfU09VUkNFX1NFTEVDVCwgT1BUQ19EV0IwX1NPVVJDRV9TRUxFQ1Qs
IG1hc2tfc2gpLFwKKwlTRihEV0JfU09VUkNFX1NFTEVDVCwgT1BUQ19EV0IxX1NPVVJDRV9TRUxF
Q1QsIG1hc2tfc2gpCisKK3ZvaWQgZGNuMjBfdGltaW5nX2dlbmVyYXRvcl9pbml0KHN0cnVjdCBv
cHRjICpvcHRjKTsKKworYm9vbCBvcHRjMl9lbmFibGVfY3J0YyhzdHJ1Y3QgdGltaW5nX2dlbmVy
YXRvciAqb3B0Yyk7CisKK3ZvaWQgb3B0YzJfc2V0X2dzbChzdHJ1Y3QgdGltaW5nX2dlbmVyYXRv
ciAqb3B0YywKKwkJY29uc3Qgc3RydWN0IGdzbF9wYXJhbXMgKnBhcmFtcyk7CisKK3ZvaWQgb3B0
YzJfc2V0X2dzbF9zb3VyY2Vfc2VsZWN0KHN0cnVjdCB0aW1pbmdfZ2VuZXJhdG9yICpvcHRjLAor
CQlpbnQgZ3JvdXBfaWR4LAorCQl1aW50MzJfdCBnc2xfcmVhZHlfc2lnbmFsKTsKKworCit2b2lk
IG9wdGMyX3NldF9vZG1fYnlwYXNzKHN0cnVjdCB0aW1pbmdfZ2VuZXJhdG9yICpvcHRjLAorCQlj
b25zdCBzdHJ1Y3QgZGNfY3J0Y190aW1pbmcgKmRjX2NydGNfdGltaW5nKTsKKwordm9pZCBvcHRj
Ml9zZXRfb2RtX2NvbWJpbmUoc3RydWN0IHRpbWluZ19nZW5lcmF0b3IgKm9wdGMsIGludCBjb21i
aW5lX29wcF9pZCwgaW50IG1wY2NfaGFjdGl2ZSk7CisKK3ZvaWQgb3B0YzJfZ2V0X29wdGNfc291
cmNlKHN0cnVjdCB0aW1pbmdfZ2VuZXJhdG9yICpvcHRjLAorCQl1aW50MzJfdCAqbnVtX29mX3Ny
Y19vcHAsCisJCXVpbnQzMl90ICpzcmNfb3BwX2lkXzAsCisJCXVpbnQzMl90ICpzcmNfb3BwX2lk
XzEpOworCit2b2lkIG9wdGMyX3RyaXBsZWJ1ZmZlcl9sb2NrKHN0cnVjdCB0aW1pbmdfZ2VuZXJh
dG9yICpvcHRjKTsKK3ZvaWQgb3B0YzJfdHJpcGxlYnVmZmVyX3VubG9jayhzdHJ1Y3QgdGltaW5n
X2dlbmVyYXRvciAqb3B0Yyk7Cit2b2lkIG9wdGMyX2xvY2soc3RydWN0IHRpbWluZ19nZW5lcmF0
b3IgKm9wdGMpOwordm9pZCBvcHRjMl9sb2NrX2dsb2JhbChzdHJ1Y3QgdGltaW5nX2dlbmVyYXRv
ciAqb3B0Yyk7Cit2b2lkIG9wdGMyX3NldHVwX2dsb2JhbF9sb2NrKHN0cnVjdCB0aW1pbmdfZ2Vu
ZXJhdG9yICpvcHRjKTsKKworI2VuZGlmIC8qIF9fRENfT1BUQ19EQ04yMF9IX18gKi8KZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9pbmMvaHcvaHdfc2hhcmVkLmgg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvaW5jL2h3L2h3X3NoYXJlZC5oCmluZGV4
IDRjOGUyYzZmYjZkYi4uMWZmNmE4NDFmZGQyIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2Rpc3BsYXkvZGMvaW5jL2h3L2h3X3NoYXJlZC5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvZGlzcGxheS9kYy9pbmMvaHcvaHdfc2hhcmVkLmgKQEAgLTM1LDYgKzM1LDkgQEAKICAqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKiovCiAKICNkZWZpbmUgTUFYX1BJUEVTIDYKKyNpZiBkZWZpbmVkKENP
TkZJR19EUk1fQU1EX0RDX0RDTjJfMCkKKyNkZWZpbmUgTUFYX0RXQl9QSVBFUwkxCisjZW5kaWYK
IAogc3RydWN0IGdhbW1hX2N1cnZlIHsKIAl1aW50MzJfdCBvZmZzZXQ7CkBAIC03Nyw2ICs4MCwz
NyBAQCBzdHJ1Y3QgcHdsX3Jlc3VsdF9kYXRhIHsKIAl1aW50MzJfdCBkZWx0YV9ibHVlX3JlZzsK
IH07CiAKKyNpZiBkZWZpbmVkKENPTkZJR19EUk1fQU1EX0RDX0RDTjJfMCkKK3N0cnVjdCBkY19y
Z2IgeworCXVpbnQzMl90IHJlZDsKKwl1aW50MzJfdCBncmVlbjsKKwl1aW50MzJfdCBibHVlOwor
fTsKKworc3RydWN0IHRldHJhaGVkcmFsXzE3eDE3eDE3IHsKKwlzdHJ1Y3QgZGNfcmdiIGx1dDBb
MTIyOV07CisJc3RydWN0IGRjX3JnYiBsdXQxWzEyMjhdOworCXN0cnVjdCBkY19yZ2IgbHV0Mlsx
MjI4XTsKKwlzdHJ1Y3QgZGNfcmdiIGx1dDNbMTIyOF07Cit9Oworc3RydWN0IHRldHJhaGVkcmFs
Xzl4OXg5IHsKKwlzdHJ1Y3QgZGNfcmdiIGx1dDBbMTgzXTsKKwlzdHJ1Y3QgZGNfcmdiIGx1dDFb
MTgyXTsKKwlzdHJ1Y3QgZGNfcmdiIGx1dDJbMTgyXTsKKwlzdHJ1Y3QgZGNfcmdiIGx1dDNbMTgy
XTsKK307CisKK3N0cnVjdCB0ZXRyYWhlZHJhbF9wYXJhbXMgeworCXVuaW9uIHsKKwkJc3RydWN0
IHRldHJhaGVkcmFsXzE3eDE3eDE3IHRldHJhaGVkcmFsXzE3OworCQlzdHJ1Y3QgdGV0cmFoZWRy
YWxfOXg5eDkgdGV0cmFoZWRyYWxfOTsKKwl9OworCWJvb2wgdXNlX3RldHJhaGVkcmFsXzk7CisJ
Ym9vbCB1c2VfMTJiaXRzOworCit9OworI2VuZGlmCisKIC8qIGFycl9jdXJ2ZV9wb2ludHMgLSBy
ZWdhbW1hIHJlZ2lvbnMvc2VnbWVudHMgc3BlY2lmaWNhdGlvbgogICogYXJyX3BvaW50cyAtIGJl
Z2lubmluZyBhbmQgZW5kIHBvaW50IHNwZWNpZmllZCBzZXBhcmF0ZWx5IChvbmx5IG9uZSBvbiBE
Q0UpCiAgKiBjb3JuZXJfcG9pbnRzIC0gYmVnaW5uaW5nIGFuZCBlbmQgcG9pbnQgZm9yIGFsbCAz
IGNvbG9ycyAoRENOKQpAQCAtMTYwLDYgKzE5NCw3IEBAIGVudW0gb3BwX3JlZ2FtbWEgewogCU9Q
UF9SRUdBTU1BX1VTRVIKIH07CiAKKwogc3RydWN0IGRjX2JpYXNfYW5kX3NjYWxlIHsKIAl1aW50
MTZfdCBzY2FsZV9yZWQ7CiAJdWludDE2X3QgYmlhc19yZWQ7CkBAIC0xODEsNyArMjE2LDEyIEBA
IGVudW0gdGVzdF9wYXR0ZXJuX21vZGUgewogCVRFU1RfUEFUVEVSTl9NT0RFX1ZFUlRJQ0FMQkFS
UywKIAlURVNUX1BBVFRFUk5fTU9ERV9IT1JJWk9OVEFMQkFSUywKIAlURVNUX1BBVFRFUk5fTU9E
RV9TSU5HTEVSQU1QX1JHQiwKKyNpZiBkZWZpbmVkKENPTkZJR19EUk1fQU1EX0RDX0RDTjJfMCkK
KwlURVNUX1BBVFRFUk5fTU9ERV9EVUFMUkFNUF9SR0IsCisJVEVTVF9QQVRURVJOX01PREVfWFJf
QklBU19SR0IKKyNlbHNlCiAJVEVTVF9QQVRURVJOX01PREVfRFVBTFJBTVBfUkdCCisjZW5kaWYK
IH07CiAKIGVudW0gdGVzdF9wYXR0ZXJuX2NvbG9yX2Zvcm1hdCB7CkBAIC0yMDMsNyArMjQzLDgg
QEAgZW51bSBjb250cm9sbGVyX2RwX3Rlc3RfcGF0dGVybiB7CiAJQ09OVFJPTExFUl9EUF9URVNU
X1BBVFRFUk5fUkVTRVJWRURfOCwKIAlDT05UUk9MTEVSX0RQX1RFU1RfUEFUVEVSTl9SRVNFUlZF
RF85LAogCUNPTlRST0xMRVJfRFBfVEVTVF9QQVRURVJOX1JFU0VSVkVEX0EsCi0JQ09OVFJPTExF
Ul9EUF9URVNUX1BBVFRFUk5fQ09MT1JTUVVBUkVTX0NFQQorCUNPTlRST0xMRVJfRFBfVEVTVF9Q
QVRURVJOX0NPTE9SU1FVQVJFU19DRUEsCisJQ09OVFJPTExFUl9EUF9URVNUX1BBVFRFUk5fU09M
SURfQ09MT1IKIH07CiAKIGVudW0gZGNfbHV0X21vZGUgewpkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2FtZC9kaXNwbGF5L2RjL2luYy9ody90aW1pbmdfZ2VuZXJhdG9yLmggYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvaW5jL2h3L3RpbWluZ19nZW5lcmF0b3IuaAppbmRleCBh
ODlkMGNmNTljY2EuLmU4ZTUyMTEwMmFkYiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9kaXNwbGF5L2RjL2luYy9ody90aW1pbmdfZ2VuZXJhdG9yLmgKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9kaXNwbGF5L2RjL2luYy9ody90aW1pbmdfZ2VuZXJhdG9yLmgKQEAgLTE4OCw2ICsx
ODgsMTAgQEAgc3RydWN0IHRpbWluZ19nZW5lcmF0b3JfZnVuY3MgewogCXZvaWQgKCp1bmxvY2sp
KHN0cnVjdCB0aW1pbmdfZ2VuZXJhdG9yICp0Zyk7CiAJdm9pZCAoKmxvY2spKHN0cnVjdCB0aW1p
bmdfZ2VuZXJhdG9yICp0Zyk7CiAJdm9pZCAoKmxvY2tfZ2xvYmFsKShzdHJ1Y3QgdGltaW5nX2dl
bmVyYXRvciAqdGcpOworI2lmIGRlZmluZWQoQ09ORklHX0RSTV9BTURfRENfRENOMl8wKQorCXZv
aWQoKnRyaXBsZWJ1ZmZlcl91bmxvY2spKHN0cnVjdCB0aW1pbmdfZ2VuZXJhdG9yICp0Zyk7CisJ
dm9pZCgqdHJpcGxlYnVmZmVyX2xvY2spKHN0cnVjdCB0aW1pbmdfZ2VuZXJhdG9yICp0Zyk7Cisj
ZW5kaWYKIAl2b2lkICgqZW5hYmxlX3Jlc2V0X3RyaWdnZXIpKHN0cnVjdCB0aW1pbmdfZ2VuZXJh
dG9yICp0ZywKIAkJCQkgICAgIGludCBzb3VyY2VfdGdfaW5zdCk7CiAJdm9pZCAoKmVuYWJsZV9j
cnRjX3Jlc2V0KShzdHJ1Y3QgdGltaW5nX2dlbmVyYXRvciAqdGcsCkBAIC0yMjQsNiArMjI4LDE2
IEBAIHN0cnVjdCB0aW1pbmdfZ2VuZXJhdG9yX2Z1bmNzIHsKIAlib29sICgqaXNfb3B0Y191bmRl
cmZsb3dfb2NjdXJyZWQpKHN0cnVjdCB0aW1pbmdfZ2VuZXJhdG9yICp0Zyk7CiAJdm9pZCAoKmNs
ZWFyX29wdGNfdW5kZXJmbG93KShzdHJ1Y3QgdGltaW5nX2dlbmVyYXRvciAqdGcpOwogCisjaWYg
ZGVmaW5lZChDT05GSUdfRFJNX0FNRF9EQ19EQ04yXzApCisJdm9pZCAoKnNldF9kd2Jfc291cmNl
KShzdHJ1Y3QgdGltaW5nX2dlbmVyYXRvciAqb3B0YywKKwkJdWludDMyX3QgZHdiX3BpcGVfaW5z
dCk7CisKKwl2b2lkICgqZ2V0X29wdGNfc291cmNlKShzdHJ1Y3QgdGltaW5nX2dlbmVyYXRvciAq
b3B0YywKKwkJCXVpbnQzMl90ICpudW1fb2ZfaW5wdXRfc2VnbWVudHMsCisJCQl1aW50MzJfdCAq
c2VnMF9zcmNfc2VsLAorCQkJdWludDMyX3QgKnNlZzFfc3JjX3NlbCk7CisjZW5kaWYKKwogCS8q
KgogCSAqIENvbmZpZ3VyZSBDUkNzIGZvciB0aGUgZ2l2ZW4gdGltaW5nIGdlbmVyYXRvci4gUmV0
dXJuIGZhbHNlIGlmIFRHIGlzCiAJICogbm90IG9uLgpAQCAtMjQzLDYgKzI1NywxNCBAQCBzdHJ1
Y3QgdGltaW5nX2dlbmVyYXRvcl9mdW5jcyB7CiAKIAl2b2lkICgqc2V0X3Z0Z19wYXJhbXMpKHN0
cnVjdCB0aW1pbmdfZ2VuZXJhdG9yICpvcHRjLAogCQkJY29uc3Qgc3RydWN0IGRjX2NydGNfdGlt
aW5nICpkY19jcnRjX3RpbWluZyk7CisjaWZkZWYgQ09ORklHX0RSTV9BTURfRENfRENOMl8wCisJ
dm9pZCAoKnNldF9vZG1fYnlwYXNzKShzdHJ1Y3QgdGltaW5nX2dlbmVyYXRvciAqdGcsIGNvbnN0
IHN0cnVjdCBkY19jcnRjX3RpbWluZyAqZGNfY3J0Y190aW1pbmcpOworCXZvaWQgKCpzZXRfb2Rt
X2NvbWJpbmUpKHN0cnVjdCB0aW1pbmdfZ2VuZXJhdG9yICp0ZywgaW50IGNvbWJpbmVfb3BwX2lk
LCBpbnQgbXBjY19oYWN0aXZlKTsKKwl2b2lkICgqc2V0X2dzbCkoc3RydWN0IHRpbWluZ19nZW5l
cmF0b3IgKm9wdGMsIGNvbnN0IHN0cnVjdCBnc2xfcGFyYW1zICpwYXJhbXMpOworCXZvaWQgKCpz
ZXRfZ3NsX3NvdXJjZV9zZWxlY3QpKHN0cnVjdCB0aW1pbmdfZ2VuZXJhdG9yICpvcHRjLAorCQkJ
aW50IGdyb3VwX2lkeCwKKwkJCXVpbnQzMl90IGdzbF9yZWFkeV9zaWduYWwpOworI2VuZGlmCiB9
OwogCiAjZW5kaWYKLS0gCjIuMjAuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVz
a3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9h
bWQtZ2Z4
