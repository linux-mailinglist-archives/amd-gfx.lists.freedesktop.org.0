Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 363A9884F2
	for <lists+amd-gfx@lfdr.de>; Fri,  9 Aug 2019 23:38:34 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id BE4606EEB1;
	Fri,  9 Aug 2019 21:38:32 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM05-DM3-obe.outbound.protection.outlook.com
 (mail-eopbgr730061.outbound.protection.outlook.com [40.107.73.61])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 114026EEB0
 for <amd-gfx@lists.freedesktop.org>; Fri,  9 Aug 2019 21:38:32 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=SUMO1hfo2F1uiKRzy07KX/Au0Gq0UZpOpJRdc2UPsHY44RevltCeNWxNYztzS7ucsD5ZjctFELpSTjsHsZzqNZPZm7VKdWckioRzFME1wtSouQ4hbWvwQzAVJJkoREMq0uvbzu1OuyqExr7Gd1iSpEdvnd2pYh0gESzs3q+BqvRpYqOJ+wnLDoa2ghF/3dZA8WEo5Fllvlc1uSJ02HUQW3rQJOG7fW1EN+Z84Ud6XNiz7M4w3lkaVADw9BeTEyHJUjHyqLEm3AJvHqdusHaqDsTE40phlXIsd8o8K4diEwTFh1VhbnLWIZ/aiKqf0Hi2thArY0IAB8M1gL5MuRM6wA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=PqVeAMdS6GQwFrCu08+/vLc5laUydlfQn3slAMJLZPs=;
 b=TYeVjQPvYTfru91Izi2TciM8EGa4I6VJtYIJilb2xARWhgxQL2GkrNqIxcGndGFgRZaMpgqp/cfBMdA6MZ0AgSWuOB1tyQIipjnW+WqWTqMEkeyUfJz3uHi0Cd96trYBcZAChcExivK1oWyMA8u6RYNX4pRzakINWFVwEAK/zL9VohFIInIKgsiMYdJZL7rfJlIBXhg9wbI5v1+VYclTLQmmUC4AB1JPid+u492uF0ebUCp3Rgy164vw3lbRMeQMMvtT6ChZc03W6n6gV4ER//MZzs6HNSphBZHNJx1sULUpgZlAqVwpWXZrfohzUgA9NKGCsHGx0xWDOqUSBwMRpg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1;spf=none (sender ip is
 165.204.84.17) smtp.rcpttodomain=lists.freedesktop.org
 smtp.mailfrom=amd.com;dmarc=permerror action=none
 header.from=amd.com;dkim=none (message not signed);arc=none
Received: from CY4PR1201CA0019.namprd12.prod.outlook.com
 (2603:10b6:910:16::29) by MWHPR12MB1278.namprd12.prod.outlook.com
 (2603:10b6:300:10::14) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2136.17; Fri, 9 Aug
 2019 21:38:30 +0000
Received: from DM3NAM03FT040.eop-NAM03.prod.protection.outlook.com
 (2a01:111:f400:7e49::206) by CY4PR1201CA0019.outlook.office365.com
 (2603:10b6:910:16::29) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2157.16 via Frontend
 Transport; Fri, 9 Aug 2019 21:38:30 +0000
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
Received: from SATLEXCHOV01.amd.com (165.204.84.17) by
 DM3NAM03FT040.mail.protection.outlook.com (10.152.83.222) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384) id
 15.20.2157.15 via Frontend Transport; Fri, 9 Aug 2019 21:38:29 +0000
Received: from localhost.localdomain (10.180.168.240) by SATLEXCHOV01.amd.com
 (10.181.40.71) with Microsoft SMTP Server id 14.3.389.1;
 Fri, 9 Aug 2019 16:38:21 -0500
From: <sunpeng.li@amd.com>
To: <amd-gfx@lists.freedesktop.org>
Subject: [PATCH 13/49] drm/amd/display: refactor gpio to allocate hw_container
 in constructor
Date: Fri, 9 Aug 2019 17:37:06 -0400
Message-ID: <20190809213742.30301-14-sunpeng.li@amd.com>
X-Mailer: git-send-email 2.22.0
In-Reply-To: <20190809213742.30301-1-sunpeng.li@amd.com>
References: <20190809213742.30301-1-sunpeng.li@amd.com>
MIME-Version: 1.0
X-EOPAttributedMessage: 0
X-MS-Office365-Filtering-HT: Tenant
X-Forefront-Antispam-Report: CIP:165.204.84.17; IPV:NLI; CTRY:US; EFV:NLI;
 SFV:NSPM;
 SFS:(10009020)(4636009)(136003)(376002)(396003)(39860400002)(346002)(2980300002)(428003)(199004)(189003)(51416003)(446003)(2870700001)(48376002)(11346002)(8936002)(4326008)(426003)(486006)(50466002)(86362001)(2906002)(50226002)(36756003)(53936002)(336012)(14444005)(2351001)(305945005)(6916009)(54906003)(186003)(76176011)(30864003)(316002)(2876002)(356004)(5660300002)(1076003)(81166006)(81156014)(8676002)(126002)(6666004)(478600001)(476003)(26005)(70206006)(70586007)(47776003)(49486002)(2616005);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MWHPR12MB1278; H:SATLEXCHOV01.amd.com; FPR:;
 SPF:None; LANG:en; PTR:InfoDomainNonexistent; A:1; MX:1; 
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-Correlation-Id: 25990095-a235-44a5-381e-08d71d11eb85
X-Microsoft-Antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(2017052603328);
 SRVR:MWHPR12MB1278; 
X-MS-TrafficTypeDiagnostic: MWHPR12MB1278:
X-Microsoft-Antispam-PRVS: <MWHPR12MB12787E46DC4EAE2DE8BC222282D60@MWHPR12MB1278.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:1850;
X-Forefront-PRVS: 01244308DF
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam-Message-Info: Jt2YB2Sv53hxAVJWG9AhquQi3iK8HpUzW0wNnVKU+y91FpFiAgnT8RbIDSMTiepVQPX+UtQoCJD434BOeaNpD/a4Nj0bhtHyeAo4wpB39gs+o7rBbFc57BAHfxzEm1fQ3kT6rF91HQUrMmBu9+wlajbB2yhP2raMPNfbQTdyNVdwzoVSQaZvL3p52FrU9mPx5wqmtWjxfwoXMdpkSpax13+GyalcqjM9vjCJRAFEHmA2CvMo2C5n3msBW/ygKrHuyyda+JWrMlnVYTPVHohS19vqC6+o9LITuNfAwQbffTKhiPEBPfwZAtGFOxBWvE/Sm1N3UdTzAEokJgzVquEJjqGZx6GXSBrW56HWzecC1EzCHGgXvq+tY7XKxa1djDHEQ2WJ85HbNfmpETkzAHYbFFcqM2NB8XSLnnNdO9G3kQU=
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 09 Aug 2019 21:38:29.8259 (UTC)
X-MS-Exchange-CrossTenant-Network-Message-Id: 25990095-a235-44a5-381e-08d71d11eb85
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-OriginalAttributedTenantConnectingIp: TenantId=3dd8961f-e488-4e60-8e11-a82d994e183d; Ip=[165.204.84.17];
 Helo=[SATLEXCHOV01.amd.com]
X-MS-Exchange-CrossTenant-FromEntityHeader: HybridOnPrem
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MWHPR12MB1278
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=PqVeAMdS6GQwFrCu08+/vLc5laUydlfQn3slAMJLZPs=;
 b=rjidTQmrE+DURrAzE6uP6LPx4wdnNva6K6P0IeTz0gANmDC3AuiUfghw6QE2pdmrxSjOcrMTrQAfxc4TGKPmGoeujFrktc6ydsS9m2b9k0YszWSFfSccBS4qveXYh7+IwHW3fKtrbJM0ifWabOUOnDDCgo8Viq8lZuA+5rL74R0=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is
 165.204.84.17)
 smtp.mailfrom=amd.com; lists.freedesktop.org; dkim=none (message not signed)
 header.d=none;lists.freedesktop.org; dmarc=permerror action=none
 header.from=amd.com;
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Leo Li <sunpeng.li@amd.com>, Jun Lei <Jun.Lei@amd.com>,
 Su Sung Chung <Su.Chung@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogU3UgU3VuZyBDaHVuZyA8U3UuQ2h1bmdAYW1kLmNvbT4KClt3aHldCmlmIGR5bmFtaWMg
YWxsb2NhdGlvbiBmYWlscyBkdXJpbmcgZ3Bpb19vcGVuLCBpdCB3aWxsIGNhdXNlIGNyYXNoIGR1
ZSB0bwpwYWdlIGZhdWx0LgoKW2hvd10KaGFuZGxlIGFsbG9jYXRpb24gd2hlbiBncGlvIG9iamVj
dCBnZXRzIGNyZWF0ZWQgYW5kIHByZXZlbnQgZnJvbSBjYWxsaW5nCmdwaW9fb3BlbiBpZiBhbGxv
Y2F0aW9uIGZhaWxlZAoKU2lnbmVkLW9mZi1ieTogU3UgU3VuZyBDaHVuZyA8U3UuQ2h1bmdAYW1k
LmNvbT4KUmV2aWV3ZWQtYnk6IEp1biBMZWkgPEp1bi5MZWlAYW1kLmNvbT4KQWNrZWQtYnk6IExl
byBMaSA8c3VucGVuZy5saUBhbWQuY29tPgotLS0KIC4uLi9kYy9ncGlvL2RjZTExMC9od19mYWN0
b3J5X2RjZTExMC5jICAgICAgICB8IDE4ICsrKy0tCiAuLi4vZGMvZ3Bpby9kY2UxMjAvaHdfZmFj
dG9yeV9kY2UxMjAuYyAgICAgICAgfCAxNCArKy0tCiAuLi4vZGlzcGxheS9kYy9ncGlvL2RjZTgw
L2h3X2ZhY3RvcnlfZGNlODAuYyAgfCAxNCArKy0tCiAuLi4vZGlzcGxheS9kYy9ncGlvL2RjbjEw
L2h3X2ZhY3RvcnlfZGNuMTAuYyAgfCAxMiArLS0KIC4uLi9kaXNwbGF5L2RjL2dwaW8vZGNuMjAv
aHdfZmFjdG9yeV9kY24yMC5jICB8IDEyICstLQogLi4uL2RjL2dwaW8vZGlhZ25vc3RpY3MvaHdf
ZmFjdG9yeV9kaWFnLmMgICAgIHwgIDkgKy0tCiAuLi4vZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9n
cGlvL2dwaW9fYmFzZS5jICAgfCA3NCArKysrKysrKysrKysrKysrKystCiAuLi4vZHJtL2FtZC9k
aXNwbGF5L2RjL2dwaW8vZ3Bpb19zZXJ2aWNlLmMgICAgfCA1MSArKysrKystLS0tLS0tCiAuLi4v
ZHJtL2FtZC9kaXNwbGF5L2RjL2dwaW8vZ3Bpb19zZXJ2aWNlLmggICAgfCAgNiArLQogZHJpdmVy
cy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2dwaW8vaHdfZGRjLmMgIHwgMjYgKysrKy0tLQogZHJp
dmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2dwaW8vaHdfZGRjLmggIHwgIDUgKy0KIC4uLi9n
cHUvZHJtL2FtZC9kaXNwbGF5L2RjL2dwaW8vaHdfZmFjdG9yeS5oICB8IDQ4ICsrKysrKy0tLS0t
LQogLi4uL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZ3Bpby9od19nZW5lcmljLmMgIHwgMzIgKysr
Ky0tLS0KIC4uLi9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2dwaW8vaHdfZ2VuZXJpYy5oICB8ICA2
ICstCiBkcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZ3Bpby9od19ocGQuYyAgfCAzMSAr
KysrLS0tLQogZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2dwaW8vaHdfaHBkLmggIHwg
IDUgKy0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9pbmMvaHcvZ3Bpby5oICB8IDEw
ICsrKwogLi4uL2RybS9hbWQvZGlzcGxheS9pbmNsdWRlL2dwaW9faW50ZXJmYWNlLmggIHwgIDkg
KysrCiAxOCBmaWxlcyBjaGFuZ2VkLCAyNDUgaW5zZXJ0aW9ucygrKSwgMTM3IGRlbGV0aW9ucygt
KQoKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9ncGlvL2RjZTEx
MC9od19mYWN0b3J5X2RjZTExMC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2dw
aW8vZGNlMTEwL2h3X2ZhY3RvcnlfZGNlMTEwLmMKaW5kZXggMjBkODFiY2ExMTljLi42NmU0ODQx
ZjQxZTQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9ncGlvL2Rj
ZTExMC9od19mYWN0b3J5X2RjZTExMC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxh
eS9kYy9ncGlvL2RjZTExMC9od19mYWN0b3J5X2RjZTExMC5jCkBAIC0yNCw5ICsyNCwxNSBAQAog
ICovCiAKICNpbmNsdWRlICJkbV9zZXJ2aWNlcy5oIgorCiAjaW5jbHVkZSAiaW5jbHVkZS9ncGlv
X3R5cGVzLmgiCiAjaW5jbHVkZSAiLi4vaHdfZmFjdG9yeS5oIgogCisjaW5jbHVkZSAiLi4vaHdf
Z3Bpby5oIgorI2luY2x1ZGUgIi4uL2h3X2RkYy5oIgorI2luY2x1ZGUgIi4uL2h3X2hwZC5oIgor
I2luY2x1ZGUgIi4uL2h3X2dlbmVyaWMuaCIKKwogI2luY2x1ZGUgImh3X2ZhY3RvcnlfZGNlMTEw
LmgiCiAKICNpbmNsdWRlICJkY2UvZGNlXzExXzBfZC5oIgpAQCAtMTQzLDEyICsxNDksMTIgQEAg
c3RhdGljIHZvaWQgZGVmaW5lX2hwZF9yZWdpc3RlcnMoc3RydWN0IGh3X2dwaW9fcGluICpwaW4s
IHVpbnQzMl90IGVuKQogfQogCiBzdGF0aWMgY29uc3Qgc3RydWN0IGh3X2ZhY3RvcnlfZnVuY3Mg
ZnVuY3MgPSB7Ci0JLmNyZWF0ZV9kZGNfZGF0YSA9IGRhbF9od19kZGNfY3JlYXRlLAotCS5jcmVh
dGVfZGRjX2Nsb2NrID0gZGFsX2h3X2RkY19jcmVhdGUsCi0JLmNyZWF0ZV9nZW5lcmljID0gTlVM
TCwKLQkuY3JlYXRlX2hwZCA9IGRhbF9od19ocGRfY3JlYXRlLAotCS5jcmVhdGVfc3luYyA9IE5V
TEwsCi0JLmNyZWF0ZV9nc2wgPSBOVUxMLAorCS5pbml0X2RkY19kYXRhID0gZGFsX2h3X2RkY19p
bml0LAorCS5pbml0X2dlbmVyaWMgPSBOVUxMLAorCS5pbml0X2hwZCA9IGRhbF9od19ocGRfaW5p
dCwKKwkuZ2V0X2RkY19waW4gPSBkYWxfaHdfZGRjX2dldF9waW4sCisJLmdldF9ocGRfcGluID0g
ZGFsX2h3X2hwZF9nZXRfcGluLAorCS5nZXRfZ2VuZXJpY19waW4gPSBOVUxMLAogCS5kZWZpbmVf
aHBkX3JlZ2lzdGVycyA9IGRlZmluZV9ocGRfcmVnaXN0ZXJzLAogCS5kZWZpbmVfZGRjX3JlZ2lz
dGVycyA9IGRlZmluZV9kZGNfcmVnaXN0ZXJzCiB9OwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2FtZC9kaXNwbGF5L2RjL2dwaW8vZGNlMTIwL2h3X2ZhY3RvcnlfZGNlMTIwLmMgYi9kcml2
ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZ3Bpby9kY2UxMjAvaHdfZmFjdG9yeV9kY2UxMjAu
YwppbmRleCBlYTNmODg4ZTVjNjUuLmNmOThhYTgyN2E5YSAxMDA2NDQKLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2FtZC9kaXNwbGF5L2RjL2dwaW8vZGNlMTIwL2h3X2ZhY3RvcnlfZGNlMTIwLmMKKysr
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2dwaW8vZGNlMTIwL2h3X2ZhY3Rvcnlf
ZGNlMTIwLmMKQEAgLTI3LDEwICsyNywxMCBAQAogI2luY2x1ZGUgImluY2x1ZGUvZ3Bpb190eXBl
cy5oIgogI2luY2x1ZGUgIi4uL2h3X2ZhY3RvcnkuaCIKIAotCiAjaW5jbHVkZSAiLi4vaHdfZ3Bp
by5oIgogI2luY2x1ZGUgIi4uL2h3X2RkYy5oIgogI2luY2x1ZGUgIi4uL2h3X2hwZC5oIgorI2lu
Y2x1ZGUgIi4uL2h3X2dlbmVyaWMuaCIKIAogI2luY2x1ZGUgImh3X2ZhY3RvcnlfZGNlMTIwLmgi
CiAKQEAgLTE2NCwxMiArMTY0LDEyIEBAIHN0YXRpYyB2b2lkIGRlZmluZV9ocGRfcmVnaXN0ZXJz
KHN0cnVjdCBod19ncGlvX3BpbiAqcGluLCB1aW50MzJfdCBlbikKIAogLyogZnVjbnRpb24gdGFi
bGUgKi8KIHN0YXRpYyBjb25zdCBzdHJ1Y3QgaHdfZmFjdG9yeV9mdW5jcyBmdW5jcyA9IHsKLQku
Y3JlYXRlX2RkY19kYXRhID0gZGFsX2h3X2RkY19jcmVhdGUsCi0JLmNyZWF0ZV9kZGNfY2xvY2sg
PSBkYWxfaHdfZGRjX2NyZWF0ZSwKLQkuY3JlYXRlX2dlbmVyaWMgPSBOVUxMLAotCS5jcmVhdGVf
aHBkID0gZGFsX2h3X2hwZF9jcmVhdGUsCi0JLmNyZWF0ZV9zeW5jID0gTlVMTCwKLQkuY3JlYXRl
X2dzbCA9IE5VTEwsCisJLmluaXRfZGRjX2RhdGEgPSBkYWxfaHdfZGRjX2luaXQsCisJLmluaXRf
Z2VuZXJpYyA9IE5VTEwsCisJLmluaXRfaHBkID0gZGFsX2h3X2hwZF9pbml0LAorCS5nZXRfZGRj
X3BpbiA9IGRhbF9od19kZGNfZ2V0X3BpbiwKKwkuZ2V0X2hwZF9waW4gPSBkYWxfaHdfaHBkX2dl
dF9waW4sCisJLmdldF9nZW5lcmljX3BpbiA9IE5VTEwsCiAJLmRlZmluZV9ocGRfcmVnaXN0ZXJz
ID0gZGVmaW5lX2hwZF9yZWdpc3RlcnMsCiAJLmRlZmluZV9kZGNfcmVnaXN0ZXJzID0gZGVmaW5l
X2RkY19yZWdpc3RlcnMKIH07CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3Bs
YXkvZGMvZ3Bpby9kY2U4MC9od19mYWN0b3J5X2RjZTgwLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2Rpc3BsYXkvZGMvZ3Bpby9kY2U4MC9od19mYWN0b3J5X2RjZTgwLmMKaW5kZXggNDhiNjc4NjYz
NzdlLi40OTZkM2ZmYjc0YmIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxh
eS9kYy9ncGlvL2RjZTgwL2h3X2ZhY3RvcnlfZGNlODAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0v
YW1kL2Rpc3BsYXkvZGMvZ3Bpby9kY2U4MC9od19mYWN0b3J5X2RjZTgwLmMKQEAgLTMyLDEwICsz
MiwxMiBAQAogI2luY2x1ZGUgIi4uL2h3X2dwaW8uaCIKICNpbmNsdWRlICIuLi9od19kZGMuaCIK
ICNpbmNsdWRlICIuLi9od19ocGQuaCIKKyNpbmNsdWRlICIuLi9od19nZW5lcmljLmgiCiAKICNp
bmNsdWRlICJkY2UvZGNlXzhfMF9kLmgiCiAjaW5jbHVkZSAiZGNlL2RjZV84XzBfc2hfbWFzay5o
IgogCisKICNkZWZpbmUgUkVHKHJlZ19uYW1lKVwKIAkJbW0gIyMgcmVnX25hbWUKIApAQCAtMTQ3
LDEyICsxNDksMTIgQEAgc3RhdGljIHZvaWQgZGVmaW5lX2hwZF9yZWdpc3RlcnMoc3RydWN0IGh3
X2dwaW9fcGluICpwaW4sIHVpbnQzMl90IGVuKQogfQogCiBzdGF0aWMgY29uc3Qgc3RydWN0IGh3
X2ZhY3RvcnlfZnVuY3MgZnVuY3MgPSB7Ci0JLmNyZWF0ZV9kZGNfZGF0YSA9IGRhbF9od19kZGNf
Y3JlYXRlLAotCS5jcmVhdGVfZGRjX2Nsb2NrID0gZGFsX2h3X2RkY19jcmVhdGUsCi0JLmNyZWF0
ZV9nZW5lcmljID0gTlVMTCwKLQkuY3JlYXRlX2hwZCA9IGRhbF9od19ocGRfY3JlYXRlLAotCS5j
cmVhdGVfc3luYyA9IE5VTEwsCi0JLmNyZWF0ZV9nc2wgPSBOVUxMLAorCS5pbml0X2RkY19kYXRh
ID0gZGFsX2h3X2RkY19pbml0LAorCS5pbml0X2dlbmVyaWMgPSBOVUxMLAorCS5pbml0X2hwZCA9
IGRhbF9od19ocGRfaW5pdCwKKwkuZ2V0X2RkY19waW4gPSBkYWxfaHdfZGRjX2dldF9waW4sCisJ
LmdldF9ocGRfcGluID0gZGFsX2h3X2hwZF9nZXRfcGluLAorCS5nZXRfZ2VuZXJpY19waW4gPSBO
VUxMLAogCS5kZWZpbmVfaHBkX3JlZ2lzdGVycyA9IGRlZmluZV9ocGRfcmVnaXN0ZXJzLAogCS5k
ZWZpbmVfZGRjX3JlZ2lzdGVycyA9IGRlZmluZV9kZGNfcmVnaXN0ZXJzCiB9OwpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2dwaW8vZGNuMTAvaHdfZmFjdG9yeV9k
Y24xMC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2dwaW8vZGNuMTAvaHdfZmFj
dG9yeV9kY24xMC5jCmluZGV4IDU3MTFmMzBjZjg0OC4uYjM4Yzk2YzlmZWQzIDEwMDY0NAotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZ3Bpby9kY24xMC9od19mYWN0b3J5X2Rj
bjEwLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2dwaW8vZGNuMTAvaHdf
ZmFjdG9yeV9kY24xMC5jCkBAIC0xOTYsMTIgKzE5NiwxMiBAQCBzdGF0aWMgdm9pZCBkZWZpbmVf
aHBkX3JlZ2lzdGVycyhzdHJ1Y3QgaHdfZ3Bpb19waW4gKnBpbiwgdWludDMyX3QgZW4pCiAKIC8q
IGZ1Y250aW9uIHRhYmxlICovCiBzdGF0aWMgY29uc3Qgc3RydWN0IGh3X2ZhY3RvcnlfZnVuY3Mg
ZnVuY3MgPSB7Ci0JLmNyZWF0ZV9kZGNfZGF0YSA9IGRhbF9od19kZGNfY3JlYXRlLAotCS5jcmVh
dGVfZGRjX2Nsb2NrID0gZGFsX2h3X2RkY19jcmVhdGUsCi0JLmNyZWF0ZV9nZW5lcmljID0gZGFs
X2h3X2dlbmVyaWNfY3JlYXRlLAotCS5jcmVhdGVfaHBkID0gZGFsX2h3X2hwZF9jcmVhdGUsCi0J
LmNyZWF0ZV9zeW5jID0gTlVMTCwKLQkuY3JlYXRlX2dzbCA9IE5VTEwsCisJLmluaXRfZGRjX2Rh
dGEgPSBkYWxfaHdfZGRjX2luaXQsCisJLmluaXRfZ2VuZXJpYyA9IGRhbF9od19nZW5lcmljX2lu
aXQsCisJLmluaXRfaHBkID0gZGFsX2h3X2hwZF9pbml0LAorCS5nZXRfZGRjX3BpbiA9IGRhbF9o
d19kZGNfZ2V0X3BpbiwKKwkuZ2V0X2hwZF9waW4gPSBkYWxfaHdfaHBkX2dldF9waW4sCisJLmdl
dF9nZW5lcmljX3BpbiA9IGRhbF9od19nZW5lcmljX2dldF9waW4sCiAJLmRlZmluZV9ocGRfcmVn
aXN0ZXJzID0gZGVmaW5lX2hwZF9yZWdpc3RlcnMsCiAJLmRlZmluZV9kZGNfcmVnaXN0ZXJzID0g
ZGVmaW5lX2RkY19yZWdpc3RlcnMsCiAJLmRlZmluZV9nZW5lcmljX3JlZ2lzdGVycyA9IGRlZmlu
ZV9nZW5lcmljX3JlZ2lzdGVycwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNw
bGF5L2RjL2dwaW8vZGNuMjAvaHdfZmFjdG9yeV9kY24yMC5jIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9kaXNwbGF5L2RjL2dwaW8vZGNuMjAvaHdfZmFjdG9yeV9kY24yMC5jCmluZGV4IGFmYjdjMGYx
MTFiZi4uNDNhNDQwMzg1YjQzIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3Bs
YXkvZGMvZ3Bpby9kY24yMC9od19mYWN0b3J5X2RjbjIwLmMKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9kaXNwbGF5L2RjL2dwaW8vZGNuMjAvaHdfZmFjdG9yeV9kY24yMC5jCkBAIC0yMTIsMTIg
KzIxMiwxMiBAQCBzdGF0aWMgdm9pZCBkZWZpbmVfZ2VuZXJpY19yZWdpc3RlcnMoc3RydWN0IGh3
X2dwaW9fcGluICpwaW4sIHVpbnQzMl90IGVuKQogCiAvKiBmdWNudGlvbiB0YWJsZSAqLwogc3Rh
dGljIGNvbnN0IHN0cnVjdCBod19mYWN0b3J5X2Z1bmNzIGZ1bmNzID0gewotCS5jcmVhdGVfZGRj
X2RhdGEgPSBkYWxfaHdfZGRjX2NyZWF0ZSwKLQkuY3JlYXRlX2RkY19jbG9jayA9IGRhbF9od19k
ZGNfY3JlYXRlLAotCS5jcmVhdGVfZ2VuZXJpYyA9IGRhbF9od19nZW5lcmljX2NyZWF0ZSwKLQku
Y3JlYXRlX2hwZCA9IGRhbF9od19ocGRfY3JlYXRlLAotCS5jcmVhdGVfc3luYyA9IE5VTEwsCi0J
LmNyZWF0ZV9nc2wgPSBOVUxMLAorCS5pbml0X2RkY19kYXRhID0gZGFsX2h3X2RkY19pbml0LAor
CS5pbml0X2dlbmVyaWMgPSBkYWxfaHdfZ2VuZXJpY19pbml0LAorCS5pbml0X2hwZCA9IGRhbF9o
d19ocGRfaW5pdCwKKwkuZ2V0X2RkY19waW4gPSBkYWxfaHdfZGRjX2dldF9waW4sCisJLmdldF9o
cGRfcGluID0gZGFsX2h3X2hwZF9nZXRfcGluLAorCS5nZXRfZ2VuZXJpY19waW4gPSBkYWxfaHdf
Z2VuZXJpY19nZXRfcGluLAogCS5kZWZpbmVfaHBkX3JlZ2lzdGVycyA9IGRlZmluZV9ocGRfcmVn
aXN0ZXJzLAogCS5kZWZpbmVfZGRjX3JlZ2lzdGVycyA9IGRlZmluZV9kZGNfcmVnaXN0ZXJzLAog
CS5kZWZpbmVfZ2VuZXJpY19yZWdpc3RlcnMgPSBkZWZpbmVfZ2VuZXJpY19yZWdpc3RlcnMsCmRp
ZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZ3Bpby9kaWFnbm9zdGlj
cy9od19mYWN0b3J5X2RpYWcuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9ncGlv
L2RpYWdub3N0aWNzL2h3X2ZhY3RvcnlfZGlhZy5jCmluZGV4IGYxNTI4OGMzOTg2ZS4uZGY2ODQz
MGFlYjBjIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZ3Bpby9k
aWFnbm9zdGljcy9od19mYWN0b3J5X2RpYWcuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rp
c3BsYXkvZGMvZ3Bpby9kaWFnbm9zdGljcy9od19mYWN0b3J5X2RpYWcuYwpAQCAtNDIsMTIgKzQy
LDkgQEAKIAogLyogZnVuY3Rpb24gdGFibGUgKi8KIHN0YXRpYyBjb25zdCBzdHJ1Y3QgaHdfZmFj
dG9yeV9mdW5jcyBmdW5jcyA9IHsKLQkuY3JlYXRlX2RkY19kYXRhID0gTlVMTCwKLQkuY3JlYXRl
X2RkY19jbG9jayA9IE5VTEwsCi0JLmNyZWF0ZV9nZW5lcmljID0gTlVMTCwKLQkuY3JlYXRlX2hw
ZCA9IE5VTEwsCi0JLmNyZWF0ZV9zeW5jID0gTlVMTCwKLQkuY3JlYXRlX2dzbCA9IE5VTEwsCisJ
LmluaXRfZGRjX2RhdGEgPSBOVUxMLAorCS5pbml0X2dlbmVyaWMgPSBOVUxMLAorCS5pbml0X2hw
ZCA9IE5VTEwsCiB9OwogCiB2b2lkIGRhbF9od19mYWN0b3J5X2RpYWdfZnBnYV9pbml0KHN0cnVj
dCBod19mYWN0b3J5ICpmYWN0b3J5KQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9k
aXNwbGF5L2RjL2dwaW8vZ3Bpb19iYXNlLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkv
ZGMvZ3Bpby9ncGlvX2Jhc2UuYwppbmRleCBjZjc2ZWEyZDlmNWEuLmM2ZjFhN2MzYWZmZCAxMDA2
NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2dwaW8vZ3Bpb19iYXNlLmMK
KysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2dwaW8vZ3Bpb19iYXNlLmMKQEAg
LTY1LDEwICs2NSwxNCBAQCBlbnVtIGdwaW9fcmVzdWx0IGRhbF9ncGlvX29wZW5fZXgoCiAJCXJl
dHVybiBHUElPX1JFU1VMVF9BTFJFQURZX09QRU5FRDsKIAl9CiAKKwkvLyBObyBhY3Rpb24gaWYg
YWxsb2NhdGlvbiBmYWlsZWQgZHVyaW5nIGdwaW8gY29uc3RydWN0CisJaWYgKCFncGlvLT5od19j
b250YWluZXIuZGRjKSB7CisJCUFTU0VSVF9DUklUSUNBTChmYWxzZSk7CisJCXJldHVybiBHUElP
X1JFU1VMVF9OT05fU1BFQ0lGSUNfRVJST1I7CisJfQogCWdwaW8tPm1vZGUgPSBtb2RlOwogCi0J
cmV0dXJuIGRhbF9ncGlvX3NlcnZpY2Vfb3BlbigKLQkJZ3Bpby0+c2VydmljZSwgZ3Bpby0+aWQs
IGdwaW8tPmVuLCBtb2RlLCAmZ3Bpby0+cGluKTsKKwlyZXR1cm4gZGFsX2dwaW9fc2VydmljZV9v
cGVuKGdwaW8pOwogfQogCiBlbnVtIGdwaW9fcmVzdWx0IGRhbF9ncGlvX2dldF92YWx1ZSgKQEAg
LTIyOSw2ICsyMzMsMjEgQEAgZW51bSBncGlvX3Bpbl9vdXRwdXRfc3RhdGUgZGFsX2dwaW9fZ2V0
X291dHB1dF9zdGF0ZSgKIAlyZXR1cm4gZ3Bpby0+b3V0cHV0X3N0YXRlOwogfQogCitzdHJ1Y3Qg
aHdfZGRjICpkYWxfZ3Bpb19nZXRfZGRjKHN0cnVjdCBncGlvICpncGlvKQoreworCXJldHVybiBn
cGlvLT5od19jb250YWluZXIuZGRjOworfQorCitzdHJ1Y3QgaHdfaHBkICpkYWxfZ3Bpb19nZXRf
aHBkKHN0cnVjdCBncGlvICpncGlvKQoreworCXJldHVybiBncGlvLT5od19jb250YWluZXIuaHBk
OworfQorCitzdHJ1Y3QgaHdfZ2VuZXJpYyAqZGFsX2dwaW9fZ2V0X2dlbmVyaWMoc3RydWN0IGdw
aW8gKmdwaW8pCit7CisJcmV0dXJuIGdwaW8tPmh3X2NvbnRhaW5lci5nZW5lcmljOworfQorCiB2
b2lkIGRhbF9ncGlvX2Nsb3NlKAogCXN0cnVjdCBncGlvICpncGlvKQogewpAQCAtMjY1LDYgKzI4
NCwzMCBAQCBzdHJ1Y3QgZ3BpbyAqZGFsX2dwaW9fY3JlYXRlKAogCWdwaW8tPm1vZGUgPSBHUElP
X01PREVfVU5LTk9XTjsKIAlncGlvLT5vdXRwdXRfc3RhdGUgPSBvdXRwdXRfc3RhdGU7CiAKKwkv
L2luaXRpYWxpemUgaHdfY29udGFpbmVyIHVuaW9uIGJhc2VkIG9uIGlkCisJc3dpdGNoIChncGlv
LT5pZCkgeworCWNhc2UgR1BJT19JRF9ERENfREFUQToKKwkJZ3Bpby0+c2VydmljZS0+ZmFjdG9y
eS5mdW5jcy0+aW5pdF9kZGNfZGF0YSgmZ3Bpby0+aHdfY29udGFpbmVyLmRkYywgc2VydmljZS0+
Y3R4LCBpZCwgZW4pOworCQlicmVhazsKKwljYXNlIEdQSU9fSURfRERDX0NMT0NLOgorCQlncGlv
LT5zZXJ2aWNlLT5mYWN0b3J5LmZ1bmNzLT5pbml0X2RkY19kYXRhKCZncGlvLT5od19jb250YWlu
ZXIuZGRjLCBzZXJ2aWNlLT5jdHgsIGlkLCBlbik7CisJCWJyZWFrOworCWNhc2UgR1BJT19JRF9H
RU5FUklDOgorCQlncGlvLT5zZXJ2aWNlLT5mYWN0b3J5LmZ1bmNzLT5pbml0X2dlbmVyaWMoJmdw
aW8tPmh3X2NvbnRhaW5lci5nZW5lcmljLCBzZXJ2aWNlLT5jdHgsIGlkLCBlbik7CisJCWJyZWFr
OworCWNhc2UgR1BJT19JRF9IUEQ6CisJCWdwaW8tPnNlcnZpY2UtPmZhY3RvcnkuZnVuY3MtPmlu
aXRfaHBkKCZncGlvLT5od19jb250YWluZXIuaHBkLCBzZXJ2aWNlLT5jdHgsIGlkLCBlbik7CisJ
CWJyZWFrOworCS8vIFRPRE86IGN1cnJlbnRseSBncGlvIGZvciBzeW5jIGFuZCBnc2wgZG9lcyBu
b3QgZ2V0IGNyZWF0ZWQsIG1pZ2h0IG5lZWQgaXQgbGF0ZXIKKwljYXNlIEdQSU9fSURfU1lOQzoK
KwkJYnJlYWs7CisJY2FzZSBHUElPX0lEX0dTTDoKKwkJYnJlYWs7CisJZGVmYXVsdDoKKwkJQVNT
RVJUX0NSSVRJQ0FMKGZhbHNlKTsKKwkJZ3Bpby0+cGluID0gTlVMTDsKKwl9CisKIAlyZXR1cm4g
Z3BpbzsKIH0KIApAQCAtMjc4LDYgKzMyMSwzMyBAQCB2b2lkIGRhbF9ncGlvX2Rlc3Ryb3koCiAK
IAlkYWxfZ3Bpb19jbG9zZSgqZ3Bpbyk7CiAKKwlzd2l0Y2ggKCgqZ3BpbyktPmlkKSB7CisJY2Fz
ZSBHUElPX0lEX0REQ19EQVRBOgorCQlrZnJlZSgoKmdwaW8pLT5od19jb250YWluZXIuZGRjKTsK
KwkJKCpncGlvKS0+aHdfY29udGFpbmVyLmRkYyA9IE5VTEw7CisJCWJyZWFrOworCWNhc2UgR1BJ
T19JRF9ERENfQ0xPQ0s6CisJCS8vVE9ETzogbWlnaHQgd2FudCB0byBjaGFuZ2UgaXQgdG8gaW5p
dF9kZGNfY2xvY2sKKwkJa2ZyZWUoKCpncGlvKS0+aHdfY29udGFpbmVyLmRkYyk7CisJCSgqZ3Bp
byktPmh3X2NvbnRhaW5lci5kZGMgPSBOVUxMOworCQlicmVhazsKKwljYXNlIEdQSU9fSURfR0VO
RVJJQzoKKwkJa2ZyZWUoKCpncGlvKS0+aHdfY29udGFpbmVyLmdlbmVyaWMpOworCQkoKmdwaW8p
LT5od19jb250YWluZXIuZ2VuZXJpYyA9IE5VTEw7CisJCWJyZWFrOworCWNhc2UgR1BJT19JRF9I
UEQ6CisJCWtmcmVlKCgqZ3BpbyktPmh3X2NvbnRhaW5lci5ocGQpOworCQkoKmdwaW8pLT5od19j
b250YWluZXIuaHBkID0gTlVMTDsKKwkJYnJlYWs7CisJLy8gVE9ETzogY3VycmVudGx5IGdwaW8g
Zm9yIHN5bmMgYW5kIGdzbCBkb2VzIG5vdCBnZXQgY3JlYXRlZCwgbWlnaHQgbmVlZCBpdCBsYXRl
cgorCWNhc2UgR1BJT19JRF9TWU5DOgorCQlicmVhazsKKwljYXNlIEdQSU9fSURfR1NMOgorCQli
cmVhazsKKwlkZWZhdWx0OgorCQlicmVhazsKKwl9CisKIAlrZnJlZSgqZ3Bpbyk7CiAKIAkqZ3Bp
byA9IE5VTEw7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZ3Bp
by9ncGlvX3NlcnZpY2UuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9ncGlvL2dw
aW9fc2VydmljZS5jCmluZGV4IDgwZjkzOGU2ODI4NS4uMzAwMjgyMjNmOGJjIDEwMDY0NAotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZ3Bpby9ncGlvX3NlcnZpY2UuYworKysg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZ3Bpby9ncGlvX3NlcnZpY2UuYwpAQCAt
Mjg4LDEzICsyODgsMTUgQEAgZW51bSBncGlvX3Jlc3VsdCBkYWxfZ3Bpb19zZXJ2aWNlX3VubG9j
aygKIH0KIAogZW51bSBncGlvX3Jlc3VsdCBkYWxfZ3Bpb19zZXJ2aWNlX29wZW4oCi0Jc3RydWN0
IGdwaW9fc2VydmljZSAqc2VydmljZSwKLQllbnVtIGdwaW9faWQgaWQsCi0JdWludDMyX3QgZW4s
Ci0JZW51bSBncGlvX21vZGUgbW9kZSwKLQlzdHJ1Y3QgaHdfZ3Bpb19waW4gKipwdHIpCisJc3Ry
dWN0IGdwaW8gKmdwaW8pCiB7Ci0Jc3RydWN0IGh3X2dwaW9fcGluICpwaW47CisJc3RydWN0IGdw
aW9fc2VydmljZSAqc2VydmljZSA9IGdwaW8tPnNlcnZpY2U7CisJZW51bSBncGlvX2lkIGlkID0g
Z3Bpby0+aWQ7CisJdWludDMyX3QgZW4gPSBncGlvLT5lbjsKKwllbnVtIGdwaW9fbW9kZSBtb2Rl
ID0gZ3Bpby0+bW9kZTsKKworCXN0cnVjdCBod19ncGlvX3BpbiAqKnBpbiA9ICZncGlvLT5waW47
CisKIAogCWlmICghc2VydmljZS0+YnVzeW5lc3NbaWRdKSB7CiAJCUFTU0VSVF9DUklUSUNBTChm
YWxzZSk7CkBAIC0zMDgsNTEgKzMxMCw0MyBAQCBlbnVtIGdwaW9fcmVzdWx0IGRhbF9ncGlvX3Nl
cnZpY2Vfb3BlbigKIAogCXN3aXRjaCAoaWQpIHsKIAljYXNlIEdQSU9fSURfRERDX0RBVEE6Ci0J
CXBpbiA9IHNlcnZpY2UtPmZhY3RvcnkuZnVuY3MtPmNyZWF0ZV9kZGNfZGF0YSgKLQkJCXNlcnZp
Y2UtPmN0eCwgaWQsIGVuKTsKLQkJc2VydmljZS0+ZmFjdG9yeS5mdW5jcy0+ZGVmaW5lX2RkY19y
ZWdpc3RlcnMocGluLCBlbik7CisJCSpwaW4gPSBzZXJ2aWNlLT5mYWN0b3J5LmZ1bmNzLT5nZXRf
ZGRjX3BpbihncGlvKTsKKwkJc2VydmljZS0+ZmFjdG9yeS5mdW5jcy0+ZGVmaW5lX2RkY19yZWdp
c3RlcnMoKnBpbiwgZW4pOwogCWJyZWFrOwogCWNhc2UgR1BJT19JRF9ERENfQ0xPQ0s6Ci0JCXBp
biA9IHNlcnZpY2UtPmZhY3RvcnkuZnVuY3MtPmNyZWF0ZV9kZGNfY2xvY2soCi0JCQlzZXJ2aWNl
LT5jdHgsIGlkLCBlbik7Ci0JCXNlcnZpY2UtPmZhY3RvcnkuZnVuY3MtPmRlZmluZV9kZGNfcmVn
aXN0ZXJzKHBpbiwgZW4pOworCQkqcGluID0gc2VydmljZS0+ZmFjdG9yeS5mdW5jcy0+Z2V0X2Rk
Y19waW4oZ3Bpbyk7CisJCXNlcnZpY2UtPmZhY3RvcnkuZnVuY3MtPmRlZmluZV9kZGNfcmVnaXN0
ZXJzKCpwaW4sIGVuKTsKIAlicmVhazsKIAljYXNlIEdQSU9fSURfR0VORVJJQzoKLQkJcGluID0g
c2VydmljZS0+ZmFjdG9yeS5mdW5jcy0+Y3JlYXRlX2dlbmVyaWMoCi0JCQlzZXJ2aWNlLT5jdHgs
IGlkLCBlbik7Ci0JCXNlcnZpY2UtPmZhY3RvcnkuZnVuY3MtPmRlZmluZV9nZW5lcmljX3JlZ2lz
dGVycyhwaW4sIGVuKTsKKwkJKnBpbiA9IHNlcnZpY2UtPmZhY3RvcnkuZnVuY3MtPmdldF9nZW5l
cmljX3BpbihncGlvKTsKKwkJc2VydmljZS0+ZmFjdG9yeS5mdW5jcy0+ZGVmaW5lX2dlbmVyaWNf
cmVnaXN0ZXJzKCpwaW4sIGVuKTsKIAlicmVhazsKIAljYXNlIEdQSU9fSURfSFBEOgotCQlwaW4g
PSBzZXJ2aWNlLT5mYWN0b3J5LmZ1bmNzLT5jcmVhdGVfaHBkKAotCQkJc2VydmljZS0+Y3R4LCBp
ZCwgZW4pOwotCQlzZXJ2aWNlLT5mYWN0b3J5LmZ1bmNzLT5kZWZpbmVfaHBkX3JlZ2lzdGVycyhw
aW4sIGVuKTsKKwkJKnBpbiA9IHNlcnZpY2UtPmZhY3RvcnkuZnVuY3MtPmdldF9ocGRfcGluKGdw
aW8pOworCQlzZXJ2aWNlLT5mYWN0b3J5LmZ1bmNzLT5kZWZpbmVfaHBkX3JlZ2lzdGVycygqcGlu
LCBlbik7CiAJYnJlYWs7CisKKwkvL1RPRE86IGdzbCBhbmQgc3luYyBzdXBwb3J0PyBjcmVhdGVf
c3luYyBhbmQgY3JlYXRlX2dzbCBhcmUgTlVMTAogCWNhc2UgR1BJT19JRF9TWU5DOgotCQlwaW4g
PSBzZXJ2aWNlLT5mYWN0b3J5LmZ1bmNzLT5jcmVhdGVfc3luYygKLQkJCXNlcnZpY2UtPmN0eCwg
aWQsIGVuKTsKLQlicmVhazsKIAljYXNlIEdQSU9fSURfR1NMOgotCQlwaW4gPSBzZXJ2aWNlLT5m
YWN0b3J5LmZ1bmNzLT5jcmVhdGVfZ3NsKAotCQkJc2VydmljZS0+Y3R4LCBpZCwgZW4pOwogCWJy
ZWFrOwogCWRlZmF1bHQ6CiAJCUFTU0VSVF9DUklUSUNBTChmYWxzZSk7CiAJCXJldHVybiBHUElP
X1JFU1VMVF9OT05fU1BFQ0lGSUNfRVJST1I7CiAJfQogCi0JaWYgKCFwaW4pIHsKKwlpZiAoISpw
aW4pIHsKIAkJQVNTRVJUX0NSSVRJQ0FMKGZhbHNlKTsKIAkJcmV0dXJuIEdQSU9fUkVTVUxUX05P
Tl9TUEVDSUZJQ19FUlJPUjsKIAl9CiAKLQlpZiAoIXBpbi0+ZnVuY3MtPm9wZW4ocGluLCBtb2Rl
KSkgeworCWlmICghKCpwaW4pLT5mdW5jcy0+b3BlbigqcGluLCBtb2RlKSkgewogCQlBU1NFUlRf
Q1JJVElDQUwoZmFsc2UpOwotCQlkYWxfZ3Bpb19zZXJ2aWNlX2Nsb3NlKHNlcnZpY2UsICZwaW4p
OworCQlkYWxfZ3Bpb19zZXJ2aWNlX2Nsb3NlKHNlcnZpY2UsIHBpbik7CiAJCXJldHVybiBHUElP
X1JFU1VMVF9PUEVOX0ZBSUxFRDsKIAl9CiAKIAlzZXRfcGluX2J1c3koc2VydmljZSwgaWQsIGVu
KTsKLQkqcHRyID0gcGluOwogCXJldHVybiBHUElPX1JFU1VMVF9PSzsKIH0KIApAQCAtMzc0LDEx
ICszNjgsMTAgQEAgdm9pZCBkYWxfZ3Bpb19zZXJ2aWNlX2Nsb3NlKAogCiAJCXBpbi0+ZnVuY3Mt
PmNsb3NlKHBpbik7CiAKLQkJcGluLT5mdW5jcy0+ZGVzdHJveShwdHIpOworCQkqcHRyID0gTlVM
TDsKIAl9CiB9CiAKLQogZW51bSBkY19pcnFfc291cmNlIGRhbF9pcnFfZ2V0X3NvdXJjZSgKIAlj
b25zdCBzdHJ1Y3QgZ3BpbyAqaXJxKQogewpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9kaXNwbGF5L2RjL2dwaW8vZ3Bpb19zZXJ2aWNlLmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rp
c3BsYXkvZGMvZ3Bpby9ncGlvX3NlcnZpY2UuaAppbmRleCAwYzY3OGFmNzUzMzEuLmI5Nzc1YTEz
MWVjZCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2dwaW8vZ3Bp
b19zZXJ2aWNlLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2dwaW8vZ3Bp
b19zZXJ2aWNlLmgKQEAgLTQyLDExICs0Miw3IEBAIHN0cnVjdCBncGlvX3NlcnZpY2UgewogfTsK
IAogZW51bSBncGlvX3Jlc3VsdCBkYWxfZ3Bpb19zZXJ2aWNlX29wZW4oCi0Jc3RydWN0IGdwaW9f
c2VydmljZSAqc2VydmljZSwKLQllbnVtIGdwaW9faWQgaWQsCi0JdWludDMyX3QgZW4sCi0JZW51
bSBncGlvX21vZGUgbW9kZSwKLQlzdHJ1Y3QgaHdfZ3Bpb19waW4gKipwdHIpOworCXN0cnVjdCBn
cGlvICpncGlvKTsKIAogdm9pZCBkYWxfZ3Bpb19zZXJ2aWNlX2Nsb3NlKAogCXN0cnVjdCBncGlv
X3NlcnZpY2UgKnNlcnZpY2UsCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3Bs
YXkvZGMvZ3Bpby9od19kZGMuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9ncGlv
L2h3X2RkYy5jCmluZGV4IDQ5YTk5MjQ4ZTdmNi4uZTFjODRhMmY3Mjk4IDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZ3Bpby9od19kZGMuYworKysgYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZ3Bpby9od19kZGMuYwpAQCAtMjUsNiArMjUsNyBAQAog
CiAjaW5jbHVkZSAiZG1fc2VydmljZXMuaCIKIAorI2luY2x1ZGUgImluY2x1ZGUvZ3Bpb19pbnRl
cmZhY2UuaCIKICNpbmNsdWRlICJpbmNsdWRlL2dwaW9fdHlwZXMuaCIKICNpbmNsdWRlICJod19n
cGlvLmgiCiAjaW5jbHVkZSAiaHdfZGRjLmgiCkBAIC00Miw2ICs0Myw4IEBACiAjZGVmaW5lIFJF
RyhyZWcpXAogCShkZGMtPnJlZ3MtPnJlZykKIAorc3RydWN0IGdwaW87CisKIHN0YXRpYyB2b2lk
IGRlc3RydWN0KAogCXN0cnVjdCBod19kZGMgKnBpbikKIHsKQEAgLTIyNCwyNCArMjI3LDI5IEBA
IHN0YXRpYyB2b2lkIGNvbnN0cnVjdCgKIAlkZGMtPmJhc2UuYmFzZS5mdW5jcyA9ICZmdW5jczsK
IH0KIAotc3RydWN0IGh3X2dwaW9fcGluICpkYWxfaHdfZGRjX2NyZWF0ZSgKK3ZvaWQgZGFsX2h3
X2RkY19pbml0KAorCXN0cnVjdCBod19kZGMgKipod19kZGMsCiAJc3RydWN0IGRjX2NvbnRleHQg
KmN0eCwKIAllbnVtIGdwaW9faWQgaWQsCiAJdWludDMyX3QgZW4pCiB7Ci0Jc3RydWN0IGh3X2Rk
YyAqcGluOwotCiAJaWYgKChlbiA8IEdQSU9fRERDX0xJTkVfTUlOKSB8fCAoZW4gPiBHUElPX0RE
Q19MSU5FX01BWCkpIHsKIAkJQVNTRVJUX0NSSVRJQ0FMKGZhbHNlKTsKLQkJcmV0dXJuIE5VTEw7
CisJCSpod19kZGMgPSBOVUxMOwogCX0KIAotCXBpbiA9IGt6YWxsb2Moc2l6ZW9mKHN0cnVjdCBo
d19kZGMpLCBHRlBfS0VSTkVMKTsKLQlpZiAoIXBpbikgeworCSpod19kZGMgPSBremFsbG9jKHNp
emVvZihzdHJ1Y3QgaHdfZGRjKSwgR0ZQX0tFUk5FTCk7CisJaWYgKCEqaHdfZGRjKSB7CiAJCUFT
U0VSVF9DUklUSUNBTChmYWxzZSk7Ci0JCXJldHVybiBOVUxMOworCQlyZXR1cm47CiAJfQogCi0J
Y29uc3RydWN0KHBpbiwgaWQsIGVuLCBjdHgpOwotCXJldHVybiAmcGluLT5iYXNlLmJhc2U7CisJ
Y29uc3RydWN0KCpod19kZGMsIGlkLCBlbiwgY3R4KTsKK30KKworc3RydWN0IGh3X2dwaW9fcGlu
ICpkYWxfaHdfZGRjX2dldF9waW4oc3RydWN0IGdwaW8gKmdwaW8pCit7CisJc3RydWN0IGh3X2Rk
YyAqaHdfZGRjID0gZGFsX2dwaW9fZ2V0X2RkYyhncGlvKTsKKworCXJldHVybiAmaHdfZGRjLT5i
YXNlLmJhc2U7CiB9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMv
Z3Bpby9od19kZGMuaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9ncGlvL2h3X2Rk
Yy5oCmluZGV4IDk2OTBlMmE4ODVkNy4uY2MzMGU2NWRmNDMxIDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZ3Bpby9od19kZGMuaAorKysgYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2Rpc3BsYXkvZGMvZ3Bpby9od19kZGMuaApAQCAtMzgsOSArMzgsMTIgQEAgc3RydWN0
IGh3X2RkYyB7CiAjZGVmaW5lIEhXX0REQ19GUk9NX0JBU0UoaHdfZ3BpbykgXAogCWNvbnRhaW5l
cl9vZigoSFdfR1BJT19GUk9NX0JBU0UoaHdfZ3BpbykpLCBzdHJ1Y3QgaHdfZGRjLCBiYXNlKQog
Ci1zdHJ1Y3QgaHdfZ3Bpb19waW4gKmRhbF9od19kZGNfY3JlYXRlKAordm9pZCBkYWxfaHdfZGRj
X2luaXQoCisJc3RydWN0IGh3X2RkYyAqKmh3X2RkYywKIAlzdHJ1Y3QgZGNfY29udGV4dCAqY3R4
LAogCWVudW0gZ3Bpb19pZCBpZCwKIAl1aW50MzJfdCBlbik7CiAKK3N0cnVjdCBod19ncGlvX3Bp
biAqZGFsX2h3X2RkY19nZXRfcGluKHN0cnVjdCBncGlvICpncGlvKTsKKwogI2VuZGlmCmRpZmYg
LS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZ3Bpby9od19mYWN0b3J5Lmgg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZ3Bpby9od19mYWN0b3J5LmgKaW5kZXgg
NzAxN2M5MzM3MzQ4Li5lMTViMDM3ZjNiY2QgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9h
bWQvZGlzcGxheS9kYy9ncGlvL2h3X2ZhY3RvcnkuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2Rpc3BsYXkvZGMvZ3Bpby9od19mYWN0b3J5LmgKQEAgLTI4LDM1ICsyOCwzNSBAQAogCiBzdHJ1
Y3QgaHdfZ3Bpb19waW47CiBzdHJ1Y3QgaHdfaHBkOworc3RydWN0IGh3X2RkYzsKK3N0cnVjdCBo
d19nZW5lcmljOworc3RydWN0IGdwaW87CiAKIHN0cnVjdCBod19mYWN0b3J5IHsKIAl1aW50MzJf
dCBudW1iZXJfb2ZfcGluc1tHUElPX0lEX0NPVU5UXTsKIAogCWNvbnN0IHN0cnVjdCBod19mYWN0
b3J5X2Z1bmNzIHsKLQkJc3RydWN0IGh3X2dwaW9fcGluICooKmNyZWF0ZV9kZGNfZGF0YSkoCi0J
CQlzdHJ1Y3QgZGNfY29udGV4dCAqY3R4LAotCQkJZW51bSBncGlvX2lkIGlkLAotCQkJdWludDMy
X3QgZW4pOwotCQlzdHJ1Y3QgaHdfZ3Bpb19waW4gKigqY3JlYXRlX2RkY19jbG9jaykoCi0JCQlz
dHJ1Y3QgZGNfY29udGV4dCAqY3R4LAotCQkJZW51bSBncGlvX2lkIGlkLAotCQkJdWludDMyX3Qg
ZW4pOwotCQlzdHJ1Y3QgaHdfZ3Bpb19waW4gKigqY3JlYXRlX2dlbmVyaWMpKAotCQkJc3RydWN0
IGRjX2NvbnRleHQgKmN0eCwKLQkJCWVudW0gZ3Bpb19pZCBpZCwKLQkJCXVpbnQzMl90IGVuKTsK
LQkJc3RydWN0IGh3X2dwaW9fcGluICooKmNyZWF0ZV9ocGQpKAotCQkJc3RydWN0IGRjX2NvbnRl
eHQgKmN0eCwKLQkJCWVudW0gZ3Bpb19pZCBpZCwKLQkJCXVpbnQzMl90IGVuKTsKLQkJc3RydWN0
IGh3X2dwaW9fcGluICooKmNyZWF0ZV9zeW5jKSgKLQkJCXN0cnVjdCBkY19jb250ZXh0ICpjdHgs
Ci0JCQllbnVtIGdwaW9faWQgaWQsCi0JCQl1aW50MzJfdCBlbik7Ci0JCXN0cnVjdCBod19ncGlv
X3BpbiAqKCpjcmVhdGVfZ3NsKSgKLQkJCXN0cnVjdCBkY19jb250ZXh0ICpjdHgsCi0JCQllbnVt
IGdwaW9faWQgaWQsCi0JCQl1aW50MzJfdCBlbik7CisJCXZvaWQgKCppbml0X2RkY19kYXRhKSgK
KwkJCQlzdHJ1Y3QgaHdfZGRjICoqaHdfZGRjLAorCQkJCXN0cnVjdCBkY19jb250ZXh0ICpjdHgs
CisJCQkJZW51bSBncGlvX2lkIGlkLAorCQkJCXVpbnQzMl90IGVuKTsKKwkJdm9pZCAoKmluaXRf
Z2VuZXJpYykoCisJCQkJc3RydWN0IGh3X2dlbmVyaWMgKipod19nZW5lcmljLAorCQkJCXN0cnVj
dCBkY19jb250ZXh0ICpjdHgsCisJCQkJZW51bSBncGlvX2lkIGlkLAorCQkJCXVpbnQzMl90IGVu
KTsKKwkJdm9pZCAoKmluaXRfaHBkKSgKKwkJCQlzdHJ1Y3QgaHdfaHBkICoqaHdfaHBkLAorCQkJ
CXN0cnVjdCBkY19jb250ZXh0ICpjdHgsCisJCQkJZW51bSBncGlvX2lkIGlkLAorCQkJCXVpbnQz
Ml90IGVuKTsKKwkJc3RydWN0IGh3X2dwaW9fcGluICooKmdldF9ocGRfcGluKSgKKwkJCQlzdHJ1
Y3QgZ3BpbyAqZ3Bpbyk7CisJCXN0cnVjdCBod19ncGlvX3BpbiAqKCpnZXRfZGRjX3BpbikoCisJ
CQkJc3RydWN0IGdwaW8gKmdwaW8pOworCQlzdHJ1Y3QgaHdfZ3Bpb19waW4gKigqZ2V0X2dlbmVy
aWNfcGluKSgKKwkJCQlzdHJ1Y3QgZ3BpbyAqZ3Bpbyk7CiAJCXZvaWQgKCpkZWZpbmVfaHBkX3Jl
Z2lzdGVycykoCiAJCQkJc3RydWN0IGh3X2dwaW9fcGluICpwaW4sCiAJCQkJdWludDMyX3QgZW4p
OwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2dwaW8vaHdfZ2Vu
ZXJpYy5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2dwaW8vaHdfZ2VuZXJpYy5j
CmluZGV4IGVhMGExZmM4Y2YyMy4uZjAzOWM1OTgyYWM4IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vYW1kL2Rpc3BsYXkvZGMvZ3Bpby9od19nZW5lcmljLmMKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9kaXNwbGF5L2RjL2dwaW8vaHdfZ2VuZXJpYy5jCkBAIC0yNSw2ICsyNSw3IEBACiAK
ICNpbmNsdWRlICJkbV9zZXJ2aWNlcy5oIgogCisjaW5jbHVkZSAiaW5jbHVkZS9ncGlvX2ludGVy
ZmFjZS5oIgogI2luY2x1ZGUgImluY2x1ZGUvZ3Bpb190eXBlcy5oIgogI2luY2x1ZGUgImh3X2dw
aW8uaCIKICNpbmNsdWRlICJod19nZW5lcmljLmgiCkBAIC00MSw2ICs0Miw4IEBACiAjZGVmaW5l
IFJFRyhyZWcpXAogCShnZW5lcmljLT5yZWdzLT5yZWcpCiAKK3N0cnVjdCBncGlvOworCiBzdGF0
aWMgdm9pZCBkYWxfaHdfZ2VuZXJpY19jb25zdHJ1Y3QoCiAJc3RydWN0IGh3X2dlbmVyaWMgKnBp
biwKIAllbnVtIGdwaW9faWQgaWQsCkBAIC0xMDQsMjkgKzEwNywzMCBAQCBzdGF0aWMgdm9pZCBj
b25zdHJ1Y3QoCiAJZ2VuZXJpYy0+YmFzZS5iYXNlLmZ1bmNzID0gJmZ1bmNzOwogfQogCi1zdHJ1
Y3QgaHdfZ3Bpb19waW4gKmRhbF9od19nZW5lcmljX2NyZWF0ZSgKK3ZvaWQgZGFsX2h3X2dlbmVy
aWNfaW5pdCgKKwlzdHJ1Y3QgaHdfZ2VuZXJpYyAqKmh3X2dlbmVyaWMsCiAJc3RydWN0IGRjX2Nv
bnRleHQgKmN0eCwKIAllbnVtIGdwaW9faWQgaWQsCiAJdWludDMyX3QgZW4pCiB7Ci0Jc3RydWN0
IGh3X2dlbmVyaWMgKmdlbmVyaWM7Ci0KLQlpZiAoaWQgIT0gR1BJT19JRF9HRU5FUklDKSB7CisJ
aWYgKChlbiA8IEdQSU9fRERDX0xJTkVfTUlOKSB8fCAoZW4gPiBHUElPX0REQ19MSU5FX01BWCkp
IHsKIAkJQVNTRVJUX0NSSVRJQ0FMKGZhbHNlKTsKLQkJcmV0dXJuIE5VTEw7CisJCSpod19nZW5l
cmljID0gTlVMTDsKIAl9CiAKLQlpZiAoKGVuIDwgR1BJT19HRU5FUklDX01JTikgfHwgKGVuID4g
R1BJT19HRU5FUklDX01BWCkpIHsKKwkqaHdfZ2VuZXJpYyA9IGt6YWxsb2Moc2l6ZW9mKHN0cnVj
dCBod19nZW5lcmljKSwgR0ZQX0tFUk5FTCk7CisJaWYgKCEqaHdfZ2VuZXJpYykgewogCQlBU1NF
UlRfQ1JJVElDQUwoZmFsc2UpOwotCQlyZXR1cm4gTlVMTDsKKwkJcmV0dXJuOwogCX0KIAotCWdl
bmVyaWMgPSBremFsbG9jKHNpemVvZihzdHJ1Y3QgaHdfZ2VuZXJpYyksIEdGUF9LRVJORUwpOwot
CWlmICghZ2VuZXJpYykgewotCQlBU1NFUlRfQ1JJVElDQUwoZmFsc2UpOwotCQlyZXR1cm4gTlVM
TDsKLQl9CisJY29uc3RydWN0KCpod19nZW5lcmljLCBpZCwgZW4sIGN0eCk7Cit9CisKKworc3Ry
dWN0IGh3X2dwaW9fcGluICpkYWxfaHdfZ2VuZXJpY19nZXRfcGluKHN0cnVjdCBncGlvICpncGlv
KQoreworCXN0cnVjdCBod19nZW5lcmljICpod19nZW5lcmljID0gZGFsX2dwaW9fZ2V0X2dlbmVy
aWMoZ3Bpbyk7CiAKLQljb25zdHJ1Y3QoZ2VuZXJpYywgaWQsIGVuLCBjdHgpOwotCXJldHVybiAm
Z2VuZXJpYy0+YmFzZS5iYXNlOworCXJldHVybiAmaHdfZ2VuZXJpYy0+YmFzZS5iYXNlOwogfQpk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2dwaW8vaHdfZ2VuZXJp
Yy5oIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2dwaW8vaHdfZ2VuZXJpYy5oCmlu
ZGV4IDNlYTFjMTNlM2VhNi4uYmQ2ZmZlYjVlOWRmIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL2Rpc3BsYXkvZGMvZ3Bpby9od19nZW5lcmljLmgKKysrIGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9kaXNwbGF5L2RjL2dwaW8vaHdfZ2VuZXJpYy5oCkBAIC0yNyw2ICsyNyw3IEBACiAjZGVm
aW5lIF9fREFMX0hXX2dlbmVyaWNfSF9fCiAKICNpbmNsdWRlICJnZW5lcmljX3JlZ3MuaCIKKyNp
bmNsdWRlICJod19ncGlvLmgiCiAKIHN0cnVjdCBod19nZW5lcmljIHsKIAlzdHJ1Y3QgaHdfZ3Bp
byBiYXNlOwpAQCAtMzgsOSArMzksMTIgQEAgc3RydWN0IGh3X2dlbmVyaWMgewogI2RlZmluZSBI
V19HRU5FUklDX0ZST01fQkFTRShod19ncGlvKSBcCiAJY29udGFpbmVyX29mKChIV19HUElPX0ZS
T01fQkFTRShod19ncGlvKSksIHN0cnVjdCBod19nZW5lcmljLCBiYXNlKQogCi1zdHJ1Y3QgaHdf
Z3Bpb19waW4gKmRhbF9od19nZW5lcmljX2NyZWF0ZSgKK3ZvaWQgZGFsX2h3X2dlbmVyaWNfaW5p
dCgKKwlzdHJ1Y3QgaHdfZ2VuZXJpYyAqKmh3X2dlbmVyaWMsCiAJc3RydWN0IGRjX2NvbnRleHQg
KmN0eCwKIAllbnVtIGdwaW9faWQgaWQsCiAJdWludDMyX3QgZW4pOwogCitzdHJ1Y3QgaHdfZ3Bp
b19waW4gKmRhbF9od19nZW5lcmljX2dldF9waW4oc3RydWN0IGdwaW8gKmdwaW8pOworCiAjZW5k
aWYKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9ncGlvL2h3X2hw
ZC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2dwaW8vaHdfaHBkLmMKaW5kZXgg
Nzg0ZmVjY2M1ODUzLi44ODc5OGNmMzk2NWUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9h
bWQvZGlzcGxheS9kYy9ncGlvL2h3X2hwZC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlz
cGxheS9kYy9ncGlvL2h3X2hwZC5jCkBAIC0yNSw2ICsyNSw3IEBACiAKICNpbmNsdWRlICJkbV9z
ZXJ2aWNlcy5oIgogCisjaW5jbHVkZSAiaW5jbHVkZS9ncGlvX2ludGVyZmFjZS5oIgogI2luY2x1
ZGUgImluY2x1ZGUvZ3Bpb190eXBlcy5oIgogI2luY2x1ZGUgImh3X2dwaW8uaCIKICNpbmNsdWRl
ICJod19ocGQuaCIKQEAgLTQxLDYgKzQyLDggQEAKICNkZWZpbmUgUkVHKHJlZylcCiAJKGhwZC0+
cmVncy0+cmVnKQogCitzdHJ1Y3QgZ3BpbzsKKwogc3RhdGljIHZvaWQgZGFsX2h3X2hwZF9jb25z
dHJ1Y3QoCiAJc3RydWN0IGh3X2hwZCAqcGluLAogCWVudW0gZ3Bpb19pZCBpZCwKQEAgLTEzNCwy
OSArMTM3LDI5IEBAIHN0YXRpYyB2b2lkIGNvbnN0cnVjdCgKIAlocGQtPmJhc2UuYmFzZS5mdW5j
cyA9ICZmdW5jczsKIH0KIAotc3RydWN0IGh3X2dwaW9fcGluICpkYWxfaHdfaHBkX2NyZWF0ZSgK
K3ZvaWQgZGFsX2h3X2hwZF9pbml0KAorCXN0cnVjdCBod19ocGQgKipod19ocGQsCiAJc3RydWN0
IGRjX2NvbnRleHQgKmN0eCwKIAllbnVtIGdwaW9faWQgaWQsCiAJdWludDMyX3QgZW4pCiB7Ci0J
c3RydWN0IGh3X2hwZCAqaHBkOwotCi0JaWYgKGlkICE9IEdQSU9fSURfSFBEKSB7CisJaWYgKChl
biA8IEdQSU9fRERDX0xJTkVfTUlOKSB8fCAoZW4gPiBHUElPX0REQ19MSU5FX01BWCkpIHsKIAkJ
QVNTRVJUX0NSSVRJQ0FMKGZhbHNlKTsKLQkJcmV0dXJuIE5VTEw7CisJCSpod19ocGQgPSBOVUxM
OwogCX0KIAotCWlmICgoZW4gPCBHUElPX0hQRF9NSU4pIHx8IChlbiA+IEdQSU9fSFBEX01BWCkp
IHsKKwkqaHdfaHBkID0ga3phbGxvYyhzaXplb2Yoc3RydWN0IGh3X2hwZCksIEdGUF9LRVJORUwp
OworCWlmICghKmh3X2hwZCkgewogCQlBU1NFUlRfQ1JJVElDQUwoZmFsc2UpOwotCQlyZXR1cm4g
TlVMTDsKKwkJcmV0dXJuOwogCX0KIAotCWhwZCA9IGt6YWxsb2Moc2l6ZW9mKHN0cnVjdCBod19o
cGQpLCBHRlBfS0VSTkVMKTsKLQlpZiAoIWhwZCkgewotCQlBU1NFUlRfQ1JJVElDQUwoZmFsc2Up
OwotCQlyZXR1cm4gTlVMTDsKLQl9CisJY29uc3RydWN0KCpod19ocGQsIGlkLCBlbiwgY3R4KTsK
K30KKworc3RydWN0IGh3X2dwaW9fcGluICpkYWxfaHdfaHBkX2dldF9waW4oc3RydWN0IGdwaW8g
KmdwaW8pCit7CisJc3RydWN0IGh3X2hwZCAqaHdfaHBkID0gZGFsX2dwaW9fZ2V0X2hwZChncGlv
KTsKIAotCWNvbnN0cnVjdChocGQsIGlkLCBlbiwgY3R4KTsKLQlyZXR1cm4gJmhwZC0+YmFzZS5i
YXNlOworCXJldHVybiAmaHdfaHBkLT5iYXNlLmJhc2U7CiB9CmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZ3Bpby9od19ocGQuaCBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvZGlzcGxheS9kYy9ncGlvL2h3X2hwZC5oCmluZGV4IDRhYjdhMjA4Zjc4MS4uZTdkOGIzYmIw
MTZjIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZ3Bpby9od19o
cGQuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZ3Bpby9od19ocGQuaApA
QCAtMzgsOSArMzgsMTIgQEAgc3RydWN0IGh3X2hwZCB7CiAjZGVmaW5lIEhXX0hQRF9GUk9NX0JB
U0UoaHdfZ3BpbykgXAogCWNvbnRhaW5lcl9vZigoSFdfR1BJT19GUk9NX0JBU0UoaHdfZ3Bpbykp
LCBzdHJ1Y3QgaHdfaHBkLCBiYXNlKQogCi1zdHJ1Y3QgaHdfZ3Bpb19waW4gKmRhbF9od19ocGRf
Y3JlYXRlKAordm9pZCBkYWxfaHdfaHBkX2luaXQoCisJc3RydWN0IGh3X2hwZCAqKmh3X2hwZCwK
IAlzdHJ1Y3QgZGNfY29udGV4dCAqY3R4LAogCWVudW0gZ3Bpb19pZCBpZCwKIAl1aW50MzJfdCBl
bik7CiAKK3N0cnVjdCBod19ncGlvX3BpbiAqZGFsX2h3X2hwZF9nZXRfcGluKHN0cnVjdCBncGlv
ICpncGlvKTsKKwogI2VuZGlmCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3Bs
YXkvZGMvaW5jL2h3L2dwaW8uaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9pbmMv
aHcvZ3Bpby5oCmluZGV4IDkwZDAxNDg0MzBmYi4uNTI1M2RjOGIxNWY4IDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvaW5jL2h3L2dwaW8uaAorKysgYi9kcml2ZXJz
L2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvaW5jL2h3L2dwaW8uaApAQCAtMjgsMTIgKzI4LDIyIEBA
CiAKICNpbmNsdWRlICJncGlvX3R5cGVzLmgiCiAKKwordW5pb24gZ3Bpb19od19jb250YWluZXIg
eworCXN0cnVjdCBod19kZGMgKmRkYzsKKwlzdHJ1Y3QgaHdfZ2VuZXJpYyAqZ2VuZXJpYzsKKwlz
dHJ1Y3QgaHdfaHBkICpocGQ7Cit9OworCiBzdHJ1Y3QgZ3BpbyB7CiAJc3RydWN0IGdwaW9fc2Vy
dmljZSAqc2VydmljZTsKIAlzdHJ1Y3QgaHdfZ3Bpb19waW4gKnBpbjsKIAllbnVtIGdwaW9faWQg
aWQ7CiAJdWludDMyX3QgZW47CisKKwl1bmlvbiBncGlvX2h3X2NvbnRhaW5lciBod19jb250YWlu
ZXI7CiAJZW51bSBncGlvX21vZGUgbW9kZTsKKwogCS8qIHdoZW4gR1BJTyBjb21lcyBmcm9tIFZC
SU9TLCBpdCBoYXMgZGVmaW5lZCBvdXRwdXQgc3RhdGUgKi8KIAllbnVtIGdwaW9fcGluX291dHB1
dF9zdGF0ZSBvdXRwdXRfc3RhdGU7CiB9OwpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9kaXNwbGF5L2luY2x1ZGUvZ3Bpb19pbnRlcmZhY2UuaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
ZGlzcGxheS9pbmNsdWRlL2dwaW9faW50ZXJmYWNlLmgKaW5kZXggN2RlNjQxOTVkYzMzLi41ZTg4
OGEwOTNjMTYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9pbmNsdWRl
L2dwaW9faW50ZXJmYWNlLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2luY2x1
ZGUvZ3Bpb19pbnRlcmZhY2UuaApAQCAtOTMsOCArOTMsMTcgQEAgZW51bSBzeW5jX3NvdXJjZSBk
YWxfZ3Bpb19nZXRfc3luY19zb3VyY2UoCiBlbnVtIGdwaW9fcGluX291dHB1dF9zdGF0ZSBkYWxf
Z3Bpb19nZXRfb3V0cHV0X3N0YXRlKAogCWNvbnN0IHN0cnVjdCBncGlvICpncGlvKTsKIAorc3Ry
dWN0IGh3X2RkYyAqZGFsX2dwaW9fZ2V0X2RkYyhzdHJ1Y3QgZ3BpbyAqZ3Bpbyk7CisKK3N0cnVj
dCBod19ocGQgKmRhbF9ncGlvX2dldF9ocGQoc3RydWN0IGdwaW8gKmdwaW8pOworCitzdHJ1Y3Qg
aHdfZ2VuZXJpYyAqZGFsX2dwaW9fZ2V0X2dlbmVyaWMoc3RydWN0IGdwaW8gKmdwaW8pOworCiAv
KiBDbG9zZSB0aGUgaGFuZGxlICovCiB2b2lkIGRhbF9ncGlvX2Nsb3NlKAogCXN0cnVjdCBncGlv
ICpncGlvKTsKIAorCisKKwogI2VuZGlmCi0tIAoyLjIyLjAKCl9fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhA
bGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxt
YW4vbGlzdGluZm8vYW1kLWdmeA==
