Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id A3E4510194
	for <lists+amd-gfx@lfdr.de>; Tue, 30 Apr 2019 23:10:24 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 176E4892F0;
	Tue, 30 Apr 2019 21:10:22 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM01-BN3-obe.outbound.protection.outlook.com
 (mail-eopbgr740088.outbound.protection.outlook.com [40.107.74.88])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 40128892B7
 for <amd-gfx@lists.freedesktop.org>; Tue, 30 Apr 2019 21:10:12 +0000 (UTC)
Received: from DM3PR12CA0108.namprd12.prod.outlook.com (2603:10b6:0:55::28) by
 CH2PR12MB3752.namprd12.prod.outlook.com (2603:10b6:610:25::30) with
 Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1835.15; Tue, 30 Apr 2019 21:10:10 +0000
Received: from BY2NAM03FT009.eop-NAM03.prod.protection.outlook.com
 (2a01:111:f400:7e4a::201) by DM3PR12CA0108.outlook.office365.com
 (2603:10b6:0:55::28) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384) id 15.20.1835.12 via Frontend
 Transport; Tue, 30 Apr 2019 21:10:09 +0000
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
Received: from SATLEXCHOV01.amd.com (165.204.84.17) by
 BY2NAM03FT009.mail.protection.outlook.com (10.152.84.120) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384) id
 15.20.1835.14 via Frontend Transport; Tue, 30 Apr 2019 21:10:09 +0000
Received: from blakha.amd.com (10.180.168.240) by SATLEXCHOV01.amd.com
 (10.181.40.71) with Microsoft SMTP Server id 14.3.389.1; Tue, 30 Apr 2019
 16:09:55 -0500
From: Bhawanpreet Lakha <Bhawanpreet.Lakha@amd.com>
To: <amd-gfx@lists.freedesktop.org>
Subject: [PATCH 16/20] drm/amd/display: stop external access to internal optc
 sync params
Date: Tue, 30 Apr 2019 17:09:30 -0400
Message-ID: <20190430210938.32335-33-Bhawanpreet.Lakha@amd.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20190430210938.32335-1-Bhawanpreet.Lakha@amd.com>
References: <20190430210938.32335-1-Bhawanpreet.Lakha@amd.com>
MIME-Version: 1.0
X-EOPAttributedMessage: 0
X-MS-Office365-Filtering-HT: Tenant
X-Forefront-Antispam-Report: CIP:165.204.84.17; IPV:NLI; CTRY:US; EFV:NLI;
 SFV:NSPM;
 SFS:(10009020)(346002)(376002)(136003)(396003)(39860400002)(2980300002)(428003)(189003)(199004)(53416004)(14444005)(81166006)(47776003)(81156014)(2616005)(446003)(356004)(70586007)(6666004)(7696005)(70206006)(2351001)(50466002)(476003)(48376002)(16586007)(8936002)(11346002)(316002)(8676002)(126002)(72206003)(50226002)(478600001)(86362001)(36756003)(30864003)(6916009)(1076003)(77096007)(26005)(5660300002)(4326008)(486006)(426003)(53936002)(2906002)(76176011)(305945005)(68736007)(51416003)(186003)(336012);
 DIR:OUT; SFP:1101; SCL:1; SRVR:CH2PR12MB3752; H:SATLEXCHOV01.amd.com; FPR:;
 SPF:None; LANG:en; PTR:InfoDomainNonexistent; MX:1; A:1; 
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-Correlation-Id: 778a48f8-4f9d-4d62-7bce-08d6cdb03a6c
X-Microsoft-Antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600141)(711020)(4605104)(2017052603328);
 SRVR:CH2PR12MB3752; 
X-MS-TrafficTypeDiagnostic: CH2PR12MB3752:
X-Microsoft-Antispam-PRVS: <CH2PR12MB3752405EF724BBFFFBBEE77AF93A0@CH2PR12MB3752.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:4125;
X-Forefront-PRVS: 00235A1EEF
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam-Message-Info: nOEm2GJcUJxPu9jYdzzsyXgQQineI/Lx8ISEEA8XAQPfw3HZt31htxm01OdoqLrsSxqY6Yys62mRcGyqFafl5j7oWAldi+EXEdnqQ4jQbL/vzqtCAJomp9tBqt7HlHUlInZEPfRvBzEN14T91kyNWBuTp7UxQithCxHKskrfXoLYlnB9Wgu1LjFl/DW9mffFEJdwfSlfDtV669pCPh6FrQ4HUcxg8KlV/46U8S98AZk6zNXzLKVOPmfC8iaKO7qHdyD34Yx9EIih76Lz/k7l9Hr9pgUbx2xMc9hMCmp3vEBZSQeKguoJ1dRU6uuvxtSrSuFAFRZpg13L4zJo23haYeNueAKkLH/tjxqleqOqMQ9tx2zEsqyfIjTAtlgFMmlOnyWI1Qkaa608yodqEGnVvL1dV0XEHWaplaWes+Oz/Eo=
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 30 Apr 2019 21:10:09.5838 (UTC)
X-MS-Exchange-CrossTenant-Network-Message-Id: 778a48f8-4f9d-4d62-7bce-08d6cdb03a6c
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-OriginalAttributedTenantConnectingIp: TenantId=3dd8961f-e488-4e60-8e11-a82d994e183d; Ip=[165.204.84.17];
 Helo=[SATLEXCHOV01.amd.com]
X-MS-Exchange-CrossTenant-FromEntityHeader: HybridOnPrem
X-MS-Exchange-Transport-CrossTenantHeadersStamped: CH2PR12MB3752
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amd-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=qMMMOovWnpMa7/IUtZgYjNc3CKnRSOwIA2DgtQ3ExYI=;
 b=Orxcgoht1KC4Zj4CDWi+2v+pe/XsjoPWUzxXE3LPZhFCPHwyu7wbS8PMOKtAF+oaXESGtNxLXwJY54xPNbQ16rNNfQ8tPOsTEJJTLKYsYxK6rYmgfS5C4wlwyxlCzzGdeWasTlbs1+Zlj90nko2GAxFkyOjul3UMFqjGSgZsFKc=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is
 165.204.84.17)
 smtp.mailfrom=amd.com; lists.freedesktop.org; dkim=none (message not signed)
 header.d=none;lists.freedesktop.org; dmarc=permerror action=none
 header.from=amd.com;
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Dmytro Laktyushkin <Dmytro.Laktyushkin@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogRG15dHJvIExha3R5dXNoa2luIDxEbXl0cm8uTGFrdHl1c2hraW5AYW1kLmNvbT4KClRo
ZXNlIGFyZSBpbnRlcm5hbCBvdGcgcGFyYW1zIGFuZCBzaG91bGQgYmUgaGFuZGxlZCBhcyBzdWNo
LgpUaGljaCBjaGFuZ2UgcGFzc2VzIHRoZSBwYXJhbXMgYXMgZnVuY3Rpb24gYXJndW1lbnRzLgoK
Q2hhbmdlLUlkOiBJODRjYWNjZDMzMGM1OTk5NDg2NWZlMjE1N2FhMWFmMTM3MTIyZGYxMgpTaWdu
ZWQtb2ZmLWJ5OiBEbXl0cm8gTGFrdHl1c2hraW4gPERteXRyby5MYWt0eXVzaGtpbkBhbWQuY29t
PgpSZXZpZXdlZC1ieTogRXJpYyBCZXJuc3RlaW4gPEVyaWMuQmVybnN0ZWluQGFtZC5jb20+CkFj
a2VkLWJ5OiBCaGF3YW5wcmVldCBMYWtoYSA8Qmhhd2FucHJlZXQgTGFraGFAYW1kLmNvbT4KLS0t
CiAuLi4vZGlzcGxheS9kYy9kY2UxMTAvZGNlMTEwX2h3X3NlcXVlbmNlci5jICAgfCAgNSArKwog
Li4uL2FtZC9kaXNwbGF5L2RjL2RjZTExMC9kY2UxMTBfcmVzb3VyY2UuYyAgIHwgIDUgKysKIC4u
Li9kYy9kY2UxMTAvZGNlMTEwX3RpbWluZ19nZW5lcmF0b3IuYyAgICAgICB8ICA1ICsrCiAuLi4v
ZGMvZGNlMTEwL2RjZTExMF90aW1pbmdfZ2VuZXJhdG9yLmggICAgICAgfCAgNSArKwogLi4uL2Rj
L2RjZTExMC9kY2UxMTBfdGltaW5nX2dlbmVyYXRvcl92LmMgICAgIHwgIDUgKysKIC4uLi9kYy9k
Y2UxMjAvZGNlMTIwX3RpbWluZ19nZW5lcmF0b3IuYyAgICAgICB8ICA3ICsrLQogLi4uL2Rpc3Bs
YXkvZGMvZGNlODAvZGNlODBfdGltaW5nX2dlbmVyYXRvci5jIHwgIDcgKystCiAuLi4vYW1kL2Rp
c3BsYXkvZGMvZGNuMTAvZGNuMTBfaHdfc2VxdWVuY2VyLmMgfCAyNSArKysrKy0tLS0tCiAuLi4v
Z3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24xMC9kY24xMF9vcHRjLmMgfCA0NyArKysrKysrKysr
KysrKy0tLS0tCiAuLi4vZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24xMC9kY24xMF9vcHRjLmgg
fCAxNyArKysrKystCiAuLi4vYW1kL2Rpc3BsYXkvZGMvaW5jL2h3L3RpbWluZ19nZW5lcmF0b3Iu
aCAgfCAyMyArKysrLS0tLS0KIDExIGZpbGVzIGNoYW5nZWQsIDExMSBpbnNlcnRpb25zKCspLCA0
MCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkv
ZGMvZGNlMTEwL2RjZTExMF9od19zZXF1ZW5jZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlz
cGxheS9kYy9kY2UxMTAvZGNlMTEwX2h3X3NlcXVlbmNlci5jCmluZGV4IDdkN2U5M2M4N2MyOC4u
NTkxOTcxNjgzMmE1IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMv
ZGNlMTEwL2RjZTExMF9od19zZXF1ZW5jZXIuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rp
c3BsYXkvZGMvZGNlMTEwL2RjZTExMF9od19zZXF1ZW5jZXIuYwpAQCAtMTI5OSw2ICsxMjk5LDEx
IEBAIHN0YXRpYyBlbnVtIGRjX3N0YXR1cyBkY2UxMTBfZW5hYmxlX3N0cmVhbV90aW1pbmcoCiAJ
CXBpcGVfY3R4LT5zdHJlYW1fcmVzLnRnLT5mdW5jcy0+cHJvZ3JhbV90aW1pbmcoCiAJCQkJcGlw
ZV9jdHgtPnN0cmVhbV9yZXMudGcsCiAJCQkJJnN0cmVhbS0+dGltaW5nLAorCQkJCTAsCisJCQkJ
MCwKKwkJCQkwLAorCQkJCTAsCisJCQkJcGlwZV9jdHgtPnN0cmVhbS0+c2lnbmFsLAogCQkJCXRy
dWUpOwogCX0KIApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2Rj
ZTExMC9kY2UxMTBfcmVzb3VyY2UuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9k
Y2UxMTAvZGNlMTEwX3Jlc291cmNlLmMKaW5kZXggZGNkMDRlOWVhNzZiLi4zNWI1OGEwODVmNWMg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY2UxMTAvZGNlMTEw
X3Jlc291cmNlLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjZTExMC9k
Y2UxMTBfcmVzb3VyY2UuYwpAQCAtMTA5Nyw2ICsxMDk3LDExIEBAIHN0YXRpYyBzdHJ1Y3QgcGlw
ZV9jdHggKmRjZTExMF9hY3F1aXJlX3VuZGVybGF5KAogCiAJCXBpcGVfY3R4LT5zdHJlYW1fcmVz
LnRnLT5mdW5jcy0+cHJvZ3JhbV90aW1pbmcocGlwZV9jdHgtPnN0cmVhbV9yZXMudGcsCiAJCQkJ
JnN0cmVhbS0+dGltaW5nLAorCQkJCTAsCisJCQkJMCwKKwkJCQkwLAorCQkJCTAsCisJCQkJcGlw
ZV9jdHgtPnN0cmVhbS0+c2lnbmFsLAogCQkJCWZhbHNlKTsKIAogCQlwaXBlX2N0eC0+c3RyZWFt
X3Jlcy50Zy0+ZnVuY3MtPmVuYWJsZV9hZHZhbmNlZF9yZXF1ZXN0KApkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjZTExMC9kY2UxMTBfdGltaW5nX2dlbmVyYXRv
ci5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjZTExMC9kY2UxMTBfdGltaW5n
X2dlbmVyYXRvci5jCmluZGV4IDFiMmZlMGRmMzQ3Zi4uNWY3YzJjNTY0MWM0IDEwMDY0NAotLS0g
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNlMTEwL2RjZTExMF90aW1pbmdfZ2Vu
ZXJhdG9yLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjZTExMC9kY2Ux
MTBfdGltaW5nX2dlbmVyYXRvci5jCkBAIC0xOTUyLDYgKzE5NTIsMTEgQEAgdm9pZCBkY2UxMTBf
dGdfc2V0X292ZXJzY2FuX2NvbG9yKHN0cnVjdCB0aW1pbmdfZ2VuZXJhdG9yICp0ZywKIAogdm9p
ZCBkY2UxMTBfdGdfcHJvZ3JhbV90aW1pbmcoc3RydWN0IHRpbWluZ19nZW5lcmF0b3IgKnRnLAog
CWNvbnN0IHN0cnVjdCBkY19jcnRjX3RpbWluZyAqdGltaW5nLAorCWludCB2cmVhZHlfb2Zmc2V0
LAorCWludCB2c3RhcnR1cF9zdGFydCwKKwlpbnQgdnVwZGF0ZV9vZmZzZXQsCisJaW50IHZ1cGRh
dGVfd2lkdGgsCisJY29uc3QgZW51bSBzaWduYWxfdHlwZSBzaWduYWwsCiAJYm9vbCB1c2VfdmJp
b3MpCiB7CiAJaWYgKHVzZV92YmlvcykKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQv
ZGlzcGxheS9kYy9kY2UxMTAvZGNlMTEwX3RpbWluZ19nZW5lcmF0b3IuaCBiL2RyaXZlcnMvZ3B1
L2RybS9hbWQvZGlzcGxheS9kYy9kY2UxMTAvZGNlMTEwX3RpbWluZ19nZW5lcmF0b3IuaAppbmRl
eCA3MzRkNDk2NWRhYjEuLjc2OGNjZjI3YWRhOSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9kaXNwbGF5L2RjL2RjZTExMC9kY2UxMTBfdGltaW5nX2dlbmVyYXRvci5oCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY2UxMTAvZGNlMTEwX3RpbWluZ19nZW5lcmF0
b3IuaApAQCAtMjU2LDYgKzI1NiwxMSBAQCB2b2lkIGRjZTExMF90Z19zZXRfb3ZlcnNjYW5fY29s
b3Ioc3RydWN0IHRpbWluZ19nZW5lcmF0b3IgKnRnLAogCiB2b2lkIGRjZTExMF90Z19wcm9ncmFt
X3RpbWluZyhzdHJ1Y3QgdGltaW5nX2dlbmVyYXRvciAqdGcsCiAJY29uc3Qgc3RydWN0IGRjX2Ny
dGNfdGltaW5nICp0aW1pbmcsCisJaW50IHZyZWFkeV9vZmZzZXQsCisJaW50IHZzdGFydHVwX3N0
YXJ0LAorCWludCB2dXBkYXRlX29mZnNldCwKKwlpbnQgdnVwZGF0ZV93aWR0aCwKKwljb25zdCBl
bnVtIHNpZ25hbF90eXBlIHNpZ25hbCwKIAlib29sIHVzZV92Ymlvcyk7CiAKIGJvb2wgZGNlMTEw
X3RnX2lzX2JsYW5rZWQoc3RydWN0IHRpbWluZ19nZW5lcmF0b3IgKnRnKTsKZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY2UxMTAvZGNlMTEwX3RpbWluZ19nZW5l
cmF0b3Jfdi5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjZTExMC9kY2UxMTBf
dGltaW5nX2dlbmVyYXRvcl92LmMKaW5kZXggYTNjZWY2MDM4MGVkLi5hMTNhMmY1ODk0NGUgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY2UxMTAvZGNlMTEwX3Rp
bWluZ19nZW5lcmF0b3Jfdi5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9k
Y2UxMTAvZGNlMTEwX3RpbWluZ19nZW5lcmF0b3Jfdi5jCkBAIC00MzUsNiArNDM1LDExIEBAIHN0
YXRpYyB2b2lkIGRjZTExMF90aW1pbmdfZ2VuZXJhdG9yX3Zfc2V0X2JsYW5rKHN0cnVjdCB0aW1p
bmdfZ2VuZXJhdG9yICp0ZywKIAogc3RhdGljIHZvaWQgZGNlMTEwX3RpbWluZ19nZW5lcmF0b3Jf
dl9wcm9ncmFtX3RpbWluZyhzdHJ1Y3QgdGltaW5nX2dlbmVyYXRvciAqdGcsCiAJY29uc3Qgc3Ry
dWN0IGRjX2NydGNfdGltaW5nICp0aW1pbmcsCisJaW50IHZyZWFkeV9vZmZzZXQsCisJaW50IHZz
dGFydHVwX3N0YXJ0LAorCWludCB2dXBkYXRlX29mZnNldCwKKwlpbnQgdnVwZGF0ZV93aWR0aCwK
Kwljb25zdCBlbnVtIHNpZ25hbF90eXBlIHNpZ25hbCwKIAlib29sIHVzZV92YmlvcykKIHsKIAlp
ZiAodXNlX3ZiaW9zKQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2Rj
L2RjZTEyMC9kY2UxMjBfdGltaW5nX2dlbmVyYXRvci5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9k
aXNwbGF5L2RjL2RjZTEyMC9kY2UxMjBfdGltaW5nX2dlbmVyYXRvci5jCmluZGV4IDA0Yjg2NmYw
ZmExZi4uNWViYmJkYTc3MDIxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3Bs
YXkvZGMvZGNlMTIwL2RjZTEyMF90aW1pbmdfZ2VuZXJhdG9yLmMKKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9kaXNwbGF5L2RjL2RjZTEyMC9kY2UxMjBfdGltaW5nX2dlbmVyYXRvci5jCkBAIC03
MzQsOCArNzM0LDEzIEBAIHZvaWQgZGNlMTIwX3RnX3NldF9vdmVyc2Nhbl9jb2xvcihzdHJ1Y3Qg
dGltaW5nX2dlbmVyYXRvciAqdGcsCiAJCUNSVENfT1ZFUlNDQU5fQ09MT1JfUkVELCBvdmVyc2Nh
bl9jb2xvci0+Y29sb3Jfcl9jcik7CiB9CiAKLXZvaWQgZGNlMTIwX3RnX3Byb2dyYW1fdGltaW5n
KHN0cnVjdCB0aW1pbmdfZ2VuZXJhdG9yICp0ZywKK3N0YXRpYyB2b2lkIGRjZTEyMF90Z19wcm9n
cmFtX3RpbWluZyhzdHJ1Y3QgdGltaW5nX2dlbmVyYXRvciAqdGcsCiAJY29uc3Qgc3RydWN0IGRj
X2NydGNfdGltaW5nICp0aW1pbmcsCisJaW50IHZyZWFkeV9vZmZzZXQsCisJaW50IHZzdGFydHVw
X3N0YXJ0LAorCWludCB2dXBkYXRlX29mZnNldCwKKwlpbnQgdnVwZGF0ZV93aWR0aCwKKwljb25z
dCBlbnVtIHNpZ25hbF90eXBlIHNpZ25hbCwKIAlib29sIHVzZV92YmlvcykKIHsKIAlpZiAodXNl
X3ZiaW9zKQpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjZTgw
L2RjZTgwX3RpbWluZ19nZW5lcmF0b3IuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9k
Yy9kY2U4MC9kY2U4MF90aW1pbmdfZ2VuZXJhdG9yLmMKaW5kZXggOGI1Y2U1NTdlZTcxLi4zOTdl
N2Y5NGUxZTggMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY2U4
MC9kY2U4MF90aW1pbmdfZ2VuZXJhdG9yLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNw
bGF5L2RjL2RjZTgwL2RjZTgwX3RpbWluZ19nZW5lcmF0b3IuYwpAQCAtMTA3LDEyICsxMDcsMTcg
QEAgc3RhdGljIHZvaWQgcHJvZ3JhbV9waXhfZHVyKHN0cnVjdCB0aW1pbmdfZ2VuZXJhdG9yICp0
ZywgdWludDMyX3QgcGl4X2Nsa18xMDBoeikKIAogc3RhdGljIHZvaWQgcHJvZ3JhbV90aW1pbmco
c3RydWN0IHRpbWluZ19nZW5lcmF0b3IgKnRnLAogCWNvbnN0IHN0cnVjdCBkY19jcnRjX3RpbWlu
ZyAqdGltaW5nLAorCWludCB2cmVhZHlfb2Zmc2V0LAorCWludCB2c3RhcnR1cF9zdGFydCwKKwlp
bnQgdnVwZGF0ZV9vZmZzZXQsCisJaW50IHZ1cGRhdGVfd2lkdGgsCisJY29uc3QgZW51bSBzaWdu
YWxfdHlwZSBzaWduYWwsCiAJYm9vbCB1c2VfdmJpb3MpCiB7CiAJaWYgKCF1c2VfdmJpb3MpCiAJ
CXByb2dyYW1fcGl4X2R1cih0ZywgdGltaW5nLT5waXhfY2xrXzEwMGh6KTsKIAotCWRjZTExMF90
Z19wcm9ncmFtX3RpbWluZyh0ZywgdGltaW5nLCB1c2VfdmJpb3MpOworCWRjZTExMF90Z19wcm9n
cmFtX3RpbWluZyh0ZywgdGltaW5nLCAwLCAwLCAwLCAwLCAwLCB1c2VfdmJpb3MpOwogfQogCiBz
dGF0aWMgdm9pZCBkY2U4MF90aW1pbmdfZ2VuZXJhdG9yX2VuYWJsZV9hZHZhbmNlZF9yZXF1ZXN0
KApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjEwL2RjbjEw
X2h3X3NlcXVlbmNlci5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjEwL2Rj
bjEwX2h3X3NlcXVlbmNlci5jCmluZGV4IGM2Nzk0MmFlMTkyMC4uNzIzYjJkZGY5YWE1IDEwMDY0
NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMTAvZGNuMTBfaHdfc2Vx
dWVuY2VyLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjEwL2RjbjEw
X2h3X3NlcXVlbmNlci5jCkBAIC02NTgsMTYgKzY1OCwxNSBAQCBzdGF0aWMgZW51bSBkY19zdGF0
dXMgZGNuMTBfZW5hYmxlX3N0cmVhbV90aW1pbmcoCiAJCUJSRUFLX1RPX0RFQlVHR0VSKCk7CiAJ
CXJldHVybiBEQ19FUlJPUl9VTkVYUEVDVEVEOwogCX0KLQlwaXBlX2N0eC0+c3RyZWFtX3Jlcy50
Zy0+ZGxnX290Z19wYXJhbS52cmVhZHlfb2Zmc2V0ID0gcGlwZV9jdHgtPnBpcGVfZGxnX3BhcmFt
LnZyZWFkeV9vZmZzZXQ7Ci0JcGlwZV9jdHgtPnN0cmVhbV9yZXMudGctPmRsZ19vdGdfcGFyYW0u
dnN0YXJ0dXBfc3RhcnQgPSBwaXBlX2N0eC0+cGlwZV9kbGdfcGFyYW0udnN0YXJ0dXBfc3RhcnQ7
Ci0JcGlwZV9jdHgtPnN0cmVhbV9yZXMudGctPmRsZ19vdGdfcGFyYW0udnVwZGF0ZV9vZmZzZXQg
PSBwaXBlX2N0eC0+cGlwZV9kbGdfcGFyYW0udnVwZGF0ZV9vZmZzZXQ7Ci0JcGlwZV9jdHgtPnN0
cmVhbV9yZXMudGctPmRsZ19vdGdfcGFyYW0udnVwZGF0ZV93aWR0aCA9IHBpcGVfY3R4LT5waXBl
X2RsZ19wYXJhbS52dXBkYXRlX3dpZHRoOwotCi0JcGlwZV9jdHgtPnN0cmVhbV9yZXMudGctPnNp
Z25hbCA9ICBwaXBlX2N0eC0+c3RyZWFtLT5zaWduYWw7CiAKIAlwaXBlX2N0eC0+c3RyZWFtX3Jl
cy50Zy0+ZnVuY3MtPnByb2dyYW1fdGltaW5nKAogCQkJcGlwZV9jdHgtPnN0cmVhbV9yZXMudGcs
CiAJCQkmc3RyZWFtLT50aW1pbmcsCisJCQlwaXBlX2N0eC0+cGlwZV9kbGdfcGFyYW0udnJlYWR5
X29mZnNldCwKKwkJCXBpcGVfY3R4LT5waXBlX2RsZ19wYXJhbS52c3RhcnR1cF9zdGFydCwKKwkJ
CXBpcGVfY3R4LT5waXBlX2RsZ19wYXJhbS52dXBkYXRlX29mZnNldCwKKwkJCXBpcGVfY3R4LT5w
aXBlX2RsZ19wYXJhbS52dXBkYXRlX3dpZHRoLAorCQkJcGlwZV9jdHgtPnN0cmVhbS0+c2lnbmFs
LAogCQkJdHJ1ZSk7CiAKICNpZiAwIC8qIG1vdmUgdG8gYWZ0ZXIgZW5hYmxlX2NydGMgKi8KQEAg
LTIyNzksMTMgKzIyNzgsMTIgQEAgc3RhdGljIHZvaWQgcHJvZ3JhbV9hbGxfcGlwZV9pbl90cmVl
KAogCWlmIChwaXBlX2N0eC0+dG9wX3BpcGUgPT0gTlVMTCkgewogCQlib29sIGJsYW5rID0gIWlz
X3BpcGVfdHJlZV92aXNpYmxlKHBpcGVfY3R4KTsKIAotCQlwaXBlX2N0eC0+c3RyZWFtX3Jlcy50
Zy0+ZGxnX290Z19wYXJhbS52cmVhZHlfb2Zmc2V0ID0gcGlwZV9jdHgtPnBpcGVfZGxnX3BhcmFt
LnZyZWFkeV9vZmZzZXQ7Ci0JCXBpcGVfY3R4LT5zdHJlYW1fcmVzLnRnLT5kbGdfb3RnX3BhcmFt
LnZzdGFydHVwX3N0YXJ0ID0gcGlwZV9jdHgtPnBpcGVfZGxnX3BhcmFtLnZzdGFydHVwX3N0YXJ0
OwotCQlwaXBlX2N0eC0+c3RyZWFtX3Jlcy50Zy0+ZGxnX290Z19wYXJhbS52dXBkYXRlX29mZnNl
dCA9IHBpcGVfY3R4LT5waXBlX2RsZ19wYXJhbS52dXBkYXRlX29mZnNldDsKLQkJcGlwZV9jdHgt
PnN0cmVhbV9yZXMudGctPmRsZ19vdGdfcGFyYW0udnVwZGF0ZV93aWR0aCA9IHBpcGVfY3R4LT5w
aXBlX2RsZ19wYXJhbS52dXBkYXRlX3dpZHRoOwotCiAJCXBpcGVfY3R4LT5zdHJlYW1fcmVzLnRn
LT5mdW5jcy0+cHJvZ3JhbV9nbG9iYWxfc3luYygKLQkJCQlwaXBlX2N0eC0+c3RyZWFtX3Jlcy50
Zyk7CisJCQkJcGlwZV9jdHgtPnN0cmVhbV9yZXMudGcsCisJCQkJcGlwZV9jdHgtPnBpcGVfZGxn
X3BhcmFtLnZyZWFkeV9vZmZzZXQsCisJCQkJcGlwZV9jdHgtPnBpcGVfZGxnX3BhcmFtLnZzdGFy
dHVwX3N0YXJ0LAorCQkJCXBpcGVfY3R4LT5waXBlX2RsZ19wYXJhbS52dXBkYXRlX29mZnNldCwK
KwkJCQlwaXBlX2N0eC0+cGlwZV9kbGdfcGFyYW0udnVwZGF0ZV93aWR0aCk7CiAKIAkJZGMtPmh3
c3MuYmxhbmtfcGl4ZWxfZGF0YShkYywgcGlwZV9jdHgsIGJsYW5rKTsKIApAQCAtMjc4OSw3ICsy
Nzg3LDYgQEAgc3RhdGljIHZvaWQgYXBwbHlfZnJvbnRfcG9yY2hfd29ya2Fyb3VuZCgKIAogaW50
IGdldF92dXBkYXRlX29mZnNldF9mcm9tX3ZzeW5jKHN0cnVjdCBwaXBlX2N0eCAqcGlwZV9jdHgp
CiB7Ci0Jc3RydWN0IHRpbWluZ19nZW5lcmF0b3IgKm9wdGMgPSBwaXBlX2N0eC0+c3RyZWFtX3Jl
cy50ZzsKIAljb25zdCBzdHJ1Y3QgZGNfY3J0Y190aW1pbmcgKmRjX2NydGNfdGltaW5nID0gJnBp
cGVfY3R4LT5zdHJlYW0tPnRpbWluZzsKIAlzdHJ1Y3QgZGNfY3J0Y190aW1pbmcgcGF0Y2hlZF9j
cnRjX3RpbWluZzsKIAlpbnQgdmVzYV9zeW5jX3N0YXJ0OwpAQCAtMjgxMiw3ICsyODA5LDcgQEAg
aW50IGdldF92dXBkYXRlX29mZnNldF9mcm9tX3ZzeW5jKHN0cnVjdCBwaXBlX2N0eCAqcGlwZV9j
dHgpCiAJCQkqIGludGVybGFjZV9mYWN0b3I7CiAKIAl2ZXJ0aWNhbF9saW5lX3N0YXJ0ID0gYXNp
Y19ibGFua19lbmQgLQotCQkJb3B0Yy0+ZGxnX290Z19wYXJhbS52c3RhcnR1cF9zdGFydCArIDE7
CisJCQlwaXBlX2N0eC0+cGlwZV9kbGdfcGFyYW0udnN0YXJ0dXBfc3RhcnQgKyAxOwogCiAJcmV0
dXJuIHZlcnRpY2FsX2xpbmVfc3RhcnQ7CiB9CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2Rpc3BsYXkvZGMvZGNuMTAvZGNuMTBfb3B0Yy5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9k
aXNwbGF5L2RjL2RjbjEwL2RjbjEwX29wdGMuYwppbmRleCA1YmM1YWIwYjQ4YjkuLjNiZGRhZWRj
YjUyNyAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjEwL2Rj
bjEwX29wdGMuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMTAvZGNu
MTBfb3B0Yy5jCkBAIC02MCwyNCArNjAsMzMgQEAgc3RhdGljIHZvaWQgb3B0YzFfYXBwbHlfZnJv
bnRfcG9yY2hfd29ya2Fyb3VuZCgKIH0KIAogdm9pZCBvcHRjMV9wcm9ncmFtX2dsb2JhbF9zeW5j
KAotCQlzdHJ1Y3QgdGltaW5nX2dlbmVyYXRvciAqb3B0YykKKwkJc3RydWN0IHRpbWluZ19nZW5l
cmF0b3IgKm9wdGMsCisJCWludCB2cmVhZHlfb2Zmc2V0LAorCQlpbnQgdnN0YXJ0dXBfc3RhcnQs
CisJCWludCB2dXBkYXRlX29mZnNldCwKKwkJaW50IHZ1cGRhdGVfd2lkdGgpCiB7CiAJc3RydWN0
IG9wdGMgKm9wdGMxID0gRENOMTBUR19GUk9NX1RHKG9wdGMpOwogCi0JaWYgKG9wdGMtPmRsZ19v
dGdfcGFyYW0udnN0YXJ0dXBfc3RhcnQgPT0gMCkgeworCW9wdGMxLT52cmVhZHlfb2Zmc2V0ID0g
dnJlYWR5X29mZnNldDsKKwlvcHRjMS0+dnN0YXJ0dXBfc3RhcnQgPSB2c3RhcnR1cF9zdGFydDsK
KwlvcHRjMS0+dnVwZGF0ZV9vZmZzZXQgPSB2dXBkYXRlX29mZnNldDsKKwlvcHRjMS0+dnVwZGF0
ZV93aWR0aCA9IHZ1cGRhdGVfd2lkdGg7CisKKwlpZiAob3B0YzEtPnZzdGFydHVwX3N0YXJ0ID09
IDApIHsKIAkJQlJFQUtfVE9fREVCVUdHRVIoKTsKIAkJcmV0dXJuOwogCX0KIAogCVJFR19TRVQo
T1RHX1ZTVEFSVFVQX1BBUkFNLCAwLAotCQlWU1RBUlRVUF9TVEFSVCwgb3B0Yy0+ZGxnX290Z19w
YXJhbS52c3RhcnR1cF9zdGFydCk7CisJCVZTVEFSVFVQX1NUQVJULCBvcHRjMS0+dnN0YXJ0dXBf
c3RhcnQpOwogCiAJUkVHX1NFVF8yKE9UR19WVVBEQVRFX1BBUkFNLCAwLAotCQkJVlVQREFURV9P
RkZTRVQsIG9wdGMtPmRsZ19vdGdfcGFyYW0udnVwZGF0ZV9vZmZzZXQsCi0JCQlWVVBEQVRFX1dJ
RFRILCBvcHRjLT5kbGdfb3RnX3BhcmFtLnZ1cGRhdGVfd2lkdGgpOworCQkJVlVQREFURV9PRkZT
RVQsIG9wdGMxLT52dXBkYXRlX29mZnNldCwKKwkJCVZVUERBVEVfV0lEVEgsIG9wdGMxLT52dXBk
YXRlX3dpZHRoKTsKIAogCVJFR19TRVQoT1RHX1ZSRUFEWV9QQVJBTSwgMCwKLQkJCVZSRUFEWV9P
RkZTRVQsIG9wdGMtPmRsZ19vdGdfcGFyYW0udnJlYWR5X29mZnNldCk7CisJCQlWUkVBRFlfT0ZG
U0VULCBvcHRjMS0+dnJlYWR5X29mZnNldCk7CiB9CiAKIHN0YXRpYyB2b2lkIG9wdGMxX2Rpc2Fi
bGVfc3RlcmVvKHN0cnVjdCB0aW1pbmdfZ2VuZXJhdG9yICpvcHRjKQpAQCAtMTMyLDYgKzE0MSwx
MSBAQCB2b2lkIG9wdGMxX3NldHVwX3ZlcnRpY2FsX2ludGVycnVwdDIoCiB2b2lkIG9wdGMxX3By
b2dyYW1fdGltaW5nKAogCXN0cnVjdCB0aW1pbmdfZ2VuZXJhdG9yICpvcHRjLAogCWNvbnN0IHN0
cnVjdCBkY19jcnRjX3RpbWluZyAqZGNfY3J0Y190aW1pbmcsCisJaW50IHZyZWFkeV9vZmZzZXQs
CisJaW50IHZzdGFydHVwX3N0YXJ0LAorCWludCB2dXBkYXRlX29mZnNldCwKKwlpbnQgdnVwZGF0
ZV93aWR0aCwKKwljb25zdCBlbnVtIHNpZ25hbF90eXBlIHNpZ25hbCwKIAlib29sIHVzZV92Ymlv
cykKIHsKIAlzdHJ1Y3QgZGNfY3J0Y190aW1pbmcgcGF0Y2hlZF9jcnRjX3RpbWluZzsKQEAgLTE0
OSw2ICsxNjMsMTEgQEAgdm9pZCBvcHRjMV9wcm9ncmFtX3RpbWluZygKIAogCXN0cnVjdCBvcHRj
ICpvcHRjMSA9IERDTjEwVEdfRlJPTV9URyhvcHRjKTsKIAorCW9wdGMxLT5zaWduYWwgPSBzaWdu
YWw7CisJb3B0YzEtPnZyZWFkeV9vZmZzZXQgPSB2cmVhZHlfb2Zmc2V0OworCW9wdGMxLT52c3Rh
cnR1cF9zdGFydCA9IHZzdGFydHVwX3N0YXJ0OworCW9wdGMxLT52dXBkYXRlX29mZnNldCA9IHZ1
cGRhdGVfb2Zmc2V0OworCW9wdGMxLT52dXBkYXRlX3dpZHRoID0gdnVwZGF0ZV93aWR0aDsKIAlw
YXRjaGVkX2NydGNfdGltaW5nID0gKmRjX2NydGNfdGltaW5nOwogCW9wdGMxX2FwcGx5X2Zyb250
X3BvcmNoX3dvcmthcm91bmQob3B0YywgJnBhdGNoZWRfY3J0Y190aW1pbmcpOwogCkBAIC0yMjYs
NyArMjQ1LDcgQEAgdm9pZCBvcHRjMV9wcm9ncmFtX3RpbWluZygKIAkJCXBhdGNoZWRfY3J0Y190
aW1pbmcudl9hZGRyZXNzYWJsZSArCiAJCQlwYXRjaGVkX2NydGNfdGltaW5nLnZfYm9yZGVyX2Jv
dHRvbSk7CiAKLQl2ZXJ0aWNhbF9saW5lX3N0YXJ0ID0gYXNpY19ibGFua19lbmQgLSBvcHRjLT5k
bGdfb3RnX3BhcmFtLnZzdGFydHVwX3N0YXJ0ICsgMTsKKwl2ZXJ0aWNhbF9saW5lX3N0YXJ0ID0g
YXNpY19ibGFua19lbmQgLSBvcHRjMS0+dnN0YXJ0dXBfc3RhcnQgKyAxOwogCXZfZnAyID0gMDsK
IAlpZiAodmVydGljYWxfbGluZV9zdGFydCA8IDApCiAJCXZfZnAyID0gLXZlcnRpY2FsX2xpbmVf
c3RhcnQ7CkBAIC0yNDMsOSArMjYyLDkgQEAgdm9pZCBvcHRjMV9wcm9ncmFtX3RpbWluZygKIAkJ
T1RHX1ZfU1lOQ19BX1BPTCwgdl9zeW5jX3BvbGFyaXR5KTsKIAogCXZfaW5pdCA9IGFzaWNfYmxh
bmtfc3RhcnQ7Ci0JaWYgKG9wdGMtPnNpZ25hbCA9PSBTSUdOQUxfVFlQRV9ESVNQTEFZX1BPUlQg
fHwKLQkJb3B0Yy0+c2lnbmFsID09IFNJR05BTF9UWVBFX0RJU1BMQVlfUE9SVF9NU1QgfHwKLQkJ
b3B0Yy0+c2lnbmFsID09IFNJR05BTF9UWVBFX0VEUCkgeworCWlmIChvcHRjMS0+c2lnbmFsID09
IFNJR05BTF9UWVBFX0RJU1BMQVlfUE9SVCB8fAorCQlvcHRjMS0+c2lnbmFsID09IFNJR05BTF9U
WVBFX0RJU1BMQVlfUE9SVF9NU1QgfHwKKwkJb3B0YzEtPnNpZ25hbCA9PSBTSUdOQUxfVFlQRV9F
RFApIHsKIAkJc3RhcnRfcG9pbnQgPSAxOwogCQlpZiAocGF0Y2hlZF9jcnRjX3RpbWluZy5mbGFn
cy5JTlRFUkxBQ0UgPT0gMSkKIAkJCWZpZWxkX251bSA9IDE7CkBAIC0yNTcsNyArMjc2LDcgQEAg
dm9pZCBvcHRjMV9wcm9ncmFtX3RpbWluZygKIAkJCVJFR19VUERBVEUoT1RHX0lOVEVSTEFDRV9D
T05UUk9MLAogCQkJCQlPVEdfSU5URVJMQUNFX0VOQUJMRSwgMSk7CiAJCQl2X2luaXQgPSB2X2lu
aXQgLyAyOwotCQkJaWYgKChvcHRjLT5kbGdfb3RnX3BhcmFtLnZzdGFydHVwX3N0YXJ0LzIpKjIg
PiBhc2ljX2JsYW5rX2VuZCkKKwkJCWlmICgob3B0YzEtPnZzdGFydHVwX3N0YXJ0LzIpKjIgPiBh
c2ljX2JsYW5rX2VuZCkKIAkJCQl2X2ZwMiA9IHZfZnAyIC8gMjsKIAkJfSBlbHNlCiAJCQlSRUdf
VVBEQVRFKE9UR19JTlRFUkxBQ0VfQ09OVFJPTCwKQEAgLTI3Nyw3ICsyOTYsMTEgQEAgdm9pZCBv
cHRjMV9wcm9ncmFtX3RpbWluZygKIAkJCU9UR19TVEFSVF9QT0lOVF9DTlRMLCBzdGFydF9wb2lu
dCwKIAkJCU9UR19GSUVMRF9OVU1CRVJfQ05UTCwgZmllbGRfbnVtKTsKIAotCW9wdGMxX3Byb2dy
YW1fZ2xvYmFsX3N5bmMob3B0Yyk7CisJb3B0YzFfcHJvZ3JhbV9nbG9iYWxfc3luYyhvcHRjLAor
CQkJdnJlYWR5X29mZnNldCwKKwkJCXZzdGFydHVwX3N0YXJ0LAorCQkJdnVwZGF0ZV9vZmZzZXQs
CisJCQl2dXBkYXRlX3dpZHRoKTsKIAogCS8qIFRPRE8KIAkgKiBwYXRjaGVkX2NydGNfdGltaW5n
LmZsYWdzLkhPUlpfQ09VTlRfQllfVFdPID09IDEKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvZGlzcGxheS9kYy9kY24xMC9kY24xMF9vcHRjLmggYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2Rpc3BsYXkvZGMvZGNuMTAvZGNuMTBfb3B0Yy5oCmluZGV4IDRlYjlhODk4YzIzNy4uN2JiNDE0
YzM1ZDEzIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMTAv
ZGNuMTBfb3B0Yy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24xMC9k
Y24xMF9vcHRjLmgKQEAgLTQ0Niw2ICs0NDYsMTIgQEAgc3RydWN0IG9wdGMgewogCXVpbnQzMl90
IG1pbl92X3N5bmNfd2lkdGg7CiAJdWludDMyX3QgbWluX3ZfYmxhbms7CiAJdWludDMyX3QgbWlu
X3ZfYmxhbmtfaW50ZXJsYWNlOworCisJaW50IHZzdGFydHVwX3N0YXJ0OworCWludCB2dXBkYXRl
X29mZnNldDsKKwlpbnQgdnVwZGF0ZV93aWR0aDsKKwlpbnQgdnJlYWR5X29mZnNldDsKKwllbnVt
IHNpZ25hbF90eXBlIHNpZ25hbDsKIH07CiAKIHZvaWQgZGNuMTBfdGltaW5nX2dlbmVyYXRvcl9p
bml0KHN0cnVjdCBvcHRjICpvcHRjKTsKQEAgLTQ4MSw2ICs0ODcsMTEgQEAgYm9vbCBvcHRjMV92
YWxpZGF0ZV90aW1pbmcoCiB2b2lkIG9wdGMxX3Byb2dyYW1fdGltaW5nKAogCXN0cnVjdCB0aW1p
bmdfZ2VuZXJhdG9yICpvcHRjLAogCWNvbnN0IHN0cnVjdCBkY19jcnRjX3RpbWluZyAqZGNfY3J0
Y190aW1pbmcsCisJaW50IHZyZWFkeV9vZmZzZXQsCisJaW50IHZzdGFydHVwX3N0YXJ0LAorCWlu
dCB2dXBkYXRlX29mZnNldCwKKwlpbnQgdnVwZGF0ZV93aWR0aCwKKwljb25zdCBlbnVtIHNpZ25h
bF90eXBlIHNpZ25hbCwKIAlib29sIHVzZV92Ymlvcyk7CiAKIHZvaWQgb3B0YzFfc2V0dXBfdmVy
dGljYWxfaW50ZXJydXB0MCgKQEAgLTQ5NSw3ICs1MDYsMTEgQEAgdm9pZCBvcHRjMV9zZXR1cF92
ZXJ0aWNhbF9pbnRlcnJ1cHQyKAogCQl1aW50MzJfdCBzdGFydF9saW5lKTsKIAogdm9pZCBvcHRj
MV9wcm9ncmFtX2dsb2JhbF9zeW5jKAotCQlzdHJ1Y3QgdGltaW5nX2dlbmVyYXRvciAqb3B0Yyk7
CisJCXN0cnVjdCB0aW1pbmdfZ2VuZXJhdG9yICpvcHRjLAorCQlpbnQgdnJlYWR5X29mZnNldCwK
KwkJaW50IHZzdGFydHVwX3N0YXJ0LAorCQlpbnQgdnVwZGF0ZV9vZmZzZXQsCisJCWludCB2dXBk
YXRlX3dpZHRoKTsKIAogYm9vbCBvcHRjMV9kaXNhYmxlX2NydGMoc3RydWN0IHRpbWluZ19nZW5l
cmF0b3IgKm9wdGMpOwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkv
ZGMvaW5jL2h3L3RpbWluZ19nZW5lcmF0b3IuaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxh
eS9kYy9pbmMvaHcvdGltaW5nX2dlbmVyYXRvci5oCmluZGV4IDRlZWUxYWRkOGU2NC4uZTRiMGRl
MDA4OWFmIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvaW5jL2h3
L3RpbWluZ19nZW5lcmF0b3IuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMv
aW5jL2h3L3RpbWluZ19nZW5lcmF0b3IuaApAQCAtNzAsMTMgKzcwLDYgQEAgZW51bSBjcnRjX3N0
YXRlIHsKIAlDUlRDX1NUQVRFX1ZBQ1RJVkUKIH07CiAKLXN0cnVjdCBfZGxnX290Z19wYXJhbSB7
Ci0JaW50IHZzdGFydHVwX3N0YXJ0OwotCWludCB2dXBkYXRlX29mZnNldDsKLQlpbnQgdnVwZGF0
ZV93aWR0aDsKLQlpbnQgdnJlYWR5X29mZnNldDsKLX07Ci0KIHN0cnVjdCB2dXBkYXRlX2tlZXBv
dXRfcGFyYW1zIHsKIAlpbnQgc3RhcnRfb2Zmc2V0OwogCWludCBlbmRfb2Zmc2V0OwpAQCAtMTI1
LDggKzExOCw2IEBAIHN0cnVjdCB0aW1pbmdfZ2VuZXJhdG9yIHsKIAljb25zdCBzdHJ1Y3QgdGlt
aW5nX2dlbmVyYXRvcl9mdW5jcyAqZnVuY3M7CiAJc3RydWN0IGRjX2Jpb3MgKmJwOwogCXN0cnVj
dCBkY19jb250ZXh0ICpjdHg7Ci0Jc3RydWN0IF9kbGdfb3RnX3BhcmFtIGRsZ19vdGdfcGFyYW07
Ci0JZW51bSBzaWduYWxfdHlwZSBzaWduYWw7CiAJaW50IGluc3Q7CiB9OwogCkBAIC0xNDAsNyAr
MTMxLDEzIEBAIHN0cnVjdCB0aW1pbmdfZ2VuZXJhdG9yX2Z1bmNzIHsKIAkJCQkJCQljb25zdCBz
dHJ1Y3QgZGNfY3J0Y190aW1pbmcgKnRpbWluZyk7CiAJdm9pZCAoKnByb2dyYW1fdGltaW5nKShz
dHJ1Y3QgdGltaW5nX2dlbmVyYXRvciAqdGcsCiAJCQkJCQkJY29uc3Qgc3RydWN0IGRjX2NydGNf
dGltaW5nICp0aW1pbmcsCi0JCQkJCQkJYm9vbCB1c2VfdmJpb3MpOworCQkJCQkJCWludCB2cmVh
ZHlfb2Zmc2V0LAorCQkJCQkJCWludCB2c3RhcnR1cF9zdGFydCwKKwkJCQkJCQlpbnQgdnVwZGF0
ZV9vZmZzZXQsCisJCQkJCQkJaW50IHZ1cGRhdGVfd2lkdGgsCisJCQkJCQkJY29uc3QgZW51bSBz
aWduYWxfdHlwZSBzaWduYWwsCisJCQkJCQkJYm9vbCB1c2VfdmJpb3MKKwkpOwogCXZvaWQgKCpz
ZXR1cF92ZXJ0aWNhbF9pbnRlcnJ1cHQwKSgKIAkJCXN0cnVjdCB0aW1pbmdfZ2VuZXJhdG9yICpv
cHRjLAogCQkJdWludDMyX3Qgc3RhcnRfbGluZSwKQEAgLTIxMCw3ICsyMDcsMTEgQEAgc3RydWN0
IHRpbWluZ19nZW5lcmF0b3JfZnVuY3MgewogCiAJYm9vbCAoKmFybV92ZXJ0X2ludHIpKHN0cnVj
dCB0aW1pbmdfZ2VuZXJhdG9yICp0ZywgdWludDhfdCB3aWR0aCk7CiAKLQl2b2lkICgqcHJvZ3Jh
bV9nbG9iYWxfc3luYykoc3RydWN0IHRpbWluZ19nZW5lcmF0b3IgKnRnKTsKKwl2b2lkICgqcHJv
Z3JhbV9nbG9iYWxfc3luYykoc3RydWN0IHRpbWluZ19nZW5lcmF0b3IgKnRnLAorCQkJaW50IHZy
ZWFkeV9vZmZzZXQsCisJCQlpbnQgdnN0YXJ0dXBfc3RhcnQsCisJCQlpbnQgdnVwZGF0ZV9vZmZz
ZXQsCisJCQlpbnQgdnVwZGF0ZV93aWR0aCk7CiAJdm9pZCAoKmVuYWJsZV9vcHRjX2Nsb2NrKShz
dHJ1Y3QgdGltaW5nX2dlbmVyYXRvciAqdGcsIGJvb2wgZW5hYmxlKTsKIAl2b2lkICgqcHJvZ3Jh
bV9zdGVyZW8pKHN0cnVjdCB0aW1pbmdfZ2VuZXJhdG9yICp0ZywKIAkJY29uc3Qgc3RydWN0IGRj
X2NydGNfdGltaW5nICp0aW1pbmcsIHN0cnVjdCBjcnRjX3N0ZXJlb19mbGFncyAqZmxhZ3MpOwot
LSAKMi4xNy4xCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
XwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRw
czovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZng=
