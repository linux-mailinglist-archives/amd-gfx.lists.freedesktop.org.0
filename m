Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 984249AAE7
	for <lists+amd-gfx@lfdr.de>; Fri, 23 Aug 2019 10:57:36 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 131ED6EC35;
	Fri, 23 Aug 2019 08:57:35 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM05-DM3-obe.outbound.protection.outlook.com
 (mail-eopbgr730085.outbound.protection.outlook.com [40.107.73.85])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2FB9F6EC35
 for <amd-gfx@lists.freedesktop.org>; Fri, 23 Aug 2019 08:57:33 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=nktz1NTc0SziI+XQONtoGD4urdFGlga/NHFxPaVPApSssxhzqeg5goCFV/9cNkCXFIB2XD9dKg7OFFrMaH0ui6jDaH7z6TLr51ufj2uJG0DZHQAbGew0zRqHXShk4ZHXtw/Ol6Yj11CVMxXAmb+fAwlInVec76BwVRuZGHFQTXYWyv0hp8bwdEvXm5qHoel8qzM1toXZdqz64NcOUdODGSKi8BQF0Gb0msrPA0c6qvlasgnWwEt3zGuqdEc/6zSn/18qqJIAhDDIqb4ojgY+YsRIKITuWRZTaF7KHiM6D7IxorhtAqsMLJg8GYLEswf85QpPuBPJR9Dnsdgd8tXtkg==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=uSnW1aCA6kPZen1Nrx/fcdVTtl6mBJqSW44OBfg9OPM=;
 b=iJWMkn622uowPVREVPwNV2TLI01zXA6JZvOHzCOu4FFXV/o3JBqz4EXah5zr1WMNHEmiuZjhwvq9KKpADFbLuONgIZfwWVmUvPBFqTkjfm514y61bY1G3f7B5I78a/JJUvJ85ofyWGt38Q0S/h5C/iCaYHHNT2y6LtJo+507xh55MRxwO41OEgvo66bj9UQY5X5PkWSoJCvQXNk4E1mJP31qnnAp8phsuSkH23GlEwRnRJ3FQwZTAEWcBQDFon3dIUy2HXhelNjC8I668C5ce822iEGoMSoGAkHrZ9vMDMqnfVc4Xl+JyseCFc1ALOlHJ7lMFIC1mlCGA3ykUSIMQA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from MN2PR12MB3933.namprd12.prod.outlook.com (10.255.238.94) by
 MN2PR12MB4237.namprd12.prod.outlook.com (52.135.49.71) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2178.18; Fri, 23 Aug 2019 08:57:29 +0000
Received: from MN2PR12MB3933.namprd12.prod.outlook.com
 ([fe80::a97f:16f2:ddb4:87f9]) by MN2PR12MB3933.namprd12.prod.outlook.com
 ([fe80::a97f:16f2:ddb4:87f9%6]) with mapi id 15.20.2178.020; Fri, 23 Aug 2019
 08:57:29 +0000
From: "Liu, Monk" <Monk.Liu@amd.com>
To: "Koenig, Christian" <Christian.Koenig@amd.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH] drm/amdgpu: introduce vram lost paramter for reset
 function
Thread-Topic: [PATCH] drm/amdgpu: introduce vram lost paramter for reset
 function
Thread-Index: AQHVWWOpc5FkLOh9aUC6LM7DmqEIl6cIZkIAgAAAguCAAAGLAIAABecA
Date: Fri, 23 Aug 2019 08:57:28 +0000
Message-ID: <MN2PR12MB393324F969E3F29F76A0DA8384A40@MN2PR12MB3933.namprd12.prod.outlook.com>
References: <1566531249-1396-1-git-send-email-Monk.Liu@amd.com>
 <15d22497-cf4d-0d15-236c-5bc2b65eb656@gmail.com>
 <MN2PR12MB393366D270445A63B053DA3184A40@MN2PR12MB3933.namprd12.prod.outlook.com>
 <82e98a1b-a624-1e54-aae7-1a6ff9dda7f2@amd.com>
In-Reply-To: <82e98a1b-a624-1e54-aae7-1a6ff9dda7f2@amd.com>
Accept-Language: en-US, zh-CN
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 0c80f930-aad2-4bc2-9556-08d727a7ed63
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600166)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:MN2PR12MB4237; 
x-ms-traffictypediagnostic: MN2PR12MB4237:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <MN2PR12MB4237C8B9F873948DE1E4849984A40@MN2PR12MB4237.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:8273;
x-forefront-prvs: 0138CD935C
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(376002)(396003)(366004)(346002)(39860400002)(136003)(189003)(199004)(13464003)(8676002)(53546011)(6506007)(478600001)(2501003)(81166006)(81156014)(14444005)(446003)(33656002)(8936002)(5660300002)(6116002)(256004)(476003)(7736002)(9686003)(76176011)(7696005)(86362001)(74316002)(305945005)(52536014)(486006)(186003)(64756008)(66556008)(66476007)(102836004)(6436002)(316002)(66066001)(11346002)(110136005)(99286004)(55016002)(229853002)(3846002)(14454004)(2906002)(6246003)(25786009)(71190400001)(71200400001)(26005)(66574012)(76116006)(66446008)(53936002)(66946007)(21314003);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MN2PR12MB4237;
 H:MN2PR12MB3933.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: PvFM42zQsUBI8XX2MLIMUhR6vaK3AWpIJ+7c/ysLUchJ3/B5/anlENOgVyMCvhleZaEl+bXeDbq45AUmFLRVzjQWHd62NgsZyMBNX0AJOPaLgqg8mmLChOKH7jiP3xOVqTPF7zXUrtddc6nRnDWM/8JrK9EDDf1SAcLaBwk5e/1f6Plbc6hST0eOBZ6zmtUHjdUL29oh79GJLMhqC0UYXKFfd1Yj/rfMS/DkwOyEiqveT+r2cDEF13JTVQqg7EB/43mVWjPRKPLrr42ovP5qMwGnBo6z9jl3Diclr8xFEE3hCpTb8P+uk6Hs72DcuwrcZKxQXSUGtUacjc/eLPcxTEjiqOKYwOr7YcO+R+N/p4QsFUqvDdvp33JXXeiDwbOi9EWIbA0odb+XyvxSsQAput3bt3KmTSwXBPMSoRF1w+A=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 0c80f930-aad2-4bc2-9556-08d727a7ed63
X-MS-Exchange-CrossTenant-originalarrivaltime: 23 Aug 2019 08:57:29.0873 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: AlcLrSmQhCa4imwq/bsMZgHCf0gY3216bN43KG+1yekiHyW2TaSmKUYjZKCoXHAV
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB4237
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=uSnW1aCA6kPZen1Nrx/fcdVTtl6mBJqSW44OBfg9OPM=;
 b=1le/ayi2bmLo/kfT5xrwdGNRzmhOcs56IxaCiqkrditXBpj9he73G4z9amvgxd8Cdwb9oSxyL2/+1RfoSZ3+agebseGb0O38TYHWDpCs95151LE4w6D8uv67+UxR9XryDhg37pRIFTASXaCuUOlNra0+2KrsM0JIPjdUyHdEfc0=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Monk.Liu@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

Pj4gdnJhbV9sb3N0ID0gYW1kZ3B1X2RldmljZV9jaGVja192cmFtX2xvc3QodG1wX2FkZXYpOw0K
Pj4gICAgCQkJCWlmICh2cmFtX2xvc3QpIHsNCj4+ICAgIAkJCQkJRFJNX0lORk8oIlZSQU0gaXMg
bG9zdCBkdWUgdG8gR1BVIHJlc2V0IVxuIik7DQo+PiAgICAJCQkJCWF0b21pY19pbmMoJnRtcF9h
ZGV2LT52cmFtX2xvc3RfY291bnRlcik7DQoNCkFib3ZlIGlzIHRoZSBvcmlnaW5hbCBsb2dpYywg
aWYgd2UgaW5jcmVtZW50IHRoZSBjb3VudGVyIGluIEJBQ08gcmVzZXQgcm91dGluZSwgd2Ugd291
bGQgcG90ZW50aWFsbHkgDQpIYXZlIGFub3RoZXIgY291bnRlciBpbmNyZWFzZW1lbnQgaWYgYnkg
Y29pbmNpZGVuY2UgdGhlICJhbWRncHVfZGV2aWNlX2NoZWNrX3ZyYW1fbG9zdCIgc3VjY2Vzc2Z1
bGx5IGRldGVjdGVkIHRoZSB2cmFtIGxvc3QgKGFsdGhvdWdoIHJpZ2h0IG5vdyBpdCBkaWRuJ3Qg
Li4pDQoNCkRvIHlvdSBtZWFuIHdlIHJlbW92ZSB0aGUgYW1kZ3B1X2RldmljZV9jaGVja192cmFt
X2xvc3QodG1wX2FkZXYpIGluIGRldmljZV9yZWNvdmVyeSgpIHJvdXRpbmUgPw0KX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fXw0KTW9uayBMaXV8R1BVIFZpcnR1YWxpemF0aW9u
IFRlYW0gfEFNRA0KDQoNCi0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tDQpGcm9tOiBLb2VuaWcs
IENocmlzdGlhbiA8Q2hyaXN0aWFuLktvZW5pZ0BhbWQuY29tPiANClNlbnQ6IEZyaWRheSwgQXVn
dXN0IDIzLCAyMDE5IDQ6MzQgUE0NClRvOiBMaXUsIE1vbmsgPE1vbmsuTGl1QGFtZC5jb20+OyBh
bWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZw0KU3ViamVjdDogUmU6IFtQQVRDSF0gZHJtL2Ft
ZGdwdTogaW50cm9kdWNlIHZyYW0gbG9zdCBwYXJhbXRlciBmb3IgcmVzZXQgZnVuY3Rpb24NCg0K
SSB0aG91Z2h0IGluIHRoZSBCQUNPIHJlc2V0IGZ1bmN0aW9uLg0KDQpUaGUgdG9wIGxldmVsIHJl
c2V0IGZ1bmN0aW9uIGRvZXNuJ3QgZG8gbXVjaCBtb3JlIHRoYW4gaW5jcmVtZW50IHRoZSB2cmFt
X2xvc3RfY291bnRlciBlaXRoZXIuDQoNCkNocmlzdGlhbi4NCg0KQW0gMjMuMDguMTkgdW0gMTA6
MzIgc2NocmllYiBMaXUsIE1vbms6DQo+Pj4gT24gdGhlIG90aGVyIGhhbmQgd291bGRuJ3QgaXQg
YmUgc2ltcGxlciB0byBqdXN0IGluY3JlbWVudCB2cmFtX2xvc3RfY291bnRlcj8NCj4gSW4gd2hl
cmUgPyBpZiB5b3UgbWVhbiBpbiBhbWRncHVfZGV2aWNlX3JlY292ZXIgcm91dGluZSBJIHdvbid0
IGRvIHRoYXQgc2luY2UgdGhlIHJlc2V0KCkgY2FuIGRvIGFueSBraW5kIG9mIHJlc2V0IGxpa2U6
DQo+IDEpIFBGIEZMUg0KPiAyKSBtb2RlMS8yIHJlc2V0DQo+IDMpIG1hZ2ljIHJlc2V0IHRocm91
Z2ggY29uZmlnIHNwYWNlDQo+IDQpIEJBQ08gcmVzZXQNCj4NCj4gUEYgRkxSIHdvbid0IGNhdXNl
IFZSQU0gbG9zdCwgbW9kZV8xLzIgaXMgbm90IGNsZWFyIHRvIG1lLCBvbmx5IEJBQ08gDQo+IHJl
c2V0IGlzIGRlZmluaXRlbHkgYSB2cmFtIGxvc3QgcmVzZXQNCj4NCj4gSWYgeW91IGluY3JlYXNl
IHRoZSBjb3VudGVyIGluIGdlbmVyYWwgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIG5vdCANCj4gYWNj
dXJhdGUgX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXw0KPiBNb25rIExpdXxH
UFUgVmlydHVhbGl6YXRpb24gVGVhbSB8QU1EDQo+DQo+DQo+IC0tLS0tT3JpZ2luYWwgTWVzc2Fn
ZS0tLS0tDQo+IEZyb206IENocmlzdGlhbiBLw7ZuaWcgPGNrb2VuaWcubGVpY2h0enVtZXJrZW5A
Z21haWwuY29tPg0KPiBTZW50OiBGcmlkYXksIEF1Z3VzdCAyMywgMjAxOSA0OjI3IFBNDQo+IFRv
OiBMaXUsIE1vbmsgPE1vbmsuTGl1QGFtZC5jb20+OyBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9w
Lm9yZw0KPiBTdWJqZWN0OiBSZTogW1BBVENIXSBkcm0vYW1kZ3B1OiBpbnRyb2R1Y2UgdnJhbSBs
b3N0IHBhcmFtdGVyIGZvciANCj4gcmVzZXQgZnVuY3Rpb24NCj4NCj4gQW0gMjMuMDguMTkgdW0g
MDU6MzQgc2NocmllYiBNb25rIExpdToNCj4+IGZvciBTT0MxNS92ZWdhMTAgdGhlIEJBQ08gcmVz
ZXQgd291bGQgaW50cm9kdWNlIHZyYW0gbG9zdCBpbiB0aGUgaGlnaCANCj4+IGVuZCBhZGRyZXNz
IHJhbmdlIGFuZCBjdXJyZW50IGttZCdzIHZyYW0gbG9zdCBjaGVja2luZyBjYW5ub3QgY2F0Y2gg
DQo+PiBpdCBzaW5jZSBpdCBvbmx5IGNoZWNrIHZpc2libGUgZnJhbWUgYnVmZmVyDQo+Pg0KPj4g
VE9ETzoNCj4+IHRvIGNvbmZpcm0gaWYgbW9kZTEvMiByZXNldCB3b3VsZCBpbnRyb2R1Y2UgdnJh
bSBsb3N0DQo+IExvb2tzIGdvb2QgaW4gZ2VuZXJhbCwgYnV0IEkgd291bGQgbWFrZSB0aGUgdmFs
dWUgbWFuZGF0b3J5IG9yIG1heWJlIHVzZSBhIHNwZWNpYWwgcmV0dXJuIGNvZGUgaW5zdGVhZC4N
Cj4NCj4gT24gdGhlIG90aGVyIGhhbmQgd291bGRuJ3QgaXQgYmUgc2ltcGxlciB0byBqdXN0IGlu
Y3JlbWVudCB2cmFtX2xvc3RfY291bnRlcj8NCj4NCj4gQ2hyaXN0aWFuLg0KPg0KPj4gU2lnbmVk
LW9mZi1ieTogTW9uayBMaXUgPE1vbmsuTGl1QGFtZC5jb20+DQo+PiAtLS0NCj4+ICAgIGRyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdS5oICAgICAgICB8ICA0ICsrLS0NCj4+ICAgIGRy
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kZXZpY2UuYyB8IDEyICsrKysrKystLS0t
LQ0KPj4gICAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvY2lrLmMgICAgICAgICAgIHwgIDIg
Ky0NCj4+ICAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L252LmMgICAgICAgICAgICB8IDEw
ICsrKysrKystLS0NCj4+ICAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NpLmMgICAgICAg
ICAgICB8ICAyICstDQo+PiAgICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zb2MxNS5jICAg
ICAgICAgfCAgNCArKystDQo+PiAgICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92aS5jICAg
ICAgICAgICAgfCAgMiArLQ0KPj4gICAgNyBmaWxlcyBjaGFuZ2VkLCAyMiBpbnNlcnRpb25zKCsp
LCAxNCBkZWxldGlvbnMoLSkNCj4+DQo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1LmgNCj4+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1
LmgNCj4+IGluZGV4IGY2YWU1NjUuLjFmZTM3NTYgMTAwNjQ0DQo+PiAtLS0gYS9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9hbWRncHUuaA0KPj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1LmgNCj4+IEBAIC01NTIsNyArNTUyLDcgQEAgc3RydWN0IGFtZGdwdV9hc2lj
X2Z1bmNzIHsNCj4+ICAgIAlpbnQgKCpyZWFkX3JlZ2lzdGVyKShzdHJ1Y3QgYW1kZ3B1X2Rldmlj
ZSAqYWRldiwgdTMyIHNlX251bSwNCj4+ICAgIAkJCSAgICAgdTMyIHNoX251bSwgdTMyIHJlZ19v
ZmZzZXQsIHUzMiAqdmFsdWUpOw0KPj4gICAgCXZvaWQgKCpzZXRfdmdhX3N0YXRlKShzdHJ1Y3Qg
YW1kZ3B1X2RldmljZSAqYWRldiwgYm9vbCBzdGF0ZSk7DQo+PiAtCWludCAoKnJlc2V0KShzdHJ1
Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7DQo+PiArCWludCAoKnJlc2V0KShzdHJ1Y3QgYW1kZ3B1
X2RldmljZSAqYWRldiwgYm9vbCAqbG9zdCk7DQo+PiAgICAJZW51bSBhbWRfcmVzZXRfbWV0aG9k
ICgqcmVzZXRfbWV0aG9kKShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7DQo+PiAgICAJLyog
Z2V0IHRoZSByZWZlcmVuY2UgY2xvY2sgKi8NCj4+ICAgIAl1MzIgKCpnZXRfeGNsaykoc3RydWN0
IGFtZGdwdV9kZXZpY2UgKmFkZXYpOyBAQCAtMTEzNiw3ICsxMTM2LDcgDQo+PiBAQCBpbnQgZW11
X3NvY19hc2ljX2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpOw0KPj4gICAgICogQVNJ
Q3MgbWFjcm8uDQo+PiAgICAgKi8NCj4+ICAgICNkZWZpbmUgYW1kZ3B1X2FzaWNfc2V0X3ZnYV9z
dGF0ZShhZGV2LCBzdGF0ZSkgDQo+PiAoYWRldiktPmFzaWNfZnVuY3MtPnNldF92Z2Ffc3RhdGUo
KGFkZXYpLCAoc3RhdGUpKSAtI2RlZmluZQ0KPj4gYW1kZ3B1X2FzaWNfcmVzZXQoYWRldikgKGFk
ZXYpLT5hc2ljX2Z1bmNzLT5yZXNldCgoYWRldikpDQo+PiArI2RlZmluZSBhbWRncHVfYXNpY19y
ZXNldChhZGV2LCBsb3N0KSANCj4+ICsoYWRldiktPmFzaWNfZnVuY3MtPnJlc2V0KChhZGV2KSwg
KGxvc3QpKQ0KPj4gICAgI2RlZmluZSBhbWRncHVfYXNpY19yZXNldF9tZXRob2QoYWRldikgKGFk
ZXYpLT5hc2ljX2Z1bmNzLT5yZXNldF9tZXRob2QoKGFkZXYpKQ0KPj4gICAgI2RlZmluZSBhbWRn
cHVfYXNpY19nZXRfeGNsayhhZGV2KSAoYWRldiktPmFzaWNfZnVuY3MtPmdldF94Y2xrKChhZGV2
KSkNCj4+ICAgICNkZWZpbmUgYW1kZ3B1X2FzaWNfc2V0X3V2ZF9jbG9ja3MoYWRldiwgdiwgZCkg
DQo+PiAoYWRldiktPmFzaWNfZnVuY3MtPnNldF91dmRfY2xvY2tzKChhZGV2KSwgKHYpLCAoZCkp
IGRpZmYgLS1naXQgDQo+PiBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kZXZp
Y2UuYw0KPj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMNCj4+
IGluZGV4IDAyYjNlN2QuLjg2NjhjYjggMTAwNjQ0DQo+PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMNCj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2FtZGdwdV9kZXZpY2UuYw0KPj4gQEAgLTI1NDYsNyArMjU0Niw3IEBAIHN0YXRpYyB2
b2lkIGFtZGdwdV9kZXZpY2VfeGdtaV9yZXNldF9mdW5jKHN0cnVjdCB3b3JrX3N0cnVjdCAqX193
b3JrKQ0KPj4gICAgCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0NCj4+ICAgIAkJY29udGFp
bmVyX29mKF9fd29yaywgc3RydWN0IGFtZGdwdV9kZXZpY2UsIHhnbWlfcmVzZXRfd29yayk7DQo+
PiAgICANCj4+IC0JYWRldi0+YXNpY19yZXNldF9yZXMgPSAgYW1kZ3B1X2FzaWNfcmVzZXQoYWRl
dik7DQo+PiArCWFkZXYtPmFzaWNfcmVzZXRfcmVzID0gIGFtZGdwdV9hc2ljX3Jlc2V0KGFkZXYs
IE5VTEwpOw0KPj4gICAgCWlmIChhZGV2LT5hc2ljX3Jlc2V0X3JlcykNCj4+ICAgIAkJRFJNX1dB
Uk4oIkFTSUMgcmVzZXQgZmFpbGVkIHdpdGggZXJyb3IsICVkIGZvciBkcm0gZGV2LCAlcyIsDQo+
PiAgICAJCQkgYWRldi0+YXNpY19yZXNldF9yZXMsIGFkZXYtPmRkZXYtPnVuaXF1ZSk7IEBAIC0y
NzUxLDcgKzI3NTEsNyANCj4+IEBAIGludCBhbWRncHVfZGV2aWNlX2luaXQoc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYsDQo+PiAgICAJICogIEUuZy4sIGRyaXZlciB3YXMgbm90IGNsZWFubHkg
dW5sb2FkZWQgcHJldmlvdXNseSwgZXRjLg0KPj4gICAgCSAqLw0KPj4gICAgCWlmICghYW1kZ3B1
X3NyaW92X3ZmKGFkZXYpICYmIGFtZGdwdV9hc2ljX25lZWRfcmVzZXRfb25faW5pdChhZGV2KSkg
ew0KPj4gLQkJciA9IGFtZGdwdV9hc2ljX3Jlc2V0KGFkZXYpOw0KPj4gKwkJciA9IGFtZGdwdV9h
c2ljX3Jlc2V0KGFkZXYsIE5VTEwpOw0KPj4gICAgCQlpZiAocikgew0KPj4gICAgCQkJZGV2X2Vy
cihhZGV2LT5kZXYsICJhc2ljIHJlc2V0IG9uIGluaXQgZmFpbGVkXG4iKTsNCj4+ICAgIAkJCWdv
dG8gZmFpbGVkOw0KPj4gQEAgLTMwODQsNyArMzA4NCw3IEBAIGludCBhbWRncHVfZGV2aWNlX3N1
c3BlbmQoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgYm9vbCBzdXNwZW5kLCBib29sIGZiY29uKQ0K
Pj4gICAgCQlwY2lfZGlzYWJsZV9kZXZpY2UoZGV2LT5wZGV2KTsNCj4+ICAgIAkJcGNpX3NldF9w
b3dlcl9zdGF0ZShkZXYtPnBkZXYsIFBDSV9EM2hvdCk7DQo+PiAgICAJfSBlbHNlIHsNCj4+IC0J
CXIgPSBhbWRncHVfYXNpY19yZXNldChhZGV2KTsNCj4+ICsJCXIgPSBhbWRncHVfYXNpY19yZXNl
dChhZGV2LCBOVUxMKTsNCj4+ICAgIAkJaWYgKHIpDQo+PiAgICAJCQlEUk1fRVJST1IoImFtZGdw
dSBhc2ljIHJlc2V0IGZhaWxlZFxuIik7DQo+PiAgICAJfQ0KPj4gQEAgLTM2MDQsNyArMzYwNCw3
IEBAIHN0YXRpYyBpbnQgYW1kZ3B1X2RvX2FzaWNfcmVzZXQoc3RydWN0IGFtZGdwdV9oaXZlX2lu
Zm8gKmhpdmUsDQo+PiAgICAJCQkJaWYgKCFxdWV1ZV93b3JrKHN5c3RlbV9oaWdocHJpX3dxLCAm
dG1wX2FkZXYtPnhnbWlfcmVzZXRfd29yaykpDQo+PiAgICAJCQkJCXIgPSAtRUFMUkVBRFk7DQo+
PiAgICAJCQl9IGVsc2UNCj4+IC0JCQkJciA9IGFtZGdwdV9hc2ljX3Jlc2V0KHRtcF9hZGV2KTsN
Cj4+ICsJCQkJciA9IGFtZGdwdV9hc2ljX3Jlc2V0KHRtcF9hZGV2LCAmdnJhbV9sb3N0KTsNCj4+
ICAgIA0KPj4gICAgCQkJaWYgKHIpIHsNCj4+ICAgIAkJCQlEUk1fRVJST1IoIkFTSUMgcmVzZXQg
ZmFpbGVkIHdpdGggZXJyb3IsICVkIGZvciBkcm0gZGV2LCAlcyIsIA0KPj4gQEANCj4+IC0zNjQ1
LDcgKzM2NDUsOSBAQCBzdGF0aWMgaW50IGFtZGdwdV9kb19hc2ljX3Jlc2V0KHN0cnVjdCBhbWRn
cHVfaGl2ZV9pbmZvICpoaXZlLA0KPj4gICAgCQkJCWlmIChyKQ0KPj4gICAgCQkJCQlnb3RvIG91
dDsNCj4+ICAgIA0KPj4gLQkJCQl2cmFtX2xvc3QgPSBhbWRncHVfZGV2aWNlX2NoZWNrX3ZyYW1f
bG9zdCh0bXBfYWRldik7DQo+PiArCQkJCWlmICghdnJhbV9sb3N0KQ0KPj4gKwkJCQkJdnJhbV9s
b3N0ID0gYW1kZ3B1X2RldmljZV9jaGVja192cmFtX2xvc3QodG1wX2FkZXYpOw0KPj4gKw0KPj4g
ICAgCQkJCWlmICh2cmFtX2xvc3QpIHsNCj4+ICAgIAkJCQkJRFJNX0lORk8oIlZSQU0gaXMgbG9z
dCBkdWUgdG8gR1BVIHJlc2V0IVxuIik7DQo+PiAgICAJCQkJCWF0b21pY19pbmMoJnRtcF9hZGV2
LT52cmFtX2xvc3RfY291bnRlcik7DQo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvY2lrLmMNCj4+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvY2lrLmMNCj4+
IGluZGV4IDdiNjNkN2EuLjBmMjViODIgMTAwNjQ0DQo+PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9jaWsuYw0KPj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvY2lr
LmMNCj4+IEBAIC0xMjc3LDcgKzEyNzcsNyBAQCBzdGF0aWMgaW50IGNpa19ncHVfcGNpX2NvbmZp
Z19yZXNldChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCj4+ICAgICAqIHRvIHJlc2V0IHRo
ZW0uDQo+PiAgICAgKiBSZXR1cm5zIDAgZm9yIHN1Y2Nlc3MuDQo+PiAgICAgKi8NCj4+IC1zdGF0
aWMgaW50IGNpa19hc2ljX3Jlc2V0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQ0KPj4gK3N0
YXRpYyBpbnQgY2lrX2FzaWNfcmVzZXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsIGJvb2wg
DQo+PiArKnZyYW1sb3N0KQ0KPj4gICAgew0KPj4gICAgCWludCByOw0KPj4gICAgDQo+PiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvbnYuYyANCj4+IGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvbnYuYyBpbmRleCBhM2Q5OWYyLi41M2RlN2E2IDEwMDY0NA0KPj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvbnYuYw0KPj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvbnYuYw0KPj4gQEAgLTMwMSw3ICszMDEsNyBAQCBudl9hc2ljX3Jl
c2V0X21ldGhvZChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCj4+ICAgIAkJcmV0dXJuIEFN
RF9SRVNFVF9NRVRIT0RfTU9ERTE7DQo+PiAgICB9DQo+PiAgICANCj4+IC1zdGF0aWMgaW50IG52
X2FzaWNfcmVzZXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpDQo+PiArc3RhdGljIGludCBu
dl9hc2ljX3Jlc2V0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCBib29sICp2cmFtbG9zdCkN
Cj4+ICAgIHsNCj4+ICAgIA0KPj4gICAgCS8qIEZJWE1FOiBpdCBkb2Vzbid0IHdvcmsgc2luY2Ug
dmVnYTEwICovIEBAIC0zMTUsMTAgKzMxNSwxNCBAQCANCj4+IHN0YXRpYyBpbnQgbnZfYXNpY19y
ZXNldChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCj4+ICAgIAlpbnQgcmV0ID0gMDsNCj4+
ICAgIAlzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSA9ICZhZGV2LT5zbXU7DQo+PiAgICANCj4+IC0J
aWYgKG52X2FzaWNfcmVzZXRfbWV0aG9kKGFkZXYpID09IEFNRF9SRVNFVF9NRVRIT0RfQkFDTykN
Cj4+ICsJaWYgKG52X2FzaWNfcmVzZXRfbWV0aG9kKGFkZXYpID09IEFNRF9SRVNFVF9NRVRIT0Rf
QkFDTykgew0KPj4gKwkJaWYgKHZyYW1sb3N0KQ0KPj4gKwkJCSp2cmFtbG9zdCA9IHRydWU7DQo+
PiAgICAJCXJldCA9IHNtdV9iYWNvX3Jlc2V0KHNtdSk7DQo+PiAtCWVsc2UNCj4+ICsJfQ0KPj4g
KwllbHNlIHsNCj4+ICAgIAkJcmV0ID0gbnZfYXNpY19tb2RlMV9yZXNldChhZGV2KTsNCj4+ICsJ
fQ0KPj4gICAgDQo+PiAgICAJcmV0dXJuIHJldDsNCj4+ICAgIH0NCj4+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zaS5jIA0KPj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9zaS5jIGluZGV4IDkwNDM2MTQuLmYzMjQwOTkgMTAwNjQ0DQo+PiAtLS0gYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9zaS5jDQo+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS9zaS5jDQo+PiBAQCAtMTE4MCw3ICsxMTgwLDcgQEAgc3RhdGljIGJvb2wgc2lfcmVh
ZF9iaW9zX2Zyb21fcm9tKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KPj4gICAgfQ0KPj4g
ICAgDQo+PiAgICAvL3h4eDogbm90IGltcGxlbWVudGVkDQo+PiAtc3RhdGljIGludCBzaV9hc2lj
X3Jlc2V0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQ0KPj4gK3N0YXRpYyBpbnQgc2lfYXNp
Y19yZXNldChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwgYm9vbCAqdnJhbWxvc3QpDQo+PiAg
ICB7DQo+PiAgICAJcmV0dXJuIDA7DQo+PiAgICB9DQo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvc29jMTUuYw0KPj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS9zb2MxNS5jDQo+PiBpbmRleCBmZTIyMTJkZi4uMTJiMjk2NiAxMDA2NDQNCj4+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NvYzE1LmMNCj4+ICsrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L3NvYzE1LmMNCj4+IEBAIC01NTMsMTAgKzU1MywxMiBAQCBzb2MxNV9hc2lj
X3Jlc2V0X21ldGhvZChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikNCj4+ICAgIAkJcmV0dXJu
IEFNRF9SRVNFVF9NRVRIT0RfTU9ERTE7DQo+PiAgICB9DQo+PiAgICANCj4+IC1zdGF0aWMgaW50
IHNvYzE1X2FzaWNfcmVzZXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpDQo+PiArc3RhdGlj
IGludCBzb2MxNV9hc2ljX3Jlc2V0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCBib29sDQo+
PiArKnZyYW1sb3N0KQ0KPj4gICAgew0KPj4gICAgCXN3aXRjaCAoc29jMTVfYXNpY19yZXNldF9t
ZXRob2QoYWRldikpIHsNCj4+ICAgIAkJY2FzZSBBTURfUkVTRVRfTUVUSE9EX0JBQ086DQo+PiAr
CQkJaWYgKHZyYW1sb3N0KQ0KPj4gKwkJCQkqdnJhbWxvc3QgPSB0cnVlOw0KPj4gICAgCQkJcmV0
dXJuIHNvYzE1X2FzaWNfYmFjb19yZXNldChhZGV2KTsNCj4+ICAgIAkJY2FzZSBBTURfUkVTRVRf
TUVUSE9EX01PREUyOg0KPj4gICAgCQkJcmV0dXJuIHNvYzE1X21vZGUyX3Jlc2V0KGFkZXYpOyBk
aWZmIC0tZ2l0IA0KPj4gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92aS5jIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvdmkuYyANCj4+IGluZGV4IDU2Yzg4MmIuLjhlY2ViMDAgMTAw
NjQ0DQo+PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92aS5jDQo+PiArKysgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS92aS5jDQo+PiBAQCAtNjk2LDcgKzY5Niw3IEBAIHN0
YXRpYyBpbnQgdmlfZ3B1X3BjaV9jb25maWdfcmVzZXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFk
ZXYpDQo+PiAgICAgKiB0byByZXNldCB0aGVtLg0KPj4gICAgICogUmV0dXJucyAwIGZvciBzdWNj
ZXNzLg0KPj4gICAgICovDQo+PiAtc3RhdGljIGludCB2aV9hc2ljX3Jlc2V0KHN0cnVjdCBhbWRn
cHVfZGV2aWNlICphZGV2KQ0KPj4gK3N0YXRpYyBpbnQgdmlfYXNpY19yZXNldChzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldiwgYm9vbCAqdnJhbWxvc3QpDQo+PiAgICB7DQo+PiAgICAJaW50IHI7
DQo+PiAgICANCg0KX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X18KYW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0
cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4
