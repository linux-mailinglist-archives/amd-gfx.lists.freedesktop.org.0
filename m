Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 9018410EE41
	for <lists+amd-gfx@lfdr.de>; Mon,  2 Dec 2019 18:34:54 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8A4946E28A;
	Mon,  2 Dec 2019 17:34:52 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM01-SN1-obe.outbound.protection.outlook.com
 (mail-eopbgr820041.outbound.protection.outlook.com [40.107.82.41])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8CC276E28A
 for <amd-gfx@lists.freedesktop.org>; Mon,  2 Dec 2019 17:34:51 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=R14NtGYOam1biQI1X8qya2Rrv42MOqDpdDLobcv/fpaF57HL0S1Rss+hJ1Krv661rW5VbT7utLI6d6CA8HZwVZi4nR4UPPBV3U7iM586diObwstWRLYA9uI8TcTaV4TPoot844RjznyDmhlx6gsqA4RxQH8ZrkWhM+t3QRuPwrz3/gTxLwQRjaSr82wgXm/4FJv4c/01afKSpMPF1bnt2HPYNGmFB8D9hEs+frVNG7AOiMUoDlKR/7sZfwclAK6vy4JYTyPVvgt9LsJhnnmQJ/d5WCMqIZ30RYqEhB1Mag0WtcTrxW7mY23/vh7m4xsrJU2XDDwO1XgljDSlur+nlQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=XiX+TIx1MorLVexmK4lRUlF5bjdYsjStjet89OXQgaE=;
 b=VuQntDbBtkKjIvTxZG7nuRkoytxEQ/IdA1XnYGOa0BHXV28UEnVf+KhiyfVnIe0zyfFFk51jUgyugsxLfLHB9Xc3C7YY0jeWguuNLSfhjDysOiZwC7P2doRcghcIlusQGjwKsZ3qu2JsVutIBh9RJ9e0sTjvSi6vDNoQ+UGNYZYpH9/c/gHmy4SYoTJGtg5sEfLkYP0nJlMnOZna+yTD9M8ozScLdFSUfW2cV82Z+STAxkSXyUN8il1bMEiqtXCEn64R89wll7VNHsm7gxagErNbQ1cylEO+KD1htkvVKm3XMN2QyjdROmHdolp2dDTbGebsckgeqXU8cKQXQ87xSg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from BN7PR12MB2593.namprd12.prod.outlook.com (20.176.27.87) by
 BN7PR12MB2802.namprd12.prod.outlook.com (20.176.27.97) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2495.22; Mon, 2 Dec 2019 17:34:49 +0000
Received: from BN7PR12MB2593.namprd12.prod.outlook.com
 ([fe80::2070:7583:3718:d019]) by BN7PR12MB2593.namprd12.prod.outlook.com
 ([fe80::2070:7583:3718:d019%3]) with mapi id 15.20.2495.014; Mon, 2 Dec 2019
 17:34:49 +0000
From: sunpeng.li@amd.com
To: amd-gfx@lists.freedesktop.org
Subject: [PATCH 02/51] drm/amd/display: rename core_dc to dc
Date: Mon,  2 Dec 2019 12:33:16 -0500
Message-Id: <20191202173405.31582-3-sunpeng.li@amd.com>
X-Mailer: git-send-email 2.24.0
In-Reply-To: <20191202173405.31582-1-sunpeng.li@amd.com>
References: <20191202173405.31582-1-sunpeng.li@amd.com>
X-ClientProxiedBy: YTBPR01CA0029.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:b01:14::42) To BN7PR12MB2593.namprd12.prod.outlook.com
 (2603:10b6:408:25::23)
MIME-Version: 1.0
X-Mailer: git-send-email 2.24.0
X-Originating-IP: [165.204.55.250]
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-HT: Tenant
X-MS-Office365-Filtering-Correlation-Id: fa710cd8-fe2d-46eb-ea49-08d7774dee2b
X-MS-TrafficTypeDiagnostic: BN7PR12MB2802:|BN7PR12MB2802:
X-MS-Exchange-Transport-Forked: True
X-Microsoft-Antispam-PRVS: <BN7PR12MB2802B3C1E2075B796DD8A82C82430@BN7PR12MB2802.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:5516;
X-Forefront-PRVS: 0239D46DB6
X-Forefront-Antispam-Report: SFV:NSPM;
 SFS:(10009020)(4636009)(346002)(136003)(366004)(376002)(396003)(39860400002)(189003)(199004)(81166006)(81156014)(86362001)(6486002)(9686003)(6506007)(2870700001)(478600001)(386003)(76176011)(5660300002)(51416003)(30864003)(186003)(1076003)(52116002)(3846002)(6116002)(47776003)(2616005)(26005)(66946007)(66066001)(25786009)(316002)(446003)(11346002)(14454004)(66476007)(66556008)(48376002)(8676002)(50226002)(305945005)(6512007)(36756003)(2906002)(14444005)(99286004)(6666004)(7736002)(2351001)(54906003)(4326008)(2361001)(6916009)(6436002)(50466002)(8936002);
 DIR:OUT; SFP:1101; SCL:1; SRVR:BN7PR12MB2802;
 H:BN7PR12MB2593.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam: BCL:0;
X-Microsoft-Antispam-Message-Info: /x3YoSoqFAORl23Geh3CU6TLhRLZgYNprPu92Brng0jNOrsQtWIE4eC/RkGlqJ1cMSN3iCxLbtE/y6MmhuiiQ+V0w5WHRvjbtahf27aEJwWAddIeB0C3u8JwPIFlZ0m3rvL6CRu3kkndG6GIsvEbO2bU6PaPnF2VX1escyy7KzBQw0wjqIeJVO/dLnQVQ7iXUDsZd/SkzmHftB6Kp38KTZtRXYj306oCPZpwzcNFLfu5pvhwks9/dCpJxYX/wtaZF25i6tiRTehIdc48heaxHtc9fr80P9IQBBCDvEMxTExn/0VkQbzeGXzTtw25tnu+NUn5PRYUJDAoLfkBs7aG/cDU37yAx9Bx1jewADMbP89itxJHp0dQ8c69+1sbH8DOtTOBHt9qzhp3Iv485DqBoD/mLf5WSaGlLSkUKGOdxEpX2Knm1s/XYax1ynwd5K58
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: fa710cd8-fe2d-46eb-ea49-08d7774dee2b
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 02 Dec 2019 17:34:49.0885 (UTC)
X-MS-Exchange-CrossTenant-FromEntityHeader: Hosted
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-MailboxType: HOSTED
X-MS-Exchange-CrossTenant-UserPrincipalName: U3+GCSoSO274ILI8qc9dyYBCS+deRIiOflq8acwX0l1MROodo0KRauF8d0gu+RF3
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BN7PR12MB2802
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=XiX+TIx1MorLVexmK4lRUlF5bjdYsjStjet89OXQgaE=;
 b=ZJvOTVrsCEWX0UEcehi+mxJ5jmyRhiFi+AgK9LuRUsmBvt+N/rCMNExjCUJuUvio4qbN1ryseMe+f9MoKXZEimlvvzrIse2ew6brhQ5z7TQF47iZnG/DNPWsAEvLWoNlBnctu+RxfbrDRKI1mBebwNBU6g2Bl3IF6zhNw2N6/tU=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Sunpeng.Li@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Aric Cyr <Aric.Cyr@amd.com>, Leo Li <sunpeng.li@amd.com>,
 harry.wentland@amd.com, rodrigo.siqueira@amd.com, bhawanpreet.lakha@amd.com,
 Anthony Koo <Anthony.Koo@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogQW50aG9ueSBLb28gPEFudGhvbnkuS29vQGFtZC5jb20+CgpbV2h5XQpGaXJzdCwgdG8g
bWFrZSBjb2RlIG1vcmUgY29uc2lzdGVudApTZWNvbmQsIHRvIGdldCByaWQgb2YgdGhvc2Ugc2Nl
bmFyaW8gd2hlcmUgd2UgY3JlYXRlIGEgc2Vjb25kCmxvY2FsIHBvaW50ZXIgdG8gZGMgd2hlbiBp
dCdzIGFscmVhZHkgcGFzc2VkIGluLgoKW0hvd10KUmVuYW1lIGNvcmVfZGMgdG8gZGMKUmVtb3Zl
IGR1cGxpY2F0ZSBsb2NhbCBwb2ludGVycyB0byBkYwoKU2lnbmVkLW9mZi1ieTogQW50aG9ueSBL
b28gPEFudGhvbnkuS29vQGFtZC5jb20+ClJldmlld2VkLWJ5OiBBcmljIEN5ciA8QXJpYy5DeXJA
YW1kLmNvbT4KQWNrZWQtYnk6IExlbyBMaSA8c3VucGVuZy5saUBhbWQuY29tPgotLS0KIC4uLi9k
Yy9jbGtfbWdyL2RjZTExMi9kY2UxMTJfY2xrX21nci5jICAgICAgICB8IDEyICsrLS0KIC4uLi9k
Yy9jbGtfbWdyL2RjbjEwL3J2MV9jbGtfbWdyX3ZiaW9zX3NtdS5jICB8ICA2ICstCiAuLi4vZGMv
Y2xrX21nci9kY24yMS9ybl9jbGtfbWdyX3ZiaW9zX3NtdS5jICAgfCAgNiArLQogLi4uL2dwdS9k
cm0vYW1kL2Rpc3BsYXkvZGMvY29yZS9kY19kZWJ1Zy5jICAgIHwgIDcgKy0KIGRyaXZlcnMvZ3B1
L2RybS9hbWQvZGlzcGxheS9kYy9jb3JlL2RjX2xpbmsuYyB8IDY1ICsrKysrKysrKy0tLS0tLS0t
LS0KIC4uLi9kcm0vYW1kL2Rpc3BsYXkvZGMvY29yZS9kY19saW5rX2h3c3MuYyAgICB8IDI2ICsr
KystLS0tCiAuLi4vZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9jb3JlL2RjX3Jlc291cmNlLmMgfCAg
MyArLQogLi4uL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvY29yZS9kY19zdHJlYW0uYyAgIHwgNDAg
KysrKysrLS0tLS0tCiAuLi4vZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9jb3JlL2RjX3N1cmZhY2Uu
YyAgfCAyMiArKystLS0tCiAuLi4vZGlzcGxheS9kYy9kY2UxMTAvZGNlMTEwX2h3X3NlcXVlbmNl
ci5jICAgfCAgOCArLS0KIC4uLi9hbWQvZGlzcGxheS9kYy9kY24xMC9kY24xMF9od19zZXF1ZW5j
ZXIuYyB8IDEwICstLQogLi4uL2RjL2lycS9kY2UxMTAvaXJxX3NlcnZpY2VfZGNlMTEwLmMgICAg
ICAgIHwgIDQgKy0KIDEyIGZpbGVzIGNoYW5nZWQsIDEwMiBpbnNlcnRpb25zKCspLCAxMDcgZGVs
ZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2Ns
a19tZ3IvZGNlMTEyL2RjZTExMl9jbGtfbWdyLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3Bs
YXkvZGMvY2xrX21nci9kY2UxMTIvZGNlMTEyX2Nsa19tZ3IuYwppbmRleCBhNmM0NmU5MDNmZjku
LmQwMzFiZDNkMzA3MiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2Rj
L2Nsa19tZ3IvZGNlMTEyL2RjZTExMl9jbGtfbWdyLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9kaXNwbGF5L2RjL2Nsa19tZ3IvZGNlMTEyL2RjZTExMl9jbGtfbWdyLmMKQEAgLTcyLDggKzcy
LDggQEAgaW50IGRjZTExMl9zZXRfY2xvY2soc3RydWN0IGNsa19tZ3IgKmNsa19tZ3JfYmFzZSwg
aW50IHJlcXVlc3RlZF9jbGtfa2h6KQogCXN0cnVjdCBjbGtfbWdyX2ludGVybmFsICpjbGtfbWdy
X2RjZSA9IFRPX0NMS19NR1JfSU5URVJOQUwoY2xrX21ncl9iYXNlKTsKIAlzdHJ1Y3QgYnBfc2V0
X2RjZV9jbG9ja19wYXJhbWV0ZXJzIGRjZV9jbGtfcGFyYW1zOwogCXN0cnVjdCBkY19iaW9zICpi
cCA9IGNsa19tZ3JfYmFzZS0+Y3R4LT5kY19iaW9zOwotCXN0cnVjdCBkYyAqY29yZV9kYyA9IGNs
a19tZ3JfYmFzZS0+Y3R4LT5kYzsKLQlzdHJ1Y3QgZG1jdSAqZG1jdSA9IGNvcmVfZGMtPnJlc19w
b29sLT5kbWN1OworCXN0cnVjdCBkYyAqZGMgPSBjbGtfbWdyX2Jhc2UtPmN0eC0+ZGM7CisJc3Ry
dWN0IGRtY3UgKmRtY3UgPSBkYy0+cmVzX3Bvb2wtPmRtY3U7CiAJaW50IGFjdHVhbF9jbG9jayA9
IHJlcXVlc3RlZF9jbGtfa2h6OwogCS8qIFByZXBhcmUgdG8gcHJvZ3JhbSBkaXNwbGF5IGNsb2Nr
Ki8KIAltZW1zZXQoJmRjZV9jbGtfcGFyYW1zLCAwLCBzaXplb2YoZGNlX2Nsa19wYXJhbXMpKTsK
QEAgLTExMCw3ICsxMTAsNyBAQCBpbnQgZGNlMTEyX3NldF9jbG9jayhzdHJ1Y3QgY2xrX21nciAq
Y2xrX21ncl9iYXNlLCBpbnQgcmVxdWVzdGVkX2Nsa19raHopCiAKIAlicC0+ZnVuY3MtPnNldF9k
Y2VfY2xvY2soYnAsICZkY2VfY2xrX3BhcmFtcyk7CiAKLQlpZiAoIUlTX0ZQR0FfTUFYSU1VU19E
Qyhjb3JlX2RjLT5jdHgtPmRjZV9lbnZpcm9ubWVudCkpIHsKKwlpZiAoIUlTX0ZQR0FfTUFYSU1V
U19EQyhkYy0+Y3R4LT5kY2VfZW52aXJvbm1lbnQpKSB7CiAJCWlmIChkbWN1ICYmIGRtY3UtPmZ1
bmNzLT5pc19kbWN1X2luaXRpYWxpemVkKGRtY3UpKSB7CiAJCQlpZiAoY2xrX21ncl9kY2UtPmRm
c19ieXBhc3NfZGlzcF9jbGsgIT0gYWN0dWFsX2Nsb2NrKQogCQkJCWRtY3UtPmZ1bmNzLT5zZXRf
cHNyX3dhaXRfbG9vcChkbWN1LApAQCAtMTI2LDggKzEyNiw4IEBAIGludCBkY2UxMTJfc2V0X2Rp
c3BjbGsoc3RydWN0IGNsa19tZ3JfaW50ZXJuYWwgKmNsa19tZ3IsIGludCByZXF1ZXN0ZWRfY2xr
X2toeikKIHsKIAlzdHJ1Y3QgYnBfc2V0X2RjZV9jbG9ja19wYXJhbWV0ZXJzIGRjZV9jbGtfcGFy
YW1zOwogCXN0cnVjdCBkY19iaW9zICpicCA9IGNsa19tZ3ItPmJhc2UuY3R4LT5kY19iaW9zOwot
CXN0cnVjdCBkYyAqY29yZV9kYyA9IGNsa19tZ3ItPmJhc2UuY3R4LT5kYzsKLQlzdHJ1Y3QgZG1j
dSAqZG1jdSA9IGNvcmVfZGMtPnJlc19wb29sLT5kbWN1OworCXN0cnVjdCBkYyAqZGMgPSBjbGtf
bWdyLT5iYXNlLmN0eC0+ZGM7CisJc3RydWN0IGRtY3UgKmRtY3UgPSBkYy0+cmVzX3Bvb2wtPmRt
Y3U7CiAJaW50IGFjdHVhbF9jbG9jayA9IHJlcXVlc3RlZF9jbGtfa2h6OwogCS8qIFByZXBhcmUg
dG8gcHJvZ3JhbSBkaXNwbGF5IGNsb2NrKi8KIAltZW1zZXQoJmRjZV9jbGtfcGFyYW1zLCAwLCBz
aXplb2YoZGNlX2Nsa19wYXJhbXMpKTsKQEAgLTE1Miw3ICsxNTIsNyBAQCBpbnQgZGNlMTEyX3Nl
dF9kaXNwY2xrKHN0cnVjdCBjbGtfbWdyX2ludGVybmFsICpjbGtfbWdyLCBpbnQgcmVxdWVzdGVk
X2Nsa19raHopCiAJCWNsa19tZ3ItPmN1cl9taW5fY2xrc19zdGF0ZSA9IERNX1BQX0NMT0NLU19T
VEFURV9OT01JTkFMOwogCiAKLQlpZiAoIUlTX0ZQR0FfTUFYSU1VU19EQyhjb3JlX2RjLT5jdHgt
PmRjZV9lbnZpcm9ubWVudCkpIHsKKwlpZiAoIUlTX0ZQR0FfTUFYSU1VU19EQyhkYy0+Y3R4LT5k
Y2VfZW52aXJvbm1lbnQpKSB7CiAJCWlmIChkbWN1ICYmIGRtY3UtPmZ1bmNzLT5pc19kbWN1X2lu
aXRpYWxpemVkKGRtY3UpKSB7CiAJCQlpZiAoY2xrX21nci0+ZGZzX2J5cGFzc19kaXNwX2NsayAh
PSBhY3R1YWxfY2xvY2spCiAJCQkJZG1jdS0+ZnVuY3MtPnNldF9wc3Jfd2FpdF9sb29wKGRtY3Us
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvY2xrX21nci9kY24x
MC9ydjFfY2xrX21ncl92Ymlvc19zbXUuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9k
Yy9jbGtfbWdyL2RjbjEwL3J2MV9jbGtfbWdyX3ZiaW9zX3NtdS5jCmluZGV4IDE4OTdlOTFjOGNj
Yi4uOTdiN2YzMjI5NGZkIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkv
ZGMvY2xrX21nci9kY24xMC9ydjFfY2xrX21ncl92Ymlvc19zbXUuYworKysgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL2Rpc3BsYXkvZGMvY2xrX21nci9kY24xMC9ydjFfY2xrX21ncl92Ymlvc19zbXUu
YwpAQCAtODgsOCArODgsOCBAQCBpbnQgcnYxX3ZiaW9zX3NtdV9zZW5kX21zZ193aXRoX3BhcmFt
KHN0cnVjdCBjbGtfbWdyX2ludGVybmFsICpjbGtfbWdyLCB1bnNpZ25lZAogaW50IHJ2MV92Ymlv
c19zbXVfc2V0X2Rpc3BjbGsoc3RydWN0IGNsa19tZ3JfaW50ZXJuYWwgKmNsa19tZ3IsIGludCBy
ZXF1ZXN0ZWRfZGlzcGNsa19raHopCiB7CiAJaW50IGFjdHVhbF9kaXNwY2xrX3NldF9taHogPSAt
MTsKLQlzdHJ1Y3QgZGMgKmNvcmVfZGMgPSBjbGtfbWdyLT5iYXNlLmN0eC0+ZGM7Ci0Jc3RydWN0
IGRtY3UgKmRtY3UgPSBjb3JlX2RjLT5yZXNfcG9vbC0+ZG1jdTsKKwlzdHJ1Y3QgZGMgKmRjID0g
Y2xrX21nci0+YmFzZS5jdHgtPmRjOworCXN0cnVjdCBkbWN1ICpkbWN1ID0gZGMtPnJlc19wb29s
LT5kbWN1OwogCiAJLyogIFVuaXQgb2YgU01VIG1zZyBwYXJhbWV0ZXIgaXMgTWh6ICovCiAJYWN0
dWFsX2Rpc3BjbGtfc2V0X21oeiA9IHJ2MV92Ymlvc19zbXVfc2VuZF9tc2dfd2l0aF9wYXJhbSgK
QEAgLTEwMCw3ICsxMDAsNyBAQCBpbnQgcnYxX3ZiaW9zX3NtdV9zZXRfZGlzcGNsayhzdHJ1Y3Qg
Y2xrX21ncl9pbnRlcm5hbCAqY2xrX21nciwgaW50IHJlcXVlc3RlZF9kaQogCS8qIEFjdHVhbCBk
aXNwY2xrIHNldCBpcyByZXR1cm5lZCBpbiB0aGUgcGFyYW1ldGVyIHJlZ2lzdGVyICovCiAJYWN0
dWFsX2Rpc3BjbGtfc2V0X21oeiA9IFJFR19SRUFEKE1QMV9TTU5fQzJQTVNHXzgzKSAqIDEwMDA7
CiAKLQlpZiAoIUlTX0ZQR0FfTUFYSU1VU19EQyhjb3JlX2RjLT5jdHgtPmRjZV9lbnZpcm9ubWVu
dCkpIHsKKwlpZiAoIUlTX0ZQR0FfTUFYSU1VU19EQyhkYy0+Y3R4LT5kY2VfZW52aXJvbm1lbnQp
KSB7CiAJCWlmIChkbWN1ICYmIGRtY3UtPmZ1bmNzLT5pc19kbWN1X2luaXRpYWxpemVkKGRtY3Up
KSB7CiAJCQlpZiAoY2xrX21nci0+ZGZzX2J5cGFzc19kaXNwX2NsayAhPSBhY3R1YWxfZGlzcGNs
a19zZXRfbWh6KQogCQkJCWRtY3UtPmZ1bmNzLT5zZXRfcHNyX3dhaXRfbG9vcChkbWN1LApkaWZm
IC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2Nsa19tZ3IvZGNuMjEvcm5f
Y2xrX21ncl92Ymlvc19zbXUuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9jbGtf
bWdyL2RjbjIxL3JuX2Nsa19tZ3JfdmJpb3Nfc211LmMKaW5kZXggY2I3YzBlOGI3ZTFiLi42ODc4
YWVkZjFkM2UgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9jbGtf
bWdyL2RjbjIxL3JuX2Nsa19tZ3JfdmJpb3Nfc211LmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9kaXNwbGF5L2RjL2Nsa19tZ3IvZGNuMjEvcm5fY2xrX21ncl92Ymlvc19zbXUuYwpAQCAtODIs
OCArODIsOCBAQCBpbnQgcm5fdmJpb3Nfc211X2dldF9zbXVfdmVyc2lvbihzdHJ1Y3QgY2xrX21n
cl9pbnRlcm5hbCAqY2xrX21ncikKIGludCBybl92Ymlvc19zbXVfc2V0X2Rpc3BjbGsoc3RydWN0
IGNsa19tZ3JfaW50ZXJuYWwgKmNsa19tZ3IsIGludCByZXF1ZXN0ZWRfZGlzcGNsa19raHopCiB7
CiAJaW50IGFjdHVhbF9kaXNwY2xrX3NldF9taHogPSAtMTsKLQlzdHJ1Y3QgZGMgKmNvcmVfZGMg
PSBjbGtfbWdyLT5iYXNlLmN0eC0+ZGM7Ci0Jc3RydWN0IGRtY3UgKmRtY3UgPSBjb3JlX2RjLT5y
ZXNfcG9vbC0+ZG1jdTsKKwlzdHJ1Y3QgZGMgKmRjID0gY2xrX21nci0+YmFzZS5jdHgtPmRjOwor
CXN0cnVjdCBkbWN1ICpkbWN1ID0gZGMtPnJlc19wb29sLT5kbWN1OwogCiAJLyogIFVuaXQgb2Yg
U01VIG1zZyBwYXJhbWV0ZXIgaXMgTWh6ICovCiAJYWN0dWFsX2Rpc3BjbGtfc2V0X21oeiA9IHJu
X3ZiaW9zX3NtdV9zZW5kX21zZ193aXRoX3BhcmFtKApAQCAtOTEsNyArOTEsNyBAQCBpbnQgcm5f
dmJpb3Nfc211X3NldF9kaXNwY2xrKHN0cnVjdCBjbGtfbWdyX2ludGVybmFsICpjbGtfbWdyLCBp
bnQgcmVxdWVzdGVkX2RpcwogCQkJVkJJT1NTTUNfTVNHX1NldERpc3BjbGtGcmVxLAogCQkJcmVx
dWVzdGVkX2Rpc3BjbGtfa2h6IC8gMTAwMCk7CiAKLQlpZiAoIUlTX0ZQR0FfTUFYSU1VU19EQyhj
b3JlX2RjLT5jdHgtPmRjZV9lbnZpcm9ubWVudCkpIHsKKwlpZiAoIUlTX0ZQR0FfTUFYSU1VU19E
QyhkYy0+Y3R4LT5kY2VfZW52aXJvbm1lbnQpKSB7CiAJCWlmIChkbWN1ICYmIGRtY3UtPmZ1bmNz
LT5pc19kbWN1X2luaXRpYWxpemVkKGRtY3UpKSB7CiAJCQlpZiAoY2xrX21nci0+ZGZzX2J5cGFz
c19kaXNwX2NsayAhPSBhY3R1YWxfZGlzcGNsa19zZXRfbWh6KQogCQkJCWRtY3UtPmZ1bmNzLT5z
ZXRfcHNyX3dhaXRfbG9vcChkbWN1LApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9k
aXNwbGF5L2RjL2NvcmUvZGNfZGVidWcuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9k
Yy9jb3JlL2RjX2RlYnVnLmMKaW5kZXggODVhNTJhMTYyOTVhLi5iZjEzY2ZmZWQ3MDMgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9jb3JlL2RjX2RlYnVnLmMKKysr
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2NvcmUvZGNfZGVidWcuYwpAQCAtMzEw
LDE0ICszMTAsMTMgQEAgdm9pZCBjb250ZXh0X3RpbWluZ190cmFjZSgKIAkJc3RydWN0IHJlc291
cmNlX2NvbnRleHQgKnJlc19jdHgpCiB7CiAJaW50IGk7Ci0Jc3RydWN0IGRjICAqY29yZV9kYyA9
IGRjOwogCWludCBoX3Bvc1tNQVhfUElQRVNdID0gezB9LCB2X3Bvc1tNQVhfUElQRVNdID0gezB9
OwogCXN0cnVjdCBjcnRjX3Bvc2l0aW9uIHBvc2l0aW9uOwotCXVuc2lnbmVkIGludCB1bmRlcmxh
eV9pZHggPSBjb3JlX2RjLT5yZXNfcG9vbC0+dW5kZXJsYXlfcGlwZV9pbmRleDsKKwl1bnNpZ25l
ZCBpbnQgdW5kZXJsYXlfaWR4ID0gZGMtPnJlc19wb29sLT51bmRlcmxheV9waXBlX2luZGV4Owog
CURDX0xPR0dFUl9JTklUKGRjLT5jdHgtPmxvZ2dlcik7CiAKIAotCWZvciAoaSA9IDA7IGkgPCBj
b3JlX2RjLT5yZXNfcG9vbC0+cGlwZV9jb3VudDsgaSsrKSB7CisJZm9yIChpID0gMDsgaSA8IGRj
LT5yZXNfcG9vbC0+cGlwZV9jb3VudDsgaSsrKSB7CiAJCXN0cnVjdCBwaXBlX2N0eCAqcGlwZV9j
dHggPSAmcmVzX2N0eC0+cGlwZV9jdHhbaV07CiAJCS8qIGdldF9wb3NpdGlvbigpIHJldHVybnMg
Q1JUQyB2ZXJ0aWNhbC9ob3Jpem9udGFsIGNvdW50ZXIKIAkJICogaGVuY2Ugbm90IGFwcGxpY2Fi
bGUgZm9yIHVuZGVybGF5IHBpcGUKQEAgLTMyOSw3ICszMjgsNyBAQCB2b2lkIGNvbnRleHRfdGlt
aW5nX3RyYWNlKAogCQloX3Bvc1tpXSA9IHBvc2l0aW9uLmhvcml6b250YWxfY291bnQ7CiAJCXZf
cG9zW2ldID0gcG9zaXRpb24udmVydGljYWxfY291bnQ7CiAJfQotCWZvciAoaSA9IDA7IGkgPCBj
b3JlX2RjLT5yZXNfcG9vbC0+cGlwZV9jb3VudDsgaSsrKSB7CisJZm9yIChpID0gMDsgaSA8IGRj
LT5yZXNfcG9vbC0+cGlwZV9jb3VudDsgaSsrKSB7CiAJCXN0cnVjdCBwaXBlX2N0eCAqcGlwZV9j
dHggPSAmcmVzX2N0eC0+cGlwZV9jdHhbaV07CiAKIAkJaWYgKHBpcGVfY3R4LT5zdHJlYW0gPT0g
TlVMTCB8fCBwaXBlX2N0eC0+cGlwZV9pZHggPT0gdW5kZXJsYXlfaWR4KQpkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2NvcmUvZGNfbGluay5jIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9kaXNwbGF5L2RjL2NvcmUvZGNfbGluay5jCmluZGV4IDEyM2I3OWRjZDhlNC4u
MDkzZjZjODA4ODc2IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMv
Y29yZS9kY19saW5rLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2NvcmUv
ZGNfbGluay5jCkBAIC0yMzU1LDkgKzIzNTUsOSBAQCBib29sIGRjX2xpbmtfc2V0X2JhY2tsaWdo
dF9sZXZlbChjb25zdCBzdHJ1Y3QgZGNfbGluayAqbGluaywKIAkJdWludDMyX3QgYmFja2xpZ2h0
X3B3bV91MTZfMTYsCiAJCXVpbnQzMl90IGZyYW1lX3JhbXApCiB7Ci0Jc3RydWN0IGRjICAqY29y
ZV9kYyA9IGxpbmstPmN0eC0+ZGM7Ci0Jc3RydWN0IGFibSAqYWJtID0gY29yZV9kYy0+cmVzX3Bv
b2wtPmFibTsKLQlzdHJ1Y3QgZG1jdSAqZG1jdSA9IGNvcmVfZGMtPnJlc19wb29sLT5kbWN1Owor
CXN0cnVjdCBkYyAgKmRjID0gbGluay0+Y3R4LT5kYzsKKwlzdHJ1Y3QgYWJtICphYm0gPSBkYy0+
cmVzX3Bvb2wtPmFibTsKKwlzdHJ1Y3QgZG1jdSAqZG1jdSA9IGRjLT5yZXNfcG9vbC0+ZG1jdTsK
IAl1bnNpZ25lZCBpbnQgY29udHJvbGxlcl9pZCA9IDA7CiAJYm9vbCB1c2Vfc21vb3RoX2JyaWdo
dG5lc3MgPSB0cnVlOwogCWludCBpOwpAQCAtMjM3NSwyMiArMjM3NSwyMiBAQCBib29sIGRjX2xp
bmtfc2V0X2JhY2tsaWdodF9sZXZlbChjb25zdCBzdHJ1Y3QgZGNfbGluayAqbGluaywKIAogCWlm
IChkY19pc19lbWJlZGRlZF9zaWduYWwobGluay0+Y29ubmVjdG9yX3NpZ25hbCkpIHsKIAkJZm9y
IChpID0gMDsgaSA8IE1BWF9QSVBFUzsgaSsrKSB7Ci0JCQlpZiAoY29yZV9kYy0+Y3VycmVudF9z
dGF0ZS0+cmVzX2N0eC5waXBlX2N0eFtpXS5zdHJlYW0pIHsKLQkJCQlpZiAoY29yZV9kYy0+Y3Vy
cmVudF9zdGF0ZS0+cmVzX2N0eC4KKwkJCWlmIChkYy0+Y3VycmVudF9zdGF0ZS0+cmVzX2N0eC5w
aXBlX2N0eFtpXS5zdHJlYW0pIHsKKwkJCQlpZiAoZGMtPmN1cnJlbnRfc3RhdGUtPnJlc19jdHgu
CiAJCQkJCQlwaXBlX2N0eFtpXS5zdHJlYW0tPmxpbmsKIAkJCQkJCT09IGxpbmspIHsKIAkJCQkJ
LyogRE1DVSAtMSBmb3IgYWxsIGNvbnRyb2xsZXIgaWQgdmFsdWVzLAogCQkJCQkgKiB0aGVyZWZv
cmUgKzEgaGVyZQogCQkJCQkgKi8KIAkJCQkJY29udHJvbGxlcl9pZCA9Ci0JCQkJCQljb3JlX2Rj
LT5jdXJyZW50X3N0YXRlLT4KKwkJCQkJCWRjLT5jdXJyZW50X3N0YXRlLT4KIAkJCQkJCXJlc19j
dHgucGlwZV9jdHhbaV0uc3RyZWFtX3Jlcy50Zy0+aW5zdCArCiAJCQkJCQkxOwogCiAJCQkJCS8q
IERpc2FibGUgYnJpZ2h0bmVzcyByYW1waW5nIHdoZW4gdGhlIGRpc3BsYXkgaXMgYmxhbmtlZAog
CQkJCQkgKiBhcyBpdCBjYW4gaGFuZyB0aGUgRE1DVQogCQkJCQkgKi8KLQkJCQkJaWYgKGNvcmVf
ZGMtPmN1cnJlbnRfc3RhdGUtPnJlc19jdHgucGlwZV9jdHhbaV0ucGxhbmVfc3RhdGUgPT0gTlVM
TCkKKwkJCQkJaWYgKGRjLT5jdXJyZW50X3N0YXRlLT5yZXNfY3R4LnBpcGVfY3R4W2ldLnBsYW5l
X3N0YXRlID09IE5VTEwpCiAJCQkJCQlmcmFtZV9yYW1wID0gMDsKIAkJCQl9CiAJCQl9CkBAIC0y
NDA4LDggKzI0MDgsOCBAQCBib29sIGRjX2xpbmtfc2V0X2JhY2tsaWdodF9sZXZlbChjb25zdCBz
dHJ1Y3QgZGNfbGluayAqbGluaywKIAogYm9vbCBkY19saW5rX3NldF9hYm1fZGlzYWJsZShjb25z
dCBzdHJ1Y3QgZGNfbGluayAqbGluaykKIHsKLQlzdHJ1Y3QgZGMgICpjb3JlX2RjID0gbGluay0+
Y3R4LT5kYzsKLQlzdHJ1Y3QgYWJtICphYm0gPSBjb3JlX2RjLT5yZXNfcG9vbC0+YWJtOworCXN0
cnVjdCBkYyAgKmRjID0gbGluay0+Y3R4LT5kYzsKKwlzdHJ1Y3QgYWJtICphYm0gPSBkYy0+cmVz
X3Bvb2wtPmFibTsKIAogCWlmICgoYWJtID09IE5VTEwpIHx8IChhYm0tPmZ1bmNzLT5zZXRfYmFj
a2xpZ2h0X2xldmVsX3B3bSA9PSBOVUxMKSkKIAkJcmV0dXJuIGZhbHNlOwpAQCAtMjQyMSw4ICsy
NDIxLDggQEAgYm9vbCBkY19saW5rX3NldF9hYm1fZGlzYWJsZShjb25zdCBzdHJ1Y3QgZGNfbGlu
ayAqbGluaykKIAogYm9vbCBkY19saW5rX3NldF9wc3JfYWxsb3dfYWN0aXZlKHN0cnVjdCBkY19s
aW5rICpsaW5rLCBib29sIGFsbG93X2FjdGl2ZSwgYm9vbCB3YWl0KQogewotCXN0cnVjdCBkYyAg
KmNvcmVfZGMgPSBsaW5rLT5jdHgtPmRjOwotCXN0cnVjdCBkbWN1ICpkbWN1ID0gY29yZV9kYy0+
cmVzX3Bvb2wtPmRtY3U7CisJc3RydWN0IGRjICAqZGMgPSBsaW5rLT5jdHgtPmRjOworCXN0cnVj
dCBkbWN1ICpkbWN1ID0gZGMtPnJlc19wb29sLT5kbWN1OwogCiAKIApAQCAtMjQzNiw4ICsyNDM2
LDggQEAgYm9vbCBkY19saW5rX3NldF9wc3JfYWxsb3dfYWN0aXZlKHN0cnVjdCBkY19saW5rICps
aW5rLCBib29sIGFsbG93X2FjdGl2ZSwgYm9vbAogCiBib29sIGRjX2xpbmtfZ2V0X3Bzcl9zdGF0
ZShjb25zdCBzdHJ1Y3QgZGNfbGluayAqbGluaywgdWludDMyX3QgKnBzcl9zdGF0ZSkKIHsKLQlz
dHJ1Y3QgZGMgICpjb3JlX2RjID0gbGluay0+Y3R4LT5kYzsKLQlzdHJ1Y3QgZG1jdSAqZG1jdSA9
IGNvcmVfZGMtPnJlc19wb29sLT5kbWN1OworCXN0cnVjdCBkYyAgKmRjID0gbGluay0+Y3R4LT5k
YzsKKwlzdHJ1Y3QgZG1jdSAqZG1jdSA9IGRjLT5yZXNfcG9vbC0+ZG1jdTsKIAogCWlmIChkbWN1
ICE9IE5VTEwgJiYgbGluay0+cHNyX2ZlYXR1cmVfZW5hYmxlZCkKIAkJZG1jdS0+ZnVuY3MtPmdl
dF9wc3Jfc3RhdGUoZG1jdSwgcHNyX3N0YXRlKTsKQEAgLTI0ODQsNyArMjQ4NCw3IEBAIGJvb2wg
ZGNfbGlua19zZXR1cF9wc3Ioc3RydWN0IGRjX2xpbmsgKmxpbmssCiAJCWNvbnN0IHN0cnVjdCBk
Y19zdHJlYW1fc3RhdGUgKnN0cmVhbSwgc3RydWN0IHBzcl9jb25maWcgKnBzcl9jb25maWcsCiAJ
CXN0cnVjdCBwc3JfY29udGV4dCAqcHNyX2NvbnRleHQpCiB7Ci0Jc3RydWN0IGRjICpjb3JlX2Rj
OworCXN0cnVjdCBkYyAqZGM7CiAJc3RydWN0IGRtY3UgKmRtY3U7CiAJaW50IGk7CiAJLyogdXBk
YXRlU2lua1BzckRwY2RDb25maWcqLwpAQCAtMjQ5NSw4ICsyNDk1LDggQEAgYm9vbCBkY19saW5r
X3NldHVwX3BzcihzdHJ1Y3QgZGNfbGluayAqbGluaywKIAlpZiAoIWxpbmspCiAJCXJldHVybiBm
YWxzZTsKIAotCWNvcmVfZGMgPSBsaW5rLT5jdHgtPmRjOwotCWRtY3UgPSBjb3JlX2RjLT5yZXNf
cG9vbC0+ZG1jdTsKKwlkYyA9IGxpbmstPmN0eC0+ZGM7CisJZG1jdSA9IGRjLT5yZXNfcG9vbC0+
ZG1jdTsKIAogCWlmICghZG1jdSkKIAkJcmV0dXJuIGZhbHNlOwpAQCAtMjUzNSwxMyArMjUzNSwx
MyBAQCBib29sIGRjX2xpbmtfc2V0dXBfcHNyKHN0cnVjdCBkY19saW5rICpsaW5rLAogCXBzcl9j
b250ZXh0LT5lbmdpbmVJZCA9IGxpbmstPmxpbmtfZW5jLT5wcmVmZXJyZWRfZW5naW5lOwogCiAJ
Zm9yIChpID0gMDsgaSA8IE1BWF9QSVBFUzsgaSsrKSB7Ci0JCWlmIChjb3JlX2RjLT5jdXJyZW50
X3N0YXRlLT5yZXNfY3R4LnBpcGVfY3R4W2ldLnN0cmVhbQorCQlpZiAoZGMtPmN1cnJlbnRfc3Rh
dGUtPnJlc19jdHgucGlwZV9jdHhbaV0uc3RyZWFtCiAJCQkJPT0gc3RyZWFtKSB7CiAJCQkvKiBk
bWN1IC0xIGZvciBhbGwgY29udHJvbGxlciBpZCB2YWx1ZXMsCiAJCQkgKiB0aGVyZWZvcmUgKzEg
aGVyZQogCQkJICovCiAJCQlwc3JfY29udGV4dC0+Y29udHJvbGxlcklkID0KLQkJCQljb3JlX2Rj
LT5jdXJyZW50X3N0YXRlLT5yZXNfY3R4LgorCQkJCWRjLT5jdXJyZW50X3N0YXRlLT5yZXNfY3R4
LgogCQkJCXBpcGVfY3R4W2ldLnN0cmVhbV9yZXMudGctPmluc3QgKyAxOwogCQkJYnJlYWs7CiAJ
CX0KQEAgLTI5MDUsMTIgKzI5MDUsMTIgQEAgdm9pZCBjb3JlX2xpbmtfZW5hYmxlX3N0cmVhbSgK
IAkJc3RydWN0IGRjX3N0YXRlICpzdGF0ZSwKIAkJc3RydWN0IHBpcGVfY3R4ICpwaXBlX2N0eCkK
IHsKLQlzdHJ1Y3QgZGMgKmNvcmVfZGMgPSBwaXBlX2N0eC0+c3RyZWFtLT5jdHgtPmRjOworCXN0
cnVjdCBkYyAqZGMgPSBwaXBlX2N0eC0+c3RyZWFtLT5jdHgtPmRjOwogCXN0cnVjdCBkY19zdHJl
YW1fc3RhdGUgKnN0cmVhbSA9IHBpcGVfY3R4LT5zdHJlYW07CiAJZW51bSBkY19zdGF0dXMgc3Rh
dHVzOwogCURDX0xPR0dFUl9JTklUKHBpcGVfY3R4LT5zdHJlYW0tPmN0eC0+bG9nZ2VyKTsKIAot
CWlmICghSVNfRlBHQV9NQVhJTVVTX0RDKGNvcmVfZGMtPmN0eC0+ZGNlX2Vudmlyb25tZW50KSAm
JgorCWlmICghSVNfRlBHQV9NQVhJTVVTX0RDKGRjLT5jdHgtPmRjZV9lbnZpcm9ubWVudCkgJiYK
IAkJCWRjX2lzX3ZpcnR1YWxfc2lnbmFsKHBpcGVfY3R4LT5zdHJlYW0tPnNpZ25hbCkpCiAJCXJl
dHVybjsKIApAQCAtMjk1MywxNCArMjk1MywxNCBAQCB2b2lkIGNvcmVfbGlua19lbmFibGVfc3Ry
ZWFtKAogCQkJcGlwZV9jdHgtPnN0cmVhbV9yZXMuc3RyZWFtX2VuYywKIAkJCSZzdHJlYW0tPnRp
bWluZyk7CiAKLQlpZiAoIUlTX0ZQR0FfTUFYSU1VU19EQyhjb3JlX2RjLT5jdHgtPmRjZV9lbnZp
cm9ubWVudCkpIHsKKwlpZiAoIUlTX0ZQR0FfTUFYSU1VU19EQyhkYy0+Y3R4LT5kY2VfZW52aXJv
bm1lbnQpKSB7CiAJCWJvb2wgYXBwbHlfZWRwX2Zhc3RfYm9vdF9vcHRpbWl6YXRpb24gPQogCQkJ
cGlwZV9jdHgtPnN0cmVhbS0+YXBwbHlfZWRwX2Zhc3RfYm9vdF9vcHRpbWl6YXRpb247CiAKIAkJ
cGlwZV9jdHgtPnN0cmVhbS0+YXBwbHlfZWRwX2Zhc3RfYm9vdF9vcHRpbWl6YXRpb24gPSBmYWxz
ZTsKIAogCQlyZXNvdXJjZV9idWlsZF9pbmZvX2ZyYW1lKHBpcGVfY3R4KTsKLQkJY29yZV9kYy0+
aHdzcy51cGRhdGVfaW5mb19mcmFtZShwaXBlX2N0eCk7CisJCWRjLT5od3NzLnVwZGF0ZV9pbmZv
X2ZyYW1lKHBpcGVfY3R4KTsKIAogCQkvKiBEbyBub3QgdG91Y2ggbGluayBvbiBzZWFtbGVzcyBi
b290IG9wdGltaXphdGlvbi4gKi8KIAkJaWYgKHBpcGVfY3R4LT5zdHJlYW0tPmFwcGx5X3NlYW1s
ZXNzX2Jvb3Rfb3B0aW1pemF0aW9uKSB7CkBAIC0zMDAzLDcgKzMwMDMsNyBAQCB2b2lkIGNvcmVf
bGlua19lbmFibGVfc3RyZWFtKAogCQkJfQogCQl9CiAKLQkJY29yZV9kYy0+aHdzcy5lbmFibGVf
YXVkaW9fc3RyZWFtKHBpcGVfY3R4KTsKKwkJZGMtPmh3c3MuZW5hYmxlX2F1ZGlvX3N0cmVhbShw
aXBlX2N0eCk7CiAKIAkJLyogdHVybiBvZmYgb3RnIHRlc3QgcGF0dGVybiBpZiBlbmFibGUgKi8K
IAkJaWYgKHBpcGVfY3R4LT5zdHJlYW1fcmVzLnRnLT5mdW5jcy0+c2V0X3Rlc3RfcGF0dGVybikK
QEAgLTMwMTYsNyArMzAxNiw3IEBAIHZvaWQgY29yZV9saW5rX2VuYWJsZV9zdHJlYW0oCiAJCQkJ
CWRjX2lzX3ZpcnR1YWxfc2lnbmFsKHBpcGVfY3R4LT5zdHJlYW0tPnNpZ25hbCkpCiAJCQkJZHBf
c2V0X2RzY19lbmFibGUocGlwZV9jdHgsIHRydWUpOwogCQl9Ci0JCWNvcmVfZGMtPmh3c3MuZW5h
YmxlX3N0cmVhbShwaXBlX2N0eCk7CisJCWRjLT5od3NzLmVuYWJsZV9zdHJlYW0ocGlwZV9jdHgp
OwogCiAJCS8qIFNldCBEUFMgUFBTIFNEUCAoQUtBICJpbmZvIGZyYW1lcyIpICovCiAJCWlmIChw
aXBlX2N0eC0+c3RyZWFtLT50aW1pbmcuZmxhZ3MuRFNDKSB7CkBAIC0zMDI4LDcgKzMwMjgsNyBA
QCB2b2lkIGNvcmVfbGlua19lbmFibGVfc3RyZWFtKAogCQlpZiAocGlwZV9jdHgtPnN0cmVhbS0+
c2lnbmFsID09IFNJR05BTF9UWVBFX0RJU1BMQVlfUE9SVF9NU1QpCiAJCQlkY19saW5rX2FsbG9j
YXRlX21zdF9wYXlsb2FkKHBpcGVfY3R4KTsKIAotCQljb3JlX2RjLT5od3NzLnVuYmxhbmtfc3Ry
ZWFtKHBpcGVfY3R4LAorCQlkYy0+aHdzcy51bmJsYW5rX3N0cmVhbShwaXBlX2N0eCwKIAkJCSZw
aXBlX2N0eC0+c3RyZWFtLT5saW5rLT5jdXJfbGlua19zZXR0aW5ncyk7CiAKIAkJaWYgKGRjX2lz
X2RwX3NpZ25hbChwaXBlX2N0eC0+c3RyZWFtLT5zaWduYWwpKQpAQCAtMzAzNiw4ICszMDM2LDcg
QEAgdm9pZCBjb3JlX2xpbmtfZW5hYmxlX3N0cmVhbSgKICNpZiBkZWZpbmVkKENPTkZJR19EUk1f
QU1EX0RDX0hEQ1ApCiAJCXVwZGF0ZV9wc3Bfc3RyZWFtX2NvbmZpZyhwaXBlX2N0eCwgZmFsc2Up
OwogI2VuZGlmCi0JfQotCWVsc2UgeyAvLyBpZiAoSVNfRlBHQV9NQVhJTVVTX0RDKGNvcmVfZGMt
PmN0eC0+ZGNlX2Vudmlyb25tZW50KSkKKwl9IGVsc2UgeyAvLyBpZiAoSVNfRlBHQV9NQVhJTVVT
X0RDKGRjLT5jdHgtPmRjZV9lbnZpcm9ubWVudCkpCiAJCWlmIChkY19pc19kcF9zaWduYWwocGlw
ZV9jdHgtPnN0cmVhbS0+c2lnbmFsKSB8fAogCQkJCWRjX2lzX3ZpcnR1YWxfc2lnbmFsKHBpcGVf
Y3R4LT5zdHJlYW0tPnNpZ25hbCkpCiAJCQlkcF9zZXRfZHNjX2VuYWJsZShwaXBlX2N0eCwgdHJ1
ZSk7CkBAIC0zMDQ3LDExICszMDQ2LDExIEBAIHZvaWQgY29yZV9saW5rX2VuYWJsZV9zdHJlYW0o
CiAKIHZvaWQgY29yZV9saW5rX2Rpc2FibGVfc3RyZWFtKHN0cnVjdCBwaXBlX2N0eCAqcGlwZV9j
dHgpCiB7Ci0Jc3RydWN0IGRjICAqY29yZV9kYyA9IHBpcGVfY3R4LT5zdHJlYW0tPmN0eC0+ZGM7
CisJc3RydWN0IGRjICAqZGMgPSBwaXBlX2N0eC0+c3RyZWFtLT5jdHgtPmRjOwogCXN0cnVjdCBk
Y19zdHJlYW1fc3RhdGUgKnN0cmVhbSA9IHBpcGVfY3R4LT5zdHJlYW07CiAJc3RydWN0IGRjX2xp
bmsgKmxpbmsgPSBzdHJlYW0tPnNpbmstPmxpbms7CiAKLQlpZiAoIUlTX0ZQR0FfTUFYSU1VU19E
Qyhjb3JlX2RjLT5jdHgtPmRjZV9lbnZpcm9ubWVudCkgJiYKKwlpZiAoIUlTX0ZQR0FfTUFYSU1V
U19EQyhkYy0+Y3R4LT5kY2VfZW52aXJvbm1lbnQpICYmCiAJCQlkY19pc192aXJ0dWFsX3NpZ25h
bChwaXBlX2N0eC0+c3RyZWFtLT5zaWduYWwpKQogCQlyZXR1cm47CiAKQEAgLTMwNTksNyArMzA1
OCw3IEBAIHZvaWQgY29yZV9saW5rX2Rpc2FibGVfc3RyZWFtKHN0cnVjdCBwaXBlX2N0eCAqcGlw
ZV9jdHgpCiAJdXBkYXRlX3BzcF9zdHJlYW1fY29uZmlnKHBpcGVfY3R4LCB0cnVlKTsKICNlbmRp
ZgogCi0JY29yZV9kYy0+aHdzcy5ibGFua19zdHJlYW0ocGlwZV9jdHgpOworCWRjLT5od3NzLmJs
YW5rX3N0cmVhbShwaXBlX2N0eCk7CiAKIAlpZiAocGlwZV9jdHgtPnN0cmVhbS0+c2lnbmFsID09
IFNJR05BTF9UWVBFX0RJU1BMQVlfUE9SVF9NU1QpCiAJCWRlYWxsb2NhdGVfbXN0X3BheWxvYWQo
cGlwZV9jdHgpOwpAQCAtMzA4OCw3ICszMDg3LDcgQEAgdm9pZCBjb3JlX2xpbmtfZGlzYWJsZV9z
dHJlYW0oc3RydWN0IHBpcGVfY3R4ICpwaXBlX2N0eCkKIAkJCXdyaXRlX2kyY19yZWRyaXZlcl9z
ZXR0aW5nKHBpcGVfY3R4LCBmYWxzZSk7CiAJCX0KIAl9Ci0JY29yZV9kYy0+aHdzcy5kaXNhYmxl
X3N0cmVhbShwaXBlX2N0eCk7CisJZGMtPmh3c3MuZGlzYWJsZV9zdHJlYW0ocGlwZV9jdHgpOwog
CiAJZGlzYWJsZV9saW5rKHBpcGVfY3R4LT5zdHJlYW0tPmxpbmssIHBpcGVfY3R4LT5zdHJlYW0t
PnNpZ25hbCk7CiAJaWYgKHBpcGVfY3R4LT5zdHJlYW0tPnRpbWluZy5mbGFncy5EU0MpIHsKQEAg
LTMwOTksMTIgKzMwOTgsMTIgQEAgdm9pZCBjb3JlX2xpbmtfZGlzYWJsZV9zdHJlYW0oc3RydWN0
IHBpcGVfY3R4ICpwaXBlX2N0eCkKIAogdm9pZCBjb3JlX2xpbmtfc2V0X2F2bXV0ZShzdHJ1Y3Qg
cGlwZV9jdHggKnBpcGVfY3R4LCBib29sIGVuYWJsZSkKIHsKLQlzdHJ1Y3QgZGMgICpjb3JlX2Rj
ID0gcGlwZV9jdHgtPnN0cmVhbS0+Y3R4LT5kYzsKKwlzdHJ1Y3QgZGMgICpkYyA9IHBpcGVfY3R4
LT5zdHJlYW0tPmN0eC0+ZGM7CiAKIAlpZiAoIWRjX2lzX2hkbWlfc2lnbmFsKHBpcGVfY3R4LT5z
dHJlYW0tPnNpZ25hbCkpCiAJCXJldHVybjsKIAotCWNvcmVfZGMtPmh3c3Muc2V0X2F2bXV0ZShw
aXBlX2N0eCwgZW5hYmxlKTsKKwlkYy0+aHdzcy5zZXRfYXZtdXRlKHBpcGVfY3R4LCBlbmFibGUp
OwogfQogCiAvKioKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9j
b3JlL2RjX2xpbmtfaHdzcy5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2NvcmUv
ZGNfbGlua19od3NzLmMKaW5kZXggYmIxZThlNWI1MjUyLi42N2NlMTJkZjIzZjEgMTAwNjQ0Ci0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9jb3JlL2RjX2xpbmtfaHdzcy5jCisr
KyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9jb3JlL2RjX2xpbmtfaHdzcy5jCkBA
IC05NSw4ICs5NSw4IEBAIHZvaWQgZHBfZW5hYmxlX2xpbmtfcGh5KAogCWNvbnN0IHN0cnVjdCBk
Y19saW5rX3NldHRpbmdzICpsaW5rX3NldHRpbmdzKQogewogCXN0cnVjdCBsaW5rX2VuY29kZXIg
KmxpbmtfZW5jID0gbGluay0+bGlua19lbmM7Ci0Jc3RydWN0IGRjICAqY29yZV9kYyA9IGxpbmst
PmN0eC0+ZGM7Ci0Jc3RydWN0IGRtY3UgKmRtY3UgPSBjb3JlX2RjLT5yZXNfcG9vbC0+ZG1jdTsK
KwlzdHJ1Y3QgZGMgICpkYyA9IGxpbmstPmN0eC0+ZGM7CisJc3RydWN0IGRtY3UgKmRtY3UgPSBk
Yy0+cmVzX3Bvb2wtPmRtY3U7CiAKIAlzdHJ1Y3QgcGlwZV9jdHggKnBpcGVzID0KIAkJCWxpbmst
PmRjLT5jdXJyZW50X3N0YXRlLT5yZXNfY3R4LnBpcGVfY3R4OwpAQCAtMjAwLDggKzIwMCw4IEBA
IGJvb2wgZWRwX3JlY2VpdmVyX3JlYWR5X1Q3KHN0cnVjdCBkY19saW5rICpsaW5rKQogCiB2b2lk
IGRwX2Rpc2FibGVfbGlua19waHkoc3RydWN0IGRjX2xpbmsgKmxpbmssIGVudW0gc2lnbmFsX3R5
cGUgc2lnbmFsKQogewotCXN0cnVjdCBkYyAgKmNvcmVfZGMgPSBsaW5rLT5jdHgtPmRjOwotCXN0
cnVjdCBkbWN1ICpkbWN1ID0gY29yZV9kYy0+cmVzX3Bvb2wtPmRtY3U7CisJc3RydWN0IGRjICAq
ZGMgPSBsaW5rLT5jdHgtPmRjOworCXN0cnVjdCBkbWN1ICpkbWN1ID0gZGMtPnJlc19wb29sLT5k
bWN1OwogCiAJaWYgKCFsaW5rLT53YV9mbGFncy5kcF9rZWVwX3JlY2VpdmVyX3Bvd2VyZWQpCiAJ
CWRwX3JlY2VpdmVyX3Bvd2VyX2N0cmwobGluaywgZmFsc2UpOwpAQCAtMzk1LDE0ICszOTUsMTQg
QEAgc3RhdGljIHZvaWQgZHNjX29wdGNfY29uZmlnX2xvZyhzdHJ1Y3QgZGlzcGxheV9zdHJlYW1f
Y29tcHJlc3NvciAqZHNjLAogCiBzdGF0aWMgYm9vbCBkcF9zZXRfZHNjX29uX3J4KHN0cnVjdCBw
aXBlX2N0eCAqcGlwZV9jdHgsIGJvb2wgZW5hYmxlKQogewotCXN0cnVjdCBkYyAqY29yZV9kYyA9
IHBpcGVfY3R4LT5zdHJlYW0tPmN0eC0+ZGM7CisJc3RydWN0IGRjICpkYyA9IHBpcGVfY3R4LT5z
dHJlYW0tPmN0eC0+ZGM7CiAJc3RydWN0IGRjX3N0cmVhbV9zdGF0ZSAqc3RyZWFtID0gcGlwZV9j
dHgtPnN0cmVhbTsKIAlib29sIHJlc3VsdCA9IGZhbHNlOwogCi0JaWYgKElTX0ZQR0FfTUFYSU1V
U19EQyhjb3JlX2RjLT5jdHgtPmRjZV9lbnZpcm9ubWVudCkpCisJaWYgKElTX0ZQR0FfTUFYSU1V
U19EQyhkYy0+Y3R4LT5kY2VfZW52aXJvbm1lbnQpKQogCQlyZXN1bHQgPSB0cnVlOwogCWVsc2UK
LQkJcmVzdWx0ID0gZG1faGVscGVyc19kcF93cml0ZV9kc2NfZW5hYmxlKGNvcmVfZGMtPmN0eCwg
c3RyZWFtLCBlbmFibGUpOworCQlyZXN1bHQgPSBkbV9oZWxwZXJzX2RwX3dyaXRlX2RzY19lbmFi
bGUoZGMtPmN0eCwgc3RyZWFtLCBlbmFibGUpOwogCXJldHVybiByZXN1bHQ7CiB9CiAKQEAgLTQx
Miw3ICs0MTIsNyBAQCBzdGF0aWMgYm9vbCBkcF9zZXRfZHNjX29uX3J4KHN0cnVjdCBwaXBlX2N0
eCAqcGlwZV9jdHgsIGJvb2wgZW5hYmxlKQogdm9pZCBkcF9zZXRfZHNjX29uX3N0cmVhbShzdHJ1
Y3QgcGlwZV9jdHggKnBpcGVfY3R4LCBib29sIGVuYWJsZSkKIHsKIAlzdHJ1Y3QgZGlzcGxheV9z
dHJlYW1fY29tcHJlc3NvciAqZHNjID0gcGlwZV9jdHgtPnN0cmVhbV9yZXMuZHNjOwotCXN0cnVj
dCBkYyAqY29yZV9kYyA9IHBpcGVfY3R4LT5zdHJlYW0tPmN0eC0+ZGM7CisJc3RydWN0IGRjICpk
YyA9IHBpcGVfY3R4LT5zdHJlYW0tPmN0eC0+ZGM7CiAJc3RydWN0IGRjX3N0cmVhbV9zdGF0ZSAq
c3RyZWFtID0gcGlwZV9jdHgtPnN0cmVhbTsKIAlzdHJ1Y3QgcGlwZV9jdHggKm9kbV9waXBlOwog
CWludCBvcHBfY250ID0gMTsKQEAgLTQ0OCw3ICs0NDgsNyBAQCB2b2lkIGRwX3NldF9kc2Nfb25f
c3RyZWFtKHN0cnVjdCBwaXBlX2N0eCAqcGlwZV9jdHgsIGJvb2wgZW5hYmxlKQogCQlvcHRjX2Rz
Y19tb2RlID0gZHNjX29wdGNfY2ZnLmlzX3BpeGVsX2Zvcm1hdF80NDQgPyBPUFRDX0RTQ19FTkFC
TEVEXzQ0NCA6IE9QVENfRFNDX0VOQUJMRURfTkFUSVZFX1NVQlNBTVBMRUQ7CiAKIAkJLyogRW5h
YmxlIERTQyBpbiBlbmNvZGVyICovCi0JCWlmIChkY19pc19kcF9zaWduYWwoc3RyZWFtLT5zaWdu
YWwpICYmICFJU19GUEdBX01BWElNVVNfREMoY29yZV9kYy0+Y3R4LT5kY2VfZW52aXJvbm1lbnQp
KSB7CisJCWlmIChkY19pc19kcF9zaWduYWwoc3RyZWFtLT5zaWduYWwpICYmICFJU19GUEdBX01B
WElNVVNfREMoZGMtPmN0eC0+ZGNlX2Vudmlyb25tZW50KSkgewogCQkJRENfTE9HX0RTQygiU2V0
dGluZyBzdHJlYW0gZW5jb2RlciBEU0MgY29uZmlnIGZvciBlbmdpbmUgJWQ6IiwgKGludClwaXBl
X2N0eC0+c3RyZWFtX3Jlcy5zdHJlYW1fZW5jLT5pZCk7CiAJCQlkc2Nfb3B0Y19jb25maWdfbG9n
KGRzYywgJmRzY19vcHRjX2NmZyk7CiAJCQlwaXBlX2N0eC0+c3RyZWFtX3Jlcy5zdHJlYW1fZW5j
LT5mdW5jcy0+ZHBfc2V0X2RzY19jb25maWcocGlwZV9jdHgtPnN0cmVhbV9yZXMuc3RyZWFtX2Vu
YywKQEAgLTQ3Myw3ICs0NzMsNyBAQCB2b2lkIGRwX3NldF9kc2Nfb25fc3RyZWFtKHN0cnVjdCBw
aXBlX2N0eCAqcGlwZV9jdHgsIGJvb2wgZW5hYmxlKQogCQkJCU9QVENfRFNDX0RJU0FCTEVELCAw
LCAwKTsKIAogCQkvKiBkaXNhYmxlIERTQyBpbiBzdHJlYW0gZW5jb2RlciAqLwotCQlpZiAoZGNf
aXNfZHBfc2lnbmFsKHN0cmVhbS0+c2lnbmFsKSAmJiAhSVNfRlBHQV9NQVhJTVVTX0RDKGNvcmVf
ZGMtPmN0eC0+ZGNlX2Vudmlyb25tZW50KSkgeworCQlpZiAoZGNfaXNfZHBfc2lnbmFsKHN0cmVh
bS0+c2lnbmFsKSAmJiAhSVNfRlBHQV9NQVhJTVVTX0RDKGRjLT5jdHgtPmRjZV9lbnZpcm9ubWVu
dCkpIHsKIAkJCXBpcGVfY3R4LT5zdHJlYW1fcmVzLnN0cmVhbV9lbmMtPmZ1bmNzLT5kcF9zZXRf
ZHNjX2NvbmZpZygKIAkJCQkJcGlwZV9jdHgtPnN0cmVhbV9yZXMuc3RyZWFtX2VuYywKIAkJCQkJ
T1BUQ19EU0NfRElTQUJMRUQsIDAsIDApOwpAQCAtNTE2LDcgKzUxNiw3IEBAIGJvb2wgZHBfc2V0
X2RzY19lbmFibGUoc3RydWN0IHBpcGVfY3R4ICpwaXBlX2N0eCwgYm9vbCBlbmFibGUpCiBib29s
IGRwX3NldF9kc2NfcHBzX3NkcChzdHJ1Y3QgcGlwZV9jdHggKnBpcGVfY3R4LCBib29sIGVuYWJs
ZSkKIHsKIAlzdHJ1Y3QgZGlzcGxheV9zdHJlYW1fY29tcHJlc3NvciAqZHNjID0gcGlwZV9jdHgt
PnN0cmVhbV9yZXMuZHNjOwotCXN0cnVjdCBkYyAqY29yZV9kYyA9IHBpcGVfY3R4LT5zdHJlYW0t
PmN0eC0+ZGM7CisJc3RydWN0IGRjICpkYyA9IHBpcGVfY3R4LT5zdHJlYW0tPmN0eC0+ZGM7CiAJ
c3RydWN0IGRjX3N0cmVhbV9zdGF0ZSAqc3RyZWFtID0gcGlwZV9jdHgtPnN0cmVhbTsKIAogCWlm
ICghcGlwZV9jdHgtPnN0cmVhbS0+dGltaW5nLmZsYWdzLkRTQyB8fCAhZHNjKQpAQCAtNTM1LDcg
KzUzNSw3IEBAIGJvb2wgZHBfc2V0X2RzY19wcHNfc2RwKHN0cnVjdCBwaXBlX2N0eCAqcGlwZV9j
dHgsIGJvb2wgZW5hYmxlKQogCiAJCURDX0xPR19EU0MoIiAiKTsKIAkJZHNjLT5mdW5jcy0+ZHNj
X2dldF9wYWNrZWRfcHBzKGRzYywgJmRzY19jZmcsICZkc2NfcGFja2VkX3Bwc1swXSk7Ci0JCWlm
IChkY19pc19kcF9zaWduYWwoc3RyZWFtLT5zaWduYWwpICYmICFJU19GUEdBX01BWElNVVNfREMo
Y29yZV9kYy0+Y3R4LT5kY2VfZW52aXJvbm1lbnQpKSB7CisJCWlmIChkY19pc19kcF9zaWduYWwo
c3RyZWFtLT5zaWduYWwpICYmICFJU19GUEdBX01BWElNVVNfREMoZGMtPmN0eC0+ZGNlX2Vudmly
b25tZW50KSkgewogCQkJRENfTE9HX0RTQygiU2V0dGluZyBzdHJlYW0gZW5jb2RlciBEU0MgUFBT
IFNEUCBmb3IgZW5naW5lICVkXG4iLCAoaW50KXBpcGVfY3R4LT5zdHJlYW1fcmVzLnN0cmVhbV9l
bmMtPmlkKTsKIAkJCXBpcGVfY3R4LT5zdHJlYW1fcmVzLnN0cmVhbV9lbmMtPmZ1bmNzLT5kcF9z
ZXRfZHNjX3Bwc19pbmZvX3BhY2tldCgKIAkJCQkJCQkJCXBpcGVfY3R4LT5zdHJlYW1fcmVzLnN0
cmVhbV9lbmMsCkBAIC01NDQsNyArNTQ0LDcgQEAgYm9vbCBkcF9zZXRfZHNjX3Bwc19zZHAoc3Ry
dWN0IHBpcGVfY3R4ICpwaXBlX2N0eCwgYm9vbCBlbmFibGUpCiAJCX0KIAl9IGVsc2UgewogCQkv
KiBkaXNhYmxlIERTQyBQUFMgaW4gc3RyZWFtIGVuY29kZXIgKi8KLQkJaWYgKGRjX2lzX2RwX3Np
Z25hbChzdHJlYW0tPnNpZ25hbCkgJiYgIUlTX0ZQR0FfTUFYSU1VU19EQyhjb3JlX2RjLT5jdHgt
PmRjZV9lbnZpcm9ubWVudCkpIHsKKwkJaWYgKGRjX2lzX2RwX3NpZ25hbChzdHJlYW0tPnNpZ25h
bCkgJiYgIUlTX0ZQR0FfTUFYSU1VU19EQyhkYy0+Y3R4LT5kY2VfZW52aXJvbm1lbnQpKSB7CiAJ
CQlwaXBlX2N0eC0+c3RyZWFtX3Jlcy5zdHJlYW1fZW5jLT5mdW5jcy0+ZHBfc2V0X2RzY19wcHNf
aW5mb19wYWNrZXQoCiAJCQkJCQlwaXBlX2N0eC0+c3RyZWFtX3Jlcy5zdHJlYW1fZW5jLCBmYWxz
ZSwgTlVMTCk7CiAJCX0KZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9k
Yy9jb3JlL2RjX3Jlc291cmNlLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvY29y
ZS9kY19yZXNvdXJjZS5jCmluZGV4IDg5YjVmODZjZDQwYi4uYTk0MTI3MjBjODYwIDEwMDY0NAot
LS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvY29yZS9kY19yZXNvdXJjZS5jCisr
KyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9jb3JlL2RjX3Jlc291cmNlLmMKQEAg
LTI3NDcsOSArMjc0Nyw4IEBAIHZvaWQgcmVzb3VyY2VfYnVpbGRfYml0X2RlcHRoX3JlZHVjdGlv
bl9wYXJhbXMoc3RydWN0IGRjX3N0cmVhbV9zdGF0ZSAqc3RyZWFtLAogCiBlbnVtIGRjX3N0YXR1
cyBkY192YWxpZGF0ZV9zdHJlYW0oc3RydWN0IGRjICpkYywgc3RydWN0IGRjX3N0cmVhbV9zdGF0
ZSAqc3RyZWFtKQogewotCXN0cnVjdCBkYyAgKmNvcmVfZGMgPSBkYzsKIAlzdHJ1Y3QgZGNfbGlu
ayAqbGluayA9IHN0cmVhbS0+bGluazsKLQlzdHJ1Y3QgdGltaW5nX2dlbmVyYXRvciAqdGcgPSBj
b3JlX2RjLT5yZXNfcG9vbC0+dGltaW5nX2dlbmVyYXRvcnNbMF07CisJc3RydWN0IHRpbWluZ19n
ZW5lcmF0b3IgKnRnID0gZGMtPnJlc19wb29sLT50aW1pbmdfZ2VuZXJhdG9yc1swXTsKIAllbnVt
IGRjX3N0YXR1cyByZXMgPSBEQ19PSzsKIAogCWNhbGN1bGF0ZV9waHlfcGl4X2Nsa3Moc3RyZWFt
KTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9jb3JlL2RjX3N0
cmVhbS5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2NvcmUvZGNfc3RyZWFtLmMK
aW5kZXggZDlhZmQ4MzRjMTQ2Li43MGI3YzFlYjhhOGYgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1
L2RybS9hbWQvZGlzcGxheS9kYy9jb3JlL2RjX3N0cmVhbS5jCisrKyBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvZGlzcGxheS9kYy9jb3JlL2RjX3N0cmVhbS5jCkBAIC0yNzEsNyArMjcxLDcgQEAgYm9v
bCBkY19zdHJlYW1fc2V0X2N1cnNvcl9hdHRyaWJ1dGVzKAogCWNvbnN0IHN0cnVjdCBkY19jdXJz
b3JfYXR0cmlidXRlcyAqYXR0cmlidXRlcykKIHsKIAlpbnQgaTsKLQlzdHJ1Y3QgZGMgICpjb3Jl
X2RjOworCXN0cnVjdCBkYyAgKmRjOwogCXN0cnVjdCByZXNvdXJjZV9jb250ZXh0ICpyZXNfY3R4
OwogCXN0cnVjdCBwaXBlX2N0eCAqcGlwZV90b19wcm9ncmFtID0gTlVMTDsKIApAQCAtMjg5LDgg
KzI4OSw4IEBAIGJvb2wgZGNfc3RyZWFtX3NldF9jdXJzb3JfYXR0cmlidXRlcygKIAkJcmV0dXJu
IGZhbHNlOwogCX0KIAotCWNvcmVfZGMgPSBzdHJlYW0tPmN0eC0+ZGM7Ci0JcmVzX2N0eCA9ICZj
b3JlX2RjLT5jdXJyZW50X3N0YXRlLT5yZXNfY3R4OworCWRjID0gc3RyZWFtLT5jdHgtPmRjOwor
CXJlc19jdHggPSAmZGMtPmN1cnJlbnRfc3RhdGUtPnJlc19jdHg7CiAJc3RyZWFtLT5jdXJzb3Jf
YXR0cmlidXRlcyA9ICphdHRyaWJ1dGVzOwogCiAJZm9yIChpID0gMDsgaSA8IE1BWF9QSVBFUzsg
aSsrKSB7CkBAIC0zMDIsMTcgKzMwMiwxNyBAQCBib29sIGRjX3N0cmVhbV9zZXRfY3Vyc29yX2F0
dHJpYnV0ZXMoCiAJCWlmICghcGlwZV90b19wcm9ncmFtKSB7CiAJCQlwaXBlX3RvX3Byb2dyYW0g
PSBwaXBlX2N0eDsKIAotCQkJZGVsYXlfY3Vyc29yX3VudGlsX3Z1cGRhdGUocGlwZV9jdHgsIGNv
cmVfZGMpOwotCQkJY29yZV9kYy0+aHdzcy5waXBlX2NvbnRyb2xfbG9jayhjb3JlX2RjLCBwaXBl
X3RvX3Byb2dyYW0sIHRydWUpOworCQkJZGVsYXlfY3Vyc29yX3VudGlsX3Z1cGRhdGUocGlwZV9j
dHgsIGRjKTsKKwkJCWRjLT5od3NzLnBpcGVfY29udHJvbF9sb2NrKGRjLCBwaXBlX3RvX3Byb2dy
YW0sIHRydWUpOwogCQl9CiAKLQkJY29yZV9kYy0+aHdzcy5zZXRfY3Vyc29yX2F0dHJpYnV0ZShw
aXBlX2N0eCk7Ci0JCWlmIChjb3JlX2RjLT5od3NzLnNldF9jdXJzb3Jfc2RyX3doaXRlX2xldmVs
KQotCQkJY29yZV9kYy0+aHdzcy5zZXRfY3Vyc29yX3Nkcl93aGl0ZV9sZXZlbChwaXBlX2N0eCk7
CisJCWRjLT5od3NzLnNldF9jdXJzb3JfYXR0cmlidXRlKHBpcGVfY3R4KTsKKwkJaWYgKGRjLT5o
d3NzLnNldF9jdXJzb3Jfc2RyX3doaXRlX2xldmVsKQorCQkJZGMtPmh3c3Muc2V0X2N1cnNvcl9z
ZHJfd2hpdGVfbGV2ZWwocGlwZV9jdHgpOwogCX0KIAogCWlmIChwaXBlX3RvX3Byb2dyYW0pCi0J
CWNvcmVfZGMtPmh3c3MucGlwZV9jb250cm9sX2xvY2soY29yZV9kYywgcGlwZV90b19wcm9ncmFt
LCBmYWxzZSk7CisJCWRjLT5od3NzLnBpcGVfY29udHJvbF9sb2NrKGRjLCBwaXBlX3RvX3Byb2dy
YW0sIGZhbHNlKTsKIAogCXJldHVybiB0cnVlOwogfQpAQCAtMzIyLDcgKzMyMiw3IEBAIGJvb2wg
ZGNfc3RyZWFtX3NldF9jdXJzb3JfcG9zaXRpb24oCiAJY29uc3Qgc3RydWN0IGRjX2N1cnNvcl9w
b3NpdGlvbiAqcG9zaXRpb24pCiB7CiAJaW50IGk7Ci0Jc3RydWN0IGRjICAqY29yZV9kYzsKKwlz
dHJ1Y3QgZGMgICpkYzsKIAlzdHJ1Y3QgcmVzb3VyY2VfY29udGV4dCAqcmVzX2N0eDsKIAlzdHJ1
Y3QgcGlwZV9jdHggKnBpcGVfdG9fcHJvZ3JhbSA9IE5VTEw7CiAKQEAgLTMzNiw4ICszMzYsOCBA
QCBib29sIGRjX3N0cmVhbV9zZXRfY3Vyc29yX3Bvc2l0aW9uKAogCQlyZXR1cm4gZmFsc2U7CiAJ
fQogCi0JY29yZV9kYyA9IHN0cmVhbS0+Y3R4LT5kYzsKLQlyZXNfY3R4ID0gJmNvcmVfZGMtPmN1
cnJlbnRfc3RhdGUtPnJlc19jdHg7CisJZGMgPSBzdHJlYW0tPmN0eC0+ZGM7CisJcmVzX2N0eCA9
ICZkYy0+Y3VycmVudF9zdGF0ZS0+cmVzX2N0eDsKIAlzdHJlYW0tPmN1cnNvcl9wb3NpdGlvbiA9
ICpwb3NpdGlvbjsKIAogCWZvciAoaSA9IDA7IGkgPCBNQVhfUElQRVM7IGkrKykgewpAQCAtMzUz
LDE1ICszNTMsMTUgQEAgYm9vbCBkY19zdHJlYW1fc2V0X2N1cnNvcl9wb3NpdGlvbigKIAkJaWYg
KCFwaXBlX3RvX3Byb2dyYW0pIHsKIAkJCXBpcGVfdG9fcHJvZ3JhbSA9IHBpcGVfY3R4OwogCi0J
CQlkZWxheV9jdXJzb3JfdW50aWxfdnVwZGF0ZShwaXBlX2N0eCwgY29yZV9kYyk7Ci0JCQljb3Jl
X2RjLT5od3NzLnBpcGVfY29udHJvbF9sb2NrKGNvcmVfZGMsIHBpcGVfdG9fcHJvZ3JhbSwgdHJ1
ZSk7CisJCQlkZWxheV9jdXJzb3JfdW50aWxfdnVwZGF0ZShwaXBlX2N0eCwgZGMpOworCQkJZGMt
Pmh3c3MucGlwZV9jb250cm9sX2xvY2soZGMsIHBpcGVfdG9fcHJvZ3JhbSwgdHJ1ZSk7CiAJCX0K
IAotCQljb3JlX2RjLT5od3NzLnNldF9jdXJzb3JfcG9zaXRpb24ocGlwZV9jdHgpOworCQlkYy0+
aHdzcy5zZXRfY3Vyc29yX3Bvc2l0aW9uKHBpcGVfY3R4KTsKIAl9CiAKIAlpZiAocGlwZV90b19w
cm9ncmFtKQotCQljb3JlX2RjLT5od3NzLnBpcGVfY29udHJvbF9sb2NrKGNvcmVfZGMsIHBpcGVf
dG9fcHJvZ3JhbSwgZmFsc2UpOworCQlkYy0+aHdzcy5waXBlX2NvbnRyb2xfbG9jayhkYywgcGlw
ZV90b19wcm9ncmFtLCBmYWxzZSk7CiAKIAlyZXR1cm4gdHJ1ZTsKIH0KQEAgLTQ4Miw5ICs0ODIs
OSBAQCBib29sIGRjX3N0cmVhbV9yZW1vdmVfd3JpdGViYWNrKHN0cnVjdCBkYyAqZGMsCiB1aW50
MzJfdCBkY19zdHJlYW1fZ2V0X3ZibGFua19jb3VudGVyKGNvbnN0IHN0cnVjdCBkY19zdHJlYW1f
c3RhdGUgKnN0cmVhbSkKIHsKIAl1aW50OF90IGk7Ci0Jc3RydWN0IGRjICAqY29yZV9kYyA9IHN0
cmVhbS0+Y3R4LT5kYzsKKwlzdHJ1Y3QgZGMgICpkYyA9IHN0cmVhbS0+Y3R4LT5kYzsKIAlzdHJ1
Y3QgcmVzb3VyY2VfY29udGV4dCAqcmVzX2N0eCA9Ci0JCSZjb3JlX2RjLT5jdXJyZW50X3N0YXRl
LT5yZXNfY3R4OworCQkmZGMtPmN1cnJlbnRfc3RhdGUtPnJlc19jdHg7CiAKIAlmb3IgKGkgPSAw
OyBpIDwgTUFYX1BJUEVTOyBpKyspIHsKIAkJc3RydWN0IHRpbWluZ19nZW5lcmF0b3IgKnRnID0g
cmVzX2N0eC0+cGlwZV9jdHhbaV0uc3RyZWFtX3Jlcy50ZzsKQEAgLTU0MSw5ICs1NDEsOSBAQCBi
b29sIGRjX3N0cmVhbV9nZXRfc2Nhbm91dHBvcyhjb25zdCBzdHJ1Y3QgZGNfc3RyZWFtX3N0YXRl
ICpzdHJlYW0sCiB7CiAJdWludDhfdCBpOwogCWJvb2wgcmV0ID0gZmFsc2U7Ci0Jc3RydWN0IGRj
ICAqY29yZV9kYyA9IHN0cmVhbS0+Y3R4LT5kYzsKKwlzdHJ1Y3QgZGMgICpkYyA9IHN0cmVhbS0+
Y3R4LT5kYzsKIAlzdHJ1Y3QgcmVzb3VyY2VfY29udGV4dCAqcmVzX2N0eCA9Ci0JCSZjb3JlX2Rj
LT5jdXJyZW50X3N0YXRlLT5yZXNfY3R4OworCQkmZGMtPmN1cnJlbnRfc3RhdGUtPnJlc19jdHg7
CiAKIAlmb3IgKGkgPSAwOyBpIDwgTUFYX1BJUEVTOyBpKyspIHsKIAkJc3RydWN0IHRpbWluZ19n
ZW5lcmF0b3IgKnRnID0gcmVzX2N0eC0+cGlwZV9jdHhbaV0uc3RyZWFtX3Jlcy50ZzsKZGlmZiAt
LWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9jb3JlL2RjX3N1cmZhY2UuYyBi
L2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9jb3JlL2RjX3N1cmZhY2UuYwppbmRleCBl
NjBhZmY0NmQ1MTAuLmVhMTIyOWEzZTJiMiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9kaXNwbGF5L2RjL2NvcmUvZGNfc3VyZmFjZS5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
ZGlzcGxheS9kYy9jb3JlL2RjX3N1cmZhY2UuYwpAQCAtMTA4LDE2ICsxMDgsMTQgQEAgdm9pZCBl
bmFibGVfc3VyZmFjZV9mbGlwX3JlcG9ydGluZyhzdHJ1Y3QgZGNfcGxhbmVfc3RhdGUgKnBsYW5l
X3N0YXRlLAogCiBzdHJ1Y3QgZGNfcGxhbmVfc3RhdGUgKmRjX2NyZWF0ZV9wbGFuZV9zdGF0ZShz
dHJ1Y3QgZGMgKmRjKQogewotCXN0cnVjdCBkYyAqY29yZV9kYyA9IGRjOwotCiAJc3RydWN0IGRj
X3BsYW5lX3N0YXRlICpwbGFuZV9zdGF0ZSA9IGt2emFsbG9jKHNpemVvZigqcGxhbmVfc3RhdGUp
LAotCQkJCQkJICAgICAgR0ZQX0tFUk5FTCk7CisJCQkJCQkJR0ZQX0tFUk5FTCk7CiAKIAlpZiAo
TlVMTCA9PSBwbGFuZV9zdGF0ZSkKIAkJcmV0dXJuIE5VTEw7CiAKIAlrcmVmX2luaXQoJnBsYW5l
X3N0YXRlLT5yZWZjb3VudCk7Ci0JZGNfcGxhbmVfY29uc3RydWN0KGNvcmVfZGMtPmN0eCwgcGxh
bmVfc3RhdGUpOworCWRjX3BsYW5lX2NvbnN0cnVjdChkYy0+Y3R4LCBwbGFuZV9zdGF0ZSk7CiAK
IAlyZXR1cm4gcGxhbmVfc3RhdGU7CiB9CkBAIC0xMzcsNyArMTM1LDcgQEAgY29uc3Qgc3RydWN0
IGRjX3BsYW5lX3N0YXR1cyAqZGNfcGxhbmVfZ2V0X3N0YXR1cygKIAkJY29uc3Qgc3RydWN0IGRj
X3BsYW5lX3N0YXRlICpwbGFuZV9zdGF0ZSkKIHsKIAljb25zdCBzdHJ1Y3QgZGNfcGxhbmVfc3Rh
dHVzICpwbGFuZV9zdGF0dXM7Ci0Jc3RydWN0IGRjICAqY29yZV9kYzsKKwlzdHJ1Y3QgZGMgICpk
YzsKIAlpbnQgaTsKIAogCWlmICghcGxhbmVfc3RhdGUgfHwKQEAgLTE0OCwxNSArMTQ2LDE1IEBA
IGNvbnN0IHN0cnVjdCBkY19wbGFuZV9zdGF0dXMgKmRjX3BsYW5lX2dldF9zdGF0dXMoCiAJfQog
CiAJcGxhbmVfc3RhdHVzID0gJnBsYW5lX3N0YXRlLT5zdGF0dXM7Ci0JY29yZV9kYyA9IHBsYW5l
X3N0YXRlLT5jdHgtPmRjOworCWRjID0gcGxhbmVfc3RhdGUtPmN0eC0+ZGM7CiAKLQlpZiAoY29y
ZV9kYy0+Y3VycmVudF9zdGF0ZSA9PSBOVUxMKQorCWlmIChkYy0+Y3VycmVudF9zdGF0ZSA9PSBO
VUxMKQogCQlyZXR1cm4gTlVMTDsKIAogCS8qIEZpbmQgdGhlIGN1cnJlbnQgcGxhbmUgc3RhdGUg
YW5kIHNldCBpdHMgcGVuZGluZyBiaXQgdG8gZmFsc2UgKi8KLQlmb3IgKGkgPSAwOyBpIDwgY29y
ZV9kYy0+cmVzX3Bvb2wtPnBpcGVfY291bnQ7IGkrKykgeworCWZvciAoaSA9IDA7IGkgPCBkYy0+
cmVzX3Bvb2wtPnBpcGVfY291bnQ7IGkrKykgewogCQlzdHJ1Y3QgcGlwZV9jdHggKnBpcGVfY3R4
ID0KLQkJCQkmY29yZV9kYy0+Y3VycmVudF9zdGF0ZS0+cmVzX2N0eC5waXBlX2N0eFtpXTsKKwkJ
CQkmZGMtPmN1cnJlbnRfc3RhdGUtPnJlc19jdHgucGlwZV9jdHhbaV07CiAKIAkJaWYgKHBpcGVf
Y3R4LT5wbGFuZV9zdGF0ZSAhPSBwbGFuZV9zdGF0ZSkKIAkJCWNvbnRpbnVlOwpAQCAtMTY2LDE0
ICsxNjQsMTQgQEAgY29uc3Qgc3RydWN0IGRjX3BsYW5lX3N0YXR1cyAqZGNfcGxhbmVfZ2V0X3N0
YXR1cygKIAkJYnJlYWs7CiAJfQogCi0JZm9yIChpID0gMDsgaSA8IGNvcmVfZGMtPnJlc19wb29s
LT5waXBlX2NvdW50OyBpKyspIHsKKwlmb3IgKGkgPSAwOyBpIDwgZGMtPnJlc19wb29sLT5waXBl
X2NvdW50OyBpKyspIHsKIAkJc3RydWN0IHBpcGVfY3R4ICpwaXBlX2N0eCA9Ci0JCQkJJmNvcmVf
ZGMtPmN1cnJlbnRfc3RhdGUtPnJlc19jdHgucGlwZV9jdHhbaV07CisJCQkJJmRjLT5jdXJyZW50
X3N0YXRlLT5yZXNfY3R4LnBpcGVfY3R4W2ldOwogCiAJCWlmIChwaXBlX2N0eC0+cGxhbmVfc3Rh
dGUgIT0gcGxhbmVfc3RhdGUpCiAJCQljb250aW51ZTsKIAotCQljb3JlX2RjLT5od3NzLnVwZGF0
ZV9wZW5kaW5nX3N0YXR1cyhwaXBlX2N0eCk7CisJCWRjLT5od3NzLnVwZGF0ZV9wZW5kaW5nX3N0
YXR1cyhwaXBlX2N0eCk7CiAJfQogCiAJcmV0dXJuIHBsYW5lX3N0YXR1czsKZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY2UxMTAvZGNlMTEwX2h3X3NlcXVlbmNl
ci5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjZTExMC9kY2UxMTBfaHdfc2Vx
dWVuY2VyLmMKaW5kZXggMWRjMDY1ZjExMjVjLi4yYjJlZTY4OTNlMjUgMTAwNjQ0Ci0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY2UxMTAvZGNlMTEwX2h3X3NlcXVlbmNlci5j
CisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY2UxMTAvZGNlMTEwX2h3X3Nl
cXVlbmNlci5jCkBAIC05NDUsMTUgKzk0NSwxNSBAQCB2b2lkIGRjZTExMF9lZHBfYmFja2xpZ2h0
X2NvbnRyb2woCiB2b2lkIGRjZTExMF9lbmFibGVfYXVkaW9fc3RyZWFtKHN0cnVjdCBwaXBlX2N0
eCAqcGlwZV9jdHgpCiB7CiAJLyogbm90aWZ5IGF1ZGlvIGRyaXZlciBmb3IgYXVkaW8gbW9kZXMg
b2YgbW9uaXRvciAqLwotCXN0cnVjdCBkYyAqY29yZV9kYzsKKwlzdHJ1Y3QgZGMgKmRjOwogCXN0
cnVjdCBjbGtfbWdyICpjbGtfbWdyOwogCXVuc2lnbmVkIGludCBpLCBudW1fYXVkaW8gPSAxOwog
CiAJaWYgKCFwaXBlX2N0eC0+c3RyZWFtKQogCQlyZXR1cm47CiAKLQljb3JlX2RjID0gcGlwZV9j
dHgtPnN0cmVhbS0+Y3R4LT5kYzsKLQljbGtfbWdyID0gY29yZV9kYy0+Y2xrX21ncjsKKwlkYyA9
IHBpcGVfY3R4LT5zdHJlYW0tPmN0eC0+ZGM7CisJY2xrX21nciA9IGRjLT5jbGtfbWdyOwogCiAJ
aWYgKHBpcGVfY3R4LT5zdHJlYW1fcmVzLmF1ZGlvICYmIHBpcGVfY3R4LT5zdHJlYW1fcmVzLmF1
ZGlvLT5lbmFibGVkID09IHRydWUpCiAJCXJldHVybjsKQEAgLTk2MSw3ICs5NjEsNyBAQCB2b2lk
IGRjZTExMF9lbmFibGVfYXVkaW9fc3RyZWFtKHN0cnVjdCBwaXBlX2N0eCAqcGlwZV9jdHgpCiAJ
aWYgKHBpcGVfY3R4LT5zdHJlYW1fcmVzLmF1ZGlvKSB7CiAJCWZvciAoaSA9IDA7IGkgPCBNQVhf
UElQRVM7IGkrKykgewogCQkJLypjdXJyZW50X3N0YXRlIG5vdCB1cGRhdGVkIHlldCovCi0JCQlp
ZiAoY29yZV9kYy0+Y3VycmVudF9zdGF0ZS0+cmVzX2N0eC5waXBlX2N0eFtpXS5zdHJlYW1fcmVz
LmF1ZGlvICE9IE5VTEwpCisJCQlpZiAoZGMtPmN1cnJlbnRfc3RhdGUtPnJlc19jdHgucGlwZV9j
dHhbaV0uc3RyZWFtX3Jlcy5hdWRpbyAhPSBOVUxMKQogCQkJCW51bV9hdWRpbysrOwogCQl9CiAK
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24xMC9kY24xMF9o
d19zZXF1ZW5jZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24xMC9kY24x
MF9od19zZXF1ZW5jZXIuYwppbmRleCAyNTFiYjU5YzI3MWEuLmJkNmNkYjZiMzhmNiAxMDA2NDQK
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjEwL2RjbjEwX2h3X3NlcXVl
bmNlci5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24xMC9kY24xMF9o
d19zZXF1ZW5jZXIuYwpAQCAtMTY1NSwxMCArMTY1NSwxMCBAQCB2b2lkIGRjbjEwX2VuYWJsZV9w
ZXJfZnJhbWVfY3J0Y19wb3NpdGlvbl9yZXNldCgKIH0KIAogLypzdGF0aWMgdm9pZCBwcmludF9y
cV9kbGdfdHR1KAotCQlzdHJ1Y3QgZGMgKmNvcmVfZGMsCisJCXN0cnVjdCBkYyAqZGMsCiAJCXN0
cnVjdCBwaXBlX2N0eCAqcGlwZV9jdHgpCiB7Ci0JRENfTE9HX0JBTkRXSURUSF9DQUxDUyhjb3Jl
X2RjLT5jdHgtPmxvZ2dlciwKKwlEQ19MT0dfQkFORFdJRFRIX0NBTENTKGRjLT5jdHgtPmxvZ2dl
ciwKIAkJCSJcbj09PT09PT09PT09PT09IERNTCBUVFUgT3V0cHV0IHBhcmFtZXRlcnMgWyVkXSA9
PT09PT09PT09PT09PVxuIgogCQkJInFvc19sZXZlbF9sb3dfd206ICVkLCBcbiIKIAkJCSJxb3Nf
bGV2ZWxfaGlnaF93bTogJWQsIFxuIgpAQCAtMTY4OCw3ICsxNjg4LDcgQEAgdm9pZCBkY24xMF9l
bmFibGVfcGVyX2ZyYW1lX2NydGNfcG9zaXRpb25fcmVzZXQoCiAJCQlwaXBlX2N0eC0+dHR1X3Jl
Z3MucmVmY3ljX3Blcl9yZXFfZGVsaXZlcnlfcHJlX2MKIAkJCSk7CiAKLQlEQ19MT0dfQkFORFdJ
RFRIX0NBTENTKGNvcmVfZGMtPmN0eC0+bG9nZ2VyLAorCURDX0xPR19CQU5EV0lEVEhfQ0FMQ1Mo
ZGMtPmN0eC0+bG9nZ2VyLAogCQkJIlxuPT09PT09PT09PT09PT0gRE1MIERMRyBPdXRwdXQgcGFy
YW1ldGVycyBbJWRdID09PT09PT09PT09PT09XG4iCiAJCQkicmVmY3ljX2hfYmxhbmtfZW5kOiAl
ZCwgXG4iCiAJCQkiZGxnX3ZibGFua19lbmQ6ICVkLCBcbiIKQEAgLTE3MjMsNyArMTcyMyw3IEBA
IHZvaWQgZGNuMTBfZW5hYmxlX3Blcl9mcmFtZV9jcnRjX3Bvc2l0aW9uX3Jlc2V0KAogCQkJcGlw
ZV9jdHgtPmRsZ19yZWdzLnJlZmN5Y19wZXJfcHRlX2dyb3VwX25vbV9sCiAJCQkpOwogCi0JRENf
TE9HX0JBTkRXSURUSF9DQUxDUyhjb3JlX2RjLT5jdHgtPmxvZ2dlciwKKwlEQ19MT0dfQkFORFdJ
RFRIX0NBTENTKGRjLT5jdHgtPmxvZ2dlciwKIAkJCSJcbmRzdF95X3Blcl9tZXRhX3Jvd19ub21f
bDogJWQsIFxuIgogCQkJInJlZmN5Y19wZXJfbWV0YV9jaHVua19ub21fbDogJWQsIFxuIgogCQkJ
InJlZmN5Y19wZXJfbGluZV9kZWxpdmVyeV9wcmVfbDogJWQsIFxuIgpAQCAtMTc1Myw3ICsxNzUz
LDcgQEAgdm9pZCBkY24xMF9lbmFibGVfcGVyX2ZyYW1lX2NydGNfcG9zaXRpb25fcmVzZXQoCiAJ
CQlwaXBlX2N0eC0+ZGxnX3JlZ3MucmVmY3ljX3Blcl9saW5lX2RlbGl2ZXJ5X2MKIAkJCSk7CiAK
LQlEQ19MT0dfQkFORFdJRFRIX0NBTENTKGNvcmVfZGMtPmN0eC0+bG9nZ2VyLAorCURDX0xPR19C
QU5EV0lEVEhfQ0FMQ1MoZGMtPmN0eC0+bG9nZ2VyLAogCQkJIlxuPT09PT09PT09PT09PT0gRE1M
IFJRIE91dHB1dCBwYXJhbWV0ZXJzIFslZF0gPT09PT09PT09PT09PT1cbiIKIAkJCSJjaHVua19z
aXplOiAlZCBcbiIKIAkJCSJtaW5fY2h1bmtfc2l6ZTogJWQgXG4iCmRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvaXJxL2RjZTExMC9pcnFfc2VydmljZV9kY2UxMTAu
YyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9pcnEvZGNlMTEwL2lycV9zZXJ2aWNl
X2RjZTExMC5jCmluZGV4IDNkNDQ2MWE3MGY3ZC4uMzc4Y2MxMWFhMDQ3IDEwMDY0NAotLS0gYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvaXJxL2RjZTExMC9pcnFfc2VydmljZV9kY2Ux
MTAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvaXJxL2RjZTExMC9pcnFf
c2VydmljZV9kY2UxMTAuYwpAQCAtMjA0LDcgKzIwNCw3IEBAIGJvb2wgZGNlMTEwX3ZibGFua19z
ZXQoc3RydWN0IGlycV9zZXJ2aWNlICppcnFfc2VydmljZSwKIAkJICAgICAgIGJvb2wgZW5hYmxl
KQogewogCXN0cnVjdCBkY19jb250ZXh0ICpkY19jdHggPSBpcnFfc2VydmljZS0+Y3R4OwotCXN0
cnVjdCBkYyAqY29yZV9kYyA9IGlycV9zZXJ2aWNlLT5jdHgtPmRjOworCXN0cnVjdCBkYyAqZGMg
PSBpcnFfc2VydmljZS0+Y3R4LT5kYzsKIAllbnVtIGRjX2lycV9zb3VyY2UgZGFsX2lycV9zcmMg
PQogCQkJZGNfaW50ZXJydXB0X3RvX2lycV9zb3VyY2UoaXJxX3NlcnZpY2UtPmN0eC0+ZGMsCiAJ
CQkJCQkgICBpbmZvLT5zcmNfaWQsCkBAIC0yMTIsNyArMjEyLDcgQEAgYm9vbCBkY2UxMTBfdmJs
YW5rX3NldChzdHJ1Y3QgaXJxX3NlcnZpY2UgKmlycV9zZXJ2aWNlLAogCXVpbnQ4X3QgcGlwZV9v
ZmZzZXQgPSBkYWxfaXJxX3NyYyAtIElSUV9UWVBFX1ZCTEFOSzsKIAogCXN0cnVjdCB0aW1pbmdf
Z2VuZXJhdG9yICp0ZyA9Ci0JCQljb3JlX2RjLT5jdXJyZW50X3N0YXRlLT5yZXNfY3R4LnBpcGVf
Y3R4W3BpcGVfb2Zmc2V0XS5zdHJlYW1fcmVzLnRnOworCQkJZGMtPmN1cnJlbnRfc3RhdGUtPnJl
c19jdHgucGlwZV9jdHhbcGlwZV9vZmZzZXRdLnN0cmVhbV9yZXMudGc7CiAKIAlpZiAoZW5hYmxl
KSB7CiAJCWlmICghdGcgfHwgIXRnLT5mdW5jcy0+YXJtX3ZlcnRfaW50cih0ZywgMikpIHsKLS0g
CjIuMjQuMAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18K
YW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6
Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4
