Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 5085648EAB
	for <lists+amd-gfx@lfdr.de>; Mon, 17 Jun 2019 21:27:36 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B8E0D898A4;
	Mon, 17 Jun 2019 19:27:34 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-qt1-x844.google.com (mail-qt1-x844.google.com
 [IPv6:2607:f8b0:4864:20::844])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C41048989C
 for <amd-gfx@lists.freedesktop.org>; Mon, 17 Jun 2019 19:27:29 +0000 (UTC)
Received: by mail-qt1-x844.google.com with SMTP id i34so6929385qta.6
 for <amd-gfx@lists.freedesktop.org>; Mon, 17 Jun 2019 12:27:29 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=4twuiHbhsFDaMG842W82MpJJCm8CHDe6NsBE30ZESZ4=;
 b=Vk1Fh6PK9YId3AxIU7db0FjT5swmWfN2y8WjWlqzA2m2mmp3sW1FfnJIhSonJgklv8
 4y+OfMV5AZORHqDMANkJ6y96w0kpIg59USQ1cyoE3zobh6iA8qM+El1KOzaT7zMi5hOn
 hfP00VQHahH3ZmzVc1ldjj0gTlWLU5DaRoo1tT2xSGm9GtqxjXFdynvriGl0bUZXGMNC
 S+WuAf0yKEK/UFp3esKYtS+iU41ypUN7Fiwbassv/k1AolbBHjLxxWuQsXjxdRo+CJfJ
 OOIpJWpvqapEzvc0JwQWlPqxAifOf1iDbEPkCSTHzMxLld4RqAMmoCVhDWkOX/u5xUrj
 1yVw==
X-Gm-Message-State: APjAAAXHm8lLo9FwJYy1yDEmRoDSpAFS0Uvo9gpEmsJdpE7jPYj4g37+
 S0rSDkZ4KF6F3q6JEMG8uzB4yFQPr2o=
X-Google-Smtp-Source: APXvYqwL4fldEtTxXVDzj5xRMt38skDQFnKxaD7Cb5zr3cKl3pmbXTF1G2eFZkMrazRk+vkxUgmy2A==
X-Received: by 2002:ac8:21f2:: with SMTP id 47mr82302627qtz.38.1560799647929; 
 Mon, 17 Jun 2019 12:27:27 -0700 (PDT)
Received: from localhost.localdomain ([71.219.5.136])
 by smtp.gmail.com with ESMTPSA id p37sm7715622qtc.35.2019.06.17.12.27.26
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Mon, 17 Jun 2019 12:27:27 -0700 (PDT)
From: Alex Deucher <alexdeucher@gmail.com>
X-Google-Original-From: Alex Deucher <alexander.deucher@amd.com>
To: amd-gfx@lists.freedesktop.org
Subject: [PATCH 117/459] drm/amdgpu: add initial VCN2.0 support (v2)
Date: Mon, 17 Jun 2019 14:25:42 -0500
Message-Id: <20190617192704.18038-18-alexander.deucher@amd.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190617192704.18038-1-alexander.deucher@amd.com>
References: <20190617192704.18038-1-alexander.deucher@amd.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=4twuiHbhsFDaMG842W82MpJJCm8CHDe6NsBE30ZESZ4=;
 b=VMGyAG9QHSZfTzEgfau1UnnPhYuvEldbO/c8Xg9szJi01ug3vn2dewfr6wrLPAC5OA
 TmEuMcAq738p4CCKJs7AT7cyLBao7Twjfj2hQc/ZjsTv6PxpxCVU83aJtWX2FXbDqzkl
 PMWTbPdR2/lz7JXupmT3Vt8NKKQCZyoMmTZaktn9Ruea5x7NNWr+QOBCBxRw4BfhHcn9
 u4L72Oj7bVFO3/97Z4gTpyHwotjS8hk2Xe6sp8i/xwrggCDX1X6W8r+gyQPH8nJeTPUq
 jVSIoH7NKw5zNQ1BSMISG+hnu0hKjNCyqMcsmDcdaYnBUK8MVnnpu+AyeVSpvex8ltUT
 cGyA==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Alex Deucher <alexander.deucher@amd.com>, James Zhu <James.Zhu@amd.com>,
 Leo Liu <leo.liu@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogTGVvIExpdSA8bGVvLmxpdUBhbWQuY29tPgoKVkNOIChWaWRlbyBDb3JlIE5leHQpIGlz
IHRoZSB2aWRlbyBlbmNvZGUvZGVjb2RlIGJsb2NrLgoKUG9ydGluZyBvdmVyIHRoZSBzYW1lIGZ1
bmN0aW9ucyBmcm9tIFZDTjEuMAoKdjI6IHNxdWFzaCBpbiB1cGRhdGVzIChBbGV4KQoKU2lnbmVk
LW9mZi1ieTogTGVvIExpdSA8bGVvLmxpdUBhbWQuY29tPgpSZXZpZXdlZC1ieTogQWxleCBEZXVj
aGVyIDxhbGV4YW5kZXIuZGV1Y2hlckBhbWQuY29tPgpSZXZpZXdlZC1ieTogSmFtZXMgWmh1IDxK
YW1lcy5aaHVAYW1kLmNvbT4KU2lnbmVkLW9mZi1ieTogQWxleCBEZXVjaGVyIDxhbGV4YW5kZXIu
ZGV1Y2hlckBhbWQuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L01ha2VmaWxl
ICAgICB8ICAgIDMgKy0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92Y24uaCB8
ICAgIDEgKwogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdmNuX3YyXzAuYyAgIHwgMTg2NSAr
KysrKysrKysrKysrKysrKysrKysrKwogZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdmNuX3Yy
XzAuaCAgIHwgICAyOSArCiA0IGZpbGVzIGNoYW5nZWQsIDE4OTcgaW5zZXJ0aW9ucygrKSwgMSBk
ZWxldGlvbigtKQogY3JlYXRlIG1vZGUgMTAwNjQ0IGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L3Zjbl92Ml8wLmMKIGNyZWF0ZSBtb2RlIDEwMDY0NCBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdw
dS92Y25fdjJfMC5oCgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvTWFr
ZWZpbGUgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9NYWtlZmlsZQppbmRleCAwZTdhNDAy
ZDVlZjguLmI3OTE2YTEzODIzOSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvTWFrZWZpbGUKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvTWFrZWZpbGUKQEAg
LTEzNiw3ICsxMzYsOCBAQCBhbWRncHUteSArPSBcCiAjIGFkZCBWQ04gYmxvY2sKIGFtZGdwdS15
ICs9IFwKIAlhbWRncHVfdmNuLm8gXAotCXZjbl92MV8wLm8KKwl2Y25fdjFfMC5vIFwKKwl2Y25f
djJfMC5vCiAKICMgYWRkIEFUSFVCIGJsb2NrCiBhbWRncHUteSArPSBcCmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdmNuLmggYi9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfdmNuLmgKaW5kZXggY2M5NDg0MWYyZjA2Li4zZjYzNDljNmYzM2Qg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92Y24uaAorKysg
Yi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfdmNuLmgKQEAgLTc1LDYgKzc1LDcg
QEAgZW51bSBlbmdpbmVfc3RhdHVzX2NvbnN0YW50cyB7CiAJVVZEX1NUQVRVU19fQlVTWSA9IDB4
NSwKIAlVVkRfUE9XRVJfU1RBVFVTX19VVkRfUE9XRVJfU1RBVFVTX1RJTEVTX09GRiA9IDB4MSwK
IAlVVkRfU1RBVFVTX19SQkNfQlVTWSA9IDB4MSwKKwlVVkRfUEdGU01fU1RBVFVTX1VWREpfUFdS
X09OID0gMCwKIH07CiAKIGVudW0gaW50ZXJuYWxfZHBnX3N0YXRlIHsKZGlmZiAtLWdpdCBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3Zjbl92Ml8wLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2FtZGdwdS92Y25fdjJfMC5jCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAw
MC4uMWI5NzcwY2I2NTBiCi0tLSAvZGV2L251bGwKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvdmNuX3YyXzAuYwpAQCAtMCwwICsxLDE4NjUgQEAKKy8qCisgKiBDb3B5cmlnaHQgMjAx
OCBBZHZhbmNlZCBNaWNybyBEZXZpY2VzLCBJbmMuCisgKgorICogUGVybWlzc2lvbiBpcyBoZXJl
YnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEKKyAq
IGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVz
ICh0aGUgIlNvZnR3YXJlIiksCisgKiB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJl
c3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uCisgKiB0aGUgcmlnaHRzIHRv
IHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5z
ZSwKKyAqIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQg
cGVyc29ucyB0byB3aG9tIHRoZQorICogU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBz
dWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKKyAqCisgKiBUaGUgYWJvdmUgY29w
eXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRl
ZCBpbgorICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdh
cmUuCisgKgorICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FS
UkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKKyAqIElNUExJRUQsIElOQ0xVRElORyBCVVQg
Tk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLAorICogRklU
TkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gIElOIE5P
IEVWRU5UIFNIQUxMCisgKiBUSEUgQ09QWVJJR0hUIEhPTERFUihTKSBPUiBBVVRIT1IoUykgQkUg
TElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IKKyAqIE9USEVSIExJQUJJTElUWSwgV0hF
VEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLAorICogQVJJ
U0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBU
SEUgVVNFIE9SCisgKiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuCisgKgorICovCisK
KyNpbmNsdWRlIDxsaW51eC9maXJtd2FyZS5oPgorI2luY2x1ZGUgPGRybS9kcm1QLmg+CisjaW5j
bHVkZSAiYW1kZ3B1LmgiCisjaW5jbHVkZSAiYW1kZ3B1X3Zjbi5oIgorI2luY2x1ZGUgInNvYzE1
LmgiCisjaW5jbHVkZSAic29jMTVkLmgiCisKKyNpbmNsdWRlICJ2Y24vdmNuXzJfMF8wX29mZnNl
dC5oIgorI2luY2x1ZGUgInZjbi92Y25fMl8wXzBfc2hfbWFzay5oIgorI2luY2x1ZGUgIml2c3Jj
aWQvdmNuL2lycXNyY3NfdmNuXzJfMC5oIgorCisjZGVmaW5lIG1tVVZEX0NPTlRFWFRfSURfSU5U
RVJOQUxfT0ZGU0VUCQkJMHgxZmQKKyNkZWZpbmUgbW1VVkRfR1BDT01fVkNQVV9DTURfSU5URVJO
QUxfT0ZGU0VUCQkJMHg1MDMKKyNkZWZpbmUgbW1VVkRfR1BDT01fVkNQVV9EQVRBMF9JTlRFUk5B
TF9PRkZTRVQJCQkweDUwNAorI2RlZmluZSBtbVVWRF9HUENPTV9WQ1BVX0RBVEExX0lOVEVSTkFM
X09GRlNFVAkJCTB4NTA1CisjZGVmaW5lIG1tVVZEX05PX09QX0lOVEVSTkFMX09GRlNFVAkJCQkw
eDUzZgorI2RlZmluZSBtbVVWRF9HUF9TQ1JBVENIOF9JTlRFUk5BTF9PRkZTRVQJCQkweDU0YQor
I2RlZmluZSBtbVVWRF9TQ1JBVENIOV9JTlRFUk5BTF9PRkZTRVQJCQkJMHhjMDFkCisKKyNkZWZp
bmUgbW1VVkRfTE1JX1JCQ19JQl9WTUlEX0lOVEVSTkFMX09GRlNFVAkJCTB4MWUxCisjZGVmaW5l
IG1tVVZEX0xNSV9SQkNfSUJfNjRCSVRfQkFSX0hJR0hfSU5URVJOQUxfT0ZGU0VUIAkweDVhNgor
I2RlZmluZSBtbVVWRF9MTUlfUkJDX0lCXzY0QklUX0JBUl9MT1dfSU5URVJOQUxfT0ZGU0VUCQkw
eDVhNworI2RlZmluZSBtbVVWRF9SQkNfSUJfU0laRV9JTlRFUk5BTF9PRkZTRVQJCQkweDFlMgor
I2RlZmluZSBtbVVWRF9HUENPTV9TWVNfQ01EX0lOVEVSTkFMX09GRlNFVAkJCTB4MWJGCisKKyNk
ZWZpbmUgbW1VVkRfSlJCQ19FWFRFUk5BTF9SRUdfSU5URVJOQUxfT0ZGU0VUIAkJCTB4MWJmZmYK
KyNkZWZpbmUgbW1VVkRfSlBFR19HUENPTV9DTURfSU5URVJOQUxfT0ZGU0VUCQkJCTB4NDAyOQor
I2RlZmluZSBtbVVWRF9KUEVHX0dQQ09NX0RBVEEwX0lOVEVSTkFMX09GRlNFVAkJCQkweDQwMmEK
KyNkZWZpbmUgbW1VVkRfSlBFR19HUENPTV9EQVRBMV9JTlRFUk5BTF9PRkZTRVQJCQkJMHg0MDJi
CisjZGVmaW5lIG1tVVZEX0xNSV9KUkJDX1JCX01FTV9XUl82NEJJVF9CQVJfTE9XX0lOVEVSTkFM
X09GRlNFVAkJMHg0MGVhCisjZGVmaW5lIG1tVVZEX0xNSV9KUkJDX1JCX01FTV9XUl82NEJJVF9C
QVJfSElHSF9JTlRFUk5BTF9PRkZTRVQgCTB4NDBlYgorI2RlZmluZSBtbVVWRF9MTUlfSlJCQ19J
Ql9WTUlEX0lOVEVSTkFMX09GRlNFVAkJCQkweDQwY2YKKyNkZWZpbmUgbW1VVkRfTE1JX0pQRUdf
Vk1JRF9JTlRFUk5BTF9PRkZTRVQJCQkJMHg0MGQxCisjZGVmaW5lIG1tVVZEX0xNSV9KUkJDX0lC
XzY0QklUX0JBUl9MT1dfSU5URVJOQUxfT0ZGU0VUIAkJMHg0MGU4CisjZGVmaW5lIG1tVVZEX0xN
SV9KUkJDX0lCXzY0QklUX0JBUl9ISUdIX0lOVEVSTkFMX09GRlNFVAkJMHg0MGU5CisjZGVmaW5l
IG1tVVZEX0pSQkNfSUJfU0laRV9JTlRFUk5BTF9PRkZTRVQJCQkJMHg0MDgyCisjZGVmaW5lIG1t
VVZEX0xNSV9KUkJDX1JCX01FTV9SRF82NEJJVF9CQVJfTE9XX0lOVEVSTkFMX09GRlNFVAkJMHg0
MGVjCisjZGVmaW5lIG1tVVZEX0xNSV9KUkJDX1JCX01FTV9SRF82NEJJVF9CQVJfSElHSF9JTlRF
Uk5BTF9PRkZTRVQgCTB4NDBlZAorI2RlZmluZSBtbVVWRF9KUkJDX1JCX0NPTkRfUkRfVElNRVJf
SU5URVJOQUxfT0ZGU0VUCQkJMHg0MDg1CisjZGVmaW5lIG1tVVZEX0pSQkNfUkJfUkVGX0RBVEFf
SU5URVJOQUxfT0ZGU0VUCQkJCTB4NDA4NAorI2RlZmluZSBtbVVWRF9KUkJDX1NUQVRVU19JTlRF
Uk5BTF9PRkZTRVQJCQkJMHg0MDg5CisjZGVmaW5lIG1tVVZEX0pQRUdfUElUQ0hfSU5URVJOQUxf
T0ZGU0VUCQkJCTB4NDAxZgorCisjZGVmaW5lIEpSQkNfREVDX0VYVEVSTkFMX1JFR19XUklURV9B
RERSCQkJCTB4MTgwMDAKKworc3RhdGljIGludCB2Y25fdjJfMF9zdG9wKHN0cnVjdCBhbWRncHVf
ZGV2aWNlICphZGV2KTsKK3N0YXRpYyB2b2lkIHZjbl92Ml8wX3NldF9kZWNfcmluZ19mdW5jcyhz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7CitzdGF0aWMgdm9pZCB2Y25fdjJfMF9zZXRfZW5j
X3JpbmdfZnVuY3Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpOworc3RhdGljIHZvaWQgdmNu
X3YyXzBfc2V0X2pwZWdfcmluZ19mdW5jcyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7Citz
dGF0aWMgdm9pZCB2Y25fdjJfMF9zZXRfaXJxX2Z1bmNzKHN0cnVjdCBhbWRncHVfZGV2aWNlICph
ZGV2KTsKK3N0YXRpYyBpbnQgdmNuX3YyXzBfc2V0X3Bvd2VyZ2F0aW5nX3N0YXRlKHZvaWQgKmhh
bmRsZSwKKwkJCQllbnVtIGFtZF9wb3dlcmdhdGluZ19zdGF0ZSBzdGF0ZSk7CisKKy8qKgorICog
dmNuX3YyXzBfZWFybHlfaW5pdCAtIHNldCBmdW5jdGlvbiBwb2ludGVycworICoKKyAqIEBoYW5k
bGU6IGFtZGdwdV9kZXZpY2UgcG9pbnRlcgorICoKKyAqIFNldCByaW5nIGFuZCBpcnEgZnVuY3Rp
b24gcG9pbnRlcnMKKyAqLworc3RhdGljIGludCB2Y25fdjJfMF9lYXJseV9pbml0KHZvaWQgKmhh
bmRsZSkKK3sKKwlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IChzdHJ1Y3QgYW1kZ3B1X2Rl
dmljZSAqKWhhbmRsZTsKKworCWFkZXYtPnZjbi5udW1fZW5jX3JpbmdzID0gMjsKKworCXZjbl92
Ml8wX3NldF9kZWNfcmluZ19mdW5jcyhhZGV2KTsKKwl2Y25fdjJfMF9zZXRfZW5jX3JpbmdfZnVu
Y3MoYWRldik7CisJdmNuX3YyXzBfc2V0X2pwZWdfcmluZ19mdW5jcyhhZGV2KTsKKwl2Y25fdjJf
MF9zZXRfaXJxX2Z1bmNzKGFkZXYpOworCisJcmV0dXJuIDA7Cit9CisKKy8qKgorICogdmNuX3Yy
XzBfc3dfaW5pdCAtIHN3IGluaXQgZm9yIFZDTiBibG9jaworICoKKyAqIEBoYW5kbGU6IGFtZGdw
dV9kZXZpY2UgcG9pbnRlcgorICoKKyAqIExvYWQgZmlybXdhcmUgYW5kIHN3IGluaXRpYWxpemF0
aW9uCisgKi8KK3N0YXRpYyBpbnQgdmNuX3YyXzBfc3dfaW5pdCh2b2lkICpoYW5kbGUpCit7CisJ
c3RydWN0IGFtZGdwdV9yaW5nICpyaW5nOworCWludCBpLCByOworCXN0cnVjdCBhbWRncHVfZGV2
aWNlICphZGV2ID0gKHN0cnVjdCBhbWRncHVfZGV2aWNlICopaGFuZGxlOworCisJLyogVkNOIERF
QyBUUkFQICovCisJciA9IGFtZGdwdV9pcnFfYWRkX2lkKGFkZXYsIFNPQzE1X0lIX0NMSUVOVElE
X1ZDTiwKKwkJCSAgICAgIFZDTl8yXzBfX1NSQ0lEX19VVkRfU1lTVEVNX01FU1NBR0VfSU5URVJS
VVBULAorCQkJICAgICAgJmFkZXYtPnZjbi5pcnEpOworCWlmIChyKQorCQlyZXR1cm4gcjsKKwor
CS8qIFZDTiBFTkMgVFJBUCAqLworCWZvciAoaSA9IDA7IGkgPCBhZGV2LT52Y24ubnVtX2VuY19y
aW5nczsgKytpKSB7CisJCXIgPSBhbWRncHVfaXJxX2FkZF9pZChhZGV2LCBTT0MxNV9JSF9DTElF
TlRJRF9WQ04sCisJCQkJICAgICAgaSArIFZDTl8yXzBfX1NSQ0lEX19VVkRfRU5DX0dFTkVSQUxf
UFVSUE9TRSwKKwkJCQkgICAgICAmYWRldi0+dmNuLmlycSk7CisJCWlmIChyKQorCQkJcmV0dXJu
IHI7CisJfQorCisJLyogVkNOIEpQRUcgVFJBUCAqLworCXIgPSBhbWRncHVfaXJxX2FkZF9pZChh
ZGV2LCBTT0MxNV9JSF9DTElFTlRJRF9WQ04sCisJCQkgICAgICBWQ05fMl8wX19TUkNJRF9fSlBF
R19ERUNPREUsCisJCQkgICAgICAmYWRldi0+dmNuLmlycSk7CisJaWYgKHIpCisJCXJldHVybiBy
OworCisJciA9IGFtZGdwdV92Y25fc3dfaW5pdChhZGV2KTsKKwlpZiAocikKKwkJcmV0dXJuIHI7
CisKKwlpZiAoYWRldi0+ZmlybXdhcmUubG9hZF90eXBlID09IEFNREdQVV9GV19MT0FEX1BTUCkg
eworCQljb25zdCBzdHJ1Y3QgY29tbW9uX2Zpcm13YXJlX2hlYWRlciAqaGRyOworCQloZHIgPSAo
Y29uc3Qgc3RydWN0IGNvbW1vbl9maXJtd2FyZV9oZWFkZXIgKilhZGV2LT52Y24uZnctPmRhdGE7
CisJCWFkZXYtPmZpcm13YXJlLnVjb2RlW0FNREdQVV9VQ09ERV9JRF9WQ05dLnVjb2RlX2lkID0g
QU1ER1BVX1VDT0RFX0lEX1ZDTjsKKwkJYWRldi0+ZmlybXdhcmUudWNvZGVbQU1ER1BVX1VDT0RF
X0lEX1ZDTl0uZncgPSBhZGV2LT52Y24uZnc7CisJCWFkZXYtPmZpcm13YXJlLmZ3X3NpemUgKz0K
KwkJCUFMSUdOKGxlMzJfdG9fY3B1KGhkci0+dWNvZGVfc2l6ZV9ieXRlcyksIFBBR0VfU0laRSk7
CisJCURSTV9JTkZPKCJQU1AgbG9hZGluZyBWQ04gZmlybXdhcmVcbiIpOworCX0KKworCXIgPSBh
bWRncHVfdmNuX3Jlc3VtZShhZGV2KTsKKwlpZiAocikKKwkJcmV0dXJuIHI7CisKKwlyaW5nID0g
JmFkZXYtPnZjbi5yaW5nX2RlYzsKKworCXJpbmctPnVzZV9kb29yYmVsbCA9IHRydWU7CisJcmlu
Zy0+ZG9vcmJlbGxfaW5kZXggPSBhZGV2LT5kb29yYmVsbF9pbmRleC52Y24udmNuX3JpbmcwXzEg
PDwgMTsKKworCXNwcmludGYocmluZy0+bmFtZSwgInZjbl9kZWMiKTsKKwlyID0gYW1kZ3B1X3Jp
bmdfaW5pdChhZGV2LCByaW5nLCA1MTIsICZhZGV2LT52Y24uaXJxLCAwKTsKKwlpZiAocikKKwkJ
cmV0dXJuIHI7CisKKwlhZGV2LT52Y24uaW50ZXJuYWwuc2NyYXRjaDkgPSBtbVVWRF9TQ1JBVENI
OV9JTlRFUk5BTF9PRkZTRVQ7CisJYWRldi0+dmNuLmV4dGVybmFsLnNjcmF0Y2g5ID0gU09DMTVf
UkVHX09GRlNFVChVVkQsIDAsIG1tVVZEX1NDUkFUQ0g5KTsKKwlhZGV2LT52Y24uaW50ZXJuYWwu
ZGF0YTAgPSBtbVVWRF9HUENPTV9WQ1BVX0RBVEEwX0lOVEVSTkFMX09GRlNFVDsKKwlhZGV2LT52
Y24uZXh0ZXJuYWwuZGF0YTAgPSBTT0MxNV9SRUdfT0ZGU0VUKFVWRCwgMCwgbW1VVkRfR1BDT01f
VkNQVV9EQVRBMCk7CisJYWRldi0+dmNuLmludGVybmFsLmRhdGExID0gbW1VVkRfR1BDT01fVkNQ
VV9EQVRBMV9JTlRFUk5BTF9PRkZTRVQ7CisJYWRldi0+dmNuLmV4dGVybmFsLmRhdGExID0gU09D
MTVfUkVHX09GRlNFVChVVkQsIDAsIG1tVVZEX0dQQ09NX1ZDUFVfREFUQTEpOworCWFkZXYtPnZj
bi5pbnRlcm5hbC5jbWQgPSBtbVVWRF9HUENPTV9WQ1BVX0NNRF9JTlRFUk5BTF9PRkZTRVQ7CisJ
YWRldi0+dmNuLmV4dGVybmFsLmNtZCA9IFNPQzE1X1JFR19PRkZTRVQoVVZELCAwLCBtbVVWRF9H
UENPTV9WQ1BVX0NNRCk7CisJYWRldi0+dmNuLmludGVybmFsLm5vcCA9IG1tVVZEX05PX09QX0lO
VEVSTkFMX09GRlNFVDsKKwlhZGV2LT52Y24uZXh0ZXJuYWwubm9wID0gU09DMTVfUkVHX09GRlNF
VChVVkQsIDAsIG1tVVZEX05PX09QKTsKKworCWZvciAoaSA9IDA7IGkgPCBhZGV2LT52Y24ubnVt
X2VuY19yaW5nczsgKytpKSB7CisJCXJpbmcgPSAmYWRldi0+dmNuLnJpbmdfZW5jW2ldOworCQly
aW5nLT51c2VfZG9vcmJlbGwgPSB0cnVlOworCQlyaW5nLT5kb29yYmVsbF9pbmRleCA9IChhZGV2
LT5kb29yYmVsbF9pbmRleC52Y24udmNuX3JpbmcwXzEgPDwgMSkgKyAyICsgaTsKKwkJc3ByaW50
ZihyaW5nLT5uYW1lLCAidmNuX2VuYyVkIiwgaSk7CisJCXIgPSBhbWRncHVfcmluZ19pbml0KGFk
ZXYsIHJpbmcsIDUxMiwgJmFkZXYtPnZjbi5pcnEsIDApOworCQlpZiAocikKKwkJCXJldHVybiBy
OworCX0KKworCXJpbmcgPSAmYWRldi0+dmNuLnJpbmdfanBlZzsKKwlyaW5nLT51c2VfZG9vcmJl
bGwgPSB0cnVlOworCXJpbmctPmRvb3JiZWxsX2luZGV4ID0gKGFkZXYtPmRvb3JiZWxsX2luZGV4
LnZjbi52Y25fcmluZzBfMSA8PCAxKSArIDE7CisJc3ByaW50ZihyaW5nLT5uYW1lLCAidmNuX2pw
ZWciKTsKKwlyID0gYW1kZ3B1X3JpbmdfaW5pdChhZGV2LCByaW5nLCA1MTIsICZhZGV2LT52Y24u
aXJxLCAwKTsKKwlpZiAocikKKwkJcmV0dXJuIHI7CisKKwlhZGV2LT52Y24uaW50ZXJuYWwuanBl
Z19waXRjaCA9IG1tVVZEX0pQRUdfUElUQ0hfSU5URVJOQUxfT0ZGU0VUOworCWFkZXYtPnZjbi5l
eHRlcm5hbC5qcGVnX3BpdGNoID0gU09DMTVfUkVHX09GRlNFVChVVkQsIDAsIG1tVVZEX0pQRUdf
UElUQ0gpOworCisJcmV0dXJuIDA7Cit9CisKKy8qKgorICogdmNuX3YyXzBfc3dfZmluaSAtIHN3
IGZpbmkgZm9yIFZDTiBibG9jaworICoKKyAqIEBoYW5kbGU6IGFtZGdwdV9kZXZpY2UgcG9pbnRl
cgorICoKKyAqIFZDTiBzdXNwZW5kIGFuZCBmcmVlIHVwIHN3IGFsbG9jYXRpb24KKyAqLworc3Rh
dGljIGludCB2Y25fdjJfMF9zd19maW5pKHZvaWQgKmhhbmRsZSkKK3sKKwlpbnQgcjsKKwlzdHJ1
Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqKWhhbmRsZTsK
KworCXIgPSBhbWRncHVfdmNuX3N1c3BlbmQoYWRldik7CisJaWYgKHIpCisJCXJldHVybiByOwor
CisJciA9IGFtZGdwdV92Y25fc3dfZmluaShhZGV2KTsKKworCXJldHVybiByOworfQorCisvKioK
KyAqIHZjbl92Ml8wX2h3X2luaXQgLSBzdGFydCBhbmQgdGVzdCBWQ04gYmxvY2sKKyAqCisgKiBA
aGFuZGxlOiBhbWRncHVfZGV2aWNlIHBvaW50ZXIKKyAqCisgKiBJbml0aWFsaXplIHRoZSBoYXJk
d2FyZSwgYm9vdCB1cCB0aGUgVkNQVSBhbmQgZG8gc29tZSB0ZXN0aW5nCisgKi8KK3N0YXRpYyBp
bnQgdmNuX3YyXzBfaHdfaW5pdCh2b2lkICpoYW5kbGUpCit7CisJc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYgPSAoc3RydWN0IGFtZGdwdV9kZXZpY2UgKiloYW5kbGU7CisJc3RydWN0IGFtZGdw
dV9yaW5nICpyaW5nID0gJmFkZXYtPnZjbi5yaW5nX2RlYzsKKwlpbnQgaSwgcjsKKworCWFkZXYt
Pm5iaW9fZnVuY3MtPnZjbl9kb29yYmVsbF9yYW5nZShhZGV2LCByaW5nLT51c2VfZG9vcmJlbGws
CisJCXJpbmctPmRvb3JiZWxsX2luZGV4KTsKKworCXJpbmctPnNjaGVkLnJlYWR5ID0gdHJ1ZTsK
KwlyID0gYW1kZ3B1X3JpbmdfdGVzdF9yaW5nKHJpbmcpOworCWlmIChyKSB7CisJCXJpbmctPnNj
aGVkLnJlYWR5ID0gZmFsc2U7CisJCWdvdG8gZG9uZTsKKwl9CisKKwlmb3IgKGkgPSAwOyBpIDwg
YWRldi0+dmNuLm51bV9lbmNfcmluZ3M7ICsraSkgeworCQlyaW5nID0gJmFkZXYtPnZjbi5yaW5n
X2VuY1tpXTsKKwkJcmluZy0+c2NoZWQucmVhZHkgPSB0cnVlOworCQlyID0gYW1kZ3B1X3Jpbmdf
dGVzdF9yaW5nKHJpbmcpOworCQlpZiAocikgeworCQkJcmluZy0+c2NoZWQucmVhZHkgPSBmYWxz
ZTsKKwkJCWdvdG8gZG9uZTsKKwkJfQorCX0KKworCXJpbmcgPSAmYWRldi0+dmNuLnJpbmdfanBl
ZzsKKwlyaW5nLT5zY2hlZC5yZWFkeSA9IHRydWU7CisJciA9IGFtZGdwdV9yaW5nX3Rlc3Rfcmlu
ZyhyaW5nKTsKKwlpZiAocikgeworCQlyaW5nLT5zY2hlZC5yZWFkeSA9IGZhbHNlOworCQlnb3Rv
IGRvbmU7CisJfQorCitkb25lOgorCWlmICghcikKKwkJRFJNX0lORk8oIlZDTiBkZWNvZGUgYW5k
IGVuY29kZSBpbml0aWFsaXplZCBzdWNjZXNzZnVsbHkuXG4iKTsKKworCXJldHVybiByOworfQor
CisvKioKKyAqIHZjbl92Ml8wX2h3X2ZpbmkgLSBzdG9wIHRoZSBoYXJkd2FyZSBibG9jaworICoK
KyAqIEBoYW5kbGU6IGFtZGdwdV9kZXZpY2UgcG9pbnRlcgorICoKKyAqIFN0b3AgdGhlIFZDTiBi
bG9jaywgbWFyayByaW5nIGFzIG5vdCByZWFkeSBhbnkgbW9yZQorICovCitzdGF0aWMgaW50IHZj
bl92Ml8wX2h3X2Zpbmkodm9pZCAqaGFuZGxlKQoreworCXN0cnVjdCBhbWRncHVfZGV2aWNlICph
ZGV2ID0gKHN0cnVjdCBhbWRncHVfZGV2aWNlICopaGFuZGxlOworCXN0cnVjdCBhbWRncHVfcmlu
ZyAqcmluZyA9ICZhZGV2LT52Y24ucmluZ19kZWM7CisJaW50IGk7CisKKwlpZiAoUlJFRzMyX1NP
QzE1KFZDTiwgMCwgbW1VVkRfU1RBVFVTKSkKKwkJdmNuX3YyXzBfc2V0X3Bvd2VyZ2F0aW5nX3N0
YXRlKGFkZXYsIEFNRF9QR19TVEFURV9HQVRFKTsKKworCXJpbmctPnNjaGVkLnJlYWR5ID0gZmFs
c2U7CisKKwlmb3IgKGkgPSAwOyBpIDwgYWRldi0+dmNuLm51bV9lbmNfcmluZ3M7ICsraSkgewor
CQlyaW5nID0gJmFkZXYtPnZjbi5yaW5nX2VuY1tpXTsKKwkJcmluZy0+c2NoZWQucmVhZHkgPSBm
YWxzZTsKKwl9CisKKwlyaW5nID0gJmFkZXYtPnZjbi5yaW5nX2pwZWc7CisJcmluZy0+c2NoZWQu
cmVhZHkgPSBmYWxzZTsKKworCXJldHVybiAwOworfQorCisvKioKKyAqIHZjbl92Ml8wX3N1c3Bl
bmQgLSBzdXNwZW5kIFZDTiBibG9jaworICoKKyAqIEBoYW5kbGU6IGFtZGdwdV9kZXZpY2UgcG9p
bnRlcgorICoKKyAqIEhXIGZpbmkgYW5kIHN1c3BlbmQgVkNOIGJsb2NrCisgKi8KK3N0YXRpYyBp
bnQgdmNuX3YyXzBfc3VzcGVuZCh2b2lkICpoYW5kbGUpCit7CisJaW50IHI7CisJc3RydWN0IGFt
ZGdwdV9kZXZpY2UgKmFkZXYgPSAoc3RydWN0IGFtZGdwdV9kZXZpY2UgKiloYW5kbGU7CisKKwly
ID0gdmNuX3YyXzBfaHdfZmluaShhZGV2KTsKKwlpZiAocikKKwkJcmV0dXJuIHI7CisKKwlyID0g
YW1kZ3B1X3Zjbl9zdXNwZW5kKGFkZXYpOworCisJcmV0dXJuIHI7Cit9CisKKy8qKgorICogdmNu
X3YyXzBfcmVzdW1lIC0gcmVzdW1lIFZDTiBibG9jaworICoKKyAqIEBoYW5kbGU6IGFtZGdwdV9k
ZXZpY2UgcG9pbnRlcgorICoKKyAqIFJlc3VtZSBmaXJtd2FyZSBhbmQgaHcgaW5pdCBWQ04gYmxv
Y2sKKyAqLworc3RhdGljIGludCB2Y25fdjJfMF9yZXN1bWUodm9pZCAqaGFuZGxlKQoreworCWlu
dCByOworCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gKHN0cnVjdCBhbWRncHVfZGV2aWNl
ICopaGFuZGxlOworCisJciA9IGFtZGdwdV92Y25fcmVzdW1lKGFkZXYpOworCWlmIChyKQorCQly
ZXR1cm4gcjsKKworCXIgPSB2Y25fdjJfMF9od19pbml0KGFkZXYpOworCisJcmV0dXJuIHI7Cit9
CisKKy8qKgorICogdmNuX3YyXzBfbWNfcmVzdW1lIC0gbWVtb3J5IGNvbnRyb2xsZXIgcHJvZ3Jh
bW1pbmcKKyAqCisgKiBAYWRldjogYW1kZ3B1X2RldmljZSBwb2ludGVyCisgKgorICogTGV0IHRo
ZSBWQ04gbWVtb3J5IGNvbnRyb2xsZXIga25vdyBpdCdzIG9mZnNldHMKKyAqLworc3RhdGljIHZv
aWQgdmNuX3YyXzBfbWNfcmVzdW1lKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQoreworCXVp
bnQzMl90IHNpemUgPSBBTURHUFVfR1BVX1BBR0VfQUxJR04oYWRldi0+dmNuLmZ3LT5zaXplICsg
NCk7CisJdWludDMyX3Qgb2Zmc2V0OworCisJLyogY2FjaGUgd2luZG93IDA6IGZ3ICovCisJaWYg
KGFkZXYtPmZpcm13YXJlLmxvYWRfdHlwZSA9PSBBTURHUFVfRldfTE9BRF9QU1ApIHsKKwkJV1JF
RzMyX1NPQzE1KFVWRCwgMCwgbW1VVkRfTE1JX1ZDUFVfQ0FDSEVfNjRCSVRfQkFSX0xPVywKKwkJ
CShhZGV2LT5maXJtd2FyZS51Y29kZVtBTURHUFVfVUNPREVfSURfVkNOXS50bXJfbWNfYWRkcl9s
bykpOworCQlXUkVHMzJfU09DMTUoVVZELCAwLCBtbVVWRF9MTUlfVkNQVV9DQUNIRV82NEJJVF9C
QVJfSElHSCwKKwkJCShhZGV2LT5maXJtd2FyZS51Y29kZVtBTURHUFVfVUNPREVfSURfVkNOXS50
bXJfbWNfYWRkcl9oaSkpOworCQlXUkVHMzJfU09DMTUoVVZELCAwLCBtbVVWRF9WQ1BVX0NBQ0hF
X09GRlNFVDAsIDApOworCQlvZmZzZXQgPSAwOworCX0gZWxzZSB7CisJCVdSRUczMl9TT0MxNShV
VkQsIDAsIG1tVVZEX0xNSV9WQ1BVX0NBQ0hFXzY0QklUX0JBUl9MT1csCisJCQlsb3dlcl8zMl9i
aXRzKGFkZXYtPnZjbi5ncHVfYWRkcikpOworCQlXUkVHMzJfU09DMTUoVVZELCAwLCBtbVVWRF9M
TUlfVkNQVV9DQUNIRV82NEJJVF9CQVJfSElHSCwKKwkJCXVwcGVyXzMyX2JpdHMoYWRldi0+dmNu
LmdwdV9hZGRyKSk7CisJCW9mZnNldCA9IHNpemU7CisJCS8qIE5vIHNpZ25lZCBoZWFkZXIgZm9y
IG5vdyBmcm9tIGZpcm13YXJlCisJCVdSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX1ZDUFVfQ0FD
SEVfT0ZGU0VUMCwKKwkJCUFNREdQVV9VVkRfRklSTVdBUkVfT0ZGU0VUID4+IDMpOworCQkqLwor
CQlXUkVHMzJfU09DMTUoVVZELCAwLCBtbVVWRF9WQ1BVX0NBQ0hFX09GRlNFVDAsIDApOworCX0K
KworCVdSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX1ZDUFVfQ0FDSEVfU0laRTAsIHNpemUpOwor
CisJLyogY2FjaGUgd2luZG93IDE6IHN0YWNrICovCisJV1JFRzMyX1NPQzE1KFVWRCwgMCwgbW1V
VkRfTE1JX1ZDUFVfQ0FDSEUxXzY0QklUX0JBUl9MT1csCisJCWxvd2VyXzMyX2JpdHMoYWRldi0+
dmNuLmdwdV9hZGRyICsgb2Zmc2V0KSk7CisJV1JFRzMyX1NPQzE1KFVWRCwgMCwgbW1VVkRfTE1J
X1ZDUFVfQ0FDSEUxXzY0QklUX0JBUl9ISUdILAorCQl1cHBlcl8zMl9iaXRzKGFkZXYtPnZjbi5n
cHVfYWRkciArIG9mZnNldCkpOworCVdSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX1ZDUFVfQ0FD
SEVfT0ZGU0VUMSwgMCk7CisJV1JFRzMyX1NPQzE1KFVWRCwgMCwgbW1VVkRfVkNQVV9DQUNIRV9T
SVpFMSwgQU1ER1BVX1ZDTl9TVEFDS19TSVpFKTsKKworCS8qIGNhY2hlIHdpbmRvdyAyOiBjb250
ZXh0ICovCisJV1JFRzMyX1NPQzE1KFVWRCwgMCwgbW1VVkRfTE1JX1ZDUFVfQ0FDSEUyXzY0QklU
X0JBUl9MT1csCisJCWxvd2VyXzMyX2JpdHMoYWRldi0+dmNuLmdwdV9hZGRyICsgb2Zmc2V0ICsg
QU1ER1BVX1ZDTl9TVEFDS19TSVpFKSk7CisJV1JFRzMyX1NPQzE1KFVWRCwgMCwgbW1VVkRfTE1J
X1ZDUFVfQ0FDSEUyXzY0QklUX0JBUl9ISUdILAorCQl1cHBlcl8zMl9iaXRzKGFkZXYtPnZjbi5n
cHVfYWRkciArIG9mZnNldCArIEFNREdQVV9WQ05fU1RBQ0tfU0laRSkpOworCVdSRUczMl9TT0Mx
NShVVkQsIDAsIG1tVVZEX1ZDUFVfQ0FDSEVfT0ZGU0VUMiwgMCk7CisJV1JFRzMyX1NPQzE1KFVW
RCwgMCwgbW1VVkRfVkNQVV9DQUNIRV9TSVpFMiwgQU1ER1BVX1ZDTl9DT05URVhUX1NJWkUpOwor
CisJV1JFRzMyX1NPQzE1KFVWRCwgMCwgbW1VVkRfR0ZYMTBfQUREUl9DT05GSUcsIGFkZXYtPmdm
eC5jb25maWcuZ2JfYWRkcl9jb25maWcpOworCVdSRUczMl9TT0MxNShVVkQsIDAsIG1tSlBFR19E
RUNfR0ZYMTBfQUREUl9DT05GSUcsIGFkZXYtPmdmeC5jb25maWcuZ2JfYWRkcl9jb25maWcpOwor
fQorCisvKioKKyAqIHZjbl92Ml8wX2Rpc2FibGVfY2xvY2tfZ2F0aW5nIC0gZGlzYWJsZSBWQ04g
Y2xvY2sgZ2F0aW5nCisgKgorICogQGFkZXY6IGFtZGdwdV9kZXZpY2UgcG9pbnRlcgorICogQHN3
OiBlbmFibGUgU1cgY2xvY2sgZ2F0aW5nCisgKgorICogRGlzYWJsZSBjbG9jayBnYXRpbmcgZm9y
IFZDTiBibG9jaworICovCitzdGF0aWMgdm9pZCB2Y25fdjJfMF9kaXNhYmxlX2Nsb2NrX2dhdGlu
ZyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKK3sKKwl1aW50MzJfdCBkYXRhOworCisJLyog
VVZEIGRpc2FibGUgQ0dDICovCisJZGF0YSA9IFJSRUczMl9TT0MxNShWQ04sIDAsIG1tVVZEX0NH
Q19DVFJMKTsKKwlpZiAoYWRldi0+Y2dfZmxhZ3MgJiBBTURfQ0dfU1VQUE9SVF9WQ05fTUdDRykK
KwkJZGF0YSB8PSAxIDw8IFVWRF9DR0NfQ1RSTF9fRFlOX0NMT0NLX01PREVfX1NISUZUOworCWVs
c2UKKwkJZGF0YSAmPSB+IFVWRF9DR0NfQ1RSTF9fRFlOX0NMT0NLX01PREVfTUFTSzsKKwlkYXRh
IHw9IDEgPDwgVVZEX0NHQ19DVFJMX19DTEtfR0FURV9ETFlfVElNRVJfX1NISUZUOworCWRhdGEg
fD0gNCA8PCBVVkRfQ0dDX0NUUkxfX0NMS19PRkZfREVMQVlfX1NISUZUOworCVdSRUczMl9TT0Mx
NShWQ04sIDAsIG1tVVZEX0NHQ19DVFJMLCBkYXRhKTsKKworCWRhdGEgPSBSUkVHMzJfU09DMTUo
VkNOLCAwLCBtbVVWRF9DR0NfR0FURSk7CisJZGF0YSAmPSB+KFVWRF9DR0NfR0FURV9fU1lTX01B
U0sKKwkJfCBVVkRfQ0dDX0dBVEVfX1VERUNfTUFTSworCQl8IFVWRF9DR0NfR0FURV9fTVBFRzJf
TUFTSworCQl8IFVWRF9DR0NfR0FURV9fUkVHU19NQVNLCisJCXwgVVZEX0NHQ19HQVRFX19SQkNf
TUFTSworCQl8IFVWRF9DR0NfR0FURV9fTE1JX01DX01BU0sKKwkJfCBVVkRfQ0dDX0dBVEVfX0xN
SV9VTUNfTUFTSworCQl8IFVWRF9DR0NfR0FURV9fSURDVF9NQVNLCisJCXwgVVZEX0NHQ19HQVRF
X19NUFJEX01BU0sKKwkJfCBVVkRfQ0dDX0dBVEVfX01QQ19NQVNLCisJCXwgVVZEX0NHQ19HQVRF
X19MQlNJX01BU0sKKwkJfCBVVkRfQ0dDX0dBVEVfX0xSQkJNX01BU0sKKwkJfCBVVkRfQ0dDX0dB
VEVfX1VERUNfUkVfTUFTSworCQl8IFVWRF9DR0NfR0FURV9fVURFQ19DTV9NQVNLCisJCXwgVVZE
X0NHQ19HQVRFX19VREVDX0lUX01BU0sKKwkJfCBVVkRfQ0dDX0dBVEVfX1VERUNfREJfTUFTSwor
CQl8IFVWRF9DR0NfR0FURV9fVURFQ19NUF9NQVNLCisJCXwgVVZEX0NHQ19HQVRFX19XQ0JfTUFT
SworCQl8IFVWRF9DR0NfR0FURV9fVkNQVV9NQVNLCisJCXwgVVZEX0NHQ19HQVRFX19TQ1BVX01B
U0spOworCVdSRUczMl9TT0MxNShWQ04sIDAsIG1tVVZEX0NHQ19HQVRFLCBkYXRhKTsKKworCWRh
dGEgPSBSUkVHMzJfU09DMTUoVkNOLCAwLCBtbVVWRF9DR0NfQ1RSTCk7CisJZGF0YSAmPSB+KFVW
RF9DR0NfQ1RSTF9fVURFQ19SRV9NT0RFX01BU0sKKwkJfCBVVkRfQ0dDX0NUUkxfX1VERUNfQ01f
TU9ERV9NQVNLCisJCXwgVVZEX0NHQ19DVFJMX19VREVDX0lUX01PREVfTUFTSworCQl8IFVWRF9D
R0NfQ1RSTF9fVURFQ19EQl9NT0RFX01BU0sKKwkJfCBVVkRfQ0dDX0NUUkxfX1VERUNfTVBfTU9E
RV9NQVNLCisJCXwgVVZEX0NHQ19DVFJMX19TWVNfTU9ERV9NQVNLCisJCXwgVVZEX0NHQ19DVFJM
X19VREVDX01PREVfTUFTSworCQl8IFVWRF9DR0NfQ1RSTF9fTVBFRzJfTU9ERV9NQVNLCisJCXwg
VVZEX0NHQ19DVFJMX19SRUdTX01PREVfTUFTSworCQl8IFVWRF9DR0NfQ1RSTF9fUkJDX01PREVf
TUFTSworCQl8IFVWRF9DR0NfQ1RSTF9fTE1JX01DX01PREVfTUFTSworCQl8IFVWRF9DR0NfQ1RS
TF9fTE1JX1VNQ19NT0RFX01BU0sKKwkJfCBVVkRfQ0dDX0NUUkxfX0lEQ1RfTU9ERV9NQVNLCisJ
CXwgVVZEX0NHQ19DVFJMX19NUFJEX01PREVfTUFTSworCQl8IFVWRF9DR0NfQ1RSTF9fTVBDX01P
REVfTUFTSworCQl8IFVWRF9DR0NfQ1RSTF9fTEJTSV9NT0RFX01BU0sKKwkJfCBVVkRfQ0dDX0NU
UkxfX0xSQkJNX01PREVfTUFTSworCQl8IFVWRF9DR0NfQ1RSTF9fV0NCX01PREVfTUFTSworCQl8
IFVWRF9DR0NfQ1RSTF9fVkNQVV9NT0RFX01BU0sKKwkJfCBVVkRfQ0dDX0NUUkxfX1NDUFVfTU9E
RV9NQVNLKTsKKwlXUkVHMzJfU09DMTUoVkNOLCAwLCBtbVVWRF9DR0NfQ1RSTCwgZGF0YSk7CisK
KwkvKiB0dXJuIG9uICovCisJZGF0YSA9IFJSRUczMl9TT0MxNShWQ04sIDAsIG1tVVZEX1NVVkRf
Q0dDX0dBVEUpOworCWRhdGEgfD0gKFVWRF9TVVZEX0NHQ19HQVRFX19TUkVfTUFTSworCQl8IFVW
RF9TVVZEX0NHQ19HQVRFX19TSVRfTUFTSworCQl8IFVWRF9TVVZEX0NHQ19HQVRFX19TTVBfTUFT
SworCQl8IFVWRF9TVVZEX0NHQ19HQVRFX19TQ01fTUFTSworCQl8IFVWRF9TVVZEX0NHQ19HQVRF
X19TREJfTUFTSworCQl8IFVWRF9TVVZEX0NHQ19HQVRFX19TUkVfSDI2NF9NQVNLCisJCXwgVVZE
X1NVVkRfQ0dDX0dBVEVfX1NSRV9IRVZDX01BU0sKKwkJfCBVVkRfU1VWRF9DR0NfR0FURV9fU0lU
X0gyNjRfTUFTSworCQl8IFVWRF9TVVZEX0NHQ19HQVRFX19TSVRfSEVWQ19NQVNLCisJCXwgVVZE
X1NVVkRfQ0dDX0dBVEVfX1NDTV9IMjY0X01BU0sKKwkJfCBVVkRfU1VWRF9DR0NfR0FURV9fU0NN
X0hFVkNfTUFTSworCQl8IFVWRF9TVVZEX0NHQ19HQVRFX19TREJfSDI2NF9NQVNLCisJCXwgVVZE
X1NVVkRfQ0dDX0dBVEVfX1NEQl9IRVZDX01BU0sKKwkJfCBVVkRfU1VWRF9DR0NfR0FURV9fU0NM
Ul9NQVNLCisJCXwgVVZEX1NVVkRfQ0dDX0dBVEVfX1VWRF9TQ19NQVNLCisJCXwgVVZEX1NVVkRf
Q0dDX0dBVEVfX0VOVF9NQVNLCisJCXwgVVZEX1NVVkRfQ0dDX0dBVEVfX1NJVF9IRVZDX0RFQ19N
QVNLCisJCXwgVVZEX1NVVkRfQ0dDX0dBVEVfX1NJVF9IRVZDX0VOQ19NQVNLCisJCXwgVVZEX1NV
VkRfQ0dDX0dBVEVfX1NJVEVfTUFTSworCQl8IFVWRF9TVVZEX0NHQ19HQVRFX19TUkVfVlA5X01B
U0sKKwkJfCBVVkRfU1VWRF9DR0NfR0FURV9fU0NNX1ZQOV9NQVNLCisJCXwgVVZEX1NVVkRfQ0dD
X0dBVEVfX1NJVF9WUDlfREVDX01BU0sKKwkJfCBVVkRfU1VWRF9DR0NfR0FURV9fU0RCX1ZQOV9N
QVNLCisJCXwgVVZEX1NVVkRfQ0dDX0dBVEVfX0lNRV9IRVZDX01BU0spOworCVdSRUczMl9TT0Mx
NShWQ04sIDAsIG1tVVZEX1NVVkRfQ0dDX0dBVEUsIGRhdGEpOworCisJZGF0YSA9IFJSRUczMl9T
T0MxNShWQ04sIDAsIG1tVVZEX1NVVkRfQ0dDX0NUUkwpOworCWRhdGEgJj0gfihVVkRfU1VWRF9D
R0NfQ1RSTF9fU1JFX01PREVfTUFTSworCQl8IFVWRF9TVVZEX0NHQ19DVFJMX19TSVRfTU9ERV9N
QVNLCisJCXwgVVZEX1NVVkRfQ0dDX0NUUkxfX1NNUF9NT0RFX01BU0sKKwkJfCBVVkRfU1VWRF9D
R0NfQ1RSTF9fU0NNX01PREVfTUFTSworCQl8IFVWRF9TVVZEX0NHQ19DVFJMX19TREJfTU9ERV9N
QVNLCisJCXwgVVZEX1NVVkRfQ0dDX0NUUkxfX1NDTFJfTU9ERV9NQVNLCisJCXwgVVZEX1NVVkRf
Q0dDX0NUUkxfX1VWRF9TQ19NT0RFX01BU0sKKwkJfCBVVkRfU1VWRF9DR0NfQ1RSTF9fRU5UX01P
REVfTUFTSworCQl8IFVWRF9TVVZEX0NHQ19DVFJMX19JTUVfTU9ERV9NQVNLCisJCXwgVVZEX1NV
VkRfQ0dDX0NUUkxfX1NJVEVfTU9ERV9NQVNLKTsKKwlXUkVHMzJfU09DMTUoVkNOLCAwLCBtbVVW
RF9TVVZEX0NHQ19DVFJMLCBkYXRhKTsKK30KKworLyoqCisgKiBqcGVnX3YyXzBfc3RhcnQgLSBz
dGFydCBKUEVHIGJsb2NrCisgKgorICogQGFkZXY6IGFtZGdwdV9kZXZpY2UgcG9pbnRlcgorICoK
KyAqIFNldHVwIGFuZCBzdGFydCB0aGUgSlBFRyBibG9jaworICovCitzdGF0aWMgaW50IGpwZWdf
djJfMF9zdGFydChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKK3sKKwlzdHJ1Y3QgYW1kZ3B1
X3JpbmcgKnJpbmcgPSAmYWRldi0+dmNuLnJpbmdfanBlZzsKKwl1aW50MzJfdCB0bXA7CisJaW50
IHIgPSAwOworCisJLyogZGlzYWJsZSBwb3dlciBnYXRpbmcgKi8KKwl0bXAgPSAxIDw8IFVWRF9Q
R0ZTTV9DT05GSUdfX1VWREpfUFdSX0NPTkZJR19fU0hJRlQ7CisJV1JFRzMyKFNPQzE1X1JFR19P
RkZTRVQoVVZELCAwLCBtbVVWRF9QR0ZTTV9DT05GSUcpLCB0bXApOworCisJU09DMTVfV0FJVF9P
Tl9SUkVHKFZDTiwgMCwKKwkJbW1VVkRfUEdGU01fU1RBVFVTLCBVVkRfUEdGU01fU1RBVFVTX1VW
REpfUFdSX09OLAorCQlVVkRfUEdGU01fU1RBVFVTX19VVkRKX1BXUl9TVEFUVVNfTUFTSywgcik7
CisKKwlpZiAocikgeworCQlEUk1fRVJST1IoImFtZGdwdTogSlBFRyBkaXNhYmxlIHBvd2VyIGdh
dGluZyBmYWlsZWRcbiIpOworCQlyZXR1cm4gcjsKKwl9CisKKwkvKiBSZW1vdmluZyB0aGUgYW50
aSBoYW5nIG1lY2hhbmlzbSB0byBpbmRpY2F0ZSB0aGUgVVZESiB0aWxlIGlzIE9OICovCisJdG1w
ID0gUlJFRzMyKFNPQzE1X1JFR19PRkZTRVQoVVZELCAwLCBtbVVWRF9KUEVHX1BPV0VSX1NUQVRV
UykpICYgfjB4MTsKKwlXUkVHMzIoU09DMTVfUkVHX09GRlNFVChVVkQsIDAsIG1tVVZEX0pQRUdf
UE9XRVJfU1RBVFVTKSwgdG1wKTsKKworCS8qIEpQRUcgZGlzYWJsZSBDR0MgKi8KKwl0bXAgPSBS
UkVHMzJfU09DMTUoVkNOLCAwLCBtbUpQRUdfQ0dDX0NUUkwpOworCXRtcCB8PSAxIDw8IEpQRUdf
Q0dDX0NUUkxfX0RZTl9DTE9DS19NT0RFX19TSElGVDsKKwl0bXAgfD0gMSA8PCBKUEVHX0NHQ19D
VFJMX19DTEtfR0FURV9ETFlfVElNRVJfX1NISUZUOworCXRtcCB8PSA0IDw8IEpQRUdfQ0dDX0NU
UkxfX0NMS19PRkZfREVMQVlfX1NISUZUOworCVdSRUczMl9TT0MxNShWQ04sIDAsIG1tSlBFR19D
R0NfQ1RSTCwgdG1wKTsKKworCXRtcCA9IFJSRUczMl9TT0MxNShWQ04sIDAsIG1tSlBFR19DR0Nf
R0FURSk7CisJdG1wICY9IH4oSlBFR19DR0NfR0FURV9fSlBFR19ERUNfTUFTSworCQl8IEpQRUdf
Q0dDX0dBVEVfX0pQRUcyX0RFQ19NQVNLCisJCXwgSlBFR19DR0NfR0FURV9fSlBFR19FTkNfTUFT
SworCQl8IEpQRUdfQ0dDX0dBVEVfX0pNQ0lGX01BU0sKKwkJfCBKUEVHX0NHQ19HQVRFX19KUkJC
TV9NQVNLKTsKKwlXUkVHMzJfU09DMTUoVkNOLCAwLCBtbUpQRUdfQ0dDX0dBVEUsIHRtcCk7CisK
KwkvKiBlbmFibGUgSk1JIGNoYW5uZWwgKi8KKwlXUkVHMzJfUChTT0MxNV9SRUdfT0ZGU0VUKFVW
RCwgMCwgbW1VVkRfSk1JX0NOVEwpLCAwLAorCQl+VVZEX0pNSV9DTlRMX19TT0ZUX1JFU0VUX01B
U0spOworCisJLyogZW5hYmxlIFN5c3RlbSBJbnRlcnJ1cHQgZm9yIEpSQkMgKi8KKwlXUkVHMzJf
UChTT0MxNV9SRUdfT0ZGU0VUKFZDTiwgMCwgbW1KUEVHX1NZU19JTlRfRU4pLAorCQlKUEVHX1NZ
U19JTlRfRU5fX0RKUkJDX01BU0ssCisJCX5KUEVHX1NZU19JTlRfRU5fX0RKUkJDX01BU0spOwor
CisJV1JFRzMyX1NPQzE1KFVWRCwgMCwgbW1VVkRfTE1JX0pSQkNfUkJfVk1JRCwgMCk7CisJV1JF
RzMyX1NPQzE1KFVWRCwgMCwgbW1VVkRfSlJCQ19SQl9DTlRMLCAoMHgwMDAwMDAwMUwgfCAweDAw
MDAwMDAyTCkpOworCVdSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX0xNSV9KUkJDX1JCXzY0QklU
X0JBUl9MT1csCisJCWxvd2VyXzMyX2JpdHMocmluZy0+Z3B1X2FkZHIpKTsKKwlXUkVHMzJfU09D
MTUoVVZELCAwLCBtbVVWRF9MTUlfSlJCQ19SQl82NEJJVF9CQVJfSElHSCwKKwkJdXBwZXJfMzJf
Yml0cyhyaW5nLT5ncHVfYWRkcikpOworCVdSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX0pSQkNf
UkJfUlBUUiwgMCk7CisJV1JFRzMyX1NPQzE1KFVWRCwgMCwgbW1VVkRfSlJCQ19SQl9XUFRSLCAw
KTsKKwlXUkVHMzJfU09DMTUoVVZELCAwLCBtbVVWRF9KUkJDX1JCX0NOVEwsIDB4MDAwMDAwMDJM
KTsKKwlXUkVHMzJfU09DMTUoVVZELCAwLCBtbVVWRF9KUkJDX1JCX1NJWkUsIHJpbmctPnJpbmdf
c2l6ZSAvIDQpOworCXJpbmctPndwdHIgPSBSUkVHMzJfU09DMTUoVVZELCAwLCBtbVVWRF9KUkJD
X1JCX1dQVFIpOworCisJcmV0dXJuIDA7Cit9CisKKy8qKgorICoganBlZ192Ml8wX3N0b3AgLSBz
dG9wIEpQRUcgYmxvY2sKKyAqCisgKiBAYWRldjogYW1kZ3B1X2RldmljZSBwb2ludGVyCisgKgor
ICogc3RvcCB0aGUgSlBFRyBibG9jaworICovCitzdGF0aWMgaW50IGpwZWdfdjJfMF9zdG9wKHN0
cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQoreworCXVpbnQzMl90IHRtcDsKKwlpbnQgciA9IDA7
CisKKwkvKiByZXNldCBKTUkgKi8KKwlXUkVHMzJfUChTT0MxNV9SRUdfT0ZGU0VUKFVWRCwgMCwg
bW1VVkRfSk1JX0NOVEwpLAorCQlVVkRfSk1JX0NOVExfX1NPRlRfUkVTRVRfTUFTSywKKwkJflVW
RF9KTUlfQ05UTF9fU09GVF9SRVNFVF9NQVNLKTsKKworCS8qIGVuYWJsZSBKUEVHIENHQyAqLwor
CXRtcCA9IFJSRUczMl9TT0MxNShWQ04sIDAsIG1tSlBFR19DR0NfQ1RSTCk7CisJdG1wIHw9IDEg
PDwgSlBFR19DR0NfQ1RSTF9fRFlOX0NMT0NLX01PREVfX1NISUZUOworCXRtcCB8PSAxIDw8IEpQ
RUdfQ0dDX0NUUkxfX0NMS19HQVRFX0RMWV9USU1FUl9fU0hJRlQ7CisJdG1wIHw9IDQgPDwgSlBF
R19DR0NfQ1RSTF9fQ0xLX09GRl9ERUxBWV9fU0hJRlQ7CisJV1JFRzMyX1NPQzE1KFZDTiwgMCwg
bW1KUEVHX0NHQ19DVFJMLCB0bXApOworCisKKwl0bXAgPSBSUkVHMzJfU09DMTUoVkNOLCAwLCBt
bUpQRUdfQ0dDX0dBVEUpOworCXRtcCB8PSAoSlBFR19DR0NfR0FURV9fSlBFR19ERUNfTUFTSwor
CQl8SlBFR19DR0NfR0FURV9fSlBFRzJfREVDX01BU0sKKwkJfEpQRUdfQ0dDX0dBVEVfX0pQRUdf
RU5DX01BU0sKKwkJfEpQRUdfQ0dDX0dBVEVfX0pNQ0lGX01BU0sKKwkJfEpQRUdfQ0dDX0dBVEVf
X0pSQkJNX01BU0spOworCVdSRUczMl9TT0MxNShWQ04sIDAsIG1tSlBFR19DR0NfR0FURSwgdG1w
KTsKKworCS8qIGVuYWJsZSBwb3dlciBnYXRpbmcgKi8KKwl0bXAgPSBSUkVHMzIoU09DMTVfUkVH
X09GRlNFVChVVkQsIDAsIG1tVVZEX0pQRUdfUE9XRVJfU1RBVFVTKSk7CisJdG1wICY9IH5VVkRf
SlBFR19QT1dFUl9TVEFUVVNfX0pQRUdfUE9XRVJfU1RBVFVTX01BU0s7CisJdG1wIHw9ICAweDE7
IC8vVVZEX0pQRUdfUE9XRVJfU1RBVFVTX19KUEVHX1BPV0VSX1NUQVRVU19USUxFU19PRkY7CisJ
V1JFRzMyKFNPQzE1X1JFR19PRkZTRVQoVVZELCAwLCBtbVVWRF9KUEVHX1BPV0VSX1NUQVRVUyks
IHRtcCk7CisKKwl0bXAgPSAyIDw8IFVWRF9QR0ZTTV9DT05GSUdfX1VWREpfUFdSX0NPTkZJR19f
U0hJRlQ7CisJV1JFRzMyKFNPQzE1X1JFR19PRkZTRVQoVVZELCAwLCBtbVVWRF9QR0ZTTV9DT05G
SUcpLCB0bXApOworCisJU09DMTVfV0FJVF9PTl9SUkVHKFZDTiwgMCwgbW1VVkRfUEdGU01fU1RB
VFVTLAorCQkoMiA8PCBVVkRfUEdGU01fU1RBVFVTX19VVkRKX1BXUl9TVEFUVVNfX1NISUZUKSwK
KwkJVVZEX1BHRlNNX1NUQVRVU19fVVZESl9QV1JfU1RBVFVTX01BU0ssIHIpOworCisJaWYgKHIp
IHsKKwkJRFJNX0VSUk9SKCJhbWRncHU6IEpQRUcgZW5hYmxlIHBvd2VyIGdhdGluZyBmYWlsZWRc
biIpOworCQlyZXR1cm4gcjsKKwl9CisKKwlyZXR1cm4gcjsKK30KKworLyoqCisgKiB2Y25fdjJf
MF9lbmFibGVfY2xvY2tfZ2F0aW5nIC0gZW5hYmxlIFZDTiBjbG9jayBnYXRpbmcKKyAqCisgKiBA
YWRldjogYW1kZ3B1X2RldmljZSBwb2ludGVyCisgKiBAc3c6IGVuYWJsZSBTVyBjbG9jayBnYXRp
bmcKKyAqCisgKiBFbmFibGUgY2xvY2sgZ2F0aW5nIGZvciBWQ04gYmxvY2sKKyAqLworc3RhdGlj
IHZvaWQgdmNuX3YyXzBfZW5hYmxlX2Nsb2NrX2dhdGluZyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAq
YWRldikKK3sKKwl1aW50MzJfdCBkYXRhID0gMDsKKworCS8qIGVuYWJsZSBVVkQgQ0dDICovCisJ
ZGF0YSA9IFJSRUczMl9TT0MxNShWQ04sIDAsIG1tVVZEX0NHQ19DVFJMKTsKKwlpZiAoYWRldi0+
Y2dfZmxhZ3MgJiBBTURfQ0dfU1VQUE9SVF9WQ05fTUdDRykKKwkJZGF0YSB8PSAxIDw8IFVWRF9D
R0NfQ1RSTF9fRFlOX0NMT0NLX01PREVfX1NISUZUOworCWVsc2UKKwkJZGF0YSB8PSAwIDw8IFVW
RF9DR0NfQ1RSTF9fRFlOX0NMT0NLX01PREVfX1NISUZUOworCWRhdGEgfD0gMSA8PCBVVkRfQ0dD
X0NUUkxfX0NMS19HQVRFX0RMWV9USU1FUl9fU0hJRlQ7CisJZGF0YSB8PSA0IDw8IFVWRF9DR0Nf
Q1RSTF9fQ0xLX09GRl9ERUxBWV9fU0hJRlQ7CisJV1JFRzMyX1NPQzE1KFZDTiwgMCwgbW1VVkRf
Q0dDX0NUUkwsIGRhdGEpOworCisJZGF0YSA9IFJSRUczMl9TT0MxNShWQ04sIDAsIG1tVVZEX0NH
Q19DVFJMKTsKKwlkYXRhIHw9IChVVkRfQ0dDX0NUUkxfX1VERUNfUkVfTU9ERV9NQVNLCisJCXwg
VVZEX0NHQ19DVFJMX19VREVDX0NNX01PREVfTUFTSworCQl8IFVWRF9DR0NfQ1RSTF9fVURFQ19J
VF9NT0RFX01BU0sKKwkJfCBVVkRfQ0dDX0NUUkxfX1VERUNfREJfTU9ERV9NQVNLCisJCXwgVVZE
X0NHQ19DVFJMX19VREVDX01QX01PREVfTUFTSworCQl8IFVWRF9DR0NfQ1RSTF9fU1lTX01PREVf
TUFTSworCQl8IFVWRF9DR0NfQ1RSTF9fVURFQ19NT0RFX01BU0sKKwkJfCBVVkRfQ0dDX0NUUkxf
X01QRUcyX01PREVfTUFTSworCQl8IFVWRF9DR0NfQ1RSTF9fUkVHU19NT0RFX01BU0sKKwkJfCBV
VkRfQ0dDX0NUUkxfX1JCQ19NT0RFX01BU0sKKwkJfCBVVkRfQ0dDX0NUUkxfX0xNSV9NQ19NT0RF
X01BU0sKKwkJfCBVVkRfQ0dDX0NUUkxfX0xNSV9VTUNfTU9ERV9NQVNLCisJCXwgVVZEX0NHQ19D
VFJMX19JRENUX01PREVfTUFTSworCQl8IFVWRF9DR0NfQ1RSTF9fTVBSRF9NT0RFX01BU0sKKwkJ
fCBVVkRfQ0dDX0NUUkxfX01QQ19NT0RFX01BU0sKKwkJfCBVVkRfQ0dDX0NUUkxfX0xCU0lfTU9E
RV9NQVNLCisJCXwgVVZEX0NHQ19DVFJMX19MUkJCTV9NT0RFX01BU0sKKwkJfCBVVkRfQ0dDX0NU
UkxfX1dDQl9NT0RFX01BU0sKKwkJfCBVVkRfQ0dDX0NUUkxfX1ZDUFVfTU9ERV9NQVNLCisJCXwg
VVZEX0NHQ19DVFJMX19TQ1BVX01PREVfTUFTSyk7CisJV1JFRzMyX1NPQzE1KFZDTiwgMCwgbW1V
VkRfQ0dDX0NUUkwsIGRhdGEpOworCisJZGF0YSA9IFJSRUczMl9TT0MxNShWQ04sIDAsIG1tVVZE
X1NVVkRfQ0dDX0NUUkwpOworCWRhdGEgfD0gKFVWRF9TVVZEX0NHQ19DVFJMX19TUkVfTU9ERV9N
QVNLCisJCXwgVVZEX1NVVkRfQ0dDX0NUUkxfX1NJVF9NT0RFX01BU0sKKwkJfCBVVkRfU1VWRF9D
R0NfQ1RSTF9fU01QX01PREVfTUFTSworCQl8IFVWRF9TVVZEX0NHQ19DVFJMX19TQ01fTU9ERV9N
QVNLCisJCXwgVVZEX1NVVkRfQ0dDX0NUUkxfX1NEQl9NT0RFX01BU0sKKwkJfCBVVkRfU1VWRF9D
R0NfQ1RSTF9fU0NMUl9NT0RFX01BU0sKKwkJfCBVVkRfU1VWRF9DR0NfQ1RSTF9fVVZEX1NDX01P
REVfTUFTSworCQl8IFVWRF9TVVZEX0NHQ19DVFJMX19FTlRfTU9ERV9NQVNLCisJCXwgVVZEX1NV
VkRfQ0dDX0NUUkxfX0lNRV9NT0RFX01BU0sKKwkJfCBVVkRfU1VWRF9DR0NfQ1RSTF9fU0lURV9N
T0RFX01BU0spOworCVdSRUczMl9TT0MxNShWQ04sIDAsIG1tVVZEX1NVVkRfQ0dDX0NUUkwsIGRh
dGEpOworfQorCitzdGF0aWMgdm9pZCB2Y25fdjJfMF9kaXNhYmxlX3N0YXRpY19wb3dlcl9nYXRp
bmcoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCit7CisJdWludDMyX3QgZGF0YSA9IDA7CisJ
aW50IHJldDsKKworCWlmIChhZGV2LT5wZ19mbGFncyAmIEFNRF9QR19TVVBQT1JUX1ZDTikgewor
CQlkYXRhID0gKDEgPDwgVVZEX1BHRlNNX0NPTkZJR19fVVZETV9QV1JfQ09ORklHX19TSElGVAor
CQkJfCAxIDw8IFVWRF9QR0ZTTV9DT05GSUdfX1VWRFVfUFdSX0NPTkZJR19fU0hJRlQKKwkJCXwg
MiA8PCBVVkRfUEdGU01fQ09ORklHX19VVkRGX1BXUl9DT05GSUdfX1NISUZUCisJCQl8IDIgPDwg
VVZEX1BHRlNNX0NPTkZJR19fVVZEQ19QV1JfQ09ORklHX19TSElGVAorCQkJfCAyIDw8IFVWRF9Q
R0ZTTV9DT05GSUdfX1VWREJfUFdSX0NPTkZJR19fU0hJRlQKKwkJCXwgMiA8PCBVVkRfUEdGU01f
Q09ORklHX19VVkRJTF9QV1JfQ09ORklHX19TSElGVAorCQkJfCAyIDw8IFVWRF9QR0ZTTV9DT05G
SUdfX1VWRElSX1BXUl9DT05GSUdfX1NISUZUCisJCQl8IDIgPDwgVVZEX1BHRlNNX0NPTkZJR19f
VVZEVERfUFdSX0NPTkZJR19fU0hJRlQKKwkJCXwgMiA8PCBVVkRfUEdGU01fQ09ORklHX19VVkRU
RV9QV1JfQ09ORklHX19TSElGVAorCQkJfCAyIDw8IFVWRF9QR0ZTTV9DT05GSUdfX1VWREVfUFdS
X0NPTkZJR19fU0hJRlQKKwkJCXwgMiA8PCBVVkRfUEdGU01fQ09ORklHX19VVkRXX1BXUl9DT05G
SUdfX1NISUZUKTsKKworCQlXUkVHMzJfU09DMTUoVkNOLCAwLCBtbVVWRF9QR0ZTTV9DT05GSUcs
IGRhdGEpOworCQlTT0MxNV9XQUlUX09OX1JSRUcoVkNOLCAwLCBtbVVWRF9QR0ZTTV9TVEFUVVMs
CisJCQlVVkRfUEdGU01fU1RBVFVTX19VVkRNX1VWRFVfUFdSX09OLCAweEZGRkZGRiwgcmV0KTsK
Kwl9IGVsc2UgeworCQlkYXRhID0gKDEgPDwgVVZEX1BHRlNNX0NPTkZJR19fVVZETV9QV1JfQ09O
RklHX19TSElGVAorCQkJfCAxIDw8IFVWRF9QR0ZTTV9DT05GSUdfX1VWRFVfUFdSX0NPTkZJR19f
U0hJRlQKKwkJCXwgMSA8PCBVVkRfUEdGU01fQ09ORklHX19VVkRGX1BXUl9DT05GSUdfX1NISUZU
CisJCQl8IDEgPDwgVVZEX1BHRlNNX0NPTkZJR19fVVZEQ19QV1JfQ09ORklHX19TSElGVAorCQkJ
fCAxIDw8IFVWRF9QR0ZTTV9DT05GSUdfX1VWREJfUFdSX0NPTkZJR19fU0hJRlQKKwkJCXwgMSA8
PCBVVkRfUEdGU01fQ09ORklHX19VVkRJTF9QV1JfQ09ORklHX19TSElGVAorCQkJfCAxIDw8IFVW
RF9QR0ZTTV9DT05GSUdfX1VWRElSX1BXUl9DT05GSUdfX1NISUZUCisJCQl8IDEgPDwgVVZEX1BH
RlNNX0NPTkZJR19fVVZEVERfUFdSX0NPTkZJR19fU0hJRlQKKwkJCXwgMSA8PCBVVkRfUEdGU01f
Q09ORklHX19VVkRURV9QV1JfQ09ORklHX19TSElGVAorCQkJfCAxIDw8IFVWRF9QR0ZTTV9DT05G
SUdfX1VWREVfUFdSX0NPTkZJR19fU0hJRlQKKwkJCXwgMSA8PCBVVkRfUEdGU01fQ09ORklHX19V
VkRXX1BXUl9DT05GSUdfX1NISUZUKTsKKwkJV1JFRzMyX1NPQzE1KFZDTiwgMCwgbW1VVkRfUEdG
U01fQ09ORklHLCBkYXRhKTsKKwkJU09DMTVfV0FJVF9PTl9SUkVHKFZDTiwgMCwgbW1VVkRfUEdG
U01fU1RBVFVTLCAwLCAgMHhGRkZGRkZGRiwgcmV0KTsKKwl9CisKKwkvKiBwb2xsaW5nIFVWRF9Q
R0ZTTV9TVEFUVVMgdG8gY29uZmlybSBVVkRNX1BXUl9TVEFUVVMsCisJICogVVZEVV9QV1JfU1RB
VFVTIGFyZSAwIChwb3dlciBvbikgKi8KKworCWRhdGEgPSBSUkVHMzJfU09DMTUoVkNOLCAwLCBt
bVVWRF9QT1dFUl9TVEFUVVMpOworCWRhdGEgJj0gfjB4MTAzOworCWlmIChhZGV2LT5wZ19mbGFn
cyAmIEFNRF9QR19TVVBQT1JUX1ZDTikKKwkJZGF0YSB8PSBVVkRfUEdGU01fQ09ORklHX19VVkRN
X1VWRFVfUFdSX09OIHwKKwkJCVVWRF9QT1dFUl9TVEFUVVNfX1VWRF9QR19FTl9NQVNLOworCisJ
V1JFRzMyX1NPQzE1KFZDTiwgMCwgbW1VVkRfUE9XRVJfU1RBVFVTLCBkYXRhKTsKK30KKworc3Rh
dGljIHZvaWQgdmNuX3YyXzBfZW5hYmxlX3N0YXRpY19wb3dlcl9nYXRpbmcoc3RydWN0IGFtZGdw
dV9kZXZpY2UgKmFkZXYpCit7CisJdWludDMyX3QgZGF0YSA9IDA7CisJaW50IHJldDsKKworCWlm
IChhZGV2LT5wZ19mbGFncyAmIEFNRF9QR19TVVBQT1JUX1ZDTikgeworCQkvKiBCZWZvcmUgcG93
ZXIgb2ZmLCB0aGlzIGluZGljYXRvciBoYXMgdG8gYmUgdHVybmVkIG9uICovCisJCWRhdGEgPSBS
UkVHMzJfU09DMTUoVkNOLCAwLCBtbVVWRF9QT1dFUl9TVEFUVVMpOworCQlkYXRhICY9IH5VVkRf
UE9XRVJfU1RBVFVTX19VVkRfUE9XRVJfU1RBVFVTX01BU0s7CisJCWRhdGEgfD0gVVZEX1BPV0VS
X1NUQVRVU19fVVZEX1BPV0VSX1NUQVRVU19USUxFU19PRkY7CisJCVdSRUczMl9TT0MxNShWQ04s
IDAsIG1tVVZEX1BPV0VSX1NUQVRVUywgZGF0YSk7CisKKworCQlkYXRhID0gKDIgPDwgVVZEX1BH
RlNNX0NPTkZJR19fVVZETV9QV1JfQ09ORklHX19TSElGVAorCQkJfCAyIDw8IFVWRF9QR0ZTTV9D
T05GSUdfX1VWRFVfUFdSX0NPTkZJR19fU0hJRlQKKwkJCXwgMiA8PCBVVkRfUEdGU01fQ09ORklH
X19VVkRGX1BXUl9DT05GSUdfX1NISUZUCisJCQl8IDIgPDwgVVZEX1BHRlNNX0NPTkZJR19fVVZE
Q19QV1JfQ09ORklHX19TSElGVAorCQkJfCAyIDw8IFVWRF9QR0ZTTV9DT05GSUdfX1VWREJfUFdS
X0NPTkZJR19fU0hJRlQKKwkJCXwgMiA8PCBVVkRfUEdGU01fQ09ORklHX19VVkRJTF9QV1JfQ09O
RklHX19TSElGVAorCQkJfCAyIDw8IFVWRF9QR0ZTTV9DT05GSUdfX1VWRElSX1BXUl9DT05GSUdf
X1NISUZUCisJCQl8IDIgPDwgVVZEX1BHRlNNX0NPTkZJR19fVVZEVERfUFdSX0NPTkZJR19fU0hJ
RlQKKwkJCXwgMiA8PCBVVkRfUEdGU01fQ09ORklHX19VVkRURV9QV1JfQ09ORklHX19TSElGVAor
CQkJfCAyIDw8IFVWRF9QR0ZTTV9DT05GSUdfX1VWREVfUFdSX0NPTkZJR19fU0hJRlQKKwkJCXwg
MiA8PCBVVkRfUEdGU01fQ09ORklHX19VVkRXX1BXUl9DT05GSUdfX1NISUZUKTsKKworCQlXUkVH
MzJfU09DMTUoVkNOLCAwLCBtbVVWRF9QR0ZTTV9DT05GSUcsIGRhdGEpOworCisJCWRhdGEgPSAo
MiA8PCBVVkRfUEdGU01fU1RBVFVTX19VVkRNX1BXUl9TVEFUVVNfX1NISUZUCisJCQl8IDIgPDwg
VVZEX1BHRlNNX1NUQVRVU19fVVZEVV9QV1JfU1RBVFVTX19TSElGVAorCQkJfCAyIDw8IFVWRF9Q
R0ZTTV9TVEFUVVNfX1VWREZfUFdSX1NUQVRVU19fU0hJRlQKKwkJCXwgMiA8PCBVVkRfUEdGU01f
U1RBVFVTX19VVkRDX1BXUl9TVEFUVVNfX1NISUZUCisJCQl8IDIgPDwgVVZEX1BHRlNNX1NUQVRV
U19fVVZEQl9QV1JfU1RBVFVTX19TSElGVAorCQkJfCAyIDw8IFVWRF9QR0ZTTV9TVEFUVVNfX1VW
RElMX1BXUl9TVEFUVVNfX1NISUZUCisJCQl8IDIgPDwgVVZEX1BHRlNNX1NUQVRVU19fVVZESVJf
UFdSX1NUQVRVU19fU0hJRlQKKwkJCXwgMiA8PCBVVkRfUEdGU01fU1RBVFVTX19VVkRURF9QV1Jf
U1RBVFVTX19TSElGVAorCQkJfCAyIDw8IFVWRF9QR0ZTTV9TVEFUVVNfX1VWRFRFX1BXUl9TVEFU
VVNfX1NISUZUCisJCQl8IDIgPDwgVVZEX1BHRlNNX1NUQVRVU19fVVZERV9QV1JfU1RBVFVTX19T
SElGVAorCQkJfCAyIDw8IFVWRF9QR0ZTTV9TVEFUVVNfX1VWRFdfUFdSX1NUQVRVU19fU0hJRlQp
OworCQlTT0MxNV9XQUlUX09OX1JSRUcoVkNOLCAwLCBtbVVWRF9QR0ZTTV9TVEFUVVMsIGRhdGEs
IDB4RkZGRkZGRkYsIHJldCk7CisJfQorfQorCitzdGF0aWMgaW50IHZjbl92Ml8wX3N0YXJ0KHN0
cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQoreworCXN0cnVjdCBhbWRncHVfcmluZyAqcmluZyA9
ICZhZGV2LT52Y24ucmluZ19kZWM7CisJdWludDMyX3QgcmJfYnVmc3osIHRtcDsKKwl1aW50MzJf
dCBsbWlfc3dhcF9jbnRsOworCWludCBpLCBqLCByOworCisJdmNuX3YyXzBfZGlzYWJsZV9zdGF0
aWNfcG93ZXJfZ2F0aW5nKGFkZXYpOworCisJLyogc2V0IHV2ZCBzdGF0dXMgYnVzeSAqLworCXRt
cCA9IFJSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX1NUQVRVUykgfCBVVkRfU1RBVFVTX19VVkRf
QlVTWTsKKwlXUkVHMzJfU09DMTUoVVZELCAwLCBtbVVWRF9TVEFUVVMsIHRtcCk7CisKKwkvKlNX
IGNsb2NrIGdhdGluZyAqLworCXZjbl92Ml8wX2Rpc2FibGVfY2xvY2tfZ2F0aW5nKGFkZXYpOwor
CisJLyogZW5hYmxlIFZDUFUgY2xvY2sgKi8KKwlXUkVHMzJfUChTT0MxNV9SRUdfT0ZGU0VUKFVW
RCwgMCwgbW1VVkRfVkNQVV9DTlRMKSwKKwkJVVZEX1ZDUFVfQ05UTF9fQ0xLX0VOX01BU0ssIH5V
VkRfVkNQVV9DTlRMX19DTEtfRU5fTUFTSyk7CisKKwkvKiBkaXNhYmxlIG1hc3RlciBpbnRlcnJ1
cHQgKi8KKwlXUkVHMzJfUChTT0MxNV9SRUdfT0ZGU0VUKFVWRCwgMCwgbW1VVkRfTUFTVElOVF9F
TiksIDAsCisJCX5VVkRfTUFTVElOVF9FTl9fVkNQVV9FTl9NQVNLKTsKKworCS8qIHNldHVwIG1t
VVZEX0xNSV9DVFJMICovCisJdG1wID0gUlJFRzMyX1NPQzE1KFVWRCwgMCwgbW1VVkRfTE1JX0NU
UkwpOworCVdSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX0xNSV9DVFJMLCB0bXAgfAorCQlVVkRf
TE1JX0NUUkxfX1dSSVRFX0NMRUFOX1RJTUVSX0VOX01BU0sJfAorCQlVVkRfTE1JX0NUUkxfX01B
U0tfTUNfVVJHRU5UX01BU0sgfAorCQlVVkRfTE1JX0NUUkxfX0RBVEFfQ09IRVJFTkNZX0VOX01B
U0sgfAorCQlVVkRfTE1JX0NUUkxfX1ZDUFVfREFUQV9DT0hFUkVOQ1lfRU5fTUFTSyk7CisKKwkv
KiBzZXR1cCBtbVVWRF9NUENfQ05UTCAqLworCXRtcCA9IFJSRUczMl9TT0MxNShVVkQsIDAsIG1t
VVZEX01QQ19DTlRMKTsKKwl0bXAgJj0gflVWRF9NUENfQ05UTF9fUkVQTEFDRU1FTlRfTU9ERV9N
QVNLOworCXRtcCB8PSAweDIgPDwgVVZEX01QQ19DTlRMX19SRVBMQUNFTUVOVF9NT0RFX19TSElG
VDsKKwlXUkVHMzJfU09DMTUoVkNOLCAwLCBtbVVWRF9NUENfQ05UTCwgdG1wKTsKKworCS8qIHNl
dHVwIFVWRF9NUENfU0VUX01VWEEwICovCisJV1JFRzMyX1NPQzE1KFVWRCwgMCwgbW1VVkRfTVBD
X1NFVF9NVVhBMCwKKwkJKCgweDEgPDwgVVZEX01QQ19TRVRfTVVYQTBfX1ZBUkFfMV9fU0hJRlQp
IHwKKwkJKDB4MiA8PCBVVkRfTVBDX1NFVF9NVVhBMF9fVkFSQV8yX19TSElGVCkgfAorCQkoMHgz
IDw8IFVWRF9NUENfU0VUX01VWEEwX19WQVJBXzNfX1NISUZUKSB8CisJCSgweDQgPDwgVVZEX01Q
Q19TRVRfTVVYQTBfX1ZBUkFfNF9fU0hJRlQpKSk7CisKKwkvKiBzZXR1cCBVVkRfTVBDX1NFVF9N
VVhCMCAqLworCVdSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX01QQ19TRVRfTVVYQjAsCisJCSgo
MHgxIDw8IFVWRF9NUENfU0VUX01VWEIwX19WQVJCXzFfX1NISUZUKSB8CisJCSgweDIgPDwgVVZE
X01QQ19TRVRfTVVYQjBfX1ZBUkJfMl9fU0hJRlQpIHwKKwkJKDB4MyA8PCBVVkRfTVBDX1NFVF9N
VVhCMF9fVkFSQl8zX19TSElGVCkgfAorCQkoMHg0IDw8IFVWRF9NUENfU0VUX01VWEIwX19WQVJC
XzRfX1NISUZUKSkpOworCisJLyogc2V0dXAgbW1VVkRfTVBDX1NFVF9NVVggKi8KKwlXUkVHMzJf
U09DMTUoVVZELCAwLCBtbVVWRF9NUENfU0VUX01VWCwKKwkJKCgweDAgPDwgVVZEX01QQ19TRVRf
TVVYX19TRVRfMF9fU0hJRlQpIHwKKwkJKDB4MSA8PCBVVkRfTVBDX1NFVF9NVVhfX1NFVF8xX19T
SElGVCkgfAorCQkoMHgyIDw8IFVWRF9NUENfU0VUX01VWF9fU0VUXzJfX1NISUZUKSkpOworCisJ
dmNuX3YyXzBfbWNfcmVzdW1lKGFkZXYpOworCisJLyogcmVsZWFzZSBWQ1BVIHJlc2V0IHRvIGJv
b3QgKi8KKwlXUkVHMzJfUChTT0MxNV9SRUdfT0ZGU0VUKFVWRCwgMCwgbW1VVkRfU09GVF9SRVNF
VCksIDAsCisJCX5VVkRfU09GVF9SRVNFVF9fVkNQVV9TT0ZUX1JFU0VUX01BU0spOworCisJLyog
ZW5hYmxlIExNSSBNQyBhbmQgVU1DIGNoYW5uZWxzICovCisJV1JFRzMyX1AoU09DMTVfUkVHX09G
RlNFVChVVkQsIDAsIG1tVVZEX0xNSV9DVFJMMiksIDAsCisJCX5VVkRfTE1JX0NUUkwyX19TVEFM
TF9BUkJfVU1DX01BU0spOworCisJdG1wID0gUlJFRzMyX1NPQzE1KFZDTiwgMCwgbW1VVkRfU09G
VF9SRVNFVCk7CisJdG1wICY9IH5VVkRfU09GVF9SRVNFVF9fTE1JX1NPRlRfUkVTRVRfTUFTSzsK
Kwl0bXAgJj0gflVWRF9TT0ZUX1JFU0VUX19MTUlfVU1DX1NPRlRfUkVTRVRfTUFTSzsKKwlXUkVH
MzJfU09DMTUoVkNOLCAwLCBtbVVWRF9TT0ZUX1JFU0VULCB0bXApOworCisJLyogZGlzYWJsZSBi
eXRlIHN3YXBwaW5nICovCisJbG1pX3N3YXBfY250bCA9IDA7CisjaWZkZWYgX19CSUdfRU5ESUFO
CisJLyogc3dhcCAoOCBpbiAzMikgUkIgYW5kIElCICovCisJbG1pX3N3YXBfY250bCA9IDB4YTsK
KyNlbmRpZgorCVdSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX0xNSV9TV0FQX0NOVEwsIGxtaV9z
d2FwX2NudGwpOworCisJZm9yIChpID0gMDsgaSA8IDEwOyArK2kpIHsKKwkJdWludDMyX3Qgc3Rh
dHVzOworCisJCWZvciAoaiA9IDA7IGogPCAxMDA7ICsraikgeworCQkJc3RhdHVzID0gUlJFRzMy
X1NPQzE1KFVWRCwgMCwgbW1VVkRfU1RBVFVTKTsKKwkJCWlmIChzdGF0dXMgJiAyKQorCQkJCWJy
ZWFrOworCQkJbWRlbGF5KDEwKTsKKwkJfQorCQlyID0gMDsKKwkJaWYgKHN0YXR1cyAmIDIpCisJ
CQlicmVhazsKKworCQlEUk1fRVJST1IoIlZDTiBkZWNvZGUgbm90IHJlc3BvbmRpbmcsIHRyeWlu
ZyB0byByZXNldCB0aGUgVkNQVSEhIVxuIik7CisJCVdSRUczMl9QKFNPQzE1X1JFR19PRkZTRVQo
VVZELCAwLCBtbVVWRF9TT0ZUX1JFU0VUKSwKKwkJCVVWRF9TT0ZUX1JFU0VUX19WQ1BVX1NPRlRf
UkVTRVRfTUFTSywKKwkJCX5VVkRfU09GVF9SRVNFVF9fVkNQVV9TT0ZUX1JFU0VUX01BU0spOwor
CQltZGVsYXkoMTApOworCQlXUkVHMzJfUChTT0MxNV9SRUdfT0ZGU0VUKFVWRCwgMCwgbW1VVkRf
U09GVF9SRVNFVCksIDAsCisJCQl+VVZEX1NPRlRfUkVTRVRfX1ZDUFVfU09GVF9SRVNFVF9NQVNL
KTsKKwkJbWRlbGF5KDEwKTsKKwkJciA9IC0xOworCX0KKworCWlmIChyKSB7CisJCURSTV9FUlJP
UigiVkNOIGRlY29kZSBub3QgcmVzcG9uZGluZywgZ2l2aW5nIHVwISEhXG4iKTsKKwkJcmV0dXJu
IHI7CisJfQorCisJLyogZW5hYmxlIG1hc3RlciBpbnRlcnJ1cHQgKi8KKwlXUkVHMzJfUChTT0Mx
NV9SRUdfT0ZGU0VUKFVWRCwgMCwgbW1VVkRfTUFTVElOVF9FTiksCisJCVVWRF9NQVNUSU5UX0VO
X19WQ1BVX0VOX01BU0ssCisJCX5VVkRfTUFTVElOVF9FTl9fVkNQVV9FTl9NQVNLKTsKKworCS8q
IGNsZWFyIHRoZSBidXN5IGJpdCBvZiBWQ05fU1RBVFVTICovCisJV1JFRzMyX1AoU09DMTVfUkVH
X09GRlNFVChVVkQsIDAsIG1tVVZEX1NUQVRVUyksIDAsCisJCX4oMiA8PCBVVkRfU1RBVFVTX19W
Q1BVX1JFUE9SVF9fU0hJRlQpKTsKKworCVdSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX0xNSV9S
QkNfUkJfVk1JRCwgMCk7CisKKwkvKiBmb3JjZSBSQkMgaW50byBpZGxlIHN0YXRlICovCisJcmJf
YnVmc3ogPSBvcmRlcl9iYXNlXzIocmluZy0+cmluZ19zaXplKTsKKwl0bXAgPSBSRUdfU0VUX0ZJ
RUxEKDAsIFVWRF9SQkNfUkJfQ05UTCwgUkJfQlVGU1osIHJiX2J1ZnN6KTsKKwl0bXAgPSBSRUdf
U0VUX0ZJRUxEKHRtcCwgVVZEX1JCQ19SQl9DTlRMLCBSQl9CTEtTWiwgMSk7CisJdG1wID0gUkVH
X1NFVF9GSUVMRCh0bXAsIFVWRF9SQkNfUkJfQ05UTCwgUkJfTk9fRkVUQ0gsIDEpOworCXRtcCA9
IFJFR19TRVRfRklFTEQodG1wLCBVVkRfUkJDX1JCX0NOVEwsIFJCX05PX1VQREFURSwgMSk7CisJ
dG1wID0gUkVHX1NFVF9GSUVMRCh0bXAsIFVWRF9SQkNfUkJfQ05UTCwgUkJfUlBUUl9XUl9FTiwg
MSk7CisJV1JFRzMyX1NPQzE1KFVWRCwgMCwgbW1VVkRfUkJDX1JCX0NOVEwsIHRtcCk7CisKKwkv
KiBwcm9ncmFtbSB0aGUgUkJfQkFTRSBmb3IgcmluZyBidWZmZXIgKi8KKwlXUkVHMzJfU09DMTUo
VVZELCAwLCBtbVVWRF9MTUlfUkJDX1JCXzY0QklUX0JBUl9MT1csCisJCWxvd2VyXzMyX2JpdHMo
cmluZy0+Z3B1X2FkZHIpKTsKKwlXUkVHMzJfU09DMTUoVVZELCAwLCBtbVVWRF9MTUlfUkJDX1JC
XzY0QklUX0JBUl9ISUdILAorCQl1cHBlcl8zMl9iaXRzKHJpbmctPmdwdV9hZGRyKSk7CisKKwkv
KiBJbml0aWFsaXplIHRoZSByaW5nIGJ1ZmZlcidzIHJlYWQgYW5kIHdyaXRlIHBvaW50ZXJzICov
CisJV1JFRzMyX1NPQzE1KFVWRCwgMCwgbW1VVkRfUkJDX1JCX1JQVFIsIDApOworCisJcmluZy0+
d3B0ciA9IFJSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX1JCQ19SQl9SUFRSKTsKKwlXUkVHMzJf
U09DMTUoVVZELCAwLCBtbVVWRF9SQkNfUkJfV1BUUiwKKwkJCWxvd2VyXzMyX2JpdHMocmluZy0+
d3B0cikpOworCisJcmluZyA9ICZhZGV2LT52Y24ucmluZ19lbmNbMF07CisJV1JFRzMyX1NPQzE1
KFVWRCwgMCwgbW1VVkRfUkJfUlBUUiwgbG93ZXJfMzJfYml0cyhyaW5nLT53cHRyKSk7CisJV1JF
RzMyX1NPQzE1KFVWRCwgMCwgbW1VVkRfUkJfV1BUUiwgbG93ZXJfMzJfYml0cyhyaW5nLT53cHRy
KSk7CisJV1JFRzMyX1NPQzE1KFVWRCwgMCwgbW1VVkRfUkJfQkFTRV9MTywgcmluZy0+Z3B1X2Fk
ZHIpOworCVdSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX1JCX0JBU0VfSEksIHVwcGVyXzMyX2Jp
dHMocmluZy0+Z3B1X2FkZHIpKTsKKwlXUkVHMzJfU09DMTUoVVZELCAwLCBtbVVWRF9SQl9TSVpF
LCByaW5nLT5yaW5nX3NpemUgLyA0KTsKKworCXJpbmcgPSAmYWRldi0+dmNuLnJpbmdfZW5jWzFd
OworCVdSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX1JCX1JQVFIyLCBsb3dlcl8zMl9iaXRzKHJp
bmctPndwdHIpKTsKKwlXUkVHMzJfU09DMTUoVVZELCAwLCBtbVVWRF9SQl9XUFRSMiwgbG93ZXJf
MzJfYml0cyhyaW5nLT53cHRyKSk7CisJV1JFRzMyX1NPQzE1KFVWRCwgMCwgbW1VVkRfUkJfQkFT
RV9MTzIsIHJpbmctPmdwdV9hZGRyKTsKKwlXUkVHMzJfU09DMTUoVVZELCAwLCBtbVVWRF9SQl9C
QVNFX0hJMiwgdXBwZXJfMzJfYml0cyhyaW5nLT5ncHVfYWRkcikpOworCVdSRUczMl9TT0MxNShV
VkQsIDAsIG1tVVZEX1JCX1NJWkUyLCByaW5nLT5yaW5nX3NpemUgLyA0KTsKKworCXIgPSBqcGVn
X3YyXzBfc3RhcnQoYWRldik7CisKKwlyZXR1cm4gcjsKK30KKworc3RhdGljIGludCB2Y25fdjJf
MF9zdG9wKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQoreworCXVpbnQzMl90IHRtcDsKKwlp
bnQgcjsKKworCXIgPSBqcGVnX3YyXzBfc3RvcChhZGV2KTsKKwlpZiAocikKKwkJcmV0dXJuIHI7
CisJLyogd2FpdCBmb3IgdXZkIGlkbGUgKi8KKwlTT0MxNV9XQUlUX09OX1JSRUcoVkNOLCAwLCBt
bVVWRF9TVEFUVVMsIFVWRF9TVEFUVVNfX0lETEUsIDB4Nywgcik7CisJaWYgKHIpCisJCXJldHVy
biByOworCisJdG1wID0gVVZEX0xNSV9TVEFUVVNfX1ZDUFVfTE1JX1dSSVRFX0NMRUFOX01BU0sg
fAorCQlVVkRfTE1JX1NUQVRVU19fUkVBRF9DTEVBTl9NQVNLIHwKKwkJVVZEX0xNSV9TVEFUVVNf
X1dSSVRFX0NMRUFOX01BU0sgfAorCQlVVkRfTE1JX1NUQVRVU19fV1JJVEVfQ0xFQU5fUkFXX01B
U0s7CisJU09DMTVfV0FJVF9PTl9SUkVHKFZDTiwgMCwgbW1VVkRfTE1JX1NUQVRVUywgdG1wLCB0
bXAsIHIpOworCWlmIChyKQorCQlyZXR1cm4gcjsKKworCS8qIHN0YWxsIFVNQyBjaGFubmVsICov
CisJdG1wID0gUlJFRzMyX1NPQzE1KFZDTiwgMCwgbW1VVkRfTE1JX0NUUkwyKTsKKwl0bXAgfD0g
VVZEX0xNSV9DVFJMMl9fU1RBTExfQVJCX1VNQ19NQVNLOworCVdSRUczMl9TT0MxNShWQ04sIDAs
IG1tVVZEX0xNSV9DVFJMMiwgdG1wKTsKKworCXRtcCA9IFVWRF9MTUlfU1RBVFVTX19VTUNfUkVB
RF9DTEVBTl9SQVdfTUFTS3wKKwkJVVZEX0xNSV9TVEFUVVNfX1VNQ19XUklURV9DTEVBTl9SQVdf
TUFTSzsKKwlTT0MxNV9XQUlUX09OX1JSRUcoVkNOLCAwLCBtbVVWRF9MTUlfU1RBVFVTLCB0bXAs
IHRtcCwgcik7CisJaWYgKHIpCisJCXJldHVybiByOworCisJLyogZGlzYWJsZSBWQ1BVIGNsb2Nr
ICovCisJV1JFRzMyX1AoU09DMTVfUkVHX09GRlNFVChVVkQsIDAsIG1tVVZEX1ZDUFVfQ05UTCks
IDAsCisJCX4oVVZEX1ZDUFVfQ05UTF9fQ0xLX0VOX01BU0spKTsKKworCS8qIHJlc2V0IExNSSBV
TUMgKi8KKwlXUkVHMzJfUChTT0MxNV9SRUdfT0ZGU0VUKFVWRCwgMCwgbW1VVkRfU09GVF9SRVNF
VCksCisJCVVWRF9TT0ZUX1JFU0VUX19MTUlfVU1DX1NPRlRfUkVTRVRfTUFTSywKKwkJflVWRF9T
T0ZUX1JFU0VUX19MTUlfVU1DX1NPRlRfUkVTRVRfTUFTSyk7CisKKwkvKiByZXNldCBMTUkgKi8K
KwlXUkVHMzJfUChTT0MxNV9SRUdfT0ZGU0VUKFVWRCwgMCwgbW1VVkRfU09GVF9SRVNFVCksCisJ
CVVWRF9TT0ZUX1JFU0VUX19MTUlfU09GVF9SRVNFVF9NQVNLLAorCQl+VVZEX1NPRlRfUkVTRVRf
X0xNSV9TT0ZUX1JFU0VUX01BU0spOworCisJLyogcmVzZXQgVkNQVSAqLworCVdSRUczMl9QKFNP
QzE1X1JFR19PRkZTRVQoVVZELCAwLCBtbVVWRF9TT0ZUX1JFU0VUKSwKKwkJVVZEX1NPRlRfUkVT
RVRfX1ZDUFVfU09GVF9SRVNFVF9NQVNLLAorCQl+VVZEX1NPRlRfUkVTRVRfX1ZDUFVfU09GVF9S
RVNFVF9NQVNLKTsKKworCS8qIGNsZWFyIHN0YXR1cyAqLworCVdSRUczMl9TT0MxNShWQ04sIDAs
IG1tVVZEX1NUQVRVUywgMCk7CisKKwl2Y25fdjJfMF9lbmFibGVfY2xvY2tfZ2F0aW5nKGFkZXYp
OworCXZjbl92Ml8wX2VuYWJsZV9zdGF0aWNfcG93ZXJfZ2F0aW5nKGFkZXYpOworCisJcmV0dXJu
IDA7Cit9CisKK3N0YXRpYyBib29sIHZjbl92Ml8wX2lzX2lkbGUodm9pZCAqaGFuZGxlKQorewor
CXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gKHN0cnVjdCBhbWRncHVfZGV2aWNlICopaGFu
ZGxlOworCisJcmV0dXJuIChSUkVHMzJfU09DMTUoVkNOLCAwLCBtbVVWRF9TVEFUVVMpID09IFVW
RF9TVEFUVVNfX0lETEUpOworfQorCitzdGF0aWMgaW50IHZjbl92Ml8wX3dhaXRfZm9yX2lkbGUo
dm9pZCAqaGFuZGxlKQoreworCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gKHN0cnVjdCBh
bWRncHVfZGV2aWNlICopaGFuZGxlOworCWludCByZXQgPSAwOworCisJU09DMTVfV0FJVF9PTl9S
UkVHKFZDTiwgMCwgbW1VVkRfU1RBVFVTLCBVVkRfU1RBVFVTX19JRExFLAorCQlVVkRfU1RBVFVT
X19JRExFLCByZXQpOworCisJcmV0dXJuIHJldDsKK30KKworc3RhdGljIGludCB2Y25fdjJfMF9z
ZXRfY2xvY2tnYXRpbmdfc3RhdGUodm9pZCAqaGFuZGxlLAorCQkJCQkgIGVudW0gYW1kX2Nsb2Nr
Z2F0aW5nX3N0YXRlIHN0YXRlKQoreworCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gKHN0
cnVjdCBhbWRncHVfZGV2aWNlICopaGFuZGxlOworCWJvb2wgZW5hYmxlID0gKHN0YXRlID09IEFN
RF9DR19TVEFURV9HQVRFKSA/IHRydWUgOiBmYWxzZTsKKworCWlmIChlbmFibGUpIHsKKwkJLyog
d2FpdCBmb3IgU1RBVFVTIHRvIGNsZWFyICovCisJCWlmICh2Y25fdjJfMF9pc19pZGxlKGhhbmRs
ZSkpCisJCQlyZXR1cm4gLUVCVVNZOworCQl2Y25fdjJfMF9lbmFibGVfY2xvY2tfZ2F0aW5nKGFk
ZXYpOworCX0gZWxzZSB7CisJCS8qIGRpc2FibGUgSFcgZ2F0aW5nIGFuZCBlbmFibGUgU3cgZ2F0
aW5nICovCisJCXZjbl92Ml8wX2Rpc2FibGVfY2xvY2tfZ2F0aW5nKGFkZXYpOworCX0KKwlyZXR1
cm4gMDsKK30KKworLyoqCisgKiB2Y25fdjJfMF9kZWNfcmluZ19nZXRfcnB0ciAtIGdldCByZWFk
IHBvaW50ZXIKKyAqCisgKiBAcmluZzogYW1kZ3B1X3JpbmcgcG9pbnRlcgorICoKKyAqIFJldHVy
bnMgdGhlIGN1cnJlbnQgaGFyZHdhcmUgcmVhZCBwb2ludGVyCisgKi8KK3N0YXRpYyB1aW50NjRf
dCB2Y25fdjJfMF9kZWNfcmluZ19nZXRfcnB0cihzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcpCit7
CisJc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSByaW5nLT5hZGV2OworCisJcmV0dXJuIFJS
RUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX1JCQ19SQl9SUFRSKTsKK30KKworLyoqCisgKiB2Y25f
djJfMF9kZWNfcmluZ19nZXRfd3B0ciAtIGdldCB3cml0ZSBwb2ludGVyCisgKgorICogQHJpbmc6
IGFtZGdwdV9yaW5nIHBvaW50ZXIKKyAqCisgKiBSZXR1cm5zIHRoZSBjdXJyZW50IGhhcmR3YXJl
IHdyaXRlIHBvaW50ZXIKKyAqLworc3RhdGljIHVpbnQ2NF90IHZjbl92Ml8wX2RlY19yaW5nX2dl
dF93cHRyKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZykKK3sKKwlzdHJ1Y3QgYW1kZ3B1X2Rldmlj
ZSAqYWRldiA9IHJpbmctPmFkZXY7CisKKwlpZiAocmluZy0+dXNlX2Rvb3JiZWxsKQorCQlyZXR1
cm4gYWRldi0+d2Iud2JbcmluZy0+d3B0cl9vZmZzXTsKKwllbHNlCisJCXJldHVybiBSUkVHMzJf
U09DMTUoVVZELCAwLCBtbVVWRF9SQkNfUkJfV1BUUik7Cit9CisKKy8qKgorICogdmNuX3YyXzBf
ZGVjX3Jpbmdfc2V0X3dwdHIgLSBzZXQgd3JpdGUgcG9pbnRlcgorICoKKyAqIEByaW5nOiBhbWRn
cHVfcmluZyBwb2ludGVyCisgKgorICogQ29tbWl0cyB0aGUgd3JpdGUgcG9pbnRlciB0byB0aGUg
aGFyZHdhcmUKKyAqLworc3RhdGljIHZvaWQgdmNuX3YyXzBfZGVjX3Jpbmdfc2V0X3dwdHIoc3Ry
dWN0IGFtZGdwdV9yaW5nICpyaW5nKQoreworCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0g
cmluZy0+YWRldjsKKworCWlmIChyaW5nLT51c2VfZG9vcmJlbGwpIHsKKwkJYWRldi0+d2Iud2Jb
cmluZy0+d3B0cl9vZmZzXSA9IGxvd2VyXzMyX2JpdHMocmluZy0+d3B0cik7CisJCVdET09SQkVM
TDMyKHJpbmctPmRvb3JiZWxsX2luZGV4LCBsb3dlcl8zMl9iaXRzKHJpbmctPndwdHIpKTsKKwl9
IGVsc2UgeworCQlXUkVHMzJfU09DMTUoVVZELCAwLCBtbVVWRF9SQkNfUkJfV1BUUiwgbG93ZXJf
MzJfYml0cyhyaW5nLT53cHRyKSk7CisJfQorfQorCisvKioKKyAqIHZjbl92Ml8wX2RlY19yaW5n
X2luc2VydF9zdGFydCAtIGluc2VydCBhIHN0YXJ0IGNvbW1hbmQKKyAqCisgKiBAcmluZzogYW1k
Z3B1X3JpbmcgcG9pbnRlcgorICoKKyAqIFdyaXRlIGEgc3RhcnQgY29tbWFuZCB0byB0aGUgcmlu
Zy4KKyAqLworc3RhdGljIHZvaWQgdmNuX3YyXzBfZGVjX3JpbmdfaW5zZXJ0X3N0YXJ0KHN0cnVj
dCBhbWRncHVfcmluZyAqcmluZykKK3sKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLCBQQUNLRVQw
KG1tVVZEX0dQQ09NX1ZDUFVfREFUQTBfSU5URVJOQUxfT0ZGU0VULCAwKSk7CisJYW1kZ3B1X3Jp
bmdfd3JpdGUocmluZywgMCk7CisJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgUEFDS0VUMChtbVVW
RF9HUENPTV9WQ1BVX0NNRF9JTlRFUk5BTF9PRkZTRVQsIDApKTsKKwlhbWRncHVfcmluZ193cml0
ZShyaW5nLCBWQ05fREVDX0NNRF9QQUNLRVRfU1RBUlQgPDwgMSk7Cit9CisKKy8qKgorICogdmNu
X3YyXzBfZGVjX3JpbmdfaW5zZXJ0X2VuZCAtIGluc2VydCBhIGVuZCBjb21tYW5kCisgKgorICog
QHJpbmc6IGFtZGdwdV9yaW5nIHBvaW50ZXIKKyAqCisgKiBXcml0ZSBhIGVuZCBjb21tYW5kIHRv
IHRoZSByaW5nLgorICovCitzdGF0aWMgdm9pZCB2Y25fdjJfMF9kZWNfcmluZ19pbnNlcnRfZW5k
KHN0cnVjdCBhbWRncHVfcmluZyAqcmluZykKK3sKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLCBQ
QUNLRVQwKG1tVVZEX0dQQ09NX1ZDUFVfQ01EX0lOVEVSTkFMX09GRlNFVCwgMCkpOworCWFtZGdw
dV9yaW5nX3dyaXRlKHJpbmcsIFZDTl9ERUNfQ01EX1BBQ0tFVF9FTkQgPDwgMSk7Cit9CisKKy8q
KgorICogdmNuX3YyXzBfZGVjX3JpbmdfaW5zZXJ0X25vcCAtIGluc2VydCBhIG5vcCBjb21tYW5k
CisgKgorICogQHJpbmc6IGFtZGdwdV9yaW5nIHBvaW50ZXIKKyAqCisgKiBXcml0ZSBhIG5vcCBj
b21tYW5kIHRvIHRoZSByaW5nLgorICovCitzdGF0aWMgdm9pZCB2Y25fdjJfMF9kZWNfcmluZ19p
bnNlcnRfbm9wKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywgdWludDMyX3QgY291bnQpCit7CisJ
aW50IGk7CisKKwlXQVJOX09OKHJpbmctPndwdHIgJSAyIHx8IGNvdW50ICUgMik7CisKKwlmb3Ig
KGkgPSAwOyBpIDwgY291bnQgLyAyOyBpKyspIHsKKwkJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywg
UEFDS0VUMChtbVVWRF9OT19PUF9JTlRFUk5BTF9PRkZTRVQsIDApKTsKKwkJYW1kZ3B1X3Jpbmdf
d3JpdGUocmluZywgMCk7CisJfQorfQorCisvKioKKyAqIHZjbl92Ml8wX2RlY19yaW5nX2VtaXRf
ZmVuY2UgLSBlbWl0IGFuIGZlbmNlICYgdHJhcCBjb21tYW5kCisgKgorICogQHJpbmc6IGFtZGdw
dV9yaW5nIHBvaW50ZXIKKyAqIEBmZW5jZTogZmVuY2UgdG8gZW1pdAorICoKKyAqIFdyaXRlIGEg
ZmVuY2UgYW5kIGEgdHJhcCBjb21tYW5kIHRvIHRoZSByaW5nLgorICovCitzdGF0aWMgdm9pZCB2
Y25fdjJfMF9kZWNfcmluZ19lbWl0X2ZlbmNlKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywgdTY0
IGFkZHIsIHU2NCBzZXEsCisJCQkJICAgICB1bnNpZ25lZCBmbGFncykKK3sKKwlXQVJOX09OKGZs
YWdzICYgQU1ER1BVX0ZFTkNFX0ZMQUdfNjRCSVQpOworCisJYW1kZ3B1X3Jpbmdfd3JpdGUocmlu
ZywgUEFDS0VUMChtbVVWRF9DT05URVhUX0lEX0lOVEVSTkFMX09GRlNFVCwgMCkpOworCWFtZGdw
dV9yaW5nX3dyaXRlKHJpbmcsIHNlcSk7CisKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLCBQQUNL
RVQwKG1tVVZEX0dQQ09NX1ZDUFVfREFUQTBfSU5URVJOQUxfT0ZGU0VULCAwKSk7CisJYW1kZ3B1
X3Jpbmdfd3JpdGUocmluZywgYWRkciAmIDB4ZmZmZmZmZmYpOworCisJYW1kZ3B1X3Jpbmdfd3Jp
dGUocmluZywgUEFDS0VUMChtbVVWRF9HUENPTV9WQ1BVX0RBVEExX0lOVEVSTkFMX09GRlNFVCwg
MCkpOworCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIHVwcGVyXzMyX2JpdHMoYWRkcikgJiAweGZm
KTsKKworCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIFBBQ0tFVDAobW1VVkRfR1BDT01fVkNQVV9D
TURfSU5URVJOQUxfT0ZGU0VULCAwKSk7CisJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgVkNOX0RF
Q19DTURfRkVOQ0UgPDwgMSk7CisKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLCBQQUNLRVQwKG1t
VVZEX0dQQ09NX1ZDUFVfREFUQTBfSU5URVJOQUxfT0ZGU0VULCAwKSk7CisJYW1kZ3B1X3Jpbmdf
d3JpdGUocmluZywgMCk7CisKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLCBQQUNLRVQwKG1tVVZE
X0dQQ09NX1ZDUFVfREFUQTFfSU5URVJOQUxfT0ZGU0VULCAwKSk7CisJYW1kZ3B1X3Jpbmdfd3Jp
dGUocmluZywgMCk7CisKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLCBQQUNLRVQwKG1tVVZEX0dQ
Q09NX1ZDUFVfQ01EX0lOVEVSTkFMX09GRlNFVCwgMCkpOworCisJYW1kZ3B1X3Jpbmdfd3JpdGUo
cmluZywgVkNOX0RFQ19DTURfVFJBUCA8PCAxKTsKK30KKworLyoqCisgKiB2Y25fdjJfMF9kZWNf
cmluZ19lbWl0X2liIC0gZXhlY3V0ZSBpbmRpcmVjdCBidWZmZXIKKyAqCisgKiBAcmluZzogYW1k
Z3B1X3JpbmcgcG9pbnRlcgorICogQGliOiBpbmRpcmVjdCBidWZmZXIgdG8gZXhlY3V0ZQorICoK
KyAqIFdyaXRlIHJpbmcgY29tbWFuZHMgdG8gZXhlY3V0ZSB0aGUgaW5kaXJlY3QgYnVmZmVyCisg
Ki8KK3N0YXRpYyB2b2lkIHZjbl92Ml8wX2RlY19yaW5nX2VtaXRfaWIoc3RydWN0IGFtZGdwdV9y
aW5nICpyaW5nLAorCQkJCSAgICAgIHN0cnVjdCBhbWRncHVfam9iICpqb2IsCisJCQkJICAgICAg
c3RydWN0IGFtZGdwdV9pYiAqaWIsCisJCQkJICAgICAgdWludDMyX3QgZmxhZ3MpCit7CisJdW5z
aWduZWQgdm1pZCA9IEFNREdQVV9KT0JfR0VUX1ZNSUQoam9iKTsKKworCWFtZGdwdV9yaW5nX3dy
aXRlKHJpbmcsIFBBQ0tFVDAobW1VVkRfTE1JX1JCQ19JQl9WTUlEX0lOVEVSTkFMX09GRlNFVCwg
MCkpOworCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIHZtaWQpOworCisJYW1kZ3B1X3Jpbmdfd3Jp
dGUocmluZywJUEFDS0VUMChtbVVWRF9MTUlfUkJDX0lCXzY0QklUX0JBUl9MT1dfSU5URVJOQUxf
T0ZGU0VULCAwKSk7CisJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgbG93ZXJfMzJfYml0cyhpYi0+
Z3B1X2FkZHIpKTsKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLAlQQUNLRVQwKG1tVVZEX0xNSV9S
QkNfSUJfNjRCSVRfQkFSX0hJR0hfSU5URVJOQUxfT0ZGU0VULCAwKSk7CisJYW1kZ3B1X3Jpbmdf
d3JpdGUocmluZywgdXBwZXJfMzJfYml0cyhpYi0+Z3B1X2FkZHIpKTsKKwlhbWRncHVfcmluZ193
cml0ZShyaW5nLAlQQUNLRVQwKG1tVVZEX1JCQ19JQl9TSVpFX0lOVEVSTkFMX09GRlNFVCwgMCkp
OworCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIGliLT5sZW5ndGhfZHcpOworfQorCitzdGF0aWMg
dm9pZCB2Y25fdjJfMF9kZWNfcmluZ19lbWl0X3JlZ193YWl0KHN0cnVjdCBhbWRncHVfcmluZyAq
cmluZywKKwkJCQkJICAgIHVpbnQzMl90IHJlZywgdWludDMyX3QgdmFsLAorCQkJCQkgICAgdWlu
dDMyX3QgbWFzaykKK3sKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLCBQQUNLRVQwKG1tVVZEX0dQ
Q09NX1ZDUFVfREFUQTBfSU5URVJOQUxfT0ZGU0VULCAwKSk7CisJYW1kZ3B1X3Jpbmdfd3JpdGUo
cmluZywgcmVnIDw8IDIpOworCisJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgUEFDS0VUMChtbVVW
RF9HUENPTV9WQ1BVX0RBVEExX0lOVEVSTkFMX09GRlNFVCwgMCkpOworCWFtZGdwdV9yaW5nX3dy
aXRlKHJpbmcsIHZhbCk7CisKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLCBQQUNLRVQwKG1tVVZE
X0dQX1NDUkFUQ0g4X0lOVEVSTkFMX09GRlNFVCwgMCkpOworCWFtZGdwdV9yaW5nX3dyaXRlKHJp
bmcsIG1hc2spOworCisJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgUEFDS0VUMChtbVVWRF9HUENP
TV9WQ1BVX0NNRF9JTlRFUk5BTF9PRkZTRVQsIDApKTsKKworCWFtZGdwdV9yaW5nX3dyaXRlKHJp
bmcsIFZDTl9ERUNfQ01EX1JFR19SRUFEX0NPTkRfV0FJVCA8PCAxKTsKK30KKworc3RhdGljIHZv
aWQgdmNuX3YyXzBfZGVjX3JpbmdfZW1pdF92bV9mbHVzaChzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJp
bmcsCisJCQkJCSAgICB1bnNpZ25lZCB2bWlkLCB1aW50NjRfdCBwZF9hZGRyKQoreworCXN0cnVj
dCBhbWRncHVfdm1odWIgKmh1YiA9ICZyaW5nLT5hZGV2LT52bWh1YltyaW5nLT5mdW5jcy0+dm1o
dWJdOworCXVpbnQzMl90IGRhdGEwLCBkYXRhMSwgbWFzazsKKworCXBkX2FkZHIgPSBhbWRncHVf
Z21jX2VtaXRfZmx1c2hfZ3B1X3RsYihyaW5nLCB2bWlkLCBwZF9hZGRyKTsKKworCS8qIHdhaXQg
Zm9yIHJlZ2lzdGVyIHdyaXRlICovCisJZGF0YTAgPSBodWItPmN0eDBfcHRiX2FkZHJfbG8zMiAr
IHZtaWQgKiAyOworCWRhdGExID0gbG93ZXJfMzJfYml0cyhwZF9hZGRyKTsKKwltYXNrID0gMHhm
ZmZmZmZmZjsKKwl2Y25fdjJfMF9kZWNfcmluZ19lbWl0X3JlZ193YWl0KHJpbmcsIGRhdGEwLCBk
YXRhMSwgbWFzayk7Cit9CisKK3N0YXRpYyB2b2lkIHZjbl92Ml8wX2RlY19yaW5nX2VtaXRfd3Jl
ZyhzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsCisJCQkJCXVpbnQzMl90IHJlZywgdWludDMyX3Qg
dmFsKQoreworCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIFBBQ0tFVDAobW1VVkRfR1BDT01fVkNQ
VV9EQVRBMF9JTlRFUk5BTF9PRkZTRVQsIDApKTsKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLCBy
ZWcgPDwgMik7CisKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLCBQQUNLRVQwKG1tVVZEX0dQQ09N
X1ZDUFVfREFUQTFfSU5URVJOQUxfT0ZGU0VULCAwKSk7CisJYW1kZ3B1X3Jpbmdfd3JpdGUocmlu
ZywgdmFsKTsKKworCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIFBBQ0tFVDAobW1VVkRfR1BDT01f
VkNQVV9DTURfSU5URVJOQUxfT0ZGU0VULCAwKSk7CisKKwlhbWRncHVfcmluZ193cml0ZShyaW5n
LCBWQ05fREVDX0NNRF9XUklURV9SRUcgPDwgMSk7Cit9CisKKy8qKgorICogdmNuX3YyXzBfZW5j
X3JpbmdfZ2V0X3JwdHIgLSBnZXQgZW5jIHJlYWQgcG9pbnRlcgorICoKKyAqIEByaW5nOiBhbWRn
cHVfcmluZyBwb2ludGVyCisgKgorICogUmV0dXJucyB0aGUgY3VycmVudCBoYXJkd2FyZSBlbmMg
cmVhZCBwb2ludGVyCisgKi8KK3N0YXRpYyB1aW50NjRfdCB2Y25fdjJfMF9lbmNfcmluZ19nZXRf
cnB0cihzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcpCit7CisJc3RydWN0IGFtZGdwdV9kZXZpY2Ug
KmFkZXYgPSByaW5nLT5hZGV2OworCisJaWYgKHJpbmcgPT0gJmFkZXYtPnZjbi5yaW5nX2VuY1sw
XSkKKwkJcmV0dXJuIFJSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX1JCX1JQVFIpOworCWVsc2UK
KwkJcmV0dXJuIFJSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX1JCX1JQVFIyKTsKK30KKworIC8q
KgorICogdmNuX3YyXzBfZW5jX3JpbmdfZ2V0X3dwdHIgLSBnZXQgZW5jIHdyaXRlIHBvaW50ZXIK
KyAqCisgKiBAcmluZzogYW1kZ3B1X3JpbmcgcG9pbnRlcgorICoKKyAqIFJldHVybnMgdGhlIGN1
cnJlbnQgaGFyZHdhcmUgZW5jIHdyaXRlIHBvaW50ZXIKKyAqLworc3RhdGljIHVpbnQ2NF90IHZj
bl92Ml8wX2VuY19yaW5nX2dldF93cHRyKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZykKK3sKKwlz
dHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IHJpbmctPmFkZXY7CisKKwlpZiAocmluZyA9PSAm
YWRldi0+dmNuLnJpbmdfZW5jWzBdKSB7CisJCWlmIChyaW5nLT51c2VfZG9vcmJlbGwpCisJCQly
ZXR1cm4gYWRldi0+d2Iud2JbcmluZy0+d3B0cl9vZmZzXTsKKwkJZWxzZQorCQkJcmV0dXJuIFJS
RUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX1JCX1dQVFIpOworCX0gZWxzZSB7CisJCWlmIChyaW5n
LT51c2VfZG9vcmJlbGwpCisJCQlyZXR1cm4gYWRldi0+d2Iud2JbcmluZy0+d3B0cl9vZmZzXTsK
KwkJZWxzZQorCQkJcmV0dXJuIFJSRUczMl9TT0MxNShVVkQsIDAsIG1tVVZEX1JCX1dQVFIyKTsK
Kwl9Cit9CisKKyAvKioKKyAqIHZjbl92Ml8wX2VuY19yaW5nX3NldF93cHRyIC0gc2V0IGVuYyB3
cml0ZSBwb2ludGVyCisgKgorICogQHJpbmc6IGFtZGdwdV9yaW5nIHBvaW50ZXIKKyAqCisgKiBD
b21taXRzIHRoZSBlbmMgd3JpdGUgcG9pbnRlciB0byB0aGUgaGFyZHdhcmUKKyAqLworc3RhdGlj
IHZvaWQgdmNuX3YyXzBfZW5jX3Jpbmdfc2V0X3dwdHIoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5n
KQoreworCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gcmluZy0+YWRldjsKKworCWlmIChy
aW5nID09ICZhZGV2LT52Y24ucmluZ19lbmNbMF0pIHsKKwkJaWYgKHJpbmctPnVzZV9kb29yYmVs
bCkgeworCQkJYWRldi0+d2Iud2JbcmluZy0+d3B0cl9vZmZzXSA9IGxvd2VyXzMyX2JpdHMocmlu
Zy0+d3B0cik7CisJCQlXRE9PUkJFTEwzMihyaW5nLT5kb29yYmVsbF9pbmRleCwgbG93ZXJfMzJf
Yml0cyhyaW5nLT53cHRyKSk7CisJCX0gZWxzZSB7CisJCQlXUkVHMzJfU09DMTUoVVZELCAwLCBt
bVVWRF9SQl9XUFRSLCBsb3dlcl8zMl9iaXRzKHJpbmctPndwdHIpKTsKKwkJfQorCX0gZWxzZSB7
CisJCWlmIChyaW5nLT51c2VfZG9vcmJlbGwpIHsKKwkJCWFkZXYtPndiLndiW3JpbmctPndwdHJf
b2Zmc10gPSBsb3dlcl8zMl9iaXRzKHJpbmctPndwdHIpOworCQkJV0RPT1JCRUxMMzIocmluZy0+
ZG9vcmJlbGxfaW5kZXgsIGxvd2VyXzMyX2JpdHMocmluZy0+d3B0cikpOworCQl9IGVsc2Ugewor
CQkJV1JFRzMyX1NPQzE1KFVWRCwgMCwgbW1VVkRfUkJfV1BUUjIsIGxvd2VyXzMyX2JpdHMocmlu
Zy0+d3B0cikpOworCQl9CisJfQorfQorCisvKioKKyAqIHZjbl92Ml8wX2VuY19yaW5nX2VtaXRf
ZmVuY2UgLSBlbWl0IGFuIGVuYyBmZW5jZSAmIHRyYXAgY29tbWFuZAorICoKKyAqIEByaW5nOiBh
bWRncHVfcmluZyBwb2ludGVyCisgKiBAZmVuY2U6IGZlbmNlIHRvIGVtaXQKKyAqCisgKiBXcml0
ZSBlbmMgYSBmZW5jZSBhbmQgYSB0cmFwIGNvbW1hbmQgdG8gdGhlIHJpbmcuCisgKi8KK3N0YXRp
YyB2b2lkIHZjbl92Ml8wX2VuY19yaW5nX2VtaXRfZmVuY2Uoc3RydWN0IGFtZGdwdV9yaW5nICpy
aW5nLCB1NjQgYWRkciwKKwkJCXU2NCBzZXEsIHVuc2lnbmVkIGZsYWdzKQoreworCVdBUk5fT04o
ZmxhZ3MgJiBBTURHUFVfRkVOQ0VfRkxBR182NEJJVCk7CisKKwlhbWRncHVfcmluZ193cml0ZShy
aW5nLCBWQ05fRU5DX0NNRF9GRU5DRSk7CisJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgYWRkcik7
CisJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgdXBwZXJfMzJfYml0cyhhZGRyKSk7CisJYW1kZ3B1
X3Jpbmdfd3JpdGUocmluZywgc2VxKTsKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLCBWQ05fRU5D
X0NNRF9UUkFQKTsKK30KKworc3RhdGljIHZvaWQgdmNuX3YyXzBfZW5jX3JpbmdfaW5zZXJ0X2Vu
ZChzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcpCit7CisJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywg
VkNOX0VOQ19DTURfRU5EKTsKK30KKworLyoqCisgKiB2Y25fdjJfMF9lbmNfcmluZ19lbWl0X2li
IC0gZW5jIGV4ZWN1dGUgaW5kaXJlY3QgYnVmZmVyCisgKgorICogQHJpbmc6IGFtZGdwdV9yaW5n
IHBvaW50ZXIKKyAqIEBpYjogaW5kaXJlY3QgYnVmZmVyIHRvIGV4ZWN1dGUKKyAqCisgKiBXcml0
ZSBlbmMgcmluZyBjb21tYW5kcyB0byBleGVjdXRlIHRoZSBpbmRpcmVjdCBidWZmZXIKKyAqLwor
c3RhdGljIHZvaWQgdmNuX3YyXzBfZW5jX3JpbmdfZW1pdF9pYihzdHJ1Y3QgYW1kZ3B1X3Jpbmcg
KnJpbmcsCisJCQkJICAgICAgc3RydWN0IGFtZGdwdV9qb2IgKmpvYiwKKwkJCQkgICAgICBzdHJ1
Y3QgYW1kZ3B1X2liICppYiwKKwkJCQkgICAgICB1aW50MzJfdCBmbGFncykKK3sKKwl1bnNpZ25l
ZCB2bWlkID0gQU1ER1BVX0pPQl9HRVRfVk1JRChqb2IpOworCisJYW1kZ3B1X3Jpbmdfd3JpdGUo
cmluZywgVkNOX0VOQ19DTURfSUIpOworCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIHZtaWQpOwor
CWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIGxvd2VyXzMyX2JpdHMoaWItPmdwdV9hZGRyKSk7CisJ
YW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgdXBwZXJfMzJfYml0cyhpYi0+Z3B1X2FkZHIpKTsKKwlh
bWRncHVfcmluZ193cml0ZShyaW5nLCBpYi0+bGVuZ3RoX2R3KTsKK30KKworc3RhdGljIHZvaWQg
dmNuX3YyXzBfZW5jX3JpbmdfZW1pdF9yZWdfd2FpdChzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcs
CisJCQkJCSAgICB1aW50MzJfdCByZWcsIHVpbnQzMl90IHZhbCwKKwkJCQkJICAgIHVpbnQzMl90
IG1hc2spCit7CisJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgVkNOX0VOQ19DTURfUkVHX1dBSVQp
OworCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIHJlZyA8PCAyKTsKKwlhbWRncHVfcmluZ193cml0
ZShyaW5nLCBtYXNrKTsKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLCB2YWwpOworfQorCitzdGF0
aWMgdm9pZCB2Y25fdjJfMF9lbmNfcmluZ19lbWl0X3ZtX2ZsdXNoKHN0cnVjdCBhbWRncHVfcmlu
ZyAqcmluZywKKwkJCQkJICAgIHVuc2lnbmVkIGludCB2bWlkLCB1aW50NjRfdCBwZF9hZGRyKQor
eworCXN0cnVjdCBhbWRncHVfdm1odWIgKmh1YiA9ICZyaW5nLT5hZGV2LT52bWh1YltyaW5nLT5m
dW5jcy0+dm1odWJdOworCisJcGRfYWRkciA9IGFtZGdwdV9nbWNfZW1pdF9mbHVzaF9ncHVfdGxi
KHJpbmcsIHZtaWQsIHBkX2FkZHIpOworCisJLyogd2FpdCBmb3IgcmVnIHdyaXRlcyAqLworCXZj
bl92Ml8wX2VuY19yaW5nX2VtaXRfcmVnX3dhaXQocmluZywgaHViLT5jdHgwX3B0Yl9hZGRyX2xv
MzIgKyB2bWlkICogMiwKKwkJCQkJbG93ZXJfMzJfYml0cyhwZF9hZGRyKSwgMHhmZmZmZmZmZik7
Cit9CisKK3N0YXRpYyB2b2lkIHZjbl92Ml8wX2VuY19yaW5nX2VtaXRfd3JlZyhzdHJ1Y3QgYW1k
Z3B1X3JpbmcgKnJpbmcsCisJCQkJCXVpbnQzMl90IHJlZywgdWludDMyX3QgdmFsKQoreworCWFt
ZGdwdV9yaW5nX3dyaXRlKHJpbmcsIFZDTl9FTkNfQ01EX1JFR19XUklURSk7CisJYW1kZ3B1X3Jp
bmdfd3JpdGUocmluZywJcmVnIDw8IDIpOworCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIHZhbCk7
Cit9CisKKy8qKgorICogdmNuX3YyXzBfanBlZ19yaW5nX2dldF9ycHRyIC0gZ2V0IHJlYWQgcG9p
bnRlcgorICoKKyAqIEByaW5nOiBhbWRncHVfcmluZyBwb2ludGVyCisgKgorICogUmV0dXJucyB0
aGUgY3VycmVudCBoYXJkd2FyZSByZWFkIHBvaW50ZXIKKyAqLworc3RhdGljIHVpbnQ2NF90IHZj
bl92Ml8wX2pwZWdfcmluZ19nZXRfcnB0cihzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcpCit7CisJ
c3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSByaW5nLT5hZGV2OworCisJcmV0dXJuIFJSRUcz
Ml9TT0MxNShVVkQsIDAsIG1tVVZEX0pSQkNfUkJfUlBUUik7Cit9CisKKy8qKgorICogdmNuX3Yy
XzBfanBlZ19yaW5nX2dldF93cHRyIC0gZ2V0IHdyaXRlIHBvaW50ZXIKKyAqCisgKiBAcmluZzog
YW1kZ3B1X3JpbmcgcG9pbnRlcgorICoKKyAqIFJldHVybnMgdGhlIGN1cnJlbnQgaGFyZHdhcmUg
d3JpdGUgcG9pbnRlcgorICovCitzdGF0aWMgdWludDY0X3QgdmNuX3YyXzBfanBlZ19yaW5nX2dl
dF93cHRyKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZykKK3sKKwlzdHJ1Y3QgYW1kZ3B1X2Rldmlj
ZSAqYWRldiA9IHJpbmctPmFkZXY7CisKKwlpZiAocmluZy0+dXNlX2Rvb3JiZWxsKQorCQlyZXR1
cm4gYWRldi0+d2Iud2JbcmluZy0+d3B0cl9vZmZzXTsKKwllbHNlCisJCXJldHVybiBSUkVHMzJf
U09DMTUoVVZELCAwLCBtbVVWRF9KUkJDX1JCX1dQVFIpOworfQorCisvKioKKyAqIHZjbl92Ml8w
X2pwZWdfcmluZ19zZXRfd3B0ciAtIHNldCB3cml0ZSBwb2ludGVyCisgKgorICogQHJpbmc6IGFt
ZGdwdV9yaW5nIHBvaW50ZXIKKyAqCisgKiBDb21taXRzIHRoZSB3cml0ZSBwb2ludGVyIHRvIHRo
ZSBoYXJkd2FyZQorICovCitzdGF0aWMgdm9pZCB2Y25fdjJfMF9qcGVnX3Jpbmdfc2V0X3dwdHIo
c3RydWN0IGFtZGdwdV9yaW5nICpyaW5nKQoreworCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2
ID0gcmluZy0+YWRldjsKKworCWlmIChyaW5nLT51c2VfZG9vcmJlbGwpIHsKKwkJYWRldi0+d2Iu
d2JbcmluZy0+d3B0cl9vZmZzXSA9IGxvd2VyXzMyX2JpdHMocmluZy0+d3B0cik7CisJCVdET09S
QkVMTDMyKHJpbmctPmRvb3JiZWxsX2luZGV4LCBsb3dlcl8zMl9iaXRzKHJpbmctPndwdHIpKTsK
Kwl9IGVsc2UgeworCQlXUkVHMzJfU09DMTUoVVZELCAwLCBtbVVWRF9KUkJDX1JCX1dQVFIsIGxv
d2VyXzMyX2JpdHMocmluZy0+d3B0cikpOworCX0KK30KKworLyoqCisgKiB2Y25fdjJfMF9qcGVn
X3JpbmdfaW5zZXJ0X3N0YXJ0IC0gaW5zZXJ0IGEgc3RhcnQgY29tbWFuZAorICoKKyAqIEByaW5n
OiBhbWRncHVfcmluZyBwb2ludGVyCisgKgorICogV3JpdGUgYSBzdGFydCBjb21tYW5kIHRvIHRo
ZSByaW5nLgorICovCitzdGF0aWMgdm9pZCB2Y25fdjJfMF9qcGVnX3JpbmdfaW5zZXJ0X3N0YXJ0
KHN0cnVjdCBhbWRncHVfcmluZyAqcmluZykKK3sKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLCBQ
QUNLRVRKKG1tVVZEX0pSQkNfRVhURVJOQUxfUkVHX0lOVEVSTkFMX09GRlNFVCwKKwkJMCwgMCwg
UEFDS0VUSl9UWVBFMCkpOworCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIDB4NjhlMDQpOworCisJ
YW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgUEFDS0VUSihKUkJDX0RFQ19FWFRFUk5BTF9SRUdfV1JJ
VEVfQUREUiwKKwkJMCwgMCwgUEFDS0VUSl9UWVBFMCkpOworCWFtZGdwdV9yaW5nX3dyaXRlKHJp
bmcsIDB4ODAwMTAwMDApOworfQorCisvKioKKyAqIHZjbl92Ml8wX2pwZWdfcmluZ19pbnNlcnRf
ZW5kIC0gaW5zZXJ0IGEgZW5kIGNvbW1hbmQKKyAqCisgKiBAcmluZzogYW1kZ3B1X3JpbmcgcG9p
bnRlcgorICoKKyAqIFdyaXRlIGEgZW5kIGNvbW1hbmQgdG8gdGhlIHJpbmcuCisgKi8KK3N0YXRp
YyB2b2lkIHZjbl92Ml8wX2pwZWdfcmluZ19pbnNlcnRfZW5kKHN0cnVjdCBhbWRncHVfcmluZyAq
cmluZykKK3sKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLCBQQUNLRVRKKG1tVVZEX0pSQkNfRVhU
RVJOQUxfUkVHX0lOVEVSTkFMX09GRlNFVCwKKwkJMCwgMCwgUEFDS0VUSl9UWVBFMCkpOworCWFt
ZGdwdV9yaW5nX3dyaXRlKHJpbmcsIDB4NjhlMDQpOworCisJYW1kZ3B1X3Jpbmdfd3JpdGUocmlu
ZywgUEFDS0VUSihKUkJDX0RFQ19FWFRFUk5BTF9SRUdfV1JJVEVfQUREUiwKKwkJMCwgMCwgUEFD
S0VUSl9UWVBFMCkpOworCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIDB4MDAwMTAwMDApOworfQor
CisvKioKKyAqIHZjbl92Ml8wX2pwZWdfcmluZ19lbWl0X2ZlbmNlIC0gZW1pdCBhbiBmZW5jZSAm
IHRyYXAgY29tbWFuZAorICoKKyAqIEByaW5nOiBhbWRncHVfcmluZyBwb2ludGVyCisgKiBAZmVu
Y2U6IGZlbmNlIHRvIGVtaXQKKyAqCisgKiBXcml0ZSBhIGZlbmNlIGFuZCBhIHRyYXAgY29tbWFu
ZCB0byB0aGUgcmluZy4KKyAqLworc3RhdGljIHZvaWQgdmNuX3YyXzBfanBlZ19yaW5nX2VtaXRf
ZmVuY2Uoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLCB1NjQgYWRkciwgdTY0IHNlcSwKKwkJCQkg
ICAgIHVuc2lnbmVkIGZsYWdzKQoreworCVdBUk5fT04oZmxhZ3MgJiBBTURHUFVfRkVOQ0VfRkxB
R182NEJJVCk7CisKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLCBQQUNLRVRKKG1tVVZEX0pQRUdf
R1BDT01fREFUQTBfSU5URVJOQUxfT0ZGU0VULAorCQkwLCAwLCBQQUNLRVRKX1RZUEUwKSk7CisJ
YW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgc2VxKTsKKworCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcs
CVBBQ0tFVEoobW1VVkRfSlBFR19HUENPTV9EQVRBMV9JTlRFUk5BTF9PRkZTRVQsCisJCTAsIDAs
IFBBQ0tFVEpfVFlQRTApKTsKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLCBzZXEpOworCisJYW1k
Z3B1X3Jpbmdfd3JpdGUocmluZywJUEFDS0VUSihtbVVWRF9MTUlfSlJCQ19SQl9NRU1fV1JfNjRC
SVRfQkFSX0xPV19JTlRFUk5BTF9PRkZTRVQsCisJCTAsIDAsIFBBQ0tFVEpfVFlQRTApKTsKKwlh
bWRncHVfcmluZ193cml0ZShyaW5nLCBsb3dlcl8zMl9iaXRzKGFkZHIpKTsKKworCWFtZGdwdV9y
aW5nX3dyaXRlKHJpbmcsCVBBQ0tFVEoobW1VVkRfTE1JX0pSQkNfUkJfTUVNX1dSXzY0QklUX0JB
Ul9ISUdIX0lOVEVSTkFMX09GRlNFVCwKKwkJMCwgMCwgUEFDS0VUSl9UWVBFMCkpOworCWFtZGdw
dV9yaW5nX3dyaXRlKHJpbmcsIHVwcGVyXzMyX2JpdHMoYWRkcikpOworCisJYW1kZ3B1X3Jpbmdf
d3JpdGUocmluZywJUEFDS0VUSihtbVVWRF9KUEVHX0dQQ09NX0NNRF9JTlRFUk5BTF9PRkZTRVQs
CisJCTAsIDAsIFBBQ0tFVEpfVFlQRTApKTsKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLCAweDgp
OworCisJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywJUEFDS0VUSihtbVVWRF9KUEVHX0dQQ09NX0NN
RF9JTlRFUk5BTF9PRkZTRVQsCisJCTAsIFBBQ0tFVEpfQ09ORElUSU9OX0NIRUNLMCwgUEFDS0VU
Sl9UWVBFNCkpOworCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIDApOworCisJYW1kZ3B1X3Jpbmdf
d3JpdGUocmluZywJUEFDS0VUSihtbVVWRF9KUkJDX0VYVEVSTkFMX1JFR19JTlRFUk5BTF9PRkZT
RVQsCisJCTAsIDAsIFBBQ0tFVEpfVFlQRTApKTsKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLCAw
eDNmYmMpOworCisJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgUEFDS0VUSihKUkJDX0RFQ19FWFRF
Uk5BTF9SRUdfV1JJVEVfQUREUiwKKwkJMCwgMCwgUEFDS0VUSl9UWVBFMCkpOworCWFtZGdwdV9y
aW5nX3dyaXRlKHJpbmcsIDB4MSk7CisKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLCBQQUNLRVRK
KDAsIDAsIDAsIFBBQ0tFVEpfVFlQRTcpKTsKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLCAwKTsK
K30KKworLyoqCisgKiB2Y25fdjJfMF9qcGVnX3JpbmdfZW1pdF9pYiAtIGV4ZWN1dGUgaW5kaXJl
Y3QgYnVmZmVyCisgKgorICogQHJpbmc6IGFtZGdwdV9yaW5nIHBvaW50ZXIKKyAqIEBpYjogaW5k
aXJlY3QgYnVmZmVyIHRvIGV4ZWN1dGUKKyAqCisgKiBXcml0ZSByaW5nIGNvbW1hbmRzIHRvIGV4
ZWN1dGUgdGhlIGluZGlyZWN0IGJ1ZmZlci4KKyAqLworc3RhdGljIHZvaWQgdmNuX3YyXzBfanBl
Z19yaW5nX2VtaXRfaWIoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLAorCQkJCSAgICAgICBzdHJ1
Y3QgYW1kZ3B1X2pvYiAqam9iLAorCQkJCSAgICAgICBzdHJ1Y3QgYW1kZ3B1X2liICppYiwKKwkJ
CQkgICAgICAgdWludDMyX3QgZmxhZ3MpCit7CisJdW5zaWduZWQgdm1pZCA9IEFNREdQVV9KT0Jf
R0VUX1ZNSUQoam9iKTsKKworCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIFBBQ0tFVEoobW1VVkRf
TE1JX0pSQkNfSUJfVk1JRF9JTlRFUk5BTF9PRkZTRVQsCisJCTAsIDAsIFBBQ0tFVEpfVFlQRTAp
KTsKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLCAodm1pZCB8ICh2bWlkIDw8IDQpKSk7CisKKwlh
bWRncHVfcmluZ193cml0ZShyaW5nLCBQQUNLRVRKKG1tVVZEX0xNSV9KUEVHX1ZNSURfSU5URVJO
QUxfT0ZGU0VULAorCQkwLCAwLCBQQUNLRVRKX1RZUEUwKSk7CisJYW1kZ3B1X3Jpbmdfd3JpdGUo
cmluZywgKHZtaWQgfCAodm1pZCA8PCA0KSkpOworCisJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywJ
UEFDS0VUSihtbVVWRF9MTUlfSlJCQ19JQl82NEJJVF9CQVJfTE9XX0lOVEVSTkFMX09GRlNFVCwK
KwkJMCwgMCwgUEFDS0VUSl9UWVBFMCkpOworCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIGxvd2Vy
XzMyX2JpdHMoaWItPmdwdV9hZGRyKSk7CisKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLAlQQUNL
RVRKKG1tVVZEX0xNSV9KUkJDX0lCXzY0QklUX0JBUl9ISUdIX0lOVEVSTkFMX09GRlNFVCwKKwkJ
MCwgMCwgUEFDS0VUSl9UWVBFMCkpOworCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIHVwcGVyXzMy
X2JpdHMoaWItPmdwdV9hZGRyKSk7CisKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLAlQQUNLRVRK
KG1tVVZEX0pSQkNfSUJfU0laRV9JTlRFUk5BTF9PRkZTRVQsCisJCTAsIDAsIFBBQ0tFVEpfVFlQ
RTApKTsKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLCBpYi0+bGVuZ3RoX2R3KTsKKworCWFtZGdw
dV9yaW5nX3dyaXRlKHJpbmcsCVBBQ0tFVEoobW1VVkRfTE1JX0pSQkNfUkJfTUVNX1JEXzY0QklU
X0JBUl9MT1dfSU5URVJOQUxfT0ZGU0VULAorCQkwLCAwLCBQQUNLRVRKX1RZUEUwKSk7CisJYW1k
Z3B1X3Jpbmdfd3JpdGUocmluZywgbG93ZXJfMzJfYml0cyhyaW5nLT5ncHVfYWRkcikpOworCisJ
YW1kZ3B1X3Jpbmdfd3JpdGUocmluZywJUEFDS0VUSihtbVVWRF9MTUlfSlJCQ19SQl9NRU1fUkRf
NjRCSVRfQkFSX0hJR0hfSU5URVJOQUxfT0ZGU0VULAorCQkwLCAwLCBQQUNLRVRKX1RZUEUwKSk7
CisJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgdXBwZXJfMzJfYml0cyhyaW5nLT5ncHVfYWRkcikp
OworCisJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywJUEFDS0VUSigwLCAwLCBQQUNLRVRKX0NPTkRJ
VElPTl9DSEVDSzAsIFBBQ0tFVEpfVFlQRTIpKTsKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLCAw
KTsKKworCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsCVBBQ0tFVEoobW1VVkRfSlJCQ19SQl9DT05E
X1JEX1RJTUVSX0lOVEVSTkFMX09GRlNFVCwKKwkJMCwgMCwgUEFDS0VUSl9UWVBFMCkpOworCWFt
ZGdwdV9yaW5nX3dyaXRlKHJpbmcsIDB4MDE0MDAyMDApOworCisJYW1kZ3B1X3Jpbmdfd3JpdGUo
cmluZywgUEFDS0VUSihtbVVWRF9KUkJDX1JCX1JFRl9EQVRBX0lOVEVSTkFMX09GRlNFVCwKKwkJ
MCwgMCwgUEFDS0VUSl9UWVBFMCkpOworCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIDB4Mik7CisK
KwlhbWRncHVfcmluZ193cml0ZShyaW5nLAlQQUNLRVRKKG1tVVZEX0pSQkNfU1RBVFVTX0lOVEVS
TkFMX09GRlNFVCwKKwkJMCwgUEFDS0VUSl9DT05ESVRJT05fQ0hFQ0szLCBQQUNLRVRKX1RZUEUz
KSk7CisJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgMHgyKTsKK30KKworc3RhdGljIHZvaWQgdmNu
X3YyXzBfanBlZ19yaW5nX2VtaXRfcmVnX3dhaXQoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLAor
CQkJCQkgICAgdWludDMyX3QgcmVnLCB1aW50MzJfdCB2YWwsCisJCQkJCSAgICB1aW50MzJfdCBt
YXNrKQoreworCXVpbnQzMl90IHJlZ19vZmZzZXQgPSAocmVnIDw8IDIpOworCisJYW1kZ3B1X3Jp
bmdfd3JpdGUocmluZywgUEFDS0VUSihtbVVWRF9KUkJDX1JCX0NPTkRfUkRfVElNRVJfSU5URVJO
QUxfT0ZGU0VULAorCQkwLCAwLCBQQUNLRVRKX1RZUEUwKSk7CisJYW1kZ3B1X3Jpbmdfd3JpdGUo
cmluZywgMHgwMTQwMDIwMCk7CisKKwlhbWRncHVfcmluZ193cml0ZShyaW5nLAlQQUNLRVRKKG1t
VVZEX0pSQkNfUkJfUkVGX0RBVEFfSU5URVJOQUxfT0ZGU0VULAorCQkwLCAwLCBQQUNLRVRKX1RZ
UEUwKSk7CisJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgdmFsKTsKKworCWFtZGdwdV9yaW5nX3dy
aXRlKHJpbmcsIFBBQ0tFVEoobW1VVkRfSlJCQ19FWFRFUk5BTF9SRUdfSU5URVJOQUxfT0ZGU0VU
LAorCQkwLCAwLCBQQUNLRVRKX1RZUEUwKSk7CisJaWYgKHJlZ19vZmZzZXQgPj0gMHgxMDAwMCAm
JiByZWdfb2Zmc2V0IDw9IDB4MTA1ZmYpIHsKKwkJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgMCk7
CisJCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsCisJCQlQQUNLRVRKKChyZWdfb2Zmc2V0ID4+IDIp
LCAwLCAwLCBQQUNLRVRKX1RZUEUzKSk7CisJfSBlbHNlIHsKKwkJYW1kZ3B1X3Jpbmdfd3JpdGUo
cmluZywgcmVnX29mZnNldCk7CisJCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsCVBBQ0tFVEooSlJC
Q19ERUNfRVhURVJOQUxfUkVHX1dSSVRFX0FERFIsCisJCQkwLCAwLCBQQUNLRVRKX1RZUEUzKSk7
CisJfQorCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIG1hc2spOworfQorCitzdGF0aWMgdm9pZCB2
Y25fdjJfMF9qcGVnX3JpbmdfZW1pdF92bV9mbHVzaChzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcs
CisJCXVuc2lnbmVkIHZtaWQsIHVpbnQ2NF90IHBkX2FkZHIpCit7CisJc3RydWN0IGFtZGdwdV92
bWh1YiAqaHViID0gJnJpbmctPmFkZXYtPnZtaHViW3JpbmctPmZ1bmNzLT52bWh1Yl07CisJdWlu
dDMyX3QgZGF0YTAsIGRhdGExLCBtYXNrOworCisJcGRfYWRkciA9IGFtZGdwdV9nbWNfZW1pdF9m
bHVzaF9ncHVfdGxiKHJpbmcsIHZtaWQsIHBkX2FkZHIpOworCisJLyogd2FpdCBmb3IgcmVnaXN0
ZXIgd3JpdGUgKi8KKwlkYXRhMCA9IGh1Yi0+Y3R4MF9wdGJfYWRkcl9sbzMyICsgdm1pZCAqIDI7
CisJZGF0YTEgPSBsb3dlcl8zMl9iaXRzKHBkX2FkZHIpOworCW1hc2sgPSAweGZmZmZmZmZmOwor
CXZjbl92Ml8wX2pwZWdfcmluZ19lbWl0X3JlZ193YWl0KHJpbmcsIGRhdGEwLCBkYXRhMSwgbWFz
ayk7Cit9CisKK3N0YXRpYyB2b2lkIHZjbl92Ml8wX2pwZWdfcmluZ19lbWl0X3dyZWcoc3RydWN0
IGFtZGdwdV9yaW5nICpyaW5nLAorCQkJCQl1aW50MzJfdCByZWcsIHVpbnQzMl90IHZhbCkKK3sK
Kwl1aW50MzJfdCByZWdfb2Zmc2V0ID0gKHJlZyA8PCAyKTsKKworCWFtZGdwdV9yaW5nX3dyaXRl
KHJpbmcsCVBBQ0tFVEoobW1VVkRfSlJCQ19FWFRFUk5BTF9SRUdfSU5URVJOQUxfT0ZGU0VULAor
CQkwLCAwLCBQQUNLRVRKX1RZUEUwKSk7CisJaWYgKHJlZ19vZmZzZXQgPj0gMHgxMDAwMCAmJiBy
ZWdfb2Zmc2V0IDw9IDB4MTA1ZmYpIHsKKwkJYW1kZ3B1X3Jpbmdfd3JpdGUocmluZywgMCk7CisJ
CWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsCisJCQlQQUNLRVRKKChyZWdfb2Zmc2V0ID4+IDIpLCAw
LCAwLCBQQUNLRVRKX1RZUEUwKSk7CisJfSBlbHNlIHsKKwkJYW1kZ3B1X3Jpbmdfd3JpdGUocmlu
ZywgcmVnX29mZnNldCk7CisJCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsCVBBQ0tFVEooSlJCQ19E
RUNfRVhURVJOQUxfUkVHX1dSSVRFX0FERFIsCisJCQkwLCAwLCBQQUNLRVRKX1RZUEUwKSk7CisJ
fQorCWFtZGdwdV9yaW5nX3dyaXRlKHJpbmcsIHZhbCk7Cit9CisKK3N0YXRpYyB2b2lkIHZjbl92
Ml8wX2pwZWdfcmluZ19ub3Aoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLCB1aW50MzJfdCBjb3Vu
dCkKK3sKKwlpbnQgaTsKKworCVdBUk5fT04ocmluZy0+d3B0ciAlIDIgfHwgY291bnQgJSAyKTsK
KworCWZvciAoaSA9IDA7IGkgPCBjb3VudCAvIDI7IGkrKykgeworCQlhbWRncHVfcmluZ193cml0
ZShyaW5nLCBQQUNLRVRKKDAsIDAsIDAsIFBBQ0tFVEpfVFlQRTYpKTsKKwkJYW1kZ3B1X3Jpbmdf
d3JpdGUocmluZywgMCk7CisJfQorfQorCitzdGF0aWMgaW50IHZjbl92Ml8wX3NldF9pbnRlcnJ1
cHRfc3RhdGUoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCisJCQkJCXN0cnVjdCBhbWRncHVf
aXJxX3NyYyAqc291cmNlLAorCQkJCQl1bnNpZ25lZCB0eXBlLAorCQkJCQllbnVtIGFtZGdwdV9p
bnRlcnJ1cHRfc3RhdGUgc3RhdGUpCit7CisJcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBpbnQgdmNu
X3YyXzBfcHJvY2Vzc19pbnRlcnJ1cHQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCisJCQkJ
ICAgICAgc3RydWN0IGFtZGdwdV9pcnFfc3JjICpzb3VyY2UsCisJCQkJICAgICAgc3RydWN0IGFt
ZGdwdV9pdl9lbnRyeSAqZW50cnkpCit7CisJRFJNX0RFQlVHKCJJSDogVkNOIFRSQVBcbiIpOwor
CisJc3dpdGNoIChlbnRyeS0+c3JjX2lkKSB7CisJY2FzZSBWQ05fMl8wX19TUkNJRF9fVVZEX1NZ
U1RFTV9NRVNTQUdFX0lOVEVSUlVQVDoKKwkJYW1kZ3B1X2ZlbmNlX3Byb2Nlc3MoJmFkZXYtPnZj
bi5yaW5nX2RlYyk7CisJCWJyZWFrOworCWNhc2UgVkNOXzJfMF9fU1JDSURfX1VWRF9FTkNfR0VO
RVJBTF9QVVJQT1NFOgorCQlhbWRncHVfZmVuY2VfcHJvY2VzcygmYWRldi0+dmNuLnJpbmdfZW5j
WzBdKTsKKwkJYnJlYWs7CisJY2FzZSBWQ05fMl8wX19TUkNJRF9fVVZEX0VOQ19MT1dfTEFURU5D
WToKKwkJYW1kZ3B1X2ZlbmNlX3Byb2Nlc3MoJmFkZXYtPnZjbi5yaW5nX2VuY1sxXSk7CisJCWJy
ZWFrOworCWNhc2UgVkNOXzJfMF9fU1JDSURfX0pQRUdfREVDT0RFOgorCQlhbWRncHVfZmVuY2Vf
cHJvY2VzcygmYWRldi0+dmNuLnJpbmdfanBlZyk7CisJCWJyZWFrOworCWRlZmF1bHQ6CisJCURS
TV9FUlJPUigiVW5oYW5kbGVkIGludGVycnVwdDogJWQgJWRcbiIsCisJCQkgIGVudHJ5LT5zcmNf
aWQsIGVudHJ5LT5zcmNfZGF0YVswXSk7CisJCWJyZWFrOworCX0KKworCXJldHVybiAwOworfQor
CitzdGF0aWMgaW50IHZjbl92Ml8wX3NldF9wb3dlcmdhdGluZ19zdGF0ZSh2b2lkICpoYW5kbGUs
CisJCQkJCSAgZW51bSBhbWRfcG93ZXJnYXRpbmdfc3RhdGUgc3RhdGUpCit7CisJLyogVGhpcyBk
b2Vzbid0IGFjdHVhbGx5IHBvd2VyZ2F0ZSB0aGUgVkNOIGJsb2NrLgorCSAqIFRoYXQncyBkb25l
IGluIHRoZSBkcG0gY29kZSB2aWEgdGhlIFNNQy4gIFRoaXMKKwkgKiBqdXN0IHJlLWluaXRzIHRo
ZSBibG9jayBhcyBuZWNlc3NhcnkuICBUaGUgYWN0dWFsCisJICogZ2F0aW5nIHN0aWxsIGhhcHBl
bnMgaW4gdGhlIGRwbSBjb2RlLiAgV2Ugc2hvdWxkCisJICogcmV2aXNpdCB0aGlzIHdoZW4gdGhl
cmUgaXMgYSBjbGVhbmVyIGxpbmUgYmV0d2VlbgorCSAqIHRoZSBzbWMgYW5kIHRoZSBodyBibG9j
a3MKKwkgKi8KKwlpbnQgcmV0OworCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gKHN0cnVj
dCBhbWRncHVfZGV2aWNlICopaGFuZGxlOworCisJaWYoc3RhdGUgPT0gYWRldi0+dmNuLmN1cl9z
dGF0ZSkKKwkJcmV0dXJuIDA7CisKKwlpZiAoc3RhdGUgPT0gQU1EX1BHX1NUQVRFX0dBVEUpCisJ
CXJldCA9IHZjbl92Ml8wX3N0b3AoYWRldik7CisJZWxzZQorCQlyZXQgPSB2Y25fdjJfMF9zdGFy
dChhZGV2KTsKKworCWlmKCFyZXQpCisJCWFkZXYtPnZjbi5jdXJfc3RhdGUgPSBzdGF0ZTsKKwly
ZXR1cm4gcmV0OworfQorCitzdGF0aWMgY29uc3Qgc3RydWN0IGFtZF9pcF9mdW5jcyB2Y25fdjJf
MF9pcF9mdW5jcyA9IHsKKwkubmFtZSA9ICJ2Y25fdjJfMCIsCisJLmVhcmx5X2luaXQgPSB2Y25f
djJfMF9lYXJseV9pbml0LAorCS5sYXRlX2luaXQgPSBOVUxMLAorCS5zd19pbml0ID0gdmNuX3Yy
XzBfc3dfaW5pdCwKKwkuc3dfZmluaSA9IHZjbl92Ml8wX3N3X2ZpbmksCisJLmh3X2luaXQgPSB2
Y25fdjJfMF9od19pbml0LAorCS5od19maW5pID0gdmNuX3YyXzBfaHdfZmluaSwKKwkuc3VzcGVu
ZCA9IHZjbl92Ml8wX3N1c3BlbmQsCisJLnJlc3VtZSA9IHZjbl92Ml8wX3Jlc3VtZSwKKwkuaXNf
aWRsZSA9IHZjbl92Ml8wX2lzX2lkbGUsCisJLndhaXRfZm9yX2lkbGUgPSB2Y25fdjJfMF93YWl0
X2Zvcl9pZGxlLAorCS5jaGVja19zb2Z0X3Jlc2V0ID0gTlVMTCwKKwkucHJlX3NvZnRfcmVzZXQg
PSBOVUxMLAorCS5zb2Z0X3Jlc2V0ID0gTlVMTCwKKwkucG9zdF9zb2Z0X3Jlc2V0ID0gTlVMTCwK
Kwkuc2V0X2Nsb2NrZ2F0aW5nX3N0YXRlID0gdmNuX3YyXzBfc2V0X2Nsb2NrZ2F0aW5nX3N0YXRl
LAorCS5zZXRfcG93ZXJnYXRpbmdfc3RhdGUgPSB2Y25fdjJfMF9zZXRfcG93ZXJnYXRpbmdfc3Rh
dGUsCit9OworCitzdGF0aWMgY29uc3Qgc3RydWN0IGFtZGdwdV9yaW5nX2Z1bmNzIHZjbl92Ml8w
X2RlY19yaW5nX3ZtX2Z1bmNzID0geworCS50eXBlID0gQU1ER1BVX1JJTkdfVFlQRV9WQ05fREVD
LAorCS5hbGlnbl9tYXNrID0gMHhmLAorCS52bWh1YiA9IEFNREdQVV9NTUhVQiwKKwkuZ2V0X3Jw
dHIgPSB2Y25fdjJfMF9kZWNfcmluZ19nZXRfcnB0ciwKKwkuZ2V0X3dwdHIgPSB2Y25fdjJfMF9k
ZWNfcmluZ19nZXRfd3B0ciwKKwkuc2V0X3dwdHIgPSB2Y25fdjJfMF9kZWNfcmluZ19zZXRfd3B0
ciwKKwkuZW1pdF9mcmFtZV9zaXplID0KKwkJU09DMTVfRkxVU0hfR1BVX1RMQl9OVU1fV1JFRyAq
IDYgKworCQlTT0MxNV9GTFVTSF9HUFVfVExCX05VTV9SRUdfV0FJVCAqIDggKworCQk4ICsgLyog
dmNuX3YyXzBfZGVjX3JpbmdfZW1pdF92bV9mbHVzaCAqLworCQkxNCArIDE0ICsgLyogdmNuX3Yy
XzBfZGVjX3JpbmdfZW1pdF9mZW5jZSB4MiB2bSBmZW5jZSAqLworCQk2LAorCS5lbWl0X2liX3Np
emUgPSA4LCAvKiB2Y25fdjJfMF9kZWNfcmluZ19lbWl0X2liICovCisJLmVtaXRfaWIgPSB2Y25f
djJfMF9kZWNfcmluZ19lbWl0X2liLAorCS5lbWl0X2ZlbmNlID0gdmNuX3YyXzBfZGVjX3Jpbmdf
ZW1pdF9mZW5jZSwKKwkuZW1pdF92bV9mbHVzaCA9IHZjbl92Ml8wX2RlY19yaW5nX2VtaXRfdm1f
Zmx1c2gsCisJLnRlc3RfcmluZyA9IGFtZGdwdV92Y25fZGVjX3JpbmdfdGVzdF9yaW5nLAorCS50
ZXN0X2liID0gYW1kZ3B1X3Zjbl9kZWNfcmluZ190ZXN0X2liLAorCS5pbnNlcnRfbm9wID0gdmNu
X3YyXzBfZGVjX3JpbmdfaW5zZXJ0X25vcCwKKwkuaW5zZXJ0X3N0YXJ0ID0gdmNuX3YyXzBfZGVj
X3JpbmdfaW5zZXJ0X3N0YXJ0LAorCS5pbnNlcnRfZW5kID0gdmNuX3YyXzBfZGVjX3JpbmdfaW5z
ZXJ0X2VuZCwKKwkucGFkX2liID0gYW1kZ3B1X3JpbmdfZ2VuZXJpY19wYWRfaWIsCisJLmJlZ2lu
X3VzZSA9IGFtZGdwdV92Y25fcmluZ19iZWdpbl91c2UsCisJLmVuZF91c2UgPSBhbWRncHVfdmNu
X3JpbmdfZW5kX3VzZSwKKwkuZW1pdF93cmVnID0gdmNuX3YyXzBfZGVjX3JpbmdfZW1pdF93cmVn
LAorCS5lbWl0X3JlZ193YWl0ID0gdmNuX3YyXzBfZGVjX3JpbmdfZW1pdF9yZWdfd2FpdCwKKwku
ZW1pdF9yZWdfd3JpdGVfcmVnX3dhaXQgPSBhbWRncHVfcmluZ19lbWl0X3JlZ193cml0ZV9yZWdf
d2FpdF9oZWxwZXIsCit9OworCitzdGF0aWMgY29uc3Qgc3RydWN0IGFtZGdwdV9yaW5nX2Z1bmNz
IHZjbl92Ml8wX2VuY19yaW5nX3ZtX2Z1bmNzID0geworCS50eXBlID0gQU1ER1BVX1JJTkdfVFlQ
RV9WQ05fRU5DLAorCS5hbGlnbl9tYXNrID0gMHgzZiwKKwkubm9wID0gVkNOX0VOQ19DTURfTk9f
T1AsCisJLnZtaHViID0gQU1ER1BVX01NSFVCLAorCS5nZXRfcnB0ciA9IHZjbl92Ml8wX2VuY19y
aW5nX2dldF9ycHRyLAorCS5nZXRfd3B0ciA9IHZjbl92Ml8wX2VuY19yaW5nX2dldF93cHRyLAor
CS5zZXRfd3B0ciA9IHZjbl92Ml8wX2VuY19yaW5nX3NldF93cHRyLAorCS5lbWl0X2ZyYW1lX3Np
emUgPQorCQlTT0MxNV9GTFVTSF9HUFVfVExCX05VTV9XUkVHICogMyArCisJCVNPQzE1X0ZMVVNI
X0dQVV9UTEJfTlVNX1JFR19XQUlUICogNCArCisJCTQgKyAvKiB2Y25fdjJfMF9lbmNfcmluZ19l
bWl0X3ZtX2ZsdXNoICovCisJCTUgKyA1ICsgLyogdmNuX3YyXzBfZW5jX3JpbmdfZW1pdF9mZW5j
ZSB4MiB2bSBmZW5jZSAqLworCQkxLCAvKiB2Y25fdjJfMF9lbmNfcmluZ19pbnNlcnRfZW5kICov
CisJLmVtaXRfaWJfc2l6ZSA9IDUsIC8qIHZjbl92Ml8wX2VuY19yaW5nX2VtaXRfaWIgKi8KKwku
ZW1pdF9pYiA9IHZjbl92Ml8wX2VuY19yaW5nX2VtaXRfaWIsCisJLmVtaXRfZmVuY2UgPSB2Y25f
djJfMF9lbmNfcmluZ19lbWl0X2ZlbmNlLAorCS5lbWl0X3ZtX2ZsdXNoID0gdmNuX3YyXzBfZW5j
X3JpbmdfZW1pdF92bV9mbHVzaCwKKwkudGVzdF9yaW5nID0gYW1kZ3B1X3Zjbl9lbmNfcmluZ190
ZXN0X3JpbmcsCisJLnRlc3RfaWIgPSBhbWRncHVfdmNuX2VuY19yaW5nX3Rlc3RfaWIsCisJLmlu
c2VydF9ub3AgPSBhbWRncHVfcmluZ19pbnNlcnRfbm9wLAorCS5pbnNlcnRfZW5kID0gdmNuX3Yy
XzBfZW5jX3JpbmdfaW5zZXJ0X2VuZCwKKwkucGFkX2liID0gYW1kZ3B1X3JpbmdfZ2VuZXJpY19w
YWRfaWIsCisJLmJlZ2luX3VzZSA9IGFtZGdwdV92Y25fcmluZ19iZWdpbl91c2UsCisJLmVuZF91
c2UgPSBhbWRncHVfdmNuX3JpbmdfZW5kX3VzZSwKKwkuZW1pdF93cmVnID0gdmNuX3YyXzBfZW5j
X3JpbmdfZW1pdF93cmVnLAorCS5lbWl0X3JlZ193YWl0ID0gdmNuX3YyXzBfZW5jX3JpbmdfZW1p
dF9yZWdfd2FpdCwKKwkuZW1pdF9yZWdfd3JpdGVfcmVnX3dhaXQgPSBhbWRncHVfcmluZ19lbWl0
X3JlZ193cml0ZV9yZWdfd2FpdF9oZWxwZXIsCit9OworCitzdGF0aWMgY29uc3Qgc3RydWN0IGFt
ZGdwdV9yaW5nX2Z1bmNzIHZjbl92Ml8wX2pwZWdfcmluZ192bV9mdW5jcyA9IHsKKwkudHlwZSA9
IEFNREdQVV9SSU5HX1RZUEVfVkNOX0pQRUcsCisJLmFsaWduX21hc2sgPSAweGYsCisJLnZtaHVi
ID0gQU1ER1BVX01NSFVCLAorCS5nZXRfcnB0ciA9IHZjbl92Ml8wX2pwZWdfcmluZ19nZXRfcnB0
ciwKKwkuZ2V0X3dwdHIgPSB2Y25fdjJfMF9qcGVnX3JpbmdfZ2V0X3dwdHIsCisJLnNldF93cHRy
ID0gdmNuX3YyXzBfanBlZ19yaW5nX3NldF93cHRyLAorCS5lbWl0X2ZyYW1lX3NpemUgPQorCQlT
T0MxNV9GTFVTSF9HUFVfVExCX05VTV9XUkVHICogNiArCisJCVNPQzE1X0ZMVVNIX0dQVV9UTEJf
TlVNX1JFR19XQUlUICogOCArCisJCTggKyAvKiB2Y25fdjJfMF9qcGVnX3JpbmdfZW1pdF92bV9m
bHVzaCAqLworCQkxOCArIDE4ICsgLyogdmNuX3YyXzBfanBlZ19yaW5nX2VtaXRfZmVuY2UgeDIg
dm0gZmVuY2UgKi8KKwkJOCArIDE2LAorCS5lbWl0X2liX3NpemUgPSAyMiwgLyogdmNuX3YyXzBf
anBlZ19yaW5nX2VtaXRfaWIgKi8KKwkuZW1pdF9pYiA9IHZjbl92Ml8wX2pwZWdfcmluZ19lbWl0
X2liLAorCS5lbWl0X2ZlbmNlID0gdmNuX3YyXzBfanBlZ19yaW5nX2VtaXRfZmVuY2UsCisJLmVt
aXRfdm1fZmx1c2ggPSB2Y25fdjJfMF9qcGVnX3JpbmdfZW1pdF92bV9mbHVzaCwKKwkudGVzdF9y
aW5nID0gYW1kZ3B1X3Zjbl9qcGVnX3JpbmdfdGVzdF9yaW5nLAorCS50ZXN0X2liID0gYW1kZ3B1
X3Zjbl9qcGVnX3JpbmdfdGVzdF9pYiwKKwkuaW5zZXJ0X25vcCA9IHZjbl92Ml8wX2pwZWdfcmlu
Z19ub3AsCisJLmluc2VydF9zdGFydCA9IHZjbl92Ml8wX2pwZWdfcmluZ19pbnNlcnRfc3RhcnQs
CisJLmluc2VydF9lbmQgPSB2Y25fdjJfMF9qcGVnX3JpbmdfaW5zZXJ0X2VuZCwKKwkucGFkX2li
ID0gYW1kZ3B1X3JpbmdfZ2VuZXJpY19wYWRfaWIsCisJLmJlZ2luX3VzZSA9IGFtZGdwdV92Y25f
cmluZ19iZWdpbl91c2UsCisJLmVuZF91c2UgPSBhbWRncHVfdmNuX3JpbmdfZW5kX3VzZSwKKwku
ZW1pdF93cmVnID0gdmNuX3YyXzBfanBlZ19yaW5nX2VtaXRfd3JlZywKKwkuZW1pdF9yZWdfd2Fp
dCA9IHZjbl92Ml8wX2pwZWdfcmluZ19lbWl0X3JlZ193YWl0LAorCS5lbWl0X3JlZ193cml0ZV9y
ZWdfd2FpdCA9IGFtZGdwdV9yaW5nX2VtaXRfcmVnX3dyaXRlX3JlZ193YWl0X2hlbHBlciwKK307
CisKK3N0YXRpYyB2b2lkIHZjbl92Ml8wX3NldF9kZWNfcmluZ19mdW5jcyhzdHJ1Y3QgYW1kZ3B1
X2RldmljZSAqYWRldikKK3sKKwlhZGV2LT52Y24ucmluZ19kZWMuZnVuY3MgPSAmdmNuX3YyXzBf
ZGVjX3Jpbmdfdm1fZnVuY3M7CisJRFJNX0lORk8oIlZDTiBkZWNvZGUgaXMgZW5hYmxlZCBpbiBW
TSBtb2RlXG4iKTsKK30KKworc3RhdGljIHZvaWQgdmNuX3YyXzBfc2V0X2VuY19yaW5nX2Z1bmNz
KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQoreworCWludCBpOworCisJZm9yIChpID0gMDsg
aSA8IGFkZXYtPnZjbi5udW1fZW5jX3JpbmdzOyArK2kpCisJCWFkZXYtPnZjbi5yaW5nX2VuY1tp
XS5mdW5jcyA9ICZ2Y25fdjJfMF9lbmNfcmluZ192bV9mdW5jczsKKworCURSTV9JTkZPKCJWQ04g
ZW5jb2RlIGlzIGVuYWJsZWQgaW4gVk0gbW9kZVxuIik7Cit9CisKK3N0YXRpYyB2b2lkIHZjbl92
Ml8wX3NldF9qcGVnX3JpbmdfZnVuY3Moc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCit7CisJ
YWRldi0+dmNuLnJpbmdfanBlZy5mdW5jcyA9ICZ2Y25fdjJfMF9qcGVnX3Jpbmdfdm1fZnVuY3M7
CisJRFJNX0lORk8oIlZDTiBqcGVnIGRlY29kZSBpcyBlbmFibGVkIGluIFZNIG1vZGVcbiIpOwor
fQorCitzdGF0aWMgY29uc3Qgc3RydWN0IGFtZGdwdV9pcnFfc3JjX2Z1bmNzIHZjbl92Ml8wX2ly
cV9mdW5jcyA9IHsKKwkuc2V0ID0gdmNuX3YyXzBfc2V0X2ludGVycnVwdF9zdGF0ZSwKKwkucHJv
Y2VzcyA9IHZjbl92Ml8wX3Byb2Nlc3NfaW50ZXJydXB0LAorfTsKKworc3RhdGljIHZvaWQgdmNu
X3YyXzBfc2V0X2lycV9mdW5jcyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKK3sKKwlhZGV2
LT52Y24uaXJxLm51bV90eXBlcyA9IGFkZXYtPnZjbi5udW1fZW5jX3JpbmdzICsgMjsKKwlhZGV2
LT52Y24uaXJxLmZ1bmNzID0gJnZjbl92Ml8wX2lycV9mdW5jczsKK30KKworY29uc3Qgc3RydWN0
IGFtZGdwdV9pcF9ibG9ja192ZXJzaW9uIHZjbl92Ml8wX2lwX2Jsb2NrID0KK3sKKwkJLnR5cGUg
PSBBTURfSVBfQkxPQ0tfVFlQRV9WQ04sCisJCS5tYWpvciA9IDIsCisJCS5taW5vciA9IDAsCisJ
CS5yZXYgPSAwLAorCQkuZnVuY3MgPSAmdmNuX3YyXzBfaXBfZnVuY3MsCit9OwpkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvdmNuX3YyXzAuaCBiL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L3Zjbl92Ml8wLmgKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAw
MDAwMDAwLi5hNzQyMjdmNDY2M2IKLS0tIC9kZXYvbnVsbAorKysgYi9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS92Y25fdjJfMC5oCkBAIC0wLDAgKzEsMjkgQEAKKy8qCisgKiBDb3B5cmlnaHQg
MjAxOCBBZHZhbmNlZCBNaWNybyBEZXZpY2VzLCBJbmMuCisgKgorICogUGVybWlzc2lvbiBpcyBo
ZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEK
KyAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZp
bGVzICh0aGUgIlNvZnR3YXJlIiksCisgKiB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0
IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uCisgKiB0aGUgcmlnaHRz
IHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGlj
ZW5zZSwKKyAqIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJt
aXQgcGVyc29ucyB0byB3aG9tIHRoZQorICogU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNv
LCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKKyAqCisgKiBUaGUgYWJvdmUg
Y29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNs
dWRlZCBpbgorICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29m
dHdhcmUuCisgKgorICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQg
V0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKKyAqIElNUExJRUQsIElOQ0xVRElORyBC
VVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLAorICog
RklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gIElO
IE5PIEVWRU5UIFNIQUxMCisgKiBUSEUgQ09QWVJJR0hUIEhPTERFUihTKSBPUiBBVVRIT1IoUykg
QkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IKKyAqIE9USEVSIExJQUJJTElUWSwg
V0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLAorICog
QVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBP
UiBUSEUgVVNFIE9SCisgKiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuCisgKgorICov
CisKKyNpZm5kZWYgX19WQ05fVjJfMF9IX18KKyNkZWZpbmUgX19WQ05fVjJfMF9IX18KKworZXh0
ZXJuIGNvbnN0IHN0cnVjdCBhbWRncHVfaXBfYmxvY2tfdmVyc2lvbiB2Y25fdjJfMF9pcF9ibG9j
azsKKworI2VuZGlmIC8qIF9fVkNOX1YyXzBfSF9fICovCi0tIAoyLjIwLjEKCl9fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0
CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Au
b3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeA==
