Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 5B1C220CD9D
	for <lists+amd-gfx@lfdr.de>; Mon, 29 Jun 2020 11:35:05 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C72CD89BD5;
	Mon, 29 Jun 2020 09:35:03 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM10-BN7-obe.outbound.protection.outlook.com
 (mail-bn7nam10on2043.outbound.protection.outlook.com [40.107.92.43])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 1C4DD89BD5
 for <amd-gfx@lists.freedesktop.org>; Mon, 29 Jun 2020 09:35:02 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=YBOWXIMM+0nl/dB/003jCltAqqNBRTbYjTYSGTe9SRYx2D+OfJjOAcW+eHtn6WPjgda8JXneYcaaefDS4FXgHisNf0z9092FW9fji3TIyrdvzDUAQmRh/B+WOX77p18TSxPLzuetI6Btjxueq+zKLxMONLbl9ibkIXezm04B9KkPxlG2zjRbXUtFHxvTHV9I4yBi1KDK82jpgpiPWmn2imFbidMgnv8K82EUUcSDRJJFfpM+giyRmy/xFVccHnbCeP9kOS+EUA+4uVCTZCJZEQ95L+BDaHzwe1RpAlZy5hhjU1x/cSXmzdJDNFv0fQ0bwCjQX19NZfxGcQN1RxVzEQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=fT9U+IbN87jgq5KxpBjh16vZQ/PlC6BWYA7MWCB9kyo=;
 b=XBFvrXDhSWDxC2bbmf3icUUTAylOmZl9AlO8pskJF5EJ6xEa5qZipRX1rwu9jR+v19/dMljCn/PFFw77hisWa/x4wvuxgdHjfcfvwxXC3frMUAlvhVCI8CV75RfQS1w5t4vOalLwmUfDCKXRTVqRou2cKWEycBAm8OPOA5rR7IXJqIOv7HCNUd+wwxuQrpByhafCps4MfF98Az/Tu4KLXTqOdjjkAY5qyYu3HZUPaRiDVlPQEfS5ZnbyEVqaWVZeccbBpUgQA7Bn2JJI+1Tx0e8ReaeI42SATiesGlJ0ubaCC3yxM17rj1ZblB+yg0dZemaPPOsbW+x9LNpWZVHxVA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=fT9U+IbN87jgq5KxpBjh16vZQ/PlC6BWYA7MWCB9kyo=;
 b=x6lulTF3pdBtMRPWE2m5n0QEIG+dpfvhqcvXzmpuQRRm2SN0KTjnSYcfKP61yxgRPfKSGFYzWSg0ZGSxWxEZF1s8GU6MkPOwmOzOJTqPQYCSMHlndceccVCyhXb+R/kZjb8QAI4o6rKjIkhEEGlWo3R0Nunvj6/x+K2dH6iYVJU=
Received: from DM5PR12MB1708.namprd12.prod.outlook.com (2603:10b6:3:10e::22)
 by DM5PR12MB2469.namprd12.prod.outlook.com (2603:10b6:4:af::38) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.3131.23; Mon, 29 Jun
 2020 09:35:00 +0000
Received: from DM5PR12MB1708.namprd12.prod.outlook.com
 ([fe80::1833:ccab:8c0f:4570]) by DM5PR12MB1708.namprd12.prod.outlook.com
 ([fe80::1833:ccab:8c0f:4570%5]) with mapi id 15.20.3131.026; Mon, 29 Jun 2020
 09:35:00 +0000
From: "Liu, Monk" <Monk.Liu@amd.com>
To: "Koenig, Christian" <Christian.Koenig@amd.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH] drm/amdgpu: make IB test synchronize with init for SRIOV
Thread-Topic: [PATCH] drm/amdgpu: make IB test synchronize with init for SRIOV
Thread-Index: AQHWTeSGtADQcpSZ30m1pXWGaD3UoqjvP+4AgAAJ8oCAAARygIAABvog
Date: Mon, 29 Jun 2020 09:34:59 +0000
Message-ID: <DM5PR12MB17083EEF102391A958115F23846E0@DM5PR12MB1708.namprd12.prod.outlook.com>
References: <1593414689-17565-1-git-send-email-Monk.Liu@amd.com>
 <87e8a1bc-62b7-5599-4263-dd63546f69f7@gmail.com>
 <DM5PR12MB170868B80FD72B9E39CEC5BA846E0@DM5PR12MB1708.namprd12.prod.outlook.com>
 <84bac819-f1bd-4764-d6fa-5d512e8de30b@gmail.com>
In-Reply-To: <84bac819-f1bd-4764-d6fa-5d512e8de30b@gmail.com>
Accept-Language: en-US, zh-CN
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
authentication-results: amd.com; dkim=none (message not signed)
 header.d=none;amd.com; dmarc=none action=none header.from=amd.com;
x-originating-ip: [58.247.170.242]
x-ms-publictraffictype: Email
x-ms-office365-filtering-ht: Tenant
x-ms-office365-filtering-correlation-id: 05aeb87b-c244-4cd6-d066-08d81c0fb18e
x-ms-traffictypediagnostic: DM5PR12MB2469:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <DM5PR12MB24698D54996BE87DE6611E06846E0@DM5PR12MB2469.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:10000;
x-forefront-prvs: 044968D9E1
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: lp5xO0mMNpYjgIzz5kWBreBaZ3LuwvdjZyoUG0mhRrFNABVOObuHuxQWk+Q3Glq5fNQaaNfLy3iOozSSw7OzVUGJiKaufxzIP/GlkgQpg9VLLmY1P05fYu+rffKo0MbtgTXIC4XoVKNf5ri6QsluHarILZQQQ57lGmZHi5+JFZ/XZkO6lXfxWSi4yRbSvZPRjf68Hl9OGCf/3eU6ck9sig0aheqlj9hq3W2EohivuyUK8IHga/FFJYRhQTY9s9uoCnyPbXfubQqtJli61hsoP9xcAzuvjxoZYQTrh60Bl6wkkhyQ5MFYXVqpfN76nGsyNWzt0MGKxVrhEhgL/gFS/8Csnz5EC5cLs9E7G1ZTyjhN96cqXqEr+o0zzc7EPaFowQcB4UfG74BX9eKLWnc3nw==
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:DM5PR12MB1708.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFTY:;
 SFS:(4636009)(366004)(136003)(396003)(39860400002)(376002)(346002)(7696005)(76116006)(66946007)(66446008)(66476007)(66556008)(64756008)(66574015)(53546011)(110136005)(6506007)(2906002)(83080400001)(8676002)(186003)(8936002)(52536014)(5660300002)(966005)(33656002)(71200400001)(83380400001)(45080400002)(478600001)(26005)(9686003)(86362001)(316002)(55016002);
 DIR:OUT; SFP:1101; 
x-ms-exchange-antispam-messagedata: WQJ47woL7OHGSDCyfwO3N6zLC3qm03DobqZC5hpBfI626lgQhC8u9HW4GEj2uJ9yG9MWmyzZWFb5wUw3BIBeBbYuS/NiH41a7BpiENGs+9d/eBn6ElPFFQU8uJ7/BOtsOO6Oks16NgVS9kuXsE94/pMhgienTH6bM+7gU8FVoWMG94ixXFLp618Wn0jWjeF0SSq3DHeBw+OYLV856QOYjrKUs5lb5NH3DK+9aXSo8iOUVNjy644lK8AiYc28SIl+BiqoH7GpRXHYF03kl82Ln56JIxyUiX7sr8JxaT77qNW7AuJ5TvU4c6ufeDtSLXAEYqJKm0wHG+SDgyryQU4yw+ufeh5/mMEME13JDQ8zMra8AVtOjQXnXNu+z5Ts5pkSXqclxP91dlgBWWGPcHEjYYrsUzy591XhiJWKFRjxzkD8UC5ygmZ5g8b354yJpfD7v+4i2XtjF+XLQzyGxD9j65JlU19pDJYkaZaXcGXG2U2VG+lhxTxvgIXf6NNOZFap
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: DM5PR12MB1708.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 05aeb87b-c244-4cd6-d066-08d81c0fb18e
X-MS-Exchange-CrossTenant-originalarrivaltime: 29 Jun 2020 09:34:59.9460 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: x+qLXwhS3bhHpfLHTbRcEWtWL/sf28Tlol+cVId2DhNTdCUYtN52agCHYDTEDmFJ
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM5PR12MB2469
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

U291bmRzIGRvYWJsZSBhcyB3ZWxsDQoNCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18NCk1vbmsgTGl1fEdQVSBWaXJ0dWFsaXphdGlvbiBUZWFtIHxBTUQNCg0KDQotLS0tLU9y
aWdpbmFsIE1lc3NhZ2UtLS0tLQ0KRnJvbTogQ2hyaXN0aWFuIEvDtm5pZyA8Y2tvZW5pZy5sZWlj
aHR6dW1lcmtlbkBnbWFpbC5jb20+IA0KU2VudDogTW9uZGF5LCBKdW5lIDI5LCAyMDIwIDU6MTAg
UE0NClRvOiBMaXUsIE1vbmsgPE1vbmsuTGl1QGFtZC5jb20+OyBLb2VuaWcsIENocmlzdGlhbiA8
Q2hyaXN0aWFuLktvZW5pZ0BhbWQuY29tPjsgYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcN
ClN1YmplY3Q6IFJlOiBbUEFUQ0hdIGRybS9hbWRncHU6IG1ha2UgSUIgdGVzdCBzeW5jaHJvbml6
ZSB3aXRoIGluaXQgZm9yIFNSSU9WDQoNCkFtIDI5LjA2LjIwIHVtIDExOjAzIHNjaHJpZWIgTGl1
LCBNb25rOg0KPj4+PiBXZSBleHBsaWNpdGx5IGFkZGVkIHRoZSBhc3luY2hyb25vdXNseSBJQiB0
ZXN0IGZvciBTUklPViB0byBtYWtlIGRyaXZlciBsb2FkIGZhc3Rlci4gV2h5IGlzIHRoYXQgbm93
IGEgcHJvYmxlbT8NCj4gV2VsbCBJIGRpZG4ndCBub3RpY2UgdGhpcyBjaGFuZ2UgZXhwbGljaXRs
eSBmb3IgU1JJT1YsIGF0IGxlYXN0IGZyb20gDQo+IHRoZSBjb2RlIGl0IGlzIHF1aXRlIGEgbm9y
bWFsIGNoYW5nZQ0KDQpJdCdzIGJlZW4gYSB3aGlsZSwgYnV0IGlmIEkgcmVtZW1iZXIgY29ycmVj
dGx5IHRoZSBvcmlnaW5hbCBtb3RpdmF0aW9uIHdhcyB0byByZWR1Y2UgdGhlIHRpbWUgd2Ugc3Bl
bmQgaW4gZXhjbHVzaXZlIG1vZGUgZm9yIFNSSU9WLg0KDQpPZiBjb3Vyc2UgYmFyZSBtZXRhbCBx
dWlja2x5IHBpY2tldCB0aGlzIHVwIGFzIHdlbGwgYmVjYXVzZSBpdCByZWR1Y2VzIHRoZSB0aW1l
IHdlIHNwZW5kIGluIG1vZHByb2JlLg0KDQo+Pj4+IEFuZCB3aHkgd291bGQgaXQgaGVscCB3aGVu
IHRoZSBWTSBzaHV0cyBkb3duPyBXZSBjYW5jZWwvZmx1c2ggdGhlIHRlc3QgZHVyaW5nIGRyaXZl
ciB1bmxvYWQvc3VzcGVuZCBhcyB3ZWxsLg0KPiBJZiB5b3UgZG8gdGhlIHNlcXVlbmNlIGxpa2U6
IGxvYWQgYW1kZ3B1IGFuZCBzaHV0ZG93biBWTSBpbW1lZGlhdGVseSAsIHlvdSB3aWxsIGhpdCBw
cm9ibGVtcyAuDQo+DQo+IFZpcnR1YWwgTWFjaGluZSdzIHNodXRkb3duIHdvbid0IGJlIGJsb2Nr
ZWQgaWYgdGhlIElCIHRlc3QgaXMgb24gdGhlIA0KPiBmbHkgLCBlLmcuOiB5b3UgY2FuIGRvICJp
bml0IDAiIHJpZ2h0IGFmdGVyICJtb2Rwcm9iZSBhbWRncHUiIGFuZCB0aGUgDQo+ICJhbWRncHVf
ZGV2aWNlX2ZpbmkiIHdvbid0IGJlIGNhbGxlZCBUaHVzIHRoZSBmbHVzaGluZyBvbiBJQiB0ZXN0
IA0KPiB3b24ndCBoYXBwZW4gc28gdGhlIElCIHRlc3QgaXMgc3RpbGwgcnVubmluZyB3aXRoIHRo
ZSBWTSBhbHJlYWR5IA0KPiBzaHV0ZG93biBhbmQgbGVhZCB0byBHUFUgY3Jhc2ggKHVzdWFsbHkg
VkNOL1ZDRSBjcmFzaCBvbiBpbnZhbGlkIA0KPiBtZW1vcnkgYWRkcmVzcykNCg0KWWVhaCwgdGhh
dCBpcyByYXRoZXIgb2J2aW91cy4gV2UgdHJ5IHRvIHJlZHVjZSB0aGUgbW9kcHJvYmUgdGltZSwg
YnV0IHRoaXMgaXMgcmF0aGVyIGhhcm1mdWwgZm9yIHRoaXMgdGVzdCBjYXNlLg0KDQpCdXQgdGhp
cyBjYW4gaGFwcGVuIHdpdGggYW55IHdvcmsgcnVubmluZyBvbiB0aGUgR1BVLiBEbyB3ZSBoYXZl
IGEgc3BlY2lmaWMgdGVzdCBjYXNlIGZvciB0aGlzIG9yIHdoeSBpcyBpdCBhIHByb2JsZW0/DQoN
CkkgbWVhbiB3ZSBzaG91bGQgbm90IGNoYW5nZSB0aGUgZHJpdmVyIGp1c3QgdG8gbWFrZSBhIHN0
cmFuZ2UgUUEgdGVzdCBjYXNlIHdvcmsgd2hpY2ggb3RoZXJ3aXNlIG5ldmVyIGhhcHBlbnMgaW4g
cHJhY3RpY2UuDQoNCklmIHdlIHJlYWxseSBuZWVkIHRoaXMgSSBzdWdnZXN0IHRvIGp1c3QgYWRk
ICJpZiAoYW1kZ3B1X3NyaW92X3ZmKGFkZXYpKSBmbHVzaF9kZWxheWVkX3dvcmsoJmFkZXYtPmRl
bGF5ZWRfaW5pdF93b3JrKTsiIGF0IHRoZSBlbmQgb2YgYW1kZ3B1X2RldmljZV9pbml0KCkuDQoN
ClRoYW5rcywNCkNocmlzdGlhbi4NCg0KPg0KPiAgIA0KPiBfX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fDQo+IE1vbmsgTGl1fEdQVSBWaXJ0dWFsaXphdGlvbiBUZWFtIHxBTUQN
Cj4NCj4NCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogQ2hyaXN0aWFuIEvD
tm5pZyA8Y2tvZW5pZy5sZWljaHR6dW1lcmtlbkBnbWFpbC5jb20+DQo+IFNlbnQ6IE1vbmRheSwg
SnVuZSAyOSwgMjAyMCA0OjE4IFBNDQo+IFRvOiBMaXUsIE1vbmsgPE1vbmsuTGl1QGFtZC5jb20+
OyBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZw0KPiBTdWJqZWN0OiBSZTogW1BBVENIXSBk
cm0vYW1kZ3B1OiBtYWtlIElCIHRlc3Qgc3luY2hyb25pemUgd2l0aCBpbml0IA0KPiBmb3IgU1JJ
T1YNCj4NCj4gQW0gMjkuMDYuMjAgdW0gMDk6MTEgc2NocmllYiBNb25rIExpdToNCj4+IEZyb206
IHBlbmd6aG91IDxQZW5nSnUuWmhvdUBhbWQuY29tPg0KPj4NCj4+IGlzc3VlOg0KPj4gb3JpZ2lu
YWxseSB3ZSBraWNrb2ZmIElCIHRlc3QgYXN5bmNocm9ub3VzbHkgd2l0aCBkcml2ZXIncyBpbml0
LCB0aHVzIA0KPj4gdGhlIElCIHRlc3QgbWF5IHN0aWxsIHJ1bm5pbmcgd2hlbiB0aGUgZHJpdmVy
IGxvYWRpbmcgZG9uZSAobW9kcHJvYmUgYW1kZ3B1IGRvbmUpLg0KPj4gaWYgd2Ugc2h1dGRvd24g
Vk0gaW1tZWRpYXRlbHkgYWZ0ZXIgYW1kZ3B1IGRyaXZlciBsb2FkZWQgdGhlbiBHUFUgbWF5IA0K
Pj4gaGFuZyBiZWNhdXNlIHRoZSBJQiB0ZXN0IGlzIHN0aWxsIHJ1bm5pbmcNCj4+DQo+PiBmaXg6
DQo+PiBtYWtlIElCIHRlc3Qgc3luY2hyb25pemUgd2l0aCBkcml2ZXIgaW5pdCB0aHVzIGl0IHdv
bid0IHN0aWxsIHJ1bm5pbmcgDQo+PiB3aGVuIHdlIHNodXRkb3duIHRoZSBWTS4NCj4gV2UgZXhw
bGljaXRseSBhZGRlZCB0aGUgYXN5bmNocm9ub3VzbHkgSUIgdGVzdCBmb3IgU1JJT1YgdG8gbWFr
ZSBkcml2ZXIgbG9hZCBmYXN0ZXIuIFdoeSBpcyB0aGF0IG5vdyBhIHByb2JsZW0/DQo+DQo+IEFu
ZCB3aHkgd291bGQgaXQgaGVscCB3aGVuIHRoZSBWTSBzaHV0cyBkb3duPyBXZSBjYW5jZWwvZmx1
c2ggdGhlIHRlc3QgZHVyaW5nIGRyaXZlciB1bmxvYWQvc3VzcGVuZCBhcyB3ZWxsLg0KPg0KPj4g
U2lnbmVkLW9mZi1ieTogTW9uayBMaXUgPE1vbmsuTGl1QGFtZC5jb20+DQo+PiAtLS0NCj4+ICAg
IGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kZXZpY2UuYyB8IDI5ICsrKysrKysr
KysrKysrKysrKysrKysrKy0tLS0tDQo+PiAgICAxIGZpbGUgY2hhbmdlZCwgMjQgaW5zZXJ0aW9u
cygrKSwgNSBkZWxldGlvbnMoLSkNCj4+DQo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvYW1kZ3B1X2RldmljZS5jDQo+PiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2FtZGdwdV9kZXZpY2UuYw0KPj4gaW5kZXggNDU3ZjVkMi4uNGY1NDY2MCAxMDA2NDQNCj4+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kZXZpY2UuYw0KPj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RldmljZS5jDQo+PiBAQCAtMzI5
Miw4ICszMjkyLDE2IEBAIGludCBhbWRncHVfZGV2aWNlX2luaXQoc3RydWN0IGFtZGdwdV9kZXZp
Y2UgKmFkZXYsDQo+PiAgICAJLyogbXVzdCBzdWNjZWVkLiAqLw0KPj4gICAgCWFtZGdwdV9yYXNf
cmVzdW1lKGFkZXYpOw0KPj4gICAgDQo+PiAtCXF1ZXVlX2RlbGF5ZWRfd29yayhzeXN0ZW1fd3Es
ICZhZGV2LT5kZWxheWVkX2luaXRfd29yaywNCj4+ICsJaWYgKGFtZGdwdV9zcmlvdl92ZihhZGV2
KSkgew0KPj4gKwkJciA9IGFtZGdwdV9pYl9yaW5nX3Rlc3RzKGFkZXYpOw0KPj4gKwkJaWYgKHIp
IHsNCj4+ICsJCQlEUk1fRVJST1IoImliIHJpbmcgdGVzdCBmYWlsZWQgKCVkKS5cbiIsIHIpOw0K
Pj4gKwkJCXJldHVybiByOw0KPj4gKwkJfQ0KPj4gKwl9IGVsc2Ugew0KPj4gKwkJcXVldWVfZGVs
YXllZF93b3JrKHN5c3RlbV93cSwgJmFkZXYtPmRlbGF5ZWRfaW5pdF93b3JrLA0KPj4gICAgCQkJ
ICAgbXNlY3NfdG9famlmZmllcyhBTURHUFVfUkVTVU1FX01TKSk7DQo+PiArCX0NCj4+ICAgIA0K
Pj4gICAgCXIgPSBzeXNmc19jcmVhdGVfZmlsZXMoJmFkZXYtPmRldi0+a29iaiwgYW1kZ3B1X2Rl
dl9hdHRyaWJ1dGVzKTsNCj4+ICAgIAlpZiAocikgew0KPj4gQEAgLTMzMjksNyArMzMzNyw4IEBA
IHZvaWQgYW1kZ3B1X2RldmljZV9maW5pKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQ0KPj4g
ICAgCWludCByOw0KPj4gICAgDQo+PiAgICAJRFJNX0lORk8oImFtZGdwdTogZmluaXNoaW5nIGRl
dmljZS5cbiIpOw0KPj4gLQlmbHVzaF9kZWxheWVkX3dvcmsoJmFkZXYtPmRlbGF5ZWRfaW5pdF93
b3JrKTsNCj4+ICsJaWYgKCFhbWRncHVfc3Jpb3ZfdmYoYWRldikpDQo+PiArCQlmbHVzaF9kZWxh
eWVkX3dvcmsoJmFkZXYtPmRlbGF5ZWRfaW5pdF93b3JrKTsNCj4gWW91IGNhbiBkcm9wIHRoaXMg
Y2hhbmdlLCBmbHVzaGluZyBhIHdvcmsgd2hpY2ggd2FzIG5ldmVyIHNjaGVkdWxlZCBpcyBoYXJt
bGVzcy4NCj4NCj4+ICAgIAlhZGV2LT5zaHV0ZG93biA9IHRydWU7DQo+PiAgICANCj4+ICAgIAkv
KiBtYWtlIHN1cmUgSUIgdGVzdCBmaW5pc2hlZCBiZWZvcmUgZW50ZXJpbmcgZXhjbHVzaXZlIG1v
ZGUgQEANCj4+IC0zNDI1LDcgKzM0MzQsOCBAQCBpbnQgYW1kZ3B1X2RldmljZV9zdXNwZW5kKHN0
cnVjdCBkcm1fZGV2aWNlICpkZXYsIGJvb2wgZmJjb24pDQo+PiAgICAJaWYgKGZiY29uKQ0KPj4g
ICAgCQlhbWRncHVfZmJkZXZfc2V0X3N1c3BlbmQoYWRldiwgMSk7DQo+PiAgICANCj4+IC0JY2Fu
Y2VsX2RlbGF5ZWRfd29ya19zeW5jKCZhZGV2LT5kZWxheWVkX2luaXRfd29yayk7DQo+PiArCWlm
ICghYW1kZ3B1X3NyaW92X3ZmKGFkZXYpKQ0KPj4gKwkJY2FuY2VsX2RlbGF5ZWRfd29ya19zeW5j
KCZhZGV2LT5kZWxheWVkX2luaXRfd29yayk7DQo+PiAgICANCj4+ICAgIAlpZiAoIWFtZGdwdV9k
ZXZpY2VfaGFzX2RjX3N1cHBvcnQoYWRldikpIHsNCj4+ICAgIAkJLyogdHVybiBvZmYgZGlzcGxh
eSBodyAqLw0KPj4gQEAgLTM1MjgsOCArMzUzOCwxNiBAQCBpbnQgYW1kZ3B1X2RldmljZV9yZXN1
bWUoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgYm9vbCBmYmNvbikNCj4+ICAgIAlpZiAocikNCj4+
ICAgIAkJcmV0dXJuIHI7DQo+PiAgICANCj4+IC0JcXVldWVfZGVsYXllZF93b3JrKHN5c3RlbV93
cSwgJmFkZXYtPmRlbGF5ZWRfaW5pdF93b3JrLA0KPj4gKwlpZiAoYW1kZ3B1X3NyaW92X3ZmKGFk
ZXYpKSB7DQo+PiArCQlyID0gYW1kZ3B1X2liX3JpbmdfdGVzdHMoYWRldik7DQo+PiArCQlpZiAo
cikgew0KPj4gKwkJCURSTV9FUlJPUigiaWIgcmluZyB0ZXN0IGZhaWxlZCAoJWQpLlxuIiwgcik7
DQo+PiArCQkJcmV0dXJuIHI7DQo+PiArCQl9DQo+PiArCX0gZWxzZSB7DQo+PiArCQlxdWV1ZV9k
ZWxheWVkX3dvcmsoc3lzdGVtX3dxLCAmYWRldi0+ZGVsYXllZF9pbml0X3dvcmssDQo+PiAgICAJ
CQkgICBtc2Vjc190b19qaWZmaWVzKEFNREdQVV9SRVNVTUVfTVMpKTsNCj4+ICsJfQ0KPj4gICAg
DQo+PiAgICAJaWYgKCFhbWRncHVfZGV2aWNlX2hhc19kY19zdXBwb3J0KGFkZXYpKSB7DQo+PiAg
ICAJCS8qIHBpbiBjdXJzb3JzICovDQo+PiBAQCAtMzU1NCw3ICszNTcyLDggQEAgaW50IGFtZGdw
dV9kZXZpY2VfcmVzdW1lKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsIGJvb2wgZmJjb24pDQo+PiAg
ICAJCXJldHVybiByOw0KPj4gICAgDQo+PiAgICAJLyogTWFrZSBzdXJlIElCIHRlc3RzIGZsdXNo
ZWQgKi8NCj4+IC0JZmx1c2hfZGVsYXllZF93b3JrKCZhZGV2LT5kZWxheWVkX2luaXRfd29yayk7
DQo+PiArCWlmICghYW1kZ3B1X3NyaW92X3ZmKGFkZXYpKQ0KPj4gKwkJZmx1c2hfZGVsYXllZF93
b3JrKCZhZGV2LT5kZWxheWVkX2luaXRfd29yayk7DQo+PiAgICANCj4+ICAgIAkvKiBibGF0IHRo
ZSBtb2RlIGJhY2sgaW4gKi8NCj4+ICAgIAlpZiAoZmJjb24pIHsNCj4gX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18NCj4gYW1kLWdmeCBtYWlsaW5nIGxpc3QN
Cj4gYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcNCj4gaHR0cHM6Ly9uYW0xMS5zYWZlbGlu
a3MucHJvdGVjdGlvbi5vdXRsb29rLmNvbS8/dXJsPWh0dHBzJTNBJTJGJTJGbGlzdA0KPiBzLmZy
ZWVkZXNrdG9wLm9yZyUyRm1haWxtYW4lMkZsaXN0aW5mbyUyRmFtZC1nZngmYW1wO2RhdGE9MDIl
N0MwMSU3Q01vDQo+IG5rLkxpdSU0MGFtZC5jb20lN0NlMmM1YmQxM2Q3Y2U0MjYwOTA3MTA4ZDgx
YzBjMzIyZCU3QzNkZDg5NjFmZTQ4ODRlNjANCj4gOGUxMWE4MmQ5OTRlMTgzZCU3QzAlN0MwJTdD
NjM3MjkwMTg1OTkzNzYzMzU1JmFtcDtzZGF0YT1jVGw2MSUyQm5GbTNLTQ0KPiBxOFU3cDBnc2Vt
N1RUaUF5OGladVZiWXltd0pTY2pvJTNEJmFtcDtyZXNlcnZlZD0wDQoNCl9fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFt
ZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
L21haWxtYW4vbGlzdGluZm8vYW1kLWdmeAo=
