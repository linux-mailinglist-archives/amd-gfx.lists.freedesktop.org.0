Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 91DB0E3AED
	for <lists+amd-gfx@lfdr.de>; Thu, 24 Oct 2019 20:27:24 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0F7B26E5DA;
	Thu, 24 Oct 2019 18:27:23 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM01-BY2-obe.outbound.protection.outlook.com
 (mail-eopbgr810045.outbound.protection.outlook.com [40.107.81.45])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 78CF06E5DA
 for <amd-gfx@lists.freedesktop.org>; Thu, 24 Oct 2019 18:27:21 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=V91sQ9I3814tprRiRDtpLyb2qwE/yXv8+q9Xh5yxnsOKYrur1nsM1BrilD+VLtlutXxxBBWjroCQH4HvBcmqRqV+zvfIOTss17E2X2HSNTEtZdujvDfEDRXxRtMTObEvUMv7VEk7ehImLnxLETi5mlcCF969bPmF/kyyITZDOSm01b/Mp/lDqqUf0cPRn2Q19htz3sj9M6pkNFmju1x6icW8XgpbJ2BfF59/rN+tYFPVD4scuXO6+Maqmto708tGfSfaGI9guha+JDtb8MlskfX7QBBFiBcNRvB8tHVQXr/RGj3yNym0X+iKDTT/ebsdQIlnoB8zf4FL42a/VVaNyw==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=qii37scCg8Hu5T7515+bw3s9yC4qR7EgUUINvwysMQw=;
 b=n6GpDPQ7beRMbKO+X3SdI17Qc8+qY6YtccGEtf4UPPuZiQweNCA+BcufHeUnD1xEDxBDYbJQf1dfSJ/BPCI8CbRm/I8mmvYdsvbcF/dKJGwV32j6VUuwFFjzz4GuUwTTw9gWxw1KZ7RTZBt18NM3HUiDWteqrhLcgE01KRxMEYeFvdJfZ/sWGbqpSamX6XGKCPlX7F+awKIjnu7nWxwi1cXEgWkUXzXy8xweTpGrz+qcVJuWT2HVZeQjb1DOOT6Zr/87aE/a53CVSqLhldwwfhLswBG3lfjCJQ5TzbW18M8ziPIAp5flV00bZakUh3oAQNyDkvdeFPFrXjSnveWe6Q==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from DM6PR12MB3355.namprd12.prod.outlook.com (20.178.198.10) by
 DM6PR12MB2601.namprd12.prod.outlook.com (20.176.117.91) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2387.20; Thu, 24 Oct 2019 18:27:20 +0000
Received: from DM6PR12MB3355.namprd12.prod.outlook.com
 ([fe80::6006:422c:ecdf:e550]) by DM6PR12MB3355.namprd12.prod.outlook.com
 ([fe80::6006:422c:ecdf:e550%6]) with mapi id 15.20.2367.027; Thu, 24 Oct 2019
 18:27:20 +0000
From: "Tuikov, Luben" <Luben.Tuikov@amd.com>
To: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: [PATCH] Ring range argument improvements (v3)
Thread-Topic: [PATCH] Ring range argument improvements (v3)
Thread-Index: AQHVipir6ZrchqF+7U6NTJvW3cfUTQ==
Date: Thu, 24 Oct 2019 18:27:20 +0000
Message-ID: <20191024182659.6744-1-luben.tuikov@amd.com>
References: <20191023211113.20593-1-luben.tuikov@amd.com>
In-Reply-To: <20191023211113.20593-1-luben.tuikov@amd.com>
Accept-Language: en-CA, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: YT1PR01CA0014.CANPRD01.PROD.OUTLOOK.COM (2603:10b6:b01::27)
 To DM6PR12MB3355.namprd12.prod.outlook.com
 (2603:10b6:5:38::10)
x-ms-exchange-messagesentrepresentingtype: 1
x-mailer: git-send-email 2.23.0.385.gbc12974a89
x-originating-ip: [165.204.55.250]
x-ms-publictraffictype: Email
x-ms-office365-filtering-ht: Tenant
x-ms-office365-filtering-correlation-id: d1771ada-3b6f-4f52-7421-08d758afce39
x-ms-traffictypediagnostic: DM6PR12MB2601:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <DM6PR12MB260135F40866C7402F5A03BC996A0@DM6PR12MB2601.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:4502;
x-forefront-prvs: 0200DDA8BE
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(39860400002)(366004)(136003)(376002)(396003)(346002)(199004)(189003)(316002)(4326008)(2501003)(14454004)(5660300002)(36756003)(54906003)(6512007)(2906002)(6436002)(66556008)(25786009)(478600001)(66476007)(2351001)(66946007)(52116002)(5640700003)(186003)(86362001)(64756008)(1076003)(81156014)(446003)(76176011)(11346002)(6116002)(6486002)(8676002)(99286004)(50226002)(6916009)(476003)(81166006)(66446008)(8936002)(26005)(305945005)(2616005)(66066001)(7736002)(14444005)(71200400001)(486006)(71190400001)(256004)(6506007)(386003)(3846002)(102836004);
 DIR:OUT; SFP:1101; SCL:1; SRVR:DM6PR12MB2601;
 H:DM6PR12MB3355.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: 5IiRW6LaOxYTvIOEXHq90vHB6ioylRSKeABuFhrJ/qZl5l2CeaIfB+yVYRu7gIhs2J2wgU6miSXjzJ0tAPqjB2SVbQhtHmzpkRcYcqDt6DpCSBl/KhVMDMTMi9Hv91tceSOCARKEi31WUlzL5LlMBvPEMk1Qu6QWjGgB4/zeas57xH2Zbrn5zXnIaxmTnMzvYqstGp0WkyyiRYOZOYvMPoSNi9zecsQll0SlneNEGPA46kGmPk3E+sReZPjwphlCfEHuzPpCZvHQxcvfYBX3nq5bNOGF/IrZwzWFRrAItLSljAL5qf+rz3G9IypZYNGxCYXBbVNMA85lqRmasUctCtdM/L25NomI63Og5X3jmCq7QV6UoHAtGHLr0TeYLjg9ZmJKoHOnc9l6VEH+6vtSmKqtAcfkb55Qx/yFJG2JnubdSQ4sSlPd+WCiCE4mYtZO
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: d1771ada-3b6f-4f52-7421-08d758afce39
X-MS-Exchange-CrossTenant-originalarrivaltime: 24 Oct 2019 18:27:20.0396 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: ysgSYgu0h79j/2S1TiH81jHtDOG2RsbU55RNB1qfXbNpS7FSIi1gnk6LnAtr9FdJ
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM6PR12MB2601
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=qii37scCg8Hu5T7515+bw3s9yC4qR7EgUUINvwysMQw=;
 b=a6TO1qGgNREvHjx0H01pOp6x0DaJSdE04O7OwtD9Mq3YK7XESP2WORevwBJzdb/axXx9nlZqo4dmgNxbu7t22nE3MWHaPRRw1dXVeZUk2fI5GRnAzkght8N1ZUJ1fOjbZwdhudTh2XRN0Rajtk1mNSyKGv4MR7WpOqhV8HDywEo=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Luben.Tuikov@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "StDenis, Tom" <Tom.StDenis@amd.com>, "Pelloux-prayer,
 Pierre-eric" <Pierre-eric.Pelloux-prayer@amd.com>, "Tuikov,
 Luben" <Luben.Tuikov@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

VGhlIHZhbGlkIGNvbnRlbnRzIG9mIHJpbmdzIGlzIGludmFyaWFibHkgdGhlCnJhbmdlIFtycHRy
LCB3cHRyKS4gQXVnbWVudCB0aGUgcmluZyByYW5nZSB0bwppbnRlcnByZXQgdGhlICcuJyAoImhl
cmUiKSBub3RhdGlvbiB0byBtZWFuIHJwdHIKb3Igd3B0ciB3aGVuIGdpdmVuIG9uIHRoZSBsZWZ0
IG9yIHJpZ2h0IG9mIHRoZQpyYW5nZSBsaW1pdHMuIFRoaXMgYXVnbWVudHMgdGhlIHJhbmdlIG5v
dGF0aW9uIGFzCmZvbGxvd3M6CgoxKSBObyByYW5nZSBnaXZlbiwgcHJpbnQgdGhlIHdob2xlIHJp
bmcuCgoyKSBbLl0gb3IgWy46Ll0sIHByaW50IFtycHRyLCB3cHRyXSwKCjMpIFsuOmtdLCBrID49
IDAsIHByaW50IFtycHRyLCBycHRyICsga10sIHRoaXMgaXMKYSByYW5nZSByZWxhdGl2ZSB0byB0
aGUgbGVmdCBsaW1pdCwgcnB0ciwgdGhlCmNvbnN1bWVyIHBvaW50ZXIuCgo0KSBbazouXSBvciBb
a10sIGsgPj0gMCwgcHJpbnQgW3dwdHIgLSBrLCB3cHRyXSwgdGhpcyBpcwphIHJhbmdlIHJlbGF0
aXZlIHRvIHRoZSByaWdodCBsaW1pdCwgd3B0ciwgdGhlCnByb2R1Y2VyIHBvaW50ZXIuCgo1KSBb
azpyXSwgYm90aCBncmVhdGVyIHRoYW4gMCwgcHJpbnQgW2sscl0gb2YgdGhlCm5hbWVkIHJpbmcu
IFRoaXMgaXMgYW4gYWJzb2x1dGUgcmFuZ2UgbGltaXQKbm90YXRpb24uCgpJbiBhbnkgY2FzZSwg
dGhlIHJpbmcgY29udGVudHMgaXMgaW50ZXJwcmV0ZWQsIGlmCnRoZSByaW5nIGNvbnRlbnRzIGNh
biBiZSBpbnRlcnByZXRlZC4KCnYyOiBGaXggc3BlbGxpbmcgbWlzdGFrZSBpbiB0aGUgY29tbWl0
IG1lc3NhZ2U6CiJ0aGVuIiAtLT4gInRoYW4iLgp2MzogRml4IGRlY29kaW5nLgoKU2lnbmVkLW9m
Zi1ieTogTHViZW4gVHVpa292IDxsdWJlbi50dWlrb3ZAYW1kLmNvbT4KLS0tCiBkb2MvdW1yLjEg
ICAgICAgICAgIHwgMzMgKysrKysrKysrKysrKysrKystLS0tLS0tLQogc3JjL2FwcC9yaW5nX3Jl
YWQuYyB8IDU5ICsrKysrKysrKysrKysrKysrKysrKysrKysrKy0tLS0tLS0tLS0tLS0tLS0tLQog
MiBmaWxlcyBjaGFuZ2VkLCA1OSBpbnNlcnRpb25zKCspLCAzMyBkZWxldGlvbnMoLSkKCmRpZmYg
LS1naXQgYS9kb2MvdW1yLjEgYi9kb2MvdW1yLjEKaW5kZXggMWU1ODVmYS4uMTM3ZmYxZSAxMDA2
NDQKLS0tIGEvZG9jL3Vtci4xCisrKyBiL2RvYy91bXIuMQpAQCAtMjE2LDE3ICsyMTYsMzAgQEAg
RGlzYXNzZW1ibGUgJ3NpemUnIGJ5dGVzIChpbiBoZXgpIGZyb20gYSBnaXZlbiBhZGRyZXNzIChp
biBoZXgpLiAgVGhlIHNpemUgY2FuIGIKIHNwZWNpZmllZCBhcyB6ZXJvIHRvIGhhdmUgdW1yIHRy
eSBhbmQgY29tcHV0ZSB0aGUgc2hhZGVyIHNpemUuCiAKIC5TSCBSaW5nIGFuZCBQTTQgRGVjb2Rp
bmcKLS5JUCAiLS1yaW5nLCAtUiA8c3RyaW5nPihmcm9tOnRvKSIKLVJlYWQgdGhlIGNvbnRlbnRz
IG9mIGEgcmluZyBuYW1lZCBieSB0aGUgc3RyaW5nIHdpdGhvdXQgdGhlCi0uQiBhbWRncHVfcmlu
Z18KLXByZWZpeC4gIEJ5IGRlZmF1bHQgaXQgd2lsbCByZWFkIGFuZCBkaXNwbGF5IHRoZSBlbnRp
cmUgcmluZy4gIEEKLXN0YXJ0aW5nIGFuZCBlbmRpbmcgYWRkcmVzcyBjYW4gYmUgc3BlY2lmaWVk
IGluIGRlY2ltYWwgb3IgYSAnLicgY2FuCi1iZSB1c2VkIHRvIGluZGljYXRlIHJlbGF0aXZlIHRv
IHRoZSBjdXJyZW50CisuSVAgIi0tcmluZywgLVIgPHN0cmluZz5bcmFuZ2VdIgorUmVhZCB0aGUg
Y29udGVudHMgb2YgdGhlIHJpbmcgbmFtZWQgYnkgdGhlIHN0cmluZworLkIgYW1kZ3B1X3Jpbmdf
PHN0cmluZz4sCitpLmUuIHdpdGhvdXQgdGhlCisuQiBhbWRncHVfcmluZworcHJlZml4LiBCeSBk
ZWZhdWx0IGl0IHJlYWRzIGFuZCBwcmludHMgdGhlIGVudGlyZSByaW5nLiAgQQorcmFuZ2UgaXMg
b3B0aW9uYWwgYW5kIGhhcyB0aGUgZm9ybWF0ICdbc3RhcnQ6ZW5kXScuIFRoZQorc3RhcnRpbmcg
YW5kIGVuZGluZyBhZGRyZXNzIGFyZSBub24tbmVnYXRpdmUgaW50ZWdlcnMgb3IKK3RoZSAnLicg
KGRvdCkgc3ltYm9sLCB3aGljaCBpbmRpY2F0ZXMgdGhlCisuQiBycHRyCit3aGVuIG9uIHRoZSBs
ZWZ0IHNpZGUgYW5kCiAuQiB3cHRyCi1wb2ludGVyLiAgRm9yIGV4YW1wbGUsICItUiBnZngiIHdv
dWxkIHJlYWQgdGhlIGVudGlyZSBnZnggcmluZywKLSItUiBnZnhbMDoxNl0iIHdvdWxkIGRpc3Bs
YXkgdGhlIGNvbnRlbnRzIGZyb20gMCB0byAxNiBpbmNsdXNpdmVseSwgYW5kCi0iLVIgZ2Z4Wy5d
IiBvciAiLVIgZ2Z4Wy46Ll0iIHdvdWxkIGRpc3BsYXkgdGhlIGxhc3QgMzIgd29yZHMgcmVsYXRp
dmUKLXRvIHJwdHIuCit3aGVuIG9uIHRoZSByaWdodCBzaWRlIG9mIHRoZSByYW5nZS4KK0ZvciBp
bnN0YW5jZSwKKyItUiBnZngiIHByaW50cyB0aGUgZW50aXJlIGdmeCByaW5nLCAiLVIgZ2Z4WzA6
MTZdIiBwcmludHMKK3RoZSBjb250ZW50cyBmcm9tIDAgdG8gMTYgaW5jbHVzaXZlbHksIGFuZCAi
LVIgZ2Z4Wy5dIiBvcgorIi1SIGdmeFsuOi5dIiBwcmludHMgdGhlIHJhbmdlIFtycHRyLHdwdHJd
LiBXaGVuIG9uZSBvZgordGhlIHJhbmdlIGxpbWl0cyBpcyBhIG51bWJlciB3aGlsZSB0aGUgb3Ro
ZXIgaXMgdGhlIGRvdCwgJy4nLAordGhlbiB0aGUgbnVtYmVyIGluZGljYXRlcyB0aGUgcmVsYXRp
dmUgcmFuZ2UgYmVmb3JlIG9yIGFmdGVyIHRoZQorY29ycmVzcG9uZGluZyByaW5nIHBvaW50ZXIu
IEZvciBpbnN0YW5jZSwgIi1SIHNkbWEwWzE2Oi5dIgorcHJpbnRzIFt3cHRyLTE2LCB3cHRyXSB3
b3JkcyBvZiB0aGUgU0RNQTAgcmluZywgYW5kCisiLVIgc2RtYTFbLjozMl0iIHByaW50cyBbcnB0
ciwgcnB0ciszMl0gZG91YmxlLXdvcmRzIG9mIHRoZQorU0RNQTEgcmluZy4gVGhlIGNvbnRlbnRz
IG9mIHRoZSByaW5nIGlzIGFsd2F5cyBpbnRlcnByZXRlZCwKK2lmIGl0IGNhbiBiZSBpbnRlcnBy
ZXRlZC4KIC5JUCAiLS1kdW1wLWliLCAtZGkgW3ZtaWRAXWFkZHJlc3MgbGVuZ3RoIFtwbV0iCiBE
dW1wIGFuIElCIHBhY2tldCBhdCBhbiBhZGRyZXNzIHdpdGggYW4gb3B0aW9uYWwgVk1JRC4gIFRo
ZSBsZW5ndGggaXMgc3BlY2lmaWVkCiBpbiBieXRlcy4gIFRoZSB0eXBlIG9mIGRlY29kZXIgPHBt
PiBpcyBvcHRpb25hbCBhbmQgZGVmYXVsdHMgdG8gUE00IHBhY2tldHMuCmRpZmYgLS1naXQgYS9z
cmMvYXBwL3JpbmdfcmVhZC5jIGIvc3JjL2FwcC9yaW5nX3JlYWQuYwppbmRleCBlZjBjNzExLi5i
OTk1MTg4IDEwMDY0NAotLS0gYS9zcmMvYXBwL3JpbmdfcmVhZC5jCisrKyBiL3NyYy9hcHAvcmlu
Z19yZWFkLmMKQEAgLTI4LDcgKzI4LDcgQEAKIHZvaWQgdW1yX3JlYWRfcmluZyhzdHJ1Y3QgdW1y
X2FzaWMgKmFzaWMsIGNoYXIgKnJpbmdwYXRoKQogewogCWNoYXIgcmluZ25hbWVbMzJdLCBmcm9t
WzMyXSwgdG9bMzJdOwotCWludCB1c2VfZGVjb2RlciwgZW5hYmxlX2RlY29kZXIsIGdwcnM7CisJ
aW50ICBlbmFibGVfZGVjb2RlciwgZ3ByczsKIAl1aW50MzJfdCB3cHRyLCBycHRyLCBkcnZfd3B0
ciwgcmluZ3NpemUsIHN0YXJ0LCBlbmQsIHZhbHVlLAogCQkgKnJpbmdfZGF0YTsKIAlzdHJ1Y3Qg
dW1yX3JpbmdfZGVjb2RlciBkZWNvZGVyLCAqcGRlY29kZXIsICpwcGRlY29kZXI7CkBAIC03Mywz
MyArNzMsNDYgQEAgdm9pZCB1bXJfcmVhZF9yaW5nKHN0cnVjdCB1bXJfYXNpYyAqYXNpYywgY2hh
ciAqcmluZ3BhdGgpCiAJZHJ2X3dwdHIgPSByaW5nX2RhdGFbMl08PDI7CiAKIAkvKiBkZWZhdWx0
IHRvIHJlYWRpbmcgZW50aXJlIHJpbmcgKi8KLQl1c2VfZGVjb2RlciA9IDA7CiAJaWYgKCFmcm9t
WzBdKSB7CiAJCXN0YXJ0ID0gMDsKIAkJZW5kICAgPSByaW5nc2l6ZS00OwogCX0gZWxzZSB7Ci0J
CWlmIChmcm9tWzBdID09ICcuJyB8fCAhdG9bMF0gfHwgdG9bMF0gPT0gJy4nKSB7Ci0JCQkvKiBz
dGFydCBmcm9tIDMyIHdvcmRzIHByaW9yIHRvIHJwdHIgdXAgdG8gd3B0ciAqLwotCQkJZW5kID0g
d3B0cjsKLQkJCWlmIChycHRyIDwgKDMxKjQpKSB7Ci0JCQkJc3RhcnQgPSBycHRyIC0gMzEqNDsK
LQkJCQlzdGFydCArPSByaW5nc2l6ZTsKKwkJaWYgKGZyb21bMF0gPT0gJy4nKSB7CisJCQlpZiAo
dG9bMF0gPT0gMCB8fCB0b1swXSA9PSAnLicpIHsKKwkJCQkvKiBOb3RhdGlvbjogWy5dIG9yIFsu
Oi5dLCBtZWFuaW5nCisJCQkJICogW3JwdHIsIHdwdHJdLgorCQkJCSAqLworCQkJCXN0YXJ0ID0g
cnB0cjsKKwkJCQllbmQgPSB3cHRyOwogCQkJfSBlbHNlIHsKLQkJCQlzdGFydCA9IHJwdHIgLSAz
MSo0OworCQkJCS8qIE5vdGF0aW9uOiBbLjprXSwgayA+PTAsIG1lYW5pbmcKKwkJCQkgKiBbcnB0
ciwgcnRwcitrXSBkb3VibGUtd29yZHMuCisJCQkJICovCisJCQkJc3RhcnQgPSBycHRyOworCQkJ
CXNzY2FuZih0bywgIiUiU0NOdTMyLCAmZW5kKTsKKwkJCQllbmQgKj0gNDsKKwkJCQllbmQgPSAo
c3RhcnQgKyBlbmQgKyByaW5nc2l6ZSkgJSByaW5nc2l6ZTsKIAkJCX0KLQogCQl9IGVsc2Ugewog
CQkJc3NjYW5mKGZyb20sICIlIlNDTnUzMiwgJnN0YXJ0KTsKLQkJCXNzY2FuZih0bywgIiUiU0NO
dTMyLCAmZW5kKTsKIAkJCXN0YXJ0ICo9IDQ7Ci0JCQllbmQgKj0gNDsKLQkJCXVzZV9kZWNvZGVy
ID0gMTsKLQkJCWRlY29kZXIucG00LmN1cl9vcGNvZGUgPSAweEZGRkZGRkZGOwotCQkJZGVjb2Rl
ci5zZG1hLmN1cl9vcGNvZGUgPSAweEZGRkZGRkZGOworCisJCQlpZiAodG9bMF0gIT0gMCAmJiB0
b1swXSAhPSAnLicpIHsKKwkJCQkvKiBbazpyXSA9PT4gYWJzb2x1dGUgW2ssIHJdLgorCQkJCSAq
LworCQkJCXNzY2FuZih0bywgIiUiU0NOdTMyLCAmZW5kKTsKKwkJCQllbmQgKj0gNDsKKwkJCQlz
dGFydCAlPSByaW5nc2l6ZTsKKwkJCQllbmQgJT0gcmluZ3NpemU7CisJCQl9IGVsc2UgeworCQkJ
CS8qIHRvWzBdIGlzIDAgb3IgJy4nLAorCQkJCSAqIFtrXSBvciBbazouXSA9PT4gW3dwdHIgLSBr
LCB3cHRyXQorCQkJCSAqLworCQkJCXN0YXJ0ID0gKHdwdHIgLSBzdGFydCArIHJpbmdzaXplKSAl
IHJpbmdzaXplOworCQkJCWVuZCA9IHdwdHI7CisJCQl9CiAJCX0KIAl9Ci0JZW5kICU9IHJpbmdz
aXplOwotCXN0YXJ0ICU9IHJpbmdzaXplOwogCiAJLyogZHVtcCBkYXRhICovCiAJcHJpbnRmKCJc
biVzLiVzLnJwdHIgPT0gJWx1XG4lcy4lcy53cHRyID09ICVsdVxuJXMuJXMuZHJ2X3dwdHIgPT0g
JWx1XG4iLApAQCAtMTA3LDIzICsxMjAsMjMgQEAgdm9pZCB1bXJfcmVhZF9yaW5nKHN0cnVjdCB1
bXJfYXNpYyAqYXNpYywgY2hhciAqcmluZ3BhdGgpCiAJCWFzaWMtPmFzaWNuYW1lLCByaW5nbmFt
ZSwgKHVuc2lnbmVkIGxvbmcpd3B0ciA+PiAyLAogCQlhc2ljLT5hc2ljbmFtZSwgcmluZ25hbWUs
ICh1bnNpZ25lZCBsb25nKWRydl93cHRyID4+IDIpOwogCisJaWYgKGVuYWJsZV9kZWNvZGVyKSB7
CisJCWRlY29kZXIucG00LmN1cl9vcGNvZGUgPSAweEZGRkZGRkZGOworCQlkZWNvZGVyLnNkbWEu
Y3VyX29wY29kZSA9IDB4RkZGRkZGRkY7CisJfQorCiAJZG8gewogCQl2YWx1ZSA9IHJpbmdfZGF0
YVsoc3RhcnQrMTIpPj4yXTsKIAkJcHJpbnRmKCIlcy4lcy5yaW5nWyVzJTRsdSVzXSA9PSAlczB4
JTA4bHglcyAgICIsCiAJCQlhc2ljLT5hc2ljbmFtZSwgcmluZ25hbWUsCiAJCQlCTFVFLCAodW5z
aWduZWQgbG9uZylzdGFydCA+PiAyLCBSU1QsCiAJCQlZRUxMT1csICh1bnNpZ25lZCBsb25nKXZh
bHVlLCBSU1QpOwotCQlpZiAoZW5hYmxlX2RlY29kZXIgJiYgc3RhcnQgPT0gcnB0ciAmJiBzdGFy
dCAhPSB3cHRyKSB7Ci0JCQl1c2VfZGVjb2RlciA9IDE7Ci0JCQlkZWNvZGVyLnBtNC5jdXJfb3Bj
b2RlID0gMHhGRkZGRkZGRjsKLQkJCWRlY29kZXIuc2RtYS5jdXJfb3Bjb2RlID0gMHhGRkZGRkZG
RjsKLQkJfQogCQlwcmludGYoIiAlYyVjJWMgIiwKIAkJCShzdGFydCA9PSBycHRyKSA/ICdyJyA6
ICcuJywKIAkJCShzdGFydCA9PSB3cHRyKSA/ICd3JyA6ICcuJywKIAkJCShzdGFydCA9PSBkcnZf
d3B0cikgPyAnRCcgOiAnLicpOwogCQlkZWNvZGVyLm5leHRfaWJfaW5mby5hZGRyID0gc3RhcnQg
LyA0OwotCQlpZiAodXNlX2RlY29kZXIpCisJCWlmIChlbmFibGVfZGVjb2RlcikKIAkJCXVtcl9w
cmludF9kZWNvZGUoYXNpYywgJmRlY29kZXIsIHZhbHVlKTsKIAkJcHJpbnRmKCJcbiIpOwogCQlz
dGFydCArPSA0OwotLSAKMi4yMy4wLjM4NS5nYmMxMjk3NGE4OQoKX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdm
eEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFp
bG1hbi9saXN0aW5mby9hbWQtZ2Z4
