Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 253EB274D5
	for <lists+amd-gfx@lfdr.de>; Thu, 23 May 2019 05:46:20 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A3E2989C08;
	Thu, 23 May 2019 03:46:18 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM05-DM3-obe.outbound.protection.outlook.com
 (mail-eopbgr730077.outbound.protection.outlook.com [40.107.73.77])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D415389BF0
 for <amd-gfx@lists.freedesktop.org>; Thu, 23 May 2019 03:46:16 +0000 (UTC)
Received: from MN2PR12MB3344.namprd12.prod.outlook.com (20.178.241.74) by
 MN2PR12MB3181.namprd12.prod.outlook.com (20.179.81.155) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1922.16; Thu, 23 May 2019 03:46:14 +0000
Received: from MN2PR12MB3344.namprd12.prod.outlook.com
 ([fe80::18c6:70fa:9f7e:7018]) by MN2PR12MB3344.namprd12.prod.outlook.com
 ([fe80::18c6:70fa:9f7e:7018%2]) with mapi id 15.20.1922.018; Thu, 23 May 2019
 03:46:14 +0000
From: "Quan, Evan" <Evan.Quan@amd.com>
To: "Deng, Emily" <Emily.Deng@amd.com>, "amd-gfx@lists.freedesktop.org"
 <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH v2] drm/amdgpu: Need to set the baco cap before baco reset
Thread-Topic: [PATCH v2] drm/amdgpu: Need to set the baco cap before baco reset
Thread-Index: AQHVERdrFYeLMA8biEitNiuWnEOi2aZ4ENiA
Date: Thu, 23 May 2019 03:46:13 +0000
Message-ID: <MN2PR12MB33444847ACDEA3838E1B55D1E4010@MN2PR12MB3344.namprd12.prod.outlook.com>
References: <1558582017-7545-1-git-send-email-Emily.Deng@amd.com>
In-Reply-To: <1558582017-7545-1-git-send-email-Emily.Deng@amd.com>
Accept-Language: en-US, zh-CN
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: bfa2a6f3-1692-4395-c9c7-08d6df31341f
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600141)(711020)(4605104)(4618075)(2017052603328)(7193020);
 SRVR:MN2PR12MB3181; 
x-ms-traffictypediagnostic: MN2PR12MB3181:
x-ms-exchange-purlcount: 1
x-microsoft-antispam-prvs: <MN2PR12MB3181422382EB694D88FEFD43E4010@MN2PR12MB3181.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:5516;
x-forefront-prvs: 00462943DE
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(39860400002)(366004)(376002)(346002)(136003)(396003)(13464003)(189003)(199004)(110136005)(76176011)(6506007)(99286004)(2906002)(14444005)(305945005)(26005)(2501003)(6116002)(33656002)(7696005)(3846002)(186003)(102836004)(8936002)(81166006)(8676002)(81156014)(256004)(53546011)(68736007)(66066001)(86362001)(5660300002)(74316002)(7736002)(52536014)(486006)(66556008)(76116006)(66946007)(53936002)(6246003)(4326008)(71190400001)(73956011)(476003)(66476007)(66446008)(71200400001)(64756008)(11346002)(6436002)(229853002)(14454004)(478600001)(55016002)(9686003)(6306002)(72206003)(25786009)(966005)(446003)(316002);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MN2PR12MB3181;
 H:MN2PR12MB3344.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: ILoBUpQNqXKShYwoKzyiO/UtKqSHSQdEQf1ejO32bK6xs2QE4nzRJUTKWNq3c4s828oNieqXrEz0e458bG7myMEOCnqiMS3kAklp/0KhUmDOC44mFaq7ATnPzLP6NSYGZ2qkrJkTuUD2iMDj01OuuE1kfgllV2ilXNOauLu9xA5eZBY4NxhdcB01KPbPWrRVZ8ZZfIxJsUVIpnDYELFd61p/BcA7wdlIyqntDTSMx3nNvMDkCOsVIo7fcyw9XvCcm9SjiYDaUMRNsDP9LBxLKdJyXnNGqek1RL4V6Z0OsuHSCQRYeGqJqq7RUvZYUf+8wFijGybTkvLQBFdxOqRBIvsa8QjVsCT8Nf1huWHz2MLA6DPpepYcwp0u+dTQ3WMd6GjzF6d0ZXp6seHFWDhew0D//DGFEriYQAahrPe1mQY=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: bfa2a6f3-1692-4395-c9c7-08d6df31341f
X-MS-Exchange-CrossTenant-originalarrivaltime: 23 May 2019 03:46:13.8465 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: equan@amd.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB3181
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=YpPVRKWU5J8J85IK/xCkjwy29szD+D46dK2JDBA65DQ=;
 b=n76qO04ZCGnLPYHb97nO6hvHMFqmo6Watg+fqAEdTzSHFMSObW5+Teyq8b6MMSysF/5DKBFJJP76rKv7TURgLTzCs0BSsRbJTforKgJrjlOznb0pfPUufUNxwQt7yGZpk19Su5yOptNGISzP3kSCwD3ESCMd4ZVS3/F6vCZhhVA=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Evan.Quan@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Deng, Emily" <Emily.Deng@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

SSB3b3VsZCBhY3R1YWxseSBleHBlY3QgdGhlIGZvbGxvd2luZ3MNCg0KICAgICAgIGlmICghYW1k
Z3B1X3NyaW92X3ZmKGFkZXYpICYmIGFtZGdwdV9hc2ljX25lZWRfcmVzZXRfb25faW5pdChhZGV2
KSkgeyAgICAgICAgIC0tPiBubyB0b3VjaCBmb3IgdGhpcw0KKyAgICAgICAgICAgIGlmIChhbWRn
cHVfcGFzc3Rocm91Z2goYWRldikgJiYgYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzICYmIGFkZXYt
PnBvd2VycGxheS5wcF9mdW5jcy0+c2V0X2FzaWNfYmFjb19jYXApIHsNCisgICAgICAgICAgICAg
ICAgICAgICAgIHIgPSBhZGV2LT5wb3dlcnBsYXkucHBfZnVuY3MtPnNldF9hc2ljX2JhY29fY2Fw
KGFkZXYtPnBvd2VycGxheS5wcF9oYW5kbGUpOw0KKyAgICAgICAgICAgICAgICAgICAgICAgaWYg
KHIpIHsNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2X2VycihhZGV2LT5kZXYs
ICJzZXQgYmFjbyBjYXBhYmlsaXR5IGZhaWxlZFxuIik7DQorICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGdvdG8gZmFpbGVkOw0KKyAgICAgICAgICAgICAgICAgICAgICAgfQ0KKyAgICAg
ICAgICAgICAgIH0NCisNCg0KQW5kIGJ0dyB0aGUgY29tbWl0IGRlc2NyaXB0aW9uIHdhcyBsb3N0
IGNvbXBhcmVkIHdpdGggdjEuDQoNClJlZ2FyZHMsDQpFdmFuDQo+IC0tLS0tT3JpZ2luYWwgTWVz
c2FnZS0tLS0tDQo+IEZyb206IGFtZC1nZnggPGFtZC1nZngtYm91bmNlc0BsaXN0cy5mcmVlZGVz
a3RvcC5vcmc+IE9uIEJlaGFsZiBPZg0KPiBFbWlseSBEZW5nDQo+IFNlbnQ6IFRodXJzZGF5LCBN
YXkgMjMsIDIwMTkgMTE6MjcgQU0NCj4gVG86IGFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
DQo+IENjOiBEZW5nLCBFbWlseSA8RW1pbHkuRGVuZ0BhbWQuY29tPg0KPiBTdWJqZWN0OiBbUEFU
Q0ggdjJdIGRybS9hbWRncHU6IE5lZWQgdG8gc2V0IHRoZSBiYWNvIGNhcCBiZWZvcmUgYmFjbw0K
PiByZXNldA0KPiANCj4gW0NBVVRJT046IEV4dGVybmFsIEVtYWlsXQ0KPiANCj4gU2lnbmVkLW9m
Zi1ieTogRW1pbHkgRGVuZyA8RW1pbHkuRGVuZ0BhbWQuY29tPg0KPiAtLS0NCj4gIGRyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kZXZpY2UuYyAgICAgICAgIHwgMTAgKysrKysrKysr
LQ0KPiAgZHJpdmVycy9ncHUvZHJtL2FtZC9pbmNsdWRlL2tnZF9wcF9pbnRlcmZhY2UuaCAgICAg
fCAgMSArDQo+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9hbWRfcG93ZXJwbGF5LmMg
ICAgICB8IDE2DQo+ICsrKysrKysrKysrKysrKysNCj4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvcG93
ZXJwbGF5L2h3bWdyL3ZlZ2ExMF9od21nci5jIHwgIDEgKw0KPiAgLi4uL2FtZC9wb3dlcnBsYXkv
aHdtZ3IvdmVnYTEwX3Byb2Nlc3NwcHRhYmxlcy5jICAgfCAyMg0KPiArKysrKysrKysrKysrKysr
KysrKysrDQo+ICAuLi4vYW1kL3Bvd2VycGxheS9od21nci92ZWdhMTBfcHJvY2Vzc3BwdGFibGVz
LmggICB8ICAxICsNCj4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2luYy9od21nci5o
ICAgICAgICAgIHwgIDEgKw0KPiAgNyBmaWxlcyBjaGFuZ2VkLCA1MSBpbnNlcnRpb25zKCspLCAx
IGRlbGV0aW9uKC0pDQo+IA0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X2RldmljZS5jDQo+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1
X2RldmljZS5jDQo+IGluZGV4IGQ2Mjg2ZWQuLjUyODg3NjMgMTAwNjQ0DQo+IC0tLSBhL2RyaXZl
cnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kZXZpY2UuYw0KPiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMNCj4gQEAgLTI2MDUsNyArMjYwNSwxNSBA
QCBpbnQgYW1kZ3B1X2RldmljZV9pbml0KHN0cnVjdCBhbWRncHVfZGV2aWNlDQo+ICphZGV2LA0K
PiAgICAgICAgIC8qIGNoZWNrIGlmIHdlIG5lZWQgdG8gcmVzZXQgdGhlIGFzaWMNCj4gICAgICAg
ICAgKiAgRS5nLiwgZHJpdmVyIHdhcyBub3QgY2xlYW5seSB1bmxvYWRlZCBwcmV2aW91c2x5LCBl
dGMuDQo+ICAgICAgICAgICovDQo+IC0gICAgICAgaWYgKCFhbWRncHVfc3Jpb3ZfdmYoYWRldikg
JiYNCj4gYW1kZ3B1X2FzaWNfbmVlZF9yZXNldF9vbl9pbml0KGFkZXYpKSB7DQo+ICsgICAgICAg
aWYgKGFtZGdwdV9wYXNzdGhyb3VnaChhZGV2KSAmJg0KPiBhbWRncHVfYXNpY19uZWVkX3Jlc2V0
X29uX2luaXQoYWRldikpIHsNCj4gKyAgICAgICAgICAgICAgIGlmIChhZGV2LT5wb3dlcnBsYXku
cHBfZnVuY3MgJiYgYWRldi0+cG93ZXJwbGF5LnBwX2Z1bmNzLQ0KPiA+c2V0X2FzaWNfYmFjb19j
YXApIHsNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgciA9IGFkZXYtPnBvd2VycGxheS5wcF9m
dW5jcy0+c2V0X2FzaWNfYmFjb19jYXAoYWRldi0NCj4gPnBvd2VycGxheS5wcF9oYW5kbGUpOw0K
PiArICAgICAgICAgICAgICAgICAgICAgICBpZiAocikgew0KPiArICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIGRldl9lcnIoYWRldi0+ZGV2LCAic2V0IGJhY28gY2FwYWJpbGl0eSBmYWls
ZWRcbiIpOw0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8gZmFpbGVkOw0K
PiArICAgICAgICAgICAgICAgICAgICAgICB9DQo+ICsgICAgICAgICAgICAgICB9DQo+ICsNCj4g
ICAgICAgICAgICAgICAgIHIgPSBhbWRncHVfYXNpY19yZXNldChhZGV2KTsNCj4gICAgICAgICAg
ICAgICAgIGlmIChyKSB7DQo+ICAgICAgICAgICAgICAgICAgICAgICAgIGRldl9lcnIoYWRldi0+
ZGV2LCAiYXNpYyByZXNldCBvbiBpbml0IGZhaWxlZFxuIik7DQo+IGRpZmYgLS1naXQgYS9kcml2
ZXJzL2dwdS9kcm0vYW1kL2luY2x1ZGUva2dkX3BwX2ludGVyZmFjZS5oDQo+IGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9pbmNsdWRlL2tnZF9wcF9pbnRlcmZhY2UuaA0KPiBpbmRleCAyYjU3OWJhLi4w
ZGNjMThkIDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2luY2x1ZGUva2dkX3Bw
X2ludGVyZmFjZS5oDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvaW5jbHVkZS9rZ2RfcHBf
aW50ZXJmYWNlLmgNCj4gQEAgLTI4NSw2ICsyODUsNyBAQCBzdHJ1Y3QgYW1kX3BtX2Z1bmNzIHsN
Cj4gICAgICAgICBpbnQgKCpzZXRfaGFyZF9taW5fZmNsa19ieV9mcmVxKSh2b2lkICpoYW5kbGUs
IHVpbnQzMl90IGNsb2NrKTsNCj4gICAgICAgICBpbnQgKCpzZXRfbWluX2RlZXBfc2xlZXBfZGNl
ZmNsaykodm9pZCAqaGFuZGxlLCB1aW50MzJfdCBjbG9jayk7DQo+ICAgICAgICAgaW50ICgqZ2V0
X2FzaWNfYmFjb19jYXBhYmlsaXR5KSh2b2lkICpoYW5kbGUsIGJvb2wgKmNhcCk7DQo+ICsgICAg
ICAgaW50ICgqc2V0X2FzaWNfYmFjb19jYXApKHZvaWQgKmhhbmRsZSk7DQo+ICAgICAgICAgaW50
ICgqZ2V0X2FzaWNfYmFjb19zdGF0ZSkodm9pZCAqaGFuZGxlLCBpbnQgKnN0YXRlKTsNCj4gICAg
ICAgICBpbnQgKCpzZXRfYXNpY19iYWNvX3N0YXRlKSh2b2lkICpoYW5kbGUsIGludCBzdGF0ZSk7
DQo+ICAgICAgICAgaW50ICgqZ2V0X3BwZmVhdHVyZV9zdGF0dXMpKHZvaWQgKmhhbmRsZSwgY2hh
ciAqYnVmKTsNCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2Ft
ZF9wb3dlcnBsYXkuYw0KPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2FtZF9wb3dl
cnBsYXkuYw0KPiBpbmRleCBiZWExNTg3Li45ODU2NzYwIDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL3Bvd2VycGxheS9hbWRfcG93ZXJwbGF5LmMNCj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9wb3dlcnBsYXkvYW1kX3Bvd2VycGxheS5jDQo+IEBAIC0xNDA0LDYgKzE0MDQs
MjEgQEAgc3RhdGljIGludCBwcF9zZXRfYWN0aXZlX2Rpc3BsYXlfY291bnQodm9pZA0KPiAqaGFu
ZGxlLCB1aW50MzJfdCBjb3VudCkNCj4gICAgICAgICByZXR1cm4gcmV0Ow0KPiAgfQ0KPiANCj4g
K3N0YXRpYyBpbnQgcHBfc2V0X2FzaWNfYmFjb19jYXAodm9pZCAqaGFuZGxlKQ0KPiArew0KPiAr
ICAgICAgIHN0cnVjdCBwcF9od21nciAqaHdtZ3IgPSBoYW5kbGU7DQo+ICsNCj4gKyAgICAgICBp
ZiAoIWh3bWdyKQ0KPiArICAgICAgICAgICAgICAgcmV0dXJuIC1FSU5WQUw7DQo+ICsNCj4gKyAg
ICAgICBpZiAoIWh3bWdyLT5wbV9lbiB8fCAhaHdtZ3ItPmh3bWdyX2Z1bmMtPnNldF9hc2ljX2Jh
Y29fY2FwKQ0KPiArICAgICAgICAgICAgICAgcmV0dXJuIDA7DQo+ICsNCj4gKyAgICAgICBod21n
ci0+aHdtZ3JfZnVuYy0+c2V0X2FzaWNfYmFjb19jYXAoaHdtZ3IpOw0KPiArDQo+ICsgICAgICAg
cmV0dXJuIDA7DQo+ICt9DQo+ICsNCj4gIHN0YXRpYyBpbnQgcHBfZ2V0X2FzaWNfYmFjb19jYXBh
YmlsaXR5KHZvaWQgKmhhbmRsZSwgYm9vbCAqY2FwKQ0KPiAgew0KPiAgICAgICAgIHN0cnVjdCBw
cF9od21nciAqaHdtZ3IgPSBoYW5kbGU7DQo+IEBAIC0xNTQ2LDYgKzE1NjEsNyBAQCBzdGF0aWMg
Y29uc3Qgc3RydWN0IGFtZF9wbV9mdW5jcyBwcF9kcG1fZnVuY3MgPQ0KPiB7DQo+ICAgICAgICAg
LnNldF9oYXJkX21pbl9kY2VmY2xrX2J5X2ZyZXEgPSBwcF9zZXRfaGFyZF9taW5fZGNlZmNsa19i
eV9mcmVxLA0KPiAgICAgICAgIC5zZXRfaGFyZF9taW5fZmNsa19ieV9mcmVxID0gcHBfc2V0X2hh
cmRfbWluX2ZjbGtfYnlfZnJlcSwNCj4gICAgICAgICAuZ2V0X2FzaWNfYmFjb19jYXBhYmlsaXR5
ID0gcHBfZ2V0X2FzaWNfYmFjb19jYXBhYmlsaXR5LA0KPiArICAgICAgIC5zZXRfYXNpY19iYWNv
X2NhcCA9IHBwX3NldF9hc2ljX2JhY29fY2FwLA0KPiAgICAgICAgIC5nZXRfYXNpY19iYWNvX3N0
YXRlID0gcHBfZ2V0X2FzaWNfYmFjb19zdGF0ZSwNCj4gICAgICAgICAuc2V0X2FzaWNfYmFjb19z
dGF0ZSA9IHBwX3NldF9hc2ljX2JhY29fc3RhdGUsDQo+ICAgICAgICAgLmdldF9wcGZlYXR1cmVf
c3RhdHVzID0gcHBfZ2V0X3BwZmVhdHVyZV9zdGF0dXMsDQo+IGRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL3Bvd2VycGxheS9od21nci92ZWdhMTBfaHdtZ3IuYw0KPiBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvcG93ZXJwbGF5L2h3bWdyL3ZlZ2ExMF9od21nci5jDQo+IGluZGV4IGVkNmM2
MzguLjhkYzIzZWIgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5
L2h3bWdyL3ZlZ2ExMF9od21nci5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJw
bGF5L2h3bWdyL3ZlZ2ExMF9od21nci5jDQo+IEBAIC01MTcxLDYgKzUxNzEsNyBAQCBzdGF0aWMg
Y29uc3Qgc3RydWN0IHBwX2h3bWdyX2Z1bmMNCj4gdmVnYTEwX2h3bWdyX2Z1bmNzID0gew0KPiAg
ICAgICAgIC5vZG5fZWRpdF9kcG1fdGFibGUgPSB2ZWdhMTBfb2RuX2VkaXRfZHBtX3RhYmxlLA0K
PiAgICAgICAgIC5nZXRfcGVyZm9ybWFuY2VfbGV2ZWwgPSB2ZWdhMTBfZ2V0X3BlcmZvcm1hbmNl
X2xldmVsLA0KPiAgICAgICAgIC5nZXRfYXNpY19iYWNvX2NhcGFiaWxpdHkgPSBzbXU5X2JhY29f
Z2V0X2NhcGFiaWxpdHksDQo+ICsgICAgICAgLnNldF9hc2ljX2JhY29fY2FwID0gdmVnYTEwX2Jh
Y29fc2V0X2NhcCwNCj4gICAgICAgICAuZ2V0X2FzaWNfYmFjb19zdGF0ZSA9IHNtdTlfYmFjb19n
ZXRfc3RhdGUsDQo+ICAgICAgICAgLnNldF9hc2ljX2JhY29fc3RhdGUgPSB2ZWdhMTBfYmFjb19z
ZXRfc3RhdGUsDQo+ICAgICAgICAgLmVuYWJsZV9tZ3B1X2Zhbl9ib29zdCA9IHZlZ2ExMF9lbmFi
bGVfbWdwdV9mYW5fYm9vc3QsDQo+IGRpZmYgLS1naXQNCj4gYS9kcml2ZXJzL2dwdS9kcm0vYW1k
L3Bvd2VycGxheS9od21nci92ZWdhMTBfcHJvY2Vzc3BwdGFibGVzLmMNCj4gYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL3Bvd2VycGxheS9od21nci92ZWdhMTBfcHJvY2Vzc3BwdGFibGVzLmMNCj4gaW5k
ZXggYjY3NjdkNy4uOGZkZWIyMyAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9w
b3dlcnBsYXkvaHdtZ3IvdmVnYTEwX3Byb2Nlc3NwcHRhYmxlcy5jDQo+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvcG93ZXJwbGF5L2h3bWdyL3ZlZ2ExMF9wcm9jZXNzcHB0YWJsZXMuYw0KPiBA
QCAtMTM3MSwzICsxMzcxLDI1IEBAIGludCB2ZWdhMTBfZ2V0X3Bvd2VycGxheV90YWJsZV9lbnRy
eShzdHJ1Y3QNCj4gcHBfaHdtZ3IgKmh3bWdyLA0KPiANCj4gICAgICAgICByZXR1cm4gcmVzdWx0
Ow0KPiAgfQ0KPiArDQo+ICtpbnQgdmVnYTEwX2JhY29fc2V0X2NhcChzdHJ1Y3QgcHBfaHdtZ3Ig
Kmh3bWdyKQ0KPiArew0KPiArICAgICAgIGludCByZXN1bHQgPSAwOw0KPiArICAgICAgIGNvbnN0
IEFUT01fVmVnYTEwX1BPV0VSUExBWVRBQkxFICpwb3dlcnBsYXlfdGFibGU7DQo+ICsNCj4gKyAg
ICAgICBwb3dlcnBsYXlfdGFibGUgPSBnZXRfcG93ZXJwbGF5X3RhYmxlKGh3bWdyKTsNCj4gKw0K
PiArICAgICAgIFBQX0FTU0VSVF9XSVRIX0NPREUoKHBvd2VycGxheV90YWJsZSAhPSBOVUxMKSwN
Cj4gKyAgICAgICAgICAgICAgICJNaXNzaW5nIFBvd2VyUGxheSBUYWJsZSEiLCByZXR1cm4gLTEp
Ow0KPiArDQo+ICsgICAgICAgcmVzdWx0ID0gY2hlY2tfcG93ZXJwbGF5X3RhYmxlcyhod21nciwg
cG93ZXJwbGF5X3RhYmxlKTsNCj4gKw0KPiArICAgICAgIFBQX0FTU0VSVF9XSVRIX0NPREUoKHJl
c3VsdCA9PSAwKSwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICJjaGVja19wb3dlcnBs
YXlfdGFibGVzIGZhaWxlZCIsIHJldHVybiByZXN1bHQpOw0KPiArDQo+ICsgICAgICAgc2V0X2h3
X2NhcCgNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgaHdtZ3IsDQo+ICsgICAgICAgICAgICAg
ICAgICAgICAgIDAgIT0gKGxlMzJfdG9fY3B1KHBvd2VycGxheV90YWJsZS0+dWxQbGF0Zm9ybUNh
cHMpICYNCj4gQVRPTV9WRUdBMTBfUFBfUExBVEZPUk1fQ0FQX0JBQ08pLA0KPiArICAgICAgICAg
ICAgICAgICAgICAgICBQSE1fUGxhdGZvcm1DYXBzX0JBQ08pOw0KPiArICAgICAgIHJldHVybiBy
ZXN1bHQ7DQo+ICt9DQo+IFwgTm8gbmV3bGluZSBhdCBlbmQgb2YgZmlsZQ0KPiBkaWZmIC0tZ2l0
DQo+IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaHdtZ3IvdmVnYTEwX3Byb2Nlc3Nw
cHRhYmxlcy5oDQo+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaHdtZ3IvdmVnYTEw
X3Byb2Nlc3NwcHRhYmxlcy5oDQo+IGluZGV4IGQ4M2VkMmEuLmRhNWZiZWMgMTAwNjQ0DQo+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2h3bWdyL3ZlZ2ExMF9wcm9jZXNzcHB0
YWJsZXMuaA0KPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9od21nci92ZWdh
MTBfcHJvY2Vzc3BwdGFibGVzLmgNCj4gQEAgLTU5LDQgKzU5LDUgQEAgZXh0ZXJuIGludA0KPiB2
ZWdhMTBfZ2V0X251bWJlcl9vZl9wb3dlcnBsYXlfdGFibGVfZW50cmllcyhzdHJ1Y3QgcHBfaHdt
Z3INCj4gKmh3bWdyKTsNCj4gIGV4dGVybiBpbnQgdmVnYTEwX2dldF9wb3dlcnBsYXlfdGFibGVf
ZW50cnkoc3RydWN0IHBwX2h3bWdyICpod21nciwNCj4gdWludDMyX3QgZW50cnlfaW5kZXgsDQo+
ICAgICAgICAgICAgICAgICBzdHJ1Y3QgcHBfcG93ZXJfc3RhdGUgKnBvd2VyX3N0YXRlLCBpbnQg
KCpjYWxsX2JhY2tfZnVuYykoc3RydWN0DQo+IHBwX2h3bWdyICosIHZvaWQgKiwNCj4gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QgcHBfcG93ZXJfc3RhdGUgKiwgdm9pZCAq
LCB1aW50MzJfdCkpOw0KPiArZXh0ZXJuIGludCB2ZWdhMTBfYmFjb19zZXRfY2FwKHN0cnVjdCBw
cF9od21nciAqaHdtZ3IpOw0KPiAgI2VuZGlmDQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL3Bvd2VycGxheS9pbmMvaHdtZ3IuaA0KPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93
ZXJwbGF5L2luYy9od21nci5oDQo+IGluZGV4IGJhYzNkODUuLjE0NDgwYWUgMTAwNjQ0DQo+IC0t
LSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2luYy9od21nci5oDQo+ICsrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2luYy9od21nci5oDQo+IEBAIC0zMzksNiArMzM5
LDcgQEAgc3RydWN0IHBwX2h3bWdyX2Z1bmMgew0KPiAgICAgICAgIGludCAoKnNldF9oYXJkX21p
bl9kY2VmY2xrX2J5X2ZyZXEpKHN0cnVjdCBwcF9od21nciAqaHdtZ3IsDQo+IHVpbnQzMl90IGNs
b2NrKTsNCj4gICAgICAgICBpbnQgKCpzZXRfaGFyZF9taW5fZmNsa19ieV9mcmVxKShzdHJ1Y3Qg
cHBfaHdtZ3IgKmh3bWdyLCB1aW50MzJfdA0KPiBjbG9jayk7DQo+ICAgICAgICAgaW50ICgqZ2V0
X2FzaWNfYmFjb19jYXBhYmlsaXR5KShzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyLCBib29sICpjYXAp
Ow0KPiArICAgICAgIGludCAoKnNldF9hc2ljX2JhY29fY2FwKShzdHJ1Y3QgcHBfaHdtZ3IgKmh3
bWdyKTsNCj4gICAgICAgICBpbnQgKCpnZXRfYXNpY19iYWNvX3N0YXRlKShzdHJ1Y3QgcHBfaHdt
Z3IgKmh3bWdyLCBlbnVtDQo+IEJBQ09fU1RBVEUgKnN0YXRlKTsNCj4gICAgICAgICBpbnQgKCpz
ZXRfYXNpY19iYWNvX3N0YXRlKShzdHJ1Y3QgcHBfaHdtZ3IgKmh3bWdyLCBlbnVtDQo+IEJBQ09f
U1RBVEUgc3RhdGUpOw0KPiAgICAgICAgIGludCAoKmdldF9wcGZlYXR1cmVfc3RhdHVzKShzdHJ1
Y3QgcHBfaHdtZ3IgKmh3bWdyLCBjaGFyICpidWYpOw0KPiAtLQ0KPiAyLjcuNA0KPiANCj4gX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18NCj4gYW1kLWdmeCBt
YWlsaW5nIGxpc3QNCj4gYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcNCj4gaHR0cHM6Ly9s
aXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4DQpfX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlz
dAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9w
Lm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZng=
