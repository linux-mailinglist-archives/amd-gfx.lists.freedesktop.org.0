Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id E66BF6A0A9
	for <lists+amd-gfx@lfdr.de>; Tue, 16 Jul 2019 05:01:00 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7D2CB6E081;
	Tue, 16 Jul 2019 03:00:59 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM04-BN3-obe.outbound.protection.outlook.com
 (mail-eopbgr680086.outbound.protection.outlook.com [40.107.68.86])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 488D76E081
 for <amd-gfx@lists.freedesktop.org>; Tue, 16 Jul 2019 03:00:58 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=Nb/pXnRY68lUxOKPIx8rQeg7/AObe6f7QowjHUlr+9Tc7Sw/efPGSlPzC0RnGHWw9tdWNikrQ0utLUWwBdlQUgmIg343/ri1LRfiI46Z3neWhtSm3afASpqsyM4+h/EUlGI+AWX36WVBWsa+U/OWIqzmbx9qgmE0QfnNiYgiKxq7si+IdxfOIhk3tRiVlLprkg3i7DEjUj8y4ur3wVYCxshnca/1Fpw0A19oDpa1bBW+hdXvsdyobWWZso3csAAFUcu2cgR5/4jfqwOAYy8Xq4ZcwbKfraDr+hZjj3uPH0pp5XF3w6j9loJVrEFlLZKVOr7iwuG+bUioFIsxQ/qsiQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=JnJCKKBibMJs2XnEKGEztD1FzynMtmqw3m6NCdth+uI=;
 b=V786pv4IA4akN7VHioz+ryRjy/IzRHo0tEE9/7PfplnAYklI9fnkooj/jtbhPn2J2eDwb4ERjPcIki6/2u9qmf8CzgOr3J798xs+oVvVwok7DfrTdMPUKM6b/ow3+CK9Uph0ksSu5KPtbP8tXXYssQJBFuiZKN7Brmjdt/OhukkNROLFzld8j4RIHY3Bz+oTk6HioMqv0UnfFC2jUiqnS3LdkpmLm8y6rvQUzH5IvZh+p9QwV8xPDDX2E6OuBOznOJ4E9f8MzbaSzCsPESsPWOz/n+Zf/UkI5O/6evCvXtHJY2koysIrfBLcBM2At02PPDpQE/Yua1WUwJTk/qxkzg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1;spf=pass
 smtp.mailfrom=amd.com;dmarc=pass action=none header.from=amd.com;dkim=pass
 header.d=amd.com;arc=none
Received: from MN2PR12MB3344.namprd12.prod.outlook.com (20.178.241.74) by
 MN2PR12MB2893.namprd12.prod.outlook.com (20.179.83.213) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2073.10; Tue, 16 Jul 2019 03:00:56 +0000
Received: from MN2PR12MB3344.namprd12.prod.outlook.com
 ([fe80::9170:5b18:b195:24b1]) by MN2PR12MB3344.namprd12.prod.outlook.com
 ([fe80::9170:5b18:b195:24b1%3]) with mapi id 15.20.2073.012; Tue, 16 Jul 2019
 03:00:56 +0000
From: "Quan, Evan" <Evan.Quan@amd.com>
To: "Quan, Evan" <Evan.Quan@amd.com>, "amd-gfx@lists.freedesktop.org"
 <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH 2/2] drm/amd/powerplay: input check for unsupported
 message/clock index
Thread-Topic: [PATCH 2/2] drm/amd/powerplay: input check for unsupported
 message/clock index
Thread-Index: AQHVOIRq7XiJqMzZqki7F1ctwaI40KbMlExg
Date: Tue, 16 Jul 2019 03:00:56 +0000
Message-ID: <MN2PR12MB3344B2BC012897CEF7323C13E4CE0@MN2PR12MB3344.namprd12.prod.outlook.com>
References: <20190712073505.17563-1-evan.quan@amd.com>
 <20190712073505.17563-2-evan.quan@amd.com>
In-Reply-To: <20190712073505.17563-2-evan.quan@amd.com>
Accept-Language: en-US, zh-CN
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 4dc19d28-d5ce-4d8a-f0cc-08d70999d2d5
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600148)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:MN2PR12MB2893; 
x-ms-traffictypediagnostic: MN2PR12MB2893:
x-microsoft-antispam-prvs: <MN2PR12MB28931319224CDD602F781F0DE4CE0@MN2PR12MB2893.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:628;
x-forefront-prvs: 0100732B76
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(396003)(39860400002)(366004)(136003)(346002)(376002)(13464003)(199004)(189003)(186003)(8936002)(86362001)(30864003)(53546011)(102836004)(478600001)(6506007)(53936002)(76176011)(316002)(486006)(7696005)(25786009)(256004)(14444005)(99286004)(15650500001)(9686003)(476003)(6116002)(3846002)(55016002)(26005)(5660300002)(446003)(11346002)(52536014)(6436002)(229853002)(6246003)(14454004)(71200400001)(71190400001)(68736007)(76116006)(110136005)(33656002)(2501003)(66066001)(66476007)(8676002)(81166006)(7736002)(66556008)(64756008)(66446008)(2906002)(74316002)(66946007)(81156014)(305945005);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MN2PR12MB2893;
 H:MN2PR12MB3344.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: KIsFIGhs/V+9av6HOAtCMlJ+qIbavhOJ07w8vZbZ63N1fmyz57Z1f/98ngTLdpZ3rb/XWhF6cwsJCYexr4V4+rJC+QM/vvOK6EgjdXKv2cYDX9LPnq9jWz9x0uVuazBP/ttCfduijm7PH6UAmj3Atl18k6wkP75coMoLH3tmYcHn79RtLw/bUVXNPcBdX8dymTG4RPMEdjbLAjKFeb19Er5jvnyS3FMV9oUrNoaPHCBumdc8ANVRHFquzDTzS07PM+Dv7qGqUYiUwxxoHeITsAtuA/YXl03iwXH/l/JYEKzq8LphfSYt85dlW7KYy8OAVA5Uvej1PJxyMtk8hoEwXaYmLl8Y7Xg8H30iZdCcV8MVdPa/zkn7a/g+Chc+3ttz+2dTdCahjxI+Y6PdGQCTyDpo6h7ISovuQlPrlD6qwT4=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 4dc19d28-d5ce-4d8a-f0cc-08d70999d2d5
X-MS-Exchange-CrossTenant-originalarrivaltime: 16 Jul 2019 03:00:56.6857 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: equan@amd.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB2893
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector1-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=JnJCKKBibMJs2XnEKGEztD1FzynMtmqw3m6NCdth+uI=;
 b=g9qpT+JhsaD5N5L7XBJPifHqCsPtOrN7TdWyT/ZxkZztzS9l3kTRyWfq9OgvOQ9Zm112L97vKn4jfiOvrV7xUmT7Z/mUvTSfwxJqL7iMDjTzDlc/Bvy0Dm4Jg2P5ZHyYpgBOiHzy9szmjJaQrOzFxfh3Uk+W3Ek2fzteNBqtcqo=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Evan.Quan@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

UGluZy4uCgo+IC0tLS0tT3JpZ2luYWwgTWVzc2FnZS0tLS0tCj4gRnJvbTogRXZhbiBRdWFuIDxl
dmFuLnF1YW5AYW1kLmNvbT4KPiBTZW50OiBGcmlkYXksIEp1bHkgMTIsIDIwMTkgMzozNSBQTQo+
IFRvOiBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwo+IENjOiBRdWFuLCBFdmFuIDxFdmFu
LlF1YW5AYW1kLmNvbT4KPiBTdWJqZWN0OiBbUEFUQ0ggMi8yXSBkcm0vYW1kL3Bvd2VycGxheTog
aW5wdXQgY2hlY2sgZm9yIHVuc3VwcG9ydGVkCj4gbWVzc2FnZS9jbG9jayBpbmRleAo+IAo+IFRo
aXMgY2FuIGF2b2lkIHRoZW0gdG8gYmUgaGFuZGxlZCBpbiBhIHdyb25nIHdheSB3aXRob3V0IG5v
dGljZS4KPiBTaW5jZSBub3QgYWxsIFNNVSBtZXNzYWdlcy9jbG9ja3MgYXJlIHN1cHBvcnRlZCBv
biBldmVyeSBTTVUxMSBBU0lDLgo+IAo+IENoYW5nZS1JZDogSTQ0MGI4MDgzM2M4MTA2NmNkMzY2
MTNiZWFlNTU1ZjJmYTA2ODE5OWYKPiBTaWduZWQtb2ZmLWJ5OiBFdmFuIFF1YW4gPGV2YW4ucXVh
bkBhbWQuY29tPgo+IC0tLQo+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9hbWRncHVf
c211LmMgfCAxOCArKysrKysrKy0tLS0KPiBkcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9u
YXZpMTBfcHB0LmMgfCAzMSArKysrKysrKysrKysrKystLS0tLQo+IGRyaXZlcnMvZ3B1L2RybS9h
bWQvcG93ZXJwbGF5L3NtdV92MTFfMC5jICB8IDMzCj4gKysrKysrKysrKysrKysrKysrLS0tLSAg
ZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvdmVnYTIwX3BwdC5jCj4gfCAzMSArKysrKysr
KysrKysrKystLS0tLQo+ICA0IGZpbGVzIGNoYW5nZWQsIDg4IGluc2VydGlvbnMoKyksIDI1IGRl
bGV0aW9ucygtKQo+IAo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxh
eS9hbWRncHVfc211LmMKPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2FtZGdwdV9z
bXUuYwo+IGluZGV4IDY5YTMwNzgxODFlZi4uNzAxNWZlMTAxMWU4IDEwMDY0NAo+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L2FtZGdwdV9zbXUuYwo+ICsrKyBiL2RyaXZlcnMv
Z3B1L2RybS9hbWQvcG93ZXJwbGF5L2FtZGdwdV9zbXUuYwo+IEBAIC0zMDcsNyArMzA3LDcgQEAg
aW50IHNtdV91cGRhdGVfdGFibGUoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsCj4gZW51bSBzbXVf
dGFibGVfaWQgdGFibGVfaW5kZXgsCj4gIAlpbnQgcmV0ID0gMDsKPiAgCWludCB0YWJsZV9pZCA9
IHNtdV90YWJsZV9nZXRfaW5kZXgoc211LCB0YWJsZV9pbmRleCk7Cj4gCj4gLQlpZiAoIXRhYmxl
X2RhdGEgfHwgdGFibGVfaWQgPj0gc211X3RhYmxlLT50YWJsZV9jb3VudCkKPiArCWlmICghdGFi
bGVfZGF0YSB8fCB0YWJsZV9pZCA+PSBzbXVfdGFibGUtPnRhYmxlX2NvdW50IHx8IHRhYmxlX2lk
IDwgMCkKPiAgCQlyZXR1cm4gLUVJTlZBTDsKPiAKPiAgCXRhYmxlID0gJnNtdV90YWJsZS0+dGFi
bGVzW3RhYmxlX2luZGV4XTsgQEAgLTQyNywxMCArNDI3LDEyIEBACj4gaW50IHNtdV9mZWF0dXJl
X2luaXRfZHBtKHN0cnVjdCBzbXVfY29udGV4dCAqc211KSAgaW50Cj4gc211X2ZlYXR1cmVfaXNf
ZW5hYmxlZChzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgZW51bQo+IHNtdV9mZWF0dXJlX21hc2sg
bWFzaykgIHsKPiAgCXN0cnVjdCBzbXVfZmVhdHVyZSAqZmVhdHVyZSA9ICZzbXUtPnNtdV9mZWF0
dXJlOwo+IC0JdWludDMyX3QgZmVhdHVyZV9pZDsKPiArCWludCBmZWF0dXJlX2lkOwo+ICAJaW50
IHJldCA9IDA7Cj4gCj4gIAlmZWF0dXJlX2lkID0gc211X2ZlYXR1cmVfZ2V0X2luZGV4KHNtdSwg
bWFzayk7Cj4gKwlpZiAoZmVhdHVyZV9pZCA8IDApCj4gKwkJcmV0dXJuIDA7Cj4gCj4gIAlXQVJO
X09OKGZlYXR1cmVfaWQgPiBmZWF0dXJlLT5mZWF0dXJlX251bSk7Cj4gCj4gQEAgLTQ0NSwxMCAr
NDQ3LDEyIEBAIGludCBzbXVfZmVhdHVyZV9zZXRfZW5hYmxlZChzdHJ1Y3Qgc211X2NvbnRleHQK
PiAqc211LCBlbnVtIHNtdV9mZWF0dXJlX21hc2sgbWFzaywKPiAgCQkJICAgIGJvb2wgZW5hYmxl
KQo+ICB7Cj4gIAlzdHJ1Y3Qgc211X2ZlYXR1cmUgKmZlYXR1cmUgPSAmc211LT5zbXVfZmVhdHVy
ZTsKPiAtCXVpbnQzMl90IGZlYXR1cmVfaWQ7Cj4gKwlpbnQgZmVhdHVyZV9pZDsKPiAgCWludCBy
ZXQgPSAwOwo+IAo+ICAJZmVhdHVyZV9pZCA9IHNtdV9mZWF0dXJlX2dldF9pbmRleChzbXUsIG1h
c2spOwo+ICsJaWYgKGZlYXR1cmVfaWQgPCAwKQo+ICsJCXJldHVybiAtRUlOVkFMOwo+IAo+ICAJ
V0FSTl9PTihmZWF0dXJlX2lkID4gZmVhdHVyZS0+ZmVhdHVyZV9udW0pOwo+IAo+IEBAIC00NzEs
MTAgKzQ3NSwxMiBAQCBpbnQgc211X2ZlYXR1cmVfc2V0X2VuYWJsZWQoc3RydWN0IHNtdV9jb250
ZXh0Cj4gKnNtdSwgZW51bSBzbXVfZmVhdHVyZV9tYXNrIG1hc2ssICBpbnQKPiBzbXVfZmVhdHVy
ZV9pc19zdXBwb3J0ZWQoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGVudW0KPiBzbXVfZmVhdHVy
ZV9tYXNrIG1hc2spICB7Cj4gIAlzdHJ1Y3Qgc211X2ZlYXR1cmUgKmZlYXR1cmUgPSAmc211LT5z
bXVfZmVhdHVyZTsKPiAtCXVpbnQzMl90IGZlYXR1cmVfaWQ7Cj4gKwlpbnQgZmVhdHVyZV9pZDsK
PiAgCWludCByZXQgPSAwOwo+IAo+ICAJZmVhdHVyZV9pZCA9IHNtdV9mZWF0dXJlX2dldF9pbmRl
eChzbXUsIG1hc2spOwo+ICsJaWYgKGZlYXR1cmVfaWQgPCAwKQo+ICsJCXJldHVybiAwOwo+IAo+
ICAJV0FSTl9PTihmZWF0dXJlX2lkID4gZmVhdHVyZS0+ZmVhdHVyZV9udW0pOwo+IAo+IEBAIC00
OTAsMTAgKzQ5NiwxMiBAQCBpbnQgc211X2ZlYXR1cmVfc2V0X3N1cHBvcnRlZChzdHJ1Y3QKPiBz
bXVfY29udGV4dCAqc211LAo+ICAJCQkgICAgICBib29sIGVuYWJsZSkKPiAgewo+ICAJc3RydWN0
IHNtdV9mZWF0dXJlICpmZWF0dXJlID0gJnNtdS0+c211X2ZlYXR1cmU7Cj4gLQl1aW50MzJfdCBm
ZWF0dXJlX2lkOwo+ICsJaW50IGZlYXR1cmVfaWQ7Cj4gIAlpbnQgcmV0ID0gMDsKPiAKPiAgCWZl
YXR1cmVfaWQgPSBzbXVfZmVhdHVyZV9nZXRfaW5kZXgoc211LCBtYXNrKTsKPiArCWlmIChmZWF0
dXJlX2lkIDwgMCkKPiArCQlyZXR1cm4gLUVJTlZBTDsKPiAKPiAgCVdBUk5fT04oZmVhdHVyZV9p
ZCA+IGZlYXR1cmUtPmZlYXR1cmVfbnVtKTsKPiAKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL2FtZC9wb3dlcnBsYXkvbmF2aTEwX3BwdC5jCj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bv
d2VycGxheS9uYXZpMTBfcHB0LmMKPiBpbmRleCBlNWZhODJlMTA1MzUuLjRjYjBjMThiMTJjZSAx
MDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9uYXZpMTBfcHB0LmMK
PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9uYXZpMTBfcHB0LmMKPiBAQCAt
MjE2LDggKzIxNiwxMCBAQCBzdGF0aWMgaW50IG5hdmkxMF9nZXRfc211X21zZ19pbmRleChzdHJ1
Y3QKPiBzbXVfY29udGV4dCAqc21jLCB1aW50MzJfdCBpbmRleCkKPiAgCQlyZXR1cm4gLUVJTlZB
TDsKPiAKPiAgCW1hcHBpbmcgPSBuYXZpMTBfbWVzc2FnZV9tYXBbaW5kZXhdOwo+IC0JaWYgKCEo
bWFwcGluZy52YWxpZF9tYXBwaW5nKSkKPiArCWlmICghKG1hcHBpbmcudmFsaWRfbWFwcGluZykp
IHsKPiArCQlwcl93YXJuKCJVbnN1cHBvcnRlZCBTTVUgbWVzc2FnZTogJWRcbiIsIGluZGV4KTsK
PiAgCQlyZXR1cm4gLUVJTlZBTDsKPiArCX0KPiAKPiAgCXJldHVybiBtYXBwaW5nLm1hcF90bzsK
PiAgfQo+IEBAIC0yMzAsOCArMjMyLDEwIEBAIHN0YXRpYyBpbnQgbmF2aTEwX2dldF9zbXVfY2xr
X2luZGV4KHN0cnVjdAo+IHNtdV9jb250ZXh0ICpzbWMsIHVpbnQzMl90IGluZGV4KQo+ICAJCXJl
dHVybiAtRUlOVkFMOwo+IAo+ICAJbWFwcGluZyA9IG5hdmkxMF9jbGtfbWFwW2luZGV4XTsKPiAt
CWlmICghKG1hcHBpbmcudmFsaWRfbWFwcGluZykpCj4gKwlpZiAoIShtYXBwaW5nLnZhbGlkX21h
cHBpbmcpKSB7Cj4gKwkJcHJfd2FybigiVW5zdXBwb3J0ZWQgU01VIGNsb2NrOiAlZFxuIiwgaW5k
ZXgpOwo+ICAJCXJldHVybiAtRUlOVkFMOwo+ICsJfQo+IAo+ICAJcmV0dXJuIG1hcHBpbmcubWFw
X3RvOwo+ICB9Cj4gQEAgLTI0NCw4ICsyNDgsMTAgQEAgc3RhdGljIGludCBuYXZpMTBfZ2V0X3Nt
dV9mZWF0dXJlX2luZGV4KHN0cnVjdAo+IHNtdV9jb250ZXh0ICpzbWMsIHVpbnQzMl90IGluZGV4
KQo+ICAJCXJldHVybiAtRUlOVkFMOwo+IAo+ICAJbWFwcGluZyA9IG5hdmkxMF9mZWF0dXJlX21h
c2tfbWFwW2luZGV4XTsKPiAtCWlmICghKG1hcHBpbmcudmFsaWRfbWFwcGluZykpCj4gKwlpZiAo
IShtYXBwaW5nLnZhbGlkX21hcHBpbmcpKSB7Cj4gKwkJcHJfd2FybigiVW5zdXBwb3J0ZWQgU01V
IGZlYXR1cmU6ICVkXG4iLCBpbmRleCk7Cj4gIAkJcmV0dXJuIC1FSU5WQUw7Cj4gKwl9Cj4gCj4g
IAlyZXR1cm4gbWFwcGluZy5tYXBfdG87Cj4gIH0KPiBAQCAtMjU4LDggKzI2NCwxMCBAQCBzdGF0
aWMgaW50IG5hdmkxMF9nZXRfc211X3RhYmxlX2luZGV4KHN0cnVjdAo+IHNtdV9jb250ZXh0ICpz
bWMsIHVpbnQzMl90IGluZGV4KQo+ICAJCXJldHVybiAtRUlOVkFMOwo+IAo+ICAJbWFwcGluZyA9
IG5hdmkxMF90YWJsZV9tYXBbaW5kZXhdOwo+IC0JaWYgKCEobWFwcGluZy52YWxpZF9tYXBwaW5n
KSkKPiArCWlmICghKG1hcHBpbmcudmFsaWRfbWFwcGluZykpIHsKPiArCQlwcl93YXJuKCJVbnN1
cHBvcnRlZCBTTVUgdGFibGU6ICVkXG4iLCBpbmRleCk7Cj4gIAkJcmV0dXJuIC1FSU5WQUw7Cj4g
Kwl9Cj4gCj4gIAlyZXR1cm4gbWFwcGluZy5tYXBfdG87Cj4gIH0KPiBAQCAtMjcyLDggKzI4MCwx
MCBAQCBzdGF0aWMgaW50IG5hdmkxMF9nZXRfcHdyX3NyY19pbmRleChzdHJ1Y3QKPiBzbXVfY29u
dGV4dCAqc21jLCB1aW50MzJfdCBpbmRleCkKPiAgCQlyZXR1cm4gLUVJTlZBTDsKPiAKPiAgCW1h
cHBpbmcgPSBuYXZpMTBfcHdyX3NyY19tYXBbaW5kZXhdOwo+IC0JaWYgKCEobWFwcGluZy52YWxp
ZF9tYXBwaW5nKSkKPiArCWlmICghKG1hcHBpbmcudmFsaWRfbWFwcGluZykpIHsKPiArCQlwcl93
YXJuKCJVbnN1cHBvcnRlZCBwb3dlciBzb3VyY2U6ICVkXG4iLCBpbmRleCk7Cj4gIAkJcmV0dXJu
IC1FSU5WQUw7Cj4gKwl9Cj4gCj4gIAlyZXR1cm4gbWFwcGluZy5tYXBfdG87Cj4gIH0KPiBAQCAt
Mjg3LDggKzI5NywxMCBAQCBzdGF0aWMgaW50IG5hdmkxMF9nZXRfd29ya2xvYWRfdHlwZShzdHJ1
Y3QKPiBzbXVfY29udGV4dCAqc211LCBlbnVtIFBQX1NNQ19QT1dFUl9QCj4gIAkJcmV0dXJuIC1F
SU5WQUw7Cj4gCj4gIAltYXBwaW5nID0gbmF2aTEwX3dvcmtsb2FkX21hcFtwcm9maWxlXTsKPiAt
CWlmICghKG1hcHBpbmcudmFsaWRfbWFwcGluZykpCj4gKwlpZiAoIShtYXBwaW5nLnZhbGlkX21h
cHBpbmcpKSB7Cj4gKwkJcHJfd2FybigiVW5zdXBwb3J0ZWQgd29ya2xvYWQ6ICVkXG4iLCAoaW50
KXByb2ZpbGUpOwo+ICAJCXJldHVybiAtRUlOVkFMOwo+ICsJfQo+IAo+ICAJcmV0dXJuIG1hcHBp
bmcubWFwX3RvOwo+ICB9Cj4gQEAgLTk3MSw3ICs5ODMsNyBAQCBzdGF0aWMgaW50IG5hdmkxMF9n
ZXRfcG93ZXJfcHJvZmlsZV9tb2RlKHN0cnVjdAo+IHNtdV9jb250ZXh0ICpzbXUsIGNoYXIgKmJ1
ZikgIHsKPiAgCURwbUFjdGl2aXR5TW9uaXRvckNvZWZmSW50X3QgYWN0aXZpdHlfbW9uaXRvcjsK
PiAgCXVpbnQzMl90IGksIHNpemUgPSAwOwo+IC0JdWludDE2X3Qgd29ya2xvYWRfdHlwZSA9IDA7
Cj4gKwlpbnQxNl90IHdvcmtsb2FkX3R5cGUgPSAwOwo+ICAJc3RhdGljIGNvbnN0IGNoYXIgKnBy
b2ZpbGVfbmFtZVtdID0gewo+ICAJCQkJCSJCT09UVVBfREVGQVVMVCIsCj4gIAkJCQkJIjNEX0ZV
TExfU0NSRUVOIiwKPiBAQCAtMTAwNCw2ICsxMDE2LDkgQEAgc3RhdGljIGludCBuYXZpMTBfZ2V0
X3Bvd2VyX3Byb2ZpbGVfbW9kZShzdHJ1Y3QKPiBzbXVfY29udGV4dCAqc211LCBjaGFyICpidWYp
Cj4gIAlmb3IgKGkgPSAwOyBpIDw9IFBQX1NNQ19QT1dFUl9QUk9GSUxFX0NVU1RPTTsgaSsrKSB7
Cj4gIAkJLyogY29udiBQUF9TTUNfUE9XRVJfUFJPRklMRSogdG8KPiBXT1JLTE9BRF9QUExJQl8q
X0JJVCAqLwo+ICAJCXdvcmtsb2FkX3R5cGUgPSBzbXVfd29ya2xvYWRfZ2V0X3R5cGUoc211LCBp
KTsKPiArCQlpZiAod29ya2xvYWRfdHlwZSA8IDApCj4gKwkJCXJldHVybiAtRUlOVkFMOwo+ICsK
PiAgCQlyZXN1bHQgPSBzbXVfdXBkYXRlX3RhYmxlKHNtdSwKPiAKPiBTTVVfVEFCTEVfQUNUSVZJ
VFlfTU9OSVRPUl9DT0VGRiB8IHdvcmtsb2FkX3R5cGUgPDwgMTYsCj4gIAkJCQkJICAodm9pZCAq
KSgmYWN0aXZpdHlfbW9uaXRvciksIGZhbHNlKTsKPiBAQCAtMTEzMiw2ICsxMTQ3LDggQEAgc3Rh
dGljIGludCBuYXZpMTBfc2V0X3Bvd2VyX3Byb2ZpbGVfbW9kZShzdHJ1Y3QKPiBzbXVfY29udGV4
dCAqc211LCBsb25nICppbnB1dCwgdQo+IAo+ICAJLyogY29udiBQUF9TTUNfUE9XRVJfUFJPRklM
RSogdG8gV09SS0xPQURfUFBMSUJfKl9CSVQgKi8KPiAgCXdvcmtsb2FkX3R5cGUgPSBzbXVfd29y
a2xvYWRfZ2V0X3R5cGUoc211LCBzbXUtCj4gPnBvd2VyX3Byb2ZpbGVfbW9kZSk7Cj4gKwlpZiAo
d29ya2xvYWRfdHlwZSA8IDApCj4gKwkJcmV0dXJuIC1FSU5WQUw7Cj4gIAlzbXVfc2VuZF9zbWNf
bXNnX3dpdGhfcGFyYW0oc211LAo+IFNNVV9NU0dfU2V0V29ya2xvYWRNYXNrLAo+ICAJCQkJICAg
IDEgPDwgd29ya2xvYWRfdHlwZSk7Cj4gCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9h
bWQvcG93ZXJwbGF5L3NtdV92MTFfMC5jCj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxh
eS9zbXVfdjExXzAuYwo+IGluZGV4IGM2MDg5OWRlODhiYi4uMTJiN2Y3NjNkZGRkIDEwMDY0NAo+
IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3NtdV92MTFfMC5jCj4gKysrIGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvc211X3YxMV8wLmMKPiBAQCAtOTIyLDExICs5
MjIsMTcgQEAgc211X3YxMV8wX2dldF9tYXhfc3VzdGFpbmFibGVfY2xvY2soc3RydWN0Cj4gc211
X2NvbnRleHQgKnNtdSwgdWludDMyX3QgKmNsb2NrLAo+ICAJCQkJICAgIGVudW0gc211X2Nsa190
eXBlIGNsb2NrX3NlbGVjdCkgIHsKPiAgCWludCByZXQgPSAwOwo+ICsJaW50IGNsa19pZDsKPiAK
PiAgCWlmICghc211LT5wbV9lbmFibGVkKQo+ICAJCXJldHVybiByZXQ7Cj4gKwo+ICsJY2xrX2lk
ID0gc211X2Nsa19nZXRfaW5kZXgoc211LCBjbG9ja19zZWxlY3QpOwo+ICsJaWYgKGNsa19pZCA8
IDApCj4gKwkJcmV0dXJuIC1FSU5WQUw7Cj4gKwo+ICAJcmV0ID0gc211X3NlbmRfc21jX21zZ193
aXRoX3BhcmFtKHNtdSwKPiBTTVVfTVNHX0dldERjTW9kZU1heERwbUZyZXEsCj4gLQkJCQkJICBz
bXVfY2xrX2dldF9pbmRleChzbXUsCj4gY2xvY2tfc2VsZWN0KSA8PCAxNik7Cj4gKwkJCQkJICBj
bGtfaWQgPDwgMTYpOwo+ICAJaWYgKHJldCkgewo+ICAJCXByX2VycigiW0dldE1heFN1c3RhaW5h
YmxlQ2xvY2tdIEZhaWxlZCB0byBnZXQgbWF4IERDIGNsb2NrCj4gZnJvbSBTTUMhIik7Cj4gIAkJ
cmV0dXJuIHJldDsKPiBAQCAtOTQxLDcgKzk0Nyw3IEBAIHNtdV92MTFfMF9nZXRfbWF4X3N1c3Rh
aW5hYmxlX2Nsb2NrKHN0cnVjdAo+IHNtdV9jb250ZXh0ICpzbXUsIHVpbnQzMl90ICpjbG9jaywK
PiAKPiAgCS8qIGlmIERDIGxpbWl0IGlzIHplcm8sIHJldHVybiBBQyBsaW1pdCAqLwo+ICAJcmV0
ID0gc211X3NlbmRfc21jX21zZ193aXRoX3BhcmFtKHNtdSwKPiBTTVVfTVNHX0dldE1heERwbUZy
ZXEsCj4gLQkJCQkJICBzbXVfY2xrX2dldF9pbmRleChzbXUsCj4gY2xvY2tfc2VsZWN0KSA8PCAx
Nik7Cj4gKwkJCQkJICBjbGtfaWQgPDwgMTYpOwo+ICAJaWYgKHJldCkgewo+ICAJCXByX2Vycigi
W0dldE1heFN1c3RhaW5hYmxlQ2xvY2tdIGZhaWxlZCB0byBnZXQgbWF4IEFDIGNsb2NrCj4gZnJv
bSBTTUMhIik7Cj4gIAkJcmV0dXJuIHJldDsKPiBAQCAtMTAzNyw2ICsxMDQzLDExIEBAIHN0YXRp
YyBpbnQgc211X3YxMV8wX2dldF9wb3dlcl9saW1pdChzdHJ1Y3QKPiBzbXVfY29udGV4dCAqc211
LAo+ICAJCQkJICAgICBib29sIGdldF9kZWZhdWx0KQo+ICB7Cj4gIAlpbnQgcmV0ID0gMDsKPiAr
CWludCBwb3dlcl9zcmM7Cj4gKwo+ICsJcG93ZXJfc3JjID0gc211X3Bvd2VyX2dldF9pbmRleChz
bXUsCj4gU01VX1BPV0VSX1NPVVJDRV9BQyk7Cj4gKwlpZiAocG93ZXJfc3JjIDwgMCkKPiArCQly
ZXR1cm4gLUVJTlZBTDsKPiAKPiAgCWlmIChnZXRfZGVmYXVsdCkgewo+ICAJCW11dGV4X2xvY2so
JnNtdS0+bXV0ZXgpOwo+IEBAIC0xMDQ4LDcgKzEwNTksNyBAQCBzdGF0aWMgaW50IHNtdV92MTFf
MF9nZXRfcG93ZXJfbGltaXQoc3RydWN0Cj4gc211X2NvbnRleHQgKnNtdSwKPiAgCQltdXRleF91
bmxvY2soJnNtdS0+bXV0ZXgpOwo+ICAJfSBlbHNlIHsKPiAgCQlyZXQgPSBzbXVfc2VuZF9zbWNf
bXNnX3dpdGhfcGFyYW0oc211LAo+IFNNVV9NU0dfR2V0UHB0TGltaXQsCj4gLQkJCXNtdV9wb3dl
cl9nZXRfaW5kZXgoc211LAo+IFNNVV9QT1dFUl9TT1VSQ0VfQUMpIDw8IDE2KTsKPiArCQkJcG93
ZXJfc3JjIDw8IDE2KTsKPiAgCQlpZiAocmV0KSB7Cj4gIAkJCXByX2VycigiWyVzXSBnZXQgUFBU
IGxpbWl0IGZhaWxlZCEiLCBfX2Z1bmNfXyk7Cj4gIAkJCXJldHVybiByZXQ7Cj4gQEAgLTEwOTEs
MTYgKzExMDIsMjEgQEAgc3RhdGljIGludAo+IHNtdV92MTFfMF9nZXRfY3VycmVudF9jbGtfZnJl
cShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgIHsKPiAgCWludCByZXQgPSAwOwo+ICAJdWludDMy
X3QgZnJlcSA9IDA7Cj4gKwlpbnQgYXNpY19jbGtfaWQ7Cj4gCj4gIAlpZiAoY2xrX2lkID49IFNN
VV9DTEtfQ09VTlQgfHwgIXZhbHVlKQo+ICAJCXJldHVybiAtRUlOVkFMOwo+IAo+ICsJYXNpY19j
bGtfaWQgPSBzbXVfY2xrX2dldF9pbmRleChzbXUsIGNsa19pZCk7Cj4gKwlpZiAoYXNpY19jbGtf
aWQgPCAwKQo+ICsJCXJldHVybiAtRUlOVkFMOwo+ICsKPiAgCS8qIGlmIGRvbid0IGhhcyBHZXRE
cG1DbG9ja0ZyZXEgTWVzc2FnZSwgdHJ5IGdldCBjdXJyZW50IGNsb2NrIGJ5Cj4gU211TWV0cmlj
c190ICovCj4gLQlpZiAoc211X21zZ19nZXRfaW5kZXgoc211LCBTTVVfTVNHX0dldERwbUNsb2Nr
RnJlcSkgPT0gMCkKPiArCWlmIChzbXVfbXNnX2dldF9pbmRleChzbXUsIFNNVV9NU0dfR2V0RHBt
Q2xvY2tGcmVxKSA8IDApCj4gIAkJcmV0ID0gIHNtdV9nZXRfY3VycmVudF9jbGtfZnJlcV9ieV90
YWJsZShzbXUsIGNsa19pZCwKPiAmZnJlcSk7Cj4gIAllbHNlIHsKPiAgCQlyZXQgPSBzbXVfc2Vu
ZF9zbWNfbXNnX3dpdGhfcGFyYW0oc211LAo+IFNNVV9NU0dfR2V0RHBtQ2xvY2tGcmVxLAo+IC0J
CQkJCQkgIChzbXVfY2xrX2dldF9pbmRleChzbXUsCj4gY2xrX2lkKSA8PCAxNikpOwo+ICsJCQkJ
CQkgIChhc2ljX2Nsa19pZCA8PCAxNikpOwo+ICAJCWlmIChyZXQpCj4gIAkJCXJldHVybiByZXQ7
Cj4gCj4gQEAgLTEyODAsNiArMTI5Niw3IEBAIHNtdV92MTFfMF9kaXNwbGF5X2Nsb2NrX3ZvbHRh
Z2VfcmVxdWVzdChzdHJ1Y3QKPiBzbXVfY29udGV4dCAqc211LAo+ICAJaW50IHJldCA9IDA7Cj4g
IAllbnVtIHNtdV9jbGtfdHlwZSBjbGtfc2VsZWN0ID0gMDsKPiAgCXVpbnQzMl90IGNsa19mcmVx
ID0gY2xvY2tfcmVxLT5jbG9ja19mcmVxX2luX2toeiAvIDEwMDA7Cj4gKwlpbnQgY2xrX2lkOwo+
IAo+ICAJaWYgKCFzbXUtPnBtX2VuYWJsZWQpCj4gIAkJcmV0dXJuIC1FSU5WQUw7Cj4gQEAgLTEz
MTEsOSArMTMyOCwxMyBAQCBzbXVfdjExXzBfZGlzcGxheV9jbG9ja192b2x0YWdlX3JlcXVlc3Qo
c3RydWN0Cj4gc211X2NvbnRleHQgKnNtdSwKPiAgCQlpZiAocmV0KQo+ICAJCQlnb3RvIGZhaWxl
ZDsKPiAKPiArCQljbGtfaWQgPSBzbXVfY2xrX2dldF9pbmRleChzbXUsIGNsa19zZWxlY3QpOwo+
ICsJCWlmIChjbGtfaWQgPCAwKQo+ICsJCQlnb3RvIGZhaWxlZDsKPiArCj4gIAkJbXV0ZXhfbG9j
aygmc211LT5tdXRleCk7Cj4gIAkJcmV0ID0gc211X3NlbmRfc21jX21zZ193aXRoX3BhcmFtKHNt
dSwKPiBTTVVfTVNHX1NldEhhcmRNaW5CeUZyZXEsCj4gLQkJCShzbXVfY2xrX2dldF9pbmRleChz
bXUsIGNsa19zZWxlY3QpIDw8IDE2KSB8Cj4gY2xrX2ZyZXEpOwo+ICsJCQkoY2xrX2lkIDw8IDE2
KSB8IGNsa19mcmVxKTsKPiAgCQltdXRleF91bmxvY2soJnNtdS0+bXV0ZXgpOwo+ICAJfQo+IAo+
IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS92ZWdhMjBfcHB0LmMK
PiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3ZlZ2EyMF9wcHQuYwo+IGluZGV4IDQ2
ODU3OTFhNjVkYS4uZGJjMTc5MjBiODc5IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9h
bWQvcG93ZXJwbGF5L3ZlZ2EyMF9wcHQuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93
ZXJwbGF5L3ZlZ2EyMF9wcHQuYwo+IEBAIC0yMzEsOCArMjMxLDEwIEBAIHN0YXRpYyBpbnQgdmVn
YTIwX2dldF9zbXVfdGFibGVfaW5kZXgoc3RydWN0Cj4gc211X2NvbnRleHQgKnNtYywgdWludDMy
X3QgaW5kZXgpCj4gIAkJcmV0dXJuIC1FSU5WQUw7Cj4gCj4gIAltYXBwaW5nID0gdmVnYTIwX3Rh
YmxlX21hcFtpbmRleF07Cj4gLQlpZiAoIShtYXBwaW5nLnZhbGlkX21hcHBpbmcpKQo+ICsJaWYg
KCEobWFwcGluZy52YWxpZF9tYXBwaW5nKSkgewo+ICsJCXByX3dhcm4oIlVuc3VwcG9ydGVkIFNN
VSB0YWJsZTogJWRcbiIsIGluZGV4KTsKPiAgCQlyZXR1cm4gLUVJTlZBTDsKPiArCX0KPiAKPiAg
CXJldHVybiBtYXBwaW5nLm1hcF90bzsKPiAgfQo+IEBAIC0yNDUsOCArMjQ3LDEwIEBAIHN0YXRp
YyBpbnQgdmVnYTIwX2dldF9wd3Jfc3JjX2luZGV4KHN0cnVjdAo+IHNtdV9jb250ZXh0ICpzbWMs
IHVpbnQzMl90IGluZGV4KQo+ICAJCXJldHVybiAtRUlOVkFMOwo+IAo+ICAJbWFwcGluZyA9IHZl
Z2EyMF9wd3Jfc3JjX21hcFtpbmRleF07Cj4gLQlpZiAoIShtYXBwaW5nLnZhbGlkX21hcHBpbmcp
KQo+ICsJaWYgKCEobWFwcGluZy52YWxpZF9tYXBwaW5nKSkgewo+ICsJCXByX3dhcm4oIlVuc3Vw
cG9ydGVkIHBvd2VyIHNvdXJjZTogJWRcbiIsIGluZGV4KTsKPiAgCQlyZXR1cm4gLUVJTlZBTDsK
PiArCX0KPiAKPiAgCXJldHVybiBtYXBwaW5nLm1hcF90bzsKPiAgfQo+IEBAIC0yNTksOCArMjYz
LDEwIEBAIHN0YXRpYyBpbnQgdmVnYTIwX2dldF9zbXVfZmVhdHVyZV9pbmRleChzdHJ1Y3QKPiBz
bXVfY29udGV4dCAqc21jLCB1aW50MzJfdCBpbmRleCkKPiAgCQlyZXR1cm4gLUVJTlZBTDsKPiAK
PiAgCW1hcHBpbmcgPSB2ZWdhMjBfZmVhdHVyZV9tYXNrX21hcFtpbmRleF07Cj4gLQlpZiAoISht
YXBwaW5nLnZhbGlkX21hcHBpbmcpKQo+ICsJaWYgKCEobWFwcGluZy52YWxpZF9tYXBwaW5nKSkg
ewo+ICsJCXByX3dhcm4oIlVuc3VwcG9ydGVkIFNNVSBmZWF0dXJlOiAlZFxuIiwgaW5kZXgpOwo+
ICAJCXJldHVybiAtRUlOVkFMOwo+ICsJfQo+IAo+ICAJcmV0dXJuIG1hcHBpbmcubWFwX3RvOwo+
ICB9Cj4gQEAgLTI3Myw4ICsyNzksMTAgQEAgc3RhdGljIGludCB2ZWdhMjBfZ2V0X3NtdV9jbGtf
aW5kZXgoc3RydWN0Cj4gc211X2NvbnRleHQgKnNtYywgdWludDMyX3QgaW5kZXgpCj4gIAkJcmV0
dXJuIC1FSU5WQUw7Cj4gCj4gIAltYXBwaW5nID0gdmVnYTIwX2Nsa19tYXBbaW5kZXhdOwo+IC0J
aWYgKCEobWFwcGluZy52YWxpZF9tYXBwaW5nKSkKPiArCWlmICghKG1hcHBpbmcudmFsaWRfbWFw
cGluZykpIHsKPiArCQlwcl93YXJuKCJVbnN1cHBvcnRlZCBTTVUgY2xvY2s6ICVkXG4iLCBpbmRl
eCk7Cj4gIAkJcmV0dXJuIC1FSU5WQUw7Cj4gKwl9Cj4gCj4gIAlyZXR1cm4gbWFwcGluZy5tYXBf
dG87Cj4gIH0KPiBAQCAtMjg3LDggKzI5NSwxMCBAQCBzdGF0aWMgaW50IHZlZ2EyMF9nZXRfc211
X21zZ19pbmRleChzdHJ1Y3QKPiBzbXVfY29udGV4dCAqc21jLCB1aW50MzJfdCBpbmRleCkKPiAg
CQlyZXR1cm4gLUVJTlZBTDsKPiAKPiAgCW1hcHBpbmcgPSB2ZWdhMjBfbWVzc2FnZV9tYXBbaW5k
ZXhdOwo+IC0JaWYgKCEobWFwcGluZy52YWxpZF9tYXBwaW5nKSkKPiArCWlmICghKG1hcHBpbmcu
dmFsaWRfbWFwcGluZykpIHsKPiArCQlwcl93YXJuKCJVbnN1cHBvcnRlZCBTTVUgbWVzc2FnZTog
JWRcbiIsIGluZGV4KTsKPiAgCQlyZXR1cm4gLUVJTlZBTDsKPiArCX0KPiAKPiAgCXJldHVybiBt
YXBwaW5nLm1hcF90bzsKPiAgfQo+IEBAIC0zMDEsOCArMzExLDEwIEBAIHN0YXRpYyBpbnQgdmVn
YTIwX2dldF93b3JrbG9hZF90eXBlKHN0cnVjdAo+IHNtdV9jb250ZXh0ICpzbXUsIGVudW0gUFBf
U01DX1BPV0VSX1AKPiAgCQlyZXR1cm4gLUVJTlZBTDsKPiAKPiAgCW1hcHBpbmcgPSB2ZWdhMjBf
d29ya2xvYWRfbWFwW3Byb2ZpbGVdOwo+IC0JaWYgKCEobWFwcGluZy52YWxpZF9tYXBwaW5nKSkK
PiArCWlmICghKG1hcHBpbmcudmFsaWRfbWFwcGluZykpIHsKPiArCQlwcl93YXJuKCJVbnN1cHBv
cnRlZCBTTVUgd29ya2xvYWQ6ICVkXG4iLCAoaW50KXByb2ZpbGUpOwo+ICAJCXJldHVybiAtRUlO
VkFMOwo+ICsJfQo+IAo+ICAJcmV0dXJuIG1hcHBpbmcubWFwX3RvOwo+ICB9Cj4gQEAgLTE3Nzgs
NyArMTc5MCw3IEBAIHN0YXRpYyBpbnQgdmVnYTIwX2dldF9wb3dlcl9wcm9maWxlX21vZGUoc3Ry
dWN0Cj4gc211X2NvbnRleHQgKnNtdSwgY2hhciAqYnVmKSAgewo+ICAJRHBtQWN0aXZpdHlNb25p
dG9yQ29lZmZJbnRfdCBhY3Rpdml0eV9tb25pdG9yOwo+ICAJdWludDMyX3QgaSwgc2l6ZSA9IDA7
Cj4gLQl1aW50MTZfdCB3b3JrbG9hZF90eXBlID0gMDsKPiArCWludDE2X3Qgd29ya2xvYWRfdHlw
ZSA9IDA7Cj4gIAlzdGF0aWMgY29uc3QgY2hhciAqcHJvZmlsZV9uYW1lW10gPSB7Cj4gIAkJCQkJ
IkJPT1RVUF9ERUZBVUxUIiwKPiAgCQkJCQkiM0RfRlVMTF9TQ1JFRU4iLAo+IEBAIC0xODExLDYg
KzE4MjMsOSBAQCBzdGF0aWMgaW50IHZlZ2EyMF9nZXRfcG93ZXJfcHJvZmlsZV9tb2RlKHN0cnVj
dAo+IHNtdV9jb250ZXh0ICpzbXUsIGNoYXIgKmJ1ZikKPiAgCWZvciAoaSA9IDA7IGkgPD0gUFBf
U01DX1BPV0VSX1BST0ZJTEVfQ1VTVE9NOyBpKyspIHsKPiAgCQkvKiBjb252IFBQX1NNQ19QT1dF
Ul9QUk9GSUxFKiB0bwo+IFdPUktMT0FEX1BQTElCXypfQklUICovCj4gIAkJd29ya2xvYWRfdHlw
ZSA9IHNtdV93b3JrbG9hZF9nZXRfdHlwZShzbXUsIGkpOwo+ICsJCWlmICh3b3JrbG9hZF90eXBl
IDwgMCkKPiArCQkJcmV0dXJuIC1FSU5WQUw7Cj4gKwo+ICAJCXJlc3VsdCA9IHNtdV91cGRhdGVf
dGFibGUoc211LAo+IAo+IFNNVV9UQUJMRV9BQ1RJVklUWV9NT05JVE9SX0NPRUZGIHwgd29ya2xv
YWRfdHlwZSA8PCAxNiwKPiAgCQkJCQkgICh2b2lkICopKCZhY3Rpdml0eV9tb25pdG9yKSwgZmFs
c2UpOwo+IEBAIC0xOTYzLDYgKzE5NzgsOCBAQCBzdGF0aWMgaW50IHZlZ2EyMF9zZXRfcG93ZXJf
cHJvZmlsZV9tb2RlKHN0cnVjdAo+IHNtdV9jb250ZXh0ICpzbXUsIGxvbmcgKmlucHV0LCB1Cj4g
Cj4gIAkvKiBjb252IFBQX1NNQ19QT1dFUl9QUk9GSUxFKiB0byBXT1JLTE9BRF9QUExJQl8qX0JJ
VCAqLwo+ICAJd29ya2xvYWRfdHlwZSA9IHNtdV93b3JrbG9hZF9nZXRfdHlwZShzbXUsIHNtdS0K
PiA+cG93ZXJfcHJvZmlsZV9tb2RlKTsKPiArCWlmICh3b3JrbG9hZF90eXBlIDwgMCkKPiArCQly
ZXR1cm4gLUVJTlZBTDsKPiAgCXNtdV9zZW5kX3NtY19tc2dfd2l0aF9wYXJhbShzbXUsCj4gU01V
X01TR19TZXRXb3JrbG9hZE1hc2ssCj4gIAkJCQkgICAgMSA8PCB3b3JrbG9hZF90eXBlKTsKPiAK
PiAtLQo+IDIuMjEuMAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KYW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcK
aHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4
