Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 2644AB7162
	for <lists+amd-gfx@lfdr.de>; Thu, 19 Sep 2019 04:06:09 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 9EC9C6F4BE;
	Thu, 19 Sep 2019 02:06:07 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-wm1-x343.google.com (mail-wm1-x343.google.com
 [IPv6:2a00:1450:4864:20::343])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A5E316F4BE
 for <amd-gfx@lists.freedesktop.org>; Thu, 19 Sep 2019 02:06:06 +0000 (UTC)
Received: by mail-wm1-x343.google.com with SMTP id i16so2325799wmd.3
 for <amd-gfx@lists.freedesktop.org>; Wed, 18 Sep 2019 19:06:06 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=+Qk9QeEV+SS5C3SdTUnnpj3ZtXS0yTSiQqqEOw00BT4=;
 b=sOtMotTzRobUP52w7dikJzjIzd1WEeayu9F3qGtSPinpF4zyt4xQQmtDb6lF5V44ZP
 d3Pqiw0Y0AdUktmpI9Ji4TR7HeARoRmGamd3928HYMOmLKJhSZ8NLxsMz5KWPnjabF4M
 1WuUSaMn5mIqE9byr5rq2o/SnXzLDm+IXVKIyu3PK9kAPJSnn4BeLC6Xbj8q4myas+TA
 OIZ+wbasUFoqex5c3+sKz8PFQunPfjnf/5glyz7CbCtGJ71zJw+t+eJifzufRck+uY7i
 RK2wyjZaGO2x+2k+yjPCZUG90E2jtHwM39PdNyhk+QhgysADGnx+iVHqa6OfMTyEQsQq
 yRWA==
X-Gm-Message-State: APjAAAUCvGcS9CQb8Ph6PARwVapejW9MK4DGMCdVaN8XTvVyuy1aTJHW
 aUtc2HpnXkbydyIqZCAAHWnjyIGbikMhWD+gua2v/g==
X-Google-Smtp-Source: APXvYqwb7ThgSWkwFwxYDuk2LRVN1TJtmwD6N5pSNbi6umtkQWPcYYYgIro1646sFuEw5xsSIDqNkIheLrgqX/hJCy8=
X-Received: by 2002:a05:600c:54a:: with SMTP id
 k10mr645435wmc.127.1568858765057; 
 Wed, 18 Sep 2019 19:06:05 -0700 (PDT)
MIME-Version: 1.0
References: <20190919020436.17540-1-tianci.yin@amd.com>
In-Reply-To: <20190919020436.17540-1-tianci.yin@amd.com>
From: Alex Deucher <alexdeucher@gmail.com>
Date: Wed, 18 Sep 2019 22:05:52 -0400
Message-ID: <CADnq5_Oi=ciQ=F+YZFx5RcoMUS8W17maFEPJ2cbdT3DAkanGqQ@mail.gmail.com>
Subject: Re: [PATCH] drm/amdgpu/gfx10: add support for wks firmware loading
To: Tianci Yin <tianci.yin@amd.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=+Qk9QeEV+SS5C3SdTUnnpj3ZtXS0yTSiQqqEOw00BT4=;
 b=dYsex8r/XD32GyM9OFWzlSbPQpl0K/SjsLgkmHuyLBqco2RNCrmFAhScrDNMHsEzYp
 4WaY5lqJbFivd3pIoKhLOky2bRm24HNFeXhKwHQXztWhC7XYCLCrvDU01YW6nZIdgt94
 qFsVktlIyzrb+v5NrDwcpAI6Ak1C0mfwZcbx7woaT2uJEFvV1TI42g7tpaegYhY2MiXl
 76JRfLJ82434Lb4BGWNRT1Y+qVByW0sg7CXCvmSJnqlFoBg+GSAk7bEz2bpgO0KTQASs
 +JY1E/i3XzTZrhU7G5jngN1MGs3F6aUR5vxZzBwCYrrayi+k9C+jqf+TiPspuVDeTgPI
 dhYw==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Alex Deucher <alexander.deucher@amd.com>,
 amd-gfx list <amd-gfx@lists.freedesktop.org>,
 Hawking Zhang <Hawking.Zhang@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

T24gV2VkLCBTZXAgMTgsIDIwMTkgYXQgMTA6MDQgUE0gVGlhbmNpIFlpbiA8dGlhbmNpLnlpbkBh
bWQuY29tPiB3cm90ZToKPgo+IEZyb206ICJUaWFuY2kuWWluIiA8dGlhbmNpLnlpbkBhbWQuY29t
Pgo+Cj4gbG9hZCBkaWZmZXJlbnQgY3AgZmlybXdhcmUgYWNjb3JkaW5nIHRvIHRoZSBESUQgYW5k
IFJJRAo+Cj4gU2lnbmVkLW9mZi1ieTogVGlhbmNpLllpbiA8dGlhbmNpLnlpbkBhbWQuY29tPgoK
UmV2aWV3ZWQtYnk6IEFsZXggRGV1Y2hlciA8YWxleGFuZGVyLmRldWNoZXJAYW1kLmNvbT4KCj4g
LS0tCj4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92MTBfMC5jIHwgMjQgKysrKysr
KysrKysrKysrKysrLS0tLS0tCj4gIDEgZmlsZSBjaGFuZ2VkLCAxOCBpbnNlcnRpb25zKCspLCA2
IGRlbGV0aW9ucygtKQo+Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2dmeF92MTBfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3YxMF8wLmMKPiBp
bmRleCAwODJhMGIzMjk4YTkuLmI1ZDNlNzVlN2U4OCAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9nZnhfdjEwXzAuYwo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2dmeF92MTBfMC5jCj4gQEAgLTY2LDYgKzY2LDExIEBAIE1PRFVMRV9GSVJNV0FSRSgi
YW1kZ3B1L25hdmkxMF9tZWMuYmluIik7Cj4gIE1PRFVMRV9GSVJNV0FSRSgiYW1kZ3B1L25hdmkx
MF9tZWMyLmJpbiIpOwo+ICBNT0RVTEVfRklSTVdBUkUoImFtZGdwdS9uYXZpMTBfcmxjLmJpbiIp
Owo+Cj4gK01PRFVMRV9GSVJNV0FSRSgiYW1kZ3B1L25hdmkxNF9jZV93a3MuYmluIik7Cj4gK01P
RFVMRV9GSVJNV0FSRSgiYW1kZ3B1L25hdmkxNF9wZnBfd2tzLmJpbiIpOwo+ICtNT0RVTEVfRklS
TVdBUkUoImFtZGdwdS9uYXZpMTRfbWVfd2tzLmJpbiIpOwo+ICtNT0RVTEVfRklSTVdBUkUoImFt
ZGdwdS9uYXZpMTRfbWVjX3drcy5iaW4iKTsKPiArTU9EVUxFX0ZJUk1XQVJFKCJhbWRncHUvbmF2
aTE0X21lYzJfd2tzLmJpbiIpOwo+ICBNT0RVTEVfRklSTVdBUkUoImFtZGdwdS9uYXZpMTRfY2Uu
YmluIik7Cj4gIE1PRFVMRV9GSVJNV0FSRSgiYW1kZ3B1L25hdmkxNF9wZnAuYmluIik7Cj4gIE1P
RFVMRV9GSVJNV0FSRSgiYW1kZ3B1L25hdmkxNF9tZS5iaW4iKTsKPiBAQCAtNTkxLDcgKzU5Niw4
IEBAIHN0YXRpYyB2b2lkIGdmeF92MTBfMF9jaGVja19nZnhvZmZfZmxhZyhzdHJ1Y3QgYW1kZ3B1
X2RldmljZSAqYWRldikKPiAgc3RhdGljIGludCBnZnhfdjEwXzBfaW5pdF9taWNyb2NvZGUoc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCj4gIHsKPiAgICAgICAgIGNvbnN0IGNoYXIgKmNoaXBf
bmFtZTsKPiAtICAgICAgIGNoYXIgZndfbmFtZVszMF07Cj4gKyAgICAgICBjb25zdCBjaGFyICp3
a3M7Cj4gKyAgICAgICBjaGFyIGZ3X25hbWVbNDBdOwo+ICAgICAgICAgaW50IGVycjsKPiAgICAg
ICAgIHN0cnVjdCBhbWRncHVfZmlybXdhcmVfaW5mbyAqaW5mbyA9IE5VTEw7Cj4gICAgICAgICBj
b25zdCBzdHJ1Y3QgY29tbW9uX2Zpcm13YXJlX2hlYWRlciAqaGVhZGVyID0gTlVMTDsKPiBAQCAt
NjE4LDcgKzYyNCwxMyBAQCBzdGF0aWMgaW50IGdmeF92MTBfMF9pbml0X21pY3JvY29kZShzdHJ1
Y3QgYW1kZ3B1X2RldmljZSAqYWRldikKPiAgICAgICAgICAgICAgICAgQlVHKCk7Cj4gICAgICAg
ICB9Cj4KPiAtICAgICAgIHNucHJpbnRmKGZ3X25hbWUsIHNpemVvZihmd19uYW1lKSwgImFtZGdw
dS8lc19wZnAuYmluIiwgY2hpcF9uYW1lKTsKPiArICAgICAgIGlmKGFkZXYtPnBkZXYtPmRldmlj
ZSA9PSAweDczNDAgJiYKPiArICAgICAgICAgIGFkZXYtPnBkZXYtPnJldmlzaW9uICE9IDB4MDAp
Cj4gKyAgICAgICAgICAgICAgIHdrcyA9ICIiOwo+ICsgICAgICAgZWxzZQo+ICsgICAgICAgICAg
ICAgICB3a3MgPSAiX3drcyI7Cj4gKwo+ICsgICAgICAgc25wcmludGYoZndfbmFtZSwgc2l6ZW9m
KGZ3X25hbWUpLCAiYW1kZ3B1LyVzX3BmcCVzLmJpbiIsIGNoaXBfbmFtZSwgd2tzKTsKPiAgICAg
ICAgIGVyciA9IHJlcXVlc3RfZmlybXdhcmUoJmFkZXYtPmdmeC5wZnBfZncsIGZ3X25hbWUsIGFk
ZXYtPmRldik7Cj4gICAgICAgICBpZiAoZXJyKQo+ICAgICAgICAgICAgICAgICBnb3RvIG91dDsK
PiBAQCAtNjI5LDcgKzY0MSw3IEBAIHN0YXRpYyBpbnQgZ2Z4X3YxMF8wX2luaXRfbWljcm9jb2Rl
KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQo+ICAgICAgICAgYWRldi0+Z2Z4LnBmcF9md192
ZXJzaW9uID0gbGUzMl90b19jcHUoY3BfaGRyLT5oZWFkZXIudWNvZGVfdmVyc2lvbik7Cj4gICAg
ICAgICBhZGV2LT5nZngucGZwX2ZlYXR1cmVfdmVyc2lvbiA9IGxlMzJfdG9fY3B1KGNwX2hkci0+
dWNvZGVfZmVhdHVyZV92ZXJzaW9uKTsKPgo+IC0gICAgICAgc25wcmludGYoZndfbmFtZSwgc2l6
ZW9mKGZ3X25hbWUpLCAiYW1kZ3B1LyVzX21lLmJpbiIsIGNoaXBfbmFtZSk7Cj4gKyAgICAgICBz
bnByaW50Zihmd19uYW1lLCBzaXplb2YoZndfbmFtZSksICJhbWRncHUvJXNfbWUlcy5iaW4iLCBj
aGlwX25hbWUsIHdrcyk7Cj4gICAgICAgICBlcnIgPSByZXF1ZXN0X2Zpcm13YXJlKCZhZGV2LT5n
ZngubWVfZncsIGZ3X25hbWUsIGFkZXYtPmRldik7Cj4gICAgICAgICBpZiAoZXJyKQo+ICAgICAg
ICAgICAgICAgICBnb3RvIG91dDsKPiBAQCAtNjQwLDcgKzY1Miw3IEBAIHN0YXRpYyBpbnQgZ2Z4
X3YxMF8wX2luaXRfbWljcm9jb2RlKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQo+ICAgICAg
ICAgYWRldi0+Z2Z4Lm1lX2Z3X3ZlcnNpb24gPSBsZTMyX3RvX2NwdShjcF9oZHItPmhlYWRlci51
Y29kZV92ZXJzaW9uKTsKPiAgICAgICAgIGFkZXYtPmdmeC5tZV9mZWF0dXJlX3ZlcnNpb24gPSBs
ZTMyX3RvX2NwdShjcF9oZHItPnVjb2RlX2ZlYXR1cmVfdmVyc2lvbik7Cj4KPiAtICAgICAgIHNu
cHJpbnRmKGZ3X25hbWUsIHNpemVvZihmd19uYW1lKSwgImFtZGdwdS8lc19jZS5iaW4iLCBjaGlw
X25hbWUpOwo+ICsgICAgICAgc25wcmludGYoZndfbmFtZSwgc2l6ZW9mKGZ3X25hbWUpLCAiYW1k
Z3B1LyVzX2NlJXMuYmluIiwgY2hpcF9uYW1lLCB3a3MpOwo+ICAgICAgICAgZXJyID0gcmVxdWVz
dF9maXJtd2FyZSgmYWRldi0+Z2Z4LmNlX2Z3LCBmd19uYW1lLCBhZGV2LT5kZXYpOwo+ICAgICAg
ICAgaWYgKGVycikKPiAgICAgICAgICAgICAgICAgZ290byBvdXQ7Cj4gQEAgLTcwNSw3ICs3MTcs
NyBAQCBzdGF0aWMgaW50IGdmeF92MTBfMF9pbml0X21pY3JvY29kZShzdHJ1Y3QgYW1kZ3B1X2Rl
dmljZSAqYWRldikKPiAgICAgICAgIGlmIChhZGV2LT5nZngucmxjLmlzX3JsY192Ml8xKQo+ICAg
ICAgICAgICAgICAgICBnZnhfdjEwXzBfaW5pdF9ybGNfZXh0X21pY3JvY29kZShhZGV2KTsKPgo+
IC0gICAgICAgc25wcmludGYoZndfbmFtZSwgc2l6ZW9mKGZ3X25hbWUpLCAiYW1kZ3B1LyVzX21l
Yy5iaW4iLCBjaGlwX25hbWUpOwo+ICsgICAgICAgc25wcmludGYoZndfbmFtZSwgc2l6ZW9mKGZ3
X25hbWUpLCAiYW1kZ3B1LyVzX21lYyVzLmJpbiIsIGNoaXBfbmFtZSwgd2tzKTsKPiAgICAgICAg
IGVyciA9IHJlcXVlc3RfZmlybXdhcmUoJmFkZXYtPmdmeC5tZWNfZncsIGZ3X25hbWUsIGFkZXYt
PmRldik7Cj4gICAgICAgICBpZiAoZXJyKQo+ICAgICAgICAgICAgICAgICBnb3RvIG91dDsKPiBA
QCAtNzE2LDcgKzcyOCw3IEBAIHN0YXRpYyBpbnQgZ2Z4X3YxMF8wX2luaXRfbWljcm9jb2RlKHN0
cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KQo+ICAgICAgICAgYWRldi0+Z2Z4Lm1lY19md192ZXJz
aW9uID0gbGUzMl90b19jcHUoY3BfaGRyLT5oZWFkZXIudWNvZGVfdmVyc2lvbik7Cj4gICAgICAg
ICBhZGV2LT5nZngubWVjX2ZlYXR1cmVfdmVyc2lvbiA9IGxlMzJfdG9fY3B1KGNwX2hkci0+dWNv
ZGVfZmVhdHVyZV92ZXJzaW9uKTsKPgo+IC0gICAgICAgc25wcmludGYoZndfbmFtZSwgc2l6ZW9m
KGZ3X25hbWUpLCAiYW1kZ3B1LyVzX21lYzIuYmluIiwgY2hpcF9uYW1lKTsKPiArICAgICAgIHNu
cHJpbnRmKGZ3X25hbWUsIHNpemVvZihmd19uYW1lKSwgImFtZGdwdS8lc19tZWMyJXMuYmluIiwg
Y2hpcF9uYW1lLCB3a3MpOwo+ICAgICAgICAgZXJyID0gcmVxdWVzdF9maXJtd2FyZSgmYWRldi0+
Z2Z4Lm1lYzJfZncsIGZ3X25hbWUsIGFkZXYtPmRldik7Cj4gICAgICAgICBpZiAoIWVycikgewo+
ICAgICAgICAgICAgICAgICBlcnIgPSBhbWRncHVfdWNvZGVfdmFsaWRhdGUoYWRldi0+Z2Z4Lm1l
YzJfZncpOwo+IC0tCj4gMi4xNy4xCj4KPiBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fXwo+IGFtZC1nZnggbWFpbGluZyBsaXN0Cj4gYW1kLWdmeEBsaXN0cy5m
cmVlZGVza3RvcC5vcmcKPiBodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xp
c3RpbmZvL2FtZC1nZngKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KYW1kLWdmeCBtYWlsaW5nIGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcK
aHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4
