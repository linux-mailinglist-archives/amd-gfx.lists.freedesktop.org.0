Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 25FEFCE8AB
	for <lists+amd-gfx@lfdr.de>; Mon,  7 Oct 2019 18:08:44 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 978266E1F8;
	Mon,  7 Oct 2019 16:08:42 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM01-SN1-obe.outbound.protection.outlook.com
 (mail-eopbgr820089.outbound.protection.outlook.com [40.107.82.89])
 by gabe.freedesktop.org (Postfix) with ESMTPS id CEB546E1F8
 for <amd-gfx@lists.freedesktop.org>; Mon,  7 Oct 2019 16:08:41 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=NiLsQuWKAh3jsfrL4PXexH5okSmdXr81imLS4Q42LeKm5+4h7IUAw+C2njxFIbxLX9Kf5u7UgT7chFydOfKzp0dxxNsHov7NFz+LqB/6IY2BIRUHTH4cLjgNCz4uRmFuoM5SFlppvgmUI1gVB2Wz8ggfpurEg2gY4K4EKAD8FAEpVbZJ9RlcyaT1itdprjvWFGje1j7KJKkVJ4iNwOXmFJJRO1ekDTxf+sHDeYYDq/6qqnTi44l1TSFTcY2yNWAKSfTLDF2m1GGq5JOQeBEyNmfcgpRHO4oJrqaOLUzIDTTZd7s90vKFY+gM5H5sUlZNYILlOpGoJ6MfqdWLvu8Lmw==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=II2WKNLwsxxDHG12R3wkemJlC07R9b9ZkdK4CuwiuJk=;
 b=f1Usb5DVMylOZUtDnsW2nlBfXCG2N+3qxmamKzlLkXFbdDLZCVftIINk0UHqBwDi0pl+vMR+cKpRnh4fnFlbRxyd+rwKJZpKxr6MB1/QRIT5vChHFnGn4z0cYU5B53T9euI7QZg7OlN4g9vFogMQCGNnglig40m3Cazwh//M8iXou5EG4hgewHx0SPMv8jXVhDbBRYBStbhDRP5cR0ydZcUAL0M6B4GVJRQGAP/ebTq0mXRBV5f84UPqhtfMEFrRsqV5KOUgGiDLRD3WiGPPTu5dIczGIKWfYIibe/a8uADPFpBFTDVdebcjFvwCDmUK/YNrIQX8QosoOwIVKuSDXw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from DM5PR1201MB2521.namprd12.prod.outlook.com (10.172.91.8) by
 DM5PR1201MB2536.namprd12.prod.outlook.com (10.172.90.140) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2327.24; Mon, 7 Oct 2019 16:08:40 +0000
Received: from DM5PR1201MB2521.namprd12.prod.outlook.com
 ([fe80::8049:424e:df38:e58d]) by DM5PR1201MB2521.namprd12.prod.outlook.com
 ([fe80::8049:424e:df38:e58d%3]) with mapi id 15.20.2327.026; Mon, 7 Oct 2019
 16:08:40 +0000
From: "Messinger, Ori" <Ori.Messinger@amd.com>
To: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: [PATCH] drm/amdgpu: Report vram vendor with sysfs (v3)
Thread-Topic: [PATCH] drm/amdgpu: Report vram vendor with sysfs (v3)
Thread-Index: AQHVfSl7Y9VAGwJ/wUau0R9UKSfHog==
Date: Mon, 7 Oct 2019 16:08:40 +0000
Message-ID: <20191007160811.23842-1-Ori.Messinger@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: YTXPR0101CA0039.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:b00:1::16) To DM5PR1201MB2521.namprd12.prod.outlook.com
 (2603:10b6:3:ea::8)
x-ms-exchange-messagesentrepresentingtype: 1
x-mailer: git-send-email 2.17.1
x-originating-ip: [165.204.55.251]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: b95a85ff-7081-443c-53cc-08d74b409e2d
x-ms-office365-filtering-ht: Tenant
x-ms-traffictypediagnostic: DM5PR1201MB2536:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <DM5PR1201MB25363052EDEFC529A0C0046CF89B0@DM5PR1201MB2536.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:813;
x-forefront-prvs: 01834E39B7
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(366004)(136003)(376002)(346002)(39860400002)(396003)(199004)(189003)(71190400001)(26005)(2906002)(102836004)(5660300002)(186003)(36756003)(52116002)(386003)(6506007)(316002)(2351001)(14444005)(256004)(54906003)(71200400001)(2501003)(14454004)(8676002)(66946007)(4326008)(6512007)(66556008)(66446008)(64756008)(66476007)(5640700003)(6486002)(476003)(7736002)(1076003)(6436002)(6116002)(486006)(81166006)(81156014)(8936002)(2616005)(50226002)(25786009)(3846002)(6916009)(66066001)(86362001)(305945005)(99286004)(478600001);
 DIR:OUT; SFP:1101; SCL:1; SRVR:DM5PR1201MB2536;
 H:DM5PR1201MB2521.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: pLu9q6L4Jm3iuyCSXDlew4frx7b7si0apkVoYPZPU3IW2kRJMUHa2ufUoXwLxLOqeFqUWtKyRnHctcU0ZUhxJeiC6sH4FEVKvKE/GA8OyKjMSoSMJJbnEDuJnIfcN5QsJ/HXjziwaib0mGOfAYnQfIzI7QLqGZeZpiT4Y/Fg8DsSJ5V4aF6CkEKrlZ0pma/QsCovwDUvEsw3yNC03ihZYNJimkWWoPGDAM7e1JFpmQ57gZXxKdNr+///6QfNZViPQ+/44Jx8iZblr9u3FxyBAyhnQRhy6HFZNTKksaQqCQLn+39ZdAcxKBQCGBYGeWfYRDirfcJzunoNxOqU/yUqMh4Gau6UgAmEAqEsTocNBgC0Vfz01EApVkOi9KZqlY2VdScF7KNaushWJdHwypaNV3kd9rxtKpg5OzIfB2JxpMQ=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: b95a85ff-7081-443c-53cc-08d74b409e2d
X-MS-Exchange-CrossTenant-originalarrivaltime: 07 Oct 2019 16:08:40.2354 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: 2NKKVca6opMWumaRtN3U6OGHMpAFiPsVqWkCcqUlgZFSfldrTYWLZjieD5VGBaymyKVn6qdVKetQjka2n7Vgnw==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM5PR1201MB2536
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=II2WKNLwsxxDHG12R3wkemJlC07R9b9ZkdK4CuwiuJk=;
 b=cel/AjnB/wXVM6JhJhLaKOqIlb/tRMrfaTAfMqR7+0EIgWkF/U1hdVwhidFYyAU0ti8C3pDUh4nP/3xcZP2U2UUhluq4mcOkzIQdG/NW1vh6OaJ5F2TGN2U7xKqHzr+rq4XJRMfz66OVqYO6UT8NB4cJezW6JqfxENSmPSVkJB8=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Ori.Messinger@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Messinger, Ori" <Ori.Messinger@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

VGhlIHZyYW0gdmVuZG9yIGNhbiBiZSBmb3VuZCBhcyBhIHNlcGFyYXRlIHN5c2ZzIGZpbGUgYXQ6
Ci9zeXMvY2xhc3MvZHJtL2NhcmRbWF0vZGV2aWNlL21lbV9pbmZvX3ZyYW1fdmVuZG9yClRoZSB2
cmFtIHZlbmRvciBpcyBkaXNwbGF5ZWQgYXMgYSBzdHJpbmcgdmFsdWUuCgp2MjogVXNlIGNvcnJl
Y3QgYml0IG1hc2tpbmcsIGFuZCBjYWNoZSB2cmFtX3ZlbmRvciBpbiBnbWMKdjM6IERyb3AgdW51
c2VkIGZ1bmN0aW9ucyBmb3IgdnJhbSB3aWR0aCwgdHlwZSwgYW5kIHZlbmRvcgoKQ2hhbmdlLUlk
OiBJYWEzY2NmM2Y0ODNlZTY1MzYyODFmZTc3Nzc3MmJhMjQxYTZlMGQ0MwpTaWduZWQtb2ZmLWJ5
OiBPcmkgTWVzc2luZ2VyIDxvcmkubWVzc2luZ2VyQGFtZC5jb20+Ci0tLQogLi4uL2dwdS9kcm0v
YW1kL2FtZGdwdS9hbWRncHVfYXRvbWZpcm13YXJlLmMgIHwgMTQgKysrKystCiAuLi4vZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV9hdG9tZmlybXdhcmUuaCAgfCAgMiArLQogZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2dtYy5oICAgICAgIHwgIDEgKwogZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvYW1kZ3B1X3ZyYW1fbWdyLmMgIHwgNDMgKysrKysrKysrKysrKysrKysrKwog
ZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3YxMF8wLmMgICAgICAgIHwgIDYgKystCiBk
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjlfMC5jICAgICAgICAgfCAgNiArKy0KIDYg
ZmlsZXMgY2hhbmdlZCwgNjUgaW5zZXJ0aW9ucygrKSwgNyBkZWxldGlvbnMoLSkKCmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYXRvbWZpcm13YXJlLmMgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYXRvbWZpcm13YXJlLmMKaW5kZXggMTk5
MTNjMzk1ODhiLi4zOWZkOGFlNWE4MjIgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2FtZGdwdV9hdG9tZmlybXdhcmUuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfYXRvbWZpcm13YXJlLmMKQEAgLTE2OSw4ICsxNjksMTEgQEAgc3RhdGljIGlu
dCBjb252ZXJ0X2F0b21fbWVtX3R5cGVfdG9fdnJhbV90eXBlKHN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2LAogCXJldHVybiB2cmFtX3R5cGU7CiB9CiAKLWludCBhbWRncHVfYXRvbWZpcm13YXJl
X2dldF92cmFtX2luZm8oc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCi0JCQkJICAgICAgaW50
ICp2cmFtX3dpZHRoLCBpbnQgKnZyYW1fdHlwZSkKKworaW50CithbWRncHVfYXRvbWZpcm13YXJl
X2dldF92cmFtX2luZm8oc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCisJCQkJICBpbnQgKnZy
YW1fd2lkdGgsIGludCAqdnJhbV90eXBlLAorCQkJCSAgaW50ICp2cmFtX3ZlbmRvcikKIHsKIAlz
dHJ1Y3QgYW1kZ3B1X21vZGVfaW5mbyAqbW9kZV9pbmZvID0gJmFkZXYtPm1vZGVfaW5mbzsKIAlp
bnQgaW5kZXgsIGkgPSAwOwpAQCAtMTgwLDYgKzE4Myw3IEBAIGludCBhbWRncHVfYXRvbWZpcm13
YXJlX2dldF92cmFtX2luZm8oc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCiAJdW5pb24gdnJh
bV9tb2R1bGUgKnZyYW1fbW9kdWxlOwogCXU4IGZyZXYsIGNyZXY7CiAJdTggbWVtX3R5cGU7CisJ
dTggbWVtX3ZlbmRvcjsKIAl1MzIgbWVtX2NoYW5uZWxfbnVtYmVyOwogCXUzMiBtZW1fY2hhbm5l
bF93aWR0aDsKIAl1MzIgbW9kdWxlX2lkOwpAQCAtMjMxLDYgKzIzNSw5IEBAIGludCBhbWRncHVf
YXRvbWZpcm13YXJlX2dldF92cmFtX2luZm8oc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCiAJ
CQkJbWVtX2NoYW5uZWxfd2lkdGggPSB2cmFtX21vZHVsZS0+djkuY2hhbm5lbF93aWR0aDsKIAkJ
CQlpZiAodnJhbV93aWR0aCkKIAkJCQkJKnZyYW1fd2lkdGggPSBtZW1fY2hhbm5lbF9udW1iZXIg
KiAoMSA8PCBtZW1fY2hhbm5lbF93aWR0aCk7CisJCQkJbWVtX3ZlbmRvciA9ICh2cmFtX21vZHVs
ZS0+djkudmVuZGVyX3Jldl9pZCkgJiAweEY7CisJCQkJaWYgKHZyYW1fdmVuZG9yKQorCQkJCQkq
dnJhbV92ZW5kb3IgPSBtZW1fdmVuZG9yOwogCQkJCWJyZWFrOwogCQkJY2FzZSA0OgogCQkJCWlm
IChtb2R1bGVfaWQgPiB2cmFtX2luZm8tPnYyNC52cmFtX21vZHVsZV9udW0pCkBAIC0yNDgsNiAr
MjU1LDkgQEAgaW50IGFtZGdwdV9hdG9tZmlybXdhcmVfZ2V0X3ZyYW1faW5mbyhzdHJ1Y3QgYW1k
Z3B1X2RldmljZSAqYWRldiwKIAkJCQltZW1fY2hhbm5lbF93aWR0aCA9IHZyYW1fbW9kdWxlLT52
MTAuY2hhbm5lbF93aWR0aDsKIAkJCQlpZiAodnJhbV93aWR0aCkKIAkJCQkJKnZyYW1fd2lkdGgg
PSBtZW1fY2hhbm5lbF9udW1iZXIgKiAoMSA8PCBtZW1fY2hhbm5lbF93aWR0aCk7CisJCQkJbWVt
X3ZlbmRvciA9ICh2cmFtX21vZHVsZS0+djEwLnZlbmRlcl9yZXZfaWQpICYgMHhGOworCQkJCWlm
ICh2cmFtX3ZlbmRvcikKKwkJCQkJKnZyYW1fdmVuZG9yID0gbWVtX3ZlbmRvcjsKIAkJCQlicmVh
azsKIAkJCWRlZmF1bHQ6CiAJCQkJcmV0dXJuIC1FSU5WQUw7CmRpZmYgLS1naXQgYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfYXRvbWZpcm13YXJlLmggYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHVfYXRvbWZpcm13YXJlLmgKaW5kZXggODI4MTlmMDNlNDQ0Li41
MzQ0OWZjN2JhZjQgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdw
dV9hdG9tZmlybXdhcmUuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVf
YXRvbWZpcm13YXJlLmgKQEAgLTMwLDcgKzMwLDcgQEAgYm9vbCBhbWRncHVfYXRvbWZpcm13YXJl
X2dwdV9zdXBwb3J0c192aXJ0dWFsaXphdGlvbihzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldikK
IHZvaWQgYW1kZ3B1X2F0b21maXJtd2FyZV9zY3JhdGNoX3JlZ3NfaW5pdChzdHJ1Y3QgYW1kZ3B1
X2RldmljZSAqYWRldik7CiBpbnQgYW1kZ3B1X2F0b21maXJtd2FyZV9hbGxvY2F0ZV9mYl9zY3Jh
dGNoKHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2KTsKIGludCBhbWRncHVfYXRvbWZpcm13YXJl
X2dldF92cmFtX2luZm8oc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsCi0JCQkJICAgICAgaW50
ICp2cmFtX3dpZHRoLCBpbnQgKnZyYW1fdHlwZSk7CisJaW50ICp2cmFtX3dpZHRoLCBpbnQgKnZy
YW1fdHlwZSwgaW50ICp2cmFtX3ZlbmRvcik7CiBpbnQgYW1kZ3B1X2F0b21maXJtd2FyZV9nZXRf
Y2xvY2tfaW5mbyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldik7CiBpbnQgYW1kZ3B1X2F0b21m
aXJtd2FyZV9nZXRfZ2Z4X2luZm8oc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpOwogYm9vbCBh
bWRncHVfYXRvbWZpcm13YXJlX21lbV9lY2Nfc3VwcG9ydGVkKHN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2KTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9n
bWMuaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9nbWMuaAppbmRleCBkNTkx
YjM3NWQxZGYuLjU1NWQ4ZTU3ZmFlOSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1X2dtYy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdw
dV9nbWMuaApAQCAtMTU3LDYgKzE1Nyw3IEBAIHN0cnVjdCBhbWRncHVfZ21jIHsKIAl1aW50MzJf
dCAgICAgICAgICAgICAgICBmd192ZXJzaW9uOwogCXN0cnVjdCBhbWRncHVfaXJxX3NyYwl2bV9m
YXVsdDsKIAl1aW50MzJfdAkJdnJhbV90eXBlOworCXVpbnQ4X3QJCQl2cmFtX3ZlbmRvcjsKIAl1
aW50MzJfdCAgICAgICAgICAgICAgICBzcmJtX3NvZnRfcmVzZXQ7CiAJYm9vbAkJCXBydF93YXJu
aW5nOwogCXVpbnQ2NF90CQlzdG9sZW5fc2l6ZTsKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L2FtZGdwdV92cmFtX21nci5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X3ZyYW1fbWdyLmMKaW5kZXggODg4N2IzOTY0ZTQzLi44MmEzMjk5ZTUzYzAgMTAw
NjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92cmFtX21nci5jCisr
KyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV92cmFtX21nci5jCkBAIC0yNCw2
ICsyNCw4IEBACiAKICNpbmNsdWRlICJhbWRncHUuaCIKICNpbmNsdWRlICJhbWRncHVfdm0uaCIK
KyNpbmNsdWRlICJhbWRncHVfYXRvbWZpcm13YXJlLmgiCisjaW5jbHVkZSAiYXRvbS5oIgogCiBz
dHJ1Y3QgYW1kZ3B1X3ZyYW1fbWdyIHsKIAlzdHJ1Y3QgZHJtX21tIG1tOwpAQCAtMTAyLDYgKzEw
NCwzOSBAQCBzdGF0aWMgc3NpemVfdCBhbWRncHVfbWVtX2luZm9fdmlzX3ZyYW1fdXNlZF9zaG93
KHN0cnVjdCBkZXZpY2UgKmRldiwKIAkJYW1kZ3B1X3ZyYW1fbWdyX3Zpc191c2FnZSgmYWRldi0+
bW1hbi5iZGV2Lm1hbltUVE1fUExfVlJBTV0pKTsKIH0KIAorc3RhdGljIHNzaXplX3QgYW1kZ3B1
X21lbV9pbmZvX3ZyYW1fdmVuZG9yKHN0cnVjdCBkZXZpY2UgKmRldiwKKwkJCQkJCSBzdHJ1Y3Qg
ZGV2aWNlX2F0dHJpYnV0ZSAqYXR0ciwKKwkJCQkJCSBjaGFyICpidWYpCit7CisJc3RydWN0IGRy
bV9kZXZpY2UgKmRkZXYgPSBkZXZfZ2V0X2RydmRhdGEoZGV2KTsKKwlzdHJ1Y3QgYW1kZ3B1X2Rl
dmljZSAqYWRldiA9IGRkZXYtPmRldl9wcml2YXRlOworCisJc3dpdGNoIChhZGV2LT5nbWMudnJh
bV92ZW5kb3IpIHsKKwljYXNlIFNBTVNVTkc6CisJCXJldHVybiBzbnByaW50ZihidWYsIFBBR0Vf
U0laRSwgInNhbXN1bmdcbiIpOworCWNhc2UgSU5GSU5FT046CisJCXJldHVybiBzbnByaW50Zihi
dWYsIFBBR0VfU0laRSwgImluZmluZW9uXG4iKTsKKwljYXNlIEVMUElEQToKKwkJcmV0dXJuIHNu
cHJpbnRmKGJ1ZiwgUEFHRV9TSVpFLCAiZWxwaWRhXG4iKTsKKwljYXNlIEVUUk9OOgorCQlyZXR1
cm4gc25wcmludGYoYnVmLCBQQUdFX1NJWkUsICJldHJvblxuIik7CisJY2FzZSBOQU5ZQToKKwkJ
cmV0dXJuIHNucHJpbnRmKGJ1ZiwgUEFHRV9TSVpFLCAibmFueWFcbiIpOworCWNhc2UgSFlOSVg6
CisJCXJldHVybiBzbnByaW50ZihidWYsIFBBR0VfU0laRSwgImh5bml4XG4iKTsKKwljYXNlIE1P
U0VMOgorCQlyZXR1cm4gc25wcmludGYoYnVmLCBQQUdFX1NJWkUsICJtb3NlbFxuIik7CisJY2Fz
ZSBXSU5CT05EOgorCQlyZXR1cm4gc25wcmludGYoYnVmLCBQQUdFX1NJWkUsICJ3aW5ib25kXG4i
KTsKKwljYXNlIEVTTVQ6CisJCXJldHVybiBzbnByaW50ZihidWYsIFBBR0VfU0laRSwgImVzbXRc
biIpOworCWNhc2UgTUlDUk9OOgorCQlyZXR1cm4gc25wcmludGYoYnVmLCBQQUdFX1NJWkUsICJt
aWNyb25cbiIpOworCWRlZmF1bHQ6CisJCXJldHVybiBzbnByaW50ZihidWYsIFBBR0VfU0laRSwg
InVua25vd25cbiIpOworCX0KK30KKwogc3RhdGljIERFVklDRV9BVFRSKG1lbV9pbmZvX3ZyYW1f
dG90YWwsIFNfSVJVR08sCiAJCSAgIGFtZGdwdV9tZW1faW5mb192cmFtX3RvdGFsX3Nob3csIE5V
TEwpOwogc3RhdGljIERFVklDRV9BVFRSKG1lbV9pbmZvX3Zpc192cmFtX3RvdGFsLCBTX0lSVUdP
LApAQCAtMTEwLDYgKzE0NSw4IEBAIHN0YXRpYyBERVZJQ0VfQVRUUihtZW1faW5mb192cmFtX3Vz
ZWQsIFNfSVJVR08sCiAJCSAgIGFtZGdwdV9tZW1faW5mb192cmFtX3VzZWRfc2hvdywgTlVMTCk7
CiBzdGF0aWMgREVWSUNFX0FUVFIobWVtX2luZm9fdmlzX3ZyYW1fdXNlZCwgU19JUlVHTywKIAkJ
ICAgYW1kZ3B1X21lbV9pbmZvX3Zpc192cmFtX3VzZWRfc2hvdywgTlVMTCk7CitzdGF0aWMgREVW
SUNFX0FUVFIobWVtX2luZm9fdnJhbV92ZW5kb3IsIFNfSVJVR08sCisJCSAgIGFtZGdwdV9tZW1f
aW5mb192cmFtX3ZlbmRvciwgTlVMTCk7CiAKIC8qKgogICogYW1kZ3B1X3ZyYW1fbWdyX2luaXQg
LSBpbml0IFZSQU0gbWFuYWdlciBhbmQgRFJNIE1NCkBAIC0xNTUsNiArMTkyLDExIEBAIHN0YXRp
YyBpbnQgYW1kZ3B1X3ZyYW1fbWdyX2luaXQoc3RydWN0IHR0bV9tZW1fdHlwZV9tYW5hZ2VyICpt
YW4sCiAJCURSTV9FUlJPUigiRmFpbGVkIHRvIGNyZWF0ZSBkZXZpY2UgZmlsZSBtZW1faW5mb192
aXNfdnJhbV91c2VkXG4iKTsKIAkJcmV0dXJuIHJldDsKIAl9CisJcmV0ID0gZGV2aWNlX2NyZWF0
ZV9maWxlKGFkZXYtPmRldiwgJmRldl9hdHRyX21lbV9pbmZvX3ZyYW1fdmVuZG9yKTsKKwlpZiAo
cmV0KSB7CisJCURSTV9FUlJPUigiRmFpbGVkIHRvIGNyZWF0ZSBkZXZpY2UgZmlsZSBtZW1faW5m
b192cmFtX3ZlbmRvclxuIik7CisJCXJldHVybiByZXQ7CisJfQogCiAJcmV0dXJuIDA7CiB9CkBA
IC0xODEsNiArMjIzLDcgQEAgc3RhdGljIGludCBhbWRncHVfdnJhbV9tZ3JfZmluaShzdHJ1Y3Qg
dHRtX21lbV90eXBlX21hbmFnZXIgKm1hbikKIAlkZXZpY2VfcmVtb3ZlX2ZpbGUoYWRldi0+ZGV2
LCAmZGV2X2F0dHJfbWVtX2luZm9fdmlzX3ZyYW1fdG90YWwpOwogCWRldmljZV9yZW1vdmVfZmls
ZShhZGV2LT5kZXYsICZkZXZfYXR0cl9tZW1faW5mb192cmFtX3VzZWQpOwogCWRldmljZV9yZW1v
dmVfZmlsZShhZGV2LT5kZXYsICZkZXZfYXR0cl9tZW1faW5mb192aXNfdnJhbV91c2VkKTsKKwlk
ZXZpY2VfcmVtb3ZlX2ZpbGUoYWRldi0+ZGV2LCAmZGV2X2F0dHJfbWVtX2luZm9fdnJhbV92ZW5k
b3IpOwogCXJldHVybiAwOwogfQogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9nbWNfdjEwXzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192MTBfMC5j
CmluZGV4IGNiM2Y2MTg3M2JhYS4uZmI0ODYyMmMyYWJkIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9nbWNfdjEwXzAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9nbWNfdjEwXzAuYwpAQCAtNjI0LDcgKzYyNCw3IEBAIHN0YXRpYyB1bnNpZ25lZCBnbWNf
djEwXzBfZ2V0X3ZiaW9zX2ZiX3NpemUoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYpCiAKIHN0
YXRpYyBpbnQgZ21jX3YxMF8wX3N3X2luaXQodm9pZCAqaGFuZGxlKQogewotCWludCByLCB2cmFt
X3dpZHRoID0gMCwgdnJhbV90eXBlID0gMDsKKwlpbnQgciwgdnJhbV93aWR0aCA9IDAsIHZyYW1f
dHlwZSA9IDAsIHZyYW1fdmVuZG9yID0gMDsKIAlzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9
IChzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqKWhhbmRsZTsKIAogCWdmeGh1Yl92Ml8wX2luaXQoYWRl
dik7CkBAIC02MzIsMTMgKzYzMiwxNSBAQCBzdGF0aWMgaW50IGdtY192MTBfMF9zd19pbml0KHZv
aWQgKmhhbmRsZSkKIAogCXNwaW5fbG9ja19pbml0KCZhZGV2LT5nbWMuaW52YWxpZGF0ZV9sb2Nr
KTsKIAotCXIgPSBhbWRncHVfYXRvbWZpcm13YXJlX2dldF92cmFtX2luZm8oYWRldiwgJnZyYW1f
d2lkdGgsICZ2cmFtX3R5cGUpOworCXIgPSBhbWRncHVfYXRvbWZpcm13YXJlX2dldF92cmFtX2lu
Zm8oYWRldiwKKwkJJnZyYW1fd2lkdGgsICZ2cmFtX3R5cGUsICZ2cmFtX3ZlbmRvcik7CiAJaWYg
KCFhbWRncHVfZW11X21vZGUpCiAJCWFkZXYtPmdtYy52cmFtX3dpZHRoID0gdnJhbV93aWR0aDsK
IAllbHNlCiAJCWFkZXYtPmdtYy52cmFtX3dpZHRoID0gMSAqIDEyODsgLyogbnVtY2hhbiAqIGNo
YW5zaXplICovCiAKIAlhZGV2LT5nbWMudnJhbV90eXBlID0gdnJhbV90eXBlOworCWFkZXYtPmdt
Yy52cmFtX3ZlbmRvciA9IHZyYW1fdmVuZG9yOwogCXN3aXRjaCAoYWRldi0+YXNpY190eXBlKSB7
CiAJY2FzZSBDSElQX05BVkkxMDoKIAljYXNlIENISVBfTkFWSTE0OgpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3Y5XzAuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2dtY192OV8wLmMKaW5kZXggNGIxMWY3ZTYxMDA0Li5kZWZlYjZhZmNiNWQgMTAwNjQ0
Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dtY192OV8wLmMKKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvZ21jX3Y5XzAuYwpAQCAtOTMwLDcgKzkzMCw3IEBAIHN0YXRp
YyB1bnNpZ25lZCBnbWNfdjlfMF9nZXRfdmJpb3NfZmJfc2l6ZShzdHJ1Y3QgYW1kZ3B1X2Rldmlj
ZSAqYWRldikKIAogc3RhdGljIGludCBnbWNfdjlfMF9zd19pbml0KHZvaWQgKmhhbmRsZSkKIHsK
LQlpbnQgciwgdnJhbV93aWR0aCA9IDAsIHZyYW1fdHlwZSA9IDA7CisJaW50IHIsIHZyYW1fd2lk
dGggPSAwLCB2cmFtX3R5cGUgPSAwLCB2cmFtX3ZlbmRvciA9IDA7CiAJc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYgPSAoc3RydWN0IGFtZGdwdV9kZXZpY2UgKiloYW5kbGU7CiAKIAlnZnhodWJf
djFfMF9pbml0KGFkZXYpOwpAQCAtOTQxLDcgKzk0MSw4IEBAIHN0YXRpYyBpbnQgZ21jX3Y5XzBf
c3dfaW5pdCh2b2lkICpoYW5kbGUpCiAKIAlzcGluX2xvY2tfaW5pdCgmYWRldi0+Z21jLmludmFs
aWRhdGVfbG9jayk7CiAKLQlyID0gYW1kZ3B1X2F0b21maXJtd2FyZV9nZXRfdnJhbV9pbmZvKGFk
ZXYsICZ2cmFtX3dpZHRoLCAmdnJhbV90eXBlKTsKKwlyID0gYW1kZ3B1X2F0b21maXJtd2FyZV9n
ZXRfdnJhbV9pbmZvKGFkZXYsCisJCSZ2cmFtX3dpZHRoLCAmdnJhbV90eXBlLCAmdnJhbV92ZW5k
b3IpOwogCWlmIChhbWRncHVfc3Jpb3ZfdmYoYWRldikpCiAJCS8qIEZvciBWZWdhMTAgU1ItSU9W
LCB2cmFtX3dpZHRoIGNhbid0IGJlIHJlYWQgZnJvbSBBVE9NIGFzIFJBVkVOLAogCQkgKiBhbmQg
REYgcmVsYXRlZCByZWdpc3RlcnMgaXMgbm90IHJlYWRhYmxlLCBzZWVtcyBoYXJkY29yZCBpcyB0
aGUKQEAgLTk2NSw2ICs5NjYsNyBAQCBzdGF0aWMgaW50IGdtY192OV8wX3N3X2luaXQodm9pZCAq
aGFuZGxlKQogCX0KIAogCWFkZXYtPmdtYy52cmFtX3R5cGUgPSB2cmFtX3R5cGU7CisJYWRldi0+
Z21jLnZyYW1fdmVuZG9yID0gdnJhbV92ZW5kb3I7CiAJc3dpdGNoIChhZGV2LT5hc2ljX3R5cGUp
IHsKIAljYXNlIENISVBfUkFWRU46CiAJCWFkZXYtPm51bV92bWh1YnMgPSAyOwotLSAKMi4xNy4x
CgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwphbWQtZ2Z4
IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3Rz
LmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZng=
