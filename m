Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 1E7CB48ED3
	for <lists+amd-gfx@lfdr.de>; Mon, 17 Jun 2019 21:28:12 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D2789899F2;
	Mon, 17 Jun 2019 19:28:09 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-qt1-x844.google.com (mail-qt1-x844.google.com
 [IPv6:2607:f8b0:4864:20::844])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 6A5C7899E9
 for <amd-gfx@lists.freedesktop.org>; Mon, 17 Jun 2019 19:28:08 +0000 (UTC)
Received: by mail-qt1-x844.google.com with SMTP id x2so12260035qtr.0
 for <amd-gfx@lists.freedesktop.org>; Mon, 17 Jun 2019 12:28:08 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=eX33fyXhkFqxCTrxQ9FGtuZ342gvuOP9hay6FNniXNo=;
 b=dv66v44uInN/6yrTKecG4x7rdhjgVhQi2qHHDP8Y82j/hYa2y4Nwj3X7B4qV1JvbqW
 5Zu2RKS8USeDkU3qzbkJdiTGF9AK0vUxlW70koV5oQbl+LqU73119b5EgYhfDYPYlZ4L
 A4BQwSgMyTkJHZ4/aug+FXQjPcu/AoNWfZsIM42C2XKVFd3Q1k3UC45L4E1m2ZNhVCjp
 D/qPEgy53T3VU1rmvbcccipuX8Hd3MLZ/lEd41vupZxcCM4k8tPBDHIm33w9nMGJjFNT
 X75cuJQWjRv4ZE5G4KWAFt9T2gTMd+s8hGKyAqiHQ68AfU7eg+9pGD+p47HygBO1T5Rz
 D0gg==
X-Gm-Message-State: APjAAAWbMRn7tE2WePSeUzVWC4b7qSMw1oxZ4TCHHTiYmhberfRZtlKO
 EsqeK/0w9jco7QdfxARwKjfVEgnEmm8=
X-Google-Smtp-Source: APXvYqwMq++ECqTGiu1rp7uVlAqQFs9zXldvObZ7wt5S/dLfVj99oiyxwMog27jz8sUF6378e6ADHw==
X-Received: by 2002:ac8:21b7:: with SMTP id 52mr76995401qty.59.1560799686983; 
 Mon, 17 Jun 2019 12:28:06 -0700 (PDT)
Received: from localhost.localdomain ([71.219.5.136])
 by smtp.gmail.com with ESMTPSA id p37sm7715622qtc.35.2019.06.17.12.28.06
 (version=TLS1_3 cipher=AEAD-AES256-GCM-SHA384 bits=256/256);
 Mon, 17 Jun 2019 12:28:06 -0700 (PDT)
From: Alex Deucher <alexdeucher@gmail.com>
X-Google-Original-From: Alex Deucher <alexander.deucher@amd.com>
To: amd-gfx@lists.freedesktop.org
Subject: [PATCH 158/459] drm/amd/powerplay: move the function of
 get[set]_power_profile to asic file
Date: Mon, 17 Jun 2019 14:26:23 -0500
Message-Id: <20190617192704.18038-59-alexander.deucher@amd.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20190617192704.18038-1-alexander.deucher@amd.com>
References: <20190617192704.18038-1-alexander.deucher@amd.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=eX33fyXhkFqxCTrxQ9FGtuZ342gvuOP9hay6FNniXNo=;
 b=nUrgLwiLo0mPUJfTYhxTekDFMyBjGg2cfDb+apOFfuTtIQ1aijnaR2cOJpc9yLaaJp
 lGJreoZNKu/chLizzI8tSRM5jGsNy4XTtb0VA9izSUFjOgQX+te6OYGX6dniomSx7v2X
 N9Vai4Lu+cd2zq5TCVcLzMuPmkPw1/O5URN8mbwlqhFg/9j2A2sHz/+cCtc7r+onOHxa
 TaMdJGgHYaQjAH2GiyR99rs8iZLy8geCWtJmLIXY7lQj29Q0W5PGHa5ambCTO6m7hNDk
 PlvZPgJvbIBB0s46xEN7+dalL1+o01k63yxOXsWkS6e9K2MzlIDeenAxIMl8E/eFQAB6
 GWtg==
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Alex Deucher <alexander.deucher@amd.com>, Kevin Wang <kevin1.wang@amd.com>,
 Huang Rui <ray.huang@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogS2V2aW4gV2FuZyA8a2V2aW4xLndhbmdAYW1kLmNvbT4KClRoZSBjYWxsYmFjayBvZiBn
ZXRbc2V0XV9wb3dlcl9wcm9maWxlIGlzIGFzaWMgcmVsYXRlZCBmdW5jdGlvbiwKc28gbW92ZSB0
aGVtZSBpbnRvIHZlZ2EyMF9wcHQgZmlsZS4KClNpZ25lZC1vZmYtYnk6IEtldmluIFdhbmcgPGtl
dmluMS53YW5nQGFtZC5jb20+ClJldmlld2VkLWJ5OiBIdWFuZyBSdWkgPHJheS5odWFuZ0BhbWQu
Y29tPgpTaWduZWQtb2ZmLWJ5OiBBbGV4IERldWNoZXIgPGFsZXhhbmRlci5kZXVjaGVyQGFtZC5j
b20+Ci0tLQogLi4uL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvYW1kZ3B1X3NtdS5oICAgIHwg
ICA2ICstCiBkcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9zbXVfdjExXzAuYyAgICAgfCAx
OTQgLS0tLS0tLS0tLS0tLS0tLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3ZlZ2Ey
MF9wcHQuYyAgICB8IDE5NyArKysrKysrKysrKysrKysrKysKIDMgZmlsZXMgY2hhbmdlZCwgMTk5
IGluc2VydGlvbnMoKyksIDE5OCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dw
dS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvYW1kZ3B1X3NtdS5oIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9wb3dlcnBsYXkvaW5jL2FtZGdwdV9zbXUuaAppbmRleCBmNTMwNWRlYWNhYWIuLmNhMWMzNzVi
YjEwMSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvaW5jL2FtZGdw
dV9zbXUuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9pbmMvYW1kZ3B1X3Nt
dS5oCkBAIC01MzcsOCArNTM3LDYgQEAgc3RydWN0IHNtdV9mdW5jcwogCWludCAoKnNldF9vZDhf
ZGVmYXVsdF9zZXR0aW5ncykoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsCiAJCQkJCWJvb2wgaW5p
dGlhbGl6ZSk7CiAJaW50ICgqY29udl9wb3dlcl9wcm9maWxlX3RvX3BwbGliX3dvcmtsb2FkKShp
bnQgcG93ZXJfcHJvZmlsZSk7Ci0JaW50ICgqZ2V0X3Bvd2VyX3Byb2ZpbGVfbW9kZSkoc3RydWN0
IHNtdV9jb250ZXh0ICpzbXUsIGNoYXIgKmJ1Zik7Ci0JaW50ICgqc2V0X3Bvd2VyX3Byb2ZpbGVf
bW9kZSkoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGxvbmcgKmlucHV0LCB1aW50MzJfdCBzaXpl
KTsKIAlpbnQgKCp1cGRhdGVfb2Q4X3NldHRpbmdzKShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwK
IAkJCQkgICB1aW50MzJfdCBpbmRleCwKIAkJCQkgICB1aW50MzJfdCB2YWx1ZSk7CkBAIC02NjMs
OSArNjYxLDkgQEAgc3RydWN0IHNtdV9mdW5jcwogI2RlZmluZSBzbXVfcmVhZF9zZW5zb3Ioc211
LCBzZW5zb3IsIGRhdGEsIHNpemUpIFwKIAkoKHNtdSktPmZ1bmNzLT5yZWFkX3NlbnNvcj8gKHNt
dSktPmZ1bmNzLT5yZWFkX3NlbnNvcigoc211KSwgKHNlbnNvciksIChkYXRhKSwgKHNpemUpKSA6
IDApCiAjZGVmaW5lIHNtdV9nZXRfcG93ZXJfcHJvZmlsZV9tb2RlKHNtdSwgYnVmKSBcCi0JKChz
bXUpLT5mdW5jcy0+Z2V0X3Bvd2VyX3Byb2ZpbGVfbW9kZSA/IChzbXUpLT5mdW5jcy0+Z2V0X3Bv
d2VyX3Byb2ZpbGVfbW9kZSgoc211KSwgYnVmKSA6IDApCisJKChzbXUpLT5wcHRfZnVuY3MtPmdl
dF9wb3dlcl9wcm9maWxlX21vZGUgPyAoc211KS0+cHB0X2Z1bmNzLT5nZXRfcG93ZXJfcHJvZmls
ZV9tb2RlKChzbXUpLCBidWYpIDogMCkKICNkZWZpbmUgc211X3NldF9wb3dlcl9wcm9maWxlX21v
ZGUoc211LCBwYXJhbSwgcGFyYW1fc2l6ZSkgXAotCSgoc211KS0+ZnVuY3MtPnNldF9wb3dlcl9w
cm9maWxlX21vZGUgPyAoc211KS0+ZnVuY3MtPnNldF9wb3dlcl9wcm9maWxlX21vZGUoKHNtdSks
IChwYXJhbSksIChwYXJhbV9zaXplKSkgOiAwKQorCSgoc211KS0+cHB0X2Z1bmNzLT5zZXRfcG93
ZXJfcHJvZmlsZV9tb2RlID8gKHNtdSktPnBwdF9mdW5jcy0+c2V0X3Bvd2VyX3Byb2ZpbGVfbW9k
ZSgoc211KSwgKHBhcmFtKSwgKHBhcmFtX3NpemUpKSA6IDApCiAjZGVmaW5lIHNtdV9nZXRfcGVy
Zm9ybWFuY2VfbGV2ZWwoc211KSBcCiAJKChzbXUpLT5wcHRfZnVuY3MtPmdldF9wZXJmb3JtYW5j
ZV9sZXZlbCA/IChzbXUpLT5wcHRfZnVuY3MtPmdldF9wZXJmb3JtYW5jZV9sZXZlbCgoc211KSkg
OiAwKQogI2RlZmluZSBzbXVfZm9yY2VfcGVyZm9ybWFuY2VfbGV2ZWwoc211LCBsZXZlbCkgXApk
aWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvc211X3YxMV8wLmMgYi9k
cml2ZXJzL2dwdS9kcm0vYW1kL3Bvd2VycGxheS9zbXVfdjExXzAuYwppbmRleCBhNTIzOTUwNDI0
NGUuLmY3ZGJhMzI1NzZjYSAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBs
YXkvc211X3YxMV8wLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvc211X3Yx
MV8wLmMKQEAgLTE2NTIsMTk4ICsxNjUyLDYgQEAgc3RhdGljIGludCBzbXVfdjExXzBfc2V0X29k
OF9kZWZhdWx0X3NldHRpbmdzKHN0cnVjdCBzbXVfY29udGV4dCAqc211LAogCXJldHVybiAwOwog
fQogCi1zdGF0aWMgaW50IHNtdV92MTFfMF9nZXRfcG93ZXJfcHJvZmlsZV9tb2RlKHN0cnVjdCBz
bXVfY29udGV4dCAqc211LCBjaGFyICpidWYpCi17Ci0JRHBtQWN0aXZpdHlNb25pdG9yQ29lZmZJ
bnRfdCBhY3Rpdml0eV9tb25pdG9yOwotCXVpbnQzMl90IGksIHNpemUgPSAwOwotCXVpbnQxNl90
IHdvcmtsb2FkX3R5cGUgPSAwOwotCXN0YXRpYyBjb25zdCBjaGFyICpwcm9maWxlX25hbWVbXSA9
IHsKLQkJCQkJIkJPT1RVUF9ERUZBVUxUIiwKLQkJCQkJIjNEX0ZVTExfU0NSRUVOIiwKLQkJCQkJ
IlBPV0VSX1NBVklORyIsCi0JCQkJCSJWSURFTyIsCi0JCQkJCSJWUiIsCi0JCQkJCSJDT01QVVRF
IiwKLQkJCQkJIkNVU1RPTSJ9OwotCXN0YXRpYyBjb25zdCBjaGFyICp0aXRsZVtdID0gewotCQkJ
IlBST0ZJTEVfSU5ERVgoTkFNRSkiLAotCQkJIkNMT0NLX1RZUEUoTkFNRSkiLAotCQkJIkZQUyIs
Ci0JCQkiVXNlUmxjQnVzeSIsCi0JCQkiTWluQWN0aXZlRnJlcVR5cGUiLAotCQkJIk1pbkFjdGl2
ZUZyZXEiLAotCQkJIkJvb3N0ZXJGcmVxVHlwZSIsCi0JCQkiQm9vc3RlckZyZXEiLAotCQkJIlBE
X0RhdGFfbGltaXRfYyIsCi0JCQkiUERfRGF0YV9lcnJvcl9jb2VmZiIsCi0JCQkiUERfRGF0YV9l
cnJvcl9yYXRlX2NvZWZmIn07Ci0JaW50IHJlc3VsdCA9IDA7Ci0KLQlpZiAoIXNtdS0+cG1fZW5h
YmxlZCB8fCAhYnVmKQotCQlyZXR1cm4gLUVJTlZBTDsKLQotCXNpemUgKz0gc3ByaW50ZihidWYg
KyBzaXplLCAiJTE2cyAlcyAlcyAlcyAlcyAlcyAlcyAlcyAlcyAlcyAlc1xuIiwKLQkJCXRpdGxl
WzBdLCB0aXRsZVsxXSwgdGl0bGVbMl0sIHRpdGxlWzNdLCB0aXRsZVs0XSwgdGl0bGVbNV0sCi0J
CQl0aXRsZVs2XSwgdGl0bGVbN10sIHRpdGxlWzhdLCB0aXRsZVs5XSwgdGl0bGVbMTBdKTsKLQot
CWZvciAoaSA9IDA7IGkgPD0gUFBfU01DX1BPV0VSX1BST0ZJTEVfQ1VTVE9NOyBpKyspIHsKLQkJ
LyogY29udiBQUF9TTUNfUE9XRVJfUFJPRklMRSogdG8gV09SS0xPQURfUFBMSUJfKl9CSVQgKi8K
LQkJd29ya2xvYWRfdHlwZSA9IHNtdV9jb252X3Byb2ZpbGVfdG9fd29ya2xvYWQoc211LCBpKTsK
LQkJcmVzdWx0ID0gc211X3VwZGF0ZV90YWJsZV93aXRoX2FyZyhzbXUsIFRBQkxFX0FDVElWSVRZ
X01PTklUT1JfQ09FRkYsCi0JCQkJCQkgICB3b3JrbG9hZF90eXBlLCAmYWN0aXZpdHlfbW9uaXRv
ciwgZmFsc2UpOwotCQlpZiAocmVzdWx0KSB7Ci0JCQlwcl9lcnIoIlslc10gRmFpbGVkIHRvIGdl
dCBhY3Rpdml0eSBtb25pdG9yISIsIF9fZnVuY19fKTsKLQkJCXJldHVybiByZXN1bHQ7Ci0JCX0K
LQotCQlzaXplICs9IHNwcmludGYoYnVmICsgc2l6ZSwgIiUyZCAlMTRzJXM6XG4iLAotCQkJaSwg
cHJvZmlsZV9uYW1lW2ldLCAoaSA9PSBzbXUtPnBvd2VyX3Byb2ZpbGVfbW9kZSkgPyAiKiIgOiAi
ICIpOwotCi0JCXNpemUgKz0gc3ByaW50ZihidWYgKyBzaXplLCAiJTE5cyAlZCglMTNzKSAlN2Qg
JTdkICU3ZCAlN2QgJTdkICU3ZCAlN2QgJTdkICU3ZFxuIiwKLQkJCSIgIiwKLQkJCTAsCi0JCQki
R0ZYQ0xLIiwKLQkJCWFjdGl2aXR5X21vbml0b3IuR2Z4X0ZQUywKLQkJCWFjdGl2aXR5X21vbml0
b3IuR2Z4X1VzZVJsY0J1c3ksCi0JCQlhY3Rpdml0eV9tb25pdG9yLkdmeF9NaW5BY3RpdmVGcmVx
VHlwZSwKLQkJCWFjdGl2aXR5X21vbml0b3IuR2Z4X01pbkFjdGl2ZUZyZXEsCi0JCQlhY3Rpdml0
eV9tb25pdG9yLkdmeF9Cb29zdGVyRnJlcVR5cGUsCi0JCQlhY3Rpdml0eV9tb25pdG9yLkdmeF9C
b29zdGVyRnJlcSwKLQkJCWFjdGl2aXR5X21vbml0b3IuR2Z4X1BEX0RhdGFfbGltaXRfYywKLQkJ
CWFjdGl2aXR5X21vbml0b3IuR2Z4X1BEX0RhdGFfZXJyb3JfY29lZmYsCi0JCQlhY3Rpdml0eV9t
b25pdG9yLkdmeF9QRF9EYXRhX2Vycm9yX3JhdGVfY29lZmYpOwotCi0JCXNpemUgKz0gc3ByaW50
ZihidWYgKyBzaXplLCAiJTE5cyAlZCglMTNzKSAlN2QgJTdkICU3ZCAlN2QgJTdkICU3ZCAlN2Qg
JTdkICU3ZFxuIiwKLQkJCSIgIiwKLQkJCTEsCi0JCQkiU09DQ0xLIiwKLQkJCWFjdGl2aXR5X21v
bml0b3IuU29jX0ZQUywKLQkJCWFjdGl2aXR5X21vbml0b3IuU29jX1VzZVJsY0J1c3ksCi0JCQlh
Y3Rpdml0eV9tb25pdG9yLlNvY19NaW5BY3RpdmVGcmVxVHlwZSwKLQkJCWFjdGl2aXR5X21vbml0
b3IuU29jX01pbkFjdGl2ZUZyZXEsCi0JCQlhY3Rpdml0eV9tb25pdG9yLlNvY19Cb29zdGVyRnJl
cVR5cGUsCi0JCQlhY3Rpdml0eV9tb25pdG9yLlNvY19Cb29zdGVyRnJlcSwKLQkJCWFjdGl2aXR5
X21vbml0b3IuU29jX1BEX0RhdGFfbGltaXRfYywKLQkJCWFjdGl2aXR5X21vbml0b3IuU29jX1BE
X0RhdGFfZXJyb3JfY29lZmYsCi0JCQlhY3Rpdml0eV9tb25pdG9yLlNvY19QRF9EYXRhX2Vycm9y
X3JhdGVfY29lZmYpOwotCi0JCXNpemUgKz0gc3ByaW50ZihidWYgKyBzaXplLCAiJTE5cyAlZCgl
MTNzKSAlN2QgJTdkICU3ZCAlN2QgJTdkICU3ZCAlN2QgJTdkICU3ZFxuIiwKLQkJCSIgIiwKLQkJ
CTIsCi0JCQkiVUNMSyIsCi0JCQlhY3Rpdml0eV9tb25pdG9yLk1lbV9GUFMsCi0JCQlhY3Rpdml0
eV9tb25pdG9yLk1lbV9Vc2VSbGNCdXN5LAotCQkJYWN0aXZpdHlfbW9uaXRvci5NZW1fTWluQWN0
aXZlRnJlcVR5cGUsCi0JCQlhY3Rpdml0eV9tb25pdG9yLk1lbV9NaW5BY3RpdmVGcmVxLAotCQkJ
YWN0aXZpdHlfbW9uaXRvci5NZW1fQm9vc3RlckZyZXFUeXBlLAotCQkJYWN0aXZpdHlfbW9uaXRv
ci5NZW1fQm9vc3RlckZyZXEsCi0JCQlhY3Rpdml0eV9tb25pdG9yLk1lbV9QRF9EYXRhX2xpbWl0
X2MsCi0JCQlhY3Rpdml0eV9tb25pdG9yLk1lbV9QRF9EYXRhX2Vycm9yX2NvZWZmLAotCQkJYWN0
aXZpdHlfbW9uaXRvci5NZW1fUERfRGF0YV9lcnJvcl9yYXRlX2NvZWZmKTsKLQotCQlzaXplICs9
IHNwcmludGYoYnVmICsgc2l6ZSwgIiUxOXMgJWQoJTEzcykgJTdkICU3ZCAlN2QgJTdkICU3ZCAl
N2QgJTdkICU3ZCAlN2RcbiIsCi0JCQkiICIsCi0JCQkzLAotCQkJIkZDTEsiLAotCQkJYWN0aXZp
dHlfbW9uaXRvci5GY2xrX0ZQUywKLQkJCWFjdGl2aXR5X21vbml0b3IuRmNsa19Vc2VSbGNCdXN5
LAotCQkJYWN0aXZpdHlfbW9uaXRvci5GY2xrX01pbkFjdGl2ZUZyZXFUeXBlLAotCQkJYWN0aXZp
dHlfbW9uaXRvci5GY2xrX01pbkFjdGl2ZUZyZXEsCi0JCQlhY3Rpdml0eV9tb25pdG9yLkZjbGtf
Qm9vc3RlckZyZXFUeXBlLAotCQkJYWN0aXZpdHlfbW9uaXRvci5GY2xrX0Jvb3N0ZXJGcmVxLAot
CQkJYWN0aXZpdHlfbW9uaXRvci5GY2xrX1BEX0RhdGFfbGltaXRfYywKLQkJCWFjdGl2aXR5X21v
bml0b3IuRmNsa19QRF9EYXRhX2Vycm9yX2NvZWZmLAotCQkJYWN0aXZpdHlfbW9uaXRvci5GY2xr
X1BEX0RhdGFfZXJyb3JfcmF0ZV9jb2VmZik7Ci0JfQotCi0JcmV0dXJuIHNpemU7Ci19Ci0KLXN0
YXRpYyBpbnQgc211X3YxMV8wX3NldF9wb3dlcl9wcm9maWxlX21vZGUoc3RydWN0IHNtdV9jb250
ZXh0ICpzbXUsIGxvbmcgKmlucHV0LCB1aW50MzJfdCBzaXplKQotewotCURwbUFjdGl2aXR5TW9u
aXRvckNvZWZmSW50X3QgYWN0aXZpdHlfbW9uaXRvcjsKLQlpbnQgd29ya2xvYWRfdHlwZSA9IDAs
IHJldCA9IDA7Ci0KLQlzbXUtPnBvd2VyX3Byb2ZpbGVfbW9kZSA9IGlucHV0W3NpemVdOwotCi0J
aWYgKCFzbXUtPnBtX2VuYWJsZWQpCi0JCXJldHVybiByZXQ7Ci0JaWYgKHNtdS0+cG93ZXJfcHJv
ZmlsZV9tb2RlID4gUFBfU01DX1BPV0VSX1BST0ZJTEVfQ1VTVE9NKSB7Ci0JCXByX2VycigiSW52
YWxpZCBwb3dlciBwcm9maWxlIG1vZGUgJWRcbiIsIHNtdS0+cG93ZXJfcHJvZmlsZV9tb2RlKTsK
LQkJcmV0dXJuIC1FSU5WQUw7Ci0JfQotCi0JaWYgKHNtdS0+cG93ZXJfcHJvZmlsZV9tb2RlID09
IFBQX1NNQ19QT1dFUl9QUk9GSUxFX0NVU1RPTSkgewotCQlyZXQgPSBzbXVfdXBkYXRlX3RhYmxl
X3dpdGhfYXJnKHNtdSwgVEFCTEVfQUNUSVZJVFlfTU9OSVRPUl9DT0VGRiwKLQkJCQkJCVdPUktM
T0FEX1BQTElCX0NVU1RPTV9CSVQsICZhY3Rpdml0eV9tb25pdG9yLCBmYWxzZSk7Ci0JCWlmIChy
ZXQpIHsKLQkJCXByX2VycigiWyVzXSBGYWlsZWQgdG8gZ2V0IGFjdGl2aXR5IG1vbml0b3IhIiwg
X19mdW5jX18pOwotCQkJcmV0dXJuIHJldDsKLQkJfQotCi0JCXN3aXRjaCAoaW5wdXRbMF0pIHsK
LQkJY2FzZSAwOiAvKiBHZnhjbGsgKi8KLQkJCWFjdGl2aXR5X21vbml0b3IuR2Z4X0ZQUyA9IGlu
cHV0WzFdOwotCQkJYWN0aXZpdHlfbW9uaXRvci5HZnhfVXNlUmxjQnVzeSA9IGlucHV0WzJdOwot
CQkJYWN0aXZpdHlfbW9uaXRvci5HZnhfTWluQWN0aXZlRnJlcVR5cGUgPSBpbnB1dFszXTsKLQkJ
CWFjdGl2aXR5X21vbml0b3IuR2Z4X01pbkFjdGl2ZUZyZXEgPSBpbnB1dFs0XTsKLQkJCWFjdGl2
aXR5X21vbml0b3IuR2Z4X0Jvb3N0ZXJGcmVxVHlwZSA9IGlucHV0WzVdOwotCQkJYWN0aXZpdHlf
bW9uaXRvci5HZnhfQm9vc3RlckZyZXEgPSBpbnB1dFs2XTsKLQkJCWFjdGl2aXR5X21vbml0b3Iu
R2Z4X1BEX0RhdGFfbGltaXRfYyA9IGlucHV0WzddOwotCQkJYWN0aXZpdHlfbW9uaXRvci5HZnhf
UERfRGF0YV9lcnJvcl9jb2VmZiA9IGlucHV0WzhdOwotCQkJYWN0aXZpdHlfbW9uaXRvci5HZnhf
UERfRGF0YV9lcnJvcl9yYXRlX2NvZWZmID0gaW5wdXRbOV07Ci0JCQlicmVhazsKLQkJY2FzZSAx
OiAvKiBTb2NjbGsgKi8KLQkJCWFjdGl2aXR5X21vbml0b3IuU29jX0ZQUyA9IGlucHV0WzFdOwot
CQkJYWN0aXZpdHlfbW9uaXRvci5Tb2NfVXNlUmxjQnVzeSA9IGlucHV0WzJdOwotCQkJYWN0aXZp
dHlfbW9uaXRvci5Tb2NfTWluQWN0aXZlRnJlcVR5cGUgPSBpbnB1dFszXTsKLQkJCWFjdGl2aXR5
X21vbml0b3IuU29jX01pbkFjdGl2ZUZyZXEgPSBpbnB1dFs0XTsKLQkJCWFjdGl2aXR5X21vbml0
b3IuU29jX0Jvb3N0ZXJGcmVxVHlwZSA9IGlucHV0WzVdOwotCQkJYWN0aXZpdHlfbW9uaXRvci5T
b2NfQm9vc3RlckZyZXEgPSBpbnB1dFs2XTsKLQkJCWFjdGl2aXR5X21vbml0b3IuU29jX1BEX0Rh
dGFfbGltaXRfYyA9IGlucHV0WzddOwotCQkJYWN0aXZpdHlfbW9uaXRvci5Tb2NfUERfRGF0YV9l
cnJvcl9jb2VmZiA9IGlucHV0WzhdOwotCQkJYWN0aXZpdHlfbW9uaXRvci5Tb2NfUERfRGF0YV9l
cnJvcl9yYXRlX2NvZWZmID0gaW5wdXRbOV07Ci0JCQlicmVhazsKLQkJY2FzZSAyOiAvKiBVY2xr
ICovCi0JCQlhY3Rpdml0eV9tb25pdG9yLk1lbV9GUFMgPSBpbnB1dFsxXTsKLQkJCWFjdGl2aXR5
X21vbml0b3IuTWVtX1VzZVJsY0J1c3kgPSBpbnB1dFsyXTsKLQkJCWFjdGl2aXR5X21vbml0b3Iu
TWVtX01pbkFjdGl2ZUZyZXFUeXBlID0gaW5wdXRbM107Ci0JCQlhY3Rpdml0eV9tb25pdG9yLk1l
bV9NaW5BY3RpdmVGcmVxID0gaW5wdXRbNF07Ci0JCQlhY3Rpdml0eV9tb25pdG9yLk1lbV9Cb29z
dGVyRnJlcVR5cGUgPSBpbnB1dFs1XTsKLQkJCWFjdGl2aXR5X21vbml0b3IuTWVtX0Jvb3N0ZXJG
cmVxID0gaW5wdXRbNl07Ci0JCQlhY3Rpdml0eV9tb25pdG9yLk1lbV9QRF9EYXRhX2xpbWl0X2Mg
PSBpbnB1dFs3XTsKLQkJCWFjdGl2aXR5X21vbml0b3IuTWVtX1BEX0RhdGFfZXJyb3JfY29lZmYg
PSBpbnB1dFs4XTsKLQkJCWFjdGl2aXR5X21vbml0b3IuTWVtX1BEX0RhdGFfZXJyb3JfcmF0ZV9j
b2VmZiA9IGlucHV0WzldOwotCQkJYnJlYWs7Ci0JCWNhc2UgMzogLyogRmNsayAqLwotCQkJYWN0
aXZpdHlfbW9uaXRvci5GY2xrX0ZQUyA9IGlucHV0WzFdOwotCQkJYWN0aXZpdHlfbW9uaXRvci5G
Y2xrX1VzZVJsY0J1c3kgPSBpbnB1dFsyXTsKLQkJCWFjdGl2aXR5X21vbml0b3IuRmNsa19NaW5B
Y3RpdmVGcmVxVHlwZSA9IGlucHV0WzNdOwotCQkJYWN0aXZpdHlfbW9uaXRvci5GY2xrX01pbkFj
dGl2ZUZyZXEgPSBpbnB1dFs0XTsKLQkJCWFjdGl2aXR5X21vbml0b3IuRmNsa19Cb29zdGVyRnJl
cVR5cGUgPSBpbnB1dFs1XTsKLQkJCWFjdGl2aXR5X21vbml0b3IuRmNsa19Cb29zdGVyRnJlcSA9
IGlucHV0WzZdOwotCQkJYWN0aXZpdHlfbW9uaXRvci5GY2xrX1BEX0RhdGFfbGltaXRfYyA9IGlu
cHV0WzddOwotCQkJYWN0aXZpdHlfbW9uaXRvci5GY2xrX1BEX0RhdGFfZXJyb3JfY29lZmYgPSBp
bnB1dFs4XTsKLQkJCWFjdGl2aXR5X21vbml0b3IuRmNsa19QRF9EYXRhX2Vycm9yX3JhdGVfY29l
ZmYgPSBpbnB1dFs5XTsKLQkJCWJyZWFrOwotCQl9Ci0KLQkJcmV0ID0gc211X3VwZGF0ZV90YWJs
ZV93aXRoX2FyZyhzbXUsIFRBQkxFX0FDVElWSVRZX01PTklUT1JfQ09FRkYsCi0JCQkJCQlXT1JL
TE9BRF9QUExJQl9DT01QVVRFX0JJVCwgJmFjdGl2aXR5X21vbml0b3IsIHRydWUpOwotCQlpZiAo
cmV0KSB7Ci0JCQlwcl9lcnIoIlslc10gRmFpbGVkIHRvIHNldCBhY3Rpdml0eSBtb25pdG9yISIs
IF9fZnVuY19fKTsKLQkJCXJldHVybiByZXQ7Ci0JCX0KLQl9Ci0KLQkvKiBjb252IFBQX1NNQ19Q
T1dFUl9QUk9GSUxFKiB0byBXT1JLTE9BRF9QUExJQl8qX0JJVCAqLwotCXdvcmtsb2FkX3R5cGUg
PSBzbXVfY29udl9wcm9maWxlX3RvX3dvcmtsb2FkKHNtdSwgc211LT5wb3dlcl9wcm9maWxlX21v
ZGUpOwotCXNtdV9zZW5kX3NtY19tc2dfd2l0aF9wYXJhbShzbXUsIFNNVV9NU0dfU2V0V29ya2xv
YWRNYXNrLAotCQkJCSAgICAxIDw8IHdvcmtsb2FkX3R5cGUpOwotCi0JcmV0dXJuIHJldDsKLX0K
LQogc3RhdGljIGludCBzbXVfdjExXzBfdXBkYXRlX29kOF9zZXR0aW5ncyhzdHJ1Y3Qgc211X2Nv
bnRleHQgKnNtdSwKIAkJCQkJdWludDMyX3QgaW5kZXgsCiAJCQkJCXVpbnQzMl90IHZhbHVlKQpA
QCAtMjEwOSw4ICsxOTE3LDYgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBzbXVfZnVuY3Mgc211X3Yx
MV8wX2Z1bmNzID0gewogCS5nZXRfc2NsayA9IHNtdV92MTFfMF9kcG1fZ2V0X3NjbGssCiAJLmdl
dF9tY2xrID0gc211X3YxMV8wX2RwbV9nZXRfbWNsaywKIAkuc2V0X29kOF9kZWZhdWx0X3NldHRp
bmdzID0gc211X3YxMV8wX3NldF9vZDhfZGVmYXVsdF9zZXR0aW5ncywKLQkuZ2V0X3Bvd2VyX3By
b2ZpbGVfbW9kZSA9IHNtdV92MTFfMF9nZXRfcG93ZXJfcHJvZmlsZV9tb2RlLAotCS5zZXRfcG93
ZXJfcHJvZmlsZV9tb2RlID0gc211X3YxMV8wX3NldF9wb3dlcl9wcm9maWxlX21vZGUsCiAJLnVw
ZGF0ZV9vZDhfc2V0dGluZ3MgPSBzbXVfdjExXzBfdXBkYXRlX29kOF9zZXR0aW5ncywKIAkuZHBt
X3NldF91dmRfZW5hYmxlID0gc211X3YxMV8wX2RwbV9zZXRfdXZkX2VuYWJsZSwKIAkuZHBtX3Nl
dF92Y2VfZW5hYmxlID0gc211X3YxMV8wX2RwbV9zZXRfdmNlX2VuYWJsZSwKZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3ZlZ2EyMF9wcHQuYyBiL2RyaXZlcnMvZ3B1
L2RybS9hbWQvcG93ZXJwbGF5L3ZlZ2EyMF9wcHQuYwppbmRleCAzMjQzOTI4YjZlZTIuLjEwYTcw
ZjhjN2U5YiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9wb3dlcnBsYXkvdmVnYTIw
X3BwdC5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvcG93ZXJwbGF5L3ZlZ2EyMF9wcHQuYwpA
QCAtMTUyNyw2ICsxNTI3LDIwMSBAQCBzdGF0aWMgaW50IHZlZ2EyMF9jb252X3Byb2ZpbGVfdG9f
d29ya2xvYWQoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGludCBwb3dlcl9wcgogCXJldHVybiBw
cGxpYl93b3JrbG9hZDsKIH0KIAorc3RhdGljIGludCB2ZWdhMjBfZ2V0X3Bvd2VyX3Byb2ZpbGVf
bW9kZShzdHJ1Y3Qgc211X2NvbnRleHQgKnNtdSwgY2hhciAqYnVmKQoreworCURwbUFjdGl2aXR5
TW9uaXRvckNvZWZmSW50X3QgYWN0aXZpdHlfbW9uaXRvcjsKKwl1aW50MzJfdCBpLCBzaXplID0g
MDsKKwl1aW50MTZfdCB3b3JrbG9hZF90eXBlID0gMDsKKwlzdGF0aWMgY29uc3QgY2hhciAqcHJv
ZmlsZV9uYW1lW10gPSB7CisJCQkJCSJCT09UVVBfREVGQVVMVCIsCisJCQkJCSIzRF9GVUxMX1ND
UkVFTiIsCisJCQkJCSJQT1dFUl9TQVZJTkciLAorCQkJCQkiVklERU8iLAorCQkJCQkiVlIiLAor
CQkJCQkiQ09NUFVURSIsCisJCQkJCSJDVVNUT00ifTsKKwlzdGF0aWMgY29uc3QgY2hhciAqdGl0
bGVbXSA9IHsKKwkJCSJQUk9GSUxFX0lOREVYKE5BTUUpIiwKKwkJCSJDTE9DS19UWVBFKE5BTUUp
IiwKKwkJCSJGUFMiLAorCQkJIlVzZVJsY0J1c3kiLAorCQkJIk1pbkFjdGl2ZUZyZXFUeXBlIiwK
KwkJCSJNaW5BY3RpdmVGcmVxIiwKKwkJCSJCb29zdGVyRnJlcVR5cGUiLAorCQkJIkJvb3N0ZXJG
cmVxIiwKKwkJCSJQRF9EYXRhX2xpbWl0X2MiLAorCQkJIlBEX0RhdGFfZXJyb3JfY29lZmYiLAor
CQkJIlBEX0RhdGFfZXJyb3JfcmF0ZV9jb2VmZiJ9OworCWludCByZXN1bHQgPSAwOworCisJaWYg
KCFzbXUtPnBtX2VuYWJsZWQgfHwgIWJ1ZikKKwkJcmV0dXJuIC1FSU5WQUw7CisKKwlzaXplICs9
IHNwcmludGYoYnVmICsgc2l6ZSwgIiUxNnMgJXMgJXMgJXMgJXMgJXMgJXMgJXMgJXMgJXMgJXNc
biIsCisJCQl0aXRsZVswXSwgdGl0bGVbMV0sIHRpdGxlWzJdLCB0aXRsZVszXSwgdGl0bGVbNF0s
IHRpdGxlWzVdLAorCQkJdGl0bGVbNl0sIHRpdGxlWzddLCB0aXRsZVs4XSwgdGl0bGVbOV0sIHRp
dGxlWzEwXSk7CisKKwlmb3IgKGkgPSAwOyBpIDw9IFBQX1NNQ19QT1dFUl9QUk9GSUxFX0NVU1RP
TTsgaSsrKSB7CisJCS8qIGNvbnYgUFBfU01DX1BPV0VSX1BST0ZJTEUqIHRvIFdPUktMT0FEX1BQ
TElCXypfQklUICovCisJCXdvcmtsb2FkX3R5cGUgPSBzbXVfY29udl9wcm9maWxlX3RvX3dvcmts
b2FkKHNtdSwgaSk7CisJCXJlc3VsdCA9IHNtdV91cGRhdGVfdGFibGUoc211LAorCQkJCQkgIFRB
QkxFX0FDVElWSVRZX01PTklUT1JfQ09FRkYgfCB3b3JrbG9hZF90eXBlIDw8IDE2LAorCQkJCQkg
ICh2b2lkICopKCZhY3Rpdml0eV9tb25pdG9yKSwgZmFsc2UpOworCQlpZiAocmVzdWx0KSB7CisJ
CQlwcl9lcnIoIlslc10gRmFpbGVkIHRvIGdldCBhY3Rpdml0eSBtb25pdG9yISIsIF9fZnVuY19f
KTsKKwkJCXJldHVybiByZXN1bHQ7CisJCX0KKworCQlzaXplICs9IHNwcmludGYoYnVmICsgc2l6
ZSwgIiUyZCAlMTRzJXM6XG4iLAorCQkJaSwgcHJvZmlsZV9uYW1lW2ldLCAoaSA9PSBzbXUtPnBv
d2VyX3Byb2ZpbGVfbW9kZSkgPyAiKiIgOiAiICIpOworCisJCXNpemUgKz0gc3ByaW50ZihidWYg
KyBzaXplLCAiJTE5cyAlZCglMTNzKSAlN2QgJTdkICU3ZCAlN2QgJTdkICU3ZCAlN2QgJTdkICU3
ZFxuIiwKKwkJCSIgIiwKKwkJCTAsCisJCQkiR0ZYQ0xLIiwKKwkJCWFjdGl2aXR5X21vbml0b3Iu
R2Z4X0ZQUywKKwkJCWFjdGl2aXR5X21vbml0b3IuR2Z4X1VzZVJsY0J1c3ksCisJCQlhY3Rpdml0
eV9tb25pdG9yLkdmeF9NaW5BY3RpdmVGcmVxVHlwZSwKKwkJCWFjdGl2aXR5X21vbml0b3IuR2Z4
X01pbkFjdGl2ZUZyZXEsCisJCQlhY3Rpdml0eV9tb25pdG9yLkdmeF9Cb29zdGVyRnJlcVR5cGUs
CisJCQlhY3Rpdml0eV9tb25pdG9yLkdmeF9Cb29zdGVyRnJlcSwKKwkJCWFjdGl2aXR5X21vbml0
b3IuR2Z4X1BEX0RhdGFfbGltaXRfYywKKwkJCWFjdGl2aXR5X21vbml0b3IuR2Z4X1BEX0RhdGFf
ZXJyb3JfY29lZmYsCisJCQlhY3Rpdml0eV9tb25pdG9yLkdmeF9QRF9EYXRhX2Vycm9yX3JhdGVf
Y29lZmYpOworCisJCXNpemUgKz0gc3ByaW50ZihidWYgKyBzaXplLCAiJTE5cyAlZCglMTNzKSAl
N2QgJTdkICU3ZCAlN2QgJTdkICU3ZCAlN2QgJTdkICU3ZFxuIiwKKwkJCSIgIiwKKwkJCTEsCisJ
CQkiU09DQ0xLIiwKKwkJCWFjdGl2aXR5X21vbml0b3IuU29jX0ZQUywKKwkJCWFjdGl2aXR5X21v
bml0b3IuU29jX1VzZVJsY0J1c3ksCisJCQlhY3Rpdml0eV9tb25pdG9yLlNvY19NaW5BY3RpdmVG
cmVxVHlwZSwKKwkJCWFjdGl2aXR5X21vbml0b3IuU29jX01pbkFjdGl2ZUZyZXEsCisJCQlhY3Rp
dml0eV9tb25pdG9yLlNvY19Cb29zdGVyRnJlcVR5cGUsCisJCQlhY3Rpdml0eV9tb25pdG9yLlNv
Y19Cb29zdGVyRnJlcSwKKwkJCWFjdGl2aXR5X21vbml0b3IuU29jX1BEX0RhdGFfbGltaXRfYywK
KwkJCWFjdGl2aXR5X21vbml0b3IuU29jX1BEX0RhdGFfZXJyb3JfY29lZmYsCisJCQlhY3Rpdml0
eV9tb25pdG9yLlNvY19QRF9EYXRhX2Vycm9yX3JhdGVfY29lZmYpOworCisJCXNpemUgKz0gc3By
aW50ZihidWYgKyBzaXplLCAiJTE5cyAlZCglMTNzKSAlN2QgJTdkICU3ZCAlN2QgJTdkICU3ZCAl
N2QgJTdkICU3ZFxuIiwKKwkJCSIgIiwKKwkJCTIsCisJCQkiVUNMSyIsCisJCQlhY3Rpdml0eV9t
b25pdG9yLk1lbV9GUFMsCisJCQlhY3Rpdml0eV9tb25pdG9yLk1lbV9Vc2VSbGNCdXN5LAorCQkJ
YWN0aXZpdHlfbW9uaXRvci5NZW1fTWluQWN0aXZlRnJlcVR5cGUsCisJCQlhY3Rpdml0eV9tb25p
dG9yLk1lbV9NaW5BY3RpdmVGcmVxLAorCQkJYWN0aXZpdHlfbW9uaXRvci5NZW1fQm9vc3RlckZy
ZXFUeXBlLAorCQkJYWN0aXZpdHlfbW9uaXRvci5NZW1fQm9vc3RlckZyZXEsCisJCQlhY3Rpdml0
eV9tb25pdG9yLk1lbV9QRF9EYXRhX2xpbWl0X2MsCisJCQlhY3Rpdml0eV9tb25pdG9yLk1lbV9Q
RF9EYXRhX2Vycm9yX2NvZWZmLAorCQkJYWN0aXZpdHlfbW9uaXRvci5NZW1fUERfRGF0YV9lcnJv
cl9yYXRlX2NvZWZmKTsKKworCQlzaXplICs9IHNwcmludGYoYnVmICsgc2l6ZSwgIiUxOXMgJWQo
JTEzcykgJTdkICU3ZCAlN2QgJTdkICU3ZCAlN2QgJTdkICU3ZCAlN2RcbiIsCisJCQkiICIsCisJ
CQkzLAorCQkJIkZDTEsiLAorCQkJYWN0aXZpdHlfbW9uaXRvci5GY2xrX0ZQUywKKwkJCWFjdGl2
aXR5X21vbml0b3IuRmNsa19Vc2VSbGNCdXN5LAorCQkJYWN0aXZpdHlfbW9uaXRvci5GY2xrX01p
bkFjdGl2ZUZyZXFUeXBlLAorCQkJYWN0aXZpdHlfbW9uaXRvci5GY2xrX01pbkFjdGl2ZUZyZXEs
CisJCQlhY3Rpdml0eV9tb25pdG9yLkZjbGtfQm9vc3RlckZyZXFUeXBlLAorCQkJYWN0aXZpdHlf
bW9uaXRvci5GY2xrX0Jvb3N0ZXJGcmVxLAorCQkJYWN0aXZpdHlfbW9uaXRvci5GY2xrX1BEX0Rh
dGFfbGltaXRfYywKKwkJCWFjdGl2aXR5X21vbml0b3IuRmNsa19QRF9EYXRhX2Vycm9yX2NvZWZm
LAorCQkJYWN0aXZpdHlfbW9uaXRvci5GY2xrX1BEX0RhdGFfZXJyb3JfcmF0ZV9jb2VmZik7CisJ
fQorCisJcmV0dXJuIHNpemU7Cit9CisKK3N0YXRpYyBpbnQgdmVnYTIwX3NldF9wb3dlcl9wcm9m
aWxlX21vZGUoc3RydWN0IHNtdV9jb250ZXh0ICpzbXUsIGxvbmcgKmlucHV0LCB1aW50MzJfdCBz
aXplKQoreworCURwbUFjdGl2aXR5TW9uaXRvckNvZWZmSW50X3QgYWN0aXZpdHlfbW9uaXRvcjsK
KwlpbnQgd29ya2xvYWRfdHlwZSA9IDAsIHJldCA9IDA7CisKKwlzbXUtPnBvd2VyX3Byb2ZpbGVf
bW9kZSA9IGlucHV0W3NpemVdOworCisJaWYgKCFzbXUtPnBtX2VuYWJsZWQpCisJCXJldHVybiBy
ZXQ7CisJaWYgKHNtdS0+cG93ZXJfcHJvZmlsZV9tb2RlID4gUFBfU01DX1BPV0VSX1BST0ZJTEVf
Q1VTVE9NKSB7CisJCXByX2VycigiSW52YWxpZCBwb3dlciBwcm9maWxlIG1vZGUgJWRcbiIsIHNt
dS0+cG93ZXJfcHJvZmlsZV9tb2RlKTsKKwkJcmV0dXJuIC1FSU5WQUw7CisJfQorCisJaWYgKHNt
dS0+cG93ZXJfcHJvZmlsZV9tb2RlID09IFBQX1NNQ19QT1dFUl9QUk9GSUxFX0NVU1RPTSkgewor
CQlyZXQgPSBzbXVfdXBkYXRlX3RhYmxlKHNtdSwKKwkJCQkgICAgICAgVEFCTEVfQUNUSVZJVFlf
TU9OSVRPUl9DT0VGRiB8IFdPUktMT0FEX1BQTElCX0NVU1RPTV9CSVQgPDwgMTYsCisJCQkJICAg
ICAgICh2b2lkICopKCZhY3Rpdml0eV9tb25pdG9yKSwgZmFsc2UpOworCQlpZiAocmV0KSB7CisJ
CQlwcl9lcnIoIlslc10gRmFpbGVkIHRvIGdldCBhY3Rpdml0eSBtb25pdG9yISIsIF9fZnVuY19f
KTsKKwkJCXJldHVybiByZXQ7CisJCX0KKworCQlzd2l0Y2ggKGlucHV0WzBdKSB7CisJCWNhc2Ug
MDogLyogR2Z4Y2xrICovCisJCQlhY3Rpdml0eV9tb25pdG9yLkdmeF9GUFMgPSBpbnB1dFsxXTsK
KwkJCWFjdGl2aXR5X21vbml0b3IuR2Z4X1VzZVJsY0J1c3kgPSBpbnB1dFsyXTsKKwkJCWFjdGl2
aXR5X21vbml0b3IuR2Z4X01pbkFjdGl2ZUZyZXFUeXBlID0gaW5wdXRbM107CisJCQlhY3Rpdml0
eV9tb25pdG9yLkdmeF9NaW5BY3RpdmVGcmVxID0gaW5wdXRbNF07CisJCQlhY3Rpdml0eV9tb25p
dG9yLkdmeF9Cb29zdGVyRnJlcVR5cGUgPSBpbnB1dFs1XTsKKwkJCWFjdGl2aXR5X21vbml0b3Iu
R2Z4X0Jvb3N0ZXJGcmVxID0gaW5wdXRbNl07CisJCQlhY3Rpdml0eV9tb25pdG9yLkdmeF9QRF9E
YXRhX2xpbWl0X2MgPSBpbnB1dFs3XTsKKwkJCWFjdGl2aXR5X21vbml0b3IuR2Z4X1BEX0RhdGFf
ZXJyb3JfY29lZmYgPSBpbnB1dFs4XTsKKwkJCWFjdGl2aXR5X21vbml0b3IuR2Z4X1BEX0RhdGFf
ZXJyb3JfcmF0ZV9jb2VmZiA9IGlucHV0WzldOworCQkJYnJlYWs7CisJCWNhc2UgMTogLyogU29j
Y2xrICovCisJCQlhY3Rpdml0eV9tb25pdG9yLlNvY19GUFMgPSBpbnB1dFsxXTsKKwkJCWFjdGl2
aXR5X21vbml0b3IuU29jX1VzZVJsY0J1c3kgPSBpbnB1dFsyXTsKKwkJCWFjdGl2aXR5X21vbml0
b3IuU29jX01pbkFjdGl2ZUZyZXFUeXBlID0gaW5wdXRbM107CisJCQlhY3Rpdml0eV9tb25pdG9y
LlNvY19NaW5BY3RpdmVGcmVxID0gaW5wdXRbNF07CisJCQlhY3Rpdml0eV9tb25pdG9yLlNvY19C
b29zdGVyRnJlcVR5cGUgPSBpbnB1dFs1XTsKKwkJCWFjdGl2aXR5X21vbml0b3IuU29jX0Jvb3N0
ZXJGcmVxID0gaW5wdXRbNl07CisJCQlhY3Rpdml0eV9tb25pdG9yLlNvY19QRF9EYXRhX2xpbWl0
X2MgPSBpbnB1dFs3XTsKKwkJCWFjdGl2aXR5X21vbml0b3IuU29jX1BEX0RhdGFfZXJyb3JfY29l
ZmYgPSBpbnB1dFs4XTsKKwkJCWFjdGl2aXR5X21vbml0b3IuU29jX1BEX0RhdGFfZXJyb3JfcmF0
ZV9jb2VmZiA9IGlucHV0WzldOworCQkJYnJlYWs7CisJCWNhc2UgMjogLyogVWNsayAqLworCQkJ
YWN0aXZpdHlfbW9uaXRvci5NZW1fRlBTID0gaW5wdXRbMV07CisJCQlhY3Rpdml0eV9tb25pdG9y
Lk1lbV9Vc2VSbGNCdXN5ID0gaW5wdXRbMl07CisJCQlhY3Rpdml0eV9tb25pdG9yLk1lbV9NaW5B
Y3RpdmVGcmVxVHlwZSA9IGlucHV0WzNdOworCQkJYWN0aXZpdHlfbW9uaXRvci5NZW1fTWluQWN0
aXZlRnJlcSA9IGlucHV0WzRdOworCQkJYWN0aXZpdHlfbW9uaXRvci5NZW1fQm9vc3RlckZyZXFU
eXBlID0gaW5wdXRbNV07CisJCQlhY3Rpdml0eV9tb25pdG9yLk1lbV9Cb29zdGVyRnJlcSA9IGlu
cHV0WzZdOworCQkJYWN0aXZpdHlfbW9uaXRvci5NZW1fUERfRGF0YV9saW1pdF9jID0gaW5wdXRb
N107CisJCQlhY3Rpdml0eV9tb25pdG9yLk1lbV9QRF9EYXRhX2Vycm9yX2NvZWZmID0gaW5wdXRb
OF07CisJCQlhY3Rpdml0eV9tb25pdG9yLk1lbV9QRF9EYXRhX2Vycm9yX3JhdGVfY29lZmYgPSBp
bnB1dFs5XTsKKwkJCWJyZWFrOworCQljYXNlIDM6IC8qIEZjbGsgKi8KKwkJCWFjdGl2aXR5X21v
bml0b3IuRmNsa19GUFMgPSBpbnB1dFsxXTsKKwkJCWFjdGl2aXR5X21vbml0b3IuRmNsa19Vc2VS
bGNCdXN5ID0gaW5wdXRbMl07CisJCQlhY3Rpdml0eV9tb25pdG9yLkZjbGtfTWluQWN0aXZlRnJl
cVR5cGUgPSBpbnB1dFszXTsKKwkJCWFjdGl2aXR5X21vbml0b3IuRmNsa19NaW5BY3RpdmVGcmVx
ID0gaW5wdXRbNF07CisJCQlhY3Rpdml0eV9tb25pdG9yLkZjbGtfQm9vc3RlckZyZXFUeXBlID0g
aW5wdXRbNV07CisJCQlhY3Rpdml0eV9tb25pdG9yLkZjbGtfQm9vc3RlckZyZXEgPSBpbnB1dFs2
XTsKKwkJCWFjdGl2aXR5X21vbml0b3IuRmNsa19QRF9EYXRhX2xpbWl0X2MgPSBpbnB1dFs3XTsK
KwkJCWFjdGl2aXR5X21vbml0b3IuRmNsa19QRF9EYXRhX2Vycm9yX2NvZWZmID0gaW5wdXRbOF07
CisJCQlhY3Rpdml0eV9tb25pdG9yLkZjbGtfUERfRGF0YV9lcnJvcl9yYXRlX2NvZWZmID0gaW5w
dXRbOV07CisJCQlicmVhazsKKwkJfQorCisJCXJldCA9IHNtdV91cGRhdGVfdGFibGUoc211LAor
CQkJCSAgICAgICBUQUJMRV9BQ1RJVklUWV9NT05JVE9SX0NPRUZGIHwgV09SS0xPQURfUFBMSUJf
Q1VTVE9NX0JJVCA8PCAxNiwKKwkJCQkgICAgICAgKHZvaWQgKikoJmFjdGl2aXR5X21vbml0b3Ip
LCB0cnVlKTsKKwkJaWYgKHJldCkgeworCQkJcHJfZXJyKCJbJXNdIEZhaWxlZCB0byBzZXQgYWN0
aXZpdHkgbW9uaXRvciEiLCBfX2Z1bmNfXyk7CisJCQlyZXR1cm4gcmV0OworCQl9CisJfQorCisJ
LyogY29udiBQUF9TTUNfUE9XRVJfUFJPRklMRSogdG8gV09SS0xPQURfUFBMSUJfKl9CSVQgKi8K
Kwl3b3JrbG9hZF90eXBlID0gc211X2NvbnZfcHJvZmlsZV90b193b3JrbG9hZChzbXUsIHNtdS0+
cG93ZXJfcHJvZmlsZV9tb2RlKTsKKwlzbXVfc2VuZF9zbWNfbXNnX3dpdGhfcGFyYW0oc211LCBT
TVVfTVNHX1NldFdvcmtsb2FkTWFzaywKKwkJCQkgICAgMSA8PCB3b3JrbG9hZF90eXBlKTsKKwor
CXJldHVybiByZXQ7Cit9CisKIHN0YXRpYyBpbnQKIHZlZ2EyMF9nZXRfcHJvZmlsaW5nX2Nsa19t
YXNrKHN0cnVjdCBzbXVfY29udGV4dCAqc211LAogCQkJICAgICAgZW51bSBhbWRfZHBtX2ZvcmNl
ZF9sZXZlbCBsZXZlbCwKQEAgLTI1NzMsNiArMjc2OCw4IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3Qg
cHB0YWJsZV9mdW5jcyB2ZWdhMjBfcHB0X2Z1bmNzID0gewogCS5zZXRfZGVmYXVsdF9vZDhfc2V0
dGluZ3MgPSB2ZWdhMjBfc2V0X2RlZmF1bHRfb2Q4X3NldHR0aW5ncywKIAkuZ2V0X29kX3BlcmNl
bnRhZ2UgPSB2ZWdhMjBfZ2V0X29kX3BlcmNlbnRhZ2UsCiAJLmNvbnZfcHJvZmlsZV90b193b3Jr
bG9hZCA9IHZlZ2EyMF9jb252X3Byb2ZpbGVfdG9fd29ya2xvYWQsCisJLmdldF9wb3dlcl9wcm9m
aWxlX21vZGUgPSB2ZWdhMjBfZ2V0X3Bvd2VyX3Byb2ZpbGVfbW9kZSwKKwkuc2V0X3Bvd2VyX3By
b2ZpbGVfbW9kZSA9IHZlZ2EyMF9zZXRfcG93ZXJfcHJvZmlsZV9tb2RlLAogCS5nZXRfcGVyZm9y
bWFuY2VfbGV2ZWwgPSB2ZWdhMjBfZ2V0X3BlcmZvcm1hbmNlX2xldmVsLAogCS5mb3JjZV9wZXJm
b3JtYW5jZV9sZXZlbCA9IHZlZ2EyMF9mb3JjZV9wZXJmb3JtYW5jZV9sZXZlbCwKIAkudXBkYXRl
X3NwZWNpZmllZF9vZDhfdmFsdWUgPSB2ZWdhMjBfdXBkYXRlX3NwZWNpZmllZF9vZDhfdmFsdWUs
Ci0tIAoyLjIwLjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0
dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeA==
