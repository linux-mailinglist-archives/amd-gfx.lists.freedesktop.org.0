Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 81A0BE4ABB
	for <lists+amd-gfx@lfdr.de>; Fri, 25 Oct 2019 14:06:45 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1B5276E9CD;
	Fri, 25 Oct 2019 12:06:44 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM01-BN3-obe.outbound.protection.outlook.com
 (mail-eopbgr740089.outbound.protection.outlook.com [40.107.74.89])
 by gabe.freedesktop.org (Postfix) with ESMTPS id BC2B06E9CD
 for <amd-gfx@lists.freedesktop.org>; Fri, 25 Oct 2019 12:06:42 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=aOzFd+FZB7fLlZUy/fcawSkReZQsivC/wkrfIZLYNTNdZZB7y4gWdbsebAgwKNm5ZhSBS4+t5NttcLFjljkKAXKKyumdnzq8v7lMVAOLfjLyAPFJ5+MlDvVwDHthQsUNAhkNsWeSQU+ZXQfWsyt3mjNUkMITrdbXk7xuhf4LPfZC8Kn6k++3cl1jfByIx+CwR6qYeqrJA215z9ARyYUJTiVzNihxKqfhUjts/f0gPqSKjVf7C1G0SFdiy21+curJ+Cf+O3YNZbvmLpmlItSOJsiEYSOpTZxmQDURzsz9NIfOttLs2Ad/TaHd7miWW5p20p/brUlWpp94ZzySWJlP3w==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=TYNV7ibATpGzLPnts1DBBxy2jYvfbCb0bKqfWMT9xrc=;
 b=gjbviTRKutMkZ6Vp6u4zsobRzkM8439ExYDsIofjVEX7lDPTnhIDRP6VHsmxzM4Azuv650Me5gbEVIN0GEhjAhA/ikJ69ClPApjDhVC36NDShmXaiQ83pcg1czGgag3+YEO9OorlNMx8jIsr40v4F/6YrFwOo7/3arIWAADVBKd0i0GTtgLS/YVAKhabe8qkVEZc9LCZEqS1XdOZlajCeWbBDzxQJAbe9m0B+8ayFKdM/XoJvucprh9OHdqfLFryYJLQXMisFRBU4g3YHQ8AUw78bkiR+7khUiLFL58ez9z3qZgA/J139JZgXXYUs5DiD/k+K6V9RCFcPBOpo88cUw==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from BYAPR12MB3560.namprd12.prod.outlook.com (20.178.197.10) by
 BYAPR12MB3398.namprd12.prod.outlook.com (20.178.196.24) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2347.16; Fri, 25 Oct 2019 12:06:40 +0000
Received: from BYAPR12MB3560.namprd12.prod.outlook.com
 ([fe80::5598:12d2:404c:5373]) by BYAPR12MB3560.namprd12.prod.outlook.com
 ([fe80::5598:12d2:404c:5373%7]) with mapi id 15.20.2387.023; Fri, 25 Oct 2019
 12:06:40 +0000
From: "Kazlauskas, Nicholas" <Nicholas.Kazlauskas@amd.com>
To: "Lipski, Mikita" <Mikita.Lipski@amd.com>, "amd-gfx@lists.freedesktop.org"
 <amd-gfx@lists.freedesktop.org>
Subject: Re: [PATCH v5] drm/amd/display: Add MST atomic routines
Thread-Topic: [PATCH v5] drm/amd/display: Add MST atomic routines
Thread-Index: AQHViq7rT9zDIxE2s0SWktHUWMokZqdrQ+4A
Date: Fri, 25 Oct 2019 12:06:40 +0000
Message-ID: <bee80cc6-7479-0b51-1029-00001a826f3e@amd.com>
References: <20191024210618.12300-1-mikita.lipski@amd.com>
In-Reply-To: <20191024210618.12300-1-mikita.lipski@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: YTXPR0101CA0014.CANPRD01.PROD.OUTLOOK.COM
 (2603:10b6:b00::27) To BYAPR12MB3560.namprd12.prod.outlook.com
 (2603:10b6:a03:ae::10)
x-ms-exchange-messagesentrepresentingtype: 1
x-originating-ip: [165.204.55.250]
x-ms-publictraffictype: Email
x-ms-office365-filtering-ht: Tenant
x-ms-office365-filtering-correlation-id: 9a965351-eed2-476c-2710-08d75943cb01
x-ms-traffictypediagnostic: BYAPR12MB3398:
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <BYAPR12MB33984AE7E6F8C0FA9ECE143EEC650@BYAPR12MB3398.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:3383;
x-forefront-prvs: 02015246A9
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(136003)(396003)(376002)(39860400002)(346002)(366004)(199004)(189003)(478600001)(305945005)(6246003)(14454004)(2906002)(14444005)(256004)(71200400001)(71190400001)(25786009)(4001150100001)(64756008)(31696002)(36756003)(86362001)(31686004)(7736002)(2501003)(6116002)(3846002)(66556008)(386003)(66946007)(66446008)(102836004)(486006)(66476007)(229853002)(5660300002)(53546011)(186003)(26005)(2616005)(99286004)(66066001)(81166006)(81156014)(316002)(6506007)(54906003)(30864003)(476003)(8936002)(52116002)(6512007)(11346002)(6486002)(76176011)(446003)(6436002)(4326008)(110136005)(8676002);
 DIR:OUT; SFP:1101; SCL:1; SRVR:BYAPR12MB3398;
 H:BYAPR12MB3560.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: CnpBvpwNx2hQxo5TRiLQc+cPrp8xwtb497WtHoARU/nMg3qInNUXN/CHnSbBWQ8YEf80QPJiVtJV4/qC8JaPGkreX6Z+CJ83lklj4r18Uk7pb2XuC1L/NtySjsZbLCbdXR8EGbbgWRxsAG9KLdmlyN33j2M2WbLoQ0l73Nj3U/TtyG8aFtaPdRZpF60D2DtawYTf2Nv9LPQiUSR+70MZ3h/NCQn0oYAljSeWlEk+7p6WoG9erBXQfKKyn/sWBCaC0hVuUCKbBUQGS0DNOl6woalGjQ0D4dFf1ii4LYkEPDcZX2cO4USX5lcHBT6W26yHOnaLwufncQVECPiVcQafmpAYVPLDimvXuWRb8uezJnVOR6/1t3YcQUrwk8QXfhh05Ok7tB13hXoo37fmNRa2sYELIy0cYD1baa+NY5wftqxMQ6N/BFSUbIX1t6n8b89p
Content-ID: <ADBF95E1F2192F459EC65ADA29856AA2@namprd12.prod.outlook.com>
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 9a965351-eed2-476c-2710-08d75943cb01
X-MS-Exchange-CrossTenant-originalarrivaltime: 25 Oct 2019 12:06:40.3583 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: tVkvAVpc3s9D6L4XcWzibfnYsl8bXIfAuM332bOznGIc1vgmrUX2tC57zp56xsxnQ1cIqJKQ0sbzlQ1AAlyjPg==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: BYAPR12MB3398
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=TYNV7ibATpGzLPnts1DBBxy2jYvfbCb0bKqfWMT9xrc=;
 b=atqdsKfHoiyBpofLw1MwqQjvoM7rxeGF6iz8EZrdbpPiLz9q3yJyZbFI2FpfGk0CnmFVD0d7Ex5oULhDnuCSvAv0ITW5wFHBapUbgdFkD+82fo7a12gf4T6Q339fEm4kl3VlE2jRTp8CsvBePpA1qLtT/G7Zhw0KeZ39vTJSM14=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Nicholas.Kazlauskas@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "Zuo, Jerry" <Jerry.Zuo@amd.com>, "Lei, Jun" <Jun.Lei@amd.com>, "Wentland, 
 Harry" <Harry.Wentland@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

T24gMjAxOS0xMC0yNCA1OjA2IHAubS4sIG1pa2l0YS5saXBza2lAYW1kLmNvbSB3cm90ZToNCj4g
RnJvbTogTWlraXRhIExpcHNraSA8bWlraXRhLmxpcHNraUBhbWQuY29tPg0KPiANCj4gLSBBZGRp
bmcgZW5jb2RlciBhdG9taWMgY2hlY2sgdG8gZmluZCB2Y3BpIHNsb3RzIGZvciBhIGNvbm5lY3Rv
cg0KPiAtIFVzaW5nIERSTSBoZWxwZXIgZnVuY3Rpb25zIHRvIGNhbGN1bGF0ZSBQQk4NCj4gLSBB
ZGRpbmcgY29ubmVjdG9yIGF0b21pYyBjaGVjayB0byByZWxlYXNlIHZjcGkgc2xvdHMgaWYgY29u
bmVjdG9yDQo+IGxvc2VzIENSVEMNCj4gLSBDYWxjdWxhdGUgIFBCTiBhbmQgVkNQSSBzbG90cyBv
bmx5IG9uY2UgZHVyaW5nIGF0b21pYw0KPiBjaGVjayBhbmQgc3RvcmUgdGhlbSBvbiBjcnRjX3N0
YXRlIHRvIGVsaW1pbmF0ZQ0KPiByZWR1bmRhbnQgY2FsY3VsYXRpb24NCj4gLSBDYWxsIGRybV9k
cF9tc3RfYXRvbWljX2NoZWNrIHRvIHZlcmlmeSB2YWxpZGl0eSBvZiBNU1QgdG9wb2xvZ3kNCj4g
ZHVyaW5nIHN0YXRlIGF0b21pYyBjaGVjaw0KPiANCj4gdjI6IHNxdWFzaGVkIHByZXZpb3VzIDMg
c2VwYXJhdGUgcGF0Y2hlcywgcmVtb3ZlZCBEU0MgUEJOIGNhbGN1bGF0aW9uLA0KPiBhbmQgYWRk
ZWQgUEJOIGFuZCBWQ1BJIHNsb3RzIHByb3BlcnRpZXMgdG8gYW1kZ3B1IGNvbm5lY3Rvcg0KPiAN
Cj4gdjM6DQo+IC0gbW92ZWQgdmNwaV9zbG90cyBhbmQgcGJuIHByb3BlcnRpZXMgdG8gZG1fY3J0
Y19zdGF0ZSBhbmQgZGNfc3RyZWFtX3N0YXRlDQo+IC0gdXBkYXRlcyBzdHJlYW0ncyB2Y3BpX3Ns
b3RzIGFuZCBwYm4gb24gY29tbWl0DQo+IC0gc2VwYXJhdGVkIHBhdGNoIGZyb20gdGhlIERTQyBN
U1Qgc2VyaWVzDQo+IA0KPiB2NDoNCj4gLSBzZXQgdmNwaV9zbG90cyBhbmQgcGJuIHByb3BlcnRp
ZXMgdG8gZG1fY29ubmVjdG9yX3N0YXRlDQo+IC0gY29weSBwb3JwZXJ0aWVzIGZyb20gY29ubmVj
dG9yIHN0YXRlIG9uIHRvIGNydGMgc3RhdGUNCj4gDQo+IHY1Og0KPiAtIGtlZXAgdGhlIHBibiBh
bmQgdmNwaSB2YWx1ZXMgb25seSBvbiBjb25ubmVjdG9yIHN0YXRlDQo+IC0gYWRkZWQgYSB2b2lk
IHBvaW50ZXIgdG8gdGhlIHN0cmVhbSBzdGF0ZSBpbnN0ZWFkIG9uIHR3byBpbnRzLA0KPiBiZWNh
dXNlIGRjX3N0cmVhbV9zdGF0ZSBpcyBPUyBhZ25vc3RpYy4gUG9pbnRlciBwb2ludHMgdG8gdGhl
DQo+IGN1cnJlbnQgZG1fY29ubmVjdG9yX3N0YXRlLg0KPiANCj4gQ2M6IEp1biBMZWkgPEp1bi5M
ZWlAYW1kLmNvbT4NCj4gQ2M6IEplcnJ5IFp1byA8SmVycnkuWnVvQGFtZC5jb20+DQo+IENjOiBI
YXJyeSBXZW50bGFuZCA8aGFycnkud2VudGxhbmRAYW1kLmNvbT4NCj4gQ2M6IE5pY2hvbGFzIEth
emxhdXNrYXMgPG5pY2hvbGFzLmthemxhdXNrYXNAYW1kLmNvbT4NCj4gQ2M6IEx5dWRlIFBhdWwg
PGx5dWRlQHJlZGhhdC5jb20+DQo+IFNpZ25lZC1vZmYtYnk6IE1pa2l0YSBMaXBza2kgPG1pa2l0
YS5saXBza2lAYW1kLmNvbT4NCg0KRmV3IGNvbW1lbnRzIGJlbG93LCBtb3N0bHkgYWJvdXQgaG93
IHlvdSdyZSBzdG9yaW5nIHRoZSBEUk0gc3RhdGUgaW4gdGhlIA0KREMgc3RyZWFtLg0KDQoNCj4g
LS0tDQo+ICAgLi4uL2dwdS9kcm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2FtZGdwdV9kbS5jIHwg
NDYgKysrKysrKysrKysrKysrKysrLQ0KPiAgIC4uLi9ncHUvZHJtL2FtZC9kaXNwbGF5L2FtZGdw
dV9kbS9hbWRncHVfZG0uaCB8ICAyICsNCj4gICAuLi4vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2Ft
ZGdwdV9kbV9oZWxwZXJzLmMgfCA0NCArKy0tLS0tLS0tLS0tLS0tLS0NCj4gICAuLi4vZGlzcGxh
eS9hbWRncHVfZG0vYW1kZ3B1X2RtX21zdF90eXBlcy5jICAgfCAzMiArKysrKysrKysrKysrDQo+
ICAgZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjX3N0cmVhbS5oICAgIHwgIDEgKw0K
PiAgIDUgZmlsZXMgY2hhbmdlZCwgODQgaW5zZXJ0aW9ucygrKSwgNDEgZGVsZXRpb25zKC0pDQo+
IA0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2FtZGdwdV9kbS9h
bWRncHVfZG0uYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1
X2RtLmMNCj4gaW5kZXggNDhmNWI0M2UyNjk4Li4xZDhkN2FhYmExOTcgMTAwNjQ0DQo+IC0tLSBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1X2RtLmMNCj4gKysr
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2FtZGdwdV9kbS9hbWRncHVfZG0uYw0KPiBA
QCAtMzc0Nyw2ICszNzQ3LDcgQEAgY3JlYXRlX3N0cmVhbV9mb3Jfc2luayhzdHJ1Y3QgYW1kZ3B1
X2RtX2Nvbm5lY3RvciAqYWNvbm5lY3RvciwNCj4gICAJfQ0KPiAgIA0KPiAgIAlzdHJlYW0tPmRt
X3N0cmVhbV9jb250ZXh0ID0gYWNvbm5lY3RvcjsNCj4gKwlzdHJlYW0tPmRtX3N0cmVhbV9zdGF0
ZSA9IGRtX3N0YXRlOw0KPiAgIA0KPiAgIAlzdHJlYW0tPnRpbWluZy5mbGFncy5MVEVfMzQwTUNT
Q19TQ1JBTUJMRSA9DQo+ICAgCQlkcm1fY29ubmVjdG9yLT5kaXNwbGF5X2luZm8uaGRtaS5zY2Rj
LnNjcmFtYmxpbmcubG93X3JhdGVzOw0KPiBAQCAtNDE4MCw3ICs0MTgxLDggQEAgdm9pZCBhbWRn
cHVfZG1fY29ubmVjdG9yX2Z1bmNzX3Jlc2V0KHN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0
b3IpDQo+ICAgCQlzdGF0ZS0+dW5kZXJzY2FuX2hib3JkZXIgPSAwOw0KPiAgIAkJc3RhdGUtPnVu
ZGVyc2Nhbl92Ym9yZGVyID0gMDsNCj4gICAJCXN0YXRlLT5iYXNlLm1heF9yZXF1ZXN0ZWRfYnBj
ID0gODsNCj4gLQ0KPiArCQlzdGF0ZS0+dmNwaV9zbG90cyA9IDA7DQo+ICsJCXN0YXRlLT5wYm4g
PSAwOw0KPiAgIAkJaWYgKGNvbm5lY3Rvci0+Y29ubmVjdG9yX3R5cGUgPT0gRFJNX01PREVfQ09O
TkVDVE9SX2VEUCkNCj4gICAJCQlzdGF0ZS0+YWJtX2xldmVsID0gYW1kZ3B1X2RtX2FibV9sZXZl
bDsNCj4gICANCj4gQEAgLTQyMDksNyArNDIxMSw4IEBAIGFtZGdwdV9kbV9jb25uZWN0b3JfYXRv
bWljX2R1cGxpY2F0ZV9zdGF0ZShzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKQ0KPiAg
IAluZXdfc3RhdGUtPnVuZGVyc2Nhbl9lbmFibGUgPSBzdGF0ZS0+dW5kZXJzY2FuX2VuYWJsZTsN
Cj4gICAJbmV3X3N0YXRlLT51bmRlcnNjYW5faGJvcmRlciA9IHN0YXRlLT51bmRlcnNjYW5faGJv
cmRlcjsNCj4gICAJbmV3X3N0YXRlLT51bmRlcnNjYW5fdmJvcmRlciA9IHN0YXRlLT51bmRlcnNj
YW5fdmJvcmRlcjsNCj4gLQ0KPiArCW5ld19zdGF0ZS0+dmNwaV9zbG90cyA9IHN0YXRlLT52Y3Bp
X3Nsb3RzOw0KPiArCW5ld19zdGF0ZS0+cGJuID0gc3RhdGUtPnBibjsNCj4gICAJcmV0dXJuICZu
ZXdfc3RhdGUtPmJhc2U7DQo+ICAgfQ0KPiAgIA0KPiBAQCAtNDYxMCw2ICs0NjEzLDM3IEBAIHN0
YXRpYyBpbnQgZG1fZW5jb2Rlcl9oZWxwZXJfYXRvbWljX2NoZWNrKHN0cnVjdCBkcm1fZW5jb2Rl
ciAqZW5jb2RlciwNCj4gICAJCQkJCSAgc3RydWN0IGRybV9jcnRjX3N0YXRlICpjcnRjX3N0YXRl
LA0KPiAgIAkJCQkJICBzdHJ1Y3QgZHJtX2Nvbm5lY3Rvcl9zdGF0ZSAqY29ubl9zdGF0ZSkNCj4g
ICB7DQo+ICsJc3RydWN0IGRybV9hdG9taWNfc3RhdGUgKnN0YXRlID0gY3J0Y19zdGF0ZS0+c3Rh
dGU7DQo+ICsJc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3RvciA9IGNvbm5fc3RhdGUtPmNv
bm5lY3RvcjsNCj4gKwlzdHJ1Y3QgYW1kZ3B1X2RtX2Nvbm5lY3RvciAqYWNvbm5lY3RvciA9IHRv
X2FtZGdwdV9kbV9jb25uZWN0b3IoY29ubmVjdG9yKTsNCj4gKwlzdHJ1Y3QgZG1fY29ubmVjdG9y
X3N0YXRlICpkbV9uZXdfY29ubmVjdG9yX3N0YXRlID0gdG9fZG1fY29ubmVjdG9yX3N0YXRlKGNv
bm5fc3RhdGUpOw0KPiArCWNvbnN0IHN0cnVjdCBkcm1fZGlzcGxheV9tb2RlICphZGp1c3RlZF9t
b2RlID0gJmNydGNfc3RhdGUtPmFkanVzdGVkX21vZGU7DQo+ICsJc3RydWN0IGRybV9kcF9tc3Rf
dG9wb2xvZ3lfbWdyICptc3RfbWdyOw0KPiArCXN0cnVjdCBkcm1fZHBfbXN0X3BvcnQgKm1zdF9w
b3J0Ow0KPiArCWludCBjbG9jaywgYnBwID0gMDsNCj4gKw0KPiArCWlmICghYWNvbm5lY3Rvci0+
cG9ydCB8fCAhYWNvbm5lY3Rvci0+ZGNfc2luaykNCj4gKwkJcmV0dXJuIDA7DQo+ICsNCj4gKwlt
c3RfcG9ydCA9IGFjb25uZWN0b3ItPnBvcnQ7DQo+ICsJbXN0X21nciA9ICZhY29ubmVjdG9yLT5t
c3RfcG9ydC0+bXN0X21ncjsNCj4gKw0KPiArCWlmICghY3J0Y19zdGF0ZS0+Y29ubmVjdG9yc19j
aGFuZ2VkICYmICFjcnRjX3N0YXRlLT5tb2RlX2NoYW5nZWQpDQo+ICsJCXJldHVybiAwOw0KPiAr
DQo+ICsJaWYgKCFzdGF0ZS0+ZHVwbGljYXRlZCkgew0KPiArCQlicHAgPSAodWludDhfdCljb25u
ZWN0b3ItPmRpc3BsYXlfaW5mby5icGMgKiAzOw0KPiArCQljbG9jayA9IGFkanVzdGVkX21vZGUt
PmNsb2NrOw0KPiArCQlkbV9uZXdfY29ubmVjdG9yX3N0YXRlLT5wYm4gPSBkcm1fZHBfY2FsY19w
Ym5fbW9kZShjbG9jaywgYnBwKTsNCj4gKwl9DQo+ICsJZG1fbmV3X2Nvbm5lY3Rvcl9zdGF0ZS0+
dmNwaV9zbG90cyA9IGRybV9kcF9hdG9taWNfZmluZF92Y3BpX3Nsb3RzKHN0YXRlLA0KPiArCQkJ
CQkJCSAgICAgICBtc3RfbWdyLA0KPiArCQkJCQkJCSAgICAgICBtc3RfcG9ydCwNCj4gKwkJCQkJ
CQkgICAgICAgZG1fbmV3X2Nvbm5lY3Rvcl9zdGF0ZS0+cGJuKTsNCj4gKwlpZiAoZG1fbmV3X2Nv
bm5lY3Rvcl9zdGF0ZS0+dmNwaV9zbG90cyA8IDApIHsNCj4gKwkJRFJNX0RFQlVHX0FUT01JQygi
ZmFpbGVkIGZpbmRpbmcgdmNwaSBzbG90czogJWRcbiIsIGRtX25ld19jb25uZWN0b3Jfc3RhdGUt
PnZjcGlfc2xvdHMpOw0KPiArCQlyZXR1cm4gZG1fbmV3X2Nvbm5lY3Rvcl9zdGF0ZS0+dmNwaV9z
bG90czsNCj4gKwl9DQo+ICAgCXJldHVybiAwOw0KPiAgIH0NCj4gICANCj4gQEAgLTY1OTgsNiAr
NjYzMiw4IEBAIHN0YXRpYyB2b2lkIGFtZGdwdV9kbV9hdG9taWNfY29tbWl0X3RhaWwoc3RydWN0
IGRybV9hdG9taWNfc3RhdGUgKnN0YXRlKQ0KPiAgIAkJaGRyX2NoYW5nZWQgPQ0KPiAgIAkJCWlz
X2hkcl9tZXRhZGF0YV9kaWZmZXJlbnQob2xkX2Nvbl9zdGF0ZSwgbmV3X2Nvbl9zdGF0ZSk7DQo+
ICAgDQo+ICsJCWRtX25ld19jcnRjX3N0YXRlLT5zdHJlYW0tPmRtX3N0cmVhbV9zdGF0ZSA9IG5l
d19jb25fc3RhdGU7DQo+ICsNCj4gICAJCWlmICghc2NhbGluZ19jaGFuZ2VkICYmICFhYm1fY2hh
bmdlZCAmJiAhaGRyX2NoYW5nZWQpDQo+ICAgCQkJY29udGludWU7DQo+ICAgDQo+IEBAIC02NjIx
LDYgKzY2NTcsNyBAQCBzdGF0aWMgdm9pZCBhbWRncHVfZG1fYXRvbWljX2NvbW1pdF90YWlsKHN0
cnVjdCBkcm1fYXRvbWljX3N0YXRlICpzdGF0ZSkNCj4gICAJCQlzdHJlYW1fdXBkYXRlLmhkcl9z
dGF0aWNfbWV0YWRhdGEgPSAmaGRyX3BhY2tldDsNCj4gICAJCX0NCj4gICANCj4gKw0KPiAgIAkJ
c3RhdHVzID0gZGNfc3RyZWFtX2dldF9zdGF0dXMoZG1fbmV3X2NydGNfc3RhdGUtPnN0cmVhbSk7
DQo+ICAgCQlXQVJOX09OKCFzdGF0dXMpOw0KPiAgIAkJV0FSTl9PTighc3RhdHVzLT5wbGFuZV9j
b3VudCk7DQo+IEBAIC03NjUxLDYgKzc2ODgsMTEgQEAgc3RhdGljIGludCBhbWRncHVfZG1fYXRv
bWljX2NoZWNrKHN0cnVjdCBkcm1fZGV2aWNlICpkZXYsDQo+ICAgCWlmIChyZXQpDQo+ICAgCQln
b3RvIGZhaWw7DQo+ICAgDQo+ICsJLyogUGVyZm9ybSB2YWxpZGF0aW9uIG9mIE1TVCB0b3BvbG9n
eSBpbiB0aGUgc3RhdGUqLw0KPiArCXJldCA9IGRybV9kcF9tc3RfYXRvbWljX2NoZWNrKHN0YXRl
KTsNCj4gKwlpZiAocmV0KQ0KPiArCQlnb3RvIGZhaWw7DQo+ICsNCj4gICAJaWYgKHN0YXRlLT5s
ZWdhY3lfY3Vyc29yX3VwZGF0ZSkgew0KPiAgIAkJLyoNCj4gICAJCSAqIFRoaXMgaXMgYSBmYXN0
IGN1cnNvciB1cGRhdGUgY29taW5nIGZyb20gdGhlIHBsYW5lIHVwZGF0ZQ0KPiBkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2FtZGdwdV9kbS9hbWRncHVfZG0uaCBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1X2RtLmgNCj4gaW5kZXgg
YzZmZGViZWU3MTg5Li45MTBjODU5OGZhZjkgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvZGlzcGxheS9hbWRncHVfZG0vYW1kZ3B1X2RtLmgNCj4gKysrIGIvZHJpdmVycy9ncHUv
ZHJtL2FtZC9kaXNwbGF5L2FtZGdwdV9kbS9hbWRncHVfZG0uaA0KPiBAQCAtMzYwLDYgKzM2MCw4
IEBAIHN0cnVjdCBkbV9jb25uZWN0b3Jfc3RhdGUgew0KPiAgIAlib29sIGZyZWVzeW5jX2VuYWJs
ZTsNCj4gICAJYm9vbCBmcmVlc3luY19jYXBhYmxlOw0KPiAgIAl1aW50OF90IGFibV9sZXZlbDsN
Cj4gKwl1aW50NjRfdCB2Y3BpX3Nsb3RzOw0KPiArCXVpbnQ2NF90IHBibjsNCj4gICB9Ow0KPiAg
IA0KPiAgICNkZWZpbmUgdG9fZG1fY29ubmVjdG9yX3N0YXRlKHgpXA0KPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2FtZGdwdV9kbS9hbWRncHVfZG1faGVscGVycy5j
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2FtZGdwdV9kbS9hbWRncHVfZG1faGVscGVy
cy5jDQo+IGluZGV4IDExZTU3ODRhYTYyYS4uODIxZDYxZTA2MGIyIDEwMDY0NA0KPiAtLS0gYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2FtZGdwdV9kbV9oZWxwZXJzLmMN
Cj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2FtZGdwdV9kbS9hbWRncHVfZG1f
aGVscGVycy5jDQo+IEBAIC0xODIsMTUgKzE4MiwxMyBAQCBib29sIGRtX2hlbHBlcnNfZHBfbXN0
X3dyaXRlX3BheWxvYWRfYWxsb2NhdGlvbl90YWJsZSgNCj4gICAJCWJvb2wgZW5hYmxlKQ0KPiAg
IHsNCj4gICAJc3RydWN0IGFtZGdwdV9kbV9jb25uZWN0b3IgKmFjb25uZWN0b3I7DQo+ICsJc3Ry
dWN0IGRtX2Nvbm5lY3Rvcl9zdGF0ZSAqZG1fY29ubl9zdGF0ZTsNCj4gICAJc3RydWN0IGRybV9k
cF9tc3RfdG9wb2xvZ3lfbWdyICptc3RfbWdyOw0KPiAgIAlzdHJ1Y3QgZHJtX2RwX21zdF9wb3J0
ICptc3RfcG9ydDsNCj4gLQlpbnQgc2xvdHMgPSAwOw0KPiAgIAlib29sIHJldDsNCj4gLQlpbnQg
Y2xvY2s7DQo+IC0JaW50IGJwcCA9IDA7DQo+IC0JaW50IHBibiA9IDA7DQo+ICAgDQo+ICAgCWFj
b25uZWN0b3IgPSAoc3RydWN0IGFtZGdwdV9kbV9jb25uZWN0b3IgKilzdHJlYW0tPmRtX3N0cmVh
bV9jb250ZXh0Ow0KPiArCWRtX2Nvbm5fc3RhdGUgPSAoc3RydWN0IGRtX2Nvbm5lY3Rvcl9zdGF0
ZSAqKXN0cmVhbS0+ZG1fc3RyZWFtX3N0YXRlOw0KPiAgIA0KPiAgIAlpZiAoIWFjb25uZWN0b3Ig
fHwgIWFjb25uZWN0b3ItPm1zdF9wb3J0KQ0KPiAgIAkJcmV0dXJuIGZhbHNlOw0KPiBAQCAtMjAz
LDQyICsyMDEsMTAgQEAgYm9vbCBkbV9oZWxwZXJzX2RwX21zdF93cml0ZV9wYXlsb2FkX2FsbG9j
YXRpb25fdGFibGUoDQo+ICAgCW1zdF9wb3J0ID0gYWNvbm5lY3Rvci0+cG9ydDsNCj4gICANCj4g
ICAJaWYgKGVuYWJsZSkgew0KPiAtCQljbG9jayA9IHN0cmVhbS0+dGltaW5nLnBpeF9jbGtfMTAw
aHogLyAxMDsNCj4gLQ0KPiAtCQlzd2l0Y2ggKHN0cmVhbS0+dGltaW5nLmRpc3BsYXlfY29sb3Jf
ZGVwdGgpIHsNCj4gLQ0KPiAtCQljYXNlIENPTE9SX0RFUFRIXzY2NjoNCj4gLQkJCWJwcCA9IDY7
DQo+IC0JCQlicmVhazsNCj4gLQkJY2FzZSBDT0xPUl9ERVBUSF84ODg6DQo+IC0JCQlicHAgPSA4
Ow0KPiAtCQkJYnJlYWs7DQo+IC0JCWNhc2UgQ09MT1JfREVQVEhfMTAxMDEwOg0KPiAtCQkJYnBw
ID0gMTA7DQo+IC0JCQlicmVhazsNCj4gLQkJY2FzZSBDT0xPUl9ERVBUSF8xMjEyMTI6DQo+IC0J
CQlicHAgPSAxMjsNCj4gLQkJCWJyZWFrOw0KPiAtCQljYXNlIENPTE9SX0RFUFRIXzE0MTQxNDoN
Cj4gLQkJCWJwcCA9IDE0Ow0KPiAtCQkJYnJlYWs7DQo+IC0JCWNhc2UgQ09MT1JfREVQVEhfMTYx
NjE2Og0KPiAtCQkJYnBwID0gMTY7DQo+IC0JCQlicmVhazsNCj4gLQkJZGVmYXVsdDoNCj4gLQkJ
CUFTU0VSVChicHAgIT0gMCk7DQo+IC0JCQlicmVhazsNCj4gLQkJfQ0KPiAtDQo+IC0JCWJwcCA9
IGJwcCAqIDM7DQo+IC0NCj4gLQkJLyogVE9ETyBuZWVkIHRvIGtub3cgbGluayByYXRlICovDQo+
IC0NCj4gLQkJcGJuID0gZHJtX2RwX2NhbGNfcGJuX21vZGUoY2xvY2ssIGJwcCk7DQo+IC0NCj4g
LQkJc2xvdHMgPSBkcm1fZHBfZmluZF92Y3BpX3Nsb3RzKG1zdF9tZ3IsIHBibik7DQo+IC0JCXJl
dCA9IGRybV9kcF9tc3RfYWxsb2NhdGVfdmNwaShtc3RfbWdyLCBtc3RfcG9ydCwgcGJuLCBzbG90
cyk7DQo+ICAgDQo+ICsJCXJldCA9IGRybV9kcF9tc3RfYWxsb2NhdGVfdmNwaShtc3RfbWdyLCBt
c3RfcG9ydCwNCj4gKwkJCQkJICAgICAgIGRtX2Nvbm5fc3RhdGUtPnBibiwNCj4gKwkJCQkJICAg
ICAgIGRtX2Nvbm5fc3RhdGUtPnZjcGlfc2xvdHMpOw0KPiAgIAkJaWYgKCFyZXQpDQo+ICAgCQkJ
cmV0dXJuIGZhbHNlOw0KPiAgIA0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9k
aXNwbGF5L2FtZGdwdV9kbS9hbWRncHVfZG1fbXN0X3R5cGVzLmMgYi9kcml2ZXJzL2dwdS9kcm0v
YW1kL2Rpc3BsYXkvYW1kZ3B1X2RtL2FtZGdwdV9kbV9tc3RfdHlwZXMuYw0KPiBpbmRleCA3Nzlk
MGI2MGNhYzkuLjFhMTdlYTFiNDJlMCAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9kaXNwbGF5L2FtZGdwdV9kbS9hbWRncHVfZG1fbXN0X3R5cGVzLmMNCj4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9kaXNwbGF5L2FtZGdwdV9kbS9hbWRncHVfZG1fbXN0X3R5cGVzLmMNCj4g
QEAgLTI1MSwxMCArMjUxLDQyIEBAIGRtX21zdF9hdG9taWNfYmVzdF9lbmNvZGVyKHN0cnVjdCBk
cm1fY29ubmVjdG9yICpjb25uZWN0b3IsDQo+ICAgCXJldHVybiAmdG9fYW1kZ3B1X2RtX2Nvbm5l
Y3Rvcihjb25uZWN0b3IpLT5tc3RfZW5jb2Rlci0+YmFzZTsNCj4gICB9DQo+ICAgDQo+ICtzdGF0
aWMgaW50IGRtX2RwX21zdF9hdG9taWNfY2hlY2soc3RydWN0IGRybV9jb25uZWN0b3IgKmNvbm5l
Y3RvciwNCj4gKwkJCQlzdHJ1Y3QgZHJtX2F0b21pY19zdGF0ZSAqc3RhdGUpDQo+ICt7DQo+ICsJ
c3RydWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKm5ld19jb25uX3N0YXRlID0NCj4gKwkJCWRybV9h
dG9taWNfZ2V0X25ld19jb25uZWN0b3Jfc3RhdGUoc3RhdGUsIGNvbm5lY3Rvcik7DQo+ICsJc3Ry
dWN0IGRybV9jb25uZWN0b3Jfc3RhdGUgKm9sZF9jb25uX3N0YXRlID0NCj4gKwkJCWRybV9hdG9t
aWNfZ2V0X29sZF9jb25uZWN0b3Jfc3RhdGUoc3RhdGUsIGNvbm5lY3Rvcik7DQo+ICsJc3RydWN0
IGFtZGdwdV9kbV9jb25uZWN0b3IgKmFjb25uZWN0b3IgPSB0b19hbWRncHVfZG1fY29ubmVjdG9y
KGNvbm5lY3Rvcik7DQo+ICsJc3RydWN0IGRybV9jcnRjX3N0YXRlICpuZXdfY3J0Y19zdGF0ZTsN
Cj4gKwlzdHJ1Y3QgZHJtX2RwX21zdF90b3BvbG9neV9tZ3IgKm1zdF9tZ3I7DQo+ICsJc3RydWN0
IGRybV9kcF9tc3RfcG9ydCAqbXN0X3BvcnQ7DQo+ICsNCj4gKwltc3RfcG9ydCA9IGFjb25uZWN0
b3ItPnBvcnQ7DQo+ICsJbXN0X21nciA9ICZhY29ubmVjdG9yLT5tc3RfcG9ydC0+bXN0X21ncjsN
Cj4gKw0KPiArCWlmICghb2xkX2Nvbm5fc3RhdGUtPmNydGMpDQo+ICsJCXJldHVybiAwOw0KPiAr
DQo+ICsJaWYgKG5ld19jb25uX3N0YXRlLT5jcnRjKSB7DQo+ICsJCW5ld19jcnRjX3N0YXRlID0g
ZHJtX2F0b21pY19nZXRfb2xkX2NydGNfc3RhdGUoc3RhdGUsIG5ld19jb25uX3N0YXRlLT5jcnRj
KTsNCj4gKwkJaWYgKCFuZXdfY3J0Y19zdGF0ZSB8fA0KPiArCQkgICAgIWRybV9hdG9taWNfY3J0
Y19uZWVkc19tb2Rlc2V0KG5ld19jcnRjX3N0YXRlKSB8fA0KPiArCQkgICAgbmV3X2NydGNfc3Rh
dGUtPmVuYWJsZSkNCj4gKwkJCXJldHVybiAwOw0KPiArCQl9DQo+ICsNCj4gKwlyZXR1cm4gZHJt
X2RwX2F0b21pY19yZWxlYXNlX3ZjcGlfc2xvdHMoc3RhdGUsDQo+ICsJCQkJCQltc3RfbWdyLA0K
PiArCQkJCQkJbXN0X3BvcnQpOw0KPiArfQ0KPiArDQo+ICAgc3RhdGljIGNvbnN0IHN0cnVjdCBk
cm1fY29ubmVjdG9yX2hlbHBlcl9mdW5jcyBkbV9kcF9tc3RfY29ubmVjdG9yX2hlbHBlcl9mdW5j
cyA9IHsNCj4gICAJLmdldF9tb2RlcyA9IGRtX2RwX21zdF9nZXRfbW9kZXMsDQo+ICAgCS5tb2Rl
X3ZhbGlkID0gYW1kZ3B1X2RtX2Nvbm5lY3Rvcl9tb2RlX3ZhbGlkLA0KPiAgIAkuYXRvbWljX2Jl
c3RfZW5jb2RlciA9IGRtX21zdF9hdG9taWNfYmVzdF9lbmNvZGVyLA0KPiArCS5hdG9taWNfY2hl
Y2sgPSBkbV9kcF9tc3RfYXRvbWljX2NoZWNrLA0KPiAgIH07DQo+ICAgDQo+ICAgc3RhdGljIHZv
aWQgYW1kZ3B1X2RtX2VuY29kZXJfZGVzdHJveShzdHJ1Y3QgZHJtX2VuY29kZXIgKmVuY29kZXIp
DQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNfc3RyZWFt
LmggYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNfc3RyZWFtLmgNCj4gaW5kZXgg
ZmRiNmFkYzM3ODU3Li5lMTI5NzE3NTcyZDMgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2Ry
bS9hbWQvZGlzcGxheS9kYy9kY19zdHJlYW0uaA0KPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1k
L2Rpc3BsYXkvZGMvZGNfc3RyZWFtLmgNCj4gQEAgLTE5Myw2ICsxOTMsNyBAQCBzdHJ1Y3QgZGNf
c3RyZWFtX3N0YXRlIHsNCj4gICAJYm9vbCBkcG1zX29mZjsNCj4gICANCj4gICAJdm9pZCAqZG1f
c3RyZWFtX2NvbnRleHQ7DQo+ICsJdm9pZCAqZG1fc3RyZWFtX3N0YXRlOw0KDQpJIGRvbid0IHRo
aW5rIHlvdSBuZWVkIHRvIGJlIGFkZGluZyB0aGlzIHNlcGFyYXRlIGZpZWxkIGhlcmUuIFRoZSBv
bmx5IA0KdGhpbmcgc3RyZWFtLT5kbV9zdHJlYW1fY29udGV4dCBpcyB1c2VkIGZvciBpcyBzdG9y
aW5nIHRoZSBhY29ubmVjdG9yIA0KcmlnaHQgbm93LCB3aGljaCBhbHJlYWR5IGdpdmVzIHlvdSB0
aGUgRFJNIHN0YXRlLg0KDQpJIGRvbid0IHRoaW5rIGl0J3MgYSByZWFsbHkgZ29vZCBpZGVhIGlu
IGdlbmVyYWwgdG8gc3RvcmUgRFJNIGNvbm5lY3RvciANCnN0YXRlIHJlZmVyZW5jZXMgaGVyZSBk
aXJlY3RseSBpbiBhIERDIG9iamVjdCBzaW5jZSB3ZSdyZSBub3QgaG9sZGluZyANCmFueSByZWZl
cmVuY2VzIHRvIHRoZSBEUk0gc3RhdGUgaXQgY29tZXMgZnJvbSAobm9yIHNob3VsZCB3ZSB3YW50
IHRvKS4NCg0KVGhlIG9ubHkgcGxhY2UgSSBjYW4gc2VlIHdoZXJlIHlvdSByZWFsbHkgdXNlIHRo
aXMgbmV3IGZpZWxkIGlzIGR1cmluZyANCkhQRCBhbmQgeW91J3JlIGFscmVhZHkgaG9sZGluZyBh
cHByb3ByaWF0ZSBsb2NrcyB0aGVyZSwgc28gaXQgc2hvdWxkIGJlIA0Kc2FmZSB0byBqdXN0IGFj
Y2VzcyB0aGUgYWNvbm5lY3Rvci0+YmFzZS5zdGF0ZSBkaXJlY3RseS4NCg0KVG8gdmVyaWZ5IHlv
dXIgYXNzdW1wdGlvbnMgeW91IGNhbiBhZGQgYW4gYXNzZXJ0aW9uIGZvciBob2xkaW5nIHRoZSBs
b2NrIA0KaW4gdGhlIE1TVCBwYXlsb2FkIGFsbG9jYXRpb24gaGVscGVyIHRob3VnaC4NCg0KTmlj
aG9sYXMgS2F6bGF1c2thcw0KDQo+ICAgDQo+ICAgCXN0cnVjdCBkY19jdXJzb3JfYXR0cmlidXRl
cyBjdXJzb3JfYXR0cmlidXRlczsNCj4gICAJc3RydWN0IGRjX2N1cnNvcl9wb3NpdGlvbiBjdXJz
b3JfcG9zaXRpb247DQo+IA0KDQpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fXwphbWQtZ2Z4IG1haWxpbmcgbGlzdAphbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9w
Lm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1n
Zng=
