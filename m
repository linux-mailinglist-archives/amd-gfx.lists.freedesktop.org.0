Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 68C2E3A446F
	for <lists+amd-gfx@lfdr.de>; Fri, 11 Jun 2021 16:54:54 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 9EA436E7F5;
	Fri, 11 Jun 2021 14:54:52 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-wr1-x431.google.com (mail-wr1-x431.google.com
 [IPv6:2a00:1450:4864:20::431])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 10FB26E463;
 Fri, 11 Jun 2021 14:54:51 +0000 (UTC)
Received: by mail-wr1-x431.google.com with SMTP id l2so6408838wrw.6;
 Fri, 11 Jun 2021 07:54:50 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=subject:to:cc:references:from:message-id:date:user-agent
 :mime-version:in-reply-to:content-transfer-encoding:content-language;
 bh=Y7TyVbdzqgqvHNhK6kMcHQm3pbGkNUno2jQzlCmCARc=;
 b=TEGe1/9hqN+xGajIy/Zv9jOQksc3JuY5mGhiOMOlbcMaF5/T47jlzBCIXGVndDDe+m
 G5Rr78nDr4DJnabFaGbpFLSNmte9nEMR6PlOPgKLuGRQx4hjgEBibJ0hNxIKb35KuDgR
 O7VwKHxTmz/qF4klj5St1/ZCY4xSYq/vIStmXrW+T1wWPnaE6dmovwOEqyJYcsh/rpvI
 K33HWrBok28EixcJsd+yqpBQyOVqxSJVnE1hXQ4yuW1o6G0CaNPWdTDAYguIOyUbN9W4
 pd4mXpIUOHcZeWxVIvU1k2F0T7jY2zGy48chLrcqDrvIJQ0gOU6cBNEDm37oUqADBLfA
 d8VA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:subject:to:cc:references:from:message-id:date
 :user-agent:mime-version:in-reply-to:content-transfer-encoding
 :content-language;
 bh=Y7TyVbdzqgqvHNhK6kMcHQm3pbGkNUno2jQzlCmCARc=;
 b=gH2jHDn8xlFmJrdmx+fxb+s3PNdKFgMFNVkXbFnyi7I/yruaQwIl5KWeMIb2VoF9rE
 AnZlH0FCZLNHpsvr8u8JMt8kbcF5C507gOVLU6BNOptJ9qMo8NCnEtjhHnbdpuHVRH5m
 ybJzvQeMWn6duazSG7TGyV5WtisAIX/45rLMTni9SIyNM9Qr8+wh5mpsz1IC/urXD9uj
 uOhl/i6dS5THD4M4I5lSbKXuTiNyJByU6AjybjEpLAhlfLiaDe+PqR0WjsHJ/8E4wTtq
 z4k7PbZR9l9csPnEUdQb5noNhdliWS0/vnCQUva/3nDSdo8BsCSH858xYxvW0ALGfKAs
 2XrA==
X-Gm-Message-State: AOAM533DDK8ojUZe0xjqOyplD18HAmi/le4IPb7aGLAhBbkfugfIs/sY
 uueuF7jBNypfNrUXf+ZlVmG778cnuO0=
X-Google-Smtp-Source: ABdhPJx/jHwFQoJl3yQFycbAVqMWHrC91lELvMXB+jkvJ2nTy5EYEYHK43cI9Y3OYSKpVoovZNT/uw==
X-Received: by 2002:adf:f1cb:: with SMTP id z11mr4696509wro.2.1623423289711;
 Fri, 11 Jun 2021 07:54:49 -0700 (PDT)
Received: from ?IPv6:2a02:908:1252:fb60:bd94:4b9a:99c4:4bc1?
 ([2a02:908:1252:fb60:bd94:4b9a:99c4:4bc1])
 by smtp.gmail.com with ESMTPSA id e17sm8090715wre.79.2021.06.11.07.54.49
 (version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
 Fri, 11 Jun 2021 07:54:49 -0700 (PDT)
Subject: Re: [PATCH 3/5] dma-buf: add dma_fence_chain_alloc/free v2
To: Daniel Vetter <daniel@ffwll.ch>
References: <20210611120301.10595-1-christian.koenig@amd.com>
 <20210611120301.10595-3-christian.koenig@amd.com>
 <YMN4kUt7dpysElsD@phenom.ffwll.local>
From: =?UTF-8?Q?Christian_K=c3=b6nig?= <ckoenig.leichtzumerken@gmail.com>
Message-ID: <f73408af-a72e-3263-6d2c-7f6ec82dc599@gmail.com>
Date: Fri, 11 Jun 2021 16:54:48 +0200
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:78.0) Gecko/20100101
 Thunderbird/78.8.1
MIME-Version: 1.0
In-Reply-To: <YMN4kUt7dpysElsD@phenom.ffwll.local>
Content-Language: en-US
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: amd-gfx@lists.freedesktop.org, dri-devel@lists.freedesktop.org
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

CgpBbSAxMS4wNi4yMSB1bSAxNjo1MiBzY2hyaWViIERhbmllbCBWZXR0ZXI6Cj4gT24gRnJpLCBK
dW4gMTEsIDIwMjEgYXQgMDI6MDI6NTlQTSArMDIwMCwgQ2hyaXN0aWFuIEvDtm5pZyB3cm90ZToK
Pj4gQWRkIGEgY29tbW9uIGFsbG9jYXRpb24gaGVscGVyLiBDbGVhbmluZyB1cCB0aGUgbWl4IG9m
IGt6YWxsb2Mva21hbGxvYwo+PiBhbmQgc29tZSB1bnVzZWQgY29kZSBpbiB0aGUgc2VsZnRlc3Qu
Cj4+Cj4+IHYyOiBwb2xpc2gga2VybmVsIGRvYyBhIGJpdAo+Pgo+PiBTaWduZWQtb2ZmLWJ5OiBD
aHJpc3RpYW4gS8O2bmlnIDxjaHJpc3RpYW4ua29lbmlnQGFtZC5jb20+Cj4+IFJldmlld2VkLWJ5
OiBEYW5pZWwgVmV0dGVyIDxkYW5pZWwudmV0dGVyQGZmd2xsLmNoPgo+IEdpdmVuIGhvdyBhYnNv
bHV0ZWx5IHdyb25nIEkgd2FzIEknbSBub3Qgc3VyZSB0aGlzIHItYiBoZXJlIGlzIGp1c3RpZmll
ZAo+IDotKQoKVXBzLCB0aGF0IHdhcyBhbHNvIG5vdCBhZGRlZCBpbnRlbnRpb25hbGx5LiBJdCdz
IGp1c3QgdG8gaG90IGluIG15IGZsYXQgCmFuZCB0byBmZXcgaG91cnMgdGlsbCB0aGUgd2Vla2Vu
ZC4KCj4KPj4gLS0tCj4+ICAgZHJpdmVycy9kbWEtYnVmL3N0LWRtYS1mZW5jZS1jaGFpbi5jICAg
ICAgICAgIHwgMTYgKysrKy0tLS0tLS0tLQo+PiAgIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2FtZGdwdV9jcy5jICAgICAgICB8ICA0ICsrLS0KPj4gICBkcml2ZXJzL2dwdS9kcm0vZHJtX3N5
bmNvYmouYyAgICAgICAgICAgICAgICAgfCAgNiArKy0tLQo+PiAgIC4uLi9ncHUvZHJtL2k5MTUv
Z2VtL2k5MTVfZ2VtX2V4ZWNidWZmZXIuYyAgICB8ICA2ICsrLS0tCj4+ICAgZHJpdmVycy9ncHUv
ZHJtL21zbS9tc21fZ2VtX3N1Ym1pdC5jICAgICAgICAgIHwgIDYgKystLS0KPj4gICBpbmNsdWRl
L2xpbnV4L2RtYS1mZW5jZS1jaGFpbi5oICAgICAgICAgICAgICAgfCAyMyArKysrKysrKysrKysr
KysrKysrCj4+ICAgNiBmaWxlcyBjaGFuZ2VkLCAzNiBpbnNlcnRpb25zKCspLCAyNSBkZWxldGlv
bnMoLSkKPj4KPj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZG1hLWJ1Zi9zdC1kbWEtZmVuY2UtY2hh
aW4uYyBiL2RyaXZlcnMvZG1hLWJ1Zi9zdC1kbWEtZmVuY2UtY2hhaW4uYwo+PiBpbmRleCA5NTI1
ZjdmNTYxMTkuLjhjZTFlYTU5ZDMxYiAxMDA2NDQKPj4gLS0tIGEvZHJpdmVycy9kbWEtYnVmL3N0
LWRtYS1mZW5jZS1jaGFpbi5jCj4+ICsrKyBiL2RyaXZlcnMvZG1hLWJ1Zi9zdC1kbWEtZmVuY2Ut
Y2hhaW4uYwo+PiBAQCAtNTgsMjggKzU4LDIwIEBAIHN0YXRpYyBzdHJ1Y3QgZG1hX2ZlbmNlICpt
b2NrX2ZlbmNlKHZvaWQpCj4+ICAgCXJldHVybiAmZi0+YmFzZTsKPj4gICB9Cj4+ICAgCj4+IC1z
dGF0aWMgaW5saW5lIHN0cnVjdCBtb2NrX2NoYWluIHsKPj4gLQlzdHJ1Y3QgZG1hX2ZlbmNlX2No
YWluIGJhc2U7Cj4+IC19ICp0b19tb2NrX2NoYWluKHN0cnVjdCBkbWFfZmVuY2UgKmYpIHsKPj4g
LQlyZXR1cm4gY29udGFpbmVyX29mKGYsIHN0cnVjdCBtb2NrX2NoYWluLCBiYXNlLmJhc2UpOwo+
PiAtfQo+PiAtCj4+ICAgc3RhdGljIHN0cnVjdCBkbWFfZmVuY2UgKm1vY2tfY2hhaW4oc3RydWN0
IGRtYV9mZW5jZSAqcHJldiwKPj4gICAJCQkJICAgIHN0cnVjdCBkbWFfZmVuY2UgKmZlbmNlLAo+
PiAgIAkJCQkgICAgdTY0IHNlcW5vKQo+PiAgIHsKPj4gLQlzdHJ1Y3QgbW9ja19jaGFpbiAqZjsK
Pj4gKwlzdHJ1Y3QgZG1hX2ZlbmNlX2NoYWluICpmOwo+PiAgIAo+PiAtCWYgPSBrbWFsbG9jKHNp
emVvZigqZiksIEdGUF9LRVJORUwpOwo+PiArCWYgPSBkbWFfZmVuY2VfY2hhaW5fYWxsb2MoKTsK
Pj4gICAJaWYgKCFmKQo+PiAgIAkJcmV0dXJuIE5VTEw7Cj4+ICAgCj4+IC0JZG1hX2ZlbmNlX2No
YWluX2luaXQoJmYtPmJhc2UsCj4+IC0JCQkgICAgIGRtYV9mZW5jZV9nZXQocHJldiksCj4+IC0J
CQkgICAgIGRtYV9mZW5jZV9nZXQoZmVuY2UpLAo+PiArCWRtYV9mZW5jZV9jaGFpbl9pbml0KGYs
IGRtYV9mZW5jZV9nZXQocHJldiksIGRtYV9mZW5jZV9nZXQoZmVuY2UpLAo+PiAgIAkJCSAgICAg
c2Vxbm8pOwo+PiAgIAo+PiAtCXJldHVybiAmZi0+YmFzZS5iYXNlOwo+PiArCXJldHVybiAmZi0+
YmFzZTsKPj4gICB9Cj4+ICAgCj4+ICAgc3RhdGljIGludCBzYW5pdHljaGVjayh2b2lkICphcmcp
Cj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfY3MuYyBi
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9jcy5jCj4+IGluZGV4IDkwMTM2Zjlk
ZWRkNi4uMzI1ZTgyNjIxNDY3IDEwMDY0NAo+PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfY3MuYwo+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRn
cHVfY3MuYwo+PiBAQCAtMTEyNCw3ICsxMTI0LDcgQEAgc3RhdGljIGludCBhbWRncHVfY3NfcHJv
Y2Vzc19zeW5jb2JqX3RpbWVsaW5lX291dF9kZXAoc3RydWN0IGFtZGdwdV9jc19wYXJzZXIgKnAK
Pj4gICAKPj4gICAJCWRlcC0+Y2hhaW4gPSBOVUxMOwo+PiAgIAkJaWYgKHN5bmNvYmpfZGVwc1tp
XS5wb2ludCkgewo+PiAtCQkJZGVwLT5jaGFpbiA9IGttYWxsb2Moc2l6ZW9mKCpkZXAtPmNoYWlu
KSwgR0ZQX0tFUk5FTCk7Cj4+ICsJCQlkZXAtPmNoYWluID0gZG1hX2ZlbmNlX2NoYWluX2FsbG9j
KCk7Cj4+ICAgCQkJaWYgKCFkZXAtPmNoYWluKQo+PiAgIAkJCQlyZXR1cm4gLUVOT01FTTsKPj4g
ICAJCX0KPj4gQEAgLTExMzIsNyArMTEzMiw3IEBAIHN0YXRpYyBpbnQgYW1kZ3B1X2NzX3Byb2Nl
c3Nfc3luY29ial90aW1lbGluZV9vdXRfZGVwKHN0cnVjdCBhbWRncHVfY3NfcGFyc2VyICpwCj4+
ICAgCQlkZXAtPnN5bmNvYmogPSBkcm1fc3luY29ial9maW5kKHAtPmZpbHAsCj4+ICAgCQkJCQkJ
c3luY29ial9kZXBzW2ldLmhhbmRsZSk7Cj4+ICAgCQlpZiAoIWRlcC0+c3luY29iaikgewo+PiAt
CQkJa2ZyZWUoZGVwLT5jaGFpbik7Cj4+ICsJCQlkbWFfZmVuY2VfY2hhaW5fZnJlZShkZXAtPmNo
YWluKTsKPj4gICAJCQlyZXR1cm4gLUVJTlZBTDsKPj4gICAJCX0KPj4gICAJCWRlcC0+cG9pbnQg
PSBzeW5jb2JqX2RlcHNbaV0ucG9pbnQ7Cj4+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0v
ZHJtX3N5bmNvYmouYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fc3luY29iai5jCj4+IGluZGV4IGZk
ZDJlYzg3Y2RkMS4uMWM1YjllZjZkYTM3IDEwMDY0NAo+PiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0v
ZHJtX3N5bmNvYmouYwo+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX3N5bmNvYmouYwo+PiBA
QCAtODYxLDcgKzg2MSw3IEBAIHN0YXRpYyBpbnQgZHJtX3N5bmNvYmpfdHJhbnNmZXJfdG9fdGlt
ZWxpbmUoc3RydWN0IGRybV9maWxlICpmaWxlX3ByaXZhdGUsCj4+ICAgCQkJCSAgICAgJmZlbmNl
KTsKPj4gICAJaWYgKHJldCkKPj4gICAJCWdvdG8gZXJyOwo+PiAtCWNoYWluID0ga3phbGxvYyhz
aXplb2Yoc3RydWN0IGRtYV9mZW5jZV9jaGFpbiksIEdGUF9LRVJORUwpOwo+PiArCWNoYWluID0g
ZG1hX2ZlbmNlX2NoYWluX2FsbG9jKCk7Cj4+ICAgCWlmICghY2hhaW4pIHsKPj4gICAJCXJldCA9
IC1FTk9NRU07Cj4+ICAgCQlnb3RvIGVycjE7Cj4+IEBAIC0xNDAyLDEwICsxNDAyLDEwIEBAIGRy
bV9zeW5jb2JqX3RpbWVsaW5lX3NpZ25hbF9pb2N0bChzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LCB2
b2lkICpkYXRhLAo+PiAgIAkJZ290byBlcnJfcG9pbnRzOwo+PiAgIAl9Cj4+ICAgCWZvciAoaSA9
IDA7IGkgPCBhcmdzLT5jb3VudF9oYW5kbGVzOyBpKyspIHsKPj4gLQkJY2hhaW5zW2ldID0ga3ph
bGxvYyhzaXplb2Yoc3RydWN0IGRtYV9mZW5jZV9jaGFpbiksIEdGUF9LRVJORUwpOwo+PiArCQlj
aGFpbnNbaV0gPSBkbWFfZmVuY2VfY2hhaW5fYWxsb2MoKTsKPj4gICAJCWlmICghY2hhaW5zW2ld
KSB7Cj4+ICAgCQkJZm9yIChqID0gMDsgaiA8IGk7IGorKykKPj4gLQkJCQlrZnJlZShjaGFpbnNb
al0pOwo+PiArCQkJCWRtYV9mZW5jZV9jaGFpbl9mcmVlKGNoYWluc1tqXSk7Cj4+ICAgCQkJcmV0
ID0gLUVOT01FTTsKPj4gICAJCQlnb3RvIGVycl9jaGFpbnM7Cj4+ICAgCQl9Cj4+IGRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vaTkxNS9nZW0vaTkxNV9nZW1fZXhlY2J1ZmZlci5jIGIvZHJp
dmVycy9ncHUvZHJtL2k5MTUvZ2VtL2k5MTVfZ2VtX2V4ZWNidWZmZXIuYwo+PiBpbmRleCA2Njc4
OTExMWEyNGIuLmEyMmNiODY3MzBiMyAxMDA2NDQKPj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2k5
MTUvZ2VtL2k5MTVfZ2VtX2V4ZWNidWZmZXIuYwo+PiArKysgYi9kcml2ZXJzL2dwdS9kcm0vaTkx
NS9nZW0vaTkxNV9nZW1fZXhlY2J1ZmZlci5jCj4+IEBAIC0yOTgzLDcgKzI5ODMsNyBAQCBfX2Zy
ZWVfZmVuY2VfYXJyYXkoc3RydWN0IGViX2ZlbmNlICpmZW5jZXMsIHVuc2lnbmVkIGludCBuKQo+
PiAgIAl3aGlsZSAobi0tKSB7Cj4+ICAgCQlkcm1fc3luY29ial9wdXQocHRyX21hc2tfYml0cyhm
ZW5jZXNbbl0uc3luY29iaiwgMikpOwo+PiAgIAkJZG1hX2ZlbmNlX3B1dChmZW5jZXNbbl0uZG1h
X2ZlbmNlKTsKPj4gLQkJa2ZyZWUoZmVuY2VzW25dLmNoYWluX2ZlbmNlKTsKPj4gKwkJZG1hX2Zl
bmNlX2NoYWluX2ZyZWUoZmVuY2VzW25dLmNoYWluX2ZlbmNlKTsKPj4gICAJfQo+PiAgIAlrdmZy
ZWUoZmVuY2VzKTsKPj4gICB9Cj4+IEBAIC0zMDk3LDkgKzMwOTcsNyBAQCBhZGRfdGltZWxpbmVf
ZmVuY2VfYXJyYXkoc3RydWN0IGk5MTVfZXhlY2J1ZmZlciAqZWIsCj4+ICAgCQkJCXJldHVybiAt
RUlOVkFMOwo+PiAgIAkJCX0KPj4gICAKPj4gLQkJCWYtPmNoYWluX2ZlbmNlID0KPj4gLQkJCQlr
bWFsbG9jKHNpemVvZigqZi0+Y2hhaW5fZmVuY2UpLAo+PiAtCQkJCQlHRlBfS0VSTkVMKTsKPj4g
KwkJCWYtPmNoYWluX2ZlbmNlID0gZG1hX2ZlbmNlX2NoYWluX2FsbG9jKCk7Cj4+ICAgCQkJaWYg
KCFmLT5jaGFpbl9mZW5jZSkgewo+PiAgIAkJCQlkcm1fc3luY29ial9wdXQoc3luY29iaik7Cj4+
ICAgCQkJCWRtYV9mZW5jZV9wdXQoZmVuY2UpOwo+PiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUv
ZHJtL21zbS9tc21fZ2VtX3N1Ym1pdC5jIGIvZHJpdmVycy9ncHUvZHJtL21zbS9tc21fZ2VtX3N1
Ym1pdC5jCj4+IGluZGV4IDU0ODA4NTJiZGVkYS4uNmZmNmRmNmM0NzkxIDEwMDY0NAo+PiAtLS0g
YS9kcml2ZXJzL2dwdS9kcm0vbXNtL21zbV9nZW1fc3VibWl0LmMKPj4gKysrIGIvZHJpdmVycy9n
cHUvZHJtL21zbS9tc21fZ2VtX3N1Ym1pdC5jCj4+IEBAIC01ODYsOSArNTg2LDcgQEAgc3RhdGlj
IHN0cnVjdCBtc21fc3VibWl0X3Bvc3RfZGVwICptc21fcGFyc2VfcG9zdF9kZXBzKHN0cnVjdCBk
cm1fZGV2aWNlICpkZXYsCj4+ICAgCQkJCWJyZWFrOwo+PiAgIAkJCX0KPj4gICAKPj4gLQkJCXBv
c3RfZGVwc1tpXS5jaGFpbiA9Cj4+IC0JCQkJa21hbGxvYyhzaXplb2YoKnBvc3RfZGVwc1tpXS5j
aGFpbiksCj4+IC0JCQkJICAgICAgICBHRlBfS0VSTkVMKTsKPj4gKwkJCXBvc3RfZGVwc1tpXS5j
aGFpbiA9IGRtYV9mZW5jZV9jaGFpbl9hbGxvYygpOwo+PiAgIAkJCWlmICghcG9zdF9kZXBzW2ld
LmNoYWluKSB7Cj4+ICAgCQkJCXJldCA9IC1FTk9NRU07Cj4+ICAgCQkJCWJyZWFrOwo+PiBAQCAt
NjA1LDcgKzYwMyw3IEBAIHN0YXRpYyBzdHJ1Y3QgbXNtX3N1Ym1pdF9wb3N0X2RlcCAqbXNtX3Bh
cnNlX3Bvc3RfZGVwcyhzdHJ1Y3QgZHJtX2RldmljZSAqZGV2LAo+PiAgIAo+PiAgIAlpZiAocmV0
KSB7Cj4+ICAgCQlmb3IgKGogPSAwOyBqIDw9IGk7ICsraikgewo+PiAtCQkJa2ZyZWUocG9zdF9k
ZXBzW2pdLmNoYWluKTsKPj4gKwkJCWRtYV9mZW5jZV9jaGFpbl9mcmVlKHBvc3RfZGVwc1tqXS5j
aGFpbik7Cj4+ICAgCQkJaWYgKHBvc3RfZGVwc1tqXS5zeW5jb2JqKQo+PiAgIAkJCQlkcm1fc3lu
Y29ial9wdXQocG9zdF9kZXBzW2pdLnN5bmNvYmopOwo+PiAgIAkJfQo+PiBkaWZmIC0tZ2l0IGEv
aW5jbHVkZS9saW51eC9kbWEtZmVuY2UtY2hhaW4uaCBiL2luY2x1ZGUvbGludXgvZG1hLWZlbmNl
LWNoYWluLmgKPj4gaW5kZXggYzZlYjNhYTQ1NjY4Li43ZWMzNmQ4NTAzNjMgMTAwNjQ0Cj4+IC0t
LSBhL2luY2x1ZGUvbGludXgvZG1hLWZlbmNlLWNoYWluLmgKPj4gKysrIGIvaW5jbHVkZS9saW51
eC9kbWEtZmVuY2UtY2hhaW4uaAo+PiBAQCAtMTIsNiArMTIsNyBAQAo+PiAgIAo+PiAgICNpbmNs
dWRlIDxsaW51eC9kbWEtZmVuY2UuaD4KPj4gICAjaW5jbHVkZSA8bGludXgvaXJxX3dvcmsuaD4K
Pj4gKyNpbmNsdWRlIDxsaW51eC9zbGFiLmg+Cj4+ICAgCj4+ICAgLyoqCj4+ICAgICogc3RydWN0
IGRtYV9mZW5jZV9jaGFpbiAtIGZlbmNlIHRvIHJlcHJlc2VudCBhbiBub2RlIG9mIGEgZmVuY2Ug
Y2hhaW4KPj4gQEAgLTY2LDYgKzY3LDI4IEBAIHRvX2RtYV9mZW5jZV9jaGFpbihzdHJ1Y3QgZG1h
X2ZlbmNlICpmZW5jZSkKPj4gICAJcmV0dXJuIGNvbnRhaW5lcl9vZihmZW5jZSwgc3RydWN0IGRt
YV9mZW5jZV9jaGFpbiwgYmFzZSk7Cj4+ICAgfQo+PiAgIAo+PiArLyoqCj4+ICsgKiBkbWFfZmVu
Y2VfY2hhaW5fYWxsb2MKPj4gKyAqCj4+ICsgKiBSZXR1cm5zIGEgbmV3IGRtYV9mZW5jZV9jaGFp
biBvYmplY3Qgb3IgTlVMTCBvbiBmYWlsdXJlLgo+IAkJc3RydWN0IGRtYV9mZW5jZV9jaGFpbiBm
b3IgdGhhdCBoeXBlcmxpbmsgZ29vZG5lc3MKPgo+PiArICovCj4+ICtzdGF0aWMgaW5saW5lIHN0
cnVjdCBkbWFfZmVuY2VfY2hhaW4gKmRtYV9mZW5jZV9jaGFpbl9hbGxvYyh2b2lkKQo+PiArewo+
PiArCXJldHVybiBrbWFsbG9jKHNpemVvZihzdHJ1Y3QgZG1hX2ZlbmNlX2NoYWluKSwgR0ZQX0tF
Uk5FTCk7Cj4+ICt9Owo+PiArCj4+ICsvKioKPj4gKyAqIGRtYV9mZW5jZV9jaGFpbl9mcmVlCj4+
ICsgKiBAY2hhaW46IGNoYWluIG5vZGUgdG8gZnJlZQo+PiArICoKPj4gKyAqIEZyZWVzIHVwIGFu
IGFsbG9jYXRlZCBidXQgbm90IHVzZWQgZG1hX2ZlbmNlX2NoYWluIG5vZGUuIFRoaXMgZG9lc24n
dCBuZWVkCj4gU2FtZSBoZXJlLgo+Cj4+ICsgKiBhbiBSQ1UgZ3JhY2UgcGVyaW9kIHNpbmNlIHRo
ZSBmZW5jZSB3YXMgbmV2ZXIgaW5pdGlhbGl6ZWQgbm9yIHB1Ymxpc2hlZC4KPiBJJ2QgYWRkIGV2
ZW4gbW9yZSBjbGFyaWZpY2F0aW9uLCBsaWtlOgo+Cj4gIkFmdGVyIGRtYV9mZW5jZV9jaGFpbl9p
bml0KCkgaGFzIGJlZW4gY2FsbGVkIHRoZSBmZW5jZSBtdXN0IGJlIHJlbGVhc2VkCj4gYnkgY2Fs
bGluZyBkbWFfZmVuY2VfcHV0KCksIGFuZCBub3QgdGhyb3VnaCB0aGlzIGZ1bmN0aW9uLiIKPgo+
IFRoYXQncyBzdGlsbCBhIG5vdGNoIHRvbyBzdHJpY3QgKGluIHRoZW9yeSBhcyBsb25nIGFzIHRo
ZSBmZW5jZSBpc24ndAo+IHB1Ymxpc2hlZCBhbnl3aGVyZSBpdCdzIGFsbCBmaW5lKSwgYnV0IGl0
IGtlZXBzIHRoZSBkb29yIG9wZW4gZm9yIHNvbWUKPiB2YWxpZGF0aW9uLgo+Cj4gV2l0aCB0aGUg
ZG9jIHBvbGlzaDoKPgo+IFJldmlld2VkLWJ5OiBEYW5pZWwgVmV0dGVyIDxkYW5pZWwudmV0dGVy
QGZmd2xsLmNoPgoKVGhhbmtzLApDaHJpc3RpYW4uCgo+Cj4KPj4gKyAqLwo+PiArc3RhdGljIGlu
bGluZSB2b2lkIGRtYV9mZW5jZV9jaGFpbl9mcmVlKHN0cnVjdCBkbWFfZmVuY2VfY2hhaW4gKmNo
YWluKQo+PiArewo+PiArCWtmcmVlKGNoYWluKTsKPj4gK307Cj4+ICsKPj4gICAvKioKPj4gICAg
KiBkbWFfZmVuY2VfY2hhaW5fZm9yX2VhY2ggLSBpdGVyYXRlIG92ZXIgYWxsIGZlbmNlcyBpbiBj
aGFpbgo+PiAgICAqIEBpdGVyOiBjdXJyZW50IGZlbmNlCj4+IC0tIAo+PiAyLjI1LjEKPj4KCl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmFtZC1nZnggbWFp
bGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJl
ZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeAo=
