Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 1A82CB1AEC9
	for <lists+amd-gfx@lfdr.de>; Tue,  5 Aug 2025 08:52:24 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7A63A10E5E7;
	Tue,  5 Aug 2025 06:52:22 +0000 (UTC)
Authentication-Results: gabe.freedesktop.org;
	dkim=pass (1024-bit key; unprotected) header.d=amd.com header.i=@amd.com header.b="KomEiZNZ";
	dkim-atps=neutral
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM12-BN8-obe.outbound.protection.outlook.com
 (mail-bn8nam12on2057.outbound.protection.outlook.com [40.107.237.57])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8238010E5DD
 for <amd-gfx@lists.freedesktop.org>; Tue,  5 Aug 2025 06:52:20 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector10001; d=microsoft.com; cv=none;
 b=CNlXgWJSxzgFBodIglzgRiOJD//wfqv/l3Zge7g82FMuzZLJFHJaln2yKoGjRLTQiZ4YFnrRgQA7igX/F76vTDyYq5yafhwhoE/tEgC0ys5Xf7KmQyRJLZlAoSPl+F98Vb4ipRia3ao/v+JaUkXGqalr191tOlD3Ji4c2kX2XfAKI/sqJTGY3tY+ie18J5SlN271dJ0HGIILr1DN0WcXwAcqlciPPoNxsPF8rm03jlG1VRU37UCDGGGOAF5awexlmJHyGGKssruLmXYH/yj5ffOl3jdwdiVsRfhH9XGSsl3HCtj3sRFEOKO610fX3aikx4YxlXsun9cl7aqOObQGJQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector10001;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=N/0LPoIME0icBYyqHA1mbrUu+mPhT/DCe2ptTDzh/mo=;
 b=UPOPzwRSsEk7CiilbeceRm360GJGO/e947C+aR8YXjhibhIJKu5UbawxsNEX1ApSo7mPb2buT+wo1oTKTd+g7TSilTrwEbG9hbRSKQcOU0sppQlvOX/VBUF0doCpR4DiT3MQe/Dl3dT1KLNOaZianHvqAG5g/TGwAoimwbncL+mUgD9bgSjYfiKQAvwZk4XmcAPGZBOLYDuhBtRK7BleSi9XE0kesw4jbBn1phq3V7XmQHPRFtILRJQS24tdAlv1XsQyjsCV5ll6d8HAMdsUVpF389RovnE4oJw6IGS352BoQmFrOQreoLrwpX0HyaMfQGcvwAOcENzC+27dNNMdsg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=amd.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=N/0LPoIME0icBYyqHA1mbrUu+mPhT/DCe2ptTDzh/mo=;
 b=KomEiZNZzghT1+YcQMudNwu8072zPEetZJGNKyPqoZq235a0dxWAQFKng71EcLgnIDe82OPKzcmud2ZJ9GF2PFsTv4QIquTKiPvEWVkqXH/BqHiDvwYLggwcjWHNEGxvivaHfvfsjTa0J0fC63iP1dhveo0ehB28aELdmXCpF1Q=
Received: from DM4PR12MB5152.namprd12.prod.outlook.com (2603:10b6:5:393::16)
 by SJ5PPFABE38415D.namprd12.prod.outlook.com (2603:10b6:a0f:fc02::99e) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.8989.14; Tue, 5 Aug
 2025 06:52:17 +0000
Received: from DM4PR12MB5152.namprd12.prod.outlook.com
 ([fe80::d4b5:6a30:96d5:e3ed]) by DM4PR12MB5152.namprd12.prod.outlook.com
 ([fe80::d4b5:6a30:96d5:e3ed%7]) with mapi id 15.20.8989.018; Tue, 5 Aug 2025
 06:52:17 +0000
From: "Zhang, Jesse(Jie)" <Jesse.Zhang@amd.com>
To: Alex Deucher <alexdeucher@gmail.com>
CC: "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>, "Deucher, 
 Alexander" <Alexander.Deucher@amd.com>, "Koenig, Christian"
 <Christian.Koenig@amd.com>, "Chau, Kyle-hai" <Kyle-hai.Chau@amd.com>
Subject: RE: [v6 04/13] drm/amdgpu: Implement active VMID detection in MES11
 queue reset for GFX
Thread-Topic: [v6 04/13] drm/amdgpu: Implement active VMID detection in MES11
 queue reset for GFX
Thread-Index: AQHcBRt+TjSK5Ket7EGSUFL/d2qi4rRSuRCAgADnTyA=
Date: Tue, 5 Aug 2025 06:52:16 +0000
Message-ID: <DM4PR12MB5152DA059C7308320C1EB6DDE322A@DM4PR12MB5152.namprd12.prod.outlook.com>
References: <20250804084029.863138-1-Jesse.Zhang@amd.com>
 <20250804084029.863138-4-Jesse.Zhang@amd.com>
 <CADnq5_MP3EsD7nLxTxr8+QdHisdcVLXx37HJxKNee-0i7rbMtA@mail.gmail.com>
In-Reply-To: <CADnq5_MP3EsD7nLxTxr8+QdHisdcVLXx37HJxKNee-0i7rbMtA@mail.gmail.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
msip_labels: MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_Enabled=True;
 MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_SiteId=3dd8961f-e488-4e60-8e11-a82d994e183d;
 MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_SetDate=2025-08-05T06:50:56.0000000Z;
 MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_Name=AMD
 Internal Distribution
 Only; MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_ContentBits=3;
 MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_Method=Standard
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=amd.com;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: DM4PR12MB5152:EE_|SJ5PPFABE38415D:EE_
x-ms-office365-filtering-correlation-id: bc6ed455-2a81-47ac-adac-08ddd3ec9d81
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0; ARA:13230040|1800799024|366016|376014|38070700018;
x-microsoft-antispam-message-info: =?utf-8?B?YlR6U2ZaU2ZhdFkwbVpqTDZ5MThwaWVDaXY5dzQzeWJRY1Y1RStodk9EVDJ6?=
 =?utf-8?B?YWpMb0M2QU9GS1lCSnpPUFg5L2tDLzlNdWZVSVRUenhhL290REx0NStValhI?=
 =?utf-8?B?d2tYK2lZbitLM3NxZUlidDQya29EZVZrRG1UOTBTSVVnbW1aclNsc3ZTcys1?=
 =?utf-8?B?MGt5VitPMGNPbTBKMmtPMnErZDZCOFBVNWZJMFFQK3k3bE1NSGEvaHE0OEFz?=
 =?utf-8?B?dnNlcjcrSlFjTjdyMWJ1K2RGclpiWkJ5ZVl2Q0FweU90aVNDbG1NZHlXSEZO?=
 =?utf-8?B?dlB2aFNrbTM2QXZQSEJZK3ZPRmtUM3dub1lHL1FuWWZoZnQ4WWhSeGMzSk9q?=
 =?utf-8?B?ZXd2SFdaVEp4N0tNcmU0c3hNZlB4Kzl0SVdrczNPOUQzcUZsT2MzRmtrcXZ0?=
 =?utf-8?B?WFk3eDc5SkdBWHU3ZnJURjJBOTFQRzNaK3dKWlhKYVFaZjJVNWx1Wk4xNDcr?=
 =?utf-8?B?elJCU3lxWDdtSUErNm40S29oeGt4MTNPQnNJSndycnJ6RE42cnNvKzExUnhy?=
 =?utf-8?B?NjI1QUxpeTR0UXVzVmhBUzd0UW5ZQlhXdDJNTzV2eTBBTXZBUThPQ3BxQm0x?=
 =?utf-8?B?OE1aLzkrMFlQakxDZU0yTGFLVzZZdXd0SVNVbE5hOUwvYWNBQmRRYTZGUVZk?=
 =?utf-8?B?Q0s1c1Y3NW5WMWdwNHlTK2ZNVWE4bHgwaEtvVEJBQ1JBeTRtVklPaEJocUV2?=
 =?utf-8?B?RTFIdTU0c1NLVHdDeTJZUEhDSEVsTDZHckk1M3B6NjBIY0NKUThhcDExT05O?=
 =?utf-8?B?OWw4bjF6bTlrSERmaGppKzI5bjhKK1M4Ri9Rd2dEenF1RitaVkhjekZMeUdx?=
 =?utf-8?B?M1NRRVBuK3pmVi93b05QRU1QSXdHZW9jV3RIbkxtVGd4UHFuRlZvTGNoZE9R?=
 =?utf-8?B?eElXL2dHbUdUblA4bUhhaUEyeHYreHdxU2grS0dHM0FkbDFERkVjWnBIOEZy?=
 =?utf-8?B?VkhRVDVhWEdZWmdndDQzUDA3M3YzalkxcUFGRmxnTVV4azRnR2lrdFV1cmxZ?=
 =?utf-8?B?ekVRZXdxbjNnTE40UGVQVFFnUHAyL1Q4c0FiZEtiVC9jWE55eUhrampIN09W?=
 =?utf-8?B?Y25hU3grQUxIMzBlUjE3UC8vMVBvZUNoeWJTVjVlZ2QrUXlaUXp3YW9oOUY5?=
 =?utf-8?B?OEw4ZS93ek90emxGOHRtejU4bHQzSjlyQkhvbElQcGVFckMwVWF4YW5DZ2xT?=
 =?utf-8?B?Ym92cTNZa21OVnpZYncvemtIRlFXbDVKRU5kOVpFOVZKTnBkeXErUmhVdXFF?=
 =?utf-8?B?ZWltdmZmSEUrN0RoZFk5b1FQTlZTdkNySWdFWDV5Wm55Vno5bElmVXU0M3Zx?=
 =?utf-8?B?R2F0R0pWaGtpdmVWNjZuTmNkNFZEUHBQSWNiRWxoOXMyY1hRR280QzhROG1o?=
 =?utf-8?B?em13cEIyU0JnSGl2QWVFcG5jdC9uNGozRW9iOFFvSmxDZTlVemJJS1lJZlJo?=
 =?utf-8?B?amVvSmxTMCtQZlJxd3R4MVYyR3o1dzFqdUk4WVJ4cm1PR0FMYmNUSEZ1UG5q?=
 =?utf-8?B?NXZQaFN0c1p6ZlFpeVllWnVLa3Vici82cTloT3h1SXZzUGhGSHI4S1pQd1Vt?=
 =?utf-8?B?SGNRWC9ubTRsMStaQ254cDJBVi9DZ3RZT3RBUDllM2dBZ2VuNjRpVUI0dzdT?=
 =?utf-8?B?bXV2R1RLTDZpR3VMYzFld0RoVnBGVitxN0txUHAyQkc0UXp6QnhCV2hrMGQ0?=
 =?utf-8?B?WEZjbjRiY1cvTHByQ3ROUzRBSzBkNXRDdVdsWTczK3VDV2FoL2hMQm1EWlBy?=
 =?utf-8?B?K2tyWmlkMlV1dGV1ZmFNMi82alVXVCs0Z29PemRlU2Y0VEp2RUNZcms0WnF5?=
 =?utf-8?B?UjdZWU1sS2lQTE9sOVd1NXZMZGhuc2NIMm80eFpOQWE3Y0FQWnBkUDA4LzJ4?=
 =?utf-8?B?enZCWkNqN3FSSjFTL3djbWhpbm1Ga29Ic1NDRnB0NzNQRkJqMDhGQWFpaFl3?=
 =?utf-8?B?Y0NBK1ljMXVIWm1EQklvQzVmNS9ienhRcUN4UFE0cC94ek1ZeGVsMTZ2RzA1?=
 =?utf-8?Q?ifhE5LflF2exVKiuFFXcD1OnoO4BU4=3D?=
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:DM4PR12MB5152.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(13230040)(1800799024)(366016)(376014)(38070700018); DIR:OUT; SFP:1101; 
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?by9xR3JRMWVOc0NMc2x4alRYZ2pjdHdSSTBxeWMrYmtZcHVVcE4vaStGZlNM?=
 =?utf-8?B?LzJXOVEyVmhZT1pxMGpXMk9CQmovcityN3dXU3RKQk1lQ2FLS0JJTFFuTVB4?=
 =?utf-8?B?anpiZmZZaXVOOE9lRHR5ZEVNR2NrSlFmbE1aRkU3ckZ0YW1sRTFJWCt2QlRS?=
 =?utf-8?B?aVFTWUhZTXloQUNOcHJsMU1FTEZiSUkzenEyMWJiUkdPYnJzYUVUSWt6dkNk?=
 =?utf-8?B?UHk3WDVoTS95WnNmcWg5SVR6cjZjK21UQ0p1KzBVUjdBWW5zRkZVYmR1MUkw?=
 =?utf-8?B?Yk0zc2dYK2NKWXd1MGJlbGJSZHAyWlg1WjcvS00vcnVkMHQ5eUtjc2xxRFBj?=
 =?utf-8?B?akNLdTFjaWMrMXdiUUxJYXlvdnphUlo1NEVld3BFWjZFVG5GaDd6UThVRGJ5?=
 =?utf-8?B?T0h1QWZKOWdJYWE2SE40cWZnS2pldVhjM2NiMExNNUVoMUxGWmhxREk3UkIw?=
 =?utf-8?B?WDQ2d0VQelR1MjlBUDVycmt3UGE5b2VGQi9hREQ2WGE0SEpWTTQ4M3RKKzJN?=
 =?utf-8?B?OGFHNjdWUHJrOHpvbTdPZk1sWHVVdUNjU21oOER4b1owN1ZEMWx6UFlrbEU5?=
 =?utf-8?B?OHpqWFlGMXl6NFp5SWRSQmRKaHUxUHVOaDRiY3VFbi9SWWFqbkRsWU1wRm80?=
 =?utf-8?B?VmlaZ2NVYmdkb2lkcGRSR3N3UzBDM0hqb1pGejgwcU5XK0tkLzVxczlBa1dn?=
 =?utf-8?B?ckw0b1dVU3pneGkrR1orT2JPNVpmWStJdkEvWXFNay8zeXZvWkxzb1FaTmZI?=
 =?utf-8?B?cHhQSnZZZGZDaXpUWVZpLzFUVXlBODQ3MDE5Z2dLN3gzaWdURW5SdWdmdWJz?=
 =?utf-8?B?bUV3UWZtMTBFc3FzVFkzckdRQjI1ZDd0MjRnWG95RnhlNXA3dC9nUkltZGc4?=
 =?utf-8?B?cFJRbTR2TzFCM2FQYjVKSGxHM1FFdE9qWW1GcFluNmJmd0ZkWGRrMDQrRFVO?=
 =?utf-8?B?dGJBSjMrUEFwSkJqNG5QQUhFNW1UYktVU29Jcmh1YXFVRDl4TjFqWk5ldm00?=
 =?utf-8?B?Q3pzTFh5cmExZ2hYY0hCYjdjUGtPU3hFV2Q5L2lQQTA0KzRNcUh3ZGdvNDlP?=
 =?utf-8?B?QUxxc05xVEJocGhyNXpaSW1McFBIZ0JlTElFbGtWU3FWU3lyNWdiSHFLdXRI?=
 =?utf-8?B?Q1c0cUF1Y1ZHRkV4NGZOVFg0ZEp0N0VheXpicDY1ZjJydFZ4NjdDNlZzSHlV?=
 =?utf-8?B?MTVGWFg4cGl4dHh1V2JzY1pJckQ4dVRTTjdPL1hRTU44N0srWUZEaDVQcXAy?=
 =?utf-8?B?ZXpkSjdmV3Y2YWhGNTg2dGZtZkFUQlFWdTczWGlBengwSGp5MDIxdUgxS0th?=
 =?utf-8?B?QWNETjhmTDVBS05WcWVCNFNkaHJTTDZjbU9salJ6NG51allTYnFycGVCVjJU?=
 =?utf-8?B?QkEveTNSbUVJNVlGVURieUYxeXZTOHBIc1E4dGxlOVZDTkptaExMdDR0YkVG?=
 =?utf-8?B?c1lLUHRydTJpY0VSTFdyWm5MY1ZIMXNCV1VQSjgyakRjYnkvZDJvVXBSQ3pq?=
 =?utf-8?B?QTJHWUdhdGRkVG5NU01MU0JiRGM2aGZnc2ZmQjF4K3hsUW9KalFqSTY0eU9O?=
 =?utf-8?B?L1AyM3JvRUpOb1RDZDVGUDhaL3IrSjY0VFVBUVhobkJDWEpFRTl1NG8yZER5?=
 =?utf-8?B?S1MwYlFUdWFTRElVWkpwZ3VTNzhaaC9jWmh0N0F4OGlEZW5iNXU5Z1V2eHFO?=
 =?utf-8?B?UDdpV0o5aC85My9uckN6UXF5R3Bzd1ZiOHVDZ093QUZCemVoaEZEVHRGN0d6?=
 =?utf-8?B?TWRBRDJaRG54eFg3SkZPZ2UyQjdIdjFKNUMvZWZLd0pMdEhmNE5kamphQUFY?=
 =?utf-8?B?NmtLQVdzazUwK2dMS1B2cUpTMnExV0hGU2I2L1pJZjRaSHEzNjI3amEvVHlN?=
 =?utf-8?B?SXNDd3BpWFBZbkZKUGJQK0cvZlllcGhXSHNWSUNpNVpuVFZKUHpnY0J0dFh4?=
 =?utf-8?B?V2NBTTNGcElmTUdsb3ljdHdWbWlsQWV6V0FmMzVoSFN0OUpKbUF6TC85VVVF?=
 =?utf-8?B?dFYwVk1lSVc1WDNHUGJoMzJXNDF5QU1jWEVKTHFjQUJobERCUTY4QWdyRkJl?=
 =?utf-8?B?NjFlalkvbFV3QUNpSkpUVUpTUi9GU0IxNG94OUprVkZIZ3pkVmpENURMKy9m?=
 =?utf-8?Q?YlcY=3D?=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: DM4PR12MB5152.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: bc6ed455-2a81-47ac-adac-08ddd3ec9d81
X-MS-Exchange-CrossTenant-originalarrivaltime: 05 Aug 2025 06:52:16.4223 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: ZJ/FQeDFKuAZUHqURzi/0Ax3kWLu5Nw6GlwhHH8jZU/ELDqE8h3sQ7u9AoWQvD6IDmX8ZskbtzkkuYTiCjt3pw==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: SJ5PPFABE38415D
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

W0FNRCBPZmZpY2lhbCBVc2UgT25seSAtIEFNRCBJbnRlcm5hbCBEaXN0cmlidXRpb24gT25seV0N
Cg0KLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCkZyb206IEFsZXggRGV1Y2hlciA8YWxleGRl
dWNoZXJAZ21haWwuY29tPg0KU2VudDogVHVlc2RheSwgQXVndXN0IDUsIDIwMjUgMTowMyBBTQ0K
VG86IFpoYW5nLCBKZXNzZShKaWUpIDxKZXNzZS5aaGFuZ0BhbWQuY29tPg0KQ2M6IGFtZC1nZnhA
bGlzdHMuZnJlZWRlc2t0b3Aub3JnOyBEZXVjaGVyLCBBbGV4YW5kZXIgPEFsZXhhbmRlci5EZXVj
aGVyQGFtZC5jb20+OyBLb2VuaWcsIENocmlzdGlhbiA8Q2hyaXN0aWFuLktvZW5pZ0BhbWQuY29t
PjsgQ2hhdSwgS3lsZS1oYWkgPEt5bGUtaGFpLkNoYXVAYW1kLmNvbT4NClN1YmplY3Q6IFJlOiBb
djYgMDQvMTNdIGRybS9hbWRncHU6IEltcGxlbWVudCBhY3RpdmUgVk1JRCBkZXRlY3Rpb24gaW4g
TUVTMTEgcXVldWUgcmVzZXQgZm9yIEdGWA0KDQpPbiBNb24sIEF1ZyA0LCAyMDI1IGF0IDQ6NDji
gK9BTSBKZXNzZS5aaGFuZyA8SmVzc2UuWmhhbmdAYW1kLmNvbT4gd3JvdGU6DQo+DQo+IE1FUyBx
dWV1ZSByZXNldCBmdW5jdGlvbmFsaXR5IGZvciBHRlggcXVldWVzLiBUaGUgY2hhbmdlcyBpbmNs
dWRlOg0KPg0KPiAxLiBBZGRlZCBkZXRlY3Rpb24gb2YgYWN0aXZlIFZNSURzIGJ5IHJlYWRpbmcg
Q1BfQ05UWF9TVEFUIGFuZCBDUF9WTUlEDQo+ICAgIHJlZ2lzdGVycyB0byBwcm9wZXJseSBpZGVu
dGlmeSBjb250ZXh0cyB0aGF0IG5lZWQgcmVzZXR0aW5nDQo+DQo+IDIuIEltcGxlbWVudGVkIGZh
bGxiYWNrIHRvIEhQRCBzdGF0dXMgbWV0aG9kIHdoZW4gbm8gYWN0aXZlIFZNSURzIGFyZQ0KPiAg
ICBmb3VuZCwgY2hlY2tpbmcgYm90aCBwaXBlIDAgYW5kIHBpcGUgMSBxdWV1ZXMNCj4NCj4gMy4g
RXh0ZW5kZWQgdGhlIE1FUyByZXNldCBwYWNrZXQgd2l0aDoNCj4gICAgLSBhY3RpdmVfdm1pZHMg
Yml0bWFwDQo+ICAgIC0gY29ubmVjdGVkX3F1ZXVlX2luZGV4IGZvciBwaXBlIDANCj4gICAgLSBj
b25uZWN0ZWRfcXVldWVfaW5kZXhfcDEgZm9yIHBpcGUgMQ0KPg0KDQpEbyB3ZSBzdGlsbCBuZWVk
IHRoaXMgaWYgd2Ugc3dpdGNoIG92ZXIgdG8gc3VzcGVuZGluZyBxdWV1ZXMgYmVmb3JlIHdlIHJ1
biBkZXRlY3QgYW5kIHJlc2V0Pw0KICAgV2l0aCB0aGF0LCB3ZSBkb27igJl0JyBuZWVkIGl0LiBX
aWxsIGRyb3AgaXQNCg0KVGhhbmtzDQpKZXNzZQ0KDQpBbGV4DQoNCj4gU3VnZ2VzdGVkLWJ5OiBr
eWxlLWhhaS5jaGF1IDxreWxlLWhhaS5jaGF1QGFtZC5jb20+DQo+IFNpZ25lZC1vZmYtYnk6IEpl
c3NlIFpoYW5nIDxKZXNzZS5aaGFuZ0BhbWQuY29tPg0KPiAtLS0NCj4gIGRyaXZlcnMvZ3B1L2Ry
bS9hbWQvYW1kZ3B1L21lc192MTFfMC5jICAgICAgICB8IDUxICsrKysrKysrKysrKysrKysrKysN
Cj4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvaW5jbHVkZS9tZXNfdjExX2FwaV9kZWYuaCB8IDEzICsr
KystDQo+ICAyIGZpbGVzIGNoYW5nZWQsIDYzIGluc2VydGlvbnMoKyksIDEgZGVsZXRpb24oLSkN
Cj4NCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L21lc192MTFfMC5j
DQo+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvbWVzX3YxMV8wLmMNCj4gaW5kZXggZWQ2
YTdmOGFmNTQ0Li4xNDIyYmM1OWNkNDAgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9h
bWQvYW1kZ3B1L21lc192MTFfMC5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L21lc192MTFfMC5jDQo+IEBAIC03ODksNiArNzg5LDEyIEBAIHN0YXRpYyBpbnQgbWVzX3YxMV8w
X2RldGVjdF9hbmRfcmVzZXRfaHVuZ19xdWV1ZXMoc3RydWN0IGFtZGdwdV9tZXMgKm1lcywNCj4g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJ1Y3QN
Cj4gbWVzX2RldGVjdF9hbmRfcmVzZXRfcXVldWVfaW5wdXQgKmlucHV0KSAgew0KPiAgICAgICAg
IHVuaW9uIE1FU0FQSV9fUkVTRVQgbWVzX3Jlc2V0X3F1ZXVlX3BrdDsNCj4gKyAgICAgICBzdHJ1
Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IG1lcy0+YWRldjsNCj4gKyAgICAgICB1aW50MzJfdCBh
Y3RpdmVfdm1pZHMgPSAwOw0KPiArICAgICAgIHVpbnQzMl90IGNvbm5lY3RlZF9xdWV1ZV9pbmRl
eCA9IDA7DQo+ICsgICAgICAgdWludDMyX3QgcXVldWVfc3RhdHVzID0gMDsNCj4gKyAgICAgICB1
aW50MzJfdCBjb25uZWN0ZWRfcXVldWVfaW5kZXhfcDEgPSAwOw0KPiArICAgICAgIHVpbnQzMl90
IHF1ZXVlX3N0YXR1c19wMSA9IDA7DQo+DQo+ICAgICAgICAgbWVtc2V0KCZtZXNfcmVzZXRfcXVl
dWVfcGt0LCAwLCBzaXplb2YobWVzX3Jlc2V0X3F1ZXVlX3BrdCkpOw0KPg0KPiBAQCAtODAxLDYg
KzgwNyw1MSBAQCBzdGF0aWMgaW50IG1lc192MTFfMF9kZXRlY3RfYW5kX3Jlc2V0X2h1bmdfcXVl
dWVzKHN0cnVjdCBhbWRncHVfbWVzICptZXMsDQo+ICAgICAgICAgbWVzX3Jlc2V0X3F1ZXVlX3Br
dC5kb29yYmVsbF9vZmZzZXRfYWRkciA9DQo+ICAgICAgICAgICAgICAgICBtZXMtPmh1bmdfcXVl
dWVfZGJfYXJyYXlfZ3B1X2FkZHI7DQo+DQo+ICsgICAgICAgLyogQWRkIFZNSUQgZGV0ZWN0aW9u
IGZvciBHRlggcXVldWVzICovDQo+ICsgICAgICAgaWYgKGlucHV0LT5xdWV1ZV90eXBlID09IEFN
REdQVV9SSU5HX1RZUEVfR0ZYKSB7DQo+ICsgICAgICAgICAgICAgICB1aW50MzJfdCBjcF9jbnR4
X3N0YXQgPSBSUkVHMzJfU09DMTUoR0MsIDAsIHJlZ0NQX0NOVFhfU1RBVCk7DQo+ICsgICAgICAg
ICAgICAgICB1aW50MzJfdCBjcF92bWlkLCBncmJtX2dmeF9jbnRsOw0KPiArDQo+ICsgICAgICAg
ICAgICAgICAvKiBDaGVjayBhY3RpdmUgY29udGV4dHMgaW4gQ1BfQ05UWF9TVEFUICovDQo+ICsg
ICAgICAgICAgICAgICBmb3IgKHVpbnQzMl90IGkgPSAwOyBpIDwgODsgaSsrKSB7DQo+ICsgICAg
ICAgICAgICAgICAgICAgICAgIGlmICgoY3BfY250eF9zdGF0ID4+ICgweDE0ICsgaSkpICYgMHgx
KSB7DQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JibV9nZnhfY250bCA9IChp
IDw8IDExKTsNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXUkVHMzJfU09DMTUo
R0MsIDAsIHJlZ0dSQk1fR0ZYX0NOVEwsIGdyYm1fZ2Z4X2NudGwpOw0KPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGNwX3ZtaWQgPSBSUkVHMzJfU09DMTUoR0MsIDAsIHJlZ0NQX1ZN
SUQpOw0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZV92bWlkcyB8PSAo
MSA8PCBjcF92bWlkKTsNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgfQ0KPiArICAgICAgICAg
ICAgICAgfQ0KPiArDQo+ICsgICAgICAgICAgICAgICAvKiBGYWxsYmFjayB0byBIUEQgc3RhdHVz
IGlmIG5vIGFjdGl2ZSBWTUlEcyBmb3VuZCAqLw0KPiArICAgICAgICAgICAgICAgaWYgKGFjdGl2
ZV92bWlkcyA9PSAwKSB7DQo+ICsgICAgICAgICAgICAgICAgICAgICAgIHVpbnQzMl90IGhwZF9z
dGF0dXM7DQo+ICsNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgLyogUGlwZSAwICovDQo+ICsg
ICAgICAgICAgICAgICAgICAgICAgIFdSRUczMl9TT0MxNShHQywgMCwgcmVnR1JCTV9HRlhfQ05U
TCwgMCk7DQo+ICsgICAgICAgICAgICAgICAgICAgICAgIGhwZF9zdGF0dXMgPSBSUkVHMzJfU09D
MTUoR0MsIDAsIHJlZ0NQX0dGWF9IUERfU1RBVFVTMCk7DQo+ICsgICAgICAgICAgICAgICAgICAg
ICAgIHF1ZXVlX3N0YXR1cyA9IGhwZF9zdGF0dXMgJiAweDFGOw0KPiArICAgICAgICAgICAgICAg
ICAgICAgICBjb25uZWN0ZWRfcXVldWVfaW5kZXggPSAoaHBkX3N0YXR1cyAmIDB4RTApID4+DQo+
ICsgNTsNCj4gKw0KPiArICAgICAgICAgICAgICAgICAgICAgICAvKiBQaXBlIDEgKi8NCj4gKyAg
ICAgICAgICAgICAgICAgICAgICAgV1JFRzMyX1NPQzE1KEdDLCAwLCByZWdHUkJNX0dGWF9DTlRM
LCAoMSA8PCA2KSk7DQo+ICsgICAgICAgICAgICAgICAgICAgICAgIGhwZF9zdGF0dXMgPSBSUkVH
MzJfU09DMTUoR0MsIDAsIHJlZ0NQX0dGWF9IUERfU1RBVFVTMCk7DQo+ICsgICAgICAgICAgICAg
ICAgICAgICAgIHF1ZXVlX3N0YXR1c19wMSA9IGhwZF9zdGF0dXMgJiAweDFGOw0KPiArICAgICAg
ICAgICAgICAgICAgICAgICBjb25uZWN0ZWRfcXVldWVfaW5kZXhfcDEgPSAoaHBkX3N0YXR1cyAm
IDB4RTApID4+IDU7DQo+ICsgICAgICAgICAgICAgICB9DQo+ICsNCj4gKyAgICAgICAgICAgICAg
IG1lc19yZXNldF9xdWV1ZV9wa3QuYWN0aXZlX3ZtaWRzID0gYWN0aXZlX3ZtaWRzOw0KPiArICAg
ICAgICAgICAgICAgaWYgKGFjdGl2ZV92bWlkcyA9PSAwKSB7DQo+ICsgICAgICAgICAgICAgICAg
ICAgICAgIGlmIChxdWV1ZV9zdGF0dXMgIT0gMCkgew0KPiArICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIG1lc19yZXNldF9xdWV1ZV9wa3QudXNlX2Nvbm5lY3RlZF9xdWV1ZV9pbmRleCA9
IDE7DQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzX3Jlc2V0X3F1ZXVlX3Br
dC5jb25uZWN0ZWRfcXVldWVfaW5kZXggPSBjb25uZWN0ZWRfcXVldWVfaW5kZXg7DQo+ICsgICAg
ICAgICAgICAgICAgICAgICAgIH0NCj4gKyAgICAgICAgICAgICAgICAgICAgICAgaWYgKHF1ZXVl
X3N0YXR1c19wMSAhPSAwKSB7DQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVz
X3Jlc2V0X3F1ZXVlX3BrdC51c2VfY29ubmVjdGVkX3F1ZXVlX2luZGV4X3AxID0gMTsNCj4gKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNfcmVzZXRfcXVldWVfcGt0LmNvbm5lY3Rl
ZF9xdWV1ZV9pbmRleF9wMSA9IGNvbm5lY3RlZF9xdWV1ZV9pbmRleF9wMTsNCj4gKyAgICAgICAg
ICAgICAgICAgICAgICAgfQ0KPiArICAgICAgICAgICAgICAgfQ0KPiArICAgICAgIH0NCj4gKw0K
PiAgICAgICAgIGlmIChpbnB1dC0+ZGV0ZWN0X29ubHkpDQo+ICAgICAgICAgICAgICAgICBtZXNf
cmVzZXRfcXVldWVfcGt0LmhhbmdfZGV0ZWN0X29ubHkgPSAxOw0KPiAgICAgICAgIGVsc2UNCj4g
ZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvaW5jbHVkZS9tZXNfdjExX2FwaV9kZWYu
aA0KPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvaW5jbHVkZS9tZXNfdjExX2FwaV9kZWYuaA0KPiBp
bmRleCAxNTY4MGMzZjQ5NzAuLjYyYWQ0ZjAzMzdlYiAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9n
cHUvZHJtL2FtZC9pbmNsdWRlL21lc192MTFfYXBpX2RlZi5oDQo+ICsrKyBiL2RyaXZlcnMvZ3B1
L2RybS9hbWQvaW5jbHVkZS9tZXNfdjExX2FwaV9kZWYuaA0KPiBAQCAtNDYwLDcgKzQ2MCwxMSBA
QCB1bmlvbiBNRVNBUElfX1JFU0VUIHsNCj4gICAgICAgICAgICAgICAgICAgICAgICAgdWludDMy
X3QgICAgICAgICAgICAgICAgaGFuZ19kZXRlY3Rfb25seSA6IDE7DQo+ICAgICAgICAgICAgICAg
ICAgICAgICAgIC8qIFJlc3QgSFAgYW5kIExQIGtlcm5lbCBxdWV1ZXMgbm90IG1hbmFnZWQgYnkg
TUVTICovDQo+ICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQzMl90ICAgICAgICAgICAgICAg
IHJlc2V0X2xlZ2FjeV9nZnggOiAxOw0KPiAtICAgICAgICAgICAgICAgICAgICAgICB1aW50MzJf
dCAgICAgICAgICAgICAgICByZXNlcnZlZCA6IDI4Ow0KPiArICAgICAgICAgICAgICAgICAgICAg
ICAvKiBGYWxsYmFjayB0byB1c2UgY29ubmVjZXRlZCBxdWV1ZSBpbmRleCB3aGVuIENQX0NOVFhf
U1RBVCBtZXRob2QgZmFpbHMgKGdmeCBwaXBlIDApICovDQo+ICsgICAgICAgICAgICAgICAgICAg
ICAgIHVpbnQzMl90ICAgICAgICAgICAgICAgIHVzZV9jb25uZWN0ZWRfcXVldWVfaW5kZXggOiAx
Ow0KPiArICAgICAgICAgICAgICAgICAgICAgICAvKiBGb3IgZ2Z4IHBpcGUgMSAqLw0KPiArICAg
ICAgICAgICAgICAgICAgICAgICB1aW50MzJfdCAgICAgICAgICAgICAgICB1c2VfY29ubmVjdGVk
X3F1ZXVlX2luZGV4X3AxIDogMTsNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgdWludDMyX3Qg
ICAgICAgICAgICAgICAgcmVzZXJ2ZWQgOiAyNjsNCj4gICAgICAgICAgICAgICAgIH07DQo+DQo+
ICAgICAgICAgICAgICAgICB1aW50NjRfdCAgICAgICAgICAgICAgICAgICAgICAgIGdhbmdfY29u
dGV4dF9hZGRyOw0KPiBAQCAtNDg4LDYgKzQ5MiwxMyBAQCB1bmlvbiBNRVNBUElfX1JFU0VUIHsN
Cj4gICAgICAgICAgICAgICAgIHVpbnQ2NF90ICAgICAgICAgICAgICAgICAgICAgICAgd3B0cl9h
ZGRyX2hwOw0KPg0KPiAgICAgICAgICAgICAgICAgc3RydWN0IE1FU19BUElfU1RBVFVTICAgICAg
ICAgICBhcGlfc3RhdHVzOw0KPiArICAgICAgICAgICAgICAgdWludDMyX3QgICAgICAgICAgICAg
ICAgICAgICAgICBhY3RpdmVfdm1pZHM7DQo+ICsgICAgICAgICAgICAgICB1aW50NjRfdCAgICAg
ICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDsNCj4gKw0KPiArICAgICAgICAgICAgICAgdWlu
dDMyX3QgICAgICAgICAgICAgICAgICAgICAgICBnYW5nX2NvbnRleHRfYXJyYXlfaW5kZXg7DQo+
ICsNCj4gKyAgICAgICAgICAgICAgIHVpbnQzMl90ICAgICAgICAgICAgICAgICAgICAgICAgY29u
bmVjdGVkX3F1ZXVlX2luZGV4Ow0KPiArICAgICAgICAgICAgICAgdWludDMyX3QgICAgICAgICAg
ICAgICAgICAgICAgICBjb25uZWN0ZWRfcXVldWVfaW5kZXhfcDE7DQo+ICAgICAgICAgfTsNCj4N
Cj4gICAgICAgICB1aW50MzJfdCAgICAgICAgbWF4X2R3b3Jkc19pbl9hcGlbQVBJX0ZSQU1FX1NJ
WkVfSU5fRFdPUkRTXTsNCj4gLS0NCj4gMi40OS4wDQo+DQo=
