Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id ED3C2A20BF
	for <lists+amd-gfx@lfdr.de>; Thu, 29 Aug 2019 18:23:58 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7F17B6E12C;
	Thu, 29 Aug 2019 16:23:57 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM03-BY2-obe.outbound.protection.outlook.com
 (mail-eopbgr780052.outbound.protection.outlook.com [40.107.78.52])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A79A96E12C
 for <amd-gfx@lists.freedesktop.org>; Thu, 29 Aug 2019 16:23:55 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=mWfkFYof6X5D0auiuy1ctR4wZpZH2JfDolDv1hEg2MfGwGrY6DhcQJP9zflk2bCcCw7k45dtly8RVR4ndXUR3725O8kRoXMbgjNyME3XyUO5wvnBhdtKAlPBW5DkqCbo8mK25qakrjHDd6Y7vlrbf8F+CRIWRWTkek/Fxsx/pl8r5iWTIoWmXlRbfc0uVbd0CwIwEN2GIPjhe+/gEfPH/WZi1Te9hpbaNtVlTV5U2mnbmO5/WMHa0NkQST4W/oIQDpfyWDaONHlNELwHXC7IcCCdSxvOWeobi1AOzVcN/AOnqGzHzK9NR3YdTbuUzLXwFxwgDUdiajwz6GvfHKC0QQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=JghKAURdBc1SivSO5PMEFjWDr3Pw14uzNjHrzLs+i8Q=;
 b=MZNysC3UBSO9HuRwuKR29obeQO/2gaxBAoTYSKI9Uwddcn6PirOpxU3OMH3qNBOHh2hc4tcJ84xp/ellQOfOk/jtBGV4wAC5AJIcroBxXdNfdVCjKJmDgGRfjjiubaeDbnoH0qa4I90Ok48A8gh4RPc4cG5OXGJZr1R05YcWrEBqIhvAgHqBVXfd0+VyrSgh+sg5i29k+chr104M+VTd4XUXRpV+F521u8UiOJ6YDoJxSCsj8NmjGK3VV/2H1oujgb3i1rJDj2RXVgI/+pjnskMLn5Rnu5V+kQ2jUUI6QLqTe6DTS9A/6dQ6l/RZNn43yVqEbnu0+0voG5yEH9TnWg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=none (sender ip is
 165.204.84.17) smtp.rcpttodomain=ffwll.ch smtp.mailfrom=amd.com;
 dmarc=permerror action=none header.from=amd.com; dkim=none (message not
 signed); arc=none
Received: from BN4PR12CA0009.namprd12.prod.outlook.com (2603:10b6:403:2::19)
 by DM6PR12MB2713.namprd12.prod.outlook.com (2603:10b6:5:49::22) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2178.16; Thu, 29 Aug
 2019 16:23:54 +0000
Received: from BY2NAM03FT007.eop-NAM03.prod.protection.outlook.com
 (2a01:111:f400:7e4a::200) by BN4PR12CA0009.outlook.office365.com
 (2603:10b6:403:2::19) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2199.17 via Frontend
 Transport; Thu, 29 Aug 2019 16:23:53 +0000
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
Received: from SATLEXCHOV02.amd.com (165.204.84.17) by
 BY2NAM03FT007.mail.protection.outlook.com (10.152.84.70) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384) id
 15.20.2220.16 via Frontend Transport; Thu, 29 Aug 2019 16:23:53 +0000
Received: from blakha.amd.com (10.180.168.240) by SATLEXCHOV02.amd.com
 (10.181.40.72) with Microsoft SMTP Server id 14.3.389.1; Thu, 29 Aug 2019
 11:23:43 -0500
From: Bhawanpreet Lakha <Bhawanpreet.Lakha@amd.com>
To: <amd-gfx@lists.freedesktop.org>
Subject: [PATCH 04/20] drm/hdcp: gathering hdcp related code into drm_hdcp.c
Date: Thu, 29 Aug 2019 12:22:37 -0400
Message-ID: <20190829162253.10195-5-Bhawanpreet.Lakha@amd.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20190829162253.10195-1-Bhawanpreet.Lakha@amd.com>
References: <20190829162253.10195-1-Bhawanpreet.Lakha@amd.com>
MIME-Version: 1.0
X-EOPAttributedMessage: 0
X-MS-Office365-Filtering-HT: Tenant
X-Forefront-Antispam-Report: CIP:165.204.84.17; IPV:NLI; CTRY:US; EFV:NLI;
 SFV:NSPM;
 SFS:(10009020)(4636009)(346002)(376002)(39860400002)(136003)(396003)(2980300002)(428003)(189003)(199004)(316002)(6666004)(356004)(8936002)(14444005)(36756003)(47776003)(11346002)(476003)(966005)(70586007)(426003)(4326008)(486006)(6916009)(26005)(5024004)(186003)(126002)(6306002)(446003)(336012)(2616005)(8676002)(50226002)(81156014)(81166006)(2906002)(305945005)(478600001)(53936002)(50466002)(48376002)(1076003)(54906003)(5660300002)(53416004)(76176011)(16586007)(7696005)(2351001)(51416003)(86362001)(70206006);
 DIR:OUT; SFP:1101; SCL:1; SRVR:DM6PR12MB2713; H:SATLEXCHOV02.amd.com; FPR:;
 SPF:None; LANG:en; PTR:InfoDomainNonexistent; MX:1; A:1; 
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-Correlation-Id: 693fe192-05fa-4a55-2a77-08d72c9d48a1
X-Microsoft-Antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600166)(711020)(4605104)(1401327)(4618075)(2017052603328);
 SRVR:DM6PR12MB2713; 
X-MS-TrafficTypeDiagnostic: DM6PR12MB2713:
X-MS-Exchange-PUrlCount: 1
X-Microsoft-Antispam-PRVS: <DM6PR12MB271384541382A02773D0F02BF9A20@DM6PR12MB2713.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:7219;
X-Forefront-PRVS: 0144B30E41
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam-Message-Info: hY2E+OjWl6XldyBwaonKnGzBYoWbqj3gm2oSNJQFmsTIYD7ciOSh/l9t+y98uqic7NdOW46bPdXr4PGEDoHe7UPAPSifKOTJ482Lgea82mkR4cMlXWjIPkpfJcZ4+sK+OED1ASOVkrbmYkNqfV02PM/Vam2cqSdOToAcIo1by65ETEsdQ8b8Tc3s8wHeR5S8DL3RSPUBcEmuJ1JHBGmcQrjZxHWNKltyel/BxvjwkfBipJZmLBCq3JK7pr+VvMdBJ6qtw5u5oj8u/PlXsvdRplEHr6N3TUgay0sskO8CWjjxgn+koFViV9lymNeX5HMT5e1C4lDluGM/nh21sxh0x1nYfrnYXppeghpc/VjPmR57ix19U/8r98ORPtFUrLVOJlWY8+P9K4qlYnDXcRS94yBByXY5P17Nw/e+eflNaWY=
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 29 Aug 2019 16:23:53.4732 (UTC)
X-MS-Exchange-CrossTenant-Network-Message-Id: 693fe192-05fa-4a55-2a77-08d72c9d48a1
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-OriginalAttributedTenantConnectingIp: TenantId=3dd8961f-e488-4e60-8e11-a82d994e183d; Ip=[165.204.84.17];
 Helo=[SATLEXCHOV02.amd.com]
X-MS-Exchange-CrossTenant-FromEntityHeader: HybridOnPrem
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM6PR12MB2713
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=JghKAURdBc1SivSO5PMEFjWDr3Pw14uzNjHrzLs+i8Q=;
 b=UwaT0T6rCNwSKoa5gPwApv3ukNg8GdTzcqd16ijUnVkJyGMfxbhxWj6ORC9g0cet/T/VPzNjK4KG25DUPwHBLc7nzCeUl2K50a9DGaE9ehbJW9T7j2zTtSCkLnguoeyq5ZI/F+QBdu0xY4PURA/R/VcS6MhwEv7NR5DhO4m3d3M=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is
 165.204.84.17)
 smtp.mailfrom=amd.com; ffwll.ch; dkim=none (message not signed)
 header.d=none;ffwll.ch; dmarc=permerror action=none header.from=amd.com;
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Ramalingam C <ramalingam.c@intel.com>,
 Daniel Vetter <daniel.vetter@ffwll.ch>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogUmFtYWxpbmdhbSBDIDxyYW1hbGluZ2FtLmNAaW50ZWwuY29tPgoKQ29uc2lkZXJpbmcg
dGhlIHNpZ25pZmljYW50IHNpemUgb2YgaGRjcCByZWxhdGVkIGNvZGUgaW4gZHJtLCBhbGwKaGRj
cCByZWxhdGVkIGNvZGVzIGFyZSBtb3ZlZCBpbnRvIHNlcGFyYXRlIGZpbGUgY2FsbGVkIGRybV9o
ZGNwLmMuCgp2MjoKICBSZWJhc2VkLgp2MjoKICBSZWJhc2VkLgoKU2lnbmVkLW9mZi1ieTogUmFt
YWxpbmdhbSBDIDxyYW1hbGluZ2FtLmNAaW50ZWwuY29tPgpTdWdnZXN0ZWQtYnk6IERhbmllbCBW
ZXR0ZXIgPGRhbmllbEBmZndsbC5jaD4KUmV2aWV3ZWQtYnk6IERhbmllbCBWZXR0ZXIgPGRhbmll
bC52ZXR0ZXJAZmZ3bGwuY2g+CkFja2VkLWJ5OiBEYXZlIEFpcmxpZSA8YWlybGllZEBnbWFpbC5j
b20+ClNpZ25lZC1vZmYtYnk6IERhbmllbCBWZXR0ZXIgPGRhbmllbC52ZXR0ZXJAZmZ3bGwuY2g+
Ckxpbms6IGh0dHBzOi8vcGF0Y2h3b3JrLmZyZWVkZXNrdG9wLm9yZy9wYXRjaC9tc2dpZC8yMDE5
MDUwNzE2Mjc0NS4yNTYwMC03LXJhbWFsaW5nYW0uY0BpbnRlbC5jb20KLS0tCiBkcml2ZXJzL2dw
dS9kcm0vZHJtX2Nvbm5lY3Rvci5jIHwgNDQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
CiBkcml2ZXJzL2dwdS9kcm0vZHJtX2hkY3AuYyAgICAgIHwgNDcgKysrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrCiBpbmNsdWRlL2RybS9kcm1fY29ubmVjdG9yLmggICAgIHwgIDIgLS0K
IGluY2x1ZGUvZHJtL2RybV9oZGNwLmggICAgICAgICAgfCAgMyArKysKIDQgZmlsZXMgY2hhbmdl
ZCwgNTAgaW5zZXJ0aW9ucygrKSwgNDYgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2RybV9jb25uZWN0b3IuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1fY29ubmVjdG9y
LmMKaW5kZXggMDQ5MGMyMDQxMjJkLi4xMWZjZDI1YmM2NDAgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9kcm1fY29ubmVjdG9yLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2RybV9jb25uZWN0
b3IuYwpAQCAtODIzLDEzICs4MjMsNiBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9wcm9wX2Vu
dW1fbGlzdCBkcm1fdHZfc3ViY29ubmVjdG9yX2VudW1fbGlzdFtdID0gewogRFJNX0VOVU1fTkFN
RV9GTihkcm1fZ2V0X3R2X3N1YmNvbm5lY3Rvcl9uYW1lLAogCQkgZHJtX3R2X3N1YmNvbm5lY3Rv
cl9lbnVtX2xpc3QpCiAKLXN0YXRpYyBzdHJ1Y3QgZHJtX3Byb3BfZW51bV9saXN0IGRybV9jcF9l
bnVtX2xpc3RbXSA9IHsKLQl7IERSTV9NT0RFX0NPTlRFTlRfUFJPVEVDVElPTl9VTkRFU0lSRUQs
ICJVbmRlc2lyZWQiIH0sCi0JeyBEUk1fTU9ERV9DT05URU5UX1BST1RFQ1RJT05fREVTSVJFRCwg
IkRlc2lyZWQiIH0sCi0JeyBEUk1fTU9ERV9DT05URU5UX1BST1RFQ1RJT05fRU5BQkxFRCwgIkVu
YWJsZWQiIH0sCi19OwotRFJNX0VOVU1fTkFNRV9GTihkcm1fZ2V0X2NvbnRlbnRfcHJvdGVjdGlv
bl9uYW1lLCBkcm1fY3BfZW51bV9saXN0KQotCiBzdGF0aWMgY29uc3Qgc3RydWN0IGRybV9wcm9w
X2VudW1fbGlzdCBoZG1pX2NvbG9yc3BhY2VzW10gPSB7CiAJLyogRm9yIERlZmF1bHQgY2FzZSwg
ZHJpdmVyIHdpbGwgc2V0IHRoZSBjb2xvcnNwYWNlICovCiAJeyBEUk1fTU9ERV9DT0xPUklNRVRS
WV9ERUZBVUxULCAiRGVmYXVsdCIgfSwKQEAgLTE1MDksNDMgKzE1MDIsNiBAQCBpbnQgZHJtX2Nv
bm5lY3Rvcl9hdHRhY2hfc2NhbGluZ19tb2RlX3Byb3BlcnR5KHN0cnVjdCBkcm1fY29ubmVjdG9y
ICpjb25uZWN0b3IsCiB9CiBFWFBPUlRfU1lNQk9MKGRybV9jb25uZWN0b3JfYXR0YWNoX3NjYWxp
bmdfbW9kZV9wcm9wZXJ0eSk7CiAKLS8qKgotICogZHJtX2Nvbm5lY3Rvcl9hdHRhY2hfY29udGVu
dF9wcm90ZWN0aW9uX3Byb3BlcnR5IC0gYXR0YWNoIGNvbnRlbnQgcHJvdGVjdGlvbgotICogcHJv
cGVydHkKLSAqCi0gKiBAY29ubmVjdG9yOiBjb25uZWN0b3IgdG8gYXR0YWNoIENQIHByb3BlcnR5
IG9uLgotICoKLSAqIFRoaXMgaXMgdXNlZCB0byBhZGQgc3VwcG9ydCBmb3IgY29udGVudCBwcm90
ZWN0aW9uIG9uIHNlbGVjdCBjb25uZWN0b3JzLgotICogQ29udGVudCBQcm90ZWN0aW9uIGlzIGlu
dGVudGlvbmFsbHkgdmFndWUgdG8gYWxsb3cgZm9yIGRpZmZlcmVudCB1bmRlcmx5aW5nCi0gKiB0
ZWNobm9sb2dpZXMsIGhvd2V2ZXIgaXQgaXMgbW9zdCBpbXBsZW1lbnRlZCBieSBIRENQLgotICoK
LSAqIFRoZSBjb250ZW50IHByb3RlY3Rpb24gd2lsbCBiZSBzZXQgdG8gJmRybV9jb25uZWN0b3Jf
c3RhdGUuY29udGVudF9wcm90ZWN0aW9uCi0gKgotICogUmV0dXJuczoKLSAqIFplcm8gb24gc3Vj
Y2VzcywgbmVnYXRpdmUgZXJybm8gb24gZmFpbHVyZS4KLSAqLwotaW50IGRybV9jb25uZWN0b3Jf
YXR0YWNoX2NvbnRlbnRfcHJvdGVjdGlvbl9wcm9wZXJ0eSgKLQkJc3RydWN0IGRybV9jb25uZWN0
b3IgKmNvbm5lY3RvcikKLXsKLQlzdHJ1Y3QgZHJtX2RldmljZSAqZGV2ID0gY29ubmVjdG9yLT5k
ZXY7Ci0Jc3RydWN0IGRybV9wcm9wZXJ0eSAqcHJvcCA9Ci0JCQlkZXYtPm1vZGVfY29uZmlnLmNv
bnRlbnRfcHJvdGVjdGlvbl9wcm9wZXJ0eTsKLQotCWlmICghcHJvcCkKLQkJcHJvcCA9IGRybV9w
cm9wZXJ0eV9jcmVhdGVfZW51bShkZXYsIDAsICJDb250ZW50IFByb3RlY3Rpb24iLAotCQkJCQkJ
ZHJtX2NwX2VudW1fbGlzdCwKLQkJCQkJCUFSUkFZX1NJWkUoZHJtX2NwX2VudW1fbGlzdCkpOwot
CWlmICghcHJvcCkKLQkJcmV0dXJuIC1FTk9NRU07Ci0KLQlkcm1fb2JqZWN0X2F0dGFjaF9wcm9w
ZXJ0eSgmY29ubmVjdG9yLT5iYXNlLCBwcm9wLAotCQkJCSAgIERSTV9NT0RFX0NPTlRFTlRfUFJP
VEVDVElPTl9VTkRFU0lSRUQpOwotCWRldi0+bW9kZV9jb25maWcuY29udGVudF9wcm90ZWN0aW9u
X3Byb3BlcnR5ID0gcHJvcDsKLQotCXJldHVybiAwOwotfQotRVhQT1JUX1NZTUJPTChkcm1fY29u
bmVjdG9yX2F0dGFjaF9jb250ZW50X3Byb3RlY3Rpb25fcHJvcGVydHkpOwotCiAvKioKICAqIGRy
bV9tb2RlX2NyZWF0ZV9hc3BlY3RfcmF0aW9fcHJvcGVydHkgLSBjcmVhdGUgYXNwZWN0IHJhdGlv
IHByb3BlcnR5CiAgKiBAZGV2OiBEUk0gZGV2aWNlCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vZHJtX2hkY3AuYyBiL2RyaXZlcnMvZ3B1L2RybS9kcm1faGRjcC5jCmluZGV4IDVlNTQwOTUw
NWMzMS4uMGRhN2IzNzE4YmFkIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vZHJtX2hkY3Au
YworKysgYi9kcml2ZXJzL2dwdS9kcm0vZHJtX2hkY3AuYwpAQCAtMTcsNiArMTcsOSBAQAogI2lu
Y2x1ZGUgPGRybS9kcm1fc3lzZnMuaD4KICNpbmNsdWRlIDxkcm0vZHJtX3ByaW50Lmg+CiAjaW5j
bHVkZSA8ZHJtL2RybV9kZXZpY2UuaD4KKyNpbmNsdWRlIDxkcm0vZHJtX3Byb3BlcnR5Lmg+Cisj
aW5jbHVkZSA8ZHJtL2RybV9tb2RlX29iamVjdC5oPgorI2luY2x1ZGUgPGRybS9kcm1fY29ubmVj
dG9yLmg+CiAKIHN0cnVjdCBoZGNwX3NybSB7CiAJdTMyIHJldm9rZWRfa3N2X2NudDsKQEAgLTMz
MSwzICszMzQsNDcgQEAgdm9pZCBkcm1fdGVhcmRvd25faGRjcF9zcm0oc3RydWN0IGNsYXNzICpk
cm1fY2xhc3MpCiAJCWtmcmVlKHNybV9kYXRhKTsKIAl9CiB9CisKK3N0YXRpYyBzdHJ1Y3QgZHJt
X3Byb3BfZW51bV9saXN0IGRybV9jcF9lbnVtX2xpc3RbXSA9IHsKKwl7IERSTV9NT0RFX0NPTlRF
TlRfUFJPVEVDVElPTl9VTkRFU0lSRUQsICJVbmRlc2lyZWQiIH0sCisJeyBEUk1fTU9ERV9DT05U
RU5UX1BST1RFQ1RJT05fREVTSVJFRCwgIkRlc2lyZWQiIH0sCisJeyBEUk1fTU9ERV9DT05URU5U
X1BST1RFQ1RJT05fRU5BQkxFRCwgIkVuYWJsZWQiIH0sCit9OworRFJNX0VOVU1fTkFNRV9GTihk
cm1fZ2V0X2NvbnRlbnRfcHJvdGVjdGlvbl9uYW1lLCBkcm1fY3BfZW51bV9saXN0KQorCisvKioK
KyAqIGRybV9jb25uZWN0b3JfYXR0YWNoX2NvbnRlbnRfcHJvdGVjdGlvbl9wcm9wZXJ0eSAtIGF0
dGFjaCBjb250ZW50IHByb3RlY3Rpb24KKyAqIHByb3BlcnR5CisgKgorICogQGNvbm5lY3Rvcjog
Y29ubmVjdG9yIHRvIGF0dGFjaCBDUCBwcm9wZXJ0eSBvbi4KKyAqCisgKiBUaGlzIGlzIHVzZWQg
dG8gYWRkIHN1cHBvcnQgZm9yIGNvbnRlbnQgcHJvdGVjdGlvbiBvbiBzZWxlY3QgY29ubmVjdG9y
cy4KKyAqIENvbnRlbnQgUHJvdGVjdGlvbiBpcyBpbnRlbnRpb25hbGx5IHZhZ3VlIHRvIGFsbG93
IGZvciBkaWZmZXJlbnQgdW5kZXJseWluZworICogdGVjaG5vbG9naWVzLCBob3dldmVyIGl0IGlz
IG1vc3QgaW1wbGVtZW50ZWQgYnkgSERDUC4KKyAqCisgKiBUaGUgY29udGVudCBwcm90ZWN0aW9u
IHdpbGwgYmUgc2V0IHRvICZkcm1fY29ubmVjdG9yX3N0YXRlLmNvbnRlbnRfcHJvdGVjdGlvbgor
ICoKKyAqIFJldHVybnM6CisgKiBaZXJvIG9uIHN1Y2Nlc3MsIG5lZ2F0aXZlIGVycm5vIG9uIGZh
aWx1cmUuCisgKi8KK2ludCBkcm1fY29ubmVjdG9yX2F0dGFjaF9jb250ZW50X3Byb3RlY3Rpb25f
cHJvcGVydHkoCisJCXN0cnVjdCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpCit7CisJc3RydWN0
IGRybV9kZXZpY2UgKmRldiA9IGNvbm5lY3Rvci0+ZGV2OworCXN0cnVjdCBkcm1fcHJvcGVydHkg
KnByb3AgPQorCQkJZGV2LT5tb2RlX2NvbmZpZy5jb250ZW50X3Byb3RlY3Rpb25fcHJvcGVydHk7
CisKKwlpZiAoIXByb3ApCisJCXByb3AgPSBkcm1fcHJvcGVydHlfY3JlYXRlX2VudW0oZGV2LCAw
LCAiQ29udGVudCBQcm90ZWN0aW9uIiwKKwkJCQkJCWRybV9jcF9lbnVtX2xpc3QsCisJCQkJCQlB
UlJBWV9TSVpFKGRybV9jcF9lbnVtX2xpc3QpKTsKKwlpZiAoIXByb3ApCisJCXJldHVybiAtRU5P
TUVNOworCisJZHJtX29iamVjdF9hdHRhY2hfcHJvcGVydHkoJmNvbm5lY3Rvci0+YmFzZSwgcHJv
cCwKKwkJCQkgICBEUk1fTU9ERV9DT05URU5UX1BST1RFQ1RJT05fVU5ERVNJUkVEKTsKKwlkZXYt
Pm1vZGVfY29uZmlnLmNvbnRlbnRfcHJvdGVjdGlvbl9wcm9wZXJ0eSA9IHByb3A7CisKKwlyZXR1
cm4gMDsKK30KK0VYUE9SVF9TWU1CT0woZHJtX2Nvbm5lY3Rvcl9hdHRhY2hfY29udGVudF9wcm90
ZWN0aW9uX3Byb3BlcnR5KTsKZGlmZiAtLWdpdCBhL2luY2x1ZGUvZHJtL2RybV9jb25uZWN0b3Iu
aCBiL2luY2x1ZGUvZHJtL2RybV9jb25uZWN0b3IuaAppbmRleCA1ZTQxOTQyZTU2NzkuLmRhOWUx
ZjA4N2ZlNCAxMDA2NDQKLS0tIGEvaW5jbHVkZS9kcm0vZHJtX2Nvbm5lY3Rvci5oCisrKyBiL2lu
Y2x1ZGUvZHJtL2RybV9jb25uZWN0b3IuaApAQCAtMTMzOSw4ICsxMzM5LDYgQEAgaW50IGRybV9j
b25uZWN0b3JfYXR0YWNoX3NjYWxpbmdfbW9kZV9wcm9wZXJ0eShzdHJ1Y3QgZHJtX2Nvbm5lY3Rv
ciAqY29ubmVjdG9yLAogCQkJCQkgICAgICAgdTMyIHNjYWxpbmdfbW9kZV9tYXNrKTsKIGludCBk
cm1fY29ubmVjdG9yX2F0dGFjaF92cnJfY2FwYWJsZV9wcm9wZXJ0eSgKIAkJc3RydWN0IGRybV9j
b25uZWN0b3IgKmNvbm5lY3Rvcik7Ci1pbnQgZHJtX2Nvbm5lY3Rvcl9hdHRhY2hfY29udGVudF9w
cm90ZWN0aW9uX3Byb3BlcnR5KAotCQlzdHJ1Y3QgZHJtX2Nvbm5lY3RvciAqY29ubmVjdG9yKTsK
IGludCBkcm1fbW9kZV9jcmVhdGVfYXNwZWN0X3JhdGlvX3Byb3BlcnR5KHN0cnVjdCBkcm1fZGV2
aWNlICpkZXYpOwogaW50IGRybV9tb2RlX2NyZWF0ZV9jb2xvcnNwYWNlX3Byb3BlcnR5KHN0cnVj
dCBkcm1fY29ubmVjdG9yICpjb25uZWN0b3IpOwogaW50IGRybV9tb2RlX2NyZWF0ZV9jb250ZW50
X3R5cGVfcHJvcGVydHkoc3RydWN0IGRybV9kZXZpY2UgKmRldik7CmRpZmYgLS1naXQgYS9pbmNs
dWRlL2RybS9kcm1faGRjcC5oIGIvaW5jbHVkZS9kcm0vZHJtX2hkY3AuaAppbmRleCAyZjAzMzVk
MGE1MGYuLjEzNzcxYTQ5NmUyYiAxMDA2NDQKLS0tIGEvaW5jbHVkZS9kcm0vZHJtX2hkY3AuaAor
KysgYi9pbmNsdWRlL2RybS9kcm1faGRjcC5oCkBAIC0yODYsNyArMjg2LDEwIEBAIHN0cnVjdCBo
ZGNwX3NybV9oZWFkZXIgewogfSBfX3BhY2tlZDsKIAogc3RydWN0IGRybV9kZXZpY2U7CitzdHJ1
Y3QgZHJtX2Nvbm5lY3RvcjsKIAogYm9vbCBkcm1faGRjcF9jaGVja19rc3ZzX3Jldm9rZWQoc3Ry
dWN0IGRybV9kZXZpY2UgKmRldiwKIAkJCQkgdTggKmtzdnMsIHUzMiBrc3ZfY291bnQpOworaW50
IGRybV9jb25uZWN0b3JfYXR0YWNoX2NvbnRlbnRfcHJvdGVjdGlvbl9wcm9wZXJ0eSgKKwkJc3Ry
dWN0IGRybV9jb25uZWN0b3IgKmNvbm5lY3Rvcik7CiAjZW5kaWYKLS0gCjIuMTcuMQoKX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5n
IGxpc3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVz
a3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4
