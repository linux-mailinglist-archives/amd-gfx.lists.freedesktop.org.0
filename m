Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 0AD3EAEC7C
	for <lists+amd-gfx@lfdr.de>; Tue, 10 Sep 2019 15:55:20 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 671546E901;
	Tue, 10 Sep 2019 13:55:16 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM05-CO1-obe.outbound.protection.outlook.com
 (mail-eopbgr720068.outbound.protection.outlook.com [40.107.72.68])
 by gabe.freedesktop.org (Postfix) with ESMTPS id F2B9089580
 for <amd-gfx@lists.freedesktop.org>; Tue, 10 Sep 2019 13:55:06 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=aqVhcwe2L3BlYO6fSfU5a46Zww8VkORu56cH6WGG1J2UJUY8XcItbDGBIbpix3jP+yQNSAmoDJZZHLjBs6duIKSetWgCxs+dtIT5Pz0f0ya7z2YxcYNcoKPxEgwWMYzS2zaqs7tfg0W3h0AFfDcmszDZCikBfocdbctvuFoGvuCm+19v4dWKMviYD4l9YyhUL7FqhrYB5ajjtjjKNCQK8m/ac2i+69pTbBzjzM4Yi38IsTXOOgFjbxK0zxKRjuJIrZ1f2lwAuXo8UxUxagK38MYVADC/AYl6ya2/qBuo9P65nFabY9Ui6TTBkCBKoadhn3bycsdwCu6bHzUra2M4eQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=m1/m1V3aT2OjbOT2G8VoSC2HSLHsaLRJX5IS7LT0rVc=;
 b=E8IGd0nrPU2iuSOPSjmr329OGxIxnDBaMyrfJUD91NU6VA15830qXAROTQ1Mjf4rG6I1ViXkZOD9BNnubUaoJeDPUpAWaMe/oeLC5b412HSpZ65TyE1qn9BdoJjQSU3noKi2wUZeG7QExPGCUbgAnJs6GDGUb4xIG8MuaTdnWq6I+45fwocS2lwBSQ0UNkCCfRWSr3sWeufAaY2dCDWfwIP/g0d1dCcEJXieXEOxROZ38ygp12HMlBM3J9xgP69KGVabCzx7vF9ZojWrnTediHUm+LGDKXwWtqixYkYvvcB9QWXEHBtq7g8iji/WV1zSMJ+iTL+VAPGXydThZZgPkg==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=none (sender ip is
 165.204.84.17) smtp.rcpttodomain=lists.freedesktop.org smtp.mailfrom=amd.com; 
 dmarc=permerror action=none header.from=amd.com; dkim=none (message not
 signed); arc=none
Received: from CH2PR12CA0023.namprd12.prod.outlook.com (2603:10b6:610:57::33)
 by DM5PR12MB1865.namprd12.prod.outlook.com (2603:10b6:3:10b::23) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2241.15; Tue, 10 Sep
 2019 13:55:04 +0000
Received: from CO1NAM03FT025.eop-NAM03.prod.protection.outlook.com
 (2a01:111:f400:7e48::208) by CH2PR12CA0023.outlook.office365.com
 (2603:10b6:610:57::33) with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.2241.15 via Frontend
 Transport; Tue, 10 Sep 2019 13:55:04 +0000
Received-SPF: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
Received: from SATLEXCHOV01.amd.com (165.204.84.17) by
 CO1NAM03FT025.mail.protection.outlook.com (10.152.80.163) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384) id
 15.20.2241.14 via Frontend Transport; Tue, 10 Sep 2019 13:55:04 +0000
Received: from localhost.localdomain (10.180.168.240) by SATLEXCHOV01.amd.com
 (10.181.40.71) with Microsoft SMTP Server id 14.3.389.1;
 Tue, 10 Sep 2019 08:54:58 -0500
From: <sunpeng.li@amd.com>
To: <amd-gfx@lists.freedesktop.org>
Subject: [PATCH 14/25] drm/amd/display: Revert fixup DPP programming sequence
Date: Tue, 10 Sep 2019 09:54:34 -0400
Message-ID: <20190910135445.18300-15-sunpeng.li@amd.com>
X-Mailer: git-send-email 2.22.0
In-Reply-To: <20190910135445.18300-1-sunpeng.li@amd.com>
References: <20190910135445.18300-1-sunpeng.li@amd.com>
MIME-Version: 1.0
X-EOPAttributedMessage: 0
X-MS-Office365-Filtering-HT: Tenant
X-Forefront-Antispam-Report: CIP:165.204.84.17; IPV:NLI; CTRY:US; EFV:NLI;
 SFV:NSPM;
 SFS:(10009020)(4636009)(396003)(136003)(346002)(376002)(39860400002)(2980300002)(428003)(199004)(189003)(426003)(446003)(76176011)(305945005)(1076003)(2616005)(2876002)(486006)(8936002)(49486002)(53936002)(8676002)(126002)(2870700001)(81156014)(48376002)(11346002)(4326008)(50466002)(5660300002)(47776003)(50226002)(478600001)(6916009)(186003)(54906003)(81166006)(2351001)(316002)(476003)(30864003)(2906002)(70586007)(336012)(36756003)(70206006)(26005)(86362001)(6666004)(51416003)(356004)(14444005);
 DIR:OUT; SFP:1101; SCL:1; SRVR:DM5PR12MB1865; H:SATLEXCHOV01.amd.com; FPR:;
 SPF:None; LANG:en; PTR:InfoDomainNonexistent; A:1; MX:1; 
X-MS-PublicTrafficType: Email
X-MS-Office365-Filtering-Correlation-Id: 0d74bc7a-c22b-4ee0-8b2f-08d735f67b5e
X-Microsoft-Antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600166)(711020)(4605104)(1401327)(4618075)(2017052603328);
 SRVR:DM5PR12MB1865; 
X-MS-TrafficTypeDiagnostic: DM5PR12MB1865:
X-Microsoft-Antispam-PRVS: <DM5PR12MB1865F7C839BB975E0F9A166F82B60@DM5PR12MB1865.namprd12.prod.outlook.com>
X-MS-Oob-TLC-OOBClassifiers: OLM:862;
X-Forefront-PRVS: 01565FED4C
X-MS-Exchange-SenderADCheck: 1
X-Microsoft-Antispam-Message-Info: /610EJcZWPWJ/TjXNsArCP718JqDXgkvCRGL5+KRdClSQJuDfh0o2IByT0Ck7IvpsQ7+1NCZD0+M1lc+ytzqDDg4ZO77DkGLllMx2dNZ8I/6yQew5GqzVd/ay5PyFqTlOLYX6ykirKh3pqyIzBYl6uONUohL45q/McacCJFHNSNNknBM1u4u3JY8/PPdK6p2e3CTp82RQAN8X7HLAntacnD/2eK3GsLiiDAhloRhOcEZ54JorbWdcDTXgAeNfhBeKrogMwbrT8b5xC5oju0Zju13HxA8rap5Z6hSnTBYT43T1f2ETGxSB2VSxfBffkhKzcJ3kGPQKsqwWSg60ftdcC6nid/vDeNGn2WSEsCtCl55vfPr9qQ6p9537twrBb/TI9ONq0CntKHDNJn+05dqPZegpqK9C2DSMs3o3/zhchg=
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-OriginalArrivalTime: 10 Sep 2019 13:55:04.2173 (UTC)
X-MS-Exchange-CrossTenant-Network-Message-Id: 0d74bc7a-c22b-4ee0-8b2f-08d735f67b5e
X-MS-Exchange-CrossTenant-Id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-OriginalAttributedTenantConnectingIp: TenantId=3dd8961f-e488-4e60-8e11-a82d994e183d; Ip=[165.204.84.17];
 Helo=[SATLEXCHOV01.amd.com]
X-MS-Exchange-CrossTenant-FromEntityHeader: HybridOnPrem
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM5PR12MB1865
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=m1/m1V3aT2OjbOT2G8VoSC2HSLHsaLRJX5IS7LT0rVc=;
 b=na8bY9EdZfkeHVuohNkW/G6uJpyKNDxK0iJIK/k7QwuQKLe7GuDrxm419ryuUMw+rYtYiQD1Q2cvVPUDoHNfvtGUgEBp7lrl+AeN+GyuK3DWkcZglyk3+8JvlfURo/hwMwUJq4vkjfTNwCpxArj24XrmcZT21V06OFb58Bb0isk=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is
 165.204.84.17)
 smtp.mailfrom=amd.com; lists.freedesktop.org; dkim=none (message not signed)
 header.d=none;lists.freedesktop.org; dmarc=permerror action=none
 header.from=amd.com;
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: Leo Li <sunpeng.li@amd.com>,
 Dmytro Laktyushkin <Dmytro.Laktyushkin@amd.com>,
 Anthony Koo <Anthony.Koo@amd.com>, Wesley Chalmers <Wesley.Chalmers@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

RnJvbTogV2VzbGV5IENoYWxtZXJzIDxXZXNsZXkuQ2hhbG1lcnNAYW1kLmNvbT4KCltXSFldClRo
aXMgY2hhbmdlIHdhcyBtYWRlIGJlY2F1c2UgRFRPIHByb2dyYW1taW5nIHdhcyBkb3VibGUtYnVm
ZmVyZWQsIHdoaWNoCmlzIGl0c2VsZiBhbiBpc3N1ZS4gQWZ0ZXIgZGVhY3RpdmF0aW5nIHRoZSBE
VE8gZG91YmxlIGJ1ZmZlciwgdGhpcwpjaGFuZ2UgYmVjb21lcyB1bm5lY2Vzc2FyeS4KClRoaXMg
cmV2ZXJ0cyBjb21taXQgNzlhMGZlZGE0MzA2YTJlNDY4NzJmZmZkMWU1NTA3YjhlMTc4NTI0NAoK
U2lnbmVkLW9mZi1ieTogV2VzbGV5IENoYWxtZXJzIDxXZXNsZXkuQ2hhbG1lcnNAYW1kLmNvbT4K
UmV2aWV3ZWQtYnk6IERteXRybyBMYWt0eXVzaGtpbiA8RG15dHJvLkxha3R5dXNoa2luQGFtZC5j
b20+CkFja2VkLWJ5OiBBbnRob255IEtvbyA8QW50aG9ueS5Lb29AYW1kLmNvbT4KQWNrZWQtYnk6
IExlbyBMaSA8c3VucGVuZy5saUBhbWQuY29tPgotLS0KIC4uLi9kaXNwbGF5L2RjL2Nsa19tZ3Iv
ZGNuMjAvZGNuMjBfY2xrX21nci5jICB8IDExMSArKysrKystLS0tLS0tLS0tLS0KIGRyaXZlcnMv
Z3B1L2RybS9hbWQvZGlzcGxheS9kYy9jb3JlL2RjLmMgICAgICB8ICAgMyAtCiAuLi4vYW1kL2Rp
c3BsYXkvZGMvZGNuMTAvZGNuMTBfaHdfc2VxdWVuY2VyLmMgfCAgIDMgKy0KIC4uLi9ncHUvZHJt
L2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIwX2RjY2cuYyB8ICAzMSArLS0tLQogLi4uL2dwdS9k
cm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjAvZGNuMjBfZGNjZy5oIHwgICAyICstCiAuLi4vZHJtL2Ft
ZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIwX2h3c2VxLmMgICAgfCAgIDMgKy0KIC4uLi9kcm0vYW1k
L2Rpc3BsYXkvZGMvZGNuMjAvZGNuMjBfcmVzb3VyY2UuYyB8ICAgMiArLQogLi4uL2dwdS9kcm0v
YW1kL2Rpc3BsYXkvZGMvaW5jL2NvcmVfdHlwZXMuaCAgIHwgICAxICsKIC4uLi9hbWQvZGlzcGxh
eS9kYy9pbmMvaHcvY2xrX21ncl9pbnRlcm5hbC5oICB8ICAxMCArLQogZHJpdmVycy9ncHUvZHJt
L2FtZC9kaXNwbGF5L2RjL2luYy9ody9kY2NnLmggIHwgICAzICstCiAxMCBmaWxlcyBjaGFuZ2Vk
LCA0OCBpbnNlcnRpb25zKCspLCAxMjEgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvZHJpdmVy
cy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2Nsa19tZ3IvZGNuMjAvZGNuMjBfY2xrX21nci5jIGIv
ZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2Nsa19tZ3IvZGNuMjAvZGNuMjBfY2xrX21n
ci5jCmluZGV4IGYxZGYzMjY2NDQxNC4uNTU5ZTE2OTgzZjkxIDEwMDY0NAotLS0gYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvY2xrX21nci9kY24yMC9kY24yMF9jbGtfbWdyLmMKKysr
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2Nsa19tZ3IvZGNuMjAvZGNuMjBfY2xr
X21nci5jCkBAIC0xMDQsNiArMTA0LDcgQEAgdm9pZCBkY24yMF91cGRhdGVfY2xvY2tzX3VwZGF0
ZV9kcHBfZHRvKHN0cnVjdCBjbGtfbWdyX2ludGVybmFsICpjbGtfbWdyLAogewogCWludCBpOwog
CisJY2xrX21nci0+ZGNjZy0+cmVmX2RwcGNsayA9IGNsa19tZ3ItPmJhc2UuY2xrcy5kcHBjbGtf
a2h6OwogCWZvciAoaSA9IDA7IGkgPCBjbGtfbWdyLT5iYXNlLmN0eC0+ZGMtPnJlc19wb29sLT5w
aXBlX2NvdW50OyBpKyspIHsKIAkJaW50IGRwcF9pbnN0LCBkcHBjbGtfa2h6OwogCkBAIC0xMTMs
NzUgKzExNCwyOCBAQCB2b2lkIGRjbjIwX3VwZGF0ZV9jbG9ja3NfdXBkYXRlX2RwcF9kdG8oc3Ry
dWN0IGNsa19tZ3JfaW50ZXJuYWwgKmNsa19tZ3IsCiAJCWRwcF9pbnN0ID0gY29udGV4dC0+cmVz
X2N0eC5waXBlX2N0eFtpXS5wbGFuZV9yZXMuZHBwLT5pbnN0OwogCQlkcHBjbGtfa2h6ID0gY29u
dGV4dC0+cmVzX2N0eC5waXBlX2N0eFtpXS5wbGFuZV9yZXMuYncuZHBwY2xrX2toejsKIAkJY2xr
X21nci0+ZGNjZy0+ZnVuY3MtPnVwZGF0ZV9kcHBfZHRvKAotCQkJCWNsa19tZ3ItPmRjY2csIGRw
cF9pbnN0LCBkcHBjbGtfa2h6LCBmYWxzZSk7CisJCQkJY2xrX21nci0+ZGNjZywgZHBwX2luc3Qs
IGRwcGNsa19raHopOwogCX0KIH0KIAotc3RhdGljIHZvaWQgdXBkYXRlX2dsb2JhbF9kcHBfY2xr
KHN0cnVjdCBjbGtfbWdyX2ludGVybmFsICpjbGtfbWdyLCB1bnNpZ25lZCBpbnQga2h6KQordm9p
ZCBkY24yMF91cGRhdGVfY2xvY2tzX3VwZGF0ZV9kZW50aXN0KHN0cnVjdCBjbGtfbWdyX2ludGVy
bmFsICpjbGtfbWdyKQogewogCWludCBkcHBfZGl2aWRlciA9IERFTlRJU1RfRElWSURFUl9SQU5H
RV9TQ0FMRV9GQUNUT1IKLQkJCSogY2xrX21nci0+ZGVudGlzdF92Y29fZnJlcV9raHogLyBraHo7
Ci0KLQl1aW50MzJfdCBkcHBjbGtfd2RpdmlkZXIgPSBkZW50aXN0X2dldF9kaWRfZnJvbV9kaXZp
ZGVyKGRwcF9kaXZpZGVyKTsKLQotCVJFR19VUERBVEUoREVOVElTVF9ESVNQQ0xLX0NOVEwsCi0J
CQlERU5USVNUX0RQUENMS19XRElWSURFUiwgZHBwY2xrX3dkaXZpZGVyKTsKLQlSRUdfV0FJVChE
RU5USVNUX0RJU1BDTEtfQ05UTCwgREVOVElTVF9EUFBDTEtfQ0hHX0RPTkUsIDEsIDUsIDEwMCk7
Ci19Ci0KLXN0YXRpYyB2b2lkIHVwZGF0ZV9kaXNwbGF5X2NsayhzdHJ1Y3QgY2xrX21ncl9pbnRl
cm5hbCAqY2xrX21nciwgdW5zaWduZWQgaW50IGtoeikKLXsKKwkJCSogY2xrX21nci0+ZGVudGlz
dF92Y29fZnJlcV9raHogLyBjbGtfbWdyLT5iYXNlLmNsa3MuZHBwY2xrX2toejsKIAlpbnQgZGlz
cF9kaXZpZGVyID0gREVOVElTVF9ESVZJREVSX1JBTkdFX1NDQUxFX0ZBQ1RPUgotCQkJKiBjbGtf
bWdyLT5kZW50aXN0X3Zjb19mcmVxX2toeiAvIGtoejsKKwkJCSogY2xrX21nci0+ZGVudGlzdF92
Y29fZnJlcV9raHogLyBjbGtfbWdyLT5iYXNlLmNsa3MuZGlzcGNsa19raHo7CiAKKwl1aW50MzJf
dCBkcHBjbGtfd2RpdmlkZXIgPSBkZW50aXN0X2dldF9kaWRfZnJvbV9kaXZpZGVyKGRwcF9kaXZp
ZGVyKTsKIAl1aW50MzJfdCBkaXNwY2xrX3dkaXZpZGVyID0gZGVudGlzdF9nZXRfZGlkX2Zyb21f
ZGl2aWRlcihkaXNwX2RpdmlkZXIpOwogCiAJUkVHX1VQREFURShERU5USVNUX0RJU1BDTEtfQ05U
TCwKIAkJCURFTlRJU1RfRElTUENMS19XRElWSURFUiwgZGlzcGNsa193ZGl2aWRlcik7CisvLwlS
RUdfV0FJVChERU5USVNUX0RJU1BDTEtfQ05UTCwgREVOVElTVF9ESVNQQ0xLX0NIR19ET05FLCAx
LCA1LCAxMDApOworCVJFR19VUERBVEUoREVOVElTVF9ESVNQQ0xLX0NOVEwsCisJCQlERU5USVNU
X0RQUENMS19XRElWSURFUiwgZHBwY2xrX3dkaXZpZGVyKTsKKwlSRUdfV0FJVChERU5USVNUX0RJ
U1BDTEtfQ05UTCwgREVOVElTVF9EUFBDTEtfQ0hHX0RPTkUsIDEsIDUsIDEwMCk7CiB9CiAKLXN0
YXRpYyB2b2lkIHJlcXVlc3Rfdm9sdGFnZV9hbmRfcHJvZ3JhbV9kaXNwX2NsayhzdHJ1Y3QgY2xr
X21nciAqY2xrX21ncl9iYXNlLCB1bnNpZ25lZCBpbnQga2h6KQotewotCXN0cnVjdCBjbGtfbWdy
X2ludGVybmFsICpjbGtfbWdyID0gVE9fQ0xLX01HUl9JTlRFUk5BTChjbGtfbWdyX2Jhc2UpOwot
CXN0cnVjdCBkYyAqZGMgPSBjbGtfbWdyX2Jhc2UtPmN0eC0+ZGM7Ci0Jc3RydWN0IHBwX3NtdV9m
dW5jc19udiAqcHBfc211ID0gTlVMTDsKLQlib29sIGdvaW5nX3VwID0gY2xrX21nci0+YmFzZS5j
bGtzLmRpc3BjbGtfa2h6IDwga2h6OwotCi0JaWYgKGRjLT5yZXNfcG9vbC0+cHBfc211KQotCQlw
cF9zbXUgPSAmZGMtPnJlc19wb29sLT5wcF9zbXUtPm52X2Z1bmNzOwotCi0JY2xrX21nci0+YmFz
ZS5jbGtzLmRpc3BjbGtfa2h6ID0ga2h6OwotCi0JaWYgKGdvaW5nX3VwICYmIHBwX3NtdSAmJiBw
cF9zbXUtPnNldF92b2x0YWdlX2J5X2ZyZXEpCi0JCXBwX3NtdS0+c2V0X3ZvbHRhZ2VfYnlfZnJl
cSgmcHBfc211LT5wcF9zbXUsIFBQX1NNVV9OVl9ESVNQQ0xLLCBjbGtfbWdyX2Jhc2UtPmNsa3Mu
ZGlzcGNsa19raHogLyAxMDAwKTsKLQotCXVwZGF0ZV9kaXNwbGF5X2NsayhjbGtfbWdyLCBraHop
OwotCi0JaWYgKCFnb2luZ191cCAmJiBwcF9zbXUgJiYgcHBfc211LT5zZXRfdm9sdGFnZV9ieV9m
cmVxKQotCQlwcF9zbXUtPnNldF92b2x0YWdlX2J5X2ZyZXEoJnBwX3NtdS0+cHBfc211LCBQUF9T
TVVfTlZfRElTUENMSywgY2xrX21ncl9iYXNlLT5jbGtzLmRpc3BjbGtfa2h6IC8gMTAwMCk7Ci19
Ci0KLXN0YXRpYyB2b2lkIHJlcXVlc3Rfdm9sdGFnZV9hbmRfcHJvZ3JhbV9nbG9iYWxfZHBwX2Ns
ayhzdHJ1Y3QgY2xrX21nciAqY2xrX21ncl9iYXNlLCB1bnNpZ25lZCBpbnQga2h6KQotewotCXN0
cnVjdCBjbGtfbWdyX2ludGVybmFsICpjbGtfbWdyID0gVE9fQ0xLX01HUl9JTlRFUk5BTChjbGtf
bWdyX2Jhc2UpOwotCXN0cnVjdCBkYyAqZGMgPSBjbGtfbWdyX2Jhc2UtPmN0eC0+ZGM7Ci0Jc3Ry
dWN0IHBwX3NtdV9mdW5jc19udiAqcHBfc211ID0gTlVMTDsKLQlib29sIGdvaW5nX3VwID0gY2xr
X21nci0+YmFzZS5jbGtzLmRwcGNsa19raHogPCBraHo7Ci0KLQlpZiAoZGMtPnJlc19wb29sLT5w
cF9zbXUpCi0JCXBwX3NtdSA9ICZkYy0+cmVzX3Bvb2wtPnBwX3NtdS0+bnZfZnVuY3M7Ci0KLQlj
bGtfbWdyLT5iYXNlLmNsa3MuZHBwY2xrX2toeiA9IGtoejsKLQljbGtfbWdyLT5kY2NnLT5yZWZf
ZHBwY2xrID0ga2h6OwotCi0JaWYgKGdvaW5nX3VwICYmIHBwX3NtdSAmJiBwcF9zbXUtPnNldF92
b2x0YWdlX2J5X2ZyZXEpCi0JCXBwX3NtdS0+c2V0X3ZvbHRhZ2VfYnlfZnJlcSgmcHBfc211LT5w
cF9zbXUsIFBQX1NNVV9OVl9QSVhFTENMSywgY2xrX21ncl9iYXNlLT5jbGtzLmRwcGNsa19raHog
LyAxMDAwKTsKLQotCXVwZGF0ZV9nbG9iYWxfZHBwX2NsayhjbGtfbWdyLCBraHopOwotCi0JaWYg
KCFnb2luZ191cCAmJiBwcF9zbXUgJiYgcHBfc211LT5zZXRfdm9sdGFnZV9ieV9mcmVxKQotCQlw
cF9zbXUtPnNldF92b2x0YWdlX2J5X2ZyZXEoJnBwX3NtdS0+cHBfc211LCBQUF9TTVVfTlZfUElY
RUxDTEssIGNsa19tZ3JfYmFzZS0+Y2xrcy5kcHBjbGtfa2h6IC8gMTAwMCk7Ci19CiAKIHZvaWQg
ZGNuMl91cGRhdGVfY2xvY2tzKHN0cnVjdCBjbGtfbWdyICpjbGtfbWdyX2Jhc2UsCiAJCQlzdHJ1
Y3QgZGNfc3RhdGUgKmNvbnRleHQsCkBAIC0xOTIsOCArMTQ2LDEwIEBAIHZvaWQgZGNuMl91cGRh
dGVfY2xvY2tzKHN0cnVjdCBjbGtfbWdyICpjbGtfbWdyX2Jhc2UsCiAJc3RydWN0IGRjICpkYyA9
IGNsa19tZ3JfYmFzZS0+Y3R4LT5kYzsKIAlzdHJ1Y3QgcHBfc211X2Z1bmNzX252ICpwcF9zbXUg
PSBOVUxMOwogCWludCBkaXNwbGF5X2NvdW50OworCWJvb2wgdXBkYXRlX2RwcGNsayA9IGZhbHNl
OwogCWJvb2wgdXBkYXRlX2Rpc3BjbGsgPSBmYWxzZTsKIAlib29sIGVudGVyX2Rpc3BsYXlfb2Zm
ID0gZmFsc2U7CisJYm9vbCBkcHBfY2xvY2tfbG93ZXJlZCA9IGZhbHNlOwogCXN0cnVjdCBkbWN1
ICpkbWN1ID0gY2xrX21ncl9iYXNlLT5jdHgtPmRjLT5yZXNfcG9vbC0+ZG1jdTsKIAlib29sIGZv
cmNlX3Jlc2V0ID0gZmFsc2U7CiAKQEAgLTI1MCwxMiArMjA2LDEwIEBAIHZvaWQgZGNuMl91cGRh
dGVfY2xvY2tzKHN0cnVjdCBjbGtfbWdyICpjbGtfbWdyX2Jhc2UsCiAKIAlpZiAoc2hvdWxkX3Vw
ZGF0ZV9wc3RhdGVfc3VwcG9ydChzYWZlX3RvX2xvd2VyLCBuZXdfY2xvY2tzLT5wX3N0YXRlX2No
YW5nZV9zdXBwb3J0LCBjbGtfbWdyX2Jhc2UtPmNsa3MucF9zdGF0ZV9jaGFuZ2Vfc3VwcG9ydCkp
IHsKIAkJY2xrX21ncl9iYXNlLT5jbGtzLnByZXZfcF9zdGF0ZV9jaGFuZ2Vfc3VwcG9ydCA9IGNs
a19tZ3JfYmFzZS0+Y2xrcy5wX3N0YXRlX2NoYW5nZV9zdXBwb3J0OwotCiAJCWNsa19tZ3JfYmFz
ZS0+Y2xrcy5wX3N0YXRlX2NoYW5nZV9zdXBwb3J0ID0gbmV3X2Nsb2Nrcy0+cF9zdGF0ZV9jaGFu
Z2Vfc3VwcG9ydDsKIAkJaWYgKHBwX3NtdSAmJiBwcF9zbXUtPnNldF9wc3RhdGVfaGFuZHNoYWtl
X3N1cHBvcnQpCiAJCQlwcF9zbXUtPnNldF9wc3RhdGVfaGFuZHNoYWtlX3N1cHBvcnQoJnBwX3Nt
dS0+cHBfc211LCBjbGtfbWdyX2Jhc2UtPmNsa3MucF9zdGF0ZV9jaGFuZ2Vfc3VwcG9ydCk7CiAJ
fQotCWNsa19tZ3JfYmFzZS0+Y2xrcy5wcmV2X3Bfc3RhdGVfY2hhbmdlX3N1cHBvcnQgPSBjbGtf
bWdyX2Jhc2UtPmNsa3MucF9zdGF0ZV9jaGFuZ2Vfc3VwcG9ydDsKIAogCWlmIChzaG91bGRfc2V0
X2Nsb2NrKHNhZmVfdG9fbG93ZXIsIG5ld19jbG9ja3MtPmRyYW1jbGtfa2h6LCBjbGtfbWdyX2Jh
c2UtPmNsa3MuZHJhbWNsa19raHopKSB7CiAJCWNsa19tZ3JfYmFzZS0+Y2xrcy5kcmFtY2xrX2to
eiA9IG5ld19jbG9ja3MtPmRyYW1jbGtfa2h6OwpAQCAtMjYzLDI4ICsyMTcsMzUgQEAgdm9pZCBk
Y24yX3VwZGF0ZV9jbG9ja3Moc3RydWN0IGNsa19tZ3IgKmNsa19tZ3JfYmFzZSwKIAkJCXBwX3Nt
dS0+c2V0X2hhcmRfbWluX3VjbGtfYnlfZnJlcSgmcHBfc211LT5wcF9zbXUsIGNsa19tZ3JfYmFz
ZS0+Y2xrcy5kcmFtY2xrX2toeiAvIDEwMDApOwogCX0KIAotCWlmIChkYy0+Y29uZmlnLmZvcmNl
ZF9jbG9ja3MgPT0gZmFsc2UpIHsKLQkJLy8gRmlyc3QgdXBkYXRlIGRpc3BsYXkgY2xvY2sKLQkJ
aWYgKHNob3VsZF9zZXRfY2xvY2soc2FmZV90b19sb3dlciwgbmV3X2Nsb2Nrcy0+ZGlzcGNsa19r
aHosIGNsa19tZ3JfYmFzZS0+Y2xrcy5kaXNwY2xrX2toeikpCi0JCQlyZXF1ZXN0X3ZvbHRhZ2Vf
YW5kX3Byb2dyYW1fZGlzcF9jbGsoY2xrX21ncl9iYXNlLCBuZXdfY2xvY2tzLT5kaXNwY2xrX2to
eik7CisJaWYgKHNob3VsZF9zZXRfY2xvY2soc2FmZV90b19sb3dlciwgbmV3X2Nsb2Nrcy0+ZHBw
Y2xrX2toeiwgY2xrX21nci0+YmFzZS5jbGtzLmRwcGNsa19raHopKSB7CisJCWlmIChjbGtfbWdy
LT5iYXNlLmNsa3MuZHBwY2xrX2toeiA+IG5ld19jbG9ja3MtPmRwcGNsa19raHopCisJCQlkcHBf
Y2xvY2tfbG93ZXJlZCA9IHRydWU7CisJCWNsa19tZ3ItPmJhc2UuY2xrcy5kcHBjbGtfa2h6ID0g
bmV3X2Nsb2Nrcy0+ZHBwY2xrX2toejsKIAotCQkvLyBVcGRhdGluZyBEUFAgY2xvY2sgcmVxdWly
ZXMgc29tZSBtb3JlIGxvZ2ljCi0JCWlmICghc2FmZV90b19sb3dlcikgewotCQkJLy8gRm9yIHBy
ZS1wcm9ncmFtbWluZywgd2UgbmVlZCB0byBtYWtlIHN1cmUgYW55IERQUCBjbG9jayB0aGF0IHdp
bGwgZ28gdXAgaGFzIHRvIGdvIHVwCisJCWlmIChwcF9zbXUgJiYgcHBfc211LT5zZXRfdm9sdGFn
ZV9ieV9mcmVxKQorCQkJcHBfc211LT5zZXRfdm9sdGFnZV9ieV9mcmVxKCZwcF9zbXUtPnBwX3Nt
dSwgUFBfU01VX05WX1BJWEVMQ0xLLCBjbGtfbWdyX2Jhc2UtPmNsa3MuZHBwY2xrX2toeiAvIDEw
MDApOwogCi0JCQkvLyBGaXJzdCByYWlzZSB0aGUgZ2xvYmFsIHJlZmVyZW5jZSBpZiBuZWVkZWQK
LQkJCWlmIChuZXdfY2xvY2tzLT5kcHBjbGtfa2h6ID4gY2xrX21ncl9iYXNlLT5jbGtzLmRwcGNs
a19raHopCi0JCQkJcmVxdWVzdF92b2x0YWdlX2FuZF9wcm9ncmFtX2dsb2JhbF9kcHBfY2xrKGNs
a19tZ3JfYmFzZSwgbmV3X2Nsb2Nrcy0+ZHBwY2xrX2toeik7CisJCXVwZGF0ZV9kcHBjbGsgPSB0
cnVlOworCX0KIAotCQkJLy8gVGhlbiByYWlzZSBhbnkgZGl2aWRlcnMgdGhhdCBuZWVkIHJhaXNp
bmcKLQkJCWRjbjIwX3VwZGF0ZV9jbG9ja3NfdXBkYXRlX2RwcF9kdG8oY2xrX21nciwgY29udGV4
dCk7Ci0JCX0gZWxzZSB7Ci0JCQkvLyBGb3IgcG9zdC1wcm9ncmFtbWluZywgd2UgY2FuIGxvd2Vy
IHJlZiBjbGsgaWYgbmVlZGVkLCBhbmQgdW5jb25kaXRpb25hbGx5IHNldCBhbGwgdGhlIERUT3MK
KwlpZiAoc2hvdWxkX3NldF9jbG9jayhzYWZlX3RvX2xvd2VyLCBuZXdfY2xvY2tzLT5kaXNwY2xr
X2toeiwgY2xrX21ncl9iYXNlLT5jbGtzLmRpc3BjbGtfa2h6KSkgeworCQljbGtfbWdyX2Jhc2Ut
PmNsa3MuZGlzcGNsa19raHogPSBuZXdfY2xvY2tzLT5kaXNwY2xrX2toejsKKwkJaWYgKHBwX3Nt
dSAmJiBwcF9zbXUtPnNldF92b2x0YWdlX2J5X2ZyZXEpCisJCQlwcF9zbXUtPnNldF92b2x0YWdl
X2J5X2ZyZXEoJnBwX3NtdS0+cHBfc211LCBQUF9TTVVfTlZfRElTUENMSywgY2xrX21ncl9iYXNl
LT5jbGtzLmRpc3BjbGtfa2h6IC8gMTAwMCk7CiAKLQkJCWlmIChuZXdfY2xvY2tzLT5kcHBjbGtf
a2h6IDwgY2xrX21ncl9iYXNlLT5jbGtzLmRwcGNsa19raHopCi0JCQkJcmVxdWVzdF92b2x0YWdl
X2FuZF9wcm9ncmFtX2dsb2JhbF9kcHBfY2xrKGNsa19tZ3JfYmFzZSwgbmV3X2Nsb2Nrcy0+ZHBw
Y2xrX2toeik7CisJCXVwZGF0ZV9kaXNwY2xrID0gdHJ1ZTsKKwl9CisJaWYgKGRjLT5jb25maWcu
Zm9yY2VkX2Nsb2NrcyA9PSBmYWxzZSB8fCAoZm9yY2VfcmVzZXQgJiYgc2FmZV90b19sb3dlcikp
IHsKKwkJaWYgKGRwcF9jbG9ja19sb3dlcmVkKSB7CisJCQkvLyBpZiBjbG9jayBpcyBiZWluZyBs
b3dlcmVkLCBpbmNyZWFzZSBEVE8gYmVmb3JlIGxvd2VyaW5nIHJlZmNsawogCQkJZGNuMjBfdXBk
YXRlX2Nsb2Nrc191cGRhdGVfZHBwX2R0byhjbGtfbWdyLCBjb250ZXh0KTsKLQorCQkJZGNuMjBf
dXBkYXRlX2Nsb2Nrc191cGRhdGVfZGVudGlzdChjbGtfbWdyKTsKKwkJfSBlbHNlIHsKKwkJCS8v
IGlmIGNsb2NrIGlzIGJlaW5nIHJhaXNlZCwgaW5jcmVhc2UgcmVmY2xrIGJlZm9yZSBsb3dlcmlu
ZyBEVE8KKwkJCWlmICh1cGRhdGVfZHBwY2xrIHx8IHVwZGF0ZV9kaXNwY2xrKQorCQkJCWRjbjIw
X3VwZGF0ZV9jbG9ja3NfdXBkYXRlX2RlbnRpc3QoY2xrX21ncik7CisJCQlpZiAodXBkYXRlX2Rw
cGNsaykKKwkJCQlkY24yMF91cGRhdGVfY2xvY2tzX3VwZGF0ZV9kcHBfZHRvKGNsa19tZ3IsIGNv
bnRleHQpOwogCQl9CiAJfQogCWlmICh1cGRhdGVfZGlzcGNsayAmJgpkaWZmIC0tZ2l0IGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2NvcmUvZGMuYyBiL2RyaXZlcnMvZ3B1L2RybS9h
bWQvZGlzcGxheS9kYy9jb3JlL2RjLmMKaW5kZXggMGQ3ZWY4OWIxN2E0Li44ZWM4MDE1MTYzNmQg
MTAwNjQ0Ci0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9jb3JlL2RjLmMKKysr
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2NvcmUvZGMuYwpAQCAtMTY0Myw5ICsx
NjQzLDYgQEAgZW51bSBzdXJmYWNlX3VwZGF0ZV90eXBlIGRjX2NoZWNrX3VwZGF0ZV9zdXJmYWNl
c19mb3Jfc3RyZWFtKAogCQkJdXBkYXRlc1tpXS5zdXJmYWNlLT51cGRhdGVfZmxhZ3MucmF3ID0g
MHhGRkZGRkZGRjsKIAl9CiAKLQlpZiAodHlwZSA9PSBVUERBVEVfVFlQRV9GQVNUICYmIG1lbWNt
cCgmZGMtPmN1cnJlbnRfc3RhdGUtPmJ3X2N0eC5idy5kY24uY2xrLCAmZGMtPmNsa19tZ3ItPmNs
a3MsIG9mZnNldG9mKHN0cnVjdCBkY19jbG9ja3MsIHByZXZfcF9zdGF0ZV9jaGFuZ2Vfc3VwcG9y
dCkpICE9IDApCi0JCWRjLT5vcHRpbWl6ZWRfcmVxdWlyZWQgPSB0cnVlOwotCiAJcmV0dXJuIHR5
cGU7CiB9CiAKZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24x
MC9kY24xMF9od19zZXF1ZW5jZXIuYyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9k
Y24xMC9kY24xMF9od19zZXF1ZW5jZXIuYwppbmRleCA1YjlkZDE2OWExNmYuLjVkM2I0ODU4YzZl
YiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjEwL2RjbjEw
X2h3X3NlcXVlbmNlci5jCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24x
MC9kY24xMF9od19zZXF1ZW5jZXIuYwpAQCAtMjMwMyw4ICsyMzAzLDcgQEAgdm9pZCB1cGRhdGVf
ZGNodWJwX2RwcCgKIAkJCWRjLT5yZXNfcG9vbC0+ZGNjZy0+ZnVuY3MtPnVwZGF0ZV9kcHBfZHRv
KAogCQkJCQlkYy0+cmVzX3Bvb2wtPmRjY2csCiAJCQkJCWRwcC0+aW5zdCwKLQkJCQkJcGlwZV9j
dHgtPnBsYW5lX3Jlcy5idy5kcHBjbGtfa2h6LAotCQkJCQlmYWxzZSk7CisJCQkJCXBpcGVfY3R4
LT5wbGFuZV9yZXMuYncuZHBwY2xrX2toeik7CiAJCWVsc2UKIAkJCWRjLT5jbGtfbWdyLT5jbGtz
LmRwcGNsa19raHogPSBzaG91bGRfZGl2aWRlZF9ieV8yID8KIAkJCQkJCWRjLT5jbGtfbWdyLT5j
bGtzLmRpc3BjbGtfa2h6IC8gMiA6CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rp
c3BsYXkvZGMvZGNuMjAvZGNuMjBfZGNjZy5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5
L2RjL2RjbjIwL2RjbjIwX2RjY2cuYwppbmRleCAzMTNkMzc5MzAwNWUuLmVjZThiNzQ1MjM5NyAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIwX2Rj
Y2cuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjAvZGNuMjBfZGNj
Zy5jCkBAIC00MiwxNiArNDIsMTIgQEAKICNkZWZpbmUgRENfTE9HR0VSIFwKIAlkY2NnLT5jdHgt
PmxvZ2dlcgogCi12b2lkIGRjY2cyX3VwZGF0ZV9kcHBfZHRvKHN0cnVjdCBkY2NnICpkY2NnLAot
CQlpbnQgZHBwX2luc3QsCi0JCWludCByZXFfZHBwY2xrLAotCQlib29sIHJlZHVjZV9kaXZpZGVy
X29ubHkpCit2b2lkIGRjY2cyX3VwZGF0ZV9kcHBfZHRvKHN0cnVjdCBkY2NnICpkY2NnLCBpbnQg
ZHBwX2luc3QsIGludCByZXFfZHBwY2xrKQogewogCXN0cnVjdCBkY25fZGNjZyAqZGNjZ19kY24g
PSBUT19EQ05fRENDRyhkY2NnKTsKIAogCWlmIChkY2NnLT5yZWZfZHBwY2xrICYmIHJlcV9kcHBj
bGspIHsKIAkJaW50IHJlZl9kcHBjbGsgPSBkY2NnLT5yZWZfZHBwY2xrOwotCQlpbnQgY3VycmVu
dF9waGFzZSwgY3VycmVudF9tb2R1bG87CiAKIAkJQVNTRVJUKHJlcV9kcHBjbGsgPD0gcmVmX2Rw
cGNsayk7CiAJCS8qIG5lZWQgdG8gY2xhbXAgdG8gOCBiaXRzICovCkBAIC02MywyOCArNTksOSBA
QCB2b2lkIGRjY2cyX3VwZGF0ZV9kcHBfZHRvKHN0cnVjdCBkY2NnICpkY2NnLAogCQkJaWYgKHJl
cV9kcHBjbGsgPiByZWZfZHBwY2xrKQogCQkJCXJlcV9kcHBjbGsgPSByZWZfZHBwY2xrOwogCQl9
Ci0KLQkJUkVHX0dFVF8yKERQUENMS19EVE9fUEFSQU1bZHBwX2luc3RdLAotCQkJCURQUENMSzBf
RFRPX1BIQVNFLCAmY3VycmVudF9waGFzZSwKLQkJCQlEUFBDTEswX0RUT19NT0RVTE8sICZjdXJy
ZW50X21vZHVsbyk7Ci0KLQkJaWYgKHJlZHVjZV9kaXZpZGVyX29ubHkpIHsKLQkJCS8vIHJlcXVl
c3RlZCBwaGFzZS9tb2R1bG8gZ3JlYXRlciB0aGFuIGN1cnJlbnQKLQkJCWlmIChyZXFfZHBwY2xr
ICogY3VycmVudF9tb2R1bG8gPj0gY3VycmVudF9waGFzZSAqIHJlZl9kcHBjbGspIHsKLQkJCQlS
RUdfU0VUXzIoRFBQQ0xLX0RUT19QQVJBTVtkcHBfaW5zdF0sIDAsCi0JCQkJCQlEUFBDTEswX0RU
T19QSEFTRSwgcmVxX2RwcGNsaywKLQkJCQkJCURQUENMSzBfRFRPX01PRFVMTywgcmVmX2RwcGNs
ayk7Ci0JCQl9IGVsc2UgewotCQkJCVJFR19TRVRfMihEUFBDTEtfRFRPX1BBUkFNW2RwcF9pbnN0
XSwgMCwKLQkJCQkJCURQUENMSzBfRFRPX1BIQVNFLCBjdXJyZW50X3BoYXNlLAotCQkJCQkJRFBQ
Q0xLMF9EVE9fTU9EVUxPLCBjdXJyZW50X21vZHVsbyk7Ci0JCQl9Ci0JCX0gZWxzZSB7Ci0JCQlS
RUdfU0VUXzIoRFBQQ0xLX0RUT19QQVJBTVtkcHBfaW5zdF0sIDAsCi0JCQkJCURQUENMSzBfRFRP
X1BIQVNFLCByZXFfZHBwY2xrLAotCQkJCQlEUFBDTEswX0RUT19NT0RVTE8sIHJlZl9kcHBjbGsp
OwotCQl9Ci0KKwkJUkVHX1NFVF8yKERQUENMS19EVE9fUEFSQU1bZHBwX2luc3RdLCAwLAorCQkJ
CURQUENMSzBfRFRPX1BIQVNFLCByZXFfZHBwY2xrLAorCQkJCURQUENMSzBfRFRPX01PRFVMTywg
cmVmX2RwcGNsayk7CiAJCVJFR19VUERBVEUoRFBQQ0xLX0RUT19DVFJMLAogCQkJCURQUENMS19E
VE9fRU5BQkxFW2RwcF9pbnN0XSwgMSk7CiAJfSBlbHNlIHsKZGlmZiAtLWdpdCBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24yMC9kY24yMF9kY2NnLmggYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjAvZGNuMjBfZGNjZy5oCmluZGV4IDc0YTA3NGE4NzNjZC4u
MjIwNWNiMDIwNGU3IDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMv
ZGNuMjAvZGNuMjBfZGNjZy5oCisrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9k
Y24yMC9kY24yMF9kY2NnLmgKQEAgLTk3LDcgKzk3LDcgQEAgc3RydWN0IGRjbl9kY2NnIHsKIAlj
b25zdCBzdHJ1Y3QgZGNjZ19tYXNrICpkY2NnX21hc2s7CiB9OwogCi12b2lkIGRjY2cyX3VwZGF0
ZV9kcHBfZHRvKHN0cnVjdCBkY2NnICpkY2NnLCBpbnQgZHBwX2luc3QsIGludCByZXFfZHBwY2xr
LCBib29sIHJhaXNlX2RpdmlkZXJfb25seSk7Cit2b2lkIGRjY2cyX3VwZGF0ZV9kcHBfZHRvKHN0
cnVjdCBkY2NnICpkY2NnLCBpbnQgZHBwX2luc3QsIGludCByZXFfZHBwY2xrKTsKIAogdm9pZCBk
Y2NnMl9nZXRfZGNjZ19yZWZfZnJlcShzdHJ1Y3QgZGNjZyAqZGNjZywKIAkJdW5zaWduZWQgaW50
IHh0YWxpbl9mcmVxX2luS2h6LApkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNw
bGF5L2RjL2RjbjIwL2RjbjIwX2h3c2VxLmMgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkv
ZGMvZGNuMjAvZGNuMjBfaHdzZXEuYwppbmRleCA0YmI1YWQxOWM0Y2YuLjg0YWFlOWMwNTc4MSAx
MDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIwX2h3
c2VxLmMKKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2RjbjIwL2RjbjIwX2h3
c2VxLmMKQEAgLTEyMDgsOCArMTIwOCw3IEBAIHN0YXRpYyB2b2lkIGRjbjIwX3VwZGF0ZV9kY2h1
YnBfZHBwKAogCQlkYy0+cmVzX3Bvb2wtPmRjY2ctPmZ1bmNzLT51cGRhdGVfZHBwX2R0bygKIAkJ
CQlkYy0+cmVzX3Bvb2wtPmRjY2csCiAJCQkJZHBwLT5pbnN0LAotCQkJCXBpcGVfY3R4LT5wbGFu
ZV9yZXMuYncuZHBwY2xrX2toeiwKLQkJCQlmYWxzZSk7CisJCQkJcGlwZV9jdHgtPnBsYW5lX3Jl
cy5idy5kcHBjbGtfa2h6KTsKIAl9CiAKIAkvKiBUT0RPOiBOZWVkIGlucHV0IHBhcmFtZXRlciB0
byB0ZWxsIGN1cnJlbnQgRENIVUIgcGlwZSB0aWUgdG8gd2hpY2ggT1RHCmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjAvZGNuMjBfcmVzb3VyY2UuYyBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9kY24yMC9kY24yMF9yZXNvdXJjZS5jCmluZGV4
IDQ5YTE0NzY2MWNkNC4uZDE5MDFhYjVmYjhjIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0v
YW1kL2Rpc3BsYXkvZGMvZGNuMjAvZGNuMjBfcmVzb3VyY2UuYworKysgYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2Rpc3BsYXkvZGMvZGNuMjAvZGNuMjBfcmVzb3VyY2UuYwpAQCAtMjYyMiw3ICsyNjIy
LDcgQEAgdm9pZCBkY24yMF9jYWxjdWxhdGVfZGxnX3BhcmFtcygKIAljb250ZXh0LT5id19jdHgu
YncuZGNuLmNsay5zb2NjbGtfa2h6ID0gY29udGV4dC0+YndfY3R4LmRtbC52YmEuU09DQ0xLICog
MTAwMDsKIAljb250ZXh0LT5id19jdHguYncuZGNuLmNsay5kcmFtY2xrX2toeiA9IGNvbnRleHQt
PmJ3X2N0eC5kbWwudmJhLkRSQU1TcGVlZCAqIDEwMDAgLyAxNjsKIAljb250ZXh0LT5id19jdHgu
YncuZGNuLmNsay5kY2ZjbGtfZGVlcF9zbGVlcF9raHogPSBjb250ZXh0LT5id19jdHguZG1sLnZi
YS5EQ0ZDTEtEZWVwU2xlZXAgKiAxMDAwOwotCWNvbnRleHQtPmJ3X2N0eC5idy5kY24uY2xrLmZj
bGtfa2h6ID0gMDsKKwljb250ZXh0LT5id19jdHguYncuZGNuLmNsay5mY2xrX2toeiA9IGNvbnRl
eHQtPmJ3X2N0eC5kbWwudmJhLkZhYnJpY0Nsb2NrICogMTAwMDsKIAljb250ZXh0LT5id19jdHgu
YncuZGNuLmNsay5wX3N0YXRlX2NoYW5nZV9zdXBwb3J0ID0KIAkJY29udGV4dC0+YndfY3R4LmRt
bC52YmEuRFJBTUNsb2NrQ2hhbmdlU3VwcG9ydFt2bGV2ZWxdW2NvbnRleHQtPmJ3X2N0eC5kbWwu
dmJhLm1heE1wY0NvbWJdCiAJCQkJCQkJIT0gZG1fZHJhbV9jbG9ja19jaGFuZ2VfdW5zdXBwb3J0
ZWQ7CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvaW5jL2NvcmVf
dHlwZXMuaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9pbmMvY29yZV90eXBlcy5o
CmluZGV4IGYxODkzMDc3NTBhYi4uZGFmOGQ1ZDljM2YxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dw
dS9kcm0vYW1kL2Rpc3BsYXkvZGMvaW5jL2NvcmVfdHlwZXMuaAorKysgYi9kcml2ZXJzL2dwdS9k
cm0vYW1kL2Rpc3BsYXkvZGMvaW5jL2NvcmVfdHlwZXMuaApAQCAtMjMxLDYgKzIzMSw3IEBAIHN0
cnVjdCByZXNvdXJjZV9wb29sIHsKIAogc3RydWN0IGRjbl9mZV9iYW5kd2lkdGggewogCWludCBk
cHBjbGtfa2h6OworCiB9OwogCiBzdHJ1Y3Qgc3RyZWFtX3Jlc291cmNlIHsKZGlmZiAtLWdpdCBh
L2RyaXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9pbmMvaHcvY2xrX21ncl9pbnRlcm5hbC5o
IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9kaXNwbGF5L2RjL2luYy9ody9jbGtfbWdyX2ludGVybmFs
LmgKaW5kZXggN2RkNDZlYjk2ZDY3Li4yMTMwNDZkZTE2NzUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvZGlzcGxheS9kYy9pbmMvaHcvY2xrX21ncl9pbnRlcm5hbC5oCisrKyBiL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9pbmMvaHcvY2xrX21ncl9pbnRlcm5hbC5oCkBA
IC0yODEsMTQgKzI4MSw4IEBAIHN0YXRpYyBpbmxpbmUgYm9vbCBzaG91bGRfc2V0X2Nsb2NrKGJv
b2wgc2FmZV90b19sb3dlciwgaW50IGNhbGNfY2xrLCBpbnQgY3VyX2NsCiAKIHN0YXRpYyBpbmxp
bmUgYm9vbCBzaG91bGRfdXBkYXRlX3BzdGF0ZV9zdXBwb3J0KGJvb2wgc2FmZV90b19sb3dlciwg
Ym9vbCBjYWxjX3N1cHBvcnQsIGJvb2wgY3VyX3N1cHBvcnQpCiB7Ci0JaWYgKGN1cl9zdXBwb3J0
ICE9IGNhbGNfc3VwcG9ydCkgewotCQlpZiAoY2FsY19zdXBwb3J0ID09IHRydWUgJiYgc2FmZV90
b19sb3dlcikKLQkJCXJldHVybiB0cnVlOwotCQllbHNlIGlmIChjYWxjX3N1cHBvcnQgPT0gZmFs
c2UgJiYgIXNhZmVfdG9fbG93ZXIpCi0JCQlyZXR1cm4gdHJ1ZTsKLQl9Ci0KLQlyZXR1cm4gZmFs
c2U7CisJLy8gV2hlbmV2ZXIgd2UgYXJlIHRyYW5zaXRpb25pbmcgcHN0YXRlIHN1cHBvcnQsIHdl
IGFsd2F5cyB3YW50IHRvIG5vdGlmeSBwcmlvciB0byBjb21taXR0aW5nIHN0YXRlCisJcmV0dXJu
IChjYWxjX3N1cHBvcnQgIT0gY3VyX3N1cHBvcnQpID8gIXNhZmVfdG9fbG93ZXIgOiBmYWxzZTsK
IH0KIAogaW50IGNsa19tZ3JfaGVscGVyX2dldF9hY3RpdmVfZGlzcGxheV9jbnQoCmRpZmYgLS1n
aXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvaW5jL2h3L2RjY2cuaCBiL2RyaXZl
cnMvZ3B1L2RybS9hbWQvZGlzcGxheS9kYy9pbmMvaHcvZGNjZy5oCmluZGV4IGQ4ZTc0NGYzNjZl
NS4uMDVlZTUyOTVkMmMxIDEwMDY0NAotLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkv
ZGMvaW5jL2h3L2RjY2cuaAorKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Rpc3BsYXkvZGMvaW5j
L2h3L2RjY2cuaApAQCAtMzgsOCArMzgsNyBAQCBzdHJ1Y3QgZGNjZyB7CiBzdHJ1Y3QgZGNjZ19m
dW5jcyB7CiAJdm9pZCAoKnVwZGF0ZV9kcHBfZHRvKShzdHJ1Y3QgZGNjZyAqZGNjZywKIAkJCWlu
dCBkcHBfaW5zdCwKLQkJCWludCByZXFfZHBwY2xrLAotCQkJYm9vbCByZWR1Y2VfZGl2aWRlcl9v
bmx5KTsKKwkJCWludCByZXFfZHBwY2xrKTsKIAl2b2lkICgqZ2V0X2RjY2dfcmVmX2ZyZXEpKHN0
cnVjdCBkY2NnICpkY2NnLAogCQkJdW5zaWduZWQgaW50IHh0YWxpbl9mcmVxX2luS2h6LAogCQkJ
dW5zaWduZWQgaW50ICpkY2NnX3JlZl9mcmVxX2luS2h6KTsKLS0gCjIuMjIuMAoKX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KYW1kLWdmeCBtYWlsaW5nIGxp
c3QKYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3Rv
cC5vcmcvbWFpbG1hbi9saXN0aW5mby9hbWQtZ2Z4
