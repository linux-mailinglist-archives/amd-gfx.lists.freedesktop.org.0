Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 3EE7CA28958
	for <lists+amd-gfx@lfdr.de>; Wed,  5 Feb 2025 12:34:56 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id DAF2410E1AD;
	Wed,  5 Feb 2025 11:34:54 +0000 (UTC)
Authentication-Results: gabe.freedesktop.org;
	dkim=pass (1024-bit key; unprotected) header.d=amd.com header.i=@amd.com header.b="b3K7I7hb";
	dkim-atps=neutral
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM12-DM6-obe.outbound.protection.outlook.com
 (mail-dm6nam12on2042.outbound.protection.outlook.com [40.107.243.42])
 by gabe.freedesktop.org (Postfix) with ESMTPS id AB05F10E783
 for <amd-gfx@lists.freedesktop.org>; Wed,  5 Feb 2025 11:28:50 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector10001; d=microsoft.com; cv=none;
 b=IM8QN0wiwghYcd3/7bn1nI9LA7TJmInDi1wF3qsHTa0sZje2QsgVilPHYLd4FH0lH7G06P5CGOT/sya4fL8TgEltGthJHy8aGuoiwOhUssGEg6+/zkj2gEwZd+ZEj+dStRrgQxVRazlckIw+cDba41bCkcMjPny1HiZ0ML6+WwnRDn7s1Rj5Xd9JC2XaC+Wt/Xfag5fqMBoZCULiXzpuLLL5BlRcJepZCBp6Syv8z5dARNyNPSslIh+aMmyjUe8vAZYTQgc2CB4uF6fCfCLbKn4PtT/PiaJHzt7Fo4xGxNxCB4sWyNFbHNRNhbUo3a/XxljtAWXJhQaIPsEZ9Z2FEQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector10001;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=3wD0DK+szL6Hd5hT4ztyAvV81BwKS1vI9jdP/jZXIdc=;
 b=HIn4VYVq4RljjXojmEvRtmeIqdg69JXUQW0ZdWG6XOERAh5VrWWIFnnAVXIYAzetykkH/9mMd1vdWiWi3rD/7+k4UN3IjZsI9NP4zItUDsuuVyES880DXEPe2LmO66FNVvr01zVf+7eMUdbPLd5tEFYRHN5nlxRjHzoavDzhEoNsXv3b5y+TxsVjEwstFilubv57rNuMo3e30GdU8MUQ4AojWgDLqgeJAA8BfnoWEYprgvtbi8qr7G7yw4zeOUbISXYPS80+0HPcyEleIU+ioJCxzMwRJ8Qu777ei7r/4oUHFcTz97uporLUm5NIyAU3GoP1duEYhbR3yvvn42usnA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=amd.com; s=selector1; 
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=3wD0DK+szL6Hd5hT4ztyAvV81BwKS1vI9jdP/jZXIdc=;
 b=b3K7I7hbVFbVJO7BQBL/uf6ffpToUgw/OfPfM7qCYz/8Ivf0EYHewPQ5Qao90UK2XEkKChN/2JedoBi+jx3fSUjk79uNrx0+F1fmrwRlc3V7n/mIKpMBYsBPJUWj/GYIlsjvFydFjbbOHqLI32OlRPPR5sw0Gk9bpyS/QusPEfk=
Received: from DS7PR12MB6333.namprd12.prod.outlook.com (2603:10b6:8:96::15) by
 PH8PR12MB6867.namprd12.prod.outlook.com (2603:10b6:510:1ca::8) with
 Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.8398.18; Wed, 5 Feb 2025 11:28:48 +0000
Received: from DS7PR12MB6333.namprd12.prod.outlook.com
 ([fe80::cda7:a979:580:83a]) by DS7PR12MB6333.namprd12.prod.outlook.com
 ([fe80::cda7:a979:580:83a%5]) with mapi id 15.20.8422.009; Wed, 5 Feb 2025
 11:28:48 +0000
From: "Zhu, Jiadong" <Jiadong.Zhu@amd.com>
To: =?utf-8?B?Q2hyaXN0aWFuIEvDtm5pZw==?= <ckoenig.leichtzumerken@gmail.com>,
 "timur.kristof@gmail.com" <timur.kristof@gmail.com>, "Deucher, Alexander"
 <Alexander.Deucher@amd.com>, "amd-gfx@lists.freedesktop.org"
 <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH 5/5] drm/amdgpu: rework gfx10 queue reset
Thread-Topic: [PATCH 5/5] drm/amdgpu: rework gfx10 queue reset
Thread-Index: AQHbdxF6CHk409pzWka2D8VLqRex37M4j0aQ
Date: Wed, 5 Feb 2025 11:28:47 +0000
Message-ID: <DS7PR12MB6333C725E472959D6266D326F4F72@DS7PR12MB6333.namprd12.prod.outlook.com>
References: <20250204143113.6320-1-christian.koenig@amd.com>
 <20250204143113.6320-6-christian.koenig@amd.com>
In-Reply-To: <20250204143113.6320-6-christian.koenig@amd.com>
Accept-Language: zh-CN, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
msip_labels: MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_ActionId=ca222830-2c76-4e47-8fcf-c963d2c9186e;
 MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_ContentBits=0;
 MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_Enabled=true;
 MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_Method=Standard;
 MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_Name=AMD
 Internal Distribution Only;
 MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_SetDate=2025-02-05T11:11:29Z;
 MSIP_Label_dce362fe-1558-4fb5-9f64-8a6240d76441_SiteId=3dd8961f-e488-4e60-8e11-a82d994e183d;
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=amd.com;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: DS7PR12MB6333:EE_|PH8PR12MB6867:EE_
x-ms-office365-filtering-correlation-id: a6d44423-b9c7-4c47-6db8-08dd45d84204
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0; ARA:13230040|366016|1800799024|376014|38070700018;
x-microsoft-antispam-message-info: =?utf-8?B?TjZ2WEdaSWZ2M1Y1YmhFdVlscHF5VmxHK1pPRHlza2tja3dMZVhyc2tCdjJo?=
 =?utf-8?B?NHB4b0gvV2o0eFRaVUREV3JjeWFVbXpsT2o2aTdBNE1aWThid29WL29mVEdE?=
 =?utf-8?B?UTZwUHpSbTVseFp1OVZyZ2dMSkcwbkpsRGlBdkRYYnZscDIxa2tCWk5KL2NE?=
 =?utf-8?B?bmVBNWRBNWZ1ZUViU0JaVXg2cHQ4eFJ4WTJhRWNPekhiUVc4eGNoNzc5b2Ex?=
 =?utf-8?B?cnNlbGZoZHdWcEI3ZEd0NGRMamtqQXFXRkExQnBkb21UVGNjdWZLMUJDRE9u?=
 =?utf-8?B?MGo3U1BKaStpVmZjL3BMZWhoTkhycjdVcXplMU5xRHV2NUgrQ25ERkJ0enNp?=
 =?utf-8?B?R3JhMHJPdksxOU80Vk4wckRtRUVtTW1wSnBib0MrZVZHbUlURnRpZEJOcmtr?=
 =?utf-8?B?VVp0MDdrczZwVHdCK29pV01YMmYyWmU3T2NTRE5UakgrWUVGVy82bXYxS00r?=
 =?utf-8?B?VmZwcnBQWHRiVlc0Qk9BNGhqSWppWHZPNUJBM09vQ1NFTG1qeTdjMG1HM00r?=
 =?utf-8?B?OHNVSnlqVW1QMFhKMW1qZG1tU05sMlpKTnFhK1k3N0RxZDdxdHAvU3BLWVlH?=
 =?utf-8?B?Z0tHU1NBRGRVRGk5OU8yYlBUTm0vSDZ6Mng2cHRxbkhscTFpcUMrL2lxV3VB?=
 =?utf-8?B?ZSttdlY1OUFvNVNYeEcwS1RuTjFqTGgwaFVVQSt0MGtZNC9scjVKTjNrNDZ1?=
 =?utf-8?B?V1ljZTRIYk11Y01ncTBubkNNSStFUmNpSkExaU4xcUE1cHc4OXd1Znl4TFBN?=
 =?utf-8?B?QVRsbG9aMnBQMnBGTUIzMWFhS2JvRlBGMkFIbmtRODhOM2NuVzZuVWZEYjBT?=
 =?utf-8?B?RVRmRXoxVGNZdWNGQ0JTcm5BTFJGSzlmWmhqUFB2Yld4aDFrMW1reExkTnBt?=
 =?utf-8?B?U3hNdjBIeWtHWEkvZW5ZdHA3K0o4ditiTmtlMUg5TUo2T1gxbXE4VDQzdlVW?=
 =?utf-8?B?ZGlWUXcyZ1FmbHRUWXprcFVmZ041QkdRRElHSVJEd2xzSFpmQnR0d0VzUHpP?=
 =?utf-8?B?YW5rTm10d1grSG5lMlFMSUFsRmhFZnpQY1FidUVpdnBKSEtKanN3S2d3Z2Ez?=
 =?utf-8?B?a2RYZzdoay9VaDJvalE0VGk0d0QwdGlBNE5ORUhtQ2J5QUlyTFVsaGtPSzdW?=
 =?utf-8?B?b0dZaTdwWDhZV1VRZlRxNFUzUmxNZlM4M3hFS0tzSVNqeWJGaVJyakN2QTkx?=
 =?utf-8?B?bXVlSlFpME0zcmcvNUtONDhOZjRoUVlQTmMvMHV5L3E1S3k2OW1FakZFMExL?=
 =?utf-8?B?djUyWU9Pd3htVDRSSVNESE9UMnJYbjhhejJ1N2p2SnlyREFtTG81M0JKaW5v?=
 =?utf-8?B?a3NOR2lQVlFsM3pZekFRd0l0a0g3bnRJZFBYMlR5bVl4L3ZydXJBNXFheVJx?=
 =?utf-8?B?dGUyanhaTWRPNHhtYjBEZlAycFdnZnFZczJPalVlRFJkRXduWlYwbGtNMzhj?=
 =?utf-8?B?RUJOaFBTTWx0dS9IUnoxUjJkNVBIOTBNVmszTk80c3BrTDNtd1laR1ZTcHBB?=
 =?utf-8?B?TVFZbnVhRUMrRE5KVnRFYjZ2QVNheUNqbGNJaGZUdWdOWE52ZWhRM0FTWnlU?=
 =?utf-8?B?OEhMSGRMeWRyM3BhbFhpZlVuRkhoTms2dVBaUUxZYnZKSjUwVjFqQ2V1R2VU?=
 =?utf-8?B?QVl6WTN2MW5DVEw5THc1cWFEd3V2Q2FDUTJRdWhLK1FMUWFLa2ZWM1Fhdnlz?=
 =?utf-8?B?ajJrZ3l4L0VaSW5Zc1JRa2pUcklxRU5BSHI5cGhJc1h3UEpUZWN0K1hXUjM3?=
 =?utf-8?B?bjlKOWlYWHBLM1VhMFd3OHVnV2xsbmtmRGdjdkloS3VDVmhRL0ZXSUVoVzUv?=
 =?utf-8?B?OURNZ0pFZC83U0g0cEQyUzFNUDE4RkhhbkhQZ0NvaU8zYklGZmtzZDE2NmNT?=
 =?utf-8?B?c3FacWtmYmc4YVVTUmwxcjZBaUdhVEVEdFVWOEp5YWQ5eExhVEg4aUFaNk9O?=
 =?utf-8?Q?oAKPkUPRW8YLrwALC98YmLe7ieumEgcg?=
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:DS7PR12MB6333.namprd12.prod.outlook.com; PTR:; CAT:NONE;
 SFS:(13230040)(366016)(1800799024)(376014)(38070700018); DIR:OUT; SFP:1101; 
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?Y3M1djROLytvOTRRNG1nSnIxWGhKZVBCUURJaFk4MzljQlFkOWE4OGhCWlVV?=
 =?utf-8?B?bXZzZ0FOamFiSTJZeStzdmI2Y3NFOFpMdXZDM0xvN2pNMncrKzJ3Y24yMFFi?=
 =?utf-8?B?RmVlalJrQ0ZkRlRSUU11OERJZDFxWlpzVzJxbWUvT0FPN2xMTGllRkNQZ1dy?=
 =?utf-8?B?b1lrUm15cFV2SytPQXVPS0JaNmtOUmVrM251Q3ZYTW1FTjNYMzY2dlMxU0Iv?=
 =?utf-8?B?WlhhUTlyOGFZMlpudE9qTUp6R2VqZmJIaGhTSjR0ODZuNjFGV3JKQTd6eEc4?=
 =?utf-8?B?c3JDdmpKWmxPWUtZWVB2UzJXMXc3bm4rQlhyc3FZL3Z1emxQZ0ZuZ3E0WFlN?=
 =?utf-8?B?a1U0UG5jMDE0NE9qTFM4Y2pMTm1VVFZEU3REeUZOVHJReGlLOGExK2lWY0JY?=
 =?utf-8?B?TXowMk9sRS9kaXFObzFEL3lWTTZCQmRPenMyTGVKV2g0Q1BmNTdIQ1htSVpQ?=
 =?utf-8?B?VFp5MnQ5S2JpZXlVT0JVZFlOTFdFV2VKTHJZU2ZsaU9oRlA1MHA0cjhLcThW?=
 =?utf-8?B?OStzQkwwREh4WjR3SXN1N3g1dUVvcUtHV3lpeUJwdTVUakp0VnY1OVF3Zzkx?=
 =?utf-8?B?Q3J5SDJKUUg4ZGJMaW1PWkQyM2VaNy9iL1lQUXFFMzF3Qlp3WWJOTTBYVnR0?=
 =?utf-8?B?QThnVlpsc3YrRUNaOVpUdDMwRkRrK0xmbmN0WXRmQWdrdTQzbytjeWNoMjdo?=
 =?utf-8?B?NVU1UGFxWndJVFNRcWVXNGJsd1FNdEw0aXhxQWI5TE1WU0czNVdtVE1ESjlX?=
 =?utf-8?B?cEdXZEoxbDNTcGQwbDNZUFliN2hNTm9xUno4T0dmSkNOWlY1OSs0RmsrNlkw?=
 =?utf-8?B?UVgzdStnQ0FGVnpDNXVqRHl5dHdJKzRJSDdSK1FROXRHM1BjZFR6cUIrWjM5?=
 =?utf-8?B?YmZXSm9FQ2VycjJPeUVPZDVqUFdQbjdEbjd3MEZ3R1FTamwxemRWSVhnWnhX?=
 =?utf-8?B?VDdCLzhCTDRpSFUvSnZjczk1bnliYUhUWmFZQjByaE45ajZjcHljUi9VaFBM?=
 =?utf-8?B?eVArbVk3bUZQVTRsQnJGRHpaS2dmZ3I3ZjU2eTVNL0xzdVUxVXNhQnV4c1cx?=
 =?utf-8?B?K0pJTzNDRCtPRmc4Vk1PTUxHQ005cEw1SytWOHlCS2tMNW1PdWJJUjVPaEV3?=
 =?utf-8?B?cFhWQ0ZmTCtUeHVMVWtsS0prUk1aZ2cxK1RGalh5THg2Y1ZlMStHYnNBVXJr?=
 =?utf-8?B?QXJob3dzZmNyNld1OTQra1F5UTNPSWpweElVNlRGWjFHR2tINmd1Y2Y3MUFn?=
 =?utf-8?B?MXV1Y1pTNHk2UllpeXovcGh4MnRqaTkrdHJvUG1BUkdhL2NZWE9NYzdVMDYr?=
 =?utf-8?B?UVZPS2k0UnhSL2lZTmFRTGZuVzM1cUwxRmQxZEVpVzJFSmtyem56Wkl0TmQr?=
 =?utf-8?B?TWNZNU9kOWRKaGtpNVZpMW9nYkdVbWFEZWc1V1hQK253MXdlWDNhMWJhZ2s3?=
 =?utf-8?B?K05uOTRrTFNDeXhjZC9SSHVmeGhnejIvSkVmRVhlL0VGekM3NDhwb3QydG1K?=
 =?utf-8?B?WVlZNnR5U1hiOFUxQzQzNE9SQTJXZnZvaTJGbGppQmwrbEcvdmo2VW9yNWs3?=
 =?utf-8?B?TFZiSGhnY3ZOVFRFQlJUY2thbHIzTkNMbXFtMnRyeXFWWEJBWDRGQ09hVG8z?=
 =?utf-8?B?cGlkblZuSTBPTWtRVzlJYUdCQzNVZURNVnhyaDE2YkNNRDA3S1lyQmlUdThs?=
 =?utf-8?B?cGQxSHFvRVo0citWSnU1alZ4cmdBRGVFV1lEN1FnNVdmVTR0elhKWElueVJw?=
 =?utf-8?B?VnQ2TmE2R0J4QU5OWS8zYUhvRGJmcGUwZGJWanlRdW5YSEk4Zit5d2E4RzFS?=
 =?utf-8?B?em9FNEpuZHlYTGo4cWpuSWJkODRXTHZOQVEzZTRDT2krclBnOERzZzdxRTl4?=
 =?utf-8?B?RmZIMWxhZGV3TlIydHRMdFdXSFJiNU90MWtoc2RNRms1bUJnbVFhNzAxbExm?=
 =?utf-8?B?dytjNTdMbVBScjZGZWxnUGMyV0lMS3VUMTdJcEtDV1dWS0sxcXJEdDRPcDB6?=
 =?utf-8?B?MzhBYVdzeXpqRS8wZER4RkwvdjZqSzk2ZHkwWEFTQnJvRjIzdWZCR3k5TE1V?=
 =?utf-8?B?N3loVVVGckhTZjBZVUMzbnFueWhSR2lFdVp2UXY0MWRaVEMvdTBvd3dOZUZs?=
 =?utf-8?Q?ToTM=3D?=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: DS7PR12MB6333.namprd12.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: a6d44423-b9c7-4c47-6db8-08dd45d84204
X-MS-Exchange-CrossTenant-originalarrivaltime: 05 Feb 2025 11:28:47.8991 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: PDP+XuOHPaOZ9/OEVhMI1hsWtUxPvhBoxnt/POUBCY4zf88Ssl09ugDe2Tmsrszz4scloGPHQeCFkIjw+HGs5Q==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: PH8PR12MB6867
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

W0FNRCBPZmZpY2lhbCBVc2UgT25seSAtIEFNRCBJbnRlcm5hbCBEaXN0cmlidXRpb24gT25seV0N
Cg0KPiAtLS0tLU9yaWdpbmFsIE1lc3NhZ2UtLS0tLQ0KPiBGcm9tOiBhbWQtZ2Z4IDxhbWQtZ2Z4
LWJvdW5jZXNAbGlzdHMuZnJlZWRlc2t0b3Aub3JnPiBPbiBCZWhhbGYgT2YgQ2hyaXN0aWFuDQo+
IEvDtm5pZw0KPiBTZW50OiBUdWVzZGF5LCBGZWJydWFyeSA0LCAyMDI1IDEwOjMxIFBNDQo+IFRv
OiB0aW11ci5rcmlzdG9mQGdtYWlsLmNvbTsgRGV1Y2hlciwgQWxleGFuZGVyIDxBbGV4YW5kZXIu
RGV1Y2hlckBhbWQuY29tPjsNCj4gYW1kLWdmeEBsaXN0cy5mcmVlZGVza3RvcC5vcmcNCj4gU3Vi
amVjdDogW1BBVENIIDUvNV0gZHJtL2FtZGdwdTogcmV3b3JrIGdmeDEwIHF1ZXVlIHJlc2V0DQo+
DQo+IEFwcGx5IHRoZSBzYW1lIGNoYW5nZXMgdG8gZ2Z4MTAgYXMgZG9uZSB0byBnZng5Lg0KPg0K
PiBUaGUgZ2VuZXJhbCBpZGVhIHRvIHJlc2V0IHRoZSB3aG9sZSBrZXJuZWwgcXVldWUgYW5kIHRo
ZW4gYXNraW5nIHRoZSBraXEgdG8gbWFwIGl0DQo+IGFnYWluIGRpZG4ndCB3b3JrZWQgYXQgYWxs
LiBCYWNrZ3JvdW5kIGlzIHRoYXQgd2UgZG9uJ3QgdXNlIHBlciBhcHBsaWNhdGlvbiBrZXJuZWwN
Cj4gcXVldWVzIGZvciBnZngxMCBvbiBMaW51eCBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucy4NCj4N
Cj4gU28gaW5zdGVhZCB1c2UgdGhlIGdmeDkgYXBwcm9hY2ggaGVyZSBhcyB3ZWxsIGFuZCBvbmx5
IHJlc2V0IGFsbCBzdWJtaXNzaW9ucyBmcm9tDQo+IGEgc3BlY2lmaWMgVk1JRCBpbnN0ZWFkIG9m
IHRoZSB3aG9sZSBxdWV1ZS4NCj4NCj4gVGhpcyBhbHNvIGF2b2lkcyByZXNlcnZpbmcgYW5kIGtt
YXAgdGhlIE1RRCB3aGljaCBhcmUgb3BlcmF0aW9ucyBnZW5lcmFsbHkgbm90DQo+IGFsbG93ZWQg
aW4gdGhlIHJlc2V0IGhhbmRsZXIuDQo+DQo+IFRoaXMgYXBwcm9hY2ggc2VlbXMgdG8gd29yayBm
b3IgYXQgbGVhc3Qgc29tZSB0aW1lLCBidXQgbm90IGFzIHJlbGlhYmxlIGFzIGl0IGlzIG9uDQo+
IGdmeDkuIEl0IHdpbGwgcHJvYmFibHkgbmVlZCBzb21lIG1vcmUgd29yayB1bnRpbCBpdCBzdXJ2
aXZlcyBhIHdob2xlIG5pZ2h0IG9mIHJlc2V0DQo+IHN0cmVzcyB0ZXN0aW5nLg0KPg0KPiBTaWdu
ZWQtb2ZmLWJ5OiBDaHJpc3RpYW4gS8O2bmlnIDxjaHJpc3RpYW4ua29lbmlnQGFtZC5jb20+DQo+
IC0tLQ0KPiAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3YxMF8wLmMgfCA2NSArKysr
KysrLS0tLS0tLS0tLS0tLS0tLS0tLQ0KPiAgMSBmaWxlIGNoYW5nZWQsIDE2IGluc2VydGlvbnMo
KyksIDQ5IGRlbGV0aW9ucygtKQ0KPg0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvZ2Z4X3YxMF8wLmMNCj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhf
djEwXzAuYw0KPiBpbmRleCA1YmEyNjNmZTU1MTIuLjdmZmRiYTk3NGY4NyAxMDA2NDQNCj4gLS0t
IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3YxMF8wLmMNCj4gKysrIGIvZHJpdmVy
cy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3YxMF8wLmMNCj4gQEAgLTg2ODQsNyArODY4NCwxNyBA
QCBzdGF0aWMgdm9pZCBnZnhfdjEwXzBfcmluZ19lbWl0X3BpcGVsaW5lX3N5bmMoc3RydWN0DQo+
IGFtZGdwdV9yaW5nICpyaW5nKQ0KPiAgICAgICBpbnQgdXNlcGZwID0gKHJpbmctPmZ1bmNzLT50
eXBlID09IEFNREdQVV9SSU5HX1RZUEVfR0ZYKTsNCj4gICAgICAgdWludDMyX3Qgc2VxID0gcmlu
Zy0+ZmVuY2VfZHJ2LnN5bmNfc2VxOw0KPiAgICAgICB1aW50NjRfdCBhZGRyID0gcmluZy0+ZmVu
Y2VfZHJ2LmdwdV9hZGRyOw0KPiArICAgICBzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IHJp
bmctPmFkZXY7DQo+DQo+ICsgICAgIGFtZGdwdV9yaW5nX2VtaXRfcmVnX3dhaXQocmluZywNCj4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTT0MxNV9SRUdfT0ZGU0VUKEdDLCAwLA0K
PiBtbUNQX1ZNSURfUkVTRVQpLA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAs
IDB4ZmZmZik7DQo+ICsgICAgIGFtZGdwdV9yaW5nX2VtaXRfd3JlZyhyaW5nLA0KPiArICAgICAg
ICAgICAgICAgICAgICAgICAgICAgU09DMTVfUkVHX09GRlNFVChHQywgMCwgbW1DUF9WTUlEX1JF
U0VUKSwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgIDApOw0KPiArICAgICBhbWRncHVf
cmluZ19lbWl0X2ZlbmNlKHJpbmcsIHJpbmctPmZlbmNlX2Rydi5ncHVfYWRkciwNCj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICByaW5nLT5mZW5jZV9kcnYuc3luY19zZXEsDQo+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgQU1ER1BVX0ZFTkNFX0ZMQUdfRVhFQyk7DQo+ICAgICAg
IGdmeF92MTBfMF93YWl0X3JlZ19tZW0ocmluZywgdXNlcGZwLCAxLCAwLCBsb3dlcl8zMl9iaXRz
KGFkZHIpLA0KPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwcGVyXzMyX2JpdHMoYWRk
ciksIHNlcSwgMHhmZmZmZmZmZiwgNCk7ICB9IEBAIC04OTg0LDIxDQo+ICs4OTk0LDYgQEAgc3Rh
dGljIHZvaWQgZ2Z4X3YxMF8wX3JpbmdfZW1pdF9yZWdfd3JpdGVfcmVnX3dhaXQoc3RydWN0DQo+
IGFtZGdwdV9yaW5nICpyaW5nLA0KPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICByZWYsIG1hc2spOw0KPiAgfQ0KPg0KPiAtc3RhdGljIHZv
aWQgZ2Z4X3YxMF8wX3Jpbmdfc29mdF9yZWNvdmVyeShzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcs
DQo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIGludCB2
bWlkKQ0KPiAtew0KPiAtICAgICBzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiA9IHJpbmctPmFk
ZXY7DQo+IC0gICAgIHVpbnQzMl90IHZhbHVlID0gMDsNCj4gLQ0KPiAtICAgICB2YWx1ZSA9IFJF
R19TRVRfRklFTEQodmFsdWUsIFNRX0NNRCwgQ01ELCAweDAzKTsNCj4gLSAgICAgdmFsdWUgPSBS
RUdfU0VUX0ZJRUxEKHZhbHVlLCBTUV9DTUQsIE1PREUsIDB4MDEpOw0KPiAtICAgICB2YWx1ZSA9
IFJFR19TRVRfRklFTEQodmFsdWUsIFNRX0NNRCwgQ0hFQ0tfVk1JRCwgMSk7DQo+IC0gICAgIHZh
bHVlID0gUkVHX1NFVF9GSUVMRCh2YWx1ZSwgU1FfQ01ELCBWTV9JRCwgdm1pZCk7DQo+IC0gICAg
IGFtZGdwdV9nZnhfcmxjX2VudGVyX3NhZmVfbW9kZShhZGV2LCAwKTsNCj4gLSAgICAgV1JFRzMy
X1NPQzE1KEdDLCAwLCBtbVNRX0NNRCwgdmFsdWUpOw0KPiAtICAgICBhbWRncHVfZ2Z4X3JsY19l
eGl0X3NhZmVfbW9kZShhZGV2LCAwKTsNCj4gLX0NCj4gLQ0KPiAgc3RhdGljIHZvaWQNCj4gIGdm
eF92MTBfMF9zZXRfZ2Z4X2VvcF9pbnRlcnJ1cHRfc3RhdGUoc3RydWN0IGFtZGdwdV9kZXZpY2Ug
KmFkZXYsDQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQzMl90IG1l
LCB1aW50MzJfdCBwaXBlLA0KPiBAQCAtOTQ2Nyw3ICs5NDYyLDYgQEAgc3RhdGljIGludCBnZnhf
djEwXzBfcmVzZXRfa2dxKHN0cnVjdCBhbWRncHVfcmluZw0KPiAqcmluZywgdW5zaWduZWQgaW50
IHZtaWQpDQo+ICAgICAgIHN0cnVjdCBhbWRncHVfcmluZyAqa2lxX3JpbmcgPSAma2lxLT5yaW5n
Ow0KPiAgICAgICB1bnNpZ25lZCBsb25nIGZsYWdzOw0KPiAgICAgICB1MzIgdG1wOw0KPiAtICAg
ICB1NjQgYWRkcjsNCj4gICAgICAgaW50IHI7DQo+DQo+ICAgICAgIGlmIChhbWRncHVfc3Jpb3Zf
dmYoYWRldikpDQo+IEBAIC05NDc4LDI3ICs5NDcyLDE0IEBAIHN0YXRpYyBpbnQgZ2Z4X3YxMF8w
X3Jlc2V0X2tncShzdHJ1Y3QgYW1kZ3B1X3JpbmcNCj4gKnJpbmcsIHVuc2lnbmVkIGludCB2bWlk
KQ0KPg0KPiAgICAgICBzcGluX2xvY2tfaXJxc2F2ZSgma2lxLT5yaW5nX2xvY2ssIGZsYWdzKTsN
Cj4NCj4gLSAgICAgaWYgKGFtZGdwdV9yaW5nX2FsbG9jKGtpcV9yaW5nLCA1ICsgNyArIDcgKyBr
aXEtPnBtZi0+bWFwX3F1ZXVlc19zaXplKSkgew0KPiArICAgICBpZiAoYW1kZ3B1X3JpbmdfYWxs
b2Moa2lxX3JpbmcsIDUpKSB7DQo+ICAgICAgICAgICAgICAgc3Bpbl91bmxvY2tfaXJxcmVzdG9y
ZSgma2lxLT5yaW5nX2xvY2ssIGZsYWdzKTsNCj4gICAgICAgICAgICAgICByZXR1cm4gLUVOT01F
TTsNCj4gICAgICAgfQ0KPg0KPiAtICAgICBhZGRyID0gYW1kZ3B1X2JvX2dwdV9vZmZzZXQocmlu
Zy0+bXFkX29iaikgKw0KPiAtICAgICAgICAgICAgIG9mZnNldG9mKHN0cnVjdCB2MTBfZ2Z4X21x
ZCwgY3BfZ2Z4X2hxZF9hY3RpdmUpOw0KPiAgICAgICB0bXAgPSBSRUdfU0VUX0ZJRUxEKDAsIENQ
X1ZNSURfUkVTRVQsIFJFU0VUX1JFUVVFU1QsIDEgPDwNCj4gdm1pZCk7DQo+IC0gICAgIGlmIChy
aW5nLT5waXBlID09IDApDQo+IC0gICAgICAgICAgICAgdG1wID0gUkVHX1NFVF9GSUVMRCh0bXAs
IENQX1ZNSURfUkVTRVQsIFBJUEUwX1FVRVVFUywNCj4gMSA8PCByaW5nLT5xdWV1ZSk7DQo+IC0g
ICAgIGVsc2UNCj4gLSAgICAgICAgICAgICB0bXAgPSBSRUdfU0VUX0ZJRUxEKHRtcCwgQ1BfVk1J
RF9SRVNFVCwgUElQRTFfUVVFVUVTLA0KPiAxIDw8IHJpbmctPnF1ZXVlKTsNCj4gLQ0KPiAgICAg
ICBnZnhfdjEwXzBfcmluZ19lbWl0X3dyZWcoa2lxX3JpbmcsDQo+ICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBTT0MxNV9SRUdfT0ZGU0VUKEdDLCAwLA0KPiBtbUNQX1ZNSURfUkVTRVQp
LCB0bXApOw0KPiAtICAgICBnZnhfdjEwXzBfd2FpdF9yZWdfbWVtKGtpcV9yaW5nLCAwLCAxLCAw
LA0KPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvd2VyXzMyX2JpdHMoYWRkciksIHVw
cGVyXzMyX2JpdHMoYWRkciksDQo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgMCwgMSwg
MHgyMCk7DQo+IC0gICAgIGdmeF92MTBfMF9yaW5nX2VtaXRfcmVnX3dhaXQoa2lxX3JpbmcsDQo+
IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU09DMTVfUkVHX09GRlNFVChHQywg
MCwNCj4gbW1DUF9WTUlEX1JFU0VUKSwgMCwgMHhmZmZmZmZmZik7DQo+IC0gICAgIGtpcS0+cG1m
LT5raXFfbWFwX3F1ZXVlcyhraXFfcmluZywgcmluZyk7DQo+ICAgICAgIGFtZGdwdV9yaW5nX2Nv
bW1pdChraXFfcmluZyk7DQo+DQo+ICAgICAgIHNwaW5fdW5sb2NrX2lycXJlc3RvcmUoJmtpcS0+
cmluZ19sb2NrLCBmbGFncyk7IEBAIC05NTA3LDI0ICs5NDg4LDEyDQo+IEBAIHN0YXRpYyBpbnQg
Z2Z4X3YxMF8wX3Jlc2V0X2tncShzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsIHVuc2lnbmVkIGlu
dCB2bWlkKQ0KPiAgICAgICBpZiAocikNCj4gICAgICAgICAgICAgICByZXR1cm4gcjsNCj4NCj4g
LSAgICAgciA9IGFtZGdwdV9ib19yZXNlcnZlKHJpbmctPm1xZF9vYmosIGZhbHNlKTsNCj4gLSAg
ICAgaWYgKHVubGlrZWx5KHIgIT0gMCkpIHsNCj4gLSAgICAgICAgICAgICBEUk1fRVJST1IoImZh
aWwgdG8gcmVzdiBtcWRfb2JqXG4iKTsNCj4gLSAgICAgICAgICAgICByZXR1cm4gcjsNCj4gLSAg
ICAgfQ0KPiAtICAgICByID0gYW1kZ3B1X2JvX2ttYXAocmluZy0+bXFkX29iaiwgKHZvaWQgKiop
JnJpbmctPm1xZF9wdHIpOw0KPiAtICAgICBpZiAoIXIpIHsNCj4gLSAgICAgICAgICAgICByID0g
Z2Z4X3YxMF8wX2tncV9pbml0X3F1ZXVlKHJpbmcsIHRydWUpOw0KPiAtICAgICAgICAgICAgIGFt
ZGdwdV9ib19rdW5tYXAocmluZy0+bXFkX29iaik7DQo+IC0gICAgICAgICAgICAgcmluZy0+bXFk
X3B0ciA9IE5VTEw7DQo+IC0gICAgIH0NCj4gLSAgICAgYW1kZ3B1X2JvX3VucmVzZXJ2ZShyaW5n
LT5tcWRfb2JqKTsNCj4gLSAgICAgaWYgKHIpIHsNCj4gLSAgICAgICAgICAgICBEUk1fRVJST1Io
ImZhaWwgdG8gdW5yZXN2IG1xZF9vYmpcbiIpOw0KPiAtICAgICAgICAgICAgIHJldHVybiByOw0K
PiAtICAgICB9DQo+ICsgICAgIGlmIChhbWRncHVfcmluZ19hbGxvYyhyaW5nLCA3ICsgNyArIDUg
KyA3KSkNCj4gKyAgICAgICAgICAgICByZXR1cm4gLUVOT01FTTsNCj4gKyAgICAgZ2Z4X3YxMF8w
X3JpbmdfZW1pdF9waXBlbGluZV9zeW5jKHJpbmcpOw0KV2h5IHdlIG5lZWQgdG8gc2V0IENQX1ZN
SURfUkVTRVQgMHhmZmZmIGhlcmU/IERvZXMgaXQgbWVhbiB0aGF0IHdlIGhhdmUgdG8gcmVzZXQo
dGVybWluYXRlKSBhbGwgdGhlIHdhdmVzIGZyb20gdGhlIG90aGVyIHZtaWRzPw0KDQpUaGFua3Ms
DQpKaWFkb25nDQoNCj4gKyAgICAgYW1kZ3B1X3JpbmdfY29tbWl0KHJpbmcpOw0KPg0KPiAtICAg
ICByZXR1cm4gYW1kZ3B1X3JpbmdfdGVzdF9yaW5nKHJpbmcpOw0KPiArICAgICByZXR1cm4gZ2Z4
X3YxMF8wX3JpbmdfdGVzdF9pYihyaW5nLA0KPiBBTURHUFVfUVVFVUVfUkVTRVRfVElNRU9VVCk7
DQo+ICB9DQo+DQo+ICBzdGF0aWMgaW50IGdmeF92MTBfMF9yZXNldF9rY3Eoc3RydWN0IGFtZGdw
dV9yaW5nICpyaW5nLCBAQCAtOTgxOSw3ICs5Nzg4LDYNCj4gQEAgc3RhdGljIGNvbnN0IHN0cnVj
dCBhbWRncHVfcmluZ19mdW5jcyBnZnhfdjEwXzBfcmluZ19mdW5jc19nZnggPSB7DQo+ICAgICAg
IC5lbWl0X3dyZWcgPSBnZnhfdjEwXzBfcmluZ19lbWl0X3dyZWcsDQo+ICAgICAgIC5lbWl0X3Jl
Z193YWl0ID0gZ2Z4X3YxMF8wX3JpbmdfZW1pdF9yZWdfd2FpdCwNCj4gICAgICAgLmVtaXRfcmVn
X3dyaXRlX3JlZ193YWl0ID0gZ2Z4X3YxMF8wX3JpbmdfZW1pdF9yZWdfd3JpdGVfcmVnX3dhaXQs
DQo+IC0gICAgIC5zb2Z0X3JlY292ZXJ5ID0gZ2Z4X3YxMF8wX3Jpbmdfc29mdF9yZWNvdmVyeSwN
Cj4gICAgICAgLmVtaXRfbWVtX3N5bmMgPSBnZnhfdjEwXzBfZW1pdF9tZW1fc3luYywNCj4gICAg
ICAgLnJlc2V0ID0gZ2Z4X3YxMF8wX3Jlc2V0X2tncSwNCj4gICAgICAgLmVtaXRfY2xlYW5lcl9z
aGFkZXIgPSBnZnhfdjEwXzBfcmluZ19lbWl0X2NsZWFuZXJfc2hhZGVyLA0KPiBAQCAtOTg2MCw3
ICs5ODI4LDYgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBhbWRncHVfcmluZ19mdW5jcw0KPiBnZnhf
djEwXzBfcmluZ19mdW5jc19jb21wdXRlID0gew0KPiAgICAgICAuZW1pdF93cmVnID0gZ2Z4X3Yx
MF8wX3JpbmdfZW1pdF93cmVnLA0KPiAgICAgICAuZW1pdF9yZWdfd2FpdCA9IGdmeF92MTBfMF9y
aW5nX2VtaXRfcmVnX3dhaXQsDQo+ICAgICAgIC5lbWl0X3JlZ193cml0ZV9yZWdfd2FpdCA9IGdm
eF92MTBfMF9yaW5nX2VtaXRfcmVnX3dyaXRlX3JlZ193YWl0LA0KPiAtICAgICAuc29mdF9yZWNv
dmVyeSA9IGdmeF92MTBfMF9yaW5nX3NvZnRfcmVjb3ZlcnksDQo+ICAgICAgIC5lbWl0X21lbV9z
eW5jID0gZ2Z4X3YxMF8wX2VtaXRfbWVtX3N5bmMsDQo+ICAgICAgIC5yZXNldCA9IGdmeF92MTBf
MF9yZXNldF9rY3EsDQo+ICAgICAgIC5lbWl0X2NsZWFuZXJfc2hhZGVyID0gZ2Z4X3YxMF8wX3Jp
bmdfZW1pdF9jbGVhbmVyX3NoYWRlciwNCj4gLS0NCj4gMi4zNC4xDQoNCg==
