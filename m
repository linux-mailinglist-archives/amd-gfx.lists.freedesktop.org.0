Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id A1B08A130D
	for <lists+amd-gfx@lfdr.de>; Thu, 29 Aug 2019 09:56:36 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id EC0F189FCC;
	Thu, 29 Aug 2019 07:56:34 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from NAM04-BN3-obe.outbound.protection.outlook.com
 (mail-eopbgr680062.outbound.protection.outlook.com [40.107.68.62])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A072189FCC
 for <amd-gfx@lists.freedesktop.org>; Thu, 29 Aug 2019 07:56:33 +0000 (UTC)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=RlsJm/NihvlUIabySZJZlEfzBksDgQlWSKIoDjY6F8lJ2zD0RE5Zx7QwiRbZGky+YZ8Hi+BHF6nJP2tl2Al8IA3bU5UREwz5Niy/fp3Q8ELkyFLUm0QjwHJJKoc/bG0yThzPG5KelzsiHpQYFevesOUjZU6NMqDE2nXTc3lDiIYpqHwR1Cmw1obzgkDHsUXlDolWgJd/RvoAuoaO9HG0HD9jwZhYwNU3FRmeTP6Mz9nFNj9676g7pM5nZOLUMtTmX0LxveBff1zGqAIUHouj7/6q1I97SNpAQ6KwNz/eWmCI0IkSKzOls911UDk+eAcbEog/vQ2iuc1aQfg28uiXtQ==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=ki/g6y5wFinch8ojWHVPriMWU0pz2sKrjVbiv9HCtTA=;
 b=D8jEPS6/hGb+rrjWlzTyhnpoekWPAMYVvrYKTrb0ph5zPG/8zyEL7AXnopU6fu0dwckBy04k1NhBKMsuyGJ5tpjLM7OxvquWlUuhXpWflQdSXvCqh0EbObv8m+GQRdQnTVGMS08/En72PoF6RvuuRGr+KWje/Cjt9mf7QW8fGW4cbkE07wu5J8jRVvwVcDgyZVlMnTtjIXFZF2MZoQzH/po/58uPG5ceQ9km4/LKPzYPerhEtHuYGnauTw3z+b5Tk4PD3MrO/FzknXbw07KK5ZqdOU8V0ScWoooiLmYCJ+jeDr0phMxgB6gij8ppGg27TUNa6ya4Stkn1HjEVPHACQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
Received: from MN2PR12MB3054.namprd12.prod.outlook.com (20.178.244.79) by
 MN2PR12MB3438.namprd12.prod.outlook.com (20.178.242.29) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2199.21; Thu, 29 Aug 2019 07:56:30 +0000
Received: from MN2PR12MB3054.namprd12.prod.outlook.com
 ([fe80::f8cf:7a84:723c:27d0]) by MN2PR12MB3054.namprd12.prod.outlook.com
 ([fe80::f8cf:7a84:723c:27d0%3]) with mapi id 15.20.2199.021; Thu, 29 Aug 2019
 07:56:30 +0000
From: "Zhou1, Tao" <Tao.Zhou1@amd.com>
To: "Grodzovsky, Andrey" <Andrey.Grodzovsky@amd.com>,
 "amd-gfx@lists.freedesktop.org" <amd-gfx@lists.freedesktop.org>
Subject: RE: [PATCH 1/2] dmr/amdgpu: Avoid HW GPU reset for RAS.
Thread-Topic: [PATCH 1/2] dmr/amdgpu: Avoid HW GPU reset for RAS.
Thread-Index: AQHVXdtLgV9jvq1q6USWqvhZXt86aKcRveBg
Date: Thu, 29 Aug 2019 07:56:30 +0000
Message-ID: <MN2PR12MB305484B7D854243654C06EBDB0A20@MN2PR12MB3054.namprd12.prod.outlook.com>
References: <1567022426-6612-1-git-send-email-andrey.grodzovsky@amd.com>
In-Reply-To: <1567022426-6612-1-git-send-email-andrey.grodzovsky@amd.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [180.167.199.189]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 70699737-30f9-4aea-26c3-08d72c566723
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(5600166)(711020)(4605104)(1401327)(4618075)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(2017052603328)(7193020);
 SRVR:MN2PR12MB3438; 
x-ms-traffictypediagnostic: MN2PR12MB3438:
x-ms-exchange-purlcount: 1
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <MN2PR12MB3438BCF0C63774D11122CDAAB0A20@MN2PR12MB3438.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:785;
x-forefront-prvs: 0144B30E41
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(39860400002)(366004)(396003)(136003)(376002)(346002)(13464003)(189003)(199004)(256004)(53546011)(9686003)(99286004)(2501003)(14444005)(186003)(14454004)(8676002)(55016002)(81156014)(30864003)(81166006)(6306002)(7696005)(76176011)(8936002)(53946003)(6436002)(110136005)(53936002)(26005)(966005)(54906003)(478600001)(316002)(5660300002)(6246003)(2906002)(86362001)(66556008)(66476007)(7736002)(446003)(64756008)(66946007)(66446008)(11346002)(76116006)(102836004)(3846002)(66066001)(4326008)(305945005)(6116002)(486006)(476003)(229853002)(74316002)(25786009)(71200400001)(71190400001)(33656002)(6506007)(52536014)(309714004);
 DIR:OUT; SFP:1101; SCL:1; SRVR:MN2PR12MB3438;
 H:MN2PR12MB3054.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; MX:1; A:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: gpU+u6Swdiy0rQLmRj4V5RD8DD2V4g4ZfpocAqhpljLQeAqtqS0hyRzsGZghnuM4h5IvzAXOPG5/PaIXXDkYD4xg2U5iAlcIot6VQQmTxI3d2UpOdG19lDHpmHFmNYVRfrXo1CcmolaV37ZocCpfVyvPLj46MTBrymSOH2e4bkja6VDQXzsvFImQ2qHUk4Gycy9wbn0jDIltLM4SiaFv2oIJpmL8dWnr/ZJEUi5L2Mc4x2KCDKvM5wKrn7HU+/mx7m8cqtQTIjMtpWZaxS7x3rumxk0BoTQXCfYqXh+uvV6ZDZBdrZaDchJMyY+Y/g8Fw+EaSLixdyTG1fyz3t4yTF+BKOtYoQVvch1hl/lHVUM8wT+GvUQbJ+jiEcv2byyJEj000Q/5vpoYA+Ny3Bk+Ch3HeLidTxfyq8uY76HfsJ0=
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 70699737-30f9-4aea-26c3-08d72c566723
X-MS-Exchange-CrossTenant-originalarrivaltime: 29 Aug 2019 07:56:30.3861 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: K8M8b/u1L19HgFhUZ1m+MgJy+mgrcY+fy9dShRvQ4cn1QW02VTKAw0KGiGobzH+v
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR12MB3438
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=ki/g6y5wFinch8ojWHVPriMWU0pz2sKrjVbiv9HCtTA=;
 b=K2mmjzNCqnBZkCxDBxSI9KMOW2WnJuwRtx8SEuxcgQ1iswU2zE8p9opdobyIKF8uFM4F34AgIYDaWD01HLjJKQqNY8boXDSFpgW9hDM1zX71v9OlTp7wxQj65bpyvda7sMFDk90gx3uf/kTeOUNkRIDWQE/11hzn1ZhjYYs6lAA=
X-Mailman-Original-Authentication-Results: spf=none (sender IP is )
 smtp.mailfrom=Tao.Zhou1@amd.com; 
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: "alexdeucher@gmail.com" <alexdeucher@gmail.com>,
 "ckoenig.leichtzumerken@gmail.com" <ckoenig.leichtzumerken@gmail.com>, "Zhang,
 Hawking" <Hawking.Zhang@amd.com>, "Grodzovsky,
 Andrey" <Andrey.Grodzovsky@amd.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

DQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogYW1kLWdmeCA8YW1kLWdm
eC1ib3VuY2VzQGxpc3RzLmZyZWVkZXNrdG9wLm9yZz4gT24gQmVoYWxmIE9mDQo+IEFuZHJleSBH
cm9kem92c2t5DQo+IFNlbnQ6IDIwMTnlubQ45pyIMjnml6UgNDowMA0KPiBUbzogYW1kLWdmeEBs
aXN0cy5mcmVlZGVza3RvcC5vcmcNCj4gQ2M6IGFsZXhkZXVjaGVyQGdtYWlsLmNvbTsgY2tvZW5p
Zy5sZWljaHR6dW1lcmtlbkBnbWFpbC5jb207DQo+IEdyb2R6b3Zza3ksIEFuZHJleSA8QW5kcmV5
Lkdyb2R6b3Zza3lAYW1kLmNvbT47IFpoYW5nLCBIYXdraW5nDQo+IDxIYXdraW5nLlpoYW5nQGFt
ZC5jb20+DQo+IFN1YmplY3Q6IFtQQVRDSCAxLzJdIGRtci9hbWRncHU6IEF2b2lkIEhXIEdQVSBy
ZXNldCBmb3IgUkFTLg0KPiANCj4gUHJvYmxlbToNCj4gVW5kZXIgY2VydGFpbiBjb25kaXRpb25z
LCB3aGVuIHNvbWUgSVAgYm9ja3MgdGFrZSBhIFJBUyBlcnJvciwgd2UgY2FuIGdldA0KW1Rhb10g
dHlwbzogImRtci9hbWRncHUiIC0+ICJkcm0vYW1kZ3B1IiwgIklQIGJvY2tzIiAtPiAiSVAgYmxv
Y2tzIg0KDQo+IGludG8gYSBzaXR1YXRpb24gd2hlcmUgYSBHUFUgcmVzZXQgaXMgbm90IHBvc3Np
YmxlIGR1ZSB0byBpc3N1ZXMgaW4gUkFTIGluDQo+IFNNVS9QU1AuDQo+IA0KPiBUZW1wb3Jhcnkg
Zml4IHVudGlsIHByb3BlciBzb2x1dGlvbiBpbiBQU1AvU01VIGlzIHJlYWR5Og0KPiBXaGVuIHVu
Y29ycmVjdGFibGUgZXJyb3IgaGFwcGVucyB0aGUgREYgd2lsbCB1bmNvbmRpdGlvbmFsbHkgYnJv
YWRjYXN0DQo+IGVycm9yIGV2ZW50IHBhY2tldHMgdG8gYWxsIGl0cyBjbGllbnRzL3NsYXZlIHVw
b24gcmVjZWl2aW5nIGZhdGFsIGVycm9yIGV2ZW50IGFuZA0KPiBmcmVlemUgYWxsIGl0cyBvdXRi
b3VuZCBxdWV1ZXMsIGVycl9ldmVudF9hdGh1YiBpbnRlcnJ1cHQgIHdpbGwgYmUgdHJpZ2dlcmVk
Lg0KPiBJbiBzdWNoIGNhc2UgYW5kIHdlIHVzZSB0aGlzIGludGVycnVwdA0KPiB0byBpc3N1ZSBH
UFUgcmVzZXQuIFRIZSBHUFUgcmVzZXQgY29kZSBpcyBtb2RpZmllZCBmb3Igc3VjaCBjYXNlIHRv
IGF2b2lkIEhXDQo+IHJlc2V0LCBvbmx5IHN0b3BzIHNjaGVkdWxlcnMsIGRlYXRjaGVzIGFsbCBp
biBwcm9ncmVzcyBhbmQgbm90IHlldCBzY2hlZHVsZWQNCj4gam9iJ3MgZmVuY2VzLCBzZXQgZXJy
b3IgY29kZSBvbiB0aGVtIGFuZCBzaWduYWxzLg0KPiBBbHNvIHJlamVjdCBhbnkgbmV3IGluY29t
aW5nIGpvYiBzdWJtaXNzaW9ucyBmcm9tIHVzZXIgc3BhY2UuDQo+IEFsbCB0aGlzIGlzIGRvbmUg
dG8gbm90aWZ5IHRoZSBhcHBsaWNhdGlvbnMgb2YgdGhlIHByb2JsZW0uDQo+IA0KPiBTaWduZWQt
b2ZmLWJ5OiBBbmRyZXkgR3JvZHpvdnNreSA8YW5kcmV5Lmdyb2R6b3Zza3lAYW1kLmNvbT4NCj4g
LS0tDQo+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfY3MuYyAgICAgfCAgNCAr
Kw0KPiAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RldmljZS5jIHwgOTgNCj4g
KysrKysrKysrKysrKysrKysrKysrKy0tLS0tLS0tDQo+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfZHJ2LmMgICAgfCAgNSArKw0KPiAgZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X2ttcy5jICAgIHwgIDYgKysNCj4gIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1
L2FtZGdwdV9yYXMuYyAgICB8IDMwICsrKysrKystLQ0KPiAgZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvYW1kZ3B1X3Jhcy5oICAgIHwgMTIgKysrLQ0KPiAgZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvZ2Z4X3Y5XzAuYyAgICAgIHwgMTAgKy0tDQo+ICBkcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9nbWNfdjlfMC5jICAgICAgfCAyNCArKysrLS0tLQ0KPiAgZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvbmJpb192N180LmMgICAgIHwgIDUgKysNCj4gIGRyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L3NkbWFfdjRfMC5jICAgICB8IDMyICsrKysrLS0tLS0NCj4gIDEwIGZpbGVzIGNoYW5n
ZWQsIDE2NCBpbnNlcnRpb25zKCspLCA2MiBkZWxldGlvbnMoLSkNCj4gDQo+IGRpZmYgLS1naXQg
YS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfY3MuYw0KPiBiL2RyaXZlcnMvZ3B1
L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9jcy5jDQo+IGluZGV4IDlkYTY4MWUuLjMwMGFkYjggMTAw
NjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9jcy5jDQo+ICsr
KyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9jcy5jDQo+IEBAIC0zOCw2ICsz
OCw3IEBADQo+ICAjaW5jbHVkZSAiYW1kZ3B1X2dtYy5oIg0KPiAgI2luY2x1ZGUgImFtZGdwdV9n
ZW0uaCINCj4gICNpbmNsdWRlICJhbWRncHVfZGlzcGxheS5oIg0KPiArI2luY2x1ZGUgImFtZGdw
dV9yYXMuaCINCj4gDQo+ICAjaWYgZGVmaW5lZChIQVZFX0RSTV9GUkVFX0xBUkdFKQ0KPiAgI2Rl
ZmluZSBrdmZyZWUgZHJtX2ZyZWVfbGFyZ2UNCj4gQEAgLTE0NjEsNiArMTQ2Miw5IEBAIGludCBh
bWRncHVfY3NfaW9jdGwoc3RydWN0IGRybV9kZXZpY2UgKmRldiwgdm9pZA0KPiAqZGF0YSwgc3Ry
dWN0IGRybV9maWxlICpmaWxwKQ0KPiAgCWJvb2wgcmVzZXJ2ZWRfYnVmZmVycyA9IGZhbHNlOw0K
PiAgCWludCBpLCByOw0KPiANCj4gKwlpZiAoYW1kZ3B1X3Jhc19pbnRyX3RyaWdnZXJlZCgpKQ0K
PiArCQlyZXR1cm4gLUVIV1BPSVNPTjsNCj4gKw0KPiAgCWlmICghYWRldi0+YWNjZWxfd29ya2lu
ZykNCj4gIAkJcmV0dXJuIC1FQlVTWTsNCj4gDQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9hbWRncHVfZGV2aWNlLmMNCj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9hbWRncHVfZGV2aWNlLmMNCj4gaW5kZXggMDdhNGJhMC4uM2VjZWUxMCAxMDA2NDQNCj4g
LS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X2RldmljZS5jDQo+ICsrKyBi
L2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9kZXZpY2UuYw0KPiBAQCAtMzczNCwx
MCArMzczNCwxMCBAQCBzdGF0aWMgYm9vbCBhbWRncHVfZGV2aWNlX2xvY2tfYWRldihzdHJ1Y3QN
Cj4gYW1kZ3B1X2RldmljZSAqYWRldiwgYm9vbCB0cnlsb2NrKQ0KPiAgCXJldHVybiB0cnVlOw0K
PiAgfQ0KPiANCj4gLXN0YXRpYyB2b2lkIGFtZGdwdV9kZXZpY2VfdW5sb2NrX2FkZXYoc3RydWN0
IGFtZGdwdV9kZXZpY2UgKmFkZXYpDQo+ICtzdGF0aWMgdm9pZCBhbWRncHVfZGV2aWNlX3VubG9j
a19hZGV2KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LCBib29sDQo+ICtza2lwX2tmZCkNCj4g
IHsNCj4gIAkvKnVubG9jayBrZmQ6IFNSSU9WIHdvdWxkIGRvIGl0IHNlcGFyYXRlbHkgKi8NCj4g
LQlpZiAoIWFtZGdwdV9zcmlvdl92ZihhZGV2KSkNCj4gKwlpZiAoIWFtZGdwdV9zcmlvdl92Zihh
ZGV2KSAmJiAhc2tpcF9rZmQpDQo+ICAgICAgICAgICAgICAgICAgYW1kZ3B1X2FtZGtmZF9wb3N0
X3Jlc2V0KGFkZXYpOw0KPiAgCWFtZGdwdV92Zl9lcnJvcl90cmFuc19hbGwoYWRldik7DQo+ICAJ
YWRldi0+bXAxX3N0YXRlID0gUFBfTVAxX1NUQVRFX05PTkU7DQo+IEBAIC0zNzQ2LDYgKzM3NDYs
NDQgQEAgc3RhdGljIHZvaWQgYW1kZ3B1X2RldmljZV91bmxvY2tfYWRldihzdHJ1Y3QNCj4gYW1k
Z3B1X2RldmljZSAqYWRldikgIH0NCj4gDQo+IA0KPiArI2RlZmluZSB0b19kcm1fc2NoZWRfam9i
KHNjaGVkX2pvYikJCVwNCj4gKwkJY29udGFpbmVyX29mKChzY2hlZF9qb2IpLCBzdHJ1Y3QgZHJt
X3NjaGVkX2pvYiwNCj4gcXVldWVfbm9kZSkNCj4gKw0KPiArc3RhdGljIHZvaWQgYW1kZ3B1X3N0
b3BfYWxsX2pvYnNfb25fc2NoZWQoc3RydWN0IGRybV9ncHVfc2NoZWR1bGVyDQo+ICsqc2NoZWQp
IHsNCj4gKwlzdHJ1Y3QgZHJtX3NjaGVkX2pvYiAqc19qb2I7DQo+ICsJc3RydWN0IGRybV9zY2hl
ZF9lbnRpdHkgKnNfZW50aXR5ID0gTlVMTDsNCj4gKwlpbnQgaTsNCj4gKw0KPiArCS8qIFNpZ25h
bCBhbGwgam9icyBub3QgeWV0IHNjaGVkdWxlZCAqLw0KPiArCWZvciAoaSA9IERSTV9TQ0hFRF9Q
UklPUklUWV9NQVggLSAxOyBpID49DQo+IERSTV9TQ0hFRF9QUklPUklUWV9NSU47IGktLSkgew0K
PiArCQlzdHJ1Y3QgZHJtX3NjaGVkX3JxICpycSA9ICZzY2hlZC0+c2NoZWRfcnFbaV07DQo+ICsN
Cj4gKwkJaWYgKCFycSkNCj4gKwkJCWNvbnRpbnVlOw0KPiArDQo+ICsJCXNwaW5fbG9jaygmcnEt
PmxvY2spOw0KPiArCQlsaXN0X2Zvcl9lYWNoX2VudHJ5KHNfZW50aXR5LCAmcnEtPmVudGl0aWVz
LCBsaXN0KSB7DQo+ICsJCQl3aGlsZSAoKHNfam9iID0NCj4gdG9fZHJtX3NjaGVkX2pvYihzcHNj
X3F1ZXVlX3BvcCgmc19lbnRpdHktPmpvYl9xdWV1ZSkpKSkgew0KPiArCQkJCXN0cnVjdCBkcm1f
c2NoZWRfZmVuY2UgKnNfZmVuY2UgPSBzX2pvYi0NCj4gPnNfZmVuY2U7DQo+ICsNCj4gKwkJCQlk
bWFfZmVuY2Vfc2lnbmFsKCZzX2ZlbmNlLT5zY2hlZHVsZWQpOw0KPiArCQkJCWRtYV9mZW5jZV9z
ZXRfZXJyb3IoJnNfZmVuY2UtPmZpbmlzaGVkLCAtDQo+IEVIV1BPSVNPTik7DQo+ICsJCQkJZG1h
X2ZlbmNlX3NpZ25hbCgmc19mZW5jZS0+ZmluaXNoZWQpOw0KPiArCQkJfQ0KPiArCQl9DQo+ICsJ
CXNwaW5fdW5sb2NrKCZycS0+bG9jayk7DQo+ICsJfQ0KPiArDQo+ICsJLyogU2lnbmFsIGFsbCBq
b2JzIGFscmVhZHkgc2NoZWR1bGVkIHRvIEhXICovDQo+ICsJbGlzdF9mb3JfZWFjaF9lbnRyeShz
X2pvYiwgJnNjaGVkLT5yaW5nX21pcnJvcl9saXN0LCBub2RlKSB7DQo+ICsJCXN0cnVjdCBkcm1f
c2NoZWRfZmVuY2UgKnNfZmVuY2UgPSBzX2pvYi0+c19mZW5jZTsNCj4gKw0KPiArCQlkbWFfZmVu
Y2Vfc2V0X2Vycm9yKCZzX2ZlbmNlLT5maW5pc2hlZCwgLUVIV1BPSVNPTik7DQo+ICsJCWRtYV9m
ZW5jZV9zaWduYWwoJnNfZmVuY2UtPmZpbmlzaGVkKTsNCj4gKwl9DQo+ICt9DQo+ICsNCj4gIC8q
Kg0KPiAgICogYW1kZ3B1X2RldmljZV9ncHVfcmVjb3ZlciAtIHJlc2V0IHRoZSBhc2ljIGFuZCBy
ZWNvdmVyIHNjaGVkdWxlcg0KPiAgICoNCj4gQEAgLTM3NjUsMTEgKzM4MDMsMTIgQEAgaW50IGFt
ZGdwdV9kZXZpY2VfZ3B1X3JlY292ZXIoc3RydWN0DQo+IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+
ICAJc3RydWN0IGFtZGdwdV9oaXZlX2luZm8gKmhpdmUgPSBOVUxMOw0KPiAgCXN0cnVjdCBhbWRn
cHVfZGV2aWNlICp0bXBfYWRldiA9IE5VTEw7DQo+ICAJaW50IGksIHIgPSAwOw0KPiArCWJvb2wg
aW5fcmFzX2ludHIgPSBhbWRncHVfcmFzX2ludHJfdHJpZ2dlcmVkKCk7DQo+IA0KPiAgCW5lZWRf
ZnVsbF9yZXNldCA9IGpvYl9zaWduYWxlZCA9IGZhbHNlOw0KPiAgCUlOSVRfTElTVF9IRUFEKCZk
ZXZpY2VfbGlzdCk7DQo+IA0KPiAtCWRldl9pbmZvKGFkZXYtPmRldiwgIkdQVSByZXNldCBiZWdp
biFcbiIpOw0KPiArCWRldl9pbmZvKGFkZXYtPmRldiwgIkdQVSAlcyBiZWdpbiFcbiIsIGluX3Jh
c19pbnRyID8gImpvYnMNCj4gK3N0b3AiOiJyZXNldCIpOw0KPiANCj4gIAljYW5jZWxfZGVsYXll
ZF93b3JrX3N5bmMoJmFkZXYtPmRlbGF5ZWRfaW5pdF93b3JrKTsNCj4gDQo+IEBAIC0zNzk5LDcg
KzM4MzgsNyBAQCBpbnQgYW1kZ3B1X2RldmljZV9ncHVfcmVjb3ZlcihzdHJ1Y3QNCj4gYW1kZ3B1
X2RldmljZSAqYWRldiwNCj4gIAkvKiBCdWlsZCBsaXN0IG9mIGRldmljZXMgdG8gcmVzZXQgKi8N
Cj4gIAlpZiAgKGFkZXYtPmdtYy54Z21pLm51bV9waHlzaWNhbF9ub2RlcyA+IDEpIHsNCj4gIAkJ
aWYgKCFoaXZlKSB7DQo+IC0JCQlhbWRncHVfZGV2aWNlX3VubG9ja19hZGV2KGFkZXYpOw0KPiAr
CQkJYW1kZ3B1X2RldmljZV91bmxvY2tfYWRldihhZGV2LCBmYWxzZSk7DQo+ICAJCQlyZXR1cm4g
LUVOT0RFVjsNCj4gIAkJfQ0KPiANCj4gQEAgLTM4MjQsNyArMzg2Myw3IEBAIGludCBhbWRncHVf
ZGV2aWNlX2dwdV9yZWNvdmVyKHN0cnVjdA0KPiBhbWRncHVfZGV2aWNlICphZGV2LA0KPiAgCS8q
IGJsb2NrIGFsbCBzY2hlZHVsZXJzIGFuZCByZXNldCBnaXZlbiBqb2IncyByaW5nICovDQo+ICAJ
bGlzdF9mb3JfZWFjaF9lbnRyeSh0bXBfYWRldiwgZGV2aWNlX2xpc3RfaGFuZGxlLCBnbWMueGdt
aS5oZWFkKSB7DQo+ICAJCS8qIGRpc2FibGUgcmFzIG9uIEFMTCBJUHMgKi8NCj4gLQkJaWYgKGFt
ZGdwdV9kZXZpY2VfaXBfbmVlZF9mdWxsX3Jlc2V0KHRtcF9hZGV2KSkNCj4gKwkJaWYgKCFpbl9y
YXNfaW50ciAmJg0KPiBhbWRncHVfZGV2aWNlX2lwX25lZWRfZnVsbF9yZXNldCh0bXBfYWRldikp
DQo+ICAJCQlhbWRncHVfcmFzX3N1c3BlbmQodG1wX2FkZXYpOw0KPiANCj4gIAkJZm9yIChpID0g
MDsgaSA8IEFNREdQVV9NQVhfUklOR1M7ICsraSkgeyBAQCAtMzgzNCwxMA0KPiArMzg3MywxNiBA
QCBpbnQgYW1kZ3B1X2RldmljZV9ncHVfcmVjb3ZlcihzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRl
diwNCj4gIAkJCQljb250aW51ZTsNCj4gDQo+ICAJCQlkcm1fc2NoZWRfc3RvcCgmcmluZy0+c2No
ZWQsIGpvYiA/ICZqb2ItPmJhc2UgOg0KPiBOVUxMKTsNCj4gKw0KPiArCQkJaWYgKGluX3Jhc19p
bnRyKQ0KPiArCQkJCWFtZGdwdV9zdG9wX2FsbF9qb2JzX29uX3NjaGVkKCZyaW5nLQ0KPiA+c2No
ZWQpOw0KPiAgCQl9DQo+ICAJfQ0KPiANCj4gDQo+ICsJaWYgKGluX3Jhc19pbnRyKQ0KPiArCQln
b3RvIHNraXBfaHdfcmVzZXQ7DQo+ICsNCj4gIAkvKg0KPiAgCSAqIE11c3QgY2hlY2sgZ3VpbHR5
IHNpZ25hbCBoZXJlIHNpbmNlIGFmdGVyIHRoaXMgcG9pbnQgYWxsIG9sZA0KPiAgCSAqIEhXIGZl
bmNlcyBhcmUgZm9yY2Ugc2lnbmFsZWQuDQo+IEBAIC0zOTAyLDM0ICszOTQ3LDM3IEBAIGludCBh
bWRncHVfZGV2aWNlX2dwdV9yZWNvdmVyKHN0cnVjdA0KPiBhbWRncHVfZGV2aWNlICphZGV2LA0K
PiANCj4gIAkvKiBQb3N0IEFTSUMgcmVzZXQgZm9yIGFsbCBkZXZzIC4qLw0KPiAgCWxpc3RfZm9y
X2VhY2hfZW50cnkodG1wX2FkZXYsIGRldmljZV9saXN0X2hhbmRsZSwgZ21jLnhnbWkuaGVhZCkg
ew0KPiAtCQlmb3IgKGkgPSAwOyBpIDwgQU1ER1BVX01BWF9SSU5HUzsgKytpKSB7DQo+IC0JCQlz
dHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcgPSB0bXBfYWRldi0+cmluZ3NbaV07DQo+IA0KPiAtCQkJ
aWYgKCFyaW5nIHx8ICFyaW5nLT5zY2hlZC50aHJlYWQpDQo+IC0JCQkJY29udGludWU7DQo+ICsJ
CWlmICghaW5fcmFzX2ludHIpIHsNCj4gKwkJCWZvciAoaSA9IDA7IGkgPCBBTURHUFVfTUFYX1JJ
TkdTOyArK2kpIHsNCj4gKwkJCQlzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcgPSB0bXBfYWRldi0N
Cj4gPnJpbmdzW2ldOw0KPiANCj4gLQkJCS8qIE5vIHBvaW50IHRvIHJlc3VibWl0IGpvYnMgaWYg
d2UgZGlkbid0IEhXIHJlc2V0Ki8NCj4gLQkJCWlmICghdG1wX2FkZXYtPmFzaWNfcmVzZXRfcmVz
ICYmICFqb2Jfc2lnbmFsZWQpDQo+IC0JCQkJZHJtX3NjaGVkX3Jlc3VibWl0X2pvYnMoJnJpbmct
PnNjaGVkKTsNCj4gKwkJCQlpZiAoIXJpbmcgfHwgIXJpbmctPnNjaGVkLnRocmVhZCkNCj4gKwkJ
CQkJY29udGludWU7DQo+IA0KPiAtCQkJZHJtX3NjaGVkX3N0YXJ0KCZyaW5nLT5zY2hlZCwgIXRt
cF9hZGV2LQ0KPiA+YXNpY19yZXNldF9yZXMpOw0KPiAtCQl9DQo+ICsJCQkJLyogTm8gcG9pbnQg
dG8gcmVzdWJtaXQgam9icyBpZiB3ZSBkaWRuJ3QgSFcNCj4gcmVzZXQqLw0KPiArCQkJCWlmICgh
dG1wX2FkZXYtPmFzaWNfcmVzZXRfcmVzDQo+ICYmICFqb2Jfc2lnbmFsZWQpDQo+ICsJCQkJCWRy
bV9zY2hlZF9yZXN1Ym1pdF9qb2JzKCZyaW5nLQ0KPiA+c2NoZWQpOw0KPiANCj4gLQkJaWYgKCFh
bWRncHVfZGV2aWNlX2hhc19kY19zdXBwb3J0KHRtcF9hZGV2KQ0KPiAmJiAham9iX3NpZ25hbGVk
KSB7DQo+IC0JCQlkcm1faGVscGVyX3Jlc3VtZV9mb3JjZV9tb2RlKHRtcF9hZGV2LT5kZGV2KTsN
Cj4gLQkJfQ0KPiArCQkJCWRybV9zY2hlZF9zdGFydCgmcmluZy0+c2NoZWQsICF0bXBfYWRldi0N
Cj4gPmFzaWNfcmVzZXRfcmVzKTsNCj4gKwkJCX0NCj4gDQo+IC0JCXRtcF9hZGV2LT5hc2ljX3Jl
c2V0X3JlcyA9IDA7DQo+ICsJCQlpZiAoIWFtZGdwdV9kZXZpY2VfaGFzX2RjX3N1cHBvcnQodG1w
X2FkZXYpDQo+ICYmICFqb2Jfc2lnbmFsZWQpIHsNCj4gKwkJCQlkcm1faGVscGVyX3Jlc3VtZV9m
b3JjZV9tb2RlKHRtcF9hZGV2LQ0KPiA+ZGRldik7DQo+ICsJCQl9DQo+IA0KPiAtCQlpZiAocikg
ew0KPiAtCQkJLyogYmFkIG5ld3MsIGhvdyB0byB0ZWxsIGl0IHRvIHVzZXJzcGFjZSA/ICovDQo+
IC0JCQlkZXZfaW5mbyh0bXBfYWRldi0+ZGV2LCAiR1BVIHJlc2V0KCVkKSBmYWlsZWRcbiIsDQo+
IGF0b21pY19yZWFkKCZhZGV2LT5ncHVfcmVzZXRfY291bnRlcikpOw0KPiAtCQkJYW1kZ3B1X3Zm
X2Vycm9yX3B1dCh0bXBfYWRldiwNCj4gQU1ER0lNX0VSUk9SX1ZGX0dQVV9SRVNFVF9GQUlMLCAw
LCByKTsNCj4gLQkJfSBlbHNlIHsNCj4gLQkJCWRldl9pbmZvKHRtcF9hZGV2LT5kZXYsICJHUFUg
cmVzZXQoJWQpDQo+IHN1Y2NlZWRlZCFcbiIsIGF0b21pY19yZWFkKCZhZGV2LT5ncHVfcmVzZXRf
Y291bnRlcikpOw0KPiArCQkJdG1wX2FkZXYtPmFzaWNfcmVzZXRfcmVzID0gMDsNCj4gKw0KPiAr
CQkJaWYgKHIpIHsNCj4gKwkJCQkvKiBiYWQgbmV3cywgaG93IHRvIHRlbGwgaXQgdG8gdXNlcnNw
YWNlID8gKi8NCj4gKwkJCQlkZXZfaW5mbyh0bXBfYWRldi0+ZGV2LCAiR1BVIHJlc2V0KCVkKQ0K
PiBmYWlsZWRcbiIsIGF0b21pY19yZWFkKCZhZGV2LT5ncHVfcmVzZXRfY291bnRlcikpOw0KPiAr
CQkJCWFtZGdwdV92Zl9lcnJvcl9wdXQodG1wX2FkZXYsDQo+IEFNREdJTV9FUlJPUl9WRl9HUFVf
UkVTRVRfRkFJTCwgMCwgcik7DQo+ICsJCQl9IGVsc2Ugew0KPiArCQkJCWRldl9pbmZvKHRtcF9h
ZGV2LT5kZXYsICJHUFUgcmVzZXQoJWQpDQo+IHN1Y2NlZWRlZCFcbiIsIGF0b21pY19yZWFkKCZh
ZGV2LT5ncHVfcmVzZXRfY291bnRlcikpOw0KPiArCQkJfQ0KPiAgCQl9DQo+IA0KPiAtCQlhbWRn
cHVfZGV2aWNlX3VubG9ja19hZGV2KHRtcF9hZGV2KTsNCj4gKwkJYW1kZ3B1X2RldmljZV91bmxv
Y2tfYWRldih0bXBfYWRldiwgaW5fcmFzX2ludHIpOw0KPiAgCX0NCj4gDQo+ICAJaWYgKGhpdmUp
DQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZHJ2LmMN
Cj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfZHJ2LmMNCj4gaW5kZXggMTUx
ZDdmMi4uNzU3ZmQ2ZCAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
YW1kZ3B1X2Rydi5jDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9k
cnYuYw0KPiBAQCAtNDAsNiArNDAsOCBAQA0KPiANCj4gICNpbmNsdWRlICJhbWRncHVfYW1ka2Zk
LmgiDQo+IA0KPiArI2luY2x1ZGUgImFtZGdwdV9yYXMuaCINCj4gKw0KPiAgLyoNCj4gICAqIEtN
UyB3cmFwcGVyLg0KPiAgICogLSAzLjAuMCAtIGluaXRpYWwgZHJpdmVyDQo+IEBAIC0xMTc5LDYg
KzExODEsOSBAQCBhbWRncHVfcGNpX3NodXRkb3duKHN0cnVjdCBwY2lfZGV2ICpwZGV2KQ0KPiAg
CXN0cnVjdCBkcm1fZGV2aWNlICpkZXYgPSBwY2lfZ2V0X2RydmRhdGEocGRldik7DQo+ICAJc3Ry
dWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSBkZXYtPmRldl9wcml2YXRlOw0KPiANCj4gKwlpZiAo
YW1kZ3B1X3Jhc19pbnRyX3RyaWdnZXJlZCgpKQ0KPiArCQlyZXR1cm47DQo+ICsNCj4gIAkvKiBp
ZiB3ZSBhcmUgcnVubmluZyBpbiBhIFZNLCBtYWtlIHN1cmUgdGhlIGRldmljZQ0KPiAgCSAqIHRv
cm4gZG93biBwcm9wZXJseSBvbiByZWJvb3Qvc2h1dGRvd24uDQo+ICAJICogdW5mb3J0dW5hdGVs
eSB3ZSBjYW4ndCBkZXRlY3QgY2VydGFpbiBkaWZmIC0tZ2l0DQo+IGEvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvYW1kZ3B1X2ttcy5jDQo+IGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUv
YW1kZ3B1X2ttcy5jDQo+IGluZGV4IGRhMjE0M2QuLmNlZDc2NmMgMTAwNjQ0DQo+IC0tLSBhL2Ry
aXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9rbXMuYw0KPiArKysgYi9kcml2ZXJzL2dw
dS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfa21zLmMNCj4gQEAgLTEwNDYsNiArMTA0NiwxMiBAQCBp
bnQgYW1kZ3B1X2RyaXZlcl9vcGVuX2ttcyhzdHJ1Y3QgZHJtX2RldmljZQ0KPiAqZGV2LCBzdHJ1
Y3QgZHJtX2ZpbGUgKmZpbGVfcHJpdikNCj4gIAkvKiBFbnN1cmUgSUIgdGVzdHMgYXJlIHJ1biBv
biByaW5nICovDQo+ICAJZmx1c2hfZGVsYXllZF93b3JrKCZhZGV2LT5kZWxheWVkX2luaXRfd29y
ayk7DQo+IA0KPiArDQo+ICsJaWYgKGFtZGdwdV9yYXNfaW50cl90cmlnZ2VyZWQoKSkgew0KPiAr
CQlEUk1fRVJST1IoIlJBUyBJbnRyIHRyaWdnZXJlZCwgZGV2aWNlIGRpc2FibGVkISEiKTsNCj4g
KwkJcmV0dXJuIC1FSFdQT0lTT047DQo+ICsJfQ0KPiArDQo+ICAJZmlsZV9wcml2LT5kcml2ZXJf
cHJpdiA9IE5VTEw7DQo+IA0KPiAgCXIgPSBwbV9ydW50aW1lX2dldF9zeW5jKGRldi0+ZGV2KTsN
Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9yYXMuYw0K
PiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9yYXMuYw0KPiBpbmRleCAyZDU4
OTdhLi4wODZlNmRmIDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9h
bWRncHVfcmFzLmMNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3Jh
cy5jDQo+IEBAIC0yNCw2ICsyNCw4IEBADQo+ICAjaW5jbHVkZSA8bGludXgvZGVidWdmcy5oPg0K
PiAgI2luY2x1ZGUgPGxpbnV4L2xpc3QuaD4NCj4gICNpbmNsdWRlIDxsaW51eC9tb2R1bGUuaD4N
Cj4gKyNpbmNsdWRlIDxsaW51eC9yZWJvb3QuaD4NCj4gKyNpbmNsdWRlIDxsaW51eC9zeXNjYWxs
cy5oPg0KPiAgI2luY2x1ZGUgImFtZGdwdS5oIg0KPiAgI2luY2x1ZGUgImFtZGdwdV9yYXMuaCIN
Cj4gICNpbmNsdWRlICJhbWRncHVfYXRvbWZpcm13YXJlLmgiDQo+IEBAIC02NCw2ICs2Niw5IEBA
IGNvbnN0IGNoYXIgKnJhc19ibG9ja19zdHJpbmdbXSA9IHsNCj4gIC8qIGluamVjdCBhZGRyZXNz
IGlzIDUyIGJpdHMgKi8NCj4gICNkZWZpbmUJUkFTX1VNQ19JTkpFQ1RfQUREUl9MSU1JVAkoMHgx
VUxMIDw8IDUyKQ0KPiANCj4gKw0KPiArYXRvbWljX3QgYW1kZ3B1X3Jhc19pbl9pbnRyID0gQVRP
TUlDX0lOSVQoMCk7DQo+ICsNCj4gIHN0YXRpYyBpbnQgYW1kZ3B1X3Jhc19yZXNlcnZlX3ZyYW0o
c3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ICAJCXVpbnQ2NF90IG9mZnNldCwgdWludDY0
X3Qgc2l6ZSwNCj4gIAkJc3RydWN0IGFtZGdwdV9ibyAqKmJvX3B0cik7DQo+IEBAIC04MCw3ICs4
NSw3IEBAIHN0YXRpYyBzc2l6ZV90IGFtZGdwdV9yYXNfZGVidWdmc19yZWFkKHN0cnVjdCBmaWxl
ICpmLA0KPiBjaGFyIF9fdXNlciAqYnVmLA0KPiAgCXNzaXplX3QgczsNCj4gIAljaGFyIHZhbFsx
MjhdOw0KPiANCj4gLQlpZiAoYW1kZ3B1X3Jhc19lcnJvcl9xdWVyeShvYmotPmFkZXYsICZpbmZv
KSkNCj4gKwlpZiAoYW1kZ3B1X3Jhc19lcnJvcl9xdWVyeShvYmotPmFkZXYsICZpbmZvLCBmYWxz
ZSkpDQo+ICAJCXJldHVybiAtRUlOVkFMOw0KPiANCj4gIAlzID0gc25wcmludGYodmFsLCBzaXpl
b2YodmFsKSwgIiVzOiAlbHVcbiVzOiAlbHVcbiIsIEBAIC0xODgsNg0KPiArMTkzLDEwIEBAIHN0
YXRpYyBpbnQgYW1kZ3B1X3Jhc19kZWJ1Z2ZzX2N0cmxfcGFyc2VfZGF0YShzdHJ1Y3QgZmlsZSAq
ZiwNCj4gDQo+ICAJcmV0dXJuIDA7DQo+ICB9DQo+ICsNCj4gK3N0YXRpYyBzdHJ1Y3QgcmFzX21h
bmFnZXIgKmFtZGdwdV9yYXNfZmluZF9vYmooc3RydWN0IGFtZGdwdV9kZXZpY2UNCj4gKmFkZXYs
DQo+ICsJCXN0cnVjdCByYXNfY29tbW9uX2lmICpoZWFkKTsNCj4gKw0KPiAgLyoqDQo+ICAgKiBE
T0M6IEFNREdQVSBSQVMgZGVidWdmcyBjb250cm9sIGludGVyZmFjZQ0KPiAgICoNCj4gQEAgLTMw
NCw3ICszMTMsNyBAQCBzdGF0aWMgc3NpemVfdCBhbWRncHVfcmFzX3N5c2ZzX3JlYWQoc3RydWN0
IGRldmljZQ0KPiAqZGV2LA0KPiAgCQkuaGVhZCA9IG9iai0+aGVhZCwNCj4gIAl9Ow0KPiANCj4g
LQlpZiAoYW1kZ3B1X3Jhc19lcnJvcl9xdWVyeShvYmotPmFkZXYsICZpbmZvKSkNCj4gKwlpZiAo
YW1kZ3B1X3Jhc19lcnJvcl9xdWVyeShvYmotPmFkZXYsICZpbmZvLCBmYWxzZSkpDQo+ICAJCXJl
dHVybiAtRUlOVkFMOw0KPiANCj4gIAlyZXR1cm4gc25wcmludGYoYnVmLCBQQUdFX1NJWkUsICIl
czogJWx1XG4lczogJWx1XG4iLCBAQCAtNTkxLDcNCj4gKzYwMCw3IEBAIHN0YXRpYyBpbnQgYW1k
Z3B1X3Jhc19lbmFibGVfYWxsX2ZlYXR1cmVzKHN0cnVjdA0KPiBhbWRncHVfZGV2aWNlICphZGV2
LA0KPiANCj4gIC8qIHF1ZXJ5L2luamVjdC9jdXJlIGJlZ2luICovDQo+ICBpbnQgYW1kZ3B1X3Jh
c19lcnJvcl9xdWVyeShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gLQkJc3RydWN0IHJh
c19xdWVyeV9pZiAqaW5mbykNCj4gKwkJc3RydWN0IHJhc19xdWVyeV9pZiAqaW5mbywgYm9vbCBw
cmludCkNCj4gIHsNCj4gIAlzdHJ1Y3QgcmFzX21hbmFnZXIgKm9iaiA9IGFtZGdwdV9yYXNfZmlu
ZF9vYmooYWRldiwgJmluZm8tPmhlYWQpOw0KPiAgCXN0cnVjdCByYXNfZXJyX2RhdGEgZXJyX2Rh
dGEgPSB7MCwgMCwgMCwgTlVMTH07IEBAIC02MjcsMTIgKzYzNiwxNA0KPiBAQCBpbnQgYW1kZ3B1
X3Jhc19lcnJvcl9xdWVyeShzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gIAlpbmZvLT51
ZV9jb3VudCA9IG9iai0+ZXJyX2RhdGEudWVfY291bnQ7DQo+ICAJaW5mby0+Y2VfY291bnQgPSBv
YmotPmVycl9kYXRhLmNlX2NvdW50Ow0KPiANCj4gLQlpZiAoZXJyX2RhdGEuY2VfY291bnQpDQo+
ICsJaWYgKGVycl9kYXRhLmNlX2NvdW50IHx8IHByaW50KSB7DQo+ICAJCWRldl9pbmZvKGFkZXYt
PmRldiwgIiVsZCBjb3JyZWN0YWJsZSBlcnJvcnMgZGV0ZWN0ZWQgaW4gJXMNCj4gYmxvY2tcbiIs
DQo+ICAJCQkgb2JqLT5lcnJfZGF0YS5jZV9jb3VudCwgcmFzX2Jsb2NrX3N0cihpbmZvLQ0KPiA+
aGVhZC5ibG9jaykpOw0KW1Rhb10gQ291bGQgeW91IGV4cGxhaW4gd2h5IHByaW50IGlzIG5lZWRl
ZCBldmVuIGNlL3VlX2NvdW50ID09IDA/IEFuZCBJIHRoaW5rIHRoZXNlIGNvZGVzIGNhbiBiZSBz
cGxpdCBpbnRvIGEgc2luZ2xlIHBhdGNoLg0KDQo+IC0JaWYgKGVycl9kYXRhLnVlX2NvdW50KQ0K
PiArCX0NCj4gKwlpZiAoZXJyX2RhdGEudWVfY291bnQgfHwgcHJpbnQpIHsNCj4gIAkJZGV2X2lu
Zm8oYWRldi0+ZGV2LCAiJWxkIHVuY29ycmVjdGFibGUgZXJyb3JzIGRldGVjdGVkDQo+IGluICVz
IGJsb2NrXG4iLA0KPiAgCQkJIG9iai0+ZXJyX2RhdGEudWVfY291bnQsIHJhc19ibG9ja19zdHIo
aW5mby0NCj4gPmhlYWQuYmxvY2spKTsNCj4gKwl9DQo+IA0KPiAgCXJldHVybiAwOw0KPiAgfQ0K
PiBAQCAtNzAyLDcgKzcxMyw3IEBAIGludCBhbWRncHVfcmFzX3F1ZXJ5X2Vycm9yX2NvdW50KHN0
cnVjdA0KPiBhbWRncHVfZGV2aWNlICphZGV2LA0KPiAgCQkJLmhlYWQgPSBvYmotPmhlYWQsDQo+
ICAJCX07DQo+IA0KPiAtCQlpZiAoYW1kZ3B1X3Jhc19lcnJvcl9xdWVyeShhZGV2LCAmaW5mbykp
DQo+ICsJCWlmIChhbWRncHVfcmFzX2Vycm9yX3F1ZXJ5KGFkZXYsICZpbmZvLCB0cnVlKSkNCj4g
IAkJCXJldHVybiAtRUlOVkFMOw0KPiANCj4gIAkJZGF0YS5jZV9jb3VudCArPSBpbmZvLmNlX2Nv
dW50Ow0KPiBAQCAtMTcxOCwzICsxNzI5LDEwIEBAIGludCBhbWRncHVfcmFzX2Zpbmkoc3RydWN0
IGFtZGdwdV9kZXZpY2UgKmFkZXYpDQo+IA0KPiAgCXJldHVybiAwOw0KPiAgfQ0KPiArDQo+ICt2
b2lkIGFtZGdwdV9yYXNfZ2xvYmFsX3Jhc19pc3Ioc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYp
IHsNCj4gKwlpZiAoYXRvbWljX2NtcHhjaGcoJmFtZGdwdV9yYXNfaW5faW50ciwgMCwgMSkgPT0g
MCkgew0KPiArCQlEUk1fV0FSTigiUkFTIGV2ZW50IG9mIHR5cGUNCj4gRVJSRVZFTlRfQVRIVUJf
SU5URVJSVVBUIGRldGVjdGVkISBTdG9wcGluZyBhbGwgR1BVIGpvYnMuXG4iKTsNCj4gKwl9DQo+
ICt9DQo+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfcmFz
LmgNCj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfcmFzLmgNCj4gaW5kZXgg
NWEwZGY3My4uYzBlMjJhZiAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X3Jhcy5oDQo+ICsrKyBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdw
dV9yYXMuaA0KPiBAQCAtNTg3LDcgKzU4Nyw3IEBAIHZvaWQgYW1kZ3B1X3Jhc19kZWJ1Z2ZzX3Jl
bW92ZShzdHJ1Y3QNCj4gYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gIAkJc3RydWN0IHJhc19jb21t
b25faWYgKmhlYWQpOw0KPiANCj4gIGludCBhbWRncHVfcmFzX2Vycm9yX3F1ZXJ5KHN0cnVjdCBh
bWRncHVfZGV2aWNlICphZGV2LA0KPiAtCQlzdHJ1Y3QgcmFzX3F1ZXJ5X2lmICppbmZvKTsNCj4g
KwkJc3RydWN0IHJhc19xdWVyeV9pZiAqaW5mbywgYm9vbCBwcmludCk7DQo+IA0KPiAgaW50IGFt
ZGdwdV9yYXNfZXJyb3JfaW5qZWN0KHN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2LA0KPiAgCQlz
dHJ1Y3QgcmFzX2luamVjdF9pZiAqaW5mbyk7DQo+IEBAIC02MDAsNCArNjAwLDE0IEBAIGludCBh
bWRncHVfcmFzX2ludGVycnVwdF9yZW1vdmVfaGFuZGxlcihzdHJ1Y3QNCj4gYW1kZ3B1X2Rldmlj
ZSAqYWRldiwNCj4gDQo+ICBpbnQgYW1kZ3B1X3Jhc19pbnRlcnJ1cHRfZGlzcGF0Y2goc3RydWN0
IGFtZGdwdV9kZXZpY2UgKmFkZXYsDQo+ICAJCXN0cnVjdCByYXNfZGlzcGF0Y2hfaWYgKmluZm8p
Ow0KPiArDQo+ICtleHRlcm4gYXRvbWljX3QgYW1kZ3B1X3Jhc19pbl9pbnRyOw0KPiArDQo+ICtz
dGF0aWMgaW5saW5lIGJvb2wgYW1kZ3B1X3Jhc19pbnRyX3RyaWdnZXJlZCh2b2lkKSB7DQo+ICsJ
cmV0dXJuICEhYXRvbWljX3JlYWQoJmFtZGdwdV9yYXNfaW5faW50cik7DQo+ICt9DQo+ICsNCj4g
K3ZvaWQgYW1kZ3B1X3Jhc19nbG9iYWxfcmFzX2lzcihzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRl
dik7DQo+ICsNCj4gICNlbmRpZg0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvZ2Z4X3Y5XzAuYw0KPiBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dmeF92OV8w
LmMNCj4gaW5kZXggYjJjODZhMC4uZTdhODNmNiAxMDA2NDQNCj4gLS0tIGEvZHJpdmVycy9ncHUv
ZHJtL2FtZC9hbWRncHUvZ2Z4X3Y5XzAuYw0KPiArKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2Ft
ZGdwdS9nZnhfdjlfMC5jDQo+IEBAIC01NjY5LDEwICs1NjY5LDEyIEBAIHN0YXRpYyBpbnQgZ2Z4
X3Y5XzBfcHJvY2Vzc19yYXNfZGF0YV9jYihzdHJ1Y3QNCj4gYW1kZ3B1X2RldmljZSAqYWRldiwN
Cj4gIAkJc3RydWN0IGFtZGdwdV9pdl9lbnRyeSAqZW50cnkpDQo+ICB7DQo+ICAJLyogVE9ETyB1
ZSB3aWxsIHRyaWdnZXIgYW4gaW50ZXJydXB0LiAqLw0KPiAtCWtnZDJrZmRfc2V0X3NyYW1fZWNj
X2ZsYWcoYWRldi0+a2ZkLmRldik7DQo+IC0JaWYgKGFkZXYtPmdmeC5mdW5jcy0+cXVlcnlfcmFz
X2Vycm9yX2NvdW50KQ0KPiAtCQlhZGV2LT5nZnguZnVuY3MtPnF1ZXJ5X3Jhc19lcnJvcl9jb3Vu
dChhZGV2LCBlcnJfZGF0YSk7DQo+IC0JYW1kZ3B1X3Jhc19yZXNldF9ncHUoYWRldiwgMCk7DQo+
ICsJaWYgKCFhbWRncHVfcmFzX2lzX3N1cHBvcnRlZChhZGV2LCBBTURHUFVfUkFTX0JMT0NLX19H
RlgpKSB7DQpbVGFvXSBIYXZlIHlvdSBlbmNvdW50ZXJlZCBhbnkgZXJyb3Igd2l0aG91dCB0aGUg
Y2hlY2s/IHJhc19kYXRhX2NiIHdvdWxkIG5vdCBiZSByZWdpc3RlcmVkIGlmICghYW1kZ3B1X3Jh
c19pc19zdXBwb3J0ZWQoYWRldiwgQU1ER1BVX1JBU19CTE9DS19fR0ZYKSkNCg0KPiArCQlrZ2Qy
a2ZkX3NldF9zcmFtX2VjY19mbGFnKGFkZXYtPmtmZC5kZXYpOw0KPiArCQlpZiAoYWRldi0+Z2Z4
LmZ1bmNzLT5xdWVyeV9yYXNfZXJyb3JfY291bnQpDQo+ICsJCQlhZGV2LT5nZnguZnVuY3MtPnF1
ZXJ5X3Jhc19lcnJvcl9jb3VudChhZGV2LA0KPiBlcnJfZGF0YSk7DQo+ICsJCWFtZGdwdV9yYXNf
cmVzZXRfZ3B1KGFkZXYsIDApOw0KPiArCX0NCj4gIAlyZXR1cm4gQU1ER1BVX1JBU19TVUNDRVNT
Ow0KPiAgfQ0KPiANCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2dt
Y192OV8wLmMNCj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nbWNfdjlfMC5jDQo+IGlu
ZGV4IDQzYjRmYmMuLjg3YTY2YzIgMTAwNjQ0DQo+IC0tLSBhL2RyaXZlcnMvZ3B1L2RybS9hbWQv
YW1kZ3B1L2dtY192OV8wLmMNCj4gKysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ21j
X3Y5XzAuYw0KPiBAQCAtMjQzLDE4ICsyNDMsMjAgQEAgc3RhdGljIGludCBnbWNfdjlfMF9wcm9j
ZXNzX3Jhc19kYXRhX2NiKHN0cnVjdA0KPiBhbWRncHVfZGV2aWNlICphZGV2LA0KPiAgCQlzdHJ1
Y3QgcmFzX2Vycl9kYXRhICplcnJfZGF0YSwNCj4gIAkJc3RydWN0IGFtZGdwdV9pdl9lbnRyeSAq
ZW50cnkpDQo+ICB7DQo+IC0Ja2dkMmtmZF9zZXRfc3JhbV9lY2NfZmxhZyhhZGV2LT5rZmQuZGV2
KTsNCj4gLQlpZiAoYWRldi0+dW1jLmZ1bmNzLT5xdWVyeV9yYXNfZXJyb3JfY291bnQpDQo+IC0J
CWFkZXYtPnVtYy5mdW5jcy0+cXVlcnlfcmFzX2Vycm9yX2NvdW50KGFkZXYsIGVycl9kYXRhKTsN
Cj4gLQkvKiB1bWMgcXVlcnlfcmFzX2Vycm9yX2FkZHJlc3MgaXMgYWxzbyByZXNwb25zaWJsZSBm
b3IgY2xlYXJpbmcNCj4gLQkgKiBlcnJvciBzdGF0dXMNCj4gLQkgKi8NCj4gLQlpZiAoYWRldi0+
dW1jLmZ1bmNzLT5xdWVyeV9yYXNfZXJyb3JfYWRkcmVzcykNCj4gLQkJYWRldi0+dW1jLmZ1bmNz
LT5xdWVyeV9yYXNfZXJyb3JfYWRkcmVzcyhhZGV2LCBlcnJfZGF0YSk7DQo+ICsJaWYgKCFhbWRn
cHVfcmFzX2lzX3N1cHBvcnRlZChhZGV2LCBBTURHUFVfUkFTX0JMT0NLX19HRlgpKSB7DQpbVGFv
XSBBTURHUFVfUkFTX0JMT0NLX19VTUMNCg0KPiArCQlrZ2Qya2ZkX3NldF9zcmFtX2VjY19mbGFn
KGFkZXYtPmtmZC5kZXYpOw0KPiArCQlpZiAoYWRldi0+dW1jLmZ1bmNzLT5xdWVyeV9yYXNfZXJy
b3JfY291bnQpDQo+ICsJCQlhZGV2LT51bWMuZnVuY3MtPnF1ZXJ5X3Jhc19lcnJvcl9jb3VudChh
ZGV2LA0KPiBlcnJfZGF0YSk7DQo+ICsJCS8qIHVtYyBxdWVyeV9yYXNfZXJyb3JfYWRkcmVzcyBp
cyBhbHNvIHJlc3BvbnNpYmxlIGZvcg0KPiBjbGVhcmluZw0KPiArCQkgKiBlcnJvciBzdGF0dXMN
Cj4gKwkJICovDQo+ICsJCWlmIChhZGV2LT51bWMuZnVuY3MtPnF1ZXJ5X3Jhc19lcnJvcl9hZGRy
ZXNzKQ0KPiArCQkJYWRldi0+dW1jLmZ1bmNzLT5xdWVyeV9yYXNfZXJyb3JfYWRkcmVzcyhhZGV2
LA0KPiBlcnJfZGF0YSk7DQo+IA0KPiAtCS8qIG9ubHkgdW5jb3JyZWN0YWJsZSBlcnJvciBuZWVk
cyBncHUgcmVzZXQgKi8NCj4gLQlpZiAoZXJyX2RhdGEtPnVlX2NvdW50KQ0KPiAtCQlhbWRncHVf
cmFzX3Jlc2V0X2dwdShhZGV2LCAwKTsNCj4gKwkJLyogb25seSB1bmNvcnJlY3RhYmxlIGVycm9y
IG5lZWRzIGdwdSByZXNldCAqLw0KPiArCQlpZiAoZXJyX2RhdGEtPnVlX2NvdW50KQ0KPiArCQkJ
YW1kZ3B1X3Jhc19yZXNldF9ncHUoYWRldiwgMCk7DQo+ICsJfQ0KPiANCj4gIAlyZXR1cm4gQU1E
R1BVX1JBU19TVUNDRVNTOw0KPiAgfQ0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvbmJpb192N180LmMNCj4gYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9uYmlv
X3Y3XzQuYw0KPiBpbmRleCAzNjdmOWQ2Li41NDU5OTBjIDEwMDY0NA0KPiAtLS0gYS9kcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9uYmlvX3Y3XzQuYw0KPiArKysgYi9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9uYmlvX3Y3XzQuYw0KPiBAQCAtMzAsNiArMzAsNyBAQA0KPiAgI2luY2x1ZGUg
Im5iaW8vbmJpb183XzRfMF9zbW4uaCINCj4gICNpbmNsdWRlICJpdnNyY2lkL25iaW8vaXJxc3Jj
c19uYmlmXzdfNC5oIg0KPiAgI2luY2x1ZGUgPHVhcGkvbGludXgva2ZkX2lvY3RsLmg+DQo+ICsj
aW5jbHVkZSAiYW1kZ3B1X3Jhcy5oIg0KPiANCj4gICNkZWZpbmUgc21uTkJJRl9NR0NHX0NUUkxf
TENMSwkweDEwMTNhMjFjDQo+IA0KPiBAQCAtMzI5LDYgKzMzMCw4IEBAIHN0YXRpYyB2b2lkDQo+
IG5iaW9fdjdfNF9oYW5kbGVfcmFzX2NvbnRyb2xsZXJfaW50cl9ub19iaWZyaW5nKHN0cnVjdCBh
bWRncHVfZGV2aWNlDQo+ICAJCQkJCQlCSUZfRE9PUkJFTExfSU5UX0NOVEwsDQo+IA0KPiAJUkFT
X0NOVExSX0lOVEVSUlVQVF9DTEVBUiwgMSk7DQo+ICAJCVdSRUczMl9TT0MxNShOQklPLCAwLCBt
bUJJRl9ET09SQkVMTF9JTlRfQ05UTCwNCj4gYmlmX2Rvb3JiZWxsX2ludHJfY250bCk7DQo+ICsN
Cj4gKwkJYW1kZ3B1X3Jhc19nbG9iYWxfcmFzX2lzcihhZGV2KTsNCj4gIAl9DQo+ICB9DQo+IA0K
PiBAQCAtMzQ0LDYgKzM0Nyw4IEBAIHN0YXRpYyB2b2lkDQo+IG5iaW9fdjdfNF9oYW5kbGVfcmFz
X2Vycl9ldmVudF9hdGh1Yl9pbnRyX25vX2JpZnJpbmcoc3RydWN0IGFtZGdwdV9kDQo+ICAJCQkJ
CQlCSUZfRE9PUkJFTExfSU5UX0NOVEwsDQo+IA0KPiAJUkFTX0FUSFVCX0VSUl9FVkVOVF9JTlRF
UlJVUFRfQ0xFQVIsIDEpOw0KPiAgCQlXUkVHMzJfU09DMTUoTkJJTywgMCwgbW1CSUZfRE9PUkJF
TExfSU5UX0NOVEwsDQo+IGJpZl9kb29yYmVsbF9pbnRyX2NudGwpOw0KPiArDQo+ICsJCWFtZGdw
dV9yYXNfZ2xvYmFsX3Jhc19pc3IoYWRldik7DQo+ICAJfQ0KPiAgfQ0KPiANCj4gZGlmZiAtLWdp
dCBhL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L3NkbWFfdjRfMC5jDQo+IGIvZHJpdmVycy9n
cHUvZHJtL2FtZC9hbWRncHUvc2RtYV92NF8wLmMNCj4gaW5kZXggOTU2NDMyZi4uNDM4ZTUwNCAx
MDA2NDQNCj4gLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92NF8wLmMNCj4g
KysrIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvc2RtYV92NF8wLmMNCj4gQEAgLTE5NzIs
MjQgKzE5NzIsMjYgQEAgc3RhdGljIGludA0KPiBzZG1hX3Y0XzBfcHJvY2Vzc19yYXNfZGF0YV9j
YihzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwNCj4gIAl1aW50MzJfdCBlcnJfc291cmNlOw0K
PiAgCWludCBpbnN0YW5jZTsNCj4gDQo+IC0JaW5zdGFuY2UgPSBzZG1hX3Y0XzBfaXJxX2lkX3Rv
X3NlcShlbnRyeS0+Y2xpZW50X2lkKTsNCj4gLQlpZiAoaW5zdGFuY2UgPCAwKQ0KPiAtCQlyZXR1
cm4gMDsNCj4gKwlpZiAoIWFtZGdwdV9yYXNfaXNfc3VwcG9ydGVkKGFkZXYsIEFNREdQVV9SQVNf
QkxPQ0tfX0dGWCkpIHsNCltUYW9dIEFNREdQVV9SQVNfQkxPQ0tfX1NETUENCg0KPiArCQlpbnN0
YW5jZSA9IHNkbWFfdjRfMF9pcnFfaWRfdG9fc2VxKGVudHJ5LT5jbGllbnRfaWQpOw0KPiArCQlp
ZiAoaW5zdGFuY2UgPCAwKQ0KPiArCQkJcmV0dXJuIDA7DQo+IA0KPiAtCXN3aXRjaCAoZW50cnkt
PnNyY19pZCkgew0KPiAtCWNhc2UgU0RNQTBfNF8wX19TUkNJRF9fU0RNQV9TUkFNX0VDQzoNCj4g
LQkJZXJyX3NvdXJjZSA9IDA7DQo+IC0JCWJyZWFrOw0KPiAtCWNhc2UgU0RNQTBfNF8wX19TUkNJ
RF9fU0RNQV9FQ0M6DQo+IC0JCWVycl9zb3VyY2UgPSAxOw0KPiAtCQlicmVhazsNCj4gLQlkZWZh
dWx0Og0KPiAtCQlyZXR1cm4gMDsNCj4gLQl9DQo+ICsJCXN3aXRjaCAoZW50cnktPnNyY19pZCkg
ew0KPiArCQljYXNlIFNETUEwXzRfMF9fU1JDSURfX1NETUFfU1JBTV9FQ0M6DQo+ICsJCQllcnJf
c291cmNlID0gMDsNCj4gKwkJCWJyZWFrOw0KPiArCQljYXNlIFNETUEwXzRfMF9fU1JDSURfX1NE
TUFfRUNDOg0KPiArCQkJZXJyX3NvdXJjZSA9IDE7DQo+ICsJCQlicmVhazsNCj4gKwkJZGVmYXVs
dDoNCj4gKwkJCXJldHVybiAwOw0KPiArCQl9DQo+IA0KPiAtCWtnZDJrZmRfc2V0X3NyYW1fZWNj
X2ZsYWcoYWRldi0+a2ZkLmRldik7DQo+ICsJCWtnZDJrZmRfc2V0X3NyYW1fZWNjX2ZsYWcoYWRl
di0+a2ZkLmRldik7DQo+IA0KPiAtCWFtZGdwdV9yYXNfcmVzZXRfZ3B1KGFkZXYsIDApOw0KPiAr
CQlhbWRncHVfcmFzX3Jlc2V0X2dwdShhZGV2LCAwKTsNCj4gKwl9DQo+IA0KPiAgCXJldHVybiBB
TURHUFVfUkFTX1NVQ0NFU1M7DQo+ICB9DQo+IC0tDQo+IDIuNy40DQo+IA0KPiBfX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXw0KPiBhbWQtZ2Z4IG1haWxpbmcg
bGlzdA0KPiBhbWQtZ2Z4QGxpc3RzLmZyZWVkZXNrdG9wLm9yZw0KPiBodHRwczovL2xpc3RzLmZy
ZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL2FtZC1nZngNCl9fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1n
ZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21h
aWxtYW4vbGlzdGluZm8vYW1kLWdmeA==
