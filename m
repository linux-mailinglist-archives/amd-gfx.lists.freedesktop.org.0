Return-Path: <amd-gfx-bounces@lists.freedesktop.org>
X-Original-To: lists+amd-gfx@lfdr.de
Delivered-To: lists+amd-gfx@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 5DA30175AF5
	for <lists+amd-gfx@lfdr.de>; Mon,  2 Mar 2020 13:55:31 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B402C6E279;
	Mon,  2 Mar 2020 12:55:27 +0000 (UTC)
X-Original-To: amd-gfx@lists.freedesktop.org
Delivered-To: amd-gfx@lists.freedesktop.org
Received: from mail-wm1-x341.google.com (mail-wm1-x341.google.com
 [IPv6:2a00:1450:4864:20::341])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 825B66E279
 for <amd-gfx@lists.freedesktop.org>; Mon,  2 Mar 2020 12:55:26 +0000 (UTC)
Received: by mail-wm1-x341.google.com with SMTP id g83so8363230wme.1
 for <amd-gfx@lists.freedesktop.org>; Mon, 02 Mar 2020 04:55:26 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=qfxZZhY13X2/MVNWT09P26mE4pY+8Uz4MMGRXTZeYFo=;
 b=lkPNJEpXtQKSV9ytP3GUVEoo2TDjGnfsp/MYT+V902diFisSKRwlt7mHKKKBF/5/zT
 OQdzRJW3UioWHCHZgJ0d/7LRJxRY3ByRS0affTZIHU+Q9CUFdGLERqif431TCa0l3uh/
 Sd/mekukjs697LoI4a0IaUMxcq7aGJfnTKm526GtYxmH7fJbzMaoC6fsCdDrtmQLsyI1
 QPlkMx3jwTFddQm383mp5H7bLFRL5DoH7J0b3iujH4jWfXe67MSF0zw5n8SiwmzkuRoE
 OHV++MvPdvI6ZqQMRPr0qS7N9cXZIRdQQMy7WuiXew6Ze23wyTibyRfnSQPphY++0sAU
 Ms8g==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=qfxZZhY13X2/MVNWT09P26mE4pY+8Uz4MMGRXTZeYFo=;
 b=Koxh7/BTkYl0Aov6tdUi9niqIODVpRm9vKuCHSBHp81MTH8ff0niqorFydKFOEGdSN
 0ggPQ9IxpdvxK8aP9xeF+w60cvr4NLlzbH1dpkbAzoaHZHGOPTK/WKY//X+D8asFrYA8
 EhFkrbjBCPT85CsCh8J8o4RjXbNMC4pvMS64Ky5Cx2Hsc6cASelgWHSYegO0GHJ1+ECp
 AloTrBxS+y8/RthBZUCL3Z3U/QPN1ZoBUYvd3tfXtpbVFKESiLQIwvAtC7ZbVU47nch9
 E65HozIOr/E3RsukqlNZ9tq2OtETbmndVLw9uoO4F/9rErFjl5j2LEQeYIrkgE4axdcq
 f4xQ==
X-Gm-Message-State: APjAAAW9IibK6ccL7njLmWr+0HN110zxG705vxI0qt6hcp4FedEhP8Wb
 ePOEH5YzqqfUJUCgNH2GGSDz9cwEbsw=
X-Google-Smtp-Source: APXvYqyMbA8FmM6dNC3oj2GDQhXWF/eTqu0AkRSg+Smv5LEUDDfM7eWNp9FmtSnlY8wyNy/XJ0/RNQ==
X-Received: by 2002:a05:600c:2c06:: with SMTP id
 q6mr20610888wmg.154.1583153724632; 
 Mon, 02 Mar 2020 04:55:24 -0800 (PST)
Received: from brihaspati.fritz.box
 (p200300C58F21FC009E54A4A7C1B66128.dip0.t-ipconnect.de.
 [2003:c5:8f21:fc00:9e54:a4a7:c1b6:6128])
 by smtp.gmail.com with ESMTPSA id f17sm7492733wrm.3.2020.03.02.04.55.23
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Mon, 02 Mar 2020 04:55:24 -0800 (PST)
From: Nirmoy Das <nirmoy.aiemd@gmail.com>
X-Google-Original-From: Nirmoy Das <nirmoy.das@amd.com>
To: amd-gfx@lists.freedesktop.org
Subject: [PATCH 4/4] drm/amdgpu: remove unused functions
Date: Mon,  2 Mar 2020 13:58:36 +0100
Message-Id: <20200302125836.56915-4-nirmoy.das@amd.com>
X-Mailer: git-send-email 2.25.0
In-Reply-To: <20200302125836.56915-1-nirmoy.das@amd.com>
References: <20200302125836.56915-1-nirmoy.das@amd.com>
MIME-Version: 1.0
X-BeenThere: amd-gfx@lists.freedesktop.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: Discussion list for AMD gfx <amd-gfx.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/amd-gfx>
List-Post: <mailto:amd-gfx@lists.freedesktop.org>
List-Help: <mailto:amd-gfx-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/amd-gfx>,
 <mailto:amd-gfx-request@lists.freedesktop.org?subject=subscribe>
Cc: alexander.deucher@amd.com, Ray.Huang@amd.com, nirmoy.das@amd.com,
 christian.koenig@amd.com
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: amd-gfx-bounces@lists.freedesktop.org
Sender: "amd-gfx" <amd-gfx-bounces@lists.freedesktop.org>

YW1kZ3B1IHN0YXRpY2FsbHkgc2V0IHByaW9yaXR5IGZvciBjb21wdXRlIHF1ZXVlcwphdCBpbml0
aWFsaXphdGlvbiBzbyByZW1vdmUgYWxsIHRoZSBmdW5jdGlvbnMKcmVzcG9uc2libGUgY2hhbmdp
bmcgY29tcHV0ZSBxdWV1ZSBwcmlvcml0eSBkeW5hbWljYWxseQoKU2lnbmVkLW9mZi1ieTogTmly
bW95IERhcyA8bmlybW95LmRhc0BhbWQuY29tPgpSZXZpZXdlZC1ieTogQ2hyaXN0aWFuIEvDtm5p
ZyA8Y2hyaXN0aWFuLmtvZW5pZ0BhbWQuY29tPgotLS0KIGRyaXZlcnMvZ3B1L2RybS9hbWQvYW1k
Z3B1L2FtZGdwdV9yaW5nLmMgfCAgNzAgLS0tLS0tLS0tLS0tLS0tLQogZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvYW1kZ3B1X3JpbmcuaCB8ICAgNyAtLQogZHJpdmVycy9ncHUvZHJtL2FtZC9h
bWRncHUvZ2Z4X3Y4XzAuYyAgICB8ICA5OSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiBkcml2ZXJz
L2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjlfMC5jICAgIHwgMTAwIC0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tCiA0IGZpbGVzIGNoYW5nZWQsIDI3NiBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9k
cml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfcmluZy5jIGIvZHJpdmVycy9ncHUvZHJt
L2FtZC9hbWRncHUvYW1kZ3B1X3JpbmcuYwppbmRleCBjYTZiNTIwNTRiNGIuLmE3ZTFkMDQyNWVk
MCAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvYW1kZ3B1X3JpbmcuYwor
KysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9hbWRncHVfcmluZy5jCkBAIC0xNTAsNzYg
KzE1MCw2IEBAIHZvaWQgYW1kZ3B1X3JpbmdfdW5kbyhzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcp
CiAJCXJpbmctPmZ1bmNzLT5lbmRfdXNlKHJpbmcpOwogfQogCi0vKioKLSAqIGFtZGdwdV9yaW5n
X3ByaW9yaXR5X3B1dCAtIHJlc3RvcmUgYSByaW5nJ3MgcHJpb3JpdHkKLSAqCi0gKiBAcmluZzog
YW1kZ3B1X3Jpbmcgc3RydWN0dXJlIGhvbGRpbmcgdGhlIGluZm9ybWF0aW9uCi0gKiBAcHJpb3Jp
dHk6IHRhcmdldCBwcmlvcml0eQotICoKLSAqIFJlbGVhc2UgYSByZXF1ZXN0IGZvciBleGVjdXRp
bmcgYXQgQHByaW9yaXR5Ci0gKi8KLXZvaWQgYW1kZ3B1X3JpbmdfcHJpb3JpdHlfcHV0KHN0cnVj
dCBhbWRncHVfcmluZyAqcmluZywKLQkJCSAgICAgIGVudW0gZHJtX3NjaGVkX3ByaW9yaXR5IHBy
aW9yaXR5KQotewotCWludCBpOwotCi0JaWYgKCFyaW5nLT5mdW5jcy0+c2V0X3ByaW9yaXR5KQot
CQlyZXR1cm47Ci0KLQlpZiAoYXRvbWljX2RlY19yZXR1cm4oJnJpbmctPm51bV9qb2JzW3ByaW9y
aXR5XSkgPiAwKQotCQlyZXR1cm47Ci0KLQkvKiBubyBuZWVkIHRvIHJlc3RvcmUgaWYgdGhlIGpv
YiBpcyBhbHJlYWR5IGF0IHRoZSBsb3dlc3QgcHJpb3JpdHkgKi8KLQlpZiAocHJpb3JpdHkgPT0g
RFJNX1NDSEVEX1BSSU9SSVRZX05PUk1BTCkKLQkJcmV0dXJuOwotCi0JbXV0ZXhfbG9jaygmcmlu
Zy0+cHJpb3JpdHlfbXV0ZXgpOwotCS8qIHNvbWV0aGluZyBoaWdoZXIgcHJpbyBpcyBleGVjdXRp
bmcsIG5vIG5lZWQgdG8gZGVjYXkgKi8KLQlpZiAocmluZy0+cHJpb3JpdHkgPiBwcmlvcml0eSkK
LQkJZ290byBvdXRfdW5sb2NrOwotCi0JLyogZGVjYXkgcHJpb3JpdHkgdG8gdGhlIG5leHQgbGV2
ZWwgd2l0aCBhIGpvYiBhdmFpbGFibGUgKi8KLQlmb3IgKGkgPSBwcmlvcml0eTsgaSA+PSBEUk1f
U0NIRURfUFJJT1JJVFlfTUlOOyBpLS0pIHsKLQkJaWYgKGkgPT0gRFJNX1NDSEVEX1BSSU9SSVRZ
X05PUk1BTAotCQkJCXx8IGF0b21pY19yZWFkKCZyaW5nLT5udW1fam9ic1tpXSkpIHsKLQkJCXJp
bmctPnByaW9yaXR5ID0gaTsKLQkJCXJpbmctPmZ1bmNzLT5zZXRfcHJpb3JpdHkocmluZywgaSk7
Ci0JCQlicmVhazsKLQkJfQotCX0KLQotb3V0X3VubG9jazoKLQltdXRleF91bmxvY2soJnJpbmct
PnByaW9yaXR5X211dGV4KTsKLX0KLQotLyoqCi0gKiBhbWRncHVfcmluZ19wcmlvcml0eV9nZXQg
LSBjaGFuZ2UgdGhlIHJpbmcncyBwcmlvcml0eQotICoKLSAqIEByaW5nOiBhbWRncHVfcmluZyBz
dHJ1Y3R1cmUgaG9sZGluZyB0aGUgaW5mb3JtYXRpb24KLSAqIEBwcmlvcml0eTogdGFyZ2V0IHBy
aW9yaXR5Ci0gKgotICogUmVxdWVzdCBhIHJpbmcncyBwcmlvcml0eSB0byBiZSByYWlzZWQgdG8g
QHByaW9yaXR5IChyZWZjb3VudGVkKS4KLSAqLwotdm9pZCBhbWRncHVfcmluZ19wcmlvcml0eV9n
ZXQoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLAotCQkJICAgICAgZW51bSBkcm1fc2NoZWRfcHJp
b3JpdHkgcHJpb3JpdHkpCi17Ci0JaWYgKCFyaW5nLT5mdW5jcy0+c2V0X3ByaW9yaXR5KQotCQly
ZXR1cm47Ci0KLQlpZiAoYXRvbWljX2luY19yZXR1cm4oJnJpbmctPm51bV9qb2JzW3ByaW9yaXR5
XSkgPD0gMCkKLQkJcmV0dXJuOwotCi0JbXV0ZXhfbG9jaygmcmluZy0+cHJpb3JpdHlfbXV0ZXgp
OwotCWlmIChwcmlvcml0eSA8PSByaW5nLT5wcmlvcml0eSkKLQkJZ290byBvdXRfdW5sb2NrOwot
Ci0JcmluZy0+cHJpb3JpdHkgPSBwcmlvcml0eTsKLQlyaW5nLT5mdW5jcy0+c2V0X3ByaW9yaXR5
KHJpbmcsIHByaW9yaXR5KTsKLQotb3V0X3VubG9jazoKLQltdXRleF91bmxvY2soJnJpbmctPnBy
aW9yaXR5X211dGV4KTsKLX0KLQogLyoqCiAgKiBhbWRncHVfcmluZ19pbml0IC0gaW5pdCBkcml2
ZXIgcmluZyBzdHJ1Y3QuCiAgKgpkaWZmIC0tZ2l0IGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRn
cHUvYW1kZ3B1X3JpbmcuaCBiL2RyaXZlcnMvZ3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9yaW5n
LmgKaW5kZXggMjAxYzZhYzdiZjlkLi5hNzVlMjQxOGEyMGUgMTAwNjQ0Ci0tLSBhL2RyaXZlcnMv
Z3B1L2RybS9hbWQvYW1kZ3B1L2FtZGdwdV9yaW5nLmgKKysrIGIvZHJpdmVycy9ncHUvZHJtL2Ft
ZC9hbWRncHUvYW1kZ3B1X3JpbmcuaApAQCAtMTY3LDkgKzE2Nyw2IEBAIHN0cnVjdCBhbWRncHVf
cmluZ19mdW5jcyB7CiAJCQkJCXVpbnQzMl90IHJlZzAsIHVpbnQzMl90IHJlZzEsCiAJCQkJCXVp
bnQzMl90IHJlZiwgdWludDMyX3QgbWFzayk7CiAJdm9pZCAoKmVtaXRfdG16KShzdHJ1Y3QgYW1k
Z3B1X3JpbmcgKnJpbmcsIGJvb2wgc3RhcnQpOwotCS8qIHByaW9yaXR5IGZ1bmN0aW9ucyAqLwot
CXZvaWQgKCpzZXRfcHJpb3JpdHkpIChzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcsCi0JCQkgICAg
ICBlbnVtIGRybV9zY2hlZF9wcmlvcml0eSBwcmlvcml0eSk7CiAJLyogVHJ5IHRvIHNvZnQgcmVj
b3ZlciB0aGUgcmluZyB0byBtYWtlIHRoZSBmZW5jZSBzaWduYWwgKi8KIAl2b2lkICgqc29mdF9y
ZWNvdmVyeSkoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLCB1bnNpZ25lZCB2bWlkKTsKIAlpbnQg
KCpwcmVlbXB0X2liKShzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcpOwpAQCAtMjU5LDEwICsyNTYs
NiBAQCB2b2lkIGFtZGdwdV9yaW5nX2luc2VydF9ub3Aoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5n
LCB1aW50MzJfdCBjb3VudCk7CiB2b2lkIGFtZGdwdV9yaW5nX2dlbmVyaWNfcGFkX2liKHN0cnVj
dCBhbWRncHVfcmluZyAqcmluZywgc3RydWN0IGFtZGdwdV9pYiAqaWIpOwogdm9pZCBhbWRncHVf
cmluZ19jb21taXQoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nKTsKIHZvaWQgYW1kZ3B1X3Jpbmdf
dW5kbyhzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcpOwotdm9pZCBhbWRncHVfcmluZ19wcmlvcml0
eV9nZXQoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLAotCQkJICAgICAgZW51bSBkcm1fc2NoZWRf
cHJpb3JpdHkgcHJpb3JpdHkpOwotdm9pZCBhbWRncHVfcmluZ19wcmlvcml0eV9wdXQoc3RydWN0
IGFtZGdwdV9yaW5nICpyaW5nLAotCQkJICAgICAgZW51bSBkcm1fc2NoZWRfcHJpb3JpdHkgcHJp
b3JpdHkpOwogaW50IGFtZGdwdV9yaW5nX2luaXQoc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYs
IHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywKIAkJICAgICB1bnNpZ25lZCByaW5nX3NpemUsIHN0
cnVjdCBhbWRncHVfaXJxX3NyYyAqaXJxX3NyYywKIAkJICAgICB1bnNpZ25lZCBpcnFfdHlwZSk7
CmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjhfMC5jIGIvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3Y4XzAuYwppbmRleCAwNWI2ZjAxZTEyMjguLmY1
MDI5ZWI5YWMxMiAxMDA2NDQKLS0tIGEvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3Y4
XzAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0vYW1kL2FtZGdwdS9nZnhfdjhfMC5jCkBAIC02Mjc1
LDEwNCArNjI3NSw2IEBAIHN0YXRpYyB2b2lkIGdmeF92OF8wX3Jpbmdfc2V0X3dwdHJfY29tcHV0
ZShzdHJ1Y3QgYW1kZ3B1X3JpbmcgKnJpbmcpCiAJV0RPT1JCRUxMMzIocmluZy0+ZG9vcmJlbGxf
aW5kZXgsIGxvd2VyXzMyX2JpdHMocmluZy0+d3B0cikpOwogfQogCi1zdGF0aWMgdm9pZCBnZnhf
djhfMF9yaW5nX3NldF9waXBlX3BlcmNlbnQoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLAotCQkJ
CQkgICBib29sIGFjcXVpcmUpCi17Ci0Jc3RydWN0IGFtZGdwdV9kZXZpY2UgKmFkZXYgPSByaW5n
LT5hZGV2OwotCWludCBwaXBlX251bSwgdG1wLCByZWc7Ci0JaW50IHBpcGVfcGVyY2VudCA9IGFj
cXVpcmUgPyBTUElfV0NMX1BJUEVfUEVSQ0VOVF9HRlhfX1ZBTFVFX01BU0sgOiAweDE7Ci0KLQlw
aXBlX251bSA9IHJpbmctPm1lICogYWRldi0+Z2Z4Lm1lYy5udW1fcGlwZV9wZXJfbWVjICsgcmlu
Zy0+cGlwZTsKLQotCS8qIGZpcnN0IG1lIG9ubHkgaGFzIDIgZW50cmllcywgR0ZYIGFuZCBIUDNE
ICovCi0JaWYgKHJpbmctPm1lID4gMCkKLQkJcGlwZV9udW0gLT0gMjsKLQotCXJlZyA9IG1tU1BJ
X1dDTF9QSVBFX1BFUkNFTlRfR0ZYICsgcGlwZV9udW07Ci0JdG1wID0gUlJFRzMyKHJlZyk7Ci0J
dG1wID0gUkVHX1NFVF9GSUVMRCh0bXAsIFNQSV9XQ0xfUElQRV9QRVJDRU5UX0dGWCwgVkFMVUUs
IHBpcGVfcGVyY2VudCk7Ci0JV1JFRzMyKHJlZywgdG1wKTsKLX0KLQotc3RhdGljIHZvaWQgZ2Z4
X3Y4XzBfcGlwZV9yZXNlcnZlX3Jlc291cmNlcyhzdHJ1Y3QgYW1kZ3B1X2RldmljZSAqYWRldiwK
LQkJCQkJICAgIHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywKLQkJCQkJICAgIGJvb2wgYWNxdWly
ZSkKLXsKLQlpbnQgaSwgcGlwZTsKLQlib29sIHJlc2VydmU7Ci0Jc3RydWN0IGFtZGdwdV9yaW5n
ICppcmluZzsKLQotCW11dGV4X2xvY2soJmFkZXYtPmdmeC5waXBlX3Jlc2VydmVfbXV0ZXgpOwot
CXBpcGUgPSBhbWRncHVfZ2Z4X21lY19xdWV1ZV90b19iaXQoYWRldiwgcmluZy0+bWUsIHJpbmct
PnBpcGUsIDApOwotCWlmIChhY3F1aXJlKQotCQlzZXRfYml0KHBpcGUsIGFkZXYtPmdmeC5waXBl
X3Jlc2VydmVfYml0bWFwKTsKLQllbHNlCi0JCWNsZWFyX2JpdChwaXBlLCBhZGV2LT5nZngucGlw
ZV9yZXNlcnZlX2JpdG1hcCk7Ci0KLQlpZiAoIWJpdG1hcF93ZWlnaHQoYWRldi0+Z2Z4LnBpcGVf
cmVzZXJ2ZV9iaXRtYXAsIEFNREdQVV9NQVhfQ09NUFVURV9RVUVVRVMpKSB7Ci0JCS8qIENsZWFy
IGFsbCByZXNlcnZhdGlvbnMgLSBldmVyeW9uZSByZWFjcXVpcmVzIGFsbCByZXNvdXJjZXMgKi8K
LQkJZm9yIChpID0gMDsgaSA8IGFkZXYtPmdmeC5udW1fZ2Z4X3JpbmdzOyArK2kpCi0JCQlnZnhf
djhfMF9yaW5nX3NldF9waXBlX3BlcmNlbnQoJmFkZXYtPmdmeC5nZnhfcmluZ1tpXSwKLQkJCQkJ
CSAgICAgICB0cnVlKTsKLQotCQlmb3IgKGkgPSAwOyBpIDwgYWRldi0+Z2Z4Lm51bV9jb21wdXRl
X3JpbmdzOyArK2kpCi0JCQlnZnhfdjhfMF9yaW5nX3NldF9waXBlX3BlcmNlbnQoJmFkZXYtPmdm
eC5jb21wdXRlX3JpbmdbaV0sCi0JCQkJCQkgICAgICAgdHJ1ZSk7Ci0JfSBlbHNlIHsKLQkJLyog
TG93ZXIgYWxsIHBpcGVzIHdpdGhvdXQgYSBjdXJyZW50IHJlc2VydmF0aW9uICovCi0JCWZvciAo
aSA9IDA7IGkgPCBhZGV2LT5nZngubnVtX2dmeF9yaW5nczsgKytpKSB7Ci0JCQlpcmluZyA9ICZh
ZGV2LT5nZnguZ2Z4X3JpbmdbaV07Ci0JCQlwaXBlID0gYW1kZ3B1X2dmeF9tZWNfcXVldWVfdG9f
Yml0KGFkZXYsCi0JCQkJCQkJICAgaXJpbmctPm1lLAotCQkJCQkJCSAgIGlyaW5nLT5waXBlLAot
CQkJCQkJCSAgIDApOwotCQkJcmVzZXJ2ZSA9IHRlc3RfYml0KHBpcGUsIGFkZXYtPmdmeC5waXBl
X3Jlc2VydmVfYml0bWFwKTsKLQkJCWdmeF92OF8wX3Jpbmdfc2V0X3BpcGVfcGVyY2VudChpcmlu
ZywgcmVzZXJ2ZSk7Ci0JCX0KLQotCQlmb3IgKGkgPSAwOyBpIDwgYWRldi0+Z2Z4Lm51bV9jb21w
dXRlX3JpbmdzOyArK2kpIHsKLQkJCWlyaW5nID0gJmFkZXYtPmdmeC5jb21wdXRlX3JpbmdbaV07
Ci0JCQlwaXBlID0gYW1kZ3B1X2dmeF9tZWNfcXVldWVfdG9fYml0KGFkZXYsCi0JCQkJCQkJICAg
aXJpbmctPm1lLAotCQkJCQkJCSAgIGlyaW5nLT5waXBlLAotCQkJCQkJCSAgIDApOwotCQkJcmVz
ZXJ2ZSA9IHRlc3RfYml0KHBpcGUsIGFkZXYtPmdmeC5waXBlX3Jlc2VydmVfYml0bWFwKTsKLQkJ
CWdmeF92OF8wX3Jpbmdfc2V0X3BpcGVfcGVyY2VudChpcmluZywgcmVzZXJ2ZSk7Ci0JCX0KLQl9
Ci0KLQltdXRleF91bmxvY2soJmFkZXYtPmdmeC5waXBlX3Jlc2VydmVfbXV0ZXgpOwotfQotCi1z
dGF0aWMgdm9pZCBnZnhfdjhfMF9ocWRfc2V0X3ByaW9yaXR5KHN0cnVjdCBhbWRncHVfZGV2aWNl
ICphZGV2LAotCQkJCSAgICAgIHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywKLQkJCQkgICAgICBi
b29sIGFjcXVpcmUpCi17Ci0JdWludDMyX3QgcGlwZV9wcmlvcml0eSA9IGFjcXVpcmUgPyAweDIg
OiAweDA7Ci0JdWludDMyX3QgcXVldWVfcHJpb3JpdHkgPSBhY3F1aXJlID8gMHhmIDogMHgwOwot
Ci0JbXV0ZXhfbG9jaygmYWRldi0+c3JibV9tdXRleCk7Ci0Jdmlfc3JibV9zZWxlY3QoYWRldiwg
cmluZy0+bWUsIHJpbmctPnBpcGUsIHJpbmctPnF1ZXVlLCAwKTsKLQotCVdSRUczMihtbUNQX0hR
RF9QSVBFX1BSSU9SSVRZLCBwaXBlX3ByaW9yaXR5KTsKLQlXUkVHMzIobW1DUF9IUURfUVVFVUVf
UFJJT1JJVFksIHF1ZXVlX3ByaW9yaXR5KTsKLQotCXZpX3NyYm1fc2VsZWN0KGFkZXYsIDAsIDAs
IDAsIDApOwotCW11dGV4X3VubG9jaygmYWRldi0+c3JibV9tdXRleCk7Ci19Ci1zdGF0aWMgdm9p
ZCBnZnhfdjhfMF9yaW5nX3NldF9wcmlvcml0eV9jb21wdXRlKHN0cnVjdCBhbWRncHVfcmluZyAq
cmluZywKLQkJCQkJICAgICAgIGVudW0gZHJtX3NjaGVkX3ByaW9yaXR5IHByaW9yaXR5KQotewot
CXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gcmluZy0+YWRldjsKLQlib29sIGFjcXVpcmUg
PSBwcmlvcml0eSA9PSBEUk1fU0NIRURfUFJJT1JJVFlfSElHSF9IVzsKLQotCWlmIChyaW5nLT5m
dW5jcy0+dHlwZSAhPSBBTURHUFVfUklOR19UWVBFX0NPTVBVVEUpCi0JCXJldHVybjsKLQotCWdm
eF92OF8wX2hxZF9zZXRfcHJpb3JpdHkoYWRldiwgcmluZywgYWNxdWlyZSk7Ci0JZ2Z4X3Y4XzBf
cGlwZV9yZXNlcnZlX3Jlc291cmNlcyhhZGV2LCByaW5nLCBhY3F1aXJlKTsKLX0KLQogc3RhdGlj
IHZvaWQgZ2Z4X3Y4XzBfcmluZ19lbWl0X2ZlbmNlX2NvbXB1dGUoc3RydWN0IGFtZGdwdV9yaW5n
ICpyaW5nLAogCQkJCQkgICAgIHU2NCBhZGRyLCB1NjQgc2VxLAogCQkJCQkgICAgIHVuc2lnbmVk
IGZsYWdzKQpAQCAtNzAwNSw3ICs2OTA3LDYgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBhbWRncHVf
cmluZ19mdW5jcyBnZnhfdjhfMF9yaW5nX2Z1bmNzX2NvbXB1dGUgPSB7CiAJLnRlc3RfaWIgPSBn
ZnhfdjhfMF9yaW5nX3Rlc3RfaWIsCiAJLmluc2VydF9ub3AgPSBhbWRncHVfcmluZ19pbnNlcnRf
bm9wLAogCS5wYWRfaWIgPSBhbWRncHVfcmluZ19nZW5lcmljX3BhZF9pYiwKLQkuc2V0X3ByaW9y
aXR5ID0gZ2Z4X3Y4XzBfcmluZ19zZXRfcHJpb3JpdHlfY29tcHV0ZSwKIAkuZW1pdF93cmVnID0g
Z2Z4X3Y4XzBfcmluZ19lbWl0X3dyZWcsCiB9OwogCmRpZmYgLS1naXQgYS9kcml2ZXJzL2dwdS9k
cm0vYW1kL2FtZGdwdS9nZnhfdjlfMC5jIGIvZHJpdmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4
X3Y5XzAuYwppbmRleCBlZjI2M2QwNzVlMDYuLmEyN2IxOGQ1OGFjYSAxMDA2NDQKLS0tIGEvZHJp
dmVycy9ncHUvZHJtL2FtZC9hbWRncHUvZ2Z4X3Y5XzAuYworKysgYi9kcml2ZXJzL2dwdS9kcm0v
YW1kL2FtZGdwdS9nZnhfdjlfMC5jCkBAIC01MTMwLDEwNSArNTEzMCw2IEBAIHN0YXRpYyB1NjQg
Z2Z4X3Y5XzBfcmluZ19nZXRfd3B0cl9jb21wdXRlKHN0cnVjdCBhbWRncHVfcmluZyAqcmluZykK
IAlyZXR1cm4gd3B0cjsKIH0KIAotc3RhdGljIHZvaWQgZ2Z4X3Y5XzBfcmluZ19zZXRfcGlwZV9w
ZXJjZW50KHN0cnVjdCBhbWRncHVfcmluZyAqcmluZywKLQkJCQkJICAgYm9vbCBhY3F1aXJlKQot
ewotCXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gcmluZy0+YWRldjsKLQlpbnQgcGlwZV9u
dW0sIHRtcCwgcmVnOwotCWludCBwaXBlX3BlcmNlbnQgPSBhY3F1aXJlID8gU1BJX1dDTF9QSVBF
X1BFUkNFTlRfR0ZYX19WQUxVRV9NQVNLIDogMHgxOwotCi0JcGlwZV9udW0gPSByaW5nLT5tZSAq
IGFkZXYtPmdmeC5tZWMubnVtX3BpcGVfcGVyX21lYyArIHJpbmctPnBpcGU7Ci0KLQkvKiBmaXJz
dCBtZSBvbmx5IGhhcyAyIGVudHJpZXMsIEdGWCBhbmQgSFAzRCAqLwotCWlmIChyaW5nLT5tZSA+
IDApCi0JCXBpcGVfbnVtIC09IDI7Ci0KLQlyZWcgPSBTT0MxNV9SRUdfT0ZGU0VUKEdDLCAwLCBt
bVNQSV9XQ0xfUElQRV9QRVJDRU5UX0dGWCkgKyBwaXBlX251bTsKLQl0bXAgPSBSUkVHMzIocmVn
KTsKLQl0bXAgPSBSRUdfU0VUX0ZJRUxEKHRtcCwgU1BJX1dDTF9QSVBFX1BFUkNFTlRfR0ZYLCBW
QUxVRSwgcGlwZV9wZXJjZW50KTsKLQlXUkVHMzIocmVnLCB0bXApOwotfQotCi1zdGF0aWMgdm9p
ZCBnZnhfdjlfMF9waXBlX3Jlc2VydmVfcmVzb3VyY2VzKHN0cnVjdCBhbWRncHVfZGV2aWNlICph
ZGV2LAotCQkJCQkgICAgc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLAotCQkJCQkgICAgYm9vbCBh
Y3F1aXJlKQotewotCWludCBpLCBwaXBlOwotCWJvb2wgcmVzZXJ2ZTsKLQlzdHJ1Y3QgYW1kZ3B1
X3JpbmcgKmlyaW5nOwotCi0JbXV0ZXhfbG9jaygmYWRldi0+Z2Z4LnBpcGVfcmVzZXJ2ZV9tdXRl
eCk7Ci0JcGlwZSA9IGFtZGdwdV9nZnhfbWVjX3F1ZXVlX3RvX2JpdChhZGV2LCByaW5nLT5tZSwg
cmluZy0+cGlwZSwgMCk7Ci0JaWYgKGFjcXVpcmUpCi0JCXNldF9iaXQocGlwZSwgYWRldi0+Z2Z4
LnBpcGVfcmVzZXJ2ZV9iaXRtYXApOwotCWVsc2UKLQkJY2xlYXJfYml0KHBpcGUsIGFkZXYtPmdm
eC5waXBlX3Jlc2VydmVfYml0bWFwKTsKLQotCWlmICghYml0bWFwX3dlaWdodChhZGV2LT5nZngu
cGlwZV9yZXNlcnZlX2JpdG1hcCwgQU1ER1BVX01BWF9DT01QVVRFX1FVRVVFUykpIHsKLQkJLyog
Q2xlYXIgYWxsIHJlc2VydmF0aW9ucyAtIGV2ZXJ5b25lIHJlYWNxdWlyZXMgYWxsIHJlc291cmNl
cyAqLwotCQlmb3IgKGkgPSAwOyBpIDwgYWRldi0+Z2Z4Lm51bV9nZnhfcmluZ3M7ICsraSkKLQkJ
CWdmeF92OV8wX3Jpbmdfc2V0X3BpcGVfcGVyY2VudCgmYWRldi0+Z2Z4LmdmeF9yaW5nW2ldLAot
CQkJCQkJICAgICAgIHRydWUpOwotCi0JCWZvciAoaSA9IDA7IGkgPCBhZGV2LT5nZngubnVtX2Nv
bXB1dGVfcmluZ3M7ICsraSkKLQkJCWdmeF92OV8wX3Jpbmdfc2V0X3BpcGVfcGVyY2VudCgmYWRl
di0+Z2Z4LmNvbXB1dGVfcmluZ1tpXSwKLQkJCQkJCSAgICAgICB0cnVlKTsKLQl9IGVsc2Ugewot
CQkvKiBMb3dlciBhbGwgcGlwZXMgd2l0aG91dCBhIGN1cnJlbnQgcmVzZXJ2YXRpb24gKi8KLQkJ
Zm9yIChpID0gMDsgaSA8IGFkZXYtPmdmeC5udW1fZ2Z4X3JpbmdzOyArK2kpIHsKLQkJCWlyaW5n
ID0gJmFkZXYtPmdmeC5nZnhfcmluZ1tpXTsKLQkJCXBpcGUgPSBhbWRncHVfZ2Z4X21lY19xdWV1
ZV90b19iaXQoYWRldiwKLQkJCQkJCQkgICBpcmluZy0+bWUsCi0JCQkJCQkJICAgaXJpbmctPnBp
cGUsCi0JCQkJCQkJICAgMCk7Ci0JCQlyZXNlcnZlID0gdGVzdF9iaXQocGlwZSwgYWRldi0+Z2Z4
LnBpcGVfcmVzZXJ2ZV9iaXRtYXApOwotCQkJZ2Z4X3Y5XzBfcmluZ19zZXRfcGlwZV9wZXJjZW50
KGlyaW5nLCByZXNlcnZlKTsKLQkJfQotCi0JCWZvciAoaSA9IDA7IGkgPCBhZGV2LT5nZngubnVt
X2NvbXB1dGVfcmluZ3M7ICsraSkgewotCQkJaXJpbmcgPSAmYWRldi0+Z2Z4LmNvbXB1dGVfcmlu
Z1tpXTsKLQkJCXBpcGUgPSBhbWRncHVfZ2Z4X21lY19xdWV1ZV90b19iaXQoYWRldiwKLQkJCQkJ
CQkgICBpcmluZy0+bWUsCi0JCQkJCQkJICAgaXJpbmctPnBpcGUsCi0JCQkJCQkJICAgMCk7Ci0J
CQlyZXNlcnZlID0gdGVzdF9iaXQocGlwZSwgYWRldi0+Z2Z4LnBpcGVfcmVzZXJ2ZV9iaXRtYXAp
OwotCQkJZ2Z4X3Y5XzBfcmluZ19zZXRfcGlwZV9wZXJjZW50KGlyaW5nLCByZXNlcnZlKTsKLQkJ
fQotCX0KLQotCW11dGV4X3VubG9jaygmYWRldi0+Z2Z4LnBpcGVfcmVzZXJ2ZV9tdXRleCk7Ci19
Ci0KLXN0YXRpYyB2b2lkIGdmeF92OV8wX2hxZF9zZXRfcHJpb3JpdHkoc3RydWN0IGFtZGdwdV9k
ZXZpY2UgKmFkZXYsCi0JCQkJICAgICAgc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLAotCQkJCSAg
ICAgIGJvb2wgYWNxdWlyZSkKLXsKLQl1aW50MzJfdCBwaXBlX3ByaW9yaXR5ID0gYWNxdWlyZSA/
IDB4MiA6IDB4MDsKLQl1aW50MzJfdCBxdWV1ZV9wcmlvcml0eSA9IGFjcXVpcmUgPyAweGYgOiAw
eDA7Ci0KLQltdXRleF9sb2NrKCZhZGV2LT5zcmJtX211dGV4KTsKLQlzb2MxNV9ncmJtX3NlbGVj
dChhZGV2LCByaW5nLT5tZSwgcmluZy0+cGlwZSwgcmluZy0+cXVldWUsIDApOwotCi0JV1JFRzMy
X1NPQzE1X1JMQyhHQywgMCwgbW1DUF9IUURfUElQRV9QUklPUklUWSwgcGlwZV9wcmlvcml0eSk7
Ci0JV1JFRzMyX1NPQzE1X1JMQyhHQywgMCwgbW1DUF9IUURfUVVFVUVfUFJJT1JJVFksIHF1ZXVl
X3ByaW9yaXR5KTsKLQotCXNvYzE1X2dyYm1fc2VsZWN0KGFkZXYsIDAsIDAsIDAsIDApOwotCW11
dGV4X3VubG9jaygmYWRldi0+c3JibV9tdXRleCk7Ci19Ci0KLXN0YXRpYyB2b2lkIGdmeF92OV8w
X3Jpbmdfc2V0X3ByaW9yaXR5X2NvbXB1dGUoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nLAotCQkJ
CQkgICAgICAgZW51bSBkcm1fc2NoZWRfcHJpb3JpdHkgcHJpb3JpdHkpCi17Ci0Jc3RydWN0IGFt
ZGdwdV9kZXZpY2UgKmFkZXYgPSByaW5nLT5hZGV2OwotCWJvb2wgYWNxdWlyZSA9IHByaW9yaXR5
ID09IERSTV9TQ0hFRF9QUklPUklUWV9ISUdIX0hXOwotCi0JaWYgKHJpbmctPmZ1bmNzLT50eXBl
ICE9IEFNREdQVV9SSU5HX1RZUEVfQ09NUFVURSkKLQkJcmV0dXJuOwotCi0JZ2Z4X3Y5XzBfaHFk
X3NldF9wcmlvcml0eShhZGV2LCByaW5nLCBhY3F1aXJlKTsKLQlnZnhfdjlfMF9waXBlX3Jlc2Vy
dmVfcmVzb3VyY2VzKGFkZXYsIHJpbmcsIGFjcXVpcmUpOwotfQotCiBzdGF0aWMgdm9pZCBnZnhf
djlfMF9yaW5nX3NldF93cHRyX2NvbXB1dGUoc3RydWN0IGFtZGdwdV9yaW5nICpyaW5nKQogewog
CXN0cnVjdCBhbWRncHVfZGV2aWNlICphZGV2ID0gcmluZy0+YWRldjsKQEAgLTY1OTksNyArNjUw
MCw2IEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgYW1kZ3B1X3JpbmdfZnVuY3MgZ2Z4X3Y5XzBfcmlu
Z19mdW5jc19jb21wdXRlID0gewogCS50ZXN0X2liID0gZ2Z4X3Y5XzBfcmluZ190ZXN0X2liLAog
CS5pbnNlcnRfbm9wID0gYW1kZ3B1X3JpbmdfaW5zZXJ0X25vcCwKIAkucGFkX2liID0gYW1kZ3B1
X3JpbmdfZ2VuZXJpY19wYWRfaWIsCi0JLnNldF9wcmlvcml0eSA9IGdmeF92OV8wX3Jpbmdfc2V0
X3ByaW9yaXR5X2NvbXB1dGUsCiAJLmVtaXRfd3JlZyA9IGdmeF92OV8wX3JpbmdfZW1pdF93cmVn
LAogCS5lbWl0X3JlZ193YWl0ID0gZ2Z4X3Y5XzBfcmluZ19lbWl0X3JlZ193YWl0LAogCS5lbWl0
X3JlZ193cml0ZV9yZWdfd2FpdCA9IGdmeF92OV8wX3JpbmdfZW1pdF9yZWdfd3JpdGVfcmVnX3dh
aXQsCi0tIAoyLjI1LjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fCmFtZC1nZnggbWFpbGluZyBsaXN0CmFtZC1nZnhAbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
Cmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vYW1kLWdmeAo=
